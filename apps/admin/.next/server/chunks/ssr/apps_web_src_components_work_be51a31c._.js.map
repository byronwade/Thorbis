{"version":3,"sources":["turbopack:///[project]/apps/web/src/components/ui/shadcn-io/kanban/index.tsx","turbopack:///[project]/apps/web/src/components/ui/entity-kanban.tsx","turbopack:///[project]/apps/web/src/components/work/jobs-kanban.tsx","turbopack:///[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/src/icons/calendar-days.ts","turbopack:///[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/src/icons/briefcase-business.ts","turbopack:///[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/src/icons/arrow-up-right.ts","turbopack:///[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/src/icons/map-pin.ts","turbopack:///[project]/apps/web/src/components/work/jobs-table.tsx","turbopack:///[project]/apps/admin/src/components/ui/alert-dialog.tsx","turbopack:///[project]/apps/web/src/components/work/customer-preview-card.tsx","turbopack:///[project]/apps/web/src/lib/stores/archive-store.ts","turbopack:///[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/src/icons/info.ts","turbopack:///[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/src/icons/briefcase.ts","turbopack:///[project]/apps/web/src/lib/utils/customer-display.ts","turbopack:///[project]/apps/web/src/components/work/work-data-view.tsx","turbopack:///[project]/apps/web/src/lib/stores/work-view-store.ts"],"sourcesContent":["\"use client\";\n\nimport {\n\tclosestCorners,\n\tDndContext,\n\ttype DragEndEvent,\n\tDragOverlay,\n\ttype DragStartEvent,\n\tKeyboardSensor,\n\tPointerSensor,\n\ttype PointerSensorOptions,\n\ttype UniqueIdentifier,\n\tuseDroppable,\n\tuseSensor,\n\tuseSensors,\n} from \"@dnd-kit/core\";\nimport {\n\tSortableContext,\n\tsortableKeyboardCoordinates,\n\tuseSortable,\n\tverticalListSortingStrategy,\n} from \"@dnd-kit/sortable\";\nimport { CSS } from \"@dnd-kit/utilities\";\nimport { Card, cn, ScrollArea } from \"@stratos/ui\";\nimport type { ReactNode } from \"react\";\nimport {\n\tcreateContext,\n\tuseCallback,\n\tuseContext,\n\tuseEffect,\n\tuseMemo,\n\tuseRef,\n\tuseState,\n} from \"react\";\n\nexport type KanbanColumn = {\n\tid: string;\n\tname: string;\n\taccentColor?: string;\n};\n\nexport type KanbanItemBase = {\n\tid: string;\n\tcolumnId: string;\n\tposition?: number;\n};\n\nexport type KanbanMoveEvent<T extends KanbanItemBase> = {\n\titem: T;\n\tfromColumnId: string;\n\ttoColumnId: string;\n\ttoIndex: number;\n};\n\ntype KanbanProviderProps<T extends KanbanItemBase> = {\n\tcolumns: KanbanColumn[];\n\tdata: T[];\n\tonDataChange?: (items: T[]) => void;\n\tonItemMove?: (event: KanbanMoveEvent<T>) => void | Promise<void>;\n\tgetColumnId?: (item: T) => string;\n\tchildren: ReactNode;\n\tclassName?: string;\n\tpointerSensorOptions?: PointerSensorOptions;\n\trenderDragOverlay?: (item: T) => ReactNode;\n};\n\ntype KanbanContextValue<T extends KanbanItemBase> = {\n\tcolumns: KanbanColumn[];\n\tgetItems: (columnId: string) => T[];\n\tfindItem: (\n\t\tid: UniqueIdentifier,\n\t) => { item: T; columnId: string; index: number } | null;\n\tactiveItem: { item: T; columnId: string } | null;\n};\n\nconst KanbanContext = createContext<KanbanContextValue<KanbanItemBase> | null>(\n\tnull,\n);\n\nconst KanbanColumnContext = createContext<KanbanColumn | null>(null);\n\nconst COLUMN_DROPPABLE_PREFIX = \"kanban-column-\";\n\nfunction buildState<T extends KanbanItemBase>(\n\tcolumns: KanbanColumn[],\n\tdata: T[],\n\tgetColumnId: (item: T) => string,\n) {\n\tconst initialState = Object.fromEntries(\n\t\tcolumns.map((column) => [column.id, [] as T[]]),\n\t);\n\n\treturn data.reduce<Record<string, T[]>>((state, item) => {\n\t\tconst columnId = getColumnId(item);\n\t\tif (!state[columnId]) {\n\t\t\tstate[columnId] = [];\n\t\t}\n\n\t\tstate[columnId] = [...state[columnId], item];\n\t\treturn state;\n\t}, initialState);\n}\n\nfunction flattenState<T extends KanbanItemBase>(\n\tcolumns: KanbanColumn[],\n\tstate: Record<string, T[]>,\n) {\n\treturn columns.flatMap((column) => state[column.id] ?? []);\n}\n\nfunction cloneState<T extends KanbanItemBase>(\n\tstate: Record<string, T[]>,\n): Record<string, T[]> {\n\treturn Object.fromEntries(\n\t\tObject.entries(state).map(([columnId, items]) => [columnId, items.slice()]),\n\t);\n}\n\nexport function KanbanProvider<T extends KanbanItemBase>({\n\tcolumns,\n\tdata,\n\tonDataChange,\n\tonItemMove,\n\tgetColumnId,\n\tchildren,\n\tclassName,\n\tpointerSensorOptions,\n\trenderDragOverlay,\n}: KanbanProviderProps<T>) {\n\tconst columnIdGetter = useCallback(\n\t\tgetColumnId ?? ((item: T) => item.columnId),\n\t\t[],\n\t);\n\tconst [itemsByColumn, setItemsByColumn] = useState<Record<string, T[]>>(() =>\n\t\tbuildState(columns, data, columnIdGetter),\n\t);\n\tconst [activeItem, setActiveItem] = useState<{\n\t\titem: T;\n\t\tcolumnId: string;\n\t} | null>(null);\n\tconst latestColumnsRef = useRef(columns);\n\n\tuseEffect(() => {\n\t\tlatestColumnsRef.current = columns;\n\t}, [columns]);\n\n\tuseEffect(() => {\n\t\tsetItemsByColumn(buildState(columns, data, columnIdGetter));\n\t}, [columns, data, columnIdGetter]);\n\n\tconst sensors = useSensors(\n\t\tuseSensor(PointerSensor, {\n\t\t\tactivationConstraint: {\n\t\t\t\tdistance: 6,\n\t\t\t},\n\t\t\t...pointerSensorOptions,\n\t\t}),\n\t\tuseSensor(KeyboardSensor, {\n\t\t\tcoordinateGetter: sortableKeyboardCoordinates,\n\t\t}),\n\t);\n\n\tconst findItem = useCallback(\n\t\t(id: UniqueIdentifier) => {\n\t\t\tfor (const column of latestColumnsRef.current) {\n\t\t\t\tconst items = itemsByColumn[column.id] ?? [];\n\t\t\t\tconst index = items.findIndex((item) => item.id === id);\n\t\t\t\tif (index !== -1) {\n\t\t\t\t\treturn { columnId: column.id, item: items[index], index };\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn null;\n\t\t},\n\t\t[itemsByColumn],\n\t);\n\n\tconst handleDragStart = useCallback(\n\t\t(event: DragStartEvent) => {\n\t\t\tconst result = findItem(event.active.id);\n\t\t\tif (result) {\n\t\t\t\tsetActiveItem({ item: result.item, columnId: result.columnId });\n\t\t\t}\n\t\t},\n\t\t[findItem],\n\t);\n\n\tconst handleDragEnd = useCallback(\n\t\t(event: DragEndEvent) => {\n\t\t\tconst { active, over } = event;\n\t\t\tsetActiveItem(null);\n\n\t\t\tif (!over) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst origin = findItem(active.id);\n\t\t\tif (!origin) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet destinationColumnId: string | null = null;\n\t\t\tlet destinationIndex: number | null = null;\n\n\t\t\tif (\n\t\t\t\ttypeof over.id === \"string\" &&\n\t\t\t\tover.id.startsWith(COLUMN_DROPPABLE_PREFIX)\n\t\t\t) {\n\t\t\t\tdestinationColumnId = over.id.replace(COLUMN_DROPPABLE_PREFIX, \"\");\n\t\t\t\tdestinationIndex = (itemsByColumn[destinationColumnId] ?? []).length;\n\t\t\t} else {\n\t\t\t\tconst destination = findItem(over.id);\n\t\t\t\tif (destination) {\n\t\t\t\t\tdestinationColumnId = destination.columnId;\n\t\t\t\t\tconst columnItems = itemsByColumn[destination.columnId] ?? [];\n\t\t\t\t\tdestinationIndex = columnItems.findIndex(\n\t\t\t\t\t\t(item) => item.id === destination.item.id,\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tdestinationColumnId === null ||\n\t\t\t\tdestinationIndex === null ||\n\t\t\t\t(destinationColumnId === origin.columnId &&\n\t\t\t\t\tdestinationIndex === origin.index)\n\t\t\t) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst updatedState = cloneState(itemsByColumn);\n\t\t\tconst originItems = updatedState[origin.columnId] ?? [];\n\t\t\tconst [movedItem] = originItems.splice(origin.index, 1);\n\t\t\tupdatedState[origin.columnId] = originItems;\n\n\t\t\tconst destinationItems = updatedState[destinationColumnId] ?? [];\n\t\t\tconst insertIndex =\n\t\t\t\torigin.columnId === destinationColumnId &&\n\t\t\t\torigin.index < destinationIndex\n\t\t\t\t\t? destinationIndex - 1\n\t\t\t\t\t: destinationIndex;\n\n\t\t\tconst updatedItem = {\n\t\t\t\t...movedItem,\n\t\t\t\tcolumnId: destinationColumnId,\n\t\t\t};\n\n\t\t\tdestinationItems.splice(insertIndex, 0, updatedItem);\n\t\t\tupdatedState[destinationColumnId] = destinationItems;\n\n\t\t\tsetItemsByColumn(updatedState);\n\n\t\t\tconst flattened = flattenState(latestColumnsRef.current, updatedState);\n\t\t\tonDataChange?.(flattened);\n\n\t\t\tif (onItemMove) {\n\t\t\t\tonItemMove({\n\t\t\t\t\titem: updatedItem,\n\t\t\t\t\tfromColumnId: origin.columnId,\n\t\t\t\t\ttoColumnId: destinationColumnId,\n\t\t\t\t\ttoIndex: insertIndex,\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\t[findItem, itemsByColumn, onDataChange, onItemMove],\n\t);\n\n\tconst contextValue = useMemo<KanbanContextValue<T>>(\n\t\t() => ({\n\t\t\tcolumns,\n\t\t\tgetItems: (columnId: string) => itemsByColumn[columnId] ?? [],\n\t\t\tfindItem,\n\t\t\tactiveItem,\n\t\t}),\n\t\t[columns, itemsByColumn, findItem, activeItem],\n\t);\n\n\treturn (\n\t\t<KanbanContext.Provider\n\t\t\tvalue={contextValue as KanbanContextValue<KanbanItemBase>}\n\t\t>\n\t\t\t<DndContext\n\t\t\t\tcollisionDetection={closestCorners}\n\t\t\t\tonDragCancel={() => setActiveItem(null)}\n\t\t\t\tonDragEnd={handleDragEnd}\n\t\t\t\tonDragStart={handleDragStart}\n\t\t\t\tsensors={sensors}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\"flex w-full gap-4 overflow-x-auto px-6 py-4 md:px-8 lg:px-10\",\n\t\t\t\t\t\tclassName,\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{children}\n\t\t\t\t</div>\n\t\t\t\t<DragOverlay>\n\t\t\t\t\t{activeItem ? (\n\t\t\t\t\t\trenderDragOverlay ? (\n\t\t\t\t\t\t\trenderDragOverlay(activeItem.item)\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Card className=\"border-border/70 bg-background/95 w-[280px] max-w-[320px] border p-3 shadow-lg\">\n\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t{String(activeItem.item.id)}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t)\n\t\t\t\t\t) : null}\n\t\t\t\t</DragOverlay>\n\t\t\t</DndContext>\n\t\t</KanbanContext.Provider>\n\t);\n}\n\nfunction useKanbanContext<T extends KanbanItemBase>() {\n\tconst context = useContext(KanbanContext) as KanbanContextValue<T> | null;\n\n\tif (!context) {\n\t\tthrow new Error(\"useKanbanContext must be used within a KanbanProvider\");\n\t}\n\n\treturn context;\n}\n\nexport type KanbanBoardProps = {\n\tcolumn: KanbanColumn;\n\tchildren: ReactNode;\n\tclassName?: string;\n};\n\nexport function KanbanBoard({ column, children, className }: KanbanBoardProps) {\n\treturn (\n\t\t<KanbanColumnContext.Provider value={column}>\n\t\t\t<section\n\t\t\t\taria-label={`${column.name} column`}\n\t\t\t\tclassName={cn(\n\t\t\t\t\t\"kanban-column border-border/60 from-background via-background/60 to-muted/40 flex h-full min-w-[320px] flex-1 flex-col rounded-2xl border bg-gradient-to-b shadow-sm ring-1 ring-black/5 backdrop-blur-sm transition hover:shadow-md\",\n\t\t\t\t\tclassName,\n\t\t\t\t)}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</section>\n\t\t</KanbanColumnContext.Provider>\n\t);\n}\n\nexport type KanbanHeaderProps = {\n\tchildren: ReactNode;\n\tclassName?: string;\n};\n\nexport function KanbanHeader({ children, className }: KanbanHeaderProps) {\n\treturn (\n\t\t<header\n\t\t\tclassName={cn(\n\t\t\t\t\"bg-background/90 sticky top-0 z-10 flex items-center justify-between gap-2 rounded-t-2xl px-4 py-3 backdrop-blur-sm\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t>\n\t\t\t{children}\n\t\t</header>\n\t);\n}\n\nexport type KanbanCardsProps<T extends KanbanItemBase> = {\n\tcolumnId: string;\n\tchildren: (item: T, index: number) => ReactNode;\n\temptyState?: ReactNode;\n\tclassName?: string;\n\theight?: string;\n};\n\nexport function KanbanCards<T extends KanbanItemBase>({\n\tcolumnId,\n\tchildren,\n\temptyState,\n\tclassName,\n\theight = \"28rem\",\n}: KanbanCardsProps<T>) {\n\tconst { getItems } = useKanbanContext<T>();\n\tconst items = getItems(columnId);\n\tconst { setNodeRef, isOver } = useDroppable({\n\t\tid: `${COLUMN_DROPPABLE_PREFIX}${columnId}`,\n\t});\n\n\treturn (\n\t\t<SortableContext\n\t\t\titems={items.map((item) => item.id)}\n\t\t\tstrategy={verticalListSortingStrategy}\n\t\t>\n\t\t\t<ScrollArea className=\"kanban-scroll flex-1\">\n\t\t\t\t<div\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\"kanban-column-cards bg-muted/30 flex min-h-[120px] flex-col gap-3 rounded-2xl p-3 transition\",\n\t\t\t\t\t\tisOver && \"ring-primary/60 ring-2 ring-offset-2\",\n\t\t\t\t\t\tclassName,\n\t\t\t\t\t)}\n\t\t\t\t\tdata-drop-state={isOver ? \"active\" : \"inactive\"}\n\t\t\t\t\tref={setNodeRef}\n\t\t\t\t\tstyle={{ minHeight: height }}\n\t\t\t\t>\n\t\t\t\t\t{items.length === 0 && emptyState}\n\t\t\t\t\t{items.map((item, index) => children(item, index))}\n\t\t\t\t</div>\n\t\t\t</ScrollArea>\n\t\t</SortableContext>\n\t);\n}\n\nexport type KanbanCardProps = {\n\titemId: UniqueIdentifier;\n\tchildren: ReactNode;\n\tclassName?: string;\n};\n\nexport function KanbanCard({ itemId, children, className }: KanbanCardProps) {\n\tconst {\n\t\tattributes,\n\t\tlisteners,\n\t\tsetNodeRef,\n\t\ttransform,\n\t\ttransition,\n\t\tisDragging,\n\t} = useSortable({\n\t\tid: itemId,\n\t});\n\n\tconst style = {\n\t\ttransform: CSS.Transform.toString(transform),\n\t\ttransition,\n\t};\n\n\treturn (\n\t\t<Card\n\t\t\tclassName={cn(\n\t\t\t\t\"border-border/70 bg-background/95 focus-visible:ring-ring grid gap-3 rounded-xl border p-4 text-left shadow-sm ring-0 transition-all outline-none hover:-translate-y-0.5 hover:shadow-md focus-visible:ring-2\",\n\t\t\t\tisDragging && \"border-primary/60 scale-[1.01] opacity-80 shadow-lg\",\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t\tdata-dragging={isDragging ? \"\" : undefined}\n\t\t\tref={setNodeRef}\n\t\t\tstyle={style}\n\t\t\t{...listeners}\n\t\t\t{...attributes}\n\t\t>\n\t\t\t{children}\n\t\t</Card>\n\t);\n}\n\nfunction useKanbanColumn() {\n\tconst context = useContext(KanbanColumnContext);\n\tif (!context) {\n\t\tthrow new Error(\"useKanbanColumn must be used within a KanbanBoard\");\n\t}\n\n\treturn context;\n}\n","/**\n * EntityKanban - Generic Kanban Component\n *\n * Reusable kanban board component that handles common kanban logic.\n * Replaces individual kanban components (JobsKanban, InvoicesKanban, etc.)\n *\n * Features:\n * - Column definitions with status mapping\n * - Drag and drop functionality\n * - Column metadata (counts, totals)\n * - Custom card rendering\n * - Optional status change handler\n */\n\n\"use client\";\n\nimport { Badge } from \"@stratos/ui\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport {\n\tKanbanBoard,\n\tKanbanCard,\n\tKanbanCards,\n\ttype KanbanColumn,\n\tKanbanHeader,\n\ttype KanbanItemBase,\n\ttype KanbanMoveEvent,\n\tKanbanProvider,\n} from \"./shadcn-io/kanban\";\n\nexport type ColumnMeta = {\n\tcount: number;\n\ttotal?: number;\n\tvalue?: number;\n};\n\nexport type EntityKanbanProps<TEntity, TStatus extends string> = {\n\t/** Entity data array */\n\tdata: TEntity[];\n\n\t/** Column definitions */\n\tcolumns: Array<{\n\t\tid: TStatus;\n\t\tname: string;\n\t\taccentColor?: string;\n\t\tbgClass?: string; // Tailwind class for dark mode support (e.g., \"bg-blue-500\")\n\t}>;\n\n\t/** Map entity to kanban item */\n\tmapToKanbanItem: (entity: TEntity) => KanbanItemBase & { entity: TEntity };\n\n\t/** Update entity status when moved */\n\tupdateEntityStatus?: (entity: TEntity, newStatus: TStatus) => TEntity;\n\n\t/** Render card component */\n\trenderCard: (item: KanbanItemBase & { entity: TEntity }) => React.ReactNode;\n\n\t/** Render drag overlay */\n\trenderDragOverlay?: (\n\t\titem: KanbanItemBase & { entity: TEntity },\n\t) => React.ReactNode;\n\n\t/** Calculate column metadata (count, totals) */\n\tcalculateColumnMeta?: (\n\t\tcolumnId: TStatus,\n\t\titems: (KanbanItemBase & { entity: TEntity })[],\n\t) => ColumnMeta;\n\n\t/** Handle item move event */\n\tonItemMove?: (\n\t\tevent: KanbanMoveEvent<KanbanItemBase & { entity: TEntity }>,\n\t) => void | Promise<void>;\n\n\t/** Entity name for empty states (e.g., \"jobs\", \"invoices\") */\n\tentityName?: string;\n\n\t/** Custom empty state message */\n\temptyStateMessage?: (columnName: string) => string;\n\n\t/** Show totals in column headers */\n\tshowTotals?: boolean;\n\n\t/** Format total value */\n\tformatTotal?: (total: number) => string;\n};\n\nexport function EntityKanban<TEntity, TStatus extends string>({\n\tdata,\n\tcolumns,\n\tmapToKanbanItem,\n\tupdateEntityStatus,\n\trenderCard,\n\trenderDragOverlay,\n\tcalculateColumnMeta,\n\tonItemMove,\n\tentityName = \"items\",\n\temptyStateMessage,\n\tshowTotals = false,\n\tformatTotal,\n}: EntityKanbanProps<TEntity, TStatus>) {\n\tconst [items, setItems] = useState<(KanbanItemBase & { entity: TEntity })[]>(\n\t\t() => data.map(mapToKanbanItem),\n\t);\n\n\t// DO NOT sync prop changes - causes infinite re-render loop with array/function props\n\t// Initial state is set from props, updates come from drag-and-drop handlers\n\n\tconst handleDataChange = (next: (KanbanItemBase & { entity: TEntity })[]) => {\n\t\tif (updateEntityStatus) {\n\t\t\tsetItems(\n\t\t\t\tnext.map((item) => ({\n\t\t\t\t\t...item,\n\t\t\t\t\tentity: updateEntityStatus(item.entity, item.columnId as TStatus),\n\t\t\t\t})),\n\t\t\t);\n\t\t} else {\n\t\t\tsetItems(next);\n\t\t}\n\t};\n\n\tconst defaultCalculateColumnMeta = (\n\t\tcolumnId: TStatus,\n\t\titems: (KanbanItemBase & { entity: TEntity })[],\n\t): ColumnMeta => {\n\t\tconst columnItems = items.filter((item) => item.columnId === columnId);\n\t\treturn { count: columnItems.length };\n\t};\n\n\tconst getColumnMeta = calculateColumnMeta || defaultCalculateColumnMeta;\n\n\tconst columnMetaMap = useMemo(() => {\n\t\tconst meta: Record<string, ColumnMeta> = {};\n\t\tcolumns.forEach((column) => {\n\t\t\tmeta[column.id] = getColumnMeta(column.id, items);\n\t\t});\n\t\treturn meta;\n\t}, [columns, items, getColumnMeta]);\n\n\tconst kanbanColumns: (KanbanColumn & { bgClass?: string })[] = useMemo(\n\t\t() =>\n\t\t\tcolumns.map((col) => ({\n\t\t\t\tid: col.id,\n\t\t\t\tname: col.name,\n\t\t\t\taccentColor: col.accentColor,\n\t\t\t\tbgClass: col.bgClass,\n\t\t\t})),\n\t\t[columns],\n\t);\n\n\tconst defaultEmptyState = (columnName: string) =>\n\t\t`No ${entityName} in ${columnName}`;\n\n\tconst getEmptyStateMessage = emptyStateMessage || defaultEmptyState;\n\n\treturn (\n\t\t<KanbanProvider<KanbanItemBase & { entity: TEntity }>\n\t\t\tclassName=\"pb-4\"\n\t\t\tcolumns={kanbanColumns}\n\t\t\tdata={items}\n\t\t\tonDataChange={handleDataChange}\n\t\t\tonItemMove={onItemMove}\n\t\t\trenderDragOverlay={\n\t\t\t\trenderDragOverlay ||\n\t\t\t\t((item) => (\n\t\t\t\t\t<div className=\"border-border/70 bg-background/95 w-[280px] rounded-xl border p-4 shadow-lg\">\n\t\t\t\t\t\t{renderCard(item)}\n\t\t\t\t\t</div>\n\t\t\t\t))\n\t\t\t}\n\t\t>\n\t\t\t{columns.map((column) => {\n\t\t\t\tconst meta = columnMetaMap[column.id] ?? { count: 0 };\n\t\t\t\treturn (\n\t\t\t\t\t<KanbanBoard\n\t\t\t\t\t\tclassName=\"min-h-[300px] flex-1\"\n\t\t\t\t\t\tcolumn={kanbanColumns.find((c) => c.id === column.id)!}\n\t\t\t\t\t\tkey={column.id}\n\t\t\t\t\t>\n\t\t\t\t\t\t<KanbanHeader>\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t\t\t\tclassName={`h-2.5 w-2.5 rounded-full ${column.bgClass || \"\"}`}\n\t\t\t\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\t\t\t\tcolumn.bgClass ? undefined : { backgroundColor: column.accentColor }\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span className=\"text-foreground text-sm font-semibold\">\n\t\t\t\t\t\t\t\t\t{column.name}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\tclassName=\"bg-muted text-muted-foreground rounded-full px-2 py-0 text-xs font-medium\"\n\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{meta.count} {entityName}\n\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t{showTotals && meta.total !== undefined && formatTotal && (\n\t\t\t\t\t\t\t\t\t<span className=\"text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t\t\t\t{formatTotal(meta.total)}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{showTotals && meta.value !== undefined && formatTotal && (\n\t\t\t\t\t\t\t\t\t<span className=\"text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t\t\t\t{formatTotal(meta.value)}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</KanbanHeader>\n\t\t\t\t\t\t<KanbanCards<KanbanItemBase & { entity: TEntity }>\n\t\t\t\t\t\t\tclassName=\"min-h-[200px]\"\n\t\t\t\t\t\t\tcolumnId={column.id}\n\t\t\t\t\t\t\temptyState={\n\t\t\t\t\t\t\t\t<div className=\"border-border/60 bg-background/60 text-muted-foreground rounded-xl border border-dashed p-4 text-center text-xs\">\n\t\t\t\t\t\t\t\t\t{getEmptyStateMessage(column.name)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{(item) => (\n\t\t\t\t\t\t\t\t<KanbanCard itemId={item.id} key={item.id}>\n\t\t\t\t\t\t\t\t\t{renderCard(item)}\n\t\t\t\t\t\t\t\t</KanbanCard>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</KanbanCards>\n\t\t\t\t\t</KanbanBoard>\n\t\t\t\t);\n\t\t\t})}\n\t\t</KanbanProvider>\n\t);\n}\n","\"use client\";\n\nimport {\n\tArrowUpRight,\n\tBriefcaseBusiness,\n\tCalendarDays,\n\tMapPin,\n} from \"lucide-react\";\nimport Link from \"next/link\";\nimport { useTransition } from \"react\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { EntityKanban } from \"@/components/ui/entity-kanban\";\nimport type {\n\tKanbanItemBase,\n\tKanbanMoveEvent,\n} from \"@/components/ui/shadcn-io/kanban\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport type { Job } from \"@/lib/db/schema\";\nimport { formatCurrency, formatDate, formatDateRange } from \"@/lib/formatters\";\nimport { cn } from \"@/lib/utils\";\n\ntype JobStatus =\n\t| \"quoted\"\n\t| \"scheduled\"\n\t| \"in_progress\"\n\t| \"on_hold\"\n\t| \"completed\"\n\t| \"cancelled\";\n\ntype RelatedCustomer = {\n\tfirst_name?: string | null;\n\tlast_name?: string | null;\n\tdisplay_name?: string | null;\n\tcompany_name?: string | null;\n};\n\ntype RelatedProperty = {\n\taddress?: string | null;\n\tcity?: string | null;\n\tstate?: string | null;\n\tzip_code?: string | null;\n};\n\ntype ExtendedJob = Job & {\n\tcustomers?: RelatedCustomer | null;\n\tproperties?: RelatedProperty | null;\n};\n\ntype JobsKanbanItem = KanbanItemBase & { entity: ExtendedJob };\n\ntype JobsKanbanProps = {\n\tjobs: ExtendedJob[];\n};\n\nconst JOB_STATUS_COLUMNS: Array<{\n\tid: JobStatus;\n\tname: string;\n\taccentColor: string;\n}> = [\n\t{ id: \"quoted\", name: \"Quoted\", accentColor: \"#6B7280\" },\n\t{ id: \"scheduled\", name: \"Scheduled\", accentColor: \"#2563EB\" },\n\t{ id: \"in_progress\", name: \"In Progress\", accentColor: \"#F97316\" },\n\t{ id: \"on_hold\", name: \"On Hold\", accentColor: \"#F59E0B\" },\n\t{ id: \"completed\", name: \"Completed\", accentColor: \"#22C55E\" },\n\t{ id: \"cancelled\", name: \"Cancelled\", accentColor: \"#EF4444\" },\n];\n\nconst COLUMN_LABEL = new Map(\n\tJOB_STATUS_COLUMNS.map((column) => [column.id, column.name]),\n);\nconst DEFAULT_STATUS: JobStatus = \"quoted\";\n\nfunction resolveStatus(status: Job[\"status\"] | null | undefined): JobStatus {\n\tif (!status) {\n\t\treturn DEFAULT_STATUS;\n\t}\n\n\tconst normalized = status as JobStatus;\n\treturn COLUMN_LABEL.has(normalized) ? normalized : DEFAULT_STATUS;\n}\n\nfunction formatScheduledRange(job: ExtendedJob) {\n\tif (!job.scheduledStart) {\n\t\treturn null;\n\t}\n\n\treturn formatDateRange(job.scheduledStart, job.scheduledEnd ?? undefined);\n}\n\nfunction getCustomerName(job: ExtendedJob) {\n\tconst customer = job.customers;\n\tif (!customer) {\n\t\treturn \"Unassigned customer\";\n\t}\n\n\tif (customer.display_name) {\n\t\treturn customer.display_name;\n\t}\n\n\tconst nameParts = [customer.first_name, customer.last_name].filter(Boolean);\n\tif (nameParts.length > 0) {\n\t\treturn nameParts.join(\" \");\n\t}\n\n\treturn customer.company_name || \"Unassigned customer\";\n}\n\nfunction getPropertySummary(job: ExtendedJob) {\n\tconst property = job.properties;\n\tif (!property) {\n\t\treturn null;\n\t}\n\n\tconst parts = [property.address];\n\tconst cityState = [property.city, property.state].filter(Boolean).join(\", \");\n\tif (cityState) {\n\t\tparts.push(cityState);\n\t}\n\n\treturn parts.filter(Boolean).join(\" • \");\n}\n\nfunction PriorityBadge({ priority }: { priority: Job[\"priority\"] }) {\n\tconst config: Record<\n\t\tNonNullable<Job[\"priority\"]>,\n\t\t{ label: string; className: string }\n\t> = {\n\t\tlow: {\n\t\t\tlabel: \"Low\",\n\t\t\tclassName:\n\t\t\t\t\"border-primary/60 bg-primary/60 text-primary dark:border-primary/40 dark:bg-primary/40 dark:text-primary\",\n\t\t},\n\t\tmedium: {\n\t\t\tlabel: \"Medium\",\n\t\t\tclassName:\n\t\t\t\t\"border-warning/60 bg-warning/60 text-warning dark:border-warning/40 dark:bg-warning/40 dark:text-warning\",\n\t\t},\n\t\thigh: {\n\t\t\tlabel: \"High\",\n\t\t\tclassName:\n\t\t\t\t\"border-warning/60 bg-warning/60 text-warning dark:border-warning/40 dark:bg-warning/40 dark:text-warning\",\n\t\t},\n\t\turgent: {\n\t\t\tlabel: \"Urgent\",\n\t\t\tclassName:\n\t\t\t\t\"border-destructive/60 bg-destructive/60 text-destructive dark:border-destructive/40 dark:bg-destructive/40 dark:text-destructive\",\n\t\t},\n\t};\n\n\tconst key = (priority ?? \"medium\") as keyof typeof config;\n\tconst { label, className } = config[key];\n\n\treturn (\n\t\t<Badge className={cn(\"text-xs font-medium\", className)} variant=\"outline\">\n\t\t\t{label}\n\t\t</Badge>\n\t);\n}\n\nfunction JobCardContent({ item }: { item: JobsKanbanItem }) {\n\tconst job = item.entity;\n\tconst columnId = item.columnId as JobStatus | undefined;\n\tconst scheduledRange = formatScheduledRange(job);\n\tconst propertySummary = getPropertySummary(job);\n\n\treturn (\n\t\t<div className=\"space-y-3\">\n\t\t\t<div className=\"flex items-start justify-between gap-3\">\n\t\t\t\t<div className=\"space-y-1\">\n\t\t\t\t\t<Link\n\t\t\t\t\t\tclassName=\"text-muted-foreground hover:text-primary block text-xs font-semibold tracking-wide uppercase\"\n\t\t\t\t\t\thref={`/dashboard/work/${job.id}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t{String(job.jobNumber ?? \"—\")}\n\t\t\t\t\t</Link>\n\t\t\t\t\t<h3 className=\"text-foreground text-sm leading-snug font-semibold\">\n\t\t\t\t\t\t{job.title ?? \"Untitled Job\"}\n\t\t\t\t\t</h3>\n\t\t\t\t\t<div className=\"flex flex-wrap items-center gap-2\">\n\t\t\t\t\t\t{job.jobType && (\n\t\t\t\t\t\t\t<Badge className=\"bg-primary/10 text-primary\" variant=\"secondary\">\n\t\t\t\t\t\t\t\t{job.jobType}\n\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<PriorityBadge priority={(job.priority ?? \"medium\") as string} />\n\t\t\t\t\t\t{typeof job.aiPriorityScore === \"number\" && (\n\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\tclassName=\"border-primary/40 bg-primary/5 text-primary border-dashed\"\n\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tAI Score {job.aiPriorityScore}\n\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<span className=\"text-foreground text-sm font-semibold\">\n\t\t\t\t\t{formatCurrency(job.totalAmount)}\n\t\t\t\t</span>\n\t\t\t</div>\n\n\t\t\t{job.description && (\n\t\t\t\t<p className=\"text-muted-foreground line-clamp-3 text-xs\">\n\t\t\t\t\t{job.description}\n\t\t\t\t</p>\n\t\t\t)}\n\n\t\t\t<div className=\"text-muted-foreground space-y-2 text-xs\">\n\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t<BriefcaseBusiness className=\"text-primary size-4\" />\n\t\t\t\t\t<span className=\"text-foreground font-medium\">\n\t\t\t\t\t\t{getCustomerName(job)}\n\t\t\t\t\t</span>\n\t\t\t\t</div>\n\n\t\t\t\t{propertySummary && (\n\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t<MapPin className=\"text-primary size-4\" />\n\t\t\t\t\t\t<span>{propertySummary}</span>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\n\t\t\t\t{scheduledRange && (\n\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t<CalendarDays className=\"text-primary size-4\" />\n\t\t\t\t\t\t<span>{scheduledRange}</span>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t<div className=\"text-muted-foreground flex items-center justify-between pt-2 text-[11px] tracking-wide\">\n\t\t\t\t<span>Updated {formatDate(job.updatedAt, { preset: \"short\" })}</span>\n\t\t\t\t<span className=\"uppercase\">\n\t\t\t\t\t{columnId ? (COLUMN_LABEL.get(columnId) ?? columnId) : \"—\"}\n\t\t\t\t</span>\n\t\t\t</div>\n\n\t\t\t<div className=\"flex items-center justify-end pt-1\">\n\t\t\t\t<Button\n\t\t\t\t\tasChild\n\t\t\t\t\tclassName=\"text-primary gap-1 text-xs\"\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t>\n\t\t\t\t\t<Link href={`/dashboard/work/${job.id}`}>\n\t\t\t\t\t\tView\n\t\t\t\t\t\t<ArrowUpRight className=\"size-3.5\" />\n\t\t\t\t\t</Link>\n\t\t\t\t</Button>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport function JobsKanban({ jobs }: JobsKanbanProps) {\n\tconst { toast } = useToast();\n\tconst [_isPending, startTransition] = useTransition();\n\n\tconst handleItemMove = async ({\n\t\titem,\n\t\tfromColumnId,\n\t\ttoColumnId,\n\t}: KanbanMoveEvent<KanbanItemBase & { entity: ExtendedJob }>) => {\n\t\tif (fromColumnId === toColumnId) {\n\t\t\treturn;\n\t\t}\n\n\t\tstartTransition(() => {\n\t\t\tvoid (async () => {\n\t\t\t\tconst { updateJobStatus } = await import(\"@/actions/jobs\");\n\t\t\t\tconst result = await updateJobStatus(item.entity.id, toColumnId);\n\n\t\t\t\tif (!result.success) {\n\t\t\t\t\ttoast.error(\"Unable to move job\", {\n\t\t\t\t\t\tdescription: result.error,\n\t\t\t\t\t});\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\ttoast.success(\n\t\t\t\t\t`Job ${item.entity.jobNumber} moved to ${COLUMN_LABEL.get(toColumnId as JobStatus)}`,\n\t\t\t\t);\n\t\t\t})();\n\t\t});\n\t};\n\n\treturn (\n\t\t<EntityKanban<ExtendedJob, JobStatus>\n\t\t\tcalculateColumnMeta={(columnId, items) => {\n\t\t\t\tconst columnItems = items.filter((item) => item.columnId === columnId);\n\t\t\t\tconst total = columnItems.reduce(\n\t\t\t\t\t(sum, item) => sum + (item.entity.totalAmount ?? 0),\n\t\t\t\t\t0,\n\t\t\t\t);\n\t\t\t\treturn { count: columnItems.length, total };\n\t\t\t}}\n\t\t\tcolumns={JOB_STATUS_COLUMNS}\n\t\t\tdata={jobs}\n\t\t\tentityName=\"jobs\"\n\t\t\tformatTotal={(total) => formatCurrency(total)}\n\t\t\tmapToKanbanItem={(job) => ({\n\t\t\t\tid: job.id,\n\t\t\t\tcolumnId: resolveStatus(job.status),\n\t\t\t\tentity: job,\n\t\t\t})}\n\t\t\tonItemMove={handleItemMove}\n\t\t\trenderCard={(item) => <JobCardContent item={item as JobsKanbanItem} />}\n\t\t\trenderDragOverlay={(item) => (\n\t\t\t\t<div className=\"border-border/70 bg-background/95 w-[280px] rounded-md border p-3 shadow-lg\">\n\t\t\t\t\t<JobCardContent item={item as JobsKanbanItem} />\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\tshowTotals={true}\n\t\t\tupdateEntityStatus={(job, newStatus) => ({\n\t\t\t\t...job,\n\t\t\t\tstatus: newStatus,\n\t\t\t})}\n\t\t/>\n\t);\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M8 2v4', key: '1cmpym' }],\n  ['path', { d: 'M16 2v4', key: '4m81vk' }],\n  ['rect', { width: '18', height: '18', x: '3', y: '4', rx: '2', key: '1hopcy' }],\n  ['path', { d: 'M3 10h18', key: '8toen8' }],\n  ['path', { d: 'M8 14h.01', key: '6423bh' }],\n  ['path', { d: 'M12 14h.01', key: '1etili' }],\n  ['path', { d: 'M16 14h.01', key: '1gbofw' }],\n  ['path', { d: 'M8 18h.01', key: 'lrp35t' }],\n  ['path', { d: 'M12 18h.01', key: 'mhygvu' }],\n  ['path', { d: 'M16 18h.01', key: 'kzsmim' }],\n];\n\n/**\n * @component @name CalendarDays\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNOCAydjQiIC8+CiAgPHBhdGggZD0iTTE2IDJ2NCIgLz4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjQiIHJ4PSIyIiAvPgogIDxwYXRoIGQ9Ik0zIDEwaDE4IiAvPgogIDxwYXRoIGQ9Ik04IDE0aC4wMSIgLz4KICA8cGF0aCBkPSJNMTIgMTRoLjAxIiAvPgogIDxwYXRoIGQ9Ik0xNiAxNGguMDEiIC8+CiAgPHBhdGggZD0iTTggMThoLjAxIiAvPgogIDxwYXRoIGQ9Ik0xMiAxOGguMDEiIC8+CiAgPHBhdGggZD0iTTE2IDE4aC4wMSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/calendar-days\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CalendarDays = createLucideIcon('calendar-days', __iconNode);\n\nexport default CalendarDays;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M12 12h.01', key: '1mp3jc' }],\n  ['path', { d: 'M16 6V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v2', key: '1ksdt3' }],\n  ['path', { d: 'M22 13a18.15 18.15 0 0 1-20 0', key: '12hx5q' }],\n  ['rect', { width: '20', height: '14', x: '2', y: '6', rx: '2', key: 'i6l2r4' }],\n];\n\n/**\n * @component @name BriefcaseBusiness\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgMTJoLjAxIiAvPgogIDxwYXRoIGQ9Ik0xNiA2VjRhMiAyIDAgMCAwLTItMmgtNGEyIDIgMCAwIDAtMiAydjIiIC8+CiAgPHBhdGggZD0iTTIyIDEzYTE4LjE1IDE4LjE1IDAgMCAxLTIwIDAiIC8+CiAgPHJlY3Qgd2lkdGg9IjIwIiBoZWlnaHQ9IjE0IiB4PSIyIiB5PSI2IiByeD0iMiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/briefcase-business\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst BriefcaseBusiness = createLucideIcon('briefcase-business', __iconNode);\n\nexport default BriefcaseBusiness;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M7 7h10v10', key: '1tivn9' }],\n  ['path', { d: 'M7 17 17 7', key: '1vkiza' }],\n];\n\n/**\n * @component @name ArrowUpRight\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNyA3aDEwdjEwIiAvPgogIDxwYXRoIGQ9Ik03IDE3IDE3IDciIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/arrow-up-right\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowUpRight = createLucideIcon('arrow-up-right', __iconNode);\n\nexport default ArrowUpRight;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0',\n      key: '1r0f0z',\n    },\n  ],\n  ['circle', { cx: '12', cy: '10', r: '3', key: 'ilqhr7' }],\n];\n\n/**\n * @component @name MapPin\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgMTBjMCA0Ljk5My01LjUzOSAxMC4xOTMtNy4zOTkgMTEuNzk5YTEgMSAwIDAgMS0xLjIwMiAwQzkuNTM5IDIwLjE5MyA0IDE0Ljk5MyA0IDEwYTggOCAwIDAgMSAxNiAwIiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTAiIHI9IjMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/map-pin\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst MapPin = createLucideIcon('map-pin', __iconNode);\n\nexport default MapPin;\n","\"use client\";\n\n/**\n * JobsTable Component\n * Full-width Gmail-style table for displaying jobs\n *\n * Features:\n * - Full-width responsive layout\n * - Row selection with bulk actions\n * - Search and filtering\n * - Status and priority badges\n * - Click to view job details\n * - ✨ Auto-virtualization for >1,000 jobs (100x faster!)\n *\n * Performance:\n * - <1,000 jobs: Pagination mode (50 per page)\n * - >1,000 jobs: Virtual scrolling (60fps, only renders ~20 visible rows)\n * - Can force with: enableVirtualization={true|false|\"auto\"}\n */\n\nimport { Archive, Briefcase, Edit, Eye, FileText, Plus } from \"lucide-react\";\nimport Link from \"next/link\";\nimport { useState } from \"react\";\nimport {\n\tAlertDialog,\n\tAlertDialogAction,\n\tAlertDialogCancel,\n\tAlertDialogContent,\n\tAlertDialogDescription,\n\tAlertDialogFooter,\n\tAlertDialogHeader,\n\tAlertDialogTitle,\n} from \"@/components/ui/alert-dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n\ttype BulkAction,\n\ttype ColumnDef,\n\tFullWidthDataTable,\n} from \"@/components/ui/full-width-datatable\";\nimport { RowActionsDropdown } from \"@/components/ui/row-actions-dropdown\";\nimport { JobStatusBadge, PriorityBadge } from \"@/components/ui/status-badge\";\nimport { CustomerPreviewCard } from \"@/components/work/customer-preview-card\";\nimport type { Job } from \"@/lib/db/schema\";\nimport { formatCurrency, formatDate } from \"@/lib/formatters\";\nimport { useArchiveStore } from \"@/lib/stores/archive-store\";\nimport { getCustomerDisplayName } from \"@/lib/utils/customer-display\";\n\ntype JobsTableProps = {\n\tjobs: Job[];\n\titemsPerPage?: number;\n\ttotalCount?: number; // Total count from server (for accurate pagination display)\n\tcurrentPage?: number; // Current page from server (for hydration)\n\tonJobClick?: (job: Job) => void;\n\tshowRefresh?: boolean;\n\tinitialSearchQuery?: string;\n};\n\nexport function JobsTable({\n\tjobs,\n\titemsPerPage = 50,\n\ttotalCount,\n\tcurrentPage = 1,\n\tonJobClick,\n\tshowRefresh = false,\n\tinitialSearchQuery = \"\",\n}: JobsTableProps) {\n\t// Archive filter state\n\tconst archiveFilter = useArchiveStore((state) => state.filters.jobs);\n\n\tconst [isArchiveDialogOpen, setIsArchiveDialogOpen] = useState(false);\n\tconst [itemToArchive, setItemToArchive] = useState<string | null>(null);\n\tconst [isBulkArchiveOpen, setIsBulkArchiveOpen] = useState(false);\n\tconst [selectedItemIds, setSelectedItemIds] = useState<Set<string>>(\n\t\tnew Set(),\n\t);\n\n\t// Filter jobs based on archive status\n\tconst filteredJobs = jobs.filter((job) => {\n\t\tconst jobRecord = job as unknown as Record<string, unknown>;\n\t\tconst isArchived = Boolean(jobRecord.archived_at ?? jobRecord.deleted_at);\n\t\tif (archiveFilter === \"active\") {\n\t\t\treturn !isArchived;\n\t\t}\n\t\tif (archiveFilter === \"archived\") {\n\t\t\treturn isArchived;\n\t\t}\n\t\treturn true; // \"all\"\n\t});\n\n\tconst columns: ColumnDef<Job>[] = [\n\t\t{\n\t\t\tkey: \"jobNumber\",\n\t\t\theader: \"Job Number\",\n\t\t\twidth: \"w-36\",\n\t\t\tshrink: true,\n\t\t\trender: (job) => (\n\t\t\t\t<Link\n\t\t\t\t\tclassName=\"text-foreground hover:text-primary text-sm font-medium transition-colors hover:underline\"\n\t\t\t\t\thref={`/dashboard/work/${job.id}`}\n\t\t\t\t\tonClick={(e) => e.stopPropagation()}\n\t\t\t\t>\n\t\t\t\t\t{job.jobNumber ?? \"—\"}\n\t\t\t\t</Link>\n\t\t\t),\n\t\t},\n\t\t{\n\t\t\tkey: \"title\",\n\t\t\theader: \"Title\",\n\t\t\twidth: \"flex-1\",\n\t\t\trender: (job) => (\n\t\t\t\t<Link\n\t\t\t\t\tclassName=\"block min-w-0\"\n\t\t\t\t\thref={`/dashboard/work/${job.id}`}\n\t\t\t\t\tonClick={(e) => e.stopPropagation()}\n\t\t\t\t>\n\t\t\t\t\t<div className=\"truncate text-sm leading-tight font-medium hover:underline\">\n\t\t\t\t\t\t{job.title ?? \"Untitled Job\"}\n\t\t\t\t\t</div>\n\t\t\t\t\t{job.description ? (\n\t\t\t\t\t\t<div className=\"text-muted-foreground mt-0.5 truncate text-xs leading-tight\">\n\t\t\t\t\t\t\t{job.description}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : null}\n\t\t\t\t</Link>\n\t\t\t),\n\t\t},\n\t\t{\n\t\t\tkey: \"customer\",\n\t\t\theader: \"Customer\",\n\t\t\twidth: \"w-48\",\n\t\t\tshrink: true,\n\t\t\thideOnMobile: true,\n\t\t\thideable: true,\n\t\t\trender: (job) => {\n\t\t\t\tconst jobData = job as any; // Type assertion for customer data\n\t\t\t\tconst customer = jobData.customer || jobData.customers;\n\n\t\t\t\tif (!customer)\n\t\t\t\t\treturn <span className=\"text-muted-foreground text-xs\">—</span>;\n\n\t\t\t\tconst customerName = getCustomerDisplayName(customer);\n\n\t\t\t\treturn <CustomerPreviewCard customer={customer} />;\n\t\t\t},\n\t\t},\n\t\t{\n\t\t\tkey: \"status\",\n\t\t\theader: \"Status\",\n\t\t\twidth: \"w-32\",\n\t\t\tshrink: true,\n\t\t\thideable: false, // CRITICAL: Status essential for workflow management\n\t\t\trender: (job) => (\n\t\t\t\t<JobStatusBadge status={(job.status ?? \"quoted\") as string} />\n\t\t\t),\n\t\t},\n\t\t{\n\t\t\tkey: \"priority\",\n\t\t\theader: \"Priority\",\n\t\t\twidth: \"w-28\",\n\t\t\tshrink: true,\n\t\t\thideOnMobile: true,\n\t\t\thideable: true,\n\t\t\trender: (job) => (\n\t\t\t\t<PriorityBadge priority={(job.priority ?? \"medium\") as string} />\n\t\t\t),\n\t\t},\n\t\t{\n\t\t\tkey: \"scheduledStart\",\n\t\t\theader: \"Scheduled\",\n\t\t\twidth: \"w-32\",\n\t\t\tshrink: true,\n\t\t\thideOnMobile: true,\n\t\t\thideable: true,\n\t\t\trender: (job) => (\n\t\t\t\t<span className=\"text-muted-foreground text-sm tabular-nums\">\n\t\t\t\t\t{formatDate(job.scheduledStart ?? null, \"short\")}\n\t\t\t\t</span>\n\t\t\t),\n\t\t},\n\t\t{\n\t\t\tkey: \"totalAmount\",\n\t\t\theader: \"Amount\",\n\t\t\twidth: \"w-32\",\n\t\t\tshrink: true,\n\t\t\talign: \"right\",\n\t\t\thideable: false, // CRITICAL: Financial data essential\n\t\t\trender: (job) => (\n\t\t\t\t<span className=\"font-semibold tabular-nums\">\n\t\t\t\t\t{formatCurrency(job.totalAmount || 0, { decimals: 2 })}\n\t\t\t\t</span>\n\t\t\t),\n\t\t},\n\t\t{\n\t\t\tkey: \"actions\",\n\t\t\theader: \"\",\n\t\t\twidth: \"w-10\",\n\t\t\tshrink: true,\n\t\t\trender: (job) => (\n\t\t\t\t<RowActionsDropdown\n\t\t\t\t\tactions={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"View Details\",\n\t\t\t\t\t\t\ticon: Eye,\n\t\t\t\t\t\t\thref: `/dashboard/work/${job.id}`,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Edit Job\",\n\t\t\t\t\t\t\ticon: Edit,\n\t\t\t\t\t\t\thref: `/dashboard/work/${job.id}/edit`,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Create Invoice\",\n\t\t\t\t\t\t\ticon: FileText,\n\t\t\t\t\t\t\thref: `/dashboard/work/invoices/new?jobId=${job.id}`,\n\t\t\t\t\t\t\tseparatorBefore: true,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlabel: \"Archive Job\",\n\t\t\t\t\t\t\ticon: Archive,\n\t\t\t\t\t\t\tvariant: \"destructive\",\n\t\t\t\t\t\t\tseparatorBefore: true,\n\t\t\t\t\t\t\tonClick: () => {\n\t\t\t\t\t\t\t\tsetItemToArchive(job.id);\n\t\t\t\t\t\t\t\tsetIsArchiveDialogOpen(true);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t},\n\t\t\t\t\t]}\n\t\t\t\t/>\n\t\t\t),\n\t\t},\n\t];\n\n\t// Bulk actions\n\tconst bulkActions: BulkAction[] = [\n\t\t{\n\t\t\tlabel: \"Archive Selected\",\n\t\t\ticon: <Archive className=\"h-4 w-4\" />,\n\t\t\tonClick: (selectedIds) => {\n\t\t\t\tsetSelectedItemIds(selectedIds);\n\t\t\t\tsetIsBulkArchiveOpen(true);\n\t\t\t},\n\t\t\tvariant: \"destructive\",\n\t\t},\n\t];\n\n\tconst handleRowClick = (job: Job) => {\n\t\tif (onJobClick) {\n\t\t\tonJobClick(job);\n\t\t} else {\n\t\t\twindow.location.href = `/dashboard/work/${job.id}`;\n\t\t}\n\t};\n\n\tconst handleRefresh = () => {\n\t\twindow.location.reload();\n\t};\n\n\tconst handleAddJob = () => {\n\t\twindow.location.href = \"/dashboard/work/new\";\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<FullWidthDataTable\n\t\t\t\tbulkActions={bulkActions}\n\t\t\t\tcolumns={columns}\n\t\t\t\tdata={filteredJobs}\n\t\t\t\ttotalCount={totalCount}\n\t\t\t\tcurrentPageFromServer={currentPage}\n\t\t\t\tinitialSearchQuery={initialSearchQuery}\n\t\t\t\tserverPagination\n\t\t\t\temptyAction={\n\t\t\t\t\t<Button onClick={handleAddJob} size=\"sm\">\n\t\t\t\t\t\t<Plus className=\"mr-2 size-4\" />\n\t\t\t\t\t\tAdd Job\n\t\t\t\t\t</Button>\n\t\t\t\t}\n\t\t\t\temptyIcon={<Briefcase className=\"text-muted-foreground h-8 w-8\" />}\n\t\t\t\temptyMessage=\"No jobs found\"\n\t\t\t\tenableSelection={true}\n\t\t\t\tentity=\"jobs\"\n\t\t\t\tgetItemId={(job) => job.id}\n\t\t\t\tisArchived={(job) => {\n\t\t\t\t\tconst jobRecord = job as unknown as Record<string, unknown>;\n\t\t\t\t\treturn Boolean(jobRecord.archived_at ?? jobRecord.deleted_at);\n\t\t\t\t}}\n\t\t\t\titemsPerPage={itemsPerPage}\n\t\t\t\tonRefresh={handleRefresh}\n\t\t\t\tonRowClick={handleRowClick}\n\t\t\t\tserverSearch\n\t\t\t\tsearchParamKey=\"search\"\n\t\t\t\tsearchPlaceholder=\"Search jobs by customer, category, equipment, service type...\"\n\t\t\t\tshowArchived={archiveFilter !== \"active\"}\n\t\t\t\tshowRefresh={showRefresh}\n\t\t\t/>\n\n\t\t\t{/* Archive Single Job Dialog */}\n\t\t\t<AlertDialog\n\t\t\t\tonOpenChange={setIsArchiveDialogOpen}\n\t\t\t\topen={isArchiveDialogOpen}\n\t\t\t>\n\t\t\t\t<AlertDialogContent>\n\t\t\t\t\t<AlertDialogHeader>\n\t\t\t\t\t\t<AlertDialogTitle>Archive Job?</AlertDialogTitle>\n\t\t\t\t\t\t<AlertDialogDescription>\n\t\t\t\t\t\t\tThis job will be archived and can be restored within 90 days.\n\t\t\t\t\t\t</AlertDialogDescription>\n\t\t\t\t\t</AlertDialogHeader>\n\t\t\t\t\t<AlertDialogFooter>\n\t\t\t\t\t\t<AlertDialogCancel>Cancel</AlertDialogCancel>\n\t\t\t\t\t\t<AlertDialogAction\n\t\t\t\t\t\t\tclassName=\"bg-destructive text-destructive-foreground hover:bg-destructive/90\"\n\t\t\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\t\t\tif (itemToArchive) {\n\t\t\t\t\t\t\t\t\tconst { archiveJob } = await import(\"@/actions/jobs\");\n\t\t\t\t\t\t\t\t\tconst result = await archiveJob(itemToArchive);\n\t\t\t\t\t\t\t\t\tif (result.success) {\n\t\t\t\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tArchive\n\t\t\t\t\t\t</AlertDialogAction>\n\t\t\t\t\t</AlertDialogFooter>\n\t\t\t\t</AlertDialogContent>\n\t\t\t</AlertDialog>\n\n\t\t\t{/* Bulk Archive Dialog */}\n\t\t\t<AlertDialog onOpenChange={setIsBulkArchiveOpen} open={isBulkArchiveOpen}>\n\t\t\t\t<AlertDialogContent>\n\t\t\t\t\t<AlertDialogHeader>\n\t\t\t\t\t\t<AlertDialogTitle>\n\t\t\t\t\t\t\tArchive {selectedItemIds.size} Job(s)?\n\t\t\t\t\t\t</AlertDialogTitle>\n\t\t\t\t\t\t<AlertDialogDescription>\n\t\t\t\t\t\t\t{selectedItemIds.size} job(s) will be archived and can be restored\n\t\t\t\t\t\t\twithin 90 days.\n\t\t\t\t\t\t</AlertDialogDescription>\n\t\t\t\t\t</AlertDialogHeader>\n\t\t\t\t\t<AlertDialogFooter>\n\t\t\t\t\t\t<AlertDialogCancel>Cancel</AlertDialogCancel>\n\t\t\t\t\t\t<AlertDialogAction\n\t\t\t\t\t\t\tclassName=\"bg-destructive text-destructive-foreground hover:bg-destructive/90\"\n\t\t\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\t\t\tconst { archiveJob } = await import(\"@/actions/jobs\");\n\t\t\t\t\t\t\t\tlet archived = 0;\n\t\t\t\t\t\t\t\tfor (const id of selectedItemIds) {\n\t\t\t\t\t\t\t\t\tconst result = await archiveJob(id);\n\t\t\t\t\t\t\t\t\tif (result.success) {\n\t\t\t\t\t\t\t\t\t\tarchived++;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (archived > 0) {\n\t\t\t\t\t\t\t\t\twindow.location.reload();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tArchive\n\t\t\t\t\t\t</AlertDialogAction>\n\t\t\t\t\t</AlertDialogFooter>\n\t\t\t\t</AlertDialogContent>\n\t\t\t</AlertDialog>\n\t\t</>\n\t);\n}\n","// Re-export from @stratos/ui package\nexport * from \"@stratos/ui\";\n","\"use client\";\n\n/**\n * CustomerPreviewCard - Keyboard-accessible customer info preview\n *\n * Provides both hover preview (for mouse users) and button-triggered\n * preview (for keyboard users) to meet WCAG 2.1 AA accessibility.\n */\n\nimport { Info, Mail, Phone, User } from \"lucide-react\";\nimport Link from \"next/link\";\nimport { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n\tHoverCard,\n\tHoverCardContent,\n\tHoverCardTrigger,\n} from \"@/components/ui/hover-card\";\nimport {\n\tPopover,\n\tPopoverContent,\n\tPopoverTrigger,\n} from \"@/components/ui/popover\";\nimport { getCustomerDisplayName } from \"@/lib/utils/customer-display\";\n\ntype Customer = {\n\tid: string;\n\tfirst_name?: string | null;\n\tlast_name?: string | null;\n\tcompany_name?: string | null;\n\temail?: string | null;\n\tphone?: string | null;\n};\n\ntype CustomerPreviewCardProps = {\n\tcustomer: Customer;\n\tclassName?: string;\n};\n\n/**\n * Customer info card content (reusable in both HoverCard and Popover)\n */\nfunction CustomerCardContent({ customer }: { customer: Customer }) {\n\tconst customerName = getCustomerDisplayName(customer);\n\n\treturn (\n\t\t<div className=\"space-y-3\">\n\t\t\t<div className=\"flex items-start gap-3\">\n\t\t\t\t<div className=\"bg-primary/10 flex h-10 w-10 items-center justify-center rounded-full shrink-0\">\n\t\t\t\t\t<User className=\"text-primary h-5 w-5\" />\n\t\t\t\t</div>\n\t\t\t\t<div className=\"flex-1 min-w-0\">\n\t\t\t\t\t<p className=\"font-semibold text-sm\">{customerName}</p>\n\t\t\t\t\t{customer.company_name && (\n\t\t\t\t\t\t<p className=\"text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t{customer.company_name}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div className=\"space-y-2\">\n\t\t\t\t{customer.email && (\n\t\t\t\t\t<div className=\"flex items-center gap-2 text-xs\">\n\t\t\t\t\t\t<Mail className=\"h-3.5 w-3.5 text-muted-foreground shrink-0\" />\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref={`mailto:${customer.email}`}\n\t\t\t\t\t\t\tclassName=\"text-primary hover:underline truncate\"\n\t\t\t\t\t\t\tonClick={(e) => e.stopPropagation()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{customer.email}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t\t{customer.phone && (\n\t\t\t\t\t<div className=\"flex items-center gap-2 text-xs\">\n\t\t\t\t\t\t<Phone className=\"h-3.5 w-3.5 text-muted-foreground shrink-0\" />\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\thref={`tel:${customer.phone}`}\n\t\t\t\t\t\t\tclassName=\"text-primary hover:underline\"\n\t\t\t\t\t\t\tonClick={(e) => e.stopPropagation()}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{customer.phone}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\n/**\n * Keyboard-accessible customer preview component\n * - Mouse users: hover over customer name to see preview\n * - Keyboard users: tab to info button and press Enter/Space to see preview\n */\nexport function CustomerPreviewCard({\n\tcustomer,\n\tclassName,\n}: CustomerPreviewCardProps) {\n\tconst [popoverOpen, setPopoverOpen] = useState(false);\n\tconst customerName = getCustomerDisplayName(customer);\n\n\treturn (\n\t\t<div className=\"flex items-center gap-1\">\n\t\t\t{/* Mouse-accessible: Hover to preview */}\n\t\t\t<HoverCard>\n\t\t\t\t<HoverCardTrigger asChild>\n\t\t\t\t\t<Link\n\t\t\t\t\t\thref={`/dashboard/customers/${customer.id}`}\n\t\t\t\t\t\tonClick={(e) => e.stopPropagation()}\n\t\t\t\t\t\tclassName=\"text-sm hover:underline hover:text-primary flex items-center gap-1.5 truncate\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<User className=\"h-3.5 w-3.5 shrink-0 text-muted-foreground\" />\n\t\t\t\t\t\t<span className=\"truncate\">{customerName}</span>\n\t\t\t\t\t</Link>\n\t\t\t\t</HoverCardTrigger>\n\t\t\t\t<HoverCardContent className=\"w-80\" align=\"start\">\n\t\t\t\t\t<CustomerCardContent customer={customer} />\n\t\t\t\t</HoverCardContent>\n\t\t\t</HoverCard>\n\n\t\t\t{/* Keyboard-accessible: Button to open preview */}\n\t\t\t<Popover open={popoverOpen} onOpenChange={setPopoverOpen}>\n\t\t\t\t<PopoverTrigger asChild>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\tclassName=\"h-5 w-5 p-0 shrink-0\"\n\t\t\t\t\t\taria-label={`View ${customerName} contact information`}\n\t\t\t\t\t\tonClick={(e) => e.stopPropagation()}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Info className=\"h-3.5 w-3.5 text-muted-foreground\" />\n\t\t\t\t\t</Button>\n\t\t\t\t</PopoverTrigger>\n\t\t\t\t<PopoverContent className=\"w-80\" align=\"start\">\n\t\t\t\t\t<CustomerCardContent customer={customer} />\n\t\t\t\t</PopoverContent>\n\t\t\t</Popover>\n\t\t</div>\n\t);\n}\n","/**\n * Archive Store - Zustand State Management\n *\n * Performance optimizations:\n * - Lightweight state management with Zustand\n * - No provider wrapper needed\n * - Selective subscriptions prevent unnecessary re-renders\n * - Persists archive filter preferences to localStorage\n *\n * Manages archive filter state for all datatables\n */\n\nimport { create } from \"zustand\";\nimport { devtools, persist } from \"zustand/middleware\";\nimport type { ArchiveFilter } from \"@/lib/utils/archive\";\n\n// Define entity types that can have archive filters\nexport type ArchivableEntity =\n\t| \"team_members\"\n\t| \"customers\"\n\t| \"jobs\"\n\t| \"equipment\"\n\t| \"materials\"\n\t| \"payments\"\n\t| \"invoices\"\n\t| \"estimates\"\n\t| \"contracts\"\n\t| \"purchase_orders\"\n\t| \"service_agreements\"\n\t| \"maintenance_plans\"\n\t| \"appointments\"\n\t| \"properties\";\n\n// State type\ntype ArchiveStore = {\n\t// Archive filters per entity\n\tfilters: Record<ArchivableEntity, ArchiveFilter>;\n\n\t// Actions\n\tsetFilter: (entity: ArchivableEntity, filter: ArchiveFilter) => void;\n\tgetFilter: (entity: ArchivableEntity) => ArchiveFilter;\n\tresetFilter: (entity: ArchivableEntity) => void;\n\tresetAllFilters: () => void;\n};\n\n// Default filters (all entities default to \"active\" - don't show archived)\nconst defaultFilters: Record<ArchivableEntity, ArchiveFilter> = {\n\tteam_members: \"active\",\n\tcustomers: \"active\",\n\tjobs: \"active\",\n\tequipment: \"active\",\n\tmaterials: \"active\",\n\tpayments: \"active\",\n\tinvoices: \"active\",\n\testimates: \"active\",\n\tcontracts: \"active\",\n\tpurchase_orders: \"active\",\n\tservice_agreements: \"active\",\n\tmaintenance_plans: \"active\",\n\tappointments: \"active\",\n\tproperties: \"active\",\n};\n\n// Create store\nexport const useArchiveStore = create<ArchiveStore>()(\n\tdevtools(\n\t\tpersist(\n\t\t\t(set, get) => ({\n\t\t\t\tfilters: { ...defaultFilters },\n\n\t\t\t\tsetFilter: (entity, filter) =>\n\t\t\t\t\tset((state) => ({\n\t\t\t\t\t\tfilters: {\n\t\t\t\t\t\t\t...state.filters,\n\t\t\t\t\t\t\t[entity]: filter,\n\t\t\t\t\t\t},\n\t\t\t\t\t})),\n\n\t\t\t\tgetFilter: (entity) => {\n\t\t\t\t\tconst state = get();\n\t\t\t\t\treturn state.filters[entity] || \"active\";\n\t\t\t\t},\n\n\t\t\t\tresetFilter: (entity) =>\n\t\t\t\t\tset((state) => ({\n\t\t\t\t\t\tfilters: {\n\t\t\t\t\t\t\t...state.filters,\n\t\t\t\t\t\t\t[entity]: \"active\",\n\t\t\t\t\t\t},\n\t\t\t\t\t})),\n\n\t\t\t\tresetAllFilters: () =>\n\t\t\t\t\tset({\n\t\t\t\t\t\tfilters: { ...defaultFilters },\n\t\t\t\t\t}),\n\t\t\t}),\n\t\t\t{\n\t\t\t\tname: \"archive-filters\", // localStorage key\n\t\t\t\tskipHydration: true, // CRITICAL: Prevents hydration mismatch with Next.js 16\n\t\t\t\tpartialize: (state) => ({ filters: state.filters }), // Persist only filters\n\t\t\t},\n\t\t),\n\t\t{ name: \"ArchiveStore\" }, // DevTools name\n\t),\n);\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'M12 16v-4', key: '1dtifu' }],\n  ['path', { d: 'M12 8h.01', key: 'e9boi3' }],\n];\n\n/**\n * @component @name Info\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJNMTIgMTZ2LTQiIC8+CiAgPHBhdGggZD0iTTEyIDhoLjAxIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/info\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Info = createLucideIcon('info', __iconNode);\n\nexport default Info;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16', key: 'jecpp' }],\n  ['rect', { width: '20', height: '14', x: '2', y: '6', rx: '2', key: 'i6l2r4' }],\n];\n\n/**\n * @component @name Briefcase\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjBWNGEyIDIgMCAwIDAtMi0yaC00YTIgMiAwIDAgMC0yIDJ2MTYiIC8+CiAgPHJlY3Qgd2lkdGg9IjIwIiBoZWlnaHQ9IjE0IiB4PSIyIiB5PSI2IiByeD0iMiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/briefcase\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Briefcase = createLucideIcon('briefcase', __iconNode);\n\nexport default Briefcase;\n","/**\n * Customer Display Utilities\n *\n * Unified logic for displaying customer information consistently across the application.\n * This prevents inconsistent customer name display and provides fallback logic.\n */\n\nexport interface CustomerDisplayData {\n\tid?: string;\n\tdisplay_name?: string | null;\n\tfirst_name?: string | null;\n\tlast_name?: string | null;\n\tcompany_name?: string | null;\n\temail?: string | null;\n\tphone?: string | null;\n}\n\n/**\n * Get a customer's display name using consistent precedence logic:\n * 1. display_name (if set)\n * 2. first_name + last_name (combined)\n * 3. first_name OR last_name (whichever exists)\n * 4. company_name (for business customers)\n * 5. email (as last resort)\n * 6. \"Unknown Customer\" (ultimate fallback)\n *\n * @param customer - Customer object with potential name fields\n * @param fallbackEmail - Optional email to use if customer has no name\n * @returns Display-ready customer name\n *\n * @example\n * ```ts\n * getCustomerDisplayName({ first_name: \"John\", last_name: \"Doe\" })\n * // Returns: \"John Doe\"\n *\n * getCustomerDisplayName({ display_name: \"John's Plumbing\" })\n * // Returns: \"John's Plumbing\"\n *\n * getCustomerDisplayName({ email: \"john@example.com\" })\n * // Returns: \"john@example.com\"\n * ```\n */\nexport function getCustomerDisplayName(\n\tcustomer: CustomerDisplayData | null | undefined,\n\tfallbackEmail?: string | null,\n): string {\n\tif (!customer) {\n\t\treturn fallbackEmail || \"Unknown Customer\";\n\t}\n\n\t// Priority 1: Explicit display name\n\tif (customer.display_name) {\n\t\treturn customer.display_name;\n\t}\n\n\t// Priority 2: Full name (first + last)\n\tconst firstName = customer.first_name?.trim();\n\tconst lastName = customer.last_name?.trim();\n\n\tif (firstName && lastName) {\n\t\treturn `${firstName} ${lastName}`;\n\t}\n\n\t// Priority 3: Either first or last name\n\tif (firstName) return firstName;\n\tif (lastName) return lastName;\n\n\t// Priority 4: Company name (for business customers)\n\tif (customer.company_name) {\n\t\treturn customer.company_name;\n\t}\n\n\t// Priority 5: Email from customer record\n\tif (customer.email) {\n\t\treturn customer.email;\n\t}\n\n\t// Priority 6: Fallback email provided\n\tif (fallbackEmail) {\n\t\treturn fallbackEmail;\n\t}\n\n\t// Ultimate fallback\n\treturn \"Unknown Customer\";\n}\n\n/**\n * Get customer initials for avatar displays\n * Takes first letter of each word (max 2 letters)\n *\n * @param customer - Customer object with potential name fields\n * @returns 1-2 character initials (uppercase)\n *\n * @example\n * ```ts\n * getCustomerInitials({ first_name: \"John\", last_name: \"Doe\" })\n * // Returns: \"JD\"\n *\n * getCustomerInitials({ display_name: \"ACME Corp\" })\n * // Returns: \"AC\"\n *\n * getCustomerInitials({ email: \"john@example.com\" })\n * // Returns: \"J\"\n * ```\n */\nexport function getCustomerInitials(\n\tcustomer: CustomerDisplayData | null | undefined,\n): string {\n\tif (!customer) return \"?\";\n\n\tconst displayName = getCustomerDisplayName(customer);\n\n\t// Split by spaces and take first letter of each word\n\tconst words = displayName.split(/\\s+/).filter(Boolean);\n\n\tif (words.length >= 2) {\n\t\treturn (words[0][0] + words[1][0]).toUpperCase();\n\t}\n\n\tif (words.length === 1 && words[0].length >= 2) {\n\t\treturn words[0].slice(0, 2).toUpperCase();\n\t}\n\n\tif (words.length === 1) {\n\t\treturn words[0][0].toUpperCase();\n\t}\n\n\treturn \"?\";\n}\n\n/**\n * Get customer's full contact display (name + email/phone)\n * Useful for tooltips, hover cards, and detail views\n *\n * @param customer - Customer object\n * @returns Multi-line contact string\n *\n * @example\n * ```ts\n * getCustomerContactDisplay({\n *   first_name: \"John\",\n *   last_name: \"Doe\",\n *   email: \"john@example.com\",\n *   phone: \"555-1234\"\n * })\n * // Returns: \"John Doe\\njohn@example.com\\n555-1234\"\n * ```\n */\nexport function getCustomerContactDisplay(\n\tcustomer: CustomerDisplayData | null | undefined,\n): string {\n\tif (!customer) return \"Unknown Customer\";\n\n\tconst lines: string[] = [getCustomerDisplayName(customer)];\n\n\tif (customer.email) {\n\t\tlines.push(customer.email);\n\t}\n\n\tif (customer.phone) {\n\t\tlines.push(customer.phone);\n\t}\n\n\treturn lines.join(\"\\n\");\n}\n\n/**\n * Check if customer has any name information (not just email)\n * Useful for validation and \"not linked\" indicators\n *\n * @param customer - Customer object\n * @returns true if customer has a real name, false if only email/unknown\n */\nexport function hasCustomerName(\n\tcustomer: CustomerDisplayData | null | undefined,\n): boolean {\n\tif (!customer) return false;\n\n\treturn !!(\n\t\tcustomer.display_name ||\n\t\tcustomer.first_name ||\n\t\tcustomer.last_name ||\n\t\tcustomer.company_name\n\t);\n}\n\n/**\n * Format customer name for sorting/comparison\n * Always uses \"Last, First\" format for consistent alphabetization\n *\n * @param customer - Customer object\n * @returns Sortable name string\n *\n * @example\n * ```ts\n * getCustomerSortName({ first_name: \"John\", last_name: \"Doe\" })\n * // Returns: \"Doe, John\"\n *\n * getCustomerSortName({ company_name: \"ACME Corp\" })\n * // Returns: \"ACME Corp\"\n * ```\n */\nexport function getCustomerSortName(\n\tcustomer: CustomerDisplayData | null | undefined,\n): string {\n\tif (!customer) return \"zzz_unknown\"; // Sort unknowns to end\n\n\t// If only last name, use it\n\tif (customer.last_name && !customer.first_name) {\n\t\treturn customer.last_name;\n\t}\n\n\t// If only first name, use it\n\tif (customer.first_name && !customer.last_name) {\n\t\treturn customer.first_name;\n\t}\n\n\t// If both names, use \"Last, First\" format\n\tif (customer.first_name && customer.last_name) {\n\t\treturn `${customer.last_name}, ${customer.first_name}`;\n\t}\n\n\t// Otherwise use display name logic\n\treturn getCustomerDisplayName(customer);\n}\n","\"use client\";\n\nimport { type ReactNode, useEffect } from \"react\";\nimport {\n\tuseSetWorkView,\n\tuseWorkView,\n\ttype WorkSection,\n\ttype WorkViewMode,\n} from \"@/lib/stores/work-view-store\";\n\ntype WorkDataViewProps = {\n\tsection: WorkSection;\n\ttable: ReactNode;\n\tkanban: ReactNode;\n\tfallback?: ReactNode;\n\tforceView?: WorkViewMode;\n};\n\nexport function WorkDataView({\n\tsection,\n\ttable,\n\tkanban,\n\tfallback = null,\n\tforceView,\n}: WorkDataViewProps) {\n\tconst storedView = useWorkView(section);\n\tconst setView = useSetWorkView(section);\n\tconst viewMode = forceView ?? storedView;\n\n\tuseEffect(() => {\n\t\tif (forceView && storedView !== forceView) {\n\t\t\tsetView(forceView);\n\t\t}\n\t\t// ESLint disable: setView is a Zustand action wrapper with unstable reference\n\t\t// storedView intentionally excluded to prevent infinite loop\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [forceView]);\n\n\tif (viewMode === \"kanban\") {\n\t\treturn <>{kanban ?? fallback}</>;\n\t}\n\n\treturn <>{table ?? fallback}</>;\n}\n","import { create } from \"zustand\";\nimport { devtools, persist } from \"zustand/middleware\";\n\nexport type WorkSection =\n\t| \"jobs\"\n\t| \"appointments\"\n\t| \"payments\"\n\t| \"estimates\"\n\t| \"invoices\"\n\t| \"contracts\"\n\t| \"maintenancePlans\"\n\t| \"materials\"\n\t| \"purchaseOrders\"\n\t| \"serviceAgreements\"\n\t| \"equipment\"\n\t| \"teams\"\n\t| \"customers\"\n\t| \"vendors\";\n\nexport type WorkViewMode = \"table\" | \"kanban\";\n\ntype WorkViewState = {\n\tviews: Record<WorkSection, WorkViewMode>;\n\tsetView: (section: WorkSection, mode: WorkViewMode) => void;\n\tgetView: (section: WorkSection) => WorkViewMode;\n\treset: () => void;\n};\n\nconst defaultViews: Record<WorkSection, WorkViewMode> = {\n\tjobs: \"table\",\n\tappointments: \"table\",\n\tpayments: \"table\",\n\testimates: \"table\",\n\tinvoices: \"table\",\n\tcontracts: \"table\",\n\tmaintenancePlans: \"table\",\n\tmaterials: \"table\",\n\tpurchaseOrders: \"table\",\n\tserviceAgreements: \"table\",\n\tequipment: \"table\",\n\tteams: \"table\",\n\tcustomers: \"table\",\n\tvendors: \"table\",\n};\n\nfunction createInitialState(): WorkViewState {\n\treturn {\n\t\tviews: { ...defaultViews },\n\t\tsetView: () => {},\n\t\tgetView: () => \"table\",\n\t\treset: () => {},\n\t};\n}\n\nexport const useWorkViewStore = create<WorkViewState>()(\n\tdevtools(\n\t\tpersist(\n\t\t\t(set, get) => ({\n\t\t\t\t...createInitialState(),\n\t\t\t\tsetView: (section, mode) =>\n\t\t\t\t\tset((state) => ({\n\t\t\t\t\t\tviews: {\n\t\t\t\t\t\t\t...state.views,\n\t\t\t\t\t\t\t[section]: mode,\n\t\t\t\t\t\t},\n\t\t\t\t\t})),\n\t\t\t\tgetView: (section) => get().views[section] ?? \"table\",\n\t\t\t\treset: () => set({ views: { ...defaultViews } }),\n\t\t\t}),\n\t\t\t{\n\t\t\t\tname: \"work-view-preferences\",\n\t\t\t\tpartialize: (state) => ({\n\t\t\t\t\tviews: state.views,\n\t\t\t\t}),\n\t\t\t\tskipHydration: true, // CRITICAL: Prevents hydration mismatch with Next.js 16 Server Components\n\t\t\t},\n\t\t),\n\t\t{ name: \"WorkViewStore\" },\n\t),\n);\n\nexport function useWorkView(section: WorkSection): WorkViewMode {\n\treturn useWorkViewStore((state) => state.views[section] ?? \"table\");\n}\n\nexport function useSetWorkView(section: WorkSection) {\n\tconst setView = useWorkViewStore((state) => state.setView);\n\treturn (mode: WorkViewMode) => setView(section, mode);\n}\n"],"names":[],"mappings":"sIKImC,CAAA,AFAJ,ACAI,CCAA,AFAJ,ACAI,CDAJ,ACAI,ACAA,CDAA,ACAA,IAAA,EAAU,0CDiBvC,CDZH,CAAA,CAAA,CAAA,CAAA,EAAA,OAAA,ACYuB,EAAiB,sBAAsB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,qCAhB9D,EAAA,2CAA+C,CAAA,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,EACxE,UAAa,CAAA,ADAH,CAAA,ACAG,CDAH,ACAG,6BAAiC,CAAA,GAAK,CDAH,ACAG,kBAC3C,CEAF,AFAE,ADAA,2DAoBL,EAAA,CAAA,EAAe,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAf,CAAe,AAAf,CAAe,AAAf,CAAe,CAAA,AAAiB,CAAjB,AAAiB,CAAjB,AAAiB,CAAjB,AAAiB,CAAjB,AAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,aAvBlC,CCAD,ADAC,AEAD,CDAA,ACAA,AFAC,CCAD,ADAC,AEAD,2CFCY,uCACM,EAAG,CCAF,ADAE,CAAA,ACAF,aDAqB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,iDAEhE,CAAA,AGAL,CHAK,AGAL,CHAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAa,CAAA,CAAA,CAAA,CAAK,AAAL,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,SACjC,CAAA,AAAE,EAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CCYV,ADZU,CAAA,ACYV,CDZU,ACYV,IDZwB,CCYJ,ADZI,CCYJ,ADZI,CCYJ,ADZI,CCYJ,ADZI,AAAK,CAAA,ACYT,CAAA,ADZS,CCYT,ADZS,CAAA,ACYT,CDZS,ACYT,CDZS,ACYT,IDZmB,CCYF,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,ADXhC,CCWgC,ADXhC,AAAE,CCW8B,CAAA,ADX3B,CAAA,ACW2B,CDX3B,ACW2B,CDX3B,ACW2B,CAAA,ADX3B,CAAA,ACW2B,CDX3B,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAc,CAAA,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,uCAE3C,CAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAQ,CAAA,AAAE,EAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAc,CAAA,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,SAClC,CAAA,AGYL,AHZO,CGYP,CAAA,iBHZ6B,CAAA,AGYH,CAAA,AHZG,CGYH,AHZG,CAAA,AGYH,CAAA,AHZG,CAAA,AGYH,CHZG,IACnC,EGWM,CHZH,CAAA,AGYY,CHZZ,AGYY,CHZZ,CGYY,EAAA,OAAA,EAAiB,CAAA,AHZF,CAAA,AGYE,SAAW,QAnBvC,CHAD,ACAA,CAAA,ADAA,CGCM,AFDN,ADAA,CCAA,ADAA,AACA,ACAA,AEAM,CFDN,ADAA,CAAA,ACAA,oGEEG,CHAH,CAAA,CAAA,AGAG,CHAH,AGAG,QAAK,CHCR,ACYH,EEVE,CAAC,CAAA,AHAA,CGAA,AHAA,CGAA,AHAA,CAAA,AGAA,CAAA,AHAA,CAAA,AGAA,CHAA,AGAA,EAAU,CAAE,GAAI,CHAH,CAAA,CAAA,CAAA,AGAG,CHAH,AGAG,AAAM,CHAT,AGAS,CAAA,AHAT,CAAA,KGAmB,CHAD,AGAC,CHAD,AGAC,AAAG,CHAJ,AGAI,CAAA,AHAJ,CAAA,AGAI,CAAK,CHAC,AGAD,GAAK,QAAA,CAAU,CAAA,GJH1D,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,ODKA,EAAA,CAAA,CAAA,ODdA,IAAA,EAAA,EAAA,CAAA,CAAA,OAcA,EAAA,EAAA,CAAA,CAAA,OAMA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAoDA,IAAM,EAAgB,CAAA,EAAA,EAAA,aAAA,AAAa,EAClC,MAGK,EAAsB,CAAA,EAAA,EAAA,aAAA,AAAa,EAAsB,MAEzD,EAA0B,iBAEhC,SAAS,EACR,CAAuB,CACvB,CAAS,CACT,CAAgC,EAEhC,IAAM,EAAe,OAAO,WAAW,CACtC,EAAQ,GAAG,CAAC,AAAC,GAAW,CAAC,EAAO,EAAE,CAAE,EAAE,CAAQ,GAG/C,OAAO,EAAK,MAAM,CAAsB,CAAC,EAAO,KAC/C,IAAM,EAAW,EAAY,GAM7B,OALI,AAAC,CAAK,CAAC,EAAS,EAAE,AACrB,EAAK,CAAC,EAAS,CAAG,EAAA,AAAE,EAGrB,CAAK,CAAC,EAAS,CAAG,IAAI,CAAK,CAAC,EAAS,CAAE,EAAK,CACrC,CACR,EAAG,EACJ,CAiBO,SAAS,EAAyC,SACxD,CAAO,CACP,MAAI,CACJ,cAAY,CACZ,YAAU,aACV,CAAW,UACX,CAAQ,WACR,CAAS,sBACT,CAAoB,mBACpB,CAAiB,CACO,EACxB,IAAM,EAAiB,CAAA,EAAA,EAAA,WAAA,AAAW,EACjC,GAAgB,CAAC,GAAY,EAAK,MAAnB,EAAmB,AAAQ,EAC1C,EAAE,EAEG,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAA8B,IACvE,EAAW,EAAS,EAAM,IAErB,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAGlC,MACJ,EAAmB,CAAA,EAAA,EAAA,MAAA,AAAM,EAAC,GAEhC,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACT,EAAiB,OAAO,CAAG,CAC5B,EAAG,CAAC,EAAQ,EAEZ,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACT,EAAiB,EAAW,EAAS,EAAM,GAC5C,EAAG,CAAC,EAAS,EAAM,EAAe,EAElC,IAAM,EAAU,CAAA,EAAA,EAAA,UAAA,AAAU,EACzB,CAAA,EAAA,EAAA,SAAS,AAAT,EAAU,EAAA,aAAa,CAAE,CACxB,qBAAsB,CACrB,SAAU,CACX,EACA,GAAG,CAAoB,AACxB,GACA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,EAAA,cAAc,CAAE,CACzB,iBAAkB,EAAA,2BAA2B,AAC9C,IAGK,EAAW,CAAA,EAAA,EAAA,WAAW,AAAX,EAChB,AAAC,IACA,IAAK,IAAM,KAAU,EAAiB,OAAO,CAAE,CAC9C,IAAM,EAAQ,CAAa,CAAC,EAAO,EAAE,CAAC,EAAI,EAAE,CACtC,EAAQ,EAAM,SAAS,CAAC,AAAC,GAAS,EAAK,EAAE,GAAK,GACpD,GAAc,CAAC,GAAG,CAAd,EACH,MAAO,CAAE,SAAU,EAAO,EAAE,CAAE,KAAM,CAAK,CAAC,EAAM,OAAE,CAAM,CAE1D,CAEA,OAAO,IACR,EACA,CAAC,EAAc,EAGV,EAAkB,CAAA,EAAA,EAAA,WAAW,AAAX,EACvB,AAAC,IACA,IAAM,EAAS,EAAS,EAAM,MAAM,CAAC,EAAE,EACnC,GACH,EAAc,CAAE,EADL,GACW,EAAO,IAAI,CAAE,SAAU,EAAO,QAAQ,AAAC,EAE/D,EACA,CAAC,EAAS,EAGL,EAAgB,CAAA,EAAA,EAAA,WAAA,AAAW,EAC/B,AAAD,UACC,GAAM,QAAE,CAAM,MAAE,CAAI,CAAE,CAAG,EAGzB,GAFA,EAAc,MAEV,CAAC,EACJ,IADU,GAIX,IAAM,EAAS,EAAS,EAAO,EAAE,EACjC,GAAI,CAAC,EACJ,MADY,CAIb,IAAI,EAAqC,KACrC,EAAkC,KAEtC,GACoB,UAAnB,OAAO,EAAK,EAAE,EACd,EAAK,EAAE,CAAC,UAAU,CAAC,GAGnB,EAAmB,CAAC,CAAa,CAAC,AADlC,EAAsB,EAAK,EAAE,CAAC,OAAO,CAAC,EAAyB,CAD9D,GAEqD,EAAI,EAAA,AAAE,EAAE,MAAM,KAC9D,CACN,IAAM,EAAc,EAAS,EAAK,EAAE,EAChC,IACH,EAAsB,EAAY,KADlB,GAC0B,CAE1C,EAAmB,CADC,CAAa,CAAC,EAAY,QAAQ,CAAC,EAAI,EAAA,AAAE,EAC9B,SAAS,CACvC,AAAC,GAAS,EAAK,EAAE,GAAK,EAAY,IAAI,CAAC,EAAE,EAG5C,CAEA,GACyB,OAAxB,GACqB,OAArB,GACC,IAAwB,EAAO,QAAQ,EACvC,IAAqB,EAAO,KAAK,CAElC,CADC,MAIF,IAAM,EArHD,OAAO,MAqHS,KArHE,CACxB,OAAO,OAAO,CAAC,AAoHkB,GApHX,GAAG,CAAC,CAAC,CAAC,EAAU,EAAM,GAAK,CAAC,EAAU,EAAM,KAAK,GAAG,GAqHnE,EAAc,CAAY,CAAC,EAAO,QAAQ,CAAC,EAAI,EAAE,CACjD,CAAC,EAAU,CAAG,EAAY,MAAM,CAAC,EAAO,KAAK,CAAE,GACrD,CAAY,CAAC,EAAO,QAAQ,CAAC,CAAG,EAEhC,IAAM,EAAmB,CAAY,CAAC,EAAoB,EAAI,EAAE,CAC1D,EACL,EAAO,QAAQ,GAAK,GACpB,EAAO,KAAK,CAAG,EACZ,EAAmB,EACnB,EAEE,EAAc,CACnB,GAAG,CAAS,CACZ,SAAU,CACX,EAEA,EAAiB,MAAM,CAAC,EAAa,EAAG,GACxC,CAAY,CAAC,EAAoB,CAAG,EAEpC,EAAiB,GAEjB,IAAM,GApJR,EAoJiC,EAAiB,GApJ3B,EACvB,AAmJoB,EAAqC,CAjJlD,EAAQ,AAFW,OAEJ,CAAC,AAAC,GAiJmC,AAjJxB,CAAK,CAAC,EAAO,EAAE,CAAC,EAAI,EAAE,GAkJvD,IAAe,GAEX,GACH,EAAW,CACV,KAAM,CAFQ,CAGd,aAAc,EAAO,QAAQ,CAC7B,WAAY,EACZ,QAAS,CACV,EAEF,EACA,CAAC,EAAU,EAAe,EAAc,EAAW,EAG9C,EAAe,CAAA,EAAA,EAAA,OAAA,AAAO,EAC3B,IAAM,CAAC,SACN,EACA,SAAU,AAAC,GAAqB,CAAa,CAAC,EAAS,EAAI,EAAE,UAC7D,aACA,EACD,CAAC,CACD,CAAC,EAAS,EAAe,EAAU,EAAW,EAG/C,MACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAc,QAAQ,CAAA,CACtB,MAAO,WAEP,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,UAAU,CAAA,CACV,mBAAoB,EAAA,cAAc,CAClC,aAAc,IAAM,EAAc,MAClC,UAAW,EACX,YAAa,EACb,QAAS,YAET,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACA,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EACZ,+DACA,YAGA,IAEF,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,UACV,EACA,EACC,EAAkB,EAAW,IAAI,EAEjC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,0FACf,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,+BACX,OAAO,EAAW,IAAI,CAAC,EAAE,MAI1B,WAKT,CAkBO,SAAS,EAAY,QAAE,CAAM,UAAE,CAAQ,WAAE,CAAS,CAAoB,EAC5E,MACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAoB,QAAQ,CAAA,CAAC,MAAO,WACpC,CAAA,EAAA,EAAA,GAAA,EAAC,UAAA,CACA,aAAY,CAAA,EAAG,EAAO,IAAI,CAAC,OAAO,CAAC,CACnC,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EACZ,uOACA,YAGA,KAIL,CAOO,SAAS,EAAa,UAAE,CAAQ,WAAE,CAAS,CAAqB,EACtE,MACC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACA,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EACZ,sHACA,YAGA,GAGJ,CAUO,SAAS,EAAsC,CACrD,UAAQ,UACR,CAAQ,YACR,CAAU,WACV,CAAS,CACT,SAAS,OAAO,CACK,EACrB,GAAM,UAAE,CAAQ,CAAE,CAjEnB,AAiEsB,SAjEb,EACR,IAAM,EAAU,CAAA,EAAA,EAAA,UAAU,AAAV,EAAW,GAE3B,GAAI,CAAC,EACJ,MAAM,AAAI,CADG,KACG,yDAGjB,OAAO,CACR,IA0DO,EAAQ,EAAS,GACjB,YAAE,CAAU,QAAE,CAAM,CAAE,CAAG,CAAA,EAAA,EAAA,YAAA,AAAY,EAAC,CAC3C,GAAI,CAAA,EAAG,EAAA,EAA0B,EAAA,CAAU,AAC5C,GAEA,MACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,CACf,MAAO,EAAM,GAAG,CAAC,AAAC,GAAS,EAAK,EAAE,EAClC,SAAU,EAAA,2BAA2B,UAErC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,gCACrB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACA,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EACZ,+FACA,GAAU,uCACV,GAED,kBAAiB,EAAS,SAAW,WACrC,IAAK,EACL,MAAO,CAAE,UAAW,CAAO,YAET,IAAjB,EAAM,MAAM,EAAU,EACtB,EAAM,GAAG,CAAC,CAAC,EAAM,IAAU,EAAS,EAAM,UAKhD,CAQO,SAAS,EAAW,QAAE,CAAM,UAAE,CAAQ,WAAE,CAAS,CAAmB,EAC1E,GAAM,YACL,CAAU,WACV,CAAS,YACT,CAAU,WACV,CAAS,YACT,CAAU,YACV,CAAU,CACV,CAAG,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,CACf,GAAI,CACL,GAEM,EAAQ,CACb,UAAW,EAAA,GAAG,CAAC,SAAS,CAAC,QAAQ,CAAC,cAClC,CACD,EAEA,MACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CACJ,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EACZ,gNACA,GAAc,sDACd,GAED,gBAAe,EAAa,QAAK,EACjC,IAAK,EACL,MAAO,EACN,GAAG,CAAS,CACZ,GAAG,CAAU,UAEb,GAGJ,CC3WO,SAAS,EAA8C,MAC7D,CAAI,SACJ,CAAO,iBACP,CAAe,oBACf,CAAkB,YAClB,CAAU,mBACV,CAAiB,qBACjB,CAAmB,YACnB,CAAU,YACV,EAAa,OAAO,mBACpB,CAAiB,YACjB,GAAa,CAAK,aAClB,CAAW,CAC0B,EACrC,GAAM,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EACzB,IAAM,EAAK,GAAG,CAAC,IA2BV,EAAgB,IARa,CAClC,EACA,KAGO,CAAE,MADW,AACJ,EADU,EAIkB,IAJZ,CAAC,AAAC,GAAS,EAAK,QAAQ,GAAK,GACjC,MAAM,CAAC,CACpC,EAIM,EAAgB,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,KAC7B,IAAM,EAAmC,CAAC,EAI1C,OAHA,EAAQ,OAAO,CAAC,AAAC,IAChB,CAAI,CAAC,EAAO,EAAE,CAAC,CAAG,EAAc,EAAO,EAAE,CAAE,EAC5C,GACO,CACR,EAAG,CAAC,EAAS,EAAO,EAAc,EAE5B,EAAyD,CAAA,EAAA,EAAA,OAAA,AAAO,EACrE,IACC,EAAQ,GAAG,CAAC,AAAC,IAAS,CACrB,CADoB,EAChB,EAAI,EAAE,CACV,KAAM,EAAI,IAAI,CACd,YAAa,EAAI,WAAW,CAC5B,QAAS,EAAI,OAAO,CACrB,CAAC,EACF,CAAC,EAAQ,EAMJ,EAAuB,IAHH,AAAC,GAC1B,CAAC,GAAG,EAAE,EAAW,IAAI,EAAE,AAE0B,EAF1B,CAAA,AAAY,EAIpC,MACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACA,UAAU,OACV,QAAS,EACT,KAAM,EACN,aApDuB,AAAC,CAoDV,GAnDX,EACH,EACC,EAAK,GAAG,CAAC,AAAC,IAAU,CACnB,EADkB,CACf,CAAI,CACP,AAJqB,OAIb,EAAmB,EAAK,MAAM,CAAE,EAAK,QAAQ,EACtD,CAAC,GAGF,EAAS,EAEX,EA0CE,WAAY,EACZ,kBACC,IACC,AAAC,GACD,CAAA,EAAA,EAAA,GAAA,EAAC,IADF,EACE,CAAI,UAAU,uFACb,EAAW,KAEb,UAGD,EAAQ,GAAG,CAAC,AAAC,IACb,IAAM,EAAO,CAAa,CAAC,EAAO,EAAE,CAAC,EAAI,CAAE,MAAO,CAAE,EACpD,MACC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,CACA,UAAU,uBACV,OAAQ,EAAc,IAAI,CAAC,AAAC,GAAM,EAAE,EAAE,GAAK,EAAO,EAAE,YAGpD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UACA,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACd,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACA,cAAY,OACZ,UAAW,CAAC,yBAAyB,EAAE,EAAO,OAAO,EAAI,GAAA,CAAI,CAC7D,MACC,EAAO,OAAO,CAAG,OAAY,CAAE,gBAAiB,EAAO,WAAY,AAAD,IAGpE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,iDACd,EAAO,IAAI,GAEb,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CACL,UAAU,4EACV,QAAQ,sBAEP,EAAK,KAAK,CAAC,IAAE,KAEd,GAAc,KAAe,MAAV,KAAK,EAAkB,GAC1C,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yCACd,EAAY,EAAK,KAAK,IAGxB,GAA6B,SAAf,EAAK,KAAK,EAAkB,GAC1C,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yCACd,EAAY,EAAK,KAAK,SAK3B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACA,UAAU,gBACV,SAAU,EAAO,EAAE,CACnB,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2HACb,EAAqB,EAAO,IAAI,aAIjC,AAAD,GACA,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAW,OAAQ,EAAK,EAAE,UACzB,EAAW,IADqB,EAAK,EAAE,MA1CtC,EAAO,EAAE,CAiDjB,IAGH,CClNA,IAAA,EAAA,EAAA,CAAA,CAAA,OAEA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAmCA,IAAM,EAID,CACJ,CAAE,GAAI,SAAU,KAAM,SAAU,YAAa,SAAU,EACvD,CAAE,GAAI,YAAa,KAAM,YAAa,YAAa,SAAU,EAC7D,CAAE,GAAI,cAAe,KAAM,cAAe,YAAa,SAAU,EACjE,CAAE,GAAI,UAAW,KAAM,UAAW,YAAa,SAAU,EACzD,CAAE,GAAI,YAAa,KAAM,YAAa,YAAa,SAAU,EAC7D,CAAE,GAAI,YAAa,KAAM,YAAa,YAAa,SAAU,EAC7D,CAEK,EAAe,IAAI,IACxB,EAAmB,GAAG,CAAE,AAAD,GAAY,CAAC,EAAO,EAAE,CAAE,EAAO,IAAI,CAAC,GAEtD,EAA4B,SAoDlC,SAAS,EAAc,UAAE,CAAQ,CAAiC,EA4BjE,GAAM,OAAE,CAAK,WAAE,CAAS,CAAE,CAxBtB,AAwByB,CAvB5B,IAAK,CACJ,MAAO,MACP,UACC,0GACF,EACA,OAAQ,CACP,MAAO,SACP,UACC,0GACF,EACA,KAAM,CACL,MAAO,OACP,UACC,0GACF,EACA,OAAQ,CACP,MAAO,SACP,UACC,kIACF,CACD,CAGmC,CAAC,AADvB,GAAY,SACe,CAExC,MACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAW,CAAA,EAAA,EAAA,EAAA,AAAE,EAAC,sBAAuB,GAAY,QAAQ,mBAC9D,GAGJ,CAEA,SAAS,EAAe,MAAE,CAAI,CAA4B,EACzD,IAAM,EAAM,EAAK,MAAM,CACjB,EAAW,EAAK,QAAQ,CACxB,EAhFN,AAAK,EAAI,EAAL,WAgFmB,CAhFA,CAIhB,CAAA,AAJkB,EAIlB,EAAA,eAAA,AAAe,EAAC,AA4EqB,EA5EjB,cAAc,CAAE,EAAI,YAAY,EAAI,QAHvD,KAgFF,EAAkB,AAxDzB,SAAS,AAAmB,CAAgB,EAC3C,IAAM,EAAW,EAAI,UAAU,CAC/B,GAAI,CAAC,EACJ,OAAO,CADO,IAIf,IAAM,EAAQ,CAAC,EAAS,OAAO,CAAC,CAC1B,EAAY,CAAC,EAAS,IAAI,CAAE,EAAS,KAAK,CAAC,CAAC,MAAM,CAAC,SAAS,IAAI,CAAC,MAKvE,OAJI,GACH,EAAM,IAAI,CAAC,CADG,EAIR,EAAM,MAAM,CAAC,SAAS,IAAI,CAAC,MACnC,EA2C4C,GAE3C,MACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CACJ,UAAU,+FACV,KAAM,CAAC,gBAAgB,EAAE,EAAI,EAAE,CAAA,CAAE,UAEhC,OAAO,EAAI,SAAS,EAAI,OAE1B,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,8DACZ,EAAI,KAAK,EAAI,iBAEf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,EAAI,OAAO,EACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,6BAA6B,QAAQ,qBACpD,EAAI,OAAO,GAGd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAc,SAAW,EAAI,QAAQ,EAAI,WACV,UAA/B,OAAO,EAAI,eAAe,EAC1B,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,KAAK,CAAA,CACL,UAAU,4DACV,QAAQ,oBACR,YACU,EAAI,eAAe,UAKjC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,iDACd,CAAA,EAAA,EAAA,cAAA,AAAc,EAAC,EAAI,WAAW,OAIhC,EAAI,WAAW,EACf,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sDACX,EAAI,WAAW,GAIlB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oDACd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAkB,UAAU,wBAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,uCAxHrB,AAyHO,SAzHE,AAAgB,CAAgB,EACxC,IAAM,EAAW,EAAI,SAAS,CAC9B,GAAI,CAAC,EACJ,MAAO,EADO,oBAIf,GAAI,EAAS,YAAY,CACxB,CAD0B,MACnB,EAAS,YAAY,CAG7B,IAAM,EAAY,CAAC,EAAS,UAAU,CAAE,EAAS,SAAS,CAAC,CAAC,MAAM,CAAC,gBAC/D,AAAJ,EAAc,MAAM,CAAG,EACf,CADkB,CACR,IAAI,CAAC,KAGhB,EAAS,YAAY,EAAI,qBACjC,EAyGuB,QAIlB,GACA,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAO,UAAU,wBAClB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAM,OAIR,GACA,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAa,UAAU,wBACxB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAM,UAKV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mGACd,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,WAAK,WAAS,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,EAAI,SAAS,CAAE,CAAE,OAAQ,OAAQ,MAC3D,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qBACd,EAAY,EAAa,GAAG,CAAC,IAAa,EAAY,SAIzD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,8CACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACN,OAAO,CAAA,CAAA,EACP,UAAU,6BACV,KAAK,KACL,QAAQ,iBAER,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAM,CAAC,gBAAgB,EAAE,EAAI,EAAE,CAAA,CAAE,WAAE,OAExC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAa,UAAU,sBAM9B,CAEO,SAAS,EAAW,CAAE,MAAI,CAAmB,EACnD,GAAM,OAAE,CAAK,CAAE,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,IACpB,CAAC,EAAY,EAAgB,CAAG,CAAA,EAAA,EAAA,aAAa,AAAb,IAEhC,EAAiB,MAAO,MAC7B,CAAI,cACJ,CAAY,CACZ,YAAU,CACiD,IACvD,IAAiB,GAIrB,EAAgB,KACV,AAAC,EAL0B,SAM/B,GAAM,iBAAE,CAAe,CAAE,CAAG,MAAA,EAAA,CAAA,CAAA,OACtB,EAAS,MAAM,EAAgB,EAAK,MAAM,CAAC,EAAE,CAAE,GAErD,GAAI,CAAC,EAAO,OAAO,CAAE,OACpB,EAAM,KAAK,CAAC,qBAAsB,CACjC,YAAa,EAAO,KAAK,AAC1B,GAID,EAAM,OAAO,CACZ,CAAC,IAAI,EAAE,EAAK,MAAM,CAAC,SAAS,CAAC,UAAU,EAAE,EAAa,GAAG,CAAC,GAAA,CAA0B,EAEtF,CAAC,EACF,EACD,EAEA,MACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CACA,oBAAqB,CAAC,EAAU,KAC/B,IAAM,EAAc,EAAM,MAAM,CAAC,AAAC,GAAS,EAAK,QAAQ,GAAK,GACvD,EAAQ,EAAY,MAAM,CAC/B,CAAC,EAAK,IAAS,GAAO,EAAK,CAAN,KAAY,CAAC,WAAW,GAAI,CAAC,CAClD,GAED,MAAO,CAAE,MAAO,EAAY,MAAM,OAAE,CAAM,CAC3C,EACA,QAAS,EACT,KAAM,EACN,WAAW,OACX,YAAa,AAAC,GAAU,CAAA,EAAA,EAAA,cAAA,AAAc,EAAC,GACvC,gBAAkB,AAAD,MAAS,UAAC,CAC1B,GAAI,EAAI,EAAE,CACV,QAAA,EAAU,AArOS,EAqOK,EAAI,EArO+B,IAqOzB,GA/N9B,EAAa,GAAG,CAAC,GADL,EACgC,EAgOhD,OAhOmC,AAgO3B,CACT,CAAC,EACD,WAAY,EACZ,WAAa,AAAD,GAAU,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAe,KAAM,IAC5C,kBAAmB,AAAC,GACnB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uFACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAe,KAAM,MAGxB,YAAY,EACZ,mBAAoB,CAAC,EAAK,IAAe,EACxC,GAAG,CAAG,CACN,CAFuC,MAE/B,EACT,CAAC,EAGJ,0EK3SA,EAAA,EAAA,CAAA,CAAA,uBKDM,EAAY,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAZ,AAAY,CAAZ,AAAY,CAAZ,AAAY,CAAA,CAAA,CAAA,CAAA,CAAA,AAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,EAAa,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAf1C,AAe0C,CAf1C,ADAD,CAAA,ACAC,2CAA8C,CAAA,CAAA,CAAA,CAAK,AAAL,CAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAS,CAAA,EACzE,CAAA,ADAA,CAAA,ACAA,CAAA,ADAA,CCAA,ADAA,CCAA,ADAA,CCAA,ADAA,CCAA,ADAA,8BCA6C,EAAG,CAAA,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,AAAI,CAAA,CAAA,CAAA,CAAK,AAAL,CAAK,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,CAChF,ELcA,IAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OCrBA,EAAA,CAAA,CAAA,ODsBA,IAAA,EAAA,EAAA,CAAA,CAAA,OAUA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAKA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OIpBA,CAAA,CAAA,CAAA,CAAA,AAAM,CAAN,CAAM,CAAA,CAAA,CAAA,AAAO,CAAP,AAAO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAiB,CAAjB,AAAiB,CAAjB,AAAiB,CAAjB,AAAiB,CAAjB,AAAiB,CAAA,CAAA,CAjBM,CAiBE,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,AAhBjC,GAAI,CAAA,ACAH,CAAA,ADAG,CAAA,ACAH,CAAA,ADAG,CAAM,ACAT,CAAA,ADAS,CCAT,ADAS,CAAA,ACAT,ADAa,CCAb,CAAA,CAAA,CAAA,ADAa,CAAM,AAAN,ACAb,CAAA,ADAmB,CCAnB,ADAsB,CAAA,ACAtB,CDAsB,ACAtB,CAAA,ADAsB,CCAtB,ADAsB,CCAtB,ADAsB,AAAM,CCA5B,CAAA,CAAA,ADA4B,CCA5B,ADA4B,AAAK,CCAjC,ADAiC,CAAA,ACAjC,CAAA,ADAiC,CCAjC,ADAiC,CCAjC,ADAiC,CCAjC,ADAiC,CAAA,ACAjC,CDAiC,ACAjC,EDA2C,CCA3C,ADCd,WAAc,CCAH,ADAG,CAAA,ACAH,CDAG,ACAH,SDAgB,CCAH,ADAG,CCAH,ADAG,CAAA,ACAH,CDAG,ACAH,UDAkB,CCAD,ADCzC,CCDyC,ADCxC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAQ,CAAA,AAAE,EAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAa,CAAA,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,CAC5C,CCYA,CHVA,AGUA,CAAA,CAAA,EHVA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAIA,EAAA,EAAA,CAAA,CAAA,OAKA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OIwBO,SAAS,EACf,CAAgD,CAChD,CAA6B,EAE7B,GAAI,CAAC,EACJ,OAAO,CADO,EACU,mBAIzB,GAAI,EAAS,YAAY,CACxB,CAD0B,MACnB,EAAS,YAAY,CAI7B,IAAM,EAAY,EAAS,UAAU,EAAE,OACjC,EAAW,EAAS,SAAS,EAAE,cAErC,AAAI,GAAa,EACT,CAAA,EAAG,EAAU,CAAC,EADK,AACH,EAAA,CAAU,CAI9B,GACA,IAGA,EAAS,EAJE,EACD,KADQ,EACD,CAGI,CACjB,CADmB,CACV,YAAY,CAIzB,EAAS,KAAK,CACV,CADY,CACH,KAAK,CAIlB,GAKG,YALY,OAMpB,CJ1CA,SAAS,EAAoB,UAAE,CAAQ,CAA0B,EAChE,IAAM,EAAe,EAAuB,GAE5C,MACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACd,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0FACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,2BAEjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BACd,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAyB,IACrC,EAAS,YAAY,EACrB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCACX,EAAS,YAAY,SAK1B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,EAAS,KAAK,EACd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4CACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,+CAChB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CACA,KAAM,CAAC,OAAO,EAAE,EAAS,KAAK,CAAA,CAAE,CAChC,UAAU,wCACV,QAAS,AAAC,GAAM,EAAE,eAAe,YAEhC,EAAS,KAAK,MAIjB,EAAS,KAAK,EACd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4CACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,+CACjB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CACA,KAAM,CAAC,IAAI,EAAE,EAAS,KAAK,CAAA,CAAE,CAC7B,UAAU,+BACV,QAAS,AAAC,GAAM,EAAE,eAAe,YAEhC,EAAS,KAAK,WAOtB,CAOO,SAAS,EAAoB,CACnC,UAAQ,WACR,CAAS,CACiB,EAC1B,GAAM,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACzC,EAAe,EAAuB,GAE5C,MACC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCAEd,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,SAAS,CAAA,WACT,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,gBAAgB,CAAA,CAAC,OAAO,CAAA,CAAA,WACxB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,OAAI,CAAA,CACJ,KAAM,CAAC,qBAAqB,EAAE,EAAS,EAAE,CAAA,CAAE,CAC3C,QAAS,AAAC,GAAM,EAAE,eAAe,GACjC,UAAU,0FAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,+CAChB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,oBAAY,SAG9B,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,gBAAgB,CAAA,CAAC,UAAU,OAAO,MAAM,iBACxC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAoB,SAAU,SAKjC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,OAAO,CAAA,CAAC,KAAM,EAAa,aAAc,YACzC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,CAAC,OAAO,CAAA,CAAA,WACtB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CACN,QAAQ,QACR,KAAK,KACL,UAAU,uBACV,aAAY,CAAC,KAAK,EAAE,EAAa,oBAAoB,CAAC,CACtD,QAAS,AAAC,GAAM,EAAE,eAAe,YAEjC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAK,UAAU,0CAGlB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,CAAC,UAAU,OAAO,MAAM,iBACtC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAoB,SAAU,WAKpC,CFjGA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OG/BA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAiCA,IAAM,EAA0D,CAC/D,aAAc,SACd,UAAW,SACX,KAAM,SACN,UAAW,SACX,UAAW,SACX,SAAU,SACV,SAAU,SACV,UAAW,SACX,UAAW,SACX,gBAAiB,SACjB,mBAAoB,SACpB,kBAAmB,SACnB,aAAc,SACd,WAAY,QACb,EAGa,EAAkB,CAAA,EAAA,EAAA,MAAA,AAAM,IACpC,CAAA,EAAA,EAAA,QAAA,AAAQ,EACP,CAAA,EAAA,EAAA,OAAA,AAAO,EACN,CAAC,EAAK,KAAS,CAAD,AACb,QAAS,CAAE,GAAG,CAAc,AAAC,EAE7B,UAAW,CAAC,EAAQ,IACnB,EAAI,AAAC,IAAW,CACf,GADc,KACL,CACR,GAAG,EAAM,OAAO,CAChB,CAAC,EAAO,CAAE,CACX,EACD,CAAC,EAEF,UAAW,AAAC,GACG,AACP,IAAM,OAAO,CAAC,EAAO,EAAI,SAGjC,YAAa,AAAC,GACb,EAAI,AAAC,IAAW,CACf,GADc,KACL,CACR,GAAG,EAAM,OAAO,CAChB,CAAC,EAAO,CAAE,QACX,CACD,CAAC,GAEF,gBAAiB,IAChB,EAAI,CACH,QAAS,CAAE,GAAG,CAAc,AAAC,CAC9B,GACF,CAAC,CACD,CACC,KAAM,kBACN,eAAe,EACf,WAAa,AAAD,IAAY,CAAE,GAAH,KAAY,EAAM,OAAO,CAAC,CAAC,AACnD,GAED,CAAE,KAAM,cAAe,IH7ClB,SAAS,EAAU,MACzB,CAAI,cACJ,EAAe,EAAE,YACjB,CAAU,aACV,EAAc,CAAC,YACf,CAAU,aACV,GAAc,CAAK,oBACnB,EAAqB,EAAE,CACP,EAEhB,IAAM,EAAgB,EAAgB,AAAC,GAAU,EAAM,OAAO,CAAC,IAAI,EAE7D,CAAC,EAAqB,EAAuB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACzD,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAC5D,CAAC,EAAmB,EAAqB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACrD,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EACrD,IAAI,KAIC,EAAe,EAAK,MAAM,CAAC,AAAC,IAEjC,IAAM,GAAa,CAAQ,GAAU,WAAW,EAAI,AADlC,EAC4C,UAAA,AAAU,QACxE,AAAsB,UAAU,CAA5B,EACI,CAAC,EAEa,YAAY,CAA9B,GACI,CAGT,GAEM,EAA4B,CACjC,CACC,IAAK,YACL,OAAQ,aACR,MAAO,OACP,QAAQ,EACR,OAAS,AAAD,GACP,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CACJ,UAAU,2FACV,KAAM,CAAC,gBAAgB,EAAE,EAAI,EAAE,CAAA,CAAE,CACjC,QAAS,AAAC,GAAM,EAAE,eAAe,YAEhC,EAAI,SAAS,EAAI,KAGrB,EACA,CACC,IAAK,QACL,OAAQ,QACR,MAAO,SACP,OAAQ,AAAC,GACR,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,OAAI,CAAA,CACJ,UAAU,gBACV,KAAM,CAAC,gBAAgB,EAAE,EAAI,EAAE,CAAA,CAAE,CACjC,QAAS,AAAC,GAAM,EAAE,eAAe,aAEjC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sEACb,EAAI,KAAK,EAAI,iBAEd,EAAI,WAAW,CACf,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uEACb,EAAI,WAAW,GAEd,OAGP,EACA,CACC,IAAK,WACL,OAAQ,WACR,MAAO,OACP,QAAQ,EACR,aAAc,GACd,SAAU,GACV,OAAQ,AAAC,IAER,IAAM,EAAW,EAAQ,QAAQ,EADjB,AACqB,EAAQ,GADjB,MAC0B,QAEtD,AAAK,GAGgB,CAHjB,CAGwC,GAErC,CAAA,CAJN,CAIM,EAAA,GAAA,EAAC,EAAA,CARuD,AAQnC,SAAU,KAJ9B,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yCAAgC,KAKzD,CACD,EACA,CACC,IAAK,SACL,OAAQ,SACR,MAAO,OACP,QAAQ,EACR,UAAU,EACV,OAAQ,AAAC,GACR,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,cAAc,CAAA,CAAC,OAAS,EAAI,MAAM,EAAI,UAEzC,EACA,CACC,IAAK,WACL,OAAQ,WACR,MAAO,OACP,QAAQ,EACR,cAAc,EACd,UAAU,EACV,OAAQ,AAAC,GACR,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,SAAW,EAAI,QAAQ,EAAI,UAE5C,EACA,CACC,IAAK,iBACL,OAAQ,YACR,MAAO,OACP,QAAQ,EACR,cAAc,EACd,UAAU,EACV,OAAQ,AAAC,GACR,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,sDACd,CAAA,EAAA,EAAA,UAAA,AAAU,EAAC,EAAI,cAAc,EAAI,KAAM,UAG3C,EACA,CACC,IAAK,cACL,OAAQ,SACR,MAAO,OACP,QAAQ,EACR,MAAO,QACP,UAAU,EACV,OAAQ,AAAC,GACR,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,sCACd,CAAA,EAAA,EAAA,cAAA,AAAc,EAAC,EAAI,WAAW,EAAI,EAAG,CAAE,SAAU,CAAE,IAGvD,EACA,CACC,IAAK,UACL,OAAQ,GACR,MAAO,OACP,QAAQ,EACR,OAAQ,AAAC,GACR,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,kBAAkB,CAAA,CAClB,QAAS,CACR,CACC,MAAO,eACP,KAAM,EAAA,GAAG,CACT,KAAM,CAAC,gBAAgB,EAAE,EAAI,EAAE,CAAA,CAAE,AAClC,EACA,CACC,MAAO,WACP,KAAM,EAAA,IAAI,CACV,KAAM,CAAC,gBAAgB,EAAE,EAAI,EAAE,CAAC,KAAK,CAAC,AACvC,EACA,CACC,MAAO,iBACP,KAAM,EAAA,QAAQ,CACd,KAAM,CAAC,mCAAmC,EAAE,EAAI,EAAE,CAAA,CAAE,CACpD,gBAAiB,EAClB,EACA,CACC,MAAO,cACP,KAAM,EAAA,OAAO,CACb,QAAS,cACT,iBAAiB,EACjB,QAAS,KACR,EAAiB,EAAI,EAAE,EACvB,GAAuB,EACxB,CACD,EACA,EAGJ,EACA,CAGK,EAA4B,CACjC,CACC,MAAO,mBACP,KAAM,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,YACzB,QAAU,AAAD,IACR,EAAmB,GACnB,GAAqB,EACtB,EACA,QAAS,aACV,EACA,CAkBD,MACC,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,kBAAkB,CAAA,CAClB,YAAa,EACb,QAAS,EACT,KAAM,EACN,WAAY,EACZ,sBAAuB,EACvB,mBAAoB,EACpB,gBAAgB,CAAA,CAAA,EAChB,YACC,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAA,CAAC,QAfS,CAeA,IAdpB,OAAO,QAAQ,CAAC,IAAI,CAAG,qBACxB,EAamC,KAAK,eACnC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,gBAAgB,aAIlC,UAAW,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAU,UAAU,kCAChC,aAAa,gBACb,iBAAiB,EACjB,OAAO,OACP,UAAW,AAAC,GAAQ,EAAI,EAAE,CAC1B,WAAY,AAAC,GAEL,EAAQ,CADG,EACO,WAAW,EAAI,EAAU,UAAA,AAAU,EAE7D,aAAc,EACd,UAlCmB,CAkCR,IAjCb,OAAO,QAAQ,CAAC,MAAM,EACvB,EAiCG,WA3CqB,AAAD,CA2CR,GA1CV,EACH,EAAW,GAEX,KAHe,EAGR,QAAQ,CAAC,IAAI,CAAG,CAAC,gBAAgB,EAAE,EAAI,EAAE,CAAA,CAAE,AAEpD,EAsCG,YAAY,CAAA,CAAA,EACZ,eAAe,SACf,kBAAkB,gEAClB,aAAgC,WAAlB,EACd,YAAa,IAId,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CACX,aAAc,EACd,KAAM,WAEN,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,kBAAkB,CAAA,WAClB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,iBAAiB,CAAA,WACjB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,gBAAgB,CAAA,UAAC,iBAClB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,sBAAsB,CAAA,UAAC,qEAIzB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,iBAAiB,CAAA,WACjB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,iBAAiB,CAAA,UAAC,WACnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,iBAAiB,CAAA,CACjB,UAAU,qEACV,QAAS,UACR,GAAI,EAAe,CAClB,GAAM,YAAE,CAAU,CAAE,CAAG,MAAA,EAAA,CAAA,CAAA,MAEnB,EADW,MAAM,EAAW,EAAA,EACrB,OAAO,EAAE,AACnB,OAAO,QAAQ,CAAC,MAAM,EAExB,CACD,WACA,oBAQJ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,aAAc,EAAsB,KAAM,WACtD,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,kBAAkB,CAAA,WAClB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,iBAAiB,CAAA,WACjB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,gBAAgB,CAAA,WAAC,WACR,EAAgB,IAAI,CAAC,cAE/B,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,sBAAsB,CAAA,WACrB,EAAgB,IAAI,CAAC,qEAIxB,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,iBAAiB,CAAA,WACjB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,iBAAiB,CAAA,UAAC,WACnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,iBAAiB,CAAA,CACjB,UAAU,qEACV,QAAS,UACR,GAAM,YAAE,CAAU,CAAE,CAAG,MAAA,EAAA,CAAA,CAAA,OACnB,EAAW,EACf,IAAK,IAAM,KAAM,EAEZ,CADW,MAAM,EAAW,EAAA,EACrB,CAFsB,MAEf,EAAE,AACnB,IAGE,EAAW,GAAG,AACjB,OAAO,QAAQ,CAAC,MAAM,EAExB,WACA,sBAQP,yEO3WA,EAAA,EAAA,CAAA,CAAA,OCFA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OA2BA,IAAM,EAAkD,CACvD,KAAM,QACN,aAAc,QACd,SAAU,QACV,UAAW,QACX,SAAU,QACV,UAAW,QACX,iBAAkB,QAClB,UAAW,QACX,eAAgB,QAChB,kBAAmB,QACnB,UAAW,QACX,MAAO,QACP,UAAW,QACX,QAAS,OACV,EAWa,EAAmB,CAAA,EAAA,EAAA,MAAA,AAAM,IACrC,CAAA,EAAA,EAAA,QAAQ,AAAR,EACC,CAAA,EAAA,EAAA,OAAA,AAAO,EACN,CAAC,EAAK,KAAS,CANjB,AAMgB,GAXT,CACN,MAAO,CAAE,GAAG,CAAY,AAAC,EACzB,QAAS,KAAO,EAChB,QAAS,IAAM,QACf,MAAO,KAAO,CACf,CAOG,CACA,EADG,MACM,CAAC,EAAS,IAClB,EAAK,AAAD,IAAY,CACf,AAHqB,GAEP,GACP,CACN,GAAG,EAAM,KAAK,CACd,CAAC,EAAQ,CAAE,CACZ,EACD,CAAC,EACF,QAAS,AAAC,GAAY,IAAM,KAAK,CAAC,EAAQ,EAAI,QAC9C,MAAO,IAAM,EAAI,CAAE,MAAO,CAAE,GAAG,CAAY,AAAC,CAAE,GAC/C,CAAC,CACD,CACC,KAAM,wBACN,WAAY,AAAC,IAAW,CACvB,GADsB,GACf,EAAM,KAAK,CACnB,CAAC,CACD,cAAe,EAChB,GAED,CAAE,KAAM,eAAgB,ID3DnB,SAAS,EAAa,SAC5B,CAAO,OACP,CAAK,QACL,CAAM,UACN,EAAW,IAAI,WACf,CAAS,CACU,QACb,ECyDC,EAAiB,AAAC,GAAU,EAAM,IDzDtB,CCyD2B,CAAC,ADzDhB,ECyDwB,EAAI,SDxDrD,GC4DA,EAAU,EAAiB,AAAC,GAAU,AD5D5B,EC4DkC,OAAO,EAClD,AAAC,GAAuB,ED7DA,EC6DiB,ID5D1C,AC4DiC,ED5DtB,GAAa,QAW9B,CATA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACL,GAAa,IAAe,GAC/B,EAAQ,EAKV,EAAG,CAAC,CANwC,CAM9B,EAEG,UAAU,CAAvB,GACI,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA,QAAA,CAAA,UAAG,GAAU,IAGd,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA,QAAA,CAAA,UAAG,GAAS,GACpB","ignoreList":[3,4,5,6,11,12]}