module.exports=[84411,a=>{"use strict";async function b(a,c,d,e={}){let{limit:f=50,offset:g=0,minSimilarity:h=.3,useFullTextSearch:i=!0,useFuzzyMatch:j=!0}=e;if(!d||0===d.trim().length)return[];let k=d.trim();if(i){let{data:b,error:d}=await a.rpc("search_customers_ranked",{company_id_param:c,search_query:k,result_limit:f,result_offset:g});if(!d&&b)return b}let{data:l}=await a.from("customers").select("*").eq("company_id",c).is("deleted_at",null).or(`display_name.ilike.%${k}%,email.ilike.%${k}%,phone.ilike.%${k}%,company_name.ilike.%${k}%,address.ilike.%${k}%,city.ilike.%${k}%`).order("display_name",{ascending:!0}).limit(f).range(g,g+f-1);return l||[]}async function c(a,b,d,e={}){let{limit:f=50,offset:g=0,useFullTextSearch:h=!0}=e;if(!d||0===d.trim().length)return[];let i=d.trim();if(h){let{data:c,error:d}=await a.rpc("search_jobs_ranked",{company_id_param:b,search_query:i,result_limit:f,result_offset:g});if(!d&&c)return c}let{data:j}=await a.from("jobs").select("*").eq("company_id",b).is("deleted_at",null).or(`job_number.ilike.%${i}%,title.ilike.%${i}%,description.ilike.%${i}%,notes.ilike.%${i}%`).order("created_at",{ascending:!1}).limit(f).range(g,g+f-1);return j||[]}async function d(a,b,c,e={}){let{limit:f=50,offset:g=0,useFullTextSearch:h=!0}=e;if(!c||0===c.trim().length)return[];let i=c.trim();if(h){let{data:c,error:d}=await a.rpc("search_properties_ranked",{company_id_param:b,search_query:i,result_limit:f,result_offset:g});if(!d&&c)return c}let{data:j}=await a.from("properties").select("*").eq("company_id",b).or(`name.ilike.%${i}%,address.ilike.%${i}%,city.ilike.%${i}%,state.ilike.%${i}%,zip_code.ilike.%${i}%`).order("address",{ascending:!0}).limit(f).range(g,g+f-1);return j||[]}async function e(a,b,c,d={}){let{limit:f=100,offset:g=0,useFullTextSearch:h=!0}=d;if(!c||0===c.trim().length)return[];let i=c.trim();if(h){let{data:c,error:d}=await a.rpc("search_price_book_items_ranked",{company_id_param:b,search_query:i,result_limit:f,result_offset:g});if(!d&&c)return c}let{data:j}=await a.from("price_book_items").select("*").eq("company_id",b).or(`name.ilike.%${i}%,sku.ilike.%${i}%,supplier_sku.ilike.%${i}%,description.ilike.%${i}%,category.ilike.%${i}%`).order("name",{ascending:!0}).limit(f).range(g,g+f-1);return j||[]}async function f(a,b,c,d={}){let{limit:e=50,offset:g=0,useFullTextSearch:h=!0}=d;if(!c||0===c.trim().length)return[];let i=c.trim();if(h){let{data:c,error:d}=await a.rpc("search_equipment_ranked",{company_id_param:b,search_query:i,result_limit:e,result_offset:g});if(!d&&c)return c}let{data:j}=await a.from("equipment").select("*").eq("company_id",b).is("deleted_at",null).or(`equipment_number.ilike.%${i}%,name.ilike.%${i}%,type.ilike.%${i}%,manufacturer.ilike.%${i}%,model.ilike.%${i}%,serial_number.ilike.%${i}%`).order("name",{ascending:!0}).limit(e).range(g,g+e-1);return j||[]}async function g(a,h,i,j={}){let k=j.limit||10,[l,m,n,o,p]=await Promise.all([b(a,h,i,{...j,limit:k}),c(a,h,i,{...j,limit:k}),d(a,h,i,{...j,limit:k}),f(a,h,i,{...j,limit:k}),e(a,h,i,{...j,limit:k})]);return{customers:l,jobs:m,properties:n,equipment:o,priceBookItems:p}}a.s(["searchAllEntities",()=>g,"searchCustomersFullText",()=>b,"searchJobsFullText",()=>c],28660),a.s([],79439),a.i(79439),a.i(28660),a.s(["searchAllEntities",()=>g,"searchCustomersFullText",()=>b,"searchJobsFullText",()=>c],84411)}];

//# sourceMappingURL=apps_admin_src_lib_search_full-text-search_ts_adae8686._.js.map