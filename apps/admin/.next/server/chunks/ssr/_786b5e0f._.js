module.exports=[38734,a=>{"use strict";var b=a.i(19351);a.s(["createWebClient",0,()=>{let a=process.env.WEB_SUPABASE_URL,c=process.env.WEB_SUPABASE_SERVICE_ROLE_KEY;if(!a)throw Error("Missing WEB_SUPABASE_URL environment variable");if(!c)throw Error("Missing WEB_SUPABASE_SERVICE_ROLE_KEY environment variable");return(0,b.createClient)(a,c,{auth:{autoRefreshToken:!1,persistSession:!1}})}])},7912,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"registerServerReference",{enumerable:!0,get:function(){return d.registerServerReference}});let d=a.r(64460)},84251,(a,b,c)=>{"use strict";function d(a){for(let b=0;b<a.length;b++){let c=a[b];if("function"!=typeof c)throw Object.defineProperty(Error(`A "use server" file can only export async functions, found ${typeof c}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`),"__NEXT_ERROR_CODE",{value:"E352",enumerable:!1,configurable:!0})}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"ensureServerEntryExports",{enumerable:!0,get:function(){return d}})},95683,a=>{"use strict";var b=a.i(7912),c=a.i(93097),d=a.i(12906);async function e(a){let b=(0,c.createAdminClient)(),{error:d}=await b.from("admin_audit_logs").insert({admin_user_id:a.adminUserId,admin_email:a.adminEmail,action:a.action,resource_type:a.resourceType,resource_id:a.resourceId,details:a.details,ip_address:a.ipAddress,user_agent:a.userAgent});d&&console.error("Failed to log admin action:",d)}var f=a.i(46052);async function g(a,b="admin"){let h=await (0,d.getAdminSession)();if(!h&&"admin"===b)return{error:"Unauthorized"};let i=(0,c.createAdminClient)(),{data:j}=await i.from("support_sessions").select("*").eq("id",a).single(),{error:k}=await i.from("support_sessions").update({status:"ended",ended_at:new Date().toISOString(),ended_by:b}).eq("id",a);return k?{error:"Failed to end session"}:(h&&j&&await e({adminUserId:h.userId,adminEmail:h.email||"",action:"support_session_ended",resourceType:"company",resourceId:j.company_id,details:{session_id:a,ended_by:b}}),(0,f.revalidatePath)("/admin/dashboard/work/companies"),{success:!0})}(0,a.i(84251).ensureServerEntryExports)([g]),(0,b.registerServerReference)(g,"603b56562ac905a59ad611c9c26163970265203d60",null),a.s(["endSupportSession",()=>g],95683)},59004,a=>{"use strict";var b=a.i(95683),c=a.i(52438),d=a.i(14895),e=a.i(80676),f=a.i(75409);a.s([],14737),a.i(14737),a.s(["603b56562ac905a59ad611c9c26163970265203d60",()=>b.endSupportSession,"6059eaec1ac21cd6f9ad2890cf40676973fb78379e",()=>d.retryFailedPayment,"6070fa5e4296da2e6896faa0d57b8567d73f11b681",()=>e.resetTeamMemberPassword,"60959e02af572f9739a1ce45753bb7014819d85695",()=>d.markPaymentCompleted,"60d22fd78c43e37b9bb0eedee7ecf798e5b8b1b5d3",()=>f.sendInvoiceReminder,"60f689bdbae4c8c4c0214b03bcda312112badb96b4",()=>f.voidInvoice,"70011e89a27332af3f21c9840737547e1e76af090f",()=>f.updateInvoiceStatus,"70313e32929dd54f4bde93f6cb838669ddedcb3d82",()=>c.reassignJob,"7049d1469c6c66326eefce4aedcbe0769adb1ca483",()=>e.changeTeamMemberRole,"706573facb6d3d9a5a4a93be96af7cc10b01674f7a",()=>c.updateJobStatus,"706afc929bd09ee621a65e81531d18139b0609d20a",()=>c.updateJobPriority,"708c498faeda8813bc53e1f8bc67509ce1929478c7",()=>f.updateInvoiceDueDate,"70b33b4db5177009fd2aca47e81922dd597dfd73d5",()=>e.updateTeamMemberEmail,"70c2eb54b6f410fd5d20e2279b1e767acc56fac674",()=>d.issuePaymentRefund,"70d63ce953cb58bab09fc6decf1d72432a48a5c3fd",()=>e.updateTeamMemberStatus,"70d999140c54489f8ab5f8dfe3697dd25e899809bb",()=>d.updatePaymentMethod,"70dc1ca351b7a32ead1c62c3aa87ad77522378e420",()=>c.addJobNote,"7859a9646c7f3be7bb4a92a9b4fc161b1bae9e5a62",()=>c.updateJobSchedule],59004)}];

//# sourceMappingURL=_786b5e0f._.js.map