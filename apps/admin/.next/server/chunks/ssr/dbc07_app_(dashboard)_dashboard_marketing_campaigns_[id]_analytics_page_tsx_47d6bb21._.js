module.exports=[67949,a=>{"use strict";var b=a.i(15596),c=a.i(25473),d=a.i(84036),e=a.i(23523),f=a.i(71242),g=a.i(43474);let h=(0,g.default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var i=a.i(52310);let j=(0,g.default)("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);var k=a.i(74319),l=a.i(72024);let m=(0,g.default)("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),n=(0,g.default)("tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);var o=a.i(42969),p=a.i(78541),q=a.i(52973);a.i(82214);var r=a.i(28504);a.i(30154);var s=a.i(68553),t=a.i(67776),u=a.i(38355),v=a.i(62349),w=a.i(76798);async function x({params:a}){let{id:g}=await a,[x,y]=await Promise.all([(0,w.getCampaignById)(g),(0,w.getCampaignLinks)(g)]);x&&"sent"===x.status||(0,r.notFound)();let z=(x.deliveredCount/x.sentCount*100).toFixed(1),A=(x.uniqueOpens/x.deliveredCount*100).toFixed(1),B=(x.uniqueClicks/x.deliveredCount*100).toFixed(1),C=(x.bouncedCount/x.sentCount*100).toFixed(1),D=(x.unsubscribedCount/x.deliveredCount*100).toFixed(2),E=[{country:"United States",count:Math.round(.479*x.uniqueOpens),percentage:47.9},{country:"United Kingdom",count:Math.round(.143*x.uniqueOpens),percentage:14.3},{country:"Canada",count:Math.round(.123*x.uniqueOpens),percentage:12.3},{country:"Australia",count:Math.round(.082*x.uniqueOpens),percentage:8.2},{country:"Germany",count:Math.round(.061*x.uniqueOpens),percentage:6.1},{country:"Other",count:Math.round(.112*x.uniqueOpens),percentage:11.2}],F=[{hour:"6 AM",opens:Math.round(.02*x.uniqueOpens)},{hour:"7 AM",opens:Math.round(.05*x.uniqueOpens)},{hour:"8 AM",opens:Math.round(.12*x.uniqueOpens)},{hour:"9 AM",opens:Math.round(.21*x.uniqueOpens)},{hour:"10 AM",opens:Math.round(.18*x.uniqueOpens)},{hour:"11 AM",opens:Math.round(.13*x.uniqueOpens)},{hour:"12 PM",opens:Math.round(.09*x.uniqueOpens)},{hour:"1 PM",opens:Math.round(.06*x.uniqueOpens)},{hour:"2 PM",opens:Math.round(.07*x.uniqueOpens)},{hour:"3 PM",opens:Math.round(.04*x.uniqueOpens)},{hour:"4 PM",opens:Math.round(.02*x.uniqueOpens)},{hour:"5 PM",opens:Math.round(.01*x.uniqueOpens)}];return(0,b.jsxs)("div",{className:"flex flex-col gap-6 p-6",children:[(0,b.jsx)("div",{className:"flex items-start justify-between",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)(s.Button,{variant:"ghost",size:"icon",asChild:!0,children:(0,b.jsx)(q.default,{href:`/dashboard/marketing/campaigns/${x.id}`,children:(0,b.jsx)(c.ArrowLeft,{className:"size-4"})})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:x.name}),(0,b.jsx)(t.CampaignStatusBadge,{status:x.status})]}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1",children:"Campaign Analytics"})]})]})}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-6",children:[(0,b.jsxs)("div",{className:"rounded-lg border bg-card p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(l.Send,{className:"h-4 w-4 text-purple-600"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Sent"})]}),(0,b.jsx)("p",{className:"mt-2 text-2xl font-bold",children:(0,u.formatNumber)(x.sentCount)})]}),(0,b.jsxs)("div",{className:"rounded-lg border bg-card p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(e.CheckCircle,{className:"h-4 w-4 text-blue-600"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Delivered"})]}),(0,b.jsx)("p",{className:"mt-2 text-2xl font-bold",children:(0,u.formatNumber)(x.deliveredCount)}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[z,"% delivery rate"]})]}),(0,b.jsxs)("div",{className:"rounded-lg border bg-card p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(f.Eye,{className:"h-4 w-4 text-amber-600"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Opens"})]}),(0,b.jsx)("p",{className:"mt-2 text-2xl font-bold",children:(0,u.formatNumber)(x.uniqueOpens)}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[A,"% open rate"]})]}),(0,b.jsxs)("div",{className:"rounded-lg border bg-card p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(k.MousePointer,{className:"h-4 w-4 text-emerald-600"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Clicks"})]}),(0,b.jsx)("p",{className:"mt-2 text-2xl font-bold",children:(0,u.formatNumber)(x.uniqueClicks)}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[B,"% click rate"]})]}),(0,b.jsxs)("div",{className:"rounded-lg border bg-card p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(p.XCircle,{className:"h-4 w-4 text-red-600"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Bounced"})]}),(0,b.jsx)("p",{className:"mt-2 text-2xl font-bold",children:(0,u.formatNumber)(x.bouncedCount)}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[C,"% bounce rate"]})]}),(0,b.jsxs)("div",{className:"rounded-lg border bg-card p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(o.TrendingUp,{className:"h-4 w-4 text-green-600"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Revenue"})]}),(0,b.jsx)("p",{className:"mt-2 text-2xl font-bold text-emerald-600",children:(0,v.formatCurrency)(x.revenueAttributed,{decimals:0})}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[x.conversionsCount," conversions"]})]})]}),(0,b.jsxs)("div",{className:"grid gap-6 lg:grid-cols-3",children:[(0,b.jsxs)("div",{className:"lg:col-span-2 rounded-lg border bg-card p-6",children:[(0,b.jsxs)("h2",{className:"font-semibold mb-4 flex items-center gap-2",children:[(0,b.jsx)(h,{className:"size-4"}),"Link Performance"]}),y.length>0?(0,b.jsx)("div",{className:"space-y-4",children:y.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,b.jsx)("p",{className:"font-medium truncate",children:a.linkText||"Link"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:a.originalUrl})]}),(0,b.jsxs)("div",{className:"text-right ml-4",children:[(0,b.jsx)("p",{className:"font-mono font-medium",children:a.uniqueClicks}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"unique clicks"})]})]},a.id))}):(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"No link click data available yet."})]}),(0,b.jsxs)("div",{className:"rounded-lg border bg-card p-6",children:[(0,b.jsxs)("h2",{className:"font-semibold mb-4 flex items-center gap-2",children:[(0,b.jsx)(j,{className:"size-4"}),"Device Breakdown"]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(m,{className:"size-4 text-muted-foreground"}),(0,b.jsx)("span",{children:"Mobile"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-24 h-2 rounded-full bg-muted overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-primary rounded-full",style:{width:"48%"}})}),(0,b.jsxs)("span",{className:"font-mono text-sm w-12 text-right",children:[48,"%"]})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(j,{className:"size-4 text-muted-foreground"}),(0,b.jsx)("span",{children:"Desktop"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-24 h-2 rounded-full bg-muted overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-primary rounded-full",style:{width:"45%"}})}),(0,b.jsxs)("span",{className:"font-mono text-sm w-12 text-right",children:[45,"%"]})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(n,{className:"size-4 text-muted-foreground"}),(0,b.jsx)("span",{children:"Tablet"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-24 h-2 rounded-full bg-muted overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-primary rounded-full",style:{width:"7%"}})}),(0,b.jsxs)("span",{className:"font-mono text-sm w-12 text-right",children:[7,"%"]})]})]})]})]})]}),(0,b.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,b.jsxs)("div",{className:"rounded-lg border bg-card p-6",children:[(0,b.jsxs)("h2",{className:"font-semibold mb-4 flex items-center gap-2",children:[(0,b.jsx)(i.Globe,{className:"size-4"}),"Geographic Distribution"]}),(0,b.jsx)("div",{className:"space-y-3",children:E.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{children:a.country}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-32 h-2 rounded-full bg-muted overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-primary rounded-full",style:{width:`${a.percentage}%`}})}),(0,b.jsxs)("span",{className:"font-mono text-sm w-16 text-right",children:[a.percentage,"%"]})]})]},c))})]}),(0,b.jsxs)("div",{className:"rounded-lg border bg-card p-6",children:[(0,b.jsxs)("h2",{className:"font-semibold mb-4 flex items-center gap-2",children:[(0,b.jsx)(d.BarChart3,{className:"size-4"}),"Opens by Hour"]}),(0,b.jsx)("div",{className:"flex items-end gap-1 h-40",children:F.map((a,c)=>{let d=Math.max(...F.map(a=>a.opens)),e=d>0?a.opens/d*100:0;return(0,b.jsxs)("div",{className:"flex-1 flex flex-col items-center gap-1",title:`${a.hour}: ${a.opens} opens`,children:[(0,b.jsx)("div",{className:"w-full bg-primary/80 rounded-t",style:{height:`${e}%`}}),(0,b.jsx)("span",{className:"text-[10px] text-muted-foreground -rotate-45 origin-center",children:a.hour.replace(" AM","a").replace(" PM","p")})]},c)})})]})]}),(0,b.jsxs)("div",{className:"rounded-lg border bg-card p-6",children:[(0,b.jsx)("h2",{className:"font-semibold mb-4",children:"Additional Metrics"}),(0,b.jsxs)("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Opens"}),(0,b.jsx)("p",{className:"text-xl font-bold",children:(0,u.formatNumber)(x.openedCount)}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[x.uniqueOpens>0?(x.openedCount/x.uniqueOpens||0).toFixed(1):"0","x per recipient"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Clicks"}),(0,b.jsx)("p",{className:"text-xl font-bold",children:(0,u.formatNumber)(x.clickedCount)}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[x.uniqueClicks>0?(x.clickedCount/x.uniqueClicks||0).toFixed(1):"0","x per clicker"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Spam Complaints"}),(0,b.jsx)("p",{className:"text-xl font-bold",children:(0,u.formatNumber)(x.complainedCount)}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[x.deliveredCount>0?(x.complainedCount/x.deliveredCount*100).toFixed(3):"0","% rate"]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Unsubscribes"}),(0,b.jsx)("p",{className:"text-xl font-bold",children:(0,u.formatNumber)(x.unsubscribedCount)}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[D,"% rate"]})]})]})]})]})}a.s(["default",()=>x],67949)}];

//# sourceMappingURL=dbc07_app_%28dashboard%29_dashboard_marketing_campaigns_%5Bid%5D_analytics_page_tsx_47d6bb21._.js.map