{"version":3,"sources":["../../../../../node_modules/.pnpm/%40ai-sdk%2Bgateway%402.0.13_zod%404.1.12/node_modules/%40ai-sdk/gateway/dist/index.mjs","../../../../../node_modules/.pnpm/ai%405.0.98_zod%404.1.12/node_modules/ai/dist/index.mjs"],"sourcesContent":["// src/gateway-provider.ts\nimport {\n  loadOptionalSetting,\n  withoutTrailingSlash\n} from \"@ai-sdk/provider-utils\";\n\n// src/errors/as-gateway-error.ts\nimport { APICallError } from \"@ai-sdk/provider\";\n\n// src/errors/create-gateway-error.ts\nimport { z as z2 } from \"zod/v4\";\n\n// src/errors/gateway-error.ts\nvar marker = \"vercel.ai.gateway.error\";\nvar symbol = Symbol.for(marker);\nvar _a, _b;\nvar GatewayError = class _GatewayError extends (_b = Error, _a = symbol, _b) {\n  constructor({\n    message,\n    statusCode = 500,\n    cause\n  }) {\n    super(message);\n    this[_a] = true;\n    this.statusCode = statusCode;\n    this.cause = cause;\n  }\n  /**\n   * Checks if the given error is a Gateway Error.\n   * @param {unknown} error - The error to check.\n   * @returns {boolean} True if the error is a Gateway Error, false otherwise.\n   */\n  static isInstance(error) {\n    return _GatewayError.hasMarker(error);\n  }\n  static hasMarker(error) {\n    return typeof error === \"object\" && error !== null && symbol in error && error[symbol] === true;\n  }\n};\n\n// src/errors/gateway-authentication-error.ts\nvar name = \"GatewayAuthenticationError\";\nvar marker2 = `vercel.ai.gateway.error.${name}`;\nvar symbol2 = Symbol.for(marker2);\nvar _a2, _b2;\nvar GatewayAuthenticationError = class _GatewayAuthenticationError extends (_b2 = GatewayError, _a2 = symbol2, _b2) {\n  constructor({\n    message = \"Authentication failed\",\n    statusCode = 401,\n    cause\n  } = {}) {\n    super({ message, statusCode, cause });\n    this[_a2] = true;\n    // used in isInstance\n    this.name = name;\n    this.type = \"authentication_error\";\n  }\n  static isInstance(error) {\n    return GatewayError.hasMarker(error) && symbol2 in error;\n  }\n  /**\n   * Creates a contextual error message when authentication fails\n   */\n  static createContextualError({\n    apiKeyProvided,\n    oidcTokenProvided,\n    message = \"Authentication failed\",\n    statusCode = 401,\n    cause\n  }) {\n    let contextualMessage;\n    if (apiKeyProvided) {\n      contextualMessage = `AI Gateway authentication failed: Invalid API key.\n\nCreate a new API key: https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%2Fapi-keys\n\nProvide via 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.`;\n    } else if (oidcTokenProvided) {\n      contextualMessage = `AI Gateway authentication failed: Invalid OIDC token.\n\nRun 'npx vercel link' to link your project, then 'vc env pull' to fetch the token.\n\nAlternatively, use an API key: https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%2Fapi-keys`;\n    } else {\n      contextualMessage = `AI Gateway authentication failed: No authentication provided.\n\nOption 1 - API key:\nCreate an API key: https://vercel.com/d?to=%2F%5Bteam%5D%2F%7E%2Fai%2Fapi-keys\nProvide via 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.\n\nOption 2 - OIDC token:\nRun 'npx vercel link' to link your project, then 'vc env pull' to fetch the token.`;\n    }\n    return new _GatewayAuthenticationError({\n      message: contextualMessage,\n      statusCode,\n      cause\n    });\n  }\n};\n\n// src/errors/gateway-invalid-request-error.ts\nvar name2 = \"GatewayInvalidRequestError\";\nvar marker3 = `vercel.ai.gateway.error.${name2}`;\nvar symbol3 = Symbol.for(marker3);\nvar _a3, _b3;\nvar GatewayInvalidRequestError = class extends (_b3 = GatewayError, _a3 = symbol3, _b3) {\n  constructor({\n    message = \"Invalid request\",\n    statusCode = 400,\n    cause\n  } = {}) {\n    super({ message, statusCode, cause });\n    this[_a3] = true;\n    // used in isInstance\n    this.name = name2;\n    this.type = \"invalid_request_error\";\n  }\n  static isInstance(error) {\n    return GatewayError.hasMarker(error) && symbol3 in error;\n  }\n};\n\n// src/errors/gateway-rate-limit-error.ts\nvar name3 = \"GatewayRateLimitError\";\nvar marker4 = `vercel.ai.gateway.error.${name3}`;\nvar symbol4 = Symbol.for(marker4);\nvar _a4, _b4;\nvar GatewayRateLimitError = class extends (_b4 = GatewayError, _a4 = symbol4, _b4) {\n  constructor({\n    message = \"Rate limit exceeded\",\n    statusCode = 429,\n    cause\n  } = {}) {\n    super({ message, statusCode, cause });\n    this[_a4] = true;\n    // used in isInstance\n    this.name = name3;\n    this.type = \"rate_limit_exceeded\";\n  }\n  static isInstance(error) {\n    return GatewayError.hasMarker(error) && symbol4 in error;\n  }\n};\n\n// src/errors/gateway-model-not-found-error.ts\nimport { z } from \"zod/v4\";\nimport { lazyValidator, zodSchema } from \"@ai-sdk/provider-utils\";\nvar name4 = \"GatewayModelNotFoundError\";\nvar marker5 = `vercel.ai.gateway.error.${name4}`;\nvar symbol5 = Symbol.for(marker5);\nvar modelNotFoundParamSchema = lazyValidator(\n  () => zodSchema(\n    z.object({\n      modelId: z.string()\n    })\n  )\n);\nvar _a5, _b5;\nvar GatewayModelNotFoundError = class extends (_b5 = GatewayError, _a5 = symbol5, _b5) {\n  constructor({\n    message = \"Model not found\",\n    statusCode = 404,\n    modelId,\n    cause\n  } = {}) {\n    super({ message, statusCode, cause });\n    this[_a5] = true;\n    // used in isInstance\n    this.name = name4;\n    this.type = \"model_not_found\";\n    this.modelId = modelId;\n  }\n  static isInstance(error) {\n    return GatewayError.hasMarker(error) && symbol5 in error;\n  }\n};\n\n// src/errors/gateway-internal-server-error.ts\nvar name5 = \"GatewayInternalServerError\";\nvar marker6 = `vercel.ai.gateway.error.${name5}`;\nvar symbol6 = Symbol.for(marker6);\nvar _a6, _b6;\nvar GatewayInternalServerError = class extends (_b6 = GatewayError, _a6 = symbol6, _b6) {\n  constructor({\n    message = \"Internal server error\",\n    statusCode = 500,\n    cause\n  } = {}) {\n    super({ message, statusCode, cause });\n    this[_a6] = true;\n    // used in isInstance\n    this.name = name5;\n    this.type = \"internal_server_error\";\n  }\n  static isInstance(error) {\n    return GatewayError.hasMarker(error) && symbol6 in error;\n  }\n};\n\n// src/errors/gateway-response-error.ts\nvar name6 = \"GatewayResponseError\";\nvar marker7 = `vercel.ai.gateway.error.${name6}`;\nvar symbol7 = Symbol.for(marker7);\nvar _a7, _b7;\nvar GatewayResponseError = class extends (_b7 = GatewayError, _a7 = symbol7, _b7) {\n  constructor({\n    message = \"Invalid response from Gateway\",\n    statusCode = 502,\n    response,\n    validationError,\n    cause\n  } = {}) {\n    super({ message, statusCode, cause });\n    this[_a7] = true;\n    // used in isInstance\n    this.name = name6;\n    this.type = \"response_error\";\n    this.response = response;\n    this.validationError = validationError;\n  }\n  static isInstance(error) {\n    return GatewayError.hasMarker(error) && symbol7 in error;\n  }\n};\n\n// src/errors/create-gateway-error.ts\nimport {\n  lazyValidator as lazyValidator2,\n  safeValidateTypes,\n  zodSchema as zodSchema2\n} from \"@ai-sdk/provider-utils\";\nasync function createGatewayErrorFromResponse({\n  response,\n  statusCode,\n  defaultMessage = \"Gateway request failed\",\n  cause,\n  authMethod\n}) {\n  const parseResult = await safeValidateTypes({\n    value: response,\n    schema: gatewayErrorResponseSchema\n  });\n  if (!parseResult.success) {\n    return new GatewayResponseError({\n      message: `Invalid error response format: ${defaultMessage}`,\n      statusCode,\n      response,\n      validationError: parseResult.error,\n      cause\n    });\n  }\n  const validatedResponse = parseResult.value;\n  const errorType = validatedResponse.error.type;\n  const message = validatedResponse.error.message;\n  switch (errorType) {\n    case \"authentication_error\":\n      return GatewayAuthenticationError.createContextualError({\n        apiKeyProvided: authMethod === \"api-key\",\n        oidcTokenProvided: authMethod === \"oidc\",\n        statusCode,\n        cause\n      });\n    case \"invalid_request_error\":\n      return new GatewayInvalidRequestError({ message, statusCode, cause });\n    case \"rate_limit_exceeded\":\n      return new GatewayRateLimitError({ message, statusCode, cause });\n    case \"model_not_found\": {\n      const modelResult = await safeValidateTypes({\n        value: validatedResponse.error.param,\n        schema: modelNotFoundParamSchema\n      });\n      return new GatewayModelNotFoundError({\n        message,\n        statusCode,\n        modelId: modelResult.success ? modelResult.value.modelId : void 0,\n        cause\n      });\n    }\n    case \"internal_server_error\":\n      return new GatewayInternalServerError({ message, statusCode, cause });\n    default:\n      return new GatewayInternalServerError({ message, statusCode, cause });\n  }\n}\nvar gatewayErrorResponseSchema = lazyValidator2(\n  () => zodSchema2(\n    z2.object({\n      error: z2.object({\n        message: z2.string(),\n        type: z2.string().nullish(),\n        param: z2.unknown().nullish(),\n        code: z2.union([z2.string(), z2.number()]).nullish()\n      })\n    })\n  )\n);\n\n// src/errors/as-gateway-error.ts\nfunction asGatewayError(error, authMethod) {\n  var _a8;\n  if (GatewayError.isInstance(error)) {\n    return error;\n  }\n  if (APICallError.isInstance(error)) {\n    return createGatewayErrorFromResponse({\n      response: extractApiCallResponse(error),\n      statusCode: (_a8 = error.statusCode) != null ? _a8 : 500,\n      defaultMessage: \"Gateway request failed\",\n      cause: error,\n      authMethod\n    });\n  }\n  return createGatewayErrorFromResponse({\n    response: {},\n    statusCode: 500,\n    defaultMessage: error instanceof Error ? `Gateway request failed: ${error.message}` : \"Unknown Gateway error\",\n    cause: error,\n    authMethod\n  });\n}\n\n// src/errors/extract-api-call-response.ts\nfunction extractApiCallResponse(error) {\n  if (error.data !== void 0) {\n    return error.data;\n  }\n  if (error.responseBody != null) {\n    try {\n      return JSON.parse(error.responseBody);\n    } catch (e) {\n      return error.responseBody;\n    }\n  }\n  return {};\n}\n\n// src/errors/parse-auth-method.ts\nimport { z as z3 } from \"zod/v4\";\nimport {\n  lazyValidator as lazyValidator3,\n  safeValidateTypes as safeValidateTypes2,\n  zodSchema as zodSchema3\n} from \"@ai-sdk/provider-utils\";\nvar GATEWAY_AUTH_METHOD_HEADER = \"ai-gateway-auth-method\";\nasync function parseAuthMethod(headers) {\n  const result = await safeValidateTypes2({\n    value: headers[GATEWAY_AUTH_METHOD_HEADER],\n    schema: gatewayAuthMethodSchema\n  });\n  return result.success ? result.value : void 0;\n}\nvar gatewayAuthMethodSchema = lazyValidator3(\n  () => zodSchema3(z3.union([z3.literal(\"api-key\"), z3.literal(\"oidc\")]))\n);\n\n// src/gateway-fetch-metadata.ts\nimport {\n  createJsonErrorResponseHandler,\n  createJsonResponseHandler,\n  getFromApi,\n  lazyValidator as lazyValidator4,\n  resolve,\n  zodSchema as zodSchema4\n} from \"@ai-sdk/provider-utils\";\nimport { z as z4 } from \"zod/v4\";\nvar GatewayFetchMetadata = class {\n  constructor(config) {\n    this.config = config;\n  }\n  async getAvailableModels() {\n    try {\n      const { value } = await getFromApi({\n        url: `${this.config.baseURL}/config`,\n        headers: await resolve(this.config.headers()),\n        successfulResponseHandler: createJsonResponseHandler(\n          gatewayAvailableModelsResponseSchema\n        ),\n        failedResponseHandler: createJsonErrorResponseHandler({\n          errorSchema: z4.any(),\n          errorToMessage: (data) => data\n        }),\n        fetch: this.config.fetch\n      });\n      return value;\n    } catch (error) {\n      throw await asGatewayError(error);\n    }\n  }\n  async getCredits() {\n    try {\n      const baseUrl = new URL(this.config.baseURL);\n      const { value } = await getFromApi({\n        url: `${baseUrl.origin}/v1/credits`,\n        headers: await resolve(this.config.headers()),\n        successfulResponseHandler: createJsonResponseHandler(\n          gatewayCreditsResponseSchema\n        ),\n        failedResponseHandler: createJsonErrorResponseHandler({\n          errorSchema: z4.any(),\n          errorToMessage: (data) => data\n        }),\n        fetch: this.config.fetch\n      });\n      return value;\n    } catch (error) {\n      throw await asGatewayError(error);\n    }\n  }\n};\nvar gatewayAvailableModelsResponseSchema = lazyValidator4(\n  () => zodSchema4(\n    z4.object({\n      models: z4.array(\n        z4.object({\n          id: z4.string(),\n          name: z4.string(),\n          description: z4.string().nullish(),\n          pricing: z4.object({\n            input: z4.string(),\n            output: z4.string(),\n            input_cache_read: z4.string().nullish(),\n            input_cache_write: z4.string().nullish()\n          }).transform(\n            ({ input, output, input_cache_read, input_cache_write }) => ({\n              input,\n              output,\n              ...input_cache_read ? { cachedInputTokens: input_cache_read } : {},\n              ...input_cache_write ? { cacheCreationInputTokens: input_cache_write } : {}\n            })\n          ).nullish(),\n          specification: z4.object({\n            specificationVersion: z4.literal(\"v2\"),\n            provider: z4.string(),\n            modelId: z4.string()\n          }),\n          modelType: z4.enum([\"language\", \"embedding\", \"image\"]).nullish()\n        })\n      )\n    })\n  )\n);\nvar gatewayCreditsResponseSchema = lazyValidator4(\n  () => zodSchema4(\n    z4.object({\n      balance: z4.string(),\n      total_used: z4.string()\n    }).transform(({ balance, total_used }) => ({\n      balance,\n      totalUsed: total_used\n    }))\n  )\n);\n\n// src/gateway-language-model.ts\nimport {\n  combineHeaders,\n  createEventSourceResponseHandler,\n  createJsonErrorResponseHandler as createJsonErrorResponseHandler2,\n  createJsonResponseHandler as createJsonResponseHandler2,\n  postJsonToApi,\n  resolve as resolve2\n} from \"@ai-sdk/provider-utils\";\nimport { z as z5 } from \"zod/v4\";\nvar GatewayLanguageModel = class {\n  constructor(modelId, config) {\n    this.modelId = modelId;\n    this.config = config;\n    this.specificationVersion = \"v2\";\n    this.supportedUrls = { \"*/*\": [/.*/] };\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  async getArgs(options) {\n    const { abortSignal: _abortSignal, ...optionsWithoutSignal } = options;\n    return {\n      args: this.maybeEncodeFileParts(optionsWithoutSignal),\n      warnings: []\n    };\n  }\n  async doGenerate(options) {\n    const { args, warnings } = await this.getArgs(options);\n    const { abortSignal } = options;\n    const resolvedHeaders = await resolve2(this.config.headers());\n    try {\n      const {\n        responseHeaders,\n        value: responseBody,\n        rawValue: rawResponse\n      } = await postJsonToApi({\n        url: this.getUrl(),\n        headers: combineHeaders(\n          resolvedHeaders,\n          options.headers,\n          this.getModelConfigHeaders(this.modelId, false),\n          await resolve2(this.config.o11yHeaders)\n        ),\n        body: args,\n        successfulResponseHandler: createJsonResponseHandler2(z5.any()),\n        failedResponseHandler: createJsonErrorResponseHandler2({\n          errorSchema: z5.any(),\n          errorToMessage: (data) => data\n        }),\n        ...abortSignal && { abortSignal },\n        fetch: this.config.fetch\n      });\n      return {\n        ...responseBody,\n        request: { body: args },\n        response: { headers: responseHeaders, body: rawResponse },\n        warnings\n      };\n    } catch (error) {\n      throw await asGatewayError(error, await parseAuthMethod(resolvedHeaders));\n    }\n  }\n  async doStream(options) {\n    const { args, warnings } = await this.getArgs(options);\n    const { abortSignal } = options;\n    const resolvedHeaders = await resolve2(this.config.headers());\n    try {\n      const { value: response, responseHeaders } = await postJsonToApi({\n        url: this.getUrl(),\n        headers: combineHeaders(\n          resolvedHeaders,\n          options.headers,\n          this.getModelConfigHeaders(this.modelId, true),\n          await resolve2(this.config.o11yHeaders)\n        ),\n        body: args,\n        successfulResponseHandler: createEventSourceResponseHandler(z5.any()),\n        failedResponseHandler: createJsonErrorResponseHandler2({\n          errorSchema: z5.any(),\n          errorToMessage: (data) => data\n        }),\n        ...abortSignal && { abortSignal },\n        fetch: this.config.fetch\n      });\n      return {\n        stream: response.pipeThrough(\n          new TransformStream({\n            start(controller) {\n              if (warnings.length > 0) {\n                controller.enqueue({ type: \"stream-start\", warnings });\n              }\n            },\n            transform(chunk, controller) {\n              if (chunk.success) {\n                const streamPart = chunk.value;\n                if (streamPart.type === \"raw\" && !options.includeRawChunks) {\n                  return;\n                }\n                if (streamPart.type === \"response-metadata\" && streamPart.timestamp && typeof streamPart.timestamp === \"string\") {\n                  streamPart.timestamp = new Date(streamPart.timestamp);\n                }\n                controller.enqueue(streamPart);\n              } else {\n                controller.error(\n                  chunk.error\n                );\n              }\n            }\n          })\n        ),\n        request: { body: args },\n        response: { headers: responseHeaders }\n      };\n    } catch (error) {\n      throw await asGatewayError(error, await parseAuthMethod(resolvedHeaders));\n    }\n  }\n  isFilePart(part) {\n    return part && typeof part === \"object\" && \"type\" in part && part.type === \"file\";\n  }\n  /**\n   * Encodes file parts in the prompt to base64. Mutates the passed options\n   * instance directly to avoid copying the file data.\n   * @param options - The options to encode.\n   * @returns The options with the file parts encoded.\n   */\n  maybeEncodeFileParts(options) {\n    for (const message of options.prompt) {\n      for (const part of message.content) {\n        if (this.isFilePart(part)) {\n          const filePart = part;\n          if (filePart.data instanceof Uint8Array) {\n            const buffer = Uint8Array.from(filePart.data);\n            const base64Data = Buffer.from(buffer).toString(\"base64\");\n            filePart.data = new URL(\n              `data:${filePart.mediaType || \"application/octet-stream\"};base64,${base64Data}`\n            );\n          }\n        }\n      }\n    }\n    return options;\n  }\n  getUrl() {\n    return `${this.config.baseURL}/language-model`;\n  }\n  getModelConfigHeaders(modelId, streaming) {\n    return {\n      \"ai-language-model-specification-version\": \"2\",\n      \"ai-language-model-id\": modelId,\n      \"ai-language-model-streaming\": String(streaming)\n    };\n  }\n};\n\n// src/gateway-embedding-model.ts\nimport {\n  combineHeaders as combineHeaders2,\n  createJsonErrorResponseHandler as createJsonErrorResponseHandler3,\n  createJsonResponseHandler as createJsonResponseHandler3,\n  lazyValidator as lazyValidator5,\n  postJsonToApi as postJsonToApi2,\n  resolve as resolve3,\n  zodSchema as zodSchema5\n} from \"@ai-sdk/provider-utils\";\nimport { z as z6 } from \"zod/v4\";\nvar GatewayEmbeddingModel = class {\n  constructor(modelId, config) {\n    this.modelId = modelId;\n    this.config = config;\n    this.specificationVersion = \"v2\";\n    this.maxEmbeddingsPerCall = 2048;\n    this.supportsParallelCalls = true;\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  async doEmbed({\n    values,\n    headers,\n    abortSignal,\n    providerOptions\n  }) {\n    var _a8;\n    const resolvedHeaders = await resolve3(this.config.headers());\n    try {\n      const {\n        responseHeaders,\n        value: responseBody,\n        rawValue\n      } = await postJsonToApi2({\n        url: this.getUrl(),\n        headers: combineHeaders2(\n          resolvedHeaders,\n          headers != null ? headers : {},\n          this.getModelConfigHeaders(),\n          await resolve3(this.config.o11yHeaders)\n        ),\n        body: {\n          input: values.length === 1 ? values[0] : values,\n          ...providerOptions ? { providerOptions } : {}\n        },\n        successfulResponseHandler: createJsonResponseHandler3(\n          gatewayEmbeddingResponseSchema\n        ),\n        failedResponseHandler: createJsonErrorResponseHandler3({\n          errorSchema: z6.any(),\n          errorToMessage: (data) => data\n        }),\n        ...abortSignal && { abortSignal },\n        fetch: this.config.fetch\n      });\n      return {\n        embeddings: responseBody.embeddings,\n        usage: (_a8 = responseBody.usage) != null ? _a8 : void 0,\n        providerMetadata: responseBody.providerMetadata,\n        response: { headers: responseHeaders, body: rawValue }\n      };\n    } catch (error) {\n      throw await asGatewayError(error, await parseAuthMethod(resolvedHeaders));\n    }\n  }\n  getUrl() {\n    return `${this.config.baseURL}/embedding-model`;\n  }\n  getModelConfigHeaders() {\n    return {\n      \"ai-embedding-model-specification-version\": \"2\",\n      \"ai-model-id\": this.modelId\n    };\n  }\n};\nvar gatewayEmbeddingResponseSchema = lazyValidator5(\n  () => zodSchema5(\n    z6.object({\n      embeddings: z6.array(z6.array(z6.number())),\n      usage: z6.object({ tokens: z6.number() }).nullish(),\n      providerMetadata: z6.record(z6.string(), z6.record(z6.string(), z6.unknown())).optional()\n    })\n  )\n);\n\n// src/gateway-image-model.ts\nimport {\n  combineHeaders as combineHeaders3,\n  createJsonResponseHandler as createJsonResponseHandler4,\n  createJsonErrorResponseHandler as createJsonErrorResponseHandler4,\n  postJsonToApi as postJsonToApi3,\n  resolve as resolve4\n} from \"@ai-sdk/provider-utils\";\nimport { z as z7 } from \"zod/v4\";\nvar GatewayImageModel = class {\n  constructor(modelId, config) {\n    this.modelId = modelId;\n    this.config = config;\n    this.specificationVersion = \"v2\";\n    this.maxImagesPerCall = 4;\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  async doGenerate({\n    prompt,\n    n,\n    size,\n    aspectRatio,\n    seed,\n    providerOptions,\n    headers,\n    abortSignal\n  }) {\n    var _a8;\n    const resolvedHeaders = await resolve4(this.config.headers());\n    try {\n      const {\n        responseHeaders,\n        value: responseBody,\n        rawValue\n      } = await postJsonToApi3({\n        url: this.getUrl(),\n        headers: combineHeaders3(\n          resolvedHeaders,\n          headers != null ? headers : {},\n          this.getModelConfigHeaders(),\n          await resolve4(this.config.o11yHeaders)\n        ),\n        body: {\n          prompt,\n          n,\n          ...size && { size },\n          ...aspectRatio && { aspectRatio },\n          ...seed && { seed },\n          ...providerOptions != null ? providerOptions : {}\n        },\n        successfulResponseHandler: createJsonResponseHandler4(\n          gatewayImageResponseSchema\n        ),\n        failedResponseHandler: createJsonErrorResponseHandler4({\n          errorSchema: z7.any(),\n          errorToMessage: (data) => data\n        }),\n        ...abortSignal && { abortSignal },\n        fetch: this.config.fetch\n      });\n      return {\n        images: responseBody.images,\n        // Always base64 strings from server\n        warnings: (_a8 = responseBody.warnings) != null ? _a8 : [],\n        providerMetadata: responseBody.providerMetadata,\n        response: {\n          timestamp: /* @__PURE__ */ new Date(),\n          modelId: this.modelId,\n          headers: responseHeaders\n        }\n      };\n    } catch (error) {\n      throw asGatewayError(error, await parseAuthMethod(resolvedHeaders));\n    }\n  }\n  getUrl() {\n    return `${this.config.baseURL}/image-model`;\n  }\n  getModelConfigHeaders() {\n    return {\n      \"ai-image-model-specification-version\": \"2\",\n      \"ai-model-id\": this.modelId\n    };\n  }\n};\nvar providerMetadataEntrySchema = z7.object({\n  images: z7.array(z7.unknown()).optional()\n}).catchall(z7.unknown());\nvar gatewayImageResponseSchema = z7.object({\n  images: z7.array(z7.string()),\n  // Always base64 strings over the wire\n  warnings: z7.array(\n    z7.object({\n      type: z7.literal(\"other\"),\n      message: z7.string()\n    })\n  ).optional(),\n  providerMetadata: z7.record(z7.string(), providerMetadataEntrySchema).optional()\n});\n\n// src/vercel-environment.ts\nimport { getContext } from \"@vercel/oidc\";\nimport { getVercelOidcToken } from \"@vercel/oidc\";\nasync function getVercelRequestId() {\n  var _a8;\n  return (_a8 = getContext().headers) == null ? void 0 : _a8[\"x-vercel-id\"];\n}\n\n// src/gateway-provider.ts\nimport { withUserAgentSuffix } from \"@ai-sdk/provider-utils\";\n\n// src/version.ts\nvar VERSION = true ? \"2.0.13\" : \"0.0.0-test\";\n\n// src/gateway-provider.ts\nvar AI_GATEWAY_PROTOCOL_VERSION = \"0.0.1\";\nfunction createGatewayProvider(options = {}) {\n  var _a8, _b8;\n  let pendingMetadata = null;\n  let metadataCache = null;\n  const cacheRefreshMillis = (_a8 = options.metadataCacheRefreshMillis) != null ? _a8 : 1e3 * 60 * 5;\n  let lastFetchTime = 0;\n  const baseURL = (_b8 = withoutTrailingSlash(options.baseURL)) != null ? _b8 : \"https://ai-gateway.vercel.sh/v1/ai\";\n  const getHeaders = async () => {\n    const auth = await getGatewayAuthToken(options);\n    if (auth) {\n      return withUserAgentSuffix(\n        {\n          Authorization: `Bearer ${auth.token}`,\n          \"ai-gateway-protocol-version\": AI_GATEWAY_PROTOCOL_VERSION,\n          [GATEWAY_AUTH_METHOD_HEADER]: auth.authMethod,\n          ...options.headers\n        },\n        `ai-sdk/gateway/${VERSION}`\n      );\n    }\n    throw GatewayAuthenticationError.createContextualError({\n      apiKeyProvided: false,\n      oidcTokenProvided: false,\n      statusCode: 401\n    });\n  };\n  const createO11yHeaders = () => {\n    const deploymentId = loadOptionalSetting({\n      settingValue: void 0,\n      environmentVariableName: \"VERCEL_DEPLOYMENT_ID\"\n    });\n    const environment = loadOptionalSetting({\n      settingValue: void 0,\n      environmentVariableName: \"VERCEL_ENV\"\n    });\n    const region = loadOptionalSetting({\n      settingValue: void 0,\n      environmentVariableName: \"VERCEL_REGION\"\n    });\n    return async () => {\n      const requestId = await getVercelRequestId();\n      return {\n        ...deploymentId && { \"ai-o11y-deployment-id\": deploymentId },\n        ...environment && { \"ai-o11y-environment\": environment },\n        ...region && { \"ai-o11y-region\": region },\n        ...requestId && { \"ai-o11y-request-id\": requestId }\n      };\n    };\n  };\n  const createLanguageModel = (modelId) => {\n    return new GatewayLanguageModel(modelId, {\n      provider: \"gateway\",\n      baseURL,\n      headers: getHeaders,\n      fetch: options.fetch,\n      o11yHeaders: createO11yHeaders()\n    });\n  };\n  const getAvailableModels = async () => {\n    var _a9, _b9, _c;\n    const now = (_c = (_b9 = (_a9 = options._internal) == null ? void 0 : _a9.currentDate) == null ? void 0 : _b9.call(_a9).getTime()) != null ? _c : Date.now();\n    if (!pendingMetadata || now - lastFetchTime > cacheRefreshMillis) {\n      lastFetchTime = now;\n      pendingMetadata = new GatewayFetchMetadata({\n        baseURL,\n        headers: getHeaders,\n        fetch: options.fetch\n      }).getAvailableModels().then((metadata) => {\n        metadataCache = metadata;\n        return metadata;\n      }).catch(async (error) => {\n        throw await asGatewayError(\n          error,\n          await parseAuthMethod(await getHeaders())\n        );\n      });\n    }\n    return metadataCache ? Promise.resolve(metadataCache) : pendingMetadata;\n  };\n  const getCredits = async () => {\n    return new GatewayFetchMetadata({\n      baseURL,\n      headers: getHeaders,\n      fetch: options.fetch\n    }).getCredits().catch(async (error) => {\n      throw await asGatewayError(\n        error,\n        await parseAuthMethod(await getHeaders())\n      );\n    });\n  };\n  const provider = function(modelId) {\n    if (new.target) {\n      throw new Error(\n        \"The Gateway Provider model function cannot be called with the new keyword.\"\n      );\n    }\n    return createLanguageModel(modelId);\n  };\n  provider.getAvailableModels = getAvailableModels;\n  provider.getCredits = getCredits;\n  provider.imageModel = (modelId) => {\n    return new GatewayImageModel(modelId, {\n      provider: \"gateway\",\n      baseURL,\n      headers: getHeaders,\n      fetch: options.fetch,\n      o11yHeaders: createO11yHeaders()\n    });\n  };\n  provider.languageModel = createLanguageModel;\n  provider.textEmbeddingModel = (modelId) => {\n    return new GatewayEmbeddingModel(modelId, {\n      provider: \"gateway\",\n      baseURL,\n      headers: getHeaders,\n      fetch: options.fetch,\n      o11yHeaders: createO11yHeaders()\n    });\n  };\n  return provider;\n}\nvar gateway = createGatewayProvider();\nasync function getGatewayAuthToken(options) {\n  const apiKey = loadOptionalSetting({\n    settingValue: options.apiKey,\n    environmentVariableName: \"AI_GATEWAY_API_KEY\"\n  });\n  if (apiKey) {\n    return {\n      token: apiKey,\n      authMethod: \"api-key\"\n    };\n  }\n  try {\n    const oidcToken = await getVercelOidcToken();\n    return {\n      token: oidcToken,\n      authMethod: \"oidc\"\n    };\n  } catch (e) {\n    return null;\n  }\n}\nexport {\n  GatewayAuthenticationError,\n  GatewayError,\n  GatewayInternalServerError,\n  GatewayInvalidRequestError,\n  GatewayModelNotFoundError,\n  GatewayRateLimitError,\n  GatewayResponseError,\n  createGatewayProvider as createGateway,\n  createGatewayProvider,\n  gateway\n};\n//# sourceMappingURL=index.mjs.map","var __defProp = Object.defineProperty;\nvar __export = (target, all) => {\n  for (var name16 in all)\n    __defProp(target, name16, { get: all[name16], enumerable: true });\n};\n\n// src/index.ts\nimport { gateway as gateway2, createGateway } from \"@ai-sdk/gateway\";\nimport {\n  asSchema as asSchema5,\n  createIdGenerator as createIdGenerator5,\n  dynamicTool,\n  generateId as generateId2,\n  jsonSchema,\n  parseJsonEventStream as parseJsonEventStream3,\n  tool,\n  zodSchema as zodSchema3\n} from \"@ai-sdk/provider-utils\";\n\n// src/generate-text/generate-text.ts\nimport {\n  createIdGenerator,\n  executeTool,\n  getErrorMessage as getErrorMessage5,\n  withUserAgentSuffix as withUserAgentSuffix2\n} from \"@ai-sdk/provider-utils\";\n\n// src/error/no-output-specified-error.ts\nimport { AISDKError } from \"@ai-sdk/provider\";\nvar name = \"AI_NoOutputSpecifiedError\";\nvar marker = `vercel.ai.error.${name}`;\nvar symbol = Symbol.for(marker);\nvar _a;\nvar NoOutputSpecifiedError = class extends AISDKError {\n  // used in isInstance\n  constructor({ message = \"No output specified.\" } = {}) {\n    super({ name, message });\n    this[_a] = true;\n  }\n  static isInstance(error) {\n    return AISDKError.hasMarker(error, marker);\n  }\n};\n_a = symbol;\n\n// src/logger/log-warnings.ts\nfunction formatWarning(warning) {\n  const prefix = \"AI SDK Warning:\";\n  switch (warning.type) {\n    case \"unsupported-setting\": {\n      let message = `${prefix} The \"${warning.setting}\" setting is not supported by this model`;\n      if (warning.details) {\n        message += ` - ${warning.details}`;\n      }\n      return message;\n    }\n    case \"unsupported-tool\": {\n      const toolName = \"name\" in warning.tool ? warning.tool.name : \"unknown tool\";\n      let message = `${prefix} The tool \"${toolName}\" is not supported by this model`;\n      if (warning.details) {\n        message += ` - ${warning.details}`;\n      }\n      return message;\n    }\n    case \"other\": {\n      return `${prefix} ${warning.message}`;\n    }\n    default: {\n      return `${prefix} ${JSON.stringify(warning, null, 2)}`;\n    }\n  }\n}\nvar FIRST_WARNING_INFO_MESSAGE = \"AI SDK Warning System: To turn off warning logging, set the AI_SDK_LOG_WARNINGS global to false.\";\nvar hasLoggedBefore = false;\nvar logWarnings = (warnings) => {\n  if (warnings.length === 0) {\n    return;\n  }\n  const logger = globalThis.AI_SDK_LOG_WARNINGS;\n  if (logger === false) {\n    return;\n  }\n  if (typeof logger === \"function\") {\n    logger(warnings);\n    return;\n  }\n  if (!hasLoggedBefore) {\n    hasLoggedBefore = true;\n    console.info(FIRST_WARNING_INFO_MESSAGE);\n  }\n  for (const warning of warnings) {\n    console.warn(formatWarning(warning));\n  }\n};\n\n// src/model/resolve-model.ts\nimport { gateway } from \"@ai-sdk/gateway\";\n\n// src/error/index.ts\nimport {\n  AISDKError as AISDKError17,\n  APICallError,\n  EmptyResponseBodyError,\n  InvalidPromptError,\n  InvalidResponseDataError,\n  JSONParseError,\n  LoadAPIKeyError,\n  LoadSettingError,\n  NoContentGeneratedError,\n  NoSuchModelError,\n  TooManyEmbeddingValuesForCallError,\n  TypeValidationError,\n  UnsupportedFunctionalityError\n} from \"@ai-sdk/provider\";\n\n// src/error/invalid-argument-error.ts\nimport { AISDKError as AISDKError2 } from \"@ai-sdk/provider\";\nvar name2 = \"AI_InvalidArgumentError\";\nvar marker2 = `vercel.ai.error.${name2}`;\nvar symbol2 = Symbol.for(marker2);\nvar _a2;\nvar InvalidArgumentError = class extends AISDKError2 {\n  constructor({\n    parameter,\n    value,\n    message\n  }) {\n    super({\n      name: name2,\n      message: `Invalid argument for parameter ${parameter}: ${message}`\n    });\n    this[_a2] = true;\n    this.parameter = parameter;\n    this.value = value;\n  }\n  static isInstance(error) {\n    return AISDKError2.hasMarker(error, marker2);\n  }\n};\n_a2 = symbol2;\n\n// src/error/invalid-stream-part-error.ts\nimport { AISDKError as AISDKError3 } from \"@ai-sdk/provider\";\nvar name3 = \"AI_InvalidStreamPartError\";\nvar marker3 = `vercel.ai.error.${name3}`;\nvar symbol3 = Symbol.for(marker3);\nvar _a3;\nvar InvalidStreamPartError = class extends AISDKError3 {\n  constructor({\n    chunk,\n    message\n  }) {\n    super({ name: name3, message });\n    this[_a3] = true;\n    this.chunk = chunk;\n  }\n  static isInstance(error) {\n    return AISDKError3.hasMarker(error, marker3);\n  }\n};\n_a3 = symbol3;\n\n// src/error/invalid-tool-input-error.ts\nimport { AISDKError as AISDKError4, getErrorMessage } from \"@ai-sdk/provider\";\nvar name4 = \"AI_InvalidToolInputError\";\nvar marker4 = `vercel.ai.error.${name4}`;\nvar symbol4 = Symbol.for(marker4);\nvar _a4;\nvar InvalidToolInputError = class extends AISDKError4 {\n  constructor({\n    toolInput,\n    toolName,\n    cause,\n    message = `Invalid input for tool ${toolName}: ${getErrorMessage(cause)}`\n  }) {\n    super({ name: name4, message, cause });\n    this[_a4] = true;\n    this.toolInput = toolInput;\n    this.toolName = toolName;\n  }\n  static isInstance(error) {\n    return AISDKError4.hasMarker(error, marker4);\n  }\n};\n_a4 = symbol4;\n\n// src/error/no-image-generated-error.ts\nimport { AISDKError as AISDKError5 } from \"@ai-sdk/provider\";\nvar name5 = \"AI_NoImageGeneratedError\";\nvar marker5 = `vercel.ai.error.${name5}`;\nvar symbol5 = Symbol.for(marker5);\nvar _a5;\nvar NoImageGeneratedError = class extends AISDKError5 {\n  constructor({\n    message = \"No image generated.\",\n    cause,\n    responses\n  }) {\n    super({ name: name5, message, cause });\n    this[_a5] = true;\n    this.responses = responses;\n  }\n  static isInstance(error) {\n    return AISDKError5.hasMarker(error, marker5);\n  }\n};\n_a5 = symbol5;\n\n// src/error/no-object-generated-error.ts\nimport { AISDKError as AISDKError6 } from \"@ai-sdk/provider\";\nvar name6 = \"AI_NoObjectGeneratedError\";\nvar marker6 = `vercel.ai.error.${name6}`;\nvar symbol6 = Symbol.for(marker6);\nvar _a6;\nvar NoObjectGeneratedError = class extends AISDKError6 {\n  constructor({\n    message = \"No object generated.\",\n    cause,\n    text: text2,\n    response,\n    usage,\n    finishReason\n  }) {\n    super({ name: name6, message, cause });\n    this[_a6] = true;\n    this.text = text2;\n    this.response = response;\n    this.usage = usage;\n    this.finishReason = finishReason;\n  }\n  static isInstance(error) {\n    return AISDKError6.hasMarker(error, marker6);\n  }\n};\n_a6 = symbol6;\n\n// src/error/no-output-generated-error.ts\nimport { AISDKError as AISDKError7 } from \"@ai-sdk/provider\";\nvar name7 = \"AI_NoOutputGeneratedError\";\nvar marker7 = `vercel.ai.error.${name7}`;\nvar symbol7 = Symbol.for(marker7);\nvar _a7;\nvar NoOutputGeneratedError = class extends AISDKError7 {\n  // used in isInstance\n  constructor({\n    message = \"No output generated.\",\n    cause\n  } = {}) {\n    super({ name: name7, message, cause });\n    this[_a7] = true;\n  }\n  static isInstance(error) {\n    return AISDKError7.hasMarker(error, marker7);\n  }\n};\n_a7 = symbol7;\n\n// src/error/no-speech-generated-error.ts\nimport { AISDKError as AISDKError8 } from \"@ai-sdk/provider\";\nvar NoSpeechGeneratedError = class extends AISDKError8 {\n  constructor(options) {\n    super({\n      name: \"AI_NoSpeechGeneratedError\",\n      message: \"No speech audio generated.\"\n    });\n    this.responses = options.responses;\n  }\n};\n\n// src/error/no-such-tool-error.ts\nimport { AISDKError as AISDKError9 } from \"@ai-sdk/provider\";\nvar name8 = \"AI_NoSuchToolError\";\nvar marker8 = `vercel.ai.error.${name8}`;\nvar symbol8 = Symbol.for(marker8);\nvar _a8;\nvar NoSuchToolError = class extends AISDKError9 {\n  constructor({\n    toolName,\n    availableTools = void 0,\n    message = `Model tried to call unavailable tool '${toolName}'. ${availableTools === void 0 ? \"No tools are available.\" : `Available tools: ${availableTools.join(\", \")}.`}`\n  }) {\n    super({ name: name8, message });\n    this[_a8] = true;\n    this.toolName = toolName;\n    this.availableTools = availableTools;\n  }\n  static isInstance(error) {\n    return AISDKError9.hasMarker(error, marker8);\n  }\n};\n_a8 = symbol8;\n\n// src/error/tool-call-repair-error.ts\nimport { AISDKError as AISDKError10, getErrorMessage as getErrorMessage2 } from \"@ai-sdk/provider\";\nvar name9 = \"AI_ToolCallRepairError\";\nvar marker9 = `vercel.ai.error.${name9}`;\nvar symbol9 = Symbol.for(marker9);\nvar _a9;\nvar ToolCallRepairError = class extends AISDKError10 {\n  constructor({\n    cause,\n    originalError,\n    message = `Error repairing tool call: ${getErrorMessage2(cause)}`\n  }) {\n    super({ name: name9, message, cause });\n    this[_a9] = true;\n    this.originalError = originalError;\n  }\n  static isInstance(error) {\n    return AISDKError10.hasMarker(error, marker9);\n  }\n};\n_a9 = symbol9;\n\n// src/error/unsupported-model-version-error.ts\nimport { AISDKError as AISDKError11 } from \"@ai-sdk/provider\";\nvar UnsupportedModelVersionError = class extends AISDKError11 {\n  constructor(options) {\n    super({\n      name: \"AI_UnsupportedModelVersionError\",\n      message: `Unsupported model version ${options.version} for provider \"${options.provider}\" and model \"${options.modelId}\". AI SDK 5 only supports models that implement specification version \"v2\".`\n    });\n    this.version = options.version;\n    this.provider = options.provider;\n    this.modelId = options.modelId;\n  }\n};\n\n// src/prompt/invalid-data-content-error.ts\nimport { AISDKError as AISDKError12 } from \"@ai-sdk/provider\";\nvar name10 = \"AI_InvalidDataContentError\";\nvar marker10 = `vercel.ai.error.${name10}`;\nvar symbol10 = Symbol.for(marker10);\nvar _a10;\nvar InvalidDataContentError = class extends AISDKError12 {\n  constructor({\n    content,\n    cause,\n    message = `Invalid data content. Expected a base64 string, Uint8Array, ArrayBuffer, or Buffer, but got ${typeof content}.`\n  }) {\n    super({ name: name10, message, cause });\n    this[_a10] = true;\n    this.content = content;\n  }\n  static isInstance(error) {\n    return AISDKError12.hasMarker(error, marker10);\n  }\n};\n_a10 = symbol10;\n\n// src/prompt/invalid-message-role-error.ts\nimport { AISDKError as AISDKError13 } from \"@ai-sdk/provider\";\nvar name11 = \"AI_InvalidMessageRoleError\";\nvar marker11 = `vercel.ai.error.${name11}`;\nvar symbol11 = Symbol.for(marker11);\nvar _a11;\nvar InvalidMessageRoleError = class extends AISDKError13 {\n  constructor({\n    role,\n    message = `Invalid message role: '${role}'. Must be one of: \"system\", \"user\", \"assistant\", \"tool\".`\n  }) {\n    super({ name: name11, message });\n    this[_a11] = true;\n    this.role = role;\n  }\n  static isInstance(error) {\n    return AISDKError13.hasMarker(error, marker11);\n  }\n};\n_a11 = symbol11;\n\n// src/prompt/message-conversion-error.ts\nimport { AISDKError as AISDKError14 } from \"@ai-sdk/provider\";\nvar name12 = \"AI_MessageConversionError\";\nvar marker12 = `vercel.ai.error.${name12}`;\nvar symbol12 = Symbol.for(marker12);\nvar _a12;\nvar MessageConversionError = class extends AISDKError14 {\n  constructor({\n    originalMessage,\n    message\n  }) {\n    super({ name: name12, message });\n    this[_a12] = true;\n    this.originalMessage = originalMessage;\n  }\n  static isInstance(error) {\n    return AISDKError14.hasMarker(error, marker12);\n  }\n};\n_a12 = symbol12;\n\n// src/util/download/download-error.ts\nimport { AISDKError as AISDKError15 } from \"@ai-sdk/provider\";\nvar name13 = \"AI_DownloadError\";\nvar marker13 = `vercel.ai.error.${name13}`;\nvar symbol13 = Symbol.for(marker13);\nvar _a13;\nvar DownloadError = class extends AISDKError15 {\n  constructor({\n    url,\n    statusCode,\n    statusText,\n    cause,\n    message = cause == null ? `Failed to download ${url}: ${statusCode} ${statusText}` : `Failed to download ${url}: ${cause}`\n  }) {\n    super({ name: name13, message, cause });\n    this[_a13] = true;\n    this.url = url;\n    this.statusCode = statusCode;\n    this.statusText = statusText;\n  }\n  static isInstance(error) {\n    return AISDKError15.hasMarker(error, marker13);\n  }\n};\n_a13 = symbol13;\n\n// src/util/retry-error.ts\nimport { AISDKError as AISDKError16 } from \"@ai-sdk/provider\";\nvar name14 = \"AI_RetryError\";\nvar marker14 = `vercel.ai.error.${name14}`;\nvar symbol14 = Symbol.for(marker14);\nvar _a14;\nvar RetryError = class extends AISDKError16 {\n  constructor({\n    message,\n    reason,\n    errors\n  }) {\n    super({ name: name14, message });\n    this[_a14] = true;\n    this.reason = reason;\n    this.errors = errors;\n    this.lastError = errors[errors.length - 1];\n  }\n  static isInstance(error) {\n    return AISDKError16.hasMarker(error, marker14);\n  }\n};\n_a14 = symbol14;\n\n// src/model/resolve-model.ts\nfunction resolveLanguageModel(model) {\n  if (typeof model !== \"string\") {\n    if (model.specificationVersion !== \"v2\") {\n      throw new UnsupportedModelVersionError({\n        version: model.specificationVersion,\n        provider: model.provider,\n        modelId: model.modelId\n      });\n    }\n    return model;\n  }\n  return getGlobalProvider().languageModel(model);\n}\nfunction resolveEmbeddingModel(model) {\n  if (typeof model !== \"string\") {\n    if (model.specificationVersion !== \"v2\") {\n      throw new UnsupportedModelVersionError({\n        version: model.specificationVersion,\n        provider: model.provider,\n        modelId: model.modelId\n      });\n    }\n    return model;\n  }\n  return getGlobalProvider().textEmbeddingModel(\n    model\n  );\n}\nfunction resolveImageModel(model) {\n  if (typeof model !== \"string\") {\n    if (model.specificationVersion !== \"v2\") {\n      throw new UnsupportedModelVersionError({\n        version: model.specificationVersion,\n        provider: model.provider,\n        modelId: model.modelId\n      });\n    }\n    return model;\n  }\n  return getGlobalProvider().imageModel(model);\n}\nfunction getGlobalProvider() {\n  var _a16;\n  return (_a16 = globalThis.AI_SDK_DEFAULT_PROVIDER) != null ? _a16 : gateway;\n}\n\n// src/prompt/convert-to-language-model-prompt.ts\nimport {\n  isUrlSupported\n} from \"@ai-sdk/provider-utils\";\n\n// src/util/detect-media-type.ts\nimport { convertBase64ToUint8Array } from \"@ai-sdk/provider-utils\";\nvar imageMediaTypeSignatures = [\n  {\n    mediaType: \"image/gif\",\n    bytesPrefix: [71, 73, 70]\n    // GIF\n  },\n  {\n    mediaType: \"image/png\",\n    bytesPrefix: [137, 80, 78, 71]\n    // PNG\n  },\n  {\n    mediaType: \"image/jpeg\",\n    bytesPrefix: [255, 216]\n    // JPEG\n  },\n  {\n    mediaType: \"image/webp\",\n    bytesPrefix: [\n      82,\n      73,\n      70,\n      70,\n      // \"RIFF\"\n      null,\n      null,\n      null,\n      null,\n      // file size (variable)\n      87,\n      69,\n      66,\n      80\n      // \"WEBP\"\n    ]\n  },\n  {\n    mediaType: \"image/bmp\",\n    bytesPrefix: [66, 77]\n  },\n  {\n    mediaType: \"image/tiff\",\n    bytesPrefix: [73, 73, 42, 0]\n  },\n  {\n    mediaType: \"image/tiff\",\n    bytesPrefix: [77, 77, 0, 42]\n  },\n  {\n    mediaType: \"image/avif\",\n    bytesPrefix: [\n      0,\n      0,\n      0,\n      32,\n      102,\n      116,\n      121,\n      112,\n      97,\n      118,\n      105,\n      102\n    ]\n  },\n  {\n    mediaType: \"image/heic\",\n    bytesPrefix: [\n      0,\n      0,\n      0,\n      32,\n      102,\n      116,\n      121,\n      112,\n      104,\n      101,\n      105,\n      99\n    ]\n  }\n];\nvar audioMediaTypeSignatures = [\n  {\n    mediaType: \"audio/mpeg\",\n    bytesPrefix: [255, 251]\n  },\n  {\n    mediaType: \"audio/mpeg\",\n    bytesPrefix: [255, 250]\n  },\n  {\n    mediaType: \"audio/mpeg\",\n    bytesPrefix: [255, 243]\n  },\n  {\n    mediaType: \"audio/mpeg\",\n    bytesPrefix: [255, 242]\n  },\n  {\n    mediaType: \"audio/mpeg\",\n    bytesPrefix: [255, 227]\n  },\n  {\n    mediaType: \"audio/mpeg\",\n    bytesPrefix: [255, 226]\n  },\n  {\n    mediaType: \"audio/wav\",\n    bytesPrefix: [\n      82,\n      // R\n      73,\n      // I\n      70,\n      // F\n      70,\n      // F\n      null,\n      null,\n      null,\n      null,\n      87,\n      // W\n      65,\n      // A\n      86,\n      // V\n      69\n      // E\n    ]\n  },\n  {\n    mediaType: \"audio/ogg\",\n    bytesPrefix: [79, 103, 103, 83]\n  },\n  {\n    mediaType: \"audio/flac\",\n    bytesPrefix: [102, 76, 97, 67]\n  },\n  {\n    mediaType: \"audio/aac\",\n    bytesPrefix: [64, 21, 0, 0]\n  },\n  {\n    mediaType: \"audio/mp4\",\n    bytesPrefix: [102, 116, 121, 112]\n  },\n  {\n    mediaType: \"audio/webm\",\n    bytesPrefix: [26, 69, 223, 163]\n  }\n];\nvar stripID3 = (data) => {\n  const bytes = typeof data === \"string\" ? convertBase64ToUint8Array(data) : data;\n  const id3Size = (bytes[6] & 127) << 21 | (bytes[7] & 127) << 14 | (bytes[8] & 127) << 7 | bytes[9] & 127;\n  return bytes.slice(id3Size + 10);\n};\nfunction stripID3TagsIfPresent(data) {\n  const hasId3 = typeof data === \"string\" && data.startsWith(\"SUQz\") || typeof data !== \"string\" && data.length > 10 && data[0] === 73 && // 'I'\n  data[1] === 68 && // 'D'\n  data[2] === 51;\n  return hasId3 ? stripID3(data) : data;\n}\nfunction detectMediaType({\n  data,\n  signatures\n}) {\n  const processedData = stripID3TagsIfPresent(data);\n  const bytes = typeof processedData === \"string\" ? convertBase64ToUint8Array(\n    processedData.substring(0, Math.min(processedData.length, 24))\n  ) : processedData;\n  for (const signature of signatures) {\n    if (bytes.length >= signature.bytesPrefix.length && signature.bytesPrefix.every(\n      (byte, index) => byte === null || bytes[index] === byte\n    )) {\n      return signature.mediaType;\n    }\n  }\n  return void 0;\n}\n\n// src/util/download/download.ts\nimport {\n  withUserAgentSuffix,\n  getRuntimeEnvironmentUserAgent\n} from \"@ai-sdk/provider-utils\";\n\n// src/version.ts\nvar VERSION = true ? \"5.0.98\" : \"0.0.0-test\";\n\n// src/util/download/download.ts\nvar download = async ({ url }) => {\n  var _a16;\n  const urlText = url.toString();\n  try {\n    const response = await fetch(urlText, {\n      headers: withUserAgentSuffix(\n        {},\n        `ai-sdk/${VERSION}`,\n        getRuntimeEnvironmentUserAgent()\n      )\n    });\n    if (!response.ok) {\n      throw new DownloadError({\n        url: urlText,\n        statusCode: response.status,\n        statusText: response.statusText\n      });\n    }\n    return {\n      data: new Uint8Array(await response.arrayBuffer()),\n      mediaType: (_a16 = response.headers.get(\"content-type\")) != null ? _a16 : void 0\n    };\n  } catch (error) {\n    if (DownloadError.isInstance(error)) {\n      throw error;\n    }\n    throw new DownloadError({ url: urlText, cause: error });\n  }\n};\n\n// src/util/download/download-function.ts\nvar createDefaultDownloadFunction = (download2 = download) => (requestedDownloads) => Promise.all(\n  requestedDownloads.map(\n    async (requestedDownload) => requestedDownload.isUrlSupportedByModel ? null : download2(requestedDownload)\n  )\n);\n\n// src/prompt/data-content.ts\nimport { AISDKError as AISDKError18 } from \"@ai-sdk/provider\";\nimport {\n  convertBase64ToUint8Array as convertBase64ToUint8Array2,\n  convertUint8ArrayToBase64\n} from \"@ai-sdk/provider-utils\";\nimport { z } from \"zod/v4\";\n\n// src/prompt/split-data-url.ts\nfunction splitDataUrl(dataUrl) {\n  try {\n    const [header, base64Content] = dataUrl.split(\",\");\n    return {\n      mediaType: header.split(\";\")[0].split(\":\")[1],\n      base64Content\n    };\n  } catch (error) {\n    return {\n      mediaType: void 0,\n      base64Content: void 0\n    };\n  }\n}\n\n// src/prompt/data-content.ts\nvar dataContentSchema = z.union([\n  z.string(),\n  z.instanceof(Uint8Array),\n  z.instanceof(ArrayBuffer),\n  z.custom(\n    // Buffer might not be available in some environments such as CloudFlare:\n    (value) => {\n      var _a16, _b;\n      return (_b = (_a16 = globalThis.Buffer) == null ? void 0 : _a16.isBuffer(value)) != null ? _b : false;\n    },\n    { message: \"Must be a Buffer\" }\n  )\n]);\nfunction convertToLanguageModelV2DataContent(content) {\n  if (content instanceof Uint8Array) {\n    return { data: content, mediaType: void 0 };\n  }\n  if (content instanceof ArrayBuffer) {\n    return { data: new Uint8Array(content), mediaType: void 0 };\n  }\n  if (typeof content === \"string\") {\n    try {\n      content = new URL(content);\n    } catch (error) {\n    }\n  }\n  if (content instanceof URL && content.protocol === \"data:\") {\n    const { mediaType: dataUrlMediaType, base64Content } = splitDataUrl(\n      content.toString()\n    );\n    if (dataUrlMediaType == null || base64Content == null) {\n      throw new AISDKError18({\n        name: \"InvalidDataContentError\",\n        message: `Invalid data URL format in content ${content.toString()}`\n      });\n    }\n    return { data: base64Content, mediaType: dataUrlMediaType };\n  }\n  return { data: content, mediaType: void 0 };\n}\nfunction convertDataContentToBase64String(content) {\n  if (typeof content === \"string\") {\n    return content;\n  }\n  if (content instanceof ArrayBuffer) {\n    return convertUint8ArrayToBase64(new Uint8Array(content));\n  }\n  return convertUint8ArrayToBase64(content);\n}\nfunction convertDataContentToUint8Array(content) {\n  if (content instanceof Uint8Array) {\n    return content;\n  }\n  if (typeof content === \"string\") {\n    try {\n      return convertBase64ToUint8Array2(content);\n    } catch (error) {\n      throw new InvalidDataContentError({\n        message: \"Invalid data content. Content string is not a base64-encoded media.\",\n        content,\n        cause: error\n      });\n    }\n  }\n  if (content instanceof ArrayBuffer) {\n    return new Uint8Array(content);\n  }\n  throw new InvalidDataContentError({ content });\n}\n\n// src/prompt/convert-to-language-model-prompt.ts\nasync function convertToLanguageModelPrompt({\n  prompt,\n  supportedUrls,\n  download: download2 = createDefaultDownloadFunction()\n}) {\n  const downloadedAssets = await downloadAssets(\n    prompt.messages,\n    download2,\n    supportedUrls\n  );\n  return [\n    ...prompt.system != null ? [{ role: \"system\", content: prompt.system }] : [],\n    ...prompt.messages.map(\n      (message) => convertToLanguageModelMessage({ message, downloadedAssets })\n    )\n  ];\n}\nfunction convertToLanguageModelMessage({\n  message,\n  downloadedAssets\n}) {\n  const role = message.role;\n  switch (role) {\n    case \"system\": {\n      return {\n        role: \"system\",\n        content: message.content,\n        providerOptions: message.providerOptions\n      };\n    }\n    case \"user\": {\n      if (typeof message.content === \"string\") {\n        return {\n          role: \"user\",\n          content: [{ type: \"text\", text: message.content }],\n          providerOptions: message.providerOptions\n        };\n      }\n      return {\n        role: \"user\",\n        content: message.content.map((part) => convertPartToLanguageModelPart(part, downloadedAssets)).filter((part) => part.type !== \"text\" || part.text !== \"\"),\n        providerOptions: message.providerOptions\n      };\n    }\n    case \"assistant\": {\n      if (typeof message.content === \"string\") {\n        return {\n          role: \"assistant\",\n          content: [{ type: \"text\", text: message.content }],\n          providerOptions: message.providerOptions\n        };\n      }\n      return {\n        role: \"assistant\",\n        content: message.content.filter(\n          // remove empty text parts (no text, and no provider options):\n          (part) => part.type !== \"text\" || part.text !== \"\" || part.providerOptions != null\n        ).map((part) => {\n          const providerOptions = part.providerOptions;\n          switch (part.type) {\n            case \"file\": {\n              const { data, mediaType } = convertToLanguageModelV2DataContent(\n                part.data\n              );\n              return {\n                type: \"file\",\n                data,\n                filename: part.filename,\n                mediaType: mediaType != null ? mediaType : part.mediaType,\n                providerOptions\n              };\n            }\n            case \"reasoning\": {\n              return {\n                type: \"reasoning\",\n                text: part.text,\n                providerOptions\n              };\n            }\n            case \"text\": {\n              return {\n                type: \"text\",\n                text: part.text,\n                providerOptions\n              };\n            }\n            case \"tool-call\": {\n              return {\n                type: \"tool-call\",\n                toolCallId: part.toolCallId,\n                toolName: part.toolName,\n                input: part.input,\n                providerExecuted: part.providerExecuted,\n                providerOptions\n              };\n            }\n            case \"tool-result\": {\n              return {\n                type: \"tool-result\",\n                toolCallId: part.toolCallId,\n                toolName: part.toolName,\n                output: part.output,\n                providerOptions\n              };\n            }\n          }\n        }),\n        providerOptions: message.providerOptions\n      };\n    }\n    case \"tool\": {\n      return {\n        role: \"tool\",\n        content: message.content.map((part) => ({\n          type: \"tool-result\",\n          toolCallId: part.toolCallId,\n          toolName: part.toolName,\n          output: part.output,\n          providerOptions: part.providerOptions\n        })),\n        providerOptions: message.providerOptions\n      };\n    }\n    default: {\n      const _exhaustiveCheck = role;\n      throw new InvalidMessageRoleError({ role: _exhaustiveCheck });\n    }\n  }\n}\nasync function downloadAssets(messages, download2, supportedUrls) {\n  const plannedDownloads = messages.filter((message) => message.role === \"user\").map((message) => message.content).filter(\n    (content) => Array.isArray(content)\n  ).flat().filter(\n    (part) => part.type === \"image\" || part.type === \"file\"\n  ).map((part) => {\n    var _a16;\n    const mediaType = (_a16 = part.mediaType) != null ? _a16 : part.type === \"image\" ? \"image/*\" : void 0;\n    let data = part.type === \"image\" ? part.image : part.data;\n    if (typeof data === \"string\") {\n      try {\n        data = new URL(data);\n      } catch (ignored) {\n      }\n    }\n    return { mediaType, data };\n  }).filter(\n    (part) => part.data instanceof URL\n  ).map((part) => ({\n    url: part.data,\n    isUrlSupportedByModel: part.mediaType != null && isUrlSupported({\n      url: part.data.toString(),\n      mediaType: part.mediaType,\n      supportedUrls\n    })\n  }));\n  const downloadedFiles = await download2(plannedDownloads);\n  return Object.fromEntries(\n    downloadedFiles.map(\n      (file, index) => file == null ? null : [\n        plannedDownloads[index].url.toString(),\n        { data: file.data, mediaType: file.mediaType }\n      ]\n    ).filter((file) => file != null)\n  );\n}\nfunction convertPartToLanguageModelPart(part, downloadedAssets) {\n  var _a16;\n  if (part.type === \"text\") {\n    return {\n      type: \"text\",\n      text: part.text,\n      providerOptions: part.providerOptions\n    };\n  }\n  let originalData;\n  const type = part.type;\n  switch (type) {\n    case \"image\":\n      originalData = part.image;\n      break;\n    case \"file\":\n      originalData = part.data;\n      break;\n    default:\n      throw new Error(`Unsupported part type: ${type}`);\n  }\n  const { data: convertedData, mediaType: convertedMediaType } = convertToLanguageModelV2DataContent(originalData);\n  let mediaType = convertedMediaType != null ? convertedMediaType : part.mediaType;\n  let data = convertedData;\n  if (data instanceof URL) {\n    const downloadedFile = downloadedAssets[data.toString()];\n    if (downloadedFile) {\n      data = downloadedFile.data;\n      mediaType != null ? mediaType : mediaType = downloadedFile.mediaType;\n    }\n  }\n  switch (type) {\n    case \"image\": {\n      if (data instanceof Uint8Array || typeof data === \"string\") {\n        mediaType = (_a16 = detectMediaType({ data, signatures: imageMediaTypeSignatures })) != null ? _a16 : mediaType;\n      }\n      return {\n        type: \"file\",\n        mediaType: mediaType != null ? mediaType : \"image/*\",\n        // any image\n        filename: void 0,\n        data,\n        providerOptions: part.providerOptions\n      };\n    }\n    case \"file\": {\n      if (mediaType == null) {\n        throw new Error(`Media type is missing for file part`);\n      }\n      return {\n        type: \"file\",\n        mediaType,\n        filename: part.filename,\n        data,\n        providerOptions: part.providerOptions\n      };\n    }\n  }\n}\n\n// src/prompt/prepare-call-settings.ts\nfunction prepareCallSettings({\n  maxOutputTokens,\n  temperature,\n  topP,\n  topK,\n  presencePenalty,\n  frequencyPenalty,\n  seed,\n  stopSequences\n}) {\n  if (maxOutputTokens != null) {\n    if (!Number.isInteger(maxOutputTokens)) {\n      throw new InvalidArgumentError({\n        parameter: \"maxOutputTokens\",\n        value: maxOutputTokens,\n        message: \"maxOutputTokens must be an integer\"\n      });\n    }\n    if (maxOutputTokens < 1) {\n      throw new InvalidArgumentError({\n        parameter: \"maxOutputTokens\",\n        value: maxOutputTokens,\n        message: \"maxOutputTokens must be >= 1\"\n      });\n    }\n  }\n  if (temperature != null) {\n    if (typeof temperature !== \"number\") {\n      throw new InvalidArgumentError({\n        parameter: \"temperature\",\n        value: temperature,\n        message: \"temperature must be a number\"\n      });\n    }\n  }\n  if (topP != null) {\n    if (typeof topP !== \"number\") {\n      throw new InvalidArgumentError({\n        parameter: \"topP\",\n        value: topP,\n        message: \"topP must be a number\"\n      });\n    }\n  }\n  if (topK != null) {\n    if (typeof topK !== \"number\") {\n      throw new InvalidArgumentError({\n        parameter: \"topK\",\n        value: topK,\n        message: \"topK must be a number\"\n      });\n    }\n  }\n  if (presencePenalty != null) {\n    if (typeof presencePenalty !== \"number\") {\n      throw new InvalidArgumentError({\n        parameter: \"presencePenalty\",\n        value: presencePenalty,\n        message: \"presencePenalty must be a number\"\n      });\n    }\n  }\n  if (frequencyPenalty != null) {\n    if (typeof frequencyPenalty !== \"number\") {\n      throw new InvalidArgumentError({\n        parameter: \"frequencyPenalty\",\n        value: frequencyPenalty,\n        message: \"frequencyPenalty must be a number\"\n      });\n    }\n  }\n  if (seed != null) {\n    if (!Number.isInteger(seed)) {\n      throw new InvalidArgumentError({\n        parameter: \"seed\",\n        value: seed,\n        message: \"seed must be an integer\"\n      });\n    }\n  }\n  return {\n    maxOutputTokens,\n    temperature,\n    topP,\n    topK,\n    presencePenalty,\n    frequencyPenalty,\n    stopSequences,\n    seed\n  };\n}\n\n// src/prompt/prepare-tools-and-tool-choice.ts\nimport { asSchema } from \"@ai-sdk/provider-utils\";\n\n// src/util/is-non-empty-object.ts\nfunction isNonEmptyObject(object2) {\n  return object2 != null && Object.keys(object2).length > 0;\n}\n\n// src/prompt/prepare-tools-and-tool-choice.ts\nfunction prepareToolsAndToolChoice({\n  tools,\n  toolChoice,\n  activeTools\n}) {\n  if (!isNonEmptyObject(tools)) {\n    return {\n      tools: void 0,\n      toolChoice: void 0\n    };\n  }\n  const filteredTools = activeTools != null ? Object.entries(tools).filter(\n    ([name16]) => activeTools.includes(name16)\n  ) : Object.entries(tools);\n  return {\n    tools: filteredTools.map(([name16, tool2]) => {\n      const toolType = tool2.type;\n      switch (toolType) {\n        case void 0:\n        case \"dynamic\":\n        case \"function\":\n          return {\n            type: \"function\",\n            name: name16,\n            description: tool2.description,\n            inputSchema: asSchema(tool2.inputSchema).jsonSchema,\n            providerOptions: tool2.providerOptions\n          };\n        case \"provider-defined\":\n          return {\n            type: \"provider-defined\",\n            name: name16,\n            id: tool2.id,\n            args: tool2.args\n          };\n        default: {\n          const exhaustiveCheck = toolType;\n          throw new Error(`Unsupported tool type: ${exhaustiveCheck}`);\n        }\n      }\n    }),\n    toolChoice: toolChoice == null ? { type: \"auto\" } : typeof toolChoice === \"string\" ? { type: toolChoice } : { type: \"tool\", toolName: toolChoice.toolName }\n  };\n}\n\n// src/prompt/standardize-prompt.ts\nimport { InvalidPromptError as InvalidPromptError2 } from \"@ai-sdk/provider\";\nimport { safeValidateTypes } from \"@ai-sdk/provider-utils\";\nimport { z as z6 } from \"zod/v4\";\n\n// src/prompt/message.ts\nimport { z as z5 } from \"zod/v4\";\n\n// src/types/provider-metadata.ts\nimport { z as z3 } from \"zod/v4\";\n\n// src/types/json-value.ts\nimport { z as z2 } from \"zod/v4\";\nvar jsonValueSchema = z2.lazy(\n  () => z2.union([\n    z2.null(),\n    z2.string(),\n    z2.number(),\n    z2.boolean(),\n    z2.record(z2.string(), jsonValueSchema),\n    z2.array(jsonValueSchema)\n  ])\n);\n\n// src/types/provider-metadata.ts\nvar providerMetadataSchema = z3.record(\n  z3.string(),\n  z3.record(z3.string(), jsonValueSchema)\n);\n\n// src/prompt/content-part.ts\nimport { z as z4 } from \"zod/v4\";\nvar textPartSchema = z4.object({\n  type: z4.literal(\"text\"),\n  text: z4.string(),\n  providerOptions: providerMetadataSchema.optional()\n});\nvar imagePartSchema = z4.object({\n  type: z4.literal(\"image\"),\n  image: z4.union([dataContentSchema, z4.instanceof(URL)]),\n  mediaType: z4.string().optional(),\n  providerOptions: providerMetadataSchema.optional()\n});\nvar filePartSchema = z4.object({\n  type: z4.literal(\"file\"),\n  data: z4.union([dataContentSchema, z4.instanceof(URL)]),\n  filename: z4.string().optional(),\n  mediaType: z4.string(),\n  providerOptions: providerMetadataSchema.optional()\n});\nvar reasoningPartSchema = z4.object({\n  type: z4.literal(\"reasoning\"),\n  text: z4.string(),\n  providerOptions: providerMetadataSchema.optional()\n});\nvar toolCallPartSchema = z4.object({\n  type: z4.literal(\"tool-call\"),\n  toolCallId: z4.string(),\n  toolName: z4.string(),\n  input: z4.unknown(),\n  providerOptions: providerMetadataSchema.optional(),\n  providerExecuted: z4.boolean().optional()\n});\nvar outputSchema = z4.discriminatedUnion(\"type\", [\n  z4.object({\n    type: z4.literal(\"text\"),\n    value: z4.string()\n  }),\n  z4.object({\n    type: z4.literal(\"json\"),\n    value: jsonValueSchema\n  }),\n  z4.object({\n    type: z4.literal(\"error-text\"),\n    value: z4.string()\n  }),\n  z4.object({\n    type: z4.literal(\"error-json\"),\n    value: jsonValueSchema\n  }),\n  z4.object({\n    type: z4.literal(\"content\"),\n    value: z4.array(\n      z4.union([\n        z4.object({\n          type: z4.literal(\"text\"),\n          text: z4.string()\n        }),\n        z4.object({\n          type: z4.literal(\"media\"),\n          data: z4.string(),\n          mediaType: z4.string()\n        })\n      ])\n    )\n  })\n]);\nvar toolResultPartSchema = z4.object({\n  type: z4.literal(\"tool-result\"),\n  toolCallId: z4.string(),\n  toolName: z4.string(),\n  output: outputSchema,\n  providerOptions: providerMetadataSchema.optional()\n});\n\n// src/prompt/message.ts\nvar systemModelMessageSchema = z5.object(\n  {\n    role: z5.literal(\"system\"),\n    content: z5.string(),\n    providerOptions: providerMetadataSchema.optional()\n  }\n);\nvar coreSystemMessageSchema = systemModelMessageSchema;\nvar userModelMessageSchema = z5.object({\n  role: z5.literal(\"user\"),\n  content: z5.union([\n    z5.string(),\n    z5.array(z5.union([textPartSchema, imagePartSchema, filePartSchema]))\n  ]),\n  providerOptions: providerMetadataSchema.optional()\n});\nvar coreUserMessageSchema = userModelMessageSchema;\nvar assistantModelMessageSchema = z5.object({\n  role: z5.literal(\"assistant\"),\n  content: z5.union([\n    z5.string(),\n    z5.array(\n      z5.union([\n        textPartSchema,\n        filePartSchema,\n        reasoningPartSchema,\n        toolCallPartSchema,\n        toolResultPartSchema\n      ])\n    )\n  ]),\n  providerOptions: providerMetadataSchema.optional()\n});\nvar coreAssistantMessageSchema = assistantModelMessageSchema;\nvar toolModelMessageSchema = z5.object({\n  role: z5.literal(\"tool\"),\n  content: z5.array(toolResultPartSchema),\n  providerOptions: providerMetadataSchema.optional()\n});\nvar coreToolMessageSchema = toolModelMessageSchema;\nvar modelMessageSchema = z5.union([\n  systemModelMessageSchema,\n  userModelMessageSchema,\n  assistantModelMessageSchema,\n  toolModelMessageSchema\n]);\nvar coreMessageSchema = modelMessageSchema;\n\n// src/prompt/standardize-prompt.ts\nasync function standardizePrompt(prompt) {\n  if (prompt.prompt == null && prompt.messages == null) {\n    throw new InvalidPromptError2({\n      prompt,\n      message: \"prompt or messages must be defined\"\n    });\n  }\n  if (prompt.prompt != null && prompt.messages != null) {\n    throw new InvalidPromptError2({\n      prompt,\n      message: \"prompt and messages cannot be defined at the same time\"\n    });\n  }\n  if (prompt.system != null && typeof prompt.system !== \"string\") {\n    throw new InvalidPromptError2({\n      prompt,\n      message: \"system must be a string\"\n    });\n  }\n  let messages;\n  if (prompt.prompt != null && typeof prompt.prompt === \"string\") {\n    messages = [{ role: \"user\", content: prompt.prompt }];\n  } else if (prompt.prompt != null && Array.isArray(prompt.prompt)) {\n    messages = prompt.prompt;\n  } else if (prompt.messages != null) {\n    messages = prompt.messages;\n  } else {\n    throw new InvalidPromptError2({\n      prompt,\n      message: \"prompt or messages must be defined\"\n    });\n  }\n  if (messages.length === 0) {\n    throw new InvalidPromptError2({\n      prompt,\n      message: \"messages must not be empty\"\n    });\n  }\n  const validationResult = await safeValidateTypes({\n    value: messages,\n    schema: z6.array(modelMessageSchema)\n  });\n  if (!validationResult.success) {\n    throw new InvalidPromptError2({\n      prompt,\n      message: \"The messages must be a ModelMessage[]. If you have passed a UIMessage[], you can use convertToModelMessages to convert them.\",\n      cause: validationResult.error\n    });\n  }\n  return {\n    messages,\n    system: prompt.system\n  };\n}\n\n// src/prompt/wrap-gateway-error.ts\nimport {\n  GatewayAuthenticationError,\n  GatewayModelNotFoundError\n} from \"@ai-sdk/gateway\";\nimport { AISDKError as AISDKError19 } from \"@ai-sdk/provider\";\nfunction wrapGatewayError(error) {\n  if (GatewayAuthenticationError.isInstance(error) || GatewayModelNotFoundError.isInstance(error)) {\n    return new AISDKError19({\n      name: \"GatewayError\",\n      message: \"Vercel AI Gateway access failed. If you want to use AI SDK providers directly, use the providers, e.g. @ai-sdk/openai, or register a different global default provider.\",\n      cause: error\n    });\n  }\n  return error;\n}\n\n// src/telemetry/assemble-operation-name.ts\nfunction assembleOperationName({\n  operationId,\n  telemetry\n}) {\n  return {\n    // standardized operation and resource name:\n    \"operation.name\": `${operationId}${(telemetry == null ? void 0 : telemetry.functionId) != null ? ` ${telemetry.functionId}` : \"\"}`,\n    \"resource.name\": telemetry == null ? void 0 : telemetry.functionId,\n    // detailed, AI SDK specific data:\n    \"ai.operationId\": operationId,\n    \"ai.telemetry.functionId\": telemetry == null ? void 0 : telemetry.functionId\n  };\n}\n\n// src/telemetry/get-base-telemetry-attributes.ts\nfunction getBaseTelemetryAttributes({\n  model,\n  settings,\n  telemetry,\n  headers\n}) {\n  var _a16;\n  return {\n    \"ai.model.provider\": model.provider,\n    \"ai.model.id\": model.modelId,\n    // settings:\n    ...Object.entries(settings).reduce((attributes, [key, value]) => {\n      attributes[`ai.settings.${key}`] = value;\n      return attributes;\n    }, {}),\n    // add metadata as attributes:\n    ...Object.entries((_a16 = telemetry == null ? void 0 : telemetry.metadata) != null ? _a16 : {}).reduce(\n      (attributes, [key, value]) => {\n        attributes[`ai.telemetry.metadata.${key}`] = value;\n        return attributes;\n      },\n      {}\n    ),\n    // request headers\n    ...Object.entries(headers != null ? headers : {}).reduce((attributes, [key, value]) => {\n      if (value !== void 0) {\n        attributes[`ai.request.headers.${key}`] = value;\n      }\n      return attributes;\n    }, {})\n  };\n}\n\n// src/telemetry/get-tracer.ts\nimport { trace } from \"@opentelemetry/api\";\n\n// src/telemetry/noop-tracer.ts\nvar noopTracer = {\n  startSpan() {\n    return noopSpan;\n  },\n  startActiveSpan(name16, arg1, arg2, arg3) {\n    if (typeof arg1 === \"function\") {\n      return arg1(noopSpan);\n    }\n    if (typeof arg2 === \"function\") {\n      return arg2(noopSpan);\n    }\n    if (typeof arg3 === \"function\") {\n      return arg3(noopSpan);\n    }\n  }\n};\nvar noopSpan = {\n  spanContext() {\n    return noopSpanContext;\n  },\n  setAttribute() {\n    return this;\n  },\n  setAttributes() {\n    return this;\n  },\n  addEvent() {\n    return this;\n  },\n  addLink() {\n    return this;\n  },\n  addLinks() {\n    return this;\n  },\n  setStatus() {\n    return this;\n  },\n  updateName() {\n    return this;\n  },\n  end() {\n    return this;\n  },\n  isRecording() {\n    return false;\n  },\n  recordException() {\n    return this;\n  }\n};\nvar noopSpanContext = {\n  traceId: \"\",\n  spanId: \"\",\n  traceFlags: 0\n};\n\n// src/telemetry/get-tracer.ts\nfunction getTracer({\n  isEnabled = false,\n  tracer\n} = {}) {\n  if (!isEnabled) {\n    return noopTracer;\n  }\n  if (tracer) {\n    return tracer;\n  }\n  return trace.getTracer(\"ai\");\n}\n\n// src/telemetry/record-span.ts\nimport { SpanStatusCode } from \"@opentelemetry/api\";\nfunction recordSpan({\n  name: name16,\n  tracer,\n  attributes,\n  fn,\n  endWhenDone = true\n}) {\n  return tracer.startActiveSpan(name16, { attributes }, async (span) => {\n    try {\n      const result = await fn(span);\n      if (endWhenDone) {\n        span.end();\n      }\n      return result;\n    } catch (error) {\n      try {\n        recordErrorOnSpan(span, error);\n      } finally {\n        span.end();\n      }\n      throw error;\n    }\n  });\n}\nfunction recordErrorOnSpan(span, error) {\n  if (error instanceof Error) {\n    span.recordException({\n      name: error.name,\n      message: error.message,\n      stack: error.stack\n    });\n    span.setStatus({\n      code: SpanStatusCode.ERROR,\n      message: error.message\n    });\n  } else {\n    span.setStatus({ code: SpanStatusCode.ERROR });\n  }\n}\n\n// src/telemetry/select-telemetry-attributes.ts\nfunction selectTelemetryAttributes({\n  telemetry,\n  attributes\n}) {\n  if ((telemetry == null ? void 0 : telemetry.isEnabled) !== true) {\n    return {};\n  }\n  return Object.entries(attributes).reduce((attributes2, [key, value]) => {\n    if (value == null) {\n      return attributes2;\n    }\n    if (typeof value === \"object\" && \"input\" in value && typeof value.input === \"function\") {\n      if ((telemetry == null ? void 0 : telemetry.recordInputs) === false) {\n        return attributes2;\n      }\n      const result = value.input();\n      return result == null ? attributes2 : { ...attributes2, [key]: result };\n    }\n    if (typeof value === \"object\" && \"output\" in value && typeof value.output === \"function\") {\n      if ((telemetry == null ? void 0 : telemetry.recordOutputs) === false) {\n        return attributes2;\n      }\n      const result = value.output();\n      return result == null ? attributes2 : { ...attributes2, [key]: result };\n    }\n    return { ...attributes2, [key]: value };\n  }, {});\n}\n\n// src/telemetry/stringify-for-telemetry.ts\nfunction stringifyForTelemetry(prompt) {\n  return JSON.stringify(\n    prompt.map((message) => ({\n      ...message,\n      content: typeof message.content === \"string\" ? message.content : message.content.map(\n        (part) => part.type === \"file\" ? {\n          ...part,\n          data: part.data instanceof Uint8Array ? convertDataContentToBase64String(part.data) : part.data\n        } : part\n      )\n    }))\n  );\n}\n\n// src/types/usage.ts\nfunction addLanguageModelUsage(usage1, usage2) {\n  return {\n    inputTokens: addTokenCounts(usage1.inputTokens, usage2.inputTokens),\n    outputTokens: addTokenCounts(usage1.outputTokens, usage2.outputTokens),\n    totalTokens: addTokenCounts(usage1.totalTokens, usage2.totalTokens),\n    reasoningTokens: addTokenCounts(\n      usage1.reasoningTokens,\n      usage2.reasoningTokens\n    ),\n    cachedInputTokens: addTokenCounts(\n      usage1.cachedInputTokens,\n      usage2.cachedInputTokens\n    )\n  };\n}\nfunction addTokenCounts(tokenCount1, tokenCount2) {\n  return tokenCount1 == null && tokenCount2 == null ? void 0 : (tokenCount1 != null ? tokenCount1 : 0) + (tokenCount2 != null ? tokenCount2 : 0);\n}\n\n// src/util/as-array.ts\nfunction asArray(value) {\n  return value === void 0 ? [] : Array.isArray(value) ? value : [value];\n}\n\n// src/util/retry-with-exponential-backoff.ts\nimport { APICallError as APICallError2 } from \"@ai-sdk/provider\";\nimport { delay, getErrorMessage as getErrorMessage3, isAbortError } from \"@ai-sdk/provider-utils\";\nfunction getRetryDelayInMs({\n  error,\n  exponentialBackoffDelay\n}) {\n  const headers = error.responseHeaders;\n  if (!headers)\n    return exponentialBackoffDelay;\n  let ms;\n  const retryAfterMs = headers[\"retry-after-ms\"];\n  if (retryAfterMs) {\n    const timeoutMs = parseFloat(retryAfterMs);\n    if (!Number.isNaN(timeoutMs)) {\n      ms = timeoutMs;\n    }\n  }\n  const retryAfter = headers[\"retry-after\"];\n  if (retryAfter && ms === void 0) {\n    const timeoutSeconds = parseFloat(retryAfter);\n    if (!Number.isNaN(timeoutSeconds)) {\n      ms = timeoutSeconds * 1e3;\n    } else {\n      ms = Date.parse(retryAfter) - Date.now();\n    }\n  }\n  if (ms != null && !Number.isNaN(ms) && 0 <= ms && (ms < 60 * 1e3 || ms < exponentialBackoffDelay)) {\n    return ms;\n  }\n  return exponentialBackoffDelay;\n}\nvar retryWithExponentialBackoffRespectingRetryHeaders = ({\n  maxRetries = 2,\n  initialDelayInMs = 2e3,\n  backoffFactor = 2,\n  abortSignal\n} = {}) => async (f) => _retryWithExponentialBackoff(f, {\n  maxRetries,\n  delayInMs: initialDelayInMs,\n  backoffFactor,\n  abortSignal\n});\nasync function _retryWithExponentialBackoff(f, {\n  maxRetries,\n  delayInMs,\n  backoffFactor,\n  abortSignal\n}, errors = []) {\n  try {\n    return await f();\n  } catch (error) {\n    if (isAbortError(error)) {\n      throw error;\n    }\n    if (maxRetries === 0) {\n      throw error;\n    }\n    const errorMessage = getErrorMessage3(error);\n    const newErrors = [...errors, error];\n    const tryNumber = newErrors.length;\n    if (tryNumber > maxRetries) {\n      throw new RetryError({\n        message: `Failed after ${tryNumber} attempts. Last error: ${errorMessage}`,\n        reason: \"maxRetriesExceeded\",\n        errors: newErrors\n      });\n    }\n    if (error instanceof Error && APICallError2.isInstance(error) && error.isRetryable === true && tryNumber <= maxRetries) {\n      await delay(\n        getRetryDelayInMs({\n          error,\n          exponentialBackoffDelay: delayInMs\n        }),\n        { abortSignal }\n      );\n      return _retryWithExponentialBackoff(\n        f,\n        {\n          maxRetries,\n          delayInMs: backoffFactor * delayInMs,\n          backoffFactor,\n          abortSignal\n        },\n        newErrors\n      );\n    }\n    if (tryNumber === 1) {\n      throw error;\n    }\n    throw new RetryError({\n      message: `Failed after ${tryNumber} attempts with non-retryable error: '${errorMessage}'`,\n      reason: \"errorNotRetryable\",\n      errors: newErrors\n    });\n  }\n}\n\n// src/util/prepare-retries.ts\nfunction prepareRetries({\n  maxRetries,\n  abortSignal\n}) {\n  if (maxRetries != null) {\n    if (!Number.isInteger(maxRetries)) {\n      throw new InvalidArgumentError({\n        parameter: \"maxRetries\",\n        value: maxRetries,\n        message: \"maxRetries must be an integer\"\n      });\n    }\n    if (maxRetries < 0) {\n      throw new InvalidArgumentError({\n        parameter: \"maxRetries\",\n        value: maxRetries,\n        message: \"maxRetries must be >= 0\"\n      });\n    }\n  }\n  const maxRetriesResult = maxRetries != null ? maxRetries : 2;\n  return {\n    maxRetries: maxRetriesResult,\n    retry: retryWithExponentialBackoffRespectingRetryHeaders({\n      maxRetries: maxRetriesResult,\n      abortSignal\n    })\n  };\n}\n\n// src/generate-text/extract-text-content.ts\nfunction extractTextContent(content) {\n  const parts = content.filter(\n    (content2) => content2.type === \"text\"\n  );\n  if (parts.length === 0) {\n    return void 0;\n  }\n  return parts.map((content2) => content2.text).join(\"\");\n}\n\n// src/generate-text/generated-file.ts\nimport {\n  convertBase64ToUint8Array as convertBase64ToUint8Array3,\n  convertUint8ArrayToBase64 as convertUint8ArrayToBase642\n} from \"@ai-sdk/provider-utils\";\nvar DefaultGeneratedFile = class {\n  constructor({\n    data,\n    mediaType\n  }) {\n    const isUint8Array = data instanceof Uint8Array;\n    this.base64Data = isUint8Array ? void 0 : data;\n    this.uint8ArrayData = isUint8Array ? data : void 0;\n    this.mediaType = mediaType;\n  }\n  // lazy conversion with caching to avoid unnecessary conversion overhead:\n  get base64() {\n    if (this.base64Data == null) {\n      this.base64Data = convertUint8ArrayToBase642(this.uint8ArrayData);\n    }\n    return this.base64Data;\n  }\n  // lazy conversion with caching to avoid unnecessary conversion overhead:\n  get uint8Array() {\n    if (this.uint8ArrayData == null) {\n      this.uint8ArrayData = convertBase64ToUint8Array3(this.base64Data);\n    }\n    return this.uint8ArrayData;\n  }\n};\nvar DefaultGeneratedFileWithType = class extends DefaultGeneratedFile {\n  constructor(options) {\n    super(options);\n    this.type = \"file\";\n  }\n};\n\n// src/generate-text/parse-tool-call.ts\nimport {\n  asSchema as asSchema2,\n  safeParseJSON,\n  safeValidateTypes as safeValidateTypes2\n} from \"@ai-sdk/provider-utils\";\nasync function parseToolCall({\n  toolCall,\n  tools,\n  repairToolCall,\n  system,\n  messages\n}) {\n  try {\n    if (tools == null) {\n      throw new NoSuchToolError({ toolName: toolCall.toolName });\n    }\n    try {\n      return await doParseToolCall({ toolCall, tools });\n    } catch (error) {\n      if (repairToolCall == null || !(NoSuchToolError.isInstance(error) || InvalidToolInputError.isInstance(error))) {\n        throw error;\n      }\n      let repairedToolCall = null;\n      try {\n        repairedToolCall = await repairToolCall({\n          toolCall,\n          tools,\n          inputSchema: ({ toolName }) => {\n            const { inputSchema } = tools[toolName];\n            return asSchema2(inputSchema).jsonSchema;\n          },\n          system,\n          messages,\n          error\n        });\n      } catch (repairError) {\n        throw new ToolCallRepairError({\n          cause: repairError,\n          originalError: error\n        });\n      }\n      if (repairedToolCall == null) {\n        throw error;\n      }\n      return await doParseToolCall({ toolCall: repairedToolCall, tools });\n    }\n  } catch (error) {\n    const parsedInput = await safeParseJSON({ text: toolCall.input });\n    const input = parsedInput.success ? parsedInput.value : toolCall.input;\n    return {\n      type: \"tool-call\",\n      toolCallId: toolCall.toolCallId,\n      toolName: toolCall.toolName,\n      input,\n      dynamic: true,\n      invalid: true,\n      error\n    };\n  }\n}\nasync function doParseToolCall({\n  toolCall,\n  tools\n}) {\n  const toolName = toolCall.toolName;\n  const tool2 = tools[toolName];\n  if (tool2 == null) {\n    throw new NoSuchToolError({\n      toolName: toolCall.toolName,\n      availableTools: Object.keys(tools)\n    });\n  }\n  const schema = asSchema2(tool2.inputSchema);\n  const parseResult = toolCall.input.trim() === \"\" ? await safeValidateTypes2({ value: {}, schema }) : await safeParseJSON({ text: toolCall.input, schema });\n  if (parseResult.success === false) {\n    throw new InvalidToolInputError({\n      toolName,\n      toolInput: toolCall.input,\n      cause: parseResult.error\n    });\n  }\n  return tool2.type === \"dynamic\" ? {\n    type: \"tool-call\",\n    toolCallId: toolCall.toolCallId,\n    toolName: toolCall.toolName,\n    input: parseResult.value,\n    providerExecuted: toolCall.providerExecuted,\n    providerMetadata: toolCall.providerMetadata,\n    dynamic: true\n  } : {\n    type: \"tool-call\",\n    toolCallId: toolCall.toolCallId,\n    toolName,\n    input: parseResult.value,\n    providerExecuted: toolCall.providerExecuted,\n    providerMetadata: toolCall.providerMetadata\n  };\n}\n\n// src/generate-text/step-result.ts\nvar DefaultStepResult = class {\n  constructor({\n    content,\n    finishReason,\n    usage,\n    warnings,\n    request,\n    response,\n    providerMetadata\n  }) {\n    this.content = content;\n    this.finishReason = finishReason;\n    this.usage = usage;\n    this.warnings = warnings;\n    this.request = request;\n    this.response = response;\n    this.providerMetadata = providerMetadata;\n  }\n  get text() {\n    return this.content.filter((part) => part.type === \"text\").map((part) => part.text).join(\"\");\n  }\n  get reasoning() {\n    return this.content.filter((part) => part.type === \"reasoning\");\n  }\n  get reasoningText() {\n    return this.reasoning.length === 0 ? void 0 : this.reasoning.map((part) => part.text).join(\"\");\n  }\n  get files() {\n    return this.content.filter((part) => part.type === \"file\").map((part) => part.file);\n  }\n  get sources() {\n    return this.content.filter((part) => part.type === \"source\");\n  }\n  get toolCalls() {\n    return this.content.filter((part) => part.type === \"tool-call\");\n  }\n  get staticToolCalls() {\n    return this.toolCalls.filter(\n      (toolCall) => toolCall.dynamic !== true\n    );\n  }\n  get dynamicToolCalls() {\n    return this.toolCalls.filter(\n      (toolCall) => toolCall.dynamic === true\n    );\n  }\n  get toolResults() {\n    return this.content.filter((part) => part.type === \"tool-result\");\n  }\n  get staticToolResults() {\n    return this.toolResults.filter(\n      (toolResult) => toolResult.dynamic !== true\n    );\n  }\n  get dynamicToolResults() {\n    return this.toolResults.filter(\n      (toolResult) => toolResult.dynamic === true\n    );\n  }\n};\n\n// src/generate-text/stop-condition.ts\nfunction stepCountIs(stepCount) {\n  return ({ steps }) => steps.length === stepCount;\n}\nfunction hasToolCall(toolName) {\n  return ({ steps }) => {\n    var _a16, _b, _c;\n    return (_c = (_b = (_a16 = steps[steps.length - 1]) == null ? void 0 : _a16.toolCalls) == null ? void 0 : _b.some(\n      (toolCall) => toolCall.toolName === toolName\n    )) != null ? _c : false;\n  };\n}\nasync function isStopConditionMet({\n  stopConditions,\n  steps\n}) {\n  return (await Promise.all(stopConditions.map((condition) => condition({ steps })))).some((result) => result);\n}\n\n// src/prompt/create-tool-model-output.ts\nimport {\n  getErrorMessage as getErrorMessage4\n} from \"@ai-sdk/provider\";\nfunction createToolModelOutput({\n  output,\n  tool: tool2,\n  errorMode\n}) {\n  if (errorMode === \"text\") {\n    return { type: \"error-text\", value: getErrorMessage4(output) };\n  } else if (errorMode === \"json\") {\n    return { type: \"error-json\", value: toJSONValue(output) };\n  }\n  if (tool2 == null ? void 0 : tool2.toModelOutput) {\n    return tool2.toModelOutput(output);\n  }\n  return typeof output === \"string\" ? { type: \"text\", value: output } : { type: \"json\", value: toJSONValue(output) };\n}\nfunction toJSONValue(value) {\n  return value === void 0 ? null : value;\n}\n\n// src/generate-text/to-response-messages.ts\nfunction toResponseMessages({\n  content: inputContent,\n  tools\n}) {\n  const responseMessages = [];\n  const content = inputContent.filter((part) => part.type !== \"source\").filter(\n    (part) => (part.type !== \"tool-result\" || part.providerExecuted) && (part.type !== \"tool-error\" || part.providerExecuted)\n  ).filter((part) => part.type !== \"text\" || part.text.length > 0).map((part) => {\n    switch (part.type) {\n      case \"text\":\n        return {\n          type: \"text\",\n          text: part.text,\n          providerOptions: part.providerMetadata\n        };\n      case \"reasoning\":\n        return {\n          type: \"reasoning\",\n          text: part.text,\n          providerOptions: part.providerMetadata\n        };\n      case \"file\":\n        return {\n          type: \"file\",\n          data: part.file.base64,\n          mediaType: part.file.mediaType,\n          providerOptions: part.providerMetadata\n        };\n      case \"tool-call\":\n        return {\n          type: \"tool-call\",\n          toolCallId: part.toolCallId,\n          toolName: part.toolName,\n          input: part.input,\n          providerExecuted: part.providerExecuted,\n          providerOptions: part.providerMetadata\n        };\n      case \"tool-result\":\n        return {\n          type: \"tool-result\",\n          toolCallId: part.toolCallId,\n          toolName: part.toolName,\n          output: createToolModelOutput({\n            tool: tools == null ? void 0 : tools[part.toolName],\n            output: part.output,\n            errorMode: \"none\"\n          }),\n          providerExecuted: true,\n          providerOptions: part.providerMetadata\n        };\n      case \"tool-error\":\n        return {\n          type: \"tool-result\",\n          toolCallId: part.toolCallId,\n          toolName: part.toolName,\n          output: createToolModelOutput({\n            tool: tools == null ? void 0 : tools[part.toolName],\n            output: part.error,\n            errorMode: \"json\"\n          }),\n          providerOptions: part.providerMetadata\n        };\n    }\n  });\n  if (content.length > 0) {\n    responseMessages.push({\n      role: \"assistant\",\n      content\n    });\n  }\n  const toolResultContent = inputContent.filter((part) => part.type === \"tool-result\" || part.type === \"tool-error\").filter((part) => !part.providerExecuted).map((toolResult) => ({\n    type: \"tool-result\",\n    toolCallId: toolResult.toolCallId,\n    toolName: toolResult.toolName,\n    output: createToolModelOutput({\n      tool: tools == null ? void 0 : tools[toolResult.toolName],\n      output: toolResult.type === \"tool-result\" ? toolResult.output : toolResult.error,\n      errorMode: toolResult.type === \"tool-error\" ? \"text\" : \"none\"\n    }),\n    ...toolResult.providerMetadata != null ? { providerOptions: toolResult.providerMetadata } : {}\n  }));\n  if (toolResultContent.length > 0) {\n    responseMessages.push({\n      role: \"tool\",\n      content: toolResultContent\n    });\n  }\n  return responseMessages;\n}\n\n// src/generate-text/generate-text.ts\nvar originalGenerateId = createIdGenerator({\n  prefix: \"aitxt\",\n  size: 24\n});\nasync function generateText({\n  model: modelArg,\n  tools,\n  toolChoice,\n  system,\n  prompt,\n  messages,\n  maxRetries: maxRetriesArg,\n  abortSignal,\n  headers,\n  stopWhen = stepCountIs(1),\n  experimental_output: output,\n  experimental_telemetry: telemetry,\n  providerOptions,\n  experimental_activeTools,\n  activeTools = experimental_activeTools,\n  experimental_prepareStep,\n  prepareStep = experimental_prepareStep,\n  experimental_repairToolCall: repairToolCall,\n  experimental_download: download2,\n  experimental_context,\n  _internal: {\n    generateId: generateId3 = originalGenerateId,\n    currentDate = () => /* @__PURE__ */ new Date()\n  } = {},\n  onStepFinish,\n  ...settings\n}) {\n  const model = resolveLanguageModel(modelArg);\n  const stopConditions = asArray(stopWhen);\n  const { maxRetries, retry } = prepareRetries({\n    maxRetries: maxRetriesArg,\n    abortSignal\n  });\n  const callSettings = prepareCallSettings(settings);\n  const headersWithUserAgent = withUserAgentSuffix2(\n    headers != null ? headers : {},\n    `ai/${VERSION}`\n  );\n  const baseTelemetryAttributes = getBaseTelemetryAttributes({\n    model,\n    telemetry,\n    headers: headersWithUserAgent,\n    settings: { ...callSettings, maxRetries }\n  });\n  const initialPrompt = await standardizePrompt({\n    system,\n    prompt,\n    messages\n  });\n  const tracer = getTracer(telemetry);\n  try {\n    return await recordSpan({\n      name: \"ai.generateText\",\n      attributes: selectTelemetryAttributes({\n        telemetry,\n        attributes: {\n          ...assembleOperationName({\n            operationId: \"ai.generateText\",\n            telemetry\n          }),\n          ...baseTelemetryAttributes,\n          // model:\n          \"ai.model.provider\": model.provider,\n          \"ai.model.id\": model.modelId,\n          // specific settings that only make sense on the outer level:\n          \"ai.prompt\": {\n            input: () => JSON.stringify({ system, prompt, messages })\n          }\n        }\n      }),\n      tracer,\n      fn: async (span) => {\n        var _a16, _b, _c, _d, _e, _f, _g;\n        const callSettings2 = prepareCallSettings(settings);\n        let currentModelResponse;\n        let clientToolCalls = [];\n        let clientToolOutputs = [];\n        const responseMessages = [];\n        const steps = [];\n        do {\n          const stepInputMessages = [\n            ...initialPrompt.messages,\n            ...responseMessages\n          ];\n          const prepareStepResult = await (prepareStep == null ? void 0 : prepareStep({\n            model,\n            steps,\n            stepNumber: steps.length,\n            messages: stepInputMessages\n          }));\n          const stepModel = resolveLanguageModel(\n            (_a16 = prepareStepResult == null ? void 0 : prepareStepResult.model) != null ? _a16 : model\n          );\n          const promptMessages = await convertToLanguageModelPrompt({\n            prompt: {\n              system: (_b = prepareStepResult == null ? void 0 : prepareStepResult.system) != null ? _b : initialPrompt.system,\n              messages: (_c = prepareStepResult == null ? void 0 : prepareStepResult.messages) != null ? _c : stepInputMessages\n            },\n            supportedUrls: await stepModel.supportedUrls,\n            download: download2\n          });\n          const { toolChoice: stepToolChoice, tools: stepTools } = prepareToolsAndToolChoice({\n            tools,\n            toolChoice: (_d = prepareStepResult == null ? void 0 : prepareStepResult.toolChoice) != null ? _d : toolChoice,\n            activeTools: (_e = prepareStepResult == null ? void 0 : prepareStepResult.activeTools) != null ? _e : activeTools\n          });\n          currentModelResponse = await retry(\n            () => {\n              var _a17;\n              return recordSpan({\n                name: \"ai.generateText.doGenerate\",\n                attributes: selectTelemetryAttributes({\n                  telemetry,\n                  attributes: {\n                    ...assembleOperationName({\n                      operationId: \"ai.generateText.doGenerate\",\n                      telemetry\n                    }),\n                    ...baseTelemetryAttributes,\n                    // model:\n                    \"ai.model.provider\": stepModel.provider,\n                    \"ai.model.id\": stepModel.modelId,\n                    // prompt:\n                    \"ai.prompt.messages\": {\n                      input: () => stringifyForTelemetry(promptMessages)\n                    },\n                    \"ai.prompt.tools\": {\n                      // convert the language model level tools:\n                      input: () => stepTools == null ? void 0 : stepTools.map((tool2) => JSON.stringify(tool2))\n                    },\n                    \"ai.prompt.toolChoice\": {\n                      input: () => stepToolChoice != null ? JSON.stringify(stepToolChoice) : void 0\n                    },\n                    // standardized gen-ai llm span attributes:\n                    \"gen_ai.system\": stepModel.provider,\n                    \"gen_ai.request.model\": stepModel.modelId,\n                    \"gen_ai.request.frequency_penalty\": settings.frequencyPenalty,\n                    \"gen_ai.request.max_tokens\": settings.maxOutputTokens,\n                    \"gen_ai.request.presence_penalty\": settings.presencePenalty,\n                    \"gen_ai.request.stop_sequences\": settings.stopSequences,\n                    \"gen_ai.request.temperature\": (_a17 = settings.temperature) != null ? _a17 : void 0,\n                    \"gen_ai.request.top_k\": settings.topK,\n                    \"gen_ai.request.top_p\": settings.topP\n                  }\n                }),\n                tracer,\n                fn: async (span2) => {\n                  var _a18, _b2, _c2, _d2, _e2, _f2, _g2, _h;\n                  const result = await stepModel.doGenerate({\n                    ...callSettings2,\n                    tools: stepTools,\n                    toolChoice: stepToolChoice,\n                    responseFormat: output == null ? void 0 : output.responseFormat,\n                    prompt: promptMessages,\n                    providerOptions,\n                    abortSignal,\n                    headers: headersWithUserAgent\n                  });\n                  const responseData = {\n                    id: (_b2 = (_a18 = result.response) == null ? void 0 : _a18.id) != null ? _b2 : generateId3(),\n                    timestamp: (_d2 = (_c2 = result.response) == null ? void 0 : _c2.timestamp) != null ? _d2 : currentDate(),\n                    modelId: (_f2 = (_e2 = result.response) == null ? void 0 : _e2.modelId) != null ? _f2 : stepModel.modelId,\n                    headers: (_g2 = result.response) == null ? void 0 : _g2.headers,\n                    body: (_h = result.response) == null ? void 0 : _h.body\n                  };\n                  span2.setAttributes(\n                    selectTelemetryAttributes({\n                      telemetry,\n                      attributes: {\n                        \"ai.response.finishReason\": result.finishReason,\n                        \"ai.response.text\": {\n                          output: () => extractTextContent(result.content)\n                        },\n                        \"ai.response.toolCalls\": {\n                          output: () => {\n                            const toolCalls = asToolCalls(result.content);\n                            return toolCalls == null ? void 0 : JSON.stringify(toolCalls);\n                          }\n                        },\n                        \"ai.response.id\": responseData.id,\n                        \"ai.response.model\": responseData.modelId,\n                        \"ai.response.timestamp\": responseData.timestamp.toISOString(),\n                        \"ai.response.providerMetadata\": JSON.stringify(\n                          result.providerMetadata\n                        ),\n                        // TODO rename telemetry attributes to inputTokens and outputTokens\n                        \"ai.usage.promptTokens\": result.usage.inputTokens,\n                        \"ai.usage.completionTokens\": result.usage.outputTokens,\n                        // standardized gen-ai llm span attributes:\n                        \"gen_ai.response.finish_reasons\": [result.finishReason],\n                        \"gen_ai.response.id\": responseData.id,\n                        \"gen_ai.response.model\": responseData.modelId,\n                        \"gen_ai.usage.input_tokens\": result.usage.inputTokens,\n                        \"gen_ai.usage.output_tokens\": result.usage.outputTokens\n                      }\n                    })\n                  );\n                  return { ...result, response: responseData };\n                }\n              });\n            }\n          );\n          const stepToolCalls = await Promise.all(\n            currentModelResponse.content.filter(\n              (part) => part.type === \"tool-call\"\n            ).map(\n              (toolCall) => parseToolCall({\n                toolCall,\n                tools,\n                repairToolCall,\n                system,\n                messages: stepInputMessages\n              })\n            )\n          );\n          for (const toolCall of stepToolCalls) {\n            if (toolCall.invalid) {\n              continue;\n            }\n            const tool2 = tools[toolCall.toolName];\n            if ((tool2 == null ? void 0 : tool2.onInputAvailable) != null) {\n              await tool2.onInputAvailable({\n                input: toolCall.input,\n                toolCallId: toolCall.toolCallId,\n                messages: stepInputMessages,\n                abortSignal,\n                experimental_context\n              });\n            }\n          }\n          const invalidToolCalls = stepToolCalls.filter(\n            (toolCall) => toolCall.invalid && toolCall.dynamic\n          );\n          clientToolOutputs = [];\n          for (const toolCall of invalidToolCalls) {\n            clientToolOutputs.push({\n              type: \"tool-error\",\n              toolCallId: toolCall.toolCallId,\n              toolName: toolCall.toolName,\n              input: toolCall.input,\n              error: getErrorMessage5(toolCall.error),\n              dynamic: true\n            });\n          }\n          clientToolCalls = stepToolCalls.filter(\n            (toolCall) => !toolCall.providerExecuted\n          );\n          if (tools != null) {\n            clientToolOutputs.push(\n              ...await executeTools({\n                toolCalls: clientToolCalls.filter(\n                  (toolCall) => !toolCall.invalid\n                ),\n                tools,\n                tracer,\n                telemetry,\n                messages: stepInputMessages,\n                abortSignal,\n                experimental_context\n              })\n            );\n          }\n          const stepContent = asContent({\n            content: currentModelResponse.content,\n            toolCalls: stepToolCalls,\n            toolOutputs: clientToolOutputs\n          });\n          responseMessages.push(\n            ...toResponseMessages({\n              content: stepContent,\n              tools\n            })\n          );\n          const currentStepResult = new DefaultStepResult({\n            content: stepContent,\n            finishReason: currentModelResponse.finishReason,\n            usage: currentModelResponse.usage,\n            warnings: currentModelResponse.warnings,\n            providerMetadata: currentModelResponse.providerMetadata,\n            request: (_f = currentModelResponse.request) != null ? _f : {},\n            response: {\n              ...currentModelResponse.response,\n              // deep clone msgs to avoid mutating past messages in multi-step:\n              messages: structuredClone(responseMessages)\n            }\n          });\n          logWarnings((_g = currentModelResponse.warnings) != null ? _g : []);\n          steps.push(currentStepResult);\n          await (onStepFinish == null ? void 0 : onStepFinish(currentStepResult));\n        } while (\n          // there are tool calls:\n          clientToolCalls.length > 0 && // all current tool calls have outputs (incl. execution errors):\n          clientToolOutputs.length === clientToolCalls.length && // continue until a stop condition is met:\n          !await isStopConditionMet({ stopConditions, steps })\n        );\n        span.setAttributes(\n          selectTelemetryAttributes({\n            telemetry,\n            attributes: {\n              \"ai.response.finishReason\": currentModelResponse.finishReason,\n              \"ai.response.text\": {\n                output: () => extractTextContent(currentModelResponse.content)\n              },\n              \"ai.response.toolCalls\": {\n                output: () => {\n                  const toolCalls = asToolCalls(currentModelResponse.content);\n                  return toolCalls == null ? void 0 : JSON.stringify(toolCalls);\n                }\n              },\n              \"ai.response.providerMetadata\": JSON.stringify(\n                currentModelResponse.providerMetadata\n              ),\n              // TODO rename telemetry attributes to inputTokens and outputTokens\n              \"ai.usage.promptTokens\": currentModelResponse.usage.inputTokens,\n              \"ai.usage.completionTokens\": currentModelResponse.usage.outputTokens\n            }\n          })\n        );\n        const lastStep = steps[steps.length - 1];\n        let resolvedOutput;\n        if (lastStep.finishReason === \"stop\") {\n          resolvedOutput = await (output == null ? void 0 : output.parseOutput(\n            { text: lastStep.text },\n            {\n              response: lastStep.response,\n              usage: lastStep.usage,\n              finishReason: lastStep.finishReason\n            }\n          ));\n        }\n        return new DefaultGenerateTextResult({\n          steps,\n          resolvedOutput\n        });\n      }\n    });\n  } catch (error) {\n    throw wrapGatewayError(error);\n  }\n}\nasync function executeTools({\n  toolCalls,\n  tools,\n  tracer,\n  telemetry,\n  messages,\n  abortSignal,\n  experimental_context\n}) {\n  const toolOutputs = await Promise.all(\n    toolCalls.map(async ({ toolCallId, toolName, input }) => {\n      const tool2 = tools[toolName];\n      if ((tool2 == null ? void 0 : tool2.execute) == null) {\n        return void 0;\n      }\n      return recordSpan({\n        name: \"ai.toolCall\",\n        attributes: selectTelemetryAttributes({\n          telemetry,\n          attributes: {\n            ...assembleOperationName({\n              operationId: \"ai.toolCall\",\n              telemetry\n            }),\n            \"ai.toolCall.name\": toolName,\n            \"ai.toolCall.id\": toolCallId,\n            \"ai.toolCall.args\": {\n              output: () => JSON.stringify(input)\n            }\n          }\n        }),\n        tracer,\n        fn: async (span) => {\n          try {\n            const stream = executeTool({\n              execute: tool2.execute.bind(tool2),\n              input,\n              options: {\n                toolCallId,\n                messages,\n                abortSignal,\n                experimental_context\n              }\n            });\n            let output;\n            for await (const part of stream) {\n              if (part.type === \"final\") {\n                output = part.output;\n              }\n            }\n            try {\n              span.setAttributes(\n                selectTelemetryAttributes({\n                  telemetry,\n                  attributes: {\n                    \"ai.toolCall.result\": {\n                      output: () => JSON.stringify(output)\n                    }\n                  }\n                })\n              );\n            } catch (ignored) {\n            }\n            return {\n              type: \"tool-result\",\n              toolCallId,\n              toolName,\n              input,\n              output,\n              dynamic: tool2.type === \"dynamic\"\n            };\n          } catch (error) {\n            recordErrorOnSpan(span, error);\n            return {\n              type: \"tool-error\",\n              toolCallId,\n              toolName,\n              input,\n              error,\n              dynamic: tool2.type === \"dynamic\"\n            };\n          }\n        }\n      });\n    })\n  );\n  return toolOutputs.filter(\n    (output) => output != null\n  );\n}\nvar DefaultGenerateTextResult = class {\n  constructor(options) {\n    this.steps = options.steps;\n    this.resolvedOutput = options.resolvedOutput;\n  }\n  get finalStep() {\n    return this.steps[this.steps.length - 1];\n  }\n  get content() {\n    return this.finalStep.content;\n  }\n  get text() {\n    return this.finalStep.text;\n  }\n  get files() {\n    return this.finalStep.files;\n  }\n  get reasoningText() {\n    return this.finalStep.reasoningText;\n  }\n  get reasoning() {\n    return this.finalStep.reasoning;\n  }\n  get toolCalls() {\n    return this.finalStep.toolCalls;\n  }\n  get staticToolCalls() {\n    return this.finalStep.staticToolCalls;\n  }\n  get dynamicToolCalls() {\n    return this.finalStep.dynamicToolCalls;\n  }\n  get toolResults() {\n    return this.finalStep.toolResults;\n  }\n  get staticToolResults() {\n    return this.finalStep.staticToolResults;\n  }\n  get dynamicToolResults() {\n    return this.finalStep.dynamicToolResults;\n  }\n  get sources() {\n    return this.finalStep.sources;\n  }\n  get finishReason() {\n    return this.finalStep.finishReason;\n  }\n  get warnings() {\n    return this.finalStep.warnings;\n  }\n  get providerMetadata() {\n    return this.finalStep.providerMetadata;\n  }\n  get response() {\n    return this.finalStep.response;\n  }\n  get request() {\n    return this.finalStep.request;\n  }\n  get usage() {\n    return this.finalStep.usage;\n  }\n  get totalUsage() {\n    return this.steps.reduce(\n      (totalUsage, step) => {\n        return addLanguageModelUsage(totalUsage, step.usage);\n      },\n      {\n        inputTokens: void 0,\n        outputTokens: void 0,\n        totalTokens: void 0,\n        reasoningTokens: void 0,\n        cachedInputTokens: void 0\n      }\n    );\n  }\n  get experimental_output() {\n    if (this.resolvedOutput == null) {\n      throw new NoOutputSpecifiedError();\n    }\n    return this.resolvedOutput;\n  }\n};\nfunction asToolCalls(content) {\n  const parts = content.filter(\n    (part) => part.type === \"tool-call\"\n  );\n  if (parts.length === 0) {\n    return void 0;\n  }\n  return parts.map((toolCall) => ({\n    toolCallId: toolCall.toolCallId,\n    toolName: toolCall.toolName,\n    input: toolCall.input\n  }));\n}\nfunction asContent({\n  content,\n  toolCalls,\n  toolOutputs\n}) {\n  return [\n    ...content.map((part) => {\n      switch (part.type) {\n        case \"text\":\n        case \"reasoning\":\n        case \"source\":\n          return part;\n        case \"file\": {\n          return {\n            type: \"file\",\n            file: new DefaultGeneratedFile(part)\n          };\n        }\n        case \"tool-call\": {\n          return toolCalls.find(\n            (toolCall) => toolCall.toolCallId === part.toolCallId\n          );\n        }\n        case \"tool-result\": {\n          const toolCall = toolCalls.find(\n            (toolCall2) => toolCall2.toolCallId === part.toolCallId\n          );\n          if (toolCall == null) {\n            throw new Error(`Tool call ${part.toolCallId} not found.`);\n          }\n          if (part.isError) {\n            return {\n              type: \"tool-error\",\n              toolCallId: part.toolCallId,\n              toolName: part.toolName,\n              input: toolCall.input,\n              error: part.result,\n              providerExecuted: true,\n              dynamic: toolCall.dynamic\n            };\n          }\n          return {\n            type: \"tool-result\",\n            toolCallId: part.toolCallId,\n            toolName: part.toolName,\n            input: toolCall.input,\n            output: part.result,\n            providerExecuted: true,\n            dynamic: toolCall.dynamic\n          };\n        }\n      }\n    }),\n    ...toolOutputs\n  ];\n}\n\n// src/generate-text/stream-text.ts\nimport {\n  getErrorMessage as getErrorMessage7\n} from \"@ai-sdk/provider\";\nimport {\n  createIdGenerator as createIdGenerator2,\n  isAbortError as isAbortError2\n} from \"@ai-sdk/provider-utils\";\n\n// src/util/prepare-headers.ts\nfunction prepareHeaders(headers, defaultHeaders) {\n  const responseHeaders = new Headers(headers != null ? headers : {});\n  for (const [key, value] of Object.entries(defaultHeaders)) {\n    if (!responseHeaders.has(key)) {\n      responseHeaders.set(key, value);\n    }\n  }\n  return responseHeaders;\n}\n\n// src/text-stream/create-text-stream-response.ts\nfunction createTextStreamResponse({\n  status,\n  statusText,\n  headers,\n  textStream\n}) {\n  return new Response(textStream.pipeThrough(new TextEncoderStream()), {\n    status: status != null ? status : 200,\n    statusText,\n    headers: prepareHeaders(headers, {\n      \"content-type\": \"text/plain; charset=utf-8\"\n    })\n  });\n}\n\n// src/util/write-to-server-response.ts\nfunction writeToServerResponse({\n  response,\n  status,\n  statusText,\n  headers,\n  stream\n}) {\n  response.writeHead(status != null ? status : 200, statusText, headers);\n  const reader = stream.getReader();\n  const read = async () => {\n    try {\n      while (true) {\n        const { done, value } = await reader.read();\n        if (done)\n          break;\n        const canContinue = response.write(value);\n        if (!canContinue) {\n          await new Promise((resolve2) => {\n            response.once(\"drain\", resolve2);\n          });\n        }\n      }\n    } catch (error) {\n      throw error;\n    } finally {\n      response.end();\n    }\n  };\n  read();\n}\n\n// src/text-stream/pipe-text-stream-to-response.ts\nfunction pipeTextStreamToResponse({\n  response,\n  status,\n  statusText,\n  headers,\n  textStream\n}) {\n  writeToServerResponse({\n    response,\n    status,\n    statusText,\n    headers: Object.fromEntries(\n      prepareHeaders(headers, {\n        \"content-type\": \"text/plain; charset=utf-8\"\n      }).entries()\n    ),\n    stream: textStream.pipeThrough(new TextEncoderStream())\n  });\n}\n\n// src/ui-message-stream/json-to-sse-transform-stream.ts\nvar JsonToSseTransformStream = class extends TransformStream {\n  constructor() {\n    super({\n      transform(part, controller) {\n        controller.enqueue(`data: ${JSON.stringify(part)}\n\n`);\n      },\n      flush(controller) {\n        controller.enqueue(\"data: [DONE]\\n\\n\");\n      }\n    });\n  }\n};\n\n// src/ui-message-stream/ui-message-stream-headers.ts\nvar UI_MESSAGE_STREAM_HEADERS = {\n  \"content-type\": \"text/event-stream\",\n  \"cache-control\": \"no-cache\",\n  connection: \"keep-alive\",\n  \"x-vercel-ai-ui-message-stream\": \"v1\",\n  \"x-accel-buffering\": \"no\"\n  // disable nginx buffering\n};\n\n// src/ui-message-stream/create-ui-message-stream-response.ts\nfunction createUIMessageStreamResponse({\n  status,\n  statusText,\n  headers,\n  stream,\n  consumeSseStream\n}) {\n  let sseStream = stream.pipeThrough(new JsonToSseTransformStream());\n  if (consumeSseStream) {\n    const [stream1, stream2] = sseStream.tee();\n    sseStream = stream1;\n    consumeSseStream({ stream: stream2 });\n  }\n  return new Response(sseStream.pipeThrough(new TextEncoderStream()), {\n    status,\n    statusText,\n    headers: prepareHeaders(headers, UI_MESSAGE_STREAM_HEADERS)\n  });\n}\n\n// src/ui-message-stream/get-response-ui-message-id.ts\nfunction getResponseUIMessageId({\n  originalMessages,\n  responseMessageId\n}) {\n  if (originalMessages == null) {\n    return void 0;\n  }\n  const lastMessage = originalMessages[originalMessages.length - 1];\n  return (lastMessage == null ? void 0 : lastMessage.role) === \"assistant\" ? lastMessage.id : typeof responseMessageId === \"function\" ? responseMessageId() : responseMessageId;\n}\n\n// src/ui/process-ui-message-stream.ts\nimport {\n  validateTypes\n} from \"@ai-sdk/provider-utils\";\n\n// src/ui-message-stream/ui-message-chunks.ts\nimport { z as z7 } from \"zod/v4\";\nimport { lazyValidator, zodSchema } from \"@ai-sdk/provider-utils\";\nvar uiMessageChunkSchema = lazyValidator(\n  () => zodSchema(\n    z7.union([\n      z7.strictObject({\n        type: z7.literal(\"text-start\"),\n        id: z7.string(),\n        providerMetadata: providerMetadataSchema.optional()\n      }),\n      z7.strictObject({\n        type: z7.literal(\"text-delta\"),\n        id: z7.string(),\n        delta: z7.string(),\n        providerMetadata: providerMetadataSchema.optional()\n      }),\n      z7.strictObject({\n        type: z7.literal(\"text-end\"),\n        id: z7.string(),\n        providerMetadata: providerMetadataSchema.optional()\n      }),\n      z7.strictObject({\n        type: z7.literal(\"error\"),\n        errorText: z7.string()\n      }),\n      z7.strictObject({\n        type: z7.literal(\"tool-input-start\"),\n        toolCallId: z7.string(),\n        toolName: z7.string(),\n        providerExecuted: z7.boolean().optional(),\n        dynamic: z7.boolean().optional()\n      }),\n      z7.strictObject({\n        type: z7.literal(\"tool-input-delta\"),\n        toolCallId: z7.string(),\n        inputTextDelta: z7.string()\n      }),\n      z7.strictObject({\n        type: z7.literal(\"tool-input-available\"),\n        toolCallId: z7.string(),\n        toolName: z7.string(),\n        input: z7.unknown(),\n        providerExecuted: z7.boolean().optional(),\n        providerMetadata: providerMetadataSchema.optional(),\n        dynamic: z7.boolean().optional()\n      }),\n      z7.strictObject({\n        type: z7.literal(\"tool-input-error\"),\n        toolCallId: z7.string(),\n        toolName: z7.string(),\n        input: z7.unknown(),\n        providerExecuted: z7.boolean().optional(),\n        providerMetadata: providerMetadataSchema.optional(),\n        dynamic: z7.boolean().optional(),\n        errorText: z7.string()\n      }),\n      z7.strictObject({\n        type: z7.literal(\"tool-output-available\"),\n        toolCallId: z7.string(),\n        output: z7.unknown(),\n        providerExecuted: z7.boolean().optional(),\n        dynamic: z7.boolean().optional(),\n        preliminary: z7.boolean().optional()\n      }),\n      z7.strictObject({\n        type: z7.literal(\"tool-output-error\"),\n        toolCallId: z7.string(),\n        errorText: z7.string(),\n        providerExecuted: z7.boolean().optional(),\n        dynamic: z7.boolean().optional()\n      }),\n      z7.strictObject({\n        type: z7.literal(\"reasoning-start\"),\n        id: z7.string(),\n        providerMetadata: providerMetadataSchema.optional()\n      }),\n      z7.strictObject({\n        type: z7.literal(\"reasoning-delta\"),\n        id: z7.string(),\n        delta: z7.string(),\n        providerMetadata: providerMetadataSchema.optional()\n      }),\n      z7.strictObject({\n        type: z7.literal(\"reasoning-end\"),\n        id: z7.string(),\n        providerMetadata: providerMetadataSchema.optional()\n      }),\n      z7.strictObject({\n        type: z7.literal(\"source-url\"),\n        sourceId: z7.string(),\n        url: z7.string(),\n        title: z7.string().optional(),\n        providerMetadata: providerMetadataSchema.optional()\n      }),\n      z7.strictObject({\n        type: z7.literal(\"source-document\"),\n        sourceId: z7.string(),\n        mediaType: z7.string(),\n        title: z7.string(),\n        filename: z7.string().optional(),\n        providerMetadata: providerMetadataSchema.optional()\n      }),\n      z7.strictObject({\n        type: z7.literal(\"file\"),\n        url: z7.string(),\n        mediaType: z7.string(),\n        providerMetadata: providerMetadataSchema.optional()\n      }),\n      z7.strictObject({\n        type: z7.custom(\n          (value) => typeof value === \"string\" && value.startsWith(\"data-\"),\n          { message: 'Type must start with \"data-\"' }\n        ),\n        id: z7.string().optional(),\n        data: z7.unknown(),\n        transient: z7.boolean().optional()\n      }),\n      z7.strictObject({\n        type: z7.literal(\"start-step\")\n      }),\n      z7.strictObject({\n        type: z7.literal(\"finish-step\")\n      }),\n      z7.strictObject({\n        type: z7.literal(\"start\"),\n        messageId: z7.string().optional(),\n        messageMetadata: z7.unknown().optional()\n      }),\n      z7.strictObject({\n        type: z7.literal(\"finish\"),\n        finishReason: z7.enum([\n          \"stop\",\n          \"length\",\n          \"content-filter\",\n          \"tool-calls\",\n          \"error\",\n          \"other\",\n          \"unknown\"\n        ]).optional(),\n        messageMetadata: z7.unknown().optional()\n      }),\n      z7.strictObject({\n        type: z7.literal(\"abort\")\n      }),\n      z7.strictObject({\n        type: z7.literal(\"message-metadata\"),\n        messageMetadata: z7.unknown()\n      })\n    ])\n  )\n);\nfunction isDataUIMessageChunk(chunk) {\n  return chunk.type.startsWith(\"data-\");\n}\n\n// src/util/merge-objects.ts\nfunction mergeObjects(base, overrides) {\n  if (base === void 0 && overrides === void 0) {\n    return void 0;\n  }\n  if (base === void 0) {\n    return overrides;\n  }\n  if (overrides === void 0) {\n    return base;\n  }\n  const result = { ...base };\n  for (const key in overrides) {\n    if (Object.prototype.hasOwnProperty.call(overrides, key)) {\n      const overridesValue = overrides[key];\n      if (overridesValue === void 0)\n        continue;\n      const baseValue = key in base ? base[key] : void 0;\n      const isSourceObject = overridesValue !== null && typeof overridesValue === \"object\" && !Array.isArray(overridesValue) && !(overridesValue instanceof Date) && !(overridesValue instanceof RegExp);\n      const isTargetObject = baseValue !== null && baseValue !== void 0 && typeof baseValue === \"object\" && !Array.isArray(baseValue) && !(baseValue instanceof Date) && !(baseValue instanceof RegExp);\n      if (isSourceObject && isTargetObject) {\n        result[key] = mergeObjects(\n          baseValue,\n          overridesValue\n        );\n      } else {\n        result[key] = overridesValue;\n      }\n    }\n  }\n  return result;\n}\n\n// src/util/parse-partial-json.ts\nimport { safeParseJSON as safeParseJSON2 } from \"@ai-sdk/provider-utils\";\n\n// src/util/fix-json.ts\nfunction fixJson(input) {\n  const stack = [\"ROOT\"];\n  let lastValidIndex = -1;\n  let literalStart = null;\n  function processValueStart(char, i, swapState) {\n    {\n      switch (char) {\n        case '\"': {\n          lastValidIndex = i;\n          stack.pop();\n          stack.push(swapState);\n          stack.push(\"INSIDE_STRING\");\n          break;\n        }\n        case \"f\":\n        case \"t\":\n        case \"n\": {\n          lastValidIndex = i;\n          literalStart = i;\n          stack.pop();\n          stack.push(swapState);\n          stack.push(\"INSIDE_LITERAL\");\n          break;\n        }\n        case \"-\": {\n          stack.pop();\n          stack.push(swapState);\n          stack.push(\"INSIDE_NUMBER\");\n          break;\n        }\n        case \"0\":\n        case \"1\":\n        case \"2\":\n        case \"3\":\n        case \"4\":\n        case \"5\":\n        case \"6\":\n        case \"7\":\n        case \"8\":\n        case \"9\": {\n          lastValidIndex = i;\n          stack.pop();\n          stack.push(swapState);\n          stack.push(\"INSIDE_NUMBER\");\n          break;\n        }\n        case \"{\": {\n          lastValidIndex = i;\n          stack.pop();\n          stack.push(swapState);\n          stack.push(\"INSIDE_OBJECT_START\");\n          break;\n        }\n        case \"[\": {\n          lastValidIndex = i;\n          stack.pop();\n          stack.push(swapState);\n          stack.push(\"INSIDE_ARRAY_START\");\n          break;\n        }\n      }\n    }\n  }\n  function processAfterObjectValue(char, i) {\n    switch (char) {\n      case \",\": {\n        stack.pop();\n        stack.push(\"INSIDE_OBJECT_AFTER_COMMA\");\n        break;\n      }\n      case \"}\": {\n        lastValidIndex = i;\n        stack.pop();\n        break;\n      }\n    }\n  }\n  function processAfterArrayValue(char, i) {\n    switch (char) {\n      case \",\": {\n        stack.pop();\n        stack.push(\"INSIDE_ARRAY_AFTER_COMMA\");\n        break;\n      }\n      case \"]\": {\n        lastValidIndex = i;\n        stack.pop();\n        break;\n      }\n    }\n  }\n  for (let i = 0; i < input.length; i++) {\n    const char = input[i];\n    const currentState = stack[stack.length - 1];\n    switch (currentState) {\n      case \"ROOT\":\n        processValueStart(char, i, \"FINISH\");\n        break;\n      case \"INSIDE_OBJECT_START\": {\n        switch (char) {\n          case '\"': {\n            stack.pop();\n            stack.push(\"INSIDE_OBJECT_KEY\");\n            break;\n          }\n          case \"}\": {\n            lastValidIndex = i;\n            stack.pop();\n            break;\n          }\n        }\n        break;\n      }\n      case \"INSIDE_OBJECT_AFTER_COMMA\": {\n        switch (char) {\n          case '\"': {\n            stack.pop();\n            stack.push(\"INSIDE_OBJECT_KEY\");\n            break;\n          }\n        }\n        break;\n      }\n      case \"INSIDE_OBJECT_KEY\": {\n        switch (char) {\n          case '\"': {\n            stack.pop();\n            stack.push(\"INSIDE_OBJECT_AFTER_KEY\");\n            break;\n          }\n        }\n        break;\n      }\n      case \"INSIDE_OBJECT_AFTER_KEY\": {\n        switch (char) {\n          case \":\": {\n            stack.pop();\n            stack.push(\"INSIDE_OBJECT_BEFORE_VALUE\");\n            break;\n          }\n        }\n        break;\n      }\n      case \"INSIDE_OBJECT_BEFORE_VALUE\": {\n        processValueStart(char, i, \"INSIDE_OBJECT_AFTER_VALUE\");\n        break;\n      }\n      case \"INSIDE_OBJECT_AFTER_VALUE\": {\n        processAfterObjectValue(char, i);\n        break;\n      }\n      case \"INSIDE_STRING\": {\n        switch (char) {\n          case '\"': {\n            stack.pop();\n            lastValidIndex = i;\n            break;\n          }\n          case \"\\\\\": {\n            stack.push(\"INSIDE_STRING_ESCAPE\");\n            break;\n          }\n          default: {\n            lastValidIndex = i;\n          }\n        }\n        break;\n      }\n      case \"INSIDE_ARRAY_START\": {\n        switch (char) {\n          case \"]\": {\n            lastValidIndex = i;\n            stack.pop();\n            break;\n          }\n          default: {\n            lastValidIndex = i;\n            processValueStart(char, i, \"INSIDE_ARRAY_AFTER_VALUE\");\n            break;\n          }\n        }\n        break;\n      }\n      case \"INSIDE_ARRAY_AFTER_VALUE\": {\n        switch (char) {\n          case \",\": {\n            stack.pop();\n            stack.push(\"INSIDE_ARRAY_AFTER_COMMA\");\n            break;\n          }\n          case \"]\": {\n            lastValidIndex = i;\n            stack.pop();\n            break;\n          }\n          default: {\n            lastValidIndex = i;\n            break;\n          }\n        }\n        break;\n      }\n      case \"INSIDE_ARRAY_AFTER_COMMA\": {\n        processValueStart(char, i, \"INSIDE_ARRAY_AFTER_VALUE\");\n        break;\n      }\n      case \"INSIDE_STRING_ESCAPE\": {\n        stack.pop();\n        lastValidIndex = i;\n        break;\n      }\n      case \"INSIDE_NUMBER\": {\n        switch (char) {\n          case \"0\":\n          case \"1\":\n          case \"2\":\n          case \"3\":\n          case \"4\":\n          case \"5\":\n          case \"6\":\n          case \"7\":\n          case \"8\":\n          case \"9\": {\n            lastValidIndex = i;\n            break;\n          }\n          case \"e\":\n          case \"E\":\n          case \"-\":\n          case \".\": {\n            break;\n          }\n          case \",\": {\n            stack.pop();\n            if (stack[stack.length - 1] === \"INSIDE_ARRAY_AFTER_VALUE\") {\n              processAfterArrayValue(char, i);\n            }\n            if (stack[stack.length - 1] === \"INSIDE_OBJECT_AFTER_VALUE\") {\n              processAfterObjectValue(char, i);\n            }\n            break;\n          }\n          case \"}\": {\n            stack.pop();\n            if (stack[stack.length - 1] === \"INSIDE_OBJECT_AFTER_VALUE\") {\n              processAfterObjectValue(char, i);\n            }\n            break;\n          }\n          case \"]\": {\n            stack.pop();\n            if (stack[stack.length - 1] === \"INSIDE_ARRAY_AFTER_VALUE\") {\n              processAfterArrayValue(char, i);\n            }\n            break;\n          }\n          default: {\n            stack.pop();\n            break;\n          }\n        }\n        break;\n      }\n      case \"INSIDE_LITERAL\": {\n        const partialLiteral = input.substring(literalStart, i + 1);\n        if (!\"false\".startsWith(partialLiteral) && !\"true\".startsWith(partialLiteral) && !\"null\".startsWith(partialLiteral)) {\n          stack.pop();\n          if (stack[stack.length - 1] === \"INSIDE_OBJECT_AFTER_VALUE\") {\n            processAfterObjectValue(char, i);\n          } else if (stack[stack.length - 1] === \"INSIDE_ARRAY_AFTER_VALUE\") {\n            processAfterArrayValue(char, i);\n          }\n        } else {\n          lastValidIndex = i;\n        }\n        break;\n      }\n    }\n  }\n  let result = input.slice(0, lastValidIndex + 1);\n  for (let i = stack.length - 1; i >= 0; i--) {\n    const state = stack[i];\n    switch (state) {\n      case \"INSIDE_STRING\": {\n        result += '\"';\n        break;\n      }\n      case \"INSIDE_OBJECT_KEY\":\n      case \"INSIDE_OBJECT_AFTER_KEY\":\n      case \"INSIDE_OBJECT_AFTER_COMMA\":\n      case \"INSIDE_OBJECT_START\":\n      case \"INSIDE_OBJECT_BEFORE_VALUE\":\n      case \"INSIDE_OBJECT_AFTER_VALUE\": {\n        result += \"}\";\n        break;\n      }\n      case \"INSIDE_ARRAY_START\":\n      case \"INSIDE_ARRAY_AFTER_COMMA\":\n      case \"INSIDE_ARRAY_AFTER_VALUE\": {\n        result += \"]\";\n        break;\n      }\n      case \"INSIDE_LITERAL\": {\n        const partialLiteral = input.substring(literalStart, input.length);\n        if (\"true\".startsWith(partialLiteral)) {\n          result += \"true\".slice(partialLiteral.length);\n        } else if (\"false\".startsWith(partialLiteral)) {\n          result += \"false\".slice(partialLiteral.length);\n        } else if (\"null\".startsWith(partialLiteral)) {\n          result += \"null\".slice(partialLiteral.length);\n        }\n      }\n    }\n  }\n  return result;\n}\n\n// src/util/parse-partial-json.ts\nasync function parsePartialJson(jsonText) {\n  if (jsonText === void 0) {\n    return { value: void 0, state: \"undefined-input\" };\n  }\n  let result = await safeParseJSON2({ text: jsonText });\n  if (result.success) {\n    return { value: result.value, state: \"successful-parse\" };\n  }\n  result = await safeParseJSON2({ text: fixJson(jsonText) });\n  if (result.success) {\n    return { value: result.value, state: \"repaired-parse\" };\n  }\n  return { value: void 0, state: \"failed-parse\" };\n}\n\n// src/ui/ui-messages.ts\nfunction isDataUIPart(part) {\n  return part.type.startsWith(\"data-\");\n}\nfunction isTextUIPart(part) {\n  return part.type === \"text\";\n}\nfunction isFileUIPart(part) {\n  return part.type === \"file\";\n}\nfunction isReasoningUIPart(part) {\n  return part.type === \"reasoning\";\n}\nfunction isToolUIPart(part) {\n  return part.type.startsWith(\"tool-\");\n}\nfunction isDynamicToolUIPart(part) {\n  return part.type === \"dynamic-tool\";\n}\nfunction isToolOrDynamicToolUIPart(part) {\n  return isToolUIPart(part) || isDynamicToolUIPart(part);\n}\nfunction getToolName(part) {\n  return part.type.split(\"-\").slice(1).join(\"-\");\n}\nfunction getToolOrDynamicToolName(part) {\n  return isDynamicToolUIPart(part) ? part.toolName : getToolName(part);\n}\n\n// src/ui/process-ui-message-stream.ts\nfunction createStreamingUIMessageState({\n  lastMessage,\n  messageId\n}) {\n  return {\n    message: (lastMessage == null ? void 0 : lastMessage.role) === \"assistant\" ? lastMessage : {\n      id: messageId,\n      metadata: void 0,\n      role: \"assistant\",\n      parts: []\n    },\n    activeTextParts: {},\n    activeReasoningParts: {},\n    partialToolCalls: {}\n  };\n}\nfunction processUIMessageStream({\n  stream,\n  messageMetadataSchema,\n  dataPartSchemas,\n  runUpdateMessageJob,\n  onError,\n  onToolCall,\n  onData\n}) {\n  return stream.pipeThrough(\n    new TransformStream({\n      async transform(chunk, controller) {\n        await runUpdateMessageJob(async ({ state, write }) => {\n          var _a16, _b, _c, _d;\n          function getToolInvocation(toolCallId) {\n            const toolInvocations = state.message.parts.filter(isToolUIPart);\n            const toolInvocation = toolInvocations.find(\n              (invocation) => invocation.toolCallId === toolCallId\n            );\n            if (toolInvocation == null) {\n              throw new Error(\n                \"tool-output-error must be preceded by a tool-input-available\"\n              );\n            }\n            return toolInvocation;\n          }\n          function getDynamicToolInvocation(toolCallId) {\n            const toolInvocations = state.message.parts.filter(\n              (part) => part.type === \"dynamic-tool\"\n            );\n            const toolInvocation = toolInvocations.find(\n              (invocation) => invocation.toolCallId === toolCallId\n            );\n            if (toolInvocation == null) {\n              throw new Error(\n                \"tool-output-error must be preceded by a tool-input-available\"\n              );\n            }\n            return toolInvocation;\n          }\n          function updateToolPart(options) {\n            var _a17;\n            const part = state.message.parts.find(\n              (part2) => isToolUIPart(part2) && part2.toolCallId === options.toolCallId\n            );\n            const anyOptions = options;\n            const anyPart = part;\n            if (part != null) {\n              part.state = options.state;\n              anyPart.input = anyOptions.input;\n              anyPart.output = anyOptions.output;\n              anyPart.errorText = anyOptions.errorText;\n              anyPart.rawInput = anyOptions.rawInput;\n              anyPart.preliminary = anyOptions.preliminary;\n              anyPart.providerExecuted = (_a17 = anyOptions.providerExecuted) != null ? _a17 : part.providerExecuted;\n              if (anyOptions.providerMetadata != null && part.state === \"input-available\") {\n                part.callProviderMetadata = anyOptions.providerMetadata;\n              }\n            } else {\n              state.message.parts.push({\n                type: `tool-${options.toolName}`,\n                toolCallId: options.toolCallId,\n                state: options.state,\n                input: anyOptions.input,\n                output: anyOptions.output,\n                rawInput: anyOptions.rawInput,\n                errorText: anyOptions.errorText,\n                providerExecuted: anyOptions.providerExecuted,\n                preliminary: anyOptions.preliminary,\n                ...anyOptions.providerMetadata != null ? { callProviderMetadata: anyOptions.providerMetadata } : {}\n              });\n            }\n          }\n          function updateDynamicToolPart(options) {\n            var _a17, _b2;\n            const part = state.message.parts.find(\n              (part2) => part2.type === \"dynamic-tool\" && part2.toolCallId === options.toolCallId\n            );\n            const anyOptions = options;\n            const anyPart = part;\n            if (part != null) {\n              part.state = options.state;\n              anyPart.toolName = options.toolName;\n              anyPart.input = anyOptions.input;\n              anyPart.output = anyOptions.output;\n              anyPart.errorText = anyOptions.errorText;\n              anyPart.rawInput = (_a17 = anyOptions.rawInput) != null ? _a17 : anyPart.rawInput;\n              anyPart.preliminary = anyOptions.preliminary;\n              anyPart.providerExecuted = (_b2 = anyOptions.providerExecuted) != null ? _b2 : part.providerExecuted;\n              if (anyOptions.providerMetadata != null && part.state === \"input-available\") {\n                part.callProviderMetadata = anyOptions.providerMetadata;\n              }\n            } else {\n              state.message.parts.push({\n                type: \"dynamic-tool\",\n                toolName: options.toolName,\n                toolCallId: options.toolCallId,\n                state: options.state,\n                input: anyOptions.input,\n                output: anyOptions.output,\n                errorText: anyOptions.errorText,\n                preliminary: anyOptions.preliminary,\n                providerExecuted: anyOptions.providerExecuted,\n                ...anyOptions.providerMetadata != null ? { callProviderMetadata: anyOptions.providerMetadata } : {}\n              });\n            }\n          }\n          async function updateMessageMetadata(metadata) {\n            if (metadata != null) {\n              const mergedMetadata = state.message.metadata != null ? mergeObjects(state.message.metadata, metadata) : metadata;\n              if (messageMetadataSchema != null) {\n                await validateTypes({\n                  value: mergedMetadata,\n                  schema: messageMetadataSchema\n                });\n              }\n              state.message.metadata = mergedMetadata;\n            }\n          }\n          switch (chunk.type) {\n            case \"text-start\": {\n              const textPart = {\n                type: \"text\",\n                text: \"\",\n                providerMetadata: chunk.providerMetadata,\n                state: \"streaming\"\n              };\n              state.activeTextParts[chunk.id] = textPart;\n              state.message.parts.push(textPart);\n              write();\n              break;\n            }\n            case \"text-delta\": {\n              const textPart = state.activeTextParts[chunk.id];\n              textPart.text += chunk.delta;\n              textPart.providerMetadata = (_a16 = chunk.providerMetadata) != null ? _a16 : textPart.providerMetadata;\n              write();\n              break;\n            }\n            case \"text-end\": {\n              const textPart = state.activeTextParts[chunk.id];\n              textPart.state = \"done\";\n              textPart.providerMetadata = (_b = chunk.providerMetadata) != null ? _b : textPart.providerMetadata;\n              delete state.activeTextParts[chunk.id];\n              write();\n              break;\n            }\n            case \"reasoning-start\": {\n              const reasoningPart = {\n                type: \"reasoning\",\n                text: \"\",\n                providerMetadata: chunk.providerMetadata,\n                state: \"streaming\"\n              };\n              state.activeReasoningParts[chunk.id] = reasoningPart;\n              state.message.parts.push(reasoningPart);\n              write();\n              break;\n            }\n            case \"reasoning-delta\": {\n              const reasoningPart = state.activeReasoningParts[chunk.id];\n              reasoningPart.text += chunk.delta;\n              reasoningPart.providerMetadata = (_c = chunk.providerMetadata) != null ? _c : reasoningPart.providerMetadata;\n              write();\n              break;\n            }\n            case \"reasoning-end\": {\n              const reasoningPart = state.activeReasoningParts[chunk.id];\n              reasoningPart.providerMetadata = (_d = chunk.providerMetadata) != null ? _d : reasoningPart.providerMetadata;\n              reasoningPart.state = \"done\";\n              delete state.activeReasoningParts[chunk.id];\n              write();\n              break;\n            }\n            case \"file\": {\n              state.message.parts.push({\n                type: \"file\",\n                mediaType: chunk.mediaType,\n                url: chunk.url\n              });\n              write();\n              break;\n            }\n            case \"source-url\": {\n              state.message.parts.push({\n                type: \"source-url\",\n                sourceId: chunk.sourceId,\n                url: chunk.url,\n                title: chunk.title,\n                providerMetadata: chunk.providerMetadata\n              });\n              write();\n              break;\n            }\n            case \"source-document\": {\n              state.message.parts.push({\n                type: \"source-document\",\n                sourceId: chunk.sourceId,\n                mediaType: chunk.mediaType,\n                title: chunk.title,\n                filename: chunk.filename,\n                providerMetadata: chunk.providerMetadata\n              });\n              write();\n              break;\n            }\n            case \"tool-input-start\": {\n              const toolInvocations = state.message.parts.filter(isToolUIPart);\n              state.partialToolCalls[chunk.toolCallId] = {\n                text: \"\",\n                toolName: chunk.toolName,\n                index: toolInvocations.length,\n                dynamic: chunk.dynamic\n              };\n              if (chunk.dynamic) {\n                updateDynamicToolPart({\n                  toolCallId: chunk.toolCallId,\n                  toolName: chunk.toolName,\n                  state: \"input-streaming\",\n                  input: void 0,\n                  providerExecuted: chunk.providerExecuted\n                });\n              } else {\n                updateToolPart({\n                  toolCallId: chunk.toolCallId,\n                  toolName: chunk.toolName,\n                  state: \"input-streaming\",\n                  input: void 0,\n                  providerExecuted: chunk.providerExecuted\n                });\n              }\n              write();\n              break;\n            }\n            case \"tool-input-delta\": {\n              const partialToolCall = state.partialToolCalls[chunk.toolCallId];\n              partialToolCall.text += chunk.inputTextDelta;\n              const { value: partialArgs } = await parsePartialJson(\n                partialToolCall.text\n              );\n              if (partialToolCall.dynamic) {\n                updateDynamicToolPart({\n                  toolCallId: chunk.toolCallId,\n                  toolName: partialToolCall.toolName,\n                  state: \"input-streaming\",\n                  input: partialArgs\n                });\n              } else {\n                updateToolPart({\n                  toolCallId: chunk.toolCallId,\n                  toolName: partialToolCall.toolName,\n                  state: \"input-streaming\",\n                  input: partialArgs\n                });\n              }\n              write();\n              break;\n            }\n            case \"tool-input-available\": {\n              if (chunk.dynamic) {\n                updateDynamicToolPart({\n                  toolCallId: chunk.toolCallId,\n                  toolName: chunk.toolName,\n                  state: \"input-available\",\n                  input: chunk.input,\n                  providerExecuted: chunk.providerExecuted,\n                  providerMetadata: chunk.providerMetadata\n                });\n              } else {\n                updateToolPart({\n                  toolCallId: chunk.toolCallId,\n                  toolName: chunk.toolName,\n                  state: \"input-available\",\n                  input: chunk.input,\n                  providerExecuted: chunk.providerExecuted,\n                  providerMetadata: chunk.providerMetadata\n                });\n              }\n              write();\n              if (onToolCall && !chunk.providerExecuted) {\n                await onToolCall({\n                  toolCall: chunk\n                });\n              }\n              break;\n            }\n            case \"tool-input-error\": {\n              if (chunk.dynamic) {\n                updateDynamicToolPart({\n                  toolCallId: chunk.toolCallId,\n                  toolName: chunk.toolName,\n                  state: \"output-error\",\n                  input: chunk.input,\n                  errorText: chunk.errorText,\n                  providerExecuted: chunk.providerExecuted,\n                  providerMetadata: chunk.providerMetadata\n                });\n              } else {\n                updateToolPart({\n                  toolCallId: chunk.toolCallId,\n                  toolName: chunk.toolName,\n                  state: \"output-error\",\n                  input: void 0,\n                  rawInput: chunk.input,\n                  errorText: chunk.errorText,\n                  providerExecuted: chunk.providerExecuted,\n                  providerMetadata: chunk.providerMetadata\n                });\n              }\n              write();\n              break;\n            }\n            case \"tool-output-available\": {\n              if (chunk.dynamic) {\n                const toolInvocation = getDynamicToolInvocation(\n                  chunk.toolCallId\n                );\n                updateDynamicToolPart({\n                  toolCallId: chunk.toolCallId,\n                  toolName: toolInvocation.toolName,\n                  state: \"output-available\",\n                  input: toolInvocation.input,\n                  output: chunk.output,\n                  preliminary: chunk.preliminary\n                });\n              } else {\n                const toolInvocation = getToolInvocation(chunk.toolCallId);\n                updateToolPart({\n                  toolCallId: chunk.toolCallId,\n                  toolName: getToolName(toolInvocation),\n                  state: \"output-available\",\n                  input: toolInvocation.input,\n                  output: chunk.output,\n                  providerExecuted: chunk.providerExecuted,\n                  preliminary: chunk.preliminary\n                });\n              }\n              write();\n              break;\n            }\n            case \"tool-output-error\": {\n              if (chunk.dynamic) {\n                const toolInvocation = getDynamicToolInvocation(\n                  chunk.toolCallId\n                );\n                updateDynamicToolPart({\n                  toolCallId: chunk.toolCallId,\n                  toolName: toolInvocation.toolName,\n                  state: \"output-error\",\n                  input: toolInvocation.input,\n                  errorText: chunk.errorText,\n                  providerExecuted: chunk.providerExecuted\n                });\n              } else {\n                const toolInvocation = getToolInvocation(chunk.toolCallId);\n                updateToolPart({\n                  toolCallId: chunk.toolCallId,\n                  toolName: getToolName(toolInvocation),\n                  state: \"output-error\",\n                  input: toolInvocation.input,\n                  rawInput: toolInvocation.rawInput,\n                  errorText: chunk.errorText,\n                  providerExecuted: chunk.providerExecuted\n                });\n              }\n              write();\n              break;\n            }\n            case \"start-step\": {\n              state.message.parts.push({ type: \"step-start\" });\n              break;\n            }\n            case \"finish-step\": {\n              state.activeTextParts = {};\n              state.activeReasoningParts = {};\n              break;\n            }\n            case \"start\": {\n              if (chunk.messageId != null) {\n                state.message.id = chunk.messageId;\n              }\n              await updateMessageMetadata(chunk.messageMetadata);\n              if (chunk.messageId != null || chunk.messageMetadata != null) {\n                write();\n              }\n              break;\n            }\n            case \"finish\": {\n              if (chunk.finishReason != null) {\n                state.finishReason = chunk.finishReason;\n              }\n              await updateMessageMetadata(chunk.messageMetadata);\n              if (chunk.messageMetadata != null) {\n                write();\n              }\n              break;\n            }\n            case \"message-metadata\": {\n              await updateMessageMetadata(chunk.messageMetadata);\n              if (chunk.messageMetadata != null) {\n                write();\n              }\n              break;\n            }\n            case \"error\": {\n              onError == null ? void 0 : onError(new Error(chunk.errorText));\n              break;\n            }\n            default: {\n              if (isDataUIMessageChunk(chunk)) {\n                if ((dataPartSchemas == null ? void 0 : dataPartSchemas[chunk.type]) != null) {\n                  await validateTypes({\n                    value: chunk.data,\n                    schema: dataPartSchemas[chunk.type]\n                  });\n                }\n                const dataChunk = chunk;\n                if (dataChunk.transient) {\n                  onData == null ? void 0 : onData(dataChunk);\n                  break;\n                }\n                const existingUIPart = dataChunk.id != null ? state.message.parts.find(\n                  (chunkArg) => dataChunk.type === chunkArg.type && dataChunk.id === chunkArg.id\n                ) : void 0;\n                if (existingUIPart != null) {\n                  existingUIPart.data = dataChunk.data;\n                } else {\n                  state.message.parts.push(dataChunk);\n                }\n                onData == null ? void 0 : onData(dataChunk);\n                write();\n              }\n            }\n          }\n          controller.enqueue(chunk);\n        });\n      }\n    })\n  );\n}\n\n// src/ui-message-stream/handle-ui-message-stream-finish.ts\nfunction handleUIMessageStreamFinish({\n  messageId,\n  originalMessages = [],\n  onFinish,\n  onError,\n  stream\n}) {\n  let lastMessage = originalMessages == null ? void 0 : originalMessages[originalMessages.length - 1];\n  if ((lastMessage == null ? void 0 : lastMessage.role) !== \"assistant\") {\n    lastMessage = void 0;\n  } else {\n    messageId = lastMessage.id;\n  }\n  let isAborted = false;\n  const idInjectedStream = stream.pipeThrough(\n    new TransformStream({\n      transform(chunk, controller) {\n        if (chunk.type === \"start\") {\n          const startChunk = chunk;\n          if (startChunk.messageId == null && messageId != null) {\n            startChunk.messageId = messageId;\n          }\n        }\n        if (chunk.type === \"abort\") {\n          isAborted = true;\n        }\n        controller.enqueue(chunk);\n      }\n    })\n  );\n  if (onFinish == null) {\n    return idInjectedStream;\n  }\n  const state = createStreamingUIMessageState({\n    lastMessage: lastMessage ? structuredClone(lastMessage) : void 0,\n    messageId: messageId != null ? messageId : \"\"\n    // will be overridden by the stream\n  });\n  const runUpdateMessageJob = async (job) => {\n    await job({ state, write: () => {\n    } });\n  };\n  let finishCalled = false;\n  const callOnFinish = async () => {\n    if (finishCalled || !onFinish) {\n      return;\n    }\n    finishCalled = true;\n    const isContinuation = state.message.id === (lastMessage == null ? void 0 : lastMessage.id);\n    await onFinish({\n      isAborted,\n      isContinuation,\n      responseMessage: state.message,\n      messages: [\n        ...isContinuation ? originalMessages.slice(0, -1) : originalMessages,\n        state.message\n      ],\n      finishReason: state.finishReason\n    });\n  };\n  return processUIMessageStream({\n    stream: idInjectedStream,\n    runUpdateMessageJob,\n    onError\n  }).pipeThrough(\n    new TransformStream({\n      transform(chunk, controller) {\n        controller.enqueue(chunk);\n      },\n      // @ts-expect-error cancel is still new and missing from types https://developer.mozilla.org/en-US/docs/Web/API/TransformStream#browser_compatibility\n      async cancel() {\n        await callOnFinish();\n      },\n      async flush() {\n        await callOnFinish();\n      }\n    })\n  );\n}\n\n// src/ui-message-stream/pipe-ui-message-stream-to-response.ts\nfunction pipeUIMessageStreamToResponse({\n  response,\n  status,\n  statusText,\n  headers,\n  stream,\n  consumeSseStream\n}) {\n  let sseStream = stream.pipeThrough(new JsonToSseTransformStream());\n  if (consumeSseStream) {\n    const [stream1, stream2] = sseStream.tee();\n    sseStream = stream1;\n    consumeSseStream({ stream: stream2 });\n  }\n  writeToServerResponse({\n    response,\n    status,\n    statusText,\n    headers: Object.fromEntries(\n      prepareHeaders(headers, UI_MESSAGE_STREAM_HEADERS).entries()\n    ),\n    stream: sseStream.pipeThrough(new TextEncoderStream())\n  });\n}\n\n// src/util/async-iterable-stream.ts\nfunction createAsyncIterableStream(source) {\n  const stream = source.pipeThrough(new TransformStream());\n  stream[Symbol.asyncIterator] = function() {\n    const reader = this.getReader();\n    let finished = false;\n    async function cleanup(cancelStream) {\n      var _a16;\n      finished = true;\n      try {\n        if (cancelStream) {\n          await ((_a16 = reader.cancel) == null ? void 0 : _a16.call(reader));\n        }\n      } finally {\n        try {\n          reader.releaseLock();\n        } catch (e) {\n        }\n      }\n    }\n    return {\n      /**\n       * Reads the next chunk from the stream.\n       * @returns A promise resolving to the next IteratorResult.\n       */\n      async next() {\n        if (finished) {\n          return { done: true, value: void 0 };\n        }\n        const { done, value } = await reader.read();\n        if (done) {\n          await cleanup(true);\n          return { done: true, value: void 0 };\n        }\n        return { done: false, value };\n      },\n      /**\n       * Called on early exit (e.g., break from for-await).\n       * Ensures the stream is cancelled and resources are released.\n       * @returns A promise resolving to a completed IteratorResult.\n       */\n      async return() {\n        await cleanup(true);\n        return { done: true, value: void 0 };\n      },\n      /**\n       * Called on early exit with error.\n       * Ensures the stream is cancelled and resources are released, then rethrows the error.\n       * @param err The error to throw.\n       * @returns A promise that rejects with the provided error.\n       */\n      async throw(err) {\n        await cleanup(true);\n        throw err;\n      }\n    };\n  };\n  return stream;\n}\n\n// src/util/consume-stream.ts\nasync function consumeStream({\n  stream,\n  onError\n}) {\n  const reader = stream.getReader();\n  try {\n    while (true) {\n      const { done } = await reader.read();\n      if (done)\n        break;\n    }\n  } catch (error) {\n    onError == null ? void 0 : onError(error);\n  } finally {\n    reader.releaseLock();\n  }\n}\n\n// src/util/create-resolvable-promise.ts\nfunction createResolvablePromise() {\n  let resolve2;\n  let reject;\n  const promise = new Promise((res, rej) => {\n    resolve2 = res;\n    reject = rej;\n  });\n  return {\n    promise,\n    resolve: resolve2,\n    reject\n  };\n}\n\n// src/util/create-stitchable-stream.ts\nfunction createStitchableStream() {\n  let innerStreamReaders = [];\n  let controller = null;\n  let isClosed = false;\n  let waitForNewStream = createResolvablePromise();\n  const terminate = () => {\n    isClosed = true;\n    waitForNewStream.resolve();\n    innerStreamReaders.forEach((reader) => reader.cancel());\n    innerStreamReaders = [];\n    controller == null ? void 0 : controller.close();\n  };\n  const processPull = async () => {\n    if (isClosed && innerStreamReaders.length === 0) {\n      controller == null ? void 0 : controller.close();\n      return;\n    }\n    if (innerStreamReaders.length === 0) {\n      waitForNewStream = createResolvablePromise();\n      await waitForNewStream.promise;\n      return processPull();\n    }\n    try {\n      const { value, done } = await innerStreamReaders[0].read();\n      if (done) {\n        innerStreamReaders.shift();\n        if (innerStreamReaders.length > 0) {\n          await processPull();\n        } else if (isClosed) {\n          controller == null ? void 0 : controller.close();\n        }\n      } else {\n        controller == null ? void 0 : controller.enqueue(value);\n      }\n    } catch (error) {\n      controller == null ? void 0 : controller.error(error);\n      innerStreamReaders.shift();\n      terminate();\n    }\n  };\n  return {\n    stream: new ReadableStream({\n      start(controllerParam) {\n        controller = controllerParam;\n      },\n      pull: processPull,\n      async cancel() {\n        for (const reader of innerStreamReaders) {\n          await reader.cancel();\n        }\n        innerStreamReaders = [];\n        isClosed = true;\n      }\n    }),\n    addStream: (innerStream) => {\n      if (isClosed) {\n        throw new Error(\"Cannot add inner stream: outer stream is closed\");\n      }\n      innerStreamReaders.push(innerStream.getReader());\n      waitForNewStream.resolve();\n    },\n    /**\n     * Gracefully close the outer stream. This will let the inner streams\n     * finish processing and then close the outer stream.\n     */\n    close: () => {\n      isClosed = true;\n      waitForNewStream.resolve();\n      if (innerStreamReaders.length === 0) {\n        controller == null ? void 0 : controller.close();\n      }\n    },\n    /**\n     * Immediately close the outer stream. This will cancel all inner streams\n     * and close the outer stream.\n     */\n    terminate\n  };\n}\n\n// src/util/delayed-promise.ts\nvar DelayedPromise = class {\n  constructor() {\n    this.status = { type: \"pending\" };\n    this._resolve = void 0;\n    this._reject = void 0;\n  }\n  get promise() {\n    if (this._promise) {\n      return this._promise;\n    }\n    this._promise = new Promise((resolve2, reject) => {\n      if (this.status.type === \"resolved\") {\n        resolve2(this.status.value);\n      } else if (this.status.type === \"rejected\") {\n        reject(this.status.error);\n      }\n      this._resolve = resolve2;\n      this._reject = reject;\n    });\n    return this._promise;\n  }\n  resolve(value) {\n    var _a16;\n    this.status = { type: \"resolved\", value };\n    if (this._promise) {\n      (_a16 = this._resolve) == null ? void 0 : _a16.call(this, value);\n    }\n  }\n  reject(error) {\n    var _a16;\n    this.status = { type: \"rejected\", error };\n    if (this._promise) {\n      (_a16 = this._reject) == null ? void 0 : _a16.call(this, error);\n    }\n  }\n};\n\n// src/util/now.ts\nfunction now() {\n  var _a16, _b;\n  return (_b = (_a16 = globalThis == null ? void 0 : globalThis.performance) == null ? void 0 : _a16.now()) != null ? _b : Date.now();\n}\n\n// src/generate-text/run-tools-transformation.ts\nimport {\n  executeTool as executeTool2,\n  generateId,\n  getErrorMessage as getErrorMessage6\n} from \"@ai-sdk/provider-utils\";\nfunction runToolsTransformation({\n  tools,\n  generatorStream,\n  tracer,\n  telemetry,\n  system,\n  messages,\n  abortSignal,\n  repairToolCall,\n  experimental_context\n}) {\n  let toolResultsStreamController = null;\n  const toolResultsStream = new ReadableStream({\n    start(controller) {\n      toolResultsStreamController = controller;\n    }\n  });\n  const outstandingToolResults = /* @__PURE__ */ new Set();\n  const toolInputs = /* @__PURE__ */ new Map();\n  let canClose = false;\n  let finishChunk = void 0;\n  function attemptClose() {\n    if (canClose && outstandingToolResults.size === 0) {\n      if (finishChunk != null) {\n        toolResultsStreamController.enqueue(finishChunk);\n      }\n      toolResultsStreamController.close();\n    }\n  }\n  const forwardStream = new TransformStream({\n    async transform(chunk, controller) {\n      const chunkType = chunk.type;\n      switch (chunkType) {\n        case \"stream-start\":\n        case \"text-start\":\n        case \"text-delta\":\n        case \"text-end\":\n        case \"reasoning-start\":\n        case \"reasoning-delta\":\n        case \"reasoning-end\":\n        case \"tool-input-start\":\n        case \"tool-input-delta\":\n        case \"tool-input-end\":\n        case \"source\":\n        case \"response-metadata\":\n        case \"error\":\n        case \"raw\": {\n          controller.enqueue(chunk);\n          break;\n        }\n        case \"file\": {\n          controller.enqueue({\n            type: \"file\",\n            file: new DefaultGeneratedFileWithType({\n              data: chunk.data,\n              mediaType: chunk.mediaType\n            })\n          });\n          break;\n        }\n        case \"finish\": {\n          finishChunk = {\n            type: \"finish\",\n            finishReason: chunk.finishReason,\n            usage: chunk.usage,\n            providerMetadata: chunk.providerMetadata\n          };\n          break;\n        }\n        case \"tool-call\": {\n          try {\n            const toolCall = await parseToolCall({\n              toolCall: chunk,\n              tools,\n              repairToolCall,\n              system,\n              messages\n            });\n            controller.enqueue(toolCall);\n            if (toolCall.invalid) {\n              toolResultsStreamController.enqueue({\n                type: \"tool-error\",\n                toolCallId: toolCall.toolCallId,\n                toolName: toolCall.toolName,\n                input: toolCall.input,\n                error: getErrorMessage6(toolCall.error),\n                dynamic: true\n              });\n              break;\n            }\n            const tool2 = tools[toolCall.toolName];\n            toolInputs.set(toolCall.toolCallId, toolCall.input);\n            if (tool2.onInputAvailable != null) {\n              await tool2.onInputAvailable({\n                input: toolCall.input,\n                toolCallId: toolCall.toolCallId,\n                messages,\n                abortSignal,\n                experimental_context\n              });\n            }\n            if (tool2.execute != null && toolCall.providerExecuted !== true) {\n              const toolExecutionId = generateId();\n              outstandingToolResults.add(toolExecutionId);\n              recordSpan({\n                name: \"ai.toolCall\",\n                attributes: selectTelemetryAttributes({\n                  telemetry,\n                  attributes: {\n                    ...assembleOperationName({\n                      operationId: \"ai.toolCall\",\n                      telemetry\n                    }),\n                    \"ai.toolCall.name\": toolCall.toolName,\n                    \"ai.toolCall.id\": toolCall.toolCallId,\n                    \"ai.toolCall.args\": {\n                      output: () => JSON.stringify(toolCall.input)\n                    }\n                  }\n                }),\n                tracer,\n                fn: async (span) => {\n                  let output;\n                  try {\n                    const stream = executeTool2({\n                      execute: tool2.execute.bind(tool2),\n                      input: toolCall.input,\n                      options: {\n                        toolCallId: toolCall.toolCallId,\n                        messages,\n                        abortSignal,\n                        experimental_context\n                      }\n                    });\n                    for await (const part of stream) {\n                      toolResultsStreamController.enqueue({\n                        ...toolCall,\n                        type: \"tool-result\",\n                        output: part.output,\n                        ...part.type === \"preliminary\" && {\n                          preliminary: true\n                        }\n                      });\n                      if (part.type === \"final\") {\n                        output = part.output;\n                      }\n                    }\n                  } catch (error) {\n                    recordErrorOnSpan(span, error);\n                    toolResultsStreamController.enqueue({\n                      ...toolCall,\n                      type: \"tool-error\",\n                      error\n                    });\n                    outstandingToolResults.delete(toolExecutionId);\n                    attemptClose();\n                    return;\n                  }\n                  outstandingToolResults.delete(toolExecutionId);\n                  attemptClose();\n                  try {\n                    span.setAttributes(\n                      selectTelemetryAttributes({\n                        telemetry,\n                        attributes: {\n                          \"ai.toolCall.result\": {\n                            output: () => JSON.stringify(output)\n                          }\n                        }\n                      })\n                    );\n                  } catch (ignored) {\n                  }\n                }\n              });\n            }\n          } catch (error) {\n            toolResultsStreamController.enqueue({ type: \"error\", error });\n          }\n          break;\n        }\n        case \"tool-result\": {\n          const toolName = chunk.toolName;\n          if (chunk.isError) {\n            toolResultsStreamController.enqueue({\n              type: \"tool-error\",\n              toolCallId: chunk.toolCallId,\n              toolName,\n              input: toolInputs.get(chunk.toolCallId),\n              providerExecuted: chunk.providerExecuted,\n              error: chunk.result\n            });\n          } else {\n            controller.enqueue({\n              type: \"tool-result\",\n              toolCallId: chunk.toolCallId,\n              toolName,\n              input: toolInputs.get(chunk.toolCallId),\n              output: chunk.result,\n              providerExecuted: chunk.providerExecuted\n            });\n          }\n          break;\n        }\n        default: {\n          const _exhaustiveCheck = chunkType;\n          throw new Error(`Unhandled chunk type: ${_exhaustiveCheck}`);\n        }\n      }\n    },\n    flush() {\n      canClose = true;\n      attemptClose();\n    }\n  });\n  return new ReadableStream({\n    async start(controller) {\n      return Promise.all([\n        generatorStream.pipeThrough(forwardStream).pipeTo(\n          new WritableStream({\n            write(chunk) {\n              controller.enqueue(chunk);\n            },\n            close() {\n            }\n          })\n        ),\n        toolResultsStream.pipeTo(\n          new WritableStream({\n            write(chunk) {\n              controller.enqueue(chunk);\n            },\n            close() {\n              controller.close();\n            }\n          })\n        )\n      ]);\n    }\n  });\n}\n\n// src/generate-text/stream-text.ts\nvar originalGenerateId2 = createIdGenerator2({\n  prefix: \"aitxt\",\n  size: 24\n});\nfunction streamText({\n  model,\n  tools,\n  toolChoice,\n  system,\n  prompt,\n  messages,\n  maxRetries,\n  abortSignal,\n  headers,\n  stopWhen = stepCountIs(1),\n  experimental_output: output,\n  experimental_telemetry: telemetry,\n  prepareStep,\n  providerOptions,\n  experimental_activeTools,\n  activeTools = experimental_activeTools,\n  experimental_repairToolCall: repairToolCall,\n  experimental_transform: transform,\n  experimental_download: download2,\n  includeRawChunks = false,\n  onChunk,\n  onError = ({ error }) => {\n    console.error(error);\n  },\n  onFinish,\n  onAbort,\n  onStepFinish,\n  experimental_context,\n  _internal: {\n    now: now2 = now,\n    generateId: generateId3 = originalGenerateId2,\n    currentDate = () => /* @__PURE__ */ new Date()\n  } = {},\n  ...settings\n}) {\n  return new DefaultStreamTextResult({\n    model: resolveLanguageModel(model),\n    telemetry,\n    headers,\n    settings,\n    maxRetries,\n    abortSignal,\n    system,\n    prompt,\n    messages,\n    tools,\n    toolChoice,\n    transforms: asArray(transform),\n    activeTools,\n    repairToolCall,\n    stopConditions: asArray(stopWhen),\n    output,\n    providerOptions,\n    prepareStep,\n    includeRawChunks,\n    onChunk,\n    onError,\n    onFinish,\n    onAbort,\n    onStepFinish,\n    now: now2,\n    currentDate,\n    generateId: generateId3,\n    experimental_context,\n    download: download2\n  });\n}\nfunction createOutputTransformStream(output) {\n  if (!output) {\n    return new TransformStream({\n      transform(chunk, controller) {\n        controller.enqueue({ part: chunk, partialOutput: void 0 });\n      }\n    });\n  }\n  let firstTextChunkId = void 0;\n  let text2 = \"\";\n  let textChunk = \"\";\n  let lastPublishedJson = \"\";\n  function publishTextChunk({\n    controller,\n    partialOutput = void 0\n  }) {\n    controller.enqueue({\n      part: {\n        type: \"text-delta\",\n        id: firstTextChunkId,\n        text: textChunk\n      },\n      partialOutput\n    });\n    textChunk = \"\";\n  }\n  return new TransformStream({\n    async transform(chunk, controller) {\n      if (chunk.type === \"finish-step\" && textChunk.length > 0) {\n        publishTextChunk({ controller });\n      }\n      if (chunk.type !== \"text-delta\" && chunk.type !== \"text-start\" && chunk.type !== \"text-end\") {\n        controller.enqueue({ part: chunk, partialOutput: void 0 });\n        return;\n      }\n      if (firstTextChunkId == null) {\n        firstTextChunkId = chunk.id;\n      } else if (chunk.id !== firstTextChunkId) {\n        controller.enqueue({ part: chunk, partialOutput: void 0 });\n        return;\n      }\n      if (chunk.type === \"text-start\") {\n        controller.enqueue({ part: chunk, partialOutput: void 0 });\n        return;\n      }\n      if (chunk.type === \"text-end\") {\n        if (textChunk.length > 0) {\n          publishTextChunk({ controller });\n        }\n        controller.enqueue({ part: chunk, partialOutput: void 0 });\n        return;\n      }\n      text2 += chunk.text;\n      textChunk += chunk.text;\n      const result = await output.parsePartial({ text: text2 });\n      if (result != null) {\n        const currentJson = JSON.stringify(result.partial);\n        if (currentJson !== lastPublishedJson) {\n          publishTextChunk({ controller, partialOutput: result.partial });\n          lastPublishedJson = currentJson;\n        }\n      }\n    }\n  });\n}\nvar DefaultStreamTextResult = class {\n  constructor({\n    model,\n    telemetry,\n    headers,\n    settings,\n    maxRetries: maxRetriesArg,\n    abortSignal,\n    system,\n    prompt,\n    messages,\n    tools,\n    toolChoice,\n    transforms,\n    activeTools,\n    repairToolCall,\n    stopConditions,\n    output,\n    providerOptions,\n    prepareStep,\n    includeRawChunks,\n    now: now2,\n    currentDate,\n    generateId: generateId3,\n    onChunk,\n    onError,\n    onFinish,\n    onAbort,\n    onStepFinish,\n    experimental_context,\n    download: download2\n  }) {\n    this._totalUsage = new DelayedPromise();\n    this._finishReason = new DelayedPromise();\n    this._steps = new DelayedPromise();\n    this.output = output;\n    this.includeRawChunks = includeRawChunks;\n    this.tools = tools;\n    let stepFinish;\n    let recordedContent = [];\n    const recordedResponseMessages = [];\n    let recordedFinishReason = void 0;\n    let recordedTotalUsage = void 0;\n    let recordedRequest = {};\n    let recordedWarnings = [];\n    const recordedSteps = [];\n    let rootSpan;\n    let activeTextContent = {};\n    let activeReasoningContent = {};\n    const eventProcessor = new TransformStream({\n      async transform(chunk, controller) {\n        var _a16, _b, _c, _d;\n        controller.enqueue(chunk);\n        const { part } = chunk;\n        if (part.type === \"text-delta\" || part.type === \"reasoning-delta\" || part.type === \"source\" || part.type === \"tool-call\" || part.type === \"tool-result\" || part.type === \"tool-input-start\" || part.type === \"tool-input-delta\" || part.type === \"raw\") {\n          await (onChunk == null ? void 0 : onChunk({ chunk: part }));\n        }\n        if (part.type === \"error\") {\n          await onError({ error: wrapGatewayError(part.error) });\n        }\n        if (part.type === \"text-start\") {\n          activeTextContent[part.id] = {\n            type: \"text\",\n            text: \"\",\n            providerMetadata: part.providerMetadata\n          };\n          recordedContent.push(activeTextContent[part.id]);\n        }\n        if (part.type === \"text-delta\") {\n          const activeText = activeTextContent[part.id];\n          if (activeText == null) {\n            controller.enqueue({\n              part: {\n                type: \"error\",\n                error: `text part ${part.id} not found`\n              },\n              partialOutput: void 0\n            });\n            return;\n          }\n          activeText.text += part.text;\n          activeText.providerMetadata = (_a16 = part.providerMetadata) != null ? _a16 : activeText.providerMetadata;\n        }\n        if (part.type === \"text-end\") {\n          const activeText = activeTextContent[part.id];\n          if (activeText == null) {\n            controller.enqueue({\n              part: {\n                type: \"error\",\n                error: `text part ${part.id} not found`\n              },\n              partialOutput: void 0\n            });\n            return;\n          }\n          activeText.providerMetadata = (_b = part.providerMetadata) != null ? _b : activeText.providerMetadata;\n          delete activeTextContent[part.id];\n        }\n        if (part.type === \"reasoning-start\") {\n          activeReasoningContent[part.id] = {\n            type: \"reasoning\",\n            text: \"\",\n            providerMetadata: part.providerMetadata\n          };\n          recordedContent.push(activeReasoningContent[part.id]);\n        }\n        if (part.type === \"reasoning-delta\") {\n          const activeReasoning = activeReasoningContent[part.id];\n          if (activeReasoning == null) {\n            controller.enqueue({\n              part: {\n                type: \"error\",\n                error: `reasoning part ${part.id} not found`\n              },\n              partialOutput: void 0\n            });\n            return;\n          }\n          activeReasoning.text += part.text;\n          activeReasoning.providerMetadata = (_c = part.providerMetadata) != null ? _c : activeReasoning.providerMetadata;\n        }\n        if (part.type === \"reasoning-end\") {\n          const activeReasoning = activeReasoningContent[part.id];\n          if (activeReasoning == null) {\n            controller.enqueue({\n              part: {\n                type: \"error\",\n                error: `reasoning part ${part.id} not found`\n              },\n              partialOutput: void 0\n            });\n            return;\n          }\n          activeReasoning.providerMetadata = (_d = part.providerMetadata) != null ? _d : activeReasoning.providerMetadata;\n          delete activeReasoningContent[part.id];\n        }\n        if (part.type === \"file\") {\n          recordedContent.push({ type: \"file\", file: part.file });\n        }\n        if (part.type === \"source\") {\n          recordedContent.push(part);\n        }\n        if (part.type === \"tool-call\") {\n          recordedContent.push(part);\n        }\n        if (part.type === \"tool-result\" && !part.preliminary) {\n          recordedContent.push(part);\n        }\n        if (part.type === \"tool-error\") {\n          recordedContent.push(part);\n        }\n        if (part.type === \"start-step\") {\n          recordedRequest = part.request;\n          recordedWarnings = part.warnings;\n        }\n        if (part.type === \"finish-step\") {\n          const stepMessages = toResponseMessages({\n            content: recordedContent,\n            tools\n          });\n          const currentStepResult = new DefaultStepResult({\n            content: recordedContent,\n            finishReason: part.finishReason,\n            usage: part.usage,\n            warnings: recordedWarnings,\n            request: recordedRequest,\n            response: {\n              ...part.response,\n              messages: [...recordedResponseMessages, ...stepMessages]\n            },\n            providerMetadata: part.providerMetadata\n          });\n          await (onStepFinish == null ? void 0 : onStepFinish(currentStepResult));\n          logWarnings(recordedWarnings);\n          recordedSteps.push(currentStepResult);\n          recordedContent = [];\n          activeReasoningContent = {};\n          activeTextContent = {};\n          recordedResponseMessages.push(...stepMessages);\n          stepFinish.resolve();\n        }\n        if (part.type === \"finish\") {\n          recordedTotalUsage = part.totalUsage;\n          recordedFinishReason = part.finishReason;\n        }\n      },\n      async flush(controller) {\n        try {\n          if (recordedSteps.length === 0) {\n            const error = new NoOutputGeneratedError({\n              message: \"No output generated. Check the stream for errors.\"\n            });\n            self._finishReason.reject(error);\n            self._totalUsage.reject(error);\n            self._steps.reject(error);\n            return;\n          }\n          const finishReason = recordedFinishReason != null ? recordedFinishReason : \"unknown\";\n          const totalUsage = recordedTotalUsage != null ? recordedTotalUsage : {\n            inputTokens: void 0,\n            outputTokens: void 0,\n            totalTokens: void 0\n          };\n          self._finishReason.resolve(finishReason);\n          self._totalUsage.resolve(totalUsage);\n          self._steps.resolve(recordedSteps);\n          const finalStep = recordedSteps[recordedSteps.length - 1];\n          await (onFinish == null ? void 0 : onFinish({\n            finishReason,\n            totalUsage,\n            usage: finalStep.usage,\n            content: finalStep.content,\n            text: finalStep.text,\n            reasoningText: finalStep.reasoningText,\n            reasoning: finalStep.reasoning,\n            files: finalStep.files,\n            sources: finalStep.sources,\n            toolCalls: finalStep.toolCalls,\n            staticToolCalls: finalStep.staticToolCalls,\n            dynamicToolCalls: finalStep.dynamicToolCalls,\n            toolResults: finalStep.toolResults,\n            staticToolResults: finalStep.staticToolResults,\n            dynamicToolResults: finalStep.dynamicToolResults,\n            request: finalStep.request,\n            response: finalStep.response,\n            warnings: finalStep.warnings,\n            providerMetadata: finalStep.providerMetadata,\n            steps: recordedSteps\n          }));\n          rootSpan.setAttributes(\n            selectTelemetryAttributes({\n              telemetry,\n              attributes: {\n                \"ai.response.finishReason\": finishReason,\n                \"ai.response.text\": { output: () => finalStep.text },\n                \"ai.response.toolCalls\": {\n                  output: () => {\n                    var _a16;\n                    return ((_a16 = finalStep.toolCalls) == null ? void 0 : _a16.length) ? JSON.stringify(finalStep.toolCalls) : void 0;\n                  }\n                },\n                \"ai.response.providerMetadata\": JSON.stringify(\n                  finalStep.providerMetadata\n                ),\n                \"ai.usage.inputTokens\": totalUsage.inputTokens,\n                \"ai.usage.outputTokens\": totalUsage.outputTokens,\n                \"ai.usage.totalTokens\": totalUsage.totalTokens,\n                \"ai.usage.reasoningTokens\": totalUsage.reasoningTokens,\n                \"ai.usage.cachedInputTokens\": totalUsage.cachedInputTokens\n              }\n            })\n          );\n        } catch (error) {\n          controller.error(error);\n        } finally {\n          rootSpan.end();\n        }\n      }\n    });\n    const stitchableStream = createStitchableStream();\n    this.addStream = stitchableStream.addStream;\n    this.closeStream = stitchableStream.close;\n    const reader = stitchableStream.stream.getReader();\n    let stream = new ReadableStream({\n      async start(controller) {\n        controller.enqueue({ type: \"start\" });\n      },\n      async pull(controller) {\n        function abort() {\n          onAbort == null ? void 0 : onAbort({ steps: recordedSteps });\n          controller.enqueue({ type: \"abort\" });\n          controller.close();\n        }\n        try {\n          const { done, value } = await reader.read();\n          if (done) {\n            controller.close();\n            return;\n          }\n          if (abortSignal == null ? void 0 : abortSignal.aborted) {\n            abort();\n            return;\n          }\n          controller.enqueue(value);\n        } catch (error) {\n          if (isAbortError2(error) && (abortSignal == null ? void 0 : abortSignal.aborted)) {\n            abort();\n          } else {\n            controller.error(error);\n          }\n        }\n      },\n      cancel(reason) {\n        return stitchableStream.stream.cancel(reason);\n      }\n    });\n    for (const transform of transforms) {\n      stream = stream.pipeThrough(\n        transform({\n          tools,\n          stopStream() {\n            stitchableStream.terminate();\n          }\n        })\n      );\n    }\n    this.baseStream = stream.pipeThrough(createOutputTransformStream(output)).pipeThrough(eventProcessor);\n    const { maxRetries, retry } = prepareRetries({\n      maxRetries: maxRetriesArg,\n      abortSignal\n    });\n    const tracer = getTracer(telemetry);\n    const callSettings = prepareCallSettings(settings);\n    const baseTelemetryAttributes = getBaseTelemetryAttributes({\n      model,\n      telemetry,\n      headers,\n      settings: { ...callSettings, maxRetries }\n    });\n    const self = this;\n    recordSpan({\n      name: \"ai.streamText\",\n      attributes: selectTelemetryAttributes({\n        telemetry,\n        attributes: {\n          ...assembleOperationName({ operationId: \"ai.streamText\", telemetry }),\n          ...baseTelemetryAttributes,\n          // specific settings that only make sense on the outer level:\n          \"ai.prompt\": {\n            input: () => JSON.stringify({ system, prompt, messages })\n          }\n        }\n      }),\n      tracer,\n      endWhenDone: false,\n      fn: async (rootSpanArg) => {\n        rootSpan = rootSpanArg;\n        async function streamStep({\n          currentStep,\n          responseMessages,\n          usage\n        }) {\n          var _a16, _b, _c, _d, _e;\n          const includeRawChunks2 = self.includeRawChunks;\n          stepFinish = new DelayedPromise();\n          const initialPrompt = await standardizePrompt({\n            system,\n            prompt,\n            messages\n          });\n          const stepInputMessages = [\n            ...initialPrompt.messages,\n            ...responseMessages\n          ];\n          const prepareStepResult = await (prepareStep == null ? void 0 : prepareStep({\n            model,\n            steps: recordedSteps,\n            stepNumber: recordedSteps.length,\n            messages: stepInputMessages\n          }));\n          const stepModel = resolveLanguageModel(\n            (_a16 = prepareStepResult == null ? void 0 : prepareStepResult.model) != null ? _a16 : model\n          );\n          const promptMessages = await convertToLanguageModelPrompt({\n            prompt: {\n              system: (_b = prepareStepResult == null ? void 0 : prepareStepResult.system) != null ? _b : initialPrompt.system,\n              messages: (_c = prepareStepResult == null ? void 0 : prepareStepResult.messages) != null ? _c : stepInputMessages\n            },\n            supportedUrls: await stepModel.supportedUrls,\n            download: download2\n          });\n          const { toolChoice: stepToolChoice, tools: stepTools } = prepareToolsAndToolChoice({\n            tools,\n            toolChoice: (_d = prepareStepResult == null ? void 0 : prepareStepResult.toolChoice) != null ? _d : toolChoice,\n            activeTools: (_e = prepareStepResult == null ? void 0 : prepareStepResult.activeTools) != null ? _e : activeTools\n          });\n          const {\n            result: { stream: stream2, response, request },\n            doStreamSpan,\n            startTimestampMs\n          } = await retry(\n            () => recordSpan({\n              name: \"ai.streamText.doStream\",\n              attributes: selectTelemetryAttributes({\n                telemetry,\n                attributes: {\n                  ...assembleOperationName({\n                    operationId: \"ai.streamText.doStream\",\n                    telemetry\n                  }),\n                  ...baseTelemetryAttributes,\n                  // model:\n                  \"ai.model.provider\": stepModel.provider,\n                  \"ai.model.id\": stepModel.modelId,\n                  // prompt:\n                  \"ai.prompt.messages\": {\n                    input: () => stringifyForTelemetry(promptMessages)\n                  },\n                  \"ai.prompt.tools\": {\n                    // convert the language model level tools:\n                    input: () => stepTools == null ? void 0 : stepTools.map((tool2) => JSON.stringify(tool2))\n                  },\n                  \"ai.prompt.toolChoice\": {\n                    input: () => stepToolChoice != null ? JSON.stringify(stepToolChoice) : void 0\n                  },\n                  // standardized gen-ai llm span attributes:\n                  \"gen_ai.system\": stepModel.provider,\n                  \"gen_ai.request.model\": stepModel.modelId,\n                  \"gen_ai.request.frequency_penalty\": callSettings.frequencyPenalty,\n                  \"gen_ai.request.max_tokens\": callSettings.maxOutputTokens,\n                  \"gen_ai.request.presence_penalty\": callSettings.presencePenalty,\n                  \"gen_ai.request.stop_sequences\": callSettings.stopSequences,\n                  \"gen_ai.request.temperature\": callSettings.temperature,\n                  \"gen_ai.request.top_k\": callSettings.topK,\n                  \"gen_ai.request.top_p\": callSettings.topP\n                }\n              }),\n              tracer,\n              endWhenDone: false,\n              fn: async (doStreamSpan2) => {\n                return {\n                  startTimestampMs: now2(),\n                  // get before the call\n                  doStreamSpan: doStreamSpan2,\n                  result: await stepModel.doStream({\n                    ...callSettings,\n                    tools: stepTools,\n                    toolChoice: stepToolChoice,\n                    responseFormat: output == null ? void 0 : output.responseFormat,\n                    prompt: promptMessages,\n                    providerOptions,\n                    abortSignal,\n                    headers,\n                    includeRawChunks: includeRawChunks2\n                  })\n                };\n              }\n            })\n          );\n          const streamWithToolResults = runToolsTransformation({\n            tools,\n            generatorStream: stream2,\n            tracer,\n            telemetry,\n            system,\n            messages: stepInputMessages,\n            repairToolCall,\n            abortSignal,\n            experimental_context\n          });\n          const stepRequest = request != null ? request : {};\n          const stepToolCalls = [];\n          const stepToolOutputs = [];\n          let warnings;\n          const activeToolCallToolNames = {};\n          let stepFinishReason = \"unknown\";\n          let stepUsage = {\n            inputTokens: void 0,\n            outputTokens: void 0,\n            totalTokens: void 0\n          };\n          let stepProviderMetadata;\n          let stepFirstChunk = true;\n          let stepResponse = {\n            id: generateId3(),\n            timestamp: currentDate(),\n            modelId: model.modelId\n          };\n          let activeText = \"\";\n          self.addStream(\n            streamWithToolResults.pipeThrough(\n              new TransformStream({\n                async transform(chunk, controller) {\n                  var _a17, _b2, _c2, _d2;\n                  if (chunk.type === \"stream-start\") {\n                    warnings = chunk.warnings;\n                    return;\n                  }\n                  if (stepFirstChunk) {\n                    const msToFirstChunk = now2() - startTimestampMs;\n                    stepFirstChunk = false;\n                    doStreamSpan.addEvent(\"ai.stream.firstChunk\", {\n                      \"ai.response.msToFirstChunk\": msToFirstChunk\n                    });\n                    doStreamSpan.setAttributes({\n                      \"ai.response.msToFirstChunk\": msToFirstChunk\n                    });\n                    controller.enqueue({\n                      type: \"start-step\",\n                      request: stepRequest,\n                      warnings: warnings != null ? warnings : []\n                    });\n                  }\n                  const chunkType = chunk.type;\n                  switch (chunkType) {\n                    case \"text-start\":\n                    case \"text-end\": {\n                      controller.enqueue(chunk);\n                      break;\n                    }\n                    case \"text-delta\": {\n                      if (chunk.delta.length > 0) {\n                        controller.enqueue({\n                          type: \"text-delta\",\n                          id: chunk.id,\n                          text: chunk.delta,\n                          providerMetadata: chunk.providerMetadata\n                        });\n                        activeText += chunk.delta;\n                      }\n                      break;\n                    }\n                    case \"reasoning-start\":\n                    case \"reasoning-end\": {\n                      controller.enqueue(chunk);\n                      break;\n                    }\n                    case \"reasoning-delta\": {\n                      controller.enqueue({\n                        type: \"reasoning-delta\",\n                        id: chunk.id,\n                        text: chunk.delta,\n                        providerMetadata: chunk.providerMetadata\n                      });\n                      break;\n                    }\n                    case \"tool-call\": {\n                      controller.enqueue(chunk);\n                      stepToolCalls.push(chunk);\n                      break;\n                    }\n                    case \"tool-result\": {\n                      controller.enqueue(chunk);\n                      if (!chunk.preliminary) {\n                        stepToolOutputs.push(chunk);\n                      }\n                      break;\n                    }\n                    case \"tool-error\": {\n                      controller.enqueue(chunk);\n                      stepToolOutputs.push(chunk);\n                      break;\n                    }\n                    case \"response-metadata\": {\n                      stepResponse = {\n                        id: (_a17 = chunk.id) != null ? _a17 : stepResponse.id,\n                        timestamp: (_b2 = chunk.timestamp) != null ? _b2 : stepResponse.timestamp,\n                        modelId: (_c2 = chunk.modelId) != null ? _c2 : stepResponse.modelId\n                      };\n                      break;\n                    }\n                    case \"finish\": {\n                      stepUsage = chunk.usage;\n                      stepFinishReason = chunk.finishReason;\n                      stepProviderMetadata = chunk.providerMetadata;\n                      const msToFinish = now2() - startTimestampMs;\n                      doStreamSpan.addEvent(\"ai.stream.finish\");\n                      doStreamSpan.setAttributes({\n                        \"ai.response.msToFinish\": msToFinish,\n                        \"ai.response.avgOutputTokensPerSecond\": 1e3 * ((_d2 = stepUsage.outputTokens) != null ? _d2 : 0) / msToFinish\n                      });\n                      break;\n                    }\n                    case \"file\": {\n                      controller.enqueue(chunk);\n                      break;\n                    }\n                    case \"source\": {\n                      controller.enqueue(chunk);\n                      break;\n                    }\n                    case \"tool-input-start\": {\n                      activeToolCallToolNames[chunk.id] = chunk.toolName;\n                      const tool2 = tools == null ? void 0 : tools[chunk.toolName];\n                      if ((tool2 == null ? void 0 : tool2.onInputStart) != null) {\n                        await tool2.onInputStart({\n                          toolCallId: chunk.id,\n                          messages: stepInputMessages,\n                          abortSignal,\n                          experimental_context\n                        });\n                      }\n                      controller.enqueue({\n                        ...chunk,\n                        dynamic: (tool2 == null ? void 0 : tool2.type) === \"dynamic\"\n                      });\n                      break;\n                    }\n                    case \"tool-input-end\": {\n                      delete activeToolCallToolNames[chunk.id];\n                      controller.enqueue(chunk);\n                      break;\n                    }\n                    case \"tool-input-delta\": {\n                      const toolName = activeToolCallToolNames[chunk.id];\n                      const tool2 = tools == null ? void 0 : tools[toolName];\n                      if ((tool2 == null ? void 0 : tool2.onInputDelta) != null) {\n                        await tool2.onInputDelta({\n                          inputTextDelta: chunk.delta,\n                          toolCallId: chunk.id,\n                          messages: stepInputMessages,\n                          abortSignal,\n                          experimental_context\n                        });\n                      }\n                      controller.enqueue(chunk);\n                      break;\n                    }\n                    case \"error\": {\n                      controller.enqueue(chunk);\n                      stepFinishReason = \"error\";\n                      break;\n                    }\n                    case \"raw\": {\n                      if (includeRawChunks2) {\n                        controller.enqueue(chunk);\n                      }\n                      break;\n                    }\n                    default: {\n                      const exhaustiveCheck = chunkType;\n                      throw new Error(`Unknown chunk type: ${exhaustiveCheck}`);\n                    }\n                  }\n                },\n                // invoke onFinish callback and resolve toolResults promise when the stream is about to close:\n                async flush(controller) {\n                  const stepToolCallsJson = stepToolCalls.length > 0 ? JSON.stringify(stepToolCalls) : void 0;\n                  try {\n                    doStreamSpan.setAttributes(\n                      selectTelemetryAttributes({\n                        telemetry,\n                        attributes: {\n                          \"ai.response.finishReason\": stepFinishReason,\n                          \"ai.response.text\": {\n                            output: () => activeText\n                          },\n                          \"ai.response.toolCalls\": {\n                            output: () => stepToolCallsJson\n                          },\n                          \"ai.response.id\": stepResponse.id,\n                          \"ai.response.model\": stepResponse.modelId,\n                          \"ai.response.timestamp\": stepResponse.timestamp.toISOString(),\n                          \"ai.response.providerMetadata\": JSON.stringify(stepProviderMetadata),\n                          \"ai.usage.inputTokens\": stepUsage.inputTokens,\n                          \"ai.usage.outputTokens\": stepUsage.outputTokens,\n                          \"ai.usage.totalTokens\": stepUsage.totalTokens,\n                          \"ai.usage.reasoningTokens\": stepUsage.reasoningTokens,\n                          \"ai.usage.cachedInputTokens\": stepUsage.cachedInputTokens,\n                          // standardized gen-ai llm span attributes:\n                          \"gen_ai.response.finish_reasons\": [stepFinishReason],\n                          \"gen_ai.response.id\": stepResponse.id,\n                          \"gen_ai.response.model\": stepResponse.modelId,\n                          \"gen_ai.usage.input_tokens\": stepUsage.inputTokens,\n                          \"gen_ai.usage.output_tokens\": stepUsage.outputTokens\n                        }\n                      })\n                    );\n                  } catch (error) {\n                  } finally {\n                    doStreamSpan.end();\n                  }\n                  controller.enqueue({\n                    type: \"finish-step\",\n                    finishReason: stepFinishReason,\n                    usage: stepUsage,\n                    providerMetadata: stepProviderMetadata,\n                    response: {\n                      ...stepResponse,\n                      headers: response == null ? void 0 : response.headers\n                    }\n                  });\n                  const combinedUsage = addLanguageModelUsage(usage, stepUsage);\n                  await stepFinish.promise;\n                  const clientToolCalls = stepToolCalls.filter(\n                    (toolCall) => toolCall.providerExecuted !== true\n                  );\n                  const clientToolOutputs = stepToolOutputs.filter(\n                    (toolOutput) => toolOutput.providerExecuted !== true\n                  );\n                  if (clientToolCalls.length > 0 && // all current tool calls have outputs (incl. execution errors):\n                  clientToolOutputs.length === clientToolCalls.length && // continue until a stop condition is met:\n                  !await isStopConditionMet({\n                    stopConditions,\n                    steps: recordedSteps\n                  })) {\n                    responseMessages.push(\n                      ...toResponseMessages({\n                        content: (\n                          // use transformed content to create the messages for the next step:\n                          recordedSteps[recordedSteps.length - 1].content\n                        ),\n                        tools\n                      })\n                    );\n                    try {\n                      await streamStep({\n                        currentStep: currentStep + 1,\n                        responseMessages,\n                        usage: combinedUsage\n                      });\n                    } catch (error) {\n                      controller.enqueue({\n                        type: \"error\",\n                        error\n                      });\n                      self.closeStream();\n                    }\n                  } else {\n                    controller.enqueue({\n                      type: \"finish\",\n                      finishReason: stepFinishReason,\n                      totalUsage: combinedUsage\n                    });\n                    self.closeStream();\n                  }\n                }\n              })\n            )\n          );\n        }\n        await streamStep({\n          currentStep: 0,\n          responseMessages: [],\n          usage: {\n            inputTokens: void 0,\n            outputTokens: void 0,\n            totalTokens: void 0\n          }\n        });\n      }\n    }).catch((error) => {\n      self.addStream(\n        new ReadableStream({\n          start(controller) {\n            controller.enqueue({ type: \"error\", error });\n            controller.close();\n          }\n        })\n      );\n      self.closeStream();\n    });\n  }\n  get steps() {\n    this.consumeStream();\n    return this._steps.promise;\n  }\n  get finalStep() {\n    return this.steps.then((steps) => steps[steps.length - 1]);\n  }\n  get content() {\n    return this.finalStep.then((step) => step.content);\n  }\n  get warnings() {\n    return this.finalStep.then((step) => step.warnings);\n  }\n  get providerMetadata() {\n    return this.finalStep.then((step) => step.providerMetadata);\n  }\n  get text() {\n    return this.finalStep.then((step) => step.text);\n  }\n  get reasoningText() {\n    return this.finalStep.then((step) => step.reasoningText);\n  }\n  get reasoning() {\n    return this.finalStep.then((step) => step.reasoning);\n  }\n  get sources() {\n    return this.finalStep.then((step) => step.sources);\n  }\n  get files() {\n    return this.finalStep.then((step) => step.files);\n  }\n  get toolCalls() {\n    return this.finalStep.then((step) => step.toolCalls);\n  }\n  get staticToolCalls() {\n    return this.finalStep.then((step) => step.staticToolCalls);\n  }\n  get dynamicToolCalls() {\n    return this.finalStep.then((step) => step.dynamicToolCalls);\n  }\n  get toolResults() {\n    return this.finalStep.then((step) => step.toolResults);\n  }\n  get staticToolResults() {\n    return this.finalStep.then((step) => step.staticToolResults);\n  }\n  get dynamicToolResults() {\n    return this.finalStep.then((step) => step.dynamicToolResults);\n  }\n  get usage() {\n    return this.finalStep.then((step) => step.usage);\n  }\n  get request() {\n    return this.finalStep.then((step) => step.request);\n  }\n  get response() {\n    return this.finalStep.then((step) => step.response);\n  }\n  get totalUsage() {\n    this.consumeStream();\n    return this._totalUsage.promise;\n  }\n  get finishReason() {\n    this.consumeStream();\n    return this._finishReason.promise;\n  }\n  /**\n  Split out a new stream from the original stream.\n  The original stream is replaced to allow for further splitting,\n  since we do not know how many times the stream will be split.\n  \n  Note: this leads to buffering the stream content on the server.\n  However, the LLM results are expected to be small enough to not cause issues.\n     */\n  teeStream() {\n    const [stream1, stream2] = this.baseStream.tee();\n    this.baseStream = stream2;\n    return stream1;\n  }\n  get textStream() {\n    return createAsyncIterableStream(\n      this.teeStream().pipeThrough(\n        new TransformStream({\n          transform({ part }, controller) {\n            if (part.type === \"text-delta\") {\n              controller.enqueue(part.text);\n            }\n          }\n        })\n      )\n    );\n  }\n  get fullStream() {\n    return createAsyncIterableStream(\n      this.teeStream().pipeThrough(\n        new TransformStream({\n          transform({ part }, controller) {\n            controller.enqueue(part);\n          }\n        })\n      )\n    );\n  }\n  async consumeStream(options) {\n    var _a16;\n    try {\n      await consumeStream({\n        stream: this.fullStream,\n        onError: options == null ? void 0 : options.onError\n      });\n    } catch (error) {\n      (_a16 = options == null ? void 0 : options.onError) == null ? void 0 : _a16.call(options, error);\n    }\n  }\n  get experimental_partialOutputStream() {\n    if (this.output == null) {\n      throw new NoOutputSpecifiedError();\n    }\n    return createAsyncIterableStream(\n      this.teeStream().pipeThrough(\n        new TransformStream({\n          transform({ partialOutput }, controller) {\n            if (partialOutput != null) {\n              controller.enqueue(partialOutput);\n            }\n          }\n        })\n      )\n    );\n  }\n  toUIMessageStream({\n    originalMessages,\n    generateMessageId,\n    onFinish,\n    messageMetadata,\n    sendReasoning = true,\n    sendSources = false,\n    sendStart = true,\n    sendFinish = true,\n    onError = getErrorMessage7\n  } = {}) {\n    const responseMessageId = generateMessageId != null ? getResponseUIMessageId({\n      originalMessages,\n      responseMessageId: generateMessageId\n    }) : void 0;\n    const toolNamesByCallId = {};\n    const isDynamic = (toolCallId) => {\n      var _a16, _b;\n      const toolName = toolNamesByCallId[toolCallId];\n      const dynamic = ((_b = (_a16 = this.tools) == null ? void 0 : _a16[toolName]) == null ? void 0 : _b.type) === \"dynamic\";\n      return dynamic ? true : void 0;\n    };\n    const baseStream = this.fullStream.pipeThrough(\n      new TransformStream({\n        transform: async (part, controller) => {\n          const messageMetadataValue = messageMetadata == null ? void 0 : messageMetadata({ part });\n          const partType = part.type;\n          switch (partType) {\n            case \"text-start\": {\n              controller.enqueue({\n                type: \"text-start\",\n                id: part.id,\n                ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {}\n              });\n              break;\n            }\n            case \"text-delta\": {\n              controller.enqueue({\n                type: \"text-delta\",\n                id: part.id,\n                delta: part.text,\n                ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {}\n              });\n              break;\n            }\n            case \"text-end\": {\n              controller.enqueue({\n                type: \"text-end\",\n                id: part.id,\n                ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {}\n              });\n              break;\n            }\n            case \"reasoning-start\": {\n              controller.enqueue({\n                type: \"reasoning-start\",\n                id: part.id,\n                ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {}\n              });\n              break;\n            }\n            case \"reasoning-delta\": {\n              if (sendReasoning) {\n                controller.enqueue({\n                  type: \"reasoning-delta\",\n                  id: part.id,\n                  delta: part.text,\n                  ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {}\n                });\n              }\n              break;\n            }\n            case \"reasoning-end\": {\n              controller.enqueue({\n                type: \"reasoning-end\",\n                id: part.id,\n                ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {}\n              });\n              break;\n            }\n            case \"file\": {\n              controller.enqueue({\n                type: \"file\",\n                mediaType: part.file.mediaType,\n                url: `data:${part.file.mediaType};base64,${part.file.base64}`\n              });\n              break;\n            }\n            case \"source\": {\n              if (sendSources && part.sourceType === \"url\") {\n                controller.enqueue({\n                  type: \"source-url\",\n                  sourceId: part.id,\n                  url: part.url,\n                  title: part.title,\n                  ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {}\n                });\n              }\n              if (sendSources && part.sourceType === \"document\") {\n                controller.enqueue({\n                  type: \"source-document\",\n                  sourceId: part.id,\n                  mediaType: part.mediaType,\n                  title: part.title,\n                  filename: part.filename,\n                  ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {}\n                });\n              }\n              break;\n            }\n            case \"tool-input-start\": {\n              toolNamesByCallId[part.id] = part.toolName;\n              const dynamic = isDynamic(part.id);\n              controller.enqueue({\n                type: \"tool-input-start\",\n                toolCallId: part.id,\n                toolName: part.toolName,\n                ...part.providerExecuted != null ? { providerExecuted: part.providerExecuted } : {},\n                ...dynamic != null ? { dynamic } : {}\n              });\n              break;\n            }\n            case \"tool-input-delta\": {\n              controller.enqueue({\n                type: \"tool-input-delta\",\n                toolCallId: part.id,\n                inputTextDelta: part.delta\n              });\n              break;\n            }\n            case \"tool-call\": {\n              toolNamesByCallId[part.toolCallId] = part.toolName;\n              const dynamic = isDynamic(part.toolCallId);\n              if (part.invalid) {\n                controller.enqueue({\n                  type: \"tool-input-error\",\n                  toolCallId: part.toolCallId,\n                  toolName: part.toolName,\n                  input: part.input,\n                  ...part.providerExecuted != null ? { providerExecuted: part.providerExecuted } : {},\n                  ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {},\n                  ...dynamic != null ? { dynamic } : {},\n                  errorText: onError(part.error)\n                });\n              } else {\n                controller.enqueue({\n                  type: \"tool-input-available\",\n                  toolCallId: part.toolCallId,\n                  toolName: part.toolName,\n                  input: part.input,\n                  ...part.providerExecuted != null ? { providerExecuted: part.providerExecuted } : {},\n                  ...part.providerMetadata != null ? { providerMetadata: part.providerMetadata } : {},\n                  ...dynamic != null ? { dynamic } : {}\n                });\n              }\n              break;\n            }\n            case \"tool-result\": {\n              const dynamic = isDynamic(part.toolCallId);\n              controller.enqueue({\n                type: \"tool-output-available\",\n                toolCallId: part.toolCallId,\n                output: part.output,\n                ...part.providerExecuted != null ? { providerExecuted: part.providerExecuted } : {},\n                ...part.preliminary != null ? { preliminary: part.preliminary } : {},\n                ...dynamic != null ? { dynamic } : {}\n              });\n              break;\n            }\n            case \"tool-error\": {\n              const dynamic = isDynamic(part.toolCallId);\n              controller.enqueue({\n                type: \"tool-output-error\",\n                toolCallId: part.toolCallId,\n                errorText: onError(part.error),\n                ...part.providerExecuted != null ? { providerExecuted: part.providerExecuted } : {},\n                ...dynamic != null ? { dynamic } : {}\n              });\n              break;\n            }\n            case \"error\": {\n              controller.enqueue({\n                type: \"error\",\n                errorText: onError(part.error)\n              });\n              break;\n            }\n            case \"start-step\": {\n              controller.enqueue({ type: \"start-step\" });\n              break;\n            }\n            case \"finish-step\": {\n              controller.enqueue({ type: \"finish-step\" });\n              break;\n            }\n            case \"start\": {\n              if (sendStart) {\n                controller.enqueue({\n                  type: \"start\",\n                  ...messageMetadataValue != null ? { messageMetadata: messageMetadataValue } : {},\n                  ...responseMessageId != null ? { messageId: responseMessageId } : {}\n                });\n              }\n              break;\n            }\n            case \"finish\": {\n              if (sendFinish) {\n                controller.enqueue({\n                  type: \"finish\",\n                  finishReason: part.finishReason,\n                  ...messageMetadataValue != null ? { messageMetadata: messageMetadataValue } : {}\n                });\n              }\n              break;\n            }\n            case \"abort\": {\n              controller.enqueue(part);\n              break;\n            }\n            case \"tool-input-end\": {\n              break;\n            }\n            case \"raw\": {\n              break;\n            }\n            default: {\n              const exhaustiveCheck = partType;\n              throw new Error(`Unknown chunk type: ${exhaustiveCheck}`);\n            }\n          }\n          if (messageMetadataValue != null && partType !== \"start\" && partType !== \"finish\") {\n            controller.enqueue({\n              type: \"message-metadata\",\n              messageMetadata: messageMetadataValue\n            });\n          }\n        }\n      })\n    );\n    return createAsyncIterableStream(\n      handleUIMessageStreamFinish({\n        stream: baseStream,\n        messageId: responseMessageId != null ? responseMessageId : generateMessageId == null ? void 0 : generateMessageId(),\n        originalMessages,\n        onFinish,\n        onError\n      })\n    );\n  }\n  pipeUIMessageStreamToResponse(response, {\n    originalMessages,\n    generateMessageId,\n    onFinish,\n    messageMetadata,\n    sendReasoning,\n    sendSources,\n    sendFinish,\n    sendStart,\n    onError,\n    ...init\n  } = {}) {\n    pipeUIMessageStreamToResponse({\n      response,\n      stream: this.toUIMessageStream({\n        originalMessages,\n        generateMessageId,\n        onFinish,\n        messageMetadata,\n        sendReasoning,\n        sendSources,\n        sendFinish,\n        sendStart,\n        onError\n      }),\n      ...init\n    });\n  }\n  pipeTextStreamToResponse(response, init) {\n    pipeTextStreamToResponse({\n      response,\n      textStream: this.textStream,\n      ...init\n    });\n  }\n  toUIMessageStreamResponse({\n    originalMessages,\n    generateMessageId,\n    onFinish,\n    messageMetadata,\n    sendReasoning,\n    sendSources,\n    sendFinish,\n    sendStart,\n    onError,\n    ...init\n  } = {}) {\n    return createUIMessageStreamResponse({\n      stream: this.toUIMessageStream({\n        originalMessages,\n        generateMessageId,\n        onFinish,\n        messageMetadata,\n        sendReasoning,\n        sendSources,\n        sendFinish,\n        sendStart,\n        onError\n      }),\n      ...init\n    });\n  }\n  toTextStreamResponse(init) {\n    return createTextStreamResponse({\n      textStream: this.textStream,\n      ...init\n    });\n  }\n};\n\n// src/ui/convert-to-model-messages.ts\nfunction convertToModelMessages(messages, options) {\n  const modelMessages = [];\n  if (options == null ? void 0 : options.ignoreIncompleteToolCalls) {\n    messages = messages.map((message) => ({\n      ...message,\n      parts: message.parts.filter(\n        (part) => !isToolOrDynamicToolUIPart(part) || part.state !== \"input-streaming\" && part.state !== \"input-available\"\n      )\n    }));\n  }\n  for (const message of messages) {\n    switch (message.role) {\n      case \"system\": {\n        const textParts = message.parts.filter(\n          (part) => part.type === \"text\"\n        );\n        const providerMetadata = textParts.reduce((acc, part) => {\n          if (part.providerMetadata != null) {\n            return { ...acc, ...part.providerMetadata };\n          }\n          return acc;\n        }, {});\n        modelMessages.push({\n          role: \"system\",\n          content: textParts.map((part) => part.text).join(\"\"),\n          ...Object.keys(providerMetadata).length > 0 ? { providerOptions: providerMetadata } : {}\n        });\n        break;\n      }\n      case \"user\": {\n        modelMessages.push({\n          role: \"user\",\n          content: message.parts.map((part) => {\n            var _a16;\n            if (isTextUIPart(part)) {\n              return {\n                type: \"text\",\n                text: part.text,\n                ...part.providerMetadata != null ? { providerOptions: part.providerMetadata } : {}\n              };\n            }\n            if (isFileUIPart(part)) {\n              return {\n                type: \"file\",\n                mediaType: part.mediaType,\n                filename: part.filename,\n                data: part.url,\n                ...part.providerMetadata != null ? { providerOptions: part.providerMetadata } : {}\n              };\n            }\n            if (isDataUIPart(part)) {\n              return (_a16 = options == null ? void 0 : options.convertDataPart) == null ? void 0 : _a16.call(\n                options,\n                part\n              );\n            }\n          }).filter((part) => part != null)\n        });\n        break;\n      }\n      case \"assistant\": {\n        if (message.parts != null) {\n          let processBlock2 = function() {\n            var _a16, _b, _c;\n            if (block.length === 0) {\n              return;\n            }\n            const content = [];\n            for (const part of block) {\n              if (isTextUIPart(part)) {\n                content.push({\n                  type: \"text\",\n                  text: part.text,\n                  ...part.providerMetadata != null ? { providerOptions: part.providerMetadata } : {}\n                });\n              } else if (isFileUIPart(part)) {\n                content.push({\n                  type: \"file\",\n                  mediaType: part.mediaType,\n                  filename: part.filename,\n                  data: part.url\n                });\n              } else if (isReasoningUIPart(part)) {\n                content.push({\n                  type: \"reasoning\",\n                  text: part.text,\n                  providerOptions: part.providerMetadata\n                });\n              } else if (isDynamicToolUIPart(part)) {\n                const toolName = part.toolName;\n                if (part.state !== \"input-streaming\") {\n                  content.push({\n                    type: \"tool-call\",\n                    toolCallId: part.toolCallId,\n                    toolName,\n                    input: part.input,\n                    ...part.callProviderMetadata != null ? { providerOptions: part.callProviderMetadata } : {}\n                  });\n                }\n              } else if (isToolUIPart(part)) {\n                const toolName = getToolName(part);\n                if (part.state !== \"input-streaming\") {\n                  content.push({\n                    type: \"tool-call\",\n                    toolCallId: part.toolCallId,\n                    toolName,\n                    input: part.state === \"output-error\" ? (_a16 = part.input) != null ? _a16 : part.rawInput : part.input,\n                    providerExecuted: part.providerExecuted,\n                    ...part.callProviderMetadata != null ? { providerOptions: part.callProviderMetadata } : {}\n                  });\n                  if (part.providerExecuted === true && (part.state === \"output-available\" || part.state === \"output-error\")) {\n                    content.push({\n                      type: \"tool-result\",\n                      toolCallId: part.toolCallId,\n                      toolName,\n                      output: createToolModelOutput({\n                        output: part.state === \"output-error\" ? part.errorText : part.output,\n                        tool: (_b = options == null ? void 0 : options.tools) == null ? void 0 : _b[toolName],\n                        errorMode: part.state === \"output-error\" ? \"json\" : \"none\"\n                      })\n                    });\n                  }\n                }\n              } else if (isDataUIPart(part)) {\n                const dataPart = (_c = options == null ? void 0 : options.convertDataPart) == null ? void 0 : _c.call(\n                  options,\n                  part\n                );\n                if (dataPart != null) {\n                  content.push(dataPart);\n                }\n              } else {\n                const _exhaustiveCheck = part;\n                throw new Error(`Unsupported part: ${_exhaustiveCheck}`);\n              }\n            }\n            modelMessages.push({\n              role: \"assistant\",\n              content\n            });\n            const toolParts = block.filter(\n              (part) => isToolUIPart(part) && part.providerExecuted !== true || part.type === \"dynamic-tool\"\n            );\n            if (toolParts.length > 0) {\n              modelMessages.push({\n                role: \"tool\",\n                content: toolParts.map((toolPart) => {\n                  var _a17;\n                  switch (toolPart.state) {\n                    case \"output-error\":\n                    case \"output-available\": {\n                      const toolName = getToolOrDynamicToolName(toolPart);\n                      return {\n                        type: \"tool-result\",\n                        toolCallId: toolPart.toolCallId,\n                        toolName,\n                        output: createToolModelOutput({\n                          output: toolPart.state === \"output-error\" ? toolPart.errorText : toolPart.output,\n                          tool: (_a17 = options == null ? void 0 : options.tools) == null ? void 0 : _a17[toolName],\n                          errorMode: toolPart.state === \"output-error\" ? \"text\" : \"none\"\n                        })\n                      };\n                    }\n                    default: {\n                      return null;\n                    }\n                  }\n                }).filter(\n                  (output) => output != null\n                )\n              });\n            }\n            block = [];\n          };\n          var processBlock = processBlock2;\n          let block = [];\n          for (const part of message.parts) {\n            if (isTextUIPart(part) || isReasoningUIPart(part) || isFileUIPart(part) || isToolOrDynamicToolUIPart(part) || isDataUIPart(part)) {\n              block.push(part);\n            } else if (part.type === \"step-start\") {\n              processBlock2();\n            }\n          }\n          processBlock2();\n          break;\n        }\n        break;\n      }\n      default: {\n        const _exhaustiveCheck = message.role;\n        throw new MessageConversionError({\n          originalMessage: message,\n          message: `Unsupported role: ${_exhaustiveCheck}`\n        });\n      }\n    }\n  }\n  return modelMessages;\n}\nvar convertToCoreMessages = convertToModelMessages;\n\n// src/agent/agent.ts\nvar Agent = class {\n  constructor(settings) {\n    this.settings = settings;\n  }\n  get tools() {\n    return this.settings.tools;\n  }\n  async generate(options) {\n    return generateText({ ...this.settings, ...options });\n  }\n  stream(options) {\n    return streamText({ ...this.settings, ...options });\n  }\n  /**\n   * Creates a response object that streams UI messages to the client.\n   */\n  respond(options) {\n    return this.stream({\n      prompt: convertToModelMessages(options.messages)\n    }).toUIMessageStreamResponse();\n  }\n};\n\n// src/embed/embed.ts\nimport { withUserAgentSuffix as withUserAgentSuffix3 } from \"@ai-sdk/provider-utils\";\nasync function embed({\n  model: modelArg,\n  value,\n  providerOptions,\n  maxRetries: maxRetriesArg,\n  abortSignal,\n  headers,\n  experimental_telemetry: telemetry\n}) {\n  const model = resolveEmbeddingModel(modelArg);\n  const { maxRetries, retry } = prepareRetries({\n    maxRetries: maxRetriesArg,\n    abortSignal\n  });\n  const headersWithUserAgent = withUserAgentSuffix3(\n    headers != null ? headers : {},\n    `ai/${VERSION}`\n  );\n  const baseTelemetryAttributes = getBaseTelemetryAttributes({\n    model,\n    telemetry,\n    headers: headersWithUserAgent,\n    settings: { maxRetries }\n  });\n  const tracer = getTracer(telemetry);\n  return recordSpan({\n    name: \"ai.embed\",\n    attributes: selectTelemetryAttributes({\n      telemetry,\n      attributes: {\n        ...assembleOperationName({ operationId: \"ai.embed\", telemetry }),\n        ...baseTelemetryAttributes,\n        \"ai.value\": { input: () => JSON.stringify(value) }\n      }\n    }),\n    tracer,\n    fn: async (span) => {\n      const { embedding, usage, response, providerMetadata } = await retry(\n        () => (\n          // nested spans to align with the embedMany telemetry data:\n          recordSpan({\n            name: \"ai.embed.doEmbed\",\n            attributes: selectTelemetryAttributes({\n              telemetry,\n              attributes: {\n                ...assembleOperationName({\n                  operationId: \"ai.embed.doEmbed\",\n                  telemetry\n                }),\n                ...baseTelemetryAttributes,\n                // specific settings that only make sense on the outer level:\n                \"ai.values\": { input: () => [JSON.stringify(value)] }\n              }\n            }),\n            tracer,\n            fn: async (doEmbedSpan) => {\n              var _a16;\n              const modelResponse = await model.doEmbed({\n                values: [value],\n                abortSignal,\n                headers: headersWithUserAgent,\n                providerOptions\n              });\n              const embedding2 = modelResponse.embeddings[0];\n              const usage2 = (_a16 = modelResponse.usage) != null ? _a16 : { tokens: NaN };\n              doEmbedSpan.setAttributes(\n                selectTelemetryAttributes({\n                  telemetry,\n                  attributes: {\n                    \"ai.embeddings\": {\n                      output: () => modelResponse.embeddings.map(\n                        (embedding3) => JSON.stringify(embedding3)\n                      )\n                    },\n                    \"ai.usage.tokens\": usage2.tokens\n                  }\n                })\n              );\n              return {\n                embedding: embedding2,\n                usage: usage2,\n                providerMetadata: modelResponse.providerMetadata,\n                response: modelResponse.response\n              };\n            }\n          })\n        )\n      );\n      span.setAttributes(\n        selectTelemetryAttributes({\n          telemetry,\n          attributes: {\n            \"ai.embedding\": { output: () => JSON.stringify(embedding) },\n            \"ai.usage.tokens\": usage.tokens\n          }\n        })\n      );\n      return new DefaultEmbedResult({\n        value,\n        embedding,\n        usage,\n        providerMetadata,\n        response\n      });\n    }\n  });\n}\nvar DefaultEmbedResult = class {\n  constructor(options) {\n    this.value = options.value;\n    this.embedding = options.embedding;\n    this.usage = options.usage;\n    this.providerMetadata = options.providerMetadata;\n    this.response = options.response;\n  }\n};\n\n// src/embed/embed-many.ts\nimport { withUserAgentSuffix as withUserAgentSuffix4 } from \"@ai-sdk/provider-utils\";\n\n// src/util/split-array.ts\nfunction splitArray(array, chunkSize) {\n  if (chunkSize <= 0) {\n    throw new Error(\"chunkSize must be greater than 0\");\n  }\n  const result = [];\n  for (let i = 0; i < array.length; i += chunkSize) {\n    result.push(array.slice(i, i + chunkSize));\n  }\n  return result;\n}\n\n// src/embed/embed-many.ts\nasync function embedMany({\n  model: modelArg,\n  values,\n  maxParallelCalls = Infinity,\n  maxRetries: maxRetriesArg,\n  abortSignal,\n  headers,\n  providerOptions,\n  experimental_telemetry: telemetry\n}) {\n  const model = resolveEmbeddingModel(modelArg);\n  const { maxRetries, retry } = prepareRetries({\n    maxRetries: maxRetriesArg,\n    abortSignal\n  });\n  const headersWithUserAgent = withUserAgentSuffix4(\n    headers != null ? headers : {},\n    `ai/${VERSION}`\n  );\n  const baseTelemetryAttributes = getBaseTelemetryAttributes({\n    model,\n    telemetry,\n    headers: headersWithUserAgent,\n    settings: { maxRetries }\n  });\n  const tracer = getTracer(telemetry);\n  return recordSpan({\n    name: \"ai.embedMany\",\n    attributes: selectTelemetryAttributes({\n      telemetry,\n      attributes: {\n        ...assembleOperationName({ operationId: \"ai.embedMany\", telemetry }),\n        ...baseTelemetryAttributes,\n        // specific settings that only make sense on the outer level:\n        \"ai.values\": {\n          input: () => values.map((value) => JSON.stringify(value))\n        }\n      }\n    }),\n    tracer,\n    fn: async (span) => {\n      var _a16;\n      const [maxEmbeddingsPerCall, supportsParallelCalls] = await Promise.all([\n        model.maxEmbeddingsPerCall,\n        model.supportsParallelCalls\n      ]);\n      if (maxEmbeddingsPerCall == null || maxEmbeddingsPerCall === Infinity) {\n        const { embeddings: embeddings2, usage, response, providerMetadata: providerMetadata2 } = await retry(\n          () => {\n            return recordSpan({\n              name: \"ai.embedMany.doEmbed\",\n              attributes: selectTelemetryAttributes({\n                telemetry,\n                attributes: {\n                  ...assembleOperationName({\n                    operationId: \"ai.embedMany.doEmbed\",\n                    telemetry\n                  }),\n                  ...baseTelemetryAttributes,\n                  // specific settings that only make sense on the outer level:\n                  \"ai.values\": {\n                    input: () => values.map((value) => JSON.stringify(value))\n                  }\n                }\n              }),\n              tracer,\n              fn: async (doEmbedSpan) => {\n                var _a17;\n                const modelResponse = await model.doEmbed({\n                  values,\n                  abortSignal,\n                  headers: headersWithUserAgent,\n                  providerOptions\n                });\n                const embeddings3 = modelResponse.embeddings;\n                const usage2 = (_a17 = modelResponse.usage) != null ? _a17 : { tokens: NaN };\n                doEmbedSpan.setAttributes(\n                  selectTelemetryAttributes({\n                    telemetry,\n                    attributes: {\n                      \"ai.embeddings\": {\n                        output: () => embeddings3.map(\n                          (embedding) => JSON.stringify(embedding)\n                        )\n                      },\n                      \"ai.usage.tokens\": usage2.tokens\n                    }\n                  })\n                );\n                return {\n                  embeddings: embeddings3,\n                  usage: usage2,\n                  providerMetadata: modelResponse.providerMetadata,\n                  response: modelResponse.response\n                };\n              }\n            });\n          }\n        );\n        span.setAttributes(\n          selectTelemetryAttributes({\n            telemetry,\n            attributes: {\n              \"ai.embeddings\": {\n                output: () => embeddings2.map((embedding) => JSON.stringify(embedding))\n              },\n              \"ai.usage.tokens\": usage.tokens\n            }\n          })\n        );\n        return new DefaultEmbedManyResult({\n          values,\n          embeddings: embeddings2,\n          usage,\n          providerMetadata: providerMetadata2,\n          responses: [response]\n        });\n      }\n      const valueChunks = splitArray(values, maxEmbeddingsPerCall);\n      const embeddings = [];\n      const responses = [];\n      let tokens = 0;\n      let providerMetadata;\n      const parallelChunks = splitArray(\n        valueChunks,\n        supportsParallelCalls ? maxParallelCalls : 1\n      );\n      for (const parallelChunk of parallelChunks) {\n        const results = await Promise.all(\n          parallelChunk.map((chunk) => {\n            return retry(() => {\n              return recordSpan({\n                name: \"ai.embedMany.doEmbed\",\n                attributes: selectTelemetryAttributes({\n                  telemetry,\n                  attributes: {\n                    ...assembleOperationName({\n                      operationId: \"ai.embedMany.doEmbed\",\n                      telemetry\n                    }),\n                    ...baseTelemetryAttributes,\n                    // specific settings that only make sense on the outer level:\n                    \"ai.values\": {\n                      input: () => chunk.map((value) => JSON.stringify(value))\n                    }\n                  }\n                }),\n                tracer,\n                fn: async (doEmbedSpan) => {\n                  var _a17;\n                  const modelResponse = await model.doEmbed({\n                    values: chunk,\n                    abortSignal,\n                    headers: headersWithUserAgent,\n                    providerOptions\n                  });\n                  const embeddings2 = modelResponse.embeddings;\n                  const usage = (_a17 = modelResponse.usage) != null ? _a17 : { tokens: NaN };\n                  doEmbedSpan.setAttributes(\n                    selectTelemetryAttributes({\n                      telemetry,\n                      attributes: {\n                        \"ai.embeddings\": {\n                          output: () => embeddings2.map(\n                            (embedding) => JSON.stringify(embedding)\n                          )\n                        },\n                        \"ai.usage.tokens\": usage.tokens\n                      }\n                    })\n                  );\n                  return {\n                    embeddings: embeddings2,\n                    usage,\n                    providerMetadata: modelResponse.providerMetadata,\n                    response: modelResponse.response\n                  };\n                }\n              });\n            });\n          })\n        );\n        for (const result of results) {\n          embeddings.push(...result.embeddings);\n          responses.push(result.response);\n          tokens += result.usage.tokens;\n          if (result.providerMetadata) {\n            if (!providerMetadata) {\n              providerMetadata = { ...result.providerMetadata };\n            } else {\n              for (const [providerName, metadata] of Object.entries(\n                result.providerMetadata\n              )) {\n                providerMetadata[providerName] = {\n                  ...(_a16 = providerMetadata[providerName]) != null ? _a16 : {},\n                  ...metadata\n                };\n              }\n            }\n          }\n        }\n      }\n      span.setAttributes(\n        selectTelemetryAttributes({\n          telemetry,\n          attributes: {\n            \"ai.embeddings\": {\n              output: () => embeddings.map((embedding) => JSON.stringify(embedding))\n            },\n            \"ai.usage.tokens\": tokens\n          }\n        })\n      );\n      return new DefaultEmbedManyResult({\n        values,\n        embeddings,\n        usage: { tokens },\n        providerMetadata,\n        responses\n      });\n    }\n  });\n}\nvar DefaultEmbedManyResult = class {\n  constructor(options) {\n    this.values = options.values;\n    this.embeddings = options.embeddings;\n    this.usage = options.usage;\n    this.providerMetadata = options.providerMetadata;\n    this.responses = options.responses;\n  }\n};\n\n// src/generate-image/generate-image.ts\nimport { withUserAgentSuffix as withUserAgentSuffix5 } from \"@ai-sdk/provider-utils\";\nasync function generateImage({\n  model: modelArg,\n  prompt,\n  n = 1,\n  maxImagesPerCall,\n  size,\n  aspectRatio,\n  seed,\n  providerOptions,\n  maxRetries: maxRetriesArg,\n  abortSignal,\n  headers\n}) {\n  var _a16, _b;\n  const model = resolveImageModel(modelArg);\n  const headersWithUserAgent = withUserAgentSuffix5(\n    headers != null ? headers : {},\n    `ai/${VERSION}`\n  );\n  const { retry } = prepareRetries({\n    maxRetries: maxRetriesArg,\n    abortSignal\n  });\n  const maxImagesPerCallWithDefault = (_a16 = maxImagesPerCall != null ? maxImagesPerCall : await invokeModelMaxImagesPerCall(model)) != null ? _a16 : 1;\n  const callCount = Math.ceil(n / maxImagesPerCallWithDefault);\n  const callImageCounts = Array.from({ length: callCount }, (_, i) => {\n    if (i < callCount - 1) {\n      return maxImagesPerCallWithDefault;\n    }\n    const remainder = n % maxImagesPerCallWithDefault;\n    return remainder === 0 ? maxImagesPerCallWithDefault : remainder;\n  });\n  const results = await Promise.all(\n    callImageCounts.map(\n      async (callImageCount) => retry(\n        () => model.doGenerate({\n          prompt,\n          n: callImageCount,\n          abortSignal,\n          headers: headersWithUserAgent,\n          size,\n          aspectRatio,\n          seed,\n          providerOptions: providerOptions != null ? providerOptions : {}\n        })\n      )\n    )\n  );\n  const images = [];\n  const warnings = [];\n  const responses = [];\n  const providerMetadata = {};\n  for (const result of results) {\n    images.push(\n      ...result.images.map(\n        (image) => {\n          var _a17;\n          return new DefaultGeneratedFile({\n            data: image,\n            mediaType: (_a17 = detectMediaType({\n              data: image,\n              signatures: imageMediaTypeSignatures\n            })) != null ? _a17 : \"image/png\"\n          });\n        }\n      )\n    );\n    warnings.push(...result.warnings);\n    if (result.providerMetadata) {\n      for (const [providerName, metadata] of Object.entries(result.providerMetadata)) {\n        if (providerName === \"gateway\") {\n          const currentEntry = providerMetadata[providerName];\n          if (currentEntry != null && typeof currentEntry === \"object\") {\n            providerMetadata[providerName] = {\n              ...currentEntry,\n              ...metadata\n            };\n          } else {\n            providerMetadata[providerName] = metadata;\n          }\n          const imagesValue = providerMetadata[providerName].images;\n          if (Array.isArray(imagesValue) && imagesValue.length === 0) {\n            delete providerMetadata[providerName].images;\n          }\n        } else {\n          (_b = providerMetadata[providerName]) != null ? _b : providerMetadata[providerName] = { images: [] };\n          providerMetadata[providerName].images.push(\n            ...result.providerMetadata[providerName].images\n          );\n        }\n      }\n    }\n    responses.push(result.response);\n  }\n  logWarnings(warnings);\n  if (!images.length) {\n    throw new NoImageGeneratedError({ responses });\n  }\n  return new DefaultGenerateImageResult({\n    images,\n    warnings,\n    responses,\n    providerMetadata\n  });\n}\nvar DefaultGenerateImageResult = class {\n  constructor(options) {\n    this.images = options.images;\n    this.warnings = options.warnings;\n    this.responses = options.responses;\n    this.providerMetadata = options.providerMetadata;\n  }\n  get image() {\n    return this.images[0];\n  }\n};\nasync function invokeModelMaxImagesPerCall(model) {\n  const isFunction = model.maxImagesPerCall instanceof Function;\n  if (!isFunction) {\n    return model.maxImagesPerCall;\n  }\n  return model.maxImagesPerCall({\n    modelId: model.modelId\n  });\n}\n\n// src/generate-object/generate-object.ts\nimport {\n  createIdGenerator as createIdGenerator3,\n  withUserAgentSuffix as withUserAgentSuffix6\n} from \"@ai-sdk/provider-utils\";\n\n// src/generate-text/extract-reasoning-content.ts\nfunction extractReasoningContent(content) {\n  const parts = content.filter(\n    (content2) => content2.type === \"reasoning\"\n  );\n  return parts.length === 0 ? void 0 : parts.map((content2) => content2.text).join(\"\\n\");\n}\n\n// src/generate-object/output-strategy.ts\nimport {\n  isJSONArray,\n  isJSONObject,\n  TypeValidationError as TypeValidationError2,\n  UnsupportedFunctionalityError as UnsupportedFunctionalityError2\n} from \"@ai-sdk/provider\";\nimport {\n  asSchema as asSchema3,\n  safeValidateTypes as safeValidateTypes3\n} from \"@ai-sdk/provider-utils\";\nvar noSchemaOutputStrategy = {\n  type: \"no-schema\",\n  jsonSchema: void 0,\n  async validatePartialResult({ value, textDelta }) {\n    return { success: true, value: { partial: value, textDelta } };\n  },\n  async validateFinalResult(value, context) {\n    return value === void 0 ? {\n      success: false,\n      error: new NoObjectGeneratedError({\n        message: \"No object generated: response did not match schema.\",\n        text: context.text,\n        response: context.response,\n        usage: context.usage,\n        finishReason: context.finishReason\n      })\n    } : { success: true, value };\n  },\n  createElementStream() {\n    throw new UnsupportedFunctionalityError2({\n      functionality: \"element streams in no-schema mode\"\n    });\n  }\n};\nvar objectOutputStrategy = (schema) => ({\n  type: \"object\",\n  jsonSchema: schema.jsonSchema,\n  async validatePartialResult({ value, textDelta }) {\n    return {\n      success: true,\n      value: {\n        // Note: currently no validation of partial results:\n        partial: value,\n        textDelta\n      }\n    };\n  },\n  async validateFinalResult(value) {\n    return safeValidateTypes3({ value, schema });\n  },\n  createElementStream() {\n    throw new UnsupportedFunctionalityError2({\n      functionality: \"element streams in object mode\"\n    });\n  }\n});\nvar arrayOutputStrategy = (schema) => {\n  const { $schema, ...itemSchema } = schema.jsonSchema;\n  return {\n    type: \"array\",\n    // wrap in object that contains array of elements, since most LLMs will not\n    // be able to generate an array directly:\n    // possible future optimization: use arrays directly when model supports grammar-guided generation\n    jsonSchema: {\n      $schema: \"http://json-schema.org/draft-07/schema#\",\n      type: \"object\",\n      properties: {\n        elements: { type: \"array\", items: itemSchema }\n      },\n      required: [\"elements\"],\n      additionalProperties: false\n    },\n    async validatePartialResult({\n      value,\n      latestObject,\n      isFirstDelta,\n      isFinalDelta\n    }) {\n      var _a16;\n      if (!isJSONObject(value) || !isJSONArray(value.elements)) {\n        return {\n          success: false,\n          error: new TypeValidationError2({\n            value,\n            cause: \"value must be an object that contains an array of elements\"\n          })\n        };\n      }\n      const inputArray = value.elements;\n      const resultArray = [];\n      for (let i = 0; i < inputArray.length; i++) {\n        const element = inputArray[i];\n        const result = await safeValidateTypes3({ value: element, schema });\n        if (i === inputArray.length - 1 && !isFinalDelta) {\n          continue;\n        }\n        if (!result.success) {\n          return result;\n        }\n        resultArray.push(result.value);\n      }\n      const publishedElementCount = (_a16 = latestObject == null ? void 0 : latestObject.length) != null ? _a16 : 0;\n      let textDelta = \"\";\n      if (isFirstDelta) {\n        textDelta += \"[\";\n      }\n      if (publishedElementCount > 0) {\n        textDelta += \",\";\n      }\n      textDelta += resultArray.slice(publishedElementCount).map((element) => JSON.stringify(element)).join(\",\");\n      if (isFinalDelta) {\n        textDelta += \"]\";\n      }\n      return {\n        success: true,\n        value: {\n          partial: resultArray,\n          textDelta\n        }\n      };\n    },\n    async validateFinalResult(value) {\n      if (!isJSONObject(value) || !isJSONArray(value.elements)) {\n        return {\n          success: false,\n          error: new TypeValidationError2({\n            value,\n            cause: \"value must be an object that contains an array of elements\"\n          })\n        };\n      }\n      const inputArray = value.elements;\n      for (const element of inputArray) {\n        const result = await safeValidateTypes3({ value: element, schema });\n        if (!result.success) {\n          return result;\n        }\n      }\n      return { success: true, value: inputArray };\n    },\n    createElementStream(originalStream) {\n      let publishedElements = 0;\n      return createAsyncIterableStream(\n        originalStream.pipeThrough(\n          new TransformStream({\n            transform(chunk, controller) {\n              switch (chunk.type) {\n                case \"object\": {\n                  const array = chunk.object;\n                  for (; publishedElements < array.length; publishedElements++) {\n                    controller.enqueue(array[publishedElements]);\n                  }\n                  break;\n                }\n                case \"text-delta\":\n                case \"finish\":\n                case \"error\":\n                  break;\n                default: {\n                  const _exhaustiveCheck = chunk;\n                  throw new Error(\n                    `Unsupported chunk type: ${_exhaustiveCheck}`\n                  );\n                }\n              }\n            }\n          })\n        )\n      );\n    }\n  };\n};\nvar enumOutputStrategy = (enumValues) => {\n  return {\n    type: \"enum\",\n    // wrap in object that contains result, since most LLMs will not\n    // be able to generate an enum value directly:\n    // possible future optimization: use enums directly when model supports top-level enums\n    jsonSchema: {\n      $schema: \"http://json-schema.org/draft-07/schema#\",\n      type: \"object\",\n      properties: {\n        result: { type: \"string\", enum: enumValues }\n      },\n      required: [\"result\"],\n      additionalProperties: false\n    },\n    async validateFinalResult(value) {\n      if (!isJSONObject(value) || typeof value.result !== \"string\") {\n        return {\n          success: false,\n          error: new TypeValidationError2({\n            value,\n            cause: 'value must be an object that contains a string in the \"result\" property.'\n          })\n        };\n      }\n      const result = value.result;\n      return enumValues.includes(result) ? { success: true, value: result } : {\n        success: false,\n        error: new TypeValidationError2({\n          value,\n          cause: \"value must be a string in the enum\"\n        })\n      };\n    },\n    async validatePartialResult({ value, textDelta }) {\n      if (!isJSONObject(value) || typeof value.result !== \"string\") {\n        return {\n          success: false,\n          error: new TypeValidationError2({\n            value,\n            cause: 'value must be an object that contains a string in the \"result\" property.'\n          })\n        };\n      }\n      const result = value.result;\n      const possibleEnumValues = enumValues.filter(\n        (enumValue) => enumValue.startsWith(result)\n      );\n      if (value.result.length === 0 || possibleEnumValues.length === 0) {\n        return {\n          success: false,\n          error: new TypeValidationError2({\n            value,\n            cause: \"value must be a string in the enum\"\n          })\n        };\n      }\n      return {\n        success: true,\n        value: {\n          partial: possibleEnumValues.length > 1 ? result : possibleEnumValues[0],\n          textDelta\n        }\n      };\n    },\n    createElementStream() {\n      throw new UnsupportedFunctionalityError2({\n        functionality: \"element streams in enum mode\"\n      });\n    }\n  };\n};\nfunction getOutputStrategy({\n  output,\n  schema,\n  enumValues\n}) {\n  switch (output) {\n    case \"object\":\n      return objectOutputStrategy(asSchema3(schema));\n    case \"array\":\n      return arrayOutputStrategy(asSchema3(schema));\n    case \"enum\":\n      return enumOutputStrategy(enumValues);\n    case \"no-schema\":\n      return noSchemaOutputStrategy;\n    default: {\n      const _exhaustiveCheck = output;\n      throw new Error(`Unsupported output: ${_exhaustiveCheck}`);\n    }\n  }\n}\n\n// src/generate-object/parse-and-validate-object-result.ts\nimport { JSONParseError as JSONParseError2, TypeValidationError as TypeValidationError3 } from \"@ai-sdk/provider\";\nimport { safeParseJSON as safeParseJSON3 } from \"@ai-sdk/provider-utils\";\nasync function parseAndValidateObjectResult(result, outputStrategy, context) {\n  const parseResult = await safeParseJSON3({ text: result });\n  if (!parseResult.success) {\n    throw new NoObjectGeneratedError({\n      message: \"No object generated: could not parse the response.\",\n      cause: parseResult.error,\n      text: result,\n      response: context.response,\n      usage: context.usage,\n      finishReason: context.finishReason\n    });\n  }\n  const validationResult = await outputStrategy.validateFinalResult(\n    parseResult.value,\n    {\n      text: result,\n      response: context.response,\n      usage: context.usage\n    }\n  );\n  if (!validationResult.success) {\n    throw new NoObjectGeneratedError({\n      message: \"No object generated: response did not match schema.\",\n      cause: validationResult.error,\n      text: result,\n      response: context.response,\n      usage: context.usage,\n      finishReason: context.finishReason\n    });\n  }\n  return validationResult.value;\n}\nasync function parseAndValidateObjectResultWithRepair(result, outputStrategy, repairText, context) {\n  try {\n    return await parseAndValidateObjectResult(result, outputStrategy, context);\n  } catch (error) {\n    if (repairText != null && NoObjectGeneratedError.isInstance(error) && (JSONParseError2.isInstance(error.cause) || TypeValidationError3.isInstance(error.cause))) {\n      const repairedText = await repairText({\n        text: result,\n        error: error.cause\n      });\n      if (repairedText === null) {\n        throw error;\n      }\n      return await parseAndValidateObjectResult(\n        repairedText,\n        outputStrategy,\n        context\n      );\n    }\n    throw error;\n  }\n}\n\n// src/generate-object/validate-object-generation-input.ts\nfunction validateObjectGenerationInput({\n  output,\n  schema,\n  schemaName,\n  schemaDescription,\n  enumValues\n}) {\n  if (output != null && output !== \"object\" && output !== \"array\" && output !== \"enum\" && output !== \"no-schema\") {\n    throw new InvalidArgumentError({\n      parameter: \"output\",\n      value: output,\n      message: \"Invalid output type.\"\n    });\n  }\n  if (output === \"no-schema\") {\n    if (schema != null) {\n      throw new InvalidArgumentError({\n        parameter: \"schema\",\n        value: schema,\n        message: \"Schema is not supported for no-schema output.\"\n      });\n    }\n    if (schemaDescription != null) {\n      throw new InvalidArgumentError({\n        parameter: \"schemaDescription\",\n        value: schemaDescription,\n        message: \"Schema description is not supported for no-schema output.\"\n      });\n    }\n    if (schemaName != null) {\n      throw new InvalidArgumentError({\n        parameter: \"schemaName\",\n        value: schemaName,\n        message: \"Schema name is not supported for no-schema output.\"\n      });\n    }\n    if (enumValues != null) {\n      throw new InvalidArgumentError({\n        parameter: \"enumValues\",\n        value: enumValues,\n        message: \"Enum values are not supported for no-schema output.\"\n      });\n    }\n  }\n  if (output === \"object\") {\n    if (schema == null) {\n      throw new InvalidArgumentError({\n        parameter: \"schema\",\n        value: schema,\n        message: \"Schema is required for object output.\"\n      });\n    }\n    if (enumValues != null) {\n      throw new InvalidArgumentError({\n        parameter: \"enumValues\",\n        value: enumValues,\n        message: \"Enum values are not supported for object output.\"\n      });\n    }\n  }\n  if (output === \"array\") {\n    if (schema == null) {\n      throw new InvalidArgumentError({\n        parameter: \"schema\",\n        value: schema,\n        message: \"Element schema is required for array output.\"\n      });\n    }\n    if (enumValues != null) {\n      throw new InvalidArgumentError({\n        parameter: \"enumValues\",\n        value: enumValues,\n        message: \"Enum values are not supported for array output.\"\n      });\n    }\n  }\n  if (output === \"enum\") {\n    if (schema != null) {\n      throw new InvalidArgumentError({\n        parameter: \"schema\",\n        value: schema,\n        message: \"Schema is not supported for enum output.\"\n      });\n    }\n    if (schemaDescription != null) {\n      throw new InvalidArgumentError({\n        parameter: \"schemaDescription\",\n        value: schemaDescription,\n        message: \"Schema description is not supported for enum output.\"\n      });\n    }\n    if (schemaName != null) {\n      throw new InvalidArgumentError({\n        parameter: \"schemaName\",\n        value: schemaName,\n        message: \"Schema name is not supported for enum output.\"\n      });\n    }\n    if (enumValues == null) {\n      throw new InvalidArgumentError({\n        parameter: \"enumValues\",\n        value: enumValues,\n        message: \"Enum values are required for enum output.\"\n      });\n    }\n    for (const value of enumValues) {\n      if (typeof value !== \"string\") {\n        throw new InvalidArgumentError({\n          parameter: \"enumValues\",\n          value,\n          message: \"Enum values must be strings.\"\n        });\n      }\n    }\n  }\n}\n\n// src/generate-object/generate-object.ts\nvar originalGenerateId3 = createIdGenerator3({ prefix: \"aiobj\", size: 24 });\nasync function generateObject(options) {\n  const {\n    model: modelArg,\n    output = \"object\",\n    system,\n    prompt,\n    messages,\n    maxRetries: maxRetriesArg,\n    abortSignal,\n    headers,\n    experimental_repairText: repairText,\n    experimental_telemetry: telemetry,\n    experimental_download: download2,\n    providerOptions,\n    _internal: {\n      generateId: generateId3 = originalGenerateId3,\n      currentDate = () => /* @__PURE__ */ new Date()\n    } = {},\n    ...settings\n  } = options;\n  const model = resolveLanguageModel(modelArg);\n  const enumValues = \"enum\" in options ? options.enum : void 0;\n  const {\n    schema: inputSchema,\n    schemaDescription,\n    schemaName\n  } = \"schema\" in options ? options : {};\n  validateObjectGenerationInput({\n    output,\n    schema: inputSchema,\n    schemaName,\n    schemaDescription,\n    enumValues\n  });\n  const { maxRetries, retry } = prepareRetries({\n    maxRetries: maxRetriesArg,\n    abortSignal\n  });\n  const outputStrategy = getOutputStrategy({\n    output,\n    schema: inputSchema,\n    enumValues\n  });\n  const callSettings = prepareCallSettings(settings);\n  const headersWithUserAgent = withUserAgentSuffix6(\n    headers != null ? headers : {},\n    `ai/${VERSION}`\n  );\n  const baseTelemetryAttributes = getBaseTelemetryAttributes({\n    model,\n    telemetry,\n    headers: headersWithUserAgent,\n    settings: { ...callSettings, maxRetries }\n  });\n  const tracer = getTracer(telemetry);\n  try {\n    return await recordSpan({\n      name: \"ai.generateObject\",\n      attributes: selectTelemetryAttributes({\n        telemetry,\n        attributes: {\n          ...assembleOperationName({\n            operationId: \"ai.generateObject\",\n            telemetry\n          }),\n          ...baseTelemetryAttributes,\n          // specific settings that only make sense on the outer level:\n          \"ai.prompt\": {\n            input: () => JSON.stringify({ system, prompt, messages })\n          },\n          \"ai.schema\": outputStrategy.jsonSchema != null ? { input: () => JSON.stringify(outputStrategy.jsonSchema) } : void 0,\n          \"ai.schema.name\": schemaName,\n          \"ai.schema.description\": schemaDescription,\n          \"ai.settings.output\": outputStrategy.type\n        }\n      }),\n      tracer,\n      fn: async (span) => {\n        var _a16;\n        let result;\n        let finishReason;\n        let usage;\n        let warnings;\n        let response;\n        let request;\n        let resultProviderMetadata;\n        let reasoning;\n        const standardizedPrompt = await standardizePrompt({\n          system,\n          prompt,\n          messages\n        });\n        const promptMessages = await convertToLanguageModelPrompt({\n          prompt: standardizedPrompt,\n          supportedUrls: await model.supportedUrls,\n          download: download2\n        });\n        const generateResult = await retry(\n          () => recordSpan({\n            name: \"ai.generateObject.doGenerate\",\n            attributes: selectTelemetryAttributes({\n              telemetry,\n              attributes: {\n                ...assembleOperationName({\n                  operationId: \"ai.generateObject.doGenerate\",\n                  telemetry\n                }),\n                ...baseTelemetryAttributes,\n                \"ai.prompt.messages\": {\n                  input: () => stringifyForTelemetry(promptMessages)\n                },\n                // standardized gen-ai llm span attributes:\n                \"gen_ai.system\": model.provider,\n                \"gen_ai.request.model\": model.modelId,\n                \"gen_ai.request.frequency_penalty\": callSettings.frequencyPenalty,\n                \"gen_ai.request.max_tokens\": callSettings.maxOutputTokens,\n                \"gen_ai.request.presence_penalty\": callSettings.presencePenalty,\n                \"gen_ai.request.temperature\": callSettings.temperature,\n                \"gen_ai.request.top_k\": callSettings.topK,\n                \"gen_ai.request.top_p\": callSettings.topP\n              }\n            }),\n            tracer,\n            fn: async (span2) => {\n              var _a17, _b, _c, _d, _e, _f, _g, _h;\n              const result2 = await model.doGenerate({\n                responseFormat: {\n                  type: \"json\",\n                  schema: outputStrategy.jsonSchema,\n                  name: schemaName,\n                  description: schemaDescription\n                },\n                ...prepareCallSettings(settings),\n                prompt: promptMessages,\n                providerOptions,\n                abortSignal,\n                headers: headersWithUserAgent\n              });\n              const responseData = {\n                id: (_b = (_a17 = result2.response) == null ? void 0 : _a17.id) != null ? _b : generateId3(),\n                timestamp: (_d = (_c = result2.response) == null ? void 0 : _c.timestamp) != null ? _d : currentDate(),\n                modelId: (_f = (_e = result2.response) == null ? void 0 : _e.modelId) != null ? _f : model.modelId,\n                headers: (_g = result2.response) == null ? void 0 : _g.headers,\n                body: (_h = result2.response) == null ? void 0 : _h.body\n              };\n              const text2 = extractTextContent(result2.content);\n              const reasoning2 = extractReasoningContent(result2.content);\n              if (text2 === void 0) {\n                throw new NoObjectGeneratedError({\n                  message: \"No object generated: the model did not return a response.\",\n                  response: responseData,\n                  usage: result2.usage,\n                  finishReason: result2.finishReason\n                });\n              }\n              span2.setAttributes(\n                selectTelemetryAttributes({\n                  telemetry,\n                  attributes: {\n                    \"ai.response.finishReason\": result2.finishReason,\n                    \"ai.response.object\": { output: () => text2 },\n                    \"ai.response.id\": responseData.id,\n                    \"ai.response.model\": responseData.modelId,\n                    \"ai.response.timestamp\": responseData.timestamp.toISOString(),\n                    \"ai.response.providerMetadata\": JSON.stringify(\n                      result2.providerMetadata\n                    ),\n                    // TODO rename telemetry attributes to inputTokens and outputTokens\n                    \"ai.usage.promptTokens\": result2.usage.inputTokens,\n                    \"ai.usage.completionTokens\": result2.usage.outputTokens,\n                    // standardized gen-ai llm span attributes:\n                    \"gen_ai.response.finish_reasons\": [result2.finishReason],\n                    \"gen_ai.response.id\": responseData.id,\n                    \"gen_ai.response.model\": responseData.modelId,\n                    \"gen_ai.usage.input_tokens\": result2.usage.inputTokens,\n                    \"gen_ai.usage.output_tokens\": result2.usage.outputTokens\n                  }\n                })\n              );\n              return {\n                ...result2,\n                objectText: text2,\n                reasoning: reasoning2,\n                responseData\n              };\n            }\n          })\n        );\n        result = generateResult.objectText;\n        finishReason = generateResult.finishReason;\n        usage = generateResult.usage;\n        warnings = generateResult.warnings;\n        resultProviderMetadata = generateResult.providerMetadata;\n        request = (_a16 = generateResult.request) != null ? _a16 : {};\n        response = generateResult.responseData;\n        reasoning = generateResult.reasoning;\n        logWarnings(warnings);\n        const object2 = await parseAndValidateObjectResultWithRepair(\n          result,\n          outputStrategy,\n          repairText,\n          {\n            response,\n            usage,\n            finishReason\n          }\n        );\n        span.setAttributes(\n          selectTelemetryAttributes({\n            telemetry,\n            attributes: {\n              \"ai.response.finishReason\": finishReason,\n              \"ai.response.object\": {\n                output: () => JSON.stringify(object2)\n              },\n              \"ai.response.providerMetadata\": JSON.stringify(\n                resultProviderMetadata\n              ),\n              // TODO rename telemetry attributes to inputTokens and outputTokens\n              \"ai.usage.promptTokens\": usage.inputTokens,\n              \"ai.usage.completionTokens\": usage.outputTokens\n            }\n          })\n        );\n        return new DefaultGenerateObjectResult({\n          object: object2,\n          reasoning,\n          finishReason,\n          usage,\n          warnings,\n          request,\n          response,\n          providerMetadata: resultProviderMetadata\n        });\n      }\n    });\n  } catch (error) {\n    throw wrapGatewayError(error);\n  }\n}\nvar DefaultGenerateObjectResult = class {\n  constructor(options) {\n    this.object = options.object;\n    this.finishReason = options.finishReason;\n    this.usage = options.usage;\n    this.warnings = options.warnings;\n    this.providerMetadata = options.providerMetadata;\n    this.response = options.response;\n    this.request = options.request;\n    this.reasoning = options.reasoning;\n  }\n  toJsonResponse(init) {\n    var _a16;\n    return new Response(JSON.stringify(this.object), {\n      status: (_a16 = init == null ? void 0 : init.status) != null ? _a16 : 200,\n      headers: prepareHeaders(init == null ? void 0 : init.headers, {\n        \"content-type\": \"application/json; charset=utf-8\"\n      })\n    });\n  }\n};\n\n// src/generate-object/stream-object.ts\nimport {\n  createIdGenerator as createIdGenerator4\n} from \"@ai-sdk/provider-utils\";\n\n// src/util/cosine-similarity.ts\nfunction cosineSimilarity(vector1, vector2) {\n  if (vector1.length !== vector2.length) {\n    throw new InvalidArgumentError({\n      parameter: \"vector1,vector2\",\n      value: { vector1Length: vector1.length, vector2Length: vector2.length },\n      message: `Vectors must have the same length`\n    });\n  }\n  const n = vector1.length;\n  if (n === 0) {\n    return 0;\n  }\n  let magnitudeSquared1 = 0;\n  let magnitudeSquared2 = 0;\n  let dotProduct = 0;\n  for (let i = 0; i < n; i++) {\n    const value1 = vector1[i];\n    const value2 = vector2[i];\n    magnitudeSquared1 += value1 * value1;\n    magnitudeSquared2 += value2 * value2;\n    dotProduct += value1 * value2;\n  }\n  return magnitudeSquared1 === 0 || magnitudeSquared2 === 0 ? 0 : dotProduct / (Math.sqrt(magnitudeSquared1) * Math.sqrt(magnitudeSquared2));\n}\n\n// src/util/data-url.ts\nfunction getTextFromDataUrl(dataUrl) {\n  const [header, base64Content] = dataUrl.split(\",\");\n  const mediaType = header.split(\";\")[0].split(\":\")[1];\n  if (mediaType == null || base64Content == null) {\n    throw new Error(\"Invalid data URL format\");\n  }\n  try {\n    return window.atob(base64Content);\n  } catch (error) {\n    throw new Error(`Error decoding data URL`);\n  }\n}\n\n// src/util/is-deep-equal-data.ts\nfunction isDeepEqualData(obj1, obj2) {\n  if (obj1 === obj2)\n    return true;\n  if (obj1 == null || obj2 == null)\n    return false;\n  if (typeof obj1 !== \"object\" && typeof obj2 !== \"object\")\n    return obj1 === obj2;\n  if (obj1.constructor !== obj2.constructor)\n    return false;\n  if (obj1 instanceof Date && obj2 instanceof Date) {\n    return obj1.getTime() === obj2.getTime();\n  }\n  if (Array.isArray(obj1)) {\n    if (obj1.length !== obj2.length)\n      return false;\n    for (let i = 0; i < obj1.length; i++) {\n      if (!isDeepEqualData(obj1[i], obj2[i]))\n        return false;\n    }\n    return true;\n  }\n  const keys1 = Object.keys(obj1);\n  const keys2 = Object.keys(obj2);\n  if (keys1.length !== keys2.length)\n    return false;\n  for (const key of keys1) {\n    if (!keys2.includes(key))\n      return false;\n    if (!isDeepEqualData(obj1[key], obj2[key]))\n      return false;\n  }\n  return true;\n}\n\n// src/util/serial-job-executor.ts\nvar SerialJobExecutor = class {\n  constructor() {\n    this.queue = [];\n    this.isProcessing = false;\n  }\n  async processQueue() {\n    if (this.isProcessing) {\n      return;\n    }\n    this.isProcessing = true;\n    while (this.queue.length > 0) {\n      await this.queue[0]();\n      this.queue.shift();\n    }\n    this.isProcessing = false;\n  }\n  async run(job) {\n    return new Promise((resolve2, reject) => {\n      this.queue.push(async () => {\n        try {\n          await job();\n          resolve2();\n        } catch (error) {\n          reject(error);\n        }\n      });\n      void this.processQueue();\n    });\n  }\n};\n\n// src/util/simulate-readable-stream.ts\nimport { delay as delayFunction } from \"@ai-sdk/provider-utils\";\nfunction simulateReadableStream({\n  chunks,\n  initialDelayInMs = 0,\n  chunkDelayInMs = 0,\n  _internal\n}) {\n  var _a16;\n  const delay2 = (_a16 = _internal == null ? void 0 : _internal.delay) != null ? _a16 : delayFunction;\n  let index = 0;\n  return new ReadableStream({\n    async pull(controller) {\n      if (index < chunks.length) {\n        await delay2(index === 0 ? initialDelayInMs : chunkDelayInMs);\n        controller.enqueue(chunks[index++]);\n      } else {\n        controller.close();\n      }\n    }\n  });\n}\n\n// src/generate-object/stream-object.ts\nvar originalGenerateId4 = createIdGenerator4({ prefix: \"aiobj\", size: 24 });\nfunction streamObject(options) {\n  const {\n    model,\n    output = \"object\",\n    system,\n    prompt,\n    messages,\n    maxRetries,\n    abortSignal,\n    headers,\n    experimental_repairText: repairText,\n    experimental_telemetry: telemetry,\n    experimental_download: download2,\n    providerOptions,\n    onError = ({ error }) => {\n      console.error(error);\n    },\n    onFinish,\n    _internal: {\n      generateId: generateId3 = originalGenerateId4,\n      currentDate = () => /* @__PURE__ */ new Date(),\n      now: now2 = now\n    } = {},\n    ...settings\n  } = options;\n  const enumValues = \"enum\" in options && options.enum ? options.enum : void 0;\n  const {\n    schema: inputSchema,\n    schemaDescription,\n    schemaName\n  } = \"schema\" in options ? options : {};\n  validateObjectGenerationInput({\n    output,\n    schema: inputSchema,\n    schemaName,\n    schemaDescription,\n    enumValues\n  });\n  const outputStrategy = getOutputStrategy({\n    output,\n    schema: inputSchema,\n    enumValues\n  });\n  return new DefaultStreamObjectResult({\n    model,\n    telemetry,\n    headers,\n    settings,\n    maxRetries,\n    abortSignal,\n    outputStrategy,\n    system,\n    prompt,\n    messages,\n    schemaName,\n    schemaDescription,\n    providerOptions,\n    repairText,\n    onError,\n    onFinish,\n    download: download2,\n    generateId: generateId3,\n    currentDate,\n    now: now2\n  });\n}\nvar DefaultStreamObjectResult = class {\n  constructor({\n    model: modelArg,\n    headers,\n    telemetry,\n    settings,\n    maxRetries: maxRetriesArg,\n    abortSignal,\n    outputStrategy,\n    system,\n    prompt,\n    messages,\n    schemaName,\n    schemaDescription,\n    providerOptions,\n    repairText,\n    onError,\n    onFinish,\n    download: download2,\n    generateId: generateId3,\n    currentDate,\n    now: now2\n  }) {\n    this._object = new DelayedPromise();\n    this._usage = new DelayedPromise();\n    this._providerMetadata = new DelayedPromise();\n    this._warnings = new DelayedPromise();\n    this._request = new DelayedPromise();\n    this._response = new DelayedPromise();\n    this._finishReason = new DelayedPromise();\n    const model = resolveLanguageModel(modelArg);\n    const { maxRetries, retry } = prepareRetries({\n      maxRetries: maxRetriesArg,\n      abortSignal\n    });\n    const callSettings = prepareCallSettings(settings);\n    const baseTelemetryAttributes = getBaseTelemetryAttributes({\n      model,\n      telemetry,\n      headers,\n      settings: { ...callSettings, maxRetries }\n    });\n    const tracer = getTracer(telemetry);\n    const self = this;\n    const stitchableStream = createStitchableStream();\n    const eventProcessor = new TransformStream({\n      transform(chunk, controller) {\n        controller.enqueue(chunk);\n        if (chunk.type === \"error\") {\n          onError({ error: wrapGatewayError(chunk.error) });\n        }\n      }\n    });\n    this.baseStream = stitchableStream.stream.pipeThrough(eventProcessor);\n    recordSpan({\n      name: \"ai.streamObject\",\n      attributes: selectTelemetryAttributes({\n        telemetry,\n        attributes: {\n          ...assembleOperationName({\n            operationId: \"ai.streamObject\",\n            telemetry\n          }),\n          ...baseTelemetryAttributes,\n          // specific settings that only make sense on the outer level:\n          \"ai.prompt\": {\n            input: () => JSON.stringify({ system, prompt, messages })\n          },\n          \"ai.schema\": outputStrategy.jsonSchema != null ? { input: () => JSON.stringify(outputStrategy.jsonSchema) } : void 0,\n          \"ai.schema.name\": schemaName,\n          \"ai.schema.description\": schemaDescription,\n          \"ai.settings.output\": outputStrategy.type\n        }\n      }),\n      tracer,\n      endWhenDone: false,\n      fn: async (rootSpan) => {\n        const standardizedPrompt = await standardizePrompt({\n          system,\n          prompt,\n          messages\n        });\n        const callOptions = {\n          responseFormat: {\n            type: \"json\",\n            schema: outputStrategy.jsonSchema,\n            name: schemaName,\n            description: schemaDescription\n          },\n          ...prepareCallSettings(settings),\n          prompt: await convertToLanguageModelPrompt({\n            prompt: standardizedPrompt,\n            supportedUrls: await model.supportedUrls,\n            download: download2\n          }),\n          providerOptions,\n          abortSignal,\n          headers,\n          includeRawChunks: false\n        };\n        const transformer = {\n          transform: (chunk, controller) => {\n            switch (chunk.type) {\n              case \"text-delta\":\n                controller.enqueue(chunk.delta);\n                break;\n              case \"response-metadata\":\n              case \"finish\":\n              case \"error\":\n              case \"stream-start\":\n                controller.enqueue(chunk);\n                break;\n            }\n          }\n        };\n        const {\n          result: { stream, response, request },\n          doStreamSpan,\n          startTimestampMs\n        } = await retry(\n          () => recordSpan({\n            name: \"ai.streamObject.doStream\",\n            attributes: selectTelemetryAttributes({\n              telemetry,\n              attributes: {\n                ...assembleOperationName({\n                  operationId: \"ai.streamObject.doStream\",\n                  telemetry\n                }),\n                ...baseTelemetryAttributes,\n                \"ai.prompt.messages\": {\n                  input: () => stringifyForTelemetry(callOptions.prompt)\n                },\n                // standardized gen-ai llm span attributes:\n                \"gen_ai.system\": model.provider,\n                \"gen_ai.request.model\": model.modelId,\n                \"gen_ai.request.frequency_penalty\": callSettings.frequencyPenalty,\n                \"gen_ai.request.max_tokens\": callSettings.maxOutputTokens,\n                \"gen_ai.request.presence_penalty\": callSettings.presencePenalty,\n                \"gen_ai.request.temperature\": callSettings.temperature,\n                \"gen_ai.request.top_k\": callSettings.topK,\n                \"gen_ai.request.top_p\": callSettings.topP\n              }\n            }),\n            tracer,\n            endWhenDone: false,\n            fn: async (doStreamSpan2) => ({\n              startTimestampMs: now2(),\n              doStreamSpan: doStreamSpan2,\n              result: await model.doStream(callOptions)\n            })\n          })\n        );\n        self._request.resolve(request != null ? request : {});\n        let warnings;\n        let usage = {\n          inputTokens: void 0,\n          outputTokens: void 0,\n          totalTokens: void 0\n        };\n        let finishReason;\n        let providerMetadata;\n        let object2;\n        let error;\n        let accumulatedText = \"\";\n        let textDelta = \"\";\n        let fullResponse = {\n          id: generateId3(),\n          timestamp: currentDate(),\n          modelId: model.modelId\n        };\n        let latestObjectJson = void 0;\n        let latestObject = void 0;\n        let isFirstChunk = true;\n        let isFirstDelta = true;\n        const transformedStream = stream.pipeThrough(new TransformStream(transformer)).pipeThrough(\n          new TransformStream({\n            async transform(chunk, controller) {\n              var _a16, _b, _c;\n              if (typeof chunk === \"object\" && chunk.type === \"stream-start\") {\n                warnings = chunk.warnings;\n                return;\n              }\n              if (isFirstChunk) {\n                const msToFirstChunk = now2() - startTimestampMs;\n                isFirstChunk = false;\n                doStreamSpan.addEvent(\"ai.stream.firstChunk\", {\n                  \"ai.stream.msToFirstChunk\": msToFirstChunk\n                });\n                doStreamSpan.setAttributes({\n                  \"ai.stream.msToFirstChunk\": msToFirstChunk\n                });\n              }\n              if (typeof chunk === \"string\") {\n                accumulatedText += chunk;\n                textDelta += chunk;\n                const { value: currentObjectJson, state: parseState } = await parsePartialJson(accumulatedText);\n                if (currentObjectJson !== void 0 && !isDeepEqualData(latestObjectJson, currentObjectJson)) {\n                  const validationResult = await outputStrategy.validatePartialResult({\n                    value: currentObjectJson,\n                    textDelta,\n                    latestObject,\n                    isFirstDelta,\n                    isFinalDelta: parseState === \"successful-parse\"\n                  });\n                  if (validationResult.success && !isDeepEqualData(\n                    latestObject,\n                    validationResult.value.partial\n                  )) {\n                    latestObjectJson = currentObjectJson;\n                    latestObject = validationResult.value.partial;\n                    controller.enqueue({\n                      type: \"object\",\n                      object: latestObject\n                    });\n                    controller.enqueue({\n                      type: \"text-delta\",\n                      textDelta: validationResult.value.textDelta\n                    });\n                    textDelta = \"\";\n                    isFirstDelta = false;\n                  }\n                }\n                return;\n              }\n              switch (chunk.type) {\n                case \"response-metadata\": {\n                  fullResponse = {\n                    id: (_a16 = chunk.id) != null ? _a16 : fullResponse.id,\n                    timestamp: (_b = chunk.timestamp) != null ? _b : fullResponse.timestamp,\n                    modelId: (_c = chunk.modelId) != null ? _c : fullResponse.modelId\n                  };\n                  break;\n                }\n                case \"finish\": {\n                  if (textDelta !== \"\") {\n                    controller.enqueue({ type: \"text-delta\", textDelta });\n                  }\n                  finishReason = chunk.finishReason;\n                  usage = chunk.usage;\n                  providerMetadata = chunk.providerMetadata;\n                  controller.enqueue({\n                    ...chunk,\n                    usage,\n                    response: fullResponse\n                  });\n                  logWarnings(warnings != null ? warnings : []);\n                  self._usage.resolve(usage);\n                  self._providerMetadata.resolve(providerMetadata);\n                  self._warnings.resolve(warnings);\n                  self._response.resolve({\n                    ...fullResponse,\n                    headers: response == null ? void 0 : response.headers\n                  });\n                  self._finishReason.resolve(finishReason != null ? finishReason : \"unknown\");\n                  try {\n                    object2 = await parseAndValidateObjectResultWithRepair(\n                      accumulatedText,\n                      outputStrategy,\n                      repairText,\n                      {\n                        response: fullResponse,\n                        usage,\n                        finishReason\n                      }\n                    );\n                    self._object.resolve(object2);\n                  } catch (e) {\n                    error = e;\n                    self._object.reject(e);\n                  }\n                  break;\n                }\n                default: {\n                  controller.enqueue(chunk);\n                  break;\n                }\n              }\n            },\n            // invoke onFinish callback and resolve toolResults promise when the stream is about to close:\n            async flush(controller) {\n              try {\n                const finalUsage = usage != null ? usage : {\n                  promptTokens: NaN,\n                  completionTokens: NaN,\n                  totalTokens: NaN\n                };\n                doStreamSpan.setAttributes(\n                  selectTelemetryAttributes({\n                    telemetry,\n                    attributes: {\n                      \"ai.response.finishReason\": finishReason,\n                      \"ai.response.object\": {\n                        output: () => JSON.stringify(object2)\n                      },\n                      \"ai.response.id\": fullResponse.id,\n                      \"ai.response.model\": fullResponse.modelId,\n                      \"ai.response.timestamp\": fullResponse.timestamp.toISOString(),\n                      \"ai.response.providerMetadata\": JSON.stringify(providerMetadata),\n                      \"ai.usage.inputTokens\": finalUsage.inputTokens,\n                      \"ai.usage.outputTokens\": finalUsage.outputTokens,\n                      \"ai.usage.totalTokens\": finalUsage.totalTokens,\n                      \"ai.usage.reasoningTokens\": finalUsage.reasoningTokens,\n                      \"ai.usage.cachedInputTokens\": finalUsage.cachedInputTokens,\n                      // standardized gen-ai llm span attributes:\n                      \"gen_ai.response.finish_reasons\": [finishReason],\n                      \"gen_ai.response.id\": fullResponse.id,\n                      \"gen_ai.response.model\": fullResponse.modelId,\n                      \"gen_ai.usage.input_tokens\": finalUsage.inputTokens,\n                      \"gen_ai.usage.output_tokens\": finalUsage.outputTokens\n                    }\n                  })\n                );\n                doStreamSpan.end();\n                rootSpan.setAttributes(\n                  selectTelemetryAttributes({\n                    telemetry,\n                    attributes: {\n                      \"ai.usage.inputTokens\": finalUsage.inputTokens,\n                      \"ai.usage.outputTokens\": finalUsage.outputTokens,\n                      \"ai.usage.totalTokens\": finalUsage.totalTokens,\n                      \"ai.usage.reasoningTokens\": finalUsage.reasoningTokens,\n                      \"ai.usage.cachedInputTokens\": finalUsage.cachedInputTokens,\n                      \"ai.response.object\": {\n                        output: () => JSON.stringify(object2)\n                      },\n                      \"ai.response.providerMetadata\": JSON.stringify(providerMetadata)\n                    }\n                  })\n                );\n                await (onFinish == null ? void 0 : onFinish({\n                  usage: finalUsage,\n                  object: object2,\n                  error,\n                  response: {\n                    ...fullResponse,\n                    headers: response == null ? void 0 : response.headers\n                  },\n                  warnings,\n                  providerMetadata\n                }));\n              } catch (error2) {\n                controller.enqueue({ type: \"error\", error: error2 });\n              } finally {\n                rootSpan.end();\n              }\n            }\n          })\n        );\n        stitchableStream.addStream(transformedStream);\n      }\n    }).catch((error) => {\n      stitchableStream.addStream(\n        new ReadableStream({\n          start(controller) {\n            controller.enqueue({ type: \"error\", error });\n            controller.close();\n          }\n        })\n      );\n    }).finally(() => {\n      stitchableStream.close();\n    });\n    this.outputStrategy = outputStrategy;\n  }\n  get object() {\n    return this._object.promise;\n  }\n  get usage() {\n    return this._usage.promise;\n  }\n  get providerMetadata() {\n    return this._providerMetadata.promise;\n  }\n  get warnings() {\n    return this._warnings.promise;\n  }\n  get request() {\n    return this._request.promise;\n  }\n  get response() {\n    return this._response.promise;\n  }\n  get finishReason() {\n    return this._finishReason.promise;\n  }\n  get partialObjectStream() {\n    return createAsyncIterableStream(\n      this.baseStream.pipeThrough(\n        new TransformStream({\n          transform(chunk, controller) {\n            switch (chunk.type) {\n              case \"object\":\n                controller.enqueue(chunk.object);\n                break;\n              case \"text-delta\":\n              case \"finish\":\n              case \"error\":\n                break;\n              default: {\n                const _exhaustiveCheck = chunk;\n                throw new Error(`Unsupported chunk type: ${_exhaustiveCheck}`);\n              }\n            }\n          }\n        })\n      )\n    );\n  }\n  get elementStream() {\n    return this.outputStrategy.createElementStream(this.baseStream);\n  }\n  get textStream() {\n    return createAsyncIterableStream(\n      this.baseStream.pipeThrough(\n        new TransformStream({\n          transform(chunk, controller) {\n            switch (chunk.type) {\n              case \"text-delta\":\n                controller.enqueue(chunk.textDelta);\n                break;\n              case \"object\":\n              case \"finish\":\n              case \"error\":\n                break;\n              default: {\n                const _exhaustiveCheck = chunk;\n                throw new Error(`Unsupported chunk type: ${_exhaustiveCheck}`);\n              }\n            }\n          }\n        })\n      )\n    );\n  }\n  get fullStream() {\n    return createAsyncIterableStream(this.baseStream);\n  }\n  pipeTextStreamToResponse(response, init) {\n    pipeTextStreamToResponse({\n      response,\n      textStream: this.textStream,\n      ...init\n    });\n  }\n  toTextStreamResponse(init) {\n    return createTextStreamResponse({\n      textStream: this.textStream,\n      ...init\n    });\n  }\n};\n\n// src/generate-speech/generate-speech.ts\nimport { withUserAgentSuffix as withUserAgentSuffix7 } from \"@ai-sdk/provider-utils\";\n\n// src/generate-speech/generated-audio-file.ts\nvar DefaultGeneratedAudioFile = class extends DefaultGeneratedFile {\n  constructor({\n    data,\n    mediaType\n  }) {\n    super({ data, mediaType });\n    let format = \"mp3\";\n    if (mediaType) {\n      const mediaTypeParts = mediaType.split(\"/\");\n      if (mediaTypeParts.length === 2) {\n        if (mediaType !== \"audio/mpeg\") {\n          format = mediaTypeParts[1];\n        }\n      }\n    }\n    if (!format) {\n      throw new Error(\n        \"Audio format must be provided or determinable from media type\"\n      );\n    }\n    this.format = format;\n  }\n};\n\n// src/generate-speech/generate-speech.ts\nasync function generateSpeech({\n  model,\n  text: text2,\n  voice,\n  outputFormat,\n  instructions,\n  speed,\n  language,\n  providerOptions = {},\n  maxRetries: maxRetriesArg,\n  abortSignal,\n  headers\n}) {\n  var _a16;\n  if (model.specificationVersion !== \"v2\") {\n    throw new UnsupportedModelVersionError({\n      version: model.specificationVersion,\n      provider: model.provider,\n      modelId: model.modelId\n    });\n  }\n  const headersWithUserAgent = withUserAgentSuffix7(\n    headers != null ? headers : {},\n    `ai/${VERSION}`\n  );\n  const { retry } = prepareRetries({\n    maxRetries: maxRetriesArg,\n    abortSignal\n  });\n  const result = await retry(\n    () => model.doGenerate({\n      text: text2,\n      voice,\n      outputFormat,\n      instructions,\n      speed,\n      language,\n      abortSignal,\n      headers: headersWithUserAgent,\n      providerOptions\n    })\n  );\n  if (!result.audio || result.audio.length === 0) {\n    throw new NoSpeechGeneratedError({ responses: [result.response] });\n  }\n  logWarnings(result.warnings);\n  return new DefaultSpeechResult({\n    audio: new DefaultGeneratedAudioFile({\n      data: result.audio,\n      mediaType: (_a16 = detectMediaType({\n        data: result.audio,\n        signatures: audioMediaTypeSignatures\n      })) != null ? _a16 : \"audio/mp3\"\n    }),\n    warnings: result.warnings,\n    responses: [result.response],\n    providerMetadata: result.providerMetadata\n  });\n}\nvar DefaultSpeechResult = class {\n  constructor(options) {\n    var _a16;\n    this.audio = options.audio;\n    this.warnings = options.warnings;\n    this.responses = options.responses;\n    this.providerMetadata = (_a16 = options.providerMetadata) != null ? _a16 : {};\n  }\n};\n\n// src/generate-text/output.ts\nvar output_exports = {};\n__export(output_exports, {\n  object: () => object,\n  text: () => text\n});\nimport {\n  asSchema as asSchema4,\n  safeParseJSON as safeParseJSON4,\n  safeValidateTypes as safeValidateTypes4\n} from \"@ai-sdk/provider-utils\";\nvar text = () => ({\n  type: \"text\",\n  responseFormat: { type: \"text\" },\n  async parsePartial({ text: text2 }) {\n    return { partial: text2 };\n  },\n  async parseOutput({ text: text2 }) {\n    return text2;\n  }\n});\nvar object = ({\n  schema: inputSchema\n}) => {\n  const schema = asSchema4(inputSchema);\n  return {\n    type: \"object\",\n    responseFormat: {\n      type: \"json\",\n      schema: schema.jsonSchema\n    },\n    async parsePartial({ text: text2 }) {\n      const result = await parsePartialJson(text2);\n      switch (result.state) {\n        case \"failed-parse\":\n        case \"undefined-input\":\n          return void 0;\n        case \"repaired-parse\":\n        case \"successful-parse\":\n          return {\n            // Note: currently no validation of partial results:\n            partial: result.value\n          };\n        default: {\n          const _exhaustiveCheck = result.state;\n          throw new Error(`Unsupported parse state: ${_exhaustiveCheck}`);\n        }\n      }\n    },\n    async parseOutput({ text: text2 }, context) {\n      const parseResult = await safeParseJSON4({ text: text2 });\n      if (!parseResult.success) {\n        throw new NoObjectGeneratedError({\n          message: \"No object generated: could not parse the response.\",\n          cause: parseResult.error,\n          text: text2,\n          response: context.response,\n          usage: context.usage,\n          finishReason: context.finishReason\n        });\n      }\n      const validationResult = await safeValidateTypes4({\n        value: parseResult.value,\n        schema\n      });\n      if (!validationResult.success) {\n        throw new NoObjectGeneratedError({\n          message: \"No object generated: response did not match schema.\",\n          cause: validationResult.error,\n          text: text2,\n          response: context.response,\n          usage: context.usage,\n          finishReason: context.finishReason\n        });\n      }\n      return validationResult.value;\n    }\n  };\n};\n\n// src/generate-text/prune-messages.ts\nfunction pruneMessages({\n  messages,\n  reasoning = \"none\",\n  toolCalls = [],\n  emptyMessages = \"remove\"\n}) {\n  if (reasoning === \"all\" || reasoning === \"before-last-message\") {\n    messages = messages.map((message, messageIndex) => {\n      if (message.role !== \"assistant\" || typeof message.content === \"string\" || reasoning === \"before-last-message\" && messageIndex === messages.length - 1) {\n        return message;\n      }\n      return {\n        ...message,\n        content: message.content.filter((part) => part.type !== \"reasoning\")\n      };\n    });\n  }\n  if (toolCalls === \"none\") {\n    toolCalls = [];\n  } else if (toolCalls === \"all\") {\n    toolCalls = [{ type: \"all\" }];\n  } else if (toolCalls === \"before-last-message\") {\n    toolCalls = [{ type: \"before-last-message\" }];\n  } else if (typeof toolCalls === \"string\") {\n    toolCalls = [{ type: toolCalls }];\n  }\n  for (const toolCall of toolCalls) {\n    const keepLastMessagesCount = toolCall.type === \"all\" ? void 0 : toolCall.type === \"before-last-message\" ? 1 : Number(\n      toolCall.type.slice(\"before-last-\".length).slice(0, -\"-messages\".length)\n    );\n    const keptToolCallIds = /* @__PURE__ */ new Set();\n    const keptApprovalIds = /* @__PURE__ */ new Set();\n    if (keepLastMessagesCount != null) {\n      for (const message of messages.slice(0, -keepLastMessagesCount)) {\n        if ((message.role === \"assistant\" || message.role === \"tool\") && typeof message.content !== \"string\") {\n          for (const part of message.content) {\n            if (part.type === \"tool-call\" || part.type === \"tool-result\") {\n              keptToolCallIds.add(part.toolCallId);\n            }\n          }\n        }\n      }\n    }\n    messages = messages.map((message, messageIndex) => {\n      if (message.role !== \"assistant\" && message.role !== \"tool\" || typeof message.content === \"string\" || keepLastMessagesCount && messageIndex >= messages.length - keepLastMessagesCount) {\n        return message;\n      }\n      const toolCallIdToToolName = {};\n      return {\n        ...message,\n        content: message.content.filter((part) => {\n          if (part.type !== \"tool-call\" && part.type !== \"tool-result\") {\n            return true;\n          }\n          if (part.type === \"tool-call\") {\n            toolCallIdToToolName[part.toolCallId] = part.toolName;\n          }\n          if ((part.type === \"tool-call\" || part.type === \"tool-result\") && keptToolCallIds.has(part.toolCallId)) {\n            return true;\n          }\n          return toolCall.tools != null && !toolCall.tools.includes(part.toolName);\n        })\n      };\n    });\n  }\n  if (emptyMessages === \"remove\") {\n    messages = messages.filter((message) => message.content.length > 0);\n  }\n  return messages;\n}\n\n// src/generate-text/smooth-stream.ts\nimport { delay as originalDelay } from \"@ai-sdk/provider-utils\";\nimport { InvalidArgumentError as InvalidArgumentError2 } from \"@ai-sdk/provider\";\nvar CHUNKING_REGEXPS = {\n  word: /\\S+\\s+/m,\n  line: /\\n+/m\n};\nfunction smoothStream({\n  delayInMs = 10,\n  chunking = \"word\",\n  _internal: { delay: delay2 = originalDelay } = {}\n} = {}) {\n  let detectChunk;\n  if (typeof chunking === \"function\") {\n    detectChunk = (buffer) => {\n      const match = chunking(buffer);\n      if (match == null) {\n        return null;\n      }\n      if (!match.length) {\n        throw new Error(`Chunking function must return a non-empty string.`);\n      }\n      if (!buffer.startsWith(match)) {\n        throw new Error(\n          `Chunking function must return a match that is a prefix of the buffer. Received: \"${match}\" expected to start with \"${buffer}\"`\n        );\n      }\n      return match;\n    };\n  } else {\n    const chunkingRegex = typeof chunking === \"string\" ? CHUNKING_REGEXPS[chunking] : chunking;\n    if (chunkingRegex == null) {\n      throw new InvalidArgumentError2({\n        argument: \"chunking\",\n        message: `Chunking must be \"word\" or \"line\" or a RegExp. Received: ${chunking}`\n      });\n    }\n    detectChunk = (buffer) => {\n      const match = chunkingRegex.exec(buffer);\n      if (!match) {\n        return null;\n      }\n      return buffer.slice(0, match.index) + (match == null ? void 0 : match[0]);\n    };\n  }\n  return () => {\n    let buffer = \"\";\n    let id = \"\";\n    return new TransformStream({\n      async transform(chunk, controller) {\n        if (chunk.type !== \"text-delta\") {\n          if (buffer.length > 0) {\n            controller.enqueue({ type: \"text-delta\", text: buffer, id });\n            buffer = \"\";\n          }\n          controller.enqueue(chunk);\n          return;\n        }\n        if (chunk.id !== id && buffer.length > 0) {\n          controller.enqueue({ type: \"text-delta\", text: buffer, id });\n          buffer = \"\";\n        }\n        buffer += chunk.text;\n        id = chunk.id;\n        let match;\n        while ((match = detectChunk(buffer)) != null) {\n          controller.enqueue({ type: \"text-delta\", text: match, id });\n          buffer = buffer.slice(match.length);\n          await delay2(delayInMs);\n        }\n      }\n    });\n  };\n}\n\n// src/middleware/default-settings-middleware.ts\nfunction defaultSettingsMiddleware({\n  settings\n}) {\n  return {\n    middlewareVersion: \"v2\",\n    transformParams: async ({ params }) => {\n      return mergeObjects(settings, params);\n    }\n  };\n}\n\n// src/util/get-potential-start-index.ts\nfunction getPotentialStartIndex(text2, searchedText) {\n  if (searchedText.length === 0) {\n    return null;\n  }\n  const directIndex = text2.indexOf(searchedText);\n  if (directIndex !== -1) {\n    return directIndex;\n  }\n  for (let i = text2.length - 1; i >= 0; i--) {\n    const suffix = text2.substring(i);\n    if (searchedText.startsWith(suffix)) {\n      return i;\n    }\n  }\n  return null;\n}\n\n// src/middleware/extract-reasoning-middleware.ts\nfunction extractReasoningMiddleware({\n  tagName,\n  separator = \"\\n\",\n  startWithReasoning = false\n}) {\n  const openingTag = `<${tagName}>`;\n  const closingTag = `</${tagName}>`;\n  return {\n    middlewareVersion: \"v2\",\n    wrapGenerate: async ({ doGenerate }) => {\n      const { content, ...rest } = await doGenerate();\n      const transformedContent = [];\n      for (const part of content) {\n        if (part.type !== \"text\") {\n          transformedContent.push(part);\n          continue;\n        }\n        const text2 = startWithReasoning ? openingTag + part.text : part.text;\n        const regexp = new RegExp(`${openingTag}(.*?)${closingTag}`, \"gs\");\n        const matches = Array.from(text2.matchAll(regexp));\n        if (!matches.length) {\n          transformedContent.push(part);\n          continue;\n        }\n        const reasoningText = matches.map((match) => match[1]).join(separator);\n        let textWithoutReasoning = text2;\n        for (let i = matches.length - 1; i >= 0; i--) {\n          const match = matches[i];\n          const beforeMatch = textWithoutReasoning.slice(0, match.index);\n          const afterMatch = textWithoutReasoning.slice(\n            match.index + match[0].length\n          );\n          textWithoutReasoning = beforeMatch + (beforeMatch.length > 0 && afterMatch.length > 0 ? separator : \"\") + afterMatch;\n        }\n        transformedContent.push({\n          type: \"reasoning\",\n          text: reasoningText\n        });\n        transformedContent.push({\n          type: \"text\",\n          text: textWithoutReasoning\n        });\n      }\n      return { content: transformedContent, ...rest };\n    },\n    wrapStream: async ({ doStream }) => {\n      const { stream, ...rest } = await doStream();\n      const reasoningExtractions = {};\n      let delayedTextStart;\n      return {\n        stream: stream.pipeThrough(\n          new TransformStream({\n            transform: (chunk, controller) => {\n              if (chunk.type === \"text-start\") {\n                delayedTextStart = chunk;\n                return;\n              }\n              if (chunk.type === \"text-end\" && delayedTextStart) {\n                controller.enqueue(delayedTextStart);\n                delayedTextStart = void 0;\n              }\n              if (chunk.type !== \"text-delta\") {\n                controller.enqueue(chunk);\n                return;\n              }\n              if (reasoningExtractions[chunk.id] == null) {\n                reasoningExtractions[chunk.id] = {\n                  isFirstReasoning: true,\n                  isFirstText: true,\n                  afterSwitch: false,\n                  isReasoning: startWithReasoning,\n                  buffer: \"\",\n                  idCounter: 0,\n                  textId: chunk.id\n                };\n              }\n              const activeExtraction = reasoningExtractions[chunk.id];\n              activeExtraction.buffer += chunk.delta;\n              function publish(text2) {\n                if (text2.length > 0) {\n                  const prefix = activeExtraction.afterSwitch && (activeExtraction.isReasoning ? !activeExtraction.isFirstReasoning : !activeExtraction.isFirstText) ? separator : \"\";\n                  if (activeExtraction.isReasoning && (activeExtraction.afterSwitch || activeExtraction.isFirstReasoning)) {\n                    controller.enqueue({\n                      type: \"reasoning-start\",\n                      id: `reasoning-${activeExtraction.idCounter}`\n                    });\n                  }\n                  if (activeExtraction.isReasoning) {\n                    controller.enqueue({\n                      type: \"reasoning-delta\",\n                      delta: prefix + text2,\n                      id: `reasoning-${activeExtraction.idCounter}`\n                    });\n                  } else {\n                    if (delayedTextStart) {\n                      controller.enqueue(delayedTextStart);\n                      delayedTextStart = void 0;\n                    }\n                    controller.enqueue({\n                      type: \"text-delta\",\n                      delta: prefix + text2,\n                      id: activeExtraction.textId\n                    });\n                  }\n                  activeExtraction.afterSwitch = false;\n                  if (activeExtraction.isReasoning) {\n                    activeExtraction.isFirstReasoning = false;\n                  } else {\n                    activeExtraction.isFirstText = false;\n                  }\n                }\n              }\n              do {\n                const nextTag = activeExtraction.isReasoning ? closingTag : openingTag;\n                const startIndex = getPotentialStartIndex(\n                  activeExtraction.buffer,\n                  nextTag\n                );\n                if (startIndex == null) {\n                  publish(activeExtraction.buffer);\n                  activeExtraction.buffer = \"\";\n                  break;\n                }\n                publish(activeExtraction.buffer.slice(0, startIndex));\n                const foundFullMatch = startIndex + nextTag.length <= activeExtraction.buffer.length;\n                if (foundFullMatch) {\n                  activeExtraction.buffer = activeExtraction.buffer.slice(\n                    startIndex + nextTag.length\n                  );\n                  if (activeExtraction.isReasoning) {\n                    controller.enqueue({\n                      type: \"reasoning-end\",\n                      id: `reasoning-${activeExtraction.idCounter++}`\n                    });\n                  }\n                  activeExtraction.isReasoning = !activeExtraction.isReasoning;\n                  activeExtraction.afterSwitch = true;\n                } else {\n                  activeExtraction.buffer = activeExtraction.buffer.slice(startIndex);\n                  break;\n                }\n              } while (true);\n            }\n          })\n        ),\n        ...rest\n      };\n    }\n  };\n}\n\n// src/middleware/simulate-streaming-middleware.ts\nfunction simulateStreamingMiddleware() {\n  return {\n    middlewareVersion: \"v2\",\n    wrapStream: async ({ doGenerate }) => {\n      const result = await doGenerate();\n      let id = 0;\n      const simulatedStream = new ReadableStream({\n        start(controller) {\n          controller.enqueue({\n            type: \"stream-start\",\n            warnings: result.warnings\n          });\n          controller.enqueue({ type: \"response-metadata\", ...result.response });\n          for (const part of result.content) {\n            switch (part.type) {\n              case \"text\": {\n                if (part.text.length > 0) {\n                  controller.enqueue({ type: \"text-start\", id: String(id) });\n                  controller.enqueue({\n                    type: \"text-delta\",\n                    id: String(id),\n                    delta: part.text\n                  });\n                  controller.enqueue({ type: \"text-end\", id: String(id) });\n                  id++;\n                }\n                break;\n              }\n              case \"reasoning\": {\n                controller.enqueue({\n                  type: \"reasoning-start\",\n                  id: String(id),\n                  providerMetadata: part.providerMetadata\n                });\n                controller.enqueue({\n                  type: \"reasoning-delta\",\n                  id: String(id),\n                  delta: part.text\n                });\n                controller.enqueue({ type: \"reasoning-end\", id: String(id) });\n                id++;\n                break;\n              }\n              default: {\n                controller.enqueue(part);\n                break;\n              }\n            }\n          }\n          controller.enqueue({\n            type: \"finish\",\n            finishReason: result.finishReason,\n            usage: result.usage,\n            providerMetadata: result.providerMetadata\n          });\n          controller.close();\n        }\n      });\n      return {\n        stream: simulatedStream,\n        request: result.request,\n        response: result.response\n      };\n    }\n  };\n}\n\n// src/middleware/wrap-language-model.ts\nvar wrapLanguageModel = ({\n  model,\n  middleware: middlewareArg,\n  modelId,\n  providerId\n}) => {\n  return [...asArray(middlewareArg)].reverse().reduce((wrappedModel, middleware) => {\n    return doWrap({ model: wrappedModel, middleware, modelId, providerId });\n  }, model);\n};\nvar doWrap = ({\n  model,\n  middleware: {\n    transformParams,\n    wrapGenerate,\n    wrapStream,\n    overrideProvider,\n    overrideModelId,\n    overrideSupportedUrls\n  },\n  modelId,\n  providerId\n}) => {\n  var _a16, _b, _c;\n  async function doTransform({\n    params,\n    type\n  }) {\n    return transformParams ? await transformParams({ params, type, model }) : params;\n  }\n  return {\n    specificationVersion: \"v2\",\n    provider: (_a16 = providerId != null ? providerId : overrideProvider == null ? void 0 : overrideProvider({ model })) != null ? _a16 : model.provider,\n    modelId: (_b = modelId != null ? modelId : overrideModelId == null ? void 0 : overrideModelId({ model })) != null ? _b : model.modelId,\n    supportedUrls: (_c = overrideSupportedUrls == null ? void 0 : overrideSupportedUrls({ model })) != null ? _c : model.supportedUrls,\n    async doGenerate(params) {\n      const transformedParams = await doTransform({ params, type: \"generate\" });\n      const doGenerate = async () => model.doGenerate(transformedParams);\n      const doStream = async () => model.doStream(transformedParams);\n      return wrapGenerate ? wrapGenerate({\n        doGenerate,\n        doStream,\n        params: transformedParams,\n        model\n      }) : doGenerate();\n    },\n    async doStream(params) {\n      const transformedParams = await doTransform({ params, type: \"stream\" });\n      const doGenerate = async () => model.doGenerate(transformedParams);\n      const doStream = async () => model.doStream(transformedParams);\n      return wrapStream ? wrapStream({ doGenerate, doStream, params: transformedParams, model }) : doStream();\n    }\n  };\n};\n\n// src/middleware/wrap-provider.ts\nfunction wrapProvider({\n  provider,\n  languageModelMiddleware\n}) {\n  const wrappedProvider = {\n    languageModel(modelId) {\n      let model = provider.languageModel(modelId);\n      model = wrapLanguageModel({\n        model,\n        middleware: languageModelMiddleware\n      });\n      return model;\n    },\n    textEmbeddingModel: provider.textEmbeddingModel,\n    imageModel: provider.imageModel,\n    transcriptionModel: provider.transcriptionModel,\n    speechModel: provider.speechModel\n  };\n  return wrappedProvider;\n}\n\n// src/registry/custom-provider.ts\nimport {\n  NoSuchModelError as NoSuchModelError2\n} from \"@ai-sdk/provider\";\nfunction customProvider({\n  languageModels,\n  textEmbeddingModels,\n  imageModels,\n  transcriptionModels,\n  speechModels,\n  fallbackProvider\n}) {\n  return {\n    languageModel(modelId) {\n      if (languageModels != null && modelId in languageModels) {\n        return languageModels[modelId];\n      }\n      if (fallbackProvider) {\n        return fallbackProvider.languageModel(modelId);\n      }\n      throw new NoSuchModelError2({ modelId, modelType: \"languageModel\" });\n    },\n    textEmbeddingModel(modelId) {\n      if (textEmbeddingModels != null && modelId in textEmbeddingModels) {\n        return textEmbeddingModels[modelId];\n      }\n      if (fallbackProvider) {\n        return fallbackProvider.textEmbeddingModel(modelId);\n      }\n      throw new NoSuchModelError2({ modelId, modelType: \"textEmbeddingModel\" });\n    },\n    imageModel(modelId) {\n      if (imageModels != null && modelId in imageModels) {\n        return imageModels[modelId];\n      }\n      if (fallbackProvider == null ? void 0 : fallbackProvider.imageModel) {\n        return fallbackProvider.imageModel(modelId);\n      }\n      throw new NoSuchModelError2({ modelId, modelType: \"imageModel\" });\n    },\n    transcriptionModel(modelId) {\n      if (transcriptionModels != null && modelId in transcriptionModels) {\n        return transcriptionModels[modelId];\n      }\n      if (fallbackProvider == null ? void 0 : fallbackProvider.transcriptionModel) {\n        return fallbackProvider.transcriptionModel(modelId);\n      }\n      throw new NoSuchModelError2({ modelId, modelType: \"transcriptionModel\" });\n    },\n    speechModel(modelId) {\n      if (speechModels != null && modelId in speechModels) {\n        return speechModels[modelId];\n      }\n      if (fallbackProvider == null ? void 0 : fallbackProvider.speechModel) {\n        return fallbackProvider.speechModel(modelId);\n      }\n      throw new NoSuchModelError2({ modelId, modelType: \"speechModel\" });\n    }\n  };\n}\nvar experimental_customProvider = customProvider;\n\n// src/registry/no-such-provider-error.ts\nimport { AISDKError as AISDKError20, NoSuchModelError as NoSuchModelError3 } from \"@ai-sdk/provider\";\nvar name15 = \"AI_NoSuchProviderError\";\nvar marker15 = `vercel.ai.error.${name15}`;\nvar symbol15 = Symbol.for(marker15);\nvar _a15;\nvar NoSuchProviderError = class extends NoSuchModelError3 {\n  constructor({\n    modelId,\n    modelType,\n    providerId,\n    availableProviders,\n    message = `No such provider: ${providerId} (available providers: ${availableProviders.join()})`\n  }) {\n    super({ errorName: name15, modelId, modelType, message });\n    this[_a15] = true;\n    this.providerId = providerId;\n    this.availableProviders = availableProviders;\n  }\n  static isInstance(error) {\n    return AISDKError20.hasMarker(error, marker15);\n  }\n};\n_a15 = symbol15;\n\n// src/registry/provider-registry.ts\nimport {\n  NoSuchModelError as NoSuchModelError4\n} from \"@ai-sdk/provider\";\nfunction createProviderRegistry(providers, {\n  separator = \":\",\n  languageModelMiddleware\n} = {}) {\n  const registry = new DefaultProviderRegistry({\n    separator,\n    languageModelMiddleware\n  });\n  for (const [id, provider] of Object.entries(providers)) {\n    registry.registerProvider({ id, provider });\n  }\n  return registry;\n}\nvar experimental_createProviderRegistry = createProviderRegistry;\nvar DefaultProviderRegistry = class {\n  constructor({\n    separator,\n    languageModelMiddleware\n  }) {\n    this.providers = {};\n    this.separator = separator;\n    this.languageModelMiddleware = languageModelMiddleware;\n  }\n  registerProvider({\n    id,\n    provider\n  }) {\n    this.providers[id] = provider;\n  }\n  getProvider(id, modelType) {\n    const provider = this.providers[id];\n    if (provider == null) {\n      throw new NoSuchProviderError({\n        modelId: id,\n        modelType,\n        providerId: id,\n        availableProviders: Object.keys(this.providers)\n      });\n    }\n    return provider;\n  }\n  splitId(id, modelType) {\n    const index = id.indexOf(this.separator);\n    if (index === -1) {\n      throw new NoSuchModelError4({\n        modelId: id,\n        modelType,\n        message: `Invalid ${modelType} id for registry: ${id} (must be in the format \"providerId${this.separator}modelId\")`\n      });\n    }\n    return [id.slice(0, index), id.slice(index + this.separator.length)];\n  }\n  languageModel(id) {\n    var _a16, _b;\n    const [providerId, modelId] = this.splitId(id, \"languageModel\");\n    let model = (_b = (_a16 = this.getProvider(providerId, \"languageModel\")).languageModel) == null ? void 0 : _b.call(\n      _a16,\n      modelId\n    );\n    if (model == null) {\n      throw new NoSuchModelError4({ modelId: id, modelType: \"languageModel\" });\n    }\n    if (this.languageModelMiddleware != null) {\n      model = wrapLanguageModel({\n        model,\n        middleware: this.languageModelMiddleware\n      });\n    }\n    return model;\n  }\n  textEmbeddingModel(id) {\n    var _a16;\n    const [providerId, modelId] = this.splitId(id, \"textEmbeddingModel\");\n    const provider = this.getProvider(providerId, \"textEmbeddingModel\");\n    const model = (_a16 = provider.textEmbeddingModel) == null ? void 0 : _a16.call(provider, modelId);\n    if (model == null) {\n      throw new NoSuchModelError4({\n        modelId: id,\n        modelType: \"textEmbeddingModel\"\n      });\n    }\n    return model;\n  }\n  imageModel(id) {\n    var _a16;\n    const [providerId, modelId] = this.splitId(id, \"imageModel\");\n    const provider = this.getProvider(providerId, \"imageModel\");\n    const model = (_a16 = provider.imageModel) == null ? void 0 : _a16.call(provider, modelId);\n    if (model == null) {\n      throw new NoSuchModelError4({ modelId: id, modelType: \"imageModel\" });\n    }\n    return model;\n  }\n  transcriptionModel(id) {\n    var _a16;\n    const [providerId, modelId] = this.splitId(id, \"transcriptionModel\");\n    const provider = this.getProvider(providerId, \"transcriptionModel\");\n    const model = (_a16 = provider.transcriptionModel) == null ? void 0 : _a16.call(provider, modelId);\n    if (model == null) {\n      throw new NoSuchModelError4({\n        modelId: id,\n        modelType: \"transcriptionModel\"\n      });\n    }\n    return model;\n  }\n  speechModel(id) {\n    var _a16;\n    const [providerId, modelId] = this.splitId(id, \"speechModel\");\n    const provider = this.getProvider(providerId, \"speechModel\");\n    const model = (_a16 = provider.speechModel) == null ? void 0 : _a16.call(provider, modelId);\n    if (model == null) {\n      throw new NoSuchModelError4({ modelId: id, modelType: \"speechModel\" });\n    }\n    return model;\n  }\n};\n\n// src/transcribe/transcribe.ts\nimport { withUserAgentSuffix as withUserAgentSuffix8 } from \"@ai-sdk/provider-utils\";\n\n// src/error/no-transcript-generated-error.ts\nimport { AISDKError as AISDKError21 } from \"@ai-sdk/provider\";\nvar NoTranscriptGeneratedError = class extends AISDKError21 {\n  constructor(options) {\n    super({\n      name: \"AI_NoTranscriptGeneratedError\",\n      message: \"No transcript generated.\"\n    });\n    this.responses = options.responses;\n  }\n};\n\n// src/transcribe/transcribe.ts\nasync function transcribe({\n  model,\n  audio,\n  providerOptions = {},\n  maxRetries: maxRetriesArg,\n  abortSignal,\n  headers\n}) {\n  if (model.specificationVersion !== \"v2\") {\n    throw new UnsupportedModelVersionError({\n      version: model.specificationVersion,\n      provider: model.provider,\n      modelId: model.modelId\n    });\n  }\n  const { retry } = prepareRetries({\n    maxRetries: maxRetriesArg,\n    abortSignal\n  });\n  const headersWithUserAgent = withUserAgentSuffix8(\n    headers != null ? headers : {},\n    `ai/${VERSION}`\n  );\n  const audioData = audio instanceof URL ? (await download({ url: audio })).data : convertDataContentToUint8Array(audio);\n  const result = await retry(\n    () => {\n      var _a16;\n      return model.doGenerate({\n        audio: audioData,\n        abortSignal,\n        headers: headersWithUserAgent,\n        providerOptions,\n        mediaType: (_a16 = detectMediaType({\n          data: audioData,\n          signatures: audioMediaTypeSignatures\n        })) != null ? _a16 : \"audio/wav\"\n      });\n    }\n  );\n  logWarnings(result.warnings);\n  if (!result.text) {\n    throw new NoTranscriptGeneratedError({ responses: [result.response] });\n  }\n  return new DefaultTranscriptionResult({\n    text: result.text,\n    segments: result.segments,\n    language: result.language,\n    durationInSeconds: result.durationInSeconds,\n    warnings: result.warnings,\n    responses: [result.response],\n    providerMetadata: result.providerMetadata\n  });\n}\nvar DefaultTranscriptionResult = class {\n  constructor(options) {\n    var _a16;\n    this.text = options.text;\n    this.segments = options.segments;\n    this.language = options.language;\n    this.durationInSeconds = options.durationInSeconds;\n    this.warnings = options.warnings;\n    this.responses = options.responses;\n    this.providerMetadata = (_a16 = options.providerMetadata) != null ? _a16 : {};\n  }\n};\n\n// src/ui/call-completion-api.ts\nimport {\n  parseJsonEventStream,\n  withUserAgentSuffix as withUserAgentSuffix9,\n  getRuntimeEnvironmentUserAgent as getRuntimeEnvironmentUserAgent2\n} from \"@ai-sdk/provider-utils\";\n\n// src/ui/process-text-stream.ts\nasync function processTextStream({\n  stream,\n  onTextPart\n}) {\n  const reader = stream.pipeThrough(new TextDecoderStream()).getReader();\n  while (true) {\n    const { done, value } = await reader.read();\n    if (done) {\n      break;\n    }\n    await onTextPart(value);\n  }\n}\n\n// src/ui/call-completion-api.ts\nvar getOriginalFetch = () => fetch;\nasync function callCompletionApi({\n  api,\n  prompt,\n  credentials,\n  headers,\n  body,\n  streamProtocol = \"data\",\n  setCompletion,\n  setLoading,\n  setError,\n  setAbortController,\n  onFinish,\n  onError,\n  fetch: fetch2 = getOriginalFetch()\n}) {\n  var _a16;\n  try {\n    setLoading(true);\n    setError(void 0);\n    const abortController = new AbortController();\n    setAbortController(abortController);\n    setCompletion(\"\");\n    const response = await fetch2(api, {\n      method: \"POST\",\n      body: JSON.stringify({\n        prompt,\n        ...body\n      }),\n      credentials,\n      headers: withUserAgentSuffix9(\n        {\n          \"Content-Type\": \"application/json\",\n          ...headers\n        },\n        `ai-sdk/${VERSION}`,\n        getRuntimeEnvironmentUserAgent2()\n      ),\n      signal: abortController.signal\n    }).catch((err) => {\n      throw err;\n    });\n    if (!response.ok) {\n      throw new Error(\n        (_a16 = await response.text()) != null ? _a16 : \"Failed to fetch the chat response.\"\n      );\n    }\n    if (!response.body) {\n      throw new Error(\"The response body is empty.\");\n    }\n    let result = \"\";\n    switch (streamProtocol) {\n      case \"text\": {\n        await processTextStream({\n          stream: response.body,\n          onTextPart: (chunk) => {\n            result += chunk;\n            setCompletion(result);\n          }\n        });\n        break;\n      }\n      case \"data\": {\n        await consumeStream({\n          stream: parseJsonEventStream({\n            stream: response.body,\n            schema: uiMessageChunkSchema\n          }).pipeThrough(\n            new TransformStream({\n              async transform(part) {\n                if (!part.success) {\n                  throw part.error;\n                }\n                const streamPart = part.value;\n                if (streamPart.type === \"text-delta\") {\n                  result += streamPart.delta;\n                  setCompletion(result);\n                } else if (streamPart.type === \"error\") {\n                  throw new Error(streamPart.errorText);\n                }\n              }\n            })\n          ),\n          onError: (error) => {\n            throw error;\n          }\n        });\n        break;\n      }\n      default: {\n        const exhaustiveCheck = streamProtocol;\n        throw new Error(`Unknown stream protocol: ${exhaustiveCheck}`);\n      }\n    }\n    if (onFinish) {\n      onFinish(prompt, result);\n    }\n    setAbortController(null);\n    return result;\n  } catch (err) {\n    if (err.name === \"AbortError\") {\n      setAbortController(null);\n      return null;\n    }\n    if (err instanceof Error) {\n      if (onError) {\n        onError(err);\n      }\n    }\n    setError(err);\n  } finally {\n    setLoading(false);\n  }\n}\n\n// src/ui/chat.ts\nimport {\n  generateId as generateIdFunc\n} from \"@ai-sdk/provider-utils\";\n\n// src/ui/convert-file-list-to-file-ui-parts.ts\nasync function convertFileListToFileUIParts(files) {\n  if (files == null) {\n    return [];\n  }\n  if (!globalThis.FileList || !(files instanceof globalThis.FileList)) {\n    throw new Error(\"FileList is not supported in the current environment\");\n  }\n  return Promise.all(\n    Array.from(files).map(async (file) => {\n      const { name: name16, type } = file;\n      const dataUrl = await new Promise((resolve2, reject) => {\n        const reader = new FileReader();\n        reader.onload = (readerEvent) => {\n          var _a16;\n          resolve2((_a16 = readerEvent.target) == null ? void 0 : _a16.result);\n        };\n        reader.onerror = (error) => reject(error);\n        reader.readAsDataURL(file);\n      });\n      return {\n        type: \"file\",\n        mediaType: type,\n        filename: name16,\n        url: dataUrl\n      };\n    })\n  );\n}\n\n// src/ui/default-chat-transport.ts\nimport { parseJsonEventStream as parseJsonEventStream2 } from \"@ai-sdk/provider-utils\";\n\n// src/ui/http-chat-transport.ts\nimport {\n  normalizeHeaders,\n  resolve,\n  withUserAgentSuffix as withUserAgentSuffix10,\n  getRuntimeEnvironmentUserAgent as getRuntimeEnvironmentUserAgent3\n} from \"@ai-sdk/provider-utils\";\nvar HttpChatTransport = class {\n  constructor({\n    api = \"/api/chat\",\n    credentials,\n    headers,\n    body,\n    fetch: fetch2,\n    prepareSendMessagesRequest,\n    prepareReconnectToStreamRequest\n  }) {\n    this.api = api;\n    this.credentials = credentials;\n    this.headers = headers;\n    this.body = body;\n    this.fetch = fetch2;\n    this.prepareSendMessagesRequest = prepareSendMessagesRequest;\n    this.prepareReconnectToStreamRequest = prepareReconnectToStreamRequest;\n  }\n  async sendMessages({\n    abortSignal,\n    ...options\n  }) {\n    var _a16, _b, _c, _d, _e;\n    const resolvedBody = await resolve(this.body);\n    const resolvedHeaders = await resolve(this.headers);\n    const resolvedCredentials = await resolve(this.credentials);\n    const baseHeaders = {\n      ...normalizeHeaders(resolvedHeaders),\n      ...normalizeHeaders(options.headers)\n    };\n    const preparedRequest = await ((_a16 = this.prepareSendMessagesRequest) == null ? void 0 : _a16.call(this, {\n      api: this.api,\n      id: options.chatId,\n      messages: options.messages,\n      body: { ...resolvedBody, ...options.body },\n      headers: baseHeaders,\n      credentials: resolvedCredentials,\n      requestMetadata: options.metadata,\n      trigger: options.trigger,\n      messageId: options.messageId\n    }));\n    const api = (_b = preparedRequest == null ? void 0 : preparedRequest.api) != null ? _b : this.api;\n    const headers = (preparedRequest == null ? void 0 : preparedRequest.headers) !== void 0 ? normalizeHeaders(preparedRequest.headers) : baseHeaders;\n    const body = (preparedRequest == null ? void 0 : preparedRequest.body) !== void 0 ? preparedRequest.body : {\n      ...resolvedBody,\n      ...options.body,\n      id: options.chatId,\n      messages: options.messages,\n      trigger: options.trigger,\n      messageId: options.messageId\n    };\n    const credentials = (_c = preparedRequest == null ? void 0 : preparedRequest.credentials) != null ? _c : resolvedCredentials;\n    const fetch2 = (_d = this.fetch) != null ? _d : globalThis.fetch;\n    const response = await fetch2(api, {\n      method: \"POST\",\n      headers: withUserAgentSuffix10(\n        {\n          \"Content-Type\": \"application/json\",\n          ...headers\n        },\n        `ai-sdk/${VERSION}`,\n        getRuntimeEnvironmentUserAgent3()\n      ),\n      body: JSON.stringify(body),\n      credentials,\n      signal: abortSignal\n    });\n    if (!response.ok) {\n      throw new Error(\n        (_e = await response.text()) != null ? _e : \"Failed to fetch the chat response.\"\n      );\n    }\n    if (!response.body) {\n      throw new Error(\"The response body is empty.\");\n    }\n    return this.processResponseStream(response.body);\n  }\n  async reconnectToStream(options) {\n    var _a16, _b, _c, _d, _e;\n    const resolvedBody = await resolve(this.body);\n    const resolvedHeaders = await resolve(this.headers);\n    const resolvedCredentials = await resolve(this.credentials);\n    const baseHeaders = {\n      ...normalizeHeaders(resolvedHeaders),\n      ...normalizeHeaders(options.headers)\n    };\n    const preparedRequest = await ((_a16 = this.prepareReconnectToStreamRequest) == null ? void 0 : _a16.call(this, {\n      api: this.api,\n      id: options.chatId,\n      body: { ...resolvedBody, ...options.body },\n      headers: baseHeaders,\n      credentials: resolvedCredentials,\n      requestMetadata: options.metadata\n    }));\n    const api = (_b = preparedRequest == null ? void 0 : preparedRequest.api) != null ? _b : `${this.api}/${options.chatId}/stream`;\n    const headers = (preparedRequest == null ? void 0 : preparedRequest.headers) !== void 0 ? normalizeHeaders(preparedRequest.headers) : baseHeaders;\n    const credentials = (_c = preparedRequest == null ? void 0 : preparedRequest.credentials) != null ? _c : resolvedCredentials;\n    const fetch2 = (_d = this.fetch) != null ? _d : globalThis.fetch;\n    const response = await fetch2(api, {\n      method: \"GET\",\n      headers: withUserAgentSuffix10(\n        headers,\n        `ai-sdk/${VERSION}`,\n        getRuntimeEnvironmentUserAgent3()\n      ),\n      credentials\n    });\n    if (response.status === 204) {\n      return null;\n    }\n    if (!response.ok) {\n      throw new Error(\n        (_e = await response.text()) != null ? _e : \"Failed to fetch the chat response.\"\n      );\n    }\n    if (!response.body) {\n      throw new Error(\"The response body is empty.\");\n    }\n    return this.processResponseStream(response.body);\n  }\n};\n\n// src/ui/default-chat-transport.ts\nvar DefaultChatTransport = class extends HttpChatTransport {\n  constructor(options = {}) {\n    super(options);\n  }\n  processResponseStream(stream) {\n    return parseJsonEventStream2({\n      stream,\n      schema: uiMessageChunkSchema\n    }).pipeThrough(\n      new TransformStream({\n        async transform(chunk, controller) {\n          if (!chunk.success) {\n            throw chunk.error;\n          }\n          controller.enqueue(chunk.value);\n        }\n      })\n    );\n  }\n};\n\n// src/ui/chat.ts\nvar AbstractChat = class {\n  constructor({\n    generateId: generateId3 = generateIdFunc,\n    id = generateId3(),\n    transport = new DefaultChatTransport(),\n    messageMetadataSchema,\n    dataPartSchemas,\n    state,\n    onError,\n    onToolCall,\n    onFinish,\n    onData,\n    sendAutomaticallyWhen\n  }) {\n    this.activeResponse = void 0;\n    this.jobExecutor = new SerialJobExecutor();\n    /**\n     * Appends or replaces a user message to the chat list. This triggers the API call to fetch\n     * the assistant's response.\n     *\n     * If a messageId is provided, the message will be replaced.\n     */\n    this.sendMessage = async (message, options) => {\n      var _a16, _b, _c, _d;\n      if (message == null) {\n        await this.makeRequest({\n          trigger: \"submit-message\",\n          messageId: (_a16 = this.lastMessage) == null ? void 0 : _a16.id,\n          ...options\n        });\n        return;\n      }\n      let uiMessage;\n      if (\"text\" in message || \"files\" in message) {\n        const fileParts = Array.isArray(message.files) ? message.files : await convertFileListToFileUIParts(message.files);\n        uiMessage = {\n          parts: [\n            ...fileParts,\n            ...\"text\" in message && message.text != null ? [{ type: \"text\", text: message.text }] : []\n          ]\n        };\n      } else {\n        uiMessage = message;\n      }\n      if (message.messageId != null) {\n        const messageIndex = this.state.messages.findIndex(\n          (m) => m.id === message.messageId\n        );\n        if (messageIndex === -1) {\n          throw new Error(`message with id ${message.messageId} not found`);\n        }\n        if (this.state.messages[messageIndex].role !== \"user\") {\n          throw new Error(\n            `message with id ${message.messageId} is not a user message`\n          );\n        }\n        this.state.messages = this.state.messages.slice(0, messageIndex + 1);\n        this.state.replaceMessage(messageIndex, {\n          ...uiMessage,\n          id: message.messageId,\n          role: (_b = uiMessage.role) != null ? _b : \"user\",\n          metadata: message.metadata\n        });\n      } else {\n        this.state.pushMessage({\n          ...uiMessage,\n          id: (_c = uiMessage.id) != null ? _c : this.generateId(),\n          role: (_d = uiMessage.role) != null ? _d : \"user\",\n          metadata: message.metadata\n        });\n      }\n      await this.makeRequest({\n        trigger: \"submit-message\",\n        messageId: message.messageId,\n        ...options\n      });\n    };\n    /**\n     * Regenerate the assistant message with the provided message id.\n     * If no message id is provided, the last assistant message will be regenerated.\n     */\n    this.regenerate = async ({\n      messageId,\n      ...options\n    } = {}) => {\n      const messageIndex = messageId == null ? this.state.messages.length - 1 : this.state.messages.findIndex((message) => message.id === messageId);\n      if (messageIndex === -1) {\n        throw new Error(`message ${messageId} not found`);\n      }\n      this.state.messages = this.state.messages.slice(\n        0,\n        // if the message is a user message, we need to include it in the request:\n        this.messages[messageIndex].role === \"assistant\" ? messageIndex : messageIndex + 1\n      );\n      await this.makeRequest({\n        trigger: \"regenerate-message\",\n        messageId,\n        ...options\n      });\n    };\n    /**\n     * Attempt to resume an ongoing streaming response.\n     */\n    this.resumeStream = async (options = {}) => {\n      await this.makeRequest({ trigger: \"resume-stream\", ...options });\n    };\n    /**\n     * Clear the error state and set the status to ready if the chat is in an error state.\n     */\n    this.clearError = () => {\n      if (this.status === \"error\") {\n        this.state.error = void 0;\n        this.setStatus({ status: \"ready\" });\n      }\n    };\n    this.addToolOutput = async ({\n      state = \"output-available\",\n      tool: tool2,\n      toolCallId,\n      output,\n      errorText\n    }) => this.jobExecutor.run(async () => {\n      var _a16, _b;\n      const messages = this.state.messages;\n      const lastMessage = messages[messages.length - 1];\n      this.state.replaceMessage(messages.length - 1, {\n        ...lastMessage,\n        parts: lastMessage.parts.map(\n          (part) => isToolOrDynamicToolUIPart(part) && part.toolCallId === toolCallId ? { ...part, state, output, errorText } : part\n        )\n      });\n      if (this.activeResponse) {\n        this.activeResponse.state.message.parts = this.activeResponse.state.message.parts.map(\n          (part) => isToolOrDynamicToolUIPart(part) && part.toolCallId === toolCallId ? {\n            ...part,\n            state,\n            output,\n            errorText\n          } : part\n        );\n      }\n      if (this.status !== \"streaming\" && this.status !== \"submitted\" && ((_a16 = this.sendAutomaticallyWhen) == null ? void 0 : _a16.call(this, { messages: this.state.messages }))) {\n        this.makeRequest({\n          trigger: \"submit-message\",\n          messageId: (_b = this.lastMessage) == null ? void 0 : _b.id\n        });\n      }\n    });\n    /** @deprecated Use addToolOutput */\n    this.addToolResult = this.addToolOutput;\n    /**\n     * Abort the current request immediately, keep the generated tokens if any.\n     */\n    this.stop = async () => {\n      var _a16;\n      if (this.status !== \"streaming\" && this.status !== \"submitted\")\n        return;\n      if ((_a16 = this.activeResponse) == null ? void 0 : _a16.abortController) {\n        this.activeResponse.abortController.abort();\n      }\n    };\n    this.id = id;\n    this.transport = transport;\n    this.generateId = generateId3;\n    this.messageMetadataSchema = messageMetadataSchema;\n    this.dataPartSchemas = dataPartSchemas;\n    this.state = state;\n    this.onError = onError;\n    this.onToolCall = onToolCall;\n    this.onFinish = onFinish;\n    this.onData = onData;\n    this.sendAutomaticallyWhen = sendAutomaticallyWhen;\n  }\n  /**\n   * Hook status:\n   *\n   * - `submitted`: The message has been sent to the API and we're awaiting the start of the response stream.\n   * - `streaming`: The response is actively streaming in from the API, receiving chunks of data.\n   * - `ready`: The full response has been received and processed; a new user message can be submitted.\n   * - `error`: An error occurred during the API request, preventing successful completion.\n   */\n  get status() {\n    return this.state.status;\n  }\n  setStatus({\n    status,\n    error\n  }) {\n    if (this.status === status)\n      return;\n    this.state.status = status;\n    this.state.error = error;\n  }\n  get error() {\n    return this.state.error;\n  }\n  get messages() {\n    return this.state.messages;\n  }\n  get lastMessage() {\n    return this.state.messages[this.state.messages.length - 1];\n  }\n  set messages(messages) {\n    this.state.messages = messages;\n  }\n  async makeRequest({\n    trigger,\n    metadata,\n    headers,\n    body,\n    messageId\n  }) {\n    var _a16, _b, _c, _d;\n    this.setStatus({ status: \"submitted\", error: void 0 });\n    const lastMessage = this.lastMessage;\n    let isAbort = false;\n    let isDisconnect = false;\n    let isError = false;\n    try {\n      const activeResponse = {\n        state: createStreamingUIMessageState({\n          lastMessage: this.state.snapshot(lastMessage),\n          messageId: this.generateId()\n        }),\n        abortController: new AbortController()\n      };\n      activeResponse.abortController.signal.addEventListener(\"abort\", () => {\n        isAbort = true;\n      });\n      this.activeResponse = activeResponse;\n      let stream;\n      if (trigger === \"resume-stream\") {\n        const reconnect = await this.transport.reconnectToStream({\n          chatId: this.id,\n          metadata,\n          headers,\n          body\n        });\n        if (reconnect == null) {\n          this.setStatus({ status: \"ready\" });\n          return;\n        }\n        stream = reconnect;\n      } else {\n        stream = await this.transport.sendMessages({\n          chatId: this.id,\n          messages: this.state.messages,\n          abortSignal: activeResponse.abortController.signal,\n          metadata,\n          headers,\n          body,\n          trigger,\n          messageId\n        });\n      }\n      const runUpdateMessageJob = (job) => (\n        // serialize the job execution to avoid race conditions:\n        this.jobExecutor.run(\n          () => job({\n            state: activeResponse.state,\n            write: () => {\n              var _a17;\n              this.setStatus({ status: \"streaming\" });\n              const replaceLastMessage = activeResponse.state.message.id === ((_a17 = this.lastMessage) == null ? void 0 : _a17.id);\n              if (replaceLastMessage) {\n                this.state.replaceMessage(\n                  this.state.messages.length - 1,\n                  activeResponse.state.message\n                );\n              } else {\n                this.state.pushMessage(activeResponse.state.message);\n              }\n            }\n          })\n        )\n      );\n      await consumeStream({\n        stream: processUIMessageStream({\n          stream,\n          onToolCall: this.onToolCall,\n          onData: this.onData,\n          messageMetadataSchema: this.messageMetadataSchema,\n          dataPartSchemas: this.dataPartSchemas,\n          runUpdateMessageJob,\n          onError: (error) => {\n            throw error;\n          }\n        }),\n        onError: (error) => {\n          throw error;\n        }\n      });\n      this.setStatus({ status: \"ready\" });\n    } catch (err) {\n      if (isAbort || err.name === \"AbortError\") {\n        isAbort = true;\n        this.setStatus({ status: \"ready\" });\n        return null;\n      }\n      isError = true;\n      if (err instanceof TypeError && (err.message.toLowerCase().includes(\"fetch\") || err.message.toLowerCase().includes(\"network\"))) {\n        isDisconnect = true;\n      }\n      if (this.onError && err instanceof Error) {\n        this.onError(err);\n      }\n      this.setStatus({ status: \"error\", error: err });\n    } finally {\n      try {\n        (_b = this.onFinish) == null ? void 0 : _b.call(this, {\n          message: this.activeResponse.state.message,\n          messages: this.state.messages,\n          isAbort,\n          isDisconnect,\n          isError,\n          finishReason: (_a16 = this.activeResponse) == null ? void 0 : _a16.state.finishReason\n        });\n      } catch (err) {\n        console.error(err);\n      }\n      this.activeResponse = void 0;\n    }\n    if (((_c = this.sendAutomaticallyWhen) == null ? void 0 : _c.call(this, { messages: this.state.messages })) && !isError) {\n      await this.makeRequest({\n        trigger: \"submit-message\",\n        messageId: (_d = this.lastMessage) == null ? void 0 : _d.id,\n        metadata,\n        headers,\n        body\n      });\n    }\n  }\n};\n\n// src/ui/last-assistant-message-is-complete-with-tool-calls.ts\nfunction lastAssistantMessageIsCompleteWithToolCalls({\n  messages\n}) {\n  const message = messages[messages.length - 1];\n  if (!message) {\n    return false;\n  }\n  if (message.role !== \"assistant\") {\n    return false;\n  }\n  const lastStepStartIndex = message.parts.reduce((lastIndex, part, index) => {\n    return part.type === \"step-start\" ? index : lastIndex;\n  }, -1);\n  const lastStepToolInvocations = message.parts.slice(lastStepStartIndex + 1).filter(isToolOrDynamicToolUIPart).filter((part) => !part.providerExecuted);\n  return lastStepToolInvocations.length > 0 && lastStepToolInvocations.every(\n    (part) => part.state === \"output-available\" || part.state === \"output-error\"\n  );\n}\n\n// src/ui/transform-text-to-ui-message-stream.ts\nfunction transformTextToUiMessageStream({\n  stream\n}) {\n  return stream.pipeThrough(\n    new TransformStream({\n      start(controller) {\n        controller.enqueue({ type: \"start\" });\n        controller.enqueue({ type: \"start-step\" });\n        controller.enqueue({ type: \"text-start\", id: \"text-1\" });\n      },\n      async transform(part, controller) {\n        controller.enqueue({ type: \"text-delta\", id: \"text-1\", delta: part });\n      },\n      async flush(controller) {\n        controller.enqueue({ type: \"text-end\", id: \"text-1\" });\n        controller.enqueue({ type: \"finish-step\" });\n        controller.enqueue({ type: \"finish\" });\n      }\n    })\n  );\n}\n\n// src/ui/text-stream-chat-transport.ts\nvar TextStreamChatTransport = class extends HttpChatTransport {\n  constructor(options = {}) {\n    super(options);\n  }\n  processResponseStream(stream) {\n    return transformTextToUiMessageStream({\n      stream: stream.pipeThrough(new TextDecoderStream())\n    });\n  }\n};\n\n// src/ui/validate-ui-messages.ts\nimport { TypeValidationError as TypeValidationError4 } from \"@ai-sdk/provider\";\nimport {\n  lazyValidator as lazyValidator2,\n  validateTypes as validateTypes2,\n  zodSchema as zodSchema2\n} from \"@ai-sdk/provider-utils\";\nimport { z as z8 } from \"zod/v4\";\nvar uiMessagesSchema = lazyValidator2(\n  () => zodSchema2(\n    z8.array(\n      z8.object({\n        id: z8.string(),\n        role: z8.enum([\"system\", \"user\", \"assistant\"]),\n        metadata: z8.unknown().optional(),\n        parts: z8.array(\n          z8.union([\n            z8.object({\n              type: z8.literal(\"text\"),\n              text: z8.string(),\n              state: z8.enum([\"streaming\", \"done\"]).optional(),\n              providerMetadata: providerMetadataSchema.optional()\n            }),\n            z8.object({\n              type: z8.literal(\"reasoning\"),\n              text: z8.string(),\n              state: z8.enum([\"streaming\", \"done\"]).optional(),\n              providerMetadata: providerMetadataSchema.optional()\n            }),\n            z8.object({\n              type: z8.literal(\"source-url\"),\n              sourceId: z8.string(),\n              url: z8.string(),\n              title: z8.string().optional(),\n              providerMetadata: providerMetadataSchema.optional()\n            }),\n            z8.object({\n              type: z8.literal(\"source-document\"),\n              sourceId: z8.string(),\n              mediaType: z8.string(),\n              title: z8.string(),\n              filename: z8.string().optional(),\n              providerMetadata: providerMetadataSchema.optional()\n            }),\n            z8.object({\n              type: z8.literal(\"file\"),\n              mediaType: z8.string(),\n              filename: z8.string().optional(),\n              url: z8.string(),\n              providerMetadata: providerMetadataSchema.optional()\n            }),\n            z8.object({\n              type: z8.literal(\"step-start\")\n            }),\n            z8.object({\n              type: z8.string().startsWith(\"data-\"),\n              id: z8.string().optional(),\n              data: z8.unknown()\n            }),\n            z8.object({\n              type: z8.literal(\"dynamic-tool\"),\n              toolName: z8.string(),\n              toolCallId: z8.string(),\n              state: z8.literal(\"input-streaming\"),\n              input: z8.unknown().optional(),\n              providerExecuted: z8.boolean().optional(),\n              output: z8.never().optional(),\n              errorText: z8.never().optional()\n            }),\n            z8.object({\n              type: z8.literal(\"dynamic-tool\"),\n              toolName: z8.string(),\n              toolCallId: z8.string(),\n              state: z8.literal(\"input-available\"),\n              input: z8.unknown(),\n              providerExecuted: z8.boolean().optional(),\n              output: z8.never().optional(),\n              errorText: z8.never().optional(),\n              callProviderMetadata: providerMetadataSchema.optional()\n            }),\n            z8.object({\n              type: z8.literal(\"dynamic-tool\"),\n              toolName: z8.string(),\n              toolCallId: z8.string(),\n              state: z8.literal(\"output-available\"),\n              input: z8.unknown(),\n              providerExecuted: z8.boolean().optional(),\n              output: z8.unknown(),\n              errorText: z8.never().optional(),\n              callProviderMetadata: providerMetadataSchema.optional(),\n              preliminary: z8.boolean().optional()\n            }),\n            z8.object({\n              type: z8.literal(\"dynamic-tool\"),\n              toolName: z8.string(),\n              toolCallId: z8.string(),\n              state: z8.literal(\"output-error\"),\n              input: z8.unknown(),\n              providerExecuted: z8.boolean().optional(),\n              output: z8.never().optional(),\n              errorText: z8.string(),\n              callProviderMetadata: providerMetadataSchema.optional()\n            }),\n            z8.object({\n              type: z8.string().startsWith(\"tool-\"),\n              toolCallId: z8.string(),\n              state: z8.literal(\"input-streaming\"),\n              providerExecuted: z8.boolean().optional(),\n              input: z8.unknown().optional(),\n              output: z8.never().optional(),\n              errorText: z8.never().optional(),\n              approval: z8.never().optional()\n            }),\n            z8.object({\n              type: z8.string().startsWith(\"tool-\"),\n              toolCallId: z8.string(),\n              state: z8.literal(\"input-available\"),\n              providerExecuted: z8.boolean().optional(),\n              input: z8.unknown(),\n              output: z8.never().optional(),\n              errorText: z8.never().optional(),\n              callProviderMetadata: providerMetadataSchema.optional(),\n              approval: z8.never().optional()\n            }),\n            z8.object({\n              type: z8.string().startsWith(\"tool-\"),\n              toolCallId: z8.string(),\n              state: z8.literal(\"approval-requested\"),\n              input: z8.unknown(),\n              providerExecuted: z8.boolean().optional(),\n              output: z8.never().optional(),\n              errorText: z8.never().optional(),\n              callProviderMetadata: providerMetadataSchema.optional(),\n              approval: z8.object({\n                id: z8.string(),\n                approved: z8.never().optional(),\n                reason: z8.never().optional()\n              })\n            }),\n            z8.object({\n              type: z8.string().startsWith(\"tool-\"),\n              toolCallId: z8.string(),\n              state: z8.literal(\"approval-responded\"),\n              input: z8.unknown(),\n              providerExecuted: z8.boolean().optional(),\n              output: z8.never().optional(),\n              errorText: z8.never().optional(),\n              callProviderMetadata: providerMetadataSchema.optional(),\n              approval: z8.object({\n                id: z8.string(),\n                approved: z8.boolean(),\n                reason: z8.string().optional()\n              })\n            }),\n            z8.object({\n              type: z8.string().startsWith(\"tool-\"),\n              toolCallId: z8.string(),\n              state: z8.literal(\"output-available\"),\n              providerExecuted: z8.boolean().optional(),\n              input: z8.unknown(),\n              output: z8.unknown(),\n              errorText: z8.never().optional(),\n              callProviderMetadata: providerMetadataSchema.optional(),\n              preliminary: z8.boolean().optional(),\n              approval: z8.object({\n                id: z8.string(),\n                approved: z8.literal(true),\n                reason: z8.string().optional()\n              }).optional()\n            }),\n            z8.object({\n              type: z8.string().startsWith(\"tool-\"),\n              toolCallId: z8.string(),\n              state: z8.literal(\"output-error\"),\n              providerExecuted: z8.boolean().optional(),\n              input: z8.unknown(),\n              output: z8.never().optional(),\n              errorText: z8.string(),\n              callProviderMetadata: providerMetadataSchema.optional(),\n              approval: z8.object({\n                id: z8.string(),\n                approved: z8.literal(true),\n                reason: z8.string().optional()\n              }).optional()\n            }),\n            z8.object({\n              type: z8.string().startsWith(\"tool-\"),\n              toolCallId: z8.string(),\n              state: z8.literal(\"output-denied\"),\n              providerExecuted: z8.boolean().optional(),\n              input: z8.unknown(),\n              output: z8.never().optional(),\n              errorText: z8.never().optional(),\n              callProviderMetadata: providerMetadataSchema.optional(),\n              approval: z8.object({\n                id: z8.string(),\n                approved: z8.literal(false),\n                reason: z8.string().optional()\n              })\n            })\n          ])\n        ).nonempty(\"Message must contain at least one part\")\n      })\n    ).nonempty(\"Messages array must not be empty\")\n  )\n);\nasync function safeValidateUIMessages({\n  messages,\n  metadataSchema,\n  dataSchemas,\n  tools\n}) {\n  try {\n    if (messages == null) {\n      return {\n        success: false,\n        error: new InvalidArgumentError({\n          parameter: \"messages\",\n          value: messages,\n          message: \"messages parameter must be provided\"\n        })\n      };\n    }\n    const validatedMessages = await validateTypes2({\n      value: messages,\n      schema: uiMessagesSchema\n    });\n    if (metadataSchema) {\n      for (const message of validatedMessages) {\n        await validateTypes2({\n          value: message.metadata,\n          schema: metadataSchema\n        });\n      }\n    }\n    if (dataSchemas) {\n      for (const message of validatedMessages) {\n        const dataParts = message.parts.filter(\n          (part) => part.type.startsWith(\"data-\")\n        );\n        for (const dataPart of dataParts) {\n          const dataName = dataPart.type.slice(5);\n          const dataSchema = dataSchemas[dataName];\n          if (!dataSchema) {\n            return {\n              success: false,\n              error: new TypeValidationError4({\n                value: dataPart.data,\n                cause: `No data schema found for data part ${dataName}`\n              })\n            };\n          }\n          await validateTypes2({\n            value: dataPart.data,\n            schema: dataSchema\n          });\n        }\n      }\n    }\n    if (tools) {\n      for (const message of validatedMessages) {\n        const toolParts = message.parts.filter(\n          (part) => part.type.startsWith(\"tool-\")\n        );\n        for (const toolPart of toolParts) {\n          const toolName = toolPart.type.slice(5);\n          const tool2 = tools[toolName];\n          if (!tool2) {\n            return {\n              success: false,\n              error: new TypeValidationError4({\n                value: toolPart.input,\n                cause: `No tool schema found for tool part ${toolName}`\n              })\n            };\n          }\n          if (toolPart.state === \"input-available\" || toolPart.state === \"output-available\" || toolPart.state === \"output-error\") {\n            await validateTypes2({\n              value: toolPart.input,\n              schema: tool2.inputSchema\n            });\n          }\n          if (toolPart.state === \"output-available\" && tool2.outputSchema) {\n            await validateTypes2({\n              value: toolPart.output,\n              schema: tool2.outputSchema\n            });\n          }\n        }\n      }\n    }\n    return {\n      success: true,\n      data: validatedMessages\n    };\n  } catch (error) {\n    const err = error;\n    return {\n      success: false,\n      error: err\n    };\n  }\n}\nasync function validateUIMessages({\n  messages,\n  metadataSchema,\n  dataSchemas,\n  tools\n}) {\n  const response = await safeValidateUIMessages({\n    messages,\n    metadataSchema,\n    dataSchemas,\n    tools\n  });\n  if (!response.success)\n    throw response.error;\n  return response.data;\n}\n\n// src/ui-message-stream/create-ui-message-stream.ts\nimport {\n  generateId as generateIdFunc2,\n  getErrorMessage as getErrorMessage8\n} from \"@ai-sdk/provider-utils\";\nfunction createUIMessageStream({\n  execute,\n  onError = getErrorMessage8,\n  originalMessages,\n  onFinish,\n  generateId: generateId3 = generateIdFunc2\n}) {\n  let controller;\n  const ongoingStreamPromises = [];\n  const stream = new ReadableStream({\n    start(controllerArg) {\n      controller = controllerArg;\n    }\n  });\n  function safeEnqueue(data) {\n    try {\n      controller.enqueue(data);\n    } catch (error) {\n    }\n  }\n  try {\n    const result = execute({\n      writer: {\n        write(part) {\n          safeEnqueue(part);\n        },\n        merge(streamArg) {\n          ongoingStreamPromises.push(\n            (async () => {\n              const reader = streamArg.getReader();\n              while (true) {\n                const { done, value } = await reader.read();\n                if (done)\n                  break;\n                safeEnqueue(value);\n              }\n            })().catch((error) => {\n              safeEnqueue({\n                type: \"error\",\n                errorText: onError(error)\n              });\n            })\n          );\n        },\n        onError\n      }\n    });\n    if (result) {\n      ongoingStreamPromises.push(\n        result.catch((error) => {\n          safeEnqueue({\n            type: \"error\",\n            errorText: onError(error)\n          });\n        })\n      );\n    }\n  } catch (error) {\n    safeEnqueue({\n      type: \"error\",\n      errorText: onError(error)\n    });\n  }\n  const waitForStreams = new Promise(async (resolve2) => {\n    while (ongoingStreamPromises.length > 0) {\n      await ongoingStreamPromises.shift();\n    }\n    resolve2();\n  });\n  waitForStreams.finally(() => {\n    try {\n      controller.close();\n    } catch (error) {\n    }\n  });\n  return handleUIMessageStreamFinish({\n    stream,\n    messageId: generateId3(),\n    originalMessages,\n    onFinish,\n    onError\n  });\n}\n\n// src/ui-message-stream/read-ui-message-stream.ts\nfunction readUIMessageStream({\n  message,\n  stream,\n  onError,\n  terminateOnError = false\n}) {\n  var _a16;\n  let controller;\n  let hasErrored = false;\n  const outputStream = new ReadableStream({\n    start(controllerParam) {\n      controller = controllerParam;\n    }\n  });\n  const state = createStreamingUIMessageState({\n    messageId: (_a16 = message == null ? void 0 : message.id) != null ? _a16 : \"\",\n    lastMessage: message\n  });\n  const handleError = (error) => {\n    onError == null ? void 0 : onError(error);\n    if (!hasErrored && terminateOnError) {\n      hasErrored = true;\n      controller == null ? void 0 : controller.error(error);\n    }\n  };\n  consumeStream({\n    stream: processUIMessageStream({\n      stream,\n      runUpdateMessageJob(job) {\n        return job({\n          state,\n          write: () => {\n            controller == null ? void 0 : controller.enqueue(structuredClone(state.message));\n          }\n        });\n      },\n      onError: handleError\n    }),\n    onError: handleError\n  }).finally(() => {\n    if (!hasErrored) {\n      controller == null ? void 0 : controller.close();\n    }\n  });\n  return createAsyncIterableStream(outputStream);\n}\nexport {\n  AISDKError17 as AISDKError,\n  APICallError,\n  AbstractChat,\n  DefaultChatTransport,\n  DownloadError,\n  EmptyResponseBodyError,\n  Agent as Experimental_Agent,\n  HttpChatTransport,\n  InvalidArgumentError,\n  InvalidDataContentError,\n  InvalidMessageRoleError,\n  InvalidPromptError,\n  InvalidResponseDataError,\n  InvalidStreamPartError,\n  InvalidToolInputError,\n  JSONParseError,\n  JsonToSseTransformStream,\n  LoadAPIKeyError,\n  LoadSettingError,\n  MessageConversionError,\n  NoContentGeneratedError,\n  NoImageGeneratedError,\n  NoObjectGeneratedError,\n  NoOutputGeneratedError,\n  NoOutputSpecifiedError,\n  NoSpeechGeneratedError,\n  NoSuchModelError,\n  NoSuchProviderError,\n  NoSuchToolError,\n  output_exports as Output,\n  RetryError,\n  SerialJobExecutor,\n  TextStreamChatTransport,\n  TooManyEmbeddingValuesForCallError,\n  ToolCallRepairError,\n  TypeValidationError,\n  UI_MESSAGE_STREAM_HEADERS,\n  UnsupportedFunctionalityError,\n  UnsupportedModelVersionError,\n  asSchema5 as asSchema,\n  assistantModelMessageSchema,\n  callCompletionApi,\n  consumeStream,\n  convertFileListToFileUIParts,\n  convertToCoreMessages,\n  convertToModelMessages,\n  coreAssistantMessageSchema,\n  coreMessageSchema,\n  coreSystemMessageSchema,\n  coreToolMessageSchema,\n  coreUserMessageSchema,\n  cosineSimilarity,\n  createGateway,\n  createIdGenerator5 as createIdGenerator,\n  createProviderRegistry,\n  createTextStreamResponse,\n  createUIMessageStream,\n  createUIMessageStreamResponse,\n  customProvider,\n  defaultSettingsMiddleware,\n  dynamicTool,\n  embed,\n  embedMany,\n  experimental_createProviderRegistry,\n  experimental_customProvider,\n  generateImage as experimental_generateImage,\n  generateSpeech as experimental_generateSpeech,\n  transcribe as experimental_transcribe,\n  extractReasoningMiddleware,\n  gateway2 as gateway,\n  generateId2 as generateId,\n  generateObject,\n  generateText,\n  getTextFromDataUrl,\n  getToolName,\n  getToolOrDynamicToolName,\n  hasToolCall,\n  isDataUIPart,\n  isDeepEqualData,\n  isFileUIPart,\n  isReasoningUIPart,\n  isTextUIPart,\n  isToolOrDynamicToolUIPart,\n  isToolUIPart,\n  jsonSchema,\n  lastAssistantMessageIsCompleteWithToolCalls,\n  modelMessageSchema,\n  parseJsonEventStream3 as parseJsonEventStream,\n  parsePartialJson,\n  pipeTextStreamToResponse,\n  pipeUIMessageStreamToResponse,\n  pruneMessages,\n  readUIMessageStream,\n  safeValidateUIMessages,\n  simulateReadableStream,\n  simulateStreamingMiddleware,\n  smoothStream,\n  stepCountIs,\n  streamObject,\n  streamText,\n  systemModelMessageSchema,\n  tool,\n  toolModelMessageSchema,\n  uiMessageChunkSchema,\n  userModelMessageSchema,\n  validateUIMessages,\n  wrapLanguageModel,\n  wrapProvider,\n  zodSchema3 as zodSchema\n};\n//# sourceMappingURL=index.mjs.map"],"names":[],"mappings":"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","ignoreList":[0,1]}