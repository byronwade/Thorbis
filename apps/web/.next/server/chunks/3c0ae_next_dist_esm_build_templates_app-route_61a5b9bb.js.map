{"version":3,"sources":["../../../../../node_modules/.pnpm/next%4016.0.4_%40opentelemetry%2Bapi%401.9.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/dist/esm/build/templates/app-route.js","../../../../../apps/web/src/app/api/ai/extract-call-data/route.ts","../../../../../node_modules/.pnpm/%40ai-sdk%2Bgroq%402.0.29_zod%404.1.12/node_modules/%40ai-sdk/groq/dist/index.mjs","../../../../../apps/web/src/lib/ai/extraction-prompts.ts"],"sourcesContent":["import { AppRouteRouteModule } from \"next/dist/esm/server/route-modules/app-route/module.compiled\";\nimport { RouteKind } from \"next/dist/esm/server/route-kind\";\nimport { patchFetch as _patchFetch } from \"next/dist/esm/server/lib/patch-fetch\";\nimport { addRequestMeta, getRequestMeta } from \"next/dist/esm/server/request-meta\";\nimport { getTracer, SpanKind } from \"next/dist/esm/server/lib/trace/tracer\";\nimport { setReferenceManifestsSingleton } from \"next/dist/esm/server/app-render/encryption-utils\";\nimport { createServerModuleMap } from \"next/dist/esm/server/app-render/action-utils\";\nimport { normalizeAppPath } from \"next/dist/esm/shared/lib/router/utils/app-paths\";\nimport { NodeNextRequest, NodeNextResponse } from \"next/dist/esm/server/base-http/node\";\nimport { NextRequestAdapter, signalFromNodeResponse } from \"next/dist/esm/server/web/spec-extension/adapters/next-request\";\nimport { BaseServerSpan } from \"next/dist/esm/server/lib/trace/constants\";\nimport { getRevalidateReason } from \"next/dist/esm/server/instrumentation/utils\";\nimport { sendResponse } from \"next/dist/esm/server/send-response\";\nimport { fromNodeOutgoingHttpHeaders, toNodeOutgoingHttpHeaders } from \"next/dist/esm/server/web/utils\";\nimport { getCacheControlHeader } from \"next/dist/esm/server/lib/cache-control\";\nimport { INFINITE_CACHE, NEXT_CACHE_TAGS_HEADER } from \"next/dist/esm/lib/constants\";\nimport { NoFallbackError } from \"next/dist/esm/shared/lib/no-fallback-error.external\";\nimport { CachedRouteKind } from \"next/dist/esm/server/response-cache\";\nimport * as userland from \"INNER_APP_ROUTE\";\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new AppRouteRouteModule({\n    definition: {\n        kind: RouteKind.APP_ROUTE,\n        page: \"/api/ai/extract-call-data/route\",\n        pathname: \"/api/ai/extract-call-data\",\n        filename: \"route\",\n        bundlePath: \"\"\n    },\n    distDir: process.env.__NEXT_RELATIVE_DIST_DIR || '',\n    relativeProjectDir: process.env.__NEXT_RELATIVE_PROJECT_DIR || '',\n    resolvedPagePath: \"[project]/apps/web/src/app/api/ai/extract-call-data/route.ts\",\n    nextConfigOutput,\n    userland\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return _patchFetch({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\nexport { routeModule, workAsyncStorage, workUnitAsyncStorage, serverHooks, patchFetch,  };\nexport async function handler(req, res, ctx) {\n    if (routeModule.isDev) {\n        addRequestMeta(req, 'devRequestTimingInternalsEnd', process.hrtime.bigint());\n    }\n    let srcPage = \"/api/ai/extract-call-data/route\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (process.env.TURBOPACK) {\n        srcPage = srcPage.replace(/\\/index$/, '') || '/';\n    } else if (srcPage === '/index') {\n        // we always normalize /index specifically\n        srcPage = '/';\n    }\n    const multiZoneDraftMode = process.env.__NEXT_MULTI_ZONE_DRAFT_MODE;\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage,\n        multiZoneDraftMode\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return null;\n    }\n    const { buildId, params, nextConfig, parsedUrl, isDraftMode, prerenderManifest, routerServerContext, isOnDemandRevalidate, revalidateOnlyGenerated, resolvedPathname, clientReferenceManifest, serverActionsManifest } = prepareResult;\n    const normalizedSrcPage = normalizeAppPath(srcPage);\n    let isIsr = Boolean(prerenderManifest.dynamicRoutes[normalizedSrcPage] || prerenderManifest.routes[resolvedPathname]);\n    const render404 = async ()=>{\n        // TODO: should route-module itself handle rendering the 404\n        if (routerServerContext == null ? void 0 : routerServerContext.render404) {\n            await routerServerContext.render404(req, res, parsedUrl, false);\n        } else {\n            res.end('This page could not be found');\n        }\n        return null;\n    };\n    if (isIsr && !isDraftMode) {\n        const isPrerendered = Boolean(prerenderManifest.routes[resolvedPathname]);\n        const prerenderInfo = prerenderManifest.dynamicRoutes[normalizedSrcPage];\n        if (prerenderInfo) {\n            if (prerenderInfo.fallback === false && !isPrerendered) {\n                if (nextConfig.experimental.adapterPath) {\n                    return await render404();\n                }\n                throw new NoFallbackError();\n            }\n        }\n    }\n    let cacheKey = null;\n    if (isIsr && !routeModule.isDev && !isDraftMode) {\n        cacheKey = resolvedPathname;\n        // ensure /index and / is normalized to one key\n        cacheKey = cacheKey === '/index' ? '/' : cacheKey;\n    }\n    const supportsDynamicResponse = // If we're in development, we always support dynamic HTML\n    routeModule.isDev === true || // If this is not SSG or does not have static paths, then it supports\n    // dynamic HTML.\n    !isIsr;\n    // This is a revalidation request if the request is for a static\n    // page and it is not being resumed from a postponed render and\n    // it is not a dynamic RSC request then it is a revalidation\n    // request.\n    const isStaticGeneration = isIsr && !supportsDynamicResponse;\n    // Before rendering (which initializes component tree modules), we have to\n    // set the reference manifests to our global store so Server Action's\n    // encryption util can access to them at the top level of the page module.\n    if (serverActionsManifest && clientReferenceManifest) {\n        setReferenceManifestsSingleton({\n            page: srcPage,\n            clientReferenceManifest,\n            serverActionsManifest,\n            serverModuleMap: createServerModuleMap({\n                serverActionsManifest\n            })\n        });\n    }\n    const method = req.method || 'GET';\n    const tracer = getTracer();\n    const activeSpan = tracer.getActiveScopeSpan();\n    const context = {\n        params,\n        prerenderManifest,\n        renderOpts: {\n            experimental: {\n                authInterrupts: Boolean(nextConfig.experimental.authInterrupts)\n            },\n            cacheComponents: Boolean(nextConfig.cacheComponents),\n            supportsDynamicResponse,\n            incrementalCache: getRequestMeta(req, 'incrementalCache'),\n            cacheLifeProfiles: nextConfig.cacheLife,\n            waitUntil: ctx.waitUntil,\n            onClose: (cb)=>{\n                res.on('close', cb);\n            },\n            onAfterTaskError: undefined,\n            onInstrumentationRequestError: (error, _request, errorContext)=>routeModule.onRequestError(req, error, errorContext, routerServerContext)\n        },\n        sharedContext: {\n            buildId\n        }\n    };\n    const nodeNextReq = new NodeNextRequest(req);\n    const nodeNextRes = new NodeNextResponse(res);\n    const nextReq = NextRequestAdapter.fromNodeNextRequest(nodeNextReq, signalFromNodeResponse(res));\n    try {\n        const invokeRouteModule = async (span)=>{\n            return routeModule.handle(nextReq, context).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${srcPage}`);\n                }\n            });\n        };\n        const isMinimalMode = Boolean(process.env.MINIMAL_MODE || getRequestMeta(req, 'minimalMode'));\n        const handleResponse = async (currentSpan)=>{\n            var _cacheEntry_value;\n            const responseGenerator = async ({ previousCacheEntry })=>{\n                try {\n                    if (!isMinimalMode && isOnDemandRevalidate && revalidateOnlyGenerated && !previousCacheEntry) {\n                        res.statusCode = 404;\n                        // on-demand revalidate always sets this header\n                        res.setHeader('x-nextjs-cache', 'REVALIDATED');\n                        res.end('This page could not be found');\n                        return null;\n                    }\n                    const response = await invokeRouteModule(currentSpan);\n                    req.fetchMetrics = context.renderOpts.fetchMetrics;\n                    let pendingWaitUntil = context.renderOpts.pendingWaitUntil;\n                    // Attempt using provided waitUntil if available\n                    // if it's not we fallback to sendResponse's handling\n                    if (pendingWaitUntil) {\n                        if (ctx.waitUntil) {\n                            ctx.waitUntil(pendingWaitUntil);\n                            pendingWaitUntil = undefined;\n                        }\n                    }\n                    const cacheTags = context.renderOpts.collectedTags;\n                    // If the request is for a static response, we can cache it so long\n                    // as it's not edge.\n                    if (isIsr) {\n                        const blob = await response.blob();\n                        // Copy the headers from the response.\n                        const headers = toNodeOutgoingHttpHeaders(response.headers);\n                        if (cacheTags) {\n                            headers[NEXT_CACHE_TAGS_HEADER] = cacheTags;\n                        }\n                        if (!headers['content-type'] && blob.type) {\n                            headers['content-type'] = blob.type;\n                        }\n                        const revalidate = typeof context.renderOpts.collectedRevalidate === 'undefined' || context.renderOpts.collectedRevalidate >= INFINITE_CACHE ? false : context.renderOpts.collectedRevalidate;\n                        const expire = typeof context.renderOpts.collectedExpire === 'undefined' || context.renderOpts.collectedExpire >= INFINITE_CACHE ? undefined : context.renderOpts.collectedExpire;\n                        // Create the cache entry for the response.\n                        const cacheEntry = {\n                            value: {\n                                kind: CachedRouteKind.APP_ROUTE,\n                                status: response.status,\n                                body: Buffer.from(await blob.arrayBuffer()),\n                                headers\n                            },\n                            cacheControl: {\n                                revalidate,\n                                expire\n                            }\n                        };\n                        return cacheEntry;\n                    } else {\n                        // send response without caching if not ISR\n                        await sendResponse(nodeNextReq, nodeNextRes, response, context.renderOpts.pendingWaitUntil);\n                        return null;\n                    }\n                } catch (err) {\n                    // if this is a background revalidate we need to report\n                    // the request error here as it won't be bubbled\n                    if (previousCacheEntry == null ? void 0 : previousCacheEntry.isStale) {\n                        await routeModule.onRequestError(req, err, {\n                            routerKind: 'App Router',\n                            routePath: srcPage,\n                            routeType: 'route',\n                            revalidateReason: getRevalidateReason({\n                                isStaticGeneration,\n                                isOnDemandRevalidate\n                            })\n                        }, routerServerContext);\n                    }\n                    throw err;\n                }\n            };\n            const cacheEntry = await routeModule.handleResponse({\n                req,\n                nextConfig,\n                cacheKey,\n                routeKind: RouteKind.APP_ROUTE,\n                isFallback: false,\n                prerenderManifest,\n                isRoutePPREnabled: false,\n                isOnDemandRevalidate,\n                revalidateOnlyGenerated,\n                responseGenerator,\n                waitUntil: ctx.waitUntil,\n                isMinimalMode\n            });\n            // we don't create a cacheEntry for ISR\n            if (!isIsr) {\n                return null;\n            }\n            if ((cacheEntry == null ? void 0 : (_cacheEntry_value = cacheEntry.value) == null ? void 0 : _cacheEntry_value.kind) !== CachedRouteKind.APP_ROUTE) {\n                var _cacheEntry_value1;\n                throw Object.defineProperty(new Error(`Invariant: app-route received invalid cache entry ${cacheEntry == null ? void 0 : (_cacheEntry_value1 = cacheEntry.value) == null ? void 0 : _cacheEntry_value1.kind}`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E701\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n            if (!isMinimalMode) {\n                res.setHeader('x-nextjs-cache', isOnDemandRevalidate ? 'REVALIDATED' : cacheEntry.isMiss ? 'MISS' : cacheEntry.isStale ? 'STALE' : 'HIT');\n            }\n            // Draft mode should never be cached\n            if (isDraftMode) {\n                res.setHeader('Cache-Control', 'private, no-cache, no-store, max-age=0, must-revalidate');\n            }\n            const headers = fromNodeOutgoingHttpHeaders(cacheEntry.value.headers);\n            if (!(isMinimalMode && isIsr)) {\n                headers.delete(NEXT_CACHE_TAGS_HEADER);\n            }\n            // If cache control is already set on the response we don't\n            // override it to allow users to customize it via next.config\n            if (cacheEntry.cacheControl && !res.getHeader('Cache-Control') && !headers.get('Cache-Control')) {\n                headers.set('Cache-Control', getCacheControlHeader(cacheEntry.cacheControl));\n            }\n            await sendResponse(nodeNextReq, nodeNextRes, // @ts-expect-error - Argument of type 'Buffer<ArrayBufferLike>' is not assignable to parameter of type 'BodyInit | null | undefined'.\n            new Response(cacheEntry.value.body, {\n                headers,\n                status: cacheEntry.value.status || 200\n            }));\n            return null;\n        };\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await handleResponse(activeSpan);\n        } else {\n            await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${srcPage}`,\n                    kind: SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, handleResponse));\n        }\n    } catch (err) {\n        if (!(err instanceof NoFallbackError)) {\n            await routeModule.onRequestError(req, err, {\n                routerKind: 'App Router',\n                routePath: normalizedSrcPage,\n                routeType: 'route',\n                revalidateReason: getRevalidateReason({\n                    isStaticGeneration,\n                    isOnDemandRevalidate\n                })\n            });\n        }\n        // rethrow so that we can handle serving error page\n        // If this is during static generation, throw the error again.\n        if (isIsr) throw err;\n        // Otherwise, send a 500 response.\n        await sendResponse(nodeNextReq, nodeNextRes, new Response(null, {\n            status: 500\n        }));\n        return null;\n    }\n}\n\n//# sourceMappingURL=app-route.js.map\n","/**\n * AI Extraction API Route\n *\n * Streams AI-extracted data from call transcripts using Vercel AI SDK\n * Supports multiple providers: Groq (fast/cheap), Google Gemini (primary)\n */\n\nimport { createGoogleGenerativeAI } from \"@ai-sdk/google\";\nimport { createGroq } from \"@ai-sdk/groq\";\nimport { streamText } from \"ai\";\nimport { NextResponse } from \"next/server\";\nimport {\n\tEXTRACTION_PROMPT,\n\tformatTranscriptForExtraction,\n\tSYSTEM_PROMPT,\n\tUPDATE_PROMPT,\n} from \"@/lib/ai/extraction-prompts\";\n\n// Initialize AI providers\nconst groq = process.env.GROQ_API_KEY\n\t? createGroq({ apiKey: process.env.GROQ_API_KEY })\n\t: null;\nconst googleAI = process.env.GOOGLE_GENERATIVE_AI_API_KEY\n\t? createGoogleGenerativeAI({ apiKey: process.env.GOOGLE_GENERATIVE_AI_API_KEY })\n\t: null;\n\n// Choose provider based on availability (prefer Groq for speed/cost, then Google)\nfunction getModel() {\n\tif (groq) {\n\t\treturn groq(\"llama-3.3-70b-versatile\"); // Fast and cost-effective\n\t}\n\tif (googleAI) {\n\t\treturn googleAI(\"gemini-2.0-flash-exp\"); // Primary provider\n\t}\n\tthrow new Error(\n\t\t\"No AI provider configured. Please set GROQ_API_KEY or GOOGLE_GENERATIVE_AI_API_KEY\",\n\t);\n}\n\nexport async function POST(req: Request) {\n\ttry {\n\t\tconst body = await req.json();\n\t\tconst { transcript, previousExtraction, mode = \"full\" } = body;\n\n\t\tif (!(transcript && Array.isArray(transcript))) {\n\t\t\treturn NextResponse.json(\n\t\t\t\t{ error: \"Invalid transcript format\" },\n\t\t\t\t{ status: 400 },\n\t\t\t);\n\t\t}\n\n\t\t// Format transcript\n\t\tconst formattedTranscript = formatTranscriptForExtraction(transcript);\n\n\t\t// Choose prompt based on mode\n\t\tlet prompt: string;\n\t\tif (mode === \"update\" && previousExtraction) {\n\t\t\tprompt = UPDATE_PROMPT.replace(\n\t\t\t\t\"{previousExtraction}\",\n\t\t\t\tJSON.stringify(previousExtraction),\n\t\t\t).replace(\"{newTranscript}\", formattedTranscript);\n\t\t} else {\n\t\t\tprompt = EXTRACTION_PROMPT.replace(\"{transcript}\", formattedTranscript);\n\t\t}\n\n\t\t// Stream extraction\n\t\tconst result = streamText({\n\t\t\tmodel: getModel(),\n\t\t\tsystem: SYSTEM_PROMPT,\n\t\t\tprompt,\n\t\t\ttemperature: 0.3, // Lower temperature for more consistent extraction\n\t\t});\n\n\t\t// Return streaming response\n\t\treturn result.toTextStreamResponse();\n\t} catch (error) {\n\t\treturn NextResponse.json(\n\t\t\t{\n\t\t\t\terror: \"Failed to extract data\",\n\t\t\t\tdetails: error instanceof Error ? error.message : \"Unknown error\",\n\t\t\t},\n\t\t\t{ status: 500 },\n\t\t);\n\t}\n}\n\n// Health check endpoint\nexport async function GET() {\n\tconst hasGroq = !!process.env.GROQ_API_KEY;\n\tconst hasGoogle = !!process.env.GOOGLE_GENERATIVE_AI_API_KEY;\n\n\treturn NextResponse.json({\n\t\tstatus: \"ok\",\n\t\tproviders: {\n\t\t\tgroq: hasGroq,\n\t\t\tgoogle: hasGoogle,\n\t\t},\n\t\tactiveProvider: hasGroq ? \"groq\" : hasGoogle ? \"google\" : \"none\",\n\t});\n}\n","// src/groq-provider.ts\nimport {\n  NoSuchModelError\n} from \"@ai-sdk/provider\";\nimport {\n  loadApiKey,\n  withoutTrailingSlash,\n  withUserAgentSuffix\n} from \"@ai-sdk/provider-utils\";\n\n// src/groq-chat-language-model.ts\nimport {\n  InvalidResponseDataError\n} from \"@ai-sdk/provider\";\nimport {\n  combineHeaders,\n  createEventSourceResponseHandler,\n  createJsonResponseHandler,\n  generateId,\n  isParsableJson,\n  parseProviderOptions,\n  postJsonToApi\n} from \"@ai-sdk/provider-utils\";\nimport { z as z3 } from \"zod/v4\";\n\n// src/convert-to-groq-chat-messages.ts\nimport {\n  UnsupportedFunctionalityError\n} from \"@ai-sdk/provider\";\nimport { convertToBase64 } from \"@ai-sdk/provider-utils\";\nfunction convertToGroqChatMessages(prompt) {\n  const messages = [];\n  for (const { role, content } of prompt) {\n    switch (role) {\n      case \"system\": {\n        messages.push({ role: \"system\", content });\n        break;\n      }\n      case \"user\": {\n        if (content.length === 1 && content[0].type === \"text\") {\n          messages.push({ role: \"user\", content: content[0].text });\n          break;\n        }\n        messages.push({\n          role: \"user\",\n          content: content.map((part) => {\n            switch (part.type) {\n              case \"text\": {\n                return { type: \"text\", text: part.text };\n              }\n              case \"file\": {\n                if (!part.mediaType.startsWith(\"image/\")) {\n                  throw new UnsupportedFunctionalityError({\n                    functionality: \"Non-image file content parts\"\n                  });\n                }\n                const mediaType = part.mediaType === \"image/*\" ? \"image/jpeg\" : part.mediaType;\n                return {\n                  type: \"image_url\",\n                  image_url: {\n                    url: part.data instanceof URL ? part.data.toString() : `data:${mediaType};base64,${convertToBase64(part.data)}`\n                  }\n                };\n              }\n            }\n          })\n        });\n        break;\n      }\n      case \"assistant\": {\n        let text = \"\";\n        let reasoning = \"\";\n        const toolCalls = [];\n        for (const part of content) {\n          switch (part.type) {\n            // groq supports reasoning for tool-calls in multi-turn conversations\n            // https://github.com/vercel/ai/issues/7860\n            case \"reasoning\": {\n              reasoning += part.text;\n              break;\n            }\n            case \"text\": {\n              text += part.text;\n              break;\n            }\n            case \"tool-call\": {\n              toolCalls.push({\n                id: part.toolCallId,\n                type: \"function\",\n                function: {\n                  name: part.toolName,\n                  arguments: JSON.stringify(part.input)\n                }\n              });\n              break;\n            }\n          }\n        }\n        messages.push({\n          role: \"assistant\",\n          content: text,\n          ...reasoning.length > 0 ? { reasoning } : null,\n          ...toolCalls.length > 0 ? { tool_calls: toolCalls } : null\n        });\n        break;\n      }\n      case \"tool\": {\n        for (const toolResponse of content) {\n          const output = toolResponse.output;\n          let contentValue;\n          switch (output.type) {\n            case \"text\":\n            case \"error-text\":\n              contentValue = output.value;\n              break;\n            case \"content\":\n            case \"json\":\n            case \"error-json\":\n              contentValue = JSON.stringify(output.value);\n              break;\n          }\n          messages.push({\n            role: \"tool\",\n            tool_call_id: toolResponse.toolCallId,\n            content: contentValue\n          });\n        }\n        break;\n      }\n      default: {\n        const _exhaustiveCheck = role;\n        throw new Error(`Unsupported role: ${_exhaustiveCheck}`);\n      }\n    }\n  }\n  return messages;\n}\n\n// src/get-response-metadata.ts\nfunction getResponseMetadata({\n  id,\n  model,\n  created\n}) {\n  return {\n    id: id != null ? id : void 0,\n    modelId: model != null ? model : void 0,\n    timestamp: created != null ? new Date(created * 1e3) : void 0\n  };\n}\n\n// src/groq-chat-options.ts\nimport { z } from \"zod/v4\";\nvar groqProviderOptions = z.object({\n  reasoningFormat: z.enum([\"parsed\", \"raw\", \"hidden\"]).optional(),\n  reasoningEffort: z.string().optional(),\n  /**\n   * Whether to enable parallel function calling during tool use. Default to true.\n   */\n  parallelToolCalls: z.boolean().optional(),\n  /**\n   * A unique identifier representing your end-user, which can help OpenAI to\n   * monitor and detect abuse. Learn more.\n   */\n  user: z.string().optional(),\n  /**\n   * Whether to use structured outputs.\n   *\n   * @default true\n   */\n  structuredOutputs: z.boolean().optional(),\n  /**\n   * Service tier for the request.\n   * - 'on_demand': Default tier with consistent performance and fairness\n   * - 'flex': Higher throughput tier optimized for workloads that can handle occasional request failures\n   * - 'auto': Uses on_demand rate limits, then falls back to flex tier if exceeded\n   *\n   * @default 'on_demand'\n   */\n  serviceTier: z.enum([\"on_demand\", \"flex\", \"auto\"]).optional()\n});\n\n// src/groq-error.ts\nimport { z as z2 } from \"zod/v4\";\nimport { createJsonErrorResponseHandler } from \"@ai-sdk/provider-utils\";\nvar groqErrorDataSchema = z2.object({\n  error: z2.object({\n    message: z2.string(),\n    type: z2.string()\n  })\n});\nvar groqFailedResponseHandler = createJsonErrorResponseHandler({\n  errorSchema: groqErrorDataSchema,\n  errorToMessage: (data) => data.error.message\n});\n\n// src/groq-prepare-tools.ts\nimport {\n  UnsupportedFunctionalityError as UnsupportedFunctionalityError2\n} from \"@ai-sdk/provider\";\n\n// src/groq-browser-search-models.ts\nvar BROWSER_SEARCH_SUPPORTED_MODELS = [\n  \"openai/gpt-oss-20b\",\n  \"openai/gpt-oss-120b\"\n];\nfunction isBrowserSearchSupportedModel(modelId) {\n  return BROWSER_SEARCH_SUPPORTED_MODELS.includes(modelId);\n}\nfunction getSupportedModelsString() {\n  return BROWSER_SEARCH_SUPPORTED_MODELS.join(\", \");\n}\n\n// src/groq-prepare-tools.ts\nfunction prepareTools({\n  tools,\n  toolChoice,\n  modelId\n}) {\n  tools = (tools == null ? void 0 : tools.length) ? tools : void 0;\n  const toolWarnings = [];\n  if (tools == null) {\n    return { tools: void 0, toolChoice: void 0, toolWarnings };\n  }\n  const groqTools2 = [];\n  for (const tool of tools) {\n    if (tool.type === \"provider-defined\") {\n      if (tool.id === \"groq.browser_search\") {\n        if (!isBrowserSearchSupportedModel(modelId)) {\n          toolWarnings.push({\n            type: \"unsupported-tool\",\n            tool,\n            details: `Browser search is only supported on the following models: ${getSupportedModelsString()}. Current model: ${modelId}`\n          });\n        } else {\n          groqTools2.push({\n            type: \"browser_search\"\n          });\n        }\n      } else {\n        toolWarnings.push({ type: \"unsupported-tool\", tool });\n      }\n    } else {\n      groqTools2.push({\n        type: \"function\",\n        function: {\n          name: tool.name,\n          description: tool.description,\n          parameters: tool.inputSchema\n        }\n      });\n    }\n  }\n  if (toolChoice == null) {\n    return { tools: groqTools2, toolChoice: void 0, toolWarnings };\n  }\n  const type = toolChoice.type;\n  switch (type) {\n    case \"auto\":\n    case \"none\":\n    case \"required\":\n      return { tools: groqTools2, toolChoice: type, toolWarnings };\n    case \"tool\":\n      return {\n        tools: groqTools2,\n        toolChoice: {\n          type: \"function\",\n          function: {\n            name: toolChoice.toolName\n          }\n        },\n        toolWarnings\n      };\n    default: {\n      const _exhaustiveCheck = type;\n      throw new UnsupportedFunctionalityError2({\n        functionality: `tool choice type: ${_exhaustiveCheck}`\n      });\n    }\n  }\n}\n\n// src/map-groq-finish-reason.ts\nfunction mapGroqFinishReason(finishReason) {\n  switch (finishReason) {\n    case \"stop\":\n      return \"stop\";\n    case \"length\":\n      return \"length\";\n    case \"content_filter\":\n      return \"content-filter\";\n    case \"function_call\":\n    case \"tool_calls\":\n      return \"tool-calls\";\n    default:\n      return \"unknown\";\n  }\n}\n\n// src/groq-chat-language-model.ts\nvar GroqChatLanguageModel = class {\n  constructor(modelId, config) {\n    this.specificationVersion = \"v2\";\n    this.supportedUrls = {\n      \"image/*\": [/^https?:\\/\\/.*$/]\n    };\n    this.modelId = modelId;\n    this.config = config;\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  async getArgs({\n    prompt,\n    maxOutputTokens,\n    temperature,\n    topP,\n    topK,\n    frequencyPenalty,\n    presencePenalty,\n    stopSequences,\n    responseFormat,\n    seed,\n    stream,\n    tools,\n    toolChoice,\n    providerOptions\n  }) {\n    var _a, _b;\n    const warnings = [];\n    const groqOptions = await parseProviderOptions({\n      provider: \"groq\",\n      providerOptions,\n      schema: groqProviderOptions\n    });\n    const structuredOutputs = (_a = groqOptions == null ? void 0 : groqOptions.structuredOutputs) != null ? _a : true;\n    if (topK != null) {\n      warnings.push({\n        type: \"unsupported-setting\",\n        setting: \"topK\"\n      });\n    }\n    if ((responseFormat == null ? void 0 : responseFormat.type) === \"json\" && responseFormat.schema != null && !structuredOutputs) {\n      warnings.push({\n        type: \"unsupported-setting\",\n        setting: \"responseFormat\",\n        details: \"JSON response format schema is only supported with structuredOutputs\"\n      });\n    }\n    const {\n      tools: groqTools2,\n      toolChoice: groqToolChoice,\n      toolWarnings\n    } = prepareTools({ tools, toolChoice, modelId: this.modelId });\n    return {\n      args: {\n        // model id:\n        model: this.modelId,\n        // model specific settings:\n        user: groqOptions == null ? void 0 : groqOptions.user,\n        parallel_tool_calls: groqOptions == null ? void 0 : groqOptions.parallelToolCalls,\n        // standardized settings:\n        max_tokens: maxOutputTokens,\n        temperature,\n        top_p: topP,\n        frequency_penalty: frequencyPenalty,\n        presence_penalty: presencePenalty,\n        stop: stopSequences,\n        seed,\n        // response format:\n        response_format: (responseFormat == null ? void 0 : responseFormat.type) === \"json\" ? structuredOutputs && responseFormat.schema != null ? {\n          type: \"json_schema\",\n          json_schema: {\n            schema: responseFormat.schema,\n            name: (_b = responseFormat.name) != null ? _b : \"response\",\n            description: responseFormat.description\n          }\n        } : { type: \"json_object\" } : void 0,\n        // provider options:\n        reasoning_format: groqOptions == null ? void 0 : groqOptions.reasoningFormat,\n        reasoning_effort: groqOptions == null ? void 0 : groqOptions.reasoningEffort,\n        service_tier: groqOptions == null ? void 0 : groqOptions.serviceTier,\n        // messages:\n        messages: convertToGroqChatMessages(prompt),\n        // tools:\n        tools: groqTools2,\n        tool_choice: groqToolChoice\n      },\n      warnings: [...warnings, ...toolWarnings]\n    };\n  }\n  async doGenerate(options) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j;\n    const { args, warnings } = await this.getArgs({\n      ...options,\n      stream: false\n    });\n    const body = JSON.stringify(args);\n    const {\n      responseHeaders,\n      value: response,\n      rawValue: rawResponse\n    } = await postJsonToApi({\n      url: this.config.url({\n        path: \"/chat/completions\",\n        modelId: this.modelId\n      }),\n      headers: combineHeaders(this.config.headers(), options.headers),\n      body: args,\n      failedResponseHandler: groqFailedResponseHandler,\n      successfulResponseHandler: createJsonResponseHandler(\n        groqChatResponseSchema\n      ),\n      abortSignal: options.abortSignal,\n      fetch: this.config.fetch\n    });\n    const choice = response.choices[0];\n    const content = [];\n    const text = choice.message.content;\n    if (text != null && text.length > 0) {\n      content.push({ type: \"text\", text });\n    }\n    const reasoning = choice.message.reasoning;\n    if (reasoning != null && reasoning.length > 0) {\n      content.push({\n        type: \"reasoning\",\n        text: reasoning\n      });\n    }\n    if (choice.message.tool_calls != null) {\n      for (const toolCall of choice.message.tool_calls) {\n        content.push({\n          type: \"tool-call\",\n          toolCallId: (_a = toolCall.id) != null ? _a : generateId(),\n          toolName: toolCall.function.name,\n          input: toolCall.function.arguments\n        });\n      }\n    }\n    return {\n      content,\n      finishReason: mapGroqFinishReason(choice.finish_reason),\n      usage: {\n        inputTokens: (_c = (_b = response.usage) == null ? void 0 : _b.prompt_tokens) != null ? _c : void 0,\n        outputTokens: (_e = (_d = response.usage) == null ? void 0 : _d.completion_tokens) != null ? _e : void 0,\n        totalTokens: (_g = (_f = response.usage) == null ? void 0 : _f.total_tokens) != null ? _g : void 0,\n        cachedInputTokens: (_j = (_i = (_h = response.usage) == null ? void 0 : _h.prompt_tokens_details) == null ? void 0 : _i.cached_tokens) != null ? _j : void 0\n      },\n      response: {\n        ...getResponseMetadata(response),\n        headers: responseHeaders,\n        body: rawResponse\n      },\n      warnings,\n      request: { body }\n    };\n  }\n  async doStream(options) {\n    const { args, warnings } = await this.getArgs({ ...options, stream: true });\n    const body = JSON.stringify({ ...args, stream: true });\n    const { responseHeaders, value: response } = await postJsonToApi({\n      url: this.config.url({\n        path: \"/chat/completions\",\n        modelId: this.modelId\n      }),\n      headers: combineHeaders(this.config.headers(), options.headers),\n      body: {\n        ...args,\n        stream: true\n      },\n      failedResponseHandler: groqFailedResponseHandler,\n      successfulResponseHandler: createEventSourceResponseHandler(groqChatChunkSchema),\n      abortSignal: options.abortSignal,\n      fetch: this.config.fetch\n    });\n    const toolCalls = [];\n    let finishReason = \"unknown\";\n    const usage = {\n      inputTokens: void 0,\n      outputTokens: void 0,\n      totalTokens: void 0,\n      cachedInputTokens: void 0\n    };\n    let isFirstChunk = true;\n    let isActiveText = false;\n    let isActiveReasoning = false;\n    let providerMetadata;\n    return {\n      stream: response.pipeThrough(\n        new TransformStream({\n          start(controller) {\n            controller.enqueue({ type: \"stream-start\", warnings });\n          },\n          transform(chunk, controller) {\n            var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n, _o, _p, _q, _r;\n            if (options.includeRawChunks) {\n              controller.enqueue({ type: \"raw\", rawValue: chunk.rawValue });\n            }\n            if (!chunk.success) {\n              finishReason = \"error\";\n              controller.enqueue({ type: \"error\", error: chunk.error });\n              return;\n            }\n            const value = chunk.value;\n            if (\"error\" in value) {\n              finishReason = \"error\";\n              controller.enqueue({ type: \"error\", error: value.error });\n              return;\n            }\n            if (isFirstChunk) {\n              isFirstChunk = false;\n              controller.enqueue({\n                type: \"response-metadata\",\n                ...getResponseMetadata(value)\n              });\n            }\n            if (((_a = value.x_groq) == null ? void 0 : _a.usage) != null) {\n              usage.inputTokens = (_b = value.x_groq.usage.prompt_tokens) != null ? _b : void 0;\n              usage.outputTokens = (_c = value.x_groq.usage.completion_tokens) != null ? _c : void 0;\n              usage.totalTokens = (_d = value.x_groq.usage.total_tokens) != null ? _d : void 0;\n              usage.cachedInputTokens = (_f = (_e = value.x_groq.usage.prompt_tokens_details) == null ? void 0 : _e.cached_tokens) != null ? _f : void 0;\n            }\n            const choice = value.choices[0];\n            if ((choice == null ? void 0 : choice.finish_reason) != null) {\n              finishReason = mapGroqFinishReason(choice.finish_reason);\n            }\n            if ((choice == null ? void 0 : choice.delta) == null) {\n              return;\n            }\n            const delta = choice.delta;\n            if (delta.reasoning != null && delta.reasoning.length > 0) {\n              if (!isActiveReasoning) {\n                controller.enqueue({\n                  type: \"reasoning-start\",\n                  id: \"reasoning-0\"\n                });\n                isActiveReasoning = true;\n              }\n              controller.enqueue({\n                type: \"reasoning-delta\",\n                id: \"reasoning-0\",\n                delta: delta.reasoning\n              });\n            }\n            if (delta.content != null && delta.content.length > 0) {\n              if (!isActiveText) {\n                controller.enqueue({ type: \"text-start\", id: \"txt-0\" });\n                isActiveText = true;\n              }\n              controller.enqueue({\n                type: \"text-delta\",\n                id: \"txt-0\",\n                delta: delta.content\n              });\n            }\n            if (delta.tool_calls != null) {\n              for (const toolCallDelta of delta.tool_calls) {\n                const index = toolCallDelta.index;\n                if (toolCalls[index] == null) {\n                  if (toolCallDelta.type !== \"function\") {\n                    throw new InvalidResponseDataError({\n                      data: toolCallDelta,\n                      message: `Expected 'function' type.`\n                    });\n                  }\n                  if (toolCallDelta.id == null) {\n                    throw new InvalidResponseDataError({\n                      data: toolCallDelta,\n                      message: `Expected 'id' to be a string.`\n                    });\n                  }\n                  if (((_g = toolCallDelta.function) == null ? void 0 : _g.name) == null) {\n                    throw new InvalidResponseDataError({\n                      data: toolCallDelta,\n                      message: `Expected 'function.name' to be a string.`\n                    });\n                  }\n                  controller.enqueue({\n                    type: \"tool-input-start\",\n                    id: toolCallDelta.id,\n                    toolName: toolCallDelta.function.name\n                  });\n                  toolCalls[index] = {\n                    id: toolCallDelta.id,\n                    type: \"function\",\n                    function: {\n                      name: toolCallDelta.function.name,\n                      arguments: (_h = toolCallDelta.function.arguments) != null ? _h : \"\"\n                    },\n                    hasFinished: false\n                  };\n                  const toolCall2 = toolCalls[index];\n                  if (((_i = toolCall2.function) == null ? void 0 : _i.name) != null && ((_j = toolCall2.function) == null ? void 0 : _j.arguments) != null) {\n                    if (toolCall2.function.arguments.length > 0) {\n                      controller.enqueue({\n                        type: \"tool-input-delta\",\n                        id: toolCall2.id,\n                        delta: toolCall2.function.arguments\n                      });\n                    }\n                    if (isParsableJson(toolCall2.function.arguments)) {\n                      controller.enqueue({\n                        type: \"tool-input-end\",\n                        id: toolCall2.id\n                      });\n                      controller.enqueue({\n                        type: \"tool-call\",\n                        toolCallId: (_k = toolCall2.id) != null ? _k : generateId(),\n                        toolName: toolCall2.function.name,\n                        input: toolCall2.function.arguments\n                      });\n                      toolCall2.hasFinished = true;\n                    }\n                  }\n                  continue;\n                }\n                const toolCall = toolCalls[index];\n                if (toolCall.hasFinished) {\n                  continue;\n                }\n                if (((_l = toolCallDelta.function) == null ? void 0 : _l.arguments) != null) {\n                  toolCall.function.arguments += (_n = (_m = toolCallDelta.function) == null ? void 0 : _m.arguments) != null ? _n : \"\";\n                }\n                controller.enqueue({\n                  type: \"tool-input-delta\",\n                  id: toolCall.id,\n                  delta: (_o = toolCallDelta.function.arguments) != null ? _o : \"\"\n                });\n                if (((_p = toolCall.function) == null ? void 0 : _p.name) != null && ((_q = toolCall.function) == null ? void 0 : _q.arguments) != null && isParsableJson(toolCall.function.arguments)) {\n                  controller.enqueue({\n                    type: \"tool-input-end\",\n                    id: toolCall.id\n                  });\n                  controller.enqueue({\n                    type: \"tool-call\",\n                    toolCallId: (_r = toolCall.id) != null ? _r : generateId(),\n                    toolName: toolCall.function.name,\n                    input: toolCall.function.arguments\n                  });\n                  toolCall.hasFinished = true;\n                }\n              }\n            }\n          },\n          flush(controller) {\n            if (isActiveReasoning) {\n              controller.enqueue({ type: \"reasoning-end\", id: \"reasoning-0\" });\n            }\n            if (isActiveText) {\n              controller.enqueue({ type: \"text-end\", id: \"txt-0\" });\n            }\n            controller.enqueue({\n              type: \"finish\",\n              finishReason,\n              usage,\n              ...providerMetadata != null ? { providerMetadata } : {}\n            });\n          }\n        })\n      ),\n      request: { body },\n      response: { headers: responseHeaders }\n    };\n  }\n};\nvar groqChatResponseSchema = z3.object({\n  id: z3.string().nullish(),\n  created: z3.number().nullish(),\n  model: z3.string().nullish(),\n  choices: z3.array(\n    z3.object({\n      message: z3.object({\n        content: z3.string().nullish(),\n        reasoning: z3.string().nullish(),\n        tool_calls: z3.array(\n          z3.object({\n            id: z3.string().nullish(),\n            type: z3.literal(\"function\"),\n            function: z3.object({\n              name: z3.string(),\n              arguments: z3.string()\n            })\n          })\n        ).nullish()\n      }),\n      index: z3.number(),\n      finish_reason: z3.string().nullish()\n    })\n  ),\n  usage: z3.object({\n    prompt_tokens: z3.number().nullish(),\n    completion_tokens: z3.number().nullish(),\n    total_tokens: z3.number().nullish(),\n    prompt_tokens_details: z3.object({\n      cached_tokens: z3.number().nullish()\n    }).nullish()\n  }).nullish()\n});\nvar groqChatChunkSchema = z3.union([\n  z3.object({\n    id: z3.string().nullish(),\n    created: z3.number().nullish(),\n    model: z3.string().nullish(),\n    choices: z3.array(\n      z3.object({\n        delta: z3.object({\n          content: z3.string().nullish(),\n          reasoning: z3.string().nullish(),\n          tool_calls: z3.array(\n            z3.object({\n              index: z3.number(),\n              id: z3.string().nullish(),\n              type: z3.literal(\"function\").optional(),\n              function: z3.object({\n                name: z3.string().nullish(),\n                arguments: z3.string().nullish()\n              })\n            })\n          ).nullish()\n        }).nullish(),\n        finish_reason: z3.string().nullable().optional(),\n        index: z3.number()\n      })\n    ),\n    x_groq: z3.object({\n      usage: z3.object({\n        prompt_tokens: z3.number().nullish(),\n        completion_tokens: z3.number().nullish(),\n        total_tokens: z3.number().nullish(),\n        prompt_tokens_details: z3.object({\n          cached_tokens: z3.number().nullish()\n        }).nullish()\n      }).nullish()\n    }).nullish()\n  }),\n  groqErrorDataSchema\n]);\n\n// src/groq-transcription-model.ts\nimport {\n  combineHeaders as combineHeaders2,\n  convertBase64ToUint8Array,\n  createJsonResponseHandler as createJsonResponseHandler2,\n  mediaTypeToExtension,\n  parseProviderOptions as parseProviderOptions2,\n  postFormDataToApi\n} from \"@ai-sdk/provider-utils\";\nimport { z as z4 } from \"zod/v4\";\nvar groqProviderOptionsSchema = z4.object({\n  language: z4.string().nullish(),\n  prompt: z4.string().nullish(),\n  responseFormat: z4.string().nullish(),\n  temperature: z4.number().min(0).max(1).nullish(),\n  timestampGranularities: z4.array(z4.string()).nullish()\n});\nvar GroqTranscriptionModel = class {\n  constructor(modelId, config) {\n    this.modelId = modelId;\n    this.config = config;\n    this.specificationVersion = \"v2\";\n  }\n  get provider() {\n    return this.config.provider;\n  }\n  async getArgs({\n    audio,\n    mediaType,\n    providerOptions\n  }) {\n    var _a, _b, _c, _d, _e;\n    const warnings = [];\n    const groqOptions = await parseProviderOptions2({\n      provider: \"groq\",\n      providerOptions,\n      schema: groqProviderOptionsSchema\n    });\n    const formData = new FormData();\n    const blob = audio instanceof Uint8Array ? new Blob([audio]) : new Blob([convertBase64ToUint8Array(audio)]);\n    formData.append(\"model\", this.modelId);\n    const fileExtension = mediaTypeToExtension(mediaType);\n    formData.append(\n      \"file\",\n      new File([blob], \"audio\", { type: mediaType }),\n      `audio.${fileExtension}`\n    );\n    if (groqOptions) {\n      const transcriptionModelOptions = {\n        language: (_a = groqOptions.language) != null ? _a : void 0,\n        prompt: (_b = groqOptions.prompt) != null ? _b : void 0,\n        response_format: (_c = groqOptions.responseFormat) != null ? _c : void 0,\n        temperature: (_d = groqOptions.temperature) != null ? _d : void 0,\n        timestamp_granularities: (_e = groqOptions.timestampGranularities) != null ? _e : void 0\n      };\n      for (const key in transcriptionModelOptions) {\n        const value = transcriptionModelOptions[key];\n        if (value !== void 0) {\n          formData.append(key, String(value));\n        }\n      }\n    }\n    return {\n      formData,\n      warnings\n    };\n  }\n  async doGenerate(options) {\n    var _a, _b, _c, _d, _e, _f, _g;\n    const currentDate = (_c = (_b = (_a = this.config._internal) == null ? void 0 : _a.currentDate) == null ? void 0 : _b.call(_a)) != null ? _c : /* @__PURE__ */ new Date();\n    const { formData, warnings } = await this.getArgs(options);\n    const {\n      value: response,\n      responseHeaders,\n      rawValue: rawResponse\n    } = await postFormDataToApi({\n      url: this.config.url({\n        path: \"/audio/transcriptions\",\n        modelId: this.modelId\n      }),\n      headers: combineHeaders2(this.config.headers(), options.headers),\n      formData,\n      failedResponseHandler: groqFailedResponseHandler,\n      successfulResponseHandler: createJsonResponseHandler2(\n        groqTranscriptionResponseSchema\n      ),\n      abortSignal: options.abortSignal,\n      fetch: this.config.fetch\n    });\n    return {\n      text: response.text,\n      segments: (_e = (_d = response.segments) == null ? void 0 : _d.map((segment) => ({\n        text: segment.text,\n        startSecond: segment.start,\n        endSecond: segment.end\n      }))) != null ? _e : [],\n      language: (_f = response.language) != null ? _f : void 0,\n      durationInSeconds: (_g = response.duration) != null ? _g : void 0,\n      warnings,\n      response: {\n        timestamp: currentDate,\n        modelId: this.modelId,\n        headers: responseHeaders,\n        body: rawResponse\n      }\n    };\n  }\n};\nvar groqTranscriptionResponseSchema = z4.object({\n  text: z4.string(),\n  x_groq: z4.object({\n    id: z4.string()\n  }),\n  // additional properties are returned when `response_format: 'verbose_json'` is\n  task: z4.string().nullish(),\n  language: z4.string().nullish(),\n  duration: z4.number().nullish(),\n  segments: z4.array(\n    z4.object({\n      id: z4.number(),\n      seek: z4.number(),\n      start: z4.number(),\n      end: z4.number(),\n      text: z4.string(),\n      tokens: z4.array(z4.number()),\n      temperature: z4.number(),\n      avg_logprob: z4.number(),\n      compression_ratio: z4.number(),\n      no_speech_prob: z4.number()\n    })\n  ).nullish()\n});\n\n// src/tool/browser-search.ts\nimport { createProviderDefinedToolFactory } from \"@ai-sdk/provider-utils\";\nimport { z as z5 } from \"zod/v4\";\nvar browserSearch = createProviderDefinedToolFactory({\n  id: \"groq.browser_search\",\n  name: \"browser_search\",\n  inputSchema: z5.object({})\n});\n\n// src/groq-tools.ts\nvar groqTools = {\n  browserSearch\n};\n\n// src/version.ts\nvar VERSION = true ? \"2.0.29\" : \"0.0.0-test\";\n\n// src/groq-provider.ts\nfunction createGroq(options = {}) {\n  var _a;\n  const baseURL = (_a = withoutTrailingSlash(options.baseURL)) != null ? _a : \"https://api.groq.com/openai/v1\";\n  const getHeaders = () => withUserAgentSuffix(\n    {\n      Authorization: `Bearer ${loadApiKey({\n        apiKey: options.apiKey,\n        environmentVariableName: \"GROQ_API_KEY\",\n        description: \"Groq\"\n      })}`,\n      ...options.headers\n    },\n    `ai-sdk/groq/${VERSION}`\n  );\n  const createChatModel = (modelId) => new GroqChatLanguageModel(modelId, {\n    provider: \"groq.chat\",\n    url: ({ path }) => `${baseURL}${path}`,\n    headers: getHeaders,\n    fetch: options.fetch\n  });\n  const createLanguageModel = (modelId) => {\n    if (new.target) {\n      throw new Error(\n        \"The Groq model function cannot be called with the new keyword.\"\n      );\n    }\n    return createChatModel(modelId);\n  };\n  const createTranscriptionModel = (modelId) => {\n    return new GroqTranscriptionModel(modelId, {\n      provider: \"groq.transcription\",\n      url: ({ path }) => `${baseURL}${path}`,\n      headers: getHeaders,\n      fetch: options.fetch\n    });\n  };\n  const provider = function(modelId) {\n    return createLanguageModel(modelId);\n  };\n  provider.languageModel = createLanguageModel;\n  provider.chat = createChatModel;\n  provider.textEmbeddingModel = (modelId) => {\n    throw new NoSuchModelError({ modelId, modelType: \"textEmbeddingModel\" });\n  };\n  provider.imageModel = (modelId) => {\n    throw new NoSuchModelError({ modelId, modelType: \"imageModel\" });\n  };\n  provider.transcription = createTranscriptionModel;\n  provider.transcriptionModel = createTranscriptionModel;\n  provider.tools = groqTools;\n  return provider;\n}\nvar groq = createGroq();\nexport {\n  VERSION,\n  browserSearch,\n  createGroq,\n  groq\n};\n//# sourceMappingURL=index.mjs.map","/**\n * AI Extraction Prompts for Call Transcripts\n *\n * Specialized prompts for field service industry to extract:\n * - Customer information\n * - Job details\n * - Appointment requirements\n *\n * Optimized for cost-effective models (Groq, Claude Haiku)\n */\n\nexport const SYSTEM_PROMPT = `You are an AI assistant specialized in extracting structured information from field service call transcripts.\n\nYour job is to analyze conversations between customer service representatives (CSRs) and customers, then extract relevant information into a structured JSON format.\n\nFocus on extracting:\n1. Customer Information: name, email, phone, company, address\n2. Job Details: title, description, urgency, job type, estimated duration\n3. Appointment Needs: preferred date/time, duration, special requirements\n\nIMPORTANT RULES:\n- Only extract information explicitly mentioned in the conversation\n- Assign confidence scores (0-100) based on clarity and completeness\n- If information is unclear or partially mentioned, use lower confidence scores\n- For addresses, try to extract full address components (street, city, state, zip)\n- For dates/times, convert natural language to ISO format when possible\n- Distinguish between urgent and non-urgent issues\n- Identify the primary reason for the call (job type)\n\nReturn JSON with this exact structure:\n{\n  \"customerInfo\": {\n    \"name\": string | null,\n    \"email\": string | null,\n    \"phone\": string | null,\n    \"company\": string | null,\n    \"address\": {\n      \"street\": string | null,\n      \"city\": string | null,\n      \"state\": string | null,\n      \"zipCode\": string | null,\n      \"full\": string | null\n    },\n    \"confidence\": number\n  },\n  \"jobDetails\": {\n    \"title\": string | null,\n    \"description\": string | null,\n    \"urgency\": \"low\" | \"normal\" | \"high\" | \"emergency\" | null,\n    \"type\": string | null,\n    \"estimatedDuration\": number | null,\n    \"confidence\": number\n  },\n  \"appointmentNeeds\": {\n    \"preferredDate\": string | null,\n    \"preferredTime\": string | null,\n    \"timePreference\": \"morning\" | \"afternoon\" | \"evening\" | \"anytime\" | null,\n    \"duration\": number | null,\n    \"specialRequirements\": string | null,\n    \"confidence\": number\n  },\n  \"callSummary\": string,\n  \"sentiment\": \"positive\" | \"neutral\" | \"negative\",\n  \"tags\": string[]\n}`;\n\nexport const EXTRACTION_PROMPT = `Analyze the following call transcript and extract all relevant information:\n\nTRANSCRIPT:\n{transcript}\n\nExtract customer information, job details, and appointment needs. Be thorough but only include information that is clearly stated. Assign confidence scores based on how explicit and complete the information is.`;\n\nexport const UPDATE_PROMPT = `You previously extracted information from a call transcript. Here is the new portion of the conversation:\n\nPREVIOUS EXTRACTION:\n{previousExtraction}\n\nNEW TRANSCRIPT PORTION:\n{newTranscript}\n\nUpdate the extraction with any new information found. Maintain or update confidence scores. Only change fields that have new or contradicting information.`;\n\nexport function formatTranscriptForExtraction(\n\tentries: Array<{ speaker: string; text: string; timestamp: Date }>,\n): string {\n\treturn entries\n\t\t.map((entry) => {\n\t\t\tconst time = entry.timestamp.toLocaleTimeString();\n\t\t\tconst speaker = entry.speaker === \"csr\" ? \"CSR\" : \"Customer\";\n\t\t\treturn `[${time}] ${speaker}: ${entry.text}`;\n\t\t})\n\t\t.join(\"\\n\");\n}\n\nfunction getJobTypeFromDescription(description: string): string {\n\tconst lower = description.toLowerCase();\n\n\t// HVAC\n\tif (\n\t\tlower.includes(\"heat\") ||\n\t\tlower.includes(\"furnace\") ||\n\t\tlower.includes(\"hot\")\n\t) {\n\t\treturn \"Heating Repair\";\n\t}\n\tif (\n\t\tlower.includes(\"cool\") ||\n\t\tlower.includes(\"ac\") ||\n\t\tlower.includes(\"air condition\") ||\n\t\tlower.includes(\"cold\")\n\t) {\n\t\treturn \"Cooling Repair\";\n\t}\n\tif (lower.includes(\"hvac\") || lower.includes(\"install\")) {\n\t\treturn \"HVAC Installation\";\n\t}\n\n\t// Plumbing\n\tif (\n\t\tlower.includes(\"leak\") ||\n\t\tlower.includes(\"pipe\") ||\n\t\tlower.includes(\"water\")\n\t) {\n\t\treturn \"Plumbing Repair\";\n\t}\n\tif (lower.includes(\"drain\") || lower.includes(\"clog\")) {\n\t\treturn \"Drain Service\";\n\t}\n\n\t// Electrical\n\tif (\n\t\tlower.includes(\"electric\") ||\n\t\tlower.includes(\"outlet\") ||\n\t\tlower.includes(\"wiring\")\n\t) {\n\t\treturn \"Electrical Repair\";\n\t}\n\n\t// General\n\tif (lower.includes(\"mainten\")) {\n\t\treturn \"Maintenance\";\n\t}\n\tif (lower.includes(\"inspect\")) {\n\t\treturn \"Inspection\";\n\t}\n\tif (lower.includes(\"emergen\") || lower.includes(\"urgent\")) {\n\t\treturn \"Emergency Service\";\n\t}\n\n\treturn \"General Service\";\n}\n"],"names":[],"mappings":"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","ignoreList":[0,2]}