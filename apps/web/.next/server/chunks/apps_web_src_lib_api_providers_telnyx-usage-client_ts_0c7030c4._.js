module.exports=[421530,519257,418521,336752,182373,e=>{"use strict";let t=new class{baseUrl="https://api.telnyx.com/v2";apiKey;constructor(){const e=process.env.TELNYX_API_KEY;e||console.warn("TELNYX_API_KEY not set - Telnyx usage tracking disabled"),this.apiKey=e||""}async fetch(e,t){if(!this.apiKey)return null;let r=new URL(`${this.baseUrl}${e}`);t&&Object.entries(t).forEach(([e,t])=>{r.searchParams.append(e,t)});try{let e=await fetch(r.toString(),{headers:{Authorization:`Bearer ${this.apiKey}`,"Content-Type":"application/json"}});if(!e.ok)return console.error(`Telnyx API error: ${e.status} ${e.statusText}`),null;return await e.json()}catch(e){return console.error("Telnyx API fetch error:",e),null}}getCurrentMonthRange(){let e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1),r=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59);return{startDate:t.toISOString(),endDate:r.toISOString()}}async getVoiceUsage(e,t){let r=e&&t?{startDate:e,endDate:t}:this.getCurrentMonthRange(),s=await this.fetch("/reports/cdr_usage_reports/sync",{start_date:r.startDate,end_date:r.endDate});if(!s?.data)return null;let{aggregations:a,records:i}=s.data,n=0,o=0;if(i)for(let e of i){let t=e.duration/60;"inbound"===e.direction?n+=t:o+=t}return{total_minutes:a.total_duration/60,inbound_minutes:n,outbound_minutes:o,total_calls:a.record_count,total_cost_cents:Math.round(100*a.total_cost)}}async getSmsUsage(e,t){let r=new Date,s=new Date(r.getTime()-864e6),a=await this.fetch("/messages",{"page[size]":"250","filter[created_at][gte]":s.toISOString(),"filter[created_at][lte]":r.toISOString()});if(!a?.data)return null;let i=0,n=0,o=0;for(let e of a.data)"outbound"===e.direction?i+=e.parts:n+=e.parts,o+=Math.round(100*parseFloat(e.cost.amount));return{total_messages:i+n,outbound_messages:i,inbound_messages:n,total_cost_cents:o}}async getCurrentMonthUsage(){let[e,t]=await Promise.all([this.getVoiceUsage(),this.getSmsUsage()]);return{voice:e,sms:t,total_cost_cents:(e?.total_cost_cents||0)+(t?.total_cost_cents||0)}}async checkHealth(){let e=Date.now();try{let t=await fetch(`${this.baseUrl}/connections`,{headers:{Authorization:`Bearer ${this.apiKey}`}}),r=Date.now()-e;if(t.ok)return{healthy:!0,responseTimeMs:r};return{healthy:!1,responseTimeMs:r,error:`HTTP ${t.status}: ${t.statusText}`}}catch(t){return{healthy:!1,responseTimeMs:Date.now()-e,error:t instanceof Error?t.message:"Unknown error"}}}};e.s(["telnyxUsageClient",0,t],421530);let r=new class{baseUrl="https://api.supabase.com/v1";accessToken;projectRef;constructor(){const e=process.env.SUPABASE_MANAGEMENT_PAT,t="https://togejqdwggezkxahomeh.supabase.co".match(/https:\/\/([^.]+)\.supabase\.co/)?.[1];e||console.warn("SUPABASE_MANAGEMENT_PAT not set - Supabase usage tracking disabled"),this.accessToken=e||"",this.projectRef=t||""}async fetch(e,t){if(!this.accessToken||!this.projectRef)return null;let r=new URL(`${this.baseUrl}${e}`);t&&Object.entries(t).forEach(([e,t])=>{r.searchParams.append(e,t)});try{let e=await fetch(r.toString(),{headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json"}});if(!e.ok)return console.error(`Supabase API error: ${e.status} ${e.statusText}`),null;return await e.json()}catch(e){return console.error("Supabase API fetch error:",e),null}}async getApiCounts(e="daily"){let t=await this.fetch(`/projects/${this.projectRef}/analytics/endpoints/usage.api-counts`,{interval:e});return t?.data||null}async getTotalApiRequestCount(){let e=await this.fetch(`/projects/${this.projectRef}/analytics/endpoints/usage.api-requests-count`);return e?.count||null}async getDatabaseSize(){return null}async getCurrentPeriodUsage(){let e=await this.getApiCounts("daily");return e&&0!==e.length?e.reduce((e,t)=>({auth_requests:e.auth_requests+t.total_auth_requests,rest_requests:e.rest_requests+t.total_rest_requests,realtime_requests:e.realtime_requests+t.total_realtime_requests,storage_requests:e.storage_requests+t.total_storage_requests,total_requests:e.total_requests+t.total_auth_requests+t.total_rest_requests+t.total_realtime_requests+t.total_storage_requests}),{auth_requests:0,rest_requests:0,realtime_requests:0,storage_requests:0,total_requests:0}):null}async checkHealth(){let e=Date.now();try{let t=await fetch(`${this.baseUrl}/projects`,{headers:{Authorization:`Bearer ${this.accessToken}`}}),r=Date.now()-e;if(t.ok)return{healthy:!0,responseTimeMs:r};return{healthy:!1,responseTimeMs:r,error:`HTTP ${t.status}: ${t.statusText}`}}catch(t){return{healthy:!1,responseTimeMs:Date.now()-e,error:t instanceof Error?t.message:"Unknown error"}}}};e.s(["supabaseUsageClient",0,r],519257);let s=new class{projectId;billingAccountId;accessToken;constructor(){this.projectId=process.env.GOOGLE_CLOUD_PROJECT_ID||"",this.billingAccountId=process.env.GOOGLE_CLOUD_BILLING_ACCOUNT_ID||"",this.accessToken=process.env.GOOGLE_CLOUD_ACCESS_TOKEN||"",this.projectId||console.warn("GOOGLE_CLOUD_PROJECT_ID not set - Google Cloud tracking disabled")}async fetch(e){if(!this.accessToken)return null;try{let t=await fetch(e,{headers:{Authorization:`Bearer ${this.accessToken}`,"Content-Type":"application/json"}});if(!t.ok)return console.error(`Google Cloud API error: ${t.status} ${t.statusText}`),null;return await t.json()}catch(e){return console.error("Google Cloud API fetch error:",e),null}}async getEnabledServices(){let e=await this.fetch(`https://serviceusage.googleapis.com/v1/projects/${this.projectId}/services?filter=state:ENABLED`);return e?.services?e.services.map(e=>e.config.name):null}async getAIUsage(){return{gemini_requests:0,gemini_tokens_input:0,gemini_tokens_output:0,document_ai_pages:0,vision_requests:0,speech_minutes:0,translation_characters:0,total_cost_cents:0}}async getCurrentMonthBilling(){if(!this.billingAccountId)return null;let e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1),r=`https://cloudbilling.googleapis.com/v1/billingAccounts/${this.billingAccountId}/budgets`,s=await this.fetch(r);return s?.budgets?s.budgets.map(e=>({service_name:"all_services",display_name:"All Google Cloud Services",usage_amount:1,usage_unit:"budget",cost_usd:parseFloat(e.currentSpend?.units||"0"),month:t.toISOString().slice(0,7)})):null}async getMapsUsage(){return{geocoding_requests:0,places_requests:0,directions_requests:0,static_maps_requests:0,total_cost_cents:0}}async checkHealth(){let e=Date.now();try{let t=await fetch(`https://serviceusage.googleapis.com/v1/projects/${this.projectId}/services?pageSize=1`,{headers:{Authorization:`Bearer ${this.accessToken}`}}),r=Date.now()-e;if(t.ok)return{healthy:!0,responseTimeMs:r};if(401===t.status||403===t.status)return{healthy:!0,responseTimeMs:r,error:"Authentication required - API is available"};return{healthy:!1,responseTimeMs:r,error:`HTTP ${t.status}: ${t.statusText}`}}catch(t){return{healthy:!1,responseTimeMs:Date.now()-e,error:t instanceof Error?t.message:"Unknown error"}}}};e.s(["googleCloudClient",0,s],418521);let a=new class{baseUrl="https://api.stripe.com/v1";secretKey;constructor(){const e=process.env.STRIPE_SECRET_KEY;e||console.warn("STRIPE_SECRET_KEY not set - Stripe billing tracking disabled"),this.secretKey=e||""}async fetch(e,t){if(!this.secretKey)return null;let r=new URL(`${this.baseUrl}${e}`);t&&Object.entries(t).forEach(([e,t])=>{r.searchParams.append(e,t)});try{let e=await fetch(r.toString(),{headers:{Authorization:`Bearer ${this.secretKey}`,"Content-Type":"application/x-www-form-urlencoded"}});if(!e.ok)return console.error(`Stripe API error: ${e.status} ${e.statusText}`),null;return await e.json()}catch(e){return console.error("Stripe API fetch error:",e),null}}getCurrentMonthRange(){let e=new Date,t=new Date(e.getFullYear(),e.getMonth(),1),r=new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59);return{startTimestamp:Math.floor(t.getTime()/1e3),endTimestamp:Math.floor(r.getTime()/1e3)}}async getBalanceTransactions(e=100){let{startTimestamp:t,endTimestamp:r}=this.getCurrentMonthRange(),s=await this.fetch("/balance_transactions",{limit:e.toString(),"created[gte]":t.toString(),"created[lte]":r.toString()});return s?.data||null}async getCurrentMonthStats(){let e=await this.getBalanceTransactions(100);if(!e)return null;let t=0,r=0,s=0,a=0,i=0;for(let n of e)switch(n.type){case"charge":t+=n.amount,r+=n.net,s+=n.fee,i++;break;case"refund":a+=Math.abs(n.amount),r+=n.net;break;case"payout":break;default:r+=n.net,s+=n.fee}return{gross_volume_cents:t,net_volume_cents:r,fees_cents:s,refunds_cents:a,transaction_count:i,average_transaction_cents:i>0?Math.round(t/i):0}}async getUsage(){let{startTimestamp:e,endTimestamp:t}=this.getCurrentMonthRange(),r=await this.fetch("/charges",{limit:"100","created[gte]":e.toString(),"created[lte]":t.toString()}),s=await this.fetch("/disputes",{limit:"100","created[gte]":e.toString(),"created[lte]":t.toString()});if(!r?.data)return null;let a=r.data,i=s?.data||[],n=0,o=0,c=0,l=0,u=0;for(let e of a)"succeeded"===e.status?(o++,n+=e.amount):"failed"===e.status&&c++,(e.refunded||e.amount_refunded>0)&&(l++,u+=e.amount_refunded);let h=Math.round(.029*n+30*o);return{total_transactions:a.length,total_volume_cents:n,total_fees_cents:h,successful_charges:o,failed_charges:c,refunds_count:l,refunds_amount_cents:u,disputes_count:i.length}}async getBalance(){let e=await this.fetch("/balance");if(!e)return null;let t=e.available.find(e=>"usd"===e.currency)||e.available[0],r=e.pending.find(e=>"usd"===e.currency)||e.pending[0];return{available_cents:t?.amount||0,pending_cents:r?.amount||0,currency:t?.currency||"usd"}}static calculateFee(e,t={}){let r=.029;return t.isInternational&&(r+=.005),t.hasCurrencyConversion&&(r+=.01),Math.round(e*r)+30}static calculateNetAmount(e,t={}){let r=this.calculateFee(e,t);return e-r}async checkHealth(){let e=Date.now();try{let t=await fetch(`${this.baseUrl}/balance`,{headers:{Authorization:`Bearer ${this.secretKey}`}}),r=Date.now()-e;if(t.ok)return{healthy:!0,responseTimeMs:r};return{healthy:!1,responseTimeMs:r,error:`HTTP ${t.status}: ${t.statusText}`}}catch(t){return{healthy:!1,responseTimeMs:Date.now()-e,error:t instanceof Error?t.message:"Unknown error"}}}};e.s(["stripeBillingClient",0,a],336752);let i={google_gemini:{serviceName:"google_gemini",displayName:"Google Gemini AI",category:"ai",provider:"google",freeTier:{limit:1500,period:"daily",unit:"requests"},costAfterFree:{cents:7.5,perUnits:1e6,unit:"tokens"},baseCostCents:0,hasExternalApi:!0,healthCheckEndpoint:"https://generativelanguage.googleapis.com/v1/models",warningThresholdPct:80,criticalThresholdPct:95,description:"Gemini AI for text generation, chat, and multimodal tasks"},google_document_ai:{serviceName:"google_document_ai",displayName:"Document AI",category:"ai",provider:"google",freeTier:{limit:1e3,period:"monthly",unit:"pages"},costAfterFree:{cents:1,perUnits:1,unit:"page"},baseCostCents:0,hasExternalApi:!0,warningThresholdPct:80,criticalThresholdPct:95,description:"Document parsing, OCR, and form extraction"},google_vision:{serviceName:"google_vision",displayName:"Vision AI",category:"ai",provider:"google",freeTier:{limit:1e3,period:"monthly",unit:"requests"},costAfterFree:{cents:150,perUnits:1e3,unit:"request"},baseCostCents:0,hasExternalApi:!0,warningThresholdPct:80,criticalThresholdPct:95,description:"Image analysis, OCR, and object detection"},google_speech_to_text:{serviceName:"google_speech_to_text",displayName:"Speech-to-Text",category:"ai",provider:"google",freeTier:{limit:60,period:"monthly",unit:"minutes"},costAfterFree:{cents:60,perUnits:1,unit:"minute"},baseCostCents:0,hasExternalApi:!0,warningThresholdPct:80,criticalThresholdPct:95,description:"Audio transcription and speech recognition"},google_text_to_speech:{serviceName:"google_text_to_speech",displayName:"Text-to-Speech",category:"ai",provider:"google",freeTier:{limit:4e6,period:"monthly",unit:"characters"},costAfterFree:{cents:400,perUnits:1e6,unit:"characters"},baseCostCents:0,hasExternalApi:!0,warningThresholdPct:80,criticalThresholdPct:95,description:"Text to natural speech synthesis"},google_translation:{serviceName:"google_translation",displayName:"Translation",category:"ai",provider:"google",freeTier:{limit:5e5,period:"monthly",unit:"characters"},costAfterFree:{cents:2e3,perUnits:1e6,unit:"characters"},baseCostCents:0,hasExternalApi:!0,warningThresholdPct:80,criticalThresholdPct:95,description:"Language translation services"},google_geocoding:{serviceName:"google_geocoding",displayName:"Geocoding",category:"google_maps",provider:"google",freeTier:{limit:1e4,period:"monthly",unit:"requests"},costAfterFree:{cents:50,perUnits:100,unit:"request"},baseCostCents:0,hasExternalApi:!0,warningThresholdPct:80,criticalThresholdPct:95,description:"Address to coordinates conversion"},google_directions:{serviceName:"google_directions",displayName:"Directions",category:"google_maps",provider:"google",freeTier:{limit:1e4,period:"monthly",unit:"requests"},costAfterFree:{cents:50,perUnits:100,unit:"request"},baseCostCents:0,hasExternalApi:!0,warningThresholdPct:80,criticalThresholdPct:95,description:"Route planning and navigation"},google_places:{serviceName:"google_places",displayName:"Places",category:"google_maps",provider:"google",freeTier:{limit:1e4,period:"monthly",unit:"requests"},costAfterFree:{cents:170,perUnits:100,unit:"request"},baseCostCents:0,hasExternalApi:!0,warningThresholdPct:80,criticalThresholdPct:95,description:"Place search, details, and autocomplete"},google_distance_matrix:{serviceName:"google_distance_matrix",displayName:"Distance Matrix",category:"google_maps",provider:"google",freeTier:{limit:1e4,period:"monthly",unit:"requests"},costAfterFree:{cents:50,perUnits:100,unit:"request"},baseCostCents:0,hasExternalApi:!0,warningThresholdPct:80,criticalThresholdPct:95,description:"Travel distance and time calculations"},google_maps_static:{serviceName:"google_maps_static",displayName:"Maps Static",category:"google_maps",provider:"google",freeTier:{limit:25e3,period:"monthly",unit:"requests"},costAfterFree:{cents:20,perUnits:100,unit:"request"},baseCostCents:0,hasExternalApi:!0,warningThresholdPct:80,criticalThresholdPct:95,description:"Static map image generation"},google_street_view:{serviceName:"google_street_view",displayName:"Street View",category:"google_maps",provider:"google",freeTier:{limit:25e3,period:"monthly",unit:"requests"},costAfterFree:{cents:70,perUnits:100,unit:"request"},baseCostCents:0,hasExternalApi:!0,warningThresholdPct:80,criticalThresholdPct:95,description:"Street-level imagery"},google_routes:{serviceName:"google_routes",displayName:"Routes API",category:"google_maps",provider:"google",freeTier:{limit:1e4,period:"monthly",unit:"requests"},costAfterFree:{cents:50,perUnits:100,unit:"request"},baseCostCents:0,hasExternalApi:!0,warningThresholdPct:80,criticalThresholdPct:95,description:"Advanced routing with traffic awareness"},google_elevation:{serviceName:"google_elevation",displayName:"Elevation",category:"google_maps",provider:"google",freeTier:null,costAfterFree:{cents:50,perUnits:100,unit:"request"},baseCostCents:0,hasExternalApi:!0,warningThresholdPct:80,criticalThresholdPct:95,description:"Terrain elevation data"},google_timezone:{serviceName:"google_timezone",displayName:"Time Zone",category:"google_maps",provider:"google",freeTier:null,costAfterFree:{cents:50,perUnits:100,unit:"request"},baseCostCents:0,hasExternalApi:!0,warningThresholdPct:80,criticalThresholdPct:95,description:"Time zone lookups by location"},supabase:{serviceName:"supabase",displayName:"Supabase",category:"infrastructure",provider:"supabase",freeTier:null,costAfterFree:null,baseCostCents:2500,hasExternalApi:!0,healthCheckEndpoint:"https://api.supabase.com/v1/projects",warningThresholdPct:80,criticalThresholdPct:95,description:"Database, Auth, Storage, Edge Functions"},vercel:{serviceName:"vercel",displayName:"Vercel",category:"infrastructure",provider:"vercel",freeTier:{limit:1e3,period:"monthly",unit:"GB"},costAfterFree:{cents:15,perUnits:1,unit:"GB"},baseCostCents:2e3,hasExternalApi:!1,warningThresholdPct:80,criticalThresholdPct:95,description:"Hosting, Edge Functions, Analytics"},telnyx_voice:{serviceName:"telnyx_voice",displayName:"Telnyx Voice",category:"communication",provider:"telnyx",freeTier:null,costAfterFree:{cents:90,perUnits:100,unit:"minute"},baseCostCents:0,hasExternalApi:!0,healthCheckEndpoint:"https://api.telnyx.com/v2/connections",warningThresholdPct:80,criticalThresholdPct:95,description:"VoIP calls and call control"},telnyx_sms:{serviceName:"telnyx_sms",displayName:"Telnyx SMS",category:"communication",provider:"telnyx",freeTier:null,costAfterFree:{cents:25,perUnits:100,unit:"message"},baseCostCents:0,hasExternalApi:!0,warningThresholdPct:80,criticalThresholdPct:95,description:"SMS and MMS messaging"},resend:{serviceName:"resend",displayName:"Resend Email",category:"communication",provider:"resend",freeTier:{limit:3e3,period:"monthly",unit:"emails"},costAfterFree:{cents:9,perUnits:100,unit:"email"},baseCostCents:0,hasExternalApi:!1,healthCheckEndpoint:"https://api.resend.com/emails",warningThresholdPct:80,criticalThresholdPct:95,description:"Transactional email delivery"},assemblyai:{serviceName:"assemblyai",displayName:"AssemblyAI",category:"communication",provider:"assemblyai",freeTier:{limit:500,period:"monthly",unit:"credits"},costAfterFree:{cents:15,perUnits:1,unit:"hour"},baseCostCents:0,hasExternalApi:!0,warningThresholdPct:80,criticalThresholdPct:95,description:"Call transcription and audio intelligence"},attom:{serviceName:"attom",displayName:"ATTOM Property",category:"data",provider:"attom",freeTier:null,costAfterFree:{cents:500,perUnits:100,unit:"request"},baseCostCents:0,hasExternalApi:!1,warningThresholdPct:80,criticalThresholdPct:95,description:"Property data, valuations, sales history"},shovels:{serviceName:"shovels",displayName:"Shovels Permits",category:"data",provider:"shovels",freeTier:null,costAfterFree:{cents:300,perUnits:100,unit:"request"},baseCostCents:0,hasExternalApi:!1,warningThresholdPct:80,criticalThresholdPct:95,description:"Building permits and contractor data"},walk_score:{serviceName:"walk_score",displayName:"Walk Score",category:"data",provider:"walkscore",freeTier:{limit:5e3,period:"daily",unit:"requests"},costAfterFree:{cents:10,perUnits:100,unit:"request"},baseCostCents:0,hasExternalApi:!1,warningThresholdPct:80,criticalThresholdPct:95,description:"Walkability, transit, and bike scores"},crimeometer:{serviceName:"crimeometer",displayName:"CrimeoMeter",category:"data",provider:"crimeometer",freeTier:null,costAfterFree:{cents:500,perUnits:100,unit:"request"},baseCostCents:0,hasExternalApi:!1,warningThresholdPct:80,criticalThresholdPct:95,description:"Real-time crime data and safety scores"},fema_flood:{serviceName:"fema_flood",displayName:"FEMA Flood",category:"data",provider:"fema",freeTier:null,costAfterFree:{cents:0,perUnits:1,unit:"request"},baseCostCents:0,hasExternalApi:!1,warningThresholdPct:80,criticalThresholdPct:95,description:"Flood zone and risk data (free)"},census_bureau:{serviceName:"census_bureau",displayName:"Census Bureau",category:"data",provider:"census",freeTier:null,costAfterFree:{cents:0,perUnits:1,unit:"request"},baseCostCents:0,hasExternalApi:!1,warningThresholdPct:80,criticalThresholdPct:95,description:"Demographics and housing data (free)"},fbi_crime:{serviceName:"fbi_crime",displayName:"FBI Crime Data",category:"data",provider:"fbi",freeTier:null,costAfterFree:{cents:0,perUnits:1,unit:"request"},baseCostCents:0,hasExternalApi:!1,warningThresholdPct:80,criticalThresholdPct:95,description:"Crime statistics by state (free)"},stripe:{serviceName:"stripe",displayName:"Stripe",category:"payments",provider:"stripe",freeTier:null,costAfterFree:{percentage:2.9,fixedCents:30,unit:"transaction"},baseCostCents:0,hasExternalApi:!0,healthCheckEndpoint:"https://api.stripe.com/v1/balance",warningThresholdPct:80,criticalThresholdPct:95,description:"Payment processing (2.9% + $0.30)"}};function n(e,t){let r=i[e];return r&&r.freeTier?Math.min(100,t/r.freeTier.limit*100):null}function o(e,t){let r=i[e];return r?t>=r.criticalThresholdPct?"critical":t>=r.warningThresholdPct?"warning":"ok":"ok"}e.s(["API_SERVICES",0,i,"calculateFreeTierPercentage",()=>n,"getAlertLevel",()=>o],182373)}];

//# sourceMappingURL=apps_web_src_lib_api_providers_telnyx-usage-client_ts_0c7030c4._.js.map