module.exports=[999575,a=>{"use strict";var b=a.i(861467),c=a.i(783281),d=a.i(337241),e=a.i(169021),f=(0,e.createServerReference)("40e3ab2b653a7e94bf8b49023e3451e93598db4932",e.callServer,void 0,e.findSourceMapURL,"completeOnboardingWizard");a.i(445255);var g=a.i(18170),h=a.i(527228),i=a.i(140596);let j=["welcome","company","data-import","integrations","phone","email","notifications","services","team","payments","billing","schedule","reports","settings","first-action","complete"],k={welcome:{title:"Welcome",shortTitle:"Start",phase:1,required:!0,estimatedMinutes:1},company:{title:"Company Details",shortTitle:"Company",phase:1,required:!0,estimatedMinutes:2},"data-import":{title:"Import Data",shortTitle:"Import",phase:1,required:!1,estimatedMinutes:5},integrations:{title:"Connect Apps",shortTitle:"Apps",phase:1,required:!1,estimatedMinutes:2},phone:{title:"Phone & SMS",shortTitle:"Phone",phase:2,required:!1,estimatedMinutes:3},email:{title:"Email Setup",shortTitle:"Email",phase:2,required:!1,estimatedMinutes:2},notifications:{title:"Notifications",shortTitle:"Alerts",phase:2,required:!1,estimatedMinutes:2},services:{title:"Services & Pricing",shortTitle:"Services",phase:3,required:!1,estimatedMinutes:3},team:{title:"Team Setup",shortTitle:"Team",phase:3,required:!1,estimatedMinutes:2},payments:{title:"Payment Processing",shortTitle:"Payments",phase:3,required:!1,estimatedMinutes:3},billing:{title:"Platform Subscription",shortTitle:"Billing",phase:3,required:!1,estimatedMinutes:3},schedule:{title:"Schedule",shortTitle:"Schedule",phase:4,required:!1,estimatedMinutes:2},reports:{title:"Reports & Dashboard",shortTitle:"Reports",phase:4,required:!1,estimatedMinutes:2},settings:{title:"Important Settings",shortTitle:"Settings",phase:4,required:!1,estimatedMinutes:2},"first-action":{title:"Your First Action",shortTitle:"Try It",phase:5,required:!1,estimatedMinutes:2},complete:{title:"All Set!",shortTitle:"Done",phase:5,required:!0,estimatedMinutes:1}},l=[{value:"hvac",label:"HVAC"},{value:"plumbing",label:"Plumbing"},{value:"electrical",label:"Electrical"},{value:"roofing",label:"Roofing"},{value:"landscaping",label:"Landscaping"},{value:"cleaning",label:"Cleaning Services"},{value:"pest-control",label:"Pest Control"},{value:"appliance",label:"Appliance Repair"},{value:"garage-door",label:"Garage Door"},{value:"locksmith",label:"Locksmith"},{value:"general-contractor",label:"General Contractor"},{value:"other",label:"Other"}],m=[{value:"solo",label:"Solo Operator"},{value:"small",label:"Small Team"},{value:"growing",label:"Growing Business"},{value:"enterprise",label:"Enterprise"}],n={path:null,teamSize:"",industry:"",referralSource:"",companyName:"",companyPhone:"",companyEmail:"",companyWebsite:"",companyLogo:null,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone||"America/New_York",companyAddress:"",companyCity:"",companyState:"",companyZip:"",companyCountry:"US",mailingAddressSame:!0,mailingAddress:"",mailingCity:"",mailingState:"",mailingZip:"",mailingCountry:"US",businessType:null,ein:"",stateOfIncorporation:"",dateEstablished:"",businessLicense:"",ownerName:"",ownerTitle:"Owner",ownerEmail:"",ownerPhone:"",ownerSSN:"",ownerDOB:"",ownerAddress:"",ownerOwnershipPercent:100,yearsInBusiness:"",numberOfEmployees:"",annualRevenueRange:"",phoneSetupType:null,phoneNumber:"",smsEnabled:!0,portingStatus:"",portingCarrier:"",portingAccountNumber:"",portingPin:"",portingBillingPhone:"",emailSetupType:null,customDomain:"",dnsVerified:!1,resendDomainId:null,notifications:[{category:"new_booking",push:!0,email:!0,sms:!1},{category:"job_updates",push:!0,email:!1,sms:!1},{category:"payment_received",push:!0,email:!0,sms:!1},{category:"customer_messages",push:!0,email:!0,sms:!0},{category:"daily_summary",push:!1,email:!0,sms:!1},{category:"weekly_report",push:!1,email:!0,sms:!1}],quietHoursEnabled:!1,quietHoursStart:"22:00",quietHoursEnd:"07:00",previousSoftware:null,dataImportCompleted:null,importedCustomerCount:0,importedPriceBookCount:0,importedEquipmentCount:0,importedJobCount:0,quickbooksConnected:!1,quickbooksCompanyId:null,quickbooksLastSync:null,googleCalendarConnected:!1,googleCalendarId:null,services:[],servicesImportedFrom:null,teamMembers:[],teamInvites:[],inviteMethod:null,paymentSetupComplete:!1,plaidConnected:!1,acceptCards:!0,acceptACH:!0,acceptChecks:!0,acceptCash:!0,acceptCheckCapture:!0,paymentMethods:[],taxRate:"",paymentTerms:"30",phonePortingCount:0,newPhoneNumberCount:0,gmailWorkspaceUsers:0,profitRhinoEnabled:!1,stripeCustomerId:null,stripePaymentMethodId:null,paymentMethodCollected:!1,trialEndsAt:null,workingDays:["monday","tuesday","wednesday","thursday","friday"],startTime:"08:00",endTime:"17:00",serviceRadius:"25",serviceAreaZips:[],businessHours:null,bufferTime:"15",emergencyService:!1,preferredReports:["revenue","jobs","customers"],reportFrequency:"weekly",dashboardWidgets:["revenue","jobs_today","pending_invoices"],scheduledReports:[],autoReminders:!0,requireJobPhotos:!0,customerPortalEnabled:!0,onlineBookingEnabled:!1,gpsTrackingEnabled:!1,firstActionType:null,firstActionCompleted:!1,onboardingCompleted:!1},o=(0,h.create)()((0,i.persist)((a,b)=>({currentStep:"welcome",completedSteps:[],skippedSteps:[],data:n,isLoading:!1,isSaving:!1,showWalkthrough:!0,walkthroughSeen:{},setCurrentStep:b=>a({currentStep:b}),completeStep:b=>a(a=>({completedSteps:a.completedSteps.includes(b)?a.completedSteps:[...a.completedSteps,b],skippedSteps:a.skippedSteps.filter(a=>a!==b)})),skipStep:b=>a(a=>({skippedSteps:a.skippedSteps.includes(b)?a.skippedSteps:[...a.skippedSteps,b]})),updateData:b=>a(a=>({data:{...a.data,...b}})),setLoading:b=>a({isLoading:b}),setSaving:b=>a({isSaving:b}),markWalkthroughSeen:b=>a(a=>({walkthroughSeen:{...a.walkthroughSeen,[b]:!0}})),setShowWalkthrough:b=>a({showWalkthrough:b}),resetOnboarding:()=>a({currentStep:"welcome",completedSteps:[],skippedSteps:[],data:n,walkthroughSeen:{}}),getProgress:()=>{let{completedSteps:a,skippedSteps:c}=b(),d=j.length-1;return Math.round((a.length+c.length)/d*100)},canProceed:()=>{let{currentStep:a,data:c}=b();switch(a){case"welcome":return!!c.path;case"company":return c.companyName.trim().length>0;default:return!0}}}),{name:"thorbis-onboarding",partialize:a=>({currentStep:a.currentStep,completedSteps:a.completedSteps,skippedSteps:a.skippedSteps,data:a.data,walkthroughSeen:a.walkthroughSeen})}));var p=a.i(700760),q=a.i(300298),r=a.i(337850),s=a.i(779184);function t({slides:a,onComplete:d,onSkip:e}){let[f,h]=(0,c.useState)(0),i=a[f],j=f===a.length-1,k=0===f;return(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/95 backdrop-blur-sm",children:(0,b.jsxs)("div",{className:"relative w-full max-w-lg mx-4",children:[e&&(0,b.jsxs)("button",{onClick:e,className:"absolute -top-12 right-0 flex items-center gap-1 text-sm text-muted-foreground hover:text-foreground transition-colors",children:["Skip intro",(0,b.jsx)(q.X,{className:"h-4 w-4"})]}),(0,b.jsxs)("div",{className:"rounded-2xl bg-card p-8 shadow-2xl",children:[(0,b.jsx)("div",{className:(0,p.cn)("mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full",i.accentColor||"bg-primary/10 text-primary"),children:i.icon}),i.illustration&&(0,b.jsx)("div",{className:"mb-6",children:i.illustration}),(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold mb-3",children:i.title}),(0,b.jsx)("p",{className:"text-muted-foreground",children:i.description}),i.bullets&&i.bullets.length>0&&(0,b.jsx)("ul",{className:"mt-4 space-y-2 text-left",children:i.bullets.map((a,c)=>(0,b.jsxs)("li",{className:"flex items-start gap-2 text-sm",children:[(0,b.jsx)("span",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-primary/20 text-primary text-xs flex-shrink-0 mt-0.5",children:c+1}),(0,b.jsx)("span",{className:"text-muted-foreground",children:a})]},c))})]}),a.length>1&&(0,b.jsx)("div",{className:"flex justify-center gap-2 mb-6",children:a.map((a,c)=>(0,b.jsx)("button",{onClick:()=>h(c),className:(0,p.cn)("h-2 rounded-full transition-all",c===f?"w-6 bg-primary":"w-2 bg-muted hover:bg-muted-foreground/30")},c))}),(0,b.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,b.jsxs)(g.Button,{variant:"ghost",onClick:()=>{k||h(a=>a-1)},disabled:k,className:(0,p.cn)(k&&"invisible"),children:[(0,b.jsx)(s.ChevronLeft,{className:"mr-1 h-4 w-4"}),"Back"]}),(0,b.jsxs)(g.Button,{onClick:()=>{j?d():h(a=>a+1)},className:"min-w-[120px]",children:[j?"Got it!":"Next",!j&&(0,b.jsx)(r.ChevronRight,{className:"ml-1 h-4 w-4"})]})]})]})]})})}a.i(111744);var u=a.i(152069),u=u,v=a.i(638446),w=a.i(198803),x=a.i(278932);function y({isSaving:a=!1,lastSaved:c,error:d}){return d?(0,b.jsxs)("div",{className:"flex items-center gap-1.5 text-destructive",children:[(0,b.jsx)(u.default,{className:"h-3.5 w-3.5"}),(0,b.jsx)("span",{className:"text-xs",children:"Save failed"})]}):a?(0,b.jsxs)("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[(0,b.jsx)(w.Loader2,{className:"h-3.5 w-3.5 animate-spin"}),(0,b.jsx)("span",{className:"text-xs",children:"Saving..."})]}):c?(0,b.jsxs)("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[(0,b.jsx)(v.Check,{className:"h-3.5 w-3.5 text-green-500"}),(0,b.jsx)("span",{className:"text-xs",children:"Saved"})]}):null}function z({stepName:a,consequences:c=[],onSkip:d,onCancel:e}){return(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-background/80 backdrop-blur-sm",children:(0,b.jsxs)("div",{className:"bg-background border rounded-lg shadow-lg p-6 max-w-md mx-4",children:[(0,b.jsxs)("h3",{className:"font-semibold text-lg mb-2",children:["Skip ",a,"?"]}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm mb-4",children:"You can configure this later in Settings."}),c.length>0&&(0,b.jsxs)("div",{className:"bg-muted/50 rounded-md p-3 mb-4",children:[(0,b.jsx)("p",{className:"text-sm font-medium mb-2",children:"If you skip this step:"}),(0,b.jsx)("ul",{className:"space-y-1",children:c.map((a,c)=>(0,b.jsxs)("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[(0,b.jsx)("span",{className:"text-amber-500",children:"â€¢"}),a]},c))})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,b.jsx)(g.Button,{variant:"outline",onClick:e,children:"Go back"}),(0,b.jsx)(g.Button,{variant:"secondary",onClick:d,children:"Skip for now"})]})]})})}a.i(805034),a.i(40744);var A=a.i(419573),B=a.i(320091),C=a.i(101482),D=a.i(263758),E=a.i(651426),F=a.i(283753),G=a.i(624126),H=a.i(688014),I=a.i(352424),J=a.i(898062),K=a.i(587969),L=a.i(90083);let M={hvac:{title:"HVAC businesses like yours typically see",bullets:["40% faster dispatch with GPS tracking","25% more jobs completed per day","Automated seasonal maintenance reminders"]},plumbing:{title:"Plumbing companies using Thorbis report",bullets:["60% faster quote turnaround","Emergency job prioritization features","Photo documentation for warranty claims"]},electrical:{title:"Electrical contractors benefit from",bullets:["Permit tracking integration","Code compliance checklists","Multi-location job management"]},roofing:{title:"Roofing companies love our",bullets:["Weather-based scheduling","Aerial measurement integration","Storm damage documentation"]},landscaping:{title:"Landscaping businesses enjoy",bullets:["Recurring service scheduling","Seasonal crew management","Property photo timelines"]},cleaning:{title:"Cleaning services see results with",bullets:["Recurring appointment automation","Checklist-based job completion","Customer key/code management"]},"pest-control":{title:"Pest control companies benefit from",bullets:["Treatment history tracking","Regulatory compliance reports","Automated follow-up scheduling"]},appliance:{title:"Appliance repair pros love",bullets:["Parts inventory tracking","Warranty lookup integration","Model-specific repair guides"]},"garage-door":{title:"Garage door companies see",bullets:["Quick quote generation","Spring life tracking","Before/after photo documentation"]},locksmith:{title:"Locksmiths benefit from",bullets:["Emergency dispatch priority","Key code secure storage","Vehicle VIN lookup"]},"general-contractor":{title:"General contractors appreciate",bullets:["Subcontractor management","Project milestone tracking","Change order documentation"]},other:{title:"Service businesses using Thorbis see",bullets:["50% reduction in scheduling conflicts","30% faster payment collection","Happier customers with automated updates"]}},N=[{value:"google",label:"Google Search"},{value:"facebook",label:"Facebook/Instagram"},{value:"linkedin",label:"LinkedIn"},{value:"youtube",label:"YouTube"},{value:"podcast",label:"Podcast"},{value:"friend",label:"Friend or Colleague"},{value:"conference",label:"Trade Show/Conference"},{value:"review-site",label:"Review Site (G2, Capterra)"},{value:"other",label:"Other"}],O=[{id:"solo",title:"Solo",subtitle:"Just me",icon:B.User},{id:"small",title:"Small Team",subtitle:"2-5 people",icon:C.Users},{id:"growing",title:"Growing",subtitle:"6-20 people",icon:D.Building2},{id:"enterprise",title:"Enterprise",subtitle:"20+ people",icon:E.Building}];function P(){let{data:a,updateData:c}=o(),d=a.industry?M[a.industry]:null;return(0,b.jsxs)("div",{className:"space-y-10",children:[(0,b.jsxs)("div",{className:"text-center space-y-3",children:[(0,b.jsx)("h1",{className:"text-3xl font-semibold tracking-tight",children:"Welcome to Thorbis"}),(0,b.jsx)("p",{className:"text-muted-foreground text-lg max-w-md mx-auto",children:"Let's personalize your setup. This only takes a few minutes."})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"How big is your team?"}),(0,b.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:O.map(d=>{let e=d.icon,f=a.path===d.id;return(0,b.jsxs)("button",{type:"button",onClick:()=>c({path:d.id,teamSize:d.subtitle}),className:(0,p.cn)("relative flex flex-col items-center gap-2 rounded-lg border-2 p-4 transition-all",f?"border-primary bg-primary/5":"border-transparent bg-muted/40 hover:bg-muted/60"),children:[f&&(0,b.jsx)("div",{className:"absolute top-2 right-2",children:(0,b.jsx)(v.Check,{className:"h-4 w-4 text-primary"})}),(0,b.jsx)("div",{className:(0,p.cn)("flex h-10 w-10 items-center justify-center rounded-full",f?"bg-primary text-primary-foreground":"bg-muted"),children:(0,b.jsx)(e,{className:"h-5 w-5"})}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"font-medium text-sm",children:d.title}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:d.subtitle})]})]},d.id)})})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"What industry are you in?"}),(0,b.jsxs)(A.Select,{value:a.industry,onValueChange:a=>c({industry:a}),children:[(0,b.jsx)(A.SelectTrigger,{className:"w-full max-w-xs",children:(0,b.jsx)(A.SelectValue,{placeholder:"Select your trade"})}),(0,b.jsx)(A.SelectContent,{children:l.map(a=>(0,b.jsx)(A.SelectItem,{value:a.value,children:a.label},a.value))})]}),d&&(0,b.jsx)("div",{className:"mt-4 p-4 rounded-lg bg-primary/5 border border-primary/10 animate-in fade-in slide-in-from-bottom-2 duration-300",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"p-2 rounded-full bg-primary/10",children:(0,b.jsx)(F.Sparkles,{className:"h-4 w-4 text-primary"})}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:d.title}),(0,b.jsx)("ul",{className:"space-y-1",children:d.bullets.map((a,c)=>(0,b.jsxs)("li",{className:"text-sm text-muted-foreground flex items-center gap-2",children:[(0,b.jsx)(v.Check,{className:"h-3.5 w-3.5 text-green-500 flex-shrink-0"}),a]},c))})]})]})}),!d&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"We'll customize templates and suggestions for your trade."})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("label",{className:"text-sm font-medium text-muted-foreground",children:["How did you hear about us? ",(0,b.jsx)("span",{className:"text-muted-foreground/60",children:"(optional)"})]}),(0,b.jsxs)(A.Select,{value:a.referralSource||"",onValueChange:a=>c({referralSource:a}),children:[(0,b.jsx)(A.SelectTrigger,{className:"w-full max-w-xs",children:(0,b.jsx)(A.SelectValue,{placeholder:"Select an option"})}),(0,b.jsx)(A.SelectContent,{children:N.map(a=>(0,b.jsx)(A.SelectItem,{value:a.value,children:a.label},a.value))})]})]}),(0,b.jsx)("div",{className:"pt-4 border-t",children:(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("div",{className:"flex items-center justify-center gap-1 text-muted-foreground",children:(0,b.jsx)(G.Clock,{className:"h-4 w-4"})}),(0,b.jsx)("p",{className:"text-2xl font-semibold",children:"5 min"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Setup time"})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("div",{className:"flex items-center justify-center gap-1 text-muted-foreground",children:(0,b.jsx)(H.TrendingUp,{className:"h-4 w-4"})}),(0,b.jsx)("p",{className:"text-2xl font-semibold",children:"10K+"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Active businesses"})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("div",{className:"flex items-center justify-center gap-1 text-muted-foreground",children:(0,b.jsx)(I.Shield,{className:"h-4 w-4"})}),(0,b.jsx)("p",{className:"text-2xl font-semibold",children:"14 days"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Free trial"})]})]})}),(0,b.jsx)("div",{className:"rounded-lg bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-950/30 dark:to-indigo-950/30 border border-blue-200 dark:border-blue-800 p-5",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[(0,b.jsx)("div",{className:"p-3 rounded-full bg-blue-100 dark:bg-blue-900 shrink-0",children:(0,b.jsx)(J.Phone,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),(0,b.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,b.jsx)("h3",{className:"font-semibold text-blue-900 dark:text-blue-100",children:"Want help getting set up?"}),(0,b.jsx)("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"Schedule a free 30-minute call with our onboarding team. We'll help you migrate data, configure settings, and get your team trained."})]}),(0,b.jsxs)(g.Button,{variant:"outline",className:"shrink-0 border-blue-300 dark:border-blue-700 hover:bg-blue-100 dark:hover:bg-blue-900",onClick:()=>window.open("https://calendly.com/thorbis/onboarding","_blank"),children:[(0,b.jsx)(K.Calendar,{className:"h-4 w-4 mr-2"}),"Schedule Call",(0,b.jsx)(L.ArrowRight,{className:"h-4 w-4 ml-2"})]})]})})]})}a.i(839984);var Q=a.i(372712);a.i(458393);var R=a.i(82012);a.i(21368);var S=a.i(341903),T=a.i(597635),U=a.i(916680),V=a.i(352770),W=a.i(984270);a.i(928414);var X=a.i(745250);a.i(297229);var Y=a.i(489904);function Z({tooltip:a,details:d,learnMoreUrl:e,learnMoreText:f="Learn more",size:h="sm",className:i}){let[j,k]=(0,c.useState)(!1),l="sm"===h?"h-3.5 w-3.5":"h-4 w-4";return d?(0,b.jsxs)(Y.Popover,{open:j,onOpenChange:k,children:[(0,b.jsx)(Y.PopoverTrigger,{asChild:!0,children:(0,b.jsx)("button",{type:"button",className:(0,p.cn)("inline-flex items-center justify-center rounded-full text-muted-foreground/60 hover:text-muted-foreground transition-colors",i),"aria-label":"Help",children:(0,b.jsx)(V.HelpCircle,{className:l})})}),(0,b.jsx)(Y.PopoverContent,{side:"top",className:"w-80 p-0",align:"start",children:(0,b.jsxs)("div",{className:"space-y-3 p-4",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:a}),(0,b.jsx)(g.Button,{variant:"ghost",size:"icon",className:"h-6 w-6 -mr-2 -mt-1",onClick:()=>k(!1),children:(0,b.jsx)(q.X,{className:"h-3.5 w-3.5"})})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:d}),e&&(0,b.jsxs)("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-sm text-primary hover:underline",children:[f,(0,b.jsx)(W.ExternalLink,{className:"h-3 w-3"})]})]})})]}):(0,b.jsx)(X.TooltipProvider,{children:(0,b.jsxs)(X.Tooltip,{children:[(0,b.jsx)(X.TooltipTrigger,{asChild:!0,children:(0,b.jsx)("button",{type:"button",className:(0,p.cn)("inline-flex items-center justify-center rounded-full text-muted-foreground/60 hover:text-muted-foreground transition-colors",i),"aria-label":"Help",children:(0,b.jsx)(V.HelpCircle,{className:l})})}),(0,b.jsx)(X.TooltipContent,{side:"top",className:"max-w-xs",children:(0,b.jsx)("p",{className:"text-sm",children:a})})]})})}let $=[{value:"America/New_York",label:"Eastern Time"},{value:"America/Chicago",label:"Central Time"},{value:"America/Denver",label:"Mountain Time"},{value:"America/Los_Angeles",label:"Pacific Time"},{value:"America/Anchorage",label:"Alaska Time"},{value:"Pacific/Honolulu",label:"Hawaii Time"}],_=["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY"],aa=[{value:"sole_proprietor",label:"Sole Proprietor",description:"Individual owner"},{value:"llc",label:"LLC",description:"Limited Liability Company"},{value:"corporation",label:"Corporation",description:"C-Corp or S-Corp"},{value:"partnership",label:"Partnership",description:"General or Limited Partnership"},{value:"non_profit",label:"Non-Profit",description:"501(c) organization"}],ab=[{value:"1",label:"Just me"},{value:"2-5",label:"2-5 employees"},{value:"6-10",label:"6-10 employees"},{value:"11-25",label:"11-25 employees"},{value:"26-50",label:"26-50 employees"},{value:"51-100",label:"51-100 employees"},{value:"100+",label:"100+ employees"}],ac=[{value:"under-100k",label:"Under $100K"},{value:"100k-250k",label:"$100K - $250K"},{value:"250k-500k",label:"$250K - $500K"},{value:"500k-1m",label:"$500K - $1M"},{value:"1m-5m",label:"$1M - $5M"},{value:"5m-10m",label:"$5M - $10M"},{value:"10m+",label:"$10M+"},{value:"prefer-not-say",label:"Prefer not to say"}],ad=[{value:"new",label:"Starting a new business"},{value:"under-1",label:"Less than 1 year"},{value:"1-2",label:"1-2 years"},{value:"3-5",label:"3-5 years"},{value:"6-10",label:"6-10 years"},{value:"10+",label:"10+ years"}];function ae(){let{data:a,updateData:d}=o(),e=(0,c.useRef)(null),[f,g]=(0,c.useState)(!1),h=a=>{if(a&&a.type.startsWith("image/")){let b=new FileReader;b.onload=a=>{d({companyLogo:a.target?.result})},b.readAsDataURL(a)}},i=a=>{a.preventDefault(),a.stopPropagation(),"dragenter"===a.type||"dragover"===a.type?g(!0):"dragleave"===a.type&&g(!1)};return(0,b.jsxs)("div",{className:"space-y-10",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold",children:"Company information"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"This information is used for identity verification, bank account setup, and compliance."})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium",children:[(0,b.jsx)(D.Building2,{className:"h-4 w-4 text-primary"}),(0,b.jsx)("span",{children:"Business Profile"})]}),(0,b.jsxs)("div",{className:"flex items-start gap-6",children:[(0,b.jsxs)("div",{className:(0,p.cn)("relative flex h-24 w-24 flex-shrink-0 items-center justify-center rounded-xl border-2 border-dashed cursor-pointer transition-colors",f?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-muted-foreground/50",a.companyLogo&&"border-solid border-transparent"),onDragEnter:i,onDragLeave:i,onDragOver:i,onDrop:a=>{a.preventDefault(),a.stopPropagation(),g(!1),a.dataTransfer.files&&a.dataTransfer.files[0]&&h(a.dataTransfer.files[0])},onClick:()=>e.current?.click(),children:[(0,b.jsx)("input",{ref:e,type:"file",accept:"image/*",className:"hidden",onChange:a=>{a.target.files?.[0]&&h(a.target.files[0])}}),a.companyLogo?(0,b.jsxs)("div",{className:"relative w-full h-full",children:[(0,b.jsx)("img",{src:a.companyLogo,alt:"Logo",className:"h-full w-full rounded-xl object-contain bg-muted/30"}),(0,b.jsx)("button",{type:"button",onClick:a=>{a.stopPropagation(),d({companyLogo:null})},className:"absolute -top-2 -right-2 flex h-6 w-6 items-center justify-center rounded-full bg-destructive text-destructive-foreground shadow-sm",children:(0,b.jsx)(q.X,{className:"h-3 w-3"})})]}):(0,b.jsx)(T.Upload,{className:"h-6 w-6 text-muted-foreground/50"})]}),(0,b.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,b.jsxs)(R.Label,{htmlFor:"companyName",children:["Company name ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsx)(Q.Input,{id:"companyName",placeholder:"Acme Plumbing LLC",value:a.companyName,onChange:a=>d({companyName:a.target.value}),className:"text-lg h-12"})]})]}),(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(R.Label,{htmlFor:"companyPhone",children:"Phone"}),(0,b.jsx)(Q.Input,{id:"companyPhone",type:"tel",placeholder:"(555) 123-4567",value:a.companyPhone,onChange:a=>d({companyPhone:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(R.Label,{htmlFor:"companyEmail",children:"Email"}),(0,b.jsx)(Q.Input,{id:"companyEmail",type:"email",placeholder:"info@example.com",value:a.companyEmail,onChange:a=>d({companyEmail:a.target.value})})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(R.Label,{htmlFor:"companyWebsite",children:"Website (optional)"}),(0,b.jsx)(Q.Input,{id:"companyWebsite",type:"url",placeholder:"https://acmeplumbing.com",value:a.companyWebsite,onChange:a=>d({companyWebsite:a.target.value})})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(R.Label,{children:"Business Address"}),(0,b.jsx)(Q.Input,{placeholder:"Street address",value:a.companyAddress,onChange:a=>d({companyAddress:a.target.value})}),(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-3",children:[(0,b.jsx)(Q.Input,{placeholder:"City",value:a.companyCity,onChange:a=>d({companyCity:a.target.value})}),(0,b.jsxs)(A.Select,{value:a.companyState,onValueChange:a=>d({companyState:a}),children:[(0,b.jsx)(A.SelectTrigger,{children:(0,b.jsx)(A.SelectValue,{placeholder:"State"})}),(0,b.jsx)(A.SelectContent,{children:_.map(a=>(0,b.jsx)(A.SelectItem,{value:a,children:a},a))})]}),(0,b.jsx)(Q.Input,{placeholder:"ZIP",value:a.companyZip,onChange:a=>d({companyZip:a.target.value})})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(S.Checkbox,{id:"mailingAddressSame",checked:a.mailingAddressSame,onCheckedChange:a=>d({mailingAddressSame:a})}),(0,b.jsx)(R.Label,{htmlFor:"mailingAddressSame",className:"cursor-pointer",children:"Mailing address is the same as business address"})]}),!a.mailingAddressSame&&(0,b.jsxs)("div",{className:"space-y-4 pl-6 border-l-2 border-muted",children:[(0,b.jsx)(R.Label,{children:"Mailing Address"}),(0,b.jsx)(Q.Input,{placeholder:"Street address",value:a.mailingAddress,onChange:a=>d({mailingAddress:a.target.value})}),(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-3",children:[(0,b.jsx)(Q.Input,{placeholder:"City",value:a.mailingCity,onChange:a=>d({mailingCity:a.target.value})}),(0,b.jsxs)(A.Select,{value:a.mailingState,onValueChange:a=>d({mailingState:a}),children:[(0,b.jsx)(A.SelectTrigger,{children:(0,b.jsx)(A.SelectValue,{placeholder:"State"})}),(0,b.jsx)(A.SelectContent,{children:_.map(a=>(0,b.jsx)(A.SelectItem,{value:a,children:a},a))})]}),(0,b.jsx)(Q.Input,{placeholder:"ZIP",value:a.mailingZip,onChange:a=>d({mailingZip:a.target.value})})]})]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3 bg-amber-500/10 rounded-lg p-4",children:[(0,b.jsx)(I.Shield,{className:"h-5 w-5 text-amber-500 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsx)("p",{className:"font-medium text-foreground",children:"Business verification required"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"This information is needed for bank account setup, payment processing, and compliance. All data is encrypted and secure."})]})]}),(0,b.jsxs)("div",{className:"grid gap-6 sm:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(R.Label,{htmlFor:"businessType",children:["Business Type ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsxs)(A.Select,{value:a.businessType||void 0,onValueChange:a=>d({businessType:a}),children:[(0,b.jsx)(A.SelectTrigger,{id:"businessType",children:(0,b.jsx)(A.SelectValue,{placeholder:"Select business type"})}),(0,b.jsx)(A.SelectContent,{children:aa.map(a=>(0,b.jsx)(A.SelectItem,{value:a.value,children:(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"font-medium",children:a.label}),(0,b.jsxs)("span",{className:"text-muted-foreground ml-2",children:["- ",a.description]})]})},a.value))})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(R.Label,{htmlFor:"ein",children:["EIN / Tax ID ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsx)(Q.Input,{id:"ein",placeholder:"XX-XXXXXXX",value:a.ein,onChange:a=>{let b,c;return c=b=a.target.value.replace(/\D/g,""),void(b.length>2&&(c=`${b.slice(0,2)}-${b.slice(2,9)}`),d({ein:c}))},maxLength:10}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"9-digit Employer Identification Number"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(R.Label,{htmlFor:"stateOfIncorporation",children:"State of Incorporation"}),(0,b.jsxs)(A.Select,{value:a.stateOfIncorporation,onValueChange:a=>d({stateOfIncorporation:a}),children:[(0,b.jsx)(A.SelectTrigger,{id:"stateOfIncorporation",children:(0,b.jsx)(A.SelectValue,{placeholder:"Select state"})}),(0,b.jsx)(A.SelectContent,{children:_.map(a=>(0,b.jsx)(A.SelectItem,{value:a,children:a},a))})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(R.Label,{htmlFor:"dateEstablished",children:"Date Established"}),(0,b.jsx)(Q.Input,{id:"dateEstablished",type:"date",value:a.dateEstablished,onChange:a=>d({dateEstablished:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2 sm:col-span-2",children:[(0,b.jsx)(R.Label,{htmlFor:"businessLicense",children:"Business License Number (if applicable)"}),(0,b.jsx)(Q.Input,{id:"businessLicense",placeholder:"License number",value:a.businessLicense,onChange:a=>d({businessLicense:a.target.value})})]})]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3 bg-blue-500/10 rounded-lg p-4",children:[(0,b.jsx)(U.AlertTriangle,{className:"h-5 w-5 text-blue-500 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsx)("p",{className:"font-medium text-foreground",children:"Beneficial owner information"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Required for financial compliance (FinCEN rules). This is the person who owns or controls 25% or more of the business."})]})]}),(0,b.jsxs)("div",{className:"grid gap-6 sm:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(R.Label,{htmlFor:"ownerName",children:["Owner Full Name ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsx)(Q.Input,{id:"ownerName",placeholder:"John Smith",value:a.ownerName,onChange:a=>d({ownerName:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(R.Label,{htmlFor:"ownerTitle",children:"Title"}),(0,b.jsx)(Q.Input,{id:"ownerTitle",placeholder:"Owner, CEO, etc.",value:a.ownerTitle,onChange:a=>d({ownerTitle:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(R.Label,{htmlFor:"ownerEmail",children:"Email"}),(0,b.jsx)(Q.Input,{id:"ownerEmail",type:"email",placeholder:"john@acmeplumbing.com",value:a.ownerEmail,onChange:a=>d({ownerEmail:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(R.Label,{htmlFor:"ownerPhone",children:"Phone"}),(0,b.jsx)(Q.Input,{id:"ownerPhone",type:"tel",placeholder:"(555) 123-4567",value:a.ownerPhone,onChange:a=>d({ownerPhone:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(R.Label,{htmlFor:"ownerDOB",children:"Date of Birth"}),(0,b.jsx)(Q.Input,{id:"ownerDOB",type:"date",value:a.ownerDOB,onChange:a=>d({ownerDOB:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(R.Label,{htmlFor:"ownerSSN",children:"Last 4 of SSN"}),(0,b.jsx)(Q.Input,{id:"ownerSSN",type:"text",placeholder:"1234",value:a.ownerSSN,onChange:a=>{d({ownerSSN:a.target.value.replace(/\D/g,"").slice(0,4)})},maxLength:4}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Last 4 digits only for verification"})]}),(0,b.jsxs)("div",{className:"space-y-2 sm:col-span-2",children:[(0,b.jsx)(R.Label,{htmlFor:"ownerAddress",children:"Owner Address"}),(0,b.jsx)(Q.Input,{id:"ownerAddress",placeholder:"Full address",value:a.ownerAddress,onChange:a=>d({ownerAddress:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(R.Label,{htmlFor:"ownerOwnershipPercent",children:"Ownership %"}),(0,b.jsx)(Q.Input,{id:"ownerOwnershipPercent",type:"number",min:"0",max:"100",value:a.ownerOwnershipPercent,onChange:a=>d({ownerOwnershipPercent:parseInt(a.target.value)||0})})]})]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium",children:[(0,b.jsx)(C.Users,{className:"h-4 w-4 text-primary"}),(0,b.jsx)("span",{children:"Business Size"}),(0,b.jsx)("span",{className:"text-muted-foreground font-normal",children:"(optional)"})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground -mt-2",children:"This helps us recommend the right features and pricing for your business."}),(0,b.jsxs)("div",{className:"grid gap-6 sm:grid-cols-3",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,b.jsx)(R.Label,{htmlFor:"yearsInBusiness",children:"Years in business"}),(0,b.jsx)(Z,{tooltip:"How long have you been operating?",details:"This helps us understand your business maturity and recommend appropriate features. New businesses may benefit from our getting-started guides."})]}),(0,b.jsxs)(A.Select,{value:a.yearsInBusiness,onValueChange:a=>d({yearsInBusiness:a}),children:[(0,b.jsx)(A.SelectTrigger,{id:"yearsInBusiness",children:(0,b.jsx)(A.SelectValue,{placeholder:"Select"})}),(0,b.jsx)(A.SelectContent,{children:ad.map(a=>(0,b.jsx)(A.SelectItem,{value:a.value,children:a.label},a.value))})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,b.jsx)(R.Label,{htmlFor:"numberOfEmployees",children:"Team size"}),(0,b.jsx)(Z,{tooltip:"Number of people in your company",details:"This helps us recommend the right team management features and pricing tier for your business."})]}),(0,b.jsxs)(A.Select,{value:a.numberOfEmployees,onValueChange:a=>d({numberOfEmployees:a}),children:[(0,b.jsx)(A.SelectTrigger,{id:"numberOfEmployees",children:(0,b.jsx)(A.SelectValue,{placeholder:"Select"})}),(0,b.jsx)(A.SelectContent,{children:ab.map(a=>(0,b.jsx)(A.SelectItem,{value:a.value,children:a.label},a.value))})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,b.jsx)(R.Label,{htmlFor:"annualRevenueRange",children:"Annual revenue"}),(0,b.jsx)(Z,{tooltip:"Approximate annual revenue",details:"This is completely optional and confidential. It helps us recommend appropriate payment processing limits and financial features."})]}),(0,b.jsxs)(A.Select,{value:a.annualRevenueRange,onValueChange:a=>d({annualRevenueRange:a}),children:[(0,b.jsx)(A.SelectTrigger,{id:"annualRevenueRange",children:(0,b.jsx)(A.SelectValue,{placeholder:"Select"})}),(0,b.jsx)(A.SelectContent,{children:ac.map(a=>(0,b.jsx)(A.SelectItem,{value:a.value,children:a.label},a.value))})]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(R.Label,{children:"Timezone"}),(0,b.jsxs)(A.Select,{value:a.timezone,onValueChange:a=>d({timezone:a}),children:[(0,b.jsx)(A.SelectTrigger,{className:"w-full sm:w-64",children:(0,b.jsx)(A.SelectValue,{placeholder:"Select timezone"})}),(0,b.jsx)(A.SelectContent,{children:$.map(a=>(0,b.jsx)(A.SelectItem,{value:a.value,children:a.label},a.value))})]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-3 text-xs text-muted-foreground bg-muted/40 rounded-lg p-4",children:[(0,b.jsx)(I.Shield,{className:"h-4 w-4 flex-shrink-0 mt-0.5"}),(0,b.jsx)("p",{children:"All sensitive information is encrypted with bank-level security (AES-256) and never shared without your consent. Required for payment processing and compliance with FinCEN regulations."})]})]})}a.i(380934);var af=a.i(347421);a.i(156120);var ag=a.i(873357);a.i(288007);var ah=a.i(986990);a.i(245561);var ai=a.i(453607),aj=a.i(271758),ak=a.i(274956),al=a.i(362841),am=a.i(96250),an=a.i(187056);let ao=[{value:"none",label:"Starting Fresh",description:"I don't have existing data to import",icon:F.Sparkles},{value:"housecall-pro",label:"Housecall Pro",description:"Export via Settings > Data Export",exportGuide:"https://help.housecallpro.com/en/articles/export-data",templates:["customers","jobs","invoices","price-book"]},{value:"jobber",label:"Jobber",description:"Export via Reports > Export Data",exportGuide:"https://help.getjobber.com/hc/en-us/articles/export",templates:["customers","jobs","invoices","quotes"]},{value:"servicetitan",label:"ServiceTitan",description:"Contact support for data export",exportGuide:"https://help.servicetitan.com/data-export",templates:["customers","jobs","invoices","price-book","equipment"]},{value:"fieldedge",label:"FieldEdge",description:"Export via Admin > Data Management",exportGuide:"https://help.fieldedge.com/export",templates:["customers","jobs","invoices"]},{value:"workiz",label:"Workiz",description:"Export via Settings > Data Export",exportGuide:"https://help.workiz.com/en/articles/export",templates:["customers","jobs","invoices","price-book"]},{value:"servicem8",label:"ServiceM8",description:"Export via Settings > Account > Export",exportGuide:"https://support.servicem8.com/hc/export",templates:["customers","jobs","invoices"]},{value:"quickbooks",label:"QuickBooks",description:"Export customer list and items",exportGuide:"https://quickbooks.intuit.com/learn-support/export",templates:["customers","invoices","price-book"]},{value:"spreadsheet",label:"Spreadsheets (Excel/Google Sheets)",description:"I have data in spreadsheets",templates:["customers","price-book","equipment"]},{value:"other",label:"Other Software",description:"Another field service software",templates:["customers","price-book"]}],ap=[{id:"customers",label:"Customer Data",description:"Names, addresses, phone numbers, emails, service history notes",icon:C.Users,fields:["name","email","phone","address","city","state","zip","notes"],priority:"high",estimatedTime:"2-5 min"},{id:"price-book",label:"Price Book / Services",description:"Your service catalog with pricing, labor rates, materials",icon:ak.DollarSign,fields:["service_name","description","price","duration","category"],priority:"high",estimatedTime:"2-5 min"},{id:"equipment",label:"Equipment / Assets",description:"Installed equipment at customer locations (HVAC units, water heaters, etc.)",icon:al.Wrench,fields:["type","brand","model","serial","install_date","customer_id"],priority:"medium",estimatedTime:"3-10 min"},{id:"jobs",label:"Job History",description:"Past jobs, service records, and notes (optional but valuable)",icon:K.Calendar,fields:["customer","date","service","technician","notes","amount"],priority:"low",estimatedTime:"5-15 min"}],aq={customers:"/templates/customer-import-template.xlsx","price-book":"/templates/pricebook-import-template.xlsx",equipment:"/templates/equipment-import-template.xlsx",jobs:"/templates/job-history-import-template.xlsx"};function ar(){let{data:a,updateData:d}=o(),[e,f]=(0,c.useState)({}),[h,i]=(0,c.useState)(!1),j=ao.find(b=>b.value===a.previousSoftware),k=j?.templates||[],l=async(b,c)=>{f(a=>({...a,[b]:{type:b,status:"uploading",progress:0}}));for(let a=0;a<=100;a+=10)await new Promise(a=>setTimeout(a,200)),f(c=>({...c,[b]:{...c[b],progress:a}}));f(a=>({...a,[b]:{...a[b],status:"processing",progress:100}})),await new Promise(a=>setTimeout(a,1500));let e=Math.floor(200*Math.random())+20;f(a=>({...a,[b]:{...a[b],status:"complete",recordCount:e}})),d({dataImportCompleted:{...a.dataImportCompleted||{},[b]:{recordCount:e,importedAt:new Date().toISOString()}}})},m=Object.values(e).filter(a=>"complete"===a.status).length;return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"text-center space-y-3",children:[(0,b.jsx)("h1",{className:"text-3xl font-semibold tracking-tight",children:"Import Your Existing Data"}),(0,b.jsx)("p",{className:"text-muted-foreground text-lg max-w-lg mx-auto",children:"Bring your customers, price book, and equipment with you. Don't start from scratch."})]}),(0,b.jsxs)(af.Card,{children:[(0,b.jsxs)(af.CardHeader,{children:[(0,b.jsxs)(af.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,b.jsx)(aj.FileSpreadsheet,{className:"h-5 w-5 text-primary"}),"Where is your data coming from?"]}),(0,b.jsx)(af.CardDescription,{children:"Select your previous software and we'll provide export instructions and templates."})]}),(0,b.jsxs)(af.CardContent,{className:"space-y-4",children:[(0,b.jsxs)(A.Select,{value:a.previousSoftware||"",onValueChange:a=>{d({previousSoftware:a}),i("none"!==a&&"spreadsheet"!==a)},children:[(0,b.jsx)(A.SelectTrigger,{className:"w-full",children:(0,b.jsx)(A.SelectValue,{placeholder:"Select your previous software..."})}),(0,b.jsx)(A.SelectContent,{children:ao.map(a=>{let c=a.icon||aj.FileSpreadsheet;return(0,b.jsx)(A.SelectItem,{value:a.value,children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(c,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)("span",{children:a.label})]})},a.value)})})]}),j&&"none"!==j.value&&j.exportGuide&&(0,b.jsx)("div",{className:"p-4 rounded-lg bg-blue-50 dark:bg-blue-950/30 border border-blue-200 dark:border-blue-800",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"p-2 rounded-full bg-blue-100 dark:bg-blue-900",children:(0,b.jsx)(V.HelpCircle,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("p",{className:"font-medium text-blue-900 dark:text-blue-100",children:["How to export from ",j.label]}),(0,b.jsx)("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:j.description}),(0,b.jsx)(g.Button,{variant:"link",className:"h-auto p-0 text-blue-600",asChild:!0,children:(0,b.jsxs)("a",{href:j.exportGuide,target:"_blank",rel:"noopener noreferrer",children:["View export guide",(0,b.jsx)(W.ExternalLink,{className:"ml-1 h-3 w-3"})]})})]})]})}),"none"===a.previousSoftware&&(0,b.jsx)("div",{className:"p-4 rounded-lg bg-green-50 dark:bg-green-950/30 border border-green-200 dark:border-green-800",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(am.CheckCircle2,{className:"h-5 w-5 text-green-600 dark:text-green-400 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-green-900 dark:text-green-100",children:"Great! Starting fresh"}),(0,b.jsx)("p",{className:"text-sm text-green-700 dark:text-green-300",children:"No worries - you can add customers and services manually, or import data later from Settings > Data Import."})]})]})})]})]}),a.previousSoftware&&"none"!==a.previousSoftware&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-lg font-medium",children:"Choose what to import"}),m>0&&(0,b.jsxs)(ah.Badge,{variant:"secondary",className:"bg-green-100 text-green-800",children:[m," import",1!==m&&"s"," complete"]})]}),(0,b.jsx)("div",{className:"grid gap-4",children:ap.map(a=>{let c,d=a.icon,f=k.includes(a.id),h=e[a.id];return(0,b.jsx)(af.Card,{className:(0,p.cn)("transition-all",!f&&"opacity-50",h?.status==="complete"&&"border-green-500 bg-green-50/50 dark:bg-green-950/20"),children:(0,b.jsxs)(af.CardContent,{className:"p-4",children:[(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:(0,p.cn)("p-2 rounded-lg",h?.status==="complete"?"bg-green-100 dark:bg-green-900":"bg-muted"),children:h?.status==="complete"?(0,b.jsx)(am.CheckCircle2,{className:"h-5 w-5 text-green-600"}):(0,b.jsx)(d,{className:"h-5 w-5"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("h3",{className:"font-medium",children:a.label}),(0,b.jsx)(ah.Badge,{variant:"outline",className:(0,p.cn)("text-xs","high"===a.priority?"border-orange-300 text-orange-700":"medium"===a.priority?"border-blue-300 text-blue-700":"border-gray-300 text-gray-600"),children:"high"===a.priority?"Recommended":"Optional"})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:a.description}),h&&"complete"!==h.status&&(0,b.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,b.jsx)(ai.Progress,{value:h.progress,className:"h-2"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"uploading"===h.status?`Uploading... ${h.progress}%`:"Processing your data..."})]}),h?.status==="complete"&&(0,b.jsxs)("div",{className:"mt-2 flex items-center gap-2 text-sm text-green-600",children:[(0,b.jsx)(am.CheckCircle2,{className:"h-4 w-4"}),(0,b.jsxs)("span",{children:[h.recordCount," records imported successfully"]})]})]}),(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsx)(g.Button,{variant:"outline",size:"sm",asChild:!0,disabled:!f,children:(0,b.jsxs)("a",{href:aq[a.id],download:!0,children:[(0,b.jsx)(an.Download,{className:"h-3.5 w-3.5 mr-1"}),"Template"]})}),f&&h?.status!=="complete"&&(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:"file",accept:".csv,.xlsx,.xls",onChange:(c=a.id,a=>{let b=a.target.files?.[0];b&&l(c,b)}),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",disabled:h?.status==="uploading"||h?.status==="processing"}),(0,b.jsxs)(g.Button,{size:"sm",disabled:h?.status==="uploading"||h?.status==="processing",children:[(0,b.jsx)(T.Upload,{className:"h-3.5 w-3.5 mr-1"}),"Upload"]})]})]})]}),(0,b.jsx)(ag.Accordion,{type:"single",collapsible:!0,className:"mt-3",children:(0,b.jsxs)(ag.AccordionItem,{value:"fields",className:"border-0",children:[(0,b.jsx)(ag.AccordionTrigger,{className:"text-xs text-muted-foreground py-2 hover:no-underline",children:"View expected fields"}),(0,b.jsx)(ag.AccordionContent,{children:(0,b.jsx)("div",{className:"flex flex-wrap gap-1.5 pt-1",children:a.fields.map(a=>(0,b.jsx)(ah.Badge,{variant:"secondary",className:"text-xs font-mono",children:a},a))})})]})})]})},a.id)})})]}),(0,b.jsx)(af.Card,{className:"bg-gradient-to-r from-primary/5 to-primary/10 border-primary/20",children:(0,b.jsx)(af.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"p-3 rounded-full bg-primary/10",children:(0,b.jsx)(J.Phone,{className:"h-6 w-6 text-primary"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"font-semibold",children:"Need help migrating your data?"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Our team can help you export and import your data from any system. Schedule a free 30-minute data migration call."})]}),(0,b.jsxs)(g.Button,{variant:"outline",children:["Schedule Call",(0,b.jsx)(L.ArrowRight,{className:"ml-2 h-4 w-4"})]})]})})}),(0,b.jsxs)("div",{className:"flex items-center justify-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)(G.Clock,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"none"===a.previousSoftware?"You can skip this step and import data later":"Most imports complete in under 5 minutes"})]})]})}var as=a.i(97997),at=a.i(246840),au=a.i(319895);let av=[{id:"quickbooks",name:"QuickBooks",description:"Sync invoices, payments, and customer data automatically",logo:"/integrations/quickbooks-logo.svg",popular:!0,benefits:["Invoices sync automatically to QuickBooks","Customer data stays in sync","Payment reconciliation made easy","No more double data entry"],fields:["Invoices","Payments","Customers","Products/Services"],setupTime:"2 minutes",category:"accounting"},{id:"google-calendar",name:"Google Calendar",description:"Sync job schedules to your Google Calendar",logo:"/integrations/google-calendar-logo.svg",popular:!0,benefits:["See all jobs on your Google Calendar","Technicians get schedule updates","Prevent double-booking","Works with mobile devices"],fields:["Jobs","Appointments","Schedules"],setupTime:"1 minute",category:"calendar"},{id:"stripe",name:"Stripe",description:"Accept credit card payments from customers",logo:"/integrations/stripe-logo.svg",popular:!1,benefits:["Accept all major credit cards","Secure payment processing","Automatic payment receipts","ACH bank transfers"],fields:["Payments","Invoices"],setupTime:"5 minutes",category:"payments",note:"Set up in Payments step"}],aw=[{icon:ak.DollarSign,title:"Save 5+ hours/week",description:"No more manually entering data in multiple systems"},{icon:at.RefreshCw,title:"Real-time sync",description:"Data updates automatically across all connected apps"},{icon:as.AlertCircle,title:"Reduce errors",description:"Eliminate typos and missed entries from manual data entry"}];function ax(){let{data:a,updateData:d}=o(),[e,f]=(0,c.useState)(null),h=async a=>{f(a),await new Promise(a=>setTimeout(a,2e3)),"quickbooks"===a?d({quickbooksConnected:!0,quickbooksCompanyId:"qb_demo_12345",quickbooksLastSync:new Date().toISOString()}):"google-calendar"===a&&d({googleCalendarConnected:!0,googleCalendarId:"primary"}),f(null)},i=[a.quickbooksConnected,a.googleCalendarConnected].filter(Boolean).length;return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"text-center space-y-3",children:[(0,b.jsx)("h1",{className:"text-3xl font-semibold tracking-tight",children:"Connect Your Apps"}),(0,b.jsx)("p",{className:"text-muted-foreground text-lg max-w-lg mx-auto",children:"Link the tools you already use. Everything stays in sync automatically."})]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:aw.map(a=>{let c=a.icon;return(0,b.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/40",children:[(0,b.jsx)("div",{className:"p-2 rounded-full bg-primary/10",children:(0,b.jsx)(c,{className:"h-4 w-4 text-primary"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-sm",children:a.title}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:a.description})]})]},a.title)})}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h2",{className:"text-lg font-medium",children:"Available Integrations"}),i>0&&(0,b.jsxs)(ah.Badge,{variant:"secondary",className:"bg-green-100 text-green-800",children:[i," connected"]})]}),(0,b.jsx)("div",{className:"grid gap-4",children:av.map(c=>{var f;let i="quickbooks"===(f=c.id)?a.quickbooksConnected:"google-calendar"===f&&a.googleCalendarConnected,j=e===c.id;return(0,b.jsx)(af.Card,{className:(0,p.cn)("transition-all",i&&"border-green-500 bg-green-50/50 dark:bg-green-950/20"),children:(0,b.jsx)(af.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:(0,p.cn)("w-12 h-12 rounded-lg flex items-center justify-center",i?"bg-green-100 dark:bg-green-900":"bg-muted"),children:i?(0,b.jsx)(am.CheckCircle2,{className:"h-6 w-6 text-green-600"}):"quickbooks"===c.id?(0,b.jsx)(au.FileText,{className:"h-6 w-6 text-green-700"}):"google-calendar"===c.id?(0,b.jsx)(K.Calendar,{className:"h-6 w-6 text-blue-600"}):(0,b.jsx)(ak.DollarSign,{className:"h-6 w-6 text-purple-600"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("h3",{className:"font-semibold",children:c.name}),c.popular&&(0,b.jsx)(ah.Badge,{variant:"secondary",className:"text-xs",children:"Popular"}),i&&(0,b.jsx)(ah.Badge,{className:"bg-green-100 text-green-800 border-green-200",children:"Connected"})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:c.description}),!i&&(0,b.jsx)("div",{className:"mt-3 grid grid-cols-2 gap-2",children:c.benefits.slice(0,4).map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)(am.CheckCircle2,{className:"h-3.5 w-3.5 text-green-500 flex-shrink-0"}),(0,b.jsx)("span",{children:a})]},c))}),i&&(0,b.jsxs)("div",{className:"mt-3 flex flex-wrap gap-2",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Syncing:"}),c.fields.map(a=>(0,b.jsx)(ah.Badge,{variant:"outline",className:"text-xs",children:a},a))]}),c.note&&(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mt-2 flex items-center gap-1",children:[(0,b.jsx)(G.Clock,{className:"h-3 w-3"}),c.note]})]}),(0,b.jsx)("div",{className:"flex flex-col gap-2",children:c.note?(0,b.jsx)(g.Button,{variant:"outline",size:"sm",disabled:!0,children:"Later"}):i?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g.Button,{variant:"outline",size:"sm",onClick:()=>{var a;"quickbooks"===(a=c.id)?d({quickbooksConnected:!1,quickbooksCompanyId:null,quickbooksLastSync:null}):"google-calendar"===a&&d({googleCalendarConnected:!1,googleCalendarId:null})},children:"Disconnect"}),(0,b.jsxs)("span",{className:"text-xs text-muted-foreground text-center",children:[(0,b.jsx)(G.Clock,{className:"h-3 w-3 inline mr-1"}),"Just now"]})]}):(0,b.jsx)(g.Button,{size:"sm",onClick:()=>h(c.id),disabled:j,children:j?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(at.RefreshCw,{className:"h-3.5 w-3.5 mr-1 animate-spin"}),"Connecting..."]}):(0,b.jsxs)(b.Fragment,{children:["Connect",(0,b.jsx)(L.ArrowRight,{className:"h-3.5 w-3.5 ml-1"})]})})})]})})},c.id)})})]}),!a.quickbooksConnected&&(0,b.jsx)(af.Card,{className:"bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-950/30 dark:to-emerald-950/30 border-green-200 dark:border-green-800",children:(0,b.jsx)(af.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"p-3 rounded-full bg-green-100 dark:bg-green-900",children:(0,b.jsx)(F.Sparkles,{className:"h-6 w-6 text-green-600"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"font-semibold text-green-900 dark:text-green-100",children:"Why connect QuickBooks now?"}),(0,b.jsx)("p",{className:"text-sm text-green-700 dark:text-green-300 mt-1",children:"Connecting early means all your Thorbis invoices and payments will automatically appear in QuickBooks from day one. No catch-up needed later."}),(0,b.jsxs)("ul",{className:"mt-3 space-y-1",children:[(0,b.jsxs)("li",{className:"text-sm text-green-700 dark:text-green-300 flex items-center gap-2",children:[(0,b.jsx)(am.CheckCircle2,{className:"h-4 w-4 text-green-500"}),"Import existing customers from QuickBooks"]}),(0,b.jsxs)("li",{className:"text-sm text-green-700 dark:text-green-300 flex items-center gap-2",children:[(0,b.jsx)(am.CheckCircle2,{className:"h-4 w-4 text-green-500"}),"Sync products/services to your price book"]}),(0,b.jsxs)("li",{className:"text-sm text-green-700 dark:text-green-300 flex items-center gap-2",children:[(0,b.jsx)(am.CheckCircle2,{className:"h-4 w-4 text-green-500"}),"Automatic payment reconciliation"]})]})]})]})})}),(0,b.jsx)("div",{className:"text-center text-sm text-muted-foreground",children:(0,b.jsxs)("p",{children:["Don't use any of these apps? No problem - you can skip this step and connect integrations later from ",(0,b.jsx)("span",{className:"font-medium",children:"Settings > Integrations"}),"."]})})]})}a.i(650756);var ay=a.i(560450),az=a.i(128952),aA=a.i(998574),aB=a.i(706544),aC=a.i(226617),aC=aC,aD=(0,e.createServerReference)("40a9f674fc951b955911a357335a67599afc762e52",e.callServer,void 0,e.findSourceMapURL,"checkPortability"),aE=a.i(253520),aF=a.i(587488),aG=a.i(240716);let aH={draft:{label:"Draft",description:"Order created, not yet submitted",icon:aF.Circle,color:"text-muted-foreground"},"in-process":{label:"Processing",description:"Reviewing your porting request",icon:w.Loader2,color:"text-blue-500"},submitted:{label:"Submitted to Carrier",description:"Sent to your current carrier for approval",icon:G.Clock,color:"text-amber-500"},exception:{label:"Needs Attention",description:"Additional information required",icon:U.AlertTriangle,color:"text-destructive"},"foc-date-confirmed":{label:"Scheduled",description:"Porting date confirmed with carrier",icon:K.Calendar,color:"text-green-500"},ported:{label:"Complete",description:"Number successfully ported!",icon:am.CheckCircle2,color:"text-green-500"},cancelled:{label:"Cancelled",description:"Porting order was cancelled",icon:as.AlertCircle,color:"text-muted-foreground"}},aI=[{id:"submitted",label:"Submitted"},{id:"in-process",label:"Processing"},{id:"foc-date-confirmed",label:"Scheduled"},{id:"ported",label:"Complete"}];function aJ({portingOrderId:a,phoneNumber:d,carrier:e,estimatedFocDate:f,onStatusChange:h}){let[i,j]=(0,c.useState)("submitted"),[k,l]=(0,c.useState)(new Date),[m,n]=(0,c.useState)(!0),[o,q]=(0,c.useState)(null);(0,c.useEffect)(()=>{if(!m)return;let b=async()=>{try{let b=await fetch(`/api/phone/porting-status?orderId=${a}`),c=await b.json();c.success&&c.status&&(j(c.status),l(new Date),h?.(c.status),("ported"===c.status||"cancelled"===c.status)&&n(!1))}catch(a){q("Unable to check status. We'll keep trying...")}};b();let c=setInterval(b,3e4);return()=>clearInterval(c)},[a,m,h]);let r=aH[i],s=r.icon,t=["submitted","in-process","foc-date-confirmed","ported"].indexOf(i);return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"rounded-lg bg-muted/40 p-6 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:(0,p.cn)("flex h-12 w-12 items-center justify-center rounded-full bg-background",r.icon===w.Loader2&&"animate-pulse"),children:(0,b.jsx)(s,{className:(0,p.cn)("h-6 w-6",r.color,r.icon===w.Loader2&&"animate-spin")})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold",children:r.label}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:r.description}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mt-2",children:["Last updated: ",k.toLocaleTimeString(),m&&" â€¢ Checking for updates..."]})]})]}),(0,b.jsx)("div",{className:"flex items-center justify-between gap-2 pt-4",children:aI.map((a,c)=>{let d=c<t,e=c===t;return(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,b.jsxs)("div",{className:"flex flex-col items-center gap-1 min-w-0",children:[(0,b.jsx)("div",{className:(0,p.cn)("flex h-8 w-8 items-center justify-center rounded-full text-xs font-medium",d&&"bg-green-500 text-white",e&&"bg-primary text-primary-foreground ring-2 ring-primary ring-offset-2",!d&&!e&&"bg-muted text-muted-foreground"),children:d?(0,b.jsx)(aE.CheckCircle,{className:"h-4 w-4"}):c+1}),(0,b.jsx)("span",{className:"text-xs text-center font-medium",children:a.label})]}),c<aI.length-1&&(0,b.jsx)("div",{className:(0,p.cn)("h-0.5 flex-1",d?"bg-green-500":"bg-muted")})]},a.id)})})]}),(0,b.jsxs)("div",{className:"rounded-lg border bg-card p-5",children:[(0,b.jsx)("h4",{className:"font-semibold mb-4",children:"Important Information"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(G.Clock,{className:"h-5 w-5 text-muted-foreground flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:"Timeline"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"2-4 weeks is standard for all carriers"})]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(D.Building2,{className:"h-5 w-5 text-muted-foreground flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:"Porting Service"}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Telnyx coordinates the port with ",e]})]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(x.Info,{className:"h-5 w-5 text-muted-foreground flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:"Timeline Control"}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e," controls the processing time - we cannot speed it up"]})]})]})]})]}),(0,b.jsx)("div",{className:"rounded-lg bg-destructive/15 ring-2 ring-destructive/50 p-5 space-y-3",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-destructive flex-shrink-0",children:(0,b.jsx)(U.AlertTriangle,{className:"h-5 w-5 text-white"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-base font-bold text-destructive",children:"CRITICAL: DO NOT Cancel Your Service!"}),(0,b.jsxs)("p",{className:"text-sm text-foreground mt-2 font-medium",children:["Canceling your service with ",e," WILL CANCEL THE PORT and you'll lose your phone number permanently!"]}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground mt-2",children:["Keep paying ",e," and keep your service active until you receive confirmation that the port is complete. This is the #1 mistake that cancels ports."]})]})]})}),(0,b.jsxs)("div",{className:"rounded-lg border bg-card p-5 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(K.Calendar,{className:"h-5 w-5 text-primary flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:"Estimated Completion Date"}),(0,b.jsx)("p",{className:"text-base font-semibold mt-1",children:new Date(f).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})})]})]}),(0,b.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(G.Clock,{className:"h-5 w-5 text-muted-foreground flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-foreground",children:"Standard Timeline: 2-4 weeks"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1",children:"This is the industry-standard timeline for all carriers due to federal regulations and verification requirements."})]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(D.Building2,{className:"h-5 w-5 text-muted-foreground flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-foreground",children:"Third-Party Service"}),(0,b.jsxs)("p",{className:"text-muted-foreground mt-1",children:["We use Telnyx, a professional porting service, to coordinate with ",e,". The timeline is controlled by ",e," and federal regulations - not by us or Telnyx."]})]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(x.Info,{className:"h-5 w-5 text-muted-foreground flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-foreground",children:"What You Can Expect"}),(0,b.jsxs)("p",{className:"text-muted-foreground mt-1",children:["We'll email you with updates throughout the process and notify you immediately when the port is complete. The timeline can vary based on ",e,"'s internal processes and workload. We appreciate your patience!"]})]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("h4",{className:"text-sm font-medium",children:"Porting Details"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Phone Number:"}),(0,b.jsx)("span",{className:"font-medium",children:d})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Current Carrier:"}),(0,b.jsx)("span",{className:"font-medium",children:e})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Order ID:"}),(0,b.jsxs)("span",{className:"font-mono text-xs",children:[a.slice(0,12),"..."]})]})]})]}),"exception"===i&&(0,b.jsxs)("div",{className:"rounded-lg bg-destructive/10 p-4 space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(U.AlertTriangle,{className:"h-5 w-5 text-destructive flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-destructive",children:"Action Required"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Your current carrier needs additional information to complete the port. Please check your email for details or contact support."})]})]}),(0,b.jsxs)(g.Button,{variant:"destructive",className:"w-full",children:[(0,b.jsx)(J.Phone,{className:"mr-2 h-4 w-4"}),"Contact Support"]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("h4",{className:"text-base font-semibold flex items-center gap-2",children:[(0,b.jsx)(x.Info,{className:"h-5 w-5"}),"Critical Instructions - Must Read!"]}),(0,b.jsx)("div",{className:"rounded-lg border bg-card p-5 space-y-4",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-green-500/10 flex-shrink-0 mt-0.5",children:(0,b.jsx)(am.CheckCircle2,{className:"h-5 w-5 text-green-500"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-foreground mb-3",children:"You must do these:"}),(0,b.jsxs)("ul",{className:"text-sm text-muted-foreground space-y-2 list-disc list-inside",children:[(0,b.jsxs)("li",{className:"font-medium text-foreground",children:["Keep your service ACTIVE with ",e," until you receive our completion email - usually 2-4 weeks"]}),(0,b.jsxs)("li",{className:"font-medium text-foreground",children:["Continue paying ",e,"'s bills on time - do NOT let your account go past due"]}),(0,b.jsxs)("li",{children:["Keep your account number and PIN/password accessible in case ",e," contacts you for verification"]}),(0,b.jsxs)("li",{children:["Check your email daily for updates from us and ",e," - they may request additional information"]}),(0,b.jsxs)("li",{children:["Be patient - this is the standard industry timeline for ALL carriers, not just ",e]}),(0,b.jsxs)("li",{children:["Contact us immediately if ",e," reaches out about canceling your service"]})]})]})]})}),(0,b.jsx)("div",{className:"rounded-lg border-2 border-destructive bg-destructive/5 p-5 space-y-4",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-destructive/20 flex-shrink-0 mt-0.5",children:(0,b.jsx)(aG.XCircle,{className:"h-5 w-5 text-destructive"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-sm font-semibold text-destructive mb-3",children:"Never do these (port will fail!):"}),(0,b.jsxs)("ul",{className:"text-sm text-foreground space-y-2 list-disc list-inside",children:[(0,b.jsxs)("li",{className:"font-bold text-destructive",children:["DO NOT cancel, disconnect, or terminate your service with ",e," - this IMMEDIATELY cancels the port and you'll lose your number forever!"]}),(0,b.jsxs)("li",{className:"font-medium",children:["DO NOT change your account information, billing address, or PIN with ",e," during porting"]}),(0,b.jsxs)("li",{className:"font-medium",children:["DO NOT request a new SIM card, phone number change, or plan change from ",e]}),(0,b.jsx)("li",{children:"DO NOT port to another carrier simultaneously - this will cause both ports to fail"}),(0,b.jsxs)("li",{children:["DO NOT let your account become delinquent, past due, or suspended with ",e]}),(0,b.jsxs)("li",{children:["DO NOT contact ",e,' asking to "speed up" the port - they control the timeline']})]})]})]})}),(0,b.jsxs)("div",{className:"rounded-lg border bg-card p-5 space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(G.Clock,{className:"h-4 w-4 text-muted-foreground flex-shrink-0 mt-0.5"}),(0,b.jsx)("p",{className:"text-sm font-medium text-foreground",children:"Why does it take 2-4 weeks?"})]}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Federal regulations (FCC rules) require carriers to verify account ownership and prevent fraud. ",e," must:"]}),(0,b.jsxs)("ul",{className:"text-sm text-muted-foreground space-y-1 list-disc list-inside ml-4",children:[(0,b.jsx)("li",{children:"Verify your account details match our porting request (1-3 days)"}),(0,b.jsx)("li",{children:"Confirm you're the authorized account holder (2-5 days)"}),(0,b.jsx)("li",{children:"Check for outstanding balances or contract obligations (1-2 days)"}),(0,b.jsx)("li",{children:"Schedule the port date (FOC) with Telnyx (1-2 days notice required)"}),(0,b.jsx)("li",{children:"Complete the actual number transfer (happens automatically on FOC date)"})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"This is not unique to us - ALL phone companies must follow this same process. We appreciate your patience!"})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("h4",{className:"text-sm font-semibold",children:["The porting process (controlled by ",e," and Telnyx)"]}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Note: Telnyx is our third-party porting service provider. Neither we nor Telnyx control the timeline - ",e," does."]}),(0,b.jsxs)("div",{className:"space-y-3 text-sm text-muted-foreground",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-primary/10 flex-shrink-0 mt-0.5",children:(0,b.jsx)("span",{className:"text-xs font-medium text-primary",children:"1"})}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{className:"text-foreground",children:"Submission (Day 1):"})," Telnyx has submitted your porting request to ",e," via the industry-standard LSR (Local Service Request) system. ",e," has 24-48 hours to acknowledge it."]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-primary/10 flex-shrink-0 mt-0.5",children:(0,b.jsx)("span",{className:"text-xs font-medium text-primary",children:"2"})}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{className:"text-foreground",children:"Verification (1-2 weeks):"})," ",e," will verify your account details, check for outstanding balances, and approve the port. This is entirely controlled by ",e,"'s internal processes - we cannot speed this up."]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-primary/10 flex-shrink-0 mt-0.5",children:(0,b.jsx)("span",{className:"text-xs font-medium text-primary",children:"3"})}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{className:"text-foreground",children:"Scheduling (FOC Date):"})," Once ",e,' approves, Telnyx will coordinate with them to schedule the "Firm Order Commitment" (FOC) date. You\'ll receive 24 hours notice before the switch.']})]}),(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-primary/10 flex-shrink-0 mt-0.5",children:(0,b.jsx)("span",{className:"text-xs font-medium text-primary",children:"4"})}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{className:"text-foreground",children:"Completion:"})," On the FOC date, ",e," will release your number and Telnyx will activate it on our platform. This happens automatically and usually takes a few minutes. You'll receive a confirmation email from us."]})]})]}),(0,b.jsx)("div",{className:"rounded-lg bg-muted/40 p-3 mt-3",children:(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(0,b.jsx)("strong",{className:"text-foreground",children:"Important:"})," We monitor the port status daily and will email you immediately if ",e," requests additional information or if there are any issues. The entire process is automated between Telnyx and ",e," - we cannot manually intervene to speed it up."]})})]}),(0,b.jsxs)("div",{className:"rounded-lg border border-muted p-4 space-y-3",children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:"Need help or have questions?"}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,b.jsxs)(g.Button,{variant:"outline",className:"flex-1",children:[(0,b.jsx)(J.Phone,{className:"mr-2 h-4 w-4"}),"Call Support"]}),(0,b.jsxs)(g.Button,{variant:"outline",className:"flex-1",children:[(0,b.jsx)(W.ExternalLink,{className:"mr-2 h-4 w-4"}),"View Help Center"]})]})]}),o&&(0,b.jsxs)("p",{className:"text-xs text-muted-foreground text-center",children:[(0,b.jsx)(as.AlertCircle,{className:"inline h-3 w-3 mr-1"}),o]})]})}function aK(a){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(a)}process.env.STRIPE_PRICE_ID_PHONE_PORTING,process.env.STRIPE_PRICE_ID_PHONE_NEW_NUMBER_SETUP,process.env.STRIPE_PRICE_ID_BASE_PLAN,process.env.STRIPE_PRICE_ID_PHONE_NEW_NUMBER_MONTHLY,process.env.STRIPE_PRICE_ID_GMAIL_WORKSPACE_PER_USER,process.env.STRIPE_PRICE_ID_PROFIT_RHINO;let aL=[{id:"new",title:"Get a new number",subtitle:"Ready instantly",icon:aA.Smartphone,pricing:`${aK(5)} setup + ${aK(2)}/month`},{id:"port",title:"Port existing number",subtitle:"Keep your current number",icon:aB.ArrowRightLeft,pricing:`${aK(15)} one-time`},{id:"skip",title:"Skip for now",subtitle:"Set up later",icon:aC.default}];function aM(){let a,{data:d,updateData:e}=o(),[f,h]=(0,c.useState)(!1),[i,j]=(0,c.useState)({checked:!1,portable:null,carrier:null,error:null}),[k,l]=(0,c.useState)(""),[m,n]=(0,c.useState)(""),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(""),[u,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)(null),B=((a=new Date).setDate(a.getDate()+21),a.toISOString().split("T")[0]),C=async()=>{if(d.phoneNumber){h(!0),j({checked:!1,portable:null,carrier:null,error:null});try{let a=await aD(d.phoneNumber);a.success?(j({checked:!0,portable:a.portable||!1,carrier:a.carrier||null,error:a.portable?null:"This number cannot be ported. Please contact your current carrier."}),a.carrier&&l(a.carrier)):j({checked:!0,portable:null,carrier:null,error:a.error||"Failed to check portability"})}catch(a){j({checked:!0,portable:null,carrier:null,error:"Failed to check portability. Please try again."})}finally{h(!1)}}},E=i.checked&&i.portable&&d.phoneNumber&&k&&m;return(0,b.jsxs)("div",{className:"space-y-10",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold",children:"Phone & SMS"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"A dedicated business line keeps work and personal separate."})]}),!d.phoneSetupType&&(0,b.jsxs)("div",{className:"rounded-lg border bg-muted/30 p-4",children:[(0,b.jsxs)("button",{type:"button",className:"w-full flex items-center justify-between text-left",onClick:a=>{let b=a.currentTarget.nextElementSibling;b&&b.classList.toggle("hidden")},children:[(0,b.jsxs)("span",{className:"text-sm font-medium flex items-center gap-2",children:[(0,b.jsx)(x.Info,{className:"h-4 w-4 text-primary"}),"Not sure which option to choose?"]}),(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Show comparison"})]}),(0,b.jsx)("div",{className:"hidden mt-4 pt-4 border-t",children:(0,b.jsxs)("div",{className:"grid sm:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2 p-3 rounded bg-background",children:[(0,b.jsx)("p",{className:"font-medium text-sm",children:"Get a new number"}),(0,b.jsxs)("ul",{className:"space-y-1 text-sm text-muted-foreground",children:[(0,b.jsxs)("li",{className:"flex items-center gap-2",children:[(0,b.jsx)(v.Check,{className:"h-3.5 w-3.5 text-green-500"}),"Ready in minutes"]}),(0,b.jsxs)("li",{className:"flex items-center gap-2",children:[(0,b.jsx)(v.Check,{className:"h-3.5 w-3.5 text-green-500"}),"No paperwork required"]}),(0,b.jsxs)("li",{className:"flex items-center gap-2",children:[(0,b.jsx)(v.Check,{className:"h-3.5 w-3.5 text-green-500"}),"Choose your area code"]}),(0,b.jsxs)("li",{className:"flex items-center gap-2 text-amber-600",children:[(0,b.jsx)(U.AlertTriangle,{className:"h-3.5 w-3.5"}),"Customers need new number"]})]}),(0,b.jsx)("p",{className:"text-xs text-primary font-medium pt-2",children:"Best for: New businesses, side projects"})]}),(0,b.jsxs)("div",{className:"space-y-2 p-3 rounded bg-background",children:[(0,b.jsx)("p",{className:"font-medium text-sm",children:"Port existing number"}),(0,b.jsxs)("ul",{className:"space-y-1 text-sm text-muted-foreground",children:[(0,b.jsxs)("li",{className:"flex items-center gap-2",children:[(0,b.jsx)(v.Check,{className:"h-3.5 w-3.5 text-green-500"}),"Keep your current number"]}),(0,b.jsxs)("li",{className:"flex items-center gap-2",children:[(0,b.jsx)(v.Check,{className:"h-3.5 w-3.5 text-green-500"}),"No customer confusion"]}),(0,b.jsxs)("li",{className:"flex items-center gap-2",children:[(0,b.jsx)(v.Check,{className:"h-3.5 w-3.5 text-green-500"}),"One-time fee only"]}),(0,b.jsxs)("li",{className:"flex items-center gap-2 text-amber-600",children:[(0,b.jsx)(G.Clock,{className:"h-3.5 w-3.5"}),"Takes 2-4 weeks"]})]}),(0,b.jsx)("p",{className:"text-xs text-primary font-medium pt-2",children:"Best for: Established businesses"})]})]})})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Choose setup method"}),(0,b.jsx)("div",{className:"grid gap-3",children:aL.map(a=>{let c=a.icon,f=d.phoneSetupType===a.id;return(0,b.jsxs)("button",{type:"button",onClick:()=>{e({phoneSetupType:a.id}),"new"===a.id?e({newPhoneNumberCount:1,phonePortingCount:0}):"port"===a.id?e({phonePortingCount:1,newPhoneNumberCount:0}):e({phonePortingCount:0,newPhoneNumberCount:0}),"port"!==a.id&&j({checked:!1,portable:null,carrier:null,error:null})},className:(0,p.cn)("relative flex items-center gap-4 rounded-lg border-2 p-4 text-left transition-all",f?"border-primary bg-primary/5":"border-transparent bg-muted/40 hover:bg-muted/60"),children:[f&&(0,b.jsx)("div",{className:"absolute top-3 right-3",children:(0,b.jsx)(v.Check,{className:"h-4 w-4 text-primary"})}),(0,b.jsx)("div",{className:(0,p.cn)("flex h-10 w-10 items-center justify-center rounded-full",f?"bg-primary text-primary-foreground":"bg-muted"),children:(0,b.jsx)(c,{className:"h-5 w-5"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-medium",children:a.title}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.subtitle}),a.pricing&&(0,b.jsx)("p",{className:"text-sm font-medium text-primary mt-1",children:a.pricing})]})]},a.id)})})]}),"new"===d.phoneSetupType&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(R.Label,{htmlFor:"areaCode",children:"Preferred area code"}),(0,b.jsx)(Q.Input,{id:"areaCode",placeholder:"e.g., 555",maxLength:3,className:"w-[120px]"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Optional. We'll match your location if not specified."})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(az.MessageSquare,{className:"h-5 w-5 text-muted-foreground"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"Enable SMS"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Send appointment reminders"})]})]}),(0,b.jsx)(ay.Switch,{checked:d.smsEnabled,onCheckedChange:a=>e({smsEnabled:a})})]})]}),"port"===d.phoneSetupType&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(R.Label,{htmlFor:"portNumber",children:["Number to port ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(Q.Input,{id:"portNumber",type:"tel",placeholder:"(555) 123-4567",value:d.phoneNumber,onChange:a=>{e({phoneNumber:a.target.value}),i.checked&&j({checked:!1,portable:null,carrier:null,error:null})},className:"flex-1"}),(0,b.jsx)(g.Button,{type:"button",variant:"outline",onClick:C,disabled:!d.phoneNumber||f,children:f?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(w.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Checking..."]}):"Check"})]})]}),i.checked&&(0,b.jsxs)(b.Fragment,{children:[i.portable&&(0,b.jsxs)("div",{className:"flex items-start gap-3 bg-green-500/10 rounded-lg p-4",children:[(0,b.jsx)(am.CheckCircle2,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsx)("p",{className:"font-medium text-green-700 dark:text-green-400",children:"Number is portable!"}),i.carrier&&(0,b.jsxs)("p",{className:"text-muted-foreground",children:["Current carrier detected: ",i.carrier]})]})]}),i.error&&(0,b.jsxs)("div",{className:"flex items-start gap-3 bg-destructive/10 rounded-lg p-4",children:[(0,b.jsx)(U.AlertTriangle,{className:"h-5 w-5 text-destructive flex-shrink-0 mt-0.5"}),(0,b.jsx)("div",{className:"text-sm",children:(0,b.jsx)("p",{className:"font-medium text-destructive",children:i.error})})]})]})]}),i.checked&&i.portable&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"rounded-lg border-2 border-destructive bg-destructive/5 p-5",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-destructive/10 flex-shrink-0",children:(0,b.jsx)(U.AlertTriangle,{className:"h-5 w-5 text-destructive"})}),(0,b.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-base font-semibold text-destructive",children:"Do Not Cancel Your Current Service"}),(0,b.jsxs)("p",{className:"text-sm text-foreground mt-1",children:["Canceling your service with ",i.carrier," will immediately cancel the port and you will lose your phone number permanently."]})]}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["You must keep your ",i.carrier," service active and paid until you receive confirmation that the port is complete."]})]})]})}),(0,b.jsxs)("div",{className:"rounded-lg border bg-card p-6",children:[(0,b.jsx)("h4",{className:"font-semibold mb-4",children:"What to Expect"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(G.Clock,{className:"h-5 w-5 text-muted-foreground flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:"Processing Time"}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["2-4 weeks is standard for all carriers. This timeline is controlled by ",i.carrier," and federal regulations."]})]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(D.Building2,{className:"h-5 w-5 text-muted-foreground flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:"Third-Party Service"}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["We use Telnyx, a professional porting service, to coordinate with ",i.carrier,". Neither we nor Telnyx can speed up the process."]})]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(am.CheckCircle2,{className:"h-5 w-5 text-muted-foreground flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:"What You Need to Do"}),(0,b.jsxs)("ul",{className:"text-sm text-muted-foreground space-y-1 ml-0 list-none",children:[(0,b.jsxs)("li",{children:["â€¢ Keep your ",i.carrier," service active"]}),(0,b.jsxs)("li",{children:["â€¢ Pay your ",i.carrier," bills on time"]}),(0,b.jsx)("li",{children:"â€¢ Check email daily for updates"}),(0,b.jsxs)("li",{children:["â€¢ Do not make any changes to your ",i.carrier," account"]})]})]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-semibold",children:"Carrier Information"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Provide your current carrier details to submit the porting order."})]}),(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2 sm:col-span-2",children:[(0,b.jsxs)(R.Label,{htmlFor:"currentCarrier",children:["Current carrier name ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsx)(Q.Input,{id:"currentCarrier",placeholder:"e.g., Verizon, AT&T, T-Mobile",value:k,onChange:a=>l(a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(R.Label,{htmlFor:"accountNumber",children:["Account number ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsx)(Q.Input,{id:"accountNumber",placeholder:"Account number with current carrier",value:m,onChange:a=>n(a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(R.Label,{htmlFor:"pinPassword",children:"PIN / Password"}),(0,b.jsx)(Q.Input,{id:"pinPassword",type:"password",placeholder:"If required by carrier",value:q,onChange:a=>r(a.target.value)}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Some carriers require a PIN"})]}),(0,b.jsxs)("div",{className:"space-y-2 sm:col-span-2",children:[(0,b.jsx)(R.Label,{htmlFor:"billingPhone",children:"Billing telephone number (BTN)"}),(0,b.jsx)(Q.Input,{id:"billingPhone",type:"tel",placeholder:"(555) 123-4567",value:s,onChange:a=>t(a.target.value)}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"The main phone number on your current carrier account"})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between rounded-lg border bg-card p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(az.MessageSquare,{className:"h-5 w-5 text-muted-foreground"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"Enable SMS"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Activates after porting completes"})]})]}),(0,b.jsx)(ay.Switch,{checked:d.smsEnabled,onCheckedChange:a=>e({smsEnabled:a})})]}),E&&!u&&(0,b.jsxs)(g.Button,{type:"button",onClick:async()=>{e({portingStatus:"submitted",portingCarrier:k,portingAccountNumber:m,portingPin:q,portingBillingPhone:s}),A(`port_${Date.now()}`),y(!0)},className:"w-full",variant:"default",children:[(0,b.jsx)(am.CheckCircle2,{className:"mr-2 h-4 w-4"}),"Submit porting order"]}),u&&z&&(0,b.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)(am.CheckCircle2,{className:"h-4 w-4 text-green-500"}),(0,b.jsx)("span",{children:"Porting order submitted successfully"})]}),(0,b.jsx)(aJ,{portingOrderId:z,phoneNumber:d.phoneNumber,carrier:k,estimatedFocDate:B,onStatusChange:a=>{e({portingStatus:a})}})]})]})]}),d.smsEnabled&&"skip"!==d.phoneSetupType&&(0,b.jsxs)("div",{className:"flex items-start gap-3 text-sm text-muted-foreground bg-muted/40 rounded-lg p-4",children:[(0,b.jsx)(I.Shield,{className:"h-4 w-4 flex-shrink-0 mt-0.5"}),(0,b.jsx)("p",{children:"SMS requires business verification (10DLC). We'll guide you through this after setup using the business information you provided."})]})]})}var aN=a.i(789815),aO=a.i(332284),aC=aC,aP=a.i(821278),aQ=a.i(988253);function aR({domain:a,records:d,onVerificationComplete:e}){let[f,h]=(0,c.useState)(d),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(null),[o,q]=(0,c.useState)(0),[r,s]=(0,c.useState)(!0),t=f.filter(a=>a.verified).length,u=t===f.length;(0,c.useEffect)(()=>{if(!r||u)return;let b=async()=>{l(!0);try{let b=await fetch(`/api/email/verify-dns?domain=${encodeURIComponent(a)}`),c=await b.json();c.success&&c.records&&(h(a=>a.map(a=>{let b=c.records.find(b=>b.id===a.id)?.verified;return{...a,verified:b}})),n(new Date),c.allVerified&&(s(!1),e?.()))}catch(a){console.error("DNS check failed:",a)}finally{l(!1)}};b();let c=setInterval(b,6e4);return()=>clearInterval(c)},[a,r,u,e]),(0,c.useEffect)(()=>{let a=setInterval(()=>{q(a=>a+1)},6e4);return()=>clearInterval(a)},[]);let y=async(a,b)=>{await navigator.clipboard.writeText(a),j(b),setTimeout(()=>j(null),2e3)},z=async()=>{l(!0);try{let b=await fetch(`/api/email/verify-dns?domain=${encodeURIComponent(a)}`),c=await b.json();c.success&&c.records&&(h(a=>a.map(a=>{let b=c.records.find(b=>b.id===a.id)?.verified;return{...a,verified:b}})),n(new Date),c.allVerified&&(s(!1),e?.()))}catch(a){console.error("Manual DNS check failed:",a)}finally{l(!1)}};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"rounded-lg bg-muted/40 p-6 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[u?(0,b.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-green-500/10",children:(0,b.jsx)(am.CheckCircle2,{className:"h-6 w-6 text-green-500"})}):(0,b.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-amber-500/10 animate-pulse",children:(0,b.jsx)(G.Clock,{className:"h-6 w-6 text-amber-500"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold",children:u?"DNS Verified!":"Waiting for DNS Propagation"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:u?`Your domain ${a} is ready to send emails`:`${t} of ${f.length} records verified`}),m&&(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mt-2",children:["Last checked: ",m.toLocaleTimeString(),r&&!u&&" â€¢ Checking every 60 seconds..."]})]})]}),!u&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-primary transition-all duration-500",style:{width:`${t/f.length*100}%`}})}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground text-center",children:[Math.round(t/f.length*100),"% complete"]})]})]}),!u&&(0,b.jsx)(g.Button,{onClick:z,disabled:k,variant:"outline",className:"w-full",children:k?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(w.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Checking DNS..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(at.RefreshCw,{className:"mr-2 h-4 w-4"}),"Check Now"]})}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("h4",{className:"text-sm font-medium",children:"DNS Records"}),(0,b.jsx)("div",{className:"space-y-2",children:f.map(a=>(0,b.jsxs)("div",{className:(0,p.cn)("rounded-lg p-4 space-y-3 transition-colors",a.verified?"bg-green-500/10 ring-1 ring-green-500/20":"bg-muted/40"),children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[a.verified?(0,b.jsx)(am.CheckCircle2,{className:"h-5 w-5 text-green-500"}):(0,b.jsx)(G.Clock,{className:"h-5 w-5 text-amber-500"}),(0,b.jsxs)("span",{className:"text-sm font-medium",children:[a.type," - ",a.purpose]})]}),(0,b.jsx)(g.Button,{variant:"ghost",size:"sm",className:"h-7 px-2",onClick:()=>y(a.value,a.id),children:i===a.id?(0,b.jsx)(v.Check,{className:"h-3 w-3"}):(0,b.jsx)(aQ.Copy,{className:"h-3 w-3"})})]}),(0,b.jsxs)("div",{className:"text-xs space-y-1 font-mono",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-1",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Name:"}),(0,b.jsx)("code",{className:"bg-background px-2 py-1 rounded break-all",children:a.name})]}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-1",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Value:"}),(0,b.jsx)("code",{className:"bg-background px-2 py-1 rounded break-all",children:a.value})]})]}),a.verified&&(0,b.jsx)("p",{className:"text-xs text-green-700 dark:text-green-400 font-medium",children:"âœ“ Verified successfully"})]},a.id))})]}),!u&&(0,b.jsxs)("div",{className:"rounded-lg bg-blue-500/10 p-4 space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(aO.Globe,{className:"h-5 w-5 text-blue-500"}),(0,b.jsx)("span",{className:"font-medium",children:"DNS Propagation Timeline"})]}),(0,b.jsxs)("div",{className:"space-y-2 text-sm text-muted-foreground",children:[(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"5 minutes:"})," Most records verify this quickly if configured correctly"]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"1-2 hours:"})," Common propagation time for slower DNS providers"]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Up to 48 hours:"})," Maximum time in rare cases (usually much faster)"]})]}),o>0&&(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Time elapsed: ",o," minute",1!==o?"s":""]})]}),!u&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("h4",{className:"text-sm font-medium flex items-center gap-2",children:[(0,b.jsx)(x.Info,{className:"h-4 w-4"}),"How to Add DNS Records"]}),(0,b.jsxs)("div",{className:"space-y-3 text-sm text-muted-foreground",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-primary/10 flex-shrink-0 mt-0.5",children:(0,b.jsx)("span",{className:"text-xs font-medium text-primary",children:"1"})}),(0,b.jsxs)("p",{children:["Log into your domain registrar or DNS provider (where you bought ",a,")"]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-primary/10 flex-shrink-0 mt-0.5",children:(0,b.jsx)("span",{className:"text-xs font-medium text-primary",children:"2"})}),(0,b.jsx)("p",{children:"Find the DNS settings, DNS management, or Zone file section"})]}),(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-primary/10 flex-shrink-0 mt-0.5",children:(0,b.jsx)("span",{className:"text-xs font-medium text-primary",children:"3"})}),(0,b.jsx)("p",{children:"Add each record above exactly as shown (copy/paste the values)"})]}),(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-primary/10 flex-shrink-0 mt-0.5",children:(0,b.jsx)("span",{className:"text-xs font-medium text-primary",children:"4"})}),(0,b.jsx)("p",{children:"Save your changes and wait. We'll automatically detect when records are live."})]})]})]}),!u&&(0,b.jsxs)("div",{className:"rounded-lg border border-muted p-4 space-y-3",children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:"Need help finding DNS settings?"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsxs)(g.Button,{variant:"outline",size:"sm",className:"justify-start",children:[(0,b.jsx)(W.ExternalLink,{className:"mr-2 h-3 w-3"}),"GoDaddy"]}),(0,b.jsxs)(g.Button,{variant:"outline",size:"sm",className:"justify-start",children:[(0,b.jsx)(W.ExternalLink,{className:"mr-2 h-3 w-3"}),"Namecheap"]}),(0,b.jsxs)(g.Button,{variant:"outline",size:"sm",className:"justify-start",children:[(0,b.jsx)(W.ExternalLink,{className:"mr-2 h-3 w-3"}),"Cloudflare"]}),(0,b.jsxs)(g.Button,{variant:"outline",size:"sm",className:"justify-start",children:[(0,b.jsx)(W.ExternalLink,{className:"mr-2 h-3 w-3"}),"Google Domains"]})]})]}),!u&&o>30&&(0,b.jsx)("div",{className:"rounded-lg bg-amber-500/10 p-4 space-y-3",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(as.AlertCircle,{className:"h-5 w-5 text-amber-500 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:"Taking longer than expected?"}),(0,b.jsxs)("ul",{className:"text-sm text-muted-foreground mt-2 space-y-1 list-disc ml-4",children:[(0,b.jsx)("li",{children:"Double-check that you copied the values exactly (no extra spaces)"}),(0,b.jsx)("li",{children:"Make sure you selected the correct record type (TXT vs CNAME)"}),(0,b.jsx)("li",{children:"Some providers need you to use @ instead of the full domain name"}),(0,b.jsx)("li",{children:"Try refreshing your DNS provider's page and checking if records saved"})]})]})]})}),u&&(0,b.jsxs)("div",{className:"rounded-lg bg-green-500/10 p-4 space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(am.CheckCircle2,{className:"h-5 w-5 text-green-500"}),(0,b.jsx)("span",{className:"font-medium text-green-700 dark:text-green-400",children:"Domain verified successfully!"})]}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["You can now send emails from ",a,". All notifications and invoices will use this domain."]})]})]})}let aS=[{id:"platform",title:"Quick Setup",subtitle:"Ready instantly, no DNS needed",icon:aP.Zap,badge:"Recommended"},{id:"custom-domain",title:"Custom Domain",subtitle:"Send from yourcompany.com",icon:aO.Globe},{id:"gmail",title:"Connect Gmail",subtitle:"Google Workspace sync",icon:aN.Mail,pricing:`${aK(6)}/user/month`},{id:"outlook",title:"Connect Outlook",subtitle:"Microsoft 365 sync",icon:aN.Mail},{id:"skip",title:"Set up later",subtitle:"Configure in Settings",icon:aC.default}],aT=["gmail.com","yahoo.com","hotmail.com","outlook.com","live.com","aol.com","icloud.com","protonmail.com","mail.com"];function aU(){let{data:a,updateData:d}=o(),[e,f]=(0,c.useState)(a.customDomain||""),[h,i]=(0,c.useState)(null),[j,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(null),n=a.companyName?.toLowerCase().replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,"")||"yourcompany",q=`notifications@${n}.mail.stratos.app`,r=async()=>{let a=e.toLowerCase().trim().replace(/^https?:\/\//,"").replace(/^www\./,"");(a=>{if(i(null),!a)return i("Domain is required"),!1;let b=a.toLowerCase().trim().replace(/^https?:\/\//,"").replace(/^www\./,"");return/^[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*\.[a-z]{2,}$/.test(b)?!aT.some(a=>b===a||b.endsWith(`.${a}`))||(i("Public email domains (Gmail, Yahoo, etc.) cannot be used. Please enter your company's domain."),!1):(i("Invalid domain format. Example: yourcompany.com"),!1)})(a)&&(k(!0),await new Promise(a=>setTimeout(a,1e3)),d({customDomain:a,dnsVerified:!1,emailSetupType:"custom-domain"}),k(!1))},s=a.customDomain?[{id:"spf",type:"TXT",name:a.customDomain,value:"v=spf1 include:amazonses.com ~all",purpose:"SPF - Authorizes sending"},{id:"dkim1",type:"CNAME",name:`resend._domainkey.${a.customDomain}`,value:"resend.domainkey.resend.dev",purpose:"DKIM - Email signing"},{id:"dmarc",type:"TXT",name:`_dmarc.${a.customDomain}`,value:"v=DMARC1; p=none;",purpose:"DMARC - Policy"}]:[];return(0,b.jsxs)("div",{className:"space-y-10",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold",children:"Email setup"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Choose how invoices and notifications are sent to customers."})]}),!a.emailSetupType&&(0,b.jsx)("div",{className:"rounded-lg border bg-primary/5 p-4",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(I.Shield,{className:"h-5 w-5 text-primary flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:"Why does this matter?"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Emails from your own domain (e.g., yourcompany.com) have better deliverability and look more professional than generic addresses. Customers are more likely to open emails from a familiar sender."})]})]})}),(0,b.jsx)("div",{className:"space-y-4",children:(0,b.jsx)("div",{className:"grid gap-3",children:aS.map(c=>{let e=c.icon,f=a.emailSetupType===c.id;return(0,b.jsxs)("button",{type:"button",onClick:()=>{d({emailSetupType:c.id}),"custom-domain"!==c.id&&i(null),"gmail"!==c.id&&d({gmailWorkspaceUsers:0})},className:(0,p.cn)("relative flex items-center gap-4 rounded-lg p-4 text-left transition-all",f?"bg-primary/10 ring-2 ring-primary":"bg-muted/40 hover:bg-muted/60"),children:[c.badge&&(0,b.jsx)("span",{className:"absolute top-2 right-2 text-[10px] font-medium text-primary bg-primary/10 px-2 py-0.5 rounded-full",children:c.badge}),f&&!c.badge&&(0,b.jsx)("div",{className:"absolute top-3 right-3",children:(0,b.jsx)(v.Check,{className:"h-4 w-4 text-primary"})}),(0,b.jsx)("div",{className:(0,p.cn)("flex h-10 w-10 items-center justify-center rounded-full flex-shrink-0",f?"bg-primary text-primary-foreground":"bg-muted"),children:(0,b.jsx)(e,{className:"h-5 w-5"})}),(0,b.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,b.jsx)("p",{className:"font-medium",children:c.title}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:c.subtitle}),c.pricing&&(0,b.jsx)("p",{className:"text-sm font-medium text-primary mt-1",children:c.pricing})]})]},c.id)})})}),"platform"===a.emailSetupType&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"rounded-lg bg-green-500/10 p-4 space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(am.CheckCircle2,{className:"h-5 w-5 text-green-500"}),(0,b.jsx)("span",{className:"font-medium text-green-700 dark:text-green-400",children:"Ready to use immediately"})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Emails will be sent from:"}),(0,b.jsx)("code",{className:"block text-sm bg-background/50 p-3 rounded font-mono",children:q})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(R.Label,{htmlFor:"replyToEmail",children:"Reply-To Email (optional)"}),(0,b.jsx)(Q.Input,{id:"replyToEmail",type:"email",placeholder:"you@yourcompany.com",value:a.companyEmail,onChange:a=>d({companyEmail:a.target.value})}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Customer replies go to this address. You can upgrade to a custom domain anytime."})]})]}),"custom-domain"===a.emailSetupType&&(0,b.jsx)("div",{className:"space-y-6",children:a.customDomain?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:a.customDomain}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Verifying DNS records"})]}),(0,b.jsx)(g.Button,{variant:"ghost",size:"sm",onClick:()=>d({customDomain:"",dnsVerified:!1}),children:"Change"})]}),(0,b.jsx)(aR,{domain:a.customDomain,records:s,onVerificationComplete:()=>{d({dnsVerified:!0})}})]}):(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 p-3 rounded-lg bg-amber-500/10 border border-amber-500/20",children:[(0,b.jsx)(G.Clock,{className:"h-4 w-4 text-amber-600 flex-shrink-0"}),(0,b.jsxs)("p",{className:"text-sm text-amber-700 dark:text-amber-400",children:["DNS verification takes ",(0,b.jsx)("strong",{children:"15 minutes to 48 hours"})," depending on your provider. You can continue setup and verify later."]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(R.Label,{htmlFor:"customDomain",children:"Your Domain"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(Q.Input,{id:"customDomain",placeholder:"yourcompany.com",value:e,onChange:a=>{f(a.target.value),i(null)},className:h?"border-destructive":""}),(0,b.jsx)(g.Button,{onClick:r,disabled:!e||j,children:j?(0,b.jsx)(w.Loader2,{className:"h-4 w-4 animate-spin"}):"Verify"})]}),h&&(0,b.jsxs)("p",{className:"text-sm text-destructive flex items-center gap-2",children:[(0,b.jsx)(U.AlertTriangle,{className:"h-4 w-4"}),h]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Enter the domain you own (not Gmail, Yahoo, etc.)"})]}),(0,b.jsxs)("div",{className:"rounded-lg border bg-muted/30",children:[(0,b.jsxs)("button",{type:"button",className:"w-full flex items-center justify-between p-4 text-left",onClick:a=>{let b=a.currentTarget.nextElementSibling;b&&b.classList.toggle("hidden")},children:[(0,b.jsx)("span",{className:"text-sm font-medium",children:"How to add DNS records"}),(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Show guide"})]}),(0,b.jsxs)("div",{className:"hidden px-4 pb-4",children:[(0,b.jsxs)("ol",{className:"space-y-3 text-sm text-muted-foreground",children:[(0,b.jsxs)("li",{className:"flex gap-3",children:[(0,b.jsx)("span",{className:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full bg-primary/10 text-xs font-medium text-primary",children:"1"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-foreground",children:"Log in to your domain provider"}),(0,b.jsx)("p",{children:"Common providers: GoDaddy, Namecheap, Cloudflare, Google Domains"})]})]}),(0,b.jsxs)("li",{className:"flex gap-3",children:[(0,b.jsx)("span",{className:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full bg-primary/10 text-xs font-medium text-primary",children:"2"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-foreground",children:"Find DNS settings"}),(0,b.jsx)("p",{children:'Look for "DNS", "DNS Management", or "Name Servers"'})]})]}),(0,b.jsxs)("li",{className:"flex gap-3",children:[(0,b.jsx)("span",{className:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full bg-primary/10 text-xs font-medium text-primary",children:"3"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-foreground",children:"Add the records we provide"}),(0,b.jsx)("p",{children:"Copy each record exactly as shown (TXT and CNAME types)"})]})]}),(0,b.jsxs)("li",{className:"flex gap-3",children:[(0,b.jsx)("span",{className:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full bg-primary/10 text-xs font-medium text-primary",children:"4"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-foreground",children:"Wait for propagation"}),(0,b.jsx)("p",{children:"Changes can take 15 minutes to 48 hours to take effect worldwide"})]})]})]}),(0,b.jsx)("div",{className:"mt-4 p-3 bg-background rounded",children:(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Need help? Contact support with your domain provider name and we'll guide you through the process."})})]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-3 text-sm text-muted-foreground bg-muted/40 rounded-lg p-4",children:[(0,b.jsx)(I.Shield,{className:"h-5 w-5 flex-shrink-0 text-primary mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-foreground",children:"Domain verification required"}),(0,b.jsx)("p",{children:"You'll need to add DNS records to prove you own this domain. This ensures only you can send emails from it."})]})]})]})}),("gmail"===a.emailSetupType||"outlook"===a.emailSetupType)&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"rounded-lg bg-muted/40 p-4 space-y-3",children:[(0,b.jsxs)("p",{className:"text-sm",children:["Connect your ","gmail"===a.emailSetupType?"Google Workspace":"Microsoft 365"," account to send emails directly from your business email."]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,b.jsx)(I.Shield,{className:"h-4 w-4"}),"We use OAuth - we never see your password"]})]}),"gmail"===a.emailSetupType&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(R.Label,{htmlFor:"gmailUserCount",children:"Number of users needing Gmail access"}),(0,b.jsx)(Q.Input,{id:"gmailUserCount",type:"number",min:"0",placeholder:"e.g., 5",value:a.gmailWorkspaceUsers||"",onChange:a=>{d({gmailWorkspaceUsers:parseInt(a.target.value)||0})},className:"w-[150px]"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:a.gmailWorkspaceUsers>0?`Monthly cost: ${aK(6*a.gmailWorkspaceUsers)}`:"Enter number of users who need Gmail Workspace access"})]}),(0,b.jsxs)(g.Button,{className:"w-full",children:[(0,b.jsx)(W.ExternalLink,{className:"mr-2 h-4 w-4"}),"Connect ","gmail"===a.emailSetupType?"Google":"Microsoft"," Account"]}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground text-center",children:["Requires ","gmail"===a.emailSetupType?"Google Workspace":"Microsoft 365"," admin access"]})]}),"skip"===a.emailSetupType&&(0,b.jsxs)("div",{className:"flex items-start gap-3 text-sm text-muted-foreground bg-muted/40 rounded-lg p-4",children:[(0,b.jsx)(U.AlertTriangle,{className:"h-5 w-5 flex-shrink-0 text-amber-500"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-foreground",children:"Using default sender"}),(0,b.jsx)("p",{children:"Emails will be sent from our platform domain. You can configure a custom domain later in Settings â†’ Email."})]})]})]})}var aV=a.i(359974),aW=a.i(48199),aX=a.i(556253),aY=a.i(763564);let aZ=[{id:"new_booking",title:"New Bookings",description:"When a customer books a service",icon:K.Calendar,recommended:{push:!0,email:!0,sms:!1}},{id:"job_updates",title:"Job Updates",description:"Status changes, completions",icon:aW.Briefcase,recommended:{push:!0,email:!1,sms:!1}},{id:"payment_received",title:"Payments Received",description:"When customers pay invoices",icon:ak.DollarSign,recommended:{push:!0,email:!0,sms:!1}},{id:"customer_messages",title:"Customer Messages",description:"Emails, texts from customers",icon:C.Users,recommended:{push:!0,email:!0,sms:!0}},{id:"daily_summary",title:"Daily Summary",description:"Overview of the day",icon:aX.BarChart3,recommended:{push:!1,email:!0,sms:!1}}];function a$(){let{data:a,updateData:c}=o(),d=(b,d,e)=>{c({notifications:a.notifications.map(a=>a.category===b?{...a,[d]:e}:a)})};return(0,b.jsxs)("div",{className:"space-y-10",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold",children:"Notification preferences"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Choose how you want to stay informed. You can change these anytime."})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(aV.Bell,{className:"h-5 w-5 text-muted-foreground"}),(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Optimized for most field service businesses"})]}),(0,b.jsx)("button",{onClick:()=>{c({notifications:aZ.map(a=>({category:a.id,...a.recommended}))})},className:"text-sm font-medium text-primary hover:underline",children:"Use recommended"})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 px-4 text-xs font-medium text-muted-foreground",children:[(0,b.jsx)("div",{className:"flex-1"}),(0,b.jsxs)("div",{className:"w-14 text-center",children:[(0,b.jsx)(aA.Smartphone,{className:"h-4 w-4 mx-auto mb-1"}),"Push"]}),(0,b.jsxs)("div",{className:"w-14 text-center",children:[(0,b.jsx)(aN.Mail,{className:"h-4 w-4 mx-auto mb-1"}),"Email"]}),(0,b.jsxs)("div",{className:"w-14 text-center",children:[(0,b.jsx)(az.MessageSquare,{className:"h-4 w-4 mx-auto mb-1"}),"SMS"]})]}),aZ.map(c=>{let e,f=c.icon,g=(e=c.id,a.notifications.find(a=>a.category===e)||{category:e,push:!1,email:!1,sms:!1});return(0,b.jsxs)("div",{className:"flex items-center gap-4 rounded-lg bg-muted/40 p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[(0,b.jsx)(f,{className:"h-5 w-5 text-muted-foreground flex-shrink-0"}),(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)("p",{className:"font-medium",children:c.title}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground truncate",children:c.description})]})]}),(0,b.jsx)("div",{className:"w-14 flex justify-center",children:(0,b.jsx)(ay.Switch,{checked:g.push,onCheckedChange:a=>d(c.id,"push",a)})}),(0,b.jsx)("div",{className:"w-14 flex justify-center",children:(0,b.jsx)(ay.Switch,{checked:g.email,onCheckedChange:a=>d(c.id,"email",a)})}),(0,b.jsx)("div",{className:"w-14 flex justify-center",children:(0,b.jsx)(ay.Switch,{checked:g.sms,onCheckedChange:a=>d(c.id,"sms",a),disabled:!a.smsEnabled})})]},c.id)})]}),!a.smsEnabled&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"SMS notifications require phone setup. Go back to enable."}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(aY.Moon,{className:"h-5 w-5 text-muted-foreground"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"Quiet Hours"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Pause non-urgent notifications"})]})]}),(0,b.jsx)(ay.Switch,{checked:a.quietHoursEnabled,onCheckedChange:a=>c({quietHoursEnabled:a})})]}),a.quietHoursEnabled&&(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(Q.Input,{type:"time",value:a.quietHoursStart,onChange:a=>c({quietHoursStart:a.target.value}),className:"w-[120px]"}),(0,b.jsx)("span",{className:"text-muted-foreground",children:"to"}),(0,b.jsx)(Q.Input,{type:"time",value:a.quietHoursEnd,onChange:a=>c({quietHoursEnd:a.target.value}),className:"w-[120px]"})]})]})]})}var a_=a.i(638727),a0=a.i(339632),aC=aC;let a1=[{id:"templates",title:"Quick Setup",subtitle:"Start with industry templates",icon:aP.Zap,badge:"Recommended"},{id:"profitrhino",title:"Import from ProfitRhino",subtitle:"Connect your existing pricebook",icon:aj.FileSpreadsheet},{id:"blank",title:"Start Blank",subtitle:"Add services manually later",icon:aC.default}],a2={hvac:[{name:"HVAC Diagnostic",price:"89",duration:"60"},{name:"AC Tune-Up",price:"129",duration:"90"},{name:"Furnace Tune-Up",price:"129",duration:"90"},{name:"Filter Replacement",price:"49",duration:"15"},{name:"Emergency Service Call",price:"149",duration:"60"}],plumbing:[{name:"Plumbing Diagnostic",price:"79",duration:"60"},{name:"Drain Cleaning",price:"149",duration:"60"},{name:"Water Heater Flush",price:"129",duration:"90"},{name:"Faucet Repair",price:"119",duration:"45"},{name:"Toilet Repair",price:"139",duration:"60"}],electrical:[{name:"Electrical Diagnostic",price:"89",duration:"60"},{name:"Outlet Installation",price:"129",duration:"45"},{name:"Switch Replacement",price:"99",duration:"30"},{name:"Ceiling Fan Installation",price:"199",duration:"90"},{name:"Panel Inspection",price:"149",duration:"60"}],roofing:[{name:"Roof Inspection",price:"149",duration:"90"},{name:"Emergency Tarp",price:"299",duration:"120"},{name:"Leak Repair",price:"349",duration:"180"},{name:"Gutter Cleaning",price:"149",duration:"90"},{name:"Shingle Replacement",price:"199",duration:"120"}],landscaping:[{name:"Lawn Mowing",price:"45",duration:"45"},{name:"Hedge Trimming",price:"89",duration:"60"},{name:"Leaf Cleanup",price:"129",duration:"90"},{name:"Mulching",price:"199",duration:"120"},{name:"Spring Cleanup",price:"249",duration:"180"}],cleaning:[{name:"Standard Clean",price:"149",duration:"120"},{name:"Deep Clean",price:"249",duration:"240"},{name:"Move-In/Out Clean",price:"349",duration:"300"},{name:"Office Cleaning",price:"199",duration:"180"},{name:"Post-Construction",price:"449",duration:"480"}],locksmith:[{name:"Service Call",price:"89",duration:"30"},{name:"Lockout Service",price:"129",duration:"45"},{name:"Lock Rekey",price:"99",duration:"30"},{name:"Lock Replacement",price:"179",duration:"60"},{name:"Emergency Service",price:"199",duration:"60"}],default:[{name:"Service Call",price:"89",duration:"60"},{name:"Diagnostic Fee",price:"75",duration:"30"},{name:"Standard Repair",price:"149",duration:"90"},{name:"Emergency Service",price:"199",duration:"60"},{name:"Maintenance Visit",price:"129",duration:"60"}]};function a3(){let{data:a,updateData:d}=o(),[e,f]=(0,c.useState)(a.services.length>0?"templates":null),[h,i]=(0,c.useState)(!1),j=a2[a.industry]||a2.default,k=l.find(b=>b.value===a.industry)?.label||"your industry",m=async b=>{f(b),"templates"===b&&0===a.services.length?d({services:j.map((a,b)=>({id:`service-${Date.now()}-${b}`,...a,category:"service"})),servicesImportedFrom:a.industry||"default"}):"blank"===b&&d({services:[],servicesImportedFrom:null})},n=async()=>{i(!0),await new Promise(a=>setTimeout(a,1500)),i(!1)},q=(b,c)=>{d({services:a.services.map(a=>a.id===b?{...a,...c}:a)})};return e?"profitrhino"===e?(0,b.jsxs)("div",{className:"space-y-10",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("button",{onClick:()=>f(null),className:"text-sm text-muted-foreground hover:text-foreground",children:"â† Back to options"}),(0,b.jsx)("h2",{className:"text-2xl font-semibold",children:"Connect ProfitRhino"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Import your existing pricebook from ProfitRhino with one click."})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"rounded-lg bg-muted/40 p-6 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-lg bg-orange-500/10",children:(0,b.jsx)("span",{className:"text-xl font-bold text-orange-500",children:"PR"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"ProfitRhino Integration"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Sync services, pricing & categories"})]})]}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(am.CheckCircle2,{className:"h-4 w-4 text-green-500"}),(0,b.jsx)("span",{children:"Import all services and pricing"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(am.CheckCircle2,{className:"h-4 w-4 text-green-500"}),(0,b.jsx)("span",{children:"Keep pricebooks in sync automatically"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(am.CheckCircle2,{className:"h-4 w-4 text-green-500"}),(0,b.jsx)("span",{children:"Flat-rate pricing support"})]})]})]}),(0,b.jsx)(g.Button,{onClick:n,disabled:h,className:"w-full",children:h?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(w.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Connecting..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(W.ExternalLink,{className:"mr-2 h-4 w-4"}),"Connect ProfitRhino Account"]})}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground text-center",children:["You'll be redirected to ProfitRhino to authorize access. Don't have ProfitRhino?"," ",(0,b.jsx)("button",{onClick:()=>m("templates"),className:"text-primary hover:underline",children:"Use our templates instead"})]})]})]}):"blank"===e?(0,b.jsxs)("div",{className:"space-y-10",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("button",{onClick:()=>f(null),className:"text-sm text-muted-foreground hover:text-foreground",children:"â† Back to options"}),(0,b.jsx)("h2",{className:"text-2xl font-semibold",children:"Start with a blank pricebook"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"You can add services anytime from Settings â†’ Pricebook."})]}),(0,b.jsx)("div",{className:"rounded-lg bg-muted/40 p-6 space-y-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(am.CheckCircle2,{className:"h-6 w-6 text-green-500"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"No services added"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"You can create estimates with custom line items, or add services later."})]})]})}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Changed your mind? You can still:"}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,b.jsxs)(g.Button,{variant:"outline",size:"sm",onClick:()=>m("templates"),children:[(0,b.jsx)(aP.Zap,{className:"mr-1 h-4 w-4"}),"Use Templates"]}),(0,b.jsxs)(g.Button,{variant:"outline",size:"sm",onClick:()=>m("profitrhino"),children:[(0,b.jsx)(aj.FileSpreadsheet,{className:"mr-1 h-4 w-4"}),"Connect ProfitRhino"]})]})]})]}):(0,b.jsxs)("div",{className:"space-y-10",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("button",{onClick:()=>f(null),className:"text-sm text-muted-foreground hover:text-foreground",children:"â† Back to options"}),(0,b.jsx)("h2",{className:"text-2xl font-semibold",children:"Your pricebook"}),(0,b.jsxs)("p",{className:"text-muted-foreground",children:["We've added ",a.services.length," ",k," services. Edit prices or add more."]})]}),(0,b.jsxs)("div",{className:"rounded-lg bg-green-500/10 p-4 flex items-center gap-3",children:[(0,b.jsx)(am.CheckCircle2,{className:"h-5 w-5 text-green-500 flex-shrink-0"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("p",{className:"font-medium text-green-700 dark:text-green-400",children:[a.services.length," services added"]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Customize prices below or continue to the next step"})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:"Services"}),(0,b.jsxs)(g.Button,{variant:"outline",size:"sm",onClick:()=>{d({services:[...a.services,{id:`service-${Date.now()}`,...{name:"",price:"",duration:"60"},category:"service"}]})},children:[(0,b.jsx)(a_.Plus,{className:"mr-1 h-4 w-4"}),"Add Service"]})]}),(0,b.jsx)("div",{className:"space-y-2",children:a.services.map(c=>(0,b.jsxs)("div",{className:"flex items-center gap-3 rounded-lg bg-muted/40 p-3",children:[(0,b.jsxs)("div",{className:"flex-1 grid gap-2 sm:grid-cols-3",children:[(0,b.jsx)(Q.Input,{placeholder:"Service name",value:c.name,onChange:a=>q(c.id,{name:a.target.value}),className:"h-9"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(ak.DollarSign,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(Q.Input,{placeholder:"0.00",value:c.price,onChange:a=>q(c.id,{price:a.target.value}),className:"pl-8 h-9"})]}),(0,b.jsxs)(A.Select,{value:c.duration,onValueChange:a=>q(c.id,{duration:a}),children:[(0,b.jsxs)(A.SelectTrigger,{className:"h-9",children:[(0,b.jsx)(G.Clock,{className:"mr-2 h-4 w-4"}),(0,b.jsx)(A.SelectValue,{})]}),(0,b.jsxs)(A.SelectContent,{children:[(0,b.jsx)(A.SelectItem,{value:"15",children:"15 min"}),(0,b.jsx)(A.SelectItem,{value:"30",children:"30 min"}),(0,b.jsx)(A.SelectItem,{value:"45",children:"45 min"}),(0,b.jsx)(A.SelectItem,{value:"60",children:"1 hour"}),(0,b.jsx)(A.SelectItem,{value:"90",children:"1.5 hours"}),(0,b.jsx)(A.SelectItem,{value:"120",children:"2 hours"}),(0,b.jsx)(A.SelectItem,{value:"180",children:"3 hours"}),(0,b.jsx)(A.SelectItem,{value:"240",children:"4 hours"})]})]})]}),(0,b.jsx)(g.Button,{variant:"ghost",size:"icon",className:"h-9 w-9 text-muted-foreground hover:text-destructive",onClick:()=>{var b;return b=c.id,void d({services:a.services.filter(a=>a.id!==b)})},children:(0,b.jsx)(a0.Trash2,{className:"h-4 w-4"})})]},c.id))})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Tip: You can add materials, equipment, and more detailed pricing in Settings â†’ Pricebook"})]}):(0,b.jsxs)("div",{className:"space-y-10",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold",children:"Set up your pricebook"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Your pricebook powers estimates and invoices. How would you like to get started?"})]}),(0,b.jsx)("div",{className:"space-y-3",children:a1.map(a=>{let c=a.icon;return(0,b.jsxs)("button",{type:"button",onClick:()=>m(a.id),className:(0,p.cn)("relative w-full flex items-center gap-4 rounded-lg p-4 text-left transition-all","bg-muted/40 hover:bg-muted/60"),children:[a.badge&&(0,b.jsx)("span",{className:"absolute top-2 right-2 text-[10px] font-medium text-primary bg-primary/10 px-2 py-0.5 rounded-full",children:a.badge}),(0,b.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-muted flex-shrink-0",children:(0,b.jsx)(c,{className:"h-5 w-5"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"font-medium",children:a.title}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.subtitle})]})]},a.id)})}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("p",{className:"text-sm font-medium text-muted-foreground",children:["Quick Setup includes ",j.length," ",k," services:"]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[j.slice(0,4).map((a,c)=>(0,b.jsxs)("span",{className:"text-xs bg-muted/60 px-2 py-1 rounded",children:[a.name," Â· $",a.price]},c)),j.length>4&&(0,b.jsxs)("span",{className:"text-xs text-muted-foreground px-2 py-1",children:["+",j.length-4," more"]})]})]})]})}var a4=a.i(739044),a5=a.i(774776),a6=a.i(105996);let a7=[{value:"admin",label:"Admin",description:"Full access to everything",icon:I.Shield},{value:"manager",label:"Manager",description:"Manage team & scheduling",icon:aW.Briefcase},{value:"technician",label:"Technician",description:"View jobs & update status",icon:al.Wrench},{value:"office",label:"Office Staff",description:"Scheduling & customer service",icon:J.Phone}];function a8(){let{data:a,updateData:d}=o(),[e,f]=(0,c.useState)((a.teamInvites||[]).map((a,b)=>({id:`invite-${b}`,email:a.email,name:a.name,role:a.role,status:"sent"}))),[h,i]=(0,c.useState)(!1),j=m.find(b=>b.value===a.path),k="solo"===a.path,l=a.userName||"You",n=a.userEmail||a.companyEmail||"",q=()=>{f([...e,{id:`invite-${Date.now()}`,email:"",name:"",role:"technician",status:"pending"}])},r=(a,b)=>{f(e.map(c=>c.id===a?{...c,...b}:c))},s=async()=>{if(0===e.filter(a=>"pending"===a.status&&a.email).length)return;i(!0),await new Promise(a=>setTimeout(a,1500));let a=e.map(a=>"pending"===a.status&&a.email?{...a,status:"sent"}:a);f(a),d({teamInvites:a.filter(a=>a.email).map(a=>({email:a.email,name:a.name,role:a.role}))}),i(!1)},t=e.filter(a=>a.email&&"pending"===a.status).length,u=e.filter(a=>"sent"===a.status).length,x=1+e.filter(a=>a.email).length;return(0,b.jsxs)("div",{className:"space-y-10",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold",children:"Your team"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:k?"You're set up as the owner. Add team members anytime as you grow.":`${j?.label} teams typically have ${j?.value==="small"?"2-5":j?.value==="growing"?"6-20":"20+"} members.`})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("span",{className:"text-sm font-medium text-muted-foreground",children:[x," ",1===x?"Member":"Members"]}),(0,b.jsxs)(g.Button,{variant:"outline",size:"sm",onClick:q,children:[(0,b.jsx)(a_.Plus,{className:"mr-1 h-4 w-4"}),"Add Member"]})]}),(0,b.jsx)("div",{className:"rounded-lg bg-primary/5 ring-1 ring-primary/20 p-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary text-primary-foreground",children:(0,b.jsx)(a6.Crown,{className:"h-5 w-5"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("p",{className:"font-medium truncate",children:l}),(0,b.jsx)("span",{className:"text-[10px] font-medium text-primary bg-primary/10 px-2 py-0.5 rounded-full",children:"You"})]}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground truncate",children:[n||"Owner"," â€¢ Owner"]})]}),(0,b.jsx)(am.CheckCircle2,{className:"h-5 w-5 text-green-500 flex-shrink-0"})]})}),e.length>0&&(0,b.jsx)("div",{className:"space-y-2",children:e.map(a=>(0,b.jsx)("div",{className:(0,p.cn)("rounded-lg p-4","sent"===a.status?"bg-green-500/10":"bg-muted/40"),children:"sent"===a.status?(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-green-500/20",children:(0,b.jsx)(v.Check,{className:"h-5 w-5 text-green-600"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"font-medium truncate",children:a.name||a.email}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Invite sent â€¢ ",a7.find(b=>b.value===a.role)?.label]})]})]}):(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"grid gap-3 sm:grid-cols-3",children:[(0,b.jsx)(Q.Input,{placeholder:"Name",value:a.name,onChange:b=>r(a.id,{name:b.target.value}),className:"h-9"}),(0,b.jsx)(Q.Input,{type:"email",placeholder:"email@example.com",value:a.email,onChange:b=>r(a.id,{email:b.target.value}),className:"h-9"}),(0,b.jsxs)(A.Select,{value:a.role,onValueChange:b=>r(a.id,{role:b}),children:[(0,b.jsx)(A.SelectTrigger,{className:"h-9",children:(0,b.jsx)(A.SelectValue,{})}),(0,b.jsx)(A.SelectContent,{children:a7.map(a=>{let c=a.icon;return(0,b.jsx)(A.SelectItem,{value:a.value,children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(c,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:a.label})]})},a.value)})})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:a7.find(b=>b.value===a.role)?.description}),(0,b.jsxs)(g.Button,{variant:"ghost",size:"sm",className:"h-8 text-muted-foreground hover:text-destructive",onClick:()=>{var b;return b=a.id,void f(e.filter(a=>a.id!==b))},children:[(0,b.jsx)(a0.Trash2,{className:"mr-1 h-4 w-4"}),"Remove"]})]})]})},a.id))}),0===e.length&&(0,b.jsxs)("button",{type:"button",onClick:q,className:"w-full flex items-center justify-center gap-3 rounded-lg border-2 border-dashed border-muted-foreground/25 p-6 hover:border-muted-foreground/50 hover:bg-muted/20 transition-colors",children:[(0,b.jsx)(a5.UserPlus,{className:"h-5 w-5 text-muted-foreground"}),(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Add a team member"})]})]}),t>0&&(0,b.jsx)(g.Button,{onClick:s,disabled:h,className:"w-full",children:h?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(w.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending Invites..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(a4.Send,{className:"mr-2 h-4 w-4"}),"Send ",t," Invite",1!==t?"s":""]})}),u>0&&0===t&&(0,b.jsxs)("div",{className:"rounded-lg bg-green-500/10 p-4 flex items-center gap-3",children:[(0,b.jsx)(am.CheckCircle2,{className:"h-5 w-5 text-green-500 flex-shrink-0"}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"font-medium text-green-700 dark:text-green-400",children:[u," invite",1!==u?"s":""," sent"]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Team members will receive an email to join your account"})]})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:0===e.length?"You can skip this step and add team members later from Settings â†’ Team":"Team members will be able to log in once they accept their invitation"})]})}var a9=a.i(527936),ba=a.i(698540),bb=a.i(300647),bc=a.i(572863),bd=a.i(154178),bd=bd;function be({companyId:a,plaidItemId:d,onVerificationComplete:e}){let[f,h]=(0,c.useState)("connecting"),[i,j]=(0,c.useState)([]),[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)(!0),[o,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(null),[t,u]=(0,c.useState)(0),v=i.filter(a=>a.verified).length,y=i.length>0&&v===i.length;(0,c.useEffect)(()=>{if(!m||y||"failed"===f)return;let b=async()=>{q(!0);try{let b=await fetch(`/api/payments/plaid-status?companyId=${encodeURIComponent(a)}`+(d?`&itemId=${encodeURIComponent(d)}`:"")),c=await b.json();c.success&&c.accounts?(j(c.accounts),h(c.status||"verifying"),l(new Date),c.allVerified?(h("verified"),n(!1),e?.(c.accounts)):"failed"===c.status&&(h("failed"),n(!1),s(c.error||"Verification failed"))):c.success||s(c.error||"Failed to check verification status")}catch(a){console.error("Plaid verification check failed:",a),s("Unable to check status. We'll keep trying...")}finally{q(!1)}};b();let c=setInterval(b,15e3);return()=>clearInterval(c)},[a,d,m,y,f,e]),(0,c.useEffect)(()=>{let a=setInterval(()=>{u(a=>a+1)},1e3);return()=>clearInterval(a)},[]);let z=async()=>{q(!0);try{let b=await fetch(`/api/payments/plaid-status?companyId=${encodeURIComponent(a)}`+(d?`&itemId=${encodeURIComponent(d)}`:"")),c=await b.json();c.success&&c.accounts&&(j(c.accounts),h(c.status||"verifying"),l(new Date),c.allVerified&&(h("verified"),n(!1),e?.(c.accounts)))}catch(a){console.error("Manual check failed:",a)}finally{q(!1)}},A=(()=>{switch(f){case"connecting":return{icon:G.Clock,iconClass:"text-blue-500",bgClass:"bg-blue-500/10",title:"Connecting to Bank",description:"Establishing secure connection with your bank..."};case"verifying":return{icon:w.Loader2,iconClass:"text-amber-500 animate-spin",bgClass:"bg-amber-500/10",title:"Verifying Accounts",description:`${v} of ${i.length} accounts verified`};case"verified":return{icon:am.CheckCircle2,iconClass:"text-green-500",bgClass:"bg-green-500/10",title:"Bank Connected!",description:`${i.length} account${1!==i.length?"s":""} verified and ready`};case"failed":return{icon:as.AlertCircle,iconClass:"text-destructive",bgClass:"bg-destructive/10",title:"Connection Failed",description:r||"Unable to verify bank connection"}}})(),B=A.icon;return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"rounded-lg bg-muted/40 p-6 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:(0,p.cn)("flex h-12 w-12 items-center justify-center rounded-full",A.bgClass),children:(0,b.jsx)(B,{className:(0,p.cn)("h-6 w-6",A.iconClass)})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold",children:A.title}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:A.description}),k&&(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mt-2",children:["Last checked: ",k.toLocaleTimeString(),m&&"failed"!==f&&" â€¢ Checking every 15 seconds..."]}),t>0&&"connecting"===f&&(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Time elapsed: ",Math.floor(t/60),":",(t%60).toString().padStart(2,"0")]})]})]}),i.length>0&&"verified"!==f&&"failed"!==f&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-primary transition-all duration-500",style:{width:`${v/i.length*100}%`}})}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground text-center",children:[Math.round(v/i.length*100),"% complete"]})]})]}),"verified"!==f&&"failed"!==f&&i.length>0&&(0,b.jsx)(g.Button,{onClick:z,disabled:o,variant:"outline",className:"w-full",children:o?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(w.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Checking Status..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(at.RefreshCw,{className:"mr-2 h-4 w-4"}),"Check Now"]})}),i.length>0&&(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("h4",{className:"text-sm font-medium",children:"Connected Accounts"}),(0,b.jsx)("div",{className:"space-y-2",children:i.map(a=>(0,b.jsxs)("div",{className:(0,p.cn)("rounded-lg p-4 space-y-2 transition-colors",a.verified?"bg-green-500/10 ring-1 ring-green-500/20":"bg-muted/40"),children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:(0,p.cn)("flex h-8 w-8 items-center justify-center rounded-full",a.verified?"bg-green-500/20":"bg-muted"),children:(0,b.jsx)(D.Building2,{className:(0,p.cn)("h-4 w-4",a.verified?"text-green-500":"text-muted-foreground")})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:a.name}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:[a.type," â€¢â€¢â€¢â€¢ ",a.mask]})]})]}),a.verified?(0,b.jsx)(am.CheckCircle2,{className:"h-5 w-5 text-green-500"}):(0,b.jsx)(w.Loader2,{className:"h-5 w-5 text-amber-500 animate-spin"})]}),a.verified&&(0,b.jsx)("p",{className:"text-xs text-green-700 dark:text-green-400 font-medium",children:"âœ“ Verified and ready for payments"}),"failed"===a.verificationStatus&&(0,b.jsx)("p",{className:"text-xs text-destructive font-medium",children:"âœ— Verification failed - Please reconnect"})]},a.id))})]}),"failed"!==f&&(0,b.jsxs)("div",{className:"rounded-lg bg-blue-500/10 p-4 space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(I.Shield,{className:"h-5 w-5 text-blue-500"}),(0,b.jsx)("span",{className:"font-medium",children:"What information does Plaid access?"})]}),(0,b.jsxs)("div",{className:"space-y-2 text-sm text-muted-foreground",children:[(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{className:"text-foreground",children:"Account details:"})," Account name, type, and last 4 digits"]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{className:"text-foreground",children:"Balance:"})," Current available balance (for verification)"]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{className:"text-foreground",children:"Routing/Account numbers:"})," For setting up ACH payments"]}),(0,b.jsx)("p",{className:"text-xs mt-2",children:"Plaid uses bank-level encryption and never stores your login credentials. We cannot access your account without your permission."})]})]}),"verifying"===f&&(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("h4",{className:"text-sm font-medium",children:"What's happening now?"}),(0,b.jsxs)("div",{className:"space-y-3 text-sm text-muted-foreground",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-primary/10 flex-shrink-0 mt-0.5",children:(0,b.jsx)("span",{className:"text-xs font-medium text-primary",children:"1"})}),(0,b.jsx)("p",{children:"Plaid is securely connecting to your bank to verify account ownership"})]}),(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-primary/10 flex-shrink-0 mt-0.5",children:(0,b.jsx)("span",{className:"text-xs font-medium text-primary",children:"2"})}),(0,b.jsx)("p",{children:"Confirming account details and retrieving routing/account numbers"})]}),(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-primary/10 flex-shrink-0 mt-0.5",children:(0,b.jsx)("span",{className:"text-xs font-medium text-primary",children:"3"})}),(0,b.jsx)("p",{children:"Setting up secure ACH payment capabilities for deposits and transfers"})]})]})]}),"verified"===f&&(0,b.jsxs)("div",{className:"rounded-lg bg-green-500/10 p-4 space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(am.CheckCircle2,{className:"h-5 w-5 text-green-500"}),(0,b.jsx)("span",{className:"font-medium text-green-700 dark:text-green-400",children:"Bank successfully connected!"})]}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Your bank account",i.length>1?"s are":" is"," verified and ready. You can now:"]}),(0,b.jsxs)("ul",{className:"text-sm text-muted-foreground space-y-1 ml-6 list-disc",children:[(0,b.jsx)("li",{children:"Receive customer payments via ACH"}),(0,b.jsx)("li",{children:"Set up automatic payouts to your bank"}),(0,b.jsx)("li",{children:"Track transaction history in real-time"})]})]}),"failed"===f&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"rounded-lg bg-destructive/10 p-4 space-y-3",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(U.AlertTriangle,{className:"h-5 w-5 text-destructive flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-destructive",children:"Connection Failed"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:r||"We couldn't verify your bank connection. Please try again."})]})]})}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("h4",{className:"text-sm font-medium",children:"Common issues:"}),(0,b.jsxs)("ul",{className:"text-sm text-muted-foreground space-y-2 ml-4 list-disc",children:[(0,b.jsx)("li",{children:"Bank login credentials were incorrect"}),(0,b.jsx)("li",{children:"Bank requires multi-factor authentication"}),(0,b.jsx)("li",{children:"Account is locked or restricted"}),(0,b.jsx)("li",{children:"Bank is temporarily unavailable"})]})]}),(0,b.jsxs)(g.Button,{variant:"default",className:"w-full",children:[(0,b.jsx)(at.RefreshCw,{className:"mr-2 h-4 w-4"}),"Try Again with Plaid"]})]}),t>120&&"verifying"===f&&(0,b.jsx)("div",{className:"rounded-lg bg-amber-500/10 p-4 space-y-3",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)(as.AlertCircle,{className:"h-5 w-5 text-amber-500 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:"Taking longer than expected?"}),(0,b.jsxs)("ul",{className:"text-sm text-muted-foreground mt-2 space-y-1 list-disc ml-4",children:[(0,b.jsx)("li",{children:"Some banks take a few minutes to verify"}),(0,b.jsx)("li",{children:"Make sure you completed the Plaid connection flow"}),(0,b.jsx)("li",{children:"Check if you received an email from your bank to confirm the connection"}),(0,b.jsx)("li",{children:'Try the "Check Now" button above to force a refresh'})]})]})]})}),(0,b.jsxs)("div",{className:"rounded-lg border border-muted p-4 space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(x.Info,{className:"h-4 w-4"}),(0,b.jsx)("p",{className:"text-sm font-medium",children:"Your security is our priority"})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Plaid uses the same security protocols as banks. Your login credentials are encrypted and never stored by us or Plaid. You can disconnect your bank at any time from Settings."}),(0,b.jsxs)(g.Button,{variant:"link",size:"sm",className:"h-auto p-0",children:[(0,b.jsx)(W.ExternalLink,{className:"mr-1 h-3 w-3"}),"Learn more about Plaid security"]})]})]})}let bf=[{id:"check-capture",title:"Mobile Check Capture",description:"Snap photos of checks, instant deposit",icon:bc.Camera,badge:"Popular",recommended:!0},{id:"ach",title:"Bank Transfers (ACH)",description:"Direct bank-to-bank via Plaid",icon:D.Building2,fees:"0.8% (max $5)"},{id:"cards",title:"Credit & Debit Cards",description:"Visa, Mastercard, Amex, Discover",icon:a9.CreditCard,fees:"2.9% + 30Â¢"},{id:"cash",title:"Cash Payments",description:"Track field cash collections",icon:ba.Banknote},{id:"financing",title:"Customer Financing",description:"Payment plans for large jobs",icon:bb.Percent}];function bg(){let{data:a,updateData:d}=o(),[e,f]=(0,c.useState)(!1),[h,i]=(0,c.useState)(!1),[j,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(void 0),n=a.plaidConnected||!1,[q,r]=(0,c.useState)(!n&&!j),s=(b,c)=>{let e=a.paymentMethods||[];d({paymentMethods:c?[...e,b]:e.filter(a=>a!==b)})},t=b=>(a.paymentMethods||[]).includes(b),u=async()=>{i(!0),await new Promise(a=>setTimeout(a,1500)),m(`item_${Date.now()}`),k(!0),i(!1)},v=async()=>{f(!0),await new Promise(a=>setTimeout(a,1500)),s("ach",!0),d({acceptACH:!0}),f(!1)},y=()=>{d({paymentMethods:["check-capture","ach","cards","cash"],acceptCards:!0,acceptACH:!0,acceptChecks:!0,acceptCash:!0})},z=(a.paymentMethods||[]).length;return(0,b.jsxs)("div",{className:"space-y-10",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold",children:"Payment Setup"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Connect your bank account and choose how you want to accept payments."})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary/10",children:(0,b.jsx)("span",{className:"text-sm font-medium text-primary",children:"1"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold",children:"Where payments go"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Connect your business bank account to receive deposits"})]})]}),n||j?j&&!n?(0,b.jsx)("div",{className:"rounded-lg border-2 border-primary/20 p-6",children:(0,b.jsx)(be,{companyId:a.companyId||"",plaidItemId:l,onVerificationComplete:a=>{d({plaidConnected:!0,paymentSetupComplete:!0})}})}):(0,b.jsxs)("div",{className:"rounded-lg bg-green-500/10 p-4 space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(am.CheckCircle2,{className:"h-5 w-5 text-green-500 flex-shrink-0"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("span",{className:"font-medium text-green-700 dark:text-green-400",children:"Bank account connected"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Payments will be deposited to your connected bank account"})]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-3 text-sm bg-muted/40 rounded-lg p-3",children:[(0,b.jsx)(aP.Zap,{className:"h-4 w-4 text-primary flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"Automatic daily deposits"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Funds are deposited every business day. You can change this in Settings."})]})]}),(0,b.jsx)(g.Button,{variant:"ghost",size:"sm",onClick:()=>{r(!0),k(!1),d({plaidConnected:!1})},children:"Change bank account"})]}):(0,b.jsxs)("div",{className:"rounded-lg border-2 border-dashed border-muted-foreground/20 p-6 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10 flex-shrink-0",children:(0,b.jsx)(bd.default,{className:"h-6 w-6 text-primary"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h4",{className:"font-medium",children:"Connect your bank account"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"All customer payments will be deposited here. We use Plaid for secure bank connections."})]})]}),q&&(0,b.jsxs)("div",{className:"space-y-4 pt-2",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3 text-sm bg-amber-500/10 rounded-lg p-3",children:[(0,b.jsx)(x.Info,{className:"h-4 w-4 text-amber-500 flex-shrink-0 mt-0.5"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"This is your business receiving account - NOT for platform billing. All payments from customers will be deposited here."})]}),(0,b.jsx)(g.Button,{onClick:u,disabled:h,className:"w-full",size:"lg",children:h?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(w.Loader2,{className:"mr-2 h-5 w-5 animate-spin"}),"Connecting to Plaid..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(I.Shield,{className:"mr-2 h-5 w-5"}),"Connect Bank Account via Plaid"]})}),(0,b.jsx)("p",{className:"text-xs text-center text-muted-foreground",children:"Plaid uses bank-level security. Your login credentials are never stored."})]})]})]}),!n&&z>0&&(0,b.jsxs)("div",{className:"flex items-start gap-3 text-sm bg-amber-500/10 rounded-lg p-4",children:[(0,b.jsx)(U.AlertTriangle,{className:"h-5 w-5 text-amber-500 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-foreground",children:"Bank account required"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Connect your bank account above before enabling payment methods. Payments need somewhere to go."})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary/10",children:(0,b.jsx)("span",{className:"text-sm font-medium text-primary",children:"2"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold",children:"How to accept payments"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Choose how customers can pay you"})]})]}),0===z&&(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)(g.Button,{onClick:y,disabled:!n,variant:"outline",className:"w-full justify-between",size:"lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(aP.Zap,{className:"h-5 w-5 text-primary"}),(0,b.jsxs)("div",{className:"text-left",children:[(0,b.jsx)("p",{className:"font-medium",children:"Quick Setup (Recommended)"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Enable all popular payment methods"})]})]}),(0,b.jsx)(L.ArrowRight,{className:"h-4 w-4"})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,b.jsx)("span",{className:"w-full border-t"})}),(0,b.jsx)("div",{className:"relative flex justify-center text-xs uppercase",children:(0,b.jsx)("span",{className:"bg-background px-2 text-muted-foreground",children:"Or customize"})})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[z>0&&(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("span",{className:"text-sm font-medium text-muted-foreground",children:[z," method",1!==z?"s":""," enabled"]}),z<bf.length&&(0,b.jsx)(g.Button,{variant:"ghost",size:"sm",onClick:y,disabled:!n,children:"Enable all"})]}),bf.map(c=>{let e=c.icon,f=t(c.id);return(0,b.jsxs)("div",{className:(0,p.cn)("flex items-center gap-4 rounded-lg p-4 transition-colors",f?"bg-primary/10 ring-1 ring-primary/20":"bg-muted/40",!n&&"opacity-50"),children:[(0,b.jsx)("div",{className:(0,p.cn)("flex h-10 w-10 items-center justify-center rounded-full flex-shrink-0",f?"bg-primary text-primary-foreground":"bg-muted"),children:(0,b.jsx)(e,{className:"h-5 w-5"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("p",{className:"font-medium",children:c.title}),c.badge&&(0,b.jsx)("span",{className:"text-[10px] font-medium text-primary bg-primary/10 px-2 py-0.5 rounded-full",children:c.badge})]}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:[c.description,c.fees&&` â€¢ ${c.fees}`]})]}),(0,b.jsx)(ay.Switch,{checked:f,disabled:!n,onCheckedChange:b=>{s(c.id,b),b&&!a.paymentSetupComplete&&d({paymentSetupComplete:!0})}})]},c.id)})]}),t("ach")&&n&&(0,b.jsxs)("div",{className:"space-y-3 mt-6",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3 text-sm bg-muted/40 rounded-lg p-4",children:[(0,b.jsx)(D.Building2,{className:"h-5 w-5 text-primary flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-medium text-foreground",children:"ACH bank verification"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Use Plaid to instantly verify customer bank accounts for ACH transfers. This prevents bounced payments and fraud."})]})]}),(0,b.jsx)(g.Button,{onClick:v,disabled:e,variant:"outline",className:"w-full",children:e?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(w.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Connecting..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(I.Shield,{className:"mr-2 h-4 w-4"}),"Enable ACH Verification"]})})]}),t("check-capture")&&(0,b.jsxs)("div",{className:"flex items-start gap-3 text-sm bg-muted/40 rounded-lg p-4 mt-4",children:[(0,b.jsx)(aA.Smartphone,{className:"h-5 w-5 text-primary flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-foreground",children:"Mobile check capture ready"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Your team can snap photos of checks in the field for instant deposit to your connected bank."})]})]})]}),n&&z>0&&(0,b.jsxs)("div",{className:"rounded-lg bg-primary/5 p-4 space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(am.CheckCircle2,{className:"h-5 w-5 text-primary"}),(0,b.jsx)("span",{className:"font-medium",children:"Payment setup complete"})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"You're ready to accept payments. Funds will be deposited daily to your connected bank account."})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:"Processing fees are paid by your business. You can adjust all settings anytime from Settings â†’ Payments."})]})}a.i(146697);var bh=a.i(778737),bi=(0,e.createServerReference)("40a8e3dc048482f4958e757e844a571c2aa09fb85f",e.callServer,void 0,e.findSourceMapURL,"createOnboardingCheckoutSession");function bj(){var a;let d,e,f,h,i,j,k,{data:l,updateData:m}=o(),[n,q]=(0,c.useState)("card"),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(null),y=(d=15*(a={phonePortingCount:l.phonePortingCount||0,newPhoneNumberCount:l.newPhoneNumberCount||0,gmailWorkspaceUsers:l.gmailWorkspaceUsers||0,profitRhinoEnabled:l.profitRhinoEnabled||!1}).phonePortingCount,f=d+(e=5*a.newPhoneNumberCount),h=2*a.newPhoneNumberCount,i=6*a.gmailWorkspaceUsers,k=200+h+i+(j=149*!!a.profitRhinoEnabled),{oneTime:{phonePorting:d,phoneSetup:e,total:f},monthly:{basePlatform:200,phoneNumbers:h,gmailWorkspace:i,profitRhino:j,total:k},firstMonthTotal:f+k}),z=async()=>{s(!0),u(null);try{let a=l.companyId||"",b=l.teamMemberId||"";if(!a||!b)return void u("Missing company or user information. Please log in again.");let c=window.location.origin,d=`${c}/onboarding/payment/success?session_id={CHECKOUT_SESSION_ID}&company_id=${a}`,e=`${c}/onboarding/payment/cancel`,f=await bi({companyId:a,teamMemberId:b,selections:{phonePortingCount:l.phonePortingCount||0,newPhoneNumberCount:l.newPhoneNumberCount||0,gmailWorkspaceUsers:l.gmailWorkspaceUsers||0,profitRhinoEnabled:l.profitRhinoEnabled||!1},successUrl:d,cancelUrl:e});f.success&&f.checkoutUrl?window.location.href=f.checkoutUrl:u(f.error||"Failed to create checkout session")}catch(a){u(a instanceof Error?a.message:"Failed to start checkout")}finally{s(!1)}};return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold",children:"Payment setup"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Start your 14-day free trial. Your card won't be charged until the trial ends."})]}),(0,b.jsx)(af.Card,{className:"p-6 space-y-6",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"font-semibold",children:"Your subscription"}),y.oneTime.total>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"One-time setup fees"}),y.oneTime.phonePorting>0&&(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsxs)("span",{children:["Phone number porting (",l.phonePortingCount," ",1===l.phonePortingCount?"number":"numbers",")"]}),(0,b.jsx)("span",{className:"font-medium",children:aK(y.oneTime.phonePorting)})]}),y.oneTime.phoneSetup>0&&(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsxs)("span",{children:["New phone number setup (",l.newPhoneNumberCount," ",1===l.newPhoneNumberCount?"number":"numbers",")"]}),(0,b.jsx)("span",{className:"font-medium",children:aK(y.oneTime.phoneSetup)})]}),(0,b.jsxs)("div",{className:"flex justify-between text-sm font-semibold pt-2 border-t",children:[(0,b.jsx)("span",{children:"One-time total"}),(0,b.jsx)("span",{children:aK(y.oneTime.total)})]})]}),(0,b.jsx)(bh.Separator,{})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Monthly subscription"}),(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{children:"Base platform"}),(0,b.jsx)("span",{className:"font-medium",children:aK(y.monthly.basePlatform)})]}),y.monthly.phoneNumbers>0&&(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsxs)("span",{children:["Phone numbers (",l.newPhoneNumberCount," ",1===l.newPhoneNumberCount?"number":"numbers",")"]}),(0,b.jsx)("span",{className:"font-medium",children:aK(y.monthly.phoneNumbers)})]}),y.monthly.gmailWorkspace>0&&(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsxs)("span",{children:["Gmail Workspace (",l.gmailWorkspaceUsers," ",1===l.gmailWorkspaceUsers?"user":"users",")"]}),(0,b.jsx)("span",{className:"font-medium",children:aK(y.monthly.gmailWorkspace)})]}),y.monthly.profitRhino>0&&(0,b.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,b.jsx)("span",{children:"Profit Rhino financing add-on"}),(0,b.jsx)("span",{className:"font-medium",children:aK(y.monthly.profitRhino)})]}),(0,b.jsxs)("div",{className:"flex justify-between text-sm font-semibold pt-2 border-t",children:[(0,b.jsx)("span",{children:"Monthly total"}),(0,b.jsx)("span",{children:aK(y.monthly.total)})]})]}),(0,b.jsx)(bh.Separator,{}),(0,b.jsxs)("div",{className:"flex justify-between text-lg font-bold",children:[(0,b.jsx)("span",{children:"Total due after trial"}),(0,b.jsx)("span",{children:aK(y.firstMonthTotal)})]})]})}),(0,b.jsxs)("div",{className:"flex items-start gap-3 bg-blue-500/10 text-blue-700 dark:text-blue-400 rounded-lg p-4",children:[(0,b.jsx)(K.Calendar,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{className:"text-sm space-y-1",children:[(0,b.jsx)("p",{className:"font-medium",children:"14-day free trial"}),(0,b.jsxs)("p",{children:["Your payment method will be saved but not charged until"," ",(0,b.jsx)("span",{className:"font-semibold",children:new Date(Date.now()+12096e5).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})}),". Cancel anytime before then at no charge."]})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("label",{className:"text-sm font-medium",children:"Choose payment method"}),(0,b.jsxs)("div",{className:"grid gap-3",children:[(0,b.jsxs)("button",{type:"button",onClick:()=>q("card"),className:(0,p.cn)("relative flex items-center gap-4 rounded-lg border-2 p-4 text-left transition-all","card"===n?"border-primary bg-primary/5":"border-transparent bg-muted/40 hover:bg-muted/60"),children:["card"===n&&(0,b.jsx)("div",{className:"absolute top-3 right-3",children:(0,b.jsx)(v.Check,{className:"h-4 w-4 text-primary"})}),(0,b.jsx)("div",{className:(0,p.cn)("flex h-10 w-10 items-center justify-center rounded-full","card"===n?"bg-primary text-primary-foreground":"bg-muted"),children:(0,b.jsx)(a9.CreditCard,{className:"h-5 w-5"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"Credit or debit card"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Visa, Mastercard, Amex, Discover"})]})]}),(0,b.jsxs)("button",{type:"button",onClick:()=>q("ach"),className:(0,p.cn)("relative flex items-center gap-4 rounded-lg border-2 p-4 text-left transition-all","ach"===n?"border-primary bg-primary/5":"border-transparent bg-muted/40 hover:bg-muted/60"),children:["ach"===n&&(0,b.jsx)("div",{className:"absolute top-3 right-3",children:(0,b.jsx)(v.Check,{className:"h-4 w-4 text-primary"})}),(0,b.jsx)("div",{className:(0,p.cn)("flex h-10 w-10 items-center justify-center rounded-full","ach"===n?"bg-primary text-primary-foreground":"bg-muted"),children:(0,b.jsx)(D.Building2,{className:"h-5 w-5"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"Bank account (ACH)"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Direct debit from your bank"})]})]})]})]}),(0,b.jsxs)("div",{className:"flex items-start gap-3 text-sm text-muted-foreground bg-muted/40 rounded-lg p-4",children:[(0,b.jsx)(I.Shield,{className:"h-5 w-5 flex-shrink-0 text-primary mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-foreground",children:"Secure payment processing"}),(0,b.jsx)("p",{children:"Powered by Stripe. Your payment information is encrypted and never stored on our servers. PCI DSS Level 1 certified."})]})]}),t&&(0,b.jsxs)("div",{className:"flex items-start gap-3 bg-destructive/10 rounded-lg p-4",children:[(0,b.jsx)(as.AlertCircle,{className:"h-5 w-5 text-destructive flex-shrink-0 mt-0.5"}),(0,b.jsx)("div",{className:"text-sm",children:(0,b.jsx)("p",{className:"font-medium text-destructive",children:t})})]}),(0,b.jsx)(g.Button,{size:"lg",className:"w-full",onClick:z,disabled:r,children:r?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(w.Loader2,{className:"mr-2 h-5 w-5 animate-spin"}),"Starting checkout..."]}):(0,b.jsxs)(b.Fragment,{children:["Continue to secure checkout",(0,b.jsx)(I.Shield,{className:"ml-2 h-5 w-5"})]})}),(0,b.jsxs)("div",{className:"flex items-start gap-2 text-xs text-muted-foreground",children:[(0,b.jsx)(x.Info,{className:"h-4 w-4 flex-shrink-0 mt-0.5"}),(0,b.jsx)("p",{children:"By continuing, you agree to our Terms of Service and Privacy Policy. You can cancel your subscription anytime from Settings â†’ Billing."})]})]})}let bk=[{id:"monday",label:"Mon"},{id:"tuesday",label:"Tue"},{id:"wednesday",label:"Wed"},{id:"thursday",label:"Thu"},{id:"friday",label:"Fri"},{id:"saturday",label:"Sat"},{id:"sunday",label:"Sun"}],bl=["06:00","06:30","07:00","07:30","08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30","20:00","20:30","21:00"],bm=[{value:"0",label:"No buffer"},{value:"15",label:"15 minutes"},{value:"30",label:"30 minutes"},{value:"60",label:"1 hour"}],bn={monday:{enabled:!0,start:"08:00",end:"17:00"},tuesday:{enabled:!0,start:"08:00",end:"17:00"},wednesday:{enabled:!0,start:"08:00",end:"17:00"},thursday:{enabled:!0,start:"08:00",end:"17:00"},friday:{enabled:!0,start:"08:00",end:"17:00"},saturday:{enabled:!1,start:"09:00",end:"14:00"},sunday:{enabled:!1,start:"09:00",end:"14:00"}};function bo(){let{data:a,updateData:d}=o(),[e,f]=(0,c.useState)(a.businessHours||bn),[h,i]=(0,c.useState)(a.bufferTime||"15"),[j,k]=(0,c.useState)(a.emergencyService||!1),l=(a,b)=>{let c={...e,[a]:{...e[a],...b}};f(c),d({businessHours:c})},m=a=>{let[b,c]=a.split(":"),d=parseInt(b);return`${d>12?d-12:0===d?12:d}:${c} ${d>=12?"PM":"AM"}`};return(0,b.jsxs)("div",{className:"space-y-10",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold",children:"Set your schedule"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Define when you're available for appointments."})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"font-medium",children:"Business Hours"}),(0,b.jsx)(g.Button,{variant:"outline",size:"sm",onClick:()=>{let a=e.monday,b={...e};["tuesday","wednesday","thursday","friday"].forEach(c=>{b[c]={...a}}),f(b),d({businessHours:b})},children:"Copy Monday to Weekdays"})]}),(0,b.jsx)("div",{className:"space-y-2",children:bk.map(a=>{let c=e[a.id];return(0,b.jsxs)("div",{className:(0,p.cn)("flex items-center gap-4 rounded-lg p-3",c?.enabled?"bg-muted/40":"bg-muted/20"),children:[(0,b.jsx)(ay.Switch,{checked:c?.enabled,onCheckedChange:b=>l(a.id,{enabled:b})}),(0,b.jsx)("span",{className:(0,p.cn)("w-10 font-medium",!c?.enabled&&"text-muted-foreground"),children:a.label}),c?.enabled?(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,b.jsxs)(A.Select,{value:c.start,onValueChange:b=>l(a.id,{start:b}),children:[(0,b.jsx)(A.SelectTrigger,{className:"w-[110px]",children:(0,b.jsx)(A.SelectValue,{})}),(0,b.jsx)(A.SelectContent,{children:bl.map(a=>(0,b.jsx)(A.SelectItem,{value:a,children:m(a)},a))})]}),(0,b.jsx)("span",{className:"text-muted-foreground",children:"to"}),(0,b.jsxs)(A.Select,{value:c.end,onValueChange:b=>l(a.id,{end:b}),children:[(0,b.jsx)(A.SelectTrigger,{className:"w-[110px]",children:(0,b.jsx)(A.SelectValue,{})}),(0,b.jsx)(A.SelectContent,{children:bl.map(a=>(0,b.jsx)(A.SelectItem,{value:a,children:m(a)},a))})]})]}):(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Closed"})]},a.id)})})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"Buffer Time Between Jobs"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Add travel time between appointments"})]}),(0,b.jsxs)(A.Select,{value:h,onValueChange:a=>{i(a),d({bufferTime:a})},children:[(0,b.jsx)(A.SelectTrigger,{className:"w-[180px]",children:(0,b.jsx)(A.SelectValue,{})}),(0,b.jsx)(A.SelectContent,{children:bm.map(a=>(0,b.jsx)(A.SelectItem,{value:a.value,children:a.label},a.value))})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(U.AlertTriangle,{className:"h-5 w-5 text-amber-500"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"24/7 Emergency Service"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Accept emergency calls outside business hours"})]})]}),(0,b.jsx)(ay.Switch,{checked:j,onCheckedChange:a=>{k(a),d({emergencyService:a})}})]})]})}var bp=a.i(171768),bq=a.i(159957);let br=[{id:"revenue",title:"Revenue Overview",description:"Daily, weekly, monthly",icon:ak.DollarSign},{id:"jobs_today",title:"Today's Jobs",description:"Scheduled jobs",icon:K.Calendar},{id:"outstanding_invoices",title:"Outstanding Invoices",description:"Unpaid invoices",icon:au.FileText},{id:"team_performance",title:"Team Performance",description:"Jobs per tech",icon:C.Users},{id:"customer_satisfaction",title:"Customer Satisfaction",description:"Ratings & feedback",icon:bp.Star},{id:"conversion_rate",title:"Estimate Conversion",description:"Won vs lost",icon:bb.Percent}],bs=[{id:"daily_summary",title:"Daily Summary",frequency:"Every morning"},{id:"weekly_performance",title:"Weekly Performance",frequency:"Every Monday"},{id:"monthly_financial",title:"Monthly Financial",frequency:"1st of month"}];function bt(){let{data:a,updateData:d}=o(),[e,f]=(0,c.useState)(a.dashboardWidgets||["revenue","jobs_today","outstanding_invoices","customer_satisfaction"]),[g,h]=(0,c.useState)(a.scheduledReports||["daily_summary","weekly_performance"]);return(0,b.jsxs)("div",{className:"space-y-10",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold",children:"Customize your dashboard"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Choose which metrics matter most. Your dashboard will adapt to show what you need."})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(bq.Target,{className:"h-5 w-5 text-muted-foreground"}),(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Optimized for most field service businesses"})]}),(0,b.jsx)("button",{onClick:()=>{let a=["revenue","jobs_today","outstanding_invoices","customer_satisfaction"],b=["daily_summary","weekly_performance"];f(a),h(b),d({dashboardWidgets:a,scheduledReports:b})},className:"text-sm font-medium text-primary hover:underline",children:"Use recommended"})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("span",{className:"font-medium",children:"Dashboard Widgets"}),(0,b.jsx)("div",{className:"grid gap-2 sm:grid-cols-2",children:br.map(a=>{let c=a.icon,g=e.includes(a.id);return(0,b.jsxs)("button",{type:"button",onClick:()=>{var b;let c;return b=a.id,void(f(c=e.includes(b)?e.filter(a=>a!==b):[...e,b]),d({dashboardWidgets:c}))},className:(0,p.cn)("flex items-center gap-3 rounded-lg p-3 text-left transition-colors",g?"bg-primary/10":"bg-muted/40 hover:bg-muted/60"),children:[(0,b.jsx)(c,{className:(0,p.cn)("h-5 w-5 flex-shrink-0",g?"text-primary":"text-muted-foreground")}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:a.title}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:a.description})]}),g&&(0,b.jsx)(v.Check,{className:"h-4 w-4 text-primary flex-shrink-0"})]},a.id)})})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(aN.Mail,{className:"h-5 w-5 text-muted-foreground"}),(0,b.jsx)("span",{className:"font-medium",children:"Scheduled Email Reports"})]}),bs.map(a=>{let c=g.includes(a.id);return(0,b.jsxs)("div",{className:(0,p.cn)("flex items-center gap-4 rounded-lg p-4 transition-colors",c?"bg-primary/10":"bg-muted/40"),children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-medium",children:a.title}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.frequency})]}),(0,b.jsx)(ay.Switch,{checked:c,onCheckedChange:()=>{var b;let c;return b=a.id,void(h(c=g.includes(b)?g.filter(a=>a!==b):[...g,b]),d({scheduledReports:c}))}})]},a.id)})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[(0,b.jsxs)("span",{children:[e.length," widgets selected"]}),(0,b.jsxs)("span",{children:[g.length," reports enabled"]})]})]})}var bu=a.i(911356),bu=bu,bv=a.i(4229);let bw=[{id:"quickbooks",name:"QuickBooks",description:"Sync invoices",logo:"QB"},{id:"google_calendar",name:"Google Calendar",description:"Sync appointments",logo:"GC"},{id:"zapier",name:"Zapier",description:"Connect apps",logo:"ZP"},{id:"thumbtack",name:"Thumbtack",description:"Lead management",logo:"TT"}],bx=[{value:"0",label:"Due on receipt"},{value:"7",label:"Net 7 (7 days)"},{value:"15",label:"Net 15 (15 days)"},{value:"30",label:"Net 30 (30 days)"},{value:"45",label:"Net 45 (45 days)"},{value:"60",label:"Net 60 (60 days)"}];function by(){let{data:a,updateData:d}=o(),[e,f]=(0,c.useState)(a.taxRate||""),[g,h]=(0,c.useState)(a.paymentTerms||"30"),[i,j]=(0,c.useState)(a.onlineBookingEnabled||!1),[k,l]=(0,c.useState)(!1!==a.autoReminders);return(0,b.jsxs)("div",{className:"space-y-10",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold",children:"Important settings"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"A few key settings to get right from the start. You can always change these later."})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(bb.Percent,{className:"h-5 w-5 text-muted-foreground"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"Tax Rate"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Applied automatically to invoices"})]})]}),(0,b.jsxs)("div",{className:"rounded-lg bg-muted/40 p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(Q.Input,{type:"number",step:"0.01",min:"0",max:"100",placeholder:"8.25",value:e,onChange:a=>{var b;f(b=a.target.value),d({taxRate:b})},className:"w-[120px]"}),(0,b.jsx)("span",{className:"text-muted-foreground",children:"%"})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:"Example: 8.25% for Texas sales tax. Check your local rate."})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(au.FileText,{className:"h-5 w-5 text-muted-foreground"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"Invoice Settings"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Default terms for all invoices"})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"rounded-lg bg-muted/40 p-4 flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm",children:"Payment due"}),(0,b.jsxs)(A.Select,{value:g,onValueChange:a=>{h(a),d({paymentTerms:a})},children:[(0,b.jsx)(A.SelectTrigger,{className:"w-[160px]",children:(0,b.jsx)(A.SelectValue,{})}),(0,b.jsx)(A.SelectContent,{children:bx.map(a=>(0,b.jsx)(A.SelectItem,{value:a.value,children:a.label},a.value))})]})]}),(0,b.jsxs)("div",{className:"rounded-lg bg-muted/40 p-4 flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-sm",children:"Auto-send payment reminders"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Remind customers when invoices are due"})]}),(0,b.jsx)(ay.Switch,{checked:k,onCheckedChange:a=>{l(a),d({autoReminders:a})}})]})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(bu.default,{className:"h-5 w-5 text-muted-foreground"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"Online Booking"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Let customers book directly"})]})]}),(0,b.jsx)(ay.Switch,{checked:i,onCheckedChange:a=>{j(a),d({onlineBookingEnabled:a})}})]}),i&&(0,b.jsxs)("div",{className:"rounded-lg bg-primary/10 p-4 space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(am.CheckCircle2,{className:"h-4 w-4 text-primary"}),(0,b.jsx)("span",{children:"Embed on your website or share a booking link"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(am.CheckCircle2,{className:"h-4 w-4 text-primary"}),(0,b.jsx)("span",{children:"Customers see only available time slots"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(am.CheckCircle2,{className:"h-4 w-4 text-primary"}),(0,b.jsx)("span",{children:"Automatic confirmations and reminders"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(bv.Link2,{className:"h-5 w-5 text-muted-foreground"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:"Integrations"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Connect your favorite tools later"})]})]}),(0,b.jsx)("div",{className:"grid gap-2 sm:grid-cols-2",children:bw.map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-3 rounded-lg bg-muted/40 p-3",children:[(0,b.jsx)("div",{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-background text-xs font-bold",children:a.logo}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:a.name}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:a.description})]})]},a.id))}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:"Set up integrations after onboarding in Settings â†’ Integrations"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[(0,b.jsxs)("span",{children:["Tax: ",e?`${e}%`:"Not set"]}),(0,b.jsxs)("span",{children:["Terms: ",bx.find(a=>a.value===g)?.label]})]})]})}var bz=a.i(824124),bA=a.i(387774),bA=bA,aC=aC;let bB=[{id:"customer",title:"Add Your First Customer",description:"Start building your customer database",icon:C.Users,time:"2 min"},{id:"job",title:"Schedule a Job",description:"Put something on the calendar",icon:K.Calendar,time:"3 min"},{id:"estimate",title:"Create an Estimate",description:"Send a professional quote",icon:au.FileText,time:"5 min"},{id:"skip",title:"I'll Explore on My Own",description:"Jump straight to the dashboard",icon:aC.default,time:"Instant"}];function bC(){let{data:a,updateData:d}=o(),[e,f]=(0,c.useState)(null),[h,i]=(0,c.useState)({firstName:"",lastName:"",email:"",phone:"",address:""}),[j,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(!1),n=(a,b)=>{i(c=>({...c,[a]:b}))},q=async()=>{k(!0),await new Promise(a=>setTimeout(a,1500)),m(!0),d({firstActionCompleted:"customer"}),k(!1)};return l?(0,b.jsxs)("div",{className:"space-y-10",children:[(0,b.jsxs)("div",{className:"flex flex-col items-center gap-4 py-8",children:[(0,b.jsx)("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-green-500/10",children:(0,b.jsx)(bA.default,{className:"h-8 w-8 text-green-500"})}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold",children:"First customer added!"}),(0,b.jsxs)("p",{className:"text-muted-foreground mt-1",children:[h.firstName," ",h.lastName," is now in your system."]})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("span",{className:"font-medium",children:"What you can do now:"}),[{title:`Schedule a job for ${h.firstName}`,desc:"Put an appointment on the calendar"},{title:"Create an estimate",desc:"Send a professional quote"},{title:"Add property details",desc:"Equipment, notes, and history"}].map((a,c)=>(0,b.jsxs)("div",{className:"flex items-start gap-3 rounded-lg bg-muted/40 p-3",children:[(0,b.jsx)(am.CheckCircle2,{className:"h-5 w-5 text-green-500 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-sm",children:a.title}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:a.desc})]})]},c))]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground text-center",children:"Complete the final step to see your personalized dashboard."})]}):"customer"===e?(0,b.jsxs)("div",{className:"space-y-10",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("button",{onClick:()=>f(null),className:"text-sm text-muted-foreground hover:text-foreground",children:"â† Back to options"}),(0,b.jsx)("h2",{className:"text-2xl font-semibold",children:"Add your first customer"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Enter a real customer or create a test one. You can edit this later."})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(R.Label,{htmlFor:"firstName",children:"First Name *"}),(0,b.jsx)(Q.Input,{id:"firstName",placeholder:"John",value:h.firstName,onChange:a=>n("firstName",a.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(R.Label,{htmlFor:"lastName",children:"Last Name *"}),(0,b.jsx)(Q.Input,{id:"lastName",placeholder:"Smith",value:h.lastName,onChange:a=>n("lastName",a.target.value)})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(R.Label,{htmlFor:"email",children:"Email"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(aN.Mail,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(Q.Input,{id:"email",type:"email",placeholder:"john@example.com",value:h.email,onChange:a=>n("email",a.target.value),className:"pl-10"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(R.Label,{htmlFor:"phone",children:"Phone"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(J.Phone,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(Q.Input,{id:"phone",type:"tel",placeholder:"(555) 123-4567",value:h.phone,onChange:a=>n("phone",a.target.value),className:"pl-10"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(R.Label,{htmlFor:"address",children:"Service Address"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(bz.MapPin,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(Q.Input,{id:"address",placeholder:"123 Main St, City, State 12345",value:h.address,onChange:a=>n("address",a.target.value),className:"pl-10"})]})]})]}),(0,b.jsx)(g.Button,{onClick:q,disabled:!h.firstName||!h.lastName||j,className:"w-full",children:j?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(G.Clock,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(a_.Plus,{className:"mr-2 h-4 w-4"}),"Add Customer"]})})]}):(0,b.jsxs)("div",{className:"space-y-10",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold",children:"Take your first action"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"The best way to learn is by doing. What would you like to do first?"})]}),(0,b.jsx)("div",{className:"space-y-2",children:bB.map(a=>{let c=a.icon,e="skip"===a.id;return(0,b.jsxs)("button",{type:"button",onClick:()=>{var b;f(b=a.id),"skip"===b&&d({firstActionCompleted:"skip"})},className:(0,p.cn)("w-full flex items-center gap-4 rounded-lg p-4 text-left transition-colors","bg-muted/40 hover:bg-muted/60",e&&"opacity-70"),children:[(0,b.jsx)(c,{className:"h-5 w-5 text-muted-foreground flex-shrink-0"}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"font-medium",children:a.title}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.description})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:a.time}),(0,b.jsx)(L.ArrowRight,{className:"h-4 w-4 text-muted-foreground"})]})]},a.id)})}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground text-center",children:'We recommend starting with "Add Your First Customer".'})]})}var bD=a.i(184874),bE=a.i(491502),bE=bE,bF=a.i(377521),bG=a.i(629367),bH=a.i(127634),bI=a.i(486627),bJ=a.i(770788);let bK=[{title:"Dashboard",description:"View your business at a glance",icon:aX.BarChart3,href:"/dashboard",primary:!0},{title:"Add Customer",description:"Start building your database",icon:C.Users,href:"/dashboard/customers/new"},{title:"Schedule Job",description:"Put something on the calendar",icon:K.Calendar,href:"/dashboard/schedule"},{title:"Create Estimate",description:"Send a professional quote",icon:ak.DollarSign,href:"/dashboard/work/estimates/new"}],bL=[{title:"Help Center",description:"Guides and tutorials",icon:bF.BookOpen,href:"/help"},{title:"Video Training",description:"Learn at your own pace",icon:bG.Video,href:"/training"},{title:"Live Chat",description:"Get help from our team",icon:az.MessageSquare,action:"chat"},{title:"Call Support",description:"Talk to a human",icon:bJ.Headphones,href:"tel:+18005551234"}];function bM(){let{data:a}=o();(0,c.useEffect)(()=>{let a=setTimeout(()=>{let a=Date.now()+3e3,b={startVelocity:30,spread:360,ticks:60,zIndex:1e4,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"]};function c(a,b){return Math.random()*(b-a)+a}(0,bD.default)({...b,particleCount:100,origin:{x:.5,y:.5}});let d=setInterval(()=>{let e=a-Date.now();if(e<=0)return clearInterval(d);let f=e/3e3*50;(0,bD.default)({...b,particleCount:f,origin:{x:c(.1,.3),y:Math.random()-.2}}),(0,bD.default)({...b,particleCount:f,origin:{x:c(.7,.9),y:Math.random()-.2}})},250);setTimeout(()=>clearInterval(d),3e3)},100);return()=>clearTimeout(a)},[]);let d={company:!!a.companyName,profile:!!a.userName,phone:"skip"!==a.phoneSetupType,email:"skip"!==a.emailSetupType,notifications:(a.notifications?.length??0)>0,services:(a.services?.length??0)>0,team:(a.teamInvites?.length??0)>0,payments:a.stripeConnected||(a.paymentMethods?.length??0)>0,schedule:!!a.businessHours,reports:(a.dashboardWidgets?.length??0)>0},e=Object.values(d).filter(Boolean).length,f=Object.keys(d).length,h=Math.round(e/f*100),i=l.find(b=>b.value===a.industry)?.label;return(0,b.jsxs)("div",{className:"space-y-10",children:[(0,b.jsxs)("div",{className:"flex flex-col items-center gap-4 py-4",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-gradient-to-br from-primary to-primary/50",children:(0,b.jsx)(bI.PartyPopper,{className:"h-10 w-10 text-primary-foreground"})}),(0,b.jsx)("div",{className:"absolute -top-1 -right-1 flex h-8 w-8 items-center justify-center rounded-full bg-green-500 text-white",children:(0,b.jsx)(am.CheckCircle2,{className:"h-5 w-5"})})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold",children:"You're all set!"}),(0,b.jsxs)("p",{className:"text-muted-foreground",children:[a.companyName||"Your business"," is ready to rock."]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsxs)("span",{className:"font-medium text-foreground",children:[h,"%"]}),(0,b.jsxs)("span",{children:["configured â€¢ ",e," of ",f," areas"]})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("span",{className:"font-medium",children:"Setup Summary"}),(0,b.jsx)("div",{className:"grid gap-2 sm:grid-cols-2",children:[{key:"company",label:"Company Profile",icon:bH.Settings},{key:"profile",label:"User Profile",icon:C.Users},{key:"phone",label:"Phone & SMS",icon:J.Phone},{key:"email",label:"Email Settings",icon:aN.Mail},{key:"services",label:"Service Catalog",icon:ak.DollarSign},{key:"schedule",label:"Business Hours",icon:K.Calendar},{key:"payments",label:"Payment Methods",icon:ak.DollarSign},{key:"reports",label:"Dashboard",icon:aX.BarChart3}].map(a=>{let c=a.icon,e=d[a.key];return(0,b.jsxs)("div",{className:(0,p.cn)("flex items-center gap-3 rounded-lg p-3",e?"bg-green-500/10":"bg-muted/40"),children:[e?(0,b.jsx)(am.CheckCircle2,{className:"h-4 w-4 text-green-500 flex-shrink-0"}):(0,b.jsx)(c,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),(0,b.jsx)("span",{className:(0,p.cn)("text-sm",e?"font-medium":"text-muted-foreground"),children:a.label})]},a.key)})}),((a.services?.length??0)>0||i)&&(0,b.jsxs)("div",{className:"flex gap-6 text-sm text-muted-foreground pt-2",children:[(a.services?.length??0)>0&&(0,b.jsxs)("span",{children:[(0,b.jsx)("span",{className:"font-medium text-foreground",children:a.services?.length})," services"]}),(a.teamInvites?.length??0)>0&&(0,b.jsxs)("span",{children:[(0,b.jsx)("span",{className:"font-medium text-foreground",children:a.teamInvites?.length})," team invited"]}),i&&(0,b.jsx)("span",{children:i})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("span",{className:"font-medium",children:"Get Started"}),(0,b.jsx)("div",{className:"grid gap-2 sm:grid-cols-2",children:bK.map(a=>{let c=a.icon;return(0,b.jsxs)("a",{href:a.href,className:(0,p.cn)("flex items-center gap-3 rounded-lg p-3 transition-colors",a.primary?"bg-primary text-primary-foreground hover:bg-primary/90":"bg-muted/40 hover:bg-muted/60"),children:[(0,b.jsx)(c,{className:"h-5 w-5 flex-shrink-0"}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"font-medium text-sm",children:a.title}),(0,b.jsx)("p",{className:(0,p.cn)("text-xs",a.primary?"text-primary-foreground/80":"text-muted-foreground"),children:a.description})]}),(0,b.jsx)(L.ArrowRight,{className:"h-4 w-4 flex-shrink-0"})]},a.title)})})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("span",{className:"font-medium",children:"Need Help?"}),(0,b.jsx)("div",{className:"grid gap-2 sm:grid-cols-2",children:bL.map(a=>{let c=a.icon;return(0,b.jsxs)("a",{href:a.href||"#",onClick:"chat"===a.action?a=>a.preventDefault():void 0,className:"flex items-center gap-3 rounded-lg bg-muted/40 p-3 hover:bg-muted/60 transition-colors",children:[(0,b.jsx)(c,{className:"h-4 w-4 text-muted-foreground flex-shrink-0"}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:a.title}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:a.description})]})]},a.title)})})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(F.Sparkles,{className:"h-4 w-4 text-primary"}),(0,b.jsx)("span",{className:"font-medium",children:"Pro Tips"})]}),(0,b.jsx)("div",{className:"space-y-2",children:["Download the mobile app to manage jobs on the go","Import existing customers via CSV (Settings â†’ Import)","Customize your estimate and invoice templates","Connect QuickBooks or Google Calendar"].map((a,c)=>(0,b.jsxs)("div",{className:"flex items-start gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)(bp.Star,{className:"h-4 w-4 text-primary flex-shrink-0 mt-0.5"}),(0,b.jsx)("span",{children:a})]},c))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Button,{asChild:!0,className:"w-full",children:(0,b.jsxs)("a",{href:"/dashboard",children:[(0,b.jsx)(bE.default,{className:"mr-2 h-4 w-4"}),"Go to Dashboard"]})}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground text-center mt-3",children:"Access setup anytime from Settings â†’ Onboarding"})]})]})}var bE=bE;class bN extends c.Component{constructor(a){super(a),this.state={hasError:!1,error:null}}static getDerivedStateFromError(a){return{hasError:!0,error:a}}componentDidCatch(a,b){console.error("Onboarding error:",a,b)}render(){return this.state.hasError?(0,b.jsx)("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:(0,b.jsxs)("div",{className:"max-w-md w-full text-center space-y-4",children:[(0,b.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-destructive/10",children:(0,b.jsx)(U.AlertTriangle,{className:"h-8 w-8 text-destructive"})}),(0,b.jsx)("h2",{className:"text-xl font-semibold",children:"Something went wrong"}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"Don't worry - your progress has been saved. Try refreshing the page."}),(0,b.jsxs)("div",{className:"flex justify-center gap-3 pt-2",children:[(0,b.jsxs)(g.Button,{variant:"outline",onClick:()=>{this.setState({hasError:!1,error:null}),this.props.onReset()},children:[(0,b.jsx)(at.RefreshCw,{className:"h-4 w-4 mr-2"}),"Try again"]}),(0,b.jsx)(g.Button,{onClick:()=>window.location.reload(),children:"Refresh page"})]}),!1]})}):this.props.children}}let bO=["welcome","company","data-import","integrations","phone","email","notifications","services","team","payments","billing","schedule","reports","settings","first-action","complete"],bP={2:[{id:"phase-2",title:"Time to Connect with Customers",description:"Great job setting up your company! Now let's configure how you'll communicate with customers.",icon:(0,b.jsx)(J.Phone,{className:"h-8 w-8"}),bullets:["Phone & SMS setup","Email configuration","Notification preferences"]}],3:[{id:"phase-3",title:"Building Your Business",description:"Communication is ready! Let's set up the core of your business - services, team, and payments.",icon:(0,b.jsx)(al.Wrench,{className:"h-8 w-8"}),bullets:["Service catalog & pricing","Team invitations","Payment processing"]}],4:[{id:"phase-4",title:"Optimizing Operations",description:"Your business core is configured! Now let's optimize how you work day-to-day.",icon:(0,b.jsx)(K.Calendar,{className:"h-8 w-8"}),bullets:["Business hours","Dashboard widgets","Key settings"]}],5:[{id:"phase-5",title:"Ready for Launch!",description:"Almost there! Let's do one quick action to make sure everything works perfectly.",icon:(0,b.jsx)(bE.default,{className:"h-8 w-8"}),bullets:["Take your first action","See your dashboard"]}]},bQ={phone:["You won't have a business phone number","Customers can't call or text through the platform","No SMS appointment reminders"],email:["Emails will come from noreply@thorbis.com","May have lower deliverability","Less professional appearance"],services:["You'll need to add services manually later","No pre-built pricing templates"],team:["Team members won't have access yet","You can invite them later from Settings"],payments:["Can't accept online payments","Manual payment tracking only"],schedule:["Default business hours (9-5, Mon-Fri)","No service area defined"]};function bR(){let a=(0,d.useRouter)(),{data:e,currentStep:h,setCurrentStep:i,completedSteps:j,skippedSteps:l,completeStep:m,skipStep:n,updateData:p,isSaving:q}=o(),[u,v]=(0,c.useState)(!1),[x,A]=(0,c.useState)([]),[B,C]=(0,c.useState)(null),[D,E]=(0,c.useState)(!1),[F,G]=(0,c.useState)(null),[H,I]=(0,c.useState)(!1),[J,K]=(0,c.useState)(null);(0,c.useEffect)(()=>{q||K(new Date)},[q,e]);let L=bO.indexOf(h),M=k[h],N=M.phase,O=(L+1)/bO.length*100,Q="complete"===h,R="welcome"===h;bO.slice(L).reduce((a,b)=>a+k[b].estimatedMinutes,0);let S=(0,c.useCallback)(a=>{let b=k[a].phase;return b>N&&!!bP[b]&&(A(bP[b]),C(a),v(!0),!0)},[N]),T=(0,c.useMemo)(()=>{if(!k[h].required)return!0;switch(h){case"welcome":return!!e.path&&!!e.industry;case"company":return!!e.companyName;default:return!0}},[h,e,!1]),U=(0,c.useCallback)(()=>{let a=L+1;if(a<bO.length){m(h);let b=bO[a];S(b)||i(b)}},[L,h,m,i,S]),V=(0,c.useCallback)(()=>{let a=L-1;a>=0&&i(bO[a])},[L,i]),W=(0,c.useCallback)(()=>{let a=bQ[h];a&&a.length>0?I(!0):(n(h),U())},[h,n,U]),X=(0,c.useCallback)(()=>{I(!1),n(h),U()},[h,n,U]),Y=(0,c.useCallback)(()=>{v(!1),B&&(i(B),C(null))},[B,i]),Z=(0,c.useCallback)(async()=>{E(!0),G(null);try{let b=await f({path:e.path,industry:e.industry,companyName:e.companyName,phoneSetupType:e.phoneSetupType,emailSetupType:e.emailSetupType,services:e.services,teamInvites:e.teamMembers,paymentSetupComplete:e.paymentSetupComplete,completedSteps:j,skippedSteps:l});if(!b.success){G(b.error||"Failed to complete onboarding"),E(!1);return}p({onboardingCompleted:!0}),a.push("/dashboard")}catch(a){G(a instanceof Error?a.message:"An unexpected error occurred"),E(!1)}},[e,j,l,p,a]);return(0,b.jsxs)(b.Fragment,{children:[u&&(0,b.jsx)(t,{slides:x,onComplete:Y}),H&&(0,b.jsx)(z,{stepName:M.title,consequences:bQ[h],onSkip:X,onCancel:()=>I(!1)}),(0,b.jsxs)("div",{className:"flex-1 flex flex-col",children:[e.paymentMethodCollected&&(0,b.jsx)("div",{className:"sticky top-14 z-30 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-b border-border/40",children:(0,b.jsx)("div",{className:"w-full max-w-2xl mx-auto px-4 sm:px-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between h-12",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground truncate",children:M.title}),(0,b.jsxs)("div",{className:"flex items-center gap-3 flex-1 max-w-xs mx-6",children:[(0,b.jsx)("div",{className:"flex-1 h-1.5 bg-muted rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-primary transition-all duration-300 ease-out rounded-full",style:{width:`${O}%`}})}),(0,b.jsxs)("span",{className:"text-xs text-muted-foreground tabular-nums whitespace-nowrap",children:[Math.round(O),"%"]})]}),(0,b.jsx)("div",{className:"flex items-center gap-3",children:(0,b.jsx)(y,{isSaving:q,lastSaved:J})})]})})}),(0,b.jsx)("main",{className:"flex-1",children:(0,b.jsxs)("div",{className:"w-full max-w-2xl mx-auto px-4 sm:px-6 py-8 sm:py-12",children:["welcome"===h&&(0,b.jsx)(P,{}),"company"===h&&(0,b.jsx)(ae,{}),"data-import"===h&&(0,b.jsx)(ar,{}),"integrations"===h&&(0,b.jsx)(ax,{}),"phone"===h&&(0,b.jsx)(aM,{}),"email"===h&&(0,b.jsx)(aU,{}),"notifications"===h&&(0,b.jsx)(a$,{}),"services"===h&&(0,b.jsx)(a3,{}),"team"===h&&(0,b.jsx)(a8,{}),"payments"===h&&(0,b.jsx)(bg,{}),"billing"===h&&(0,b.jsx)(bj,{}),"schedule"===h&&(0,b.jsx)(bo,{}),"reports"===h&&(0,b.jsx)(bt,{}),"settings"===h&&(0,b.jsx)(by,{}),"first-action"===h&&(0,b.jsx)(bC,{}),"complete"===h&&(0,b.jsx)(bM,{})]})}),(0,b.jsx)("footer",{className:"sticky bottom-0 z-40 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 border-t border-border/40",children:(0,b.jsx)("div",{className:"w-full max-w-2xl mx-auto px-4 sm:px-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between h-16 gap-4",children:[R?(0,b.jsx)("div",{}):(0,b.jsxs)(g.Button,{variant:"ghost",onClick:V,size:"sm",children:[(0,b.jsx)(s.ChevronLeft,{className:"h-4 w-4 mr-1"}),"Back"]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[F&&(0,b.jsx)("p",{className:"text-sm text-destructive mr-2",children:F}),Q?(0,b.jsx)(g.Button,{onClick:Z,disabled:D,children:D?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(w.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):(0,b.jsxs)(b.Fragment,{children:["Go to Dashboard",(0,b.jsx)(bE.default,{className:"h-4 w-4 ml-2"})]})}):(0,b.jsxs)(b.Fragment,{children:[!k[h].required&&(0,b.jsx)(g.Button,{variant:"ghost",onClick:W,size:"sm",className:"text-muted-foreground",children:"Skip"}),(0,b.jsxs)(g.Button,{onClick:U,disabled:!T,children:["Continue",(0,b.jsx)(r.ChevronRight,{className:"h-4 w-4 ml-1"})]})]})]})]})})})]})]})}function bS(){let{resetOnboarding:a}=o();return(0,b.jsx)(bN,{onReset:()=>{},children:(0,b.jsx)(bR,{})})}a.s(["OnboardingWizard",()=>bS],999575)}];

//# sourceMappingURL=apps_web_src_components_onboarding_onboarding-wizard_tsx_98e17771._.js.map