module.exports=[576630,a=>{"use strict";var b=a.i(861467),c=a.i(359974),d=a.i(587969),e=a.i(624126),f=a.i(789815),g=a.i(824124),h=a.i(898062),i=a.i(217547),j=a.i(320091),k=a.i(362841),l=a.i(145679),m=a.i(783281),n=a.i(836994);a.i(288007);var o=a.i(986990);a.i(445255);var p=a.i(18170);a.i(839984);var q=a.i(372712);a.i(458393);var r=a.i(82012);a.i(40744);var s=a.i(419573);a.i(476036);var t=a.i(930514);function u({entityData:a}){let{appointment:u,customer:v,property:w,job:x,assigned_user:y,notes:z=[],activities:A=[],attachments:B=[]}=a,C=u.start_time?new Date(u.start_time):null,D=u.end_time?new Date(u.end_time):null,E=C&&D?Math.max(0,Math.floor((D.getTime()-C.getTime())/6e4)):0,F=(0,m.useMemo)(()=>{let a=[{id:"schedule-details",title:"Schedule Details",icon:(0,b.jsx)(d.Calendar,{className:"size-4"}),defaultOpen:!0,content:(0,b.jsx)(t.UnifiedAccordionContent,{children:(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(r.Label,{children:"Start Time"}),(0,b.jsx)(q.Input,{readOnly:!0,type:"datetime-local",value:C?C.toISOString().slice(0,16):""})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(r.Label,{children:"End Time"}),(0,b.jsx)(q.Input,{readOnly:!0,type:"datetime-local",value:D?D.toISOString().slice(0,16):""})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(r.Label,{children:"Status"}),(0,b.jsxs)(s.Select,{disabled:!0,value:u.status||"scheduled",children:[(0,b.jsx)(s.SelectTrigger,{children:(0,b.jsx)(s.SelectValue,{})}),(0,b.jsxs)(s.SelectContent,{children:[(0,b.jsx)(s.SelectItem,{value:"scheduled",children:"Scheduled"}),(0,b.jsx)(s.SelectItem,{value:"confirmed",children:"Confirmed"}),(0,b.jsx)(s.SelectItem,{value:"in_progress",children:"In Progress"}),(0,b.jsx)(s.SelectItem,{value:"completed",children:"Completed"}),(0,b.jsx)(s.SelectItem,{value:"cancelled",children:"Cancelled"}),(0,b.jsx)(s.SelectItem,{value:"no_show",children:"No Show"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(r.Label,{children:"Duration"}),(0,b.jsx)(q.Input,{readOnly:!0,value:`${E} minutes`})]}),u.location&&(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)(r.Label,{children:"Location"}),(0,b.jsx)(q.Input,{readOnly:!0,value:u.location})]}),u.access_instructions&&(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)(r.Label,{children:"Access Instructions"}),(0,b.jsx)("p",{className:"text-sm whitespace-pre-wrap",children:u.access_instructions})]})]})})}];return u.is_recurring&&a.push({id:"recurrence",title:"Recurrence Rules",icon:(0,b.jsx)(i.Repeat,{className:"size-4"}),content:(0,b.jsx)(t.UnifiedAccordionContent,{children:(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(r.Label,{children:"Recurrence Pattern"}),(0,b.jsx)("p",{className:"text-sm",children:u.recurrence_rule?JSON.stringify(u.recurrence_rule):"Not configured"})]}),u.recurrence_end_date&&(0,b.jsxs)("div",{children:[(0,b.jsx)(r.Label,{children:"Recurrence End Date"}),(0,b.jsx)("p",{className:"text-sm",children:new Date(u.recurrence_end_date).toLocaleDateString()})]})]})})}),null!==u.reminder_hours_before&&void 0!==u.reminder_hours_before&&a.push({id:"reminders",title:"Reminders",icon:(0,b.jsx)(c.Bell,{className:"size-4"}),content:(0,b.jsx)(t.UnifiedAccordionContent,{children:(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(r.Label,{children:"Reminder"}),(0,b.jsxs)("p",{className:"text-sm",children:[u.reminder_hours_before," hours before appointment"]})]}),u.reminder_sent&&(0,b.jsxs)("div",{children:[(0,b.jsx)(r.Label,{children:"Last Reminder Sent"}),(0,b.jsx)("p",{className:"text-sm",children:u.reminder_sent_at?new Date(u.reminder_sent_at).toLocaleString():"Never"})]})]})})}),v&&a.push({id:"customer-details",title:"Customer Details",icon:(0,b.jsx)(j.User,{className:"size-4"}),content:(0,b.jsx)(t.UnifiedAccordionContent,{children:(0,b.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-start md:justify-between",children:[(0,b.jsxs)("div",{className:"grid flex-1 gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(r.Label,{children:"Name"}),(0,b.jsx)("p",{className:"text-sm",children:v.display_name||`${v.first_name||""} ${v.last_name||""}`.trim()||"Unknown"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(r.Label,{children:"Email"}),(0,b.jsx)("p",{className:"text-sm",children:v.email||"N/A"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(r.Label,{children:"Phone"}),(0,b.jsx)("p",{className:"text-sm",children:v.phone||"N/A"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(r.Label,{children:"Company"}),(0,b.jsx)("p",{className:"text-sm",children:v.company_name||"N/A"})]})]}),(0,b.jsx)(p.Button,{asChild:!0,size:"sm",variant:"ghost",children:(0,b.jsx)(l.default,{href:`/dashboard/customers/${v.id}`,children:"View Full Profile"})})]})})}),w&&a.push({id:"property-location",title:"Property Location",icon:(0,b.jsx)(g.MapPin,{className:"size-4"}),content:(0,b.jsx)(t.UnifiedAccordionContent,{children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(r.Label,{children:"Service Address"}),(0,b.jsxs)("p",{className:"text-sm",children:[w.address,w.address2&&`, ${w.address2}`]}),(0,b.jsxs)("p",{className:"text-muted-foreground text-sm",children:[w.city,", ",w.state," ",w.zip_code]})]}),(0,b.jsx)(p.Button,{asChild:!0,size:"sm",variant:"outline",children:(0,b.jsxs)("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(`${w.address}, ${w.city}, ${w.state}`)}`,rel:"noopener noreferrer",target:"_blank",children:[(0,b.jsx)(g.MapPin,{className:"mr-2 size-4"}),"Open in Google Maps"]})})]})})}),x&&a.push({id:"job-details",title:"Related Job",icon:(0,b.jsx)(k.Wrench,{className:"size-4"}),content:(0,b.jsx)(t.UnifiedAccordionContent,{children:(0,b.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-start md:justify-between",children:[(0,b.jsxs)("div",{className:"grid flex-1 gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(r.Label,{children:"Job Number"}),(0,b.jsxs)("p",{className:"text-sm",children:["#",x.job_number||x.id.slice(0,8)]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(r.Label,{children:"Title"}),(0,b.jsx)("p",{className:"text-sm",children:x.title||"N/A"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(r.Label,{children:"Status"}),(0,b.jsx)(o.Badge,{variant:"outline",children:x.status||"N/A"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(r.Label,{children:"Priority"}),(0,b.jsx)(o.Badge,{variant:"outline",children:x.priority||"N/A"})]})]}),(0,b.jsx)(p.Button,{asChild:!0,size:"sm",variant:"ghost",children:(0,b.jsx)(l.default,{href:`/dashboard/work/${x.id}`,children:"View Full Job"})})]})})}),a},[u,v,w,x,E,C,D]),G=(0,m.useMemo)(()=>{let a=[];return v&&a.push({id:`customer-${v.id}`,type:"customer",title:v.display_name||`${v.first_name||""} ${v.last_name||""}`.trim()||"Unknown Customer",subtitle:v.email||v.phone||void 0,href:`/dashboard/customers/${v.id}`}),w&&a.push({id:`property-${w.id}`,type:"property",title:w.address||w.name||"Property",subtitle:`${w.city||""}, ${w.state||""}`.trim()||void 0,href:`/dashboard/work/properties/${w.id}`}),x&&a.push({id:`job-${x.id}`,type:"job",title:x.title||`Job #${x.job_number||x.id.slice(0,8)}`,subtitle:x.status,href:`/dashboard/work/${x.id}`,badge:x.status?{label:x.status,variant:"outline"}:void 0}),a},[v,w,x]),H="confirmed"===u.status?"default":"completed"===u.status?"secondary":"outline",I=[(0,b.jsx)(o.Badge,{variant:H,children:u.status||"scheduled"},"status"),u.type&&(0,b.jsx)(o.Badge,{variant:"outline",children:u.type},"type")].filter(Boolean),J=(0,b.jsx)("div",{className:"px-2 sm:px-0",children:(0,b.jsx)("div",{className:"bg-muted/50 rounded-md shadow-sm",children:(0,b.jsxs)("div",{className:"flex flex-col gap-4 p-4 sm:p-6",children:[(0,b.jsx)("div",{className:"flex flex-col gap-6 sm:flex-row sm:items-start sm:justify-between",children:(0,b.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,b.jsx)("div",{className:"flex flex-wrap items-center gap-2",children:I}),(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold sm:text-3xl",children:u.title||"Appointment"}),C&&(0,b.jsxs)("p",{className:"text-muted-foreground text-sm sm:text-base",children:[C.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})," ",C.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})," - ",D?.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})]})]})]})}),v&&(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,b.jsxs)(l.default,{className:"border-border/60 bg-background hover:border-primary/50 hover:bg-primary/5 inline-flex items-center gap-2 rounded-full border px-4 py-2 text-sm font-medium transition-colors",href:`/dashboard/customers/${v.id}`,children:[(0,b.jsx)(j.User,{className:"size-4"}),v.display_name||`${v.first_name||""} ${v.last_name||""}`.trim()||"Unknown Customer"]}),v.email&&(0,b.jsxs)("a",{className:"border-border/60 bg-background hover:border-primary/50 hover:bg-primary/5 inline-flex items-center gap-2 rounded-full border px-4 py-2 text-sm font-medium transition-colors",href:`mailto:${v.email}`,children:[(0,b.jsx)(f.Mail,{className:"size-4"}),v.email]}),v.phone&&(0,b.jsxs)("a",{className:"border-border/60 bg-background hover:border-primary/50 hover:bg-primary/5 inline-flex items-center gap-2 rounded-full border px-4 py-2 text-sm font-medium transition-colors",href:`tel:${v.phone}`,children:[(0,b.jsx)(h.Phone,{className:"size-4"}),v.phone]})]}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[E>0&&(0,b.jsxs)("div",{className:"bg-muted inline-flex items-center gap-2 rounded-full px-3 py-1 text-sm",children:[(0,b.jsx)(e.Clock,{className:"text-muted-foreground size-4"}),(0,b.jsxs)("span",{className:"font-medium",children:[E," minutes"]})]}),y&&(0,b.jsxs)("div",{className:"bg-muted inline-flex items-center gap-2 rounded-full px-3 py-1 text-sm",children:[(0,b.jsx)(j.User,{className:"text-muted-foreground size-4"}),(0,b.jsx)("span",{className:"font-medium",children:y.name||"Unassigned"})]}),x&&(0,b.jsxs)(l.default,{className:"bg-muted hover:bg-muted/80 inline-flex items-center gap-2 rounded-full px-3 py-1 text-sm transition-colors",href:`/dashboard/work/${x.id}`,children:[(0,b.jsx)(k.Wrench,{className:"text-muted-foreground size-4"}),(0,b.jsxs)("span",{className:"font-medium",children:["Job #",x.job_number||x.id.slice(0,8)]})]})]})]})})});return(0,b.jsx)(n.DetailPageContentLayout,{activities:A,attachments:B,customHeader:J,customSections:F,defaultOpenSection:"schedule-details",notes:z,relatedItems:G,showStandardSections:{activities:!0,notes:!0,attachments:!0,relatedItems:!0}})}a.s(["AppointmentPageContent",()=>u])}];

//# sourceMappingURL=apps_web_src_components_work_appointments_appointment-page-content_tsx_6e7f3884._.js.map