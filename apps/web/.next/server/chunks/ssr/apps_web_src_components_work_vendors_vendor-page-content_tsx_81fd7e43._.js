module.exports=[16161,a=>{"use strict";var b=a.i(861467),c=a.i(89626),d=a.i(263758),e=a.i(319895),f=a.i(4229),g=a.i(789815),h=a.i(21220),i=a.i(898062),j=a.i(638727),k=a.i(757844),l=a.i(232553),m=a.i(907844),n=a.i(688014),o=a.i(320091),p=a.i(145679),q=a.i(337241),r=a.i(783281),s=a.i(156916),t=a.i(761447),u=a.i(169021),v=(0,u.createServerReference)("60f211711a4857b14c6ccb39c4c0c2ce24e4c041d8",u.callServer,void 0,u.findSourceMapURL,"linkPurchaseOrderToVendor"),w=(0,u.createServerReference)("6075e05577a34dadec4fa74245313b68c48494dd08",u.callServer,void 0,u.findSourceMapURL,"updateVendor"),x=a.i(836994),y=a.i(949729);a.i(288007);var z=a.i(986990);a.i(445255);var A=a.i(18170);a.i(380934);var B=a.i(347421);a.i(421695);var C=a.i(736786);a.i(19256);var D=a.i(417132);a.i(839984);var E=a.i(372712);a.i(40744);var F=a.i(419573),G=a.i(382281);a.i(897346);var H=a.i(75892),I=a.i(792268);function J({entityData:a,metrics:u={},searchData:J={}}){let K=(0,q.useRouter)(),{vendor:L,purchaseOrders:M=[],activities:N=[],notes:O=[],attachments:P=[],contacts:Q=[],relatedJobs:R=[]}=a,{availablePurchaseOrders:S=[],availableContacts:T=[]}=J,[U,V]=(0,r.useState)(L),[W,X]=(0,r.useState)(!1),[Y,Z]=(0,r.useState)(!1),[$,_]=(0,r.useState)(!1),[aa,ab]=(0,r.useState)(!1),[ac,ad]=(0,r.useState)(!1),[ae,af]=(0,r.useState)(!1),[ag,ah]=(0,r.useState)(""),[ai,aj]=(0,r.useState)(""),[ak,al]=(0,r.useState)(!1),[am,an]=(0,r.useState)(Array.isArray(L.tags)?L.tags:[]),ao=async(a,b)=>{let c=await (0,t.updateEntityTags)("vendor",a,b);return c.success?(an(b),s.toast.success("Tags updated")):s.toast.error(c.error||"Failed to update tags"),c},ap=(0,r.useCallback)((a,b)=>{V(c=>({...c,[a]:b})),X(!0)},[]),aq=async a=>{al(!0);try{let b=await v(a,U.id);b.success?(s.toast.success("Purchase order linked successfully"),_(!1),ah("")):s.toast.error(b.error||"Failed to link purchase order")}catch(a){s.toast.error("Failed to link purchase order")}finally{al(!1)}},ar=(0,r.useCallback)(async()=>{if(!W)return;Z(!0);let a={...U};try{let b=new FormData;b.append("name",U.name),b.append("display_name",U.display_name),b.append("vendor_number",U.vendor_number),U.email&&b.append("email",U.email),U.phone&&b.append("phone",U.phone),U.secondary_phone&&b.append("secondary_phone",U.secondary_phone),U.website&&b.append("website",U.website),U.address&&b.append("address",U.address),U.address2&&b.append("address2",U.address2),U.city&&b.append("city",U.city),U.state&&b.append("state",U.state),U.zip_code&&b.append("zip_code",U.zip_code),U.country&&b.append("country",U.country),U.tax_id&&b.append("tax_id",U.tax_id),U.payment_terms&&b.append("payment_terms",U.payment_terms),U.credit_limit&&b.append("credit_limit",(U.credit_limit/100).toString()),U.preferred_payment_method&&b.append("preferred_payment_method",U.preferred_payment_method),U.category&&b.append("category",U.category),b.append("status",U.status),U.notes&&b.append("notes",U.notes),U.internal_notes&&b.append("internal_notes",U.internal_notes);let c=await w(U.id,b);c.success?(s.toast.success("Vendor updated successfully"),X(!1)):(V(a),X(!1),s.toast.error(c.error||"Failed to save changes"))}catch(b){V(a),X(!1),s.toast.error("Failed to save changes")}finally{Z(!1)}},[U,W,K]);(0,r.useEffect)(()=>{let a=a=>{(a.metaKey||a.ctrlKey)&&"s"===a.key&&W&&(a.preventDefault(),ar())};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[W,ar]);let as=u.totalSpend||0,at=u.openPOCount||0,au=u.openPOValue||0,av=u.averageOrderValue||0,aw=u.onTimeDeliveryRate||0,ax=[{id:"vendor-info",title:"Vendor Information",icon:(0,b.jsx)(d.Building2,{className:"size-4"}),actions:W?(0,b.jsxs)(z.Badge,{className:"bg-amber-100 text-amber-900 dark:bg-amber-500/20",variant:"outline",children:[(0,b.jsx)(l.Save,{className:"mr-1 size-3"}),"Unsaved"]}):void 0,content:(0,b.jsxs)("div",{className:"space-y-6 p-6",children:[(0,b.jsxs)(G.StandardFormRow,{cols:2,children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(G.StandardFormField,{label:"Vendor Name",htmlFor:"name",required:!0,children:(0,b.jsx)(E.Input,{id:"name",onChange:a=>ap("name",a.target.value),value:U.name||""})}),(0,b.jsx)(G.StandardFormField,{label:"Display Name",htmlFor:"display_name",children:(0,b.jsx)(E.Input,{id:"display_name",onChange:a=>ap("display_name",a.target.value),value:U.display_name||""})}),(0,b.jsx)(G.StandardFormField,{label:"Category",htmlFor:"category",children:(0,b.jsxs)(F.Select,{onValueChange:a=>ap("category",a),value:U.category||"",children:[(0,b.jsx)(F.SelectTrigger,{id:"category",children:(0,b.jsx)(F.SelectValue,{placeholder:"Select category"})}),(0,b.jsxs)(F.SelectContent,{children:[(0,b.jsx)(F.SelectItem,{value:"supplier",children:"Supplier"}),(0,b.jsx)(F.SelectItem,{value:"distributor",children:"Distributor"}),(0,b.jsx)(F.SelectItem,{value:"manufacturer",children:"Manufacturer"}),(0,b.jsx)(F.SelectItem,{value:"service_provider",children:"Service Provider"}),(0,b.jsx)(F.SelectItem,{value:"other",children:"Other"})]})]})}),(0,b.jsx)(G.StandardFormField,{label:"Status",htmlFor:"status",children:(0,b.jsxs)(F.Select,{onValueChange:a=>ap("status",a),value:U.status||"active",children:[(0,b.jsx)(F.SelectTrigger,{id:"status",children:(0,b.jsx)(F.SelectValue,{})}),(0,b.jsxs)(F.SelectContent,{children:[(0,b.jsx)(F.SelectItem,{value:"active",children:"Active"}),(0,b.jsx)(F.SelectItem,{value:"inactive",children:"Inactive"})]})]})})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(G.StandardFormField,{label:"Email",htmlFor:"email",children:(0,b.jsx)(E.Input,{id:"email",onChange:a=>ap("email",a.target.value),type:"email",value:U.email||""})}),(0,b.jsx)(G.StandardFormField,{label:"Phone",htmlFor:"phone",children:(0,b.jsx)(E.Input,{id:"phone",onChange:a=>ap("phone",a.target.value),type:"tel",value:U.phone||""})}),(0,b.jsx)(G.StandardFormField,{label:"Secondary Phone",htmlFor:"secondary_phone",children:(0,b.jsx)(E.Input,{id:"secondary_phone",onChange:a=>ap("secondary_phone",a.target.value),type:"tel",value:U.secondary_phone||""})}),(0,b.jsx)(G.StandardFormField,{label:"Website",htmlFor:"website",children:(0,b.jsx)(E.Input,{id:"website",onChange:a=>ap("website",a.target.value),type:"url",value:U.website||""})})]})]}),(0,b.jsxs)("div",{className:"space-y-4 border-t pt-6",children:[(0,b.jsx)("h3",{className:"font-medium",children:"Address"}),(0,b.jsxs)(G.StandardFormRow,{cols:2,children:[(0,b.jsx)(G.StandardFormField,{label:"Street Address",htmlFor:"address",children:(0,b.jsx)(E.Input,{id:"address",onChange:a=>ap("address",a.target.value),value:U.address||""})}),(0,b.jsx)(G.StandardFormField,{label:"Address Line 2",htmlFor:"address2",children:(0,b.jsx)(E.Input,{id:"address2",onChange:a=>ap("address2",a.target.value),value:U.address2||""})}),(0,b.jsx)(G.StandardFormField,{label:"City",htmlFor:"city",children:(0,b.jsx)(E.Input,{id:"city",onChange:a=>ap("city",a.target.value),value:U.city||""})}),(0,b.jsx)(G.StandardFormField,{label:"State",htmlFor:"state",children:(0,b.jsx)(E.Input,{id:"state",onChange:a=>ap("state",a.target.value),value:U.state||""})}),(0,b.jsx)(G.StandardFormField,{label:"ZIP Code",htmlFor:"zip_code",children:(0,b.jsx)(E.Input,{id:"zip_code",onChange:a=>ap("zip_code",a.target.value),value:U.zip_code||""})}),(0,b.jsx)(G.StandardFormField,{label:"Country",htmlFor:"country",children:(0,b.jsx)(E.Input,{id:"country",onChange:a=>ap("country",a.target.value),value:U.country||"USA"})})]})]}),(0,b.jsxs)("div",{className:"space-y-4 border-t pt-6",children:[(0,b.jsx)("h3",{className:"font-medium",children:"Business Information"}),(0,b.jsxs)(G.StandardFormRow,{cols:2,children:[(0,b.jsx)(G.StandardFormField,{label:"Tax ID",htmlFor:"tax_id",children:(0,b.jsx)(E.Input,{id:"tax_id",onChange:a=>ap("tax_id",a.target.value),value:U.tax_id||""})}),(0,b.jsx)(G.StandardFormField,{label:"Payment Terms",htmlFor:"payment_terms",children:(0,b.jsxs)(F.Select,{onValueChange:a=>ap("payment_terms",a),value:U.payment_terms||"net_30",children:[(0,b.jsx)(F.SelectTrigger,{id:"payment_terms",children:(0,b.jsx)(F.SelectValue,{})}),(0,b.jsxs)(F.SelectContent,{children:[(0,b.jsx)(F.SelectItem,{value:"net_15",children:"Net 15"}),(0,b.jsx)(F.SelectItem,{value:"net_30",children:"Net 30"}),(0,b.jsx)(F.SelectItem,{value:"net_60",children:"Net 60"}),(0,b.jsx)(F.SelectItem,{value:"due_on_receipt",children:"Due on Receipt"}),(0,b.jsx)(F.SelectItem,{value:"custom",children:"Custom"})]})]})}),(0,b.jsx)(G.StandardFormField,{label:"Credit Limit",htmlFor:"credit_limit",children:(0,b.jsx)(E.Input,{id:"credit_limit",min:"0",onChange:a=>ap("credit_limit",Math.round(100*Number.parseFloat(a.target.value||"0"))),step:"0.01",type:"number",value:((U.credit_limit||0)/100).toFixed(2)})}),(0,b.jsx)(G.StandardFormField,{label:"Preferred Payment Method",htmlFor:"preferred_payment_method",children:(0,b.jsxs)(F.Select,{onValueChange:a=>ap("preferred_payment_method",a),value:U.preferred_payment_method||"",children:[(0,b.jsx)(F.SelectTrigger,{id:"preferred_payment_method",children:(0,b.jsx)(F.SelectValue,{placeholder:"Select method"})}),(0,b.jsxs)(F.SelectContent,{children:[(0,b.jsx)(F.SelectItem,{value:"check",children:"Check"}),(0,b.jsx)(F.SelectItem,{value:"ach",children:"ACH"}),(0,b.jsx)(F.SelectItem,{value:"credit_card",children:"Credit Card"}),(0,b.jsx)(F.SelectItem,{value:"wire",children:"Wire Transfer"})]})]})})]})]}),(0,b.jsxs)("div",{className:"space-y-4 border-t pt-6",children:[(0,b.jsx)(G.StandardFormField,{label:"Notes",htmlFor:"notes",description:"Customer-facing notes",children:(0,b.jsx)(H.Textarea,{id:"notes",onChange:a=>ap("notes",a.target.value),placeholder:"Customer-facing notes...",rows:3,value:U.notes||""})}),(0,b.jsx)(G.StandardFormField,{label:"Internal Notes",htmlFor:"internal_notes",description:"Private team notes",children:(0,b.jsx)(H.Textarea,{id:"internal_notes",onChange:a=>ap("internal_notes",a.target.value),placeholder:"Private team notes...",rows:3,value:U.internal_notes||""})})]}),W&&(0,b.jsx)("div",{className:"flex items-center justify-end gap-2 border-t pt-6",children:(0,b.jsx)(A.Button,{disabled:Y,onClick:ar,size:"sm",children:Y?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(l.Save,{className:"mr-2 size-4 animate-pulse"}),"Saving..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(l.Save,{className:"mr-2 size-4"}),"Save Changes (⌘S)"]})})})]})},{id:"purchase-orders",title:"Purchase Orders",icon:(0,b.jsx)(k.Receipt,{className:"size-4"}),count:M.length,actions:(0,b.jsxs)(A.Button,{onClick:()=>_(!0),size:"sm",variant:"outline",children:[(0,b.jsx)(j.Plus,{className:"mr-2 size-3.5"}),"Link PO"]}),content:(0,b.jsx)("div",{className:"space-y-4 p-6",children:0===M.length?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,b.jsx)(k.Receipt,{className:"text-muted-foreground mb-4 size-12"}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"No purchase orders yet"}),(0,b.jsx)(A.Button,{asChild:!0,className:"mt-4",size:"sm",variant:"outline",children:(0,b.jsx)(p.default,{href:`/dashboard/work/purchase-orders/new?vendorId=${U.id}`,children:"Create Purchase Order"})})]}):(0,b.jsx)("div",{className:"space-y-3",children:M.map(a=>(0,b.jsx)(p.default,{className:"hover:bg-muted/50 block rounded-lg border p-4 transition-colors",href:`/dashboard/work/purchase-orders/${a.id}`,children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("p",{className:"font-medium",children:a.po_number}),(0,b.jsx)(z.Badge,{variant:"outline",children:a.status})]}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:a.title}),a.expected_delivery&&(0,b.jsxs)("p",{className:"text-muted-foreground text-xs",children:["Expected: ",(0,I.formatDate)(a.expected_delivery)]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:"font-medium",children:(0,I.formatCurrency)(a.total_amount)}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:(0,I.formatDate)(a.created_at)})]})]})},a.id))})})},{id:"performance",title:"Performance Metrics",icon:(0,b.jsx)(n.TrendingUp,{className:"size-4"}),content:(0,b.jsxs)("div",{className:"grid gap-4 p-6 md:grid-cols-2 lg:grid-cols-3",children:[(0,b.jsxs)(B.Card,{children:[(0,b.jsx)(B.CardHeader,{className:"pb-3",children:(0,b.jsx)(B.CardTitle,{className:"text-sm",children:"Total Spend"})}),(0,b.jsxs)(B.CardContent,{children:[(0,b.jsx)("p",{className:"text-2xl font-bold",children:(0,I.formatCurrency)(as)}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:"All-time"})]})]}),(0,b.jsxs)(B.Card,{children:[(0,b.jsx)(B.CardHeader,{className:"pb-3",children:(0,b.jsx)(B.CardTitle,{className:"text-sm",children:"Open POs"})}),(0,b.jsxs)(B.CardContent,{children:[(0,b.jsx)("p",{className:"text-2xl font-bold",children:at}),(0,b.jsxs)("p",{className:"text-muted-foreground text-xs",children:[(0,I.formatCurrency)(au)," value"]})]})]}),(0,b.jsxs)(B.Card,{children:[(0,b.jsx)(B.CardHeader,{className:"pb-3",children:(0,b.jsx)(B.CardTitle,{className:"text-sm",children:"Avg Order Value"})}),(0,b.jsxs)(B.CardContent,{children:[(0,b.jsx)("p",{className:"text-2xl font-bold",children:(0,I.formatCurrency)(av)}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:"Per purchase order"})]})]}),(0,b.jsxs)(B.Card,{children:[(0,b.jsx)(B.CardHeader,{className:"pb-3",children:(0,b.jsx)(B.CardTitle,{className:"text-sm",children:"Last Order"})}),(0,b.jsxs)(B.CardContent,{children:[(0,b.jsx)("p",{className:"text-2xl font-bold",children:u.lastOrderDate?(0,I.formatDate)(u.lastOrderDate,{preset:"short"}):"Never"}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:"Most recent PO"})]})]}),(0,b.jsxs)(B.Card,{children:[(0,b.jsx)(B.CardHeader,{className:"pb-3",children:(0,b.jsx)(B.CardTitle,{className:"text-sm",children:"On-Time Delivery"})}),(0,b.jsxs)(B.CardContent,{children:[(0,b.jsxs)("p",{className:"text-2xl font-bold",children:[aw,"%"]}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:"Delivery performance"})]})]}),(0,b.jsxs)(B.Card,{children:[(0,b.jsx)(B.CardHeader,{className:"pb-3",children:(0,b.jsx)(B.CardTitle,{className:"text-sm",children:"Orders (12mo)"})}),(0,b.jsxs)(B.CardContent,{children:[(0,b.jsx)("p",{className:"text-2xl font-bold",children:M.length}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:"Last 12 months"})]})]})]})},{id:"related-jobs",title:"Related Jobs",icon:(0,b.jsx)(m.ShoppingCart,{className:"size-4"}),count:R.length,content:(0,b.jsx)("div",{className:"space-y-4 p-6",children:0===R.length?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,b.jsx)(m.ShoppingCart,{className:"text-muted-foreground mb-4 size-12"}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"No jobs linked to this vendor yet"})]}):(0,b.jsx)("div",{className:"space-y-3",children:R.map(a=>(0,b.jsx)(p.default,{className:"hover:bg-muted/50 block rounded-lg border p-4 transition-colors",href:`/dashboard/work/${a.id}`,children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("p",{className:"font-medium",children:a.job_number}),(0,b.jsx)(z.Badge,{variant:"outline",children:a.status})]}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:a.title})]}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:(0,I.formatDate)(a.created_at)})]})},a.id))})})},{id:"contacts",title:"Contacts",icon:(0,b.jsx)(o.User,{className:"size-4"}),count:Q.length,actions:(0,b.jsxs)(A.Button,{onClick:()=>ab(!0),size:"sm",variant:"outline",children:[(0,b.jsx)(j.Plus,{className:"mr-2 size-3.5"}),"Link Contact"]}),content:(0,b.jsx)("div",{className:"space-y-4 p-6",children:0===Q.length?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,b.jsx)(o.User,{className:"text-muted-foreground mb-4 size-12"}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"No contacts added yet"}),(0,b.jsx)(A.Button,{className:"mt-4",size:"sm",variant:"outline",children:"Add Contact"})]}):(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:Q.map(a=>(0,b.jsxs)(B.Card,{children:[(0,b.jsxs)(B.CardHeader,{className:"pb-3",children:[(0,b.jsxs)(B.CardTitle,{className:"text-base",children:[a.first_name," ",a.last_name]}),a.title&&(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:a.title})]}),(0,b.jsxs)(B.CardContent,{className:"space-y-2",children:[a.email&&(0,b.jsxs)("a",{className:"text-primary flex items-center gap-2 text-sm hover:underline",href:`mailto:${a.email}`,children:[(0,b.jsx)(g.Mail,{className:"size-3"}),a.email]}),a.phone&&(0,b.jsxs)("a",{className:"text-primary flex items-center gap-2 text-sm hover:underline",href:`tel:${a.phone}`,children:[(0,b.jsx)(i.Phone,{className:"size-3"}),a.phone]})]})]},a.id))})})},{id:"notes",title:"Notes",icon:(0,b.jsx)(e.FileText,{className:"size-4"}),count:O.length,actions:(0,b.jsxs)(A.Button,{onClick:()=>ad(!0),size:"sm",variant:"outline",children:[(0,b.jsx)(j.Plus,{className:"mr-2 size-3.5"}),"Add Note"]}),content:(0,b.jsx)("div",{className:"space-y-4 p-6",children:0===O.length?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,b.jsx)(e.FileText,{className:"text-muted-foreground mb-4 size-12"}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"No notes yet"})]}):(0,b.jsx)("div",{className:"space-y-3",children:O.map(a=>(0,b.jsxs)("div",{className:"rounded-lg border p-4",children:[(0,b.jsx)("p",{className:"text-sm",children:a.content}),(0,b.jsx)("p",{className:"text-muted-foreground mt-2 text-xs",children:(0,I.formatDate)(a.created_at)})]},a.id))})})},{id:"attachments",title:"Attachments",icon:(0,b.jsx)(h.Paperclip,{className:"size-4"}),count:P.length,actions:(0,b.jsxs)(A.Button,{onClick:()=>af(!0),size:"sm",variant:"outline",children:[(0,b.jsx)(j.Plus,{className:"mr-2 size-3.5"}),"Upload"]}),content:(0,b.jsx)("div",{className:"space-y-4 p-6",children:0===P.length?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,b.jsx)(h.Paperclip,{className:"text-muted-foreground mb-4 size-12"}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"No attachments yet"})]}):(0,b.jsx)("div",{className:"space-y-3",children:P.map(a=>(0,b.jsxs)("div",{className:"rounded-lg border p-4",children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:a.filename}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:(0,I.formatDate)(a.created_at)})]},a.id))})})},{id:"activity-log",title:"Activity Log",icon:(0,b.jsx)(c.Activity,{className:"size-4"}),count:N.length,content:(0,b.jsx)("div",{className:"space-y-4 p-6",children:0===N.length?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,b.jsx)(c.Activity,{className:"text-muted-foreground mb-4 size-12"}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"No activity yet"})]}):(0,b.jsx)("div",{className:"space-y-3",children:N.map(a=>(0,b.jsxs)("div",{className:"rounded-lg border p-4",children:[(0,b.jsx)("p",{className:"text-sm",children:a.action}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:(0,I.formatDate)(a.created_at)})]},a.id))})})}];return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(x.DetailPageContentLayout,{customHeader:(0,b.jsx)("div",{className:"space-y-4",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:U.display_name||U.name}),(0,b.jsx)(z.Badge,{variant:"active"===U.status?"default":"secondary",children:U.status})]}),(0,b.jsxs)("p",{className:"text-muted-foreground",children:[U.vendor_number," • ",U.category||"Vendor"]}),(0,b.jsx)(y.EntityTags,{entityId:U.id,entityType:"vendor",onUpdateTags:ao,tags:am})]})}),customSections:ax,defaultOpenSection:"vendor-info",showStandardSections:{activities:!1,notes:!1,attachments:!1,relatedItems:!1},storageKey:"vendor-details"}),(0,b.jsxs)(C.CommandDialog,{onOpenChange:_,open:$,children:[(0,b.jsx)(C.CommandInput,{onValueChange:ah,placeholder:"Search purchase orders by number, title, or amount...",value:ag}),(0,b.jsxs)(C.CommandList,{children:[(0,b.jsx)(C.CommandEmpty,{children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-3 py-6",children:[(0,b.jsx)(k.Receipt,{className:"text-muted-foreground size-12"}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:"No purchase orders found"}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:"Try a different search or create a new one"})]})]})}),(0,b.jsx)(C.CommandGroup,{heading:"Quick Actions",children:(0,b.jsx)(C.CommandItem,{asChild:!0,className:"p-0 hover:bg-transparent data-[selected=true]:bg-transparent",children:(0,b.jsxs)(p.default,{className:"flex w-full cursor-pointer items-center gap-3 rounded-2xl border border-emerald-500/30 bg-emerald-500/12 p-4 shadow-[0_12px_40px_rgba(0,0,0,0.35)] ring-1 ring-emerald-500/40 transition-all hover:border-emerald-500/60 hover:bg-emerald-500/18",href:`/dashboard/work/purchase-orders/new?vendorId=${U.id}`,onClick:()=>_(!1),children:[(0,b.jsx)("div",{className:"flex size-9 shrink-0 items-center justify-center rounded-xl bg-emerald-500 shadow-lg shadow-emerald-500/40",children:(0,b.jsx)(j.Plus,{className:"size-4 text-white"})}),(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("span",{className:"text-sm font-semibold text-emerald-100",children:"Create New Purchase Order"}),(0,b.jsx)("span",{className:"text-xs text-emerald-100/70",children:"Start a new PO for this vendor"})]})]})})}),S.length>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(C.CommandSeparator,{}),(0,b.jsx)(C.CommandGroup,{heading:`Available Purchase Orders (${S.filter(a=>!ag||a.po_number?.toLowerCase().includes(ag.toLowerCase())||a.title?.toLowerCase().includes(ag.toLowerCase())).length})`,children:S.filter(a=>!ag||a.po_number?.toLowerCase().includes(ag.toLowerCase())||a.title?.toLowerCase().includes(ag.toLowerCase())).slice(0,8).map(a=>{let c={draft:"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300",pending_approval:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400",approved:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400",ordered:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",partially_received:"bg-violet-100 text-violet-700 dark:bg-violet-900/30 dark:text-violet-400"};return(0,b.jsx)(C.CommandItem,{className:"px-2 py-3",disabled:ak,onSelect:()=>aq(a.id),children:(0,b.jsxs)("div",{className:"flex w-full items-start gap-3",children:[(0,b.jsx)("div",{className:"flex size-10 shrink-0 items-center justify-center rounded-lg bg-gradient-to-br from-slate-100 to-slate-200 shadow-sm dark:from-slate-800 dark:to-slate-900",children:(0,b.jsx)(k.Receipt,{className:"size-5 text-slate-600 dark:text-slate-400"})}),(0,b.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col gap-1.5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"truncate text-sm leading-none font-semibold",children:a.po_number||a.title||"Untitled"}),(0,b.jsx)(z.Badge,{className:`shrink-0 px-2 py-0.5 text-[10px] leading-none font-medium ${c[a.status]||c.draft}`,variant:"outline",children:a.status?.replace(/_/g," ")})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-foreground text-sm font-semibold tabular-nums",children:(0,I.formatCurrency)(a.total_amount||0)}),(0,b.jsx)("span",{className:"text-muted-foreground",children:"•"}),(0,b.jsx)("span",{className:"text-muted-foreground text-xs",children:(0,I.formatDate)(a.created_at,{preset:"short"})})]})]}),(0,b.jsx)("div",{className:"text-muted-foreground flex shrink-0 items-center gap-1.5",children:(0,b.jsx)(f.Link2,{className:"size-4"})})]})},a.id)})})]})]})]}),(0,b.jsxs)(C.CommandDialog,{onOpenChange:ab,open:aa,children:[(0,b.jsx)(C.CommandInput,{onValueChange:aj,placeholder:"Search contacts by name, email, or company...",value:ai}),(0,b.jsxs)(C.CommandList,{children:[(0,b.jsx)(C.CommandEmpty,{children:(0,b.jsxs)("div",{className:"flex flex-col items-center gap-3 py-6",children:[(0,b.jsx)(o.User,{className:"text-muted-foreground size-12"}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:"No contacts found"}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:"Try a different search or create a new contact"})]})]})}),(0,b.jsx)(C.CommandGroup,{heading:"Quick Actions",children:(0,b.jsx)(C.CommandItem,{className:"p-0 hover:bg-transparent data-[selected=true]:bg-transparent",onSelect:()=>{s.toast.success("Contact creation coming soon"),ab(!1)},children:(0,b.jsxs)("div",{className:"flex w-full cursor-pointer items-center gap-3 rounded-2xl border border-blue-500/30 bg-blue-500/12 p-4 shadow-[0_12px_40px_rgba(0,0,0,0.35)] ring-1 ring-blue-500/40 transition-all hover:border-blue-500/60 hover:bg-blue-500/18",children:[(0,b.jsx)("div",{className:"flex size-9 shrink-0 items-center justify-center rounded-xl bg-blue-500 shadow-lg shadow-blue-500/40",children:(0,b.jsx)(j.Plus,{className:"size-4 text-white"})}),(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("span",{className:"text-sm font-semibold text-blue-100",children:"Create New Contact"}),(0,b.jsx)("span",{className:"text-xs text-blue-100/70",children:"Add a new contact for this vendor"})]})]})})}),T.length>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(C.CommandSeparator,{}),(0,b.jsx)(C.CommandGroup,{heading:`Available Contacts (${T.filter(a=>!ai||a.name?.toLowerCase().includes(ai.toLowerCase())||a.email?.toLowerCase().includes(ai.toLowerCase())||a.company_name?.toLowerCase().includes(ai.toLowerCase())).length})`,children:T.filter(a=>!ai||a.name?.toLowerCase().includes(ai.toLowerCase())||a.email?.toLowerCase().includes(ai.toLowerCase())||a.company_name?.toLowerCase().includes(ai.toLowerCase())).slice(0,8).map(a=>(0,b.jsx)(C.CommandItem,{className:"px-2 py-3",onSelect:()=>{s.toast.success("Contact linking coming soon"),ab(!1)},children:(0,b.jsxs)("div",{className:"flex w-full items-start gap-3",children:[(0,b.jsx)("div",{className:"flex size-10 shrink-0 items-center justify-center rounded-lg bg-gradient-to-br from-blue-100 to-blue-200 shadow-sm dark:from-blue-900/50 dark:to-blue-950",children:(0,b.jsx)(o.User,{className:"size-5 text-blue-600 dark:text-blue-400"})}),(0,b.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col gap-1.5",children:[(0,b.jsx)("span",{className:"truncate text-sm leading-none font-semibold",children:a.name}),(a.title||a.company_name)&&(0,b.jsxs)("div",{className:"text-muted-foreground flex items-center gap-1.5 text-xs",children:[a.title&&(0,b.jsx)("span",{className:"font-medium",children:a.title}),a.title&&a.company_name&&(0,b.jsx)("span",{children:"•"}),a.company_name&&(0,b.jsx)("span",{children:a.company_name})]}),a.email&&(0,b.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,b.jsx)(g.Mail,{className:"text-muted-foreground size-3"}),(0,b.jsx)("span",{className:"text-muted-foreground truncate text-xs",children:a.email})]}),a.phone&&(0,b.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,b.jsx)(i.Phone,{className:"text-muted-foreground size-3"}),(0,b.jsx)("span",{className:"text-muted-foreground text-xs",children:a.phone})]})]}),(0,b.jsx)("div",{className:"text-muted-foreground flex shrink-0 items-center gap-1.5",children:(0,b.jsx)(f.Link2,{className:"size-4"})})]})},a.id))})]})]})]}),(0,b.jsx)(D.Dialog,{onOpenChange:ad,open:ac,children:(0,b.jsxs)(D.DialogContent,{children:[(0,b.jsxs)(D.DialogHeader,{children:[(0,b.jsx)(D.DialogTitle,{children:"Add Note"}),(0,b.jsx)(D.DialogDescription,{children:"Add a note about this vendor for your team."})]}),(0,b.jsx)("div",{className:"space-y-4 py-4",children:(0,b.jsx)(H.Textarea,{placeholder:"Enter note content...",rows:4})}),(0,b.jsxs)(D.DialogFooter,{children:[(0,b.jsx)(A.Button,{onClick:()=>ad(!1),variant:"outline",children:"Cancel"}),(0,b.jsxs)(A.Button,{onClick:()=>{s.toast.success("Note functionality coming soon"),ad(!1)},children:[(0,b.jsx)(l.Save,{className:"mr-2 size-4"}),"Save Note"]})]})]})}),(0,b.jsx)(D.Dialog,{onOpenChange:af,open:ae,children:(0,b.jsxs)(D.DialogContent,{children:[(0,b.jsxs)(D.DialogHeader,{children:[(0,b.jsx)(D.DialogTitle,{children:"Upload Attachment"}),(0,b.jsx)(D.DialogDescription,{children:"Upload documents, contracts, or files related to this vendor."})]}),(0,b.jsx)("div",{className:"space-y-4 py-4",children:(0,b.jsxs)("div",{className:"rounded-2xl border border-dashed border-white/15 bg-zinc-900/70 p-10 text-center shadow-inner shadow-black/40 transition-colors hover:border-white/25 hover:bg-zinc-900/80",children:[(0,b.jsx)(h.Paperclip,{className:"mx-auto mb-4 size-12 text-zinc-400"}),(0,b.jsx)("p",{className:"text-sm text-zinc-300",children:"Drag and drop files here or click to browse"})]})}),(0,b.jsxs)(D.DialogFooter,{children:[(0,b.jsx)(A.Button,{onClick:()=>af(!1),variant:"outline",children:"Cancel"}),(0,b.jsx)(A.Button,{onClick:()=>{s.toast.success("Upload functionality coming soon"),af(!1)},children:"Upload"})]})]})})]})}a.s(["VendorPageContent",()=>J],16161)}];

//# sourceMappingURL=apps_web_src_components_work_vendors_vendor-page-content_tsx_81fd7e43._.js.map