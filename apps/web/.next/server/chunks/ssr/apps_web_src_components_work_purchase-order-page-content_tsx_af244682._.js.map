{"version":3,"sources":["../../../../../../apps/web/src/components/work/purchase-order-page-content.tsx","../../../../../../apps/web/src/actions/data%3Acbf11f%20%3Ctext/javascript%3E","../../../../../../apps/web/src/components/inventory/vendor-select.tsx"],"sourcesContent":["/**\n * Purchase Order Page Content\n *\n * Comprehensive purchase order details with collapsible sections\n * Matches job, customer, appointment, team member detail page patterns\n *\n * Sections:\n * - PO Information (number, vendor, dates, priority)\n * - Line Items (materials/items being ordered)\n * - Job Details (if linked to a job)\n * - Delivery Information (address, expected date, tracking)\n * - Activity Log (PO history and changes)\n */\n\n\"use client\";\n\nimport {\n\tActivity,\n\tAlertCircle,\n\tArchive,\n\tCheckCircle2,\n\tChevronRight,\n\tClock,\n\tDollarSign,\n\tDownload,\n\tFileCheck,\n\tFileText,\n\tMail,\n\tMapPin,\n\tMoreVertical,\n\tPaperclip,\n\tPencil,\n\tPrinter,\n\tUser,\n\tWrench,\n} from \"lucide-react\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/navigation\";\nimport { useState } from \"react\";\nimport { toast as sonnerToast } from \"sonner\";\nimport {\n\tarchivePurchaseOrder,\n\tupdatePurchaseOrderVendor,\n} from \"@/actions/purchase-orders\";\nimport { VendorSelect } from \"@/components/inventory/vendor-select\";\nimport { ActivityLogSection } from \"@/components/layout/standard-sections/activity-log-section\";\nimport { AttachmentsSection } from \"@/components/layout/standard-sections/attachments-section\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n\tDialog,\n\tDialogContent,\n\tDialogDescription,\n\tDialogFooter,\n\tDialogHeader,\n\tDialogTitle,\n} from \"@/components/ui/dialog\";\nimport {\n\tDropdownMenu,\n\tDropdownMenuContent,\n\tDropdownMenuItem,\n\tDropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { Label } from \"@/components/ui/label\";\nimport { StandardFormField } from \"@/components/ui/standard-form-field\";\nimport {\n\tTable,\n\tTableBody,\n\tTableCell,\n\tTableHead,\n\tTableHeader,\n\tTableRow,\n} from \"@/components/ui/table\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport {\n\tUnifiedAccordion,\n\tUnifiedAccordionContent,\n} from \"@/components/ui/unified-accordion\";\nimport { useToast } from \"@/hooks/use-toast\";\n\nexport type PurchaseOrderData = {\n\tpurchaseOrder: any;\n\tjob?: any;\n\testimate?: any; // NEW: source estimate\n\tinvoice?: any; // NEW: related invoice\n\tlineItems?: any[];\n\tactivities?: any[];\n\tattachments?: any[];\n\trequestedByUser?: any;\n\tapprovedByUser?: any;\n};\n\nexport type PurchaseOrderPageContentProps = {\n\tentityData: PurchaseOrderData;\n\tmetrics: any;\n};\n\nconst _defaultAccordionSections = [\"line-items\"];\n\nexport function PurchaseOrderPageContent({\n\tentityData,\n\tmetrics,\n}: PurchaseOrderPageContentProps) {\n\tconst router = useRouter();\n\tconst { toast } = useToast();\n\tconst [_hasChanges, _setHasChanges] = useState(false);\n\tconst [_isSaving, _setIsSaving] = useState(false);\n\tconst [isArchiveDialogOpen, setIsArchiveDialogOpen] = useState(false);\n\tconst [isArchiving, setIsArchiving] = useState(false);\n\n\tconst {\n\t\tpurchaseOrder: po,\n\t\tjob,\n\t\testimate, // NEW\n\t\tinvoice, // NEW\n\t\tlineItems = [],\n\t\tactivities = [],\n\t\tattachments = [],\n\t\trequestedByUser,\n\t\tapprovedByUser,\n\t} = entityData;\n\n\tconst [statusUpdateDialogOpen, setStatusUpdateDialogOpen] = useState(false);\n\tconst [selectedStatus, setSelectedStatus] = useState<string>(\n\t\tpo.status || \"draft\",\n\t);\n\tconst [statusUpdateNotes, setStatusUpdateNotes] = useState(\"\");\n\tconst [isUpdatingStatus, _setIsUpdatingStatus] = useState(false);\n\tconst [isEditingVendor, setIsEditingVendor] = useState(false);\n\tconst [selectedVendorId, setSelectedVendorId] = useState<string | undefined>(\n\t\tpo.vendor_id,\n\t);\n\tconst [selectedVendor, setSelectedVendor] = useState<any>(null);\n\tconst [isUpdatingVendor, setIsUpdatingVendor] = useState(false);\n\tconst [isDetailsOpen, setIsDetailsOpen] = useState(false);\n\tconst [_openSection, _setOpenSection] = useState<string | null>(\"line-items\");\n\n\tconst handleArchivePurchaseOrder = async () => {\n\t\tsetIsArchiving(true);\n\t\ttry {\n\t\t\tconst result = await archivePurchaseOrder(po.id);\n\t\t\tif (result.success) {\n\t\t\t\tsonnerToast.success(\"Purchase order archived successfully\");\n\t\t\t\tsetIsArchiveDialogOpen(false);\n\t\t\t\twindow.location.href = \"/dashboard/work/purchase-orders\";\n\t\t\t} else {\n\t\t\t\tsonnerToast.error(result.error || \"Failed to archive purchase order\");\n\t\t\t}\n\t\t} catch (_error) {\n\t\t\tsonnerToast.error(\"Failed to archive purchase order\");\n\t\t} finally {\n\t\t\tsetIsArchiving(false);\n\t\t}\n\t};\n\n\t// Prepare unified accordion sections\n\tconst accordionSections: any[] = [\n\t\t// Line Items\n\t\t{\n\t\t\tid: \"line-items\",\n\t\t\ttitle: \"Line Items\",\n\t\t\tcount: lineItems.length,\n\t\t\tdefaultOpen: true,\n\t\t\tcontent: (\n\t\t\t\t<UnifiedAccordionContent>\n\t\t\t\t\t{lineItems.length > 0 ? (\n\t\t\t\t\t\t<div className=\"-mx-4 overflow-x-auto sm:mx-0\">\n\t\t\t\t\t\t\t<Table>\n\t\t\t\t\t\t\t\t<TableHeader className=\"bg-background sticky top-0\">\n\t\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t\t<TableHead className=\"min-w-[200px]\">Description</TableHead>\n\t\t\t\t\t\t\t\t\t\t<TableHead className=\"w-24 text-right\">Ordered</TableHead>\n\t\t\t\t\t\t\t\t\t\t{(po.status === \"partially_received\" ||\n\t\t\t\t\t\t\t\t\t\t\tpo.status === \"received\" ||\n\t\t\t\t\t\t\t\t\t\t\tlineItems.some(\n\t\t\t\t\t\t\t\t\t\t\t\t(item: any) => item.received_quantity > 0,\n\t\t\t\t\t\t\t\t\t\t\t)) && (\n\t\t\t\t\t\t\t\t\t\t\t<TableHead className=\"w-24 text-right\">\n\t\t\t\t\t\t\t\t\t\t\t\tReceived\n\t\t\t\t\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t<TableHead className=\"w-32 text-right\">\n\t\t\t\t\t\t\t\t\t\t\tUnit Price\n\t\t\t\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t\t\t\t<TableHead className=\"w-32 text-right\">Total</TableHead>\n\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t</TableHeader>\n\t\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t\t{lineItems.map((item: any) => {\n\t\t\t\t\t\t\t\t\t\tconst receivedQty = item.received_quantity || 0;\n\t\t\t\t\t\t\t\t\t\tconst orderedQty = item.quantity || 0;\n\t\t\t\t\t\t\t\t\t\tconst isFullyReceived = receivedQty >= orderedQty;\n\t\t\t\t\t\t\t\t\t\tconst isPartiallyReceived =\n\t\t\t\t\t\t\t\t\t\t\treceivedQty > 0 && receivedQty < orderedQty;\n\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<TableRow key={item.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell className=\"font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{item.description}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{isFullyReceived && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckCircle2\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"Fully received\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-success size-4\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{isPartiallyReceived && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Clock\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"Partially received\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-warning size-4\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell className=\"text-right\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{orderedQty}\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t{(po.status === \"partially_received\" ||\n\t\t\t\t\t\t\t\t\t\t\t\t\tpo.status === \"received\" ||\n\t\t\t\t\t\t\t\t\t\t\t\t\treceivedQty > 0) && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell className=\"text-right\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisFullyReceived\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"text-success font-semibold\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: isPartiallyReceived\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"text-warning\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{receivedQty}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{isPartiallyReceived && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-muted-foreground ml-1 text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t({orderedQty - receivedQty} remaining)\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell className=\"text-right\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{new Intl.NumberFormat(\"en-US\", {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: \"currency\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrency: \"USD\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t}).format((item.unit_price || 0) / 100)}\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t<TableCell className=\"text-right font-semibold\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{new Intl.NumberFormat(\"en-US\", {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: \"currency\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcurrency: \"USD\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t}).format(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(orderedQty * (item.unit_price || 0)) / 100,\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t{/* Total Row */}\n\t\t\t\t\t\t\t\t\t<TableRow className=\"bg-muted/50 border-t-2\">\n\t\t\t\t\t\t\t\t\t\t<TableCell\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-right font-semibold\"\n\t\t\t\t\t\t\t\t\t\t\tcolSpan={\n\t\t\t\t\t\t\t\t\t\t\t\tpo.status === \"partially_received\" ||\n\t\t\t\t\t\t\t\t\t\t\t\tpo.status === \"received\" ||\n\t\t\t\t\t\t\t\t\t\t\t\tlineItems.some(\n\t\t\t\t\t\t\t\t\t\t\t\t\t(item: any) => item.received_quantity > 0,\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t? 4\n\t\t\t\t\t\t\t\t\t\t\t\t\t: 3\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tTotal\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell className=\"text-right text-lg font-bold\">\n\t\t\t\t\t\t\t\t\t\t\t{new Intl.NumberFormat(\"en-US\", {\n\t\t\t\t\t\t\t\t\t\t\t\tstyle: \"currency\",\n\t\t\t\t\t\t\t\t\t\t\t\tcurrency: \"USD\",\n\t\t\t\t\t\t\t\t\t\t\t}).format(\n\t\t\t\t\t\t\t\t\t\t\t\tlineItems.reduce(\n\t\t\t\t\t\t\t\t\t\t\t\t\t(sum: number, item: any) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsum + (item.quantity || 0) * (item.unit_price || 0),\n\t\t\t\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\t\t\t) / 100,\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div className=\"flex h-64 items-center justify-center\">\n\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t<FileText className=\"text-muted-foreground/50 mx-auto size-12\" />\n\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground mt-4 text-sm\">\n\t\t\t\t\t\t\t\t\tNo line items yet\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t\t\tAdd items to this purchase order\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</UnifiedAccordionContent>\n\t\t\t),\n\t\t},\n\t];\n\n\t// Add Job Details section if job exists\n\tif (job) {\n\t\taccordionSections.push({\n\t\t\tid: \"job-details\",\n\t\t\ttitle: \"Related Job\",\n\t\t\ticon: <Wrench className=\"size-4\" />,\n\t\t\tcontent: (\n\t\t\t\t<UnifiedAccordionContent>\n\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Label className=\"text-xs\">Job Number</Label>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tclassName=\"text-primary block text-sm font-medium hover:underline\"\n\t\t\t\t\t\t\t\thref={`/dashboard/work/${job.id}`}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t#{job.job_number}\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Label className=\"text-xs\">Title</Label>\n\t\t\t\t\t\t\t<p className=\"text-sm\">{job.title}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Label className=\"text-xs\">Status</Label>\n\t\t\t\t\t\t\t<Badge variant=\"outline\">{job.status}</Badge>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</UnifiedAccordionContent>\n\t\t\t),\n\t\t});\n\t}\n\n\t// NEW: Add Source Estimate section if exists\n\tif (estimate) {\n\t\taccordionSections.push({\n\t\t\tid: \"source-estimate\",\n\t\t\ttitle: \"Source Estimate\",\n\t\t\ticon: <FileText className=\"size-4\" />,\n\t\t\tcontent: (\n\t\t\t\t<UnifiedAccordionContent>\n\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Label className=\"text-xs\">Estimate Number</Label>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tclassName=\"text-primary block text-sm font-medium hover:underline\"\n\t\t\t\t\t\t\t\thref={`/dashboard/work/estimates/${estimate.id}`}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t#{estimate.estimate_number || estimate.id.slice(0, 8)}\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Label className=\"text-xs\">Title</Label>\n\t\t\t\t\t\t\t<p className=\"text-sm\">{estimate.title}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Label className=\"text-xs\">Total Amount</Label>\n\t\t\t\t\t\t\t<p className=\"text-sm font-medium\">\n\t\t\t\t\t\t\t\t{new Intl.NumberFormat(\"en-US\", {\n\t\t\t\t\t\t\t\t\tstyle: \"currency\",\n\t\t\t\t\t\t\t\t\tcurrency: \"USD\",\n\t\t\t\t\t\t\t\t}).format((estimate.total_amount || 0) / 100)}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Label className=\"text-xs\">Status</Label>\n\t\t\t\t\t\t\t<Badge variant=\"outline\">{estimate.status}</Badge>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</UnifiedAccordionContent>\n\t\t\t),\n\t\t});\n\t}\n\n\t// NEW: Add Related Invoice section if exists\n\tif (invoice) {\n\t\taccordionSections.push({\n\t\t\tid: \"related-invoice\",\n\t\t\ttitle: \"Related Invoice\",\n\t\t\ticon: <FileCheck className=\"size-4\" />,\n\t\t\tcontent: (\n\t\t\t\t<UnifiedAccordionContent>\n\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Label className=\"text-xs\">Invoice Number</Label>\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tclassName=\"text-primary block text-sm font-medium hover:underline\"\n\t\t\t\t\t\t\t\thref={`/dashboard/work/invoices/${invoice.id}`}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t#{invoice.invoice_number || invoice.id.slice(0, 8)}\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Label className=\"text-xs\">Title</Label>\n\t\t\t\t\t\t\t<p className=\"text-sm\">{invoice.title}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Label className=\"text-xs\">Total Amount</Label>\n\t\t\t\t\t\t\t<p className=\"text-sm font-medium\">\n\t\t\t\t\t\t\t\t{new Intl.NumberFormat(\"en-US\", {\n\t\t\t\t\t\t\t\t\tstyle: \"currency\",\n\t\t\t\t\t\t\t\t\tcurrency: \"USD\",\n\t\t\t\t\t\t\t\t}).format((invoice.total_amount || 0) / 100)}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Label className=\"text-xs\">Status</Label>\n\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\tvariant={invoice.status === \"paid\" ? \"default\" : \"outline\"}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{invoice.status}\n\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</UnifiedAccordionContent>\n\t\t\t),\n\t\t});\n\t}\n\n\t// Add Delivery section if applicable\n\tif (po.delivery_address || po.tracking_number) {\n\t\taccordionSections.push({\n\t\t\tid: \"delivery\",\n\t\t\ttitle: \"Delivery Details\",\n\t\t\ticon: <MapPin className=\"size-4\" />,\n\t\t\tcontent: (\n\t\t\t\t<UnifiedAccordionContent>\n\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t{po.delivery_address && (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Label className=\"text-xs\">Delivery Address</Label>\n\t\t\t\t\t\t\t\t<p className=\"text-sm whitespace-pre-line\">\n\t\t\t\t\t\t\t\t\t{po.delivery_address}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{po.tracking_number && (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Label className=\"text-xs\">Tracking Number</Label>\n\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t<p className=\"font-mono text-sm\">{po.tracking_number}</p>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tasChild\n\t\t\t\t\t\t\t\t\t\tclassName=\"h-6 px-2\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\thref={`https://www.google.com/search?q=${encodeURIComponent(po.tracking_number)}`}\n\t\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\tTrack\n\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</UnifiedAccordionContent>\n\t\t\t),\n\t\t});\n\t}\n\n\t// Add Attachments section\n\taccordionSections.push({\n\t\tid: \"attachments\",\n\t\ttitle: \"Attachments\",\n\t\ticon: <Paperclip className=\"size-4\" />,\n\t\tcount: attachments.length,\n\t\tcontent: (\n\t\t\t<UnifiedAccordionContent>\n\t\t\t\t{attachments.length > 0 ? (\n\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t{attachments.map((attachment: any) => (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"flex items-center justify-between rounded-lg border p-2\"\n\t\t\t\t\t\t\t\tkey={attachment.id}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t<FileText className=\"text-muted-foreground size-4\" />\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t{attachment.original_file_name || attachment.file_name}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t{attachment.file_size\n\t\t\t\t\t\t\t\t\t\t\t\t? `${(attachment.file_size / 1024).toFixed(1)} KB`\n\t\t\t\t\t\t\t\t\t\t\t\t: \"\"}\n\t\t\t\t\t\t\t\t\t\t\t{attachment.category && ` â€¢ ${attachment.category}`}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Button asChild size=\"sm\" variant=\"ghost\">\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\thref={attachment.storage_url}\n\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Download className=\"size-4\" />\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<p className=\"text-muted-foreground text-center text-sm\">\n\t\t\t\t\t\tNo attachments yet\n\t\t\t\t\t</p>\n\t\t\t\t)}\n\t\t\t</UnifiedAccordionContent>\n\t\t),\n\t});\n\n\t// Add Notes section if applicable\n\tif (po.notes || po.internal_notes) {\n\t\taccordionSections.push({\n\t\t\tid: \"notes\",\n\t\t\ttitle: \"Notes\",\n\t\t\ticon: <FileText className=\"size-4\" />,\n\t\t\tcontent: (\n\t\t\t\t<UnifiedAccordionContent>\n\t\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t\t{po.notes && (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Label className=\"text-xs\">Public Notes</Label>\n\t\t\t\t\t\t\t\t<p className=\"mt-1 text-sm whitespace-pre-wrap\">{po.notes}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{po.internal_notes && (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Label className=\"text-xs\">Internal Notes</Label>\n\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground mt-1 text-sm whitespace-pre-wrap\">\n\t\t\t\t\t\t\t\t\t{po.internal_notes}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</UnifiedAccordionContent>\n\t\t\t),\n\t\t});\n\t}\n\n\t// Add Documents section (renamed from attachments to avoid duplicate key)\n\taccordionSections.push({\n\t\tid: \"documents\",\n\t\ttitle: \"Documents\",\n\t\ticon: <Paperclip className=\"size-4\" />,\n\t\tcount: attachments.length,\n\t\tcontent: <AttachmentsSection attachments={attachments} />,\n\t});\n\n\t// Add Activity section\n\taccordionSections.push({\n\t\tid: \"activity\",\n\t\ttitle: \"Activity\",\n\t\ticon: <Activity className=\"size-4\" />,\n\t\tcount: activities.length,\n\t\tcontent: <ActivityLogSection activities={activities} />,\n\t});\n\n\treturn (\n\t\t<div className=\"flex-1\">\n\t\t\t<div className=\"w-full\">\n\t\t\t\t<div className=\"flex flex-col gap-6\">\n\t\t\t\t\t{/* Desktop Title and Actions */}\n\t\t\t\t\t<div className=\"hidden flex-row items-center justify-between lg:flex\">\n\t\t\t\t\t\t<div className=\"flex flex-row items-center gap-2\">\n\t\t\t\t\t\t\t<h1 className=\"text-2xl font-semibold\">{po.title}</h1>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"flex h-min gap-2\">\n\t\t\t\t\t\t\t{/* Print PO */}\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tonClick={() => window.print()}\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Printer className=\"mr-2 size-4\" />\n\t\t\t\t\t\t\t\tPrint\n\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t{/* Email Vendor */}\n\t\t\t\t\t\t\t{po.vendor_email && (\n\t\t\t\t\t\t\t\t<Button asChild size=\"sm\" variant=\"outline\">\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\thref={`mailto:${po.vendor_email}?subject=Purchase Order ${po.po_number || po.poNumber}`}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Mail className=\"mr-2 size-4\" />\n\t\t\t\t\t\t\t\t\t\tEmail Vendor\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t{/* Status Update Dropdown */}\n\t\t\t\t\t\t\t<DropdownMenu>\n\t\t\t\t\t\t\t\t<DropdownMenuTrigger asChild>\n\t\t\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"outline\">\n\t\t\t\t\t\t\t\t\t\t<MoreVertical className=\"size-4\" />\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</DropdownMenuTrigger>\n\t\t\t\t\t\t\t\t<DropdownMenuContent align=\"end\">\n\t\t\t\t\t\t\t\t\t<DropdownMenuItem\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tsetSelectedStatus(\"pending_approval\");\n\t\t\t\t\t\t\t\t\t\t\tsetStatusUpdateDialogOpen(true);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tRequest Approval\n\t\t\t\t\t\t\t\t\t</DropdownMenuItem>\n\t\t\t\t\t\t\t\t\t<DropdownMenuItem\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tsetSelectedStatus(\"approved\");\n\t\t\t\t\t\t\t\t\t\t\tsetStatusUpdateDialogOpen(true);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tApprove\n\t\t\t\t\t\t\t\t\t</DropdownMenuItem>\n\t\t\t\t\t\t\t\t\t<DropdownMenuItem\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tsetSelectedStatus(\"ordered\");\n\t\t\t\t\t\t\t\t\t\t\tsetStatusUpdateDialogOpen(true);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tMark as Ordered\n\t\t\t\t\t\t\t\t\t</DropdownMenuItem>\n\t\t\t\t\t\t\t\t\t<DropdownMenuItem\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tsetSelectedStatus(\"partially_received\");\n\t\t\t\t\t\t\t\t\t\t\tsetStatusUpdateDialogOpen(true);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tPartially Received\n\t\t\t\t\t\t\t\t\t</DropdownMenuItem>\n\t\t\t\t\t\t\t\t\t<DropdownMenuItem\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tsetSelectedStatus(\"received\");\n\t\t\t\t\t\t\t\t\t\t\tsetStatusUpdateDialogOpen(true);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tMark as Received\n\t\t\t\t\t\t\t\t\t</DropdownMenuItem>\n\t\t\t\t\t\t\t\t\t<DropdownMenuItem\n\t\t\t\t\t\t\t\t\t\tclassName=\"text-destructive\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tsetSelectedStatus(\"cancelled\");\n\t\t\t\t\t\t\t\t\t\t\tsetStatusUpdateDialogOpen(true);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tCancel PO\n\t\t\t\t\t\t\t\t\t</DropdownMenuItem>\n\t\t\t\t\t\t\t\t\t<DropdownMenuItem\n\t\t\t\t\t\t\t\t\t\tonClick={() => setIsArchiveDialogOpen(true)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Archive className=\"mr-2 size-4\" />\n\t\t\t\t\t\t\t\t\t\tArchive\n\t\t\t\t\t\t\t\t\t</DropdownMenuItem>\n\t\t\t\t\t\t\t\t</DropdownMenuContent>\n\t\t\t\t\t\t\t</DropdownMenu>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Main Card Container */}\n\t\t\t\t\t<div className=\"bg-muted/50 rounded-md shadow-sm\">\n\t\t\t\t\t\t<div className=\"flex flex-col gap-4 overflow-hidden p-4 sm:p-6 md:flex-row\">\n\t\t\t\t\t\t\t{/* Left Side - Status Preview */}\n\t\t\t\t\t\t\t<div className=\"flex flex-col gap-3\">\n\t\t\t\t\t\t\t\t<div className=\"aspect-[16/10] w-full md:w-[320px] lg:w-[400px]\">\n\t\t\t\t\t\t\t\t\t<div className=\"border-border flex size-full w-full flex-none justify-center overflow-hidden rounded-lg border border-solid p-0\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"w-full\">\n\t\t\t\t\t\t\t\t\t\t\t{/* Status Header */}\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"border-border w-full border-b border-solid p-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{po.status === \"received\" ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckCircle2 className=\"text-success size-4\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : po.status === \"cancelled\" ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<AlertCircle className=\"text-destructive size-4\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Clock className=\"text-warning size-4\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h3 className=\"text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{po.status\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t?.replace(\"_\", \" \")\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.replace(/\\b\\w/g, (l: string) =>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tl.toUpperCase(),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) || \"Draft\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t{/* Content */}\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex h-[calc(100%-45px)] flex-col p-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tPO Number\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{po.po_number || po.poNumber}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{po.vendor && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tVendor\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium\">{po.vendor}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{/* Mobile Title and Actions */}\n\t\t\t\t\t\t\t\t<div className=\"flex h-min flex-wrap gap-2 lg:hidden\">\n\t\t\t\t\t\t\t\t\t{/* Print PO */}\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tclassName=\"min-w-[96px] flex-1\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => window.print()}\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Printer className=\"mr-2 size-4\" />\n\t\t\t\t\t\t\t\t\t\tPrint\n\t\t\t\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t\t\t\t{/* Email Vendor */}\n\t\t\t\t\t\t\t\t\t{po.vendor_email && (\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tasChild\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"min-w-[96px] flex-1\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\thref={`mailto:${po.vendor_email}?subject=Purchase Order ${po.po_number || po.poNumber}`}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<Mail className=\"mr-2 size-4\" />\n\t\t\t\t\t\t\t\t\t\t\t\tEmail\n\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t{/* Status Update Dropdown */}\n\t\t\t\t\t\t\t\t\t<DropdownMenu>\n\t\t\t\t\t\t\t\t\t\t<DropdownMenuTrigger asChild>\n\t\t\t\t\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"outline\">\n\t\t\t\t\t\t\t\t\t\t\t\t<MoreVertical className=\"size-4\" />\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t</DropdownMenuTrigger>\n\t\t\t\t\t\t\t\t\t\t<DropdownMenuContent align=\"end\">\n\t\t\t\t\t\t\t\t\t\t\t<DropdownMenuItem\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedStatus(\"pending_approval\");\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetStatusUpdateDialogOpen(true);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tRequest Approval\n\t\t\t\t\t\t\t\t\t\t\t</DropdownMenuItem>\n\t\t\t\t\t\t\t\t\t\t\t<DropdownMenuItem\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedStatus(\"approved\");\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetStatusUpdateDialogOpen(true);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tApprove\n\t\t\t\t\t\t\t\t\t\t\t</DropdownMenuItem>\n\t\t\t\t\t\t\t\t\t\t\t<DropdownMenuItem\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedStatus(\"ordered\");\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetStatusUpdateDialogOpen(true);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tMark as Ordered\n\t\t\t\t\t\t\t\t\t\t\t</DropdownMenuItem>\n\t\t\t\t\t\t\t\t\t\t\t<DropdownMenuItem\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedStatus(\"partially_received\");\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetStatusUpdateDialogOpen(true);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tPartially Received\n\t\t\t\t\t\t\t\t\t\t\t</DropdownMenuItem>\n\t\t\t\t\t\t\t\t\t\t\t<DropdownMenuItem\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedStatus(\"received\");\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetStatusUpdateDialogOpen(true);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tMark as Received\n\t\t\t\t\t\t\t\t\t\t\t</DropdownMenuItem>\n\t\t\t\t\t\t\t\t\t\t\t<DropdownMenuItem\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-destructive\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedStatus(\"cancelled\");\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetStatusUpdateDialogOpen(true);\n\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\tCancel PO\n\t\t\t\t\t\t\t\t\t\t\t</DropdownMenuItem>\n\t\t\t\t\t\t\t\t\t\t\t<DropdownMenuItem\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setIsArchiveDialogOpen(true)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<Archive className=\"mr-2 size-4\" />\n\t\t\t\t\t\t\t\t\t\t\t\tArchive\n\t\t\t\t\t\t\t\t\t\t\t</DropdownMenuItem>\n\t\t\t\t\t\t\t\t\t\t</DropdownMenuContent>\n\t\t\t\t\t\t\t\t\t</DropdownMenu>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{/* Right Side - Metadata Grid */}\n\t\t\t\t\t\t\t<div className=\"flex min-w-0 flex-1 flex-col gap-4 sm:gap-6\">\n\t\t\t\t\t\t\t\t<div className=\"grid grid-cols-2 gap-4 md:grid-cols-4 [&>div]:flex-[0_1_auto]\">\n\t\t\t\t\t\t\t\t\t{/* Created Date */}\n\t\t\t\t\t\t\t\t\t<div className=\"flex flex-col gap-1\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t\t\t\t\tCreated\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex h-5 items-center gap-2 text-sm whitespace-nowrap [&>*]:text-ellipsis\">\n\t\t\t\t\t\t\t\t\t\t\t<User className=\"text-muted-foreground size-4 flex-none\" />\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"-ml-px shrink truncate text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t{requestedByUser?.name ||\n\t\t\t\t\t\t\t\t\t\t\t\t\trequestedByUser?.email ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"Unknown\"}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-muted-foreground flex-none text-xs tabular-nums\">\n\t\t\t\t\t\t\t\t\t\t\t\t{new Date(po.created_at).toLocaleDateString()}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t{/* Status */}\n\t\t\t\t\t\t\t\t\t<div className=\"flex flex-col gap-1\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t\t\t\t\tStatus\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<div className=\"-ml-[3px] flex h-5 items-center gap-1 text-sm whitespace-nowrap [&>*]:text-ellipsis\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"flex size-4 items-center justify-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={`size-2.5 flex-none rounded-full ${\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpo.status === \"received\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"bg-success\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: po.status === \"cancelled\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"bg-destructive\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"bg-warning\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t{po.status\n\t\t\t\t\t\t\t\t\t\t\t\t\t?.replace(\"_\", \" \")\n\t\t\t\t\t\t\t\t\t\t\t\t\t.replace(/\\b\\w/g, (l: string) => l.toUpperCase()) ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"Draft\"}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t{po.priority && (\n\t\t\t\t\t\t\t\t\t\t\t\t<Badge className=\"ml-1\" variant=\"outline\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{po.priority}\n\t\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t{/* Expected Delivery */}\n\t\t\t\t\t\t\t\t\t{po.expected_delivery && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex flex-col gap-1\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\tExpected Delivery\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex h-5 items-center gap-2 text-sm whitespace-nowrap tabular-nums [&>*]:text-ellipsis\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Clock className=\"text-muted-foreground size-4 flex-none\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{new Date(po.expected_delivery).toLocaleDateString()}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t{po.actual_delivery && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{new Date(po.actual_delivery).toLocaleDateString()}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t{/* Total Amount */}\n\t\t\t\t\t\t\t\t\t<div className=\"flex flex-col gap-1\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-muted-foreground text-xs\">Total</span>\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex h-5 items-center gap-2 text-sm whitespace-nowrap [&>*]:text-ellipsis\">\n\t\t\t\t\t\t\t\t\t\t\t<DollarSign className=\"text-muted-foreground size-4 flex-none\" />\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t{new Intl.NumberFormat(\"en-US\", {\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle: \"currency\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tcurrency: \"USD\",\n\t\t\t\t\t\t\t\t\t\t\t\t}).format((po.total_amount || 0) / 100)}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{/* Vendor Section */}\n\t\t\t\t\t\t\t\t<div className=\"flex flex-col gap-1\">\n\t\t\t\t\t\t\t\t\t<span className=\"text-muted-foreground text-xs\">Vendor</span>\n\t\t\t\t\t\t\t\t\t<div className=\"flex h-5 items-center gap-2 text-sm whitespace-nowrap [&>*]:text-ellipsis\">\n\t\t\t\t\t\t\t\t\t\t{!isEditingVendor && (\n\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t<User className=\"text-muted-foreground size-4 flex-none\" />\n\t\t\t\t\t\t\t\t\t\t\t\t{po.vendor ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{po.vendor}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"h-6 px-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setIsEditingVendor(true)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Pencil className=\"mr-1 size-3\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tChange\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"h-6\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setIsEditingVendor(true)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tAssign Vendor\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{isEditingVendor && (\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex w-full items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t<VendorSelect\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"flex-1\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonValueChange={(vendorId, vendor) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedVendorId(vendorId);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedVendor(vendor);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Select vendor...\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={selectedVendorId}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"h-6\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isUpdatingVendor || !selectedVendorId}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (!selectedVendorId) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoast.error(\"Please select a vendor\");\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetIsUpdatingVendor(true);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst vendorName =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedVendor?.display_name ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedVendor?.name ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpo.vendor;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst vendorEmail =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedVendor?.email || po.vendor_email;\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst vendorPhone =\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedVendor?.phone || po.vendor_phone;\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconst result = await updatePurchaseOrderVendor(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpo.id,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectedVendorId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvendorName,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvendorEmail,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvendorPhone,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (result.success) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoast.success(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t`Vendor changed to ${vendorName}`,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetIsEditingVendor(false);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Server Action handles revalidation automatically\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tresult.error || \"Failed to update vendor\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttoast.error(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\terror instanceof Error\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? error.message\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"Failed to update vendor\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetIsUpdatingVendor(false);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{isUpdatingVendor ? \"Saving...\" : \"Save\"}\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"h-6\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={isUpdatingVendor}\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetIsEditingVendor(false);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedVendorId(po.vendor_id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedVendor(null);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{/* Job Reference */}\n\t\t\t\t\t\t\t\t{po.job_id && (\n\t\t\t\t\t\t\t\t\t<div className=\"flex flex-col gap-1\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t\t\t\t\tRelated Job\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex h-5 items-center gap-2 text-sm whitespace-nowrap [&>*]:text-ellipsis\">\n\t\t\t\t\t\t\t\t\t\t\t<FileCheck className=\"text-muted-foreground size-4 flex-none\" />\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\tJob #{po.job_id}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Collapsible Footer - Outside columns */}\n\t\t\t\t\t\t<div className=\"rounded-b\" data-orientation=\"vertical\">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tdata-orientation=\"vertical\"\n\t\t\t\t\t\t\t\tdata-state={isDetailsOpen ? \"open\" : \"closed\"}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclassName=\"ease border-border hover:bg-muted/50 disabled:text-muted-foreground flex h-12 w-full cursor-pointer items-center justify-between border-0 border-t bg-transparent px-4 transition-all duration-200\"\n\t\t\t\t\t\t\t\t\tdata-radix-collection-item=\"\"\n\t\t\t\t\t\t\t\t\tonClick={() => setIsDetailsOpen(!isDetailsOpen)}\n\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<span className=\"flex w-full items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t<ChevronRight\n\t\t\t\t\t\t\t\t\t\t\tclassName={`size-4 transition-transform duration-200 ease-[ease] ${\n\t\t\t\t\t\t\t\t\t\t\t\tisDetailsOpen ? \"rotate-90\" : \"\"\n\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<span className=\"flex w-full items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\tPurchase Order Details\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName=\"slide-in-from-top-2 animate-in data-[state=closed]:animate-content-close data-[state=closed]:animate-out data-[state=open]:animate-content-open overflow-hidden duration-200 will-change-[height]\"\n\t\t\t\t\t\t\t\t\tdata-state={isDetailsOpen ? \"open\" : \"closed\"}\n\t\t\t\t\t\t\t\t\thidden={!isDetailsOpen}\n\t\t\t\t\t\t\t\t\trole=\"region\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div className=\"space-y-4 border-t p-4 sm:p-6\">\n\t\t\t\t\t\t\t\t\t\t{/* PO Number */}\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<Label className=\"text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\tPO Number\n\t\t\t\t\t\t\t\t\t\t\t</Label>\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"mt-1 text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t{po.po_number || po.poNumber}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t{/* Delivery Address */}\n\t\t\t\t\t\t\t\t\t\t{po.delivery_address && (\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<Label className=\"text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tDelivery Address\n\t\t\t\t\t\t\t\t\t\t\t\t</Label>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"mt-1 text-sm whitespace-pre-line\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{po.delivery_address}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t\t{/* Tracking Number */}\n\t\t\t\t\t\t\t\t\t\t{po.tracking_number && (\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<Label className=\"text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tTracking Number\n\t\t\t\t\t\t\t\t\t\t\t\t</Label>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"mt-1 flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-mono text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{po.tracking_number}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tasChild\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"h-6 px-2\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref={`https://www.google.com/search?q=${encodeURIComponent(po.tracking_number)}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTrack\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t\t{/* Notes */}\n\t\t\t\t\t\t\t\t\t\t{po.notes && (\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<Label className=\"text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tPublic Notes\n\t\t\t\t\t\t\t\t\t\t\t\t</Label>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"mt-1 text-sm whitespace-pre-wrap\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{po.notes}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t\t{/* Internal Notes */}\n\t\t\t\t\t\t\t\t\t\t{po.internal_notes && (\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<Label className=\"text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tInternal Notes\n\t\t\t\t\t\t\t\t\t\t\t\t</Label>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground mt-1 text-sm whitespace-pre-wrap\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{po.internal_notes}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Unified Accordion Section */}\n\t\t\t\t\t<UnifiedAccordion\n\t\t\t\t\t\tdefaultOpenSection=\"line-items\"\n\t\t\t\t\t\tsections={accordionSections}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Status Update Dialog */}\n\t\t\t<Dialog\n\t\t\t\tonOpenChange={setStatusUpdateDialogOpen}\n\t\t\t\topen={statusUpdateDialogOpen}\n\t\t\t>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<DialogHeader>\n\t\t\t\t\t\t<DialogTitle>Update Purchase Order Status</DialogTitle>\n\t\t\t\t\t\t<DialogDescription>\n\t\t\t\t\t\t\tUpdate the status of this purchase order to{\" \"}\n\t\t\t\t\t\t\t{selectedStatus.replace(\"_\", \" \")}.\n\t\t\t\t\t\t</DialogDescription>\n\t\t\t\t\t</DialogHeader>\n\t\t\t\t\t<div className=\"space-y-4 py-4\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Label>New Status</Label>\n\t\t\t\t\t\t\t<div className=\"mt-2\">\n\t\t\t\t\t\t\t\t<Badge variant=\"default\">\n\t\t\t\t\t\t\t\t\t{selectedStatus\n\t\t\t\t\t\t\t\t\t\t.replace(\"_\", \" \")\n\t\t\t\t\t\t\t\t\t\t.replace(/\\b\\w/g, (l: string) => l.toUpperCase())}\n\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<StandardFormField label=\"Notes (Optional)\" htmlFor=\"status-notes\">\n\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\tid=\"status-notes\"\n\t\t\t\t\t\t\t\tonChange={(e) => setStatusUpdateNotes(e.target.value)}\n\t\t\t\t\t\t\t\tplaceholder=\"Add any notes about this status change...\"\n\t\t\t\t\t\t\t\tvalue={statusUpdateNotes}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</StandardFormField>\n\t\t\t\t\t</div>\n\t\t\t\t\t<DialogFooter className=\"flex-col gap-2 sm:flex-row\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName=\"w-full sm:w-auto\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetStatusUpdateDialogOpen(false);\n\t\t\t\t\t\t\t\tsetStatusUpdateNotes(\"\");\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tclassName=\"w-full sm:w-auto\"\n\t\t\t\t\t\t\tdisabled={isUpdatingStatus}\n\t\t\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\t\t\t// TODO: Implement status update logic\n\t\t\t\t\t\t\t\ttoast.success(\n\t\t\t\t\t\t\t\t\t`Status changed to ${selectedStatus.replace(\"_\", \" \")}`,\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tsetStatusUpdateDialogOpen(false);\n\t\t\t\t\t\t\t\tsetStatusUpdateNotes(\"\");\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{isUpdatingStatus ? \"Updating...\" : \"Update Status\"}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</DialogFooter>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\n\t\t\t{/* Archive Dialog */}\n\t\t\t<Dialog onOpenChange={setIsArchiveDialogOpen} open={isArchiveDialogOpen}>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<DialogHeader>\n\t\t\t\t\t\t<DialogTitle>Archive Purchase Order?</DialogTitle>\n\t\t\t\t\t\t<DialogDescription>\n\t\t\t\t\t\t\tThis will archive the purchase order. You can restore it from the\n\t\t\t\t\t\t\tarchive within 90 days.\n\t\t\t\t\t\t</DialogDescription>\n\t\t\t\t\t</DialogHeader>\n\t\t\t\t\t<DialogFooter>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tdisabled={isArchiving}\n\t\t\t\t\t\t\tonClick={() => setIsArchiveDialogOpen(false)}\n\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tdisabled={isArchiving}\n\t\t\t\t\t\t\tonClick={handleArchivePurchaseOrder}\n\t\t\t\t\t\t\tvariant=\"destructive\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{isArchiving ? \"Archiving...\" : \"Archive Purchase Order\"}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</DialogFooter>\n\t\t\t\t</DialogContent>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n}\n","/* __next_internal_action_entry_do_not_use__ [{\"7c13474a9092a93eb9a51197c6e34b5eb46593056c\":\"updatePurchaseOrderVendor\"},\"apps/web/src/actions/purchase-orders.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";export var updatePurchaseOrderVendor=/*#__PURE__*/createServerReference(\"7c13474a9092a93eb9a51197c6e34b5eb46593056c\",callServer,void 0,findSourceMapURL,\"updatePurchaseOrderVendor\");","\"use client\";\n\nimport { Building2, Check, ChevronsUpDown } from \"lucide-react\";\nimport { useEffect, useState } from \"react\";\nimport { searchVendors } from \"@/actions/vendors\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n\tCommand,\n\tCommandEmpty,\n\tCommandGroup,\n\tCommandInput,\n\tCommandItem,\n\tCommandList,\n} from \"@/components/ui/command\";\nimport {\n\tPopover,\n\tPopoverContent,\n\tPopoverTrigger,\n} from \"@/components/ui/popover\";\nimport { cn } from \"@/lib/utils\";\n\ntype Vendor = {\n\tid: string;\n\tname: string;\n\tdisplay_name: string;\n\tvendor_number: string;\n\temail: string | null;\n\tphone: string | null;\n\tstatus: \"active\" | \"inactive\";\n};\n\ntype VendorSelectProps = {\n\tvalue?: string;\n\tonValueChange: (\n\t\tvendorId: string | undefined,\n\t\tvendor: Vendor | undefined,\n\t) => void;\n\tplaceholder?: string;\n\tdisabled?: boolean;\n\tclassName?: string;\n};\n\nexport function VendorSelect({\n\tvalue,\n\tonValueChange,\n\tplaceholder = \"Select vendor...\",\n\tdisabled = false,\n\tclassName,\n}: VendorSelectProps) {\n\tconst [open, setOpen] = useState(false);\n\tconst [vendors, setVendors] = useState<Vendor[]>([]);\n\tconst [isLoading, setIsLoading] = useState(false);\n\tconst [searchQuery, setSearchQuery] = useState(\"\");\n\n\t// Load vendors on mount and when search changes\n\tuseEffect(() => {\n\t\tconst loadVendors = async () => {\n\t\t\tsetIsLoading(true);\n\t\t\tconst result = await searchVendors(searchQuery || \"\");\n\t\t\tif (result.success && result.data) {\n\t\t\t\tsetVendors(result.data);\n\t\t\t}\n\t\t\tsetIsLoading(false);\n\t\t};\n\n\t\tconst timeoutId = setTimeout(() => {\n\t\t\tloadVendors();\n\t\t}, 300); // Debounce search\n\n\t\treturn () => clearTimeout(timeoutId);\n\t}, [searchQuery]);\n\n\tconst selectedVendor = vendors.find((v) => v.id === value);\n\n\treturn (\n\t\t<Popover onOpenChange={setOpen} open={open}>\n\t\t\t<PopoverTrigger asChild>\n\t\t\t\t<Button\n\t\t\t\t\taria-expanded={open}\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\"w-full justify-between\",\n\t\t\t\t\t\t!selectedVendor && \"text-muted-foreground\",\n\t\t\t\t\t\tclassName,\n\t\t\t\t\t)}\n\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\trole=\"combobox\"\n\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t>\n\t\t\t\t\t{selectedVendor ? (\n\t\t\t\t\t\t<span className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t<Building2 className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t<span>{selectedVendor.display_name || selectedVendor.name}</span>\n\t\t\t\t\t\t\t<span className=\"text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t\t({selectedVendor.vendor_number})\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<span>{placeholder}</span>\n\t\t\t\t\t)}\n\t\t\t\t\t<ChevronsUpDown className=\"ml-2 h-4 w-4 shrink-0 opacity-50\" />\n\t\t\t\t</Button>\n\t\t\t</PopoverTrigger>\n\t\t\t<PopoverContent align=\"start\" className=\"w-full p-0\">\n\t\t\t\t<Command>\n\t\t\t\t\t<CommandInput\n\t\t\t\t\t\tonValueChange={setSearchQuery}\n\t\t\t\t\t\tplaceholder=\"Search vendors...\"\n\t\t\t\t\t/>\n\t\t\t\t\t<CommandList>\n\t\t\t\t\t\t<CommandEmpty>\n\t\t\t\t\t\t\t{isLoading ? \"Loading...\" : \"No vendors found.\"}\n\t\t\t\t\t\t</CommandEmpty>\n\t\t\t\t\t\t<CommandGroup>\n\t\t\t\t\t\t\t{vendors.map((vendor) => (\n\t\t\t\t\t\t\t\t<CommandItem\n\t\t\t\t\t\t\t\t\tkey={vendor.id}\n\t\t\t\t\t\t\t\t\tonSelect={() => {\n\t\t\t\t\t\t\t\t\t\tonValueChange(\n\t\t\t\t\t\t\t\t\t\t\tvendor.id === value ? undefined : vendor.id,\n\t\t\t\t\t\t\t\t\t\t\tvendor.id === value ? undefined : vendor,\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\tsetOpen(false);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tvalue={`${vendor.name} ${vendor.vendor_number} ${vendor.email || \"\"}`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Check\n\t\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\t\"mr-2 h-4 w-4\",\n\t\t\t\t\t\t\t\t\t\t\tvalue === vendor.id ? \"opacity-100\" : \"opacity-0\",\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"flex flex-col\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t{vendor.display_name || vendor.name}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t{vendor.vendor_number}\n\t\t\t\t\t\t\t\t\t\t\t{vendor.email && ` â€¢ ${vendor.email}`}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</CommandItem>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</CommandGroup>\n\t\t\t\t\t</CommandList>\n\t\t\t\t</Command>\n\t\t\t</PopoverContent>\n\t\t</Popover>\n\t);\n}\n"],"names":[],"mappings":"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"}