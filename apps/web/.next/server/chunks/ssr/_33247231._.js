module.exports=[4456,a=>{"use strict";var b=a.i(861467),c=a.i(587969),d=a.i(96250),e=a.i(624126),f=a.i(274956),g=a.i(319895),h=a.i(128952),i=a.i(898062),j=a.i(50900),k=a.i(101482);a.i(380934);var l=a.i(347421),m=a.i(700760),n=a.i(278932);a.i(928414);var o=a.i(745250);function p({tooltip:a}){return(0,b.jsx)(o.TooltipProvider,{children:(0,b.jsxs)(o.Tooltip,{children:[(0,b.jsx)(o.TooltipTrigger,{asChild:!0,children:(0,b.jsx)(n.Info,{className:"text-muted-foreground hover:text-foreground size-3.5 cursor-help transition-colors"})}),(0,b.jsx)(o.TooltipContent,{className:"max-w-xs",children:(0,b.jsx)("p",{className:"text-xs",children:a})})]})})}function q({title:a,value:c,change:d,changeType:e="neutral",icon:f,description:g,tooltip:h}){return(0,b.jsxs)(l.Card,{className:"transition-all duration-200 hover:shadow-md",children:[(0,b.jsxs)(l.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(l.CardTitle,{className:"text-muted-foreground text-sm font-medium",children:a}),h&&(0,b.jsx)(p,{tooltip:h})]}),(0,b.jsx)("div",{className:"bg-muted/50 flex size-9 items-center justify-center rounded-lg",children:(0,b.jsx)(f,{className:"text-muted-foreground size-4"})})]}),(0,b.jsxs)(l.CardContent,{className:"space-y-2",children:[(0,b.jsx)("div",{className:"text-3xl font-bold tracking-tight",children:c}),(0,b.jsxs)("div",{className:"flex flex-col gap-0.5",children:[d&&(0,b.jsx)("p",{className:(0,m.cn)("text-xs font-medium","positive"===e&&"text-success dark:text-success","negative"===e&&"text-destructive dark:text-destructive","neutral"===e&&"text-muted-foreground","warning"===e&&"text-warning dark:text-warning"),children:d}),g&&(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:g})]})]})]})}function r({tooltip:a}){return(0,b.jsx)(o.TooltipProvider,{children:(0,b.jsxs)(o.Tooltip,{children:[(0,b.jsx)(o.TooltipTrigger,{children:(0,b.jsx)(n.Info,{className:"text-muted-foreground size-4"})}),(0,b.jsx)(o.TooltipContent,{className:"max-w-xs",children:(0,b.jsx)("p",{children:a})})]})})}function s({title:a,description:c,tooltip:d}){return(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold",children:a}),c&&(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:c})]}),d&&(0,b.jsx)(r,{tooltip:d})]})}a.i(288007);var t=a.i(986990);a.i(445255);var u=a.i(18170);a.i(839984);var v=a.i(372712);function w(){let a=new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold tracking-tight",children:"Customer Service Hub"}),(0,b.jsx)(t.Badge,{className:"text-accent-foreground",variant:"outline",children:"CSR View"}),(0,b.jsxs)("div",{className:"border-border bg-muted/30 flex items-center gap-2 rounded-full border px-3 py-1",children:[(0,b.jsx)("div",{className:"bg-success size-2 animate-pulse rounded-full"}),(0,b.jsx)("span",{className:"text-muted-foreground text-xs font-medium",children:"Available"})]})]}),(0,b.jsx)("p",{className:"text-muted-foreground text-lg",children:a})]}),(0,b.jsx)(l.Card,{className:"border-primary bg-primary dark:border-primary dark:bg-primary/30",children:(0,b.jsx)(l.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(j.Search,{className:"text-primary size-6"}),(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsx)(v.Input,{className:"h-12",placeholder:"Search customers by name, phone, or address...",type:"search"})}),(0,b.jsx)(u.Button,{size:"lg",children:"Search"}),(0,b.jsx)(u.Button,{size:"lg",variant:"outline",children:"New Customer"})]})})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,b.jsx)(q,{change:"88 total today",changeType:"positive",description:"Industry avg: 60-70%",icon:i.Phone,title:"Booking Rate",tooltip:"Percentage of inbound calls that were converted into scheduled appointments",value:"73.9%"}),(0,b.jsx)(q,{change:"12 booked from calls",changeType:"positive",icon:c.Calendar,title:"Appointments Today",tooltip:"Total number of appointments scheduled for today across all technicians",value:"15"}),(0,b.jsx)(q,{change:"Avg response: 18 sec",changeType:"positive",icon:e.Clock,title:"Calls Answered",tooltip:"Number of inbound customer calls you've handled today",value:"43"}),(0,b.jsx)(q,{change:"12 pending follow-ups",changeType:"neutral",icon:f.DollarSign,title:"Estimates Sent",tooltip:"Number of price quotes sent to customers today",value:"8"})]}),(0,b.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(s,{description:"Customers waiting for callback",title:"Call Queue",tooltip:"List of customers who requested callbacks or need follow-up calls"}),(0,b.jsx)(l.Card,{children:(0,b.jsxs)(l.CardContent,{className:"space-y-3 pt-6",children:[(0,b.jsxs)("div",{className:"border-destructive bg-destructive dark:border-destructive dark:bg-destructive/30 flex items-start gap-3 rounded-lg border-2 p-3",children:[(0,b.jsx)("div",{className:"bg-destructive flex size-10 flex-shrink-0 items-center justify-center rounded-full",children:(0,b.jsx)(i.Phone,{className:"size-5 text-white"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)(t.Badge,{variant:"destructive",children:"URGENT"}),(0,b.jsx)("p",{className:"mt-1 text-sm font-bold",children:"Sarah Johnson"}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:"+1 (555) 123-4567 • Requested callback 2 hours ago"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1 text-xs",children:"Reason: Emergency - No hot water"})]}),(0,b.jsx)(u.Button,{size:"sm",variant:"destructive",children:"Call Now"})]}),[{name:"Mike Davis",phone:"+1 (555) 234-5678",reason:"Quote ready for review",time:"45 min ago"},{name:"Lisa Chen",phone:"+1 (555) 345-6789",reason:"Schedule maintenance",time:"1 hour ago"},{name:"Tom Wilson",phone:"+1 (555) 456-7890",reason:"Parts arrived - reschedule",time:"2 hours ago"}].map((a,c)=>(0,b.jsxs)("div",{className:"bg-card flex items-start gap-3 rounded-lg border p-3",children:[(0,b.jsx)("div",{className:"bg-primary/10 flex size-10 flex-shrink-0 items-center justify-center rounded-full",children:(0,b.jsx)(i.Phone,{className:"text-primary size-5"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)(t.Badge,{variant:"outline",children:"Pending"}),(0,b.jsx)("p",{className:"mt-1 text-sm font-bold",children:a.name}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:a.phone}),(0,b.jsxs)("p",{className:"text-muted-foreground mt-1 text-xs",children:[a.reason," • ",a.time]})]}),(0,b.jsx)(u.Button,{size:"sm",variant:"outline",children:"Call"})]},c))]})})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(s,{description:"Quotes waiting for customer approval",title:"Estimate Pipeline",tooltip:"Track estimates from creation to conversion"}),(0,b.jsx)(l.Card,{children:(0,b.jsxs)(l.CardContent,{className:"space-y-3 pt-6",children:[(0,b.jsxs)("div",{className:"border-success bg-success dark:border-success dark:bg-success/30 flex items-start gap-3 rounded-lg border p-3",children:[(0,b.jsx)("div",{className:"bg-success flex size-10 flex-shrink-0 items-center justify-center rounded-full",children:(0,b.jsx)(f.DollarSign,{className:"size-5 text-white"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)(t.Badge,{className:"border-success text-success",variant:"outline",children:"High Value"}),(0,b.jsx)("p",{className:"mt-1 text-sm font-bold",children:"HVAC System Replacement"}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:"Bob Anderson • Sent 2 days ago"}),(0,b.jsx)("p",{className:"text-success mt-1 text-sm font-bold",children:"$8,500"})]}),(0,b.jsx)(u.Button,{size:"sm",variant:"outline",children:"Follow Up"})]}),[{service:"Water Heater Replacement",customer:"Emily Rogers",amount:"$1,200",age:"3 days"},{service:"AC Maintenance Plan",customer:"James Park",amount:"$450",age:"5 days"},{service:"Drain Line Repair",customer:"Maria Garcia",amount:"$680",age:"1 week"}].map((a,c)=>(0,b.jsxs)("div",{className:"bg-card flex items-start gap-3 rounded-lg border p-3",children:[(0,b.jsx)("div",{className:"bg-primary/10 flex size-10 flex-shrink-0 items-center justify-center rounded-full",children:(0,b.jsx)(g.FileText,{className:"text-primary size-5"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)(t.Badge,{variant:"outline",children:"Pending"}),(0,b.jsx)("p",{className:"mt-1 text-sm font-bold",children:a.service}),(0,b.jsxs)("p",{className:"text-muted-foreground text-xs",children:[a.customer," • Sent ",a.age," ago"]}),(0,b.jsx)("p",{className:"mt-1 text-sm font-bold",children:a.amount})]}),(0,b.jsx)(u.Button,{size:"sm",variant:"outline",children:"Follow Up"})]},c))]})})]})]}),(0,b.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(s,{description:"Appointments scheduled for today",title:"Today's Bookings",tooltip:"All appointments you've scheduled for today"}),(0,b.jsx)(l.Card,{children:(0,b.jsx)(l.CardContent,{className:"space-y-3 pt-6",children:[{time:"9:00 AM",customer:"Sarah Johnson",service:"AC Repair",tech:"John Smith",status:"Confirmed"},{time:"11:00 AM",customer:"Mike Davis",service:"Water Heater",tech:"Dave Wilson",status:"Confirmed"},{time:"2:00 PM",customer:"Lisa Chen",service:"Furnace Check",tech:"Sarah Lee",status:"Pending"},{time:"4:00 PM",customer:"Tom Wilson",service:"Drain Cleaning",tech:"Mike Rodriguez",status:"Confirmed"}].map((a,d)=>(0,b.jsxs)("div",{className:"bg-card flex items-start gap-3 rounded-lg border p-3",children:[(0,b.jsx)("div",{className:"bg-primary/10 flex size-10 flex-shrink-0 items-center justify-center rounded-full",children:(0,b.jsx)(c.Calendar,{className:"text-primary size-5"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(t.Badge,{variant:"Confirmed"===a.status?"default":"outline",children:a.status}),(0,b.jsx)("span",{className:"text-muted-foreground text-xs",children:a.time})]}),(0,b.jsx)("p",{className:"mt-1 text-sm font-bold",children:a.customer}),(0,b.jsxs)("p",{className:"text-muted-foreground text-xs",children:[a.service," • Tech: ",a.tech]})]}),(0,b.jsx)(u.Button,{size:"sm",variant:"ghost",children:"Details"})]},d))})})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(s,{description:"Your performance today",title:"My Performance",tooltip:"Track your daily call handling and booking metrics"}),(0,b.jsx)(l.Card,{children:(0,b.jsxs)(l.CardContent,{className:"space-y-4 pt-6",children:[(0,b.jsxs)("div",{className:"bg-muted/50 rounded-lg border p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(i.Phone,{className:"text-primary size-5"}),(0,b.jsx)("p",{className:"text-sm font-bold",children:"Call Statistics"})]}),(0,b.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground text-sm",children:"Calls Answered"}),(0,b.jsx)("span",{className:"font-bold",children:"43"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground text-sm",children:"Avg. Call Time"}),(0,b.jsx)("span",{className:"font-bold",children:"4:32"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground text-sm",children:"Missed Calls"}),(0,b.jsx)("span",{className:"font-bold",children:"2"})]})]})]}),(0,b.jsxs)("div",{className:"bg-muted/50 rounded-lg border p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(c.Calendar,{className:"text-success size-5"}),(0,b.jsx)("p",{className:"text-sm font-bold",children:"Booking Statistics"})]}),(0,b.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground text-sm",children:"Appointments Booked"}),(0,b.jsx)("span",{className:"font-bold",children:"12"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground text-sm",children:"Conversion Rate"}),(0,b.jsx)("span",{className:"text-success font-bold",children:"73.9%"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground text-sm",children:"Avg. Booking Value"}),(0,b.jsx)("span",{className:"font-bold",children:"$485"})]})]})]}),(0,b.jsxs)("div",{className:"bg-muted/50 rounded-lg border p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(g.FileText,{className:"text-accent-foreground size-5"}),(0,b.jsx)("p",{className:"text-sm font-bold",children:"Estimates"})]}),(0,b.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground text-sm",children:"Sent Today"}),(0,b.jsx)("span",{className:"font-bold",children:"8"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground text-sm",children:"Total Value"}),(0,b.jsx)("span",{className:"font-bold",children:"$12,400"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground text-sm",children:"Pending Review"}),(0,b.jsx)("span",{className:"text-warning font-bold",children:"12"})]})]})]}),(0,b.jsx)("div",{className:"bg-success dark:bg-success/30 rounded-lg border p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-bold",children:"Today's Achievement"}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:"You're exceeding targets!"})]}),(0,b.jsx)(t.Badge,{className:"border-success text-success",variant:"outline",children:"⭐ Top Performer"})]})})]})})]})]}),(0,b.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(s,{description:"Common tasks and shortcuts",title:"Quick Actions",tooltip:"Frequently used functions for customer service"}),(0,b.jsx)(l.Card,{children:(0,b.jsx)(l.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsxs)(u.Button,{variant:"outline",children:[(0,b.jsx)(i.Phone,{className:"mr-2 size-4"}),"New Call"]}),(0,b.jsxs)(u.Button,{variant:"outline",children:[(0,b.jsx)(c.Calendar,{className:"mr-2 size-4"}),"Book Appointment"]}),(0,b.jsxs)(u.Button,{variant:"outline",children:[(0,b.jsx)(k.Users,{className:"mr-2 size-4"}),"Add Customer"]}),(0,b.jsxs)(u.Button,{variant:"outline",children:[(0,b.jsx)(g.FileText,{className:"mr-2 size-4"}),"Create Estimate"]}),(0,b.jsxs)(u.Button,{variant:"outline",children:[(0,b.jsx)(h.MessageSquare,{className:"mr-2 size-4"}),"Send SMS"]}),(0,b.jsxs)(u.Button,{variant:"outline",children:[(0,b.jsx)(d.CheckCircle2,{className:"mr-2 size-4"}),"Confirm Booking"]})]})})})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(s,{description:"Helpful scripts for common situations",title:"Call Scripts",tooltip:"Pre-written responses for consistent customer service"}),(0,b.jsx)(l.Card,{children:(0,b.jsx)(l.CardContent,{className:"space-y-3 pt-6",children:[{title:"Greeting Script",preview:"Thank you for calling! How can I help you today?"},{title:"Emergency Response",preview:"I understand this is urgent. Let me get you scheduled..."},{title:"Pricing Questions",preview:"Our standard service call is $89, which includes..."},{title:"Booking Confirmation",preview:"I have you scheduled for [time] on [date]..."}].map((a,c)=>(0,b.jsxs)("div",{className:"bg-card flex items-start gap-3 rounded-lg border p-3",children:[(0,b.jsx)(h.MessageSquare,{className:"text-primary mt-0.5 size-5"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-sm font-bold",children:a.title}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:a.preview})]}),(0,b.jsx)(u.Button,{size:"sm",variant:"ghost",children:"View"})]},c))})})]})]})]})}var x=a.i(97997),y=a.i(824124),z=a.i(699756),A=a.i(859639),A=A,B=a.i(821278);function C(){let a=new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold tracking-tight",children:"Dispatch Command Center"}),(0,b.jsx)(t.Badge,{className:"text-primary",variant:"outline",children:"Dispatcher View"}),(0,b.jsxs)("div",{className:"border-border bg-muted/30 flex items-center gap-2 rounded-full border px-3 py-1",children:[(0,b.jsx)("div",{className:"bg-success size-2 animate-pulse rounded-full"}),(0,b.jsx)("span",{className:"text-muted-foreground text-xs font-medium",children:"Live"})]})]}),(0,b.jsx)("p",{className:"text-muted-foreground text-lg",children:a})]}),(0,b.jsx)(l.Card,{className:"border-destructive bg-destructive dark:border-destructive dark:bg-destructive/30",children:(0,b.jsxs)(l.CardContent,{className:"flex items-center justify-between pt-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"bg-destructive flex size-10 items-center justify-center rounded-full",children:(0,b.jsx)(B.Zap,{className:"size-5 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-bold",children:"2 Emergency Jobs Waiting"}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:"Longest wait: 18 minutes"})]})]}),(0,b.jsxs)(u.Button,{size:"sm",variant:"destructive",children:[(0,b.jsx)(i.Phone,{className:"mr-2 size-4"}),"Dispatch Now"]})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,b.jsx)(q,{change:"2 emergency waiting",changeType:"negative",description:"Need immediate dispatch",icon:x.AlertCircle,title:"Unassigned Jobs",tooltip:"Jobs that have been created but not yet assigned to a technician. Dispatch these ASAP.",value:"8"}),(0,b.jsx)(q,{change:"7 available, 5 busy",changeType:"positive",icon:k.Users,title:"Technicians On Duty",tooltip:"Total number of technicians clocked in and working today",value:"12"}),(0,b.jsx)(q,{change:"Target: < 60 min",changeType:"positive",icon:e.Clock,title:"Avg. Response Time",tooltip:"Average time from customer call to technician arrival. Industry standard is 60-90 minutes.",value:"42 min"}),(0,b.jsx)(q,{change:"3 running late",changeType:"neutral",icon:y.MapPin,title:"Jobs in Progress",tooltip:"Number of jobs currently being worked on by technicians",value:"17"})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(s,{description:"Real-time technician locations and status",title:"Technician Map",tooltip:"Live GPS tracking of all technicians. Click on a technician to see details or assign a job."}),(0,b.jsx)(l.Card,{className:"min-h-[400px]",children:(0,b.jsx)(l.CardContent,{className:"flex items-center justify-center pt-6",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(y.MapPin,{className:"text-muted-foreground mx-auto size-16"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-4 text-lg font-medium",children:"Interactive Map Component"}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"Real-time GPS tracking with technician locations"})]})})})]}),(0,b.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(s,{description:"Jobs waiting for assignment",title:"Unassigned Jobs Queue",tooltip:"Drag and drop jobs to technicians or click Quick Assign"}),(0,b.jsx)(l.Card,{children:(0,b.jsxs)(l.CardContent,{className:"space-y-3 pt-6",children:[(0,b.jsxs)("div",{className:"border-destructive bg-destructive dark:border-destructive dark:bg-destructive/30 flex items-start gap-3 rounded-lg border-2 p-3",children:[(0,b.jsx)("div",{className:"bg-destructive flex size-10 flex-shrink-0 items-center justify-center rounded-full",children:(0,b.jsx)(B.Zap,{className:"size-5 text-white"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(t.Badge,{variant:"destructive",children:"EMERGENCY"}),(0,b.jsx)("span",{className:"text-muted-foreground text-xs",children:"18 min ago"})]}),(0,b.jsx)("p",{className:"mt-1 text-sm font-bold",children:"No Hot Water - Urgent"}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:"Sarah Johnson • 123 Main St • Water heater failure"})]}),(0,b.jsx)(u.Button,{size:"sm",variant:"destructive",children:"Dispatch"})]}),[{customer:"Mike Davis",address:"456 Oak Ave",issue:"AC not cooling",time:"32 min ago"},{customer:"Lisa Chen",address:"789 Pine St",issue:"Leaking faucet",time:"45 min ago"},{customer:"Tom Wilson",address:"321 Elm Dr",issue:"Furnace inspection",time:"1 hour ago"}].map((a,c)=>(0,b.jsxs)("div",{className:"bg-card flex items-start gap-3 rounded-lg border p-3",children:[(0,b.jsx)("div",{className:"bg-primary/10 flex size-10 flex-shrink-0 items-center justify-center rounded-full",children:(0,b.jsx)(A.default,{className:"text-primary size-5"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(t.Badge,{variant:"outline",children:"Standard"}),(0,b.jsx)("span",{className:"text-muted-foreground text-xs",children:a.time})]}),(0,b.jsx)("p",{className:"mt-1 text-sm font-bold",children:a.issue}),(0,b.jsxs)("p",{className:"text-muted-foreground text-xs",children:[a.customer," • ",a.address]})]}),(0,b.jsx)(u.Button,{size:"sm",variant:"outline",children:"Assign"})]},c))]})})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(s,{description:"Current status of all technicians",title:"Technician Status",tooltip:"Click on a technician to view their schedule or send them to a job"}),(0,b.jsx)(l.Card,{children:(0,b.jsxs)(l.CardContent,{className:"space-y-3 pt-6",children:[[{name:"John Smith",status:"available",location:"Near downtown"},{name:"Mike Rodriguez",status:"available",location:"West side"}].map((a,c)=>(0,b.jsxs)("div",{className:"border-success bg-success dark:border-success dark:bg-success/30 flex items-center gap-3 rounded-lg border p-3",children:[(0,b.jsx)("div",{className:"bg-success flex size-10 items-center justify-center rounded-full",children:(0,b.jsx)(k.Users,{className:"size-5 text-white"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-sm font-bold",children:a.name}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(t.Badge,{className:"border-success text-success",variant:"outline",children:"✓ Available"}),(0,b.jsx)("span",{className:"text-muted-foreground text-xs",children:a.location})]})]}),(0,b.jsx)(u.Button,{size:"sm",variant:"outline",children:"Assign Job"})]},c)),[{name:"Dave Wilson",status:"busy",job:"AC Repair",eta:"45 min"},{name:"Sarah Lee",status:"busy",job:"Water Heater",eta:"1.2 hrs"},{name:"Tom Brown",status:"busy",job:"Drain Cleaning",eta:"30 min"}].map((a,c)=>(0,b.jsxs)("div",{className:"bg-card flex items-center gap-3 rounded-lg border p-3",children:[(0,b.jsx)("div",{className:"bg-primary/10 flex size-10 items-center justify-center rounded-full",children:(0,b.jsx)(z.Navigation,{className:"text-primary size-5"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-sm font-bold",children:a.name}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(t.Badge,{className:"border-primary text-primary",variant:"outline",children:"On Job"}),(0,b.jsxs)("span",{className:"text-muted-foreground text-xs",children:[a.job," • ETA ",a.eta]})]})]}),(0,b.jsx)(u.Button,{size:"sm",variant:"ghost",children:"Details"})]},c)),(0,b.jsxs)("div",{className:"border-warning bg-warning dark:border-warning dark:bg-warning/30 flex items-center gap-3 rounded-lg border p-3",children:[(0,b.jsx)("div",{className:"bg-warning flex size-10 items-center justify-center rounded-full",children:(0,b.jsx)(e.Clock,{className:"size-5 text-white"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-sm font-bold",children:"Chris Martinez"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(t.Badge,{className:"border-warning text-warning",variant:"outline",children:"⚠ Running Late"}),(0,b.jsx)("span",{className:"text-muted-foreground text-xs",children:"25 min behind schedule"})]})]}),(0,b.jsx)(u.Button,{size:"sm",variant:"outline",children:"Call Tech"})]})]})})]})]}),(0,b.jsx)(l.Card,{className:"border-primary bg-primary dark:border-primary dark:bg-primary/30",children:(0,b.jsx)(l.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(A.default,{className:"text-primary size-6"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-bold",children:"Quick Actions"}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:"Common dispatch operations"})]})]}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,b.jsxs)(u.Button,{size:"sm",variant:"outline",children:[(0,b.jsx)(i.Phone,{className:"mr-2 size-4"}),"New Customer Call"]}),(0,b.jsxs)(u.Button,{size:"sm",variant:"outline",children:[(0,b.jsx)(B.Zap,{className:"mr-2 size-4"}),"Emergency Dispatch"]}),(0,b.jsxs)(u.Button,{size:"sm",variant:"outline",children:[(0,b.jsx)(k.Users,{className:"mr-2 size-4"}),"Send Bulk SMS"]}),(0,b.jsxs)(u.Button,{size:"sm",variant:"outline",children:[(0,b.jsx)(y.MapPin,{className:"mr-2 size-4"}),"View All Routes"]})]})]})})})]})}var D=a.i(916680),E=a.i(949747),F=a.i(999113),G=a.i(171768),H=a.i(783281);let I=[{name:"Mike Johnson",jobs:6,revenue:2850,status:"on-job",avgDuration:45},{name:"Sarah Williams",jobs:5,revenue:3200,status:"traveling",avgDuration:52},{name:"James Davis",jobs:7,revenue:2450,status:"on-job",avgDuration:38},{name:"Emily Brown",jobs:4,revenue:1980,status:"available",avgDuration:48},{name:"Robert Garcia",jobs:6,revenue:2750,status:"on-job",avgDuration:42}],J={"on-job":"bg-primary",traveling:"bg-warning",available:"bg-success"},K={"on-job":"On Job",traveling:"Traveling",available:"Available"};function L(){let a=I.reduce((a,b)=>a+b.jobs,0),c=I.reduce((a,b)=>a+b.revenue,0);return(0,b.jsxs)(l.Card,{className:"gap-0 py-0",children:[(0,b.jsxs)(l.CardHeader,{className:"pt-4 pb-0",children:[(0,b.jsx)(l.CardTitle,{className:"text-base",children:"Team Performance"}),(0,b.jsxs)(l.CardDescription,{className:"text-xs",children:[a," jobs • $",(c/1e3).toFixed(1),"k revenue"]})]}),(0,b.jsx)(l.CardContent,{className:"pt-4 pb-4",children:(0,b.jsx)("div",{className:"space-y-2.5",children:I.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between rounded-lg border p-3 transition-all hover:shadow-sm",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-sm font-semibold",children:a.name}),(0,b.jsxs)("p",{className:"text-muted-foreground text-xs",children:[a.jobs," jobs • $",(a.revenue/1e3).toFixed(1),"k"]})]}),(0,b.jsx)(t.Badge,{className:`${J[a.status]} text-xs text-white`,variant:"secondary",children:K[a.status]})]},a.name))})})]})}a.i(156120);var M=a.i(417567);function N(){let a=new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold tracking-tight",children:"Operations Management"}),(0,b.jsx)(t.Badge,{className:"text-success",variant:"outline",children:"Manager View"})]}),(0,b.jsx)("p",{className:"text-muted-foreground text-lg",children:a})]}),(0,b.jsxs)(l.Card,{className:"border-destructive bg-destructive dark:border-destructive dark:bg-destructive/30",children:[(0,b.jsx)(l.CardHeader,{children:(0,b.jsxs)(l.CardTitle,{className:"text-destructive dark:text-destructive flex items-center gap-2",children:[(0,b.jsx)(D.AlertTriangle,{className:"size-5"}),"Customer Issues Requiring Attention"]})}),(0,b.jsxs)(l.CardContent,{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"border-destructive bg-card dark:border-destructive dark:bg-destructive/50 flex items-start gap-3 rounded-lg border p-3",children:[(0,b.jsx)(G.Star,{className:"text-destructive mt-0.5 size-4"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:"2-Star Review Posted (1 hour ago)"}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:'"Technician was rude" - Jane Smith - Needs immediate response'})]}),(0,b.jsx)(u.Button,{size:"sm",variant:"destructive",children:"Respond"})]}),(0,b.jsxs)("div",{className:"border-warning bg-card dark:border-warning dark:bg-warning/50 flex items-start gap-3 rounded-lg border p-3",children:[(0,b.jsx)(F.PhoneCall,{className:"text-warning mt-0.5 size-4"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:"Customer Called 3 Times Today"}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:"Bob Johnson - Job #4523 - Escalate to senior tech"})]}),(0,b.jsx)(u.Button,{size:"sm",variant:"outline",children:"Call Customer"})]}),(0,b.jsxs)("div",{className:"border-warning bg-card dark:border-warning dark:bg-warning/50 flex items-start gap-3 rounded-lg border p-3",children:[(0,b.jsx)(D.AlertTriangle,{className:"text-warning mt-0.5 size-4"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:"Callback: Parts Arrived"}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:"5 customers waiting for parts to arrive - schedule follow-up"})]}),(0,b.jsx)(u.Button,{size:"sm",variant:"outline",children:"Schedule Callbacks"})]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,b.jsx)(q,{change:"Target: 4.5+",changeType:"positive",description:"Based on 87 reviews this month",icon:G.Star,title:"Customer Satisfaction",tooltip:"Average customer rating from post-job surveys and online reviews",value:"4.8 ⭐"}),(0,b.jsx)(q,{change:"+8% vs last month",changeType:"positive",icon:k.Users,title:"Team Efficiency",tooltip:"Average jobs completed per technician per day. Higher = better productivity.",value:"5.2 jobs/day"}),(0,b.jsx)(q,{change:"Target: < 5%",changeType:"positive",icon:D.AlertTriangle,title:"Callback Rate",tooltip:"Percentage of jobs that require a return visit to fix issues. Lower is better.",value:"3.2%"}),(0,b.jsx)(q,{change:"12 pending estimates",changeType:"neutral",icon:f.DollarSign,title:"Estimate Conversion",tooltip:"Percentage of estimates that convert to paid jobs. Industry average is 60-70%.",value:"68%"})]}),(0,b.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(s,{description:"Revenue opportunities requiring action",title:"Follow-Up Queue",tooltip:"Pending estimates, maintenance renewals, and customer callbacks that could generate revenue"}),(0,b.jsx)(l.Card,{children:(0,b.jsxs)(l.CardContent,{className:"space-y-3 pt-6",children:[(0,b.jsxs)("div",{className:"border-success bg-success dark:border-success dark:bg-success/30 flex items-start gap-3 rounded-lg border p-3",children:[(0,b.jsx)("div",{className:"bg-success flex size-10 flex-shrink-0 items-center justify-center rounded-full",children:(0,b.jsx)(f.DollarSign,{className:"size-5 text-white"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(t.Badge,{className:"border-success text-success",variant:"outline",children:"High Value"}),(0,b.jsx)("span",{className:"text-success text-sm font-bold",children:"$32,400 potential"})]}),(0,b.jsx)("p",{className:"mt-1 text-sm font-bold",children:"12 Pending Estimates"}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:"Average age: 4 days • Convert now to hit monthly target"})]}),(0,b.jsx)(u.Button,{size:"sm",variant:"outline",children:"Review"})]}),(0,b.jsxs)("div",{className:"bg-card flex items-start gap-3 rounded-lg border p-3",children:[(0,b.jsx)("div",{className:"bg-primary/10 flex size-10 flex-shrink-0 items-center justify-center rounded-full",children:(0,b.jsx)(E.Package,{className:"text-primary size-5"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)(t.Badge,{variant:"outline",children:"Recurring Revenue"}),(0,b.jsx)("p",{className:"mt-1 text-sm font-bold",children:"8 Maintenance Plans Expiring"}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:"Within 7 days • Auto-generate renewal calls"})]}),(0,b.jsx)(u.Button,{size:"sm",variant:"outline",children:"Send Reminders"})]}),(0,b.jsxs)("div",{className:"bg-card flex items-start gap-3 rounded-lg border p-3",children:[(0,b.jsx)("div",{className:"bg-accent/10 flex size-10 flex-shrink-0 items-center justify-center rounded-full",children:(0,b.jsx)(F.PhoneCall,{className:"text-accent-foreground size-5"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)(t.Badge,{variant:"outline",children:"Pending Callbacks"}),(0,b.jsx)("p",{className:"mt-1 text-sm font-bold",children:"5 Customers Awaiting Parts"}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:"Parts arrived • Schedule completion visits"})]}),(0,b.jsx)(u.Button,{size:"sm",variant:"outline",children:"Schedule"})]}),(0,b.jsxs)("div",{className:"bg-card flex items-start gap-3 rounded-lg border p-3",children:[(0,b.jsx)("div",{className:"bg-warning/10 flex size-10 flex-shrink-0 items-center justify-center rounded-full",children:(0,b.jsx)(h.MessageSquare,{className:"text-warning size-5"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)(t.Badge,{variant:"outline",children:"Ready to Send"}),(0,b.jsx)("p",{className:"mt-1 text-sm font-bold",children:"3 Quotes Finalized"}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:"Send to customers for approval"})]}),(0,b.jsx)(u.Button,{size:"sm",variant:"outline",children:"Send Quotes"})]})]})})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(s,{description:"Monitor and respond to customer feedback",title:"Customer Sentiment",tooltip:"Recent reviews and ratings from Google, Yelp, and post-job surveys"}),(0,b.jsx)(l.Card,{children:(0,b.jsxs)(l.CardContent,{className:"space-y-3 pt-6",children:[(0,b.jsxs)("div",{className:"border-destructive bg-destructive dark:border-destructive dark:bg-destructive/30 flex items-start gap-3 rounded-lg border-2 p-3",children:[(0,b.jsx)("div",{className:"bg-destructive flex size-10 flex-shrink-0 items-center justify-center rounded-full",children:(0,b.jsx)(G.Star,{className:"size-5 text-white"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(t.Badge,{variant:"destructive",children:"⚠ URGENT"}),(0,b.jsx)("span",{className:"text-muted-foreground text-xs",children:"1 hour ago"})]}),(0,b.jsx)("p",{className:"mt-1 text-sm font-bold",children:"2-Star Google Review"}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:'Jane Smith - "Tech was rude and rushed" - Respond immediately'})]}),(0,b.jsx)(u.Button,{size:"sm",variant:"destructive",children:"Respond"})]}),(0,b.jsxs)("div",{className:"border-warning bg-warning dark:border-warning dark:bg-warning/30 flex items-start gap-3 rounded-lg border p-3",children:[(0,b.jsx)("div",{className:"bg-warning flex size-10 flex-shrink-0 items-center justify-center rounded-full",children:(0,b.jsx)(G.Star,{className:"size-5 text-white"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(t.Badge,{className:"border-warning text-warning",variant:"outline",children:"Needs Response"}),(0,b.jsx)("span",{className:"text-muted-foreground text-xs",children:"2 days ago"})]}),(0,b.jsx)("p",{className:"mt-1 text-sm font-bold",children:"3-Star Yelp Review"}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:'Tom Wilson - "Job done but expensive" - Address pricing concern'})]}),(0,b.jsx)(u.Button,{size:"sm",variant:"outline",children:"Respond"})]}),[{customer:"Sarah Johnson",rating:5,comment:"Excellent service! Very professional",platform:"Google"},{customer:"Mike Davis",rating:5,comment:"Quick response and fair pricing",platform:"Facebook"}].map((a,c)=>(0,b.jsxs)("div",{className:"bg-card flex items-start gap-3 rounded-lg border p-3",children:[(0,b.jsx)("div",{className:"bg-success/10 flex size-10 flex-shrink-0 items-center justify-center rounded-full",children:(0,b.jsx)(G.Star,{className:"text-success size-5"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(t.Badge,{className:"border-success text-success",variant:"outline",children:["⭐ ",a.rating,"-Star"]}),(0,b.jsx)("span",{className:"text-muted-foreground text-xs",children:a.platform})]}),(0,b.jsx)("p",{className:"mt-1 text-sm font-bold",children:a.customer}),(0,b.jsxs)("p",{className:"text-muted-foreground text-xs",children:['"',a.comment,'"']})]}),(0,b.jsx)(u.Button,{size:"sm",variant:"ghost",children:"Share"})]},c))]})})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(s,{description:"Today's technician performance metrics",title:"Team Performance",tooltip:"Track which technicians are excelling and who needs coaching"}),(0,b.jsx)(H.Suspense,{fallback:(0,b.jsx)(M.TableSkeleton,{rows:5}),children:(0,b.jsx)(L,{})})]}),(0,b.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(s,{description:"Stock levels and reorder alerts",title:"Inventory Status",tooltip:"Monitor parts and materials to avoid job delays"}),(0,b.jsx)(l.Card,{children:(0,b.jsxs)(l.CardContent,{className:"space-y-3 pt-6",children:[(0,b.jsxs)("div",{className:"border-destructive bg-destructive dark:border-destructive dark:bg-destructive/30 flex items-start gap-3 rounded-lg border p-3",children:[(0,b.jsx)(E.Package,{className:"text-destructive mt-0.5 size-5"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)(t.Badge,{variant:"destructive",children:"CRITICAL LOW"}),(0,b.jsx)("p",{className:"mt-1 text-sm font-bold",children:"40-Gallon Water Heaters"}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:"2 units left • 3 jobs scheduled this week"})]}),(0,b.jsx)(u.Button,{size:"sm",variant:"destructive",children:"Order Now"})]}),(0,b.jsxs)("div",{className:"border-warning bg-warning dark:border-warning dark:bg-warning/30 flex items-start gap-3 rounded-lg border p-3",children:[(0,b.jsx)(E.Package,{className:"text-warning mt-0.5 size-5"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)(t.Badge,{className:"border-warning text-warning",variant:"outline",children:"Low Stock"}),(0,b.jsx)("p",{className:"mt-1 text-sm font-bold",children:'PEX Fittings - 1/2"'}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:"12 pieces left • Reorder soon"})]}),(0,b.jsx)(u.Button,{size:"sm",variant:"outline",children:"Add to Order"})]}),(0,b.jsxs)("div",{className:"bg-card flex items-start gap-3 rounded-lg border p-3",children:[(0,b.jsx)(k.Users,{className:"text-primary mt-0.5 size-5"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)(t.Badge,{variant:"outline",children:"Truck Inventory"}),(0,b.jsx)("p",{className:"mt-1 text-sm font-bold",children:"Mike's Truck Needs Restock"}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:"Ran out of copper fittings - restock end of day"})]}),(0,b.jsx)(u.Button,{size:"sm",variant:"outline",children:"View List"})]})]})})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(s,{description:"Key operational indicators",title:"Operations Snapshot",tooltip:"Track important business metrics at a glance"}),(0,b.jsx)(l.Card,{children:(0,b.jsxs)(l.CardContent,{className:"space-y-4 pt-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"First-Call Resolution"}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:"87%"})]}),(0,b.jsx)(t.Badge,{className:"text-success",variant:"outline",children:"Above target (85%)"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"Avg. Job Duration"}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:"2.4 hrs"})]}),(0,b.jsx)(t.Badge,{className:"text-primary",variant:"outline",children:"On target"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"Parts Markup"}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:"42%"})]}),(0,b.jsx)(t.Badge,{className:"text-success",variant:"outline",children:"Healthy margin"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"Overtime Hours"}),(0,b.jsx)("p",{className:"text-2xl font-bold",children:"12 hrs"})]}),(0,b.jsx)(t.Badge,{className:"text-warning",variant:"outline",children:"Monitor closely"})]})]})})]})]})]})}var O=a.i(205853);a.i(146697);var P=a.i(778737),Q=a.i(792268),R=a.i(585092);function S({data:a,renderedAt:c}){if(!a)return(0,b.jsx)("div",{className:"flex min-h-[400px] items-center justify-center",children:(0,b.jsx)("p",{className:"text-muted-foreground",children:"No dashboard data available"})});let d=c??Date.now(),e=a.analytics?.revenue??[],f=a.analytics?.jobs??[],g=a.analytics?.communications??[];return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("header",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("h1",{className:"text-3xl font-semibold tracking-tight md:text-4xl",children:"Account overview"}),(0,b.jsxs)(t.Badge,{className:"text-primary gap-1",variant:"outline",children:[(0,b.jsx)(R.Wifi,{className:"size-3.5"}),"Live"]})]}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm md:text-base",children:"Real-time snapshot of your business performance."})]}),(0,b.jsxs)("div",{className:"text-muted-foreground flex items-center gap-2 text-xs md:text-sm",children:[(0,b.jsx)("span",{children:"Last updated"}),(0,b.jsx)(P.Separator,{className:"h-4",orientation:"vertical"}),(0,b.jsxs)("span",{children:[(0,Q.formatDateTime)(a.lastUpdated)," (",function(a,b=Date.now()){if(!a)return"";try{let c=new Intl.RelativeTimeFormat("en-US",{numeric:"auto"}),d=new Date(a).getTime(),e=Math.round((d-b)/6e4);if(60>Math.abs(e))return c.format(e,"minute");let f=Math.round(e/60);return c.format(f,"hour")}catch(e){let c=Math.round((new Date(a).getTime()-b)/6e4);if(60>Math.abs(c))return`${Math.abs(c)}m ago`;let d=Math.round(c/60);return`${Math.abs(d)}h ago`}}(a.lastUpdated,d),")"]})]})]}),(0,b.jsx)("div",{className:"grid grid-cols-1",children:(0,b.jsx)(O.MainChartCard,{title:"Revenue",data:e})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsx)(O.SmallChartCard,{title:"Jobs over time",data:f,type:"line",dataKey:"value",category:"jobs",color:"#3b82f6"}),(0,b.jsx)(O.SmallChartCard,{title:"Communications | Activity",data:g,type:"bar",dataKey:"value",category:"comms",color:"#10b981"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[(0,b.jsx)(O.MetricCard,{label:"Revenue Today",value:(0,Q.formatCurrencyFromDollars)(a.metrics.revenueToday,{minimumFractionDigits:0,maximumFractionDigits:0}),change:8.5*(a.metrics.revenueToday>0),verified:!0}),(0,b.jsx)(O.MetricCard,{label:"Jobs Scheduled",value:a.metrics.jobsScheduledToday.toString(),change:5.2*(a.metrics.jobsScheduledToday>0),changeLabel:"vs yesterday"}),(0,b.jsx)(O.MetricCard,{label:"Active Jobs",value:a.metrics.jobsInProgress.toString(),change:3.1*(a.metrics.jobsInProgress>0),changeLabel:"currently active"}),(0,b.jsx)(O.MetricCard,{label:"Outstanding AR",value:(0,Q.formatCurrencyFromDollars)(a.metrics.outstandingInvoicesAmount,{minimumFractionDigits:0,maximumFractionDigits:0}),change:a.metrics.overdueInvoicesCount>0?-2.5:1.2,changeLabel:`${a.metrics.overdueInvoicesCount} overdue`}),(0,b.jsx)(O.MetricCard,{label:"Comms Today",value:a.metrics.communicationsToday.toString(),change:4.3*(a.metrics.communicationsToday>5),changeLabel:"interactions"}),(0,b.jsx)(O.MetricCard,{label:"Avg Ticket",value:(0,Q.formatCurrencyFromDollars)(a.metrics.averageTicket,{minimumFractionDigits:0,maximumFractionDigits:0}),change:1.5,changeLabel:"vs last month"}),(0,b.jsx)(O.MetricCard,{label:"Unassigned",value:a.metrics.unassignedJobs.toString(),change:a.metrics.unassignedJobs>0?-5:0,changeLabel:"jobs pending"}),(0,b.jsx)(O.MetricCard,{label:"Completed",value:a.metrics.jobsCompletedToday.toString(),change:12,changeLabel:"jobs today"}),(0,b.jsx)(O.MetricCard,{label:"Open Invoices",value:a.financial.openInvoices.length.toString(),change:-2,changeLabel:"pending payment"}),(0,b.jsx)(O.MetricCard,{label:"Team Active",value:"3",subValue:"/ 5",change:0,changeLabel:"technicians"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsx)(T,{jobs:a.operations.inProgress}),(0,b.jsx)(U,{schedule:a.schedule})]})]})}function T({jobs:a}){return(0,b.jsxs)("div",{className:"bg-card/50 border-border/50 backdrop-blur-sm rounded-xl border overflow-hidden",children:[(0,b.jsxs)("div",{className:"p-4 md:p-6 border-b border-border/50 flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"font-semibold text-base md:text-lg",children:"Active Jobs"}),(0,b.jsxs)(t.Badge,{variant:"secondary",className:"bg-blue-500/10 text-blue-500 hover:bg-blue-500/20 border-0",children:[a.length," Active"]})]}),(0,b.jsx)("div",{className:"p-0",children:0===a.length?(0,b.jsx)("div",{className:"p-6 md:p-8 text-center text-muted-foreground text-sm",children:"No active jobs at the moment."}):(0,b.jsx)("div",{className:"divide-y divide-border/50",children:a.slice(0,5).map(a=>(0,b.jsxs)("div",{className:"p-3 md:p-4 hover:bg-muted/30 transition-colors flex flex-col sm:flex-row sm:items-center justify-between gap-2 sm:gap-4",children:[(0,b.jsxs)("div",{className:"space-y-1 min-w-0 flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,b.jsx)("span",{className:"font-medium text-sm truncate",children:a.title||`Job #${a.jobNumber}`}),(0,b.jsx)(t.Badge,{variant:"outline",className:"text-[10px] h-5 px-1.5 uppercase tracking-wider shrink-0",children:a.status?.replace(/_/g," ")})]}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground truncate",children:[a.customerName," • ",a.address]})]}),(0,b.jsxs)("div",{className:"text-left sm:text-right shrink-0",children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:(0,Q.formatCurrencyFromDollars)(a.totalAmountCents/100,{minimumFractionDigits:0,maximumFractionDigits:0})}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:a.scheduledStart?(0,Q.formatDateTime)(a.scheduledStart):"No time set"})]})]},a.id))})})]})}function U({schedule:a}){let c=Object.values(a.reduce((a,b)=>(b.technicianName&&(a[b.technicianName]={name:b.technicianName,status:"in_progress"===b.status?"Working":"Scheduled",currentJob:b.title,time:b.startTime}),a),{}));return(0,b.jsxs)("div",{className:"bg-card/50 border-border/50 backdrop-blur-sm rounded-xl border overflow-hidden",children:[(0,b.jsxs)("div",{className:"p-4 md:p-6 border-b border-border/50 flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"font-semibold text-base md:text-lg",children:"Technician Status"}),(0,b.jsxs)(t.Badge,{variant:"secondary",className:"bg-green-500/10 text-green-500 hover:bg-green-500/20 border-0",children:[c.length," Scheduled"]})]}),(0,b.jsx)("div",{className:"p-0",children:0===c.length?(0,b.jsx)("div",{className:"p-6 md:p-8 text-center text-muted-foreground text-sm",children:"No technicians scheduled for today yet."}):(0,b.jsx)("div",{className:"divide-y divide-border/50",children:c.map((a,c)=>(0,b.jsxs)("div",{className:"p-3 md:p-4 hover:bg-muted/30 transition-colors flex items-center justify-between gap-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[(0,b.jsx)("div",{className:"h-9 w-9 md:h-8 md:w-8 rounded-full bg-primary/10 flex items-center justify-center text-xs font-medium text-primary shrink-0",children:a.name.split(" ").map(a=>a[0]).join("").substring(0,2)}),(0,b.jsxs)("div",{className:"space-y-0.5 min-w-0",children:[(0,b.jsx)("p",{className:"text-sm font-medium truncate",children:a.name}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground truncate",children:["Working"===a.status?"Currently at:":"Next up:"," ",a.currentJob]})]})]}),(0,b.jsx)("div",{className:"flex items-center gap-2 shrink-0",children:(0,b.jsx)(t.Badge,{variant:"outline",className:`text-[10px] h-5 px-1.5 uppercase tracking-wider ${"Working"===a.status?"bg-green-500/10 text-green-500 border-green-500/20":"bg-blue-500/10 text-blue-500 border-blue-500/20"}`,children:a.status})})]},c))})})]})}var V=a.i(688014),W=a.i(362841);function X(){let a=new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold tracking-tight",children:"My Dashboard"}),(0,b.jsx)(t.Badge,{className:"text-warning",variant:"outline",children:"Technician View"}),(0,b.jsxs)("div",{className:"border-border bg-success/10 flex items-center gap-2 rounded-full border px-3 py-1",children:[(0,b.jsx)("div",{className:"bg-success size-2 rounded-full"}),(0,b.jsx)("span",{className:"text-success dark:text-success text-xs font-medium",children:"Clocked In"})]})]}),(0,b.jsx)("p",{className:"text-muted-foreground text-lg",children:a})]}),(0,b.jsx)(l.Card,{className:"border-primary bg-primary dark:border-primary dark:bg-primary/30",children:(0,b.jsx)(l.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"bg-primary flex size-12 items-center justify-center rounded-full",children:(0,b.jsx)(W.Wrench,{className:"size-6 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-lg font-bold",children:"Current Job in Progress"}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"AC Repair - Sarah Johnson - 123 Main St"}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:"Started 45 minutes ago"})]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(u.Button,{size:"sm",variant:"outline",children:"Update Status"}),(0,b.jsx)(u.Button,{size:"sm",variant:"default",children:"Complete Job"})]})]})})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,b.jsx)(q,{change:"+$240 vs yesterday",changeType:"positive",description:"Today's earnings",icon:f.DollarSign,title:"My Revenue Today",tooltip:"Total revenue you've generated from completed jobs today. This affects your commission.",value:"$3,240"}),(0,b.jsx)(q,{change:"1 in progress, 3 remaining",changeType:"positive",icon:d.CheckCircle2,title:"Jobs Completed",tooltip:"Number of jobs you've finished today out of your total scheduled jobs",value:"2 of 6"}),(0,b.jsx)(q,{change:"You're #2 on team",changeType:"positive",icon:V.TrendingUp,title:"Avg. Ticket Value",tooltip:"Your average revenue per job. Higher values mean better upselling.",value:"$540"}),(0,b.jsx)(q,{change:"100% perfect score!",changeType:"positive",icon:G.Star,title:"Customer Rating",tooltip:"Your average customer satisfaction rating from post-job surveys",value:"5.0 ⭐"})]}),(0,b.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(s,{description:"Your appointments for today",title:"My Schedule",tooltip:"Upcoming jobs assigned to you. Click on a job to view details or navigate."}),(0,b.jsx)(l.Card,{children:(0,b.jsxs)(l.CardContent,{className:"space-y-3 pt-6",children:[(0,b.jsxs)("div",{className:"border-primary bg-primary dark:border-primary dark:bg-primary/30 flex items-start gap-3 rounded-lg border-2 p-3",children:[(0,b.jsx)("div",{className:"bg-primary flex size-10 flex-shrink-0 items-center justify-center rounded-full",children:(0,b.jsx)(W.Wrench,{className:"size-5 text-white"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)(t.Badge,{variant:"default",children:"IN PROGRESS"}),(0,b.jsx)("p",{className:"mt-1 text-sm font-bold",children:"9:00 AM - AC Not Cooling"}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:"Sarah Johnson • 123 Main St, Suite 200"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1 text-xs",children:"Est. value: $420 • Started 45 min ago"})]}),(0,b.jsxs)(u.Button,{size:"sm",variant:"default",children:[(0,b.jsx)(z.Navigation,{className:"mr-2 size-4"}),"Navigate"]})]}),[{time:"11:30 AM",type:"Water Heater Replacement",customer:"Mike Davis",address:"456 Oak Ave",value:"$890",status:"Next"},{time:"2:00 PM",type:"Furnace Inspection",customer:"Lisa Chen",address:"789 Pine St",value:"$180",status:"Scheduled"},{time:"4:00 PM",type:"Drain Cleaning",customer:"Tom Wilson",address:"321 Elm Dr",value:"$240",status:"Scheduled"}].map((a,c)=>(0,b.jsxs)("div",{className:"bg-card flex items-start gap-3 rounded-lg border p-3",children:[(0,b.jsx)("div",{className:"bg-muted flex size-10 flex-shrink-0 items-center justify-center rounded-full",children:(0,b.jsx)(e.Clock,{className:"text-muted-foreground size-5"})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)(t.Badge,{variant:"outline",children:a.status}),(0,b.jsxs)("p",{className:"mt-1 text-sm font-bold",children:[a.time," - ",a.type]}),(0,b.jsxs)("p",{className:"text-muted-foreground text-xs",children:[a.customer," • ",a.address]}),(0,b.jsxs)("p",{className:"text-muted-foreground mt-1 text-xs",children:["Est. value: ",a.value]})]}),(0,b.jsxs)(u.Button,{size:"sm",variant:"outline",children:[(0,b.jsx)(z.Navigation,{className:"mr-2 size-4"}),"Navigate"]})]},c))]})})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(s,{description:"How you're doing vs. the team",title:"My Performance",tooltip:"Your performance metrics compared to team averages"}),(0,b.jsx)(l.Card,{children:(0,b.jsxs)(l.CardContent,{className:"space-y-4 pt-6",children:[(0,b.jsxs)("div",{className:"bg-muted/50 rounded-lg border p-4",children:[(0,b.jsx)("p",{className:"text-sm font-bold",children:"This Week"}),(0,b.jsxs)("div",{className:"mt-3 space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground text-sm",children:"Total Revenue"}),(0,b.jsx)("span",{className:"text-success font-bold",children:"$12,840"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground text-sm",children:"Jobs Completed"}),(0,b.jsx)("span",{className:"font-bold",children:"24 jobs"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground text-sm",children:"Avg. per Day"}),(0,b.jsx)("span",{className:"font-bold",children:"4.8 jobs"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:"Achievements"}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,b.jsx)(t.Badge,{className:"border-success text-success",variant:"outline",children:"⭐ Top Performer"}),(0,b.jsx)(t.Badge,{className:"border-primary text-primary",variant:"outline",children:"🎯 Target Met"}),(0,b.jsx)(t.Badge,{className:"border-border text-accent-foreground",variant:"outline",children:"💰 Highest Revenue"})]})]}),(0,b.jsx)("div",{className:"bg-success dark:bg-success/30 rounded-lg border p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-bold",children:"Team Ranking"}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:"Out of 12 technicians"})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:"text-success text-3xl font-bold",children:"#2"}),(0,b.jsx)("p",{className:"text-success text-xs",children:"This week"})]})]})}),(0,b.jsx)("div",{className:"bg-primary dark:bg-primary/30 rounded-lg border p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-bold",children:"Estimated Commission"}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:"Based on this week"})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:"text-primary text-2xl font-bold",children:"$1,284"}),(0,b.jsx)("p",{className:"text-primary text-xs",children:"10% of revenue"})]})]})})]})})]})]}),(0,b.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(s,{description:"Parts and materials on your truck",title:"My Truck Inventory",tooltip:"Track what's in your truck to know what jobs you can complete"}),(0,b.jsx)(l.Card,{children:(0,b.jsxs)(l.CardContent,{className:"space-y-3 pt-6",children:[(0,b.jsxs)("div",{className:"border-destructive bg-destructive dark:border-destructive dark:bg-destructive/30 flex items-start gap-3 rounded-lg border p-3",children:[(0,b.jsx)(x.AlertCircle,{className:"text-destructive mt-0.5 size-5"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)(t.Badge,{variant:"destructive",children:"LOW STOCK"}),(0,b.jsx)("p",{className:"mt-1 text-sm font-bold",children:'PEX Fittings - 1/2"'}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:"Only 3 left • Restock needed"})]}),(0,b.jsx)(u.Button,{size:"sm",variant:"outline",children:"Request"})]}),[{item:"Water Heater - 40 gal",quantity:"2 units",status:"Good"},{item:'Copper Pipe - 3/4"',quantity:"50 ft",status:"Good"},{item:"Drain Snake",quantity:"1 unit",status:"Good"}].map((a,c)=>(0,b.jsxs)("div",{className:"bg-card flex items-center justify-between rounded-lg border p-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(E.Package,{className:"text-muted-foreground size-5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:a.item}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:a.quantity})]})]}),(0,b.jsx)(t.Badge,{className:"text-success",variant:"outline",children:a.status})]},c)),(0,b.jsx)(u.Button,{className:"w-full",variant:"outline",children:"View Full Inventory"})]})})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(s,{description:"Common actions and time tracking",title:"Quick Actions",tooltip:"Frequently used functions for field work"}),(0,b.jsx)(l.Card,{children:(0,b.jsxs)(l.CardContent,{className:"space-y-4 pt-6",children:[(0,b.jsxs)("div",{className:"bg-muted/50 rounded-lg border p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-bold",children:"Time Tracking"}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:"Clocked in at 7:30 AM"})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("p",{className:"text-2xl font-bold",children:"4h 15m"}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:"Today"})]})]}),(0,b.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,b.jsx)(u.Button,{className:"flex-1",size:"sm",variant:"outline",children:"Start Break"}),(0,b.jsx)(u.Button,{className:"flex-1",size:"sm",variant:"outline",children:"Clock Out"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,b.jsxs)(u.Button,{size:"sm",variant:"outline",children:[(0,b.jsx)(W.Wrench,{className:"mr-2 size-4"}),"Update Job"]}),(0,b.jsxs)(u.Button,{size:"sm",variant:"outline",children:[(0,b.jsx)(y.MapPin,{className:"mr-2 size-4"}),"Next Job"]}),(0,b.jsxs)(u.Button,{size:"sm",variant:"outline",children:[(0,b.jsx)(E.Package,{className:"mr-2 size-4"}),"Order Parts"]}),(0,b.jsxs)(u.Button,{size:"sm",variant:"outline",children:[(0,b.jsx)(f.DollarSign,{className:"mr-2 size-4"}),"Create Invoice"]})]}),(0,b.jsxs)("div",{className:"bg-muted/50 rounded-lg border p-4",children:[(0,b.jsx)("p",{className:"text-sm font-bold",children:"Today's Notes"}),(0,b.jsxs)("p",{className:"text-muted-foreground mt-2 text-sm",children:["• Pick up parts from warehouse before 3 PM",(0,b.jsx)("br",{}),"• Mike Davis job may need water heater replacement",(0,b.jsx)("br",{}),"• Team meeting tomorrow at 8 AM"]})]}),(0,b.jsx)(u.Button,{className:"w-full",variant:"outline",children:"Contact Dispatcher"})]})})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(s,{description:"What customers are saying about you",title:"Recent Customer Feedback",tooltip:"Customer reviews and ratings from your completed jobs"}),(0,b.jsx)(l.Card,{children:(0,b.jsx)(l.CardContent,{className:"grid grid-cols-1 gap-3 pt-6 md:grid-cols-2 lg:grid-cols-3",children:[{customer:"Sarah Johnson",rating:5,comment:"Excellent work! Very professional and thorough.",job:"AC Repair"},{customer:"Mike Davis",rating:5,comment:"Quick service and fair pricing. Highly recommend!",job:"Water Heater"},{customer:"Lisa Chen",rating:5,comment:"Great technician. Explained everything clearly.",job:"Furnace Check"}].map((a,c)=>(0,b.jsxs)("div",{className:"bg-success dark:bg-success/30 rounded-lg border p-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(G.Star,{className:"text-warning size-4"}),(0,b.jsxs)("span",{className:"text-sm font-bold",children:[a.rating,".0 ⭐"]}),(0,b.jsx)(t.Badge,{className:"ml-auto text-xs",variant:"outline",children:a.job})]}),(0,b.jsx)("p",{className:"mt-2 text-sm font-medium",children:a.customer}),(0,b.jsxs)("p",{className:"text-muted-foreground mt-1 text-xs",children:['"',a.comment,'"']})]},c))})})]})]})}var Y=a.i(692569),Z=a.i(287580);function $({dashboardData:a,renderedAt:c}){let d=(0,Y.useRoleStore)(a=>a.role);if((0,Y.useRoleStore)(a=>a.isLoading))return(0,b.jsx)("div",{className:"flex min-h-[400px] items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"border-primary mx-auto size-8 animate-spin rounded-full border-4 border-t-transparent"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-4 text-sm",children:"Loading dashboard..."})]})});switch(d){case Z.USER_ROLES.OWNER:case Z.USER_ROLES.ADMIN:return(0,b.jsx)(S,{data:a,renderedAt:c});case Z.USER_ROLES.DISPATCHER:return(0,b.jsx)(C,{});case Z.USER_ROLES.MANAGER:return(0,b.jsx)(N,{});case Z.USER_ROLES.TECHNICIAN:return(0,b.jsx)(X,{});case Z.USER_ROLES.CSR:return(0,b.jsx)(w,{});default:return(0,b.jsx)(S,{data:a,renderedAt:c})}}a.s(["RoleBasedDashboard",()=>$],4456)},560311,a=>{"use strict";var b=a.i(37769);a.s(["Pin",()=>b.default])},570750,a=>{"use strict";var b=a.i(861467),c=a.i(783281);a.i(445255);var d=a.i(18170);a.i(19256);var e=a.i(417132),f=a.i(319895),g=a.i(273819),h=a.i(891079),i=a.i(187056),j=a.i(984270),k=a.i(147784),k=k,l=a.i(771624),l=l,m=a.i(681691),n=a.i(924230),o=a.i(271758),p=a.i(700760);let q=["image/jpeg","image/png","image/gif","image/webp"],r=["application/pdf"],s=["application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain"],t=["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"];function u({attachments:a,compact:u=!1}){let[v,w]=(0,c.useState)(null),[x,y]=(0,c.useState)(1),[z,A]=(0,c.useState)(0),B=(0,c.useCallback)(()=>{y(1),A(0)},[]),C=(0,c.useCallback)(a=>{B(),w(a)},[B]),D=(0,c.useCallback)(()=>{w(null),B()},[B]),E=(0,c.useCallback)(()=>{y(a=>Math.min(a+.25,3))},[]),F=(0,c.useCallback)(()=>{y(a=>Math.max(a-.25,.5))},[]),G=(0,c.useCallback)(()=>{A(a=>(a+90)%360)},[]),H=a.filter(a=>q.includes(a.file_type||"")),I=a.filter(a=>!q.includes(a.file_type||""));return 0===a.length?null:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"space-y-4",children:[H.length>0&&(0,b.jsxs)("div",{className:"space-y-2",children:[!u&&(0,b.jsx)("p",{className:"text-xs text-muted-foreground font-medium",children:"Images"}),(0,b.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:H.map(a=>(0,b.jsxs)("button",{className:"relative aspect-video rounded-lg overflow-hidden bg-muted group cursor-pointer hover:ring-2 hover:ring-primary/50 transition-all",onClick:()=>C(a),children:[(0,b.jsx)("img",{src:a.file_url,alt:a.file_name,className:"w-full h-full object-cover"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center",children:(0,b.jsx)(n.Maximize2,{className:"h-6 w-6 text-white opacity-0 group-hover:opacity-100 transition-opacity drop-shadow-lg"})}),!u&&(0,b.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-1.5 bg-gradient-to-t from-black/60 to-transparent",children:(0,b.jsx)("p",{className:"text-[10px] text-white truncate",children:a.file_name})})]},a.id))})]}),I.length>0&&(0,b.jsxs)("div",{className:"space-y-2",children:[!u&&H.length>0&&(0,b.jsx)("p",{className:"text-xs text-muted-foreground font-medium",children:"Documents"}),(0,b.jsx)("div",{className:"space-y-1.5",children:I.map(a=>{var c,e;let k=(c=a.file_type||"",q.includes(c)?g.Image:r.includes(c)?f.FileText:t.includes(c)?o.FileSpreadsheet:s.includes(c)?f.FileText:h.File),l=r.includes(a.file_type||"");return(0,b.jsxs)("div",{className:(0,p.cn)("flex items-center gap-3 p-2.5 rounded-lg bg-muted/50 hover:bg-muted transition-colors group",u&&"p-2"),children:[(0,b.jsx)("div",{className:(0,p.cn)("h-9 w-9 rounded-lg bg-background flex items-center justify-center shrink-0",u&&"h-8 w-8"),children:(0,b.jsx)(k,{className:(0,p.cn)("h-4 w-4 text-muted-foreground",l&&"text-red-500",a.file_type?.includes("spreadsheet")&&"text-green-500")})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:(0,p.cn)("text-sm font-medium truncate",u&&"text-xs"),children:a.file_name}),!u&&a.file_size&&(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:(e=a.file_size)<1024?`${e} B`:e<1048576?`${(e/1024).toFixed(1)} KB`:`${(e/1048576).toFixed(1)} MB`})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[l&&(0,b.jsx)(d.Button,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>C(a),title:"Preview",children:(0,b.jsx)(n.Maximize2,{className:"h-3.5 w-3.5"})}),(0,b.jsx)(d.Button,{variant:"ghost",size:"icon",className:"h-7 w-7",asChild:!0,title:"Open in new tab",children:(0,b.jsx)("a",{href:a.file_url,target:"_blank",rel:"noopener noreferrer",children:(0,b.jsx)(j.ExternalLink,{className:"h-3.5 w-3.5"})})}),(0,b.jsx)(d.Button,{variant:"ghost",size:"icon",className:"h-7 w-7",asChild:!0,title:"Download",children:(0,b.jsx)("a",{href:a.file_url,download:a.file_name,children:(0,b.jsx)(i.Download,{className:"h-3.5 w-3.5"})})})]})]},a.id)})})]})]}),(0,b.jsx)(e.Dialog,{open:!!v,onOpenChange:a=>!a&&D(),children:(0,b.jsxs)(e.DialogContent,{className:"max-w-4xl max-h-[90vh] p-0 overflow-hidden",children:[(0,b.jsx)(e.DialogHeader,{className:"p-4 pb-2 border-b",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(e.DialogTitle,{className:"text-base truncate pr-4",children:v?.file_name}),(0,b.jsxs)("div",{className:"flex items-center gap-1 shrink-0",children:[v&&q.includes(v.file_type||"")&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(d.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:F,title:"Zoom out",children:(0,b.jsx)(l.default,{className:"h-4 w-4"})}),(0,b.jsxs)("span",{className:"text-xs text-muted-foreground min-w-[3rem] text-center",children:[Math.round(100*x),"%"]}),(0,b.jsx)(d.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:E,title:"Zoom in",children:(0,b.jsx)(k.default,{className:"h-4 w-4"})}),(0,b.jsx)(d.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:G,title:"Rotate",children:(0,b.jsx)(m.RotateCw,{className:"h-4 w-4"})})]}),(0,b.jsx)(d.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",asChild:!0,title:"Download",children:(0,b.jsx)("a",{href:v?.file_url,download:v?.file_name,children:(0,b.jsx)(i.Download,{className:"h-4 w-4"})})}),(0,b.jsx)(d.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",asChild:!0,title:"Open in new tab",children:(0,b.jsx)("a",{href:v?.file_url,target:"_blank",rel:"noopener noreferrer",children:(0,b.jsx)(j.ExternalLink,{className:"h-4 w-4"})})})]})]})}),(0,b.jsxs)("div",{className:"flex-1 overflow-auto bg-muted/30 min-h-[60vh]",children:[v&&q.includes(v.file_type||"")&&(0,b.jsx)("div",{className:"w-full h-full flex items-center justify-center p-4 overflow-auto",children:(0,b.jsx)("img",{src:v.file_url,alt:v.file_name,className:"max-w-full transition-transform duration-200",style:{transform:`scale(${x}) rotate(${z}deg)`}})}),v&&r.includes(v.file_type||"")&&(0,b.jsx)("iframe",{src:`${v.file_url}#toolbar=1&navpanes=0`,className:"w-full h-[70vh] border-0",title:v.file_name})]})]})})]})}function v({attachments:a}){if(0===a.length)return null;let c=a.some(a=>q.includes(a.file_type||"")),d=a.some(a=>r.includes(a.file_type||"")),e=a.some(a=>!q.includes(a.file_type||"")&&!r.includes(a.file_type||""));return(0,b.jsxs)("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[c&&(0,b.jsx)(g.Image,{className:"h-3 w-3"}),d&&(0,b.jsx)(f.FileText,{className:"h-3 w-3 text-red-500/70"}),e&&(0,b.jsx)(h.File,{className:"h-3 w-3"}),(0,b.jsx)("span",{className:"text-xs",children:a.length})]})}a.s(["AttachmentIndicator",()=>v,"PinBoardFilePreview",()=>u],570750)},576462,a=>{"use strict";var b=a.i(861467),c=a.i(783281);a.i(288007);var d=a.i(986990);a.i(445255);var e=a.i(18170);a.i(380934);var f=a.i(347421);a.i(956852);var g=a.i(90125);a.i(19256);var h=a.i(417132),i=a.i(560311),j=a.i(94436),k=a.i(525756),l=a.i(339632),m=a.i(854729),n=a.i(169021),o=(0,n.createServerReference)("406fa38ca6dc131deb6b17173761702aef956ef128",n.callServer,void 0,n.findSourceMapURL,"togglePinBoardPostPin"),p=(0,n.createServerReference)("40f19de32ea7cf4c1fadaf0575d8264a11b2ac7b27",n.callServer,void 0,n.findSourceMapURL,"deletePinBoardPost"),q=(0,n.createServerReference)("4047974945f509c6c7d6e42c1e9dec95547fb145b0",n.callServer,void 0,n.findSourceMapURL,"markPostAsViewed"),r=a.i(367301),s=a.i(570750);let t={blue:"bg-blue-500/10 text-blue-500 border-blue-500/20",green:"bg-green-500/10 text-green-500 border-green-500/20",purple:"bg-purple-500/10 text-purple-500 border-purple-500/20",orange:"bg-orange-500/10 text-orange-500 border-orange-500/20",cyan:"bg-cyan-500/10 text-cyan-500 border-cyan-500/20",red:"bg-red-500/10 text-red-500 border-red-500/20",yellow:"bg-yellow-500/10 text-yellow-600 border-yellow-500/20"};function u({post:a,onEdit:n}){let[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(!1),y=a.category?.color&&t[a.category.color]||t.blue,z=async()=>{v(!0),await q(a.id)},A=async()=>{await o(a.id)},B=async()=>{confirm("Are you sure you want to delete this post?")&&(x(!0),await p(a.id),x(!1))},C=a.published_at?(0,r.formatDistanceToNow)(new Date(a.published_at),{addSuffix:!0}):(0,r.formatDistanceToNow)(new Date(a.created_at),{addSuffix:!0});return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(f.Card,{className:`group cursor-pointer hover:shadow-md transition-all ${a.is_pinned?"ring-1 ring-primary/20":""}`,onClick:z,children:[(0,b.jsxs)(f.CardHeader,{className:"pb-2",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[a.is_pinned&&(0,b.jsx)(i.Pin,{className:"h-3.5 w-3.5 text-primary shrink-0"}),a.category&&(0,b.jsx)(d.Badge,{variant:"outline",className:`text-[10px] shrink-0 ${y}`,children:a.category.name})]}),(0,b.jsx)(f.CardTitle,{className:"text-base line-clamp-2",children:a.title})]}),(0,b.jsxs)(g.DropdownMenu,{children:[(0,b.jsx)(g.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsx)(e.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity shrink-0",onClick:a=>a.stopPropagation(),children:(0,b.jsx)(j.MoreHorizontal,{className:"h-4 w-4"})})}),(0,b.jsxs)(g.DropdownMenuContent,{align:"end",onClick:a=>a.stopPropagation(),children:[(0,b.jsxs)(g.DropdownMenuItem,{onClick:z,children:[(0,b.jsx)(m.Eye,{className:"h-4 w-4 mr-2"}),"View"]}),(0,b.jsxs)(g.DropdownMenuItem,{onClick:n,children:[(0,b.jsx)(k.Edit,{className:"h-4 w-4 mr-2"}),"Edit"]}),(0,b.jsxs)(g.DropdownMenuItem,{onClick:A,children:[(0,b.jsx)(i.Pin,{className:"h-4 w-4 mr-2"}),a.is_pinned?"Unpin":"Pin to Top"]}),(0,b.jsx)(g.DropdownMenuSeparator,{}),(0,b.jsxs)(g.DropdownMenuItem,{className:"text-destructive focus:text-destructive",onClick:B,disabled:w,children:[(0,b.jsx)(l.Trash2,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]}),a.excerpt&&(0,b.jsx)(f.CardDescription,{className:"line-clamp-2 mt-1",children:a.excerpt})]}),(0,b.jsx)(f.CardContent,{className:"pt-0",children:(0,b.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[(0,b.jsx)("span",{children:C}),a.attachments&&a.attachments.length>0&&(0,b.jsx)(s.AttachmentIndicator,{attachments:a.attachments})]})})]}),(0,b.jsx)(h.Dialog,{open:u,onOpenChange:v,children:(0,b.jsxs)(h.DialogContent,{className:"max-w-2xl max-h-[80vh] overflow-hidden flex flex-col",children:[(0,b.jsxs)(h.DialogHeader,{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[a.is_pinned&&(0,b.jsx)(i.Pin,{className:"h-4 w-4 text-primary"}),a.category&&(0,b.jsx)(d.Badge,{variant:"outline",className:`text-xs ${y}`,children:a.category.name})]}),(0,b.jsx)(h.DialogTitle,{className:"text-xl",children:a.title}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:C})]}),(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto space-y-4",children:[a.content?(0,b.jsx)("div",{className:"prose prose-sm dark:prose-invert max-w-none",dangerouslySetInnerHTML:{__html:a.content}}):(0,b.jsx)("p",{className:"text-muted-foreground italic",children:"No content"}),a.attachments&&a.attachments.length>0&&(0,b.jsx)("div",{className:"border-t pt-4",children:(0,b.jsx)(s.PinBoardFilePreview,{attachments:a.attachments})})]}),(0,b.jsxs)("div",{className:"flex items-center justify-end gap-2 pt-4 border-t",children:[(0,b.jsx)(e.Button,{variant:"outline",onClick:()=>v(!1),children:"Close"}),(0,b.jsxs)(e.Button,{onClick:()=>{v(!1),n()},children:[(0,b.jsx)(k.Edit,{className:"h-4 w-4 mr-2"}),"Edit"]})]})]})})]})}a.s(["PinBoardPostCard",()=>u],576462)},206302,a=>{"use strict";var b=a.i(861467),c=a.i(783281);a.i(445255);var d=a.i(18170);a.i(245561);var e=a.i(453607),f=a.i(597635),g=a.i(300298),h=a.i(319895),i=a.i(273819),j=a.i(891079),k=a.i(198803),l=a.i(97997),m=a.i(253520),n=a.i(700760);let o={"application/pdf":h.FileText,"image/jpeg":i.Image,"image/png":i.Image,"image/gif":i.Image,"image/webp":i.Image,"text/plain":h.FileText,"application/msword":h.FileText,"application/vnd.openxmlformats-officedocument.wordprocessingml.document":h.FileText},p=["application/pdf","image/jpeg","image/png","image/gif","image/webp","text/plain","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"];function q({files:a,onFilesChange:h,onUpload:i,disabled:q=!1,maxFiles:r=10}){let[s,t]=(0,c.useState)(!1),u=(0,c.useRef)(null),v=(0,c.useCallback)(async b=>{if(!b||q)return;let c=[],d=[];for(let e of Array.from(b)){if(a.length+c.length>=r){d.push(`Maximum ${r} files allowed`);break}if(!p.includes(e.type)){d.push(`${e.name}: File type not allowed`);continue}if(e.size>0x3200000){d.push(`${e.name}: File too large (max 50MB)`);continue}c.push(e)}for(let b of c){let c=`temp-${Date.now()}-${Math.random().toString(36).slice(2)}`;h([...a,{id:c,name:b.name,size:b.size,type:b.type,url:"",status:"uploading",progress:0}]);try{let a=setInterval(()=>{h(a=>a.map(a=>a.id===c&&a.progress<90?{...a,progress:a.progress+10}:a))},200),d=await i(b);clearInterval(a),d?h(a=>a.map(a=>a.id===c?{...a,id:d.id,url:d.url,status:"success",progress:100}:a)):h(a=>a.map(a=>a.id===c?{...a,status:"error",error:"Upload failed"}:a))}catch(a){h(b=>b.map(b=>b.id===c?{...b,status:"error",error:a instanceof Error?a.message:"Upload failed"}:b))}}},[a,h,i,q,r]),w=(0,c.useCallback)(a=>{a.preventDefault(),t(!1),v(a.dataTransfer.files)},[v]),x=(0,c.useCallback)(a=>{a.preventDefault(),t(!0)},[]),y=(0,c.useCallback)(a=>{a.preventDefault(),t(!1)},[]),z=(0,c.useCallback)(b=>{h(a.filter(a=>a.id!==b))},[a,h]);return(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:(0,n.cn)("relative border-2 border-dashed rounded-lg p-6 transition-colors cursor-pointer",s?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-primary/50",q&&"opacity-50 cursor-not-allowed"),onDrop:w,onDragOver:x,onDragLeave:y,onClick:()=>!q&&u.current?.click(),children:[(0,b.jsx)("input",{ref:u,type:"file",multiple:!0,accept:p.join(","),className:"hidden",onChange:a=>v(a.target.files),disabled:q}),(0,b.jsxs)("div",{className:"flex flex-col items-center gap-2 text-center",children:[(0,b.jsx)("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center",children:(0,b.jsx)(f.Upload,{className:"h-6 w-6 text-muted-foreground"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-sm",children:"Drop files here or click to upload"}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["PDF, images, Word, Excel up to 50MB (",a.length,"/",r," files)"]})]})]})]}),a.length>0&&(0,b.jsx)("div",{className:"space-y-2",children:a.map(a=>{var c;let f=o[a.type]||j.File;return(0,b.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50 group",children:[(0,b.jsx)("div",{className:"h-10 w-10 rounded-lg bg-background flex items-center justify-center shrink-0",children:(0,b.jsx)(f,{className:"h-5 w-5 text-muted-foreground"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("p",{className:"text-sm font-medium truncate",children:a.name}),"uploading"===a.status&&(0,b.jsx)(k.Loader2,{className:"h-3 w-3 animate-spin text-muted-foreground"}),"success"===a.status&&(0,b.jsx)(m.CheckCircle,{className:"h-3 w-3 text-green-500"}),"error"===a.status&&(0,b.jsx)(l.AlertCircle,{className:"h-3 w-3 text-destructive"})]}),"uploading"===a.status?(0,b.jsx)(e.Progress,{value:a.progress,className:"h-1 mt-1"}):"error"===a.status?(0,b.jsx)("p",{className:"text-xs text-destructive",children:a.error}):(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:(c=a.size)<1024?`${c} B`:c<1048576?`${(c/1024).toFixed(1)} KB`:`${(c/1048576).toFixed(1)} MB`})]}),(0,b.jsx)(d.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity shrink-0",onClick:b=>{b.stopPropagation(),z(a.id)},children:(0,b.jsx)(g.X,{className:"h-4 w-4"})})]},a.id)})})]})}a.s(["PinBoardFileUpload",()=>q])},541696,a=>{"use strict";var b=a.i(861467),c=a.i(783281);a.i(445255);var d=a.i(18170);a.i(19256);var e=a.i(417132);a.i(839984);var f=a.i(372712);a.i(458393);var g=a.i(82012);a.i(897346);var h=a.i(75892);a.i(40744);var i=a.i(419573);a.i(650756);var j=a.i(560450);a.i(531982);var k=a.i(421983),l=a.i(198803),m=a.i(560311),n=a.i(319895),o=a.i(21220),p=a.i(169021),q=(0,p.createServerReference)("40dc77b5f9ca3202fa201ef81720e3cbace41ac8bc",p.callServer,void 0,p.findSourceMapURL,"createPinBoardPost"),r=(0,p.createServerReference)("60d423f9bdf26d134c4870cbc58040a267b22ce261",p.callServer,void 0,p.findSourceMapURL,"updatePinBoardPost"),s=(0,p.createServerReference)("40dde340a1ab28fdc9de8160ea41491ef22c26d9c8",p.callServer,void 0,p.findSourceMapURL,"uploadPinBoardFile"),t=(0,p.createServerReference)("6029f52d809220cbbca9b0eaa5cdbe24cbbc04f0bd",p.callServer,void 0,p.findSourceMapURL,"addPinBoardAttachment"),u=a.i(206302);function v({open:a,onOpenChange:p,post:v,categories:w}){let[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)(null),[B,C]=(0,c.useState)("content"),[D,E]=(0,c.useState)(""),[F,G]=(0,c.useState)(""),[H,I]=(0,c.useState)(null),[J,K]=(0,c.useState)(!1),[L,M]=(0,c.useState)(!0),[N,O]=(0,c.useState)([]),[P,Q]=(0,c.useState)([]);(0,c.useEffect)(()=>{a&&(v?(E(v.title),G(v.content||""),I(v.category_id),K(v.is_pinned),M(v.is_published),v.attachments&&v.attachments.length>0?O(v.attachments.map(a=>({id:a.id,name:a.file_name,size:a.file_size||0,type:a.file_type||"application/octet-stream",url:a.file_url,status:"success",progress:100}))):O([])):(E(""),G(""),I(null),K(!1),M(!0),O([])),Q([]),A(null),C("content"))},[a,v]);let R=(0,c.useCallback)(async a=>{let b=new FormData;b.append("file",a),v?.id&&b.append("postId",v.id);let c=await s(b);if(c.success&&c.data)return{url:c.data.url,id:c.data.id};throw Error(c.error||"Upload failed")},[v?.id]),S=async a=>{a.preventDefault(),A(null),y(!0);try{let a,b={title:D,content:F,categoryId:H,isPinned:J,isPublished:L,priority:0},c=v?.id;if(v?a=await r(v.id,b):(a=await q(b)).success&&a.data&&(c=a.data.id),!a.success)return void A(a.error||"Failed to save post");if(!v&&c)for(let a of N.filter(a=>"success"===a.status))a.url&&!a.id.startsWith("temp-")||a.url&&await t(c,{fileName:a.name,fileType:a.type,fileSize:a.size,fileUrl:a.url});p(!1)}catch(a){A(a instanceof Error?a.message:"An error occurred")}finally{y(!1)}},T=N.filter(a=>"success"===a.status).length;return(0,b.jsx)(e.Dialog,{open:a,onOpenChange:p,children:(0,b.jsxs)(e.DialogContent,{className:"max-w-2xl max-h-[85vh] overflow-hidden flex flex-col",children:[(0,b.jsx)(e.DialogHeader,{children:(0,b.jsx)(e.DialogTitle,{children:v?"Edit Post":"Create New Post"})}),(0,b.jsxs)("form",{onSubmit:S,className:"flex flex-col flex-1 overflow-hidden",children:[z&&(0,b.jsx)("div",{className:"p-3 text-sm text-destructive bg-destructive/10 rounded-lg mb-4",children:z}),(0,b.jsxs)(k.Tabs,{value:B,onValueChange:C,className:"flex-1 flex flex-col overflow-hidden",children:[(0,b.jsxs)(k.TabsList,{className:"grid w-full grid-cols-2",children:[(0,b.jsxs)(k.TabsTrigger,{value:"content",className:"gap-2",children:[(0,b.jsx)(n.FileText,{className:"h-4 w-4"}),"Content"]}),(0,b.jsxs)(k.TabsTrigger,{value:"attachments",className:"gap-2",children:[(0,b.jsx)(o.Paperclip,{className:"h-4 w-4"}),"Attachments",T>0&&(0,b.jsx)("span",{className:"ml-1 text-xs bg-primary/20 px-1.5 py-0.5 rounded-full",children:T})]})]}),(0,b.jsxs)(k.TabsContent,{value:"content",className:"flex-1 overflow-y-auto space-y-4 mt-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"title",children:"Title *"}),(0,b.jsx)(f.Input,{id:"title",value:D,onChange:a=>E(a.target.value),placeholder:"Enter post title...",required:!0})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"category",children:"Category"}),(0,b.jsxs)(i.Select,{value:H||"none",onValueChange:a=>I("none"===a?null:a),children:[(0,b.jsx)(i.SelectTrigger,{children:(0,b.jsx)(i.SelectValue,{placeholder:"Select a category"})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"none",children:"No Category"}),w.map(a=>(0,b.jsx)(i.SelectItem,{value:a.id,children:a.name},a.id))]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"content",children:"Content"}),(0,b.jsx)(h.Textarea,{id:"content",value:F,onChange:a=>G(a.target.value),placeholder:"Write your content here... (Supports basic HTML)",className:"min-h-[200px] font-mono text-sm"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:'Tip: Use basic HTML like <b>, <i>, <ul>, <li>, <a href="..."> for formatting.'})]}),(0,b.jsxs)("div",{className:"flex items-center gap-6 pt-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(j.Switch,{id:"pinned",checked:J,onCheckedChange:K}),(0,b.jsxs)(g.Label,{htmlFor:"pinned",className:"flex items-center gap-1.5 cursor-pointer",children:[(0,b.jsx)(m.Pin,{className:"h-3.5 w-3.5"}),"Pin to top"]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(j.Switch,{id:"published",checked:L,onCheckedChange:M}),(0,b.jsx)(g.Label,{htmlFor:"published",className:"cursor-pointer",children:"Published"})]})]})]}),(0,b.jsx)(k.TabsContent,{value:"attachments",className:"flex-1 overflow-y-auto mt-4",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-medium mb-1",children:"Upload Files"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Add PDFs, images, Word documents, or spreadsheets to this post. Files will be viewable and downloadable by all team members."})]}),(0,b.jsx)(u.PinBoardFileUpload,{files:N,onFilesChange:O,onUpload:R,disabled:x})]})})]}),(0,b.jsxs)(e.DialogFooter,{className:"mt-4 pt-4 border-t",children:[(0,b.jsx)(d.Button,{type:"button",variant:"outline",onClick:()=>p(!1),disabled:x,children:"Cancel"}),(0,b.jsxs)(d.Button,{type:"submit",disabled:x||!D.trim(),children:[x&&(0,b.jsx)(l.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),v?"Update Post":"Create Post"]})]})]})]})})}a.s(["PinBoardEditorDialog",()=>v],541696)},281520,a=>{"use strict";var b=a.i(861467),c=a.i(783281);a.i(288007);var d=a.i(986990);a.i(445255);var e=a.i(18170);a.i(839984);var f=a.i(372712),g=a.i(560311),h=a.i(638727),i=a.i(50900),j=a.i(319895),k=a.i(101482),l=a.i(48199),m=a.i(200063),n=a.i(60095),o=a.i(869662),p=a.i(300298),q=a.i(576462),r=a.i(541696);let s={"file-text":j.FileText,users:k.Users,briefcase:l.Briefcase,megaphone:m.Megaphone,"graduation-cap":n.GraduationCap,folder:o.Folder},t={blue:"bg-blue-500/10 text-blue-500 hover:bg-blue-500/20 border-blue-500/20",green:"bg-green-500/10 text-green-500 hover:bg-green-500/20 border-green-500/20",purple:"bg-purple-500/10 text-purple-500 hover:bg-purple-500/20 border-purple-500/20",orange:"bg-orange-500/10 text-orange-500 hover:bg-orange-500/20 border-orange-500/20",cyan:"bg-cyan-500/10 text-cyan-500 hover:bg-cyan-500/20 border-cyan-500/20",red:"bg-red-500/10 text-red-500 hover:bg-red-500/20 border-red-500/20",yellow:"bg-yellow-500/10 text-yellow-600 hover:bg-yellow-500/20 border-yellow-500/20"};function u({categories:a,posts:k,categoryStats:l,companyId:m}){let[n,u]=(0,c.useState)(null),[v,w]=(0,c.useState)(""),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)(null),B=(0,c.useMemo)(()=>{let a=k;if(n&&(a=a.filter(a=>a.category?.slug===n)),v.trim()){let b=v.toLowerCase();a=a.filter(a=>a.title.toLowerCase().includes(b)||a.excerpt?.toLowerCase().includes(b)||a.content?.toLowerCase().includes(b))}return a},[k,n,v]),C=B.filter(a=>a.is_pinned),D=B.filter(a=>!a.is_pinned),E=()=>{A(null),y(!0)},F=a=>{A(a),y(!0)};return(0,b.jsxs)("div",{className:"bg-card/50 border-border/50 backdrop-blur-sm rounded-xl border overflow-hidden",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-border/50",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"h-10 w-10 rounded-lg bg-primary/10 flex items-center justify-center",children:(0,b.jsx)(g.Pin,{className:"h-5 w-5 text-primary"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold",children:"Content Portal"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"SOPs, resources, and company announcements"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(i.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(f.Input,{placeholder:"Search posts...",value:v,onChange:a=>w(a.target.value),className:"pl-9 w-64"}),v&&(0,b.jsx)(e.Button,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-6 w-6",onClick:()=>w(""),children:(0,b.jsx)(p.X,{className:"h-3 w-3"})})]}),(0,b.jsxs)(e.Button,{onClick:E,size:"sm",children:[(0,b.jsx)(h.Plus,{className:"h-4 w-4 mr-1"}),"New Post"]})]})]}),(0,b.jsx)("div",{className:"mt-4 -mx-2 px-2 overflow-x-auto",children:(0,b.jsxs)("div",{className:"flex items-center gap-2 pb-2",children:[(0,b.jsxs)(e.Button,{variant:null===n?"default":"outline",size:"sm",onClick:()=>u(null),className:"shrink-0",children:["All",(0,b.jsx)(d.Badge,{variant:"secondary",className:"ml-2 h-5 px-1.5 text-[10px]",children:l.all||0})]}),a.map(a=>{let c=s[a.icon]||o.Folder,f=t[a.color]||t.blue,g=l[a.id]||0;return(0,b.jsxs)(e.Button,{variant:n===a.slug?"default":"outline",size:"sm",onClick:()=>u(a.slug),className:"shrink-0",children:[(0,b.jsx)(c,{className:"h-3.5 w-3.5 mr-1.5"}),a.name,g>0&&(0,b.jsx)(d.Badge,{variant:"secondary",className:`ml-2 h-5 px-1.5 text-[10px] ${n===a.slug?"":f}`,children:g})]},a.id)})]})})]}),(0,b.jsx)("div",{className:"p-6",children:0===B.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)("div",{className:"h-12 w-12 rounded-full bg-muted/50 flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(j.FileText,{className:"h-6 w-6 text-muted-foreground"})}),(0,b.jsx)("h3",{className:"font-medium text-muted-foreground mb-1",children:v?"No results found":"No posts yet"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:v?"Try adjusting your search terms":"Create your first post to share with your team"}),!v&&(0,b.jsxs)(e.Button,{onClick:E,className:"mt-4",size:"sm",children:[(0,b.jsx)(h.Plus,{className:"h-4 w-4 mr-1"}),"Create First Post"]})]}):(0,b.jsxs)("div",{className:"space-y-6",children:[C.length>0&&(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[(0,b.jsx)(g.Pin,{className:"h-3.5 w-3.5"}),"Pinned"]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:C.map(a=>(0,b.jsx)(q.PinBoardPostCard,{post:a,onEdit:()=>F(a)},a.id))})]}),D.length>0&&(0,b.jsxs)("div",{className:"space-y-3",children:[C.length>0&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[(0,b.jsx)(j.FileText,{className:"h-3.5 w-3.5"}),"Recent"]}),(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:D.map(a=>(0,b.jsx)(q.PinBoardPostCard,{post:a,onEdit:()=>F(a)},a.id))})]})]})}),(0,b.jsx)(r.PinBoardEditorDialog,{open:x,onOpenChange:y,post:z,categories:a})]})}a.s(["PinBoardContent",()=>u])}];

//# sourceMappingURL=_33247231._.js.map