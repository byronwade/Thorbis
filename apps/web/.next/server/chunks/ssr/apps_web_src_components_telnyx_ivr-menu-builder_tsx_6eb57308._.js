module.exports=[810795,a=>{"use strict";var b=a.i(861467),c=a.i(90083),d=a.i(624126),e=a.i(525756),f=a.i(128952),g=a.i(898062),h=a.i(334838),i=a.i(638727),j=a.i(232553),k=a.i(127634),l=a.i(339632),m=a.i(597635),n=a.i(101482),o=a.i(350291),p=a.i(783281);a.i(288007);var q=a.i(986990);a.i(445255);var r=a.i(18170);a.i(380934);var s=a.i(347421);a.i(19256);var t=a.i(417132);a.i(839984);var u=a.i(372712);a.i(458393);var v=a.i(82012);a.i(40744);var w=a.i(419573),x=a.i(382281);a.i(897346);var y=a.i(75892),z=a.i(700760);let A=[{value:"female-1",label:"Female - Professional"},{value:"male-1",label:"Male - Professional"},{value:"female-2",label:"Female - Friendly"},{value:"male-2",label:"Male - Friendly"}],B={id:"root",type:"greeting",name:"Main Menu",description:"Primary IVR menu",greeting:{type:"text-to-speech",content:"Thank you for calling. Please listen to the following options.",voice:"female-1"},keypressOptions:[{key:"1",label:"Sales",action:"transfer",destination:"",description:"Route to sales team"},{key:"2",label:"Support",action:"transfer",destination:"",description:"Route to support team"},{key:"0",label:"Operator",action:"transfer",destination:"",description:"Route to operator"}],timeout:10,timeoutAction:"repeat",maxRetries:3};function C(){let[a,f]=(0,p.useState)({id:"menu-1",name:"Main IVR Menu",description:"Primary customer-facing IVR menu",rootNode:B,nodes:[B]}),[i,k]=(0,p.useState)(null),[l,m]=(0,p.useState)(!1),[n,t]=(0,p.useState)(!1),u=a=>{f(b=>({...b,nodes:b.nodes.map(b=>b.id===a.id?a:b),rootNode:b.rootNode.id===a.id?a:b.rootNode})),k(a)};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(s.Card,{children:(0,b.jsx)(s.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)(s.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(g.Phone,{className:"size-5"}),a.name]}),(0,b.jsx)(s.CardDescription,{children:a.description})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(r.Button,{onClick:()=>t(!n),size:"sm",variant:"outline",children:[(0,b.jsx)(h.Play,{className:"mr-2 size-3"}),n?"Stop Test":"Test Menu"]}),(0,b.jsxs)(r.Button,{size:"sm",children:[(0,b.jsx)(j.Save,{className:"mr-2 size-3"}),"Save Menu"]})]})]})})}),n&&(0,b.jsxs)(s.Card,{className:"border-primary bg-primary dark:border-primary dark:bg-primary/20",children:[(0,b.jsxs)(s.CardHeader,{children:[(0,b.jsx)(s.CardTitle,{className:"text-primary dark:text-primary text-base",children:"Test Mode Active"}),(0,b.jsx)(s.CardDescription,{className:"text-primary dark:text-primary",children:"Simulate calling your IVR menu. Press keys to navigate."})]}),(0,b.jsx)(s.CardContent,{children:(0,b.jsxs)("div",{className:"bg-background rounded-lg border p-4",children:[(0,b.jsxs)("div",{className:"mb-3 flex items-center gap-2",children:[(0,b.jsx)(o.Volume2,{className:"size-4"}),(0,b.jsxs)("span",{className:"text-sm",children:['"',a.rootNode.greeting?.content,'"']})]}),(0,b.jsx)("div",{className:"grid grid-cols-3 gap-2",children:a.rootNode.keypressOptions.map(a=>(0,b.jsxs)(r.Button,{size:"sm",variant:"outline",children:[a.key," - ",a.label]},a.key))})]})})]}),(0,b.jsxs)(s.Card,{children:[(0,b.jsxs)(s.CardHeader,{children:[(0,b.jsx)(s.CardTitle,{className:"text-base",children:"Menu Flow"}),(0,b.jsx)(s.CardDescription,{children:"Visual representation of your IVR menu structure"})]}),(0,b.jsx)(s.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(D,{isRoot:!0,node:a.rootNode,onEdit:()=>{k(a.rootNode),m(!0)}}),(0,b.jsxs)("div",{className:"ml-8 space-y-3 border-l-2 border-dashed pl-6",children:[a.rootNode.keypressOptions.map(a=>(0,b.jsx)("div",{className:"space-y-2",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)(q.Badge,{className:"font-mono",variant:"secondary",children:["Press ",a.key]}),(0,b.jsx)(c.ArrowRight,{className:"text-muted-foreground size-4"}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("div",{className:"font-medium",children:a.label}),(0,b.jsxs)("div",{className:"text-muted-foreground text-sm",children:[F(a.action),a.destination&&` â†’ ${a.destination}`]})]}),(0,b.jsx)(r.Button,{onClick:()=>{},size:"sm",variant:"ghost",children:(0,b.jsx)(e.Edit,{className:"size-3"})})]})},a.key)),a.rootNode.timeout&&(0,b.jsxs)("div",{className:"flex items-center gap-3 opacity-60",children:[(0,b.jsxs)(q.Badge,{className:"gap-1",variant:"outline",children:[(0,b.jsx)(d.Clock,{className:"size-3"}),a.rootNode.timeout,"s timeout"]}),(0,b.jsx)(c.ArrowRight,{className:"text-muted-foreground size-4"}),(0,b.jsx)("div",{className:"text-muted-foreground text-sm",children:F(a.rootNode.timeoutAction||"repeat")})]})]})]})})]}),(0,b.jsxs)("div",{className:"grid gap-4 sm:grid-cols-3",children:[(0,b.jsx)(s.Card,{children:(0,b.jsxs)(s.CardContent,{className:"pt-6",children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:a.rootNode.keypressOptions.length}),(0,b.jsx)("div",{className:"text-muted-foreground text-sm",children:"Menu Options"})]})}),(0,b.jsx)(s.Card,{children:(0,b.jsxs)(s.CardContent,{className:"pt-6",children:[(0,b.jsxs)("div",{className:"text-2xl font-bold",children:[a.rootNode.timeout,"s"]}),(0,b.jsx)("div",{className:"text-muted-foreground text-sm",children:"Timeout"})]})}),(0,b.jsx)(s.Card,{children:(0,b.jsxs)(s.CardContent,{className:"pt-6",children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:a.rootNode.maxRetries}),(0,b.jsx)("div",{className:"text-muted-foreground text-sm",children:"Max Retries"})]})})]}),i&&(0,b.jsx)(E,{node:i,onAddKeypress:()=>{let a;u({...i,keypressOptions:[...i.keypressOptions,{key:(a=new Set(i.keypressOptions.map(a=>a.key)),["1","2","3","4","5","6","7","8","9","0","*","#"].find(b=>!a.has(b))||"1"),label:"New Option",action:"transfer",destination:""}]})},onOpenChange:m,onRemoveKeypress:a=>{u({...i,keypressOptions:i.keypressOptions.filter(b=>b.key!==a)})},onUpdate:u,open:l})]})}function D({node:a,isRoot:c,onEdit:d}){return(0,b.jsxs)(s.Card,{className:(0,z.cn)(c&&"border-primary"),children:[(0,b.jsx)(s.CardHeader,{className:"pb-3",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"bg-muted rounded-lg border p-2",children:(()=>{switch(a.type){case"greeting":return(0,b.jsx)(o.Volume2,{className:"size-4"});case"menu":return(0,b.jsx)(g.Phone,{className:"size-4"});case"route":return(0,b.jsx)(n.Users,{className:"size-4"});case"voicemail":return(0,b.jsx)(f.MessageSquare,{className:"size-4"});default:return(0,b.jsx)(k.Settings,{className:"size-4"})}})()}),(0,b.jsxs)("div",{children:[(0,b.jsx)(s.CardTitle,{className:"text-base",children:a.name}),a.description&&(0,b.jsx)(s.CardDescription,{className:"text-xs",children:a.description})]})]}),(0,b.jsx)(r.Button,{onClick:d,size:"icon",variant:"ghost",children:(0,b.jsx)(e.Edit,{className:"size-4"})})]})}),(0,b.jsx)(s.CardContent,{children:a.greeting&&(0,b.jsxs)("div",{className:"bg-muted/50 rounded-lg p-3 text-sm",children:[(0,b.jsxs)("div",{className:"text-muted-foreground mb-1 flex items-center gap-2 text-xs",children:[(0,b.jsx)(o.Volume2,{className:"size-3"}),"text-to-speech"===a.greeting.type?"Text-to-Speech":"Audio File"]}),(0,b.jsx)("div",{className:"line-clamp-2",children:a.greeting.content})]})})]})}function E({node:a,open:c,onOpenChange:d,onUpdate:e,onAddKeypress:f,onRemoveKeypress:g}){let[h,j]=(0,p.useState)(a);return(0,b.jsx)(t.Dialog,{onOpenChange:d,open:c,children:(0,b.jsxs)(t.DialogContent,{className:"max-h-[90vh] max-w-2xl overflow-y-auto",children:[(0,b.jsxs)(t.DialogHeader,{children:[(0,b.jsxs)(t.DialogTitle,{children:["Edit IVR Node: ",a.name]}),(0,b.jsx)(t.DialogDescription,{children:"Configure the greeting, options, and behavior for this menu node"})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(x.StandardFormField,{label:"Node Name",htmlFor:"node-name",children:(0,b.jsx)(u.Input,{id:"node-name",onChange:a=>j({...h,name:a.target.value}),value:h.name})}),(0,b.jsx)(x.StandardFormField,{label:"Description (Optional)",htmlFor:"node-description",children:(0,b.jsx)(u.Input,{id:"node-description",onChange:a=>j({...h,description:a.target.value}),value:h.description||""})})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(v.Label,{children:"Greeting"}),(0,b.jsxs)(w.Select,{onValueChange:a=>j({...h,greeting:{...h.greeting,type:a}}),value:h.greeting?.type,children:[(0,b.jsx)(w.SelectTrigger,{children:(0,b.jsx)(w.SelectValue,{})}),(0,b.jsxs)(w.SelectContent,{children:[(0,b.jsx)(w.SelectItem,{value:"text-to-speech",children:"Text-to-Speech"}),(0,b.jsx)(w.SelectItem,{value:"audio-file",children:"Upload Audio File"})]})]}),h.greeting?.type==="text-to-speech"?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(y.Textarea,{onChange:a=>j({...h,greeting:{...h.greeting,content:a.target.value}}),placeholder:"Enter the greeting text...",rows:3,value:h.greeting.content}),(0,b.jsxs)(w.Select,{onValueChange:a=>j({...h,greeting:{...h.greeting,voice:a}}),value:h.greeting.voice,children:[(0,b.jsx)(w.SelectTrigger,{children:(0,b.jsx)(w.SelectValue,{placeholder:"Select voice"})}),(0,b.jsx)(w.SelectContent,{children:A.map(a=>(0,b.jsx)(w.SelectItem,{value:a.value,children:a.label},a.value))})]})]}):(0,b.jsxs)(r.Button,{className:"w-full",variant:"outline",children:[(0,b.jsx)(m.Upload,{className:"mr-2 size-4"}),"Upload Audio File (MP3, WAV)"]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(v.Label,{children:"Keypress Options"}),(0,b.jsxs)(r.Button,{onClick:f,size:"sm",variant:"outline",children:[(0,b.jsx)(i.Plus,{className:"mr-2 size-3"}),"Add Option"]})]}),(0,b.jsx)("div",{className:"space-y-3",children:h.keypressOptions.map((a,c)=>(0,b.jsx)(s.Card,{children:(0,b.jsx)(s.CardContent,{className:"pt-4",children:(0,b.jsxs)("div",{className:"grid gap-3",children:[(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(v.Label,{children:"Key"}),(0,b.jsxs)(w.Select,{onValueChange:b=>{let d=[...h.keypressOptions];d[c]={...a,key:b},j({...h,keypressOptions:d})},value:a.key,children:[(0,b.jsx)(w.SelectTrigger,{children:(0,b.jsx)(w.SelectValue,{})}),(0,b.jsx)(w.SelectContent,{children:["0","1","2","3","4","5","6","7","8","9","*","#"].map(a=>(0,b.jsx)(w.SelectItem,{value:a,children:a},a))})]})]}),(0,b.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,b.jsx)(v.Label,{children:"Label"}),(0,b.jsx)(u.Input,{onChange:b=>{let d=[...h.keypressOptions];d[c]={...a,label:b.target.value},j({...h,keypressOptions:d})},value:a.label})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(v.Label,{children:"Action"}),(0,b.jsxs)(w.Select,{onValueChange:b=>{let d=[...h.keypressOptions];d[c]={...a,action:b},j({...h,keypressOptions:d})},value:a.action,children:[(0,b.jsx)(w.SelectTrigger,{children:(0,b.jsx)(w.SelectValue,{})}),(0,b.jsxs)(w.SelectContent,{children:[(0,b.jsx)(w.SelectItem,{value:"transfer",children:"Transfer to Number"}),(0,b.jsx)(w.SelectItem,{value:"voicemail",children:"Send to Voicemail"}),(0,b.jsx)(w.SelectItem,{value:"submenu",children:"Go to Submenu"}),(0,b.jsx)(w.SelectItem,{value:"repeat",children:"Repeat Menu"}),(0,b.jsx)(w.SelectItem,{value:"hangup",children:"Hang Up"})]})]})]}),("transfer"===a.action||"submenu"===a.action)&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(v.Label,{children:"transfer"===a.action?"Phone Number":"Submenu"}),(0,b.jsx)(u.Input,{onChange:b=>{let d=[...h.keypressOptions];d[c]={...a,destination:b.target.value},j({...h,keypressOptions:d})},placeholder:"transfer"===a.action?"+1 (555) 123-4567":"Select submenu",value:a.destination||""})]})]}),(0,b.jsx)("div",{className:"flex justify-end",children:(0,b.jsxs)(r.Button,{onClick:()=>g(a.key),size:"sm",variant:"ghost",children:[(0,b.jsx)(l.Trash2,{className:"mr-2 size-3"}),"Remove"]})})]})})},a.key))})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(v.Label,{children:"Advanced Settings"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)(x.StandardFormField,{label:"Timeout (seconds)",htmlFor:"timeout",children:(0,b.jsx)(u.Input,{id:"timeout",max:"60",min:"5",onChange:a=>j({...h,timeout:Number.parseInt(a.target.value,10)}),type:"number",value:h.timeout})}),(0,b.jsx)(x.StandardFormField,{label:"Max Retries",htmlFor:"maxRetries",children:(0,b.jsx)(u.Input,{id:"maxRetries",max:"10",min:"1",onChange:a=>j({...h,maxRetries:Number.parseInt(a.target.value,10)}),type:"number",value:h.maxRetries})})]}),(0,b.jsx)(x.StandardFormField,{label:"Timeout Action",htmlFor:"timeoutAction",children:(0,b.jsxs)(w.Select,{onValueChange:a=>j({...h,timeoutAction:a}),value:h.timeoutAction,children:[(0,b.jsx)(w.SelectTrigger,{id:"timeoutAction",children:(0,b.jsx)(w.SelectValue,{})}),(0,b.jsxs)(w.SelectContent,{children:[(0,b.jsx)(w.SelectItem,{value:"repeat",children:"Repeat Menu"}),(0,b.jsx)(w.SelectItem,{value:"voicemail",children:"Send to Voicemail"}),(0,b.jsx)(w.SelectItem,{value:"transfer",children:"Transfer to Operator"}),(0,b.jsx)(w.SelectItem,{value:"hangup",children:"Hang Up"})]})]})})]})]}),(0,b.jsxs)(t.DialogFooter,{children:[(0,b.jsx)(r.Button,{onClick:()=>d(!1),variant:"outline",children:"Cancel"}),(0,b.jsx)(r.Button,{onClick:()=>{e(h),d(!1)},children:"Save Changes"})]})]})})}function F(a){switch(a){case"transfer":return"Transfer Call";case"voicemail":return"Voicemail";case"submenu":return"Submenu";case"repeat":return"Repeat Menu";case"hangup":return"Hang Up";default:return a}}a.s(["IVRMenuBuilder",()=>C])}];

//# sourceMappingURL=apps_web_src_components_telnyx_ivr-menu-builder_tsx_6eb57308._.js.map