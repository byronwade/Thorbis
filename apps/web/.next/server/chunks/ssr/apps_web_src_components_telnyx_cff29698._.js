module.exports=[444398,a=>{"use strict";var b=a.i(861467),c=a.i(274956),d=a.i(525756),e=a.i(128952),f=a.i(383413),g=a.i(898062),h=a.i(127634),i=a.i(339632),j=a.i(597635);a.i(288007);var k=a.i(986990);a.i(445255);var l=a.i(18170);a.i(380934);var m=a.i(347421);a.i(956852);var n=a.i(90125);function o({numbers:a}){return(0,b.jsx)("div",{className:"space-y-4 p-6",children:0===a.length?(0,b.jsx)(r,{}):a.map(a=>(0,b.jsx)(p,{number:a},a.id))})}function p({number:a}){return(0,b.jsxs)(m.Card,{children:[(0,b.jsx)(m.CardHeader,{className:"pb-3",children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(m.CardTitle,{className:"text-2xl font-semibold",children:a.formattedNumber}),(0,b.jsx)(k.Badge,{variant:function(a){switch(a){case"active":return"default";case"porting":return"secondary";case"suspended":return"destructive";default:return"outline"}}(a.status),children:function(a){if(!a)return"Unknown";switch(a){case"active":return"Active";case"pending":return"Pending Setup";case"porting":return"Porting";case"suspended":case"suspended":return"Suspended";default:return a}}(a.status)}),"toll-free"===a.numberType&&(0,b.jsx)(k.Badge,{variant:"secondary",children:"Toll-Free"})]}),(0,b.jsxs)(m.CardDescription,{children:[a.routingRule??"Routing not configured"," ",a.voicemailEnabled&&"â€¢ Voicemail enabled"]}),(0,b.jsx)("div",{className:"text-muted-foreground flex flex-wrap items-center gap-2 text-xs",children:a.metadata?.ten_dlc_campaign_id?(0,b.jsx)(k.Badge,{variant:"secondary",children:"10DLC Linked"}):(0,b.jsx)(k.Badge,{variant:"outline",children:"10DLC Pending"})})]}),(0,b.jsxs)(n.DropdownMenu,{children:[(0,b.jsx)(n.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsx)(l.Button,{size:"icon",variant:"ghost",children:(0,b.jsx)(f.MoreVertical,{className:"size-4"})})}),(0,b.jsxs)(n.DropdownMenuContent,{align:"end",children:[(0,b.jsxs)(n.DropdownMenuItem,{children:[(0,b.jsx)(d.Edit,{className:"mr-2 size-4"}),"Configure Routing"]}),(0,b.jsxs)(n.DropdownMenuItem,{children:[(0,b.jsx)(h.Settings,{className:"mr-2 size-4"}),"Settings"]}),(0,b.jsx)(n.DropdownMenuSeparator,{}),(0,b.jsxs)(n.DropdownMenuItem,{className:"text-destructive",children:[(0,b.jsx)(i.Trash2,{className:"mr-2 size-4"}),"Release Number"]})]})]})]})}),(0,b.jsxs)(m.CardContent,{children:["porting"===a.status&&(0,b.jsx)("div",{className:"border-primary bg-primary dark:border-primary dark:bg-primary/20 mb-4 rounded-lg border p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"text-primary dark:text-primary font-medium",children:["Porting ",a.portingStatus]}),(0,b.jsxs)("div",{className:"text-primary dark:text-primary text-sm",children:["Estimated completion: ",a.portingEta]})]}),(0,b.jsx)(l.Button,{size:"sm",variant:"outline",children:"View Status"})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 sm:grid-cols-4",children:[(0,b.jsx)(q,{color:"text-success dark:text-success",icon:g.Phone,label:"Incoming Calls",value:a.incomingCallsCount.toLocaleString()}),(0,b.jsx)(q,{color:"text-primary dark:text-primary",icon:g.Phone,label:"Outgoing Calls",value:a.outgoingCallsCount.toLocaleString()}),(0,b.jsx)(q,{color:"text-accent-foreground dark:text-accent-foreground",icon:e.MessageSquare,label:"SMS Sent",value:a.smsSentCount.toLocaleString()}),(0,b.jsx)(q,{color:"text-warning dark:text-warning",icon:c.DollarSign,label:"Monthly Cost",value:`$${(a.monthlyCost??0).toFixed(2)}`})]}),(0,b.jsx)("div",{className:"mt-4 flex flex-wrap gap-2",children:a.features.map(a=>(0,b.jsx)(k.Badge,{className:"capitalize",variant:"outline",children:a},a))})]})]})}function q({icon:a,label:c,value:d,color:e}){return(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,b.jsxs)("div",{className:"text-muted-foreground flex items-center gap-2 text-sm",children:[(0,b.jsx)(a,{className:`size-4 ${e}`}),c]}),(0,b.jsx)("div",{className:"text-xl font-semibold",children:d})]})}function r(){return(0,b.jsx)(m.Card,{children:(0,b.jsxs)(m.CardContent,{className:"flex flex-col items-center justify-center py-12",children:[(0,b.jsx)(g.Phone,{className:"text-muted-foreground mb-4 size-12"}),(0,b.jsx)("h3",{className:"mb-2 text-lg font-semibold",children:"No phone numbers yet"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-6 text-center text-sm",children:"Get started by purchasing a new number or porting an existing one"}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)(l.Button,{variant:"outline",children:[(0,b.jsx)(j.Upload,{className:"mr-2 size-4"}),"Port Number"]}),(0,b.jsxs)(l.Button,{children:[(0,b.jsx)(g.Phone,{className:"mr-2 size-4"}),"Purchase Number"]})]})]})})}a.s(["PhoneNumbersList",()=>o])},6625,a=>{"use strict";var b=a.i(861467),c=a.i(624126),d=a.i(349669),e=a.i(898062),f=a.i(50900),g=a.i(597635),h=a.i(145679),i=a.i(783281);a.i(445255);var j=a.i(18170);a.i(839984);var k=a.i(372712);a.i(40744);var l=a.i(419573),m=a.i(198803),n=a.i(226559);a.i(19256);var o=a.i(417132);let p=(0,n.default)(async()=>{},{loadableGenerated:{modules:[252368]},loading:()=>(0,b.jsx)(o.Dialog,{open:!0,children:(0,b.jsx)(o.DialogContent,{children:(0,b.jsxs)(o.DialogHeader,{children:[(0,b.jsx)(o.DialogTitle,{children:"Loading Port Number Wizard..."}),(0,b.jsx)(o.DialogDescription,{children:(0,b.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,b.jsx)(m.Loader2,{className:"text-muted-foreground size-8 animate-spin"})})})]})})}),ssr:!1});function q({open:a,onOpenChange:c,onSuccess:d}){return a?(0,b.jsx)(p,{open:a,onOpenChange:c,onSuccess:d}):null}var r=a.i(638446),s=a.i(274956),t=a.i(337241),u=a.i(296136),v=a.i(784194);a.i(288007);var w=a.i(986990);a.i(21368);var x=a.i(341903);a.i(458393);var y=a.i(82012),z=a.i(382281);function A({open:a,onOpenChange:c,onSuccess:d,companyId:g}){let h=(0,t.useRouter)(),[n,p]=(0,i.useState)("831"),[q,A]=(0,i.useState)("local"),[B,C]=(0,i.useState)(!0),[D,E]=(0,i.useState)(!0),[F,G]=(0,i.useState)(!1),[H,I]=(0,i.useState)(null),[J,K]=(0,i.useState)([]),L=async()=>{G(!0);let a=[];B&&a.push("voice"),D&&(a.push("sms"),a.push("mms"));let{data:b}=await (0,v.searchPhoneNumbers)({areaCode:n||void 0,numberType:q,features:a,limit:10});K(b||[]),G(!1)},M=async a=>{I(a),await (0,u.purchasePhoneNumber)({phoneNumber:a,companyId:g}),I(null),d?d(a):(c(!1),h.refresh())};return(0,b.jsx)(o.Dialog,{onOpenChange:c,open:a,children:(0,b.jsxs)(o.DialogContent,{className:"max-w-2xl",children:[(0,b.jsxs)(o.DialogHeader,{children:[(0,b.jsx)(o.DialogTitle,{children:"Search Phone Numbers"}),(0,b.jsx)(o.DialogDescription,{children:"Find and purchase a new phone number for your business"})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(z.StandardFormRow,{cols:2,children:[(0,b.jsx)(z.StandardFormField,{label:"Area Code",htmlFor:"areaCode",description:"Leave empty to search all area codes",children:(0,b.jsx)(k.Input,{id:"areaCode",maxLength:3,onChange:a=>p(a.target.value),placeholder:"e.g., 831, 650, 415",value:n})}),(0,b.jsx)(z.StandardFormField,{label:"Number Type",htmlFor:"numberType",children:(0,b.jsxs)(l.Select,{onValueChange:a=>A(a),value:q,children:[(0,b.jsx)(l.SelectTrigger,{id:"numberType",children:(0,b.jsx)(l.SelectValue,{})}),(0,b.jsxs)(l.SelectContent,{children:[(0,b.jsx)(l.SelectItem,{value:"local",children:(0,b.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,b.jsx)("span",{children:"Local Number"}),(0,b.jsx)("span",{className:"text-muted-foreground text-xs",children:"$1/month"})]})}),(0,b.jsx)(l.SelectItem,{value:"toll-free",children:(0,b.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,b.jsx)("span",{children:"Toll-Free (800/888/877/866/855)"}),(0,b.jsx)("span",{className:"text-muted-foreground text-xs",children:"$2/month"})]})})]})]})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(y.Label,{children:"Required Features"}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(x.Checkbox,{checked:B,id:"voice",onCheckedChange:a=>C(!!a)}),(0,b.jsx)("label",{className:"text-sm leading-none font-medium peer-disabled:cursor-not-allowed peer-disabled:opacity-70",htmlFor:"voice",children:"Voice Calling"})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(x.Checkbox,{checked:D,id:"sms",onCheckedChange:a=>E(!!a)}),(0,b.jsx)("label",{className:"text-sm leading-none font-medium peer-disabled:cursor-not-allowed peer-disabled:opacity-70",htmlFor:"sms",children:"SMS/MMS Messaging"})]})]})]}),(0,b.jsx)(j.Button,{className:"w-full",disabled:F,onClick:L,size:"lg",children:F?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.Loader2,{className:"mr-2 size-4 animate-spin"}),"Searching..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.Search,{className:"mr-2 size-4"}),"Search Available Numbers"]})}),J.length>0&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)(y.Label,{children:["Available Numbers (",J.length,")"]}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:"Click to purchase instantly"})]}),(0,b.jsx)("div",{className:"max-h-[400px] space-y-2 overflow-y-auto rounded-lg border p-2",children:J.map(a=>{var c;let d;return(0,b.jsxs)("div",{className:"bg-card hover:bg-accent flex items-center justify-between rounded-md border p-3 transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(e.Phone,{className:"text-muted-foreground size-4"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:(d=(c=a.phone_number).replace(/\D/g,"").match(/^1?(\d{3})(\d{3})(\d{4})$/))?`(${d[1]}) ${d[2]}-${d[3]}`:c}),(0,b.jsx)("div",{className:"flex flex-wrap gap-1.5",children:a.features?.map(a=>{let c="string"==typeof a?a:a?.name||String(a);return(0,b.jsx)(w.Badge,{className:"text-xs",variant:"secondary",children:c.toUpperCase()},c)})})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1 text-sm font-medium",children:[(0,b.jsx)(s.DollarSign,{className:"size-3"}),"toll-free"===q?"2.00":"1.00","/mo"]}),(0,b.jsx)("div",{className:"text-muted-foreground text-xs",children:"$0 setup fee"})]}),(0,b.jsx)(j.Button,{disabled:!!H,onClick:()=>M(a.phone_number),size:"sm",children:H===a.phone_number?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.Loader2,{className:"mr-2 size-3 animate-spin"}),"Purchasing..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(r.Check,{className:"mr-2 size-3"}),"Purchase"]})})]})]},a.phone_number)})})]}),!F&&0===J.length&&n&&(0,b.jsxs)("div",{className:"rounded-lg border border-dashed p-8 text-center",children:[(0,b.jsx)(e.Phone,{className:"text-muted-foreground mx-auto mb-2 size-8"}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"No numbers found. Try a different area code or search all areas."})]})]})]})})}function B({companyId:a}){let[m,n]=(0,i.useState)(!1),[o,p]=(0,i.useState)(!1),[r,s]=(0,i.useState)("all");return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"bg-background border-b px-6 py-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex flex-1 items-center gap-3",children:[(0,b.jsxs)("div",{className:"relative w-full max-w-sm",children:[(0,b.jsx)(f.Search,{className:"text-muted-foreground absolute top-1/2 left-3 size-4 -translate-y-1/2"}),(0,b.jsx)(k.Input,{className:"pl-9",placeholder:"Search phone numbers..."})]}),(0,b.jsxs)(l.Select,{onValueChange:s,value:r,children:[(0,b.jsxs)(l.SelectTrigger,{className:"w-[180px]",children:[(0,b.jsx)(d.Filter,{className:"mr-2 size-4"}),(0,b.jsx)(l.SelectValue,{placeholder:"Filter by status"})]}),(0,b.jsxs)(l.SelectContent,{children:[(0,b.jsx)(l.SelectItem,{value:"all",children:"All Numbers"}),(0,b.jsx)(l.SelectItem,{value:"active",children:"Active"}),(0,b.jsx)(l.SelectItem,{value:"pending",children:"Pending Setup"}),(0,b.jsx)(l.SelectItem,{value:"porting",children:"Porting"}),(0,b.jsx)(l.SelectItem,{value:"suspended",children:"Suspended"})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(j.Button,{asChild:!0,size:"sm",variant:"ghost",children:(0,b.jsxs)(h.default,{href:"/dashboard/settings/communications/porting-status",children:[(0,b.jsx)(c.Clock,{className:"mr-2 size-4"}),"Porting Status"]})}),(0,b.jsxs)(j.Button,{onClick:()=>p(!0),variant:"outline",children:[(0,b.jsx)(g.Upload,{className:"mr-2 size-4"}),"Port Number"]}),(0,b.jsxs)(j.Button,{onClick:()=>n(!0),children:[(0,b.jsx)(e.Phone,{className:"mr-2 size-4"}),"Purchase Number"]})]})]}),(0,b.jsxs)("div",{className:"text-muted-foreground mt-3 flex items-center gap-6 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-foreground font-medium",children:"3"})," active numbers"]}),(0,b.jsx)("div",{className:"bg-border h-4 w-px"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-foreground font-medium",children:"$3.00"}),"/month total cost"]}),(0,b.jsx)("div",{className:"bg-border h-4 w-px"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-foreground font-medium",children:"1,247"})," minutes this month"]}),(0,b.jsx)("div",{className:"bg-border h-4 w-px"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-foreground font-medium",children:"423"})," SMS sent"]})]})]}),(0,b.jsx)(A,{companyId:a,onOpenChange:n,open:m}),(0,b.jsx)(q,{onOpenChange:p,open:o})]})}a.s(["PhoneNumbersToolbar",()=>B],6625)}];

//# sourceMappingURL=apps_web_src_components_telnyx_cff29698._.js.map