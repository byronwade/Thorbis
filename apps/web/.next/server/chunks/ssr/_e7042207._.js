module.exports=[857463,a=>{"use strict";a.i(156120),a.s([])},861122,a=>{"use strict";let b=(0,a.i(203431).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);a.s(["default",()=>b])},90083,a=>{"use strict";var b=a.i(861122);a.s(["ArrowRight",()=>b.default])},49165,a=>{"use strict";let b=(0,a.i(203431).default)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["default",()=>b])},966183,a=>{"use strict";var b=a.i(49165);a.s(["ShieldCheck",()=>b.default])},605919,a=>{"use strict";a.i(156120),a.s([])},978878,a=>{"use strict";var b=a.i(861467),c=a.i(783281),d=a.i(789815),e=a.i(96250),f=a.i(916680),g=a.i(984270),h=a.i(198803),i=a.i(127634),j=a.i(263758),k=a.i(966183),l=a.i(90083);a.i(445255);var m=a.i(18170);a.i(380934);var n=a.i(347421);a.i(288007);var o=a.i(986990);a.i(605919);var p=a.i(229614);a.i(458393);var q=a.i(82012);a.i(146697);var r=a.i(778737);a.i(857463);var s=a.i(161367),t=a.i(700760),u=a.i(169021),v=(0,u.createServerReference)("40040627a89b021de232bf9d66f07c58011f51a739",u.callServer,void 0,u.findSourceMapURL,"updateEmailProvider"),w=a.i(156916);let x=[{id:"managed",name:"Platform Managed (Resend)",description:"Fully managed email infrastructure with automatic setup",icon:j.Building2,features:["Automatic domain setup and verification","99.9% delivery guarantee","Built-in spam protection","Team member email addresses included","Support for custom domains"],recommended:!0,setupRequired:!1},{id:"gmail",name:"Google Workspace",description:"Use your existing Google Workspace for email",icon:d.Mail,features:["Use your existing Gmail addresses","No vendor lock-in - use Gmail directly","All emails tracked in Stratos","Send via Gmail API","Automatic inbox sync"],recommended:!1,setupRequired:!0},{id:"disabled",name:"Disabled",description:"Turn off email sending capabilities",icon:k.ShieldCheck,features:["No emails will be sent from the platform","Existing emails remain accessible","Can be re-enabled at any time"],recommended:!1,setupRequired:!1}];function y({currentProvider:a,isConnected:d,companyId:j}){let[k,u]=(0,c.useState)(a),[y,z]=(0,c.useState)(!1),[A,B]=(0,c.useState)(!1),C=k!==a,D=async()=>{if(C&&"disabled"!==a&&!A)return void B(!0);z(!0);try{let a=await v({provider:k});a.success?(w.toast.success("Email provider updated successfully"),B(!1),"gmail"===k?window.location.href="/dashboard/settings/communications/email-provider/setup-gmail":window.location.reload()):w.toast.error(a.error||"Failed to update email provider")}catch(a){console.error("Error updating email provider:",a),w.toast.error("An unexpected error occurred")}finally{z(!1)}},E=x.find(a=>a.id===k);return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold tracking-tight",children:"Email Provider"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Choose how your company sends and receives emails"})]}),"disabled"!==a&&(0,b.jsxs)(n.Card,{children:[(0,b.jsx)(n.CardHeader,{children:(0,b.jsxs)(n.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(i.Settings,{className:"h-5 w-5"}),"Current Provider Status"]})}),(0,b.jsx)(n.CardContent,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:(0,t.cn)("h-12 w-12 rounded-full flex items-center justify-center",d?"bg-green-500/10 text-green-600":"bg-yellow-500/10 text-yellow-600"),children:d?(0,b.jsx)(e.CheckCircle2,{className:"h-6 w-6"}):(0,b.jsx)(f.AlertTriangle,{className:"h-6 w-6"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold",children:x.find(b=>b.id===a)?.name}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:d?"Connected and active":"Not connected - setup required"})]})]}),d?(0,b.jsxs)(o.Badge,{variant:"secondary",className:"gap-1",children:[(0,b.jsx)(e.CheckCircle2,{className:"h-3 w-3"}),"Active"]}):(0,b.jsxs)(o.Badge,{variant:"outline",className:"gap-1 border-yellow-500 text-yellow-600",children:[(0,b.jsx)(f.AlertTriangle,{className:"h-3 w-3"}),"Setup Required"]})]})})]}),(0,b.jsxs)(n.Card,{children:[(0,b.jsxs)(n.CardHeader,{children:[(0,b.jsx)(n.CardTitle,{children:"Select Email Provider"}),(0,b.jsx)(n.CardDescription,{children:"Choose the email infrastructure that works best for your business"})]}),(0,b.jsx)(n.CardContent,{children:(0,b.jsx)(p.RadioGroup,{value:k,onValueChange:a=>u(a),className:"grid gap-4",children:x.map(a=>{let c=a.icon,d=k===a.id;return(0,b.jsxs)("div",{children:[(0,b.jsx)(p.RadioGroupItem,{value:a.id,id:a.id,className:"peer sr-only"}),(0,b.jsxs)(q.Label,{htmlFor:a.id,className:(0,t.cn)("flex flex-col gap-4 p-4 rounded-lg border-2 cursor-pointer transition-all","peer-data-[state=checked]:border-primary peer-data-[state=checked]:bg-primary/5","hover:border-primary/50"),children:[(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:(0,t.cn)("h-10 w-10 rounded-lg flex items-center justify-center",d?"bg-primary/10 text-primary":"bg-muted text-muted-foreground"),children:(0,b.jsx)(c,{className:"h-5 w-5"})}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("p",{className:"font-semibold",children:a.name}),a.recommended&&(0,b.jsx)(o.Badge,{variant:"secondary",className:"text-xs",children:"Recommended"})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.description})]})]}),d&&(0,b.jsx)(e.CheckCircle2,{className:"h-5 w-5 text-primary"})]}),(0,b.jsx)(r.Separator,{}),(0,b.jsx)("ul",{className:"space-y-2",children:a.features.map((a,c)=>(0,b.jsxs)("li",{className:"flex items-start gap-2 text-sm",children:[(0,b.jsx)(e.CheckCircle2,{className:"h-4 w-4 text-green-500 shrink-0 mt-0.5"}),(0,b.jsx)("span",{children:a})]},c))}),a.setupRequired&&d&&(0,b.jsx)("div",{className:"pt-2",children:(0,b.jsxs)(o.Badge,{variant:"outline",className:"gap-1",children:[(0,b.jsx)(i.Settings,{className:"h-3 w-3"}),"Setup wizard required after saving"]})})]})]},a.id)})})})]}),A&&C&&(0,b.jsxs)(s.Alert,{variant:"destructive",children:[(0,b.jsx)(f.AlertTriangle,{className:"h-4 w-4"}),(0,b.jsx)(s.AlertTitle,{children:"Switching Email Providers"}),(0,b.jsxs)(s.AlertDescription,{className:"space-y-2",children:[(0,b.jsxs)("p",{children:["You are about to switch from"," ",(0,b.jsx)("strong",{children:x.find(b=>b.id===a)?.name})," to"," ",(0,b.jsx)("strong",{children:E?.name}),"."]}),(0,b.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-sm",children:[(0,b.jsx)("li",{children:"All existing emails will remain accessible"}),(0,b.jsx)("li",{children:"Future emails will be sent using the new provider"}),(0,b.jsx)("li",{children:"You may need to update DNS records or complete setup"}),(0,b.jsx)("li",{children:"Email sending will be disabled until setup is complete"})]}),(0,b.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,b.jsxs)(m.Button,{variant:"destructive",size:"sm",onClick:D,disabled:y,children:[y&&(0,b.jsx)(h.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),"Confirm and Switch"]}),(0,b.jsx)(m.Button,{variant:"outline",size:"sm",onClick:()=>{B(!1),u(a)},children:"Cancel"})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("div",{className:"text-sm text-muted-foreground",children:C?(0,b.jsxs)("span",{className:"flex items-center gap-2",children:[(0,b.jsx)(f.AlertTriangle,{className:"h-4 w-4 text-yellow-600"}),"You have unsaved changes"]}):(0,b.jsxs)("span",{className:"flex items-center gap-2",children:[(0,b.jsx)(e.CheckCircle2,{className:"h-4 w-4 text-green-600"}),"No changes to save"]})}),(0,b.jsxs)("div",{className:"flex gap-2",children:["gmail"===k&&"gmail"!==a&&C&&(0,b.jsx)(m.Button,{variant:"outline",size:"sm",asChild:!0,children:(0,b.jsxs)("a",{href:"/docs/email/gmail-setup",target:"_blank",rel:"noopener noreferrer",children:[(0,b.jsx)(g.ExternalLink,{className:"h-4 w-4 mr-2"}),"Setup Guide"]})}),(0,b.jsxs)(m.Button,{onClick:D,disabled:!C||y,children:[y&&(0,b.jsx)(h.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),k!==a&&E?.setupRequired?"Save and Continue to Setup":"Save Changes",k!==a&&E?.setupRequired&&(0,b.jsx)(l.ArrowRight,{className:"h-4 w-4 ml-2"})]})]})]})]})}a.s(["EmailProviderContent",()=>y],978878)}];

//# sourceMappingURL=_e7042207._.js.map