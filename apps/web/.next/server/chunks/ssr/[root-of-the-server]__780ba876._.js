module.exports=[193695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},997868,a=>{a.n(a.i(884849))},592581,a=>{a.n(a.i(596565))},134005,a=>{a.n(a.i(977930))},565165,a=>{a.n(a.i(728209))},147941,a=>{a.n(a.i(484103))},304434,a=>{a.n(a.i(632684))},407521,a=>{a.n(a.i(693094))},797797,a=>{a.n(a.i(977207))},290022,a=>{a.n(a.i(362735))},729157,a=>{a.n(a.i(470009))},543474,a=>{"use strict";var b=a.i(429969);let c=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)},d=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let f=(0,b.forwardRef)(({color:a="currentColor",size:c=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...e,width:c,height:c,stroke:a,strokeWidth:g?24*Number(f)/Number(c):f,className:d("lucide",h),...!i&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0})(k)&&{"aria-hidden":"true"},...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),g=(a,e)=>{let g=(0,b.forwardRef)(({className:g,...h},i)=>(0,b.createElement)(f,{ref:i,iconNode:e,className:d(`lucide-${c(a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${a}`,g),...h}));return g.displayName=c(a),g};a.s(["default",()=>g],543474)},174010,a=>{"use strict";a.i(730154),a.s([])},150644,a=>{"use strict";a.i(730154),a.s([])},481136,a=>{"use strict";let b=(0,a.i(543474).default)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);a.s(["Users",()=>b],481136)},862875,a=>{"use strict";let b=(0,a.i(543474).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);a.s(["DollarSign",()=>b],862875)},549121,a=>{"use strict";a.i(730154);var b=a.i(563914),c=a.i(369637),d=a.i(861107),e=a.i(726954),f=a.i(236028),g=a.i(376977),h=a.i(868553),i=a.i(36705),j=a.i(396149),k=a.i(705991),l=a.i(102193),m=a.i(293107),n=a.i(525708),o=a.i(27632),p=a.i(523762),q=a.i(777394),r=a.i(30104),s=a.i(851374),t=a.i(968073),u=a.i(925834),v=a.i(946108),w=a.i(561203),x=a.i(758289),y=a.i(919187),z=a.i(463683),A=a.i(420235),B=a.i(468335),C=a.i(571631),D=a.i(439724),E=a.i(109483),F=a.i(709027),G=a.i(643953),H=a.i(776419),I=a.i(920334),J=a.i(490199),K=a.i(38825),L=a.i(465296),M=a.i(409604),N=a.i(852495),O=a.i(475976),P=a.i(836326),Q=a.i(280558),R=a.i(533742),S=a.i(588159),T=a.i(591888),U=a.i(228811),V=a.i(950872),W=a.i(297053),X=a.i(274749),Y=a.i(90965),Z=a.i(920224),$=a.i(838239),_=a.i(892054),aa=a.i(233387),ab=a.i(438468),ac=a.i(299049),ad=a.i(359004),ae=a.i(171288);a.i(422792);var af=a.i(474235);a.s(["Alert",()=>c.Alert,"AlertDescription",()=>c.AlertDescription,"AlertTitle",()=>c.AlertTitle,"Badge",()=>f.Badge,"Breadcrumb",()=>g.Breadcrumb,"BreadcrumbItem",()=>g.BreadcrumbItem,"BreadcrumbLink",()=>g.BreadcrumbLink,"BreadcrumbList",()=>g.BreadcrumbList,"BreadcrumbPage",()=>g.BreadcrumbPage,"BreadcrumbSeparator",()=>g.BreadcrumbSeparator,"Button",()=>h.Button,"ButtonGroup",()=>i.ButtonGroup,"ButtonGroupText",()=>i.ButtonGroupText,"Card",()=>k.Card,"CardContent",()=>k.CardContent,"CardDescription",()=>k.CardDescription,"CardFooter",()=>k.CardFooter,"CardHeader",()=>k.CardHeader,"CardListSkeleton",()=>F.CardListSkeleton,"CardTitle",()=>k.CardTitle,"ChartSkeleton",()=>F.ChartSkeleton,"ComingSoonShell",()=>Q.ComingSoonShell,"DashboardSkeleton",()=>F.DashboardSkeleton,"DataTableListSkeleton",()=>F.DataTableListSkeleton,"FormSkeleton",()=>F.FormSkeleton,"GenericStatusBadge",()=>T.GenericStatusBadge,"Input",()=>u.Input,"KPICardSkeleton",()=>F.KPICardSkeleton,"PageHeaderSkeleton",()=>F.PageHeaderSkeleton,"RowActionsDropdown",()=>X.RowActionsDropdown,"Skeleton",()=>E.Skeleton,"StatsCardsSkeleton",()=>Z.StatsCardsSkeleton,"TableSkeleton",()=>F.TableSkeleton,"Textarea",()=>K.Textarea,"WorkDetailSkeleton",()=>F.WorkDetailSkeleton,"WorkflowTimeline",()=>ae.WorkflowTimeline,"buttonVariants",()=>h.buttonVariants,"cn",()=>af.cn]),a.j(b),a.j(d),a.j(e),a.j(j),a.j(l),a.j(m),a.j(n),a.j(o),a.j(p),a.j(q),a.j(r),a.j(s),a.j(t),a.j(v),a.j(w),a.j(x),a.j(y),a.j(z),a.j(A),a.j(B),a.j(C),a.j(D),a.j(G),a.j(H),a.j(I),a.j(J),a.j(L),a.j(M),a.j(N),a.j(O),a.j(P),a.j(R),a.j(S),a.j(U),a.j(V),a.j(W),a.j(Y),a.j($),a.j(_),a.j(aa),a.j(ab),a.j(ac),a.j(ad)},634792,a=>{"use strict";let b=(0,a.i(543474).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);a.s(["Star",()=>b],634792)},856222,a=>{a.n(a.i(371029))},842417,a=>{a.n(a.i(213663))},123523,a=>{"use strict";let b=(0,a.i(543474).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],123523)},460710,a=>{"use strict";let b=(0,a.i(543474).default)("trophy",[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]]);a.s(["Trophy",()=>b],460710)},584220,429007,a=>{"use strict";a.i(730154),a.s([],584220),a.i(584220);var b=a.i(549121);a.s([],429007),a.j(b,429007)},752695,a=>{"use strict";let b=(0,a.i(742210).registerClientReference)(function(){throw Error("Attempted to call ExportButton() from the server but ExportButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/apps/web/src/components/reports/export-button.tsx <module evaluation>","ExportButton");a.s(["ExportButton",0,b])},689828,a=>{"use strict";let b=(0,a.i(742210).registerClientReference)(function(){throw Error("Attempted to call ExportButton() from the server but ExportButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/apps/web/src/components/reports/export-button.tsx","ExportButton");a.s(["ExportButton",0,b])},519741,a=>{"use strict";a.i(752695);var b=a.i(689828);a.n(b)},215410,a=>{"use strict";var b=a.i(504348),c=a.i(429969),d=a.i(54214);a.i(467361);var e=a.i(445074);a.i(174010);var f=a.i(705991);a.i(150644);var g=a.i(236028);a.i(584220);var h=a.i(429007),i=a.i(460710);let j=(0,a.i(543474).default)("medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);var k=a.i(481136),l=a.i(862875),m=a.i(634792),n=a.i(123523),o=a.i(519741);function p(a){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(a)}function q(a){return`${a.toFixed(1)}%`}async function r(){let a=await (0,e.getActiveCompanyId)();if(!a)return(0,b.jsx)("div",{className:"flex min-h-[400px] items-center justify-center",children:(0,b.jsx)("p",{className:"text-muted-foreground",children:"Please select a company to view reports"})});let c=await (0,d.getTeamLeaderboard)(a,30);return 0===c.technicians.length?(0,b.jsxs)("div",{className:"flex min-h-[400px] flex-col items-center justify-center gap-4",children:[(0,b.jsx)(k.Users,{className:"text-muted-foreground size-16"}),(0,b.jsx)("h3",{className:"text-lg font-semibold",children:"No Technician Data"}),(0,b.jsx)("p",{className:"text-muted-foreground text-center max-w-md",children:"Complete some jobs with assigned technicians to see team performance metrics."})]}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold tracking-tight",children:"Team Leaderboard"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Performance rankings and metrics"})]}),(0,b.jsx)(o.ExportButton,{reportType:"team",days:30})]}),c.topPerformer&&(0,b.jsxs)(f.Card,{className:"border-yellow-500/30 bg-gradient-to-r from-yellow-500/10 to-orange-500/10",children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"bg-yellow-500/20 p-3 rounded-full",children:(0,b.jsx)(i.Trophy,{className:"size-6 text-yellow-500"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)(f.CardTitle,{className:"text-lg",children:"Top Performer"}),(0,b.jsx)(f.CardDescription,{children:"Last 30 days"})]})]})}),(0,b.jsx)(f.CardContent,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-2xl font-bold",children:c.topPerformer.name}),(0,b.jsx)("p",{className:"text-muted-foreground",children:c.topPerformer.highlight})]}),(0,b.jsx)(g.Badge,{className:"bg-yellow-500 text-white",children:"#1"})]})})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,b.jsx)(s,{title:"Avg Jobs/Tech",value:c.teamAverages.jobsPerTech.toFixed(1),icon:(0,b.jsx)(k.Users,{className:"size-4 text-blue-500"})}),(0,b.jsx)(s,{title:"Avg Revenue/Tech",value:p(c.teamAverages.revenuePerTech),icon:(0,b.jsx)(l.DollarSign,{className:"size-4 text-green-500"})}),(0,b.jsx)(s,{title:"Team Avg Rating",value:c.teamAverages.avgRating.toFixed(1),icon:(0,b.jsx)(m.Star,{className:"size-4 text-yellow-500"})}),(0,b.jsx)(s,{title:"Team FTF Rate",value:q(c.teamAverages.firstTimeFixRate),icon:(0,b.jsx)(n.CheckCircle,{className:"size-4 text-emerald-500"})})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsxs)(f.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(j,{className:"size-5"}),"Team Leaderboard"]}),(0,b.jsx)(f.CardDescription,{children:"Ranked by overall performance score"})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsxs)(h.Table,{children:[(0,b.jsx)(h.TableHeader,{children:(0,b.jsxs)(h.TableRow,{children:[(0,b.jsx)(h.TableHead,{className:"w-16",children:"Rank"}),(0,b.jsx)(h.TableHead,{children:"Technician"}),(0,b.jsx)(h.TableHead,{className:"text-right",children:"Jobs"}),(0,b.jsx)(h.TableHead,{className:"text-right",children:"Revenue"}),(0,b.jsx)(h.TableHead,{className:"text-right",children:"Avg Time"}),(0,b.jsx)(h.TableHead,{className:"text-right",children:"FTF Rate"}),(0,b.jsx)(h.TableHead,{className:"text-right",children:"Rating"})]})}),(0,b.jsx)(h.TableBody,{children:c.technicians.map(a=>(0,b.jsxs)(h.TableRow,{className:a.rank<=3?"bg-yellow-500/5":"",children:[(0,b.jsx)(h.TableCell,{children:(0,b.jsx)(t,{rank:a.rank})}),(0,b.jsx)(h.TableCell,{className:"font-medium",children:a.name}),(0,b.jsx)(h.TableCell,{className:"text-right",children:a.jobsCompleted}),(0,b.jsx)(h.TableCell,{className:"text-right",children:p(a.revenue)}),(0,b.jsx)(h.TableCell,{className:"text-right",children:function(a){if(a<60)return`${Math.round(a)}m`;let b=Math.floor(a/60),c=Math.round(a%60);return c>0?`${b}h ${c}m`:`${b}h`}(a.avgJobDuration)}),(0,b.jsx)(h.TableCell,{className:"text-right",children:(0,b.jsx)(g.Badge,{variant:a.firstTimeFixRate>=90?"default":a.firstTimeFixRate>=75?"secondary":"destructive",children:q(a.firstTimeFixRate)})}),(0,b.jsx)(h.TableCell,{className:"text-right",children:(0,b.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,b.jsx)(m.Star,{className:"size-3 fill-yellow-400 text-yellow-400"}),a.avgRating.toFixed(1)]})})]},a.id))})]})})]}),(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-3",children:c.technicians.slice(0,3).map((a,c)=>(0,b.jsx)(u,{tech:a,highlight:0===c},a.id))})]})}function s({title:a,value:c,icon:d}){return(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(f.CardTitle,{className:"text-sm font-medium",children:a}),d]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("div",{className:"text-2xl font-bold",children:c})})]})}function t({rank:a}){return 1===a?(0,b.jsx)("div",{className:"bg-yellow-500/20 text-yellow-600 size-8 rounded-full flex items-center justify-center font-bold",children:"1"}):2===a?(0,b.jsx)("div",{className:"bg-gray-300/30 text-gray-600 size-8 rounded-full flex items-center justify-center font-bold",children:"2"}):3===a?(0,b.jsx)("div",{className:"bg-orange-500/20 text-orange-600 size-8 rounded-full flex items-center justify-center font-bold",children:"3"}):(0,b.jsx)("div",{className:"text-muted-foreground size-8 flex items-center justify-center",children:a})}function u({tech:a,highlight:c}){return(0,b.jsxs)(f.Card,{className:c?"border-yellow-500/30 bg-gradient-to-br from-yellow-500/5 to-orange-500/5":"",children:[(0,b.jsx)(f.CardHeader,{className:"pb-2",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"bg-primary/10 size-10 rounded-full flex items-center justify-center text-sm font-bold",children:a.name.split(" ").map(a=>a[0]).join("").substring(0,2)}),(0,b.jsxs)("div",{children:[(0,b.jsx)(f.CardTitle,{className:"text-base",children:a.name}),(0,b.jsxs)(f.CardDescription,{children:["Rank #",a.rank]})]})]}),c&&(0,b.jsx)(i.Trophy,{className:"size-5 text-yellow-500"})]})}),(0,b.jsx)(f.CardContent,{children:(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-muted-foreground",children:"Jobs"}),(0,b.jsx)("p",{className:"font-semibold",children:a.jobsCompleted})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-muted-foreground",children:"Revenue"}),(0,b.jsx)("p",{className:"font-semibold",children:p(a.revenue)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-muted-foreground",children:"FTF Rate"}),(0,b.jsx)("p",{className:"font-semibold",children:q(a.firstTimeFixRate)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-muted-foreground",children:"Rating"}),(0,b.jsxs)("p",{className:"font-semibold flex items-center gap-1",children:[(0,b.jsx)(m.Star,{className:"size-3 fill-yellow-400 text-yellow-400"}),a.avgRating.toFixed(1)]})]})]})})]})}function v(){return(0,b.jsxs)("div",{className:"relative space-y-10 py-8 md:py-12",children:[(0,b.jsx)("div",{className:"flex justify-center",children:(0,b.jsx)("div",{className:"bg-muted h-9 w-32 animate-pulse rounded-full"})}),(0,b.jsx)("div",{className:"flex justify-center",children:(0,b.jsx)("div",{className:"bg-muted size-24 animate-pulse rounded-full"})}),(0,b.jsxs)("div",{className:"mx-auto max-w-3xl space-y-3 text-center",children:[(0,b.jsx)("div",{className:"bg-muted mx-auto h-12 w-96 animate-pulse rounded"}),(0,b.jsx)("div",{className:"bg-muted mx-auto h-6 w-full max-w-2xl animate-pulse rounded"})]})]})}function w(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)(v,{}),children:(0,b.jsx)(r,{})})}a.s(["default",()=>w],215410)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__780ba876._.js.map