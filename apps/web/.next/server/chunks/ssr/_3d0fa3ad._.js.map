{"version":3,"sources":["../../../../../../node_modules/.pnpm/next%4016.0.4_%40opentelemetry%2Bapi%401.9.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/src/server/app-render/encryption-utils.ts","../../../../../../node_modules/.pnpm/next%4016.0.4_%40opentelemetry%2Bapi%401.9.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/src/server/app-render/encryption.ts","../../../../../../apps/web/src/app/portal/setup/page.tsx","../../../../../../apps/web/src/components/ui/password-input.tsx","../../../../../../apps/web/src/components/ui/standard-form-field.tsx"],"sourcesContent":["import type { ActionManifest } from '../../build/webpack/plugins/flight-client-entry-plugin'\nimport type {\n  ClientReferenceManifest,\n  ClientReferenceManifestForRsc,\n} from '../../build/webpack/plugins/flight-manifest-plugin'\nimport type { DeepReadonly } from '../../shared/lib/deep-readonly'\nimport { InvariantError } from '../../shared/lib/invariant-error'\nimport { normalizeAppPath } from '../../shared/lib/router/utils/app-paths'\nimport { workAsyncStorage } from './work-async-storage.external'\n\nlet __next_loaded_action_key: CryptoKey\n\nexport function arrayBufferToString(\n  buffer: ArrayBuffer | Uint8Array<ArrayBufferLike>\n) {\n  const bytes = new Uint8Array(buffer)\n  const len = bytes.byteLength\n\n  // @anonrig: V8 has a limit of 65535 arguments in a function.\n  // For len < 65535, this is faster.\n  // https://github.com/vercel/next.js/pull/56377#pullrequestreview-1656181623\n  if (len < 65535) {\n    return String.fromCharCode.apply(null, bytes as unknown as number[])\n  }\n\n  let binary = ''\n  for (let i = 0; i < len; i++) {\n    binary += String.fromCharCode(bytes[i])\n  }\n  return binary\n}\n\nexport function stringToUint8Array(binary: string) {\n  const len = binary.length\n  const arr = new Uint8Array(len)\n\n  for (let i = 0; i < len; i++) {\n    arr[i] = binary.charCodeAt(i)\n  }\n\n  return arr\n}\n\nexport function encrypt(\n  key: CryptoKey,\n  iv: Uint8Array<ArrayBuffer>,\n  data: Uint8Array<ArrayBuffer>\n) {\n  return crypto.subtle.encrypt(\n    {\n      name: 'AES-GCM',\n      iv,\n    },\n    key,\n    data\n  )\n}\n\nexport function decrypt(\n  key: CryptoKey,\n  iv: Uint8Array<ArrayBuffer>,\n  data: Uint8Array<ArrayBuffer>\n) {\n  return crypto.subtle.decrypt(\n    {\n      name: 'AES-GCM',\n      iv,\n    },\n    key,\n    data\n  )\n}\n\n// This is a global singleton that is used to encode/decode the action bound args from\n// the closure. This can't be using a AsyncLocalStorage as it might happen on the module\n// level. Since the client reference manifest won't be mutated, let's use a global singleton\n// to keep it.\nconst SERVER_ACTION_MANIFESTS_SINGLETON = Symbol.for(\n  'next.server.action-manifests'\n)\n\nexport function setReferenceManifestsSingleton({\n  page,\n  clientReferenceManifest,\n  serverActionsManifest,\n  serverModuleMap,\n}: {\n  page: string\n  clientReferenceManifest: DeepReadonly<ClientReferenceManifest>\n  serverActionsManifest: DeepReadonly<ActionManifest>\n  serverModuleMap: {\n    [id: string]: {\n      id: string\n      chunks: string[]\n      name: string\n    }\n  }\n}) {\n  // @ts-expect-error\n  const clientReferenceManifestsPerPage = globalThis[\n    SERVER_ACTION_MANIFESTS_SINGLETON\n  ]?.clientReferenceManifestsPerPage as\n    | undefined\n    | DeepReadonly<Record<string, ClientReferenceManifest>>\n\n  // @ts-expect-error\n  globalThis[SERVER_ACTION_MANIFESTS_SINGLETON] = {\n    clientReferenceManifestsPerPage: {\n      ...clientReferenceManifestsPerPage,\n      [normalizeAppPath(page)]: clientReferenceManifest,\n    },\n    serverActionsManifest,\n    serverModuleMap,\n  }\n}\n\nexport function getServerModuleMap() {\n  const serverActionsManifestSingleton = (globalThis as any)[\n    SERVER_ACTION_MANIFESTS_SINGLETON\n  ] as {\n    serverModuleMap: {\n      [id: string]: {\n        id: string\n        chunks: string[]\n        name: string\n      }\n    }\n  }\n\n  if (!serverActionsManifestSingleton) {\n    throw new InvariantError('Missing manifest for Server Actions.')\n  }\n\n  return serverActionsManifestSingleton.serverModuleMap\n}\n\nexport function getClientReferenceManifestForRsc(): DeepReadonly<ClientReferenceManifestForRsc> {\n  const serverActionsManifestSingleton = (globalThis as any)[\n    SERVER_ACTION_MANIFESTS_SINGLETON\n  ] as {\n    clientReferenceManifestsPerPage: DeepReadonly<\n      Record<string, ClientReferenceManifest>\n    >\n  }\n\n  if (!serverActionsManifestSingleton) {\n    throw new InvariantError('Missing manifest for Server Actions.')\n  }\n\n  const { clientReferenceManifestsPerPage } = serverActionsManifestSingleton\n  const workStore = workAsyncStorage.getStore()\n\n  if (!workStore) {\n    // If there's no work store defined, we can assume that a client reference\n    // manifest is needed during module evaluation, e.g. to create a server\n    // action using a higher-order function. This might also use client\n    // components which need to be serialized by Flight, and therefore client\n    // references need to be resolvable. To make this work, we're returning a\n    // merged manifest across all pages. This is fine as long as the module IDs\n    // are not page specific, which they are not for Webpack. TODO: Fix this in\n    // Turbopack.\n    return mergeClientReferenceManifests(clientReferenceManifestsPerPage)\n  }\n\n  const clientReferenceManifest =\n    clientReferenceManifestsPerPage[workStore.route]\n\n  if (!clientReferenceManifest) {\n    throw new InvariantError(\n      `Missing Client Reference Manifest for ${workStore.route}.`\n    )\n  }\n\n  return clientReferenceManifest\n}\n\nexport async function getActionEncryptionKey() {\n  if (__next_loaded_action_key) {\n    return __next_loaded_action_key\n  }\n\n  const serverActionsManifestSingleton = (globalThis as any)[\n    SERVER_ACTION_MANIFESTS_SINGLETON\n  ] as {\n    serverActionsManifest: DeepReadonly<ActionManifest>\n  }\n\n  if (!serverActionsManifestSingleton) {\n    throw new InvariantError('Missing manifest for Server Actions.')\n  }\n\n  const rawKey =\n    process.env.NEXT_SERVER_ACTIONS_ENCRYPTION_KEY ||\n    serverActionsManifestSingleton.serverActionsManifest.encryptionKey\n\n  if (rawKey === undefined) {\n    throw new InvariantError('Missing encryption key for Server Actions')\n  }\n\n  __next_loaded_action_key = await crypto.subtle.importKey(\n    'raw',\n    stringToUint8Array(atob(rawKey)),\n    'AES-GCM',\n    true,\n    ['encrypt', 'decrypt']\n  )\n\n  return __next_loaded_action_key\n}\n\nfunction mergeClientReferenceManifests(\n  clientReferenceManifestsPerPage: DeepReadonly<\n    Record<string, ClientReferenceManifest>\n  >\n): ClientReferenceManifestForRsc {\n  const clientReferenceManifests = Object.values(\n    clientReferenceManifestsPerPage as Record<string, ClientReferenceManifest>\n  )\n\n  const mergedClientReferenceManifest: ClientReferenceManifestForRsc = {\n    clientModules: {},\n    edgeRscModuleMapping: {},\n    rscModuleMapping: {},\n  }\n\n  for (const clientReferenceManifest of clientReferenceManifests) {\n    mergedClientReferenceManifest.clientModules = {\n      ...mergedClientReferenceManifest.clientModules,\n      ...clientReferenceManifest.clientModules,\n    }\n    mergedClientReferenceManifest.edgeRscModuleMapping = {\n      ...mergedClientReferenceManifest.edgeRscModuleMapping,\n      ...clientReferenceManifest.edgeRscModuleMapping,\n    }\n    mergedClientReferenceManifest.rscModuleMapping = {\n      ...mergedClientReferenceManifest.rscModuleMapping,\n      ...clientReferenceManifest.rscModuleMapping,\n    }\n  }\n\n  return mergedClientReferenceManifest\n}\n","/* eslint-disable import/no-extraneous-dependencies */\nimport 'server-only'\n\n/* eslint-disable import/no-extraneous-dependencies */\nimport { renderToReadableStream } from 'react-server-dom-webpack/server'\n/* eslint-disable import/no-extraneous-dependencies */\nimport { createFromReadableStream } from 'react-server-dom-webpack/client'\n\nimport { streamToString } from '../stream-utils/node-web-streams-helper'\nimport {\n  arrayBufferToString,\n  decrypt,\n  encrypt,\n  getActionEncryptionKey,\n  getClientReferenceManifestForRsc,\n  getServerModuleMap,\n  stringToUint8Array,\n} from './encryption-utils'\nimport {\n  getCacheSignal,\n  getPrerenderResumeDataCache,\n  getRenderResumeDataCache,\n  workUnitAsyncStorage,\n} from './work-unit-async-storage.external'\nimport { createHangingInputAbortSignal } from './dynamic-rendering'\nimport React from 'react'\n\nconst isEdgeRuntime = process.env.NEXT_RUNTIME === 'edge'\n\nconst textEncoder = new TextEncoder()\nconst textDecoder = new TextDecoder()\n\nconst filterStackFrame =\n  process.env.NODE_ENV !== 'production'\n    ? (require('../lib/source-maps') as typeof import('../lib/source-maps'))\n        .filterStackFrameDEV\n    : undefined\nconst findSourceMapURL =\n  process.env.NODE_ENV !== 'production'\n    ? (require('../lib/source-maps') as typeof import('../lib/source-maps'))\n        .findSourceMapURLDEV\n    : undefined\n\n/**\n * Decrypt the serialized string with the action id as the salt.\n */\nasync function decodeActionBoundArg(actionId: string, arg: string) {\n  const key = await getActionEncryptionKey()\n  if (typeof key === 'undefined') {\n    throw new Error(\n      `Missing encryption key for Server Action. This is a bug in Next.js`\n    )\n  }\n\n  // Get the iv (16 bytes) and the payload from the arg.\n  const originalPayload = atob(arg)\n  const ivValue = originalPayload.slice(0, 16)\n  const payload = originalPayload.slice(16)\n\n  const decrypted = textDecoder.decode(\n    await decrypt(key, stringToUint8Array(ivValue), stringToUint8Array(payload))\n  )\n\n  if (!decrypted.startsWith(actionId)) {\n    throw new Error('Invalid Server Action payload: failed to decrypt.')\n  }\n\n  return decrypted.slice(actionId.length)\n}\n\n/**\n * Encrypt the serialized string with the action id as the salt. Add a prefix to\n * later ensure that the payload is correctly decrypted, similar to a checksum.\n */\nasync function encodeActionBoundArg(actionId: string, arg: string) {\n  const key = await getActionEncryptionKey()\n  if (key === undefined) {\n    throw new Error(\n      `Missing encryption key for Server Action. This is a bug in Next.js`\n    )\n  }\n\n  // Get 16 random bytes as iv.\n  const randomBytes = new Uint8Array(16)\n  workUnitAsyncStorage.exit(() => crypto.getRandomValues(randomBytes))\n  const ivValue = arrayBufferToString(randomBytes.buffer)\n\n  const encrypted = await encrypt(\n    key,\n    randomBytes,\n    textEncoder.encode(actionId + arg)\n  )\n\n  return btoa(ivValue + arrayBufferToString(encrypted))\n}\n\nenum ReadStatus {\n  Ready,\n  Pending,\n  Complete,\n}\n\n// Encrypts the action's bound args into a string. For the same combination of\n// actionId and args the same cached promise is returned. This ensures reference\n// equality for returned objects from \"use cache\" functions when they're invoked\n// multiple times within one render pass using the same bound args.\nexport const encryptActionBoundArgs = React.cache(\n  async function encryptActionBoundArgs(actionId: string, ...args: any[]) {\n    const workUnitStore = workUnitAsyncStorage.getStore()\n    const cacheSignal = workUnitStore\n      ? getCacheSignal(workUnitStore)\n      : undefined\n\n    const { clientModules } = getClientReferenceManifestForRsc()\n\n    // Create an error before any asynchronous calls, to capture the original\n    // call stack in case we need it when the serialization errors.\n    const error = new Error()\n    Error.captureStackTrace(error, encryptActionBoundArgs)\n\n    let didCatchError = false\n\n    const hangingInputAbortSignal = workUnitStore\n      ? createHangingInputAbortSignal(workUnitStore)\n      : undefined\n\n    let readStatus = ReadStatus.Ready\n    function startReadOnce() {\n      if (readStatus === ReadStatus.Ready) {\n        readStatus = ReadStatus.Pending\n        cacheSignal?.beginRead()\n      }\n    }\n\n    function endReadIfStarted() {\n      if (readStatus === ReadStatus.Pending) {\n        cacheSignal?.endRead()\n      }\n      readStatus = ReadStatus.Complete\n    }\n\n    // streamToString might take longer than a microtask to resolve and then other things\n    // waiting on the cache signal might not realize there is another cache to fill so if\n    // we are no longer waiting on the bound args serialization via the hangingInputAbortSignal\n    // we should eagerly start the cache read to prevent other readers of the cache signal from\n    // missing this cache fill. We use a idempotent function to only start reading once because\n    // it's also possible that streamToString finishes before the hangingInputAbortSignal aborts.\n    if (hangingInputAbortSignal && cacheSignal) {\n      hangingInputAbortSignal.addEventListener('abort', startReadOnce, {\n        once: true,\n      })\n    }\n\n    // Using Flight to serialize the args into a string.\n    const serialized = await streamToString(\n      renderToReadableStream(args, clientModules, {\n        filterStackFrame,\n        signal: hangingInputAbortSignal,\n        onError(err) {\n          if (hangingInputAbortSignal?.aborted) {\n            return\n          }\n\n          // We're only reporting one error at a time, starting with the first.\n          if (didCatchError) {\n            return\n          }\n\n          didCatchError = true\n\n          // Use the original error message together with the previously created\n          // stack, because err.stack is a useless Flight Server call stack.\n          error.message = err instanceof Error ? err.message : String(err)\n        },\n      }),\n      // We pass the abort signal to `streamToString` so that no chunks are\n      // included that are emitted after the signal was already aborted. This\n      // ensures that we can encode hanging promises.\n      hangingInputAbortSignal\n    )\n\n    if (didCatchError) {\n      if (process.env.NODE_ENV === 'development') {\n        // Logging the error is needed for server functions that are passed to the\n        // client where the decryption is not done during rendering. Console\n        // replaying allows us to still show the error dev overlay in this case.\n        console.error(error)\n      }\n\n      endReadIfStarted()\n      throw error\n    }\n\n    if (!workUnitStore) {\n      // We don't need to call cacheSignal.endRead here because we can't have a cacheSignal\n      // if we do not have a workUnitStore.\n      return encodeActionBoundArg(actionId, serialized)\n    }\n\n    startReadOnce()\n\n    const prerenderResumeDataCache = getPrerenderResumeDataCache(workUnitStore)\n    const renderResumeDataCache = getRenderResumeDataCache(workUnitStore)\n    const cacheKey = actionId + serialized\n\n    const cachedEncrypted =\n      prerenderResumeDataCache?.encryptedBoundArgs.get(cacheKey) ??\n      renderResumeDataCache?.encryptedBoundArgs.get(cacheKey)\n\n    if (cachedEncrypted) {\n      return cachedEncrypted\n    }\n\n    const encrypted = await encodeActionBoundArg(actionId, serialized)\n\n    endReadIfStarted()\n    prerenderResumeDataCache?.encryptedBoundArgs.set(cacheKey, encrypted)\n\n    return encrypted\n  }\n)\n\n// Decrypts the action's bound args from the encrypted string.\nexport async function decryptActionBoundArgs(\n  actionId: string,\n  encryptedPromise: Promise<string>\n) {\n  const encrypted = await encryptedPromise\n  const workUnitStore = workUnitAsyncStorage.getStore()\n\n  let decrypted: string | undefined\n\n  if (workUnitStore) {\n    const cacheSignal = getCacheSignal(workUnitStore)\n    const prerenderResumeDataCache = getPrerenderResumeDataCache(workUnitStore)\n    const renderResumeDataCache = getRenderResumeDataCache(workUnitStore)\n\n    decrypted =\n      prerenderResumeDataCache?.decryptedBoundArgs.get(encrypted) ??\n      renderResumeDataCache?.decryptedBoundArgs.get(encrypted)\n\n    if (!decrypted) {\n      cacheSignal?.beginRead()\n      decrypted = await decodeActionBoundArg(actionId, encrypted)\n      cacheSignal?.endRead()\n      prerenderResumeDataCache?.decryptedBoundArgs.set(encrypted, decrypted)\n    }\n  } else {\n    decrypted = await decodeActionBoundArg(actionId, encrypted)\n  }\n\n  const { edgeRscModuleMapping, rscModuleMapping } =\n    getClientReferenceManifestForRsc()\n\n  // Using Flight to deserialize the args from the string.\n  const deserialized = await createFromReadableStream(\n    new ReadableStream({\n      start(controller) {\n        controller.enqueue(textEncoder.encode(decrypted))\n\n        switch (workUnitStore?.type) {\n          case 'prerender':\n          case 'prerender-runtime':\n            // Explicitly don't close the stream here (until prerendering is\n            // complete) so that hanging promises are not rejected.\n            if (workUnitStore.renderSignal.aborted) {\n              controller.close()\n            } else {\n              workUnitStore.renderSignal.addEventListener(\n                'abort',\n                () => controller.close(),\n                { once: true }\n              )\n            }\n            break\n          case 'prerender-client':\n          case 'prerender-ppr':\n          case 'prerender-legacy':\n          case 'request':\n          case 'cache':\n          case 'private-cache':\n          case 'unstable-cache':\n          case undefined:\n            return controller.close()\n          default:\n            workUnitStore satisfies never\n        }\n      },\n    }),\n    {\n      findSourceMapURL,\n      serverConsumerManifest: {\n        // moduleLoading must be null because we don't want to trigger preloads of ClientReferences\n        // to be added to the current execution. Instead, we'll wait for any ClientReference\n        // to be emitted which themselves will handle the preloading.\n        moduleLoading: null,\n        moduleMap: isEdgeRuntime ? edgeRscModuleMapping : rscModuleMapping,\n        serverModuleMap: getServerModuleMap(),\n      },\n    }\n  )\n\n  return deserialized\n}\n","/**\n * Portal Setup Page - Customer portal account setup\n *\n * Features:\n * - Token validation\n * - Password creation\n * - Account activation\n * - Auto-login after setup\n */\n\nimport { AlertCircle, CheckCircle2, Lock, Mail, User } from \"lucide-react\";\nimport Link from \"next/link\";\nimport { notFound, redirect } from \"next/navigation\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n\tCard,\n\tCardContent,\n\tCardDescription,\n\tCardHeader,\n\tCardTitle,\n} from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { PasswordInput } from \"@/components/ui/password-input\";\nimport { StandardFormField } from \"@/components/ui/standard-form-field\";\nimport { createClient } from \"@/lib/supabase/server\";\n\ntype PageProps = {\n\tsearchParams: Promise<{ token?: string; error?: string; message?: string }>;\n};\n\nconst ERROR_MESSAGES: Record<string, string> = {\n\tpasswords_mismatch: \"Passwords do not match. Please try again.\",\n\tpassword_too_short: \"Password must be at least 8 characters.\",\n\tcustomer_not_found: \"Customer account not found. Please contact support.\",\n\tauth_failed: \"Failed to create account. Please try again.\",\n\tlink_failed: \"Failed to set up your account. Please contact support.\",\n};\n\n/**\n * Portal Setup Page - Server Component\n *\n * Handles customer portal account setup from invitation link\n */\nexport default async function PortalSetupPage({ searchParams }: PageProps) {\n\tconst params = await searchParams;\n\tconst token = params.token;\n\tconst errorCode = params.error;\n\tconst errorMessage = params.message;\n\tconst displayError = errorCode\n\t\t? ERROR_MESSAGES[errorCode] || errorMessage || \"An error occurred\"\n\t\t: null;\n\n\t// Validate token exists\n\tif (!token) {\n\t\treturn <InvalidTokenUI message=\"No invitation token provided\" />;\n\t}\n\n\t// Decode and validate token\n\tlet customerId: string;\n\tlet timestamp: number;\n\n\ttry {\n\t\tconst decoded = Buffer.from(token, \"base64url\").toString(\"utf-8\");\n\t\tconst parts = decoded.split(\":\");\n\t\tcustomerId = parts[0] || \"\";\n\t\ttimestamp = Number.parseInt(parts[1] || \"0\", 10);\n\n\t\t// Check if token is expired (7 days = 168 hours)\n\t\tconst expirationTime = timestamp + 168 * 60 * 60 * 1000;\n\t\tif (Date.now() > expirationTime) {\n\t\t\treturn (\n\t\t\t\t<InvalidTokenUI message=\"This invitation link has expired. Please request a new invitation.\" />\n\t\t\t);\n\t\t}\n\t} catch {\n\t\treturn <InvalidTokenUI message=\"Invalid invitation token\" />;\n\t}\n\n\t// Fetch customer data\n\tconst supabase = await createClient();\n\n\tif (!supabase) {\n\t\treturn notFound();\n\t}\n\tconst { data: customer } = await supabase\n\t\t.from(\"customers\")\n\t\t.select(\"id, email, display_name, portal_enabled, user_id\")\n\t\t.eq(\"id\", customerId)\n\t\t.is(\"deleted_at\", null)\n\t\t.single();\n\n\tif (!customer) {\n\t\treturn (\n\t\t\t<InvalidTokenUI message=\"Customer not found or invitation has been revoked\" />\n\t\t);\n\t}\n\n\t// Check if already set up\n\tif (customer.user_id) {\n\t\treturn (\n\t\t\t<div className=\"from-background via-background to-muted flex min-h-screen items-center justify-center bg-gradient-to-br p-4\">\n\t\t\t\t<Card className=\"w-full max-w-md\">\n\t\t\t\t\t<CardHeader className=\"text-center\">\n\t\t\t\t\t\t<div className=\"bg-success mx-auto mb-4 flex size-16 items-center justify-center rounded-full\">\n\t\t\t\t\t\t\t<CheckCircle2 className=\"text-success size-8\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<CardTitle className=\"text-2xl\">Account Already Set Up</CardTitle>\n\t\t\t\t\t\t<CardDescription>\n\t\t\t\t\t\t\tYour portal account is already active. You can sign in below.\n\t\t\t\t\t\t</CardDescription>\n\t\t\t\t\t</CardHeader>\n\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t<Button asChild className=\"w-full\" size=\"lg\">\n\t\t\t\t\t\t\t<Link href=\"/portal/login\">Sign In to Portal</Link>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t// Server action for setup form\n\tasync function handleSetup(formData: FormData) {\n\t\t\"use server\";\n\n\t\tconst password = formData.get(\"password\") as string;\n\t\tconst confirmPassword = formData.get(\"confirmPassword\") as string;\n\n\t\t// Validate passwords match\n\t\tif (password !== confirmPassword) {\n\t\t\tredirect(`/portal/setup?token=${token}&error=passwords_mismatch`);\n\t\t}\n\n\t\t// Validate password strength\n\t\tif (password.length < 8) {\n\t\t\tredirect(`/portal/setup?token=${token}&error=password_too_short`);\n\t\t}\n\n\t\tconst supabase = await createClient();\n\n\t\tif (!supabase) {\n\t\t\treturn notFound();\n\t\t}\n\n\t\t// Re-fetch customer data within server action\n\t\tconst { data: customerData } = await supabase\n\t\t\t.from(\"customers\")\n\t\t\t.select(\"id, email, display_name\")\n\t\t\t.eq(\"id\", customerId)\n\t\t\t.is(\"deleted_at\", null)\n\t\t\t.single();\n\n\t\tif (!customerData) {\n\t\t\tredirect(`/portal/setup?token=${token}&error=customer_not_found`);\n\t\t}\n\n\t\t// Create Supabase auth user\n\t\tconst { data: authData, error: authError } = await supabase.auth.signUp({\n\t\t\temail: customerData.email,\n\t\t\tpassword,\n\t\t\toptions: {\n\t\t\t\tdata: {\n\t\t\t\t\tdisplay_name: customerData.display_name,\n\t\t\t\t\tcustomer_id: customerData.id,\n\t\t\t\t\trole: \"customer\",\n\t\t\t\t},\n\t\t\t},\n\t\t});\n\n\t\tif (authError || !authData.user) {\n\t\t\tredirect(\n\t\t\t\t`/portal/setup?token=${token}&error=auth_failed&message=${encodeURIComponent(authError?.message || \"Failed to create account\")}`,\n\t\t\t);\n\t\t}\n\n\t\t// Link user to customer record\n\t\tconst { error: updateError } = await supabase\n\t\t\t.from(\"customers\")\n\t\t\t.update({ user_id: authData.user.id })\n\t\t\t.eq(\"id\", customerData.id);\n\n\t\tif (updateError) {\n\t\t\tredirect(\n\t\t\t\t`/portal/setup?token=${token}&error=link_failed&message=${encodeURIComponent(updateError.message)}`,\n\t\t\t);\n\t\t}\n\n\t\t// Redirect to portal dashboard\n\t\tredirect(\"/portal/dashboard\");\n\t}\n\n\treturn (\n\t\t<div className=\"from-background via-background to-muted flex min-h-screen items-center justify-center bg-gradient-to-br p-4\">\n\t\t\t<Card className=\"w-full max-w-md\">\n\t\t\t\t<CardHeader className=\"text-center\">\n\t\t\t\t\t<div className=\"bg-primary/10 mx-auto mb-4 flex size-16 items-center justify-center rounded-full\">\n\t\t\t\t\t\t<Lock className=\"text-primary size-8\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<CardTitle className=\"text-2xl\">Set Up Your Portal Account</CardTitle>\n\t\t\t\t\t<CardDescription>\n\t\t\t\t\t\tWelcome, {customer.display_name}! Create a password to access your\n\t\t\t\t\t\tcustomer portal.\n\t\t\t\t\t</CardDescription>\n\t\t\t\t</CardHeader>\n\t\t\t\t<CardContent>\n\t\t\t\t\t{displayError && (\n\t\t\t\t\t\t<div className=\"mb-6 flex items-center gap-2 rounded-md bg-red-50 p-3 text-sm text-red-700 dark:bg-red-900/20 dark:text-red-400\">\n\t\t\t\t\t\t\t<AlertCircle className=\"size-4 shrink-0\" />\n\t\t\t\t\t\t\t<span>{displayError}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t<form action={handleSetup} className=\"space-y-6\">\n\t\t\t\t\t\t{/* Display customer email */}\n\t\t\t\t\t\t<StandardFormField label=\"Email Address\" htmlFor=\"email\">\n\t\t\t\t\t\t\t<div className=\"relative\">\n\t\t\t\t\t\t\t\t<Mail className=\"text-muted-foreground absolute top-3 left-3 size-4\" />\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\tclassName=\"bg-muted pl-10\"\n\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\t\t\treadOnly\n\t\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\t\tvalue={customer.email}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t\tYou'll use this email to sign in to your portal\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</StandardFormField>\n\n\t\t\t\t\t\t{/* Display customer name */}\n\t\t\t\t\t\t<StandardFormField label=\"Full Name\" htmlFor=\"name\">\n\t\t\t\t\t\t\t<div className=\"relative\">\n\t\t\t\t\t\t\t\t<User className=\"text-muted-foreground absolute top-3 left-3 size-4\" />\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\tclassName=\"bg-muted pl-10\"\n\t\t\t\t\t\t\t\t\tdisabled\n\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\treadOnly\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tvalue={customer.display_name}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</StandardFormField>\n\n\t\t\t\t\t\t{/* Password input */}\n\t\t\t\t\t\t<StandardFormField\n\t\t\t\t\t\t\tlabel=\"Create Password\"\n\t\t\t\t\t\t\thtmlFor=\"password\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<PasswordInput\n\t\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\t\tminLength={8}\n\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\tplaceholder=\"Enter a secure password\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t\tMust be at least 8 characters\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</StandardFormField>\n\n\t\t\t\t\t\t{/* Confirm password */}\n\t\t\t\t\t\t<StandardFormField\n\t\t\t\t\t\t\tlabel=\"Confirm Password\"\n\t\t\t\t\t\t\thtmlFor=\"confirmPassword\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<PasswordInput\n\t\t\t\t\t\t\t\tid=\"confirmPassword\"\n\t\t\t\t\t\t\t\tminLength={8}\n\t\t\t\t\t\t\t\tname=\"confirmPassword\"\n\t\t\t\t\t\t\t\tplaceholder=\"Re-enter your password\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</StandardFormField>\n\n\t\t\t\t\t\t{/* Security notice */}\n\t\t\t\t\t\t<div className=\"border-primary/20 bg-primary/5 rounded-lg border p-4\">\n\t\t\t\t\t\t\t<div className=\"flex gap-3\">\n\t\t\t\t\t\t\t\t<Lock className=\"text-primary size-5\" />\n\t\t\t\t\t\t\t\t<div className=\"space-y-1\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium\">Secure & Private</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t\t\t\tYour password is encrypted and secure. We never share your\n\t\t\t\t\t\t\t\t\t\tinformation.\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{/* Submit button */}\n\t\t\t\t\t\t<Button className=\"w-full\" size=\"lg\" type=\"submit\">\n\t\t\t\t\t\t\tCreate Account & Sign In\n\t\t\t\t\t\t</Button>\n\n\t\t\t\t\t\t{/* Help text */}\n\t\t\t\t\t\t<p className=\"text-muted-foreground text-center text-sm\">\n\t\t\t\t\t\t\tNeed help?{\" \"}\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\tclassName=\"text-primary underline\"\n\t\t\t\t\t\t\t\thref=\"mailto:support@thorbis.com\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tContact Support\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</form>\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\t\t</div>\n\t);\n}\n\n/**\n * Invalid Token UI Component\n */\nfunction InvalidTokenUI({ message }: { message: string }) {\n\treturn (\n\t\t<div className=\"from-background via-background to-muted flex min-h-screen items-center justify-center bg-gradient-to-br p-4\">\n\t\t\t<Card className=\"w-full max-w-md\">\n\t\t\t\t<CardHeader className=\"text-center\">\n\t\t\t\t\t<div className=\"bg-destructive/10 mx-auto mb-4 flex size-16 items-center justify-center rounded-full\">\n\t\t\t\t\t\t<AlertCircle className=\"text-destructive size-8\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<CardTitle className=\"text-2xl\">Invalid Invitation</CardTitle>\n\t\t\t\t\t<CardDescription>{message}</CardDescription>\n\t\t\t\t</CardHeader>\n\t\t\t\t<CardContent className=\"space-y-4\">\n\t\t\t\t\t<p className=\"text-muted-foreground text-center text-sm\">\n\t\t\t\t\t\tIf you believe this is an error, please contact our support team.\n\t\t\t\t\t</p>\n\t\t\t\t\t<Button asChild className=\"w-full\" size=\"lg\" variant=\"outline\">\n\t\t\t\t\t\t<a href=\"mailto:support@thorbis.com\">Contact Support</a>\n\t\t\t\t\t</Button>\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\t\t</div>\n\t);\n}\n","// Re-export from @stratos/ui package\nexport * from \"@stratos/ui\";\n","/**\n * Standard Form Field Component\n *\n * Provides consistent styling for form fields across the application\n * following shadcn's design patterns without requiring react-hook-form.\n *\n * Uses semantic color tokens from the theme:\n * - text-destructive: Error states and required indicators\n * - text-muted-foreground: Helper text and descriptions\n * - All colors are theme-aware (light/dark mode support)\n *\n * Use this for forms that don't use react-hook-form but need consistent styling.\n * For forms with react-hook-form, use the full Form components from @/components/ui/form\n */\n\nimport { cn, Label } from \"@stratos/ui\";\nimport type * as React from \"react\";\n\ninterface StandardFormFieldProps {\n\tlabel?: string;\n\thtmlFor?: string;\n\terror?: string;\n\tdescription?: string;\n\trequired?: boolean;\n\tchildren: React.ReactNode;\n\tclassName?: string;\n}\n\n/**\n * StandardFormField - Consistent form field wrapper\n *\n * Follows shadcn's form patterns with semantic color tokens.\n * All colors use CSS variables for automatic light/dark mode support.\n *\n * @example\n * <StandardFormField label=\"Email\" htmlFor=\"email\" error={errors.email} required>\n *   <Input id=\"email\" type=\"email\" />\n * </StandardFormField>\n *\n * @example With description\n * <StandardFormField\n *   label=\"Password\"\n *   htmlFor=\"password\"\n *   description=\"Must be at least 8 characters\"\n * >\n *   <Input id=\"password\" type=\"password\" />\n * </StandardFormField>\n */\nexport function StandardFormField({\n\tlabel,\n\thtmlFor,\n\terror,\n\tdescription,\n\trequired,\n\tchildren,\n\tclassName,\n}: StandardFormFieldProps) {\n\treturn (\n\t\t<div className={cn(\"space-y-2\", className)} data-slot=\"form-field\">\n\t\t\t{label && (\n\t\t\t\t<Label\n\t\t\t\t\thtmlFor={htmlFor}\n\t\t\t\t\tclassName={cn(error && \"text-destructive\")}\n\t\t\t\t\tdata-error={!!error}\n\t\t\t\t>\n\t\t\t\t\t{label}\n\t\t\t\t\t{required && (\n\t\t\t\t\t\t<span className=\"text-destructive ml-1\" aria-label=\"required\">\n\t\t\t\t\t\t\t*\n\t\t\t\t\t\t</span>\n\t\t\t\t\t)}\n\t\t\t\t</Label>\n\t\t\t)}\n\t\t\t{children}\n\t\t\t{description && !error && (\n\t\t\t\t<p className=\"text-muted-foreground text-[0.8rem] leading-relaxed\">\n\t\t\t\t\t{description}\n\t\t\t\t</p>\n\t\t\t)}\n\t\t\t{error && (\n\t\t\t\t<p className=\"text-destructive text-[0.8rem] font-medium\" role=\"alert\">\n\t\t\t\t\t{error}\n\t\t\t\t</p>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\n/**\n * StandardFormRow - Grid layout for form fields\n *\n * @example\n * <StandardFormRow cols={2}>\n *   <StandardFormField label=\"First Name\">\n *     <Input />\n *   </StandardFormField>\n *   <StandardFormField label=\"Last Name\">\n *     <Input />\n *   </StandardFormField>\n * </StandardFormRow>\n */\ninterface StandardFormRowProps {\n\tchildren: React.ReactNode;\n\tcols?: 1 | 2 | 3 | 4;\n\tclassName?: string;\n}\n\nexport function StandardFormRow({\n\tchildren,\n\tcols = 2,\n\tclassName,\n}: StandardFormRowProps) {\n\treturn (\n\t\t<div\n\t\t\tclassName={cn(\n\t\t\t\t\"grid gap-4\",\n\t\t\t\t{\n\t\t\t\t\t\"sm:grid-cols-2\": cols === 2,\n\t\t\t\t\t\"sm:grid-cols-2 lg:grid-cols-3\": cols === 3,\n\t\t\t\t\t\"sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4\": cols === 4,\n\t\t\t\t},\n\t\t\t\tclassName,\n\t\t\t)}\n\t\t>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n\n/**\n * StandardFormSection - Section wrapper with optional title\n *\n * @example\n * <StandardFormSection title=\"Personal Information\">\n *   <StandardFormRow>\n *     ...fields\n *   </StandardFormRow>\n * </StandardFormSection>\n */\ninterface StandardFormSectionProps {\n\ttitle?: string;\n\tdescription?: string;\n\tchildren: React.ReactNode;\n\tclassName?: string;\n}\n\nfunction StandardFormSection({\n\ttitle,\n\tdescription,\n\tchildren,\n\tclassName,\n}: StandardFormSectionProps) {\n\treturn (\n\t\t<div className={cn(\"space-y-4\", className)}>\n\t\t\t{(title || description) && (\n\t\t\t\t<div className=\"space-y-1\">\n\t\t\t\t\t{title && <h3 className=\"text-lg font-medium\">{title}</h3>}\n\t\t\t\t\t{description && (\n\t\t\t\t\t\t<p className=\"text-muted-foreground text-sm\">{description}</p>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t)}\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n"],"names":["arrayBufferToString","decrypt","encrypt","getActionEncryptionKey","getClientReferenceManifestForRsc","getServerModuleMap","setReferenceManifestsSingleton","stringToUint8Array","__next_loaded_action_key","buffer","bytes","Uint8Array","len","byteLength","String","fromCharCode","apply","binary","i","length","arr","charCodeAt","key","iv","data","crypto","subtle","name","SERVER_ACTION_MANIFESTS_SINGLETON","Symbol","for","page","clientReferenceManifest","serverActionsManifest","serverModuleMap","globalThis","clientReferenceManifestsPerPage","normalizeAppPath","serverActionsManifestSingleton","InvariantError","workStore","workAsyncStorage","getStore","mergeClientReferenceManifests","route","rawKey","process","env","NEXT_SERVER_ACTIONS_ENCRYPTION_KEY","encryptionKey","undefined","importKey","atob","clientReferenceManifests","Object","values","mergedClientReferenceManifest","clientModules","edgeRscModuleMapping","rscModuleMapping","decryptActionBoundArgs","encryptActionBoundArgs","isEdgeRuntime","NEXT_RUNTIME","textEncoder","TextEncoder","textDecoder","TextDecoder","filterStackFrame","NODE_ENV","require","filterStackFrameDEV","findSourceMapURL","findSourceMapURLDEV","decodeActionBoundArg","actionId","arg","Error","originalPayload","ivValue","slice","payload","decrypted","decode","startsWith","encodeActionBoundArg","randomBytes","workUnitAsyncStorage","exit","getRandomValues","encrypted","encode","btoa","ReadStatus","React","cache","args","workUnitStore","cacheSignal","getCacheSignal","error","captureStackTrace","didCatchError","hangingInputAbortSignal","createHangingInputAbortSignal","readStatus","startReadOnce","beginRead","endReadIfStarted","endRead","addEventListener","once","serialized","streamToString","renderToReadableStream","signal","onError","err","aborted","message","console","prerenderResumeDataCache","getPrerenderResumeDataCache","renderResumeDataCache","getRenderResumeDataCache","cacheKey","cachedEncrypted","encryptedBoundArgs","get","set","encryptedPromise","decryptedBoundArgs","deserialized","createFromReadableStream","ReadableStream","start","controller","enqueue","type","renderSignal","close","serverConsumerManifest","moduleLoading","moduleMap"],"mappings":"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","ignoreList":[0,1]}