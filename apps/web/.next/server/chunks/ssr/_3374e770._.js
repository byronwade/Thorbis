module.exports=[166190,a=>{"use strict";let b=(0,a.i(203431).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);a.s(["default",()=>b])},824124,a=>{"use strict";var b=a.i(166190);a.s(["MapPin",()=>b.default])},765890,a=>{"use strict";let b=(0,a.i(203431).default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);a.s(["default",()=>b])},988253,a=>{"use strict";var b=a.i(765890);a.s(["Copy",()=>b.default])},49165,a=>{"use strict";let b=(0,a.i(203431).default)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["default",()=>b])},966183,a=>{"use strict";var b=a.i(49165);a.s(["ShieldCheck",()=>b.default])},485364,a=>{"use strict";let b=(0,a.i(203431).default)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);a.s(["default",()=>b])},976803,a=>{"use strict";var b=a.i(485364);a.s(["Truck",()=>b.default])},400355,a=>{"use strict";a.i(156120),a.s([])},761447,949729,a=>{"use strict";var b=a.i(169021),c=(0,b.createServerReference)("70ff12ee81a60340f786414d0baa7af58484dd7488",b.callServer,void 0,b.findSourceMapURL,"updateEntityTags");a.s(["updateEntityTags",()=>c],761447);var d=a.i(861467),e=a.i(638727),f=a.i(414379),g=a.i(300298),h=a.i(337241),i=a.i(783281),j=a.i(156916);a.i(400355);var k=a.i(694340);a.i(445255);var l=a.i(18170);a.i(839984);var m=a.i(372712);a.i(458393);var n=a.i(82012);a.i(297229);var o=a.i(489904);a.i(40744);var p=a.i(419573),q=a.i(382281);let r=[{name:"Red",value:"red",class:"bg-red-100 text-red-700 border-red-200 dark:bg-red-900/20 dark:text-red-400 dark:border-red-900/30"},{name:"Orange",value:"orange",class:"bg-orange-100 text-orange-700 border-orange-200 dark:bg-orange-900/20 dark:text-orange-400 dark:border-orange-900/30"},{name:"Amber",value:"amber",class:"bg-amber-100 text-amber-700 border-amber-200 dark:bg-amber-900/20 dark:text-amber-400 dark:border-amber-900/30"},{name:"Yellow",value:"yellow",class:"bg-yellow-100 text-yellow-700 border-yellow-200 dark:bg-yellow-900/20 dark:text-yellow-400 dark:border-yellow-900/30"},{name:"Green",value:"green",class:"bg-green-100 text-green-700 border-green-200 dark:bg-green-900/20 dark:text-green-400 dark:border-green-900/30"},{name:"Emerald",value:"emerald",class:"bg-emerald-100 text-emerald-700 border-emerald-200 dark:bg-emerald-900/20 dark:text-emerald-400 dark:border-emerald-900/30"},{name:"Teal",value:"teal",class:"bg-teal-100 text-teal-700 border-teal-200 dark:bg-teal-900/20 dark:text-teal-400 dark:border-teal-900/30"},{name:"Blue",value:"blue",class:"bg-blue-100 text-blue-700 border-blue-200 dark:bg-blue-900/20 dark:text-blue-400 dark:border-blue-900/30"},{name:"Indigo",value:"indigo",class:"bg-indigo-100 text-indigo-700 border-indigo-200 dark:bg-indigo-900/20 dark:text-indigo-400 dark:border-indigo-900/30"},{name:"Purple",value:"purple",class:"bg-purple-100 text-purple-700 border-purple-200 dark:bg-purple-900/20 dark:text-purple-400 dark:border-purple-900/30"},{name:"Pink",value:"pink",class:"bg-pink-100 text-pink-700 border-pink-200 dark:bg-pink-900/20 dark:text-pink-400 dark:border-pink-900/30"},{name:"Gray",value:"gray",class:"bg-gray-100 text-gray-700 border-gray-200 dark:bg-gray-900/20 dark:text-gray-400 dark:border-gray-900/30"}],s=r.reduce((a,b)=>({...a,[b.value]:b.class}),{});function t({entityId:a,entityType:b,tags:c,onUpdateTags:t,readOnly:u=!1}){(0,h.useRouter)();let[v,w]=(0,i.useState)(!1),[x,y]=(0,i.useState)(""),[z,A]=(0,i.useState)("blue"),[B,C]=(0,i.useState)(!1),[D,E]=(0,i.useState)(null),F=a=>"string"==typeof a?a:a.label,G=async()=>{if(!x.trim())return void j.toast.error("Please enter a tag name");C(!0);try{let b={label:x.trim(),color:z},d=[...c,b],e=await t(a,d);e.success?(j.toast.success("Tag added"),w(!1),y(""),A("blue")):j.toast.error(e.error||"Failed to add tag")}catch(a){j.toast.error("Failed to add tag")}finally{C(!1)}},H=async b=>{try{let d=c.filter(a=>{let c=F(a),d=F(b);return c!==d}),e=await t(a,d);e.success?j.toast.success("Tag removed"):j.toast.error(e.error||"Failed to remove tag")}catch(a){j.toast.error("Failed to remove tag")}finally{E(null)}},I=r.find(a=>a.value===z);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[c.map((a,b)=>{let c=F(a),e="string"==typeof a?void 0:a.color,h=e&&s[e]?s[e]:s.blue;return(0,d.jsxs)("div",{className:`inline-flex items-center gap-1.5 rounded-full border px-3 py-1.5 text-sm font-medium transition-colors ${h}`,children:[(0,d.jsx)(f.Tag,{className:"size-3"}),(0,d.jsx)("span",{children:c}),!u&&(0,d.jsx)(l.Button,{className:"ml-1 size-4 p-0 hover:bg-black/10 dark:hover:bg-white/10",onClick:()=>E(a),size:"icon",variant:"ghost",children:(0,d.jsx)(g.X,{className:"size-3"})})]},`${c}-${b}`)}),!u&&(0,d.jsxs)(o.Popover,{onOpenChange:w,open:v,children:[(0,d.jsx)(o.PopoverTrigger,{asChild:!0,children:(0,d.jsxs)("button",{className:"border-border/60 bg-background hover:border-primary/50 hover:bg-primary/5 inline-flex items-center gap-1.5 rounded-full border border-dashed px-3 py-1.5 text-sm font-medium transition-colors",children:[(0,d.jsx)(e.Plus,{className:"size-3"}),(0,d.jsx)("span",{children:"Add Tag"})]})}),(0,d.jsx)(o.PopoverContent,{align:"start",className:"w-80",side:"bottom",children:(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"text-sm font-semibold",children:"Create Custom Tag"}),(0,d.jsxs)("p",{className:"text-muted-foreground text-xs",children:["Add a custom tag for this ",b]})]}),(0,d.jsx)(q.StandardFormField,{label:"Tag Name",htmlFor:"tag-label",children:(0,d.jsx)(m.Input,{id:"tag-label",onChange:a=>y(a.target.value),onKeyDown:a=>{"Enter"===a.key&&G()},placeholder:"e.g., High Priority, VIP, etc.",value:x})}),(0,d.jsx)(q.StandardFormField,{label:"Color",htmlFor:"tag-color",children:(0,d.jsxs)(p.Select,{onValueChange:A,value:z,children:[(0,d.jsx)(p.SelectTrigger,{id:"tag-color",children:(0,d.jsx)(p.SelectValue,{children:I&&(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:`h-4 w-4 rounded-full ${I.class}`}),(0,d.jsx)("span",{children:I.name})]})})}),(0,d.jsx)(p.SelectContent,{children:r.map(a=>(0,d.jsx)(p.SelectItem,{value:a.value,children:(0,d.jsxs)("div",{className:"flex items-center gap-2",children:[(0,d.jsx)("div",{className:`h-4 w-4 rounded-full ${a.class}`}),(0,d.jsx)("span",{children:a.name})]})},a.value))})]})}),x&&(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(n.Label,{children:"Preview"}),(0,d.jsxs)("div",{className:`inline-flex items-center gap-1.5 rounded-full border px-3 py-1.5 text-sm font-medium ${I?.class}`,children:[(0,d.jsx)(f.Tag,{className:"size-3"}),(0,d.jsx)("span",{children:x})]})]}),(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)(l.Button,{className:"flex-1",onClick:()=>w(!1),variant:"outline",children:"Cancel"}),(0,d.jsx)(l.Button,{className:"flex-1",disabled:B||!x.trim(),onClick:G,children:B?"Saving...":"Add Tag"})]})]})})]})]}),(0,d.jsx)(k.AlertDialog,{onOpenChange:()=>E(null),open:!!D,children:(0,d.jsxs)(k.AlertDialogContent,{children:[(0,d.jsxs)(k.AlertDialogHeader,{children:[(0,d.jsx)(k.AlertDialogTitle,{children:"Remove Tag"}),(0,d.jsxs)(k.AlertDialogDescription,{children:['Are you sure you want to remove the tag "',D?F(D):"",'"? This action cannot be undone.']})]}),(0,d.jsxs)(k.AlertDialogFooter,{children:[(0,d.jsx)(k.AlertDialogCancel,{children:"Cancel"}),(0,d.jsx)(k.AlertDialogAction,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:()=>D&&H(D),children:"Remove"})]})]})})]})}a.s(["EntityTags",()=>t],949729)},151183,a=>{"use strict";var b=a.i(783281);function c(a){(0,b.useEffect)(()=>{let b=b=>{if(!b.ctrlKey||b.shiftKey||b.altKey||b.metaKey)return;let c=a[b.key];c&&(b.preventDefault(),c())};return window.addEventListener("keydown",b),()=>{window.removeEventListener("keydown",b)}},[a])}a.s(["useSectionShortcuts",()=>c])},301124,a=>{"use strict";let b=(0,a.i(203431).default)("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);a.s(["default",()=>b])},50466,a=>{"use strict";var b=a.i(301124);a.s(["ClipboardList",()=>b.default])},27380,a=>{"use strict";var b=a.i(169021),c=(0,b.createServerReference)("4046758ce012990c78916ef9c8dacc67e604f9aaa8",b.callServer,void 0,b.findSourceMapURL,"archiveEquipment");a.s(["archiveEquipment",()=>c])},683970,a=>{"use strict";let b=(0,a.i(203431).default)("fuel",[["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 4 0v-6.998a2 2 0 0 0-.59-1.42L18 5",key:"1wtuz0"}],["path",{d:"M14 21V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v16",key:"e09ifn"}],["path",{d:"M2 21h13",key:"1x0fut"}],["path",{d:"M3 9h11",key:"1p7c0w"}]]);a.s(["default",()=>b])},702132,a=>{"use strict";let b=(0,a.i(203431).default)("gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);a.s(["default",()=>b])},396859,a=>{"use strict";var b=a.i(702132);a.s(["Gauge",()=>b.default])},50305,a=>{"use strict";var b=a.i(861467),c=a.i(337241),d=a.i(783281),e=a.i(637708);function f({actions:a,children:f}){let g=(0,c.usePathname)()||"/dashboard",h=(0,e.useToolbarActionsStore)(a=>a.setActions),i=(0,e.useToolbarActionsStore)(a=>a.clearActions);return(0,d.useLayoutEffect)(()=>(a?h(g,a):i(g),()=>{i(g)}),[g,a,h,i]),(0,b.jsx)(b.Fragment,{children:f})}a.s(["ToolbarActionsProvider",()=>f])}];

//# sourceMappingURL=_3374e770._.js.map