module.exports=[193695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},997868,a=>{a.n(a.i(884849))},592581,a=>{a.n(a.i(596565))},134005,a=>{a.n(a.i(977930))},565165,a=>{a.n(a.i(728209))},147941,a=>{a.n(a.i(484103))},304434,a=>{a.n(a.i(632684))},407521,a=>{a.n(a.i(693094))},797797,a=>{a.n(a.i(977207))},290022,a=>{a.n(a.i(362735))},729157,a=>{a.n(a.i(470009))},712363,a=>{a.n(a.i(279732))},208120,a=>{a.n(a.i(52860))},863056,a=>{a.n(a.i(77721))},965822,a=>{"use strict";let b=(0,a.i(742210).registerClientReference)(function(){throw Error("Attempted to call CategoryNavigationSync() from the server but CategoryNavigationSync is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/apps/web/src/components/pricebook/category-navigation-sync.tsx <module evaluation>","CategoryNavigationSync");a.s(["CategoryNavigationSync",0,b])},623780,a=>{"use strict";let b=(0,a.i(742210).registerClientReference)(function(){throw Error("Attempted to call CategoryNavigationSync() from the server but CategoryNavigationSync is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/apps/web/src/components/pricebook/category-navigation-sync.tsx","CategoryNavigationSync");a.s(["CategoryNavigationSync",0,b])},862071,a=>{"use strict";a.i(965822);var b=a.i(623780);a.n(b)},836619,a=>{"use strict";let b=(0,a.i(742210).registerClientReference)(function(){throw Error("Attempted to call DrillDownView() from the server but DrillDownView is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/apps/web/src/components/pricebook/drill-down-view.tsx <module evaluation>","DrillDownView");a.s(["DrillDownView",0,b])},118532,a=>{"use strict";let b=(0,a.i(742210).registerClientReference)(function(){throw Error("Attempted to call DrillDownView() from the server but DrillDownView is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/apps/web/src/components/pricebook/drill-down-view.tsx","DrillDownView");a.s(["DrillDownView",0,b])},819596,a=>{"use strict";a.i(836619);var b=a.i(118532);a.n(b)},97810,a=>{"use strict";var b=a.i(504348);a.i(692167);var c=a.i(852596),d=a.i(429969),e=a.i(862071),f=a.i(819596),g=a.i(136874);async function h(){let a=await (0,g.createClient)();if(!a)return[];let{data:b,error:c}=await a.from("price_book_categories").select("id, name, slug, parent_id, path, level, sort_order, item_count, descendant_item_count").eq("is_active",!0).order("level",{ascending:!0}).order("sort_order",{ascending:!0});return c?[]:b||[]}async function i(){var a;let b,c;return a=await h(),b=new Map,a.forEach(a=>{b.set(a.id,{name:a.name,count:a.descendant_item_count,imageUrl:void 0,children:[],parent_id:a.parent_id})}),c=[],b.forEach((a,d)=>{if(null===a.parent_id){let{parent_id:b,...d}=a;c.push(d)}else{let c=b.get(a.parent_id);if(c?.children){let{parent_id:b,...d}=a;c.children.push(d)}}}),c}async function j({params:a}){let{slug:c}=await a;return(0,b.jsx)(d.Suspense,{fallback:(0,b.jsx)("div",{className:"flex h-full items-center justify-center p-4",children:(0,b.jsx)("div",{className:"text-muted-foreground text-sm",children:"Loading price book category..."})}),children:(0,b.jsx)(k,{slug:c})})}async function k({slug:a}){let d=await (0,g.createClient)();if(!d)return(0,c.notFound)();let h=a.map(a=>a.split("-").map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" ")),j=h.join(" â€º "),{data:k,error:l}=await d.from("price_book_categories").select("id").eq("path",j).eq("is_active",!0).single();(l||!k)&&(0,c.notFound)();let{data:m,error:n}=await d.from("price_book_items").select("*").eq("category_id",k.id).eq("is_active",!0).order("name",{ascending:!0});if(n)throw Error(`Failed to load price book items: ${n.message}`);let o=function(a,b){let c=a;for(let a of b){let b=c.find(b=>b.name===a);if(!b?.children)return[];c=b.children}return c}(await i(),h);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(e.CategoryNavigationSync,{categoryPath:h}),(0,b.jsx)(f.DrillDownView,{categories:o,items:m||[],itemsPerPage:50})]})}a.s(["default",()=>j],97810)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__fa76d99c._.js.map