{"version":3,"sources":["../../../../../../apps/web/src/components/ui/full-width-datatable.tsx","../../../../../../node_modules/.pnpm/%40tanstack%2Bvirtual-core%403.13.12/node_modules/%40tanstack/virtual-core/src/utils.ts","../../../../../../node_modules/.pnpm/%40tanstack%2Bvirtual-core%403.13.12/node_modules/%40tanstack/virtual-core/src/index.ts","../../../../../../node_modules/.pnpm/%40tanstack%2Breact-virtual%403.13.12_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/%40tanstack/react-virtual/src/index.tsx"],"sourcesContent":["\"use client\";\n\n/**\n * FullWidthDataTable - Universal Table Component\n * Enterprise-grade table with design system variants for consistent UX\n *\n * DESIGN SYSTEM VARIANTS:\n * - full: Main list pages (50 items/page, full features, standard padding)\n * - compact: Detail view tables (20 items/page, streamlined, reduced padding)\n * - nested: Deeply nested tables (10 items/page, minimal, tight spacing)\n *\n * FEATURES:\n * - Full-width responsive layout\n * - Row selection with checkboxes\n * - Bulk actions toolbar\n * - Search filtering (client-side or server-side)\n * - Pagination with server-side support\n * - Virtual scrolling for 1,000+ rows (auto-detected)\n * - Unread/status highlighting\n * - Hover effects and transitions\n * - Custom column rendering\n * - Column reordering (drag-and-drop)\n * - Column visibility toggling\n * - Sortable columns\n * - Archive status support\n *\n * PERFORMANCE:\n * - Automatically uses virtualization for datasets > 1000 rows\n * - React.cache() compatible for query deduplication\n * - Optimized re-renders with Zustand state management\n * - 60fps scrolling in virtual mode\n *\n * DESIGN SYSTEM:\n * - Consistent spacing, colors, and typography across variants\n * - Unified row height, cell padding, and gap sizes\n * - Standardized hover states and selection highlighting\n * - Accessibility-first design (ARIA labels, keyboard navigation)\n *\n * @example Full variant (main lists)\n * <FullWidthDataTable\n *   variant=\"full\"\n *   data={customers}\n *   columns={columns}\n *   getItemId={(c) => c.id}\n *   entity=\"customers\"\n * />\n *\n * @example Compact variant (detail views)\n * <FullWidthDataTable\n *   variant=\"compact\"\n *   data={jobPayments}\n *   columns={columns}\n *   getItemId={(p) => p.id}\n * />\n *\n * @example Nested variant (deeply nested)\n * <FullWidthDataTable\n *   variant=\"nested\"\n *   data={invoiceLineItems}\n *   columns={columns}\n *   getItemId={(i) => i.id}\n *   showPagination={false}\n * />\n */\n\nimport {\n\tclosestCenter,\n\tDndContext,\n\ttype DragEndEvent,\n\tDragOverlay,\n\ttype DragStartEvent,\n\tKeyboardSensor,\n\tMouseSensor,\n\tTouchSensor,\n\tuseSensor,\n\tuseSensors,\n} from \"@dnd-kit/core\";\nimport {\n\thorizontalListSortingStrategy,\n\tSortableContext,\n\tuseSortable,\n} from \"@dnd-kit/sortable\";\nimport { CSS } from \"@dnd-kit/utilities\";\nimport { Button, Checkbox, cn, Input, ScrollFadeContainer } from \"@stratos/ui\";\nimport { useVirtualizer } from \"@tanstack/react-virtual\";\nimport {\n\tArrowDown,\n\tArrowUp,\n\tArrowUpDown,\n\tCheckCircle2,\n\tChevronLeft,\n\tChevronRight,\n\tRefreshCw,\n\tSearch,\n} from \"lucide-react\";\nimport { useRouter } from \"next/navigation\";\nimport type React from \"react\";\nimport { useEffect, useMemo, useRef, useState } from \"react\";\nimport {\n\tgetColumnWidthClass,\n\trenderCustomColumn,\n} from \"@/lib/datatable/custom-column-renderer\";\nimport { useCustomColumnsStore } from \"@/lib/stores/custom-columns-store\";\nimport { useDataTableColumnsStore } from \"@/lib/stores/datatable-columns-store\";\n\n/**\n * Table display variants for different use cases\n * - full: Full-featured table for main list pages (default)\n * - compact: Streamlined table for detail views and nested tables\n * - nested: Extra compact for deeply nested views (minimal padding)\n */\nexport type TableVariant = \"full\" | \"compact\" | \"nested\";\n\n/**\n * Column definition for table display\n */\nexport type ColumnDef<T> = {\n\t/** Unique identifier for the column */\n\tkey: string;\n\t/** Column header text */\n\theader: string;\n\t/** Custom render function for cell content */\n\trender: (item: T) => React.ReactNode;\n\t/** Column width class (e.g., \"w-48\", \"flex-1\", \"w-32\") */\n\twidth?: string;\n\t/** Whether the column should shrink */\n\tshrink?: boolean;\n\t/** Text alignment */\n\talign?: \"left\" | \"center\" | \"right\";\n\t/** Hide column on mobile */\n\thideOnMobile?: boolean;\n\t/** Enable sorting for this column (Excel-style click header) */\n\tsortable?: boolean;\n\t/** Custom sort function (default: string comparison) */\n\tsortFn?: (a: T, b: T) => number;\n\t/** Allow column to be hidden via Column Visibility Menu */\n\thideable?: boolean;\n};\n\nexport type BulkAction = {\n\t/** Action label */\n\tlabel: string;\n\t/** Action icon */\n\ticon: React.ReactNode;\n\t/** Action handler */\n\tonClick: (selectedIds: Set<string>) => void;\n\t/** Variant style */\n\tvariant?: \"default\" | \"destructive\" | \"outline\" | \"ghost\";\n};\n\n// Sortable Column Header Component\nfunction SortableColumnHeader<T>({\n\tcolumn,\n\tisSorted,\n\tsortDirection,\n\tonSort,\n\tcolIndex,\n\ttotalColumns,\n}: {\n\tcolumn: ColumnDef<T>;\n\tisSorted: boolean;\n\tsortDirection: \"asc\" | \"desc\";\n\tonSort: (key: string) => void;\n\tcolIndex: number;\n\ttotalColumns: number;\n}) {\n\tconst [mouseDownPos, setMouseDownPos] = useState<{\n\t\tx: number;\n\t\ty: number;\n\t} | null>(null);\n\n\tconst {\n\t\tattributes,\n\t\tlisteners,\n\t\tsetNodeRef,\n\t\ttransform,\n\t\ttransition,\n\t\tisDragging,\n\t} = useSortable({\n\t\tid: column.key,\n\t});\n\n\tconst widthClass = column.width || \"flex-1\";\n\tconst shrinkClass = column.shrink ? \"shrink-0\" : \"\";\n\tconst alignClass =\n\t\tcolumn.align === \"right\"\n\t\t\t? \"justify-end text-right\"\n\t\t\t: column.align === \"center\"\n\t\t\t\t? \"justify-center text-center\"\n\t\t\t\t: \"justify-start text-left\";\n\tconst hideClass = column.hideOnMobile ? \"hidden md:flex\" : \"flex\";\n\tconst cellBorder =\n\t\tcolIndex < totalColumns - 1 ? \"border-r border-border/30\" : \"\";\n\n\tconst style: React.CSSProperties = {\n\t\ttransform: CSS.Transform.toString(transform),\n\t\ttransition,\n\t};\n\n\t// Track mouse down position\n\tconst handleMouseDown = (e: React.MouseEvent) => {\n\t\tsetMouseDownPos({ x: e.clientX, y: e.clientY });\n\t};\n\n\t// Handle click for sorting - only if it was a click (not a drag)\n\tconst handleClick = (e: React.MouseEvent) => {\n\t\tif (!(column.sortable && mouseDownPos)) {\n\t\t\treturn;\n\t\t}\n\n\t\t// Calculate movement since mouse down\n\t\tconst deltaX = Math.abs(e.clientX - mouseDownPos.x);\n\t\tconst deltaY = Math.abs(e.clientY - mouseDownPos.y);\n\n\t\t// If movement was less than 5px, treat it as a click (not a drag)\n\t\tif (deltaX < 5 && deltaY < 5) {\n\t\t\tonSort(column.key);\n\t\t}\n\n\t\tsetMouseDownPos(null);\n\t};\n\n\treturn (\n\t\t<div\n\t\t\tclassName={`${hideClass} ${widthClass} ${shrinkClass} ${alignClass} ${cellBorder} group/header relative flex min-w-0 cursor-grab items-center gap-1.5 overflow-hidden px-2 ${isDragging ? \"opacity-40\" : \"transition-all active:cursor-grabbing\"}`}\n\t\t\tonClick={handleClick}\n\t\t\tonMouseDown={handleMouseDown}\n\t\t\tref={setNodeRef}\n\t\t\tstyle={style}\n\t\t\t{...attributes}\n\t\t\t{...listeners}\n\t\t>\n\t\t\t<span className=\"font-medium\">{column.header}</span>\n\t\t\t{column.sortable &&\n\t\t\t\t(isSorted ? (\n\t\t\t\t\tsortDirection === \"asc\" ? (\n\t\t\t\t\t\t<ArrowUp className=\"size-3 shrink-0\" />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<ArrowDown className=\"size-3 shrink-0\" />\n\t\t\t\t\t)\n\t\t\t\t) : (\n\t\t\t\t\t<ArrowUpDown className=\"size-3 shrink-0 opacity-40 transition-opacity group-hover/header:opacity-60\" />\n\t\t\t\t))}\n\t\t</div>\n\t);\n}\n\n/**\n * Props for FullWidthDataTable component\n */\nexport type FullWidthDataTableProps<T> = {\n\t/** Array of data items to display */\n\tdata: T[];\n\t/** Column definitions */\n\tcolumns: ColumnDef<T>[];\n\t/** Function to extract unique ID from item */\n\tgetItemId: (item: T) => string;\n\n\t// === DESIGN SYSTEM ===\n\t/** Table display variant (full: main lists, compact: detail views, nested: deeply nested) */\n\tvariant?: TableVariant;\n\n\t// === ROW HIGHLIGHTING ===\n\t/** Function to determine if row should be highlighted (e.g., unread) */\n\tisHighlighted?: (item: T) => boolean;\n\t/** Function to get highlight background class */\n\tgetHighlightClass?: (item: T) => string;\n\n\t// === INTERACTIONS ===\n\t/** Handler when row is clicked */\n\tonRowClick?: (item: T) => void;\n\t/** Bulk actions to show when items are selected */\n\tbulkActions?: BulkAction[];\n\t/** Enable row selection */\n\tenableSelection?: boolean;\n\n\t// === SEARCH & FILTERING ===\n\t/** Search placeholder text */\n\tsearchPlaceholder?: string;\n\t/** Function to filter items based on search query */\n\tsearchFilter?: (item: T, query: string) => boolean;\n\t/** Initial search query from server (for server-side search) */\n\tinitialSearchQuery?: string;\n\t/** Enable server-driven search (updates query string instead of client filtering) */\n\tserverSearch?: boolean;\n\t/** Query parameter name to use for server search */\n\tsearchParamKey?: string;\n\t/** Debounce (ms) before triggering server search */\n\tsearchDebounceMs?: number;\n\n\t// === EMPTY STATE ===\n\t/** Empty state message */\n\temptyMessage?: string;\n\t/** Empty state icon */\n\temptyIcon?: React.ReactNode;\n\t/** Empty state action button (e.g., \"Add Job\") */\n\temptyAction?: React.ReactNode;\n\n\t// === REFRESH ===\n\t/** Show refresh button (default: false for automatic updates) */\n\tshowRefresh?: boolean;\n\t/** Refresh handler */\n\tonRefresh?: () => void;\n\n\t// === PAGINATION ===\n\t/** Show pagination */\n\tshowPagination?: boolean;\n\t/** Items per page (default 50 for full, 20 for compact, 10 for nested) */\n\titemsPerPage?: number;\n\t/** Total count from server (for accurate pagination display with server-side pagination) */\n\ttotalCount?: number;\n\t/** Current page (for server-side pagination, passed from URL params) */\n\tcurrentPageFromServer?: number;\n\t/** Data is already paginated on the server (skip client-side slicing) */\n\tserverPagination?: boolean;\n\n\t// === TOOLBAR ===\n\t/** Custom toolbar actions (rendered on right side) */\n\ttoolbarActions?: React.ReactNode;\n\t/** Remove padding from toolbar (useful when embedded in accordions) */\n\tnoPadding?: boolean;\n\n\t// === ROW CUSTOMIZATION ===\n\t/** Custom row className */\n\tgetRowClassName?: (item: T) => string;\n\n\t// === VIRTUALIZATION ===\n\t/** Enable virtual scrolling (auto: true if data.length > 1000, false otherwise) */\n\tenableVirtualization?: boolean | \"auto\";\n\t/** Row height for virtualization (auto-calculated based on variant) */\n\tvirtualRowHeight?: number;\n\t/** Overscan for virtualization (default: 5) */\n\tvirtualOverscan?: number;\n\n\t// === COLUMN MANAGEMENT ===\n\t/** Entity type for column visibility persistence (e.g., \"appointments\", \"jobs\") */\n\tentity?: string;\n\n\t// === ARCHIVE SUPPORT ===\n\t/** Show archived items (default: true) */\n\tshowArchived?: boolean;\n\t/** Function to determine if item is archived */\n\tisArchived?: (item: T) => boolean;\n};\n\n/**\n * Design system configuration for table variants\n */\nconst VARIANT_CONFIG = {\n\tfull: {\n\t\t// Main list tables - full features\n\t\titemsPerPage: 50,\n\t\tvirtualRowHeight: 60,\n\t\ttoolbarPadding: \"px-4 py-2 sm:px-4\",\n\t\theaderPadding: \"px-4 py-2\",\n\t\trowPadding: \"px-3 py-1.5 sm:px-4 sm:py-2\",\n\t\tcellPadding: \"px-2\",\n\t\theaderTextSize: \"text-xs\",\n\t\tcellTextSize: \"text-sm\",\n\t\theaderBg: \"bg-muted dark:bg-muted\",\n\t\trowBg: \"bg-card\",\n\t\trowBgAlt: \"bg-card/70\",\n\t\trowHover: \"table-row-hover\", // Use new utility with inset glow\n\t\tborderColor: \"border-border-subtle\", // Use subtle border color for hairlines\n\t\tgapSize: \"gap-4 sm:gap-6\",\n\t\tshowPagination: true,\n\t\tshowSearch: true,\n\t},\n\tcompact: {\n\t\t// Detail view tables - streamlined\n\t\titemsPerPage: 20,\n\t\tvirtualRowHeight: 48,\n\t\ttoolbarPadding: \"px-4 py-3 sm:px-6\",\n\t\theaderPadding: \"px-3 py-1.5\",\n\t\trowPadding: \"px-2 py-1 sm:px-3 sm:py-1.5\",\n\t\tcellPadding: \"px-1.5\",\n\t\theaderTextSize: \"text-[11px]\",\n\t\tcellTextSize: \"text-xs\",\n\t\theaderBg: \"bg-muted/80 dark:bg-muted/60\",\n\t\trowBg: \"bg-background\",\n\t\trowBgAlt: \"bg-muted/20 dark:bg-muted/10\",\n\t\trowHover: \"table-row-hover\", // Use new utility\n\t\tborderColor: \"border-border-subtle\", // Use subtle border\n\t\tgapSize: \"gap-3 sm:gap-4\",\n\t\tshowPagination: true,\n\t\tshowSearch: true,\n\t},\n\tnested: {\n\t\t// Deeply nested tables - minimal\n\t\titemsPerPage: 10,\n\t\tvirtualRowHeight: 40,\n\t\ttoolbarPadding: \"px-2 py-1\",\n\t\theaderPadding: \"px-2 py-1\",\n\t\trowPadding: \"px-1.5 py-0.5 sm:px-2 sm:py-1\",\n\t\tcellPadding: \"px-1\",\n\t\theaderTextSize: \"text-[10px]\",\n\t\tcellTextSize: \"text-[11px]\",\n\t\theaderBg: \"bg-muted/60 dark:bg-muted/40\",\n\t\trowBg: \"bg-background\",\n\t\trowBgAlt: \"bg-muted/10 dark:bg-muted/5\",\n\t\trowHover: \"table-row-hover\", // Use new utility\n\t\tborderColor: \"border-border-subtle\", // Use subtle border\n\t\tgapSize: \"gap-2 sm:gap-3\",\n\t\tshowPagination: false,\n\t\tshowSearch: false,\n\t},\n} as const;\n\nexport function FullWidthDataTable<T>({\n\tdata = [] as T[],\n\tcolumns,\n\tgetItemId,\n\tvariant = \"full\",\n\tisHighlighted,\n\tgetHighlightClass,\n\tonRowClick,\n\tbulkActions = [],\n\tsearchPlaceholder = \"Search...\",\n\tsearchFilter,\n\temptyMessage = \"No items found\",\n\temptyIcon,\n\temptyAction,\n\tshowRefresh = false,\n\tonRefresh,\n\tshowPagination,\n\titemsPerPage,\n\ttotalCount,\n\tcurrentPageFromServer = 1,\n\tserverPagination = false,\n\ttoolbarActions,\n\tenableSelection = true,\n\tgetRowClassName,\n\tenableVirtualization = \"auto\",\n\tvirtualRowHeight,\n\tvirtualOverscan = 5,\n\tentity,\n\tshowArchived = true,\n\tisArchived,\n\tinitialSearchQuery = \"\",\n\tserverSearch = false,\n\tsearchParamKey = \"search\",\n\tsearchDebounceMs = 300,\n\tnoPadding = false,\n\tonSelectionChange,\n}: FullWidthDataTableProps<T> & {\n\tonSelectionChange?: (selectedIds: Set<string>) => void;\n}) {\n\t// Get variant configuration\n\tconst config = VARIANT_CONFIG[variant];\n\n\t// Apply variant defaults if not explicitly provided\n\tconst effectiveItemsPerPage = itemsPerPage ?? config.itemsPerPage;\n\tconst effectiveVirtualRowHeight = virtualRowHeight ?? config.virtualRowHeight;\n\tconst effectiveShowPagination = showPagination ?? config.showPagination;\n\tconst effectiveShowSearch =\n\t\t(searchFilter || serverSearch) && config.showSearch;\n\tconst router = useRouter();\n\tconst [selectedIds, setSelectedIds] = useState<Set<string>>(new Set());\n\tconst [searchQuery, setSearchQuery] = useState(initialSearchQuery ?? \"\");\n\t// Use page from server (no hydration mismatch)\n\tconst [currentPage, setCurrentPage] = useState(currentPageFromServer);\n\tconst lastServerSearchRef = useRef(initialSearchQuery ?? \"\");\n\tconst scrollContainerRef = useRef<HTMLDivElement>(null);\n\tconst toolbarRef = useRef<HTMLDivElement>(null);\n\tconst [toolbarHeight, setToolbarHeight] = useState(50); // Default fallback\n\tconst lastSelectedIndexRef = useRef<number | null>(null); // Track last clicked index for Shift+Click\n\n\t// Client-only state to prevent hydration mismatch\n\tconst [isClient, setIsClient] = useState(false);\n\n\t// Sorting state\n\tconst [sortBy, setSortBy] = useState<string | null>(null);\n\tconst [sortDirection, setSortDirection] = useState<\"asc\" | \"desc\">(\"asc\");\n\n\t// Column visibility and ordering from Zustand store\n\tconst _isColumnVisible = useDataTableColumnsStore(\n\t\t(state) => state.isColumnVisible,\n\t);\n\tconst getColumnOrder = useDataTableColumnsStore(\n\t\t(state) => state.getColumnOrder,\n\t);\n\tconst setColumnOrder = useDataTableColumnsStore(\n\t\t(state) => state.setColumnOrder,\n\t);\n\tconst initializeEntity = useDataTableColumnsStore(\n\t\t(state) => state.initializeEntity,\n\t);\n\n\t// Subscribe to column visibility state to trigger re-renders when columns are toggled\n\tconst columnVisibilityState = useDataTableColumnsStore((state) =>\n\t\tentity ? state.entities[entity] : null,\n\t);\n\n\t// Subscribe to column order state to trigger re-renders when columns are reordered\n\tconst columnOrderState = useDataTableColumnsStore((state) =>\n\t\tentity ? state.columnOrder[entity] : null,\n\t);\n\n\t// Set client flag after mount to prevent hydration issues\n\tuseEffect(() => {\n\t\tsetIsClient(true);\n\t}, []);\n\n\tuseEffect(() => {\n\t\tsetCurrentPage(currentPageFromServer);\n\t}, [currentPageFromServer]);\n\n\tuseEffect(() => {\n\t\tconst normalized = initialSearchQuery ?? \"\";\n\t\tsetSearchQuery(normalized);\n\t\tlastServerSearchRef.current = normalized;\n\t}, [initialSearchQuery]);\n\n\t// Custom columns from Zustand store - use stable selector\n\tconst allCustomColumns = useCustomColumnsStore((state) => state.columns);\n\tconst customColumns = useMemo(\n\t\t() => (entity ? allCustomColumns[entity] || [] : []),\n\t\t[allCustomColumns, entity],\n\t);\n\n\t// Measure toolbar height dynamically\n\tuseEffect(() => {\n\t\tconst measureToolbar = () => {\n\t\t\tif (toolbarRef.current) {\n\t\t\t\tconst height = toolbarRef.current.offsetHeight;\n\t\t\t\tsetToolbarHeight(height);\n\t\t\t}\n\t\t};\n\n\t\t// Measure on mount and when window resizes\n\t\tmeasureToolbar();\n\t\twindow.addEventListener(\"resize\", measureToolbar);\n\n\t\t// Small delay to ensure toolbar is fully rendered\n\t\tconst timer = setTimeout(measureToolbar, 100);\n\n\t\treturn () => {\n\t\t\twindow.removeEventListener(\"resize\", measureToolbar);\n\t\t\tclearTimeout(timer);\n\t\t};\n\t}, []); // Re-measure when toolbar content changes\n\n\tuseEffect(() => {\n\t\tif (!serverSearch) {\n\t\t\treturn;\n\t\t}\n\t\tif (searchQuery === lastServerSearchRef.current) {\n\t\t\treturn;\n\t\t}\n\t\tconst handler = setTimeout(() => {\n\t\t\tif (typeof window === \"undefined\") {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst params = new URLSearchParams(window.location.search);\n\t\t\tif (searchQuery) {\n\t\t\t\tparams.set(searchParamKey, searchQuery);\n\t\t\t} else {\n\t\t\t\tparams.delete(searchParamKey);\n\t\t\t}\n\t\t\tparams.set(\"page\", \"1\");\n\t\t\tconst queryString = params.toString();\n\t\t\trouter.push(queryString ? `?${queryString}` : \"?\", { scroll: false });\n\t\t\tlastServerSearchRef.current = searchQuery;\n\t\t}, searchDebounceMs);\n\t\treturn () => clearTimeout(handler);\n\t}, [searchQuery, serverSearch, searchParamKey, router, searchDebounceMs]);\n\n\t// Merge predefined columns with custom columns\n\tconst allColumns = useMemo(() => {\n\t\tif (!entity) {\n\t\t\treturn columns;\n\t\t}\n\n\t\t// Convert custom columns to ColumnDef format\n\t\tconst customColumnDefs: ColumnDef<T>[] = customColumns.map((col) => ({\n\t\t\tkey: col.id,\n\t\t\theader: col.label,\n\t\t\twidth: getColumnWidthClass(col.width),\n\t\t\tsortable: col.sortable,\n\t\t\thideable: true, // Custom columns are always hideable\n\t\t\trender: (item: T) => renderCustomColumn(item, col.fieldPath, col.format),\n\t\t}));\n\n\t\treturn [...columns, ...customColumnDefs];\n\t}, [columns, customColumns, entity]);\n\n\t// Initialize entity with columns on mount (client-side only)\n\tuseEffect(() => {\n\t\tif (isClient && entity && allColumns.length > 0) {\n\t\t\tinitializeEntity(\n\t\t\t\tentity,\n\t\t\t\tallColumns.map((col) => col.key),\n\t\t\t);\n\t\t}\n\t\t// ESLint disable: initializeEntity is a Zustand action with stable reference\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [isClient, entity, allColumns]);\n\n\t// Get ordered columns based on stored order (only on client to prevent hydration issues)\n\tconst orderedColumns = useMemo(() => {\n\t\t// Always use default order on server or when entity is not provided\n\t\tif (!(isClient && entity)) {\n\t\t\treturn allColumns;\n\t\t}\n\n\t\tconst storedOrder = columnOrderState || getColumnOrder(entity);\n\t\tif (!storedOrder || storedOrder.length === 0) {\n\t\t\treturn allColumns;\n\t\t}\n\n\t\t// Create a map of columns by key for quick lookup\n\t\tconst columnMap = new Map(allColumns.map((col) => [col.key, col]));\n\n\t\t// Order columns based on stored order, add any new columns at the end\n\t\tconst ordered: ColumnDef<T>[] = [];\n\t\tconst usedKeys = new Set<string>();\n\n\t\t// Add columns in stored order\n\t\tfor (const key of storedOrder) {\n\t\t\tconst column = columnMap.get(key);\n\t\t\tif (column) {\n\t\t\t\tordered.push(column);\n\t\t\t\tusedKeys.add(key);\n\t\t\t}\n\t\t}\n\n\t\t// Add any new columns that weren't in the stored order\n\t\tfor (const column of allColumns) {\n\t\t\tif (!usedKeys.has(column.key)) {\n\t\t\t\tordered.push(column);\n\t\t\t}\n\t\t}\n\n\t\treturn ordered;\n\t}, [isClient, allColumns, entity, columnOrderState, getColumnOrder]);\n\n\t// Filter columns based on visibility (only if entity is provided)\n\tconst visibleColumns = useMemo(() => {\n\t\tif (!entity) {\n\t\t\treturn orderedColumns;\n\t\t}\n\n\t\t// Read visibility directly from the state object for better reactivity\n\t\tconst filtered = orderedColumns.filter((col) => {\n\t\t\tif (!col.hideable) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tconst visible = columnVisibilityState?.[col.key] ?? true;\n\t\t\treturn visible;\n\t\t});\n\n\t\t// Ensure at least one column has flex-1 for intelligent spacing\n\t\t// If no columns have flex-1, assign it to the first column without a specific width\n\t\tconst hasFlexColumn = filtered.some(\n\t\t\t(col) => col.width === \"flex-1\" || !col.width,\n\t\t);\n\n\t\tif (!hasFlexColumn && filtered.length > 0) {\n\t\t\t// Find the first column that doesn't have a fixed width or is the longest content column\n\t\t\tconst flexibleColumnIndex = filtered.findIndex(\n\t\t\t\t(col) =>\n\t\t\t\t\t!col.width || col.width === \"flex-1\" || !col.width.startsWith(\"w-\"),\n\t\t\t);\n\n\t\t\tif (flexibleColumnIndex !== -1) {\n\t\t\t\t// Clone the column and set flex-1\n\t\t\t\tfiltered[flexibleColumnIndex] = {\n\t\t\t\t\t...filtered[flexibleColumnIndex],\n\t\t\t\t\twidth: \"flex-1\",\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\t\treturn filtered;\n\t}, [orderedColumns, entity, columnVisibilityState]);\n\n\t// Filter data based on search query and archived status\n\tconst filteredData = useMemo(() => {\n\t\tlet filtered = data;\n\n\t\t// Filter by search query\n\t\tif (searchQuery && searchFilter) {\n\t\t\tfiltered = filtered.filter((item) =>\n\t\t\t\tsearchFilter(item, searchQuery.toLowerCase()),\n\t\t\t);\n\t\t}\n\n\t\t// Filter archived items if showArchived is false\n\t\tif (!showArchived && isArchived) {\n\t\t\tfiltered = filtered.filter((item) => !isArchived(item));\n\t\t}\n\n\t\treturn filtered;\n\t}, [data, searchQuery, searchFilter, showArchived, isArchived]);\n\n\t// Sort data - CRITICAL: archived items ALWAYS at bottom\n\tconst sortedData = useMemo(() => {\n\t\tif (!sortBy) {\n\t\t\treturn filteredData;\n\t\t}\n\n\t\tconst column = allColumns.find((c) => c.key === sortBy);\n\t\tif (!column?.sortable) {\n\t\t\treturn filteredData;\n\t\t}\n\n\t\t// Separate active and archived items\n\t\tconst active = filteredData.filter((item) => !isArchived?.(item));\n\t\tconst archived = filteredData.filter((item) => isArchived?.(item));\n\n\t\t// Sort active items\n\t\tconst sortedActive = [...active].sort((a, b) => {\n\t\t\tif (column.sortFn) {\n\t\t\t\tconst result = column.sortFn(a, b);\n\t\t\t\treturn sortDirection === \"asc\" ? result : -result;\n\t\t\t}\n\n\t\t\t// Default: string comparison\n\t\t\tconst aVal = String((a as any)[sortBy] ?? \"\");\n\t\t\tconst bVal = String((b as any)[sortBy] ?? \"\");\n\t\t\tconst comparison = aVal.localeCompare(bVal);\n\t\t\treturn sortDirection === \"asc\" ? comparison : -comparison;\n\t\t});\n\n\t\t// ALWAYS put archived at bottom\n\t\treturn [...sortedActive, ...archived];\n\t}, [filteredData, sortBy, sortDirection, allColumns, isArchived]);\n\n\t// DISABLED: Virtualization removed - pagination only\n\t// Always use pagination, never virtualization\n\tconst useVirtualization = false;\n\n\t// Virtual scrolling setup (only when virtualization is enabled)\n\tconst rowVirtualizer = useVirtualizer({\n\t\tcount: useVirtualization ? sortedData.length : 0,\n\t\tgetScrollElement: () => scrollContainerRef.current,\n\t\testimateSize: () => effectiveVirtualRowHeight,\n\t\toverscan: virtualOverscan,\n\t\tenabled: useVirtualization,\n\t});\n\n\t// Paginate data (only when not virtualizing)\n\tconst paginatedData = useMemo(() => {\n\t\tif (useVirtualization) {\n\t\t\treturn sortedData;\n\t\t}\n\t\tif (!effectiveShowPagination || serverPagination) {\n\t\t\t// Data already represents the correct slice (either virtualized or server-paginated)\n\t\t\treturn sortedData;\n\t\t}\n\t\tconst start = (currentPage - 1) * effectiveItemsPerPage;\n\t\tconst end = start + effectiveItemsPerPage;\n\t\treturn sortedData.slice(start, end);\n\t}, [\n\t\tsortedData,\n\t\tcurrentPage,\n\t\teffectiveItemsPerPage,\n\t\teffectiveShowPagination,\n\t\tserverPagination,\n\t\tuseVirtualization,\n\t]);\n\n\t// Get virtual items OUTSIDE of useMemo so it re-renders on scroll\n\tconst virtualItems = useVirtualization\n\t\t? rowVirtualizer.getVirtualItems()\n\t\t: [];\n\n\t// Display data: either virtual items or paginated items\n\tconst displayData = useMemo(() => {\n\t\tif (useVirtualization) {\n\t\t\treturn virtualItems.map((virtualItem) => ({\n\t\t\t\titem: sortedData[virtualItem.index],\n\t\t\t\tvirtualItem,\n\t\t\t}));\n\t\t}\n\t\treturn paginatedData.map((item) => ({ item, virtualItem: null }));\n\t}, [useVirtualization, virtualItems, sortedData, paginatedData]);\n\n\t// Use totalCount from server if provided, otherwise calculate from client data\n\tconst totalPages = Math.ceil(\n\t\t(totalCount || sortedData.length) / effectiveItemsPerPage,\n\t);\n\n\t// Selection handlers\n\tconst handleSelectAll = (checked: boolean) => {\n\t\tif (checked) {\n\t\t\tconst allIds = new Set(paginatedData.map(getItemId));\n\t\t\tsetSelectedIds(allIds);\n\t\t} else {\n\t\t\tsetSelectedIds(new Set());\n\t\t}\n\t};\n\n\tconst handleSelectItem = (\n\t\tid: string,\n\t\tindex: number,\n\t\tevent?: React.MouseEvent | React.KeyboardEvent,\n\t) => {\n\t\tconst newSelected = new Set(selectedIds);\n\n\t\t// Check if Shift key is held for range selection\n\t\tconst isShiftHeld = event && \"shiftKey\" in event && event.shiftKey;\n\n\t\tif (isShiftHeld && lastSelectedIndexRef.current !== null) {\n\t\t\t// Range selection: select all items between last selected and current\n\t\t\tconst start = Math.min(lastSelectedIndexRef.current, index);\n\t\t\tconst end = Math.max(lastSelectedIndexRef.current, index);\n\n\t\t\t// Select all items in range\n\t\t\tfor (let i = start; i <= end; i++) {\n\t\t\t\tconst item = paginatedData[i];\n\t\t\t\tif (item) {\n\t\t\t\t\tnewSelected.add(getItemId(item));\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\t// Normal toggle selection\n\t\t\tif (newSelected.has(id)) {\n\t\t\t\tnewSelected.delete(id);\n\t\t\t} else {\n\t\t\t\tnewSelected.add(id);\n\t\t\t}\n\t\t}\n\n\t\t// Update last selected index (anchor point)\n\t\tlastSelectedIndexRef.current = index;\n\t\tsetSelectedIds(newSelected);\n\t};\n\n\t// Notify parent of selection changes\n\tuseEffect(() => {\n\t\tonSelectionChange?.(selectedIds);\n\t}, [selectedIds, onSelectionChange]);\n\n\tconst handleRowClick = (item: T, event: React.MouseEvent) => {\n\t\t// Prevent row click if clicking on checkbox or action buttons\n\t\tconst target = event.target as HTMLElement;\n\t\tif (\n\t\t\ttarget.closest(\"[data-no-row-click]\") ||\n\t\t\ttarget.closest(\"button\") ||\n\t\t\ttarget.closest('[role=\"checkbox\"]')\n\t\t) {\n\t\t\treturn;\n\t\t}\n\t\tonRowClick?.(item);\n\t};\n\n\tconst updatePageInQuery = (newPage: number) => {\n\t\tif (typeof window === \"undefined\") {\n\t\t\treturn;\n\t\t}\n\t\tconst params = new URLSearchParams(window.location.search);\n\t\tparams.set(\"page\", String(newPage));\n\t\tconst queryString = params.toString();\n\t\trouter.push(queryString ? `?${queryString}` : \"?\", { scroll: false });\n\t};\n\n\tconst handlePreviousPage = () => {\n\t\tconst newPage = Math.max(1, currentPage - 1);\n\t\tsetCurrentPage(newPage);\n\t\tupdatePageInQuery(newPage);\n\t};\n\n\tconst handleNextPage = () => {\n\t\tconst newPage = Math.min(totalPages, currentPage + 1);\n\t\tsetCurrentPage(newPage);\n\t\tupdatePageInQuery(newPage);\n\t};\n\n\tconst isAllSelected =\n\t\tselectedIds.size === paginatedData.length && paginatedData.length > 0;\n\n\t// Sort handler - click once = asc, twice = desc, third = clear\n\tconst handleSort = (columnKey: string) => {\n\t\tif (sortBy === columnKey) {\n\t\t\t// Already sorting by this column\n\t\t\tif (sortDirection === \"asc\") {\n\t\t\t\tsetSortDirection(\"desc\");\n\t\t\t} else {\n\t\t\t\t// Clear sort\n\t\t\t\tsetSortBy(null);\n\t\t\t\tsetSortDirection(\"asc\");\n\t\t\t}\n\t\t} else {\n\t\t\t// New column\n\t\t\tsetSortBy(columnKey);\n\t\t\tsetSortDirection(\"asc\");\n\t\t}\n\t};\n\n\t// Drag and drop sensors\n\tconst sensors = useSensors(\n\t\tuseSensor(MouseSensor, {\n\t\t\tactivationConstraint: {\n\t\t\t\tdistance: 5, // 5px movement required to start drag\n\t\t\t},\n\t\t}),\n\t\tuseSensor(TouchSensor, {\n\t\t\tactivationConstraint: {\n\t\t\t\tdelay: 200,\n\t\t\t\ttolerance: 5,\n\t\t\t},\n\t\t}),\n\t\tuseSensor(KeyboardSensor),\n\t);\n\n\t// Track active drag column for overlay\n\tconst [activeColumn, setActiveColumn] = useState<{\n\t\tcolumn: ColumnDef<T>;\n\t\twidth: number;\n\t\talign: \"left\" | \"center\" | \"right\";\n\t} | null>(null);\n\n\t// Handle drag start\n\tconst handleDragStart = (event: DragStartEvent) => {\n\t\tconst column = orderedColumns.find((col) => col.key === event.active.id);\n\t\tif (column) {\n\t\t\t// Get the actual width of the column being dragged\n\t\t\t// Try to get the element from the active item\n\t\t\tlet width = 150; // Default fallback\n\t\t\ttry {\n\t\t\t\tconst element = event.active.rect?.current?.initial;\n\t\t\t\tif (element?.width) {\n\t\t\t\t\twidth = element.width;\n\t\t\t\t}\n\t\t\t} catch (_error) {}\n\n\t\t\tconst align = column.align || \"left\";\n\t\t\tsetActiveColumn({ column, width, align });\n\t\t} else {\n\t\t\tsetActiveColumn(null);\n\t\t}\n\t};\n\n\t// Handle drag end for column reordering\n\tconst handleDragEnd = (event: DragEndEvent) => {\n\t\tconst { active, over } = event;\n\n\t\tif (!(entity && over) || active.id === over.id) {\n\t\t\tsetActiveColumn(null);\n\t\t\treturn;\n\t\t}\n\n\t\t// Get current order from store\n\t\tconst currentOrder = getColumnOrder(entity);\n\n\t\tif (!currentOrder) {\n\t\t\tsetActiveColumn(null);\n\t\t\treturn;\n\t\t}\n\n\t\tconst oldIndex = currentOrder.indexOf(active.id as string);\n\t\tconst newIndex = currentOrder.indexOf(over.id as string);\n\n\t\tif (oldIndex === -1 || newIndex === -1) {\n\t\t\tsetActiveColumn(null);\n\t\t\treturn;\n\t\t}\n\n\t\t// Create new order by moving the column\n\t\tconst newOrder = [...currentOrder];\n\t\tconst [removed] = newOrder.splice(oldIndex, 1);\n\t\tnewOrder.splice(newIndex, 0, removed);\n\n\t\t// Save to store - this will trigger a re-render via columnOrderState subscription\n\t\tsetColumnOrder(entity, newOrder);\n\t\tsetActiveColumn(null);\n\t};\n\n\treturn (\n\t\t<div className=\"bg-background relative flex h-full flex-1 flex-col overflow-hidden\">\n\t\t\t<div\n\t\t\t\tclassName=\"momentum-scroll flex-1 overflow-x-auto overflow-y-auto\"\n\t\t\t\tref={scrollContainerRef}\n\t\t\t>\n\t\t\t\t{/* Sticky Top Toolbar */}\n\t\t\t\t<div\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\"bg-background dark:bg-background sticky top-0 z-30 flex flex-wrap items-center gap-2 border-b-hairline border-border-subtle sm:gap-2\",\n\t\t\t\t\t\tconfig.borderColor,\n\t\t\t\t\t\tnoPadding ? \"px-0 py-0\" : config.toolbarPadding,\n\t\t\t\t\t)}\n\t\t\t\t\tref={toolbarRef}\n\t\t\t\t>\n\t\t\t\t\t{/* Left Section - Search */}\n\t\t\t\t\t<div className=\"flex items-center gap-1.5 sm:gap-2\">\n\t\t\t\t\t\t{effectiveShowSearch && (\n\t\t\t\t\t\t\t<div className=\"relative\">\n\t\t\t\t\t\t\t\t<Search className=\"text-muted-foreground absolute top-1/2 left-3 h-4 w-4 -translate-y-1/2 transition-colors\" />\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\tclassName=\"focus:ring-primary/20 h-10 md:h-9 w-full sm:w-64 md:w-96 pl-9 text-base md:text-sm transition-all duration-200 focus:ring-2\"\n\t\t\t\t\t\t\t\t\tonChange={(e) => {\n\t\t\t\t\t\t\t\t\t\tsetSearchQuery(e.target.value);\n\t\t\t\t\t\t\t\t\t\tsetCurrentPage(1); // Reset to first page on search\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tplaceholder={searchPlaceholder}\n\t\t\t\t\t\t\t\t\tvalue={searchQuery}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Middle Section - Bulk Actions */}\n\t\t\t\t\t{selectedIds.size > 0 && bulkActions.length > 0 && (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<div className=\"bg-border/50 mx-2 h-5 w-px\" />\n\t\t\t\t\t\t\t<div className=\"flex flex-wrap items-center gap-2\">\n\t\t\t\t\t\t\t\t{bulkActions.map((action, index) => (\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\t\"transition-all duration-200 hover:scale-105 active:scale-95\",\n\t\t\t\t\t\t\t\t\t\t\taction.variant === \"destructive\" &&\n\t\t\t\t\t\t\t\t\t\t\t\t\"text-white hover:text-white dark:text-white\",\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\t\tonClick={() => action.onClick(selectedIds)}\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tvariant={action.variant || \"outline\"}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{action.icon}\n\t\t\t\t\t\t\t\t\t\t<span className=\"ml-2 hidden sm:inline\">\n\t\t\t\t\t\t\t\t\t\t\t{action.label}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t<div className=\"bg-border/50 mx-1 h-5 w-px\" />\n\t\t\t\t\t\t\t\t<span className=\"text-muted-foreground text-xs font-medium tabular-nums\">\n\t\t\t\t\t\t\t\t\t{selectedIds.size} selected\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Right Section - Toolbar Actions & Pagination */}\n\t\t\t\t\t<div className=\"ml-auto flex flex-wrap items-center gap-2\">\n\t\t\t\t\t\t{showRefresh && (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tclassName=\"h-10 w-10 md:h-9 md:w-9 p-0 transition-all duration-200 hover:scale-105 active:scale-95\"\n\t\t\t\t\t\t\t\tonClick={onRefresh}\n\t\t\t\t\t\t\t\tsize=\"icon\"\n\t\t\t\t\t\t\t\ttitle=\"Refresh\"\n\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<RefreshCw className=\"h-5 w-5 md:h-4 md:w-4\" />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{toolbarActions}\n\n\t\t\t\t\t\t{effectiveShowPagination && !useVirtualization && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<div className=\"bg-border/50 h-5 w-px\" />\n\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-1 md:gap-2\">\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tclassName=\"h-10 w-10 md:h-9 md:w-9 p-0 transition-all duration-200 hover:scale-110 active:scale-95 disabled:hover:scale-100\"\n\t\t\t\t\t\t\t\t\t\tdisabled={currentPage === 1}\n\t\t\t\t\t\t\t\t\t\tonClick={handlePreviousPage}\n\t\t\t\t\t\t\t\t\t\tsize=\"icon\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<ChevronLeft className=\"h-5 w-5 md:h-4 md:w-4\" />\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t<span className=\"text-muted-foreground text-xs font-medium text-nowrap tabular-nums\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"hidden sm:inline\">\n\t\t\t\t\t\t\t\t\t\t\t{(currentPage - 1) * effectiveItemsPerPage + 1}-\n\t\t\t\t\t\t\t\t\t\t\t{Math.min(\n\t\t\t\t\t\t\t\t\t\t\t\tcurrentPage * effectiveItemsPerPage,\n\t\t\t\t\t\t\t\t\t\t\t\ttotalCount || filteredData.length,\n\t\t\t\t\t\t\t\t\t\t\t)}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\tof{\" \"}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t{(totalCount || filteredData.length).toLocaleString()}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tclassName=\"h-10 w-10 md:h-9 md:w-9 p-0 transition-all duration-200 hover:scale-110 active:scale-95 disabled:hover:scale-100\"\n\t\t\t\t\t\t\t\t\t\tdisabled={currentPage === totalPages}\n\t\t\t\t\t\t\t\t\t\tonClick={handleNextPage}\n\t\t\t\t\t\t\t\t\t\tsize=\"icon\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<ChevronRight className=\"h-5 w-5 md:h-4 md:w-4\" />\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{useVirtualization && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<div className=\"bg-border/50 h-5 w-px\" />\n\t\t\t\t\t\t\t\t<span className=\"text-muted-foreground text-xs text-nowrap\">\n\t\t\t\t\t\t\t\t\t{filteredData.length.toLocaleString()} rows (virtualized)\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{/* Table Header - Excel Style with Drag & Drop */}\n\t\t\t\t{paginatedData.length > 0 &&\n\t\t\t\t\t(isClient && entity ? (\n\t\t\t\t\t\t<DndContext\n\t\t\t\t\t\t\tcollisionDetection={closestCenter}\n\t\t\t\t\t\t\tonDragEnd={handleDragEnd}\n\t\t\t\t\t\t\tonDragStart={handleDragStart}\n\t\t\t\t\t\t\tsensors={sensors}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\"sticky z-20 flex min-w-max items-center border-b-hairline border-border-subtle font-semibold\",\n\t\t\t\t\t\t\t\t\tconfig.headerBg,\n\t\t\t\t\t\t\t\t\tconfig.borderColor,\n\t\t\t\t\t\t\t\t\tconfig.gapSize,\n\t\t\t\t\t\t\t\t\tconfig.headerPadding,\n\t\t\t\t\t\t\t\t\tconfig.headerTextSize,\n\t\t\t\t\t\t\t\t\t\"text-foreground\",\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\tstyle={{ top: `${toolbarHeight}px` }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{/* Select All Checkbox */}\n\t\t\t\t\t\t\t\t{enableSelection && (\n\t\t\t\t\t\t\t\t\t<div className=\"flex w-8 shrink-0 items-center justify-center\">\n\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\taria-label=\"Select all\"\n\t\t\t\t\t\t\t\t\t\t\tchecked={isAllSelected}\n\t\t\t\t\t\t\t\t\t\t\tonCheckedChange={handleSelectAll}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t{/* Column Headers with Drag & Drop */}\n\t\t\t\t\t\t\t\t<SortableContext\n\t\t\t\t\t\t\t\t\titems={visibleColumns.map((col) => col.key)}\n\t\t\t\t\t\t\t\t\tstrategy={horizontalListSortingStrategy}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{visibleColumns.map((column, colIndex) => {\n\t\t\t\t\t\t\t\t\t\tconst isSorted = sortBy === column.key;\n\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<SortableColumnHeader\n\t\t\t\t\t\t\t\t\t\t\t\tcolIndex={colIndex}\n\t\t\t\t\t\t\t\t\t\t\t\tcolumn={column}\n\t\t\t\t\t\t\t\t\t\t\t\tisSorted={isSorted}\n\t\t\t\t\t\t\t\t\t\t\t\tkey={column.key}\n\t\t\t\t\t\t\t\t\t\t\t\tonSort={handleSort}\n\t\t\t\t\t\t\t\t\t\t\t\tsortDirection={sortDirection}\n\t\t\t\t\t\t\t\t\t\t\t\ttotalColumns={visibleColumns.length}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</SortableContext>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<DragOverlay dropAnimation={null}>\n\t\t\t\t\t\t\t\t{activeColumn ? (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName={`border-primary/40 bg-background/95 text-foreground ring-primary/30 flex cursor-grabbing items-center gap-1.5 overflow-hidden border px-2 py-2 text-xs font-medium shadow-2xl ring-2 backdrop-blur-sm ${\n\t\t\t\t\t\t\t\t\t\t\tactiveColumn.align === \"right\"\n\t\t\t\t\t\t\t\t\t\t\t\t? \"justify-end text-right\"\n\t\t\t\t\t\t\t\t\t\t\t\t: activeColumn.align === \"center\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t? \"justify-center text-center\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"justify-start text-left\"\n\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: `${activeColumn.width}px` }}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<span className=\"truncate\">\n\t\t\t\t\t\t\t\t\t\t\t{activeColumn.column.header}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t{activeColumn.column.sortable && (\n\t\t\t\t\t\t\t\t\t\t\t<ArrowUpDown className=\"size-3 shrink-0 opacity-50\" />\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t</DragOverlay>\n\t\t\t\t\t\t</DndContext>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\"sticky z-20 flex min-w-max items-center border-b-hairline border-border-subtle font-semibold\",\n\t\t\t\t\t\t\t\tconfig.headerBg,\n\t\t\t\t\t\t\t\tconfig.borderColor,\n\t\t\t\t\t\t\t\tconfig.gapSize,\n\t\t\t\t\t\t\t\tconfig.headerPadding,\n\t\t\t\t\t\t\t\tconfig.headerTextSize,\n\t\t\t\t\t\t\t\t\"text-foreground\",\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tstyle={{ top: `${toolbarHeight}px` }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{/* Select All Checkbox */}\n\t\t\t\t\t\t\t{enableSelection && (\n\t\t\t\t\t\t\t\t<div className=\"flex w-8 shrink-0 items-center justify-center\">\n\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\taria-label=\"Select all\"\n\t\t\t\t\t\t\t\t\t\tchecked={isAllSelected}\n\t\t\t\t\t\t\t\t\t\tonCheckedChange={handleSelectAll}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t{/* Column Headers - Non-draggable */}\n\t\t\t\t\t\t\t{visibleColumns.map((column, colIndex) => {\n\t\t\t\t\t\t\t\tconst widthClass = column.width || \"flex-1\";\n\t\t\t\t\t\t\t\tconst shrinkClass = column.shrink ? \"shrink-0\" : \"\";\n\t\t\t\t\t\t\t\tconst alignClass =\n\t\t\t\t\t\t\t\t\tcolumn.align === \"right\"\n\t\t\t\t\t\t\t\t\t\t? \"justify-end text-right\"\n\t\t\t\t\t\t\t\t\t\t: column.align === \"center\"\n\t\t\t\t\t\t\t\t\t\t\t? \"justify-center text-center\"\n\t\t\t\t\t\t\t\t\t\t\t: \"justify-start text-left\";\n\t\t\t\t\t\t\t\tconst hideClass = column.hideOnMobile\n\t\t\t\t\t\t\t\t\t? \"hidden md:flex\"\n\t\t\t\t\t\t\t\t\t: \"flex\";\n\t\t\t\t\t\t\t\tconst cellBorder =\n\t\t\t\t\t\t\t\t\tcolIndex < visibleColumns.length - 1\n\t\t\t\t\t\t\t\t\t\t? \"border-r border-border/30\"\n\t\t\t\t\t\t\t\t\t\t: \"\";\n\n\t\t\t\t\t\t\t\tconst isSorted = sortBy === column.key;\n\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName={`${hideClass} ${widthClass} ${shrinkClass} ${alignClass} ${cellBorder} min-w-0 overflow-hidden px-2`}\n\t\t\t\t\t\t\t\t\t\tkey={column.key}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{column.sortable ? (\n\t\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"hover:text-foreground flex items-center gap-1.5 transition-all duration-200 hover:scale-105 active:scale-100\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleSort(column.key)}\n\t\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-medium\">{column.header}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t{isSorted ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\tsortDirection === \"asc\" ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ArrowUp className=\"size-3 shrink-0\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ArrowDown className=\"size-3 shrink-0\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ArrowUpDown className=\"size-3 shrink-0 opacity-40 transition-opacity group-hover:opacity-60\" />\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-medium\">{column.header}</span>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t))}\n\n\t\t\t\t{/* Table Content */}\n\t\t\t\t{paginatedData.length === 0 ? (\n\t\t\t\t\t<div className=\"flex min-h-[50vh] items-center justify-center px-4 py-12 md:min-h-[60vh]\">\n\t\t\t\t\t\t<div className=\"mx-auto w-full max-w-md space-y-4 text-center\">\n\t\t\t\t\t\t\t<div className=\"bg-muted mx-auto flex h-16 w-16 items-center justify-center rounded-full\">\n\t\t\t\t\t\t\t\t{emptyIcon}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t<h3 className=\"text-lg font-semibold\">{emptyMessage}</h3>\n\t\t\t\t\t\t\t\t{searchQuery && (\n\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-sm\">\n\t\t\t\t\t\t\t\t\t\tNo results found for \"{searchQuery}\". Try adjusting your\n\t\t\t\t\t\t\t\t\t\tsearch terms.\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{!searchQuery && (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-sm\">\n\t\t\t\t\t\t\t\t\t\t\tGet started by creating your first item.\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t{emptyAction && (\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex justify-center pt-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t{emptyAction}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t) : useVirtualization ? (\n\t\t\t\t\t/* Virtual scrolling mode */\n\t\t\t\t\t<div\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\theight: `${rowVirtualizer.getTotalSize() + (filteredData.length > 10 ? 120 : 0)}px`, // Add 120px for end message if > 10 rows\n\t\t\t\t\t\t\twidth: \"100%\",\n\t\t\t\t\t\t\tposition: \"relative\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{displayData.map(({ item, virtualItem }) => {\n\t\t\t\t\t\t\tif (!virtualItem) {\n\t\t\t\t\t\t\t\treturn null;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst itemId = getItemId(item);\n\t\t\t\t\t\t\tconst isSelected = selectedIds.has(itemId);\n\t\t\t\t\t\t\tconst highlighted = isHighlighted?.(item);\n\t\t\t\t\t\t\tconst isEvenRow = virtualItem.index % 2 === 0;\n\t\t\t\t\t\t\tconst archived = isArchived?.(item);\n\n\t\t\t\t\t\t\t// Excel-like styling\n\t\t\t\t\t\t\tconst highlightClass = highlighted\n\t\t\t\t\t\t\t\t? getHighlightClass?.(item) ||\n\t\t\t\t\t\t\t\t\t\"bg-primary/30 dark:bg-primary/10\"\n\t\t\t\t\t\t\t\t: \"\";\n\t\t\t\t\t\t\tconst customRowClass = getRowClassName?.(item) || \"\";\n\t\t\t\t\t\t\tconst excelRowClass = isEvenRow\n\t\t\t\t\t\t\t\t? \"bg-background\"\n\t\t\t\t\t\t\t\t: \"bg-muted/30 dark:bg-muted/20\";\n\t\t\t\t\t\t\tconst selectedClass = isSelected\n\t\t\t\t\t\t\t\t? \"bg-blue-50 dark:bg-blue-950/50 selected-inset\"\n\t\t\t\t\t\t\t\t: \"\";\n\t\t\t\t\t\t\tconst archivedClass = archived\n\t\t\t\t\t\t\t\t? \"opacity-60 pointer-events-auto cursor-not-allowed bg-muted/40 line-through\"\n\t\t\t\t\t\t\t\t: \"\";\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\"group border-border-subtle absolute top-0 left-0 flex w-full min-w-max items-center gap-4 border-b-hairline px-3 py-1.5 transition-smooth sm:gap-6 sm:px-4 sm:py-2\",\n\t\t\t\t\t\t\t\t\t\t!archived &&\n\t\t\t\t\t\t\t\t\t\t\t\"hover:bg-accent/80 dark:hover:bg-accent/60 cursor-pointer\",\n\t\t\t\t\t\t\t\t\t\texcelRowClass,\n\t\t\t\t\t\t\t\t\t\thighlightClass,\n\t\t\t\t\t\t\t\t\t\tselectedClass,\n\t\t\t\t\t\t\t\t\t\tcustomRowClass,\n\t\t\t\t\t\t\t\t\t\tarchivedClass,\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\tdata-index={virtualItem.index}\n\t\t\t\t\t\t\t\t\tkey={`virtual-${itemId}-${virtualItem.index}`}\n\t\t\t\t\t\t\t\t\tonClick={(e) => handleRowClick(item, e)}\n\t\t\t\t\t\t\t\t\tref={rowVirtualizer.measureElement}\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\ttransform: `translateY(${virtualItem.start}px)`,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{/* Selection Checkbox */}\n\t\t\t\t\t\t\t\t\t{enableSelection && (\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"touch-target flex items-center justify-center\"\n\t\t\t\t\t\t\t\t\t\t\tdata-no-row-click\n\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\t\t\thandleSelectItem(itemId, virtualItem.index, e);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\t\taria-label={`Select item ${itemId}`}\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={isSelected}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"pointer-events-none\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t{/* Columns */}\n\t\t\t\t\t\t\t\t\t{visibleColumns.map((column, colIndex) => {\n\t\t\t\t\t\t\t\t\t\tconst widthClass = column.width || \"flex-1\";\n\t\t\t\t\t\t\t\t\t\tconst shrinkClass = column.shrink ? \"shrink-0\" : \"\";\n\t\t\t\t\t\t\t\t\t\tconst alignClass =\n\t\t\t\t\t\t\t\t\t\t\tcolumn.align === \"right\"\n\t\t\t\t\t\t\t\t\t\t\t\t? \"justify-end text-right\"\n\t\t\t\t\t\t\t\t\t\t\t\t: column.align === \"center\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t? \"justify-center text-center\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"justify-start text-left\";\n\t\t\t\t\t\t\t\t\t\tconst hideClass = column.hideOnMobile\n\t\t\t\t\t\t\t\t\t\t\t? \"hidden md:flex\"\n\t\t\t\t\t\t\t\t\t\t\t: \"flex\";\n\t\t\t\t\t\t\t\t\t\t// Excel-like cell borders\n\t\t\t\t\t\t\t\t\t\tconst cellBorder =\n\t\t\t\t\t\t\t\t\t\t\tcolIndex < visibleColumns.length - 1\n\t\t\t\t\t\t\t\t\t\t\t\t? \"border-r border-border/30\"\n\t\t\t\t\t\t\t\t\t\t\t\t: \"\";\n\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={`${hideClass} ${widthClass} ${shrinkClass} ${alignClass} ${cellBorder} min-w-0 items-center overflow-hidden px-2`}\n\t\t\t\t\t\t\t\t\t\t\t\tkey={column.key}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{column.render(item)}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\n\t\t\t\t\t\t{/* End of Data Message - Virtualization Mode */}\n\t\t\t\t\t\t{sortedData.length > 10 && (\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName=\"border-border/50 from-muted/30 to-muted/50 flex flex-col items-center justify-center gap-3 border-t-2 bg-gradient-to-b py-8 text-center backdrop-blur-sm\"\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tposition: \"absolute\",\n\t\t\t\t\t\t\t\t\ttop: `${rowVirtualizer.getTotalSize()}px`,\n\t\t\t\t\t\t\t\t\tleft: 0,\n\t\t\t\t\t\t\t\t\tright: 0,\n\t\t\t\t\t\t\t\t\theight: \"120px\",\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t<CheckCircle2 className=\"h-5 w-5 text-green-600 dark:text-green-500\" />\n\t\t\t\t\t\t\t\t\t<span className=\"text-foreground text-lg font-semibold\">\n\t\t\t\t\t\t\t\t\t\tAll Data Loaded\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-sm\">\n\t\t\t\t\t\t\t\t\tShowing {(totalCount || filteredData.length).toLocaleString()}{\" \"}\n\t\t\t\t\t\t\t\t\ttotal rows\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t/* Regular pagination mode */\n\t\t\t\t\t<>\n\t\t\t\t\t\t{displayData.map(({ item }, rowIndex) => {\n\t\t\t\t\t\t\tconst itemId = getItemId(item);\n\t\t\t\t\t\t\tconst isSelected = selectedIds.has(itemId);\n\t\t\t\t\t\t\tconst highlighted = isHighlighted?.(item);\n\t\t\t\t\t\t\tconst isEvenRow = rowIndex % 2 === 0;\n\n\t\t\t\t\t\t\t// Modern clean styling with variant support\n\t\t\t\t\t\t\tconst highlightClass = highlighted\n\t\t\t\t\t\t\t\t? getHighlightClass?.(item) ||\n\t\t\t\t\t\t\t\t\t\"bg-primary/30 dark:bg-primary/10\"\n\t\t\t\t\t\t\t\t: \"\";\n\t\t\t\t\t\t\tconst customRowClass = getRowClassName?.(item) || \"\";\n\t\t\t\t\t\t\tconst variantRowClass = isEvenRow\n\t\t\t\t\t\t\t\t? config.rowBg\n\t\t\t\t\t\t\t\t: config.rowBgAlt;\n\t\t\t\t\t\t\tconst selectedClass = isSelected\n\t\t\t\t\t\t\t\t? \"bg-blue-50 dark:bg-blue-950/50 selected-inset\"\n\t\t\t\t\t\t\t\t: \"\";\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\"group flex min-w-max cursor-pointer items-center border-b-hairline transition-smooth\",\n\t\t\t\t\t\t\t\t\t\tconfig.borderColor,\n\t\t\t\t\t\t\t\t\t\tconfig.rowHover,\n\t\t\t\t\t\t\t\t\t\tconfig.gapSize,\n\t\t\t\t\t\t\t\t\t\tconfig.rowPadding,\n\t\t\t\t\t\t\t\t\t\tvariantRowClass,\n\t\t\t\t\t\t\t\t\t\thighlightClass,\n\t\t\t\t\t\t\t\t\t\tselectedClass,\n\t\t\t\t\t\t\t\t\t\tcustomRowClass,\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\tkey={itemId}\n\t\t\t\t\t\t\t\t\tonClick={(e) => handleRowClick(item, e)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{/* Selection Checkbox */}\n\t\t\t\t\t\t\t\t\t{enableSelection && (\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"flex w-8 shrink-0 items-center justify-center\"\n\t\t\t\t\t\t\t\t\t\t\tdata-no-row-click\n\t\t\t\t\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\t\t\t\t\t\t\thandleSelectItem(itemId, rowIndex, e);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\t\taria-label={`Select item ${itemId}`}\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={isSelected}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"pointer-events-none\"\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t{/* Columns */}\n\t\t\t\t\t\t\t\t\t{visibleColumns.map((column, colIndex) => {\n\t\t\t\t\t\t\t\t\t\tconst widthClass = column.width || \"flex-1\";\n\t\t\t\t\t\t\t\t\t\tconst shrinkClass = column.shrink ? \"shrink-0\" : \"\";\n\t\t\t\t\t\t\t\t\t\tconst alignClass =\n\t\t\t\t\t\t\t\t\t\t\tcolumn.align === \"right\"\n\t\t\t\t\t\t\t\t\t\t\t\t? \"justify-end text-right\"\n\t\t\t\t\t\t\t\t\t\t\t\t: column.align === \"center\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t? \"justify-center text-center\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"justify-start text-left\";\n\t\t\t\t\t\t\t\t\t\tconst hideClass = column.hideOnMobile\n\t\t\t\t\t\t\t\t\t\t\t? \"hidden md:flex\"\n\t\t\t\t\t\t\t\t\t\t\t: \"flex\";\n\t\t\t\t\t\t\t\t\t\t// Subtle cell dividers\n\t\t\t\t\t\t\t\t\t\tconst cellBorder =\n\t\t\t\t\t\t\t\t\t\t\tcolIndex < visibleColumns.length - 1 ? \"border-r\" : \"\";\n\n\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"min-w-0 items-center overflow-hidden\",\n\t\t\t\t\t\t\t\t\t\t\t\t\thideClass,\n\t\t\t\t\t\t\t\t\t\t\t\t\twidthClass,\n\t\t\t\t\t\t\t\t\t\t\t\t\tshrinkClass,\n\t\t\t\t\t\t\t\t\t\t\t\t\talignClass,\n\t\t\t\t\t\t\t\t\t\t\t\t\tcellBorder,\n\t\t\t\t\t\t\t\t\t\t\t\t\tconfig.borderColor,\n\t\t\t\t\t\t\t\t\t\t\t\t\tconfig.cellPadding,\n\t\t\t\t\t\t\t\t\t\t\t\t\tconfig.cellTextSize,\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\tkey={column.key}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{column.render(item)}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\n\t\t\t\t\t\t{/* End of Data Message - Pagination Mode */}\n\t\t\t\t\t\t{filteredData.length > 10 && (\n\t\t\t\t\t\t\t<div className=\"border-border/50 from-muted/30 to-muted/50 flex flex-col items-center justify-center gap-3 border-t-2 bg-gradient-to-b py-8 text-center backdrop-blur-sm\">\n\t\t\t\t\t\t\t\t{currentPage === totalPages ? (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t<CheckCircle2 className=\"h-5 w-5 text-green-600 dark:text-green-500\" />\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-foreground text-lg font-semibold\">\n\t\t\t\t\t\t\t\t\t\t\t\tAll Data Loaded\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-sm\">\n\t\t\t\t\t\t\t\t\t\t\tPage {currentPage} of {totalPages} {\" \"}\n\t\t\t\t\t\t\t\t\t\t\t{(totalCount || filteredData.length).toLocaleString()}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\ttotal rows\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-foreground text-lg font-semibold\">\n\t\t\t\t\t\t\t\t\t\t\t\tPage {currentPage} of {totalPages}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-sm\">\n\t\t\t\t\t\t\t\t\t\t\tUse pagination controls above to view more data\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","export type NoInfer<A extends any> = [A][A extends any ? 0 : never]\n\nexport type PartialKeys<T, K extends keyof T> = Omit<T, K> & Partial<Pick<T, K>>\n\nexport function memo<TDeps extends ReadonlyArray<any>, TResult>(\n  getDeps: () => [...TDeps],\n  fn: (...args: NoInfer<[...TDeps]>) => TResult,\n  opts: {\n    key: false | string\n    debug?: () => boolean\n    onChange?: (result: TResult) => void\n    initialDeps?: TDeps\n  },\n) {\n  let deps = opts.initialDeps ?? []\n  let result: TResult | undefined\n\n  function memoizedFunction(): TResult {\n    let depTime: number\n    if (opts.key && opts.debug?.()) depTime = Date.now()\n\n    const newDeps = getDeps()\n\n    const depsChanged =\n      newDeps.length !== deps.length ||\n      newDeps.some((dep: any, index: number) => deps[index] !== dep)\n\n    if (!depsChanged) {\n      return result!\n    }\n\n    deps = newDeps\n\n    let resultTime: number\n    if (opts.key && opts.debug?.()) resultTime = Date.now()\n\n    result = fn(...newDeps)\n\n    if (opts.key && opts.debug?.()) {\n      const depEndTime = Math.round((Date.now() - depTime!) * 100) / 100\n      const resultEndTime = Math.round((Date.now() - resultTime!) * 100) / 100\n      const resultFpsPercentage = resultEndTime / 16\n\n      const pad = (str: number | string, num: number) => {\n        str = String(str)\n        while (str.length < num) {\n          str = ' ' + str\n        }\n        return str\n      }\n\n      console.info(\n        `%c ${pad(resultEndTime, 5)} /${pad(depEndTime, 5)} ms`,\n        `\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(${Math.max(\n              0,\n              Math.min(120 - 120 * resultFpsPercentage, 120),\n            )}deg 100% 31%);`,\n        opts?.key,\n      )\n    }\n\n    opts?.onChange?.(result)\n\n    return result\n  }\n\n  // Attach updateDeps to the function itself\n  memoizedFunction.updateDeps = (newDeps: [...TDeps]) => {\n    deps = newDeps\n  }\n\n  return memoizedFunction\n}\n\nexport function notUndefined<T>(value: T | undefined, msg?: string): T {\n  if (value === undefined) {\n    throw new Error(`Unexpected undefined${msg ? `: ${msg}` : ''}`)\n  } else {\n    return value\n  }\n}\n\nexport const approxEqual = (a: number, b: number) => Math.abs(a - b) < 1.01\n\nexport const debounce = (\n  targetWindow: Window & typeof globalThis,\n  fn: Function,\n  ms: number,\n) => {\n  let timeoutId: number\n  return function (this: any, ...args: Array<any>) {\n    targetWindow.clearTimeout(timeoutId)\n    timeoutId = targetWindow.setTimeout(() => fn.apply(this, args), ms)\n  }\n}\n","import { approxEqual, debounce, memo, notUndefined } from './utils'\n\nexport * from './utils'\n\n//\n\ntype ScrollDirection = 'forward' | 'backward'\n\ntype ScrollAlignment = 'start' | 'center' | 'end' | 'auto'\n\ntype ScrollBehavior = 'auto' | 'smooth'\n\nexport interface ScrollToOptions {\n  align?: ScrollAlignment\n  behavior?: ScrollBehavior\n}\n\ntype ScrollToOffsetOptions = ScrollToOptions\n\ntype ScrollToIndexOptions = ScrollToOptions\n\nexport interface Range {\n  startIndex: number\n  endIndex: number\n  overscan: number\n  count: number\n}\n\ntype Key = number | string | bigint\n\nexport interface VirtualItem {\n  key: Key\n  index: number\n  start: number\n  end: number\n  size: number\n  lane: number\n}\n\nexport interface Rect {\n  width: number\n  height: number\n}\n\n//\n\nconst getRect = (element: HTMLElement): Rect => {\n  const { offsetWidth, offsetHeight } = element\n  return { width: offsetWidth, height: offsetHeight }\n}\n\nexport const defaultKeyExtractor = (index: number) => index\n\nexport const defaultRangeExtractor = (range: Range) => {\n  const start = Math.max(range.startIndex - range.overscan, 0)\n  const end = Math.min(range.endIndex + range.overscan, range.count - 1)\n\n  const arr = []\n\n  for (let i = start; i <= end; i++) {\n    arr.push(i)\n  }\n\n  return arr\n}\n\nexport const observeElementRect = <T extends Element>(\n  instance: Virtualizer<T, any>,\n  cb: (rect: Rect) => void,\n) => {\n  const element = instance.scrollElement\n  if (!element) {\n    return\n  }\n  const targetWindow = instance.targetWindow\n  if (!targetWindow) {\n    return\n  }\n\n  const handler = (rect: Rect) => {\n    const { width, height } = rect\n    cb({ width: Math.round(width), height: Math.round(height) })\n  }\n\n  handler(getRect(element as unknown as HTMLElement))\n\n  if (!targetWindow.ResizeObserver) {\n    return () => {}\n  }\n\n  const observer = new targetWindow.ResizeObserver((entries) => {\n    const run = () => {\n      const entry = entries[0]\n      if (entry?.borderBoxSize) {\n        const box = entry.borderBoxSize[0]\n        if (box) {\n          handler({ width: box.inlineSize, height: box.blockSize })\n          return\n        }\n      }\n      handler(getRect(element as unknown as HTMLElement))\n    }\n\n    instance.options.useAnimationFrameWithResizeObserver\n      ? requestAnimationFrame(run)\n      : run()\n  })\n\n  observer.observe(element, { box: 'border-box' })\n\n  return () => {\n    observer.unobserve(element)\n  }\n}\n\nconst addEventListenerOptions = {\n  passive: true,\n}\n\nexport const observeWindowRect = (\n  instance: Virtualizer<Window, any>,\n  cb: (rect: Rect) => void,\n) => {\n  const element = instance.scrollElement\n  if (!element) {\n    return\n  }\n\n  const handler = () => {\n    cb({ width: element.innerWidth, height: element.innerHeight })\n  }\n  handler()\n\n  element.addEventListener('resize', handler, addEventListenerOptions)\n\n  return () => {\n    element.removeEventListener('resize', handler)\n  }\n}\n\nconst supportsScrollend =\n  typeof window == 'undefined' ? true : 'onscrollend' in window\n\ntype ObserveOffsetCallBack = (offset: number, isScrolling: boolean) => void\n\nexport const observeElementOffset = <T extends Element>(\n  instance: Virtualizer<T, any>,\n  cb: ObserveOffsetCallBack,\n) => {\n  const element = instance.scrollElement\n  if (!element) {\n    return\n  }\n  const targetWindow = instance.targetWindow\n  if (!targetWindow) {\n    return\n  }\n\n  let offset = 0\n  const fallback =\n    instance.options.useScrollendEvent && supportsScrollend\n      ? () => undefined\n      : debounce(\n          targetWindow,\n          () => {\n            cb(offset, false)\n          },\n          instance.options.isScrollingResetDelay,\n        )\n\n  const createHandler = (isScrolling: boolean) => () => {\n    const { horizontal, isRtl } = instance.options\n    offset = horizontal\n      ? element['scrollLeft'] * ((isRtl && -1) || 1)\n      : element['scrollTop']\n    fallback()\n    cb(offset, isScrolling)\n  }\n  const handler = createHandler(true)\n  const endHandler = createHandler(false)\n  endHandler()\n\n  element.addEventListener('scroll', handler, addEventListenerOptions)\n  const registerScrollendEvent =\n    instance.options.useScrollendEvent && supportsScrollend\n  if (registerScrollendEvent) {\n    element.addEventListener('scrollend', endHandler, addEventListenerOptions)\n  }\n  return () => {\n    element.removeEventListener('scroll', handler)\n    if (registerScrollendEvent) {\n      element.removeEventListener('scrollend', endHandler)\n    }\n  }\n}\n\nexport const observeWindowOffset = (\n  instance: Virtualizer<Window, any>,\n  cb: ObserveOffsetCallBack,\n) => {\n  const element = instance.scrollElement\n  if (!element) {\n    return\n  }\n  const targetWindow = instance.targetWindow\n  if (!targetWindow) {\n    return\n  }\n\n  let offset = 0\n  const fallback =\n    instance.options.useScrollendEvent && supportsScrollend\n      ? () => undefined\n      : debounce(\n          targetWindow,\n          () => {\n            cb(offset, false)\n          },\n          instance.options.isScrollingResetDelay,\n        )\n\n  const createHandler = (isScrolling: boolean) => () => {\n    offset = element[instance.options.horizontal ? 'scrollX' : 'scrollY']\n    fallback()\n    cb(offset, isScrolling)\n  }\n  const handler = createHandler(true)\n  const endHandler = createHandler(false)\n  endHandler()\n\n  element.addEventListener('scroll', handler, addEventListenerOptions)\n  const registerScrollendEvent =\n    instance.options.useScrollendEvent && supportsScrollend\n  if (registerScrollendEvent) {\n    element.addEventListener('scrollend', endHandler, addEventListenerOptions)\n  }\n  return () => {\n    element.removeEventListener('scroll', handler)\n    if (registerScrollendEvent) {\n      element.removeEventListener('scrollend', endHandler)\n    }\n  }\n}\n\nexport const measureElement = <TItemElement extends Element>(\n  element: TItemElement,\n  entry: ResizeObserverEntry | undefined,\n  instance: Virtualizer<any, TItemElement>,\n) => {\n  if (entry?.borderBoxSize) {\n    const box = entry.borderBoxSize[0]\n    if (box) {\n      const size = Math.round(\n        box[instance.options.horizontal ? 'inlineSize' : 'blockSize'],\n      )\n      return size\n    }\n  }\n\n  return (element as unknown as HTMLElement)[\n    instance.options.horizontal ? 'offsetWidth' : 'offsetHeight'\n  ]\n}\n\nexport const windowScroll = <T extends Window>(\n  offset: number,\n  {\n    adjustments = 0,\n    behavior,\n  }: { adjustments?: number; behavior?: ScrollBehavior },\n  instance: Virtualizer<T, any>,\n) => {\n  const toOffset = offset + adjustments\n\n  instance.scrollElement?.scrollTo?.({\n    [instance.options.horizontal ? 'left' : 'top']: toOffset,\n    behavior,\n  })\n}\n\nexport const elementScroll = <T extends Element>(\n  offset: number,\n  {\n    adjustments = 0,\n    behavior,\n  }: { adjustments?: number; behavior?: ScrollBehavior },\n  instance: Virtualizer<T, any>,\n) => {\n  const toOffset = offset + adjustments\n\n  instance.scrollElement?.scrollTo?.({\n    [instance.options.horizontal ? 'left' : 'top']: toOffset,\n    behavior,\n  })\n}\n\nexport interface VirtualizerOptions<\n  TScrollElement extends Element | Window,\n  TItemElement extends Element,\n> {\n  // Required from the user\n  count: number\n  getScrollElement: () => TScrollElement | null\n  estimateSize: (index: number) => number\n\n  // Required from the framework adapter (but can be overridden)\n  scrollToFn: (\n    offset: number,\n    options: { adjustments?: number; behavior?: ScrollBehavior },\n    instance: Virtualizer<TScrollElement, TItemElement>,\n  ) => void\n  observeElementRect: (\n    instance: Virtualizer<TScrollElement, TItemElement>,\n    cb: (rect: Rect) => void,\n  ) => void | (() => void)\n  observeElementOffset: (\n    instance: Virtualizer<TScrollElement, TItemElement>,\n    cb: ObserveOffsetCallBack,\n  ) => void | (() => void)\n  // Optional\n  debug?: boolean\n  initialRect?: Rect\n  onChange?: (\n    instance: Virtualizer<TScrollElement, TItemElement>,\n    sync: boolean,\n  ) => void\n  measureElement?: (\n    element: TItemElement,\n    entry: ResizeObserverEntry | undefined,\n    instance: Virtualizer<TScrollElement, TItemElement>,\n  ) => number\n  overscan?: number\n  horizontal?: boolean\n  paddingStart?: number\n  paddingEnd?: number\n  scrollPaddingStart?: number\n  scrollPaddingEnd?: number\n  initialOffset?: number | (() => number)\n  getItemKey?: (index: number) => Key\n  rangeExtractor?: (range: Range) => Array<number>\n  scrollMargin?: number\n  gap?: number\n  indexAttribute?: string\n  initialMeasurementsCache?: Array<VirtualItem>\n  lanes?: number\n  isScrollingResetDelay?: number\n  useScrollendEvent?: boolean\n  enabled?: boolean\n  isRtl?: boolean\n  useAnimationFrameWithResizeObserver?: boolean\n}\n\nexport class Virtualizer<\n  TScrollElement extends Element | Window,\n  TItemElement extends Element,\n> {\n  private unsubs: Array<void | (() => void)> = []\n  options!: Required<VirtualizerOptions<TScrollElement, TItemElement>>\n  scrollElement: TScrollElement | null = null\n  targetWindow: (Window & typeof globalThis) | null = null\n  isScrolling = false\n  measurementsCache: Array<VirtualItem> = []\n  private itemSizeCache = new Map<Key, number>()\n  private pendingMeasuredCacheIndexes: Array<number> = []\n  scrollRect: Rect | null = null\n  scrollOffset: number | null = null\n  scrollDirection: ScrollDirection | null = null\n  private scrollAdjustments = 0\n  shouldAdjustScrollPositionOnItemSizeChange:\n    | undefined\n    | ((\n        item: VirtualItem,\n        delta: number,\n        instance: Virtualizer<TScrollElement, TItemElement>,\n      ) => boolean)\n  elementsCache = new Map<Key, TItemElement>()\n  private observer = (() => {\n    let _ro: ResizeObserver | null = null\n\n    const get = () => {\n      if (_ro) {\n        return _ro\n      }\n\n      if (!this.targetWindow || !this.targetWindow.ResizeObserver) {\n        return null\n      }\n\n      return (_ro = new this.targetWindow.ResizeObserver((entries) => {\n        entries.forEach((entry) => {\n          const run = () => {\n            this._measureElement(entry.target as TItemElement, entry)\n          }\n          this.options.useAnimationFrameWithResizeObserver\n            ? requestAnimationFrame(run)\n            : run()\n        })\n      }))\n    }\n\n    return {\n      disconnect: () => {\n        get()?.disconnect()\n        _ro = null\n      },\n      observe: (target: Element) =>\n        get()?.observe(target, { box: 'border-box' }),\n      unobserve: (target: Element) => get()?.unobserve(target),\n    }\n  })()\n  range: { startIndex: number; endIndex: number } | null = null\n\n  constructor(opts: VirtualizerOptions<TScrollElement, TItemElement>) {\n    this.setOptions(opts)\n  }\n\n  setOptions = (opts: VirtualizerOptions<TScrollElement, TItemElement>) => {\n    Object.entries(opts).forEach(([key, value]) => {\n      if (typeof value === 'undefined') delete (opts as any)[key]\n    })\n\n    this.options = {\n      debug: false,\n      initialOffset: 0,\n      overscan: 1,\n      paddingStart: 0,\n      paddingEnd: 0,\n      scrollPaddingStart: 0,\n      scrollPaddingEnd: 0,\n      horizontal: false,\n      getItemKey: defaultKeyExtractor,\n      rangeExtractor: defaultRangeExtractor,\n      onChange: () => {},\n      measureElement,\n      initialRect: { width: 0, height: 0 },\n      scrollMargin: 0,\n      gap: 0,\n      indexAttribute: 'data-index',\n      initialMeasurementsCache: [],\n      lanes: 1,\n      isScrollingResetDelay: 150,\n      enabled: true,\n      isRtl: false,\n      useScrollendEvent: false,\n      useAnimationFrameWithResizeObserver: false,\n      ...opts,\n    }\n  }\n\n  private notify = (sync: boolean) => {\n    this.options.onChange?.(this, sync)\n  }\n\n  private maybeNotify = memo(\n    () => {\n      this.calculateRange()\n\n      return [\n        this.isScrolling,\n        this.range ? this.range.startIndex : null,\n        this.range ? this.range.endIndex : null,\n      ]\n    },\n    (isScrolling) => {\n      this.notify(isScrolling)\n    },\n    {\n      key: process.env.NODE_ENV !== 'production' && 'maybeNotify',\n      debug: () => this.options.debug,\n      initialDeps: [\n        this.isScrolling,\n        this.range ? this.range.startIndex : null,\n        this.range ? this.range.endIndex : null,\n      ] as [boolean, number | null, number | null],\n    },\n  )\n\n  private cleanup = () => {\n    this.unsubs.filter(Boolean).forEach((d) => d!())\n    this.unsubs = []\n    this.observer.disconnect()\n    this.scrollElement = null\n    this.targetWindow = null\n  }\n\n  _didMount = () => {\n    return () => {\n      this.cleanup()\n    }\n  }\n\n  _willUpdate = () => {\n    const scrollElement = this.options.enabled\n      ? this.options.getScrollElement()\n      : null\n\n    if (this.scrollElement !== scrollElement) {\n      this.cleanup()\n\n      if (!scrollElement) {\n        this.maybeNotify()\n        return\n      }\n\n      this.scrollElement = scrollElement\n\n      if (this.scrollElement && 'ownerDocument' in this.scrollElement) {\n        this.targetWindow = this.scrollElement.ownerDocument.defaultView\n      } else {\n        this.targetWindow = this.scrollElement?.window ?? null\n      }\n\n      this.elementsCache.forEach((cached) => {\n        this.observer.observe(cached)\n      })\n\n      this._scrollToOffset(this.getScrollOffset(), {\n        adjustments: undefined,\n        behavior: undefined,\n      })\n\n      this.unsubs.push(\n        this.options.observeElementRect(this, (rect) => {\n          this.scrollRect = rect\n          this.maybeNotify()\n        }),\n      )\n\n      this.unsubs.push(\n        this.options.observeElementOffset(this, (offset, isScrolling) => {\n          this.scrollAdjustments = 0\n          this.scrollDirection = isScrolling\n            ? this.getScrollOffset() < offset\n              ? 'forward'\n              : 'backward'\n            : null\n          this.scrollOffset = offset\n          this.isScrolling = isScrolling\n\n          this.maybeNotify()\n        }),\n      )\n    }\n  }\n\n  private getSize = () => {\n    if (!this.options.enabled) {\n      this.scrollRect = null\n      return 0\n    }\n\n    this.scrollRect = this.scrollRect ?? this.options.initialRect\n\n    return this.scrollRect[this.options.horizontal ? 'width' : 'height']\n  }\n\n  private getScrollOffset = () => {\n    if (!this.options.enabled) {\n      this.scrollOffset = null\n      return 0\n    }\n\n    this.scrollOffset =\n      this.scrollOffset ??\n      (typeof this.options.initialOffset === 'function'\n        ? this.options.initialOffset()\n        : this.options.initialOffset)\n\n    return this.scrollOffset\n  }\n\n  private getFurthestMeasurement = (\n    measurements: Array<VirtualItem>,\n    index: number,\n  ) => {\n    const furthestMeasurementsFound = new Map<number, true>()\n    const furthestMeasurements = new Map<number, VirtualItem>()\n    for (let m = index - 1; m >= 0; m--) {\n      const measurement = measurements[m]!\n\n      if (furthestMeasurementsFound.has(measurement.lane)) {\n        continue\n      }\n\n      const previousFurthestMeasurement = furthestMeasurements.get(\n        measurement.lane,\n      )\n      if (\n        previousFurthestMeasurement == null ||\n        measurement.end > previousFurthestMeasurement.end\n      ) {\n        furthestMeasurements.set(measurement.lane, measurement)\n      } else if (measurement.end < previousFurthestMeasurement.end) {\n        furthestMeasurementsFound.set(measurement.lane, true)\n      }\n\n      if (furthestMeasurementsFound.size === this.options.lanes) {\n        break\n      }\n    }\n\n    return furthestMeasurements.size === this.options.lanes\n      ? Array.from(furthestMeasurements.values()).sort((a, b) => {\n          if (a.end === b.end) {\n            return a.index - b.index\n          }\n\n          return a.end - b.end\n        })[0]\n      : undefined\n  }\n\n  private getMeasurementOptions = memo(\n    () => [\n      this.options.count,\n      this.options.paddingStart,\n      this.options.scrollMargin,\n      this.options.getItemKey,\n      this.options.enabled,\n    ],\n    (count, paddingStart, scrollMargin, getItemKey, enabled) => {\n      this.pendingMeasuredCacheIndexes = []\n      return {\n        count,\n        paddingStart,\n        scrollMargin,\n        getItemKey,\n        enabled,\n      }\n    },\n    {\n      key: false,\n    },\n  )\n\n  private getMeasurements = memo(\n    () => [this.getMeasurementOptions(), this.itemSizeCache],\n    (\n      { count, paddingStart, scrollMargin, getItemKey, enabled },\n      itemSizeCache,\n    ) => {\n      if (!enabled) {\n        this.measurementsCache = []\n        this.itemSizeCache.clear()\n        return []\n      }\n\n      if (this.measurementsCache.length === 0) {\n        this.measurementsCache = this.options.initialMeasurementsCache\n        this.measurementsCache.forEach((item) => {\n          this.itemSizeCache.set(item.key, item.size)\n        })\n      }\n\n      const min =\n        this.pendingMeasuredCacheIndexes.length > 0\n          ? Math.min(...this.pendingMeasuredCacheIndexes)\n          : 0\n      this.pendingMeasuredCacheIndexes = []\n\n      const measurements = this.measurementsCache.slice(0, min)\n\n      for (let i = min; i < count; i++) {\n        const key = getItemKey(i)\n\n        const furthestMeasurement =\n          this.options.lanes === 1\n            ? measurements[i - 1]\n            : this.getFurthestMeasurement(measurements, i)\n\n        const start = furthestMeasurement\n          ? furthestMeasurement.end + this.options.gap\n          : paddingStart + scrollMargin\n\n        const measuredSize = itemSizeCache.get(key)\n        const size =\n          typeof measuredSize === 'number'\n            ? measuredSize\n            : this.options.estimateSize(i)\n\n        const end = start + size\n\n        const lane = furthestMeasurement\n          ? furthestMeasurement.lane\n          : i % this.options.lanes\n\n        measurements[i] = {\n          index: i,\n          start,\n          size,\n          end,\n          key,\n          lane,\n        }\n      }\n\n      this.measurementsCache = measurements\n\n      return measurements\n    },\n    {\n      key: process.env.NODE_ENV !== 'production' && 'getMeasurements',\n      debug: () => this.options.debug,\n    },\n  )\n\n  calculateRange = memo(\n    () => [\n      this.getMeasurements(),\n      this.getSize(),\n      this.getScrollOffset(),\n      this.options.lanes,\n    ],\n    (measurements, outerSize, scrollOffset, lanes) => {\n      return (this.range =\n        measurements.length > 0 && outerSize > 0\n          ? calculateRange({\n              measurements,\n              outerSize,\n              scrollOffset,\n              lanes,\n            })\n          : null)\n    },\n    {\n      key: process.env.NODE_ENV !== 'production' && 'calculateRange',\n      debug: () => this.options.debug,\n    },\n  )\n\n  getVirtualIndexes = memo(\n    () => {\n      let startIndex: number | null = null\n      let endIndex: number | null = null\n      const range = this.calculateRange()\n      if (range) {\n        startIndex = range.startIndex\n        endIndex = range.endIndex\n      }\n      this.maybeNotify.updateDeps([this.isScrolling, startIndex, endIndex])\n      return [\n        this.options.rangeExtractor,\n        this.options.overscan,\n        this.options.count,\n        startIndex,\n        endIndex,\n      ]\n    },\n    (rangeExtractor, overscan, count, startIndex, endIndex) => {\n      return startIndex === null || endIndex === null\n        ? []\n        : rangeExtractor({\n            startIndex,\n            endIndex,\n            overscan,\n            count,\n          })\n    },\n    {\n      key: process.env.NODE_ENV !== 'production' && 'getVirtualIndexes',\n      debug: () => this.options.debug,\n    },\n  )\n\n  indexFromElement = (node: TItemElement) => {\n    const attributeName = this.options.indexAttribute\n    const indexStr = node.getAttribute(attributeName)\n\n    if (!indexStr) {\n      console.warn(\n        `Missing attribute name '${attributeName}={index}' on measured element.`,\n      )\n      return -1\n    }\n\n    return parseInt(indexStr, 10)\n  }\n\n  private _measureElement = (\n    node: TItemElement,\n    entry: ResizeObserverEntry | undefined,\n  ) => {\n    const index = this.indexFromElement(node)\n    const item = this.measurementsCache[index]\n    if (!item) {\n      return\n    }\n    const key = item.key\n    const prevNode = this.elementsCache.get(key)\n\n    if (prevNode !== node) {\n      if (prevNode) {\n        this.observer.unobserve(prevNode)\n      }\n      this.observer.observe(node)\n      this.elementsCache.set(key, node)\n    }\n\n    if (node.isConnected) {\n      this.resizeItem(index, this.options.measureElement(node, entry, this))\n    }\n  }\n\n  resizeItem = (index: number, size: number) => {\n    const item = this.measurementsCache[index]\n    if (!item) {\n      return\n    }\n    const itemSize = this.itemSizeCache.get(item.key) ?? item.size\n    const delta = size - itemSize\n\n    if (delta !== 0) {\n      if (\n        this.shouldAdjustScrollPositionOnItemSizeChange !== undefined\n          ? this.shouldAdjustScrollPositionOnItemSizeChange(item, delta, this)\n          : item.start < this.getScrollOffset() + this.scrollAdjustments\n      ) {\n        if (process.env.NODE_ENV !== 'production' && this.options.debug) {\n          console.info('correction', delta)\n        }\n\n        this._scrollToOffset(this.getScrollOffset(), {\n          adjustments: (this.scrollAdjustments += delta),\n          behavior: undefined,\n        })\n      }\n\n      this.pendingMeasuredCacheIndexes.push(item.index)\n      this.itemSizeCache = new Map(this.itemSizeCache.set(item.key, size))\n\n      this.notify(false)\n    }\n  }\n\n  measureElement = (node: TItemElement | null | undefined) => {\n    if (!node) {\n      this.elementsCache.forEach((cached, key) => {\n        if (!cached.isConnected) {\n          this.observer.unobserve(cached)\n          this.elementsCache.delete(key)\n        }\n      })\n      return\n    }\n\n    this._measureElement(node, undefined)\n  }\n\n  getVirtualItems = memo(\n    () => [this.getVirtualIndexes(), this.getMeasurements()],\n    (indexes, measurements) => {\n      const virtualItems: Array<VirtualItem> = []\n\n      for (let k = 0, len = indexes.length; k < len; k++) {\n        const i = indexes[k]!\n        const measurement = measurements[i]!\n\n        virtualItems.push(measurement)\n      }\n\n      return virtualItems\n    },\n    {\n      key: process.env.NODE_ENV !== 'production' && 'getVirtualItems',\n      debug: () => this.options.debug,\n    },\n  )\n\n  getVirtualItemForOffset = (offset: number) => {\n    const measurements = this.getMeasurements()\n    if (measurements.length === 0) {\n      return undefined\n    }\n    return notUndefined(\n      measurements[\n        findNearestBinarySearch(\n          0,\n          measurements.length - 1,\n          (index: number) => notUndefined(measurements[index]).start,\n          offset,\n        )\n      ],\n    )\n  }\n\n  getOffsetForAlignment = (\n    toOffset: number,\n    align: ScrollAlignment,\n    itemSize = 0,\n  ) => {\n    const size = this.getSize()\n    const scrollOffset = this.getScrollOffset()\n\n    if (align === 'auto') {\n      align = toOffset >= scrollOffset + size ? 'end' : 'start'\n    }\n\n    if (align === 'center') {\n      // When aligning to a particular item (e.g. with scrollToIndex),\n      // adjust offset by the size of the item to center on the item\n      toOffset += (itemSize - size) / 2\n    } else if (align === 'end') {\n      toOffset -= size\n    }\n\n    const maxOffset = this.getTotalSize() + this.options.scrollMargin - size\n\n    return Math.max(Math.min(maxOffset, toOffset), 0)\n  }\n\n  getOffsetForIndex = (index: number, align: ScrollAlignment = 'auto') => {\n    index = Math.max(0, Math.min(index, this.options.count - 1))\n\n    const item = this.measurementsCache[index]\n    if (!item) {\n      return undefined\n    }\n\n    const size = this.getSize()\n    const scrollOffset = this.getScrollOffset()\n\n    if (align === 'auto') {\n      if (item.end >= scrollOffset + size - this.options.scrollPaddingEnd) {\n        align = 'end'\n      } else if (item.start <= scrollOffset + this.options.scrollPaddingStart) {\n        align = 'start'\n      } else {\n        return [scrollOffset, align] as const\n      }\n    }\n\n    const toOffset =\n      align === 'end'\n        ? item.end + this.options.scrollPaddingEnd\n        : item.start - this.options.scrollPaddingStart\n\n    return [\n      this.getOffsetForAlignment(toOffset, align, item.size),\n      align,\n    ] as const\n  }\n\n  private isDynamicMode = () => this.elementsCache.size > 0\n\n  scrollToOffset = (\n    toOffset: number,\n    { align = 'start', behavior }: ScrollToOffsetOptions = {},\n  ) => {\n    if (behavior === 'smooth' && this.isDynamicMode()) {\n      console.warn(\n        'The `smooth` scroll behavior is not fully supported with dynamic size.',\n      )\n    }\n\n    this._scrollToOffset(this.getOffsetForAlignment(toOffset, align), {\n      adjustments: undefined,\n      behavior,\n    })\n  }\n\n  scrollToIndex = (\n    index: number,\n    { align: initialAlign = 'auto', behavior }: ScrollToIndexOptions = {},\n  ) => {\n    if (behavior === 'smooth' && this.isDynamicMode()) {\n      console.warn(\n        'The `smooth` scroll behavior is not fully supported with dynamic size.',\n      )\n    }\n\n    index = Math.max(0, Math.min(index, this.options.count - 1))\n\n    let attempts = 0\n    const maxAttempts = 10\n\n    const tryScroll = (currentAlign: ScrollAlignment) => {\n      if (!this.targetWindow) return\n\n      const offsetInfo = this.getOffsetForIndex(index, currentAlign)\n      if (!offsetInfo) {\n        console.warn('Failed to get offset for index:', index)\n        return\n      }\n      const [offset, align] = offsetInfo\n      this._scrollToOffset(offset, { adjustments: undefined, behavior })\n\n      this.targetWindow.requestAnimationFrame(() => {\n        const currentOffset = this.getScrollOffset()\n        const afterInfo = this.getOffsetForIndex(index, align)\n        if (!afterInfo) {\n          console.warn('Failed to get offset for index:', index)\n          return\n        }\n\n        if (!approxEqual(afterInfo[0], currentOffset)) {\n          scheduleRetry(align)\n        }\n      })\n    }\n\n    const scheduleRetry = (align: ScrollAlignment) => {\n      if (!this.targetWindow) return\n\n      attempts++\n      if (attempts < maxAttempts) {\n        if (process.env.NODE_ENV !== 'production' && this.options.debug) {\n          console.info('Schedule retry', attempts, maxAttempts)\n        }\n        this.targetWindow.requestAnimationFrame(() => tryScroll(align))\n      } else {\n        console.warn(\n          `Failed to scroll to index ${index} after ${maxAttempts} attempts.`,\n        )\n      }\n    }\n\n    tryScroll(initialAlign)\n  }\n\n  scrollBy = (delta: number, { behavior }: ScrollToOffsetOptions = {}) => {\n    if (behavior === 'smooth' && this.isDynamicMode()) {\n      console.warn(\n        'The `smooth` scroll behavior is not fully supported with dynamic size.',\n      )\n    }\n\n    this._scrollToOffset(this.getScrollOffset() + delta, {\n      adjustments: undefined,\n      behavior,\n    })\n  }\n\n  getTotalSize = () => {\n    const measurements = this.getMeasurements()\n\n    let end: number\n    // If there are no measurements, set the end to paddingStart\n    // If there is only one lane, use the last measurement's end\n    // Otherwise find the maximum end value among all measurements\n    if (measurements.length === 0) {\n      end = this.options.paddingStart\n    } else if (this.options.lanes === 1) {\n      end = measurements[measurements.length - 1]?.end ?? 0\n    } else {\n      const endByLane = Array<number | null>(this.options.lanes).fill(null)\n      let endIndex = measurements.length - 1\n      while (endIndex >= 0 && endByLane.some((val) => val === null)) {\n        const item = measurements[endIndex]!\n        if (endByLane[item.lane] === null) {\n          endByLane[item.lane] = item.end\n        }\n\n        endIndex--\n      }\n\n      end = Math.max(...endByLane.filter((val): val is number => val !== null))\n    }\n\n    return Math.max(\n      end - this.options.scrollMargin + this.options.paddingEnd,\n      0,\n    )\n  }\n\n  private _scrollToOffset = (\n    offset: number,\n    {\n      adjustments,\n      behavior,\n    }: {\n      adjustments: number | undefined\n      behavior: ScrollBehavior | undefined\n    },\n  ) => {\n    this.options.scrollToFn(offset, { behavior, adjustments }, this)\n  }\n\n  measure = () => {\n    this.itemSizeCache = new Map()\n    this.notify(false)\n  }\n}\n\nconst findNearestBinarySearch = (\n  low: number,\n  high: number,\n  getCurrentValue: (i: number) => number,\n  value: number,\n) => {\n  while (low <= high) {\n    const middle = ((low + high) / 2) | 0\n    const currentValue = getCurrentValue(middle)\n\n    if (currentValue < value) {\n      low = middle + 1\n    } else if (currentValue > value) {\n      high = middle - 1\n    } else {\n      return middle\n    }\n  }\n\n  if (low > 0) {\n    return low - 1\n  } else {\n    return 0\n  }\n}\n\nfunction calculateRange({\n  measurements,\n  outerSize,\n  scrollOffset,\n  lanes,\n}: {\n  measurements: Array<VirtualItem>\n  outerSize: number\n  scrollOffset: number\n  lanes: number\n}) {\n  const lastIndex = measurements.length - 1\n  const getOffset = (index: number) => measurements[index]!.start\n\n  // handle case when item count is less than or equal to lanes\n  if (measurements.length <= lanes) {\n    return {\n      startIndex: 0,\n      endIndex: lastIndex,\n    }\n  }\n\n  let startIndex = findNearestBinarySearch(\n    0,\n    lastIndex,\n    getOffset,\n    scrollOffset,\n  )\n  let endIndex = startIndex\n\n  if (lanes === 1) {\n    while (\n      endIndex < lastIndex &&\n      measurements[endIndex]!.end < scrollOffset + outerSize\n    ) {\n      endIndex++\n    }\n  } else if (lanes > 1) {\n    // Expand forward until we include the visible items from all lanes\n    // which are closer to the end of the virtualizer window\n    const endPerLane = Array(lanes).fill(0)\n    while (\n      endIndex < lastIndex &&\n      endPerLane.some((pos) => pos < scrollOffset + outerSize)\n    ) {\n      const item = measurements[endIndex]!\n      endPerLane[item.lane] = item.end\n      endIndex++\n    }\n\n    // Expand backward until we include all lanes' visible items\n    // closer to the top\n    const startPerLane = Array(lanes).fill(scrollOffset + outerSize)\n    while (startIndex >= 0 && startPerLane.some((pos) => pos >= scrollOffset)) {\n      const item = measurements[startIndex]!\n      startPerLane[item.lane] = item.start\n      startIndex--\n    }\n\n    // Align startIndex to the beginning of its lane\n    startIndex = Math.max(0, startIndex - (startIndex % lanes))\n    // Align endIndex to the end of its lane\n    endIndex = Math.min(lastIndex, endIndex + (lanes - 1 - (endIndex % lanes)))\n  }\n\n  return { startIndex, endIndex }\n}\n","import * as React from 'react'\nimport { flushSync } from 'react-dom'\nimport {\n  Virtualizer,\n  elementScroll,\n  observeElementOffset,\n  observeElementRect,\n  observeWindowOffset,\n  observeWindowRect,\n  windowScroll,\n} from '@tanstack/virtual-core'\nimport type { PartialKeys, VirtualizerOptions } from '@tanstack/virtual-core'\n\nexport * from '@tanstack/virtual-core'\n\nconst useIsomorphicLayoutEffect =\n  typeof document !== 'undefined' ? React.useLayoutEffect : React.useEffect\n\nfunction useVirtualizerBase<\n  TScrollElement extends Element | Window,\n  TItemElement extends Element,\n>(\n  options: VirtualizerOptions<TScrollElement, TItemElement>,\n): Virtualizer<TScrollElement, TItemElement> {\n  const rerender = React.useReducer(() => ({}), {})[1]\n\n  const resolvedOptions: VirtualizerOptions<TScrollElement, TItemElement> = {\n    ...options,\n    onChange: (instance, sync) => {\n      if (sync) {\n        flushSync(rerender)\n      } else {\n        rerender()\n      }\n      options.onChange?.(instance, sync)\n    },\n  }\n\n  const [instance] = React.useState(\n    () => new Virtualizer<TScrollElement, TItemElement>(resolvedOptions),\n  )\n\n  instance.setOptions(resolvedOptions)\n\n  useIsomorphicLayoutEffect(() => {\n    return instance._didMount()\n  }, [])\n\n  useIsomorphicLayoutEffect(() => {\n    return instance._willUpdate()\n  })\n\n  return instance\n}\n\nexport function useVirtualizer<\n  TScrollElement extends Element,\n  TItemElement extends Element,\n>(\n  options: PartialKeys<\n    VirtualizerOptions<TScrollElement, TItemElement>,\n    'observeElementRect' | 'observeElementOffset' | 'scrollToFn'\n  >,\n): Virtualizer<TScrollElement, TItemElement> {\n  return useVirtualizerBase<TScrollElement, TItemElement>({\n    observeElementRect: observeElementRect,\n    observeElementOffset: observeElementOffset,\n    scrollToFn: elementScroll,\n    ...options,\n  })\n}\n\nexport function useWindowVirtualizer<TItemElement extends Element>(\n  options: PartialKeys<\n    VirtualizerOptions<Window, TItemElement>,\n    | 'getScrollElement'\n    | 'observeElementRect'\n    | 'observeElementOffset'\n    | 'scrollToFn'\n  >,\n): Virtualizer<Window, TItemElement> {\n  return useVirtualizerBase<Window, TItemElement>({\n    getScrollElement: () => (typeof document !== 'undefined' ? window : null),\n    observeElementRect: observeWindowRect,\n    observeElementOffset: observeWindowOffset,\n    scrollToFn: windowScroll,\n    initialOffset: () => (typeof document !== 'undefined' ? window.scrollY : 0),\n    ...options,\n  })\n}\n"],"names":["instance","opts"],"mappings":"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","ignoreList":[1,2,3]}