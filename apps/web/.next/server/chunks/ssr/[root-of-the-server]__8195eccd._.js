module.exports=[193695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},997868,a=>{a.n(a.i(884849))},592581,a=>{a.n(a.i(596565))},134005,a=>{a.n(a.i(977930))},565165,a=>{a.n(a.i(728209))},147941,a=>{a.n(a.i(484103))},304434,a=>{a.n(a.i(632684))},407521,a=>{a.n(a.i(693094))},797797,a=>{a.n(a.i(977207))},290022,a=>{a.n(a.i(362735))},729157,a=>{a.n(a.i(470009))},543474,a=>{"use strict";var b=a.i(429969);let c=a=>{let b=a.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,b,c)=>c?c.toUpperCase():b.toLowerCase());return b.charAt(0).toUpperCase()+b.slice(1)},d=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let f=(0,b.forwardRef)(({color:a="currentColor",size:c=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...e,width:c,height:c,stroke:a,strokeWidth:g?24*Number(f)/Number(c):f,className:d("lucide",h),...!i&&!(a=>{for(let b in a)if(b.startsWith("aria-")||"role"===b||"title"===b)return!0})(k)&&{"aria-hidden":"true"},...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),g=(a,e)=>{let g=(0,b.forwardRef)(({className:g,...h},i)=>(0,b.createElement)(f,{ref:i,iconNode:e,className:d(`lucide-${c(a).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${a}`,g),...h}));return g.displayName=c(a),g};a.s(["default",()=>g],543474)},174010,a=>{"use strict";a.i(730154),a.s([])},150644,a=>{"use strict";a.i(730154),a.s([])},549121,a=>{"use strict";a.i(730154);var b=a.i(563914),c=a.i(369637),d=a.i(861107),e=a.i(726954),f=a.i(236028),g=a.i(376977),h=a.i(868553),i=a.i(36705),j=a.i(396149),k=a.i(705991),l=a.i(102193),m=a.i(293107),n=a.i(525708),o=a.i(27632),p=a.i(523762),q=a.i(777394),r=a.i(30104),s=a.i(851374),t=a.i(968073),u=a.i(925834),v=a.i(946108),w=a.i(561203),x=a.i(758289),y=a.i(919187),z=a.i(463683),A=a.i(420235),B=a.i(468335),C=a.i(571631),D=a.i(439724),E=a.i(109483),F=a.i(709027),G=a.i(643953),H=a.i(776419),I=a.i(920334),J=a.i(490199),K=a.i(38825),L=a.i(465296),M=a.i(409604),N=a.i(852495),O=a.i(475976),P=a.i(836326),Q=a.i(280558),R=a.i(533742),S=a.i(588159),T=a.i(591888),U=a.i(228811),V=a.i(950872),W=a.i(297053),X=a.i(274749),Y=a.i(90965),Z=a.i(920224),$=a.i(838239),_=a.i(892054),aa=a.i(233387),ab=a.i(438468),ac=a.i(299049),ad=a.i(359004),ae=a.i(171288);a.i(422792);var af=a.i(474235);a.s(["Alert",()=>c.Alert,"AlertDescription",()=>c.AlertDescription,"AlertTitle",()=>c.AlertTitle,"Badge",()=>f.Badge,"Breadcrumb",()=>g.Breadcrumb,"BreadcrumbItem",()=>g.BreadcrumbItem,"BreadcrumbLink",()=>g.BreadcrumbLink,"BreadcrumbList",()=>g.BreadcrumbList,"BreadcrumbPage",()=>g.BreadcrumbPage,"BreadcrumbSeparator",()=>g.BreadcrumbSeparator,"Button",()=>h.Button,"ButtonGroup",()=>i.ButtonGroup,"ButtonGroupText",()=>i.ButtonGroupText,"Card",()=>k.Card,"CardContent",()=>k.CardContent,"CardDescription",()=>k.CardDescription,"CardFooter",()=>k.CardFooter,"CardHeader",()=>k.CardHeader,"CardListSkeleton",()=>F.CardListSkeleton,"CardTitle",()=>k.CardTitle,"ChartSkeleton",()=>F.ChartSkeleton,"ComingSoonShell",()=>Q.ComingSoonShell,"DashboardSkeleton",()=>F.DashboardSkeleton,"DataTableListSkeleton",()=>F.DataTableListSkeleton,"FormSkeleton",()=>F.FormSkeleton,"GenericStatusBadge",()=>T.GenericStatusBadge,"Input",()=>u.Input,"KPICardSkeleton",()=>F.KPICardSkeleton,"PageHeaderSkeleton",()=>F.PageHeaderSkeleton,"RowActionsDropdown",()=>X.RowActionsDropdown,"Skeleton",()=>E.Skeleton,"StatsCardsSkeleton",()=>Z.StatsCardsSkeleton,"TableSkeleton",()=>F.TableSkeleton,"Textarea",()=>K.Textarea,"WorkDetailSkeleton",()=>F.WorkDetailSkeleton,"WorkflowTimeline",()=>ae.WorkflowTimeline,"buttonVariants",()=>h.buttonVariants,"cn",()=>af.cn]),a.j(b),a.j(d),a.j(e),a.j(j),a.j(l),a.j(m),a.j(n),a.j(o),a.j(p),a.j(q),a.j(r),a.j(s),a.j(t),a.j(v),a.j(w),a.j(x),a.j(y),a.j(z),a.j(A),a.j(B),a.j(C),a.j(D),a.j(G),a.j(H),a.j(I),a.j(J),a.j(L),a.j(M),a.j(N),a.j(O),a.j(P),a.j(R),a.j(S),a.j(U),a.j(V),a.j(W),a.j(Y),a.j($),a.j(_),a.j(aa),a.j(ab),a.j(ac),a.j(ad)},142969,a=>{"use strict";let b=(0,a.i(543474).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);a.s(["TrendingUp",()=>b],142969)},862875,a=>{"use strict";let b=(0,a.i(543474).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);a.s(["DollarSign",()=>b],862875)},634332,a=>{"use strict";let b=(0,a.i(543474).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);a.s(["AlertTriangle",()=>b],634332)},856222,a=>{a.n(a.i(371029))},842417,a=>{a.n(a.i(213663))},502549,236433,a=>{"use strict";a.i(730154),a.s([],502549),a.i(502549);var b=a.i(549121);a.s([],236433),a.j(b,236433)},576919,a=>{"use strict";let b=(0,a.i(543474).default)("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);a.s(["TrendingDown",()=>b],576919)},584220,429007,a=>{"use strict";a.i(730154),a.s([],584220),a.i(584220);var b=a.i(549121);a.s([],429007),a.j(b,429007)},752695,a=>{"use strict";let b=(0,a.i(742210).registerClientReference)(function(){throw Error("Attempted to call ExportButton() from the server but ExportButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/apps/web/src/components/reports/export-button.tsx <module evaluation>","ExportButton");a.s(["ExportButton",0,b])},689828,a=>{"use strict";let b=(0,a.i(742210).registerClientReference)(function(){throw Error("Attempted to call ExportButton() from the server but ExportButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/apps/web/src/components/reports/export-button.tsx","ExportButton");a.s(["ExportButton",0,b])},519741,a=>{"use strict";a.i(752695);var b=a.i(689828);a.n(b)},819062,a=>{"use strict";var b=a.i(504348),c=a.i(429969),d=a.i(54214);a.i(467361);var e=a.i(445074);a.i(174010);var f=a.i(705991);a.i(150644);var g=a.i(236028);a.i(584220);var h=a.i(429007);a.i(502549);var i=a.i(236433),j=a.i(862875),k=a.i(142969),l=a.i(576919),m=a.i(634332),n=a.i(519741);function o(a){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(a)}function p(a){return`${a.toFixed(1)}%`}function q(a){return new Date(a+"-01").toLocaleDateString("en-US",{month:"short",year:"numeric"})}async function r(){let a=await (0,e.getActiveCompanyId)();if(!a)return(0,b.jsx)("div",{className:"flex min-h-[400px] items-center justify-center",children:(0,b.jsx)("p",{className:"text-muted-foreground",children:"Please select a company to view reports"})});let c=await (0,d.getFinancialReport)(a,365);return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-bold tracking-tight",children:"Financial Reports"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"P&L, AR aging, and cash flow analysis"})]}),(0,b.jsx)(n.ExportButton,{reportType:"financial",days:365})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,b.jsx)(s,{title:"Total Revenue",value:o(c.summary.totalRevenue),icon:(0,b.jsx)(j.DollarSign,{className:"size-4 text-green-500"}),trend:"positive"}),(0,b.jsx)(s,{title:"Gross Profit",value:o(c.summary.grossProfit),subtitle:`${p(c.summary.grossMargin)} margin`,icon:(0,b.jsx)(k.TrendingUp,{className:"size-4 text-blue-500"}),trend:c.summary.grossMargin>=30?"positive":"neutral"}),(0,b.jsx)(s,{title:"Outstanding AR",value:o(c.summary.outstandingAR),subtitle:`${o(c.summary.overdueAR)} overdue`,icon:(0,b.jsx)(m.AlertTriangle,{className:"size-4 text-orange-500"}),trend:c.summary.overdueAR>0?"negative":"positive"}),(0,b.jsx)(s,{title:"Total Cost",value:o(c.summary.totalCost),icon:(0,b.jsx)(l.TrendingDown,{className:"size-4 text-red-500"}),trend:"neutral"})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsx)(f.CardTitle,{children:"Accounts Receivable Aging"}),(0,b.jsx)(f.CardDescription,{children:"Outstanding invoices by aging bucket"})]}),(0,b.jsx)(f.CardContent,{children:(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-5",children:[(0,b.jsx)(t,{label:"Current",count:c.arAging.current.count,amount:c.arAging.current.amount,total:c.summary.outstandingAR,color:"bg-green-500"}),(0,b.jsx)(t,{label:"1-30 Days",count:c.arAging.days1_30.count,amount:c.arAging.days1_30.amount,total:c.summary.outstandingAR,color:"bg-yellow-500"}),(0,b.jsx)(t,{label:"31-60 Days",count:c.arAging.days31_60.count,amount:c.arAging.days31_60.amount,total:c.summary.outstandingAR,color:"bg-orange-500"}),(0,b.jsx)(t,{label:"61-90 Days",count:c.arAging.days61_90.count,amount:c.arAging.days61_90.amount,total:c.summary.outstandingAR,color:"bg-red-400"}),(0,b.jsx)(t,{label:"Over 90 Days",count:c.arAging.over90.count,amount:c.arAging.over90.amount,total:c.summary.outstandingAR,color:"bg-red-600"})]})})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsx)(f.CardTitle,{children:"Monthly Profit & Loss"}),(0,b.jsx)(f.CardDescription,{children:"Revenue, costs, and profit by month"})]}),(0,b.jsx)(f.CardContent,{children:0===c.monthlyPL.length?(0,b.jsx)("p",{className:"text-muted-foreground py-8 text-center",children:"No data available for this period"}):(0,b.jsxs)(h.Table,{children:[(0,b.jsx)(h.TableHeader,{children:(0,b.jsxs)(h.TableRow,{children:[(0,b.jsx)(h.TableHead,{children:"Month"}),(0,b.jsx)(h.TableHead,{className:"text-right",children:"Revenue"}),(0,b.jsx)(h.TableHead,{className:"text-right",children:"Cost"}),(0,b.jsx)(h.TableHead,{className:"text-right",children:"Profit"}),(0,b.jsx)(h.TableHead,{className:"text-right",children:"Margin"})]})}),(0,b.jsx)(h.TableBody,{children:c.monthlyPL.slice(-12).map(a=>(0,b.jsxs)(h.TableRow,{children:[(0,b.jsx)(h.TableCell,{className:"font-medium",children:q(a.month)}),(0,b.jsx)(h.TableCell,{className:"text-right",children:o(a.revenue)}),(0,b.jsx)(h.TableCell,{className:"text-right",children:o(a.cost)}),(0,b.jsx)(h.TableCell,{className:"text-right",children:(0,b.jsx)("span",{className:a.profit>=0?"text-green-600":"text-red-600",children:o(a.profit)})}),(0,b.jsx)(h.TableCell,{className:"text-right",children:(0,b.jsx)(g.Badge,{variant:a.margin>=30?"default":a.margin>=15?"secondary":"destructive",children:p(a.margin)})})]},a.month))})]})})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsx)(f.CardTitle,{children:"Cash Flow Summary"}),(0,b.jsx)(f.CardDescription,{children:"Monthly cash inflows and outflows"})]}),(0,b.jsx)(f.CardContent,{children:0===c.cashFlow.length?(0,b.jsx)("p",{className:"text-muted-foreground py-8 text-center",children:"No cash flow data available"}):(0,b.jsxs)(h.Table,{children:[(0,b.jsx)(h.TableHeader,{children:(0,b.jsxs)(h.TableRow,{children:[(0,b.jsx)(h.TableHead,{children:"Month"}),(0,b.jsx)(h.TableHead,{className:"text-right",children:"Inflows"}),(0,b.jsx)(h.TableHead,{className:"text-right",children:"Outflows"}),(0,b.jsx)(h.TableHead,{className:"text-right",children:"Net"})]})}),(0,b.jsx)(h.TableBody,{children:c.cashFlow.slice(-12).map(a=>(0,b.jsxs)(h.TableRow,{children:[(0,b.jsx)(h.TableCell,{className:"font-medium",children:q(a.month)}),(0,b.jsx)(h.TableCell,{className:"text-right text-green-600",children:o(a.inflows)}),(0,b.jsx)(h.TableCell,{className:"text-right text-red-600",children:o(a.outflows)}),(0,b.jsx)(h.TableCell,{className:"text-right",children:(0,b.jsx)("span",{className:a.net>=0?"text-green-600 font-medium":"text-red-600 font-medium",children:o(a.net)})})]},a.month))})]})})]})]})}function s({title:a,value:c,subtitle:d,icon:e,trend:g}){return(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,b.jsx)(f.CardTitle,{className:"text-sm font-medium",children:a}),e]}),(0,b.jsxs)(f.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold",children:c}),d&&(0,b.jsx)("p",{className:`text-xs ${"positive"===g?"text-green-600":"negative"===g?"text-red-600":"text-muted-foreground"}`,children:d})]})]})}function t({label:a,count:c,amount:d,total:e,color:f}){let h=e>0?d/e*100:0;return(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm font-medium",children:a}),(0,b.jsx)(g.Badge,{variant:"outline",children:c})]}),(0,b.jsx)("div",{className:"text-lg font-bold",children:o(d)}),(0,b.jsx)(i.Progress,{value:h,className:`h-2 [&>div]:${f}`}),(0,b.jsxs)("p",{className:"text-muted-foreground text-xs",children:[p(h)," of total"]})]})}function u(){return(0,b.jsxs)("div",{className:"relative space-y-10 py-8 md:py-12",children:[(0,b.jsx)("div",{className:"flex justify-center",children:(0,b.jsx)("div",{className:"bg-muted h-9 w-32 animate-pulse rounded-full"})}),(0,b.jsx)("div",{className:"flex justify-center",children:(0,b.jsx)("div",{className:"bg-muted size-24 animate-pulse rounded-full"})}),(0,b.jsxs)("div",{className:"mx-auto max-w-3xl space-y-3 text-center",children:[(0,b.jsx)("div",{className:"bg-muted mx-auto h-12 w-96 animate-pulse rounded"}),(0,b.jsx)("div",{className:"bg-muted mx-auto h-6 w-full max-w-2xl animate-pulse rounded"})]}),(0,b.jsxs)("div",{className:"mx-auto max-w-5xl space-y-8 pt-4",children:[(0,b.jsx)("div",{className:"grid gap-6 md:grid-cols-2",children:[void 0,void 0,void 0,void 0].map((a,c)=>(0,b.jsxs)("div",{className:"bg-card space-y-3 rounded-lg border p-6",children:[(0,b.jsx)("div",{className:"bg-muted size-12 animate-pulse rounded-lg"}),(0,b.jsx)("div",{className:"bg-muted h-6 w-40 animate-pulse rounded"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"bg-muted h-4 w-full animate-pulse rounded"}),(0,b.jsx)("div",{className:"bg-muted h-4 w-4/5 animate-pulse rounded"})]})]},c))}),(0,b.jsxs)("div",{className:"bg-card rounded-lg border p-8 text-center",children:[(0,b.jsx)("div",{className:"bg-muted mx-auto mb-3 h-7 w-48 animate-pulse rounded"}),(0,b.jsx)("div",{className:"bg-muted mx-auto mb-6 h-5 w-72 animate-pulse rounded"}),(0,b.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,b.jsx)("div",{className:"bg-muted h-10 w-32 animate-pulse rounded-lg"}),(0,b.jsx)("div",{className:"bg-muted h-10 w-36 animate-pulse rounded-lg"})]})]})]}),(0,b.jsx)("div",{className:"flex justify-center pt-8",children:(0,b.jsx)("div",{className:"bg-muted h-4 w-80 animate-pulse rounded"})})]})}function v(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)(u,{}),children:(0,b.jsx)(r,{})})}a.s(["default",()=>v],819062)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__8195eccd._.js.map