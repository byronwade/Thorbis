{"version":3,"sources":["../../../../../../apps/web/src/components/ui/alert.tsx","../../../../../../node_modules/.pnpm/lucide-react%400.552.0_react%4019.2.0/node_modules/lucide-react/src/icons/arrow-right.ts","../../../../../../node_modules/.pnpm/lucide-react%400.552.0_react%4019.2.0/node_modules/lucide-react/src/icons/shield-check.ts","../../../../../../apps/web/src/components/ui/radio-group.tsx","../../../../../../apps/web/src/components/settings/communications/email-provider-content.tsx","../../../../../../apps/web/src/actions/settings/data%3A0a8821%20%3Ctext/javascript%3E"],"sourcesContent":["// Re-export from @stratos/ui package\nexport * from \"@stratos/ui\";\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'm12 5 7 7-7 7', key: 'xquz4c' }],\n];\n\n/**\n * @component @name ArrowRight\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJtMTIgNSA3IDctNyA3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/arrow-right\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowRight = createLucideIcon('arrow-right', __iconNode);\n\nexport default ArrowRight;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z',\n      key: 'oel41y',\n    },\n  ],\n  ['path', { d: 'm9 12 2 2 4-4', key: 'dzmm74' }],\n];\n\n/**\n * @component @name ShieldCheck\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgMTNjMCA1LTMuNSA3LjUtNy42NiA4Ljk1YTEgMSAwIDAgMS0uNjctLjAxQzcuNSAyMC41IDQgMTggNCAxM1Y2YTEgMSAwIDAgMSAxLTFjMiAwIDQuNS0xLjIgNi4yNC0yLjcyYTEuMTcgMS4xNyAwIDAgMSAxLjUyIDBDMTQuNTEgMy44MSAxNyA1IDE5IDVhMSAxIDAgMCAxIDEgMXoiIC8+CiAgPHBhdGggZD0ibTkgMTIgMiAyIDQtNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/shield-check\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ShieldCheck = createLucideIcon('shield-check', __iconNode);\n\nexport default ShieldCheck;\n","// Re-export from @stratos/ui package\nexport * from \"@stratos/ui\";\n","\"use client\";\n\n/**\n * Email Provider Settings Content Component\n *\n * Allows companies to choose between:\n * - Managed (Resend/Postmark - platform managed)\n * - Google Workspace (Gmail API)\n * - Disabled (no email sending)\n */\n\nimport {\n\tAlertTriangle,\n\tArrowRight,\n\tBuilding2,\n\tCheckCircle2,\n\tExternalLink,\n\tLoader2,\n\tMail,\n\tSettings,\n\tShieldCheck,\n} from \"lucide-react\";\nimport { useState } from \"react\";\nimport { toast } from \"sonner\";\nimport {\n\ttype EmailProvider,\n\tupdateEmailProvider,\n} from \"@/actions/settings/email-provider\";\nimport { Alert, AlertDescription, AlertTitle } from \"@/components/ui/alert\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n\tCard,\n\tCardContent,\n\tCardDescription,\n\tCardFooter,\n\tCardHeader,\n\tCardTitle,\n} from \"@/components/ui/card\";\nimport { Label } from \"@/components/ui/label\";\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { cn } from \"@/lib/utils\";\n\ninterface EmailProviderContentProps {\n\tcurrentProvider: EmailProvider;\n\tisConnected: boolean;\n\tcompanyId: string;\n}\n\nconst PROVIDERS = [\n\t{\n\t\tid: \"managed\" as EmailProvider,\n\t\tname: \"Platform Managed (Resend)\",\n\t\tdescription: \"Fully managed email infrastructure with automatic setup\",\n\t\ticon: Building2,\n\t\tfeatures: [\n\t\t\t\"Automatic domain setup and verification\",\n\t\t\t\"99.9% delivery guarantee\",\n\t\t\t\"Built-in spam protection\",\n\t\t\t\"Team member email addresses included\",\n\t\t\t\"Support for custom domains\",\n\t\t],\n\t\trecommended: true,\n\t\tsetupRequired: false,\n\t},\n\t{\n\t\tid: \"gmail\" as EmailProvider,\n\t\tname: \"Google Workspace\",\n\t\tdescription: \"Use your existing Google Workspace for email\",\n\t\ticon: Mail,\n\t\tfeatures: [\n\t\t\t\"Use your existing Gmail addresses\",\n\t\t\t\"No vendor lock-in - use Gmail directly\",\n\t\t\t\"All emails tracked in Stratos\",\n\t\t\t\"Send via Gmail API\",\n\t\t\t\"Automatic inbox sync\",\n\t\t],\n\t\trecommended: false,\n\t\tsetupRequired: true,\n\t},\n\t{\n\t\tid: \"disabled\" as EmailProvider,\n\t\tname: \"Disabled\",\n\t\tdescription: \"Turn off email sending capabilities\",\n\t\ticon: ShieldCheck,\n\t\tfeatures: [\n\t\t\t\"No emails will be sent from the platform\",\n\t\t\t\"Existing emails remain accessible\",\n\t\t\t\"Can be re-enabled at any time\",\n\t\t],\n\t\trecommended: false,\n\t\tsetupRequired: false,\n\t},\n] as const;\n\nexport function EmailProviderContent({\n\tcurrentProvider,\n\tisConnected,\n\tcompanyId,\n}: EmailProviderContentProps) {\n\tconst [selectedProvider, setSelectedProvider] =\n\t\tuseState<EmailProvider>(currentProvider);\n\tconst [saving, setSaving] = useState(false);\n\tconst [showWarning, setShowWarning] = useState(false);\n\n\tconst hasChanges = selectedProvider !== currentProvider;\n\n\tconst handleSave = async () => {\n\t\t// Show warning if switching away from current provider\n\t\tif (hasChanges && currentProvider !== \"disabled\" && !showWarning) {\n\t\t\tsetShowWarning(true);\n\t\t\treturn;\n\t\t}\n\n\t\tsetSaving(true);\n\t\ttry {\n\t\t\tconst result = await updateEmailProvider({ provider: selectedProvider });\n\n\t\t\tif (result.success) {\n\t\t\t\ttoast.success(\"Email provider updated successfully\");\n\t\t\t\tsetShowWarning(false);\n\n\t\t\t\t// If switching to Gmail, redirect to setup wizard\n\t\t\t\tif (selectedProvider === \"gmail\") {\n\t\t\t\t\twindow.location.href =\n\t\t\t\t\t\t\"/dashboard/settings/communications/email-provider/setup-gmail\";\n\t\t\t\t} else {\n\t\t\t\t\t// Reload to refresh connection status\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\ttoast.error(result.error || \"Failed to update email provider\");\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Error updating email provider:\", error);\n\t\t\ttoast.error(\"An unexpected error occurred\");\n\t\t} finally {\n\t\t\tsetSaving(false);\n\t\t}\n\t};\n\n\tconst selectedProviderData = PROVIDERS.find((p) => p.id === selectedProvider);\n\n\treturn (\n\t\t<div className=\"space-y-6\">\n\t\t\t<div>\n\t\t\t\t<h2 className=\"text-2xl font-bold tracking-tight\">Email Provider</h2>\n\t\t\t\t<p className=\"text-muted-foreground\">\n\t\t\t\t\tChoose how your company sends and receives emails\n\t\t\t\t</p>\n\t\t\t</div>\n\n\t\t\t{/* Current Status */}\n\t\t\t{currentProvider !== \"disabled\" && (\n\t\t\t\t<Card>\n\t\t\t\t\t<CardHeader>\n\t\t\t\t\t\t<CardTitle className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t<Settings className=\"h-5 w-5\" />\n\t\t\t\t\t\t\tCurrent Provider Status\n\t\t\t\t\t\t</CardTitle>\n\t\t\t\t\t</CardHeader>\n\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\"h-12 w-12 rounded-full flex items-center justify-center\",\n\t\t\t\t\t\t\t\t\t\tisConnected\n\t\t\t\t\t\t\t\t\t\t\t? \"bg-green-500/10 text-green-600\"\n\t\t\t\t\t\t\t\t\t\t\t: \"bg-yellow-500/10 text-yellow-600\",\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{isConnected ? (\n\t\t\t\t\t\t\t\t\t\t<CheckCircle2 className=\"h-6 w-6\" />\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<AlertTriangle className=\"h-6 w-6\" />\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<p className=\"font-semibold\">\n\t\t\t\t\t\t\t\t\t\t{PROVIDERS.find((p) => p.id === currentProvider)?.name}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\t{isConnected\n\t\t\t\t\t\t\t\t\t\t\t? \"Connected and active\"\n\t\t\t\t\t\t\t\t\t\t\t: \"Not connected - setup required\"}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{isConnected ? (\n\t\t\t\t\t\t\t\t<Badge variant=\"secondary\" className=\"gap-1\">\n\t\t\t\t\t\t\t\t\t<CheckCircle2 className=\"h-3 w-3\" />\n\t\t\t\t\t\t\t\t\tActive\n\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\tclassName=\"gap-1 border-yellow-500 text-yellow-600\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<AlertTriangle className=\"h-3 w-3\" />\n\t\t\t\t\t\t\t\t\tSetup Required\n\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\t\t\t)}\n\n\t\t\t{/* Provider Selection */}\n\t\t\t<Card>\n\t\t\t\t<CardHeader>\n\t\t\t\t\t<CardTitle>Select Email Provider</CardTitle>\n\t\t\t\t\t<CardDescription>\n\t\t\t\t\t\tChoose the email infrastructure that works best for your business\n\t\t\t\t\t</CardDescription>\n\t\t\t\t</CardHeader>\n\t\t\t\t<CardContent>\n\t\t\t\t\t<RadioGroup\n\t\t\t\t\t\tvalue={selectedProvider}\n\t\t\t\t\t\tonValueChange={(v) => setSelectedProvider(v as EmailProvider)}\n\t\t\t\t\t\tclassName=\"grid gap-4\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{PROVIDERS.map((provider) => {\n\t\t\t\t\t\t\tconst Icon = provider.icon;\n\t\t\t\t\t\t\tconst isCurrentlySelected = selectedProvider === provider.id;\n\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div key={provider.id}>\n\t\t\t\t\t\t\t\t\t<RadioGroupItem\n\t\t\t\t\t\t\t\t\t\tvalue={provider.id}\n\t\t\t\t\t\t\t\t\t\tid={provider.id}\n\t\t\t\t\t\t\t\t\t\tclassName=\"peer sr-only\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Label\n\t\t\t\t\t\t\t\t\t\thtmlFor={provider.id}\n\t\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\t\"flex flex-col gap-4 p-4 rounded-lg border-2 cursor-pointer transition-all\",\n\t\t\t\t\t\t\t\t\t\t\t\"peer-data-[state=checked]:border-primary peer-data-[state=checked]:bg-primary/5\",\n\t\t\t\t\t\t\t\t\t\t\t\"hover:border-primary/50\",\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-start justify-between\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-start gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"h-10 w-10 rounded-lg flex items-center justify-center\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tisCurrentlySelected\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"bg-primary/10 text-primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"bg-muted text-muted-foreground\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Icon className=\"h-5 w-5\" />\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"space-y-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-semibold\">{provider.name}</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{provider.recommended && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Badge variant=\"secondary\" className=\"text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tRecommended\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{provider.description}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t{isCurrentlySelected && (\n\t\t\t\t\t\t\t\t\t\t\t\t<CheckCircle2 className=\"h-5 w-5 text-primary\" />\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t<Separator />\n\n\t\t\t\t\t\t\t\t\t\t<ul className=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t\t\t{provider.features.map((feature, idx) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"flex items-start gap-2 text-sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckCircle2 className=\"h-4 w-4 text-green-500 shrink-0 mt-0.5\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span>{feature}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t</ul>\n\n\t\t\t\t\t\t\t\t\t\t{provider.setupRequired && isCurrentlySelected && (\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"pt-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Badge variant=\"outline\" className=\"gap-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Settings className=\"h-3 w-3\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\tSetup wizard required after saving\n\t\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Label>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</RadioGroup>\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\n\t\t\t{/* Migration Warning */}\n\t\t\t{showWarning && hasChanges && (\n\t\t\t\t<Alert variant=\"destructive\">\n\t\t\t\t\t<AlertTriangle className=\"h-4 w-4\" />\n\t\t\t\t\t<AlertTitle>Switching Email Providers</AlertTitle>\n\t\t\t\t\t<AlertDescription className=\"space-y-2\">\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\tYou are about to switch from{\" \"}\n\t\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t\t{PROVIDERS.find((p) => p.id === currentProvider)?.name}\n\t\t\t\t\t\t\t</strong>{\" \"}\n\t\t\t\t\t\t\tto <strong>{selectedProviderData?.name}</strong>.\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<ul className=\"list-disc list-inside space-y-1 text-sm\">\n\t\t\t\t\t\t\t<li>All existing emails will remain accessible</li>\n\t\t\t\t\t\t\t<li>Future emails will be sent using the new provider</li>\n\t\t\t\t\t\t\t<li>You may need to update DNS records or complete setup</li>\n\t\t\t\t\t\t\t<li>Email sending will be disabled until setup is complete</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<div className=\"flex gap-2 pt-2\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"destructive\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tonClick={handleSave}\n\t\t\t\t\t\t\t\tdisabled={saving}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{saving && <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />}\n\t\t\t\t\t\t\t\tConfirm and Switch\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tsetShowWarning(false);\n\t\t\t\t\t\t\t\t\tsetSelectedProvider(currentProvider);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</AlertDescription>\n\t\t\t\t</Alert>\n\t\t\t)}\n\n\t\t\t{/* Save Button */}\n\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t<div className=\"text-sm text-muted-foreground\">\n\t\t\t\t\t{hasChanges ? (\n\t\t\t\t\t\t<span className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t<AlertTriangle className=\"h-4 w-4 text-yellow-600\" />\n\t\t\t\t\t\t\tYou have unsaved changes\n\t\t\t\t\t\t</span>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<span className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t<CheckCircle2 className=\"h-4 w-4 text-green-600\" />\n\t\t\t\t\t\t\tNo changes to save\n\t\t\t\t\t\t</span>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"flex gap-2\">\n\t\t\t\t\t{selectedProvider === \"gmail\" &&\n\t\t\t\t\t\tcurrentProvider !== \"gmail\" &&\n\t\t\t\t\t\thasChanges && (\n\t\t\t\t\t\t\t<Button variant=\"outline\" size=\"sm\" asChild>\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\thref=\"/docs/email/gmail-setup\"\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<ExternalLink className=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t\t\t\t\tSetup Guide\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t<Button onClick={handleSave} disabled={!hasChanges || saving}>\n\t\t\t\t\t\t{saving && <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />}\n\t\t\t\t\t\t{selectedProvider !== currentProvider &&\n\t\t\t\t\t\tselectedProviderData?.setupRequired\n\t\t\t\t\t\t\t? \"Save and Continue to Setup\"\n\t\t\t\t\t\t\t: \"Save Changes\"}\n\t\t\t\t\t\t{selectedProvider !== currentProvider &&\n\t\t\t\t\t\t\tselectedProviderData?.setupRequired && (\n\t\t\t\t\t\t\t\t<ArrowRight className=\"h-4 w-4 ml-2\" />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","/* __next_internal_action_entry_do_not_use__ [{\"40eae38b1767b1db5fc6007097b2f8852dce9cffcc\":\"updateEmailProvider\"},\"apps/web/src/actions/settings/email-provider.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";export var updateEmailProvider=/*#__PURE__*/createServerReference(\"40eae38b1767b1db5fc6007097b2f8852dce9cffcc\",callServer,void 0,findSourceMapURL,\"updateEmailProvider\");"],"names":[],"mappings":"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"}