{"version":3,"sources":["../../../../../../apps/web/src/app/emails/preview/%5Btemplate%5D/page.tsx"],"sourcesContent":["/**\n * Email Preview Page - Development-only preview for email templates\n *\n * Features:\n * - Preview all email templates with sample data\n * - Renders actual React Email templates\n * - Useful for development and design review\n */\n\nimport { render } from \"@react-email/components\";\nimport { notFound } from \"next/navigation\";\nimport EmailVerificationEmail from \"../../../../../emails/templates/auth/email-verification\";\nimport MagicLinkEmail from \"../../../../../emails/templates/auth/magic-link\";\nimport PasswordChangedEmail from \"../../../../../emails/templates/auth/password-changed\";\nimport PasswordResetEmail from \"../../../../../emails/templates/auth/password-reset\";\n// Import all email templates\nimport WelcomeEmail from \"../../../../../emails/templates/auth/welcome\";\nimport EstimateSentEmail from \"../../../../../emails/templates/billing/estimate-sent\";\nimport InvoiceSentEmail from \"../../../../../emails/templates/billing/invoice-sent\";\nimport PaymentReceivedEmail from \"../../../../../emails/templates/billing/payment-received\";\nimport PaymentReminderEmail from \"../../../../../emails/templates/billing/payment-reminder\";\nimport ReviewRequestEmail from \"../../../../../emails/templates/customer/review-request\";\nimport ServiceReminderEmail from \"../../../../../emails/templates/customer/service-reminder\";\nimport WelcomeCustomerEmail from \"../../../../../emails/templates/customer/welcome-customer\";\nimport AppointmentReminderEmail from \"../../../../../emails/templates/jobs/appointment-reminder\";\nimport JobCompleteEmail from \"../../../../../emails/templates/jobs/job-complete\";\nimport JobConfirmationEmail from \"../../../../../emails/templates/jobs/job-confirmation\";\nimport TechEnRouteEmail from \"../../../../../emails/templates/jobs/tech-en-route\";\n\n// Sample data for each template\nconst sampleData: Record<string, any> = {\n\twelcome: {\n\t\tname: \"John Doe\",\n\t\tloginUrl: \"https://thorbis.com/login\",\n\t},\n\t\"email-verification\": {\n\t\tname: \"John Doe\",\n\t\tverificationUrl: \"https://thorbis.com/verify?token=abc123\",\n\t},\n\t\"password-reset\": {\n\t\tname: \"John Doe\",\n\t\tresetUrl: \"https://thorbis.com/reset?token=abc123\",\n\t\texpiresInMinutes: 60,\n\t},\n\t\"password-changed\": {\n\t\tname: \"John Doe\",\n\t\tchangedAt: new Date(),\n\t},\n\t\"magic-link\": {\n\t\tloginUrl: \"https://thorbis.com/magic?token=abc123\",\n\t\texpiresInMinutes: 15,\n\t},\n\t\"job-confirmation\": {\n\t\tcustomerName: \"Jane Smith\",\n\t\tjobDate: \"Monday, March 15th, 2025\",\n\t\tjobTime: \"10:00 AM - 12:00 PM\",\n\t\ttechnicianName: \"Mike Johnson\",\n\t\tjobType: \"HVAC Maintenance\",\n\t\taddress: \"123 Main St, Anytown, CA 12345\",\n\t\tjobNumber: \"JOB-2025-001\",\n\t\tviewJobUrl: \"https://thorbis.com/jobs/001\",\n\t},\n\t\"appointment-reminder\": {\n\t\tcustomerName: \"Jane Smith\",\n\t\tappointmentDate: \"Tomorrow, March 16th\",\n\t\tappointmentTime: \"10:00 AM - 12:00 PM\",\n\t\ttechnicianName: \"Mike Johnson\",\n\t\taddress: \"123 Main St, Anytown, CA 12345\",\n\t\trescheduleUrl: \"https://thorbis.com/reschedule/001\",\n\t},\n\t\"tech-en-route\": {\n\t\tcustomerName: \"Jane Smith\",\n\t\ttechnicianName: \"Mike Johnson\",\n\t\testimatedArrival: \"30 minutes\",\n\t\ttrackingUrl: \"https://thorbis.com/track/001\",\n\t},\n\t\"job-complete\": {\n\t\tcustomerName: \"Jane Smith\",\n\t\tjobNumber: \"JOB-2025-001\",\n\t\tcompletedDate: \"March 15th, 2025\",\n\t\ttotalAmount: \"$450.00\",\n\t\tinvoiceUrl: \"https://thorbis.com/invoices/001\",\n\t\treviewUrl: \"https://thorbis.com/review/001\",\n\t},\n\t\"invoice-sent\": {\n\t\tcustomerName: \"Jane Smith\",\n\t\tinvoiceNumber: \"INV-2025-001\",\n\t\ttotalAmount: \"$450.00\",\n\t\tdueDate: \"April 15th, 2025\",\n\t\titems: [\n\t\t\t{\n\t\t\t\tdescription: \"HVAC Maintenance Service\",\n\t\t\t\tquantity: 1,\n\t\t\t\tamount: \"$350.00\",\n\t\t\t},\n\t\t\t{ description: \"Air Filter Replacement\", quantity: 2, amount: \"$100.00\" },\n\t\t],\n\t\tpaymentUrl: \"https://thorbis.com/pay/001\",\n\t\tdownloadUrl: \"https://thorbis.com/invoice/001/download\",\n\t},\n\t\"payment-received\": {\n\t\tcustomerName: \"Jane Smith\",\n\t\tinvoiceNumber: \"INV-2025-001\",\n\t\tpaymentAmount: \"$450.00\",\n\t\tpaymentMethod: \"Visa ending in 4242\",\n\t\tpaymentDate: \"March 15th, 2025\",\n\t\treceiptUrl: \"https://thorbis.com/receipt/001\",\n\t},\n\t\"payment-reminder\": {\n\t\tcustomerName: \"Jane Smith\",\n\t\tinvoiceNumber: \"INV-2025-001\",\n\t\ttotalAmount: \"$450.00\",\n\t\tdueDate: \"March 1st, 2025\",\n\t\tdaysOverdue: 14,\n\t\tpaymentUrl: \"https://thorbis.com/pay/001\",\n\t},\n\t\"estimate-sent\": {\n\t\tcustomerName: \"Jane Smith\",\n\t\testimateNumber: \"EST-2025-001\",\n\t\ttotalAmount: \"$450.00\",\n\t\tvalidUntil: \"April 15th, 2025\",\n\t\titems: [\n\t\t\t{ description: \"HVAC Maintenance Service\", amount: \"$350.00\" },\n\t\t\t{ description: \"Air Filter Replacement\", amount: \"$100.00\" },\n\t\t],\n\t\tacceptUrl: \"https://thorbis.com/estimate/001/accept\",\n\t\tviewUrl: \"https://thorbis.com/estimate/001\",\n\t},\n\t\"review-request\": {\n\t\tcustomerName: \"Jane Smith\",\n\t\tjobNumber: \"JOB-2025-001\",\n\t\ttechnicianName: \"Mike Johnson\",\n\t\tcompletedDate: \"March 15th, 2025\",\n\t\treviewUrl: \"https://thorbis.com/review/001\",\n\t},\n\t\"service-reminder\": {\n\t\tcustomerName: \"Jane Smith\",\n\t\tserviceName: \"Annual HVAC Maintenance\",\n\t\tlastServiceDate: \"March 15th, 2024\",\n\t\tscheduleUrl: \"https://thorbis.com/schedule\",\n\t},\n\t\"welcome-customer\": {\n\t\tcustomerName: \"Jane Smith\",\n\t\taccountUrl: \"https://thorbis.com/account\",\n\t\tsupportEmail: \"support@thorbis.com\",\n\t\tsupportPhone: \"(555) 123-4567\",\n\t},\n};\n\n// Template component mapping\nconst templates: Record<string, any> = {\n\twelcome: WelcomeEmail,\n\t\"email-verification\": EmailVerificationEmail,\n\t\"password-reset\": PasswordResetEmail,\n\t\"password-changed\": PasswordChangedEmail,\n\t\"magic-link\": MagicLinkEmail,\n\t\"job-confirmation\": JobConfirmationEmail,\n\t\"appointment-reminder\": AppointmentReminderEmail,\n\t\"tech-en-route\": TechEnRouteEmail,\n\t\"job-complete\": JobCompleteEmail,\n\t\"invoice-sent\": InvoiceSentEmail,\n\t\"payment-received\": PaymentReceivedEmail,\n\t\"payment-reminder\": PaymentReminderEmail,\n\t\"estimate-sent\": EstimateSentEmail,\n\t\"review-request\": ReviewRequestEmail,\n\t\"service-reminder\": ServiceReminderEmail,\n\t\"welcome-customer\": WelcomeCustomerEmail,\n};\n\nexport default async function EmailPreviewPage({\n\tparams,\n}: {\n\tparams: Promise<{ template: string }>;\n}) {\n\tconst { template } = await params;\n\n\t// Check if template exists\n\tconst TemplateComponent = templates[template];\n\tconst data = sampleData[template];\n\n\tif (!(TemplateComponent && data)) {\n\t\tnotFound();\n\t}\n\n\t// Render template to HTML\n\tconst html = await render(TemplateComponent(data));\n\n\treturn (\n\t\t<div className=\"bg-muted min-h-screen p-8\">\n\t\t\t<div className=\"mx-auto max-w-4xl space-y-4\">\n\t\t\t\t<div className=\"bg-card rounded-lg p-4 shadow\">\n\t\t\t\t\t<h1 className=\"text-2xl font-bold\">Email Preview: {template}</h1>\n\t\t\t\t\t<p className=\"text-muted-foreground text-sm\">\n\t\t\t\t\t\tDevelopment preview - This email template uses sample data\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"bg-card overflow-hidden rounded-lg shadow\">\n\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: html }} />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n"],"names":[],"mappings":"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"}