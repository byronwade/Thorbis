module.exports=[264738,a=>{"use strict";let b=(0,a.i(203431).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);a.s(["default",()=>b])},779184,a=>{"use strict";var b=a.i(264738);a.s(["ChevronLeft",()=>b.default])},917640,a=>{"use strict";var b=a.i(734972);a.s(["ArrowDown",()=>b.default])},146674,a=>{"use strict";let b=(0,a.i(203431).default)("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);a.s(["default",()=>b])},155519,a=>{"use strict";var b=a.i(146674);a.s(["ArrowUp",()=>b.default])},734972,a=>{"use strict";let b=(0,a.i(203431).default)("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);a.s(["default",()=>b])},147225,a=>{"use strict";let b=(0,a.i(203431).default)("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);a.s(["default",()=>b])},695023,a=>{"use strict";var b=a.i(861467),c=a.i(783281),d=a.i(764479);function e({section:a,table:e,kanban:f,fallback:g=null,forceView:h}){let i=(0,d.useWorkView)(a),j=(0,d.useSetWorkView)(a),k=h??i;return((0,c.useEffect)(()=>{h&&i!==h&&j(h)},[h]),"kanban"===k)?(0,b.jsx)(b.Fragment,{children:f??g}):(0,b.jsx)(b.Fragment,{children:e??g})}a.s(["WorkDataView",()=>e])},858707,a=>{"use strict";a.s(["TablePresets",0,{fullList:(a={})=>({variant:"full",enableSelection:a.enableSelection??!0,showRefresh:a.showRefresh??!1,showPagination:a.showPagination??!0,itemsPerPage:a.itemsPerPage??50,serverPagination:a.serverPagination??!1,serverSearch:a.serverSearch??!1,searchPlaceholder:a.searchPlaceholder??"Search...",entity:a.entity,noPadding:a.noPadding??!1}),compact:(a={})=>({variant:"compact",enableSelection:a.enableSelection??!1,showRefresh:a.showRefresh??!1,showPagination:a.showPagination??!0,itemsPerPage:a.itemsPerPage??20,serverPagination:a.serverPagination??!1,serverSearch:a.serverSearch??!1,searchPlaceholder:a.searchPlaceholder??"Search...",entity:a.entity,noPadding:a.noPadding??!1}),nested:(a={})=>({variant:"nested",enableSelection:a.enableSelection??!1,showRefresh:a.showRefresh??!1,showPagination:a.showPagination??!1,itemsPerPage:a.itemsPerPage??10,serverPagination:a.serverPagination??!1,serverSearch:a.serverSearch??!1,entity:a.entity,noPadding:a.noPadding??!0}),serverPaginated:(a={})=>({variant:"full",enableSelection:a.enableSelection??!0,showRefresh:a.showRefresh??!1,showPagination:a.showPagination??!0,itemsPerPage:a.itemsPerPage??50,serverPagination:!0,serverSearch:!0,searchPlaceholder:a.searchPlaceholder??"Search...",entity:a.entity,noPadding:a.noPadding??!1}),readOnly:(a={})=>({variant:a.itemsPerPage?"full":"compact",enableSelection:!1,showRefresh:!1,showPagination:a.showPagination??!!a.itemsPerPage,itemsPerPage:a.itemsPerPage??20,serverPagination:a.serverPagination??!1,serverSearch:!1,entity:a.entity,noPadding:a.noPadding??!1}),modal:(a={})=>({variant:"compact",enableSelection:a.enableSelection??!0,showRefresh:!1,showPagination:a.showPagination??!1,itemsPerPage:a.itemsPerPage??10,serverPagination:!1,serverSearch:!1,searchPlaceholder:a.searchPlaceholder??"Search...",noPadding:!0})}])},463359,370528,a=>{"use strict";a.i(156120),a.s([],463359);var b=a.i(337241),c=a.i(156916);function d({entityType:a,basePath:d}){let e=(0,b.useRouter)(),f={jobs:"job",invoices:"invoice",estimates:"estimate",payments:"payment",contracts:"contract",appointments:"appointment",equipment:"equipment","maintenance-plans":"maintenance plan","service-agreements":"service agreement","purchase-orders":"purchase order",properties:"property",customers:"customer"}[a]||a,g=d||`/dashboard/work/${a}`,h=async(a,b)=>{try{return await b(a),c.toast.success(`${a.length} ${f}s archived successfully`),e.refresh(),!0}catch(a){return console.error(`Failed to archive ${f}s:`,a),c.toast.error(`Failed to archive ${f}s`),!1}};return{handleRowClick:a=>{e.push(`${g}/${a}`)},handleArchive:async(a,b)=>{try{return await b(a),c.toast.success(`${f} archived successfully`),e.refresh(),!0}catch(a){return console.error(`Failed to archive ${f}:`,a),c.toast.error(`Failed to archive ${f}`),!1}},handleBulkArchive:h,handleRestore:async(a,b)=>{try{return await b(a),c.toast.success(`${f} restored successfully`),e.refresh(),!0}catch(a){return console.error(`Failed to restore ${f}:`,a),c.toast.error(`Failed to restore ${f}`),!1}},handleRefresh:()=>{e.refresh(),c.toast.success("Refreshed")},createSearchFilter:a=>(b,c)=>{let d=c.toLowerCase().trim();return!d||a.some(a=>{let c=b[a];return null!=c&&String(c).toLowerCase().includes(d)})},createBulkActions:a=>{let b=[];return a.archive&&b.push({label:"Archive Selected",onClick:b=>h(b,a.archive)}),a.export&&b.push({label:"Export Selected",onClick:async b=>{try{await a.export(b),c.toast.success(`Exported ${b.length} ${f}s`)}catch(a){c.toast.error("Failed to export")}}}),a.delete&&b.push({label:"Delete Selected",onClick:async b=>{try{await a.delete(b),c.toast.success(`Deleted ${b.length} ${f}s`),e.refresh()}catch(a){c.toast.error("Failed to delete")}}}),b},entityLabel:f}}a.s(["useTableActions",()=>d],370528)},985214,a=>{"use strict";function b(a){let b=(a?.status??"").toString().toLowerCase();return["bad","overdue","error","failed","rejected"].includes(b)?{isHighlighted:!0,highlightClass:"bg-destructive/10 text-destructive"}:["good","completed","success","ok","active","approved"].includes(b)?{isHighlighted:!0,highlightClass:"bg-success/10 text-success"}:{isHighlighted:!1,highlightClass:""}}a.s(["getRowHighlight",()=>b])},282065,a=>{"use strict";var b=a.i(861467),c=a.i(452168),d=a.i(263758),e=a.i(187056),f=a.i(789815),g=a.i(94436),h=a.i(781157),i=a.i(898062),j=a.i(145679),k=a.i(783281),l=a.i(169021),m=(0,l.createServerReference)("40daf684291cd5fbc5c66bf95d0f096873f4efeb57",l.callServer,void 0,l.findSourceMapURL,"archiveVendor");a.i(463359);var n=a.i(954581);a.i(288007);var o=a.i(986990);a.i(445255);var p=a.i(18170);a.i(956852);var q=a.i(90125),r=a.i(380340),s=a.i(370528),t=a.i(985214),u=a.i(858707);let v={active:{label:"Active",className:"bg-success text-success dark:bg-success/20 dark:text-success"},inactive:{label:"Inactive",className:"bg-muted text-foreground dark:bg-foreground/20 dark:text-muted-foreground"}},w={supplier:{label:"Supplier",className:"bg-primary text-primary dark:bg-primary/20 dark:text-primary"},distributor:{label:"Distributor",className:"bg-accent text-accent-foreground dark:bg-accent/20 dark:text-accent-foreground"},manufacturer:{label:"Manufacturer",className:"bg-warning text-warning dark:bg-warning/20 dark:text-warning"},service_provider:{label:"Service Provider",className:"bg-teal-100 text-teal-800 dark:bg-teal-900/20 dark:text-teal-400"},other:{label:"Other",className:"bg-muted text-foreground dark:bg-foreground/20 dark:text-muted-foreground"}};function x({vendors:a,itemsPerPage:l=50,basePath:x="/dashboard/inventory/vendors",toolbarActions:y}){let{handleRefresh:z}=(0,s.useTableActions)({entityType:"vendors"}),{openArchiveDialog:A,ArchiveDialogComponent:B}=(0,n.useArchiveDialog)({onConfirm:async a=>{(await m(a)).success&&z()},title:"Archive Vendor?",description:"This vendor will be archived and can be restored within 90 days."}),[C,D]=(0,k.useState)(new Set),{openArchiveDialog:E,ArchiveDialogComponent:F}=(0,n.useArchiveDialog)({onConfirm:async()=>{let a=0;for(let b of C)(await m(b)).success&&a++;a>0&&z()},title:`Archive ${C.size} Vendor(s)?`,description:`${C.size} vendor(s) will be archived and can be restored within 90 days.`}),G=[{key:"vendor_number",header:"Vendor #",width:"w-32",shrink:!0,render:a=>(0,b.jsx)(j.default,{className:"text-foreground text-xs leading-tight font-medium hover:underline",href:`${x}/${a.id}`,onClick:a=>a.stopPropagation(),children:a.vendor_number})},{key:"name",header:"Name",width:"flex-1",render:a=>(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)(j.default,{className:"text-foreground text-xs leading-tight font-medium hover:underline",href:`${x}/${a.id}`,onClick:a=>a.stopPropagation(),children:a.display_name||a.name}),a.category&&(0,b.jsx)(o.Badge,{className:`mt-1 w-fit ${w[a.category]?.className||w.other.className}`,variant:"outline",children:w[a.category]?.label||a.category})]})},{key:"contact",header:"Contact",width:"w-64",shrink:!0,hideOnMobile:!0,render:a=>(0,b.jsxs)("div",{className:"flex flex-col gap-1 text-xs",children:[a.email&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(f.Mail,{className:"text-muted-foreground h-3 w-3"}),(0,b.jsx)("a",{className:"text-primary hover:underline",href:`mailto:${a.email}`,onClick:a=>a.stopPropagation(),children:a.email})]}),a.phone&&(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(i.Phone,{className:"text-muted-foreground h-3 w-3"}),(0,b.jsx)("a",{className:"text-primary hover:underline",href:`tel:${a.phone}`,onClick:a=>a.stopPropagation(),children:a.phone})]}),!(a.email||a.phone)&&(0,b.jsx)("span",{className:"text-muted-foreground text-xs",children:"No contact info"})]})},{key:"status",header:"Status",width:"w-24",shrink:!0,align:"center",render:a=>{let c=v[a.status];return(0,b.jsx)(o.Badge,{className:c.className,variant:"outline",children:c.label})}},{key:"actions",header:"",width:"w-12",shrink:!0,align:"right",render:a=>(0,b.jsxs)(q.DropdownMenu,{children:[(0,b.jsx)(q.DropdownMenuTrigger,{asChild:!0,onClick:a=>a.stopPropagation(),children:(0,b.jsx)(p.Button,{size:"icon",variant:"ghost",children:(0,b.jsx)(g.MoreHorizontal,{className:"h-4 w-4"})})}),(0,b.jsxs)(q.DropdownMenuContent,{align:"end",children:[(0,b.jsx)(q.DropdownMenuLabel,{children:"Actions"}),(0,b.jsx)(q.DropdownMenuItem,{asChild:!0,children:(0,b.jsx)(j.default,{href:`${x}/${a.id}`,children:"View Details"})}),(0,b.jsx)(q.DropdownMenuItem,{asChild:!0,children:(0,b.jsx)(j.default,{href:`${x}/${a.id}/edit`,children:"Edit Vendor"})}),a.email&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(q.DropdownMenuSeparator,{}),(0,b.jsx)(q.DropdownMenuItem,{asChild:!0,children:(0,b.jsx)("a",{href:`mailto:${a.email}`,children:"Send Email"})})]}),(0,b.jsx)(q.DropdownMenuSeparator,{}),(0,b.jsx)(q.DropdownMenuItem,{asChild:!0,children:(0,b.jsx)(j.default,{href:`/dashboard/work/purchase-orders?vendorId=${a.id}`,children:"View Purchase Orders"})}),(0,b.jsx)(q.DropdownMenuSeparator,{}),(0,b.jsxs)(q.DropdownMenuItem,{className:"text-destructive",onClick:()=>{A(a.id)},children:[(0,b.jsx)(c.Archive,{className:"mr-2 size-4"}),"Archive Vendor"]})]})]})}],H=[{label:"Export Selected",icon:(0,b.jsx)(e.Download,{className:"size-4"}),onClick:a=>{}},{label:"Mark as Inactive",icon:(0,b.jsx)(h.Pause,{className:"size-4"}),onClick:a=>{},variant:"ghost"},{label:"Archive Selected",icon:(0,b.jsx)(c.Archive,{className:"h-4 w-4"}),variant:"destructive",onClick:async a=>{D(a),E("")}}];return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(r.FullWidthDataTable,{...u.TablePresets.fullList(),bulkActions:H,columns:G,data:a,emptyAction:(0,b.jsx)(p.Button,{asChild:!0,children:(0,b.jsxs)(j.default,{href:`${x}/new`,children:[(0,b.jsx)(d.Building2,{className:"mr-2 size-4"}),"Add Vendor"]})}),emptyIcon:(0,b.jsx)(d.Building2,{className:"text-muted-foreground h-12 w-12"}),emptyMessage:"No vendors found. Create your first vendor to get started.",getItemId:a=>a.id,onRefresh:z,onRowClick:a=>{window.location.href=`${x}/${a.id}`},searchFilter:(a,b)=>[a.name,a.display_name,a.vendor_number,a.email,a.phone,a.category].filter(Boolean).join(" ").toLowerCase().includes(b),searchPlaceholder:"Search vendors by name, number, email...",toolbarActions:y,isHighlighted:a=>(0,t.getRowHighlight)(a).isHighlighted,getHighlightClass:a=>(0,t.getRowHighlight)(a).highlightClass}),(0,b.jsx)(B,{}),(0,b.jsx)(F,{})]})}a.s(["VendorTable",()=>x],282065)}];

//# sourceMappingURL=_ece39c83._.js.map