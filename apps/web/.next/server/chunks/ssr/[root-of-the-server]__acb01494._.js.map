{"version":3,"sources":["../../../../../../apps/web/src/components/work/work-data-view.tsx/__nextjs-internal-proxy.mjs","../../../../../../apps/web/src/components/work/jobs-kanban.tsx/__nextjs-internal-proxy.mjs","../../../../../../apps/web/src/components/work/jobs-table.tsx/__nextjs-internal-proxy.mjs","../../../../../../apps/web/src/components/work/jobs/jobs-data.tsx","../../../../../../apps/web/src/lib/queries/jobs.ts","../../../../../../apps/web/src/components/work/jobs/jobs-skeleton.tsx","../../../../../../apps/web/src/app/%28dashboard%29/dashboard/work/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const WorkDataView = registerClientReference(\n    function() { throw new Error(\"Attempted to call WorkDataView() from the server but WorkDataView is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/src/components/work/work-data-view.tsx\",\n    \"WorkDataView\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const JobsKanban = registerClientReference(\n    function() { throw new Error(\"Attempted to call JobsKanban() from the server but JobsKanban is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/src/components/work/jobs-kanban.tsx\",\n    \"JobsKanban\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const JobsTable = registerClientReference(\n    function() { throw new Error(\"Attempted to call JobsTable() from the server but JobsTable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/src/components/work/jobs-table.tsx\",\n    \"JobsTable\",\n);\n","import { notFound } from \"next/navigation\";\nimport { JobsKanban } from \"@/components/work/jobs-kanban\";\nimport { JobsTable } from \"@/components/work/jobs-table\";\nimport { WorkDataView } from \"@/components/work/work-data-view\";\nimport type { Job } from \"@/lib/db/schema\";\nimport {\n\tgetJobsPageData,\n\tgetJobsWithTags,\n\tJOBS_PAGE_SIZE,\n} from \"@/lib/queries/jobs\";\n\ntype RelatedCustomer = {\n\tdisplay_name?: string | null;\n\tcompany_name?: string | null;\n\tfirst_name?: string | null;\n\tlast_name?: string | null;\n\temail?: string | null;\n\tphone?: string | null;\n};\n\ntype RelatedProperty = {\n\tdisplay_name?: string | null;\n\taddress?: string | null;\n\tcity?: string | null;\n\tstate?: string | null;\n\tzip_code?: string | null;\n};\n\ntype ExtendedJob = Job & {\n\tid: string;\n\tcompanyId?: string | null;\n\tpropertyId?: string | null;\n\tcustomerId?: string | null;\n\tassignedTo?: string | null;\n\tmetadata?: Record<string, unknown> | null;\n\tcustomers?: RelatedCustomer | null;\n\tproperties?: RelatedProperty | null;\n\tscheduledStart?: Date | string | null;\n\tscheduledEnd?: Date | string | null;\n\tactualStart?: Date | string | null;\n\tactualEnd?: Date | string | null;\n\ttotalAmount?: number | null;\n\tpaidAmount?: number | null;\n\tcreatedAt?: Date | string | null;\n\tupdatedAt?: Date | string | null;\n};\n\n/**\n * Jobs Data - Async Server Component\n *\n * Fetches jobs data and renders table/kanban views.\n * Streams in after shell renders.\n *\n * Server-side pagination: Only fetches current page of data based on URL params.\n * Supports tag filtering via URL query string: ?tags=warranty,emergency\n */\nexport async function JobsData({\n\tsearchParams,\n}: {\n\tsearchParams?: { page?: string; search?: string; tags?: string };\n}) {\n\t// Get user's active company\n\tconst { getActiveCompanyId } = await import(\"@/lib/auth/company-context\");\n\tconst companyId = await getActiveCompanyId();\n\n\tif (!companyId) {\n\t\treturn notFound();\n\t}\n\n\tconst currentPage = Number(searchParams?.page) || 1;\n\tconst searchQuery = searchParams?.search ?? \"\";\n\tconst tagSlugs = searchParams?.tags ? searchParams.tags.split(\",\") : [];\n\n\t// Use tag-filtered query if tags are provided\n\tconst { jobs: jobsRaw, totalCount } =\n\t\ttagSlugs.length > 0\n\t\t\t? await getJobsWithTags(\n\t\t\t\t\tcurrentPage,\n\t\t\t\t\tJOBS_PAGE_SIZE,\n\t\t\t\t\tsearchQuery,\n\t\t\t\t\ttagSlugs,\n\t\t\t\t)\n\t\t\t: await getJobsPageData(\n\t\t\t\t\tcurrentPage,\n\t\t\t\t\tJOBS_PAGE_SIZE,\n\t\t\t\t\tsearchQuery,\n\t\t\t\t\tcompanyId,\n\t\t\t\t);\n\n\t// Transform snake_case to camelCase for the component\n\tconst toDate = (value: string | null) => (value ? new Date(value) : null);\n\n\tconst resolveRelation = <T,>(\n\t\trelation: T | T[] | null | undefined,\n\t): T | null => {\n\t\tif (!relation) {\n\t\t\treturn null;\n\t\t}\n\t\treturn Array.isArray(relation) ? (relation[0] ?? null) : relation;\n\t};\n\n\tconst jobs: ExtendedJob[] = (jobsRaw ?? []).map((job) => {\n\t\tconst customer = resolveRelation<RelatedCustomer>(\n\t\t\tjob.customers as RelatedCustomer | RelatedCustomer[] | null,\n\t\t);\n\t\tconst property = resolveRelation<RelatedProperty>(\n\t\t\tjob.properties as RelatedProperty | RelatedProperty[] | null,\n\t\t);\n\n\t\tconst customerData: RelatedCustomer | null = customer\n\t\t\t? {\n\t\t\t\t\tdisplay_name: customer.display_name ?? null,\n\t\t\t\t\tcompany_name: customer.company_name ?? null,\n\t\t\t\t\tfirst_name: customer.first_name ?? null,\n\t\t\t\t\tlast_name: customer.last_name ?? null,\n\t\t\t\t\temail: customer.email ?? null,\n\t\t\t\t\tphone: customer.phone ?? null,\n\t\t\t\t}\n\t\t\t: null;\n\n\t\tconst propertyData: RelatedProperty | null = property\n\t\t\t? {\n\t\t\t\t\tdisplay_name: property.display_name ?? null,\n\t\t\t\t\taddress: property.address ?? null,\n\t\t\t\t\tcity: property.city ?? null,\n\t\t\t\t\tstate: property.state ?? null,\n\t\t\t\t\tzip_code: property.zip_code ?? null,\n\t\t\t\t}\n\t\t\t: null;\n\n\t\t// Extract domain data with null safety\n\t\tconst financial = resolveRelation(job.financial as any);\n\t\tconst timeTracking = resolveRelation(job.timeTracking as any);\n\n\t\treturn {\n\t\t\tid: job.id,\n\t\t\tcompanyId: job.company_id,\n\t\t\tpropertyId: job.property_id,\n\t\t\tcustomerId: job.customer_id,\n\t\t\tassignedTo: job.assigned_to,\n\t\t\tjobNumber: job.job_number,\n\t\t\ttitle: job.title,\n\t\t\tdescription: job.description,\n\t\t\tstatus: job.status,\n\t\t\tpriority: job.priority,\n\t\t\tjobType: job.job_type,\n\t\t\tscheduledStart: toDate(job.scheduled_start),\n\t\t\tscheduledEnd: toDate(job.scheduled_end),\n\t\t\tnotes: job.notes,\n\t\t\tmetadata: job.metadata,\n\t\t\tcreatedAt: new Date(job.created_at),\n\t\t\tupdatedAt: new Date(job.updated_at),\n\t\t\tcustomers: customerData,\n\t\t\tproperties: propertyData,\n\t\t\t// Domain fields from separate tables\n\t\t\ttotalAmount: financial?.total_amount ?? null,\n\t\t\tpaidAmount: financial?.paid_amount ?? null,\n\t\t\tactualStart: toDate(timeTracking?.actual_start ?? null),\n\t\t\tactualEnd: toDate(timeTracking?.actual_end ?? null),\n\t\t} satisfies ExtendedJob;\n\t});\n\n\treturn (\n\t\t<WorkDataView\n\t\t\tkanban={<JobsKanban jobs={jobs} />}\n\t\t\tsection=\"jobs\"\n\t\t\ttable={\n\t\t\t\t<JobsTable\n\t\t\t\t\tinitialSearchQuery={searchQuery}\n\t\t\t\t\titemsPerPage={JOBS_PAGE_SIZE}\n\t\t\t\t\tjobs={jobs}\n\t\t\t\t\ttotalCount={totalCount || 0}\n\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t);\n}\n","import { cache } from \"react\";\nimport { getActiveCompanyId } from \"@/lib/auth/company-context\";\nimport { createServiceSupabaseClient } from \"@/lib/supabase/service-client\";\n\nexport const JOBS_PAGE_SIZE = 50;\n\nconst JOBS_SELECT = `\n  id,\n  company_id,\n  property_id,\n  customer_id,\n  assigned_to,\n  job_number,\n  title,\n  description,\n  status,\n  priority,\n  job_type,\n  service_type,\n  scheduled_start,\n  scheduled_end,\n  notes,\n  metadata,\n  created_at,\n  updated_at,\n  archived_at,\n  deleted_at,\n  customers:customers!jobs_customer_id_customers_id_fk (\n    first_name,\n    last_name,\n    email,\n    phone\n  ),\n  properties:properties!jobs_property_id_properties_id_fk (\n    address,\n    city,\n    state,\n    zip_code\n  ),\n  financial:job_financial (\n    total_amount,\n    paid_amount\n  ),\n  timeTracking:job_time_tracking (\n    actual_start,\n    actual_end\n  )\n`;\n\nexport type JobListRecord = {\n\tid: string;\n\tcompany_id: string;\n\tproperty_id: string | null;\n\tcustomer_id: string | null;\n\tassigned_to: string | null;\n\tjob_number: string | null;\n\ttitle: string | null;\n\tdescription: string | null;\n\tstatus: string | null;\n\tpriority: string | null;\n\tjob_type: string | null;\n\tservice_type: string | null;\n\tscheduled_start: string | null;\n\tscheduled_end: string | null;\n\tnotes: string | null;\n\tmetadata: Record<string, unknown> | null;\n\tcreated_at: string;\n\tupdated_at: string;\n\tarchived_at: string | null;\n\tdeleted_at: string | null;\n\tcustomers?: unknown;\n\tproperties?: unknown;\n\tfinancial?: unknown;\n\ttimeTracking?: unknown;\n};\n\nexport type JobsPageResult = {\n\tjobs: JobListRecord[];\n\ttotalCount: number;\n};\n\nexport async function getJobsPageData(\n\tpage: number,\n\tpageSize: number = JOBS_PAGE_SIZE,\n\tsearchQuery = \"\",\n\tcompanyIdOverride?: string,\n): Promise<JobsPageResult> {\n\t// IMPORTANT: Cannot use \"use cache\" here because we call getActiveCompanyId()\n\t// which uses cookies(). The query is already fast enough without page-level caching.\n\tconst companyId = companyIdOverride ?? (await getActiveCompanyId());\n\tif (!companyId) {\n\t\treturn { jobs: [], totalCount: 0 };\n\t}\n\n\tconst supabase = await createServiceSupabaseClient();\n\tif (!supabase) {\n\t\tthrow new Error(\"Supabase client not configured\");\n\t}\n\tconst start = (Math.max(page, 1) - 1) * pageSize;\n\tconst end = start + pageSize - 1;\n\n\tlet query = supabase\n\t\t.from(\"jobs\")\n\t\t.select(JOBS_SELECT, { count: \"exact\" })\n\t\t.eq(\"company_id\", companyId)\n\t\t.is(\"deleted_at\", null)\n\t\t.order(\"created_at\", { ascending: false })\n\t\t.range(start, end);\n\n\tconst normalizedSearch = searchQuery.trim();\n\tif (normalizedSearch) {\n\t\tconst sanitized = normalizedSearch.replace(/,/g, \"\\\\,\");\n\t\tconst term = `%${sanitized}%`;\n\t\tquery = query.or(\n\t\t\t`job_number.ilike.${term},title.ilike.${term},description.ilike.${term},status.ilike.${term},priority.ilike.${term}`,\n\t\t);\n\t}\n\n\tconst { data, error, count } = await query;\n\n\tif (error) {\n\t\tthrow new Error(`Failed to load jobs: ${error.message}`);\n\t}\n\n\treturn {\n\t\tjobs: (data ?? []).map((job) => ({\n\t\t\t...job,\n\t\t\tmetadata:\n\t\t\t\tjob.metadata && typeof job.metadata === \"object\" && !Array.isArray(job.metadata)\n\t\t\t\t\t? (job.metadata as Record<string, unknown>)\n\t\t\t\t\t: null,\n\t\t})) as JobListRecord[],\n\t\ttotalCount: count ?? 0,\n\t};\n}\n\n/**\n * Get jobs for dashboard using optimized RPC function\n * Uses single query with JOINs instead of LATERAL joins for better performance\n *\n * @param status - Filter by status (optional)\n * @param since - Filter jobs created after this date (ISO string)\n * @param limit - Max results (default: 50)\n * @returns Jobs with customer, property, financial, and time tracking data\n */\nexport const getJobsDashboardRpc = cache(\n\tasync (\n\t\tcompanyIdOverride?: string,\n\t\tstatus?: string,\n\t\tsince?: string,\n\t\tlimit: number = 50\n\t) => {\n\t\tconst companyId = companyIdOverride ?? (await getActiveCompanyId());\n\t\tif (!companyId) {\n\t\t\treturn [];\n\t\t}\n\n\t\tconst supabase = await createServiceSupabaseClient();\n\t\tif (!supabase) {\n\t\t\tthrow new Error(\"Supabase client not configured\");\n\t\t}\n\n\t\tconst { data, error } = await supabase.rpc(\"get_jobs_dashboard\", {\n\t\t\tp_company_id: companyId,\n\t\t\tp_status: status || null,\n\t\t\tp_since: since || null,\n\t\t\tp_limit: limit,\n\t\t});\n\n\t\tif (error) {\n\t\t\tconsole.error(\"Error fetching jobs via RPC:\", error);\n\t\t\treturn [];\n\t\t}\n\n\t\treturn data || [];\n\t}\n);\n\n/**\n * Get jobs filtered by tags with request-level caching\n *\n * Uses React.cache() for request-level deduplication.\n * Uses composite index idx_job_tags_composite for fast tag filtering.\n *\n * @param page - Page number (1-indexed)\n * @param pageSize - Number of jobs per page (default: 50)\n * @param searchQuery - Optional search query for job_number, title, description\n * @param tagSlugs - Array of tag slugs to filter by (e.g., [\"warranty\", \"emergency\"])\n * @returns Jobs matching the tag filter with total count\n */\nexport const getJobsWithTags = cache(\n\tasync (\n\t\tpage: number,\n\t\tpageSize: number = JOBS_PAGE_SIZE,\n\t\tsearchQuery = \"\",\n\t\ttagSlugs: string[] = [],\n\t): Promise<JobsPageResult> => {\n\t\tconst companyId = await getActiveCompanyId();\n\t\tif (!companyId) {\n\t\t\treturn { jobs: [], totalCount: 0 };\n\t\t}\n\n\t\tconst supabase = await createServiceSupabaseClient();\n\t\tif (!supabase) {\n\t\t\tthrow new Error(\"Supabase client not configured\");\n\t\t}\n\t\tconst start = (Math.max(page, 1) - 1) * pageSize;\n\t\tconst end = start + pageSize - 1;\n\n\t\t// If no tag filter, use standard query\n\t\tif (tagSlugs.length === 0) {\n\t\t\treturn getJobsPageData(page, pageSize, searchQuery);\n\t\t}\n\n\t\t// Build query with tag filtering\n\t\t// Uses INNER JOIN to filter jobs that have at least one of the specified tags\n\t\tlet query = supabase\n\t\t\t.from(\"jobs\")\n\t\t\t.select(\n\t\t\t\t`\n        ${JOBS_SELECT},\n        job_tags!inner(\n          tag:tags!inner(\n            id,\n            name,\n            slug,\n            color,\n            category\n          )\n        )\n      `,\n\t\t\t\t{ count: \"exact\" },\n\t\t\t)\n\t\t\t.eq(\"company_id\", companyId)\n\t\t\t.is(\"deleted_at\", null)\n\t\t\t.in(\"job_tags.tag.slug\", tagSlugs)\n\t\t\t.order(\"created_at\", { ascending: false })\n\t\t\t.range(start, end);\n\n\t\t// Add search filter if provided\n\t\tconst normalizedSearch = searchQuery.trim();\n\t\tif (normalizedSearch) {\n\t\t\tconst sanitized = normalizedSearch.replace(/,/g, \"\\\\,\");\n\t\t\tconst term = `%${sanitized}%`;\n\t\t\tquery = query.or(\n\t\t\t\t`job_number.ilike.${term},title.ilike.${term},description.ilike.${term},status.ilike.${term},priority.ilike.${term}`,\n\t\t\t);\n\t\t}\n\n\t\tconst { data, error, count } = await query;\n\n\t\tif (error) {\n\t\t\tthrow new Error(`Failed to load jobs with tags: ${error.message}`);\n\t\t}\n\n\t\treturn {\n\t\t\tjobs: (data ?? []).map((job) => ({\n\t\t\t\t...job,\n\t\t\t\tmetadata:\n\t\t\t\t\tjob.metadata && typeof job.metadata === \"object\" && !Array.isArray(job.metadata)\n\t\t\t\t\t\t? (job.metadata as Record<string, unknown>)\n\t\t\t\t\t\t: null,\n\t\t\t})) as JobListRecord[],\n\t\t\ttotalCount: count ?? 0,\n\t\t};\n\t},\n);\n\n/**\n * Fetch complete job data including customer, property, equipment, and tags\n * Uses React.cache() for request-level deduplication\n */\nconst getJobComplete = cache(\n\tasync (jobId: string, companyId: string) => {\n\t\tconst supabase = await createServiceSupabaseClient();\n\t\tif (!supabase) {\n\t\t\tthrow new Error(\"Supabase client not configured\");\n\t\t}\n\n\t\tconst { data, error } = await supabase.rpc(\"get_job_complete\", {\n\t\t\tp_job_id: jobId,\n\t\t\tp_company_id: companyId,\n\t\t});\n\n\t\tif (error) {\n\t\t\tconsole.error(\"Error fetching job:\", error);\n\t\t\treturn null;\n\t\t}\n\n\t\tconst result = data as Array<{ job_data: unknown }> | null;\n\t\treturn result?.[0]?.job_data || null;\n\t},\n);\n","/**\n * JobsSkeleton - Loading Skeleton\n *\n * Uses the shared DataTableListSkeleton for consistent UX across all list pages.\n * Displays while jobs data is loading.\n * Provides visual feedback during streaming.\n */\n\nimport { DataTableListSkeleton } from \"@/components/ui/skeletons\";\n\nexport function JobsSkeleton() {\n\treturn <DataTableListSkeleton />;\n}\n","/**\n * Work Page (Main Jobs List) - PPR Enabled\n *\n * Uses Partial Prerendering for instant page loads:\n * - Static shell renders instantly (5-20ms)\n * - Stats render in toolbar (single-row inline)\n * - Table streams in (200-500ms)\n *\n * Performance: 8-20x faster than traditional SSR\n *\n * Note: This is the fallback route for /dashboard/work\n * The main jobs route is now at /dashboard/work/jobs\n */\n\nimport { Suspense } from \"react\";\nimport { JobsData } from \"@/components/work/jobs/jobs-data\";\nimport { JobsSkeleton } from \"@/components/work/jobs/jobs-skeleton\";\n\nexport default async function WorkPage({\n\tsearchParams,\n}: {\n\tsearchParams: Promise<{ page?: string; search?: string }>;\n}) {\n\tconst params = await searchParams;\n\n\treturn (\n\t\t<div className=\"flex h-full flex-col\">\n\t\t\t{/* Stats now shown in toolbar - see WorkSectionLayout */}\n\t\t\t<div className=\"flex-1 overflow-hidden\">\n\t\t\t\t<Suspense fallback={<JobsSkeleton />}>\n\t\t\t\t\t<JobsData searchParams={params} />\n\t\t\t\t</Suspense>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n"],"names":[],"mappings":"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","ignoreList":[0,1,2]}