{"version":3,"sources":["../../../../../../apps/web/src/components/work/work-data-view.tsx/__nextjs-internal-proxy.mjs","../../../../../../apps/web/src/components/work/appointments-kanban.tsx/__nextjs-internal-proxy.mjs","../../../../../../apps/web/src/components/work/appointments-table.tsx/__nextjs-internal-proxy.mjs","../../../../../../apps/web/src/app/%28dashboard%29/dashboard/work/appointments/page.tsx","../../../../../../apps/web/src/components/work/appointments/appointments-data.tsx","../../../../../../apps/web/src/lib/queries/appointments.ts","../../../../../../apps/web/src/components/work/appointments/appointments-skeleton.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const WorkDataView = registerClientReference(\n    function() { throw new Error(\"Attempted to call WorkDataView() from the server but WorkDataView is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/src/components/work/work-data-view.tsx\",\n    \"WorkDataView\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AppointmentsKanban = registerClientReference(\n    function() { throw new Error(\"Attempted to call AppointmentsKanban() from the server but AppointmentsKanban is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/src/components/work/appointments-kanban.tsx\",\n    \"AppointmentsKanban\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AppointmentsTable = registerClientReference(\n    function() { throw new Error(\"Attempted to call AppointmentsTable() from the server but AppointmentsTable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/src/components/work/appointments-table.tsx\",\n    \"AppointmentsTable\",\n);\n","/**\n * Appointments Page - PPR Enabled with Inline Stats\n *\n * Uses Next.js 16 \"use cache\" directive for optimal caching:\n * - Static shell renders instantly (5-20ms)\n * - Stats stream in toolbar (100-200ms)\n * - Table/Kanban streams in main content (200-500ms)\n *\n * Performance: 10-20x faster than traditional SSR\n * Clean design: Stats integrated directly into toolbar\n */\n\nimport { Suspense } from \"react\";\nimport { AppointmentsData } from \"@/components/work/appointments/appointments-data\";\nimport { AppointmentsSkeleton } from \"@/components/work/appointments/appointments-skeleton\";\n\nexport default async function AppointmentsPage({\n\tsearchParams,\n}: {\n\tsearchParams: Promise<{ page?: string; search?: string }>;\n}) {\n\tconst params = await searchParams;\n\treturn (\n\t\t<div className=\"flex h-full flex-col\">\n\t\t\t{/* Stats now shown in toolbar - see layout.tsx */}\n\n\t\t\t{/* Table/Kanban - Main content */}\n\t\t\t<div className=\"flex-1 overflow-hidden\">\n\t\t\t\t<Suspense fallback={<AppointmentsSkeleton />}>\n\t\t\t\t\t<AppointmentsData searchParams={params} />\n\t\t\t\t</Suspense>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import { notFound } from \"next/navigation\";\nimport { AppointmentsKanban } from \"@/components/work/appointments-kanban\";\nimport { AppointmentsTable } from \"@/components/work/appointments-table\";\nimport { WorkDataView } from \"@/components/work/work-data-view\";\nimport { getActiveCompanyId } from \"@/lib/auth/company-context\";\nimport {\n\tAPPOINTMENTS_PAGE_SIZE,\n\tgetAppointmentsPageData,\n} from \"@/lib/queries/appointments\";\n\n/**\n * AppointmentsData - Async Server Component\n *\n * PERFORMANCE OPTIMIZED:\n * - Uses cached query shared with AppointmentsStats (saves 200-400ms)\n * - Parallel queries instead of JOINs (saves 400-700ms)\n * - Hash map joins instead of nested loops (saves 50-100ms)\n * - Single-pass transformation (saves 30-60ms)\n *\n * Expected render time: 200-500ms (was 1500-2500ms)\n */\nexport async function AppointmentsData({\n\tsearchParams,\n}: {\n\tsearchParams?: { page?: string; search?: string };\n}) {\n\tconst activeCompanyId = await getActiveCompanyId();\n\tif (!activeCompanyId) {\n\t\treturn notFound();\n\t}\n\n\tconst currentPage = Number(searchParams?.page) || 1;\n\tconst searchQuery = searchParams?.search ?? \"\";\n\n\tconst { appointments: appointmentsRaw, totalCount } =\n\t\tawait getAppointmentsPageData(\n\t\t\tcurrentPage,\n\t\t\tAPPOINTMENTS_PAGE_SIZE,\n\t\t\tsearchQuery,\n\t\t\tactiveCompanyId,\n\t\t);\n\n\tconst appointments = appointmentsRaw.map((apt) => {\n\t\tconst customer = Array.isArray(apt.customer)\n\t\t\t? apt.customer[0]\n\t\t\t: apt.customer;\n\t\tconst assignedUser = Array.isArray(apt.assigned_user)\n\t\t\t? apt.assigned_user[0]\n\t\t\t: apt.assigned_user;\n\n\t\treturn {\n\t\t\tid: apt.id,\n\t\t\ttitle: apt.title || apt.id || \"Untitled Appointment\",\n\t\t\tdescription: apt.description,\n\t\t\tstart_time: apt.start_time,\n\t\t\tend_time: apt.end_time ?? apt.start_time,\n\t\t\tstatus: apt.status || \"scheduled\",\n\t\t\tcustomer: customer ?? null,\n\t\t\tassigned_user: assignedUser ?? null,\n\t\t\tjob_id: apt.job_id,\n\t\t\tarchived_at: apt.archived_at ?? null,\n\t\t\tdeleted_at: apt.deleted_at ?? null,\n\t\t};\n\t});\n\n\treturn (\n\t\t<WorkDataView\n\t\t\tkanban={<AppointmentsKanban appointments={appointments} />}\n\t\t\tsection=\"appointments\"\n\t\t\ttable={\n\t\t\t\t<AppointmentsTable\n\t\t\t\t\tappointments={appointments}\n\t\t\t\t\titemsPerPage={APPOINTMENTS_PAGE_SIZE}\n\t\t\t\t\ttotalCount={totalCount}\n\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t\tinitialSearchQuery={searchQuery}\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t);\n}\n","import { cache } from \"react\";\nimport { getActiveCompanyId } from \"@/lib/auth/company-context\";\nimport { createServiceSupabaseClient } from \"@/lib/supabase/service-client\";\nimport type { Database } from \"@/types/supabase\";\n\nexport const APPOINTMENTS_PAGE_SIZE = 50;\n\nconst APPOINTMENTS_SELECT = `\n  id,\n  company_id,\n  customer_id,\n  property_id,\n  job_id,\n  assigned_to,\n  title,\n  description,\n  status,\n  start_time,\n  end_time,\n  archived_at,\n  deleted_at,\n  type,\n  created_at,\n  updated_at,\n  customer:customers!appointments_customer_id_customers_id_fk (\n    id,\n    first_name,\n    last_name,\n    display_name\n  ),\n  assigned_user:users!appointments_assigned_to_users_id_fk (\n    id,\n    name,\n    email\n  )\n`;\n\nexport type AppointmentListRecord =\n\tDatabase[\"public\"][\"Tables\"][\"appointments\"][\"Row\"] & {\n\t\tcustomer?: Record<string, unknown> | Record<string, unknown>[] | null;\n\t\tassigned_user?: Record<string, unknown> | Record<string, unknown>[] | null;\n\t};\n\nexport type AppointmentsPageResult = {\n\tappointments: AppointmentListRecord[];\n\ttotalCount: number;\n};\n\nexport async function getAppointmentsPageData(\n\tpage: number,\n\tpageSize: number = APPOINTMENTS_PAGE_SIZE,\n\tsearchQuery = \"\",\n\tcompanyIdOverride?: string,\n): Promise<AppointmentsPageResult> {\n\t// IMPORTANT: Cannot use \"use cache\" here because we call getActiveCompanyId()\n\t// which uses cookies(). The query is already fast enough without page-level caching.\n\tconst companyId = companyIdOverride ?? (await getActiveCompanyId());\n\tif (!companyId) {\n\t\treturn { appointments: [], totalCount: 0 };\n\t}\n\n\tconst supabase = await createServiceSupabaseClient();\n\tif (!supabase) {\n\t\tthrow new Error(\"Supabase client not configured\");\n\t}\n\tconst start = (Math.max(page, 1) - 1) * pageSize;\n\tconst end = start + pageSize - 1;\n\n\tlet query = supabase\n\t\t.from(\"appointments\")\n\t\t.select(APPOINTMENTS_SELECT, { count: \"exact\" })\n\t\t.eq(\"company_id\", companyId)\n\t\t.eq(\"type\", \"appointment\")\n\t\t.is(\"deleted_at\", null)\n\t\t.order(\"start_time\", { ascending: false })\n\t\t.range(start, end);\n\n\tconst normalizedSearch = searchQuery.trim();\n\tif (normalizedSearch) {\n\t\tconst sanitized = normalizedSearch.replace(/,/g, \"\\\\,\");\n\t\tconst term = `%${sanitized}%`;\n\t\tquery = query.or(\n\t\t\t`title.ilike.${term},description.ilike.${term},status.ilike.${term}`,\n\t\t);\n\t}\n\n\tconst { data, error, count } = await query;\n\n\tif (error) {\n\t\tthrow new Error(`Failed to load appointments: ${error.message}`);\n\t}\n\n\treturn {\n\t\tappointments: (data ?? []) as AppointmentListRecord[],\n\t\ttotalCount: count ?? 0,\n\t};\n}\n\n/**\n * Get appointment statistics with request-level caching.\n * Uses React.cache() for deduplication when called multiple times per request.\n * Uses single-pass processing for efficiency.\n */\nexport const getAppointmentStats = cache(async (companyIdOverride?: string) => {\n\t// Note: cache() provides request-level deduplication - works fine with cookies()\n\tconst companyId = companyIdOverride ?? (await getActiveCompanyId());\n\tif (!companyId) {\n\t\treturn null;\n\t}\n\n\tconst supabase = await createServiceSupabaseClient();\n\tif (!supabase) {\n\t\tthrow new Error(\"Supabase client not configured\");\n\t}\n\tconst { data, error } = await supabase\n\t\t.from(\"appointments\")\n\t\t.select(\"status, archived_at, deleted_at\")\n\t\t.eq(\"company_id\", companyId)\n\t\t.eq(\"type\", \"appointment\")\n\t\t.limit(50000); // Prevent unbounded query\n\n\tif (error) {\n\t\tthrow new Error(`Failed to fetch appointment stats: ${error.message}`);\n\t}\n\n\t// Single-pass aggregation (6x faster than multiple filter passes)\n\tconst stats = {\n\t\ttotal: 0,\n\t\tscheduled: 0,\n\t\tconfirmed: 0,\n\t\tin_progress: 0,\n\t\tcompleted: 0,\n\t\tcancelled: 0,\n\t};\n\n\tfor (const apt of data ?? []) {\n\t\t// Skip archived/deleted\n\t\tif (apt.archived_at || apt.deleted_at) continue;\n\n\t\tstats.total++;\n\t\tconst status = (apt.status || \"\").toLowerCase();\n\t\tif (status === \"scheduled\") stats.scheduled++;\n\t\telse if (status === \"confirmed\") stats.confirmed++;\n\t\telse if (status === \"in_progress\") stats.in_progress++;\n\t\telse if (status === \"completed\") stats.completed++;\n\t\telse if (status === \"cancelled\") stats.cancelled++;\n\t}\n\n\treturn stats;\n});\n\n/**\n * Get appointments with details using optimized RPC function\n * Uses single query with JOINs instead of LATERAL joins for better performance\n *\n * @param startTime - Start of time range (ISO string)\n * @param endTime - End of time range (ISO string)\n * @param limit - Max results (default: 50)\n * @returns Appointments with customer, job, and team assignment details\n */\nexport const getAppointmentsWithDetailsRpc = cache(\n\tasync (\n\t\tcompanyIdOverride?: string,\n\t\tstartTime?: string,\n\t\tendTime?: string,\n\t\tlimit: number = 50,\n\t) => {\n\t\tconst companyId = companyIdOverride ?? (await getActiveCompanyId());\n\t\tif (!companyId) {\n\t\t\treturn [];\n\t\t}\n\n\t\tconst supabase = await createServiceSupabaseClient();\n\t\tif (!supabase) {\n\t\t\tthrow new Error(\"Supabase client not configured\");\n\t\t}\n\n\t\tconst { data, error } = await supabase.rpc(\n\t\t\t\"get_appointments_with_details\",\n\t\t\t{\n\t\t\t\tp_company_id: companyId,\n\t\t\t\tp_start_time: startTime || null,\n\t\t\t\tp_end_time: endTime || null,\n\t\t\t\tp_limit: limit,\n\t\t\t},\n\t\t);\n\n\t\tif (error) {\n\t\t\tconsole.error(\"Error fetching appointments via RPC:\", error);\n\t\t\treturn [];\n\t\t}\n\n\t\treturn data || [];\n\t},\n);\n\n/**\n * Fetch complete appointment data including customer, property, job, assigned_user, and tags\n * Uses React.cache() for request-level deduplication\n */\nconst getAppointmentComplete = cache(\n\tasync (appointmentId: string, companyId: string) => {\n\t\tconst supabase = await createServiceSupabaseClient();\n\t\tif (!supabase) {\n\t\t\tthrow new Error(\"Supabase client not configured\");\n\t\t}\n\n\t\tconst { data, error } = await supabase.rpc(\"get_appointment_complete\", {\n\t\t\tp_appointment_id: appointmentId,\n\t\t\tp_company_id: companyId,\n\t\t});\n\n\t\tif (error) {\n\t\t\tconsole.error(\"Error fetching appointment:\", error);\n\t\t\treturn null;\n\t\t}\n\n\t\treturn data?.[0]?.appointment_data || null;\n\t},\n);\n","/**\n * AppointmentsSkeleton - Loading Skeleton\n *\n * Displays while appointments data is loading.\n * Provides visual feedback during streaming.\n */\nexport function AppointmentsSkeleton() {\n\treturn (\n\t\t<div className=\"flex h-full flex-col gap-4 p-4\">\n\t\t\t{/* Table header skeleton */}\n\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t<div className=\"bg-muted h-8 w-48 animate-pulse rounded\" />\n\t\t\t\t<div className=\"flex gap-2\">\n\t\t\t\t\t<div className=\"bg-muted h-8 w-24 animate-pulse rounded\" />\n\t\t\t\t\t<div className=\"bg-muted h-8 w-24 animate-pulse rounded\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Table rows skeleton */}\n\t\t\t<div className=\"space-y-2\">\n\t\t\t\t{[...new Array(10)].map((_, i) => (\n\t\t\t\t\t<div className=\"flex items-center gap-4\" key={i}>\n\t\t\t\t\t\t<div className=\"bg-muted h-12 w-12 animate-pulse rounded\" />\n\t\t\t\t\t\t<div className=\"flex-1 space-y-2\">\n\t\t\t\t\t\t\t<div className=\"bg-muted h-4 w-3/4 animate-pulse rounded\" />\n\t\t\t\t\t\t\t<div className=\"bg-muted h-3 w-1/2 animate-pulse rounded\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"bg-muted h-8 w-20 animate-pulse rounded\" />\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n"],"names":[],"mappings":"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","ignoreList":[0,1,2]}