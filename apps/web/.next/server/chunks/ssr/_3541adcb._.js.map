{"version":3,"sources":["../../../../../../node_modules/.pnpm/lucide-react%400.552.0_react%4019.2.0/node_modules/lucide-react/src/icons/chevron-left.ts","../../../../../../node_modules/.pnpm/lucide-react%400.552.0_react%4019.2.0/node_modules/lucide-react/src/icons/sticky-note.ts","../../../../../../node_modules/.pnpm/lucide-react%400.552.0_react%4019.2.0/node_modules/lucide-react/src/icons/reply.ts","../../../../../../apps/web/src/components/communication/email-content.tsx","../../../../../../node_modules/.pnpm/lucide-react%400.552.0_react%4019.2.0/node_modules/lucide-react/src/icons/trash.ts","../../../../../../node_modules/.pnpm/lucide-react%400.552.0_react%4019.2.0/node_modules/lucide-react/src/icons/reply-all.ts","../../../../../../node_modules/.pnpm/lucide-react%400.552.0_react%4019.2.0/node_modules/lucide-react/src/icons/forward.ts","../../../../../../apps/web/src/actions/data%3Aa0291a%20%3Ctext/javascript%3E","../../../../../../apps/web/src/app/%28dashboard%29/dashboard/communication/%5Bfolder%5D/%5Bid%5D/page.tsx","../../../../../../apps/web/src/actions/data%3A5a8187%20%3Ctext/javascript%3E"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'm15 18-6-6 6-6', key: '1wnfg3' }]];\n\n/**\n * @component @name ChevronLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTUgMTgtNi02IDYtNiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/chevron-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronLeft = createLucideIcon('chevron-left', __iconNode);\n\nexport default ChevronLeft;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z',\n      key: '1dfntj',\n    },\n  ],\n  ['path', { d: 'M15 3v5a1 1 0 0 0 1 1h5', key: '6s6qgf' }],\n];\n\n/**\n * @component @name StickyNote\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgOWEyLjQgMi40IDAgMCAwLS43MDYtMS43MDZsLTMuNTg4LTMuNTg4QTIuNCAyLjQgMCAwIDAgMTUgM0g1YTIgMiAwIDAgMC0yIDJ2MTRhMiAyIDAgMCAwIDIgMmgxNGEyIDIgMCAwIDAgMi0yeiIgLz4KICA8cGF0aCBkPSJNMTUgM3Y1YTEgMSAwIDAgMCAxIDFoNSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/sticky-note\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst StickyNote = createLucideIcon('sticky-note', __iconNode);\n\nexport default StickyNote;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M20 18v-2a4 4 0 0 0-4-4H4', key: '5vmcpk' }],\n  ['path', { d: 'm9 17-5-5 5-5', key: 'nvlc11' }],\n];\n\n/**\n * @component @name Reply\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjAgMTh2LTJhNCA0IDAgMCAwLTQtNEg0IiAvPgogIDxwYXRoIGQ9Im05IDE3LTUtNSA1LTUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/reply\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Reply = createLucideIcon('reply', __iconNode);\n\nexport default Reply;\n","\"use client\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { cn } from \"@/lib/utils\";\nimport { Download, File, Image as ImageIcon, AlertCircle } from \"lucide-react\";\nimport { useEffect, useMemo, useState, useCallback } from \"react\";\nimport { toast } from \"sonner\";\nimport {\n\tTooltip,\n\tTooltipContent,\n\tTooltipTrigger,\n} from \"@/components/ui/tooltip\";\n\ninterface EmailAttachment {\n\tid?: string;\n\tname?: string;\n\tfilename?: string;\n\tpath?: string;\n\ttype?: string;\n\tcontent_type?: string;\n\tstorage_url?: string;\n\tstorage_path?: string;\n\tstorage_bucket?: string;\n}\n\ninterface EmailContentProps {\n\thtml: string | null;\n\ttext: string | null;\n\tattachments?: EmailAttachment[] | null;\n\tclassName?: string;\n}\n\n/**\n * Safely renders email content with HTML sanitization\n * Follows best practices for rendering received emails from Resend\n */\nexport function EmailContent({\n\thtml,\n\ttext,\n\tattachments,\n\tclassName,\n}: EmailContentProps) {\n\tconst [DOMPurify, setDOMPurify] = useState<typeof import(\"dompurify\").default | null>(null);\n\n\t// Dynamically import DOMPurify only on client side (browser-only, no jsdom needed)\n\tuseEffect(() => {\n\t\tif (typeof window !== \"undefined\") {\n\t\t\timport(\"dompurify\").then((mod) => {\n\t\t\t\tsetDOMPurify(() => mod.default);\n\t\t\t});\n\t\t}\n\t}, []);\n\n\t// Sanitize HTML to prevent XSS attacks while preserving email styles\n\tconst safeHtml = useMemo(() => {\n\t\tif (!html) return null;\n\t\tif (!DOMPurify) return null; // Don't render unsanitized HTML - wait for DOMPurify to load\n\n\t\t// DOMPurify configuration for email HTML\n\t\t// Allows common email HTML patterns while removing dangerous scripts\n\t\t// Preserves inline styles, classes, and <style> tags for original email design\n\t\tconst sanitized = DOMPurify.sanitize(html, {\n\t\t\tALLOWED_TAGS: [\n\t\t\t\t\"p\",\n\t\t\t\t\"br\",\n\t\t\t\t\"strong\",\n\t\t\t\t\"em\",\n\t\t\t\t\"u\",\n\t\t\t\t\"b\",\n\t\t\t\t\"i\",\n\t\t\t\t\"s\",\n\t\t\t\t\"strike\",\n\t\t\t\t\"a\",\n\t\t\t\t\"ul\",\n\t\t\t\t\"ol\",\n\t\t\t\t\"li\",\n\t\t\t\t\"h1\",\n\t\t\t\t\"h2\",\n\t\t\t\t\"h3\",\n\t\t\t\t\"h4\",\n\t\t\t\t\"h5\",\n\t\t\t\t\"h6\",\n\t\t\t\t\"blockquote\",\n\t\t\t\t\"img\",\n\t\t\t\t\"table\",\n\t\t\t\t\"thead\",\n\t\t\t\t\"tbody\",\n\t\t\t\t\"tfoot\",\n\t\t\t\t\"tr\",\n\t\t\t\t\"th\",\n\t\t\t\t\"td\",\n\t\t\t\t\"div\",\n\t\t\t\t\"span\",\n\t\t\t\t\"hr\",\n\t\t\t\t\"pre\",\n\t\t\t\t\"code\",\n\t\t\t\t\"font\",\n\t\t\t\t\"center\",\n\t\t\t\t\"section\",\n\t\t\t\t\"article\",\n\t\t\t\t\"header\",\n\t\t\t\t\"footer\",\n\t\t\t\t\"main\",\n\t\t\t\t\"style\", // Allow <style> tags for email CSS\n\t\t\t],\n\t\t\tALLOWED_ATTR: [\n\t\t\t\t\"href\",\n\t\t\t\t\"src\",\n\t\t\t\t\"alt\",\n\t\t\t\t\"title\",\n\t\t\t\t\"width\",\n\t\t\t\t\"height\",\n\t\t\t\t\"style\", // Preserve inline styles\n\t\t\t\t\"class\", // Preserve classes\n\t\t\t\t\"id\",\n\t\t\t\t\"align\",\n\t\t\t\t\"valign\",\n\t\t\t\t\"border\",\n\t\t\t\t\"cellpadding\",\n\t\t\t\t\"cellspacing\",\n\t\t\t\t\"bgcolor\",\n\t\t\t\t\"color\",\n\t\t\t\t\"face\",\n\t\t\t\t\"size\",\n\t\t\t\t\"colspan\",\n\t\t\t\t\"rowspan\",\n\t\t\t\t\"target\",\n\t\t\t\t\"rel\",\n\t\t\t],\n\t\t\tALLOW_DATA_ATTR: false,\n\t\t\t// Allow safe URLs (http, https, mailto, data URIs for images)\n\t\t\tALLOWED_URI_REGEXP: /^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|data):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i,\n\t\t\t// Keep relative URLs\n\t\t\tKEEP_CONTENT: true,\n\t\t\t// Allow <style> tags (they'll be sanitized but preserved)\n\t\t\tADD_TAGS: [\"style\"],\n\t\t\tADD_ATTR: [\"media\", \"type\"], // Allow style tag attributes\n\t\t});\n\n\t\treturn sanitized;\n\t}, [html, DOMPurify]);\n\n\t// Convert text to paragraphs if no HTML\n\tconst textContent = useMemo(() => {\n\t\tif (text) {\n\t\t\t// Split by double newlines for paragraphs, single newlines for line breaks\n\t\t\treturn text.split(/\\n\\n+/).map((paragraph, i) => (\n\t\t\t\t<p key={i} className=\"mb-4 last:mb-0\">\n\t\t\t\t\t{paragraph.split(\"\\n\").map((line, j, arr) => (\n\t\t\t\t\t\t<span key={j}>\n\t\t\t\t\t\t\t{line}\n\t\t\t\t\t\t\t{j < arr.length - 1 && <br />}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t))}\n\t\t\t\t</p>\n\t\t\t));\n\t\t}\n\t\treturn null;\n\t}, [text]);\n\n\tconst hasAttachments = attachments && attachments.length > 0;\n\n\treturn (\n\t\t<div className={cn(\"flex flex-col gap-4\", className)}>\n\t\t\t{/* Email Body - Isolated container to preserve original email styles */}\n\t\t\t<div className=\"email-content-wrapper prose prose-sm dark:prose-invert max-w-none\">\n\t\t\t\t{safeHtml ? (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"email-content-html text-sm leading-relaxed\"\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t// Reset some aggressive email styles to ensure readability\n\t\t\t\t\t\t\tfontSize: '14px',\n\t\t\t\t\t\t\tlineHeight: '1.6',\n\t\t\t\t\t\t\tcolor: 'inherit',\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tdangerouslySetInnerHTML={{ __html: safeHtml }}\n\t\t\t\t\t/>\n\t\t\t\t) : html && !DOMPurify ? (\n\t\t\t\t\t// Show text fallback while DOMPurify loads\n\t\t\t\t\ttextContent ? (\n\t\t\t\t\t\t<div className=\"text-sm leading-relaxed text-foreground\">\n\t\t\t\t\t\t\t{textContent}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div className=\"flex items-center justify-center py-8\">\n\t\t\t\t\t\t\t<div className=\"text-sm text-muted-foreground italic\">\n\t\t\t\t\t\t\t\tLoading email content...\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)\n\t\t\t\t) : textContent ? (\n\t\t\t\t\t<div className=\"text-sm leading-relaxed text-foreground\">\n\t\t\t\t\t\t{textContent}\n\t\t\t\t\t</div>\n\t\t\t\t) : (\n\t\t\t\t\t<div className=\"flex items-center justify-center py-12\">\n\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\twidth=\"64\"\n\t\t\t\t\t\t\t\theight=\"64\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 192 192\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\tclassName=\"mx-auto mb-4 opacity-30\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<rect\n\t\t\t\t\t\t\t\t\twidth=\"192\"\n\t\t\t\t\t\t\t\t\theight=\"192\"\n\t\t\t\t\t\t\t\t\trx=\"96\"\n\t\t\t\t\t\t\t\t\tfill=\"currentColor\"\n\t\t\t\t\t\t\t\t\tfillOpacity=\"0.15\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t<p className=\"text-sm font-medium text-muted-foreground mb-1\">\n\t\t\t\t\t\t\t\tNo content available\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p className=\"text-xs text-muted-foreground\">\n\t\t\t\t\t\t\t\tThis email may have been deleted or expired\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\n\t\t\t{/* Attachments */}\n\t\t\t{hasAttachments && (\n\t\t\t\t<div className=\"border-t border-border/50 pt-4\">\n\t\t\t\t\t<h3 className=\"text-sm font-semibold mb-3 flex items-center gap-2 text-foreground\">\n\t\t\t\t\t\t<File className=\"h-4 w-4\" />\n\t\t\t\t\t\tAttachments ({attachments.length})\n\t\t\t\t\t</h3>\n\t\t\t\t\t<div className=\"flex flex-col gap-2\">\n\t\t\t\t\t\t{attachments.map((attachment, index) => (\n\t\t\t\t\t\t\t<AttachmentItem\n\t\t\t\t\t\t\t\tkey={attachment.id || attachment.path || index}\n\t\t\t\t\t\t\t\tattachment={attachment}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nfunction AttachmentItem({ attachment }: { attachment: EmailAttachment }) {\n\tconst filename = attachment.filename || attachment.name || \"attachment\";\n\tconst contentType = attachment.content_type || attachment.type || \"\";\n\tconst isImage = contentType.startsWith(\"image/\");\n\n\t// Check if we have a valid download URL\n\tconst downloadUrl = attachment.storage_url || null;\n\tconst hasDownloadUrl = !!downloadUrl && downloadUrl !== \"#\";\n\n\t// Handler for unavailable downloads\n\tconst handleUnavailableDownload = useCallback(() => {\n\t\ttoast.error(\"Attachment unavailable\", {\n\t\t\tdescription: \"This attachment cannot be downloaded. The file may have expired or been removed.\",\n\t\t});\n\t}, []);\n\n\treturn (\n\t\t<div className=\"flex items-center gap-3 p-3 bg-muted/50 rounded-lg hover:bg-muted transition-colors\">\n\t\t\t<div className=\"flex-shrink-0\">\n\t\t\t\t{isImage ? (\n\t\t\t\t\t<ImageIcon className=\"h-5 w-5 text-muted-foreground\" />\n\t\t\t\t) : (\n\t\t\t\t\t<File className=\"h-5 w-5 text-muted-foreground\" />\n\t\t\t\t)}\n\t\t\t</div>\n\t\t\t<div className=\"flex-1 min-w-0\">\n\t\t\t\t<p className=\"text-sm font-medium truncate\">{filename}</p>\n\t\t\t\t<div className=\"flex items-center gap-1.5\">\n\t\t\t\t\t{contentType && (\n\t\t\t\t\t\t<span className=\"text-xs text-muted-foreground\">{contentType}</span>\n\t\t\t\t\t)}\n\t\t\t\t\t{!hasDownloadUrl && (\n\t\t\t\t\t\t<Tooltip>\n\t\t\t\t\t\t\t<TooltipTrigger asChild>\n\t\t\t\t\t\t\t\t<span className=\"text-xs text-orange-500 flex items-center gap-0.5\">\n\t\t\t\t\t\t\t\t\t<AlertCircle className=\"h-3 w-3\" />\n\t\t\t\t\t\t\t\t\tUnavailable\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</TooltipTrigger>\n\t\t\t\t\t\t\t<TooltipContent>\n\t\t\t\t\t\t\t\t<p>This attachment cannot be downloaded</p>\n\t\t\t\t\t\t\t</TooltipContent>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{hasDownloadUrl ? (\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\tclassName=\"flex-shrink-0\"\n\t\t\t\t\tasChild\n\t\t\t\t>\n\t\t\t\t\t<a\n\t\t\t\t\t\thref={downloadUrl}\n\t\t\t\t\t\tdownload={filename}\n\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<Download className=\"h-4 w-4\" />\n\t\t\t\t\t\t<span className=\"sr-only\">Download {filename}</span>\n\t\t\t\t\t</a>\n\t\t\t\t</Button>\n\t\t\t) : (\n\t\t\t\t<Tooltip>\n\t\t\t\t\t<TooltipTrigger asChild>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tclassName=\"flex-shrink-0 opacity-50\"\n\t\t\t\t\t\t\tonClick={handleUnavailableDownload}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Download className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t<span className=\"sr-only\">Download {filename}</span>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</TooltipTrigger>\n\t\t\t\t\t<TooltipContent>\n\t\t\t\t\t\t<p>Attachment unavailable for download</p>\n\t\t\t\t\t</TooltipContent>\n\t\t\t\t</Tooltip>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6', key: 'miytrc' }],\n  ['path', { d: 'M3 6h18', key: 'd0wm0j' }],\n  ['path', { d: 'M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2', key: 'e791ji' }],\n];\n\n/**\n * @component @name Trash\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTkgNnYxNGEyIDIgMCAwIDEtMiAySDdhMiAyIDAgMCAxLTItMlY2IiAvPgogIDxwYXRoIGQ9Ik0zIDZoMTgiIC8+CiAgPHBhdGggZD0iTTggNlY0YTIgMiAwIDAgMSAyLTJoNGEyIDIgMCAwIDEgMiAydjIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/trash\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Trash = createLucideIcon('trash', __iconNode);\n\nexport default Trash;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm12 17-5-5 5-5', key: '1s3y5u' }],\n  ['path', { d: 'M22 18v-2a4 4 0 0 0-4-4H7', key: '1fcyog' }],\n  ['path', { d: 'm7 17-5-5 5-5', key: '1ed8i2' }],\n];\n\n/**\n * @component @name ReplyAll\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTIgMTctNS01IDUtNSIgLz4KICA8cGF0aCBkPSJNMjIgMTh2LTJhNCA0IDAgMCAwLTQtNEg3IiAvPgogIDxwYXRoIGQ9Im03IDE3LTUtNSA1LTUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/reply-all\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ReplyAll = createLucideIcon('reply-all', __iconNode);\n\nexport default ReplyAll;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm15 17 5-5-5-5', key: 'nf172w' }],\n  ['path', { d: 'M4 18v-2a4 4 0 0 1 4-4h12', key: 'jmiej9' }],\n];\n\n/**\n * @component @name Forward\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTUgMTcgNS01LTUtNSIgLz4KICA8cGF0aCBkPSJNNCAxOHYtMmE0IDQgMCAwIDEgNC00aDEyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/forward\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Forward = createLucideIcon('forward', __iconNode);\n\nexport default Forward;\n","/* __next_internal_action_entry_do_not_use__ [{\"406d2674c7205459d9f4f40892380fb085c342fe1c\":\"getEmailsAction\"},\"apps/web/src/actions/email-actions.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";export var getEmailsAction=/*#__PURE__*/createServerReference(\"406d2674c7205459d9f4f40892380fb085c342fe1c\",callServer,void 0,findSourceMapURL,\"getEmailsAction\");","/**\n * Email Detail Page with Folder Context\n * Shows a single email with shareable URL\n * Route: /dashboard/communication/[folder]/[id]\n * \n * Uses the same layout as the folder pages (email list + detail view)\n */\n\n\"use client\";\n\nimport { useParams, useRouter } from \"next/navigation\";\nimport { useEffect, useState, useTransition } from \"react\";\nimport { getEmailByIdAction, getEmailsAction } from \"@/actions/email-actions\";\nimport type { CompanyEmail, GetEmailsResult } from \"@/actions/email-actions\";\nimport { EmailContent } from \"@/components/communication/email-content\";\nimport { Avatar, AvatarFallback } from \"@/components/ui/avatar\";\nimport { Button } from \"@/components/ui/button\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from \"@/components/ui/tooltip\";\nimport {\n\tAlertTriangle,\n\tArchive,\n\tChevronLeft,\n\tChevronRight,\n\tForward,\n\tLock,\n\tMoreHorizontal,\n\tReply,\n\tReplyAll,\n\tStar,\n\tStickyNote,\n\tTrash,\n\tX,\n} from \"lucide-react\";\nimport { toast } from \"sonner\";\nimport Link from \"next/link\";\nimport { useEmailFolder } from \"@/hooks/use-email-folder\";\n\nexport default function EmailDetailPage() {\n\tconst params = useParams();\n\tconst router = useRouter();\n\tconst folder = (params?.folder as string) || \"inbox\";\n\tconst emailId = params?.id as string;\n\tconst [isPending, startTransition] = useTransition();\n\t\n\tconst [email, setEmail] = useState<CompanyEmail | null>(null);\n\tconst [emails, setEmails] = useState<GetEmailsResult | null>(null);\n\tconst [loading, setLoading] = useState(true);\n\tconst [error, setError] = useState<string | null>(null);\n\tconst [emailContent, setEmailContent] = useState<{ html?: string | null; text?: string | null } | null>(null);\n\tconst [loadingContent, setLoadingContent] = useState(false);\n\n\t// Fetch emails for the folder (to show list on left)\n\tuseEffect(() => {\n\t\tconst fetchEmails = async () => {\n\t\t\ttry {\n\t\t\t\tconst result = await getEmailsAction({ \n\t\t\t\t\tlimit: 50, \n\t\t\t\t\toffset: 0,\n\t\t\t\t\ttype: \"all\",\n\t\t\t\t\tfolder: folder === \"inbox\" ? undefined : folder,\n\t\t\t\t\tsortBy: \"created_at\",\n\t\t\t\t\tsortOrder: \"desc\"\n\t\t\t\t});\n\t\t\t\tsetEmails(result);\n\t\t\t} catch (err) {\n\t\t\t\tconsole.error(\"Failed to fetch emails:\", err);\n\t\t\t}\n\t\t};\n\t\tfetchEmails();\n\t}, [folder]);\n\n\t// Fetch email detail\n\tuseEffect(() => {\n\t\tif (!emailId) {\n\t\t\tsetError(\"No email ID provided\");\n\t\t\tsetLoading(false);\n\t\t\treturn;\n\t\t}\n\n\t\tsetLoading(true);\n\t\tsetError(null);\n\n\t\tstartTransition(async () => {\n\t\t\ttry {\n\t\t\t\tconst result = await getEmailByIdAction(emailId);\n\t\t\t\t\n\t\t\t\tif (!result.success || !result.email) {\n\t\t\t\t\tthrow new Error(result.error || \"Email not found\");\n\t\t\t\t}\n\n\t\t\t\tsetEmail(result.email);\n\t\t\t\tsetEmailContent({\n\t\t\t\t\thtml: result.email.body_html || null,\n\t\t\t\t\ttext: result.email.body || null,\n\t\t\t\t});\n\t\t\t} catch (err) {\n\t\t\t\tconst errorMessage = err instanceof Error ? err.message : \"Failed to load email\";\n\t\t\t\tsetError(errorMessage);\n\t\t\t\ttoast.error(\"Failed to load email\", { description: errorMessage });\n\t\t\t} finally {\n\t\t\t\tsetLoading(false);\n\t\t\t}\n\t\t});\n\t}, [emailId]);\n\n\tif (loading && !email) {\n\t\treturn (\n\t\t\t<div className=\"flex h-full w-full items-center justify-center\">\n\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t<div className=\"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4\" />\n\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">Loading email...</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tif (error || !email) {\n\t\treturn (\n\t\t\t<div className=\"flex h-full w-full items-center justify-center\">\n\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t<AlertTriangle className=\"h-8 w-8 text-destructive mx-auto mb-4\" />\n\t\t\t\t\t<p className=\"text-sm font-medium text-destructive mb-2\">\n\t\t\t\t\t\t{error || \"Email not found\"}\n\t\t\t\t\t</p>\n\t\t\t\t\t<Button variant=\"outline\" onClick={() => router.push(`/dashboard/communication/${folder}`)}>\n\t\t\t\t\t\tBack to {folder.charAt(0).toUpperCase() + folder.slice(1)}\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn (\n\t\t<div className=\"flex h-full w-full flex-col overflow-hidden bg-sidebar\">\n\t\t\t<div className=\"flex flex-1 overflow-hidden min-h-0 gap-2\">\n\t\t\t\t{/* Email List - Left Panel */}\n\t\t\t\t<div className=\"bg-card mb-1 w-full md:w-[400px] lg:w-[480px] shadow-sm lg:h-full lg:shadow-sm flex flex-col rounded-tr-2xl overflow-hidden\">\n\t\t\t\t\t{/* Email List Header */}\n\t\t\t\t\t<div className=\"p-4 border-b\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tonClick={() => router.push(`/dashboard/communication/${folder}`)}\n\t\t\t\t\t\t\tclassName=\"w-full justify-start\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<ChevronLeft className=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t\t\tBack to {folder.charAt(0).toUpperCase() + folder.slice(1)}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Email List */}\n\t\t\t\t\t<div className=\"flex-1 overflow-y-auto\">\n\t\t\t\t\t\t{emails?.emails?.map((emailItem) => {\n\t\t\t\t\t\t\tconst isSelected = emailItem.id === email.id;\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\tkey={emailItem.id}\n\t\t\t\t\t\t\t\t\thref={`/dashboard/communication/${folder}/${emailItem.id}`}\n\t\t\t\t\t\t\t\t\tclassName={`block border-b border-border/50 hover:bg-accent/50 transition-colors ${\n\t\t\t\t\t\t\t\t\t\tisSelected ? \"bg-accent\" : \"\"\n\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div className=\"p-3 space-y-2\">\n\t\t\t\t\t\t\t\t\t\t{/* From */}\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm font-semibold text-foreground line-clamp-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t{emailItem.from_name || emailItem.from_address || \"Unknown\"}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t{!emailItem.read_at && (\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"h-2 w-2 rounded-full bg-primary shrink-0\" />\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t{/* Subject */}\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground line-clamp-1\">\n\t\t\t\t\t\t\t\t\t\t\t{emailItem.subject || \"No subject\"}\n\t\t\t\t\t\t\t\t\t\t</p>\n\n\t\t\t\t\t\t\t\t\t\t{/* Time */}\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\t\t{new Date(emailItem.created_at).toLocaleTimeString('en-US', {\n\t\t\t\t\t\t\t\t\t\t\t\thour: 'numeric',\n\t\t\t\t\t\t\t\t\t\t\t\tminute: '2-digit'\n\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t})}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{/* Email Details - Right Panel */}\n\t\t\t\t<div className=\"bg-card mb-1 rounded-tl-2xl shadow-sm lg:h-full flex flex-col min-w-0 flex-1 overflow-hidden\">\n\t\t\t\t\t<div className=\"relative flex-1 min-h-0 flex flex-col\">\n\t\t\t\t\t\t<div className=\"flex flex-col h-full flex-1 min-h-0\">\n\t\t\t\t\t\t\t<div className=\"bg-card relative flex flex-col overflow-hidden transition-all duration-300 h-full flex-1 min-h-0\">\n\t\t\t\t\t\t\t\t{/* Email Header Toolbar */}\n\t\t\t\t\t\t\t\t<div className=\"sticky top-0 z-15 flex shrink-0 items-center justify-between gap-1.5 p-2 pb-0 transition-colors bg-card\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex flex-1 items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => router.push(`/dashboard/communication/${folder}`)}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"h-8 w-8 p-0 hover:bg-accent/80 active:bg-accent transition-colors\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<X className=\"h-4 w-4 text-muted-foreground\" />\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"sr-only\">Close</span>\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t<Separator\n\t\t\t\t\t\t\t\t\t\t\torientation=\"vertical\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"h-4 bg-border/60\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-1\">\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"h-8 px-2 hover:bg-accent/80 active:bg-accent transition-colors\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<ReplyAll className=\"h-4 w-4 mr-1.5 text-muted-foreground\" />\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-sm leading-none font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\tReply all\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"h-8 w-8 p-0 hover:bg-accent/80 active:bg-accent transition-colors\"\n\t\t\t\t\t\t\t\t\t\t\ttitle=\"Notes\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<StickyNote className=\"h-4 w-4 text-muted-foreground\" />\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"sr-only\">Notes</span>\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"h-8 w-8 p-0 hover:bg-accent/80 active:bg-accent transition-colors\"\n\t\t\t\t\t\t\t\t\t\t\ttitle=\"Star\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Star className=\"h-4 w-4 text-muted-foreground\" />\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"h-8 w-8 p-0 hover:bg-accent/80 active:bg-accent transition-colors\"\n\t\t\t\t\t\t\t\t\t\t\ttitle=\"Archive\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Archive className=\"h-4 w-4 text-muted-foreground\" />\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"h-8 w-8 p-0 hover:bg-destructive/10 active:bg-destructive/15 transition-colors\"\n\t\t\t\t\t\t\t\t\t\t\ttitle=\"Delete\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Trash className=\"h-4 w-4 fill-destructive text-destructive\" />\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"h-8 w-8 p-0 hover:bg-accent/80 active:bg-accent transition-colors\"\n\t\t\t\t\t\t\t\t\t\t\ttitle=\"More options\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<MoreHorizontal className=\"h-4 w-4 text-muted-foreground\" />\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t{/* Email Content */}\n\t\t\t\t\t\t\t\t<div className=\"flex min-h-0 flex-1 flex-col overflow-hidden\">\n\t\t\t\t\t\t\t\t\t<div className=\"relative overflow-hidden flex-1 h-full min-h-0 flex flex-col\">\n\t\t\t\t\t\t\t\t\t\t{/* Email Header */}\n\t\t\t\t\t\t\t\t\t\t<TooltipProvider>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"border-b border-border/50 px-2 py-4 space-y-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t{/* Subject */}\n\t\t\t\t\t\t\t\t\t\t\t\t<h1 className=\"text-base font-semibold text-foreground\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{email.subject || \"No Subject\"}\n\t\t\t\t\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t{/* Sender Info Row */}\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Avatar className=\"h-9 w-9 shrink-0 rounded-md cursor-pointer\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<AvatarFallback className=\"bg-muted text-muted-foreground font-semibold text-sm rounded-md\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{email.from_address?.[0]?.toUpperCase() || \"U\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</AvatarFallback>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Avatar>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex-1 min-w-0\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-semibold text-sm text-foreground\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{email.from_name || email.from_address || \"Unknown\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{!email.read_at && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"h-2 w-2 rounded-full bg-primary\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-xs text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tto {email.to_address?.includes('@') \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? (email.to_address.split('@')[0] === 'me' ? 'you' : email.to_address.split('@')[0])\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'you'}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs text-muted-foreground whitespace-nowrap\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{new Date(email.created_at).toLocaleTimeString('en-US', {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thour: 'numeric',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tminute: '2-digit'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</TooltipProvider>\n\n\t\t\t\t\t\t\t\t\t\t{/* Email Body */}\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex-1 overflow-hidden flex flex-col min-h-0\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex-1 overflow-y-auto px-2 py-4\">\n\t\t\t\t\t\t\t\t\t\t\t\t{loadingContent ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-center py-12\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">Loading email content...</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<EmailContent\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thtml={emailContent?.html || email.body_html || null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext={emailContent?.text || email.body || null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tattachments={null}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t{/* Reply Action Bar */}\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"border-t border-border/50 px-2 py-4 bg-background\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"default\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"h-9 px-4\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Reply className=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tReply\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"h-9 px-4\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ReplyAll className=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tReply All\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"h-9 px-4\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Forward className=\"h-4 w-4 mr-2\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tForward\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\n","/* __next_internal_action_entry_do_not_use__ [{\"400737686314e248a3cd3c96e588f4e7cbf17190d8\":\"getEmailByIdAction\"},\"apps/web/src/actions/email-actions.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";export var getEmailByIdAction=/*#__PURE__*/createServerReference(\"400737686314e248a3cd3c96e588f4e7cbf17190d8\",callServer,void 0,findSourceMapURL,\"getEmailByIdAction\");"],"names":[],"mappings":"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","ignoreList":[5,6]}