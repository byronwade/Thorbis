{"version":3,"sources":["../../../../../../apps/web/src/components/communication/communication-stats-dashboard.tsx/__nextjs-internal-proxy.mjs","../../../../../../apps/web/src/components/communication/communication-stats-skeleton.tsx/__nextjs-internal-proxy.mjs","../../../../../../apps/web/src/app/%28dashboard%29/dashboard/communication/stats/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const CommunicationStatsDashboard = registerClientReference(\n    function() { throw new Error(\"Attempted to call CommunicationStatsDashboard() from the server but CommunicationStatsDashboard is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/src/components/communication/communication-stats-dashboard.tsx\",\n    \"CommunicationStatsDashboard\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const CommunicationStatsSkeleton = registerClientReference(\n    function() { throw new Error(\"Attempted to call CommunicationStatsSkeleton() from the server but CommunicationStatsSkeleton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/src/components/communication/communication-stats-skeleton.tsx\",\n    \"CommunicationStatsSkeleton\",\n);\n","/**\n * Communication Statistics Dashboard - Server Component with ISR\n *\n * Displays charts and statistics for all communication channels\n * Supports different report views via URL query parameters\n *\n * Uses ISR (Incremental Static Regeneration) instead of client-side polling:\n * - Data fetched server-side and cached\n * - Auto-revalidates every 5 minutes\n * - No client-side polling/setInterval\n *\n * Route: /dashboard/communication/stats\n */\n\nimport { Suspense } from \"react\";\nimport { getCommunicationStatsAction } from \"@/actions/communication-stats-actions\";\nimport { CommunicationStatsDashboard } from \"@/components/communication/communication-stats-dashboard\";\nimport { CommunicationStatsSkeleton } from \"@/components/communication/communication-stats-skeleton\";\n\n// ISR: Revalidate every 5 minutes (replaces 5-minute client-side polling)\nexport const revalidate = 300;\n\ntype SearchParams = Promise<{\n\treport?: string;\n}>;\n\nasync function StatsData({ searchParams }: { searchParams: SearchParams }) {\n\tconst params = await searchParams;\n\tconst report = params?.report || \"overview\";\n\n\t// Fetch stats server-side\n\tconst result = await getCommunicationStatsAction(30);\n\n\tif (!result.success || !result.data) {\n\t\treturn (\n\t\t\t<div className=\"flex h-full items-center justify-center\">\n\t\t\t\t<div className=\"text-center\">\n\t\t\t\t\t<p className=\"text-lg font-semibold text-destructive\">Error loading statistics</p>\n\t\t\t\t\t<p className=\"text-sm text-muted-foreground mt-2\">{result.error || \"No data available\"}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn <CommunicationStatsDashboard initialStats={result.data} initialReport={report} />;\n}\n\nexport default async function CommunicationStatsPage({\n\tsearchParams,\n}: {\n\tsearchParams: SearchParams;\n}) {\n\treturn (\n\t\t<div className=\"flex w-full flex-col\">\n\t\t\t<Suspense fallback={<CommunicationStatsSkeleton />}>\n\t\t\t\t<StatsData searchParams={searchParams} />\n\t\t\t</Suspense>\n\t\t</div>\n\t);\n}\n"],"names":[],"mappings":"yjBAEO,IAAM,EAA8B,CAAA,EAAA,AAD3C,EAAA,CAAA,CAAA,QAC2C,uBAAA,AAAuB,EAC9D,WAAa,MAAM,AAAI,MAAM,oQAAsQ,EACnS,wGACA,iGAHG,IAAM,EAA8B,CAAA,EAD3C,AAC2C,EAD3C,CAAA,CAAA,QAC2C,uBAAuB,AAAvB,EACvC,WAAa,MAAM,AAAI,MAAM,oQAAsQ,EACnS,oFACA,+JCHG,IAAM,EAA6B,CAAA,EAD1C,AAC0C,EAD1C,CAAA,CAAA,QAC0C,uBAAA,AAAuB,EAC7D,WAAa,MAAM,AAAI,MAAM,kQAAoQ,EACjS,uGACA,+FAHG,IAAM,EAA6B,CAAA,EAAA,AAD1C,EAAA,CAAA,CAAA,QAC0C,uBAAA,AAAuB,EAC7D,WAAa,MAAM,AAAI,MAAM,kQAAoQ,EACjS,mFACA,6JCOH,IAAA,EAAA,EAAA,CAAA,CAAA,QAED,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QASA,eAAe,EAAU,cAAE,CAAY,CAAkC,EACxE,IAAM,EAAS,MAAM,EACf,EAAS,GAAQ,QAAU,WAG3B,EAAS,MAAM,CAAA,EAAA,EAAA,2BAAA,AAA2B,EAAC,WAEjD,AAAI,AAAC,EAAO,OAAO,EAAK,EAAD,AAAQ,IAAI,CAW5B,CAX8B,AAW9B,EAAA,EAAA,GAAA,EAAC,EAAA,2BAA2B,CAAA,CAAC,aAAc,EAAO,IAAI,CAAE,cAAe,IAT5E,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mDACd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wBACd,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kDAAyC,6BACtD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8CAAsC,EAAO,KAAK,EAAI,0BAOxE,CAEe,eAAe,EAAuB,cACpD,CAAY,CAGZ,EACA,MACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gCACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,SAAU,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,0BAA0B,CAAA,CAAA,YAC9C,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAU,aAAc,OAI7B,qCAvC0B","ignoreList":[0,1]}