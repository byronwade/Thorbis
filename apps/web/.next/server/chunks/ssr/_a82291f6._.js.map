{"version":3,"sources":["../../../../../../apps/web/src/components/layout/detail-back-button.tsx","../../../../../../apps/web/src/components/customers/customer-detail-toolbar.tsx"],"sourcesContent":["\"use client\";\n\n/**\n * Detail Back Button - Reusable back button component for detail pages\n *\n * Shows a back button with arrow icon and label, navigates to the specified href\n */\n\nimport { ArrowLeft } from \"lucide-react\";\nimport { useRouter } from \"next/navigation\";\nimport { Button } from \"@/components/ui/button\";\n\ntype DetailBackButtonProps = {\n\t/** The href to navigate to when clicked */\n\thref: string;\n\t/** The label text to display on the button */\n\tlabel: string;\n};\n\nexport function DetailBackButton({ href, label }: DetailBackButtonProps) {\n\tconst router = useRouter();\n\n\treturn (\n\t\t<Button\n\t\t\tclassName=\"h-8 gap-1.5\"\n\t\t\tonClick={() => router.push(href)}\n\t\t\tsize=\"sm\"\n\t\t\tvariant=\"outline\"\n\t\t>\n\t\t\t<ArrowLeft className=\"size-4\" />\n\t\t\t{label}\n\t\t</Button>\n\t);\n}\n","\"use client\";\n\n/**\n * Customer Detail Toolbar - AppToolbar Actions\n *\n * Displays in AppToolbar for customer detail pages:\n * - Edit mode toggle button\n * - Quick actions (New Job, New Invoice)\n * - Ellipsis menu with archive\n */\n\nimport {\n\tArchive,\n\tBriefcase,\n\tDownload,\n\tEdit3,\n\tEye,\n\tFileText,\n\tMail,\n\tMoreVertical,\n} from \"lucide-react\";\nimport { usePathname, useRouter, useSearchParams } from \"next/navigation\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n\tDropdownMenu,\n\tDropdownMenuContent,\n\tDropdownMenuItem,\n\tDropdownMenuLabel,\n\tDropdownMenuSeparator,\n\tDropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { Separator } from \"@/components/ui/separator\";\nimport {\n\tTooltip,\n\tTooltipContent,\n\tTooltipProvider,\n\tTooltipTrigger,\n} from \"@/components/ui/tooltip\";\n\nexport function CustomerDetailToolbar() {\n\tconst pathname = usePathname();\n\tconst searchParams = useSearchParams();\n\tconst router = useRouter();\n\tconst isEditMode = searchParams?.get(\"mode\") === \"edit\";\n\n\tconst toggleEditMode = () => {\n\t\tconst params = new URLSearchParams(searchParams?.toString());\n\t\tif (isEditMode) {\n\t\t\tparams.delete(\"mode\");\n\t\t} else {\n\t\t\tparams.set(\"mode\", \"edit\");\n\t\t}\n\t\trouter.push(`${pathname}?${params.toString()}`, { scroll: false });\n\t};\n\n\tconst customerId = pathname?.split(\"/\").pop();\n\n\treturn (\n\t\t<div className=\"flex items-center gap-2\">\n\t\t\t{/* Edit/View Mode Toggle */}\n\t\t\t<TooltipProvider>\n\t\t\t\t<Tooltip>\n\t\t\t\t\t<TooltipTrigger asChild>\n\t\t\t\t\t\t<Button onClick={toggleEditMode} size=\"sm\" variant=\"outline\">\n\t\t\t\t\t\t\t{isEditMode ? (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Eye />\n\t\t\t\t\t\t\t\t\t<span className=\"hidden md:inline\">View</span>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Edit3 />\n\t\t\t\t\t\t\t\t\t<span className=\"hidden md:inline\">Edit</span>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</TooltipTrigger>\n\t\t\t\t\t<TooltipContent>\n\t\t\t\t\t\t<p>{isEditMode ? \"Switch to view mode\" : \"Switch to edit mode\"}</p>\n\t\t\t\t\t</TooltipContent>\n\t\t\t\t</Tooltip>\n\n\t\t\t\t{/* Quick Actions - Only show in view mode */}\n\t\t\t\t{!isEditMode && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Tooltip>\n\t\t\t\t\t\t\t<TooltipTrigger asChild>\n\t\t\t\t\t\t\t\t<Button asChild size=\"sm\" variant=\"outline\">\n\t\t\t\t\t\t\t\t\t<a href={`/dashboard/work/new?customerId=${customerId}`}>\n\t\t\t\t\t\t\t\t\t\t<Briefcase />\n\t\t\t\t\t\t\t\t\t\t<span className=\"hidden md:inline\">Job</span>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</TooltipTrigger>\n\t\t\t\t\t\t\t<TooltipContent>\n\t\t\t\t\t\t\t\t<p>Create new job for this customer</p>\n\t\t\t\t\t\t\t</TooltipContent>\n\t\t\t\t\t\t</Tooltip>\n\n\t\t\t\t\t\t<Tooltip>\n\t\t\t\t\t\t\t<TooltipTrigger asChild>\n\t\t\t\t\t\t\t\t<Button asChild size=\"sm\" variant=\"outline\">\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\thref={`/dashboard/work/invoices/new?customerId=${customerId}`}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<FileText />\n\t\t\t\t\t\t\t\t\t\t<span className=\"hidden lg:inline\">Invoice</span>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</TooltipTrigger>\n\t\t\t\t\t\t\t<TooltipContent>\n\t\t\t\t\t\t\t\t<p>Create new invoice for this customer</p>\n\t\t\t\t\t\t\t</TooltipContent>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</TooltipProvider>\n\n\t\t\t{/* Ellipsis Menu - Includes Archive */}\n\t\t\t<Separator className=\"h-8\" orientation=\"vertical\" />\n\t\t\t<DropdownMenu>\n\t\t\t\t<DropdownMenuTrigger asChild>\n\t\t\t\t\t<Button size=\"icon-sm\" suppressHydrationWarning variant=\"outline\">\n\t\t\t\t\t\t<MoreVertical />\n\t\t\t\t\t\t<span className=\"sr-only\">More actions</span>\n\t\t\t\t\t</Button>\n\t\t\t\t</DropdownMenuTrigger>\n\t\t\t\t<DropdownMenuContent align=\"end\" className=\"w-56\">\n\t\t\t\t\t<DropdownMenuLabel className=\"text-muted-foreground text-xs font-medium tracking-wide uppercase\">\n\t\t\t\t\t\tActions\n\t\t\t\t\t</DropdownMenuLabel>\n\t\t\t\t\t<DropdownMenuSeparator />\n\t\t\t\t\t<DropdownMenuItem>\n\t\t\t\t\t\t<Mail className=\"mr-2 size-3.5\" />\n\t\t\t\t\t\tSend Email\n\t\t\t\t\t</DropdownMenuItem>\n\t\t\t\t\t<DropdownMenuItem>\n\t\t\t\t\t\t<Download className=\"mr-2 size-3.5\" />\n\t\t\t\t\t\tExport Customer Data\n\t\t\t\t\t</DropdownMenuItem>\n\t\t\t\t\t<DropdownMenuSeparator />\n\t\t\t\t\t<DropdownMenuItem className=\"text-destructive focus:text-destructive\">\n\t\t\t\t\t\t<Archive className=\"mr-2 size-3.5\" />\n\t\t\t\t\t\tArchive Customer\n\t\t\t\t\t</DropdownMenuItem>\n\t\t\t\t</DropdownMenuContent>\n\t\t\t</DropdownMenu>\n\t\t</div>\n\t);\n}\n"],"names":[],"mappings":"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"}