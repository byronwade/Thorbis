{"version":3,"sources":["../../../../../../node_modules/.pnpm/date-fns%404.1.0/node_modules/date-fns/addMinutes.js","../../../../../../apps/web/src/components/work/appointments/appointment-create-form-v2.tsx"],"sourcesContent":["import { millisecondsInMinute } from \"./constants.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link addMinutes} function options.\n */\n\n/**\n * @name addMinutes\n * @category Minute Helpers\n * @summary Add the specified number of minutes to the given date.\n *\n * @description\n * Add the specified number of minutes to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of minutes to be added.\n * @param options - An object with options\n *\n * @returns The new date with the minutes added\n *\n * @example\n * // Add 30 minutes to 10 July 2014 12:00:00:\n * const result = addMinutes(new Date(2014, 6, 10, 12, 0), 30)\n * //=> Thu Jul 10 2014 12:30:00\n */\nexport function addMinutes(date, amount, options) {\n  const _date = toDate(date, options?.in);\n  _date.setTime(_date.getTime() + amount * millisecondsInMinute);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default addMinutes;\n","\"use client\";\n\n/**\n * Comprehensive Appointment Creation Form\n *\n * Industry Best Practices from ServiceTitan & HouseCallPro:\n * - Event/Meeting/Job type selection\n * - Exact time vs time window scheduling (default 2hr windows)\n * - Skills-based technician assignment\n * - File uploads (photos/videos/documents)\n * - Custom tags and special requirements\n * - Priority levels and customer notifications\n * - Smart defaults and auto-population\n */\n\nimport { addMinutes, format } from \"date-fns\";\nimport {\n\tAlertCircle,\n\tBell,\n\tBriefcase,\n\tCalendarClock,\n\tCalendarIcon,\n\tClock,\n\tFileText,\n\tLoader2,\n\tMail,\n\tMapPin,\n\tPhone,\n\tTag,\n\tUpload,\n\tUser,\n\tUsers,\n\tWrench,\n} from \"lucide-react\";\nimport dynamic from \"next/dynamic\";\nimport { useRouter } from \"next/navigation\";\nimport { useEffect, useMemo, useState } from \"react\";\nimport { toast } from \"sonner\";\nimport { createAppointment } from \"@/actions/appointments\";\nimport {\n\tCustomerAutocomplete,\n\ttype CustomerOption,\n} from \"@/components/customers/customer-autocomplete\";\nimport { Badge } from \"@/components/ui/badge\";\n\n// Dynamically import CustomerCreateModal to reduce initial bundle size\nconst CustomerCreateModal = dynamic(\n\t() =>\n\t\timport(\"@/components/customers/customer-create-modal\").then(\n\t\t\t(mod) => mod.CustomerCreateModal,\n\t\t),\n\t{ ssr: false },\n);\n\nimport { Button } from \"@/components/ui/button\";\nimport { Calendar } from \"@/components/ui/calendar\";\nimport {\n\tCard,\n\tCardContent,\n\tCardDescription,\n\tCardHeader,\n\tCardTitle,\n} from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport {\n\tPopover,\n\tPopoverContent,\n\tPopoverTrigger,\n} from \"@/components/ui/popover\";\nimport {\n\tSelect,\n\tSelectContent,\n\tSelectItem,\n\tSelectTrigger,\n\tSelectValue,\n} from \"@/components/ui/select\";\nimport { Separator } from \"@/components/ui/separator\";\nimport {\n\tStandardFormField,\n\tStandardFormRow,\n} from \"@/components/ui/standard-form-field\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Textarea } from \"@/components/ui/textarea\";\n\ninterface AppointmentCreateFormProps {\n\tjobId?: string | null;\n\tcustomerId?: string | null;\n\tpropertyId?: string | null;\n\tcustomers: any[];\n\tproperties: any[];\n\tjobs: any[];\n\tteamMembers: any[];\n}\n\ntype AppointmentTypeOption = \"job\" | \"event\" | \"meeting\";\ntype TimeMode = \"exact\" | \"window\";\ntype PriorityLevel = \"normal\" | \"high\" | \"urgent\" | \"emergency\";\n\nexport function AppointmentCreateFormV2({\n\tjobId: initialJobId,\n\tcustomerId: initialCustomerId,\n\tpropertyId: initialPropertyId,\n\tcustomers,\n\tproperties,\n\tjobs,\n\tteamMembers,\n}: AppointmentCreateFormProps) {\n\tconst router = useRouter();\n\tconst [isSubmitting, setIsSubmitting] = useState(false);\n\n\t// Primary appointment type\n\tconst [appointmentType, setAppointmentType] = useState<AppointmentTypeOption>(\n\t\tinitialJobId ? \"job\" : \"event\",\n\t);\n\n\t// Form state\n\tconst [jobId, setJobId] = useState(initialJobId || \"\");\n\tconst [customerId, setCustomerId] = useState(initialCustomerId || \"\");\n\tconst [propertyId, setPropertyId] = useState(initialPropertyId || \"\");\n\tconst [title, setTitle] = useState(\"\");\n\tconst [description, setDescription] = useState(\"\");\n\n\t// Customer creation modal state\n\tconst [isCreateCustomerModalOpen, setIsCreateCustomerModalOpen] =\n\t\tuseState(false);\n\n\t// Time scheduling\n\tconst [timeMode, setTimeMode] = useState<TimeMode>(\"window\");\n\tconst [date, setDate] = useState<Date>();\n\tconst [startTime, setStartTime] = useState(\"09:00\");\n\tconst [windowDuration, setWindowDuration] = useState(\"120\"); // Default 2 hours\n\tconst [exactDuration, setExactDuration] = useState(\"60\"); // For exact time mode\n\n\t// Assignment & Priority\n\tconst [assignedTo, setAssignedTo] = useState<string[]>([]);\n\tconst [priority, setPriority] = useState<PriorityLevel>(\"normal\");\n\tconst [status, setStatus] = useState(\"scheduled\");\n\n\t// Service details\n\tconst [category, setCategory] = useState(\"job_appointment\");\n\tconst [serviceType, setServiceType] = useState(\"service_call\");\n\tconst [estimatedHours, setEstimatedHours] = useState(\"1\");\n\tconst [teamSize, setTeamSize] = useState(\"1\");\n\n\t// Additional features\n\tconst [specialRequirements, setSpecialRequirements] = useState(\"\");\n\tconst [toolsNeeded, setToolsNeeded] = useState<string[]>([]);\n\tconst [customerNotifications, setCustomerNotifications] = useState(true);\n\tconst [sendReminder, setSendReminder] = useState(true);\n\tconst [tags, setTags] = useState<string[]>([]);\n\tconst [attachments, setAttachments] = useState<File[]>([]);\n\n\t// Get linked job with full details\n\tconst linkedJob = jobId ? jobs.find((j) => j.id === jobId) : null;\n\n\t// Filter properties by selected customer\n\tconst filteredProperties = customerId\n\t\t? properties.filter((p) => p.customer_id === customerId)\n\t\t: properties;\n\n\t// Calculate end time based on mode\n\tconst calculateEndTime = useMemo(() => {\n\t\tif (!date || !startTime) return null;\n\n\t\tconst startDateTime = new Date(date);\n\t\tconst [hours, minutes] = startTime.split(\":\");\n\t\tstartDateTime.setHours(parseInt(hours), parseInt(minutes));\n\n\t\tconst duration =\n\t\t\ttimeMode === \"window\"\n\t\t\t\t? parseInt(windowDuration)\n\t\t\t\t: parseInt(exactDuration);\n\n\t\treturn addMinutes(startDateTime, duration);\n\t}, [date, startTime, timeMode, windowDuration, exactDuration]);\n\n\t// Smart technician suggestions based on skills and location\n\tconst suggestedTechnicians = useMemo(() => {\n\t\t// TODO: Implement skills-based filtering when we have technician skills data\n\t\t// For now, return all team members\n\t\treturn teamMembers;\n\t}, [teamMembers, serviceType, propertyId]);\n\n\t// Auto-populate from job if jobId is provided\n\tuseEffect(() => {\n\t\tif (jobId) {\n\t\t\tconst job = jobs.find((j) => j.id === jobId);\n\t\t\tif (job) {\n\t\t\t\tsetTitle(job.title || \"Service Appointment\");\n\t\t\t\tsetDescription(job.description || \"\");\n\t\t\t\tsetCustomerId(job.customer_id);\n\t\t\t\tsetPropertyId(job.property_id);\n\t\t\t\tsetAppointmentType(\"job\");\n\t\t\t\tsetCategory(\"job_appointment\");\n\t\t\t}\n\t\t}\n\t}, [jobId, jobs]);\n\n\t// Auto-populate property when customer changes\n\tuseEffect(() => {\n\t\tif (customerId && filteredProperties.length === 1) {\n\t\t\tsetPropertyId(filteredProperties[0].id);\n\t\t}\n\t}, [customerId, filteredProperties]);\n\n\t// Smart defaults based on appointment type\n\tuseEffect(() => {\n\t\tif (appointmentType === \"event\") {\n\t\t\tsetCategory(\"event\");\n\t\t\tsetTimeMode(\"exact\");\n\t\t} else if (appointmentType === \"meeting\") {\n\t\t\tsetCategory(\"meeting\");\n\t\t\tsetTimeMode(\"exact\");\n\t\t\tsetExactDuration(\"30\"); // Meetings default to 30 min\n\t\t} else {\n\t\t\tsetCategory(\"job_appointment\");\n\t\t\tsetTimeMode(\"window\"); // Jobs default to time windows\n\t\t}\n\t}, [appointmentType]);\n\n\tconst handleSubmit = async (e: React.FormEvent) => {\n\t\te.preventDefault();\n\n\t\tif (!customerId || !propertyId || !date || !title) {\n\t\t\ttoast.error(\"Please fill in all required fields\");\n\t\t\treturn;\n\t\t}\n\n\t\tsetIsSubmitting(true);\n\n\t\ttry {\n\t\t\tconst startDateTime = new Date(date);\n\t\t\tconst [hours, minutes] = startTime.split(\":\");\n\t\t\tstartDateTime.setHours(parseInt(hours), parseInt(minutes));\n\n\t\t\tconst duration =\n\t\t\t\ttimeMode === \"window\"\n\t\t\t\t\t? parseInt(windowDuration)\n\t\t\t\t\t: parseInt(exactDuration);\n\t\t\tconst endDateTime = addMinutes(startDateTime, duration);\n\n\t\t\tconst formData = new FormData();\n\t\t\tformData.append(\"title\", title);\n\t\t\tformData.append(\"description\", description);\n\t\t\tformData.append(\"customerId\", customerId);\n\t\t\tformData.append(\"propertyId\", propertyId);\n\t\t\tformData.append(\"scheduledStart\", startDateTime.toISOString());\n\t\t\tformData.append(\"scheduledEnd\", endDateTime.toISOString());\n\t\t\tformData.append(\"category\", category);\n\t\t\tformData.append(\"type\", serviceType);\n\t\t\tformData.append(\"appointmentType\", appointmentType);\n\t\t\tformData.append(\"timeMode\", timeMode);\n\t\t\tformData.append(\"priority\", priority);\n\t\t\tformData.append(\"status\", status);\n\n\t\t\tif (jobId) {\n\t\t\t\tformData.append(\"jobId\", jobId);\n\t\t\t}\n\n\t\t\t// Add team assignments\n\t\t\tif (assignedTo.length > 0) {\n\t\t\t\tformData.append(\"assignedTo\", JSON.stringify(assignedTo));\n\t\t\t}\n\n\t\t\t// Add additional metadata\n\t\t\tconst metadata = {\n\t\t\t\testimatedHours,\n\t\t\t\tteamSize,\n\t\t\t\tspecialRequirements,\n\t\t\t\ttoolsNeeded,\n\t\t\t\tsendReminder,\n\t\t\t\tcustomerNotifications,\n\t\t\t\ttags,\n\t\t\t\ttimeMode,\n\t\t\t\twindowDuration: timeMode === \"window\" ? windowDuration : null,\n\t\t\t};\n\t\t\tformData.append(\"metadata\", JSON.stringify(metadata));\n\n\t\t\t// TODO: Handle file uploads when backend supports it\n\t\t\t// attachments.forEach((file) => {\n\t\t\t//   formData.append(\"attachments[]\", file);\n\t\t\t// });\n\n\t\t\tconst result = await createAppointment(formData);\n\n\t\t\tif (result.success && result.data) {\n\t\t\t\ttoast.success(\"Appointment created successfully\");\n\t\t\t\tif (jobId) {\n\t\t\t\t\trouter.push(`/dashboard/work/${jobId}`);\n\t\t\t\t} else {\n\t\t\t\t\trouter.push(\"/dashboard/work/appointments\");\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\ttoast.error(result.error || \"Failed to create appointment\");\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Error creating appointment:\", error);\n\t\t\ttoast.error(\"An unexpected error occurred\");\n\t\t} finally {\n\t\t\tsetIsSubmitting(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"space-y-4\">\n\t\t\t{/* Appointment Type Selector - Prominent at Top */}\n\t\t\t<Card className=\"border-2\">\n\t\t\t\t<CardHeader className=\"pb-4\">\n\t\t\t\t\t<CardTitle className=\"text-lg flex items-center gap-2\">\n\t\t\t\t\t\t<CalendarClock className=\"h-5 w-5 text-primary\" />\n\t\t\t\t\t\tWhat type of appointment is this?\n\t\t\t\t\t</CardTitle>\n\t\t\t\t\t<CardDescription>\n\t\t\t\t\t\tSelect the primary purpose of this appointment\n\t\t\t\t\t</CardDescription>\n\t\t\t\t</CardHeader>\n\t\t\t\t<CardContent>\n\t\t\t\t\t<div className=\"grid grid-cols-1 sm:grid-cols-3 gap-3\">\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tonClick={() => setAppointmentType(\"job\")}\n\t\t\t\t\t\t\tclassName={`p-4 rounded-lg border-2 text-left transition-all ${\n\t\t\t\t\t\t\t\tappointmentType === \"job\"\n\t\t\t\t\t\t\t\t\t? \"border-primary bg-primary/5\"\n\t\t\t\t\t\t\t\t\t: \"border-border hover:border-primary/50\"\n\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div className=\"flex items-start gap-3\">\n\t\t\t\t\t\t\t\t<Briefcase\n\t\t\t\t\t\t\t\t\tclassName={`h-5 w-5 mt-0.5 ${appointmentType === \"job\" ? \"text-primary\" : \"text-muted-foreground\"}`}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<p className=\"font-semibold\">Job Appointment</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-muted-foreground mt-1\">\n\t\t\t\t\t\t\t\t\t\tSchedule work for an existing job\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tonClick={() => setAppointmentType(\"meeting\")}\n\t\t\t\t\t\t\tclassName={`p-4 rounded-lg border-2 text-left transition-all ${\n\t\t\t\t\t\t\t\tappointmentType === \"meeting\"\n\t\t\t\t\t\t\t\t\t? \"border-primary bg-primary/5\"\n\t\t\t\t\t\t\t\t\t: \"border-border hover:border-primary/50\"\n\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div className=\"flex items-start gap-3\">\n\t\t\t\t\t\t\t\t<Users\n\t\t\t\t\t\t\t\t\tclassName={`h-5 w-5 mt-0.5 ${appointmentType === \"meeting\" ? \"text-primary\" : \"text-muted-foreground\"}`}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<p className=\"font-semibold\">Meeting</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-muted-foreground mt-1\">\n\t\t\t\t\t\t\t\t\t\tCustomer consultation or team meeting\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</button>\n\n\t\t\t\t\t\t<button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tonClick={() => setAppointmentType(\"event\")}\n\t\t\t\t\t\t\tclassName={`p-4 rounded-lg border-2 text-left transition-all ${\n\t\t\t\t\t\t\t\tappointmentType === \"event\"\n\t\t\t\t\t\t\t\t\t? \"border-primary bg-primary/5\"\n\t\t\t\t\t\t\t\t\t: \"border-border hover:border-primary/50\"\n\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div className=\"flex items-start gap-3\">\n\t\t\t\t\t\t\t\t<CalendarIcon\n\t\t\t\t\t\t\t\t\tclassName={`h-5 w-5 mt-0.5 ${appointmentType === \"event\" ? \"text-primary\" : \"text-muted-foreground\"}`}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<p className=\"font-semibold\">Event</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-muted-foreground mt-1\">\n\t\t\t\t\t\t\t\t\t\tTraining, demo, or company event\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\n\t\t\t{/* Job Details Card - Shown when linked to a job */}\n\t\t\t{linkedJob && (\n\t\t\t\t<Card className=\"border-primary/50 bg-primary/5\">\n\t\t\t\t\t<CardHeader className=\"pb-3\">\n\t\t\t\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t<Briefcase className=\"h-5 w-5 text-primary\" />\n\t\t\t\t\t\t\t\t<CardTitle className=\"text-base\">\n\t\t\t\t\t\t\t\t\tLinked to Job #{linkedJob.job_number}\n\t\t\t\t\t\t\t\t</CardTitle>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Badge variant=\"secondary\" className=\"text-xs\">\n\t\t\t\t\t\t\t\t{linkedJob.status}\n\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</CardHeader>\n\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t<div className=\"grid gap-4 sm:grid-cols-2 lg:grid-cols-3\">\n\t\t\t\t\t\t\t<div className=\"space-y-1\">\n\t\t\t\t\t\t\t\t<p className=\"text-xs text-muted-foreground font-medium\">\n\t\t\t\t\t\t\t\t\tJob Title\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<p className=\"text-sm font-semibold\">{linkedJob.title}</p>\n\t\t\t\t\t\t\t\t{linkedJob.description && (\n\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-muted-foreground line-clamp-2\">\n\t\t\t\t\t\t\t\t\t\t{linkedJob.description}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{linkedJob.customer && (\n\t\t\t\t\t\t\t\t<div className=\"space-y-1\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-1.5 text-xs text-muted-foreground font-medium\">\n\t\t\t\t\t\t\t\t\t\t<User className=\"h-3.5 w-3.5\" />\n\t\t\t\t\t\t\t\t\t\t<span>Customer</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm font-semibold\">\n\t\t\t\t\t\t\t\t\t\t{linkedJob.customer.display_name ||\n\t\t\t\t\t\t\t\t\t\t\t`${linkedJob.customer.first_name} ${linkedJob.customer.last_name}`}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<div className=\"space-y-0.5\">\n\t\t\t\t\t\t\t\t\t\t{linkedJob.customer.email && (\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-1.5 text-xs text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Mail className=\"h-3 w-3\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"truncate\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{linkedJob.customer.email}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{linkedJob.customer.phone && (\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-1.5 text-xs text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Phone className=\"h-3 w-3\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<span>{linkedJob.customer.phone}</span>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t{linkedJob.property && (\n\t\t\t\t\t\t\t\t<div className=\"space-y-1\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-1.5 text-xs text-muted-foreground font-medium\">\n\t\t\t\t\t\t\t\t\t\t<MapPin className=\"h-3.5 w-3.5\" />\n\t\t\t\t\t\t\t\t\t\t<span>Property</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm font-semibold\">\n\t\t\t\t\t\t\t\t\t\t{linkedJob.property.address}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\t{linkedJob.property.city}, {linkedJob.property.state}{\" \"}\n\t\t\t\t\t\t\t\t\t\t{linkedJob.property.zip_code}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\t\t\t)}\n\n\t\t\t<form onSubmit={handleSubmit} className=\"space-y-4\">\n\t\t\t\t{/* Basic Information */}\n\t\t\t\t<Card>\n\t\t\t\t\t<CardHeader className=\"pb-3\">\n\t\t\t\t\t\t<CardTitle className=\"text-base\">Appointment Details</CardTitle>\n\t\t\t\t\t</CardHeader>\n\t\t\t\t\t<CardContent className=\"space-y-3\">\n\t\t\t\t\t\t<StandardFormField label=\"Title\" htmlFor=\"title\" required>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tid=\"title\"\n\t\t\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\t\t\tonChange={(e) => setTitle(e.target.value)}\n\t\t\t\t\t\t\t\tplaceholder={\n\t\t\t\t\t\t\t\t\tappointmentType === \"job\"\n\t\t\t\t\t\t\t\t\t\t? \"e.g., Annual HVAC Maintenance\"\n\t\t\t\t\t\t\t\t\t\t: appointmentType === \"meeting\"\n\t\t\t\t\t\t\t\t\t\t\t? \"e.g., Customer Consultation\"\n\t\t\t\t\t\t\t\t\t\t\t: \"e.g., Team Training Session\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tclassName=\"h-9\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</StandardFormField>\n\n\t\t\t\t\t\t{appointmentType === \"job\" && (\n\t\t\t\t\t\t\t<StandardFormRow cols={3}>\n\t\t\t\t\t\t\t\t<StandardFormField\n\t\t\t\t\t\t\t\t\tlabel=\"Service Category\"\n\t\t\t\t\t\t\t\t\thtmlFor=\"category\"\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Select value={category} onValueChange={setCategory}>\n\t\t\t\t\t\t\t\t\t\t<SelectTrigger id=\"category\" className=\"h-9\">\n\t\t\t\t\t\t\t\t\t\t\t<SelectValue />\n\t\t\t\t\t\t\t\t\t\t</SelectTrigger>\n\t\t\t\t\t\t\t\t\t\t<SelectContent>\n\t\t\t\t\t\t\t\t\t\t\t<SelectItem value=\"job_appointment\">\n\t\t\t\t\t\t\t\t\t\t\t\tJob Appointment\n\t\t\t\t\t\t\t\t\t\t\t</SelectItem>\n\t\t\t\t\t\t\t\t\t\t\t<SelectItem value=\"estimate_appointment\">\n\t\t\t\t\t\t\t\t\t\t\t\tEstimate Appointment\n\t\t\t\t\t\t\t\t\t\t\t</SelectItem>\n\t\t\t\t\t\t\t\t\t\t\t<SelectItem value=\"follow_up\">Follow-up Visit</SelectItem>\n\t\t\t\t\t\t\t\t\t\t\t<SelectItem value=\"recurring_service\">\n\t\t\t\t\t\t\t\t\t\t\t\tRecurring Service\n\t\t\t\t\t\t\t\t\t\t\t</SelectItem>\n\t\t\t\t\t\t\t\t\t\t</SelectContent>\n\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t</StandardFormField>\n\n\t\t\t\t\t\t\t\t<StandardFormField\n\t\t\t\t\t\t\t\t\tlabel=\"Service Type\"\n\t\t\t\t\t\t\t\t\thtmlFor=\"serviceType\"\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Select value={serviceType} onValueChange={setServiceType}>\n\t\t\t\t\t\t\t\t\t\t<SelectTrigger id=\"serviceType\" className=\"h-9\">\n\t\t\t\t\t\t\t\t\t\t\t<SelectValue />\n\t\t\t\t\t\t\t\t\t\t</SelectTrigger>\n\t\t\t\t\t\t\t\t\t\t<SelectContent>\n\t\t\t\t\t\t\t\t\t\t\t<SelectItem value=\"service_call\">Service Call</SelectItem>\n\t\t\t\t\t\t\t\t\t\t\t<SelectItem value=\"installation\">Installation</SelectItem>\n\t\t\t\t\t\t\t\t\t\t\t<SelectItem value=\"maintenance\">Maintenance</SelectItem>\n\t\t\t\t\t\t\t\t\t\t\t<SelectItem value=\"inspection\">Inspection</SelectItem>\n\t\t\t\t\t\t\t\t\t\t\t<SelectItem value=\"repair\">Repair</SelectItem>\n\t\t\t\t\t\t\t\t\t\t\t<SelectItem value=\"estimate\">Estimate</SelectItem>\n\t\t\t\t\t\t\t\t\t\t\t<SelectItem value=\"winterization\">\n\t\t\t\t\t\t\t\t\t\t\t\tWinterization\n\t\t\t\t\t\t\t\t\t\t\t</SelectItem>\n\t\t\t\t\t\t\t\t\t\t\t<SelectItem value=\"emergency\">Emergency</SelectItem>\n\t\t\t\t\t\t\t\t\t\t</SelectContent>\n\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t</StandardFormField>\n\n\t\t\t\t\t\t\t\t<StandardFormField label=\"Priority\" htmlFor=\"priority\">\n\t\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\t\tvalue={priority}\n\t\t\t\t\t\t\t\t\t\tonValueChange={(val) => setPriority(val as PriorityLevel)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<SelectTrigger id=\"priority\" className=\"h-9\">\n\t\t\t\t\t\t\t\t\t\t\t<SelectValue />\n\t\t\t\t\t\t\t\t\t\t</SelectTrigger>\n\t\t\t\t\t\t\t\t\t\t<SelectContent>\n\t\t\t\t\t\t\t\t\t\t\t<SelectItem value=\"normal\">Normal</SelectItem>\n\t\t\t\t\t\t\t\t\t\t\t<SelectItem value=\"high\">High</SelectItem>\n\t\t\t\t\t\t\t\t\t\t\t<SelectItem value=\"urgent\">Urgent</SelectItem>\n\t\t\t\t\t\t\t\t\t\t\t<SelectItem value=\"emergency\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<AlertCircle className=\"h-3.5 w-3.5 text-red-500\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\tEmergency\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t</SelectItem>\n\t\t\t\t\t\t\t\t\t\t</SelectContent>\n\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t</StandardFormField>\n\t\t\t\t\t\t\t</StandardFormRow>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t<StandardFormField label=\"Description\" htmlFor=\"description\">\n\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\t\t\tonChange={(e) => setDescription(e.target.value)}\n\t\t\t\t\t\t\t\tplaceholder=\"Additional details about this appointment...\"\n\t\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\t\tclassName=\"resize-none text-sm\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</StandardFormField>\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\n\t\t\t\t{/* Time Scheduling - Enhanced with Window Support */}\n\t\t\t\t<Card>\n\t\t\t\t\t<CardHeader className=\"pb-3\">\n\t\t\t\t\t\t<CardTitle className=\"text-base flex items-center gap-2\">\n\t\t\t\t\t\t\t<Clock className=\"h-4 w-4\" />\n\t\t\t\t\t\t\tSchedule\n\t\t\t\t\t\t</CardTitle>\n\t\t\t\t\t\t<CardDescription>\n\t\t\t\t\t\t\tChoose exact time or a time window for better flexibility\n\t\t\t\t\t\t</CardDescription>\n\t\t\t\t\t</CardHeader>\n\t\t\t\t\t<CardContent className=\"space-y-4\">\n\t\t\t\t\t\t{/* Time Mode Toggle */}\n\t\t\t\t\t\t<div className=\"flex items-center justify-between p-3 rounded-lg border bg-muted/30\">\n\t\t\t\t\t\t\t<div className=\"space-y-0.5\">\n\t\t\t\t\t\t\t\t<Label className=\"text-sm font-medium\">Scheduling Mode</Label>\n\t\t\t\t\t\t\t\t<p className=\"text-xs text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t{timeMode === \"exact\"\n\t\t\t\t\t\t\t\t\t\t? \"Specific start time (better for meetings)\"\n\t\t\t\t\t\t\t\t\t\t: \"Arrival window (better for field service)\"}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclassName={`text-xs ${timeMode === \"exact\" ? \"font-medium\" : \"text-muted-foreground\"}`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tExact Time\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<Switch\n\t\t\t\t\t\t\t\t\tchecked={timeMode === \"window\"}\n\t\t\t\t\t\t\t\t\tonCheckedChange={(checked) =>\n\t\t\t\t\t\t\t\t\t\tsetTimeMode(checked ? \"window\" : \"exact\")\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\tclassName={`text-xs ${timeMode === \"window\" ? \"font-medium\" : \"text-muted-foreground\"}`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tTime Window\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<StandardFormRow cols={timeMode === \"window\" ? 3 : 3}>\n\t\t\t\t\t\t\t<StandardFormField label=\"Date\" htmlFor=\"date\" required>\n\t\t\t\t\t\t\t\t<Popover>\n\t\t\t\t\t\t\t\t\t<PopoverTrigger asChild>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"w-full justify-start text-left font-normal h-9 text-sm\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<CalendarIcon className=\"mr-2 h-3.5 w-3.5\" />\n\t\t\t\t\t\t\t\t\t\t\t{date ? format(date, \"PPP\") : \"Pick a date\"}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</PopoverTrigger>\n\t\t\t\t\t\t\t\t\t<PopoverContent className=\"w-auto p-0\" align=\"start\">\n\t\t\t\t\t\t\t\t\t\t<Calendar\n\t\t\t\t\t\t\t\t\t\t\tmode=\"single\"\n\t\t\t\t\t\t\t\t\t\t\tselected={date}\n\t\t\t\t\t\t\t\t\t\t\tonSelect={setDate}\n\t\t\t\t\t\t\t\t\t\t\tinitialFocus\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</PopoverContent>\n\t\t\t\t\t\t\t\t</Popover>\n\t\t\t\t\t\t\t</StandardFormField>\n\n\t\t\t\t\t\t\t<StandardFormField\n\t\t\t\t\t\t\t\tlabel={timeMode === \"window\" ? \"Window Start\" : \"Start Time\"}\n\t\t\t\t\t\t\t\thtmlFor=\"start-time\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\tid=\"start-time\"\n\t\t\t\t\t\t\t\t\ttype=\"time\"\n\t\t\t\t\t\t\t\t\tvalue={startTime}\n\t\t\t\t\t\t\t\t\tonChange={(e) => setStartTime(e.target.value)}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tclassName=\"h-9\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</StandardFormField>\n\n\t\t\t\t\t\t\t<StandardFormField\n\t\t\t\t\t\t\t\tlabel={\n\t\t\t\t\t\t\t\t\ttimeMode === \"window\"\n\t\t\t\t\t\t\t\t\t\t? \"Window Duration\"\n\t\t\t\t\t\t\t\t\t\t: \"Duration (minutes)\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\thtmlFor=\"duration\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{timeMode === \"window\" ? (\n\t\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\t\tvalue={windowDuration}\n\t\t\t\t\t\t\t\t\t\tonValueChange={setWindowDuration}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<SelectTrigger id=\"duration\" className=\"h-9\">\n\t\t\t\t\t\t\t\t\t\t\t<SelectValue />\n\t\t\t\t\t\t\t\t\t\t</SelectTrigger>\n\t\t\t\t\t\t\t\t\t\t<SelectContent>\n\t\t\t\t\t\t\t\t\t\t\t<SelectItem value=\"15\">15 minutes</SelectItem>\n\t\t\t\t\t\t\t\t\t\t\t<SelectItem value=\"30\">30 minutes</SelectItem>\n\t\t\t\t\t\t\t\t\t\t\t<SelectItem value=\"60\">1 hour</SelectItem>\n\t\t\t\t\t\t\t\t\t\t\t<SelectItem value=\"120\">2 hours (recommended)</SelectItem>\n\t\t\t\t\t\t\t\t\t\t\t<SelectItem value=\"240\">4 hours</SelectItem>\n\t\t\t\t\t\t\t\t\t\t\t<SelectItem value=\"480\">8 hours (all day)</SelectItem>\n\t\t\t\t\t\t\t\t\t\t</SelectContent>\n\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\tid=\"duration\"\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\tvalue={exactDuration}\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => setExactDuration(e.target.value)}\n\t\t\t\t\t\t\t\t\t\tmin=\"15\"\n\t\t\t\t\t\t\t\t\t\tstep=\"15\"\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\tclassName=\"h-9\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</StandardFormField>\n\t\t\t\t\t\t</StandardFormRow>\n\n\t\t\t\t\t\t{/* Time Window Visual Display */}\n\t\t\t\t\t\t{calculateEndTime && (\n\t\t\t\t\t\t\t<div className=\"p-3 rounded-lg bg-primary/5 border border-primary/20\">\n\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-between text-sm\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t<Clock className=\"h-4 w-4 text-primary\" />\n\t\t\t\t\t\t\t\t\t\t<span className=\"font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t{timeMode === \"window\"\n\t\t\t\t\t\t\t\t\t\t\t\t? \"Arrival Window:\"\n\t\t\t\t\t\t\t\t\t\t\t\t: \"Scheduled Time:\"}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"font-semibold\">\n\t\t\t\t\t\t\t\t\t\t{format(\n\t\t\t\t\t\t\t\t\t\t\tnew Date(\n\t\t\t\t\t\t\t\t\t\t\t\tdate!.setHours(\n\t\t\t\t\t\t\t\t\t\t\t\t\tparseInt(startTime.split(\":\")[0]),\n\t\t\t\t\t\t\t\t\t\t\t\t\tparseInt(startTime.split(\":\")[1]),\n\t\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\t\"h:mm a\",\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{\" - \"}\n\t\t\t\t\t\t\t\t\t\t{format(calculateEndTime, \"h:mm a\")}\n\t\t\t\t\t\t\t\t\t\t{timeMode === \"window\" && (\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs text-muted-foreground ml-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t(\n\t\t\t\t\t\t\t\t\t\t\t\t{windowDuration === \"120\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t? \"2 hr\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t: windowDuration === \"60\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"1 hr\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: windowDuration === \"240\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"4 hr\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: windowDuration === \"480\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"8 hr\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: `${windowDuration} min`}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\twindow)\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\n\t\t\t\t{/* Customer & Location */}\n\t\t\t\t<Card>\n\t\t\t\t\t<CardHeader className=\"pb-3\">\n\t\t\t\t\t\t<CardTitle className=\"text-base\">Customer & Location</CardTitle>\n\t\t\t\t\t</CardHeader>\n\t\t\t\t\t<CardContent className=\"space-y-3\">\n\t\t\t\t\t\t<StandardFormRow cols={2}>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<CustomerAutocomplete\n\t\t\t\t\t\t\t\t\tvalue={customerId}\n\t\t\t\t\t\t\t\t\tonChange={(newCustomerId) =>\n\t\t\t\t\t\t\t\t\t\tsetCustomerId(newCustomerId || \"\")\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tplaceholder=\"Search for customer...\"\n\t\t\t\t\t\t\t\t\tlabel=\"Customer\"\n\t\t\t\t\t\t\t\t\tdisabled={!!linkedJob}\n\t\t\t\t\t\t\t\t\tshowRecent={true}\n\t\t\t\t\t\t\t\t\tshowCreateNew={true}\n\t\t\t\t\t\t\t\t\tonCreateNew={() => setIsCreateCustomerModalOpen(true)}\n\t\t\t\t\t\t\t\t\terror={!customerId && !!linkedJob}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<StandardFormField label=\"Property\" htmlFor=\"property\" required>\n\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\tvalue={propertyId}\n\t\t\t\t\t\t\t\t\tonValueChange={setPropertyId}\n\t\t\t\t\t\t\t\t\tdisabled={!customerId || !!linkedJob}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<SelectTrigger id=\"property\" className=\"h-9\">\n\t\t\t\t\t\t\t\t\t\t<SelectValue placeholder=\"Select property\" />\n\t\t\t\t\t\t\t\t\t</SelectTrigger>\n\t\t\t\t\t\t\t\t\t<SelectContent>\n\t\t\t\t\t\t\t\t\t\t{filteredProperties.map((property) => (\n\t\t\t\t\t\t\t\t\t\t\t<SelectItem key={property.id} value={property.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t{property.address}, {property.city}\n\t\t\t\t\t\t\t\t\t\t\t</SelectItem>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</SelectContent>\n\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t</StandardFormField>\n\t\t\t\t\t\t</StandardFormRow>\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\n\t\t\t\t{/* Team Assignment - Enhanced with Multi-select */}\n\t\t\t\t<Card>\n\t\t\t\t\t<CardHeader className=\"pb-3\">\n\t\t\t\t\t\t<CardTitle className=\"text-base flex items-center gap-2\">\n\t\t\t\t\t\t\t<Users className=\"h-4 w-4\" />\n\t\t\t\t\t\t\tTeam Assignment\n\t\t\t\t\t\t</CardTitle>\n\t\t\t\t\t\t<CardDescription>\n\t\t\t\t\t\t\t{appointmentType === \"job\"\n\t\t\t\t\t\t\t\t? \"Assign technicians based on skills and location\"\n\t\t\t\t\t\t\t\t: \"Select team members for this appointment\"}\n\t\t\t\t\t\t</CardDescription>\n\t\t\t\t\t</CardHeader>\n\t\t\t\t\t<CardContent className=\"space-y-3\">\n\t\t\t\t\t\t<StandardFormRow cols={appointmentType === \"job\" ? 3 : 2}>\n\t\t\t\t\t\t\t<StandardFormField\n\t\t\t\t\t\t\t\tlabel={appointmentType === \"job\" ? \"Technician\" : \"Team Member\"}\n\t\t\t\t\t\t\t\thtmlFor=\"assignedTo\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\t\t\tvalue={assignedTo[0]}\n\t\t\t\t\t\t\t\t\tonValueChange={(value) => setAssignedTo(value ? [value] : [])}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<SelectTrigger id=\"assignedTo\" className=\"h-9\">\n\t\t\t\t\t\t\t\t\t\t<SelectValue placeholder=\"Select team member (optional)\" />\n\t\t\t\t\t\t\t\t\t</SelectTrigger>\n\t\t\t\t\t\t\t\t\t<SelectContent>\n\t\t\t\t\t\t\t\t\t\t{suggestedTechnicians.map((member) => (\n\t\t\t\t\t\t\t\t\t\t\t<SelectItem key={member.id} value={member.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t{member.full_name || member.email}\n\t\t\t\t\t\t\t\t\t\t\t</SelectItem>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</SelectContent>\n\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t</StandardFormField>\n\n\t\t\t\t\t\t\t{appointmentType === \"job\" && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<StandardFormField\n\t\t\t\t\t\t\t\t\t\tlabel=\"Est. Hours\"\n\t\t\t\t\t\t\t\t\t\thtmlFor=\"estimatedHours\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\t\tid=\"estimatedHours\"\n\t\t\t\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\t\t\t\tvalue={estimatedHours}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setEstimatedHours(e.target.value)}\n\t\t\t\t\t\t\t\t\t\t\tmin=\"0.5\"\n\t\t\t\t\t\t\t\t\t\t\tstep=\"0.5\"\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"h-9\"\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</StandardFormField>\n\n\t\t\t\t\t\t\t\t\t<StandardFormField label=\"Team Size\" htmlFor=\"teamSize\">\n\t\t\t\t\t\t\t\t\t\t<Select value={teamSize} onValueChange={setTeamSize}>\n\t\t\t\t\t\t\t\t\t\t\t<SelectTrigger id=\"teamSize\" className=\"h-9\">\n\t\t\t\t\t\t\t\t\t\t\t\t<SelectValue />\n\t\t\t\t\t\t\t\t\t\t\t</SelectTrigger>\n\t\t\t\t\t\t\t\t\t\t\t<SelectContent>\n\t\t\t\t\t\t\t\t\t\t\t\t<SelectItem value=\"1\">1 technician</SelectItem>\n\t\t\t\t\t\t\t\t\t\t\t\t<SelectItem value=\"2\">2 technicians</SelectItem>\n\t\t\t\t\t\t\t\t\t\t\t\t<SelectItem value=\"3\">3 technicians</SelectItem>\n\t\t\t\t\t\t\t\t\t\t\t\t<SelectItem value=\"4\">4+ technicians</SelectItem>\n\t\t\t\t\t\t\t\t\t\t\t</SelectContent>\n\t\t\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t\t\t</StandardFormField>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t<StandardFormField label=\"Status\" htmlFor=\"status\">\n\t\t\t\t\t\t\t\t<Select value={status} onValueChange={setStatus}>\n\t\t\t\t\t\t\t\t\t<SelectTrigger id=\"status\" className=\"h-9\">\n\t\t\t\t\t\t\t\t\t\t<SelectValue />\n\t\t\t\t\t\t\t\t\t</SelectTrigger>\n\t\t\t\t\t\t\t\t\t<SelectContent>\n\t\t\t\t\t\t\t\t\t\t<SelectItem value=\"scheduled\">Scheduled</SelectItem>\n\t\t\t\t\t\t\t\t\t\t<SelectItem value=\"confirmed\">Confirmed</SelectItem>\n\t\t\t\t\t\t\t\t\t\t<SelectItem value=\"pending\">Pending</SelectItem>\n\t\t\t\t\t\t\t\t\t</SelectContent>\n\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t</StandardFormField>\n\t\t\t\t\t\t</StandardFormRow>\n\n\t\t\t\t\t\t{appointmentType === \"job\" && (\n\t\t\t\t\t\t\t<StandardFormField\n\t\t\t\t\t\t\t\tlabel=\"Special Requirements / Tools Needed\"\n\t\t\t\t\t\t\t\thtmlFor=\"specialRequirements\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\t\tid=\"specialRequirements\"\n\t\t\t\t\t\t\t\t\tvalue={specialRequirements}\n\t\t\t\t\t\t\t\t\tonChange={(e) => setSpecialRequirements(e.target.value)}\n\t\t\t\t\t\t\t\t\tplaceholder=\"e.g., Ladder truck required, asbestos certification needed, bilingual technician...\"\n\t\t\t\t\t\t\t\t\trows={2}\n\t\t\t\t\t\t\t\t\tclassName=\"resize-none text-sm\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</StandardFormField>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\n\t\t\t\t{/* Customer Notifications */}\n\t\t\t\t<Card>\n\t\t\t\t\t<CardHeader className=\"pb-3\">\n\t\t\t\t\t\t<CardTitle className=\"text-base flex items-center gap-2\">\n\t\t\t\t\t\t\t<Bell className=\"h-4 w-4\" />\n\t\t\t\t\t\t\tCustomer Notifications\n\t\t\t\t\t\t</CardTitle>\n\t\t\t\t\t</CardHeader>\n\t\t\t\t\t<CardContent className=\"space-y-3\">\n\t\t\t\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t\t\t\t<div className=\"space-y-0.5\">\n\t\t\t\t\t\t\t\t<Label\n\t\t\t\t\t\t\t\t\thtmlFor=\"customerNotifications\"\n\t\t\t\t\t\t\t\t\tclassName=\"text-sm font-medium\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tSend Confirmation\n\t\t\t\t\t\t\t\t</Label>\n\t\t\t\t\t\t\t\t<p className=\"text-xs text-muted-foreground\">\n\t\t\t\t\t\t\t\t\tEmail/SMS confirmation to customer after booking\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Switch\n\t\t\t\t\t\t\t\tid=\"customerNotifications\"\n\t\t\t\t\t\t\t\tchecked={customerNotifications}\n\t\t\t\t\t\t\t\tonCheckedChange={setCustomerNotifications}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<Separator />\n\n\t\t\t\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t\t\t\t<div className=\"space-y-0.5\">\n\t\t\t\t\t\t\t\t<Label htmlFor=\"sendReminder\" className=\"text-sm font-medium\">\n\t\t\t\t\t\t\t\t\tSend Reminder\n\t\t\t\t\t\t\t\t</Label>\n\t\t\t\t\t\t\t\t<p className=\"text-xs text-muted-foreground\">\n\t\t\t\t\t\t\t\t\tReminder 24 hours before scheduled time\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Switch\n\t\t\t\t\t\t\t\tid=\"sendReminder\"\n\t\t\t\t\t\t\t\tchecked={sendReminder}\n\t\t\t\t\t\t\t\tonCheckedChange={setSendReminder}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\n\t\t\t\t{/* Actions */}\n\t\t\t\t<div className=\"flex items-center justify-between gap-2 pt-2\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\tonClick={() => router.back()}\n\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t>\n\t\t\t\t\t\tCancel\n\t\t\t\t\t</Button>\n\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t<Badge variant=\"outline\" className=\"text-xs\">\n\t\t\t\t\t\t\t{appointmentType === \"job\"\n\t\t\t\t\t\t\t\t? \"Job Appointment\"\n\t\t\t\t\t\t\t\t: appointmentType === \"meeting\"\n\t\t\t\t\t\t\t\t\t? \"Meeting\"\n\t\t\t\t\t\t\t\t\t: \"Event\"}\n\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t<Button type=\"submit\" disabled={isSubmitting} size=\"default\">\n\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t<Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{isSubmitting ? \"Creating...\" : \"Create Appointment\"}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</form>\n\n\t\t\t{/* Customer Creation Modal */}\n\t\t\t<CustomerCreateModal\n\t\t\t\topen={isCreateCustomerModalOpen}\n\t\t\t\tonOpenChange={setIsCreateCustomerModalOpen}\n\t\t\t\tonCustomerCreated={(customer: CustomerOption) => {\n\t\t\t\t\t// Set the newly created customer as selected\n\t\t\t\t\tsetCustomerId(customer.id);\n\t\t\t\t\t// Close the modal\n\t\t\t\t\tsetIsCreateCustomerModalOpen(false);\n\t\t\t\t\t// Show success message\n\t\t\t\t\ttoast.success(\"Customer created successfully\");\n\t\t\t\t}}\n\t\t\t/>\n\t\t</div>\n\t);\n}\n"],"names":[],"mappings":"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","ignoreList":[0]}