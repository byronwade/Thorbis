{"version":3,"sources":["../../../../../../apps/web/src/lib/formatters.ts","../../../../../../apps/web/src/lib/datatable/custom-column-renderer.tsx","../../../../../../apps/web/src/lib/stores/custom-columns-store.ts","../../../../../../apps/web/src/lib/stores/datatable-columns-store.ts","../../../../../../apps/web/src/lib/stores/archive-store.ts","../../../../../../node_modules/.pnpm/lucide-react%400.552.0_react%4019.2.0/node_modules/lucide-react/src/icons/funnel.ts","../../../../../../node_modules/.pnpm/lucide-react%400.552.0_react%4019.2.0/node_modules/lucide-react/src/icons/eye-off.ts","../../../../../../node_modules/.pnpm/lucide-react%400.552.0_react%4019.2.0/node_modules/lucide-react/src/icons/list.ts","../../../../../../apps/web/src/components/data/import-export-dropdown-lazy.tsx","../../../../../../node_modules/.pnpm/lucide-react%400.552.0_react%4019.2.0/node_modules/lucide-react/src/icons/square-kanban.ts","../../../../../../node_modules/.pnpm/lucide-react%400.552.0_react%4019.2.0/node_modules/lucide-react/src/icons/columns-2.ts","../../../../../../apps/web/src/components/layout/section-layout.tsx","../../../../../../apps/web/src/lib/stores/invoice-filters-store.ts","../../../../../../apps/web/src/components/ui/archive-filter-select.tsx","../../../../../../apps/web/src/lib/utils/archive.ts"],"sourcesContent":["/**\n * Centralized Formatting Utilities\n *\n * Professional formatting functions following DRY principles.\n * Handles currency, dates, percentages, and other common formatting needs.\n *\n * Features:\n * - Type-safe with proper null/undefined handling\n * - Consistent formatting across the application\n * - Flexible options for different use cases\n * - Locale-aware formatting\n */\n\nexport type CurrencyFormatOptions = {\n\t/** Minimum fraction digits (default: 0) */\n\tminimumFractionDigits?: number;\n\t/** Maximum fraction digits (default: 2) */\n\tmaximumFractionDigits?: number;\n\t/** Show zero as \"$0.00\" or \"$0\" (default: true) */\n\tshowZero?: boolean;\n\t/** Decimal places (alias for maximumFractionDigits, for convenience) */\n\tdecimals?: number;\n};\n\nexport type DateFormatPreset =\n\t| \"short\" // \"Jan 15, 2024\"\n\t| \"medium\" // \"Jan 15, 2024\"\n\t| \"long\" // \"January 15, 2024\"\n\t| \"full\" // \"Monday, January 15, 2024\"\n\t| \"table\" // \"Jan 15, 2024\" (optimized for tables)\n\t| \"time\" // \"2:30 PM\"\n\t| \"datetime\"; // \"Jan 15, 2024, 2:30 PM\"\n\nexport type DateFormatOptions = {\n\t/** Preset format style */\n\tpreset?: DateFormatPreset;\n\t/** Custom format options (overrides preset) */\n\tcustom?: Intl.DateTimeFormatOptions;\n};\n\n/**\n * Format currency from cents to USD string\n *\n * @param cents - Amount in cents (can be null/undefined)\n * @param options - Formatting options\n * @returns Formatted currency string (e.g., \"$1,234.56\")\n *\n * @example\n * formatCurrency(123456) // \"$1,234.56\"\n * formatCurrency(null) // \"$0.00\"\n * formatCurrency(123456, { minimumFractionDigits: 0 }) // \"$1,235\"\n */\nexport function formatCurrency(\n\tcents: number | null | undefined,\n\toptions: CurrencyFormatOptions = {},\n): string {\n\tconst {\n\t\tminimumFractionDigits = 0,\n\t\tmaximumFractionDigits = options.decimals ?? 2,\n\t\tshowZero = true,\n\t\tdecimals,\n\t} = options;\n\n\t// Use decimals if provided, otherwise use maximumFractionDigits\n\tconst finalMaxFractionDigits =\n\t\tdecimals !== undefined ? decimals : maximumFractionDigits;\n\tconst finalMinFractionDigits =\n\t\tdecimals !== undefined ? decimals : minimumFractionDigits;\n\n\tif (cents === null || cents === undefined) {\n\t\treturn showZero\n\t\t\t? new Intl.NumberFormat(\"en-US\", {\n\t\t\t\t\tstyle: \"currency\",\n\t\t\t\t\tcurrency: \"USD\",\n\t\t\t\t\tminimumFractionDigits: 0,\n\t\t\t\t\tmaximumFractionDigits: 0,\n\t\t\t\t}).format(0)\n\t\t\t: \"$0.00\";\n\t}\n\n\treturn new Intl.NumberFormat(\"en-US\", {\n\t\tstyle: \"currency\",\n\t\tcurrency: \"USD\",\n\t\tminimumFractionDigits: finalMinFractionDigits,\n\t\tmaximumFractionDigits: finalMaxFractionDigits,\n\t}).format(cents / 100);\n}\n\n/**\n * Format currency from dollars (not cents)\n *\n * @param amount - Amount in dollars (can be null/undefined)\n * @param options - Formatting options\n * @returns Formatted currency string\n *\n * @example\n * formatCurrencyFromDollars(1234.56) // \"$1,234.56\"\n * formatCurrencyFromDollars(null) // \"$0.00\"\n */\nexport function formatCurrencyFromDollars(\n\tamount: number | null | undefined,\n\toptions: CurrencyFormatOptions = {},\n): string {\n\tconst {\n\t\tminimumFractionDigits = 0,\n\t\tmaximumFractionDigits = options.decimals ?? 2,\n\t\tshowZero = true,\n\t\tdecimals,\n\t} = options;\n\n\t// Use decimals if provided, otherwise use maximumFractionDigits\n\tconst finalMaxFractionDigits =\n\t\tdecimals !== undefined ? decimals : maximumFractionDigits;\n\tconst finalMinFractionDigits =\n\t\tdecimals !== undefined ? decimals : minimumFractionDigits;\n\n\tif (amount === null || amount === undefined || Number.isNaN(amount)) {\n\t\treturn showZero\n\t\t\t? new Intl.NumberFormat(\"en-US\", {\n\t\t\t\t\tstyle: \"currency\",\n\t\t\t\t\tcurrency: \"USD\",\n\t\t\t\t\tminimumFractionDigits: 0,\n\t\t\t\t\tmaximumFractionDigits: 0,\n\t\t\t\t}).format(0)\n\t\t\t: \"$0.00\";\n\t}\n\n\treturn new Intl.NumberFormat(\"en-US\", {\n\t\tstyle: \"currency\",\n\t\tcurrency: \"USD\",\n\t\tminimumFractionDigits: finalMinFractionDigits,\n\t\tmaximumFractionDigits: finalMaxFractionDigits,\n\t}).format(amount);\n}\n\n/**\n * Format date with flexible presets or custom options\n *\n * @param date - Date value (Date, number, string, or null)\n * @param options - Formatting options\n * @returns Formatted date string or \"—\" if null\n *\n * @example\n * formatDate(new Date()) // \"Jan 15, 2024\"\n * formatDate(new Date(), { preset: \"long\" }) // \"January 15, 2024\"\n * formatDate(null) // \"—\"\n */\nexport function formatDate(\n\tdate: Date | number | string | null | undefined,\n\toptions: DateFormatOptions | DateFormatPreset | string = {},\n): string {\n\tif (!date) {\n\t\treturn \"—\";\n\t}\n\n\tconst dateObj =\n\t\ttypeof date === \"number\" || typeof date === \"string\"\n\t\t\t? new Date(date)\n\t\t\t: date;\n\n\tif (Number.isNaN(dateObj.getTime())) {\n\t\treturn \"—\";\n\t}\n\n\t// Handle backward compatibility: string format parameter\n\tlet preset: DateFormatPreset = \"table\";\n\tlet custom: Intl.DateTimeFormatOptions | undefined;\n\n\tif (typeof options === \"string\") {\n\t\t// Legacy format: formatDate(date, \"short\")\n\t\tpreset = (options as DateFormatPreset) || \"table\";\n\t} else {\n\t\tpreset = options.preset || \"table\";\n\t\tcustom = options.custom;\n\t}\n\n\t// Preset configurations\n\tconst presetConfigs: Record<DateFormatPreset, Intl.DateTimeFormatOptions> = {\n\t\tshort: {\n\t\t\tmonth: \"short\",\n\t\t\tday: \"numeric\",\n\t\t\tyear: \"numeric\",\n\t\t},\n\t\tmedium: {\n\t\t\tmonth: \"short\",\n\t\t\tday: \"numeric\",\n\t\t\tyear: \"numeric\",\n\t\t},\n\t\tlong: {\n\t\t\tmonth: \"long\",\n\t\t\tday: \"numeric\",\n\t\t\tyear: \"numeric\",\n\t\t},\n\t\tfull: {\n\t\t\tweekday: \"long\",\n\t\t\tmonth: \"long\",\n\t\t\tday: \"numeric\",\n\t\t\tyear: \"numeric\",\n\t\t},\n\t\ttable: {\n\t\t\tmonth: \"short\",\n\t\t\tday: \"numeric\",\n\t\t\tyear: \"numeric\",\n\t\t},\n\t\ttime: {\n\t\t\thour: \"numeric\",\n\t\t\tminute: \"2-digit\",\n\t\t\thour12: true,\n\t\t},\n\t\tdatetime: {\n\t\t\tmonth: \"short\",\n\t\t\tday: \"numeric\",\n\t\t\tyear: \"numeric\",\n\t\t\thour: \"numeric\",\n\t\t\tminute: \"2-digit\",\n\t\t\thour12: true,\n\t\t},\n\t};\n\n\tconst formatOptions = custom || presetConfigs[preset];\n\n\treturn new Intl.DateTimeFormat(\"en-US\", formatOptions).format(dateObj);\n}\n\n/**\n * Format date and time together\n *\n * @param date - Date value\n * @returns Formatted date + time string\n *\n * @example\n * formatDateTime(new Date()) // \"Jan 15, 2024, 2:30 PM\"\n */\nexport function formatDateTime(\n\tdate: Date | number | string | null | undefined,\n): string {\n\treturn formatDate(date, { preset: \"datetime\" });\n}\n\n/**\n * Format time only (no date)\n *\n * @param date - Date value\n * @returns Formatted time string (e.g., \"2:30 PM\")\n *\n * @example\n * formatTime(new Date()) // \"2:30 PM\"\n */\nexport function formatTime(\n\tdate: Date | number | string | null | undefined,\n): string {\n\treturn formatDate(date, { preset: \"time\" });\n}\n\n/**\n * Format date range (start → end)\n *\n * @param start - Start date\n * @param end - End date (optional)\n * @returns Formatted date range string\n *\n * @example\n * formatDateRange(new Date(\"2024-01-15\"), new Date(\"2024-01-20\")) // \"Jan 15 → Jan 20, 2024\"\n */\nexport function formatDateRange(\n\tstart: Date | number | string | null | undefined,\n\tend?: Date | number | string | null | undefined,\n): string {\n\tif (!start) {\n\t\treturn \"—\";\n\t}\n\n\tconst startDate =\n\t\ttypeof start === \"number\" || typeof start === \"string\"\n\t\t\t? new Date(start)\n\t\t\t: start;\n\n\tif (Number.isNaN(startDate.getTime())) {\n\t\treturn \"—\";\n\t}\n\n\tif (!end) {\n\t\treturn formatDate(startDate, { preset: \"short\" });\n\t}\n\n\tconst endDate =\n\t\ttypeof end === \"number\" || typeof end === \"string\" ? new Date(end) : end;\n\n\tif (Number.isNaN(endDate.getTime())) {\n\t\treturn formatDate(startDate, { preset: \"short\" });\n\t}\n\n\t// Check if same day\n\tconst sameDay =\n\t\tstartDate.getFullYear() === endDate.getFullYear() &&\n\t\tstartDate.getMonth() === endDate.getMonth() &&\n\t\tstartDate.getDate() === endDate.getDate();\n\n\tif (sameDay) {\n\t\treturn formatDate(startDate, { preset: \"short\" });\n\t}\n\n\t// Format range\n\tconst startFormatted = new Intl.DateTimeFormat(\"en-US\", {\n\t\tmonth: \"short\",\n\t\tday: \"numeric\",\n\t}).format(startDate);\n\n\tconst endFormatted = new Intl.DateTimeFormat(\"en-US\", {\n\t\tmonth: \"short\",\n\t\tday: \"numeric\",\n\t\tyear: \"numeric\",\n\t}).format(endDate);\n\n\treturn `${startFormatted} → ${endFormatted}`;\n}\n\n/**\n * Format percentage value\n *\n * @param value - Percentage value (0-100)\n * @param decimals - Number of decimal places (default: 0)\n * @returns Formatted percentage string\n *\n * @example\n * formatPercentage(45.5) // \"46%\"\n * formatPercentage(45.5, 1) // \"45.5%\"\n */\nfunction formatPercentage(\n\tvalue: number | null | undefined,\n\tdecimals = 0,\n): string {\n\tif (value === null || value === undefined) {\n\t\treturn \"—\";\n\t}\n\n\treturn `${value.toFixed(decimals)}%`;\n}\n\n/**\n * Format hours (decimal to \"Xh Ym\" format)\n *\n * @param hours - Hours as decimal number\n * @returns Formatted hours string\n *\n * @example\n * formatHours(2.5) // \"2h 30m\"\n * formatHours(1.25) // \"1h 15m\"\n */\nfunction formatHours(hours: number | null | undefined): string {\n\tif (hours === null || hours === undefined) {\n\t\treturn \"0h\";\n\t}\n\n\tconst wholeHours = Math.floor(hours);\n\tconst minutes = Math.round((hours - wholeHours) * 60);\n\n\tif (minutes === 0) {\n\t\treturn `${wholeHours}h`;\n\t}\n\n\treturn `${wholeHours}h ${minutes}m`;\n}\n\n/**\n * Format number with thousand separators\n *\n * @param value - Number value\n * @param decimals - Number of decimal places (default: 0)\n * @returns Formatted number string\n *\n * @example\n * formatNumber(1234567) // \"1,234,567\"\n * formatNumber(1234.56, 2) // \"1,234.56\"\n */\nfunction formatNumber(\n\tvalue: number | null | undefined,\n\tdecimals = 0,\n): string {\n\tif (value === null || value === undefined) {\n\t\treturn \"0\";\n\t}\n\n\treturn new Intl.NumberFormat(\"en-US\", {\n\t\tminimumFractionDigits: decimals,\n\t\tmaximumFractionDigits: decimals,\n\t}).format(value);\n}\n","/**\n * Custom Column Renderer\n *\n * Renders custom column values based on format type.\n * Handles nested field access and formatting.\n */\n\nimport { format } from \"date-fns\";\nimport { Badge } from \"@/components/ui/badge\";\n\n/**\n * Get nested value from object using dot notation path\n */\nfunction getNestedValue(obj: any, path: string): any {\n\treturn path.split(\".\").reduce((current, key) => current?.[key], obj);\n}\n\n/**\n * Format currency value\n */\nfunction formatCurrency(value: any): string {\n\tif (value === null || value === undefined || value === \"\") {\n\t\treturn \"—\";\n\t}\n\tconst num = Number(value);\n\tif (Number.isNaN(num)) {\n\t\treturn \"—\";\n\t}\n\treturn new Intl.NumberFormat(\"en-US\", {\n\t\tstyle: \"currency\",\n\t\tcurrency: \"USD\",\n\t}).format(num);\n}\n\n/**\n * Format number value\n */\nfunction formatNumber(value: any): string {\n\tif (value === null || value === undefined || value === \"\") {\n\t\treturn \"—\";\n\t}\n\tconst num = Number(value);\n\tif (Number.isNaN(num)) {\n\t\treturn \"—\";\n\t}\n\treturn new Intl.NumberFormat(\"en-US\").format(num);\n}\n\n/**\n * Format date value\n */\nfunction formatDate(value: any): string {\n\tif (!value) {\n\t\treturn \"—\";\n\t}\n\ttry {\n\t\tconst date = new Date(value);\n\t\tif (Number.isNaN(date.getTime())) {\n\t\t\treturn \"—\";\n\t\t}\n\t\treturn format(date, \"MMM d, yyyy h:mm a\");\n\t} catch {\n\t\treturn \"—\";\n\t}\n}\n\n/**\n * Render custom column based on format\n */\nexport function renderCustomColumn(\n\titem: any,\n\tfieldPath: string,\n\tcolumnFormat?: string,\n): React.ReactNode {\n\tconst value = getNestedValue(item, fieldPath);\n\n\t// Handle null/undefined values\n\tif (value === null || value === undefined || value === \"\") {\n\t\treturn <span className=\"text-muted-foreground text-xs\">—</span>;\n\t}\n\n\tswitch (columnFormat) {\n\t\tcase \"date\":\n\t\t\treturn <span className=\"text-xs\">{formatDate(value)}</span>;\n\n\t\tcase \"currency\":\n\t\t\treturn (\n\t\t\t\t<span className=\"font-mono text-xs tabular-nums\">\n\t\t\t\t\t{formatCurrency(value)}\n\t\t\t\t</span>\n\t\t\t);\n\n\t\tcase \"number\":\n\t\t\treturn (\n\t\t\t\t<span className=\"font-mono text-xs tabular-nums\">\n\t\t\t\t\t{formatNumber(value)}\n\t\t\t\t</span>\n\t\t\t);\n\n\t\tcase \"badge\":\n\t\t\t// Handle boolean values\n\t\t\tif (typeof value === \"boolean\") {\n\t\t\t\treturn (\n\t\t\t\t\t<Badge variant={value ? \"default\" : \"secondary\"}>\n\t\t\t\t\t\t{value ? \"Yes\" : \"No\"}\n\t\t\t\t\t</Badge>\n\t\t\t\t);\n\t\t\t}\n\t\t\t// Handle string values as badges\n\t\t\treturn (\n\t\t\t\t<Badge className=\"capitalize\" variant=\"outline\">\n\t\t\t\t\t{String(value).replace(/_/g, \" \")}\n\t\t\t\t</Badge>\n\t\t\t);\n\t\tdefault: {\n\t\t\t// Truncate long text\n\t\t\tconst text = String(value);\n\t\t\tconst truncated = text.length > 50 ? `${text.slice(0, 50)}...` : text;\n\t\t\treturn (\n\t\t\t\t<span className=\"text-xs\" title={text}>\n\t\t\t\t\t{truncated}\n\t\t\t\t</span>\n\t\t\t);\n\t\t}\n\t}\n}\n\n/**\n * Get width class for custom column\n */\nexport function getColumnWidthClass(width?: string): string {\n\tswitch (width) {\n\t\tcase \"sm\":\n\t\t\treturn \"w-32\";\n\t\tcase \"md\":\n\t\t\treturn \"w-48\";\n\t\tcase \"lg\":\n\t\t\treturn \"w-64\";\n\t\tcase \"xl\":\n\t\t\treturn \"w-96\";\n\t\tdefault:\n\t\t\treturn \"flex-1\";\n\t}\n}\n","/**\n * Custom Columns Store - Zustand State Management\n *\n * Performance optimizations:\n * - Lightweight state management with Zustand\n * - No provider wrapper needed\n * - Selective subscriptions prevent unnecessary re-renders\n * - Organized in /src/lib/stores/ directory\n * - Persisted to localStorage for user preferences\n *\n * Manages custom column definitions per entity type for datatables\n */\n\nimport { create } from \"zustand\";\nimport { persist } from \"zustand/middleware\";\n\nexport type CustomColumn = {\n\tid: string;\n\tfieldPath: string; // e.g., \"customer.email\", \"created_at\", \"status\"\n\tlabel: string;\n\twidth?: string; // \"auto\" | \"sm\" | \"md\" | \"lg\" | \"xl\"\n\tformat?: \"text\" | \"date\" | \"currency\" | \"number\" | \"badge\";\n\tsortable?: boolean;\n};\n\ntype CustomColumnsStore = {\n\t// State - custom columns per entity\n\tcolumns: Record<string, CustomColumn[]>; // entity -> columns\n\n\t// Actions\n\taddColumn: (entity: string, column: CustomColumn) => void;\n\tremoveColumn: (entity: string, columnId: string) => void;\n\tupdateColumn: (\n\t\tentity: string,\n\t\tcolumnId: string,\n\t\tupdates: Partial<CustomColumn>,\n\t) => void;\n\treorderColumns: (entity: string, fromIndex: number, toIndex: number) => void;\n\tgetColumns: (entity: string) => CustomColumn[];\n\tclearEntity: (entity: string) => void;\n\tclearAll: () => void;\n};\n\n// Initial state\nconst initialState = {\n\tcolumns: {},\n};\n\n// Create store with persistence\nexport const useCustomColumnsStore = create<CustomColumnsStore>()(\n\tpersist(\n\t\t(set, get) => ({\n\t\t\t...initialState,\n\n\t\t\taddColumn: (entity, column) =>\n\t\t\t\tset((state) => ({\n\t\t\t\t\tcolumns: {\n\t\t\t\t\t\t...state.columns,\n\t\t\t\t\t\t[entity]: [...(state.columns[entity] || []), column],\n\t\t\t\t\t},\n\t\t\t\t})),\n\n\t\t\tremoveColumn: (entity, columnId) =>\n\t\t\t\tset((state) => ({\n\t\t\t\t\tcolumns: {\n\t\t\t\t\t\t...state.columns,\n\t\t\t\t\t\t[entity]: (state.columns[entity] || []).filter(\n\t\t\t\t\t\t\t(col) => col.id !== columnId,\n\t\t\t\t\t\t),\n\t\t\t\t\t},\n\t\t\t\t})),\n\n\t\t\tupdateColumn: (entity, columnId, updates) =>\n\t\t\t\tset((state) => ({\n\t\t\t\t\tcolumns: {\n\t\t\t\t\t\t...state.columns,\n\t\t\t\t\t\t[entity]: (state.columns[entity] || []).map((col) =>\n\t\t\t\t\t\t\tcol.id === columnId ? { ...col, ...updates } : col,\n\t\t\t\t\t\t),\n\t\t\t\t\t},\n\t\t\t\t})),\n\n\t\t\treorderColumns: (entity, fromIndex, toIndex) =>\n\t\t\t\tset((state) => {\n\t\t\t\t\tconst entityColumns = [...(state.columns[entity] || [])];\n\t\t\t\t\tconst [removed] = entityColumns.splice(fromIndex, 1);\n\t\t\t\t\tentityColumns.splice(toIndex, 0, removed);\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tcolumns: {\n\t\t\t\t\t\t\t...state.columns,\n\t\t\t\t\t\t\t[entity]: entityColumns,\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t}),\n\n\t\t\tgetColumns: (entity) => {\n\t\t\t\tconst state = get();\n\t\t\t\treturn state.columns[entity] || [];\n\t\t\t},\n\n\t\t\tclearEntity: (entity) =>\n\t\t\t\tset((state) => {\n\t\t\t\t\tconst { [entity]: _, ...rest } = state.columns;\n\t\t\t\t\treturn { columns: rest };\n\t\t\t\t}),\n\n\t\t\tclearAll: () => set({ columns: {} }),\n\t\t}),\n\t\t{\n\t\t\tname: \"custom-columns-storage\", // localStorage key\n\t\t\tskipHydration: true, // CRITICAL: Prevents hydration mismatch with Next.js 16\n\t\t\tversion: 1,\n\t\t},\n\t),\n);\n","/**\n * DataTable Columns Store - Zustand State Management\n *\n * Performance optimizations:\n * - Lightweight state management with Zustand\n * - No provider wrapper needed\n * - Selective subscriptions prevent unnecessary re-renders\n * - Organized in /src/lib/stores/ directory\n * - Persisted to localStorage for user preferences\n *\n * Manages column visibility and ordering state per entity type (appointments, jobs, customers, etc.)\n */\n\nimport { create } from \"zustand\";\nimport { persist } from \"zustand/middleware\";\n\n// Column visibility state per entity\ntype EntityColumnsState = Record<string, boolean>; // { columnKey: visible }\ntype AllEntitiesState = Record<string, EntityColumnsState>; // { entityType: { columnKey: visible } }\n\n// Column order state per entity\ntype EntityColumnOrder = string[]; // [columnKey1, columnKey2, ...]\ntype AllEntitiesOrderState = Record<string, EntityColumnOrder>; // { entityType: [columnKey1, columnKey2, ...] }\n\ntype DataTableColumnsStore = {\n\t// State - all entity column visibility states\n\tentities: AllEntitiesState;\n\n\t// State - all entity column order states\n\tcolumnOrder: AllEntitiesOrderState;\n\n\t// Actions - Visibility\n\tsetColumnVisibility: (\n\t\tentity: string,\n\t\tcolumnKey: string,\n\t\tvisible: boolean,\n\t) => void;\n\ttoggleColumn: (entity: string, columnKey: string) => void;\n\tshowAllColumns: (entity: string, columnKeys: string[]) => void;\n\thideAllColumns: (entity: string, columnKeys: string[]) => void;\n\tisColumnVisible: (entity: string, columnKey: string) => boolean;\n\tgetVisibleColumns: (entity: string) => string[];\n\n\t// Actions - Ordering\n\tsetColumnOrder: (entity: string, columnOrder: string[]) => void;\n\tgetColumnOrder: (entity: string) => string[] | undefined;\n\treorderColumn: (entity: string, fromIndex: number, toIndex: number) => void;\n\tresetColumnOrder: (entity: string) => void;\n\n\t// General Actions\n\tresetEntity: (entity: string) => void;\n\tinitializeEntity: (entity: string, columns: string[]) => void;\n};\n\n// Initial state\nconst initialState = {\n\tentities: {},\n\tcolumnOrder: {},\n};\n\n// Create store with persistence\nexport const useDataTableColumnsStore = create<DataTableColumnsStore>()(\n\tpersist(\n\t\t(set, get) => ({\n\t\t\t...initialState,\n\n\t\t\t// Visibility Actions\n\t\t\tsetColumnVisibility: (entity, columnKey, visible) =>\n\t\t\t\tset((state) => ({\n\t\t\t\t\tentities: {\n\t\t\t\t\t\t...state.entities,\n\t\t\t\t\t\t[entity]: {\n\t\t\t\t\t\t\t...state.entities[entity],\n\t\t\t\t\t\t\t[columnKey]: visible,\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t})),\n\n\t\t\ttoggleColumn: (entity, columnKey) => {\n\t\t\t\tconst current = get().isColumnVisible(entity, columnKey);\n\t\t\t\tget().setColumnVisibility(entity, columnKey, !current);\n\t\t\t},\n\n\t\t\tshowAllColumns: (entity, columnKeys) =>\n\t\t\t\tset((state) => ({\n\t\t\t\t\tentities: {\n\t\t\t\t\t\t...state.entities,\n\t\t\t\t\t\t[entity]: columnKeys.reduce((acc, key) => {\n\t\t\t\t\t\t\tacc[key] = true;\n\t\t\t\t\t\t\treturn acc;\n\t\t\t\t\t\t}, {} as EntityColumnsState),\n\t\t\t\t\t},\n\t\t\t\t})),\n\n\t\t\thideAllColumns: (entity, columnKeys) =>\n\t\t\t\tset((state) => ({\n\t\t\t\t\tentities: {\n\t\t\t\t\t\t...state.entities,\n\t\t\t\t\t\t[entity]: columnKeys.reduce((acc, key) => {\n\t\t\t\t\t\t\tacc[key] = false;\n\t\t\t\t\t\t\treturn acc;\n\t\t\t\t\t\t}, {} as EntityColumnsState),\n\t\t\t\t\t},\n\t\t\t\t})),\n\n\t\t\tisColumnVisible: (entity, columnKey) => {\n\t\t\t\tconst state = get();\n\t\t\t\t// Default to true if not set\n\t\t\t\treturn state.entities[entity]?.[columnKey] ?? true;\n\t\t\t},\n\n\t\t\tgetVisibleColumns: (entity) => {\n\t\t\t\tconst state = get();\n\t\t\t\tconst entityState = state.entities[entity] || {};\n\t\t\t\treturn Object.entries(entityState)\n\t\t\t\t\t.filter(([, visible]) => visible)\n\t\t\t\t\t.map(([key]) => key);\n\t\t\t},\n\n\t\t\t// Ordering Actions\n\t\t\tsetColumnOrder: (entity, columnOrder) =>\n\t\t\t\tset((state) => ({\n\t\t\t\t\tcolumnOrder: {\n\t\t\t\t\t\t...state.columnOrder,\n\t\t\t\t\t\t[entity]: columnOrder,\n\t\t\t\t\t},\n\t\t\t\t})),\n\n\t\t\tgetColumnOrder: (entity) => {\n\t\t\t\tconst state = get();\n\t\t\t\treturn state.columnOrder[entity];\n\t\t\t},\n\n\t\t\treorderColumn: (entity, fromIndex, toIndex) => {\n\t\t\t\tconst state = get();\n\t\t\t\tconst currentOrder = state.columnOrder[entity];\n\t\t\t\tif (!currentOrder) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tconst newOrder = [...currentOrder];\n\t\t\t\tconst [removed] = newOrder.splice(fromIndex, 1);\n\t\t\t\tnewOrder.splice(toIndex, 0, removed);\n\n\t\t\t\tget().setColumnOrder(entity, newOrder);\n\t\t\t},\n\n\t\t\tresetColumnOrder: (entity) =>\n\t\t\t\tset((state) => {\n\t\t\t\t\tconst { [entity]: _, ...rest } = state.columnOrder;\n\t\t\t\t\treturn { columnOrder: rest };\n\t\t\t\t}),\n\n\t\t\t// General Actions\n\t\t\tresetEntity: (entity) =>\n\t\t\t\tset((state) => {\n\t\t\t\t\tconst { [entity]: _visibility, ...restEntities } = state.entities;\n\t\t\t\t\tconst { [entity]: _order, ...restOrder } = state.columnOrder;\n\t\t\t\t\treturn {\n\t\t\t\t\t\tentities: restEntities,\n\t\t\t\t\t\tcolumnOrder: restOrder,\n\t\t\t\t\t};\n\t\t\t\t}),\n\n\t\t\tinitializeEntity: (entity, columns) => {\n\t\t\t\tconst state = get();\n\t\t\t\tif (!state.entities[entity]) {\n\t\t\t\t\tset((currentState) => ({\n\t\t\t\t\t\tentities: {\n\t\t\t\t\t\t\t...currentState.entities,\n\t\t\t\t\t\t\t[entity]: columns.reduce((acc, key) => {\n\t\t\t\t\t\t\t\tacc[key] = true;\n\t\t\t\t\t\t\t\treturn acc;\n\t\t\t\t\t\t\t}, {} as EntityColumnsState),\n\t\t\t\t\t\t},\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t\t// Initialize column order if not set\n\t\t\t\tif (!state.columnOrder[entity]) {\n\t\t\t\t\tget().setColumnOrder(entity, columns);\n\t\t\t\t}\n\t\t\t},\n\t\t}),\n\t\t{\n\t\t\tname: \"datatable-columns-storage\", // localStorage key\n\t\t\tskipHydration: true, // CRITICAL: Prevents hydration mismatch with Next.js 16\n\t\t\tversion: 2, // Increment version for new state structure\n\t\t},\n\t),\n);\n","/**\n * Archive Store - Zustand State Management\n *\n * Performance optimizations:\n * - Lightweight state management with Zustand\n * - No provider wrapper needed\n * - Selective subscriptions prevent unnecessary re-renders\n * - Persists archive filter preferences to localStorage\n *\n * Manages archive filter state for all datatables\n */\n\nimport { create } from \"zustand\";\nimport { devtools, persist } from \"zustand/middleware\";\nimport type { ArchiveFilter } from \"@/lib/utils/archive\";\n\n// Define entity types that can have archive filters\nexport type ArchivableEntity =\n\t| \"team_members\"\n\t| \"customers\"\n\t| \"jobs\"\n\t| \"equipment\"\n\t| \"materials\"\n\t| \"payments\"\n\t| \"invoices\"\n\t| \"estimates\"\n\t| \"contracts\"\n\t| \"purchase_orders\"\n\t| \"service_agreements\"\n\t| \"maintenance_plans\"\n\t| \"appointments\"\n\t| \"properties\";\n\n// State type\ntype ArchiveStore = {\n\t// Archive filters per entity\n\tfilters: Record<ArchivableEntity, ArchiveFilter>;\n\n\t// Actions\n\tsetFilter: (entity: ArchivableEntity, filter: ArchiveFilter) => void;\n\tgetFilter: (entity: ArchivableEntity) => ArchiveFilter;\n\tresetFilter: (entity: ArchivableEntity) => void;\n\tresetAllFilters: () => void;\n};\n\n// Default filters (all entities default to \"active\" - don't show archived)\nconst defaultFilters: Record<ArchivableEntity, ArchiveFilter> = {\n\tteam_members: \"active\",\n\tcustomers: \"active\",\n\tjobs: \"active\",\n\tequipment: \"active\",\n\tmaterials: \"active\",\n\tpayments: \"active\",\n\tinvoices: \"active\",\n\testimates: \"active\",\n\tcontracts: \"active\",\n\tpurchase_orders: \"active\",\n\tservice_agreements: \"active\",\n\tmaintenance_plans: \"active\",\n\tappointments: \"active\",\n\tproperties: \"active\",\n};\n\n// Create store\nexport const useArchiveStore = create<ArchiveStore>()(\n\tdevtools(\n\t\tpersist(\n\t\t\t(set, get) => ({\n\t\t\t\tfilters: { ...defaultFilters },\n\n\t\t\t\tsetFilter: (entity, filter) =>\n\t\t\t\t\tset((state) => ({\n\t\t\t\t\t\tfilters: {\n\t\t\t\t\t\t\t...state.filters,\n\t\t\t\t\t\t\t[entity]: filter,\n\t\t\t\t\t\t},\n\t\t\t\t\t})),\n\n\t\t\t\tgetFilter: (entity) => {\n\t\t\t\t\tconst state = get();\n\t\t\t\t\treturn state.filters[entity] || \"active\";\n\t\t\t\t},\n\n\t\t\t\tresetFilter: (entity) =>\n\t\t\t\t\tset((state) => ({\n\t\t\t\t\t\tfilters: {\n\t\t\t\t\t\t\t...state.filters,\n\t\t\t\t\t\t\t[entity]: \"active\",\n\t\t\t\t\t\t},\n\t\t\t\t\t})),\n\n\t\t\t\tresetAllFilters: () =>\n\t\t\t\t\tset({\n\t\t\t\t\t\tfilters: { ...defaultFilters },\n\t\t\t\t\t}),\n\t\t\t}),\n\t\t\t{\n\t\t\t\tname: \"archive-filters\", // localStorage key\n\t\t\t\tskipHydration: true, // CRITICAL: Prevents hydration mismatch with Next.js 16\n\t\t\t\tpartialize: (state) => ({ filters: state.filters }), // Persist only filters\n\t\t\t},\n\t\t),\n\t\t{ name: \"ArchiveStore\" }, // DevTools name\n\t),\n);\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z',\n      key: 'sc7q7i',\n    },\n  ],\n];\n\n/**\n * @component @name Funnel\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAgMjBhMSAxIDAgMCAwIC41NTMuODk1bDIgMUExIDEgMCAwIDAgMTQgMjF2LTdhMiAyIDAgMCAxIC41MTctMS4zNDFMMjEuNzQgNC42N0ExIDEgMCAwIDAgMjEgM0gzYTEgMSAwIDAgMC0uNzQyIDEuNjdsNy4yMjUgNy45ODlBMiAyIDAgMCAxIDEwIDE0eiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/funnel\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Funnel = createLucideIcon('funnel', __iconNode);\n\nexport default Funnel;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49',\n      key: 'ct8e1f',\n    },\n  ],\n  ['path', { d: 'M14.084 14.158a3 3 0 0 1-4.242-4.242', key: '151rxh' }],\n  [\n    'path',\n    {\n      d: 'M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143',\n      key: '13bj9a',\n    },\n  ],\n  ['path', { d: 'm2 2 20 20', key: '1ooewy' }],\n];\n\n/**\n * @component @name EyeOff\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAuNzMzIDUuMDc2YTEwLjc0NCAxMC43NDQgMCAwIDEgMTEuMjA1IDYuNTc1IDEgMSAwIDAgMSAwIC42OTYgMTAuNzQ3IDEwLjc0NyAwIDAgMS0xLjQ0NCAyLjQ5IiAvPgogIDxwYXRoIGQ9Ik0xNC4wODQgMTQuMTU4YTMgMyAwIDAgMS00LjI0Mi00LjI0MiIgLz4KICA8cGF0aCBkPSJNMTcuNDc5IDE3LjQ5OWExMC43NSAxMC43NSAwIDAgMS0xNS40MTctNS4xNTEgMSAxIDAgMCAxIDAtLjY5NiAxMC43NSAxMC43NSAwIDAgMSA0LjQ0Ni01LjE0MyIgLz4KICA8cGF0aCBkPSJtMiAyIDIwIDIwIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/eye-off\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst EyeOff = createLucideIcon('eye-off', __iconNode);\n\nexport default EyeOff;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M3 5h.01', key: '18ugdj' }],\n  ['path', { d: 'M3 12h.01', key: 'nlz23k' }],\n  ['path', { d: 'M3 19h.01', key: 'noohij' }],\n  ['path', { d: 'M8 5h13', key: '1pao27' }],\n  ['path', { d: 'M8 12h13', key: '1za7za' }],\n  ['path', { d: 'M8 19h13', key: 'm83p4d' }],\n];\n\n/**\n * @component @name List\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyA1aC4wMSIgLz4KICA8cGF0aCBkPSJNMyAxMmguMDEiIC8+CiAgPHBhdGggZD0iTTMgMTloLjAxIiAvPgogIDxwYXRoIGQ9Ik04IDVoMTMiIC8+CiAgPHBhdGggZD0iTTggMTJoMTMiIC8+CiAgPHBhdGggZD0iTTggMTloMTMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/list\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst List = createLucideIcon('list', __iconNode);\n\nexport default List;\n","/**\n * ImportExportDropdown - Lazy Loaded Wrapper\n *\n * Performance optimization:\n * - Dynamically imports the full import/export dropdown component\n * - Only loads when user interacts with the dropdown (click)\n * - Reduces initial bundle by ~25KB\n * - Shows ellipsis button immediately, loads menu on demand\n */\n\n\"use client\";\n\nimport { MoreVertical } from \"lucide-react\";\nimport dynamic from \"next/dynamic\";\nimport { Button } from \"@/components/ui/button\";\nimport type { DataType } from \"./import-export-dropdown\";\n\nconst ImportExportDropdown = dynamic(\n\t() =>\n\t\timport(\"./import-export-dropdown\").then((mod) => ({\n\t\t\tdefault: mod.ImportExportDropdown,\n\t\t})),\n\t{\n\t\tloading: () => (\n\t\t\t<Button variant=\"ghost\" size=\"icon\" disabled>\n\t\t\t\t<MoreVertical className=\"size-4\" />\n\t\t\t</Button>\n\t\t),\n\t\tssr: false, // Dropdown menu requires browser environment for positioning\n\t},\n);\n\ntype ImportExportDropdownLazyProps = {\n\tdataType: DataType;\n\tselectedIds?: string[];\n\tonBulkAction?: (action: string, ids: string[]) => void;\n};\n\nexport function ImportExportDropdownLazy(props: ImportExportDropdownLazyProps) {\n\treturn <ImportExportDropdown {...props} />;\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { width: '18', height: '18', x: '3', y: '3', rx: '2', key: 'afitv7' }],\n  ['path', { d: 'M8 7v7', key: '1x2jlm' }],\n  ['path', { d: 'M12 7v4', key: 'xawao1' }],\n  ['path', { d: 'M16 7v9', key: '1hp2iy' }],\n];\n\n/**\n * @component @name SquareKanban\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjMiIHJ4PSIyIiAvPgogIDxwYXRoIGQ9Ik04IDd2NyIgLz4KICA8cGF0aCBkPSJNMTIgN3Y0IiAvPgogIDxwYXRoIGQ9Ik0xNiA3djkiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/square-kanban\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst SquareKanban = createLucideIcon('square-kanban', __iconNode);\n\nexport default SquareKanban;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { width: '18', height: '18', x: '3', y: '3', rx: '2', key: 'afitv7' }],\n  ['path', { d: 'M12 3v18', key: '108xh3' }],\n];\n\n/**\n * @component @name Columns2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjMiIHJ4PSIyIiAvPgogIDxwYXRoIGQ9Ik0xMiAzdjE4IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/columns-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Columns2 = createLucideIcon('columns-2', __iconNode);\n\nexport default Columns2;\n","import type { CSSProperties, ReactNode } from \"react\";\nimport { InvoiceOptionsSidebar } from \"@/components/invoices/invoice-options-sidebar\";\nimport { AppSidebar } from \"@/components/layout/app-sidebar\";\nimport { AppToolbar } from \"@/components/layout/app-toolbar\";\nimport { PriceBookSidebar } from \"@/components/pricebook/pricebook-sidebar\";\nimport { SidebarInset, SidebarProvider } from \"@/components/ui/sidebar\";\nimport type { UnifiedLayoutConfig } from \"@/lib/layout/unified-layout-config\";\nimport { cn } from \"@/lib/utils\";\n\ntype SectionLayoutProps = {\n\tchildren: ReactNode;\n\tconfig: UnifiedLayoutConfig;\n\tpathname: string;\n};\n\nconst RIGHT_SIDEBAR_COMPONENTS = {\n\tinvoice: InvoiceOptionsSidebar,\n\tpricebook: PriceBookSidebar,\n} as const;\n\n/**\n * SectionLayout - Reusable Server Component\n *\n * Takes a layout config and renders the appropriate structure.\n * Used by section-specific layouts to avoid code duplication.\n *\n * This is a pure server component - no client JS needed.\n */\nexport function SectionLayout({\n\tchildren,\n\tconfig,\n\tpathname,\n}: SectionLayoutProps) {\n\tconst { structure, toolbar, sidebar, rightSidebar } = config;\n\n\t// Compute layout classes based on structure config\n\tconst maxWidthClass =\n\t\tstructure.maxWidth === \"full\"\n\t\t\t? \"w-full\"\n\t\t\t: `mx-auto w-full max-w-${structure.maxWidth}`;\n\n\tconst paddingMap = {\n\t\tnone: \"\",\n\t\tsm: \"p-4\",\n\t\tmd: \"p-6\",\n\t\tlg: \"p-8\",\n\t};\n\tconst paddingClass = paddingMap[structure.padding || \"none\"];\n\n\tconst gapMap = {\n\t\tnone: \"\",\n\t\tsm: \"gap-4\",\n\t\tmd: \"gap-6\",\n\t\tlg: \"gap-8\",\n\t};\n\tconst gapClass = gapMap[structure.gap || \"none\"];\n\n\tconst isFullWidth = structure.maxWidth === \"full\";\n\tconst variant = structure.variant ?? \"default\";\n\n\tconst backgroundMap: Record<string, string> = {\n\t\tdefault: \"bg-background\",\n\t\tmuted: \"bg-muted/50\",\n\t\tcard: \"bg-card\",\n\t};\n\tconst backgroundClass =\n\t\tbackgroundMap[structure.background || \"default\"] ?? backgroundMap.default;\n\n\tconst insetClassName = cn(\n\t\t\"relative w-full\",\n\t\tbackgroundClass,\n\t\tvariant === \"detail\" && \"flex flex-col gap-0\",\n\t);\n\n\tconst mainBaseClass = \"flex w-full flex-1 flex-col overflow-y-auto\";\n\tconst detailTopPadding =\n\t\t{\n\t\t\tnone: \"pt-4\",\n\t\t\tsm: \"pt-6\",\n\t\t\tmd: \"pt-8\",\n\t\t\tlg: \"pt-10\",\n\t\t}[structure.padding || \"none\"] ?? \"pt-4\";\n\n\tconst mainClassName = cn(\n\t\tmainBaseClass,\n\t\tgapClass,\n\t\tpaddingClass,\n\t\tvariant === \"detail\" && \"pb-24\",\n\t\tvariant === \"detail\" ? cn(\"px-0\", detailTopPadding) : undefined,\n\t);\n\n\tconst RightSidebarComponent =\n\t\trightSidebar?.component &&\n\t\tRIGHT_SIDEBAR_COMPONENTS[\n\t\t\trightSidebar.component as keyof typeof RIGHT_SIDEBAR_COMPONENTS\n\t\t];\n\n\treturn (\n\t\t<SidebarProvider\n\t\t\tdefaultOpen\n\t\t\tstyle={\n\t\t\t\tsidebar.customConfig?.width\n\t\t\t\t\t? ({\n\t\t\t\t\t\t\t\"--sidebar-width\": sidebar.customConfig.width,\n\t\t\t\t\t\t} as CSSProperties)\n\t\t\t\t\t: undefined\n\t\t\t}\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName=\"fixed inset-0 top-14 flex w-full overflow-hidden\"\n\t\t\t\tdata-dashboard-layout\n\t\t\t\tdata-pathname={pathname}\n\t\t\t>\n\t\t\t\t{sidebar.show && <AppSidebar pathname={pathname} />}\n\n\t\t\t\t<SidebarInset\n\t\t\t\t\tclassName={insetClassName}\n\t\t\t\t\tdata-has-right-sidebar={rightSidebar?.show ? \"true\" : undefined}\n\t\t\t\t\tdata-layout-variant={variant}\n\t\t\t\t>\n\t\t\t\t\t{toolbar.show && (\n\t\t\t\t\t\t<AppToolbar\n\t\t\t\t\t\t\tconfig={toolbar}\n\t\t\t\t\t\t\tpathname={pathname}\n\t\t\t\t\t\t\tscope=\"layout\"\n\t\t\t\t\t\t\tshowLeftSidebar={sidebar.show}\n\t\t\t\t\t\t\tshowRightSidebar={rightSidebar?.show}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{isFullWidth ? (\n\t\t\t\t\t\t<main className={mainClassName}>{children}</main>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<main className={mainClassName}>\n\t\t\t\t\t\t\t<div className={maxWidthClass}>{children}</div>\n\t\t\t\t\t\t</main>\n\t\t\t\t\t)}\n\t\t\t\t</SidebarInset>\n\n\t\t\t\t{rightSidebar?.show && RightSidebarComponent && (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\"hidden\",\n\t\t\t\t\t\t\t\"border-l\",\n\t\t\t\t\t\t\t\"border-border/50\",\n\t\t\t\t\t\t\t\"bg-muted/20\",\n\t\t\t\t\t\t\t\"xl:flex\",\n\t\t\t\t\t\t\t\"xl:w-80\",\n\t\t\t\t\t\t)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<RightSidebarComponent />\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</SidebarProvider>\n\t);\n}\n","/**\n * Invoice Filters Store\n *\n * Global state management for invoice filtering\n * - Archive status (active, all, archived)\n * - Status filter (draft, pending, paid, overdue)\n * - Amount range\n * - Customer name search\n * - Invoice number search\n */\n\nimport { create } from \"zustand\";\nimport { persist } from \"zustand/middleware\";\n\nexport type InvoiceFilters = {\n\tarchiveStatus: \"active\" | \"all\" | \"archived\";\n\tstatus: string;\n\tamountMin: string;\n\tamountMax: string;\n\tcustomerName: string;\n\tinvoiceNumber: string;\n};\n\nconst DEFAULT_FILTERS: InvoiceFilters = {\n\tarchiveStatus: \"active\",\n\tstatus: \"all\",\n\tamountMin: \"\",\n\tamountMax: \"\",\n\tcustomerName: \"\",\n\tinvoiceNumber: \"\",\n};\n\ntype InvoiceFiltersStore = {\n\tfilters: InvoiceFilters;\n\tsetFilters: (filters: Partial<InvoiceFilters>) => void;\n\tresetFilters: () => void;\n};\n\nexport const useInvoiceFiltersStore = create<InvoiceFiltersStore>()(\n\tpersist(\n\t\t(set) => ({\n\t\t\tfilters: DEFAULT_FILTERS,\n\n\t\t\tsetFilters: (newFilters) =>\n\t\t\t\tset((state) => ({\n\t\t\t\t\tfilters: { ...state.filters, ...newFilters },\n\t\t\t\t})),\n\n\t\t\tresetFilters: () => set({ filters: DEFAULT_FILTERS }),\n\t\t}),\n\t\t{\n\t\t\tname: \"invoice-filters\",\n\t\t\tskipHydration: true, // CRITICAL: Prevents hydration mismatch with Next.js 16\n\t\t},\n\t),\n);\n","\"use client\";\n\n/**\n * Archive Filter Select Component\n *\n * Reusable dropdown for filtering archived vs active items\n * - Used in all datatables\n * - Persists filter preference via Zustand\n * - Shows counts for each filter option\n */\n\nimport { Archive, Check } from \"lucide-react\";\nimport {\n\tButton,\n\tDropdownMenu,\n\tDropdownMenuContent,\n\tDropdownMenuItem,\n\tDropdownMenuLabel,\n\tDropdownMenuSeparator,\n\tDropdownMenuTrigger,\n} from \"@stratos/ui\";\nimport {\n\ttype ArchivableEntity,\n\tuseArchiveStore,\n} from \"@/lib/stores/archive-store\";\nimport {\n\tARCHIVE_FILTER_OPTIONS,\n\ttype ArchiveFilter,\n} from \"@/lib/utils/archive\";\n\ntype ArchiveFilterSelectProps = {\n\tentity: ArchivableEntity;\n\tactiveCount?: number;\n\tarchivedCount?: number;\n\ttotalCount?: number;\n\tonFilterChange?: (filter: ArchiveFilter) => void;\n};\n\nexport function ArchiveFilterSelect({\n\tentity,\n\tactiveCount,\n\tarchivedCount,\n\ttotalCount,\n\tonFilterChange,\n}: ArchiveFilterSelectProps) {\n\tconst filter = useArchiveStore((state) => state.filters[entity]);\n\tconst setFilter = useArchiveStore((state) => state.setFilter);\n\n\tconst handleFilterChange = (newFilter: ArchiveFilter) => {\n\t\tsetFilter(entity, newFilter);\n\t\tonFilterChange?.(newFilter);\n\t};\n\n\tconst getCountForFilter = (\n\t\tfilterValue: ArchiveFilter,\n\t): number | undefined => {\n\t\tswitch (filterValue) {\n\t\t\tcase \"active\":\n\t\t\t\treturn activeCount;\n\t\t\tcase \"archived\":\n\t\t\t\treturn archivedCount;\n\t\t\tcase \"all\":\n\t\t\t\treturn totalCount;\n\t\t\tdefault:\n\t\t\t\treturn;\n\t\t}\n\t};\n\n\tconst currentLabel =\n\t\tARCHIVE_FILTER_OPTIONS.find((opt) => opt.value === filter)?.label ||\n\t\t\"Active Only\";\n\n\treturn (\n\t\t<DropdownMenu>\n\t\t\t<DropdownMenuTrigger asChild>\n\t\t\t\t<Button size=\"sm\" variant=\"outline\">\n\t\t\t\t\t<Archive className=\"size-4\" />\n\t\t\t\t\t<span className=\"ml-2\">{currentLabel}</span>\n\t\t\t\t</Button>\n\t\t\t</DropdownMenuTrigger>\n\t\t\t<DropdownMenuContent align=\"end\" className=\"w-56\">\n\t\t\t\t<DropdownMenuLabel>Show Items</DropdownMenuLabel>\n\t\t\t\t<DropdownMenuSeparator />\n\t\t\t\t{ARCHIVE_FILTER_OPTIONS.map((option) => {\n\t\t\t\t\tconst isSelected = filter === option.value;\n\t\t\t\t\tconst count = getCountForFilter(option.value);\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<DropdownMenuItem\n\t\t\t\t\t\t\tclassName=\"flex items-center justify-between\"\n\t\t\t\t\t\t\tkey={option.value}\n\t\t\t\t\t\t\tonClick={() => handleFilterChange(option.value)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t{isSelected && <Check className=\"size-4\" />}\n\t\t\t\t\t\t\t\t<span className={isSelected ? \"font-medium\" : \"\"}>\n\t\t\t\t\t\t\t\t\t{option.label}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{count !== undefined && (\n\t\t\t\t\t\t\t\t<span className=\"text-muted-foreground text-xs\">{count}</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</DropdownMenuItem>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</DropdownMenuContent>\n\t\t</DropdownMenu>\n\t);\n}\n","/**\n * Archive Utilities\n *\n * Reusable utilities for handling archived items across the application:\n * - Filter archived items by default\n * - Visual styling for archived rows\n * - Archive/restore functionality\n */\n\n/**\n * Archive filter options for datatables\n */\nexport type ArchiveFilter = \"active\" | \"archived\" | \"all\";\n\n/**\n * Archive filter options for dropdowns\n */\nexport const ARCHIVE_FILTER_OPTIONS = [\n\t{ value: \"active\", label: \"Active Only\" },\n\t{ value: \"archived\", label: \"Archived Only\" },\n\t{ value: \"all\", label: \"All Items\" },\n] as const;\n\n/**\n * Get CSS classes for archived row styling\n * Applies greyed out, semi-transparent styling to archived items\n */\nexport function getArchivedRowClassName(isArchived: boolean): string {\n\tif (!isArchived) {\n\t\treturn \"\";\n\t}\n\n\treturn \"opacity-50 bg-muted/30 hover:bg-muted/40 text-muted-foreground\";\n}\n\n/**\n * Check if an item is archived based on archived_at timestamp\n */\nexport function isItemArchived(archivedAt: string | null | undefined): boolean {\n\treturn archivedAt != null;\n}\n\n/**\n * Filter items based on archive status\n */\nexport function filterByArchiveStatus<\n\tT extends { archived_at?: string | null },\n>(items: T[], filter: ArchiveFilter): T[] {\n\tswitch (filter) {\n\t\tcase \"active\":\n\t\t\treturn items.filter((item) => !isItemArchived(item.archived_at));\n\t\tcase \"archived\":\n\t\t\treturn items.filter((item) => isItemArchived(item.archived_at));\n\t\tcase \"all\":\n\t\t\treturn items;\n\t\tdefault:\n\t\t\treturn items;\n\t}\n}\n\n/**\n * Build Supabase query filter for archive status\n * Use this to filter at the database level (more efficient)\n */\nfunction getArchiveQueryFilter(filter: ArchiveFilter): {\n\tcolumn: \"archived_at\";\n\toperator: \"is\" | \"not.is\";\n\tvalue: null;\n} | null {\n\tswitch (filter) {\n\t\tcase \"active\":\n\t\t\treturn { column: \"archived_at\", operator: \"is\", value: null };\n\t\tcase \"archived\":\n\t\t\treturn { column: \"archived_at\", operator: \"not.is\", value: null };\n\t\tcase \"all\":\n\t\t\treturn null; // No filter needed\n\t\tdefault:\n\t\t\treturn null;\n\t}\n}\n\n/**\n * Format archive date for display\n */\nfunction formatArchiveDate(\n\tarchivedAt: string | null | undefined,\n): string {\n\tif (!archivedAt) {\n\t\treturn \"N/A\";\n\t}\n\n\tconst date = new Date(archivedAt);\n\treturn date.toLocaleDateString(\"en-US\", {\n\t\tmonth: \"short\",\n\t\tday: \"numeric\",\n\t\tyear: \"numeric\",\n\t});\n}\n\n/**\n * Get archive badge variant\n */\nfunction getArchiveBadgeVariant(\n\tisArchived: boolean,\n): \"outline\" | \"secondary\" {\n\treturn isArchived ? \"outline\" : \"secondary\";\n}\n"],"names":[],"mappings":"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"}