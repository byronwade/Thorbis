{"version":3,"sources":["../../../../../../apps/web/src/components/work/maintenance-plans/maintenance-plan-page-content.tsx"],"sourcesContent":["/**\n * Maintenance Plan Page Content\n *\n * Comprehensive maintenance plan details with collapsible sections\n * Matches job and customer detail page patterns\n */\n\n\"use client\";\n\nimport {\n\tCalendar,\n\tCheckCircle2,\n\tDollarSign,\n\tPackage,\n\tReceipt,\n\tUser,\n\tWrench,\n} from \"lucide-react\";\nimport Link from \"next/link\";\nimport { useMemo } from \"react\";\nimport { DetailPageContentLayout } from \"@/components/layout/detail-page-content-layout\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport {\n\tUnifiedAccordionContent,\n\ttype UnifiedAccordionSection,\n} from \"@/components/ui/unified-accordion\";\n\nexport type MaintenancePlanData = {\n\tplan: any;\n\tcustomer?: any;\n\tproperty?: any;\n\tequipment?: any[];\n\tgeneratedJobs?: any[]; // NEW\n\tscheduledAppointments?: any[]; // NEW\n\tgeneratedInvoices?: any[]; // NEW\n\tnotes?: any[];\n\tactivities?: any[];\n\tattachments?: any[];\n};\n\nexport type MaintenancePlanPageContentProps = {\n\tentityData: MaintenancePlanData;\n};\n\nfunction formatCurrency(cents: number | null | undefined): string {\n\tif (cents === null || cents === undefined) {\n\t\treturn \"$0.00\";\n\t}\n\treturn new Intl.NumberFormat(\"en-US\", {\n\t\tstyle: \"currency\",\n\t\tcurrency: \"USD\",\n\t}).format(cents / 100);\n}\n\nfunction getStatusBadge(status: string, key?: string) {\n\tconst variants: Record<string, { className: string; label: string }> = {\n\t\tdraft: {\n\t\t\tclassName:\n\t\t\t\t\"bg-muted text-foreground dark:bg-foreground/20 dark:text-muted-foreground\",\n\t\t\tlabel: \"Draft\",\n\t\t},\n\t\tactive: {\n\t\t\tclassName: \"bg-success text-white\",\n\t\t\tlabel: \"Active\",\n\t\t},\n\t\tpaused: {\n\t\t\tclassName: \"bg-warning text-white\",\n\t\t\tlabel: \"Paused\",\n\t\t},\n\t\tcancelled: {\n\t\t\tclassName: \"bg-destructive text-white\",\n\t\t\tlabel: \"Cancelled\",\n\t\t},\n\t\texpired: {\n\t\t\tclassName: \"bg-warning text-white\",\n\t\t\tlabel: \"Expired\",\n\t\t},\n\t\tcompleted: {\n\t\t\tclassName: \"bg-primary text-white\",\n\t\t\tlabel: \"Completed\",\n\t\t},\n\t};\n\n\tconst config = variants[status] || {\n\t\tclassName: \"bg-muted text-foreground\",\n\t\tlabel: status,\n\t};\n\n\treturn (\n\t\t<Badge className={config.className} key={key} variant=\"outline\">\n\t\t\t{config.label}\n\t\t</Badge>\n\t);\n}\n\nexport function MaintenancePlanPageContent({\n\tentityData,\n}: MaintenancePlanPageContentProps) {\n\tconst {\n\t\tplan,\n\t\tcustomer,\n\t\tproperty,\n\t\tequipment = [],\n\t\tgeneratedJobs = [], // NEW\n\t\tscheduledAppointments = [], // NEW\n\t\tgeneratedInvoices = [], // NEW\n\t\tnotes = [],\n\t\tactivities = [],\n\t\tattachments = [],\n\t} = entityData;\n\n\tconst includedServices = plan.included_services\n\t\t? typeof plan.included_services === \"string\"\n\t\t\t? JSON.parse(plan.included_services)\n\t\t\t: plan.included_services\n\t\t: [];\n\n\tconst headerBadges = [\n\t\tgetStatusBadge(plan.status || \"draft\", \"status\"),\n\t\t<Badge key=\"type\" variant=\"outline\">\n\t\t\t{plan.type || \"preventive\"}\n\t\t</Badge>,\n\t];\n\n\tconst customHeader = (\n\t\t<div className=\"w-full px-2 sm:px-0\">\n\t\t\t<div className=\"bg-muted/50 rounded-md shadow-sm\">\n\t\t\t\t<div className=\"flex flex-col gap-4 p-4 sm:p-6\">\n\t\t\t\t\t<div className=\"flex flex-col gap-6 sm:flex-row sm:items-start sm:justify-between\">\n\t\t\t\t\t\t<div className=\"flex flex-col gap-4\">\n\t\t\t\t\t\t\t<div className=\"flex flex-wrap items-center gap-2\">\n\t\t\t\t\t\t\t\t{headerBadges}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"flex flex-col gap-2\">\n\t\t\t\t\t\t\t\t<h1 className=\"text-2xl font-semibold sm:text-3xl\">\n\t\t\t\t\t\t\t\t\t{plan.name ||\n\t\t\t\t\t\t\t\t\t\t`Plan ${plan.plan_number || plan.id.slice(0, 8)}`}\n\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-sm sm:text-base\">\n\t\t\t\t\t\t\t\t\t{formatCurrency(plan.price)}\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{customer && (\n\t\t\t\t\t\t<div className=\"flex flex-wrap items-center gap-3\">\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tclassName=\"border-border/60 bg-background hover:border-primary/50 hover:bg-primary/5 inline-flex items-center gap-2 rounded-full border px-4 py-2 text-sm font-medium transition-colors\"\n\t\t\t\t\t\t\t\thref={`/dashboard/customers/${customer.id}`}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<User className=\"size-4\" />\n\t\t\t\t\t\t\t\t{customer.display_name ||\n\t\t\t\t\t\t\t\t\t`${customer.first_name || \"\"} ${customer.last_name || \"\"}`.trim() ||\n\t\t\t\t\t\t\t\t\t\"Unknown Customer\"}\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n\n\tconst customSections = useMemo<UnifiedAccordionSection[]>(() => {\n\t\tconst sections: UnifiedAccordionSection[] = [\n\t\t\t{\n\t\t\t\tid: \"service-schedule\",\n\t\t\t\ttitle: \"Service Schedule\",\n\t\t\t\ticon: <Calendar className=\"size-4\" />,\n\t\t\t\tdefaultOpen: true,\n\t\t\t\tcontent: (\n\t\t\t\t\t<UnifiedAccordionContent>\n\t\t\t\t\t\t<div className=\"grid gap-4 md:grid-cols-2\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Label>Frequency</Label>\n\t\t\t\t\t\t\t\t<Input readOnly value={plan.frequency || \"annually\"} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Label>Visits Per Term</Label>\n\t\t\t\t\t\t\t\t<Input readOnly value={plan.visits_per_term || 1} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Label>Start Date</Label>\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\treadOnly\n\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\tplan.start_date\n\t\t\t\t\t\t\t\t\t\t\t? new Date(plan.start_date).toLocaleDateString()\n\t\t\t\t\t\t\t\t\t\t\t: \"N/A\"\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{plan.end_date && (\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Label>End Date</Label>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\treadOnly\n\t\t\t\t\t\t\t\t\t\tvalue={new Date(plan.end_date).toLocaleDateString()}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{plan.next_service_due && (\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Label>Next Service Due</Label>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\treadOnly\n\t\t\t\t\t\t\t\t\t\tvalue={new Date(plan.next_service_due).toLocaleDateString()}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{plan.last_service_date && (\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Label>Last Service</Label>\n\t\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\t\treadOnly\n\t\t\t\t\t\t\t\t\t\tvalue={new Date(\n\t\t\t\t\t\t\t\t\t\t\tplan.last_service_date,\n\t\t\t\t\t\t\t\t\t\t).toLocaleDateString()}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</UnifiedAccordionContent>\n\t\t\t\t),\n\t\t\t},\n\t\t];\n\n\t\tif (includedServices.length > 0) {\n\t\t\tsections.push({\n\t\t\t\tid: \"included-services\",\n\t\t\t\ttitle: \"Included Services\",\n\t\t\t\ticon: <Wrench className=\"size-4\" />,\n\t\t\t\tcount: includedServices.length,\n\t\t\t\tcontent: (\n\t\t\t\t\t<UnifiedAccordionContent>\n\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t{includedServices.map((service: any, index: number) => (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName=\"flex items-center gap-2 rounded-lg border p-3\"\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<CheckCircle2 className=\"text-success size-4\" />\n\t\t\t\t\t\t\t\t\t<span className=\"text-sm\">\n\t\t\t\t\t\t\t\t\t\t{service.name || service.description || service}\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</UnifiedAccordionContent>\n\t\t\t\t),\n\t\t\t});\n\t\t}\n\n\t\tif (equipment.length > 0) {\n\t\t\tsections.push({\n\t\t\t\tid: \"equipment\",\n\t\t\t\ttitle: \"Equipment\",\n\t\t\t\ticon: <Package className=\"size-4\" />,\n\t\t\t\tcount: equipment.length,\n\t\t\t\tcontent: (\n\t\t\t\t\t<UnifiedAccordionContent>\n\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t{equipment.map((eq: any) => (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName=\"flex items-center justify-between rounded-lg border p-3\"\n\t\t\t\t\t\t\t\t\tkey={eq.id}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t{eq.name || eq.equipment_number}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t{eq.manufacturer} {eq.model}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<Button asChild size=\"sm\" variant=\"ghost\">\n\t\t\t\t\t\t\t\t\t\t<Link href={`/dashboard/work/equipment/${eq.id}`}>\n\t\t\t\t\t\t\t\t\t\t\tView\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</UnifiedAccordionContent>\n\t\t\t\t),\n\t\t\t});\n\t\t}\n\n\t\tsections.push({\n\t\t\tid: \"billing\",\n\t\t\ttitle: \"Billing\",\n\t\t\ticon: <DollarSign className=\"size-4\" />,\n\t\t\tcontent: (\n\t\t\t\t<UnifiedAccordionContent>\n\t\t\t\t\t<div className=\"grid gap-4 md:grid-cols-2\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Label>Price</Label>\n\t\t\t\t\t\t\t<Input readOnly value={formatCurrency(plan.price)} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Label>Billing Frequency</Label>\n\t\t\t\t\t\t\t<Input readOnly value={plan.billing_frequency || \"annually\"} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Label>Taxable</Label>\n\t\t\t\t\t\t\t<Input readOnly value={plan.taxable ? \"Yes\" : \"No\"} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{plan.renewal_type && (\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Label>Renewal Type</Label>\n\t\t\t\t\t\t\t\t<Input readOnly value={plan.renewal_type} />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</UnifiedAccordionContent>\n\t\t\t),\n\t\t});\n\n\t\tif (customer) {\n\t\t\tsections.push({\n\t\t\t\tid: \"customer-details\",\n\t\t\t\ttitle: \"Customer Details\",\n\t\t\t\ticon: <User className=\"size-4\" />,\n\t\t\t\tcontent: (\n\t\t\t\t\t<UnifiedAccordionContent>\n\t\t\t\t\t\t<div className=\"flex flex-col gap-4 md:flex-row md:items-start md:justify-between\">\n\t\t\t\t\t\t\t<div className=\"grid flex-1 gap-4 md:grid-cols-2\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Label>Name</Label>\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm\">\n\t\t\t\t\t\t\t\t\t\t{customer.display_name ||\n\t\t\t\t\t\t\t\t\t\t\t`${customer.first_name || \"\"} ${customer.last_name || \"\"}`.trim() ||\n\t\t\t\t\t\t\t\t\t\t\t\"Unknown\"}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Label>Email</Label>\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm\">{customer.email || \"N/A\"}</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Button asChild size=\"sm\" variant=\"ghost\">\n\t\t\t\t\t\t\t\t<Link href={`/dashboard/customers/${customer.id}`}>\n\t\t\t\t\t\t\t\t\tView Full Profile\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</UnifiedAccordionContent>\n\t\t\t\t),\n\t\t\t});\n\t\t}\n\n\t\t// NEW: Generated Jobs Section\n\t\tif (generatedJobs.length > 0) {\n\t\t\tsections.push({\n\t\t\t\tid: \"generated-jobs\",\n\t\t\t\ttitle: \"Generated Jobs\",\n\t\t\t\ticon: <Wrench className=\"size-4\" />,\n\t\t\t\tcount: generatedJobs.length,\n\t\t\t\tcontent: (\n\t\t\t\t\t<UnifiedAccordionContent className=\"p-0\">\n\t\t\t\t\t\t<div className=\"text-muted-foreground border-b px-6 py-4 text-sm\">\n\t\t\t\t\t\t\tJobs created from this maintenance plan.\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"overflow-x-auto\">\n\t\t\t\t\t\t\t<table className=\"w-full\">\n\t\t\t\t\t\t\t\t<thead className=\"bg-muted/50 border-b\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<th className=\"px-6 py-3 text-left text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\tJob #\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t<th className=\"px-6 py-3 text-left text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\tTitle\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t<th className=\"px-6 py-3 text-left text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\tProperty\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t<th className=\"px-6 py-3 text-left text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\tStatus\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t<th className=\"px-6 py-3 text-left text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\tCompleted\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t<th className=\"px-6 py-3 text-left text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\tActions\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t{generatedJobs.map((job: any) => (\n\t\t\t\t\t\t\t\t\t\t<tr className=\"hover:bg-muted/30 border-b\" key={job.id}>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"px-6 py-4 text-sm\">#{job.job_number}</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"px-6 py-4 text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t{job.title}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"px-6 py-4 text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t{job.property?.name || job.property?.address || \"-\"}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"px-6 py-4 text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Badge variant=\"outline\">{job.status}</Badge>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"px-6 py-4 text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t{job.completed_at\n\t\t\t\t\t\t\t\t\t\t\t\t\t? new Date(job.completed_at).toLocaleDateString()\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"-\"}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"px-6 py-4 text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-primary hover:underline\"\n\t\t\t\t\t\t\t\t\t\t\t\t\thref={`/dashboard/work/${job.id}`}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\tView\n\t\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</UnifiedAccordionContent>\n\t\t\t\t),\n\t\t\t});\n\t\t}\n\n\t\t// NEW: Scheduled Appointments Section\n\t\tif (scheduledAppointments.length > 0) {\n\t\t\tsections.push({\n\t\t\t\tid: \"scheduled-appointments\",\n\t\t\t\ttitle: \"Upcoming Appointments\",\n\t\t\t\ticon: <Calendar className=\"size-4\" />,\n\t\t\t\tcount: scheduledAppointments.length,\n\t\t\t\tcontent: (\n\t\t\t\t\t<UnifiedAccordionContent className=\"p-0\">\n\t\t\t\t\t\t<div className=\"text-muted-foreground border-b px-6 py-4 text-sm\">\n\t\t\t\t\t\t\tScheduled maintenance appointments for equipment covered by this\n\t\t\t\t\t\t\tplan.\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"overflow-x-auto\">\n\t\t\t\t\t\t\t<table className=\"w-full\">\n\t\t\t\t\t\t\t\t<thead className=\"bg-muted/50 border-b\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<th className=\"px-6 py-3 text-left text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\tDate & Time\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t<th className=\"px-6 py-3 text-left text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\tJob\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t<th className=\"px-6 py-3 text-left text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\tProperty\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t<th className=\"px-6 py-3 text-left text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\tStatus\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t<th className=\"px-6 py-3 text-left text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\tActions\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t{scheduledAppointments.map((appointment: any) => (\n\t\t\t\t\t\t\t\t\t\t<tr\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"hover:bg-muted/30 border-b\"\n\t\t\t\t\t\t\t\t\t\t\tkey={appointment.id}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"px-6 py-4 text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t{new Date(appointment.scheduled_start).toLocaleString(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"en-US\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmonth: \"short\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tday: \"numeric\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tyear: \"numeric\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thour: \"numeric\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tminute: \"2-digit\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"px-6 py-4 text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t{appointment.job\n\t\t\t\t\t\t\t\t\t\t\t\t\t? `#${appointment.job.job_number}`\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"-\"}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"px-6 py-4 text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t{appointment.property?.name ||\n\t\t\t\t\t\t\t\t\t\t\t\t\tappointment.property?.address ||\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"-\"}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"px-6 py-4 text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Badge variant=\"outline\">{appointment.status}</Badge>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"px-6 py-4 text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-primary hover:underline\"\n\t\t\t\t\t\t\t\t\t\t\t\t\thref={`/dashboard/appointments/${appointment.id}`}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\tView\n\t\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</UnifiedAccordionContent>\n\t\t\t\t),\n\t\t\t});\n\t\t}\n\n\t\t// NEW: Generated Invoices Section\n\t\tif (generatedInvoices.length > 0) {\n\t\t\tsections.push({\n\t\t\t\tid: \"generated-invoices\",\n\t\t\t\ttitle: \"Generated Invoices\",\n\t\t\t\ticon: <Receipt className=\"size-4\" />,\n\t\t\t\tcount: generatedInvoices.length,\n\t\t\t\tcontent: (\n\t\t\t\t\t<UnifiedAccordionContent className=\"p-0\">\n\t\t\t\t\t\t<div className=\"text-muted-foreground border-b px-6 py-4 text-sm\">\n\t\t\t\t\t\t\tInvoices created from maintenance work under this plan.\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"overflow-x-auto\">\n\t\t\t\t\t\t\t<table className=\"w-full\">\n\t\t\t\t\t\t\t\t<thead className=\"bg-muted/50 border-b\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<th className=\"px-6 py-3 text-left text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\tInvoice #\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t<th className=\"px-6 py-3 text-left text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\tDate\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t<th className=\"px-6 py-3 text-left text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\tTotal\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t<th className=\"px-6 py-3 text-left text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\tStatus\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t<th className=\"px-6 py-3 text-left text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\tActions\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t{generatedInvoices.map((invoice: any) => (\n\t\t\t\t\t\t\t\t\t\t<tr className=\"hover:bg-muted/30 border-b\" key={invoice.id}>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"px-6 py-4 text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t#{invoice.invoice_number || invoice.id.slice(0, 8)}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"px-6 py-4 text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t{new Date(invoice.created_at).toLocaleDateString()}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"px-6 py-4 text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t{formatCurrency(invoice.total_amount)}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"px-6 py-4 text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tinvoice.status === \"paid\" ? \"default\" : \"outline\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{invoice.status}\n\t\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"px-6 py-4 text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-primary hover:underline\"\n\t\t\t\t\t\t\t\t\t\t\t\t\thref={`/dashboard/work/invoices/${invoice.id}`}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\tView\n\t\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</UnifiedAccordionContent>\n\t\t\t\t),\n\t\t\t});\n\t\t}\n\n\t\treturn sections;\n\t}, [\n\t\tplan,\n\t\tcustomer,\n\t\tequipment,\n\t\tgeneratedJobs,\n\t\tscheduledAppointments,\n\t\tgeneratedInvoices,\n\t\tincludedServices,\n\t]);\n\n\tconst relatedItems = useMemo(() => {\n\t\tconst items: any[] = [];\n\n\t\tif (customer) {\n\t\t\titems.push({\n\t\t\t\tid: `customer-${customer.id}`,\n\t\t\t\ttype: \"customer\",\n\t\t\t\ttitle:\n\t\t\t\t\tcustomer.display_name ||\n\t\t\t\t\t`${customer.first_name || \"\"} ${customer.last_name || \"\"}`.trim() ||\n\t\t\t\t\t\"Unknown Customer\",\n\t\t\t\tsubtitle: customer.email || customer.phone || undefined,\n\t\t\t\thref: `/dashboard/customers/${customer.id}`,\n\t\t\t});\n\t\t}\n\n\t\tif (property) {\n\t\t\titems.push({\n\t\t\t\tid: `property-${property.id}`,\n\t\t\t\ttype: \"property\",\n\t\t\t\ttitle: property.address || property.name || \"Property\",\n\t\t\t\tsubtitle:\n\t\t\t\t\t`${property.city || \"\"}, ${property.state || \"\"}`.trim() || undefined,\n\t\t\t\thref: `/dashboard/work/properties/${property.id}`,\n\t\t\t});\n\t\t}\n\n\t\tequipment.forEach((eq: any) => {\n\t\t\titems.push({\n\t\t\t\tid: `equipment-${eq.id}`,\n\t\t\t\ttype: \"equipment\",\n\t\t\t\ttitle: eq.name || eq.equipment_number,\n\t\t\t\tsubtitle:\n\t\t\t\t\t`${eq.manufacturer || \"\"} ${eq.model || \"\"}`.trim() || undefined,\n\t\t\t\thref: `/dashboard/work/equipment/${eq.id}`,\n\t\t\t});\n\t\t});\n\n\t\treturn items;\n\t}, [customer, property, equipment]);\n\n\treturn (\n\t\t<DetailPageContentLayout\n\t\t\tactivities={activities}\n\t\t\tattachments={attachments}\n\t\t\tcustomHeader={customHeader}\n\t\t\tcustomSections={customSections}\n\t\t\tdefaultOpenSection=\"service-schedule\"\n\t\t\tnotes={notes}\n\t\t\trelatedItems={relatedItems}\n\t\t\tshowStandardSections={{\n\t\t\t\tactivities: true,\n\t\t\t\tnotes: true,\n\t\t\t\tattachments: true,\n\t\t\t\trelatedItems: true,\n\t\t\t}}\n\t\t/>\n\t);\n}\n"],"names":[],"mappings":"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"}