module.exports=[233213,a=>{"use strict";let b=(0,a.i(203431).default)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);a.s(["default",()=>b])},534375,a=>{"use strict";var b=a.i(233213);a.s(["Link",()=>b.default])},757516,a=>{"use strict";let b=(0,a.i(203431).default)("paperclip",[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]]);a.s(["default",()=>b])},21220,a=>{"use strict";var b=a.i(757516);a.s(["Paperclip",()=>b.default])},476036,a=>{"use strict";a.i(156120),a.s([])},645659,506294,a=>{"use strict";var b=a.i(861467),c=a.i(366419),d=a.i(89626);a.i(516775);var e=a.i(560272);a.i(476036);var f=a.i(930514);function g({activities:a}){return a&&0!==a.length?(0,b.jsx)(f.UnifiedAccordionContent,{children:(0,b.jsx)("div",{className:"max-h-96 space-y-3 overflow-y-auto",children:a.map(a=>(0,b.jsxs)("div",{className:"hover:bg-muted/50 flex gap-3 rounded-lg border p-3 transition-colors",children:[(0,b.jsxs)(e.Avatar,{className:"size-8 flex-shrink-0",children:[(0,b.jsx)(e.AvatarImage,{src:a.user?.avatar}),(0,b.jsx)(e.AvatarFallback,{children:a.user?.name?.charAt(0)||"?"})]}),(0,b.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,b.jsx)("p",{className:"text-sm break-words",children:a.description}),(0,b.jsxs)("p",{className:"text-muted-foreground mt-1 text-xs",children:[a.user?.name," •"," ",(0,c.formatDistance)(new Date(a.created_at),new Date,{addSuffix:!0})]})]})]},a.id))})}):(0,b.jsx)(f.UnifiedAccordionContent,{children:(0,b.jsx)("div",{className:"flex h-32 items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(d.Activity,{className:"text-muted-foreground/50 mx-auto size-8"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-2 text-sm",children:"No activity yet"})]})})})}a.s(["ActivityLogSection",()=>g],645659);var h=a.i(187056),i=a.i(319895),j=a.i(21220),k=a.i(638727),l=a.i(597635),m=a.i(783281);a.i(445255);var n=a.i(18170),o=a.i(251048);function p({attachments:a,entityType:c,entityId:d,onUpload:e}){let{toast:g}=(0,o.useToast)(),[p,q]=(0,m.useState)(!1),r=async a=>{let b=a.target.files;if(b&&0!==b.length){q(!0);try{e&&await e(b),g.success(`${b.length} file(s) uploaded successfully`)}catch(a){g.error("Failed to upload files")}finally{q(!1),a.target.value=""}}};return(0,b.jsx)(f.UnifiedAccordionContent,{children:(0,b.jsxs)("div",{className:"space-y-4",children:[e&&(0,b.jsxs)("div",{children:[(0,b.jsx)("input",{className:"hidden",disabled:p,id:"file-upload",multiple:!0,onChange:r,type:"file"}),(0,b.jsx)("label",{htmlFor:"file-upload",children:(0,b.jsx)(n.Button,{asChild:!0,className:"w-full cursor-pointer",disabled:p,size:"sm",variant:"outline",children:(0,b.jsx)("span",{children:p?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(l.Upload,{className:"mr-2 size-4 animate-pulse"}),"Uploading..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(k.Plus,{className:"mr-2 size-4"}),"Upload Files"]})})})})]}),a&&a.length>0?(0,b.jsx)("div",{className:"space-y-2",children:a.map(a=>(0,b.jsxs)("div",{className:"hover:bg-muted/50 flex items-center justify-between rounded-lg border p-3 transition-colors",children:[(0,b.jsxs)("div",{className:"flex min-w-0 flex-1 items-center gap-3",children:[(0,b.jsx)(i.FileText,{className:"text-muted-foreground size-4 flex-shrink-0"}),(0,b.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,b.jsx)("p",{className:"truncate text-sm font-medium",children:a.original_file_name||a.file_name||"Untitled"}),(0,b.jsxs)("p",{className:"text-muted-foreground text-xs",children:[a.file_size?`${(a.file_size/1024).toFixed(1)} KB`:"",a.category&&` • ${a.category}`]})]})]}),(0,b.jsx)(n.Button,{asChild:!0,className:"flex-shrink-0",size:"sm",variant:"ghost",children:(0,b.jsx)("a",{download:!0,href:a.storage_url||a.url,rel:"noopener noreferrer",target:"_blank",children:(0,b.jsx)(h.Download,{className:"size-4"})})})]},a.id))}):(0,b.jsx)("div",{className:"flex h-32 items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(j.Paperclip,{className:"text-muted-foreground/50 mx-auto size-8"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-2 text-sm",children:"No attachments yet"})]})})]})})}a.s(["AttachmentsSection",()=>p],506294)},836994,770735,a=>{"use strict";var b=a.i(861467),c=a.i(89626),d=a.i(319895),e=a.i(534375),f=a.i(21220),g=a.i(226559),h=a.i(700760);function i({header:a,customHeader:c,metadata:d,beforeContent:e,afterContent:f,children:g,className:i,contentGapClassName:j,statsBar:k}){let l=d??a?.metadata??[];return(0,b.jsxs)("div",{className:(0,h.cn)("flex w-full flex-col gap-4 pb-24 lg:gap-5",i),"data-detail-shell":"",children:[k,c??(a?(0,b.jsx)(m,{section:a}):null),l.length>0?(0,b.jsx)(n,{items:l}):null,e,g?(0,b.jsx)("div",{className:(0,h.cn)("flex flex-col gap-4",j),children:g}):null,f]})}let j={none:"p-0",sm:"p-4",md:"p-6",lg:"p-8"},k={default:"border border-border/60 bg-card shadow-sm",muted:"border border-border/60 bg-muted/40 shadow-sm",subtle:"border border-border/40 bg-card/80 shadow-sm",ghost:"border border-border/50 bg-transparent shadow-none"};function l({children:a,className:c,padding:d="md",variant:e="default"}){return(0,b.jsx)("section",{className:(0,h.cn)("rounded-xl",k[e],c),children:(0,b.jsx)("div",{className:(0,h.cn)("flex flex-col gap-4",j[d]),children:a})})}function m({section:a}){var c;let{breadcrumbs:d,leadingVisual:e,title:f,subtitle:g,description:h,badges:i,actions:j,secondaryActions:k}=a;return(0,b.jsxs)("header",{className:"flex flex-col gap-4 lg:gap-6",children:[d?(0,b.jsx)("div",{className:"text-muted-foreground text-sm",children:d}):null,(0,b.jsxs)("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between lg:gap-8",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,b.jsx)("div",{className:"flex flex-col gap-3",children:(0,b.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:gap-4",children:[e?(0,b.jsx)("div",{className:"flex items-center justify-center",children:e}):null,(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(c=f)?"string"==typeof c?(0,b.jsx)("h1",{className:"text-2xl font-semibold tracking-tight md:text-3xl",children:c}):(0,b.jsx)("div",{className:"text-2xl font-semibold tracking-tight md:text-3xl",children:c}):null,g?(0,b.jsx)("div",{className:"text-muted-foreground max-w-3xl text-sm md:text-base",children:g}):null]})]}),h?(0,b.jsx)("div",{className:"text-muted-foreground max-w-3xl text-sm",children:h}):null]})}),i&&i.length>0?(0,b.jsx)("div",{className:"flex flex-wrap items-center gap-2",children:i}):null]}),o(j,k)?(0,b.jsxs)("div",{className:"hidden flex-wrap items-center gap-2 lg:flex",children:[j?.map((a,c)=>(0,b.jsx)("span",{className:"inline-flex",children:a},c)),k?.map((a,c)=>(0,b.jsx)("span",{className:"inline-flex",children:a},`secondary-${c}`))]}):null]}),o(j,k)?(0,b.jsxs)("div",{className:"flex flex-col gap-2 lg:hidden",children:[j&&j.length>0?(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:j.map((a,c)=>(0,b.jsx)("span",{className:"flex-1",children:a},c))}):null,k&&k.length>0?(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:k.map((a,c)=>(0,b.jsx)("span",{className:"flex-1",children:a},`secondary-mobile-${c}`))}):null]}):null]})}function n({items:a}){return(0,b.jsx)("section",{className:"@xl-page:grid-cols-4 grid grid-cols-1 gap-4 md:grid-cols-2",children:a.map((a,c)=>(0,b.jsxs)("div",{className:"border-border/50 bg-card/60 flex flex-col gap-1 rounded-lg border px-4 py-3 shadow-sm",children:[(0,b.jsxs)("span",{className:"text-muted-foreground flex items-center gap-2 text-xs font-medium tracking-wide uppercase",children:[a.icon,a.label]}),(0,b.jsx)("div",{className:"text-foreground text-sm font-semibold",children:a.value}),a.helperText?(0,b.jsx)("span",{className:"text-muted-foreground text-xs",children:a.helperText}):null]},c))})}function o(a,b){return!!(a&&a.length>0||b&&b.length>0)}a.s(["DetailPageShell",()=>i,"DetailPageSurface",()=>l],770735);var p=a.i(645659),q=a.i(506294),r=a.i(366419),s=a.i(638727),t=a.i(783281);a.i(516775);var u=a.i(560272);a.i(445255);var v=a.i(18170);a.i(897346);var w=a.i(75892);a.i(476036);var x=a.i(930514),y=a.i(251048);function z({notes:a,entityType:c,entityId:e,onAddNote:f}){let{toast:g}=(0,y.useToast)(),[h,i]=(0,t.useState)(!1),[j,k]=(0,t.useState)(""),[l,m]=(0,t.useState)(!1),n=async()=>{if(f){if(!j.trim())return void g.error("Please enter a note");m(!0);try{await f(j),g.success("Note added successfully"),k(""),i(!1)}catch(a){g.error("Failed to add note")}finally{m(!1)}}};return(0,b.jsx)(x.UnifiedAccordionContent,{children:(0,b.jsxs)("div",{className:"space-y-4",children:[f&&(h?(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(w.Textarea,{autoFocus:!0,onChange:a=>k(a.target.value),placeholder:"Enter your note...",rows:3,value:j}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(v.Button,{disabled:l,onClick:n,size:"sm",children:l?"Saving...":"Save Note"}),(0,b.jsx)(v.Button,{onClick:()=>{i(!1),k("")},size:"sm",variant:"outline",children:"Cancel"})]})]}):(0,b.jsxs)(v.Button,{className:"w-full",onClick:()=>i(!0),size:"sm",variant:"outline",children:[(0,b.jsx)(s.Plus,{className:"mr-2 size-4"}),"Add Note"]})),a&&a.length>0?(0,b.jsx)("div",{className:"space-y-3",children:a.map(a=>(0,b.jsx)("div",{className:"hover:bg-muted/50 rounded-lg border p-3 transition-colors",children:(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)(u.Avatar,{className:"size-8 flex-shrink-0",children:[(0,b.jsx)(u.AvatarImage,{src:a.user?.avatar}),(0,b.jsx)(u.AvatarFallback,{children:a.user?.name?.charAt(0)||"?"})]}),(0,b.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,b.jsx)("p",{className:"text-xs font-medium",children:a.user?.name}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:(0,r.formatDistance)(new Date(a.created_at),new Date,{addSuffix:!0})})]}),(0,b.jsx)("p",{className:"mt-1 text-sm break-words whitespace-pre-wrap",children:a.content||a.note})]})]})},a.id))}):(0,b.jsx)("div",{className:"flex h-32 items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(d.FileText,{className:"text-muted-foreground/50 mx-auto size-8"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-2 text-sm",children:"No notes yet"})]})})]})})}var A=a.i(337850),B=a.i(145679);a.i(288007);var C=a.i(986990);function D({relatedItems:a}){return a&&0!==a.length?(0,b.jsx)(x.UnifiedAccordionContent,{children:(0,b.jsx)("div",{className:"space-y-2",children:a.map(a=>(0,b.jsxs)(B.default,{className:"group hover:bg-muted/50 flex items-center justify-between rounded-lg border p-3 transition-colors",href:a.href,children:[(0,b.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("p",{className:"truncate text-sm font-medium",children:a.title}),a.badge&&(0,b.jsx)(C.Badge,{className:"flex-shrink-0",variant:a.badge.variant||"default",children:a.badge.label})]}),a.subtitle&&(0,b.jsx)("p",{className:"text-muted-foreground truncate text-xs",children:a.subtitle})]}),(0,b.jsx)(A.ChevronRight,{className:"text-muted-foreground size-4 flex-shrink-0 transition-transform group-hover:translate-x-0.5"})]},a.id))})}):(0,b.jsx)(x.UnifiedAccordionContent,{children:(0,b.jsx)("div",{className:"flex h-32 items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)(e.Link,{className:"text-muted-foreground/50 mx-auto size-8"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-2 text-sm",children:"No related items"})]})})})}let E=(0,g.default)(async()=>{},{loadableGenerated:{modules:[388024]},ssr:!1});function F({header:a,customHeader:g,customSections:j,activities:k=[],notes:m=[],attachments:n=[],relatedItems:o=[],showStandardSections:r={activities:!0,notes:!0,attachments:!0,relatedItems:!0},className:s,defaultOpenSection:t,beforeContent:u,afterContent:v,statsBar:w,contentGapClassName:x,surfacePadding:y="none",surfaceVariant:A="default",surfaceClassName:B,storageKey:C,enableReordering:F=!0}){let G=[];!1!==r.activities&&G.push({id:"activity-log",title:"Activity Log",icon:(0,b.jsx)(c.Activity,{className:"size-4"}),count:k.length,content:(0,b.jsx)(p.ActivityLogSection,{activities:k})}),!1!==r.notes&&G.push({id:"notes",title:"Notes",icon:(0,b.jsx)(d.FileText,{className:"size-4"}),count:m.length,content:(0,b.jsx)(z,{notes:m})}),!1!==r.attachments&&G.push({id:"attachments",title:"Attachments",icon:(0,b.jsx)(f.Paperclip,{className:"size-4"}),count:n.length,content:(0,b.jsx)(q.AttachmentsSection,{attachments:n})}),!1!==r.relatedItems&&o.length>0&&G.push({id:"related-items",title:"Related Items",icon:(0,b.jsx)(e.Link,{className:"size-4"}),count:o.length,content:(0,b.jsx)(D,{relatedItems:o})});let H=[...j||[],...G];return(0,b.jsx)(i,{afterContent:v,beforeContent:u,className:(0,h.cn)("w-full",s),contentGapClassName:x??"gap-4",customHeader:g,header:a,statsBar:w,children:(0,b.jsx)(l,{className:(0,h.cn)("overflow-hidden",B),padding:y,variant:A,children:(0,b.jsx)(E,{defaultOpenSection:t||H[0]?.id,enableReordering:F,sections:H,storageKey:C})})})}a.s(["DetailPageContentLayout",()=>F],836994)}];

//# sourceMappingURL=_455736f2._.js.map