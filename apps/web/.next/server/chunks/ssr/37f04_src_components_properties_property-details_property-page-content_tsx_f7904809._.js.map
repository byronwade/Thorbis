{"version":3,"sources":["../../../../../../apps/web/src/components/properties/property-details/property-page-content.tsx","../../../../../../apps/web/src/actions/data%3A5ac48e%20%3Ctext/javascript%3E","../../../../../../apps/web/src/components/properties/property-details/property-equipment-table.tsx","../../../../../../apps/web/src/components/properties/property-details/property-jobs-table.tsx"],"sourcesContent":["\"use client\";\n\n/**\n * Property Page Content - Comprehensive Single Page View\n * All details visible with collapsible sections - matches Job Details pattern\n *\n * Features:\n * - Property Details (editable)\n * - Job History\n * - Equipment\n * - Schedules\n * - Customer Information\n * - Activity Log\n * - Notes\n * - Attachments\n */\n\nimport {\n\tAlertCircle,\n\tBriefcase,\n\tBuilding2,\n\tCalendar,\n\tClock,\n\tDollarSign,\n\tFileText,\n\tHome,\n\tInfo,\n\tMail,\n\tMapPin,\n\tMessageSquare,\n\tNavigation,\n\tPaperclip,\n\tPhone,\n\tReceipt,\n\tRuler,\n\tSettings,\n\tShieldCheck,\n\tUser,\n} from \"lucide-react\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/navigation\";\nimport { useEffect, useState } from \"react\";\nimport { updateEntityTags } from \"@/actions/entity-tags\";\nimport { _updateProperty as updateProperty } from \"@/actions/properties\";\nimport {\n\tDetailPageContentLayout,\n\ttype DetailPageHeaderConfig,\n} from \"@/components/layout/detail-page-content-layout\";\nimport { EntityTags } from \"@/components/work/entity-tags\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n\tUnifiedAccordionContent,\n\ttype UnifiedAccordionSection,\n} from \"@/components/ui/unified-accordion\";\nimport { TravelTime } from \"@/components/work/job-details/travel-time\";\nimport { PropertyLocationVisual } from \"@/components/work/job-details/widgets/property-location-visual\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { PropertyEquipmentTable } from \"./property-equipment-table\";\nimport { PropertyJobsTable } from \"./property-jobs-table\";\n\ntype PropertyPageContentProps = {\n\tentityData: {\n\t\tproperty: any;\n\t\tcustomer: any;\n\t\tjobs: any[];\n\t\tequipment: any[];\n\t\tschedules: any[];\n\t\testimates: any[]; // NEW\n\t\tinvoices: any[]; // NEW\n\t\tmaintenancePlans: any[]; // NEW\n\t\tcommunications: any[];\n\t\tactivities: any[];\n\t\tnotes: any[];\n\t\tattachments: any[];\n\t};\n\tmetrics: {\n\t\ttotalJobs: number;\n\t\tactiveJobs: number;\n\t\ttotalRevenue: number;\n\t\tlastServiceDate: string | null;\n\t\tnextScheduledDate: string | null;\n\t\tequipmentCount: number;\n\t};\n};\n\nexport function PropertyPageContent({\n\tentityData,\n\tmetrics,\n}: PropertyPageContentProps) {\n\tconst propertyData = entityData;\n\tconst router = useRouter();\n\tconst { toast } = useToast();\n\tconst [_mounted, setMounted] = useState(false);\n\n\tuseEffect(() => {\n\t\tsetMounted(true);\n\t}, []);\n\n\tconst {\n\t\tproperty,\n\t\tcustomer,\n\t\tjobs = [],\n\t\tequipment = [],\n\t\tschedules = [],\n\t\testimates = [], // NEW\n\t\tinvoices = [], // NEW\n\t\tmaintenancePlans = [], // NEW\n\t\tcommunications = [],\n\t\tactivities = [],\n\t\tnotes = [],\n\t\tattachments = [],\n\t} = propertyData;\n\n\t// Get initials for avatar\n\tconst _getInitials = (name: string) =>\n\t\tname\n\t\t\t.split(\" \")\n\t\t\t.map((n) => n[0])\n\t\t\t.join(\"\")\n\t\t\t.toUpperCase();\n\n\t// Format currency\n\tconst formatCurrency = (cents: number) =>\n\t\tnew Intl.NumberFormat(\"en-US\", {\n\t\t\tstyle: \"currency\",\n\t\t\tcurrency: \"USD\",\n\t\t\tminimumFractionDigits: 0,\n\t\t\tmaximumFractionDigits: 0,\n\t\t}).format(cents / 100);\n\n\t// Save handlers for inline editing\n\tconst _handleSaveField = async (field: string, newValue: string) => {\n\t\tconst formData = new FormData();\n\t\tformData.append(field, newValue);\n\n\t\tconst result = await updateProperty(property.id, formData);\n\t\tif (result.success) {\n\t\t\ttoast.success(`${field.replace(/_/g, \" \")} updated successfully`);\n\t\t\t// Server Action handles revalidation automatically\n\t\t\treturn true;\n\t\t}\n\t\ttoast.error(result.error || `Failed to update ${field}`);\n\t\treturn false;\n\t};\n\n\t// Metadata items for quick-glance data - ALL property fields with inline editing\n\tconst metadataItems: DetailPageHeaderConfig[\"metadata\"] = [\n\t\t{\n\t\t\tlabel: \"Property Name\",\n\t\t\ticon: <Home className=\"h-3.5 w-3.5\" />,\n\t\t\tvalue: property.name || \"Unnamed Property\",\n\t\t},\n\t\t{\n\t\t\tlabel: \"Address\",\n\t\t\ticon: <MapPin className=\"h-3.5 w-3.5\" />,\n\t\t\tvalue: property.address,\n\t\t\thelperText: `${property.city}, ${property.state} ${property.zip_code}`,\n\t\t},\n\t\t{\n\t\t\tlabel: \"Property Type\",\n\t\t\ticon: <Building2 className=\"h-3.5 w-3.5\" />,\n\t\t\tvalue: property.property_type || \"residential\",\n\t\t},\n\t\t{\n\t\t\tlabel: \"Square Footage\",\n\t\t\ticon: <Ruler className=\"h-3.5 w-3.5\" />,\n\t\t\tvalue: property.square_footage?.toString() || \"Not specified\",\n\t\t\thelperText: property.square_footage\n\t\t\t\t? `${property.square_footage.toLocaleString()} sq ft`\n\t\t\t\t: undefined,\n\t\t},\n\t\t{\n\t\t\tlabel: \"Year Built\",\n\t\t\ticon: <Calendar className=\"h-3.5 w-3.5\" />,\n\t\t\tvalue: property.year_built?.toString() || \"Unknown\",\n\t\t},\n\t\t{\n\t\t\tlabel: \"Best Access Time\",\n\t\t\ticon: <Clock className=\"h-3.5 w-3.5\" />,\n\t\t\tvalue: property.best_access_time || \"Anytime\",\n\t\t\thelperText: property.requires_appointment\n\t\t\t\t? \"Appointment required\"\n\t\t\t\t: undefined,\n\t\t},\n\t\t{\n\t\t\tlabel: \"Owner\",\n\t\t\ticon: <User className=\"h-3.5 w-3.5\" />,\n\t\t\tvalue: customer\n\t\t\t\t? `${customer.first_name} ${customer.last_name}`\n\t\t\t\t: \"Not assigned\",\n\t\t\thelperText: customer?.email,\n\t\t},\n\t\t{\n\t\t\tlabel: \"GPS Coordinates\",\n\t\t\ticon: <MapPin className=\"h-3.5 w-3.5\" />,\n\t\t\tvalue:\n\t\t\t\tproperty.lat && property.lon\n\t\t\t\t\t? `${property.lat.toFixed(6)}, ${property.lon.toFixed(6)}`\n\t\t\t\t\t: \"Not set\",\n\t\t\thelperText:\n\t\t\t\tproperty.lat && property.lon\n\t\t\t\t\t? \"Geocoded\"\n\t\t\t\t\t: \"Click Location section to geocode\",\n\t\t},\n\t\t{\n\t\t\tlabel: \"Total Jobs\",\n\t\t\ticon: <Briefcase className=\"h-3.5 w-3.5\" />,\n\t\t\tvalue: metrics.totalJobs.toString(),\n\t\t\thelperText: `${metrics.activeJobs} active`,\n\t\t},\n\t\t{\n\t\t\tlabel: \"Total Revenue\",\n\t\t\ticon: <DollarSign className=\"h-3.5 w-3.5\" />,\n\t\t\tvalue: formatCurrency(metrics.totalRevenue),\n\t\t\thelperText: `from ${metrics.totalJobs} job${metrics.totalJobs !== 1 ? \"s\" : \"\"}`,\n\t\t},\n\t\t{\n\t\t\tlabel: \"Equipment\",\n\t\t\ticon: <Settings className=\"h-3.5 w-3.5\" />,\n\t\t\tvalue: `${metrics.equipmentCount}`,\n\t\t\thelperText:\n\t\t\t\tmetrics.equipmentCount > 0\n\t\t\t\t\t? `${metrics.equipmentCount} unit${metrics.equipmentCount !== 1 ? \"s\" : \"\"} installed`\n\t\t\t\t\t: \"No equipment\",\n\t\t},\n\t\t{\n\t\t\tlabel: \"Last Service\",\n\t\t\ticon: <Clock className=\"h-3.5 w-3.5\" />,\n\t\t\tvalue: metrics.lastServiceDate\n\t\t\t\t? new Date(metrics.lastServiceDate).toLocaleDateString()\n\t\t\t\t: \"Never\",\n\t\t\thelperText: metrics.lastServiceDate\n\t\t\t\t? (() => {\n\t\t\t\t\t\tconst diffDays = Math.floor(\n\t\t\t\t\t\t\t(Date.now() - new Date(metrics.lastServiceDate).getTime()) /\n\t\t\t\t\t\t\t\t(1000 * 60 * 60 * 24),\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn diffDays === 0 ? \"Today\" : `${diffDays} days ago`;\n\t\t\t\t\t})()\n\t\t\t\t: undefined,\n\t\t},\n\t];\n\n\tconst renderCommunicationEntries = (items: any[]) => (\n\t\t<div className=\"space-y-3\">\n\t\t\t{items.slice(0, 25).map((communication) => {\n\t\t\t\tconst contactName =\n\t\t\t\t\tcommunication.customer?.first_name ||\n\t\t\t\t\tcommunication.customer?.last_name\n\t\t\t\t\t\t? `${communication.customer?.first_name ?? \"\"} ${communication.customer?.last_name ?? \"\"}`.trim()\n\t\t\t\t\t\t: communication.direction === \"inbound\"\n\t\t\t\t\t\t\t? communication.from_address\n\t\t\t\t\t\t\t: communication.to_address;\n\t\t\t\tconst preview =\n\t\t\t\t\tcommunication.subject ||\n\t\t\t\t\tcommunication.body?.slice(0, 160) ||\n\t\t\t\t\t\"No additional details\";\n\t\t\t\tconst timestamp = new Date(communication.created_at).toLocaleString();\n\n\t\t\t\treturn (\n\t\t\t\t\t<div className=\"rounded-lg border p-3\" key={communication.id}>\n\t\t\t\t\t\t<div className=\"flex flex-wrap items-center gap-2\">\n\t\t\t\t\t\t\t<Badge variant=\"outline\">\n\t\t\t\t\t\t\t\t{communication.type?.toUpperCase()}\n\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\tvariant={\n\t\t\t\t\t\t\t\t\tcommunication.direction === \"inbound\"\n\t\t\t\t\t\t\t\t\t\t? \"secondary\"\n\t\t\t\t\t\t\t\t\t\t: \"default\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{communication.direction === \"inbound\" ? \"Inbound\" : \"Outbound\"}\n\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t{communication.status && (\n\t\t\t\t\t\t\t\t<Badge variant=\"outline\">{communication.status}</Badge>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t<span className=\"text-muted-foreground text-xs\">{timestamp}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"mt-2\">\n\t\t\t\t\t\t\t<p className=\"text-sm font-medium\">{contactName || \"Contact\"}</p>\n\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-sm\">{preview}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t);\n\t\t\t})}\n\t\t</div>\n\t);\n\n\tconst _headerConfig: DetailPageHeaderConfig = {\n\t\ttitle: property.name || property.address,\n\t\tsubtitle: `${property.city}, ${property.state} ${property.zip_code}`,\n\t\tmetadata: metadataItems,\n\t\tleadingVisual: (\n\t\t\t<div className=\"bg-primary/10 ring-border flex size-16 items-center justify-center rounded-lg ring-2\">\n\t\t\t\t<Building2 className=\"text-primary size-8\" />\n\t\t\t</div>\n\t\t),\n\t};\n\n\tconst sections: UnifiedAccordionSection[] = [\n\t\t{\n\t\t\tid: \"location\",\n\t\t\ttitle: \"Location & Maps\",\n\t\t\ticon: <MapPin className=\"size-4\" />,\n\t\t\tdefaultOpen: true,\n\t\t\tcontent: (\n\t\t\t\t<UnifiedAccordionContent>\n\t\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t\t<PropertyLocationVisual nearbySuppliers={[]} property={property} />\n\n\t\t\t\t\t\t{/* Access Instructions */}\n\t\t\t\t\t\t{(property.directions ||\n\t\t\t\t\t\t\tproperty.parking_instructions ||\n\t\t\t\t\t\t\tproperty.service_entrance_notes) && (\n\t\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t\t<h3 className=\"text-sm font-semibold\">Access Information</h3>\n\t\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t{property.directions && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"bg-muted/50 rounded-lg border p-3\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"mb-1 flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Navigation className=\"text-muted-foreground size-4\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium\">Directions</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t{property.directions}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{property.parking_instructions && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"bg-muted/50 rounded-lg border p-3\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"mb-1 flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Info className=\"text-muted-foreground size-4\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tParking Instructions\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t{property.parking_instructions}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t{property.service_entrance_notes && (\n\t\t\t\t\t\t\t\t\t\t<div className=\"bg-muted/50 rounded-lg border p-3\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"mb-1 flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t<AlertCircle className=\"text-muted-foreground size-4\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium\">Service Entrance</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t{property.service_entrance_notes}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</UnifiedAccordionContent>\n\t\t\t),\n\t\t},\n\t\t{\n\t\t\tid: \"communications\",\n\t\t\ttitle: \"Communications\",\n\t\t\ticon: <MessageSquare className=\"size-4\" />,\n\t\t\tcontent: (\n\t\t\t\t<UnifiedAccordionContent>\n\t\t\t\t\t{communications.length === 0 ? (\n\t\t\t\t\t\t<div className=\"text-muted-foreground flex flex-col items-center justify-center py-12 text-center text-sm\">\n\t\t\t\t\t\t\t<MessageSquare className=\"text-muted-foreground mb-4 size-10\" />\n\t\t\t\t\t\t\tNo communications logged for this property yet.\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\trenderCommunicationEntries(communications)\n\t\t\t\t\t)}\n\t\t\t\t</UnifiedAccordionContent>\n\t\t\t),\n\t\t},\n\t\t{\n\t\t\tid: \"jobs\",\n\t\t\ttitle: \"Job History\",\n\t\t\ticon: <Briefcase className=\"size-4\" />,\n\t\t\tcount: jobs.length,\n\t\t\tactions: (\n\t\t\t\t<Button asChild size=\"sm\" variant=\"outline\">\n\t\t\t\t\t<Link href={`/dashboard/work/new?propertyId=${property.id}`}>\n\t\t\t\t\t\t<Briefcase className=\"mr-2 size-4\" />\n\t\t\t\t\t\tCreate Job\n\t\t\t\t\t</Link>\n\t\t\t\t</Button>\n\t\t\t),\n\t\t\tcontent:\n\t\t\t\tjobs.length === 0 ? (\n\t\t\t\t\t<UnifiedAccordionContent>\n\t\t\t\t\t\t<div className=\"flex flex-col items-center justify-center py-12 text-center\">\n\t\t\t\t\t\t\t<Briefcase className=\"text-muted-foreground mb-4 size-12\" />\n\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-sm\">\n\t\t\t\t\t\t\t\tNo jobs found for this property\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<Button asChild className=\"mt-4\" size=\"sm\">\n\t\t\t\t\t\t\t\t<Link href={`/dashboard/work/new?propertyId=${property.id}`}>\n\t\t\t\t\t\t\t\t\tCreate First Job\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</UnifiedAccordionContent>\n\t\t\t\t) : (\n\t\t\t\t\t<UnifiedAccordionContent className=\"p-0\">\n\t\t\t\t\t\t<PropertyJobsTable jobs={jobs} />\n\t\t\t\t\t</UnifiedAccordionContent>\n\t\t\t\t),\n\t\t},\n\t\t{\n\t\t\tid: \"equipment\",\n\t\t\ttitle: \"Equipment\",\n\t\t\ticon: <Settings className=\"size-4\" />,\n\t\t\tcount: equipment.length,\n\t\t\tactions: (\n\t\t\t\t<Button asChild size=\"sm\" variant=\"outline\">\n\t\t\t\t\t<Link\n\t\t\t\t\t\thref={`/dashboard/work/equipment/new?propertyId=${property.id}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Settings className=\"mr-2 size-4\" />\n\t\t\t\t\t\tAdd Equipment\n\t\t\t\t\t</Link>\n\t\t\t\t</Button>\n\t\t\t),\n\t\t\tcontent:\n\t\t\t\tequipment.length === 0 ? (\n\t\t\t\t\t<UnifiedAccordionContent>\n\t\t\t\t\t\t<div className=\"flex flex-col items-center justify-center py-12 text-center\">\n\t\t\t\t\t\t\t<Settings className=\"text-muted-foreground mb-4 size-12\" />\n\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-sm\">\n\t\t\t\t\t\t\t\tNo equipment installed at this property\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<Button asChild className=\"mt-4\" size=\"sm\" variant=\"outline\">\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\thref={`/dashboard/work/equipment/new?propertyId=${property.id}`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tAdd Equipment\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</UnifiedAccordionContent>\n\t\t\t\t) : (\n\t\t\t\t\t<UnifiedAccordionContent className=\"p-0\">\n\t\t\t\t\t\t<PropertyEquipmentTable equipment={equipment} />\n\t\t\t\t\t</UnifiedAccordionContent>\n\t\t\t\t),\n\t\t},\n\t\t// NEW: Estimates Section\n\t\t{\n\t\t\tid: \"estimates\",\n\t\t\ttitle: \"Estimates\",\n\t\t\ticon: <FileText className=\"size-4\" />,\n\t\t\tcount: estimates.length,\n\t\t\tcontent: (\n\t\t\t\t<UnifiedAccordionContent className=\"p-0\">\n\t\t\t\t\t<div className=\"text-muted-foreground border-b px-6 py-4 text-sm\">\n\t\t\t\t\t\tEstimates and quotes for work at this property.\n\t\t\t\t\t</div>\n\t\t\t\t\t{estimates.length > 0 ? (\n\t\t\t\t\t\t<div className=\"overflow-x-auto\">\n\t\t\t\t\t\t\t<table className=\"w-full\">\n\t\t\t\t\t\t\t\t<thead className=\"bg-muted/50 border-b\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<th className=\"px-6 py-3 text-left text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\tEstimate #\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t<th className=\"px-6 py-3 text-left text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\tTitle\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t<th className=\"px-6 py-3 text-left text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\tDate\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t<th className=\"px-6 py-3 text-left text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\tTotal\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t<th className=\"px-6 py-3 text-left text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\tStatus\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t<th className=\"px-6 py-3 text-left text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\tActions\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t{estimates.map((estimate: any) => (\n\t\t\t\t\t\t\t\t\t\t<tr\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"hover:bg-muted/30 border-b\"\n\t\t\t\t\t\t\t\t\t\t\tkey={estimate.id}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"px-6 py-4 text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t#{estimate.estimate_number || estimate.id.slice(0, 8)}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"px-6 py-4 text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t{estimate.title || \"-\"}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"px-6 py-4 text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t{new Date(estimate.created_at).toLocaleDateString()}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"px-6 py-4 text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t{formatCurrency(estimate.total_amount)}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"px-6 py-4 text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Badge variant=\"outline\">{estimate.status}</Badge>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"px-6 py-4 text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-primary hover:underline\"\n\t\t\t\t\t\t\t\t\t\t\t\t\thref={`/dashboard/work/estimates/${estimate.id}`}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\tView\n\t\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div className=\"flex flex-col items-center justify-center p-12 text-center\">\n\t\t\t\t\t\t\t<FileText className=\"text-muted-foreground h-8 w-8\" />\n\t\t\t\t\t\t\t<p className=\"text-muted-foreground mt-2 text-sm\">\n\t\t\t\t\t\t\t\tNo estimates for this property yet.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</UnifiedAccordionContent>\n\t\t\t),\n\t\t},\n\t\t// NEW: Invoices Section\n\t\t{\n\t\t\tid: \"invoices\",\n\t\t\ttitle: \"Invoices\",\n\t\t\ticon: <Receipt className=\"size-4\" />,\n\t\t\tcount: invoices.length,\n\t\t\tcontent: (\n\t\t\t\t<UnifiedAccordionContent className=\"p-0\">\n\t\t\t\t\t<div className=\"text-muted-foreground border-b px-6 py-4 text-sm\">\n\t\t\t\t\t\tBilling and invoices for work at this property.\n\t\t\t\t\t</div>\n\t\t\t\t\t{invoices.length > 0 ? (\n\t\t\t\t\t\t<div className=\"overflow-x-auto\">\n\t\t\t\t\t\t\t<table className=\"w-full\">\n\t\t\t\t\t\t\t\t<thead className=\"bg-muted/50 border-b\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<th className=\"px-6 py-3 text-left text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\tInvoice #\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t<th className=\"px-6 py-3 text-left text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\tTitle\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t<th className=\"px-6 py-3 text-left text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\tDate\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t<th className=\"px-6 py-3 text-left text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\tTotal\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t<th className=\"px-6 py-3 text-left text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\tBalance\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t<th className=\"px-6 py-3 text-left text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\tStatus\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t<th className=\"px-6 py-3 text-left text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\tActions\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t{invoices.map((invoice: any) => (\n\t\t\t\t\t\t\t\t\t\t<tr className=\"hover:bg-muted/30 border-b\" key={invoice.id}>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"px-6 py-4 text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t#{invoice.invoice_number || invoice.id.slice(0, 8)}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"px-6 py-4 text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t{invoice.title || \"-\"}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"px-6 py-4 text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t{new Date(invoice.created_at).toLocaleDateString()}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"px-6 py-4 text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t{formatCurrency(invoice.total_amount)}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"px-6 py-4 text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t{formatCurrency(invoice.balance_amount)}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"px-6 py-4 text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant={\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tinvoice.status === \"paid\" ? \"default\" : \"outline\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{invoice.status}\n\t\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"px-6 py-4 text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-primary hover:underline\"\n\t\t\t\t\t\t\t\t\t\t\t\t\thref={`/dashboard/work/invoices/${invoice.id}`}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\tView\n\t\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div className=\"flex flex-col items-center justify-center p-12 text-center\">\n\t\t\t\t\t\t\t<Receipt className=\"text-muted-foreground h-8 w-8\" />\n\t\t\t\t\t\t\t<p className=\"text-muted-foreground mt-2 text-sm\">\n\t\t\t\t\t\t\t\tNo invoices for this property yet.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</UnifiedAccordionContent>\n\t\t\t),\n\t\t},\n\t\t// NEW: Maintenance Plans Section\n\t\t{\n\t\t\tid: \"maintenance-plans\",\n\t\t\ttitle: \"Maintenance Plans\",\n\t\t\ticon: <ShieldCheck className=\"size-4\" />,\n\t\t\tcount: maintenancePlans.length,\n\t\t\tcontent: (\n\t\t\t\t<UnifiedAccordionContent className=\"p-0\">\n\t\t\t\t\t<div className=\"text-muted-foreground border-b px-6 py-4 text-sm\">\n\t\t\t\t\t\tActive maintenance plans for this property.\n\t\t\t\t\t</div>\n\t\t\t\t\t{maintenancePlans.length > 0 ? (\n\t\t\t\t\t\t<div className=\"overflow-x-auto\">\n\t\t\t\t\t\t\t<table className=\"w-full\">\n\t\t\t\t\t\t\t\t<thead className=\"bg-muted/50 border-b\">\n\t\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t\t<th className=\"px-6 py-3 text-left text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\tPlan Name\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t<th className=\"px-6 py-3 text-left text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\tFrequency\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t<th className=\"px-6 py-3 text-left text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\tNext Service\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t<th className=\"px-6 py-3 text-left text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\tStatus\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t\t<th className=\"px-6 py-3 text-left text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\tActions\n\t\t\t\t\t\t\t\t\t\t</th>\n\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t\t\t{maintenancePlans.map((plan: any) => (\n\t\t\t\t\t\t\t\t\t\t<tr className=\"hover:bg-muted/30 border-b\" key={plan.id}>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"px-6 py-4 text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t{plan.name || `Plan ${plan.id.slice(0, 8)}`}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"px-6 py-4 text-sm capitalize\">\n\t\t\t\t\t\t\t\t\t\t\t\t{plan.frequency || \"Monthly\"}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"px-6 py-4 text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t{plan.next_service_date\n\t\t\t\t\t\t\t\t\t\t\t\t\t? new Date(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplan.next_service_date,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toLocaleDateString()\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"-\"}\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"px-6 py-4 text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Badge variant=\"outline\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{plan.status || \"active\"}\n\t\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t\t<td className=\"px-6 py-4 text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-primary hover:underline\"\n\t\t\t\t\t\t\t\t\t\t\t\t\thref={`/dashboard/work/maintenance-plans/${plan.id}`}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\tView\n\t\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t</table>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div className=\"flex flex-col items-center justify-center p-12 text-center\">\n\t\t\t\t\t\t\t<ShieldCheck className=\"text-muted-foreground h-8 w-8\" />\n\t\t\t\t\t\t\t<p className=\"text-muted-foreground mt-2 text-sm\">\n\t\t\t\t\t\t\t\tNo maintenance plans for this property.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</UnifiedAccordionContent>\n\t\t\t),\n\t\t},\n\t\t{\n\t\t\tid: \"notes\",\n\t\t\ttitle: \"Notes\",\n\t\t\ticon: <FileText className=\"size-4\" />,\n\t\t\tcount: notes.length,\n\t\t\tactions: (\n\t\t\t\t<Button size=\"sm\" variant=\"outline\">\n\t\t\t\t\t<FileText className=\"mr-2 size-4\" />\n\t\t\t\t\tAdd Note\n\t\t\t\t</Button>\n\t\t\t),\n\t\t\tcontent: (\n\t\t\t\t<UnifiedAccordionContent>\n\t\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t\t{notes.length === 0 ? (\n\t\t\t\t\t\t\t<div className=\"flex flex-col items-center justify-center py-12 text-center\">\n\t\t\t\t\t\t\t\t<FileText className=\"text-muted-foreground mb-4 size-12\" />\n\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-sm\">No notes yet</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t{notes.map((note: any, idx: number) => (\n\t\t\t\t\t\t\t\t\t<div className=\"rounded-lg border p-4\" key={idx}>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm\">{note.content || note.note}</p>\n\t\t\t\t\t\t\t\t\t\t<div className=\"mt-2 flex items-center justify-between\">\n\t\t\t\t\t\t\t\t\t\t\t{note.user && (\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\t\tby {note.user.name || note.user.email}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\t{new Date(note.created_at).toLocaleString()}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</UnifiedAccordionContent>\n\t\t\t),\n\t\t},\n\t\t{\n\t\t\tid: \"attachments\",\n\t\t\ttitle: \"Attachments\",\n\t\t\ticon: <Paperclip className=\"size-4\" />,\n\t\t\tcount: attachments.length,\n\t\t\tactions: (\n\t\t\t\t<Button size=\"sm\" variant=\"outline\">\n\t\t\t\t\t<Paperclip className=\"mr-2 size-4\" />\n\t\t\t\t\tUpload File\n\t\t\t\t</Button>\n\t\t\t),\n\t\t\tcontent: (\n\t\t\t\t<UnifiedAccordionContent>\n\t\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t\t{attachments.length === 0 ? (\n\t\t\t\t\t\t\t<div className=\"flex flex-col items-center justify-center py-12 text-center\">\n\t\t\t\t\t\t\t\t<Paperclip className=\"text-muted-foreground mb-4 size-12\" />\n\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-sm\">\n\t\t\t\t\t\t\t\t\tNo attachments yet\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div className=\"grid gap-3 sm:grid-cols-2 md:grid-cols-3\">\n\t\t\t\t\t\t\t\t{attachments.map((attachment: any, idx: number) => (\n\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\tclassName=\"hover:bg-accent flex items-center gap-3 rounded-lg border p-4\"\n\t\t\t\t\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Paperclip className=\"text-muted-foreground size-4\" />\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex-1 overflow-hidden\">\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"truncate text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t{attachment.filename || \"Untitled\"}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\t{attachment.file_size\n\t\t\t\t\t\t\t\t\t\t\t\t\t? `${(attachment.file_size / 1024).toFixed(1)} KB`\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"Unknown size\"}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t</UnifiedAccordionContent>\n\t\t\t),\n\t\t},\n\t\t{\n\t\t\tid: \"customer\",\n\t\t\ttitle: \"Customer Information\",\n\t\t\ticon: <User className=\"size-4\" />,\n\t\t\tactions: (\n\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t{customer?.email && (\n\t\t\t\t\t\t<Button asChild size=\"sm\" variant=\"outline\">\n\t\t\t\t\t\t\t<Link href={`mailto:${customer.email}`}>\n\t\t\t\t\t\t\t\t<Mail className=\"mr-2 size-4\" />\n\t\t\t\t\t\t\t\tEmail Customer\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t\t{customer?.phone && (\n\t\t\t\t\t\t<Button asChild size=\"sm\" variant=\"outline\">\n\t\t\t\t\t\t\t<Link href={`tel:${customer.phone}`}>\n\t\t\t\t\t\t\t\t<Phone className=\"mr-2 size-4\" />\n\t\t\t\t\t\t\t\tCall Customer\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t\t{customer?.id && (\n\t\t\t\t\t\t<Button asChild size=\"sm\" variant=\"outline\">\n\t\t\t\t\t\t\t<Link href={`/dashboard/customers/${customer.id}`}>\n\t\t\t\t\t\t\t\t<User className=\"mr-2 size-4\" />\n\t\t\t\t\t\t\t\tView Full Profile\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t),\n\t\t\tcontent: (\n\t\t\t\t<UnifiedAccordionContent>\n\t\t\t\t\t{customer ? (\n\t\t\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t\t\t<div className=\"flex items-start gap-4\">\n\t\t\t\t\t\t\t\t<div className=\"bg-primary/10 flex size-12 items-center justify-center rounded-full\">\n\t\t\t\t\t\t\t\t\t<User className=\"text-primary size-6\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className=\"flex-1 space-y-3\">\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"font-semibold text-lg\">\n\t\t\t\t\t\t\t\t\t\t\t{customer.display_name ||\n\t\t\t\t\t\t\t\t\t\t\t\t`${customer.first_name || ''} ${customer.last_name || ''}`.trim() ||\n\t\t\t\t\t\t\t\t\t\t\t\t'Customer'}\n\t\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t\t{customer.company_name && (\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-sm\">{customer.company_name}</p>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t\t\t\t{customer.email && (\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Mail className=\"text-muted-foreground size-4 shrink-0\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\t\thref={`mailto:${customer.email}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-primary hover:underline\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{customer.email}\n\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{customer.phone && (\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Phone className=\"text-muted-foreground size-4 shrink-0\" />\n\t\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\t\thref={`tel:${customer.phone}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-primary hover:underline\"\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{customer.phone}\n\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{!customer.email && !customer.phone && (\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-sm italic\">\n\t\t\t\t\t\t\t\t\t\t\t\tNo contact information available\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<div className=\"text-muted-foreground flex flex-col items-center justify-center py-12 text-center text-sm\">\n\t\t\t\t\t\t\t<User className=\"text-muted-foreground mb-4 size-10\" />\n\t\t\t\t\t\t\tNo customer information available\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</UnifiedAccordionContent>\n\t\t\t),\n\t\t},\n\t];\n\n\t// Custom Header with Travel Time\n\tconst propertyTags =\n\t\t(property?.metadata?.tags &&\n\t\t\tArray.isArray(property.metadata.tags) &&\n\t\t\tproperty.metadata.tags) ||\n\t\t[];\n\n\tconst customHeader = (\n\t\t<div className=\"w-full px-2 sm:px-0\">\n\t\t\t<div className=\"bg-muted/50 mx-auto max-w-7xl rounded-md shadow-sm\">\n\t\t\t\t<div className=\"flex flex-col gap-4 p-4 sm:p-6\">\n\t\t\t\t\t{/* Property Name and Location */}\n\t\t\t\t\t<div className=\"flex flex-col gap-3\">\n\t\t\t\t\t\t<div className=\"flex items-start justify-between\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-4\">\n\t\t\t\t\t\t\t\t<div className=\"bg-primary/10 ring-border flex size-16 items-center justify-center rounded-lg ring-2\">\n\t\t\t\t\t\t\t\t\t<Building2 className=\"text-primary size-8\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<h1 className=\"text-2xl font-semibold\">\n\t\t\t\t\t\t\t\t\t\t{property.name || property.address}\n\t\t\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-sm\">\n\t\t\t\t\t\t\t\t\t\t{property.city}, {property.state} {property.zip_code}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Badges */}\n\t\t\t\t\t<div className=\"flex flex-wrap gap-2\">\n\t\t\t\t\t\t<Badge className=\"gap-1.5\" variant=\"secondary\">\n\t\t\t\t\t\t\t<Building2 className=\"size-3.5\" />\n\t\t\t\t\t\t\t{property.property_type || \"Residential\"}\n\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t{property.square_footage && (\n\t\t\t\t\t\t\t<Badge className=\"gap-1.5\" variant=\"secondary\">\n\t\t\t\t\t\t\t\t<Ruler className=\"size-3.5\" />\n\t\t\t\t\t\t\t\t{property.square_footage.toLocaleString()} sq ft\n\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{metrics.equipmentCount > 0 && (\n\t\t\t\t\t\t\t<Badge className=\"gap-1.5\" variant=\"secondary\">\n\t\t\t\t\t\t\t\t<Settings className=\"size-3.5\" />\n\t\t\t\t\t\t\t\t{metrics.equipmentCount} Equipment\n\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{metrics.activeJobs > 0 && (\n\t\t\t\t\t\t\t<Badge className=\"gap-1.5\" variant=\"secondary\">\n\t\t\t\t\t\t\t\t<Briefcase className=\"size-3.5\" />\n\t\t\t\t\t\t\t\t{metrics.activeJobs} Active Jobs\n\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Tags */}\n\t\t\t\t\t<div className=\"flex flex-wrap items-center gap-2\">\n\t\t\t\t\t\t<span className=\"text-muted-foreground text-xs font-medium\">\n\t\t\t\t\t\t\tTags:\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<EntityTags\n\t\t\t\t\t\t\tentityId={property.id}\n\t\t\t\t\t\t\tentityType=\"property\"\n\t\t\t\t\t\t\tonUpdateTags={(id, tags) =>\n\t\t\t\t\t\t\t\tupdateEntityTags(\"property\", id, tags)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttags={propertyTags}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Travel Time */}\n\t\t\t\t\t{property && (\n\t\t\t\t\t\t<TravelTime\n\t\t\t\t\t\t\tproperty={{\n\t\t\t\t\t\t\t\taddress: property.address ?? undefined,\n\t\t\t\t\t\t\t\tcity: property.city ?? undefined,\n\t\t\t\t\t\t\t\tstate: property.state ?? undefined,\n\t\t\t\t\t\t\t\tzip_code: property.zip_code ?? undefined,\n\t\t\t\t\t\t\t\tlat: property.lat ?? undefined,\n\t\t\t\t\t\t\t\tlon: property.lon ?? undefined,\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n\n\treturn (\n\t\t<DetailPageContentLayout\n\t\t\tactivities={activities}\n\t\t\tattachments={[]}\n\t\t\tcustomHeader={customHeader}\n\t\t\tcustomSections={sections}\n\t\t\tdefaultOpenSection=\"location\"\n\t\t\tenableReordering={true}\n\t\t\tnotes={[]}\n\t\t\tshowStandardSections={{\n\t\t\t\tactivities: true,\n\t\t\t\tnotes: false,\n\t\t\t\tattachments: false,\n\t\t\t\trelatedItems: false,\n\t\t\t}}\n\t\t\tstorageKey=\"property-details\"\n\t\t/>\n\t);\n}\n","/* __next_internal_action_entry_do_not_use__ [{\"60bc2c83da6158cf177ce1d0c73aba3655e921db94\":\"_updateProperty\"},\"apps/web/src/actions/properties.ts\",\"\"] */\"use turbopack no side effects\";import{createServerReference,callServer,findSourceMapURL}from\"private-next-rsc-action-client-wrapper\";export var _updateProperty=/*#__PURE__*/createServerReference(\"60bc2c83da6158cf177ce1d0c73aba3655e921db94\",callServer,void 0,findSourceMapURL,\"_updateProperty\");","\"use client\";\n\nimport { Calendar, Eye, MoreHorizontal, Wrench } from \"lucide-react\";\nimport Link from \"next/link\";\nimport { useMemo } from \"react\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n\tDropdownMenu,\n\tDropdownMenuContent,\n\tDropdownMenuItem,\n\tDropdownMenuSeparator,\n\tDropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport {\n\ttype ColumnDef,\n\tFullWidthDataTable,\n} from \"@/components/ui/full-width-datatable\";\nimport { TablePresets } from \"@/lib/datatable/table-presets\";\n\ntype PropertyEquipment = {\n\tid: string;\n\tequipment_number: string;\n\tname: string;\n\ttype?: string;\n\tmanufacturer?: string;\n\tmodel?: string;\n\tserial_number?: string;\n\tinstall_date?: string;\n\twarranty_expiry?: string;\n\tstatus?: string;\n\tlocation?: string;\n};\n\ntype PropertyEquipmentTableProps = {\n\tequipment: PropertyEquipment[];\n};\n\nexport function PropertyEquipmentTable({\n\tequipment,\n}: PropertyEquipmentTableProps) {\n\tconst getStatusColor = (status?: string) => {\n\t\tif (!status) {\n\t\t\treturn \"bg-secondary0/10 text-muted-foreground\";\n\t\t}\n\t\tconst statusColors: Record<string, string> = {\n\t\t\tactive: \"bg-success/10 text-success hover:bg-success/20\",\n\t\t\tinactive: \"bg-secondary0/10 text-muted-foreground hover:bg-secondary0/20\",\n\t\t\tmaintenance: \"bg-warning/10 text-warning hover:bg-warning/20\",\n\t\t\tretired: \"bg-destructive/10 text-destructive hover:bg-destructive/20\",\n\t\t};\n\t\treturn (\n\t\t\tstatusColors[status.toLowerCase()] ||\n\t\t\t\"bg-secondary0/10 text-muted-foreground\"\n\t\t);\n\t};\n\n\tconst columns: ColumnDef<PropertyEquipment>[] = useMemo(\n\t\t() => [\n\t\t\t{\n\t\t\t\tkey: \"equipment_number\",\n\t\t\t\theader: \"Equipment #\",\n\t\t\t\twidth: \"w-32\",\n\t\t\t\tshrink: true,\n\t\t\t\trender: (equipment) => (\n\t\t\t\t\t<Link\n\t\t\t\t\t\tclassName=\"font-mono text-xs font-medium hover:underline\"\n\t\t\t\t\t\thref={`/dashboard/work/equipment/${equipment.id}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t{equipment.equipment_number}\n\t\t\t\t\t</Link>\n\t\t\t\t),\n\t\t\t},\n\t\t\t{\n\t\t\t\tkey: \"name\",\n\t\t\t\theader: \"Name\",\n\t\t\t\trender: (equipment) => (\n\t\t\t\t\t<Link\n\t\t\t\t\t\tclassName=\"block min-w-0\"\n\t\t\t\t\t\thref={`/dashboard/work/equipment/${equipment.id}`}\n\t\t\t\t\t\tonClick={(e) => e.stopPropagation()}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"flex flex-col gap-1\">\n\t\t\t\t\t\t\t<span className=\"text-xs leading-tight font-medium hover:underline\">\n\t\t\t\t\t\t\t\t{equipment.name}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t{equipment.type && (\n\t\t\t\t\t\t\t\t<span className=\"text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t\t\t{equipment.type}\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Link>\n\t\t\t\t),\n\t\t\t},\n\t\t\t{\n\t\t\t\tkey: \"manufacturer\",\n\t\t\t\theader: \"Manufacturer\",\n\t\t\t\twidth: \"w-48\",\n\t\t\t\thideOnMobile: true,\n\t\t\t\trender: (equipment) => (\n\t\t\t\t\t<div className=\"flex flex-col gap-1 text-xs\">\n\t\t\t\t\t\t<span>{equipment.manufacturer || \"-\"}</span>\n\t\t\t\t\t\t{equipment.model && (\n\t\t\t\t\t\t\t<span className=\"text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t\tModel: {equipment.model}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t),\n\t\t\t},\n\t\t\t{\n\t\t\t\tkey: \"serial_number\",\n\t\t\t\theader: \"Serial Number\",\n\t\t\t\twidth: \"w-40\",\n\t\t\t\thideOnMobile: true,\n\t\t\t\trender: (equipment) => (\n\t\t\t\t\t<span className=\"font-mono text-xs\">\n\t\t\t\t\t\t{equipment.serial_number || \"-\"}\n\t\t\t\t\t</span>\n\t\t\t\t),\n\t\t\t},\n\t\t\t{\n\t\t\t\tkey: \"location\",\n\t\t\t\theader: \"Location\",\n\t\t\t\twidth: \"w-32\",\n\t\t\t\thideOnMobile: true,\n\t\t\t\trender: (equipment) => (\n\t\t\t\t\t<span className=\"text-xs\">{equipment.location || \"-\"}</span>\n\t\t\t\t),\n\t\t\t},\n\t\t\t{\n\t\t\t\tkey: \"install_date\",\n\t\t\t\theader: \"Installed\",\n\t\t\t\twidth: \"w-32\",\n\t\t\t\tshrink: true,\n\t\t\t\trender: (equipment) => {\n\t\t\t\t\tconst installDate = equipment.install_date;\n\t\t\t\t\treturn installDate ? (\n\t\t\t\t\t\t<div className=\"flex items-center gap-2 text-xs\">\n\t\t\t\t\t\t\t<Calendar className=\"text-muted-foreground size-4\" />\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{new Date(installDate).toLocaleDateString(undefined, {\n\t\t\t\t\t\t\t\t\tmonth: \"short\",\n\t\t\t\t\t\t\t\t\tyear: \"numeric\",\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<span className=\"text-muted-foreground text-xs\">-</span>\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tkey: \"status\",\n\t\t\t\theader: \"Status\",\n\t\t\t\twidth: \"w-28\",\n\t\t\t\tshrink: true,\n\t\t\t\trender: (equipment) => {\n\t\t\t\t\tconst status = equipment.status || \"active\";\n\t\t\t\t\treturn <Badge className={getStatusColor(status)}>{status}</Badge>;\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tkey: \"actions\",\n\t\t\t\theader: \"\",\n\t\t\t\twidth: \"w-12\",\n\t\t\t\tshrink: true,\n\t\t\t\talign: \"right\",\n\t\t\t\trender: (equipment) => (\n\t\t\t\t\t<DropdownMenu>\n\t\t\t\t\t\t<DropdownMenuTrigger asChild>\n\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"ghost\">\n\t\t\t\t\t\t\t\t<MoreHorizontal className=\"size-4\" />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</DropdownMenuTrigger>\n\t\t\t\t\t\t<DropdownMenuContent align=\"end\">\n\t\t\t\t\t\t\t<DropdownMenuItem asChild>\n\t\t\t\t\t\t\t\t<Link href={`/dashboard/work/equipment/${equipment.id}`}>\n\t\t\t\t\t\t\t\t\t<Eye className=\"mr-2 size-4\" />\n\t\t\t\t\t\t\t\t\tView Equipment\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</DropdownMenuItem>\n\t\t\t\t\t\t\t<DropdownMenuSeparator />\n\t\t\t\t\t\t\t<DropdownMenuItem>\n\t\t\t\t\t\t\t\t<Wrench className=\"mr-2 size-4\" />\n\t\t\t\t\t\t\t\tSchedule Maintenance\n\t\t\t\t\t\t\t</DropdownMenuItem>\n\t\t\t\t\t\t</DropdownMenuContent>\n\t\t\t\t\t</DropdownMenu>\n\t\t\t\t),\n\t\t\t},\n\t\t],\n\t\t[getStatusColor],\n\t);\n\n\treturn (\n\t\t<FullWidthDataTable\n\t\t\t{...TablePresets.compact()}\n\t\t\tcolumns={columns}\n\t\t\tdata={equipment}\n\t\t\temptyMessage=\"No equipment installed at this property\"\n\t\t\tgetItemId={(item) => item.id}\n\t\t\tsearchFilter={(item, query) =>\n\t\t\t\titem.name.toLowerCase().includes(query.toLowerCase()) ||\n\t\t\t\titem.equipment_number.toLowerCase().includes(query.toLowerCase()) ||\n\t\t\t\t(item.serial_number?.toLowerCase().includes(query.toLowerCase()) ??\n\t\t\t\t\tfalse)\n\t\t\t}\n\t\t\tsearchPlaceholder=\"Search equipment...\"\n\t\t/>\n\t);\n}\n","\"use client\";\n\nimport { Calendar, CheckCircle, Eye, MoreHorizontal, User } from \"lucide-react\";\nimport Link from \"next/link\";\nimport { useMemo } from \"react\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n\tDropdownMenu,\n\tDropdownMenuContent,\n\tDropdownMenuItem,\n\tDropdownMenuSeparator,\n\tDropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport {\n\ttype ColumnDef,\n\tFullWidthDataTable,\n} from \"@/components/ui/full-width-datatable\";\nimport { TablePresets } from \"@/lib/datatable/table-presets\";\n\ntype PropertyJob = {\n\tid: string;\n\tjob_number: string;\n\ttitle: string;\n\tstatus: string;\n\tpriority?: string;\n\tscheduled_start?: string;\n\tscheduled_end?: string;\n\ttotal_amount?: number;\n\tpaid_amount?: number;\n\tcreated_at: string;\n\tcustomer?: {\n\t\tid: string;\n\t\tfirst_name: string;\n\t\tlast_name: string;\n\t};\n\tassigned_user?: {\n\t\tid: string;\n\t\tname: string;\n\t\tavatar?: string;\n\t};\n};\n\ntype PropertyJobsTableProps = {\n\tjobs: PropertyJob[];\n};\n\nexport function PropertyJobsTable({ jobs }: PropertyJobsTableProps) {\n\tconst getStatusColor = (status: string) => {\n\t\tconst statusColors: Record<string, string> = {\n\t\t\tpending: \"bg-warning/10 text-warning hover:bg-warning/20\",\n\t\t\tscheduled: \"bg-primary/10 text-primary hover:bg-primary/20\",\n\t\t\tin_progress: \"bg-accent/10 text-accent-foreground hover:bg-accent/20\",\n\t\t\tcompleted: \"bg-success/10 text-success hover:bg-success/20\",\n\t\t\tcancelled: \"bg-destructive/10 text-destructive hover:bg-destructive/20\",\n\t\t};\n\t\treturn (\n\t\t\tstatusColors[status.toLowerCase()] ||\n\t\t\t\"bg-secondary0/10 text-muted-foreground\"\n\t\t);\n\t};\n\n\tconst getPriorityColor = (priority?: string) => {\n\t\tif (!priority) {\n\t\t\treturn \"bg-secondary0/10 text-muted-foreground\";\n\t\t}\n\t\tconst priorityColors: Record<string, string> = {\n\t\t\tlow: \"bg-primary/10 text-primary\",\n\t\t\tmedium: \"bg-warning/10 text-warning\",\n\t\t\thigh: \"bg-warning/10 text-warning\",\n\t\t\turgent: \"bg-destructive/10 text-destructive\",\n\t\t};\n\t\treturn (\n\t\t\tpriorityColors[priority.toLowerCase()] ||\n\t\t\t\"bg-secondary0/10 text-muted-foreground\"\n\t\t);\n\t};\n\n\tconst formatCurrency = (cents?: number) => {\n\t\tif (!cents) {\n\t\t\treturn \"-\";\n\t\t}\n\t\treturn new Intl.NumberFormat(\"en-US\", {\n\t\t\tstyle: \"currency\",\n\t\t\tcurrency: \"USD\",\n\t\t\tminimumFractionDigits: 0,\n\t\t\tmaximumFractionDigits: 0,\n\t\t}).format(cents / 100);\n\t};\n\n\tconst columns: ColumnDef<PropertyJob>[] = useMemo(\n\t\t() => [\n\t\t\t{\n\t\t\t\tkey: \"job_number\",\n\t\t\t\theader: \"Job #\",\n\t\t\t\twidth: \"w-32\",\n\t\t\t\tshrink: true,\n\t\t\t\trender: (job) => (\n\t\t\t\t\t<Link\n\t\t\t\t\t\tclassName=\"font-mono text-xs font-medium hover:underline\"\n\t\t\t\t\t\thref={`/dashboard/work/${job.id}`}\n\t\t\t\t\t>\n\t\t\t\t\t\t{job.job_number}\n\t\t\t\t\t</Link>\n\t\t\t\t),\n\t\t\t},\n\t\t\t{\n\t\t\t\tkey: \"title\",\n\t\t\t\theader: \"Title\",\n\t\t\t\trender: (job) => (\n\t\t\t\t\t<Link\n\t\t\t\t\t\tclassName=\"block min-w-0\"\n\t\t\t\t\t\thref={`/dashboard/work/${job.id}`}\n\t\t\t\t\t\tonClick={(e) => e.stopPropagation()}\n\t\t\t\t\t>\n\t\t\t\t\t\t<span className=\"text-xs leading-tight font-medium hover:underline\">\n\t\t\t\t\t\t\t{job.title}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</Link>\n\t\t\t\t),\n\t\t\t},\n\t\t\t{\n\t\t\t\tkey: \"customer\",\n\t\t\t\theader: \"Customer\",\n\t\t\t\twidth: \"w-48\",\n\t\t\t\thideOnMobile: true,\n\t\t\t\trender: (job) => {\n\t\t\t\t\tconst customer = job.customer;\n\t\t\t\t\treturn customer ? (\n\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\tclassName=\"flex items-center gap-2 hover:underline\"\n\t\t\t\t\t\t\thref={`/dashboard/sales/customers/${customer.id}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<User className=\"text-muted-foreground size-4\" />\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{customer.first_name} {customer.last_name}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</Link>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<span className=\"text-muted-foreground\">No customer</span>\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tkey: \"status\",\n\t\t\t\theader: \"Status\",\n\t\t\t\twidth: \"w-32\",\n\t\t\t\tshrink: true,\n\t\t\t\trender: (job) => (\n\t\t\t\t\t<Badge className={getStatusColor(job.status)}>{job.status}</Badge>\n\t\t\t\t),\n\t\t\t},\n\t\t\t{\n\t\t\t\tkey: \"priority\",\n\t\t\t\theader: \"Priority\",\n\t\t\t\twidth: \"w-24\",\n\t\t\t\tshrink: true,\n\t\t\t\thideOnMobile: true,\n\t\t\t\trender: (job) => {\n\t\t\t\t\tconst priority = job.priority;\n\t\t\t\t\treturn priority ? (\n\t\t\t\t\t\t<Badge className={getPriorityColor(priority)}>{priority}</Badge>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<span className=\"text-muted-foreground text-xs\">-</span>\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tkey: \"value\",\n\t\t\t\theader: \"Value\",\n\t\t\t\twidth: \"w-32\",\n\t\t\t\tshrink: true,\n\t\t\t\talign: \"right\",\n\t\t\t\trender: (job) => (\n\t\t\t\t\t<div className=\"flex flex-col items-end gap-1\">\n\t\t\t\t\t\t<span className=\"text-xs font-medium\">\n\t\t\t\t\t\t\t{formatCurrency(job.financial?.total_amount ?? 0)}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t{job.financial?.paid_amount && job.financial?.total_amount && (\n\t\t\t\t\t\t\t<span className=\"text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t\t{formatCurrency(job.financial.paid_amount)} paid\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\t\t\t\t),\n\t\t\t},\n\t\t\t{\n\t\t\t\tkey: \"scheduled\",\n\t\t\t\theader: \"Scheduled\",\n\t\t\t\twidth: \"w-36\",\n\t\t\t\tshrink: true,\n\t\t\t\trender: (job) => {\n\t\t\t\t\tconst scheduledStart = job.scheduled_start;\n\t\t\t\t\treturn scheduledStart ? (\n\t\t\t\t\t\t<div className=\"flex items-center gap-2 text-xs\">\n\t\t\t\t\t\t\t<Calendar className=\"text-muted-foreground size-4\" />\n\t\t\t\t\t\t\t<span>\n\t\t\t\t\t\t\t\t{new Date(scheduledStart).toLocaleDateString(undefined, {\n\t\t\t\t\t\t\t\t\tmonth: \"short\",\n\t\t\t\t\t\t\t\t\tday: \"numeric\",\n\t\t\t\t\t\t\t\t\tyear: \"numeric\",\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<span className=\"text-muted-foreground text-xs\">Not scheduled</span>\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\tkey: \"actions\",\n\t\t\t\theader: \"\",\n\t\t\t\twidth: \"w-12\",\n\t\t\t\tshrink: true,\n\t\t\t\talign: \"right\",\n\t\t\t\trender: (job) => (\n\t\t\t\t\t<DropdownMenu>\n\t\t\t\t\t\t<DropdownMenuTrigger asChild>\n\t\t\t\t\t\t\t<Button size=\"sm\" variant=\"ghost\">\n\t\t\t\t\t\t\t\t<MoreHorizontal className=\"size-4\" />\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</DropdownMenuTrigger>\n\t\t\t\t\t\t<DropdownMenuContent align=\"end\">\n\t\t\t\t\t\t\t<DropdownMenuItem asChild>\n\t\t\t\t\t\t\t\t<Link href={`/dashboard/work/${job.id}`}>\n\t\t\t\t\t\t\t\t\t<Eye className=\"mr-2 size-4\" />\n\t\t\t\t\t\t\t\t\tView Job\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</DropdownMenuItem>\n\t\t\t\t\t\t\t<DropdownMenuSeparator />\n\t\t\t\t\t\t\t<DropdownMenuItem>\n\t\t\t\t\t\t\t\t<CheckCircle className=\"mr-2 size-4\" />\n\t\t\t\t\t\t\t\tMark Complete\n\t\t\t\t\t\t\t</DropdownMenuItem>\n\t\t\t\t\t\t</DropdownMenuContent>\n\t\t\t\t\t</DropdownMenu>\n\t\t\t\t),\n\t\t\t},\n\t\t],\n\t\t[formatCurrency, getPriorityColor, getStatusColor],\n\t);\n\n\treturn (\n\t\t<FullWidthDataTable\n\t\t\t{...TablePresets.compact()}\n\t\t\tcolumns={columns}\n\t\t\tdata={jobs}\n\t\t\temptyMessage=\"No jobs found for this property\"\n\t\t\tgetItemId={(item) => item.id}\n\t\t\tsearchFilter={(item, query) =>\n\t\t\t\titem.title.toLowerCase().includes(query.toLowerCase()) ||\n\t\t\t\titem.job_number.toLowerCase().includes(query.toLowerCase())\n\t\t\t}\n\t\t\tsearchPlaceholder=\"Search jobs...\"\n\t\t/>\n\t);\n}\n"],"names":[],"mappings":"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"}