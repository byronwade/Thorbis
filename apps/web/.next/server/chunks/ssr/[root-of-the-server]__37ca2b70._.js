module.exports=[951615,(a,b,c)=>{b.exports=a.x("node:buffer",()=>require("node:buffer"))},750227,(a,b,c)=>{b.exports=a.x("node:path",()=>require("node:path"))},518216,a=>{"use strict";class b{requests;maxRequests;windowMs;constructor(a,b){this.requests=new Map,this.maxRequests=a,this.windowMs=b,setInterval(()=>this.cleanup(),6e4)}async limit(a){let b=Date.now(),c=this.requests.get(a);return(c||(c={count:0,resetAt:b+this.windowMs,requests:[]},this.requests.set(a,c)),c.requests=c.requests.filter(a=>a>b-this.windowMs),c.requests.length>=this.maxRequests)?{success:!1,limit:this.maxRequests,remaining:0,reset:Math.min(...c.requests)+this.windowMs}:(c.requests.push(b),c.count=c.requests.length,{success:!0,limit:this.maxRequests,remaining:this.maxRequests-c.count,reset:b+this.windowMs})}cleanup(){let a=Date.now();for(let[b,c]of this.requests.entries())c.requests=c.requests.filter(b=>b>a-this.windowMs),0===c.requests.length&&this.requests.delete(b)}reset(a){this.requests.delete(a)}clear(){this.requests.clear()}}let c=new b(5,9e5),d=new b(100,6e4),e=new b(3,36e5),f={limit:a=>d.limit(a),reset:a=>d.reset(a)};class g extends Error{limit;remaining;reset;constructor(a,b,c,d){super(a),this.limit=b,this.remaining=c,this.reset=d,this.name="RateLimitError"}}async function h(a,b=f){let{success:c,limit:d,remaining:e,reset:i}=await b.limit(a);if(!c){let a=new Date(i);throw new g(`Too many requests. Please try again after ${a.toLocaleTimeString()}.`,d,e,i)}}a.s(["RateLimitError",()=>g,"authRateLimiter",0,{limit:a=>c.limit(a),reset:a=>c.reset(a)},"checkRateLimit",()=>h,"passwordResetRateLimiter",0,{limit:a=>e.limit(a),reset:a=>e.reset(a)}])},382515,a=>a.a(async(b,c)=>{try{a.i(288344);var d=a.i(304381);a.i(933427),a.i(894527);var e=a.i(533673),f=a.i(198114);a.i(103984),a.i(941771),a.i(854963),a.i(672766);var g=b([d,e,f]);[d,e,f]=g.then?(await g)():g,a.s([]),c()}catch(a){c(a)}},!1),822524,a=>a.a(async(b,c)=>{try{var d=a.i(382515),e=a.i(288344),f=a.i(304381),g=a.i(933427),h=a.i(894527),i=a.i(533673),j=a.i(198114),k=a.i(103984),l=a.i(941771),m=a.i(854963),n=a.i(672766),o=b([d,f,i,j]);[d,f,i,j]=o.then?(await o)():o,a.s(["001f005176797ef23488068124fb9a744915a477de",()=>e.getCurrentUserRole,"0043ae510c3322ea499beb9e1bb77d06afb4ef19bd",()=>f.signOut,"004cdde5e6ae8991bab4ba61ae40647c2b823200ba",()=>l.resetHourlyCounters,"00680f536cba89b363c5ca4650e4eb3bec15a811dc",()=>f.getCompanyIdAction,"006acf41615a2f7795c47b6d7a3016e18300f2ad17",()=>l.resetDailyCounters,"00a122f9d5fe3a1603c636c3a251886129b66154f8",()=>n.getProviderHealthDashboard,"00a13dbd00149949fc1367d3e76ae7d789e07f5321",()=>g.createServiceSupabaseClient,"00c53a1f02416c3261983f8096f19a3450bfd51775",()=>k.runHealthCheckForAllDomains,"00fe74bdf14126b5ad89e9480e82978d6357f356b3",()=>m.isGmailIntegrationEnabled,"400b8fb96146bfd004a3166563a5ab5536bb610c70",()=>k.getDomainHealth,"400ce95360aaffa14a99dfdf969ba5166c69a59eb6",()=>m.getUserGmailTokens,"40104c6fe35e38f96ad479521960f3a0e1b163d436",()=>f.signUp,"401d3d830065dd7c4777fad67f642392f48735c4ab",()=>m.disconnectCompanyGmail,"4029533ce31a3cebb2d524019c510908187c0a4cad",()=>f.completeProfile,"4029b163c1c0acfd806352a72fe8030c8ae4f7f8ac",()=>l.incrementEmailCounter,"404575d602ef4c60c0058b592b8c3e42fbcd13fc4c",()=>m.disconnectUserGmail,"404d6f2891af89c71d5bde33d110a216bdd3ee4729",()=>k.recordDeliveryEvent,"405c57a8fed352b8679525b56014eb8c49105c850c",()=>k.getCompanyDomainsHealth,"405edbcad8d8902932627713a28c9047e6042d1151",()=>f.signIn,"406f6624261c6dd1a908026fa1408a3f6d507b6e7d",()=>e.canDeleteTeamMember,"40787b1598849126560f9f0b0f8fe8967338c7bf28",()=>m.getCompanyEmailProvider,"407a5a7d0a7dd7989a963eb2485a3527c1dcb20a70",()=>l.getCompanyActiveDomain,"40918c47ff3c08b28739e0d9c7004c9fe67f5bdad0",()=>f.verifyEmail,"4092ddfc0e09825d6739a8441ea0b2f8f4c05296d4",()=>f.signInWithOAuth,"40ad037af6f6ab1a3004746d3a1b65afa65527002d",()=>k.processResendWebhookEvent,"40af86a915f04df8d7cc189fe26e45e0cc24663080",()=>l.checkRateLimit,"40beeb56302a20d27cd8ba7a0988310f855633d7e6",()=>m.getCompanyGmailTokens,"40c7885bdc4fe4cdd5f57e78579230c58088adbef4",()=>n.checkProviderAlert,"40d3c4ceeaee653aa257a28ed429a7fd272fa9fb66",()=>n.cleanupOldEvents,"40e06418f4b93b40c84a25511e0468e1e8a41ddecf",()=>n.recordProviderEvent,"40ecf2c792e84ef4b898fda98ec27277b4a9dddef2",()=>k.generateDeliverabilityReport,"40f8c061cf84f884e77af3425bc24b8a8d72f598fb",()=>j.sendEmail,"602fab67313b110e6ccb66e54b1e16450b2a772cc7",()=>m.refreshUserGmailToken,"60302947fc4caffa53a719728f3c2cebace926098c",()=>m.sendCompanyGmailEmail,"603643b13bf288cc628303bb4d12df0311b11434c7",()=>m.syncUserInbox,"6045f8436f9cdfdadb7bfe3955677adfc5f4102de0",()=>j.handleComplaintWebhook,"604c85253685ae051ef8022280e3a9b5fd68ce0fb8",()=>i.sendPasswordChanged,"6050491c49442320765de9f346f7b38b9e31868a1e",()=>i.sendPasswordReset,"607be80a2ce0212d1982cec5856223012d0ec20ff4",()=>i.sendEmailVerification,"607ca0c49bd3c63878cd80f74fe9ced74f4620a94a",()=>h.verifyAndConsumeToken,"60856182db5eaec7f85eda2a5a94c5d7d3524325d6",()=>m.checkCompanyGmailHealth,"60c643a41ce1a8e6cc8338da6e2f3678c386910460",()=>n.getProviderStats,"60dca9b5901ef7148fbbfb2f0df6a1cc2fb4af3c13",()=>i.sendWelcomeEmail,"60eeb51685ac265a4ad793a230a515fe6e462f16f4",()=>m.refreshCompanyGmailToken,"708daa303e36e37247e22b5b828b6aad8c73ac283b",()=>m.fetchUserInbox,"70d04422f632904b350a5280b1b63420d279faee3b",()=>h.createEmailVerificationToken,"70dd3bc4222a87350dc137fa9cbcb849fa1913b397",()=>m.setCompanyEmailProvider,"78255c3fa8c9facf7c3f353202f2907836e8eb5539",()=>n.recordSendFailure,"783861d25688b32ba086bbe9e45444975c36a1b285",()=>n.recordSendSuccess,"78766431b437b16f7cb00b4d64a2f3be5e092ed724",()=>n.recordFallbackTriggered,"78a8ea4f1cfa571a366adccf36ac04b1c85d61ae2b",()=>j.handleBounceWebhook,"78d41ef818e75fef94d65a87ea1f0faf418132e3c5",()=>m.storeGmailMessage,"7e3a356960ddd52a3fa4dc6d981ae7202a59eb9a3d",()=>m.storeUserGmailTokens,"7f06df826c4fff42950e712c0f548254e275be2a52",()=>m.storeCompanyGmailTokens]),c()}catch(a){c(a)}},!1),858982,a=>{a.v(a=>Promise.resolve().then(()=>a(857782)))},642757,a=>{a.v(a=>Promise.resolve().then(()=>a(149664)))},769989,a=>{a.v(b=>Promise.all(["server/chunks/ssr/[root-of-the-server]__f6c731fd._.js","server/chunks/ssr/3c0ae_next_dist_compiled_d01f76b2._.js"].map(b=>a.l(b))).then(()=>b(227185)))},315292,a=>{a.v(b=>Promise.all(["server/chunks/ssr/apps_web_src_lib_email_email-tracking_ts_73b89830._.js"].map(b=>a.l(b))).then(()=>b(582891)))},449334,a=>{a.v(a=>Promise.resolve().then(()=>a(343860)))},37652,a=>{a.v(b=>Promise.all(["server/chunks/ssr/apps_web_src_lib_auth_company-context_ts_732d588b._.js"].map(b=>a.l(b))).then(()=>b(480513)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__37ca2b70._.js.map