module.exports=[458393,a=>{"use strict";a.i(156120),a.s([])},897346,a=>{"use strict";a.i(156120),a.s([])},24221,a=>{"use strict";let b=(0,a.i(203431).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);a.s(["default",()=>b])},597635,a=>{"use strict";var b=a.i(24221);a.s(["Upload",()=>b.default])},769372,a=>{"use strict";let b=(0,a.i(203431).default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);a.s(["default",()=>b])},89626,a=>{"use strict";var b=a.i(769372);a.s(["Activity",()=>b.default])},888100,a=>{"use strict";let b=(0,a.i(203431).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);a.s(["default",()=>b])},187056,a=>{"use strict";var b=a.i(888100);a.s(["Download",()=>b.default])},736398,16555,a=>{"use strict";function b(a){return b=>{let c=(a?Math[a]:Math.trunc)(b);return 0===c?0:c}}a.s(["getRoundingMethod",()=>b],736398);var c=a.i(939968);function d(a,b){return(0,c.toDate)(a)-(0,c.toDate)(b)}a.s(["differenceInMilliseconds",()=>d],16555)},366419,a=>{"use strict";var b=a.i(502447),c=a.i(614612),d=a.i(889893),e=a.i(690897),f=a.i(939968);function g(a,b){let c=(0,f.toDate)(a)-(0,f.toDate)(b);return c<0?-1:c>0?1:c}var h=a.i(769739),i=a.i(825337),j=a.i(788568),k=a.i(736398),l=a.i(16555);function m(a,m,n){let o,p,q=(0,c.getDefaultOptions)(),r=n?.locale??q.locale??b.defaultLocale,s=g(a,m);if(isNaN(s))throw RangeError("Invalid time value");let t=Object.assign({},n,{addSuffix:n?.addSuffix,comparison:s}),[u,v]=(0,e.normalizeDates)(n?.in,...s>0?[m,a]:[a,m]),w=(p=(0,l.differenceInMilliseconds)(v,u)/1e3,(0,k.getRoundingMethod)(void 0)(p)),x=Math.round((w-((0,d.getTimezoneOffsetInMilliseconds)(v)-(0,d.getTimezoneOffsetInMilliseconds)(u))/1e3)/60);if(x<2)if(n?.includeSeconds)if(w<5)return r.formatDistance("lessThanXSeconds",5,t);else if(w<10)return r.formatDistance("lessThanXSeconds",10,t);else if(w<20)return r.formatDistance("lessThanXSeconds",20,t);else if(w<40)return r.formatDistance("halfAMinute",0,t);else if(w<60)return r.formatDistance("lessThanXMinutes",1,t);else return r.formatDistance("xMinutes",1,t);else if(0===x)return r.formatDistance("lessThanXMinutes",1,t);else return r.formatDistance("xMinutes",x,t);if(x<45)return r.formatDistance("xMinutes",x,t);if(x<90)return r.formatDistance("aboutXHours",1,t);if(x<h.minutesInDay){let a=Math.round(x/60);return r.formatDistance("aboutXHours",a,t)}if(x<2520)return r.formatDistance("xDays",1,t);else if(x<h.minutesInMonth){let a=Math.round(x/h.minutesInDay);return r.formatDistance("xDays",a,t)}else if(x<2*h.minutesInMonth)return o=Math.round(x/h.minutesInMonth),r.formatDistance("aboutXMonths",o,t);if((o=function(a,b,c){var d;let h,k,[l,m,n]=(0,e.normalizeDates)(void 0,a,a,b),o=g(m,n),p=Math.abs((0,i.differenceInCalendarMonths)(m,n));if(p<1)return 0;1===m.getMonth()&&m.getDate()>27&&m.setDate(30),m.setMonth(m.getMonth()-o*p);let q=g(m,n)===-o;+(h=(0,f.toDate)(l,void 0),d=void 0,(k=(0,f.toDate)(h,d?.in)).setHours(23,59,59,999),k)==+(0,j.endOfMonth)(h,void 0)&&1===p&&1===g(l,n)&&(q=!1);let r=o*(p-q);return 0===r?0:r}(v,u))<12){let a=Math.round(x/h.minutesInMonth);return r.formatDistance("xMonths",a,t)}{let a=o%12,b=Math.trunc(o/12);return a<3?r.formatDistance("aboutXYears",b,t):a<9?r.formatDistance("overXYears",b,t):r.formatDistance("almostXYears",b+1,t)}}a.s(["formatDistance",()=>m],366419)},382281,a=>{"use strict";var b=a.i(861467);a.i(156120);var c=a.i(82012),d=a.i(481938);function e({label:a,htmlFor:e,error:f,description:g,required:h,children:i,className:j}){return(0,b.jsxs)("div",{className:(0,d.cn)("space-y-2",j),"data-slot":"form-field",children:[a&&(0,b.jsxs)(c.Label,{htmlFor:e,className:(0,d.cn)(f&&"text-destructive"),"data-error":!!f,children:[a,h&&(0,b.jsx)("span",{className:"text-destructive ml-1","aria-label":"required",children:"*"})]}),i,g&&!f&&(0,b.jsx)("p",{className:"text-muted-foreground text-[0.8rem] leading-relaxed",children:g}),f&&(0,b.jsx)("p",{className:"text-destructive text-[0.8rem] font-medium",role:"alert",children:f})]})}function f({children:a,cols:c=2,className:e}){return(0,b.jsx)("div",{className:(0,d.cn)("grid gap-4",{"sm:grid-cols-2":2===c,"sm:grid-cols-2 lg:grid-cols-3":3===c,"sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":4===c},e),children:a})}a.s(["StandardFormField",()=>e,"StandardFormRow",()=>f])},689430,a=>{"use strict";let b=(0,a.i(527228).create)((a,b)=>({stats:{},setStats:(b,c)=>a(a=>({stats:{...a.stats,[b]:c}})),getStats:a=>b().stats[a],clearStats:b=>a(a=>{let{[b]:c,...d}=a.stats;return{stats:d}})}));a.s(["useToolbarStatsStore",0,b])},166190,a=>{"use strict";let b=(0,a.i(203431).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);a.s(["default",()=>b])},824124,a=>{"use strict";var b=a.i(166190);a.s(["MapPin",()=>b.default])},729382,a=>{"use strict";let b=(0,a.i(203431).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);a.s(["default",()=>b])},232553,a=>{"use strict";var b=a.i(729382);a.s(["Save",()=>b.default])},699707,a=>{"use strict";var b=a.i(861467),c=a.i(337241),d=a.i(783281),e=a.i(689430);function f({stats:a,children:f}){let g=(0,c.usePathname)()||"/dashboard",h=(0,e.useToolbarStatsStore)(a=>a.setStats),i=(0,e.useToolbarStatsStore)(a=>a.clearStats);return(0,d.useLayoutEffect)(()=>(a?h(g,a):i(g),()=>{i(g)}),[g,a,h,i]),(0,b.jsx)(b.Fragment,{children:f})}a.s(["ToolbarStatsProvider",()=>f])},435783,a=>{"use strict";var b=a.i(861467),c=a.i(587969),d=a.i(624126),e=a.i(789815),f=a.i(824124),g=a.i(898062),h=a.i(232553),i=a.i(320091),j=a.i(101482),k=a.i(362841),l=a.i(300298),m=a.i(145679),n=a.i(783281),o=a.i(836994);a.i(516775);var p=a.i(560272);a.i(288007);var q=a.i(986990);a.i(445255);var r=a.i(18170);a.i(839984);var s=a.i(372712);a.i(458393);var t=a.i(82012);a.i(40744);var u=a.i(419573),v=a.i(382281);a.i(476036);var w=a.i(930514);function x({entityData:a}){let[x,y]=(0,n.useState)(!1),[z,A]=(0,n.useState)(!1),{appointment:B,customer:C,property:D,job:E,teamAssignments:F=[],notes:G=[],activities:H=[]}=a,I=new Date(B.start_time),J=new Date(B.end_time),K=Math.max(0,Math.floor((J.getTime()-I.getTime())/6e4)),L="confirmed"===B.status?"default":"completed"===B.status?"secondary":"outline",M=[(0,b.jsxs)(q.Badge,{variant:"outline",children:["APT-",B.id.slice(0,8).toUpperCase()]},"id"),(0,b.jsx)(q.Badge,{variant:L,children:B.status},"status"),B.appointment_type?(0,b.jsx)(q.Badge,{variant:"outline",children:B.appointment_type},"type"):null].filter(Boolean),N=(0,b.jsx)("div",{className:"px-2 sm:px-0",children:(0,b.jsx)("div",{className:"bg-muted/50 rounded-md shadow-sm",children:(0,b.jsxs)("div",{className:"flex flex-col gap-4 p-4 sm:p-6",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-6 sm:flex-row sm:items-start sm:justify-between",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,b.jsx)("div",{className:"flex flex-wrap items-center gap-2",children:M}),(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold sm:text-3xl",children:I.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),(0,b.jsxs)("p",{className:"text-muted-foreground text-sm sm:text-base",children:[I.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})," ","-"," ",J.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})]})]})]}),x&&(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,b.jsxs)(r.Button,{onClick:()=>y(!1),size:"sm",variant:"ghost",children:[(0,b.jsx)(l.X,{className:"mr-2 size-4"}),"Cancel"]}),(0,b.jsxs)(r.Button,{disabled:z,onClick:()=>{},size:"sm",children:[(0,b.jsx)(h.Save,{className:"mr-2 size-4"}),z?"Saving...":"Save Changes"]})]})]}),C&&(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,b.jsxs)(m.default,{className:"border-border/60 bg-background hover:border-primary/50 hover:bg-primary/5 inline-flex items-center gap-2 rounded-full border px-4 py-2 text-sm font-medium transition-colors",href:`/dashboard/customers/${C.id}`,children:[(0,b.jsx)(i.User,{className:"size-4"}),C.first_name," ",C.last_name]}),C.email&&(0,b.jsxs)("a",{className:"border-border/60 bg-background hover:border-primary/50 hover:bg-primary/5 inline-flex items-center gap-2 rounded-full border px-4 py-2 text-sm font-medium transition-colors",href:`mailto:${C.email}`,children:[(0,b.jsx)(e.Mail,{className:"size-4"}),C.email]}),C.phone&&(0,b.jsxs)("a",{className:"border-border/60 bg-background hover:border-primary/50 hover:bg-primary/5 inline-flex items-center gap-2 rounded-full border px-4 py-2 text-sm font-medium transition-colors",href:`tel:${C.phone}`,children:[(0,b.jsx)(g.Phone,{className:"size-4"}),C.phone]})]}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,b.jsxs)("div",{className:"bg-muted inline-flex items-center gap-2 rounded-full px-3 py-1 text-sm",children:[(0,b.jsx)(d.Clock,{className:"text-muted-foreground size-4"}),(0,b.jsxs)("span",{className:"font-medium",children:[K," minutes"]})]}),F.length>0&&(0,b.jsxs)("div",{className:"bg-muted inline-flex items-center gap-2 rounded-full px-3 py-1 text-sm",children:[(0,b.jsx)(j.Users,{className:"text-muted-foreground size-4"}),(0,b.jsxs)("span",{className:"font-medium",children:[F.length," team member",1===F.length?"":"s"]})]}),E&&(0,b.jsxs)(m.default,{className:"bg-muted hover:bg-muted/80 inline-flex items-center gap-2 rounded-full px-3 py-1 text-sm transition-colors",href:`/dashboard/work/${E.id}`,children:[(0,b.jsx)(k.Wrench,{className:"text-muted-foreground size-4"}),(0,b.jsxs)("span",{className:"font-medium",children:["Job #",E.job_number]})]})]})]})})}),O=(0,n.useMemo)(()=>{let a=[{id:"appointment-info",title:"Appointment Information",icon:(0,b.jsx)(c.Calendar,{className:"size-4"}),defaultOpen:!0,content:(0,b.jsx)(w.UnifiedAccordionContent,{children:(0,b.jsxs)(v.StandardFormRow,{cols:2,children:[(0,b.jsx)(v.StandardFormField,{label:"Start Time",htmlFor:"appt-start-time",children:(0,b.jsx)(s.Input,{id:"appt-start-time",readOnly:!0,type:"datetime-local",value:new Date(B.start_time).toISOString().slice(0,16)})}),(0,b.jsx)(v.StandardFormField,{label:"End Time",htmlFor:"appt-end-time",children:(0,b.jsx)(s.Input,{id:"appt-end-time",readOnly:!0,type:"datetime-local",value:new Date(B.end_time).toISOString().slice(0,16)})}),(0,b.jsx)(v.StandardFormField,{label:"Status",htmlFor:"appt-status",children:(0,b.jsxs)(u.Select,{value:B.status,children:[(0,b.jsx)(u.SelectTrigger,{id:"appt-status",children:(0,b.jsx)(u.SelectValue,{})}),(0,b.jsxs)(u.SelectContent,{children:[(0,b.jsx)(u.SelectItem,{value:"scheduled",children:"Scheduled"}),(0,b.jsx)(u.SelectItem,{value:"confirmed",children:"Confirmed"}),(0,b.jsx)(u.SelectItem,{value:"in_progress",children:"In Progress"}),(0,b.jsx)(u.SelectItem,{value:"completed",children:"Completed"}),(0,b.jsx)(u.SelectItem,{value:"cancelled",children:"Cancelled"})]})]})}),(0,b.jsx)(v.StandardFormField,{label:"Type",htmlFor:"appt-type",children:(0,b.jsx)(s.Input,{id:"appt-type",readOnly:!0,value:B.appointment_type||"Service"})})]})})}];return C&&a.push({id:"customer-details",title:"Customer Details",icon:(0,b.jsx)(i.User,{className:"size-4"}),content:(0,b.jsx)(w.UnifiedAccordionContent,{children:(0,b.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-start md:justify-between",children:[(0,b.jsxs)("div",{className:"grid flex-1 gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(t.Label,{children:"Name"}),(0,b.jsxs)("p",{className:"text-sm",children:[C.first_name," ",C.last_name]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(t.Label,{children:"Email"}),(0,b.jsx)("p",{className:"text-sm",children:C.email||"N/A"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(t.Label,{children:"Phone"}),(0,b.jsx)("p",{className:"text-sm",children:C.phone||"N/A"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(t.Label,{children:"Company"}),(0,b.jsx)("p",{className:"text-sm",children:C.company_name||"N/A"})]})]}),(0,b.jsx)(r.Button,{asChild:!0,size:"sm",variant:"ghost",children:(0,b.jsx)(m.default,{href:`/dashboard/customers/${C.id}`,children:"View Full Profile"})})]})})}),D&&a.push({id:"property-location",title:"Property Location",icon:(0,b.jsx)(f.MapPin,{className:"size-4"}),content:(0,b.jsx)(w.UnifiedAccordionContent,{children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(t.Label,{children:"Service Address"}),(0,b.jsxs)("p",{className:"text-sm",children:[D.address,D.address2&&`, ${D.address2}`]}),(0,b.jsxs)("p",{className:"text-muted-foreground text-sm",children:[D.city,", ",D.state," ",D.zip_code]})]}),(0,b.jsx)(r.Button,{asChild:!0,size:"sm",variant:"outline",children:(0,b.jsxs)("a",{href:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(`${D.address}, ${D.city}, ${D.state}`)}`,rel:"noopener noreferrer",target:"_blank",children:[(0,b.jsx)(f.MapPin,{className:"mr-2 size-4"}),"Open in Google Maps"]})})]})})}),a.push({id:"team-assignments",title:"Team Assignments",icon:(0,b.jsx)(j.Users,{className:"size-4"}),count:F.length,content:(0,b.jsx)(w.UnifiedAccordionContent,{children:(0,b.jsx)("div",{className:"space-y-3",children:F.length>0?F.map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-4 rounded-lg border p-4",children:[(0,b.jsxs)(p.Avatar,{children:[(0,b.jsx)(p.AvatarImage,{src:a.user?.avatar}),(0,b.jsx)(p.AvatarFallback,{children:a.user?.name?.split(" ").map(a=>a[0]).join("").toUpperCase()||"TM"})]}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"font-medium",children:a.user?.name||"Unknown"}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:a.role||"Technician"})]}),(0,b.jsx)(q.Badge,{variant:"outline",children:a.status||"assigned"})]},a.id)):(0,b.jsx)("p",{className:"text-muted-foreground text-center text-sm",children:"No team members assigned"})})})}),E&&a.push({id:"job-details",title:"Job Details",icon:(0,b.jsx)(k.Wrench,{className:"size-4"}),content:(0,b.jsx)(w.UnifiedAccordionContent,{children:(0,b.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-start md:justify-between",children:[(0,b.jsxs)("div",{className:"grid flex-1 gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(t.Label,{children:"Job Number"}),(0,b.jsxs)("p",{className:"text-sm",children:["#",E.job_number]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(t.Label,{children:"Title"}),(0,b.jsx)("p",{className:"text-sm",children:E.title})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(t.Label,{children:"Status"}),(0,b.jsx)(q.Badge,{variant:"outline",children:E.status})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(t.Label,{children:"Priority"}),(0,b.jsx)(q.Badge,{variant:"outline",children:E.priority})]})]}),(0,b.jsx)(r.Button,{asChild:!0,size:"sm",variant:"ghost",children:(0,b.jsx)(m.default,{href:`/dashboard/work/${E.id}`,children:"View Full Job"})})]})})}),a},[B,C,E,D,F]),P=(0,n.useMemo)(()=>{let a=[];return C&&a.push({id:`customer-${C.id}`,type:"customer",title:`${C.first_name} ${C.last_name}`,subtitle:C.email||C.phone||void 0,href:`/dashboard/customers/${C.id}`}),D&&a.push({id:`property-${D.id}`,type:"property",title:D.address,subtitle:`${D.city}, ${D.state}`,href:`/dashboard/work/properties/${D.id}`}),E&&a.push({id:`job-${E.id}`,type:"job",title:E.title||`Job #${E.job_number}`,subtitle:E.status,href:`/dashboard/work/${E.id}`,badge:E.status?{label:E.status,variant:"outline"}:void 0}),a},[C,D,E]);return(0,b.jsx)(o.DetailPageContentLayout,{activities:H,customHeader:N,customSections:O,defaultOpenSection:"appointment-info",notes:G,relatedItems:P,showStandardSections:{attachments:!1}})}a.s(["AppointmentPageContent",()=>x])}];

//# sourceMappingURL=_a60651f7._.js.map