{"version":3,"sources":["../../../../../../apps/web/src/components/work/job-details/job-statistics-sheet.tsx","../../../../../../apps/web/src/components/work/job-details/job-costing-card.tsx"],"sourcesContent":["\"use client\";\n\n/**\n * Job Statistics Sheet - Comprehensive Statistics for Owners/Project Managers\n *\n * Shows all key metrics:\n * - Financial: Job value, paid, outstanding, profit, margin\n * - Labor: Total hours, estimated hours, variance, team breakdown\n * - Time: Travel time, on-site time, total duration\n * - Costing: Materials cost, labor cost, overhead, total cost\n * - Performance: Completion percentage, efficiency metrics\n */\n\nimport {\n\tBarChart3,\n\tClock,\n\tDollarSign,\n\tPackage,\n\tTrendingDown,\n\tTrendingUp,\n\tUsers,\n} from \"lucide-react\";\nimport { useMemo } from \"react\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Separator } from \"@/components/ui/separator\";\nimport {\n\tSheet,\n\tSheetContent,\n\tSheetDescription,\n\tSheetHeader,\n\tSheetTitle,\n} from \"@/components/ui/sheet\";\nimport { JobCostingCard } from \"./job-costing-card\";\n\ntype JobStatisticsSheetProps = {\n\topen: boolean;\n\tonOpenChange: (open: boolean) => void;\n\tjob: any;\n\tmetrics: any;\n\ttimeEntries: any[];\n\tteamAssignments: any[];\n\tinvoices: any[];\n\tpayments: any[];\n\tjobMaterials: any[];\n\tonUpdateCosting?: (data: any) => Promise<void>;\n};\n\nconst CENTS_PER_DOLLAR = 100;\n\nexport function JobStatisticsSheet({\n\topen,\n\tonOpenChange,\n\tjob,\n\tmetrics,\n\ttimeEntries,\n\tteamAssignments,\n\tinvoices,\n\tpayments,\n\tjobMaterials,\n\tonUpdateCosting,\n}: JobStatisticsSheetProps) {\n\tconst formatCurrency = (cents: number) =>\n\t\tnew Intl.NumberFormat(\"en-US\", {\n\t\t\tstyle: \"currency\",\n\t\t\tcurrency: \"USD\",\n\t\t\tminimumFractionDigits: 0,\n\t\t\tmaximumFractionDigits: 0,\n\t\t}).format(cents / CENTS_PER_DOLLAR);\n\n\tconst formatHours = (hours: number | undefined | null) =>\n\t\thours != null ? `${hours.toFixed(1)}h` : \"0.0h\";\n\n\t// Calculate detailed metrics\n\tconst detailedMetrics = useMemo(() => {\n\t\t// Labor cost (assuming average rate - in production, get from team member rates)\n\t\tconst averageLaborRate = 50; // $50/hour\n\t\tconst laborCost = metrics.totalLaborHours * averageLaborRate * 100; // in cents\n\n\t\t// Materials cost\n\t\tconst materialsCost = metrics.materialsCost || 0;\n\n\t\t// Total cost\n\t\tconst totalCost = laborCost + materialsCost;\n\n\t\t// Profit\n\t\tconst profit = metrics.totalAmount - totalCost;\n\n\t\t// Profit margin\n\t\tconst profitMargin =\n\t\t\tmetrics.totalAmount > 0 ? (profit / metrics.totalAmount) * 100 : 0;\n\n\t\t// Labor variance\n\t\tconst laborVariance =\n\t\t\tmetrics.estimatedLaborHours > 0\n\t\t\t\t? metrics.totalLaborHours - metrics.estimatedLaborHours\n\t\t\t\t: 0;\n\n\t\t// Labor variance percentage\n\t\tconst laborVariancePercent =\n\t\t\tmetrics.estimatedLaborHours > 0\n\t\t\t\t? (laborVariance / metrics.estimatedLaborHours) * 100\n\t\t\t\t: 0;\n\n\t\t// Calculate travel time (time entries with type \"travel\")\n\t\tconst travelTimeEntries = timeEntries.filter(\n\t\t\t(entry: any) => entry.entry_type === \"travel\",\n\t\t);\n\t\tconst travelHours = travelTimeEntries.reduce(\n\t\t\t(sum: number, entry: any) => sum + (entry.total_hours || 0),\n\t\t\t0,\n\t\t);\n\n\t\t// Calculate on-site time (time entries with type \"work\" or \"labor\")\n\t\tconst onSiteTimeEntries = timeEntries.filter(\n\t\t\t(entry: any) =>\n\t\t\t\tentry.entry_type === \"work\" || entry.entry_type === \"labor\",\n\t\t);\n\t\tconst onSiteHours = onSiteTimeEntries.reduce(\n\t\t\t(sum: number, entry: any) => sum + (entry.total_hours || 0),\n\t\t\t0,\n\t\t);\n\n\t\t// Team breakdown\n\t\tconst teamBreakdown = timeEntries.reduce((acc: any, entry: any) => {\n\t\t\tconst user = Array.isArray(entry.user) ? entry.user[0] : entry.user;\n\t\t\tconst userId = user?.id || \"unknown\";\n\t\t\tconst userName = user?.name || \"Unknown\";\n\n\t\t\tif (!acc[userId]) {\n\t\t\t\tacc[userId] = {\n\t\t\t\t\tid: userId,\n\t\t\t\t\tname: userName,\n\t\t\t\t\tavatar: user?.avatar,\n\t\t\t\t\ttotalHours: 0,\n\t\t\t\t\tentries: 0,\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tacc[userId].totalHours += entry.total_hours || 0;\n\t\t\tacc[userId].entries += 1;\n\n\t\t\treturn acc;\n\t\t}, {});\n\n\t\tconst teamMembers = Object.values(teamBreakdown);\n\n\t\treturn {\n\t\t\tlaborCost,\n\t\t\tmaterialsCost,\n\t\t\ttotalCost,\n\t\t\tprofit,\n\t\t\tprofitMargin,\n\t\t\tlaborVariance,\n\t\t\tlaborVariancePercent,\n\t\t\ttravelHours,\n\t\t\tonSiteHours,\n\t\t\tteamMembers,\n\t\t};\n\t}, [metrics, timeEntries]);\n\n\treturn (\n\t\t<Sheet onOpenChange={onOpenChange} open={open}>\n\t\t\t<SheetContent className=\"w-full overflow-y-auto px-0 sm:max-w-3xl lg:max-w-4xl\">\n\t\t\t\t<div className=\"px-6\">\n\t\t\t\t\t<SheetHeader className=\"space-y-4\">\n\t\t\t\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t<div className=\"bg-background flex h-10 w-10 items-center justify-center rounded-lg border\">\n\t\t\t\t\t\t\t\t\t<BarChart3 className=\"text-muted-foreground h-5 w-5\" />\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<SheetTitle className=\"text-2xl\">Job Analytics</SheetTitle>\n\t\t\t\t\t\t\t\t\t<SheetDescription>\n\t\t\t\t\t\t\t\t\t\t#{job.job_number || \"N/A\"} • {job.title || \"Untitled Job\"}\n\t\t\t\t\t\t\t\t\t</SheetDescription>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\tvariant={\n\t\t\t\t\t\t\t\t\tjob.status === \"completed\"\n\t\t\t\t\t\t\t\t\t\t? \"default\"\n\t\t\t\t\t\t\t\t\t\t: job.status === \"in_progress\"\n\t\t\t\t\t\t\t\t\t\t\t? \"secondary\"\n\t\t\t\t\t\t\t\t\t\t\t: \"outline\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{job.status?.replace(/_/g, \" \") || \"Unknown\"}\n\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</SheetHeader>\n\t\t\t\t</div>\n\n\t\t\t\t<Separator className=\"my-6\" />\n\n\t\t\t\t<div className=\"space-y-6 px-6 pb-6\">\n\t\t\t\t\t{/* FINANCIAL OVERVIEW */}\n\t\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t<DollarSign className=\"text-muted-foreground h-5 w-5\" />\n\t\t\t\t\t\t\t<h3 className=\"text-lg font-semibold\">Financial Overview</h3>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"grid gap-4 sm:grid-cols-2 lg:grid-cols-4\">\n\t\t\t\t\t\t\t{/* Job Value */}\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<CardContent className=\"p-6\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-sm\">Job Value</p>\n\t\t\t\t\t\t\t\t\t<p className=\"mt-2 text-2xl font-bold tabular-nums\">\n\t\t\t\t\t\t\t\t\t\t{formatCurrency(metrics.totalAmount)}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground mt-1 text-xs\">\n\t\t\t\t\t\t\t\t\t\t{invoices.length} invoice{invoices.length !== 1 ? \"s\" : \"\"}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t</Card>\n\n\t\t\t\t\t\t\t{/* Paid */}\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<CardContent className=\"p-6\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-sm\">Paid</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-success dark:text-success mt-2 text-2xl font-bold tabular-nums\">\n\t\t\t\t\t\t\t\t\t\t{formatCurrency(metrics.paidAmount)}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground mt-1 text-xs\">\n\t\t\t\t\t\t\t\t\t\t{payments.length} payment{payments.length !== 1 ? \"s\" : \"\"}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t</Card>\n\n\t\t\t\t\t\t\t{/* Outstanding */}\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<CardContent className=\"p-6\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-sm\">Outstanding</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-warning dark:text-warning mt-2 text-2xl font-bold tabular-nums\">\n\t\t\t\t\t\t\t\t\t\t{formatCurrency(metrics.totalAmount - metrics.paidAmount)}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground mt-1 text-xs\">\n\t\t\t\t\t\t\t\t\t\t{metrics.totalAmount > 0\n\t\t\t\t\t\t\t\t\t\t\t? `${Math.round(\n\t\t\t\t\t\t\t\t\t\t\t\t\t((metrics.totalAmount - metrics.paidAmount) /\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmetrics.totalAmount) *\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t100,\n\t\t\t\t\t\t\t\t\t\t\t\t)}% remaining`\n\t\t\t\t\t\t\t\t\t\t\t: \"N/A\"}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t</Card>\n\n\t\t\t\t\t\t\t{/* Profit */}\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<CardContent className=\"p-6\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-sm\">Profit</p>\n\t\t\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\t\t\tclassName={`mt-2 text-2xl font-bold tabular-nums ${\n\t\t\t\t\t\t\t\t\t\t\tdetailedMetrics.profit >= 0\n\t\t\t\t\t\t\t\t\t\t\t\t? \"text-success dark:text-success\"\n\t\t\t\t\t\t\t\t\t\t\t\t: \"text-destructive dark:text-destructive\"\n\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{formatCurrency(detailedMetrics.profit)}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<div className=\"mt-1 flex items-center gap-1\">\n\t\t\t\t\t\t\t\t\t\t{detailedMetrics.profitMargin >= 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t<TrendingUp className=\"text-success dark:text-success h-3 w-3\" />\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<TrendingDown className=\"text-destructive dark:text-destructive h-3 w-3\" />\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t{detailedMetrics.profitMargin.toFixed(1)}% margin\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* JOB COSTING - Full interactive component */}\n\t\t\t\t\t<JobCostingCard\n\t\t\t\t\t\tjobId={job.id}\n\t\t\t\t\t\tcosting={{\n\t\t\t\t\t\t\tlabor_hours_estimated: job.labor_hours_estimated,\n\t\t\t\t\t\t\tlabor_hours_actual:\n\t\t\t\t\t\t\t\tjob.labor_hours_actual || metrics.totalLaborHours,\n\t\t\t\t\t\t\tlabor_rate: job.labor_rate,\n\t\t\t\t\t\t\tlabor_burden_percent: job.labor_burden_percent || 30,\n\t\t\t\t\t\t\tlabor_cost_total: job.labor_cost_total,\n\t\t\t\t\t\t\tmaterials_cost_actual:\n\t\t\t\t\t\t\t\tjob.materials_cost_actual ||\n\t\t\t\t\t\t\t\tdetailedMetrics.materialsCost / 100,\n\t\t\t\t\t\t\tmaterials_markup_percent: job.materials_markup_percent || 50,\n\t\t\t\t\t\t\tmaterials_revenue: job.materials_revenue,\n\t\t\t\t\t\t\tequipment_cost: job.equipment_cost,\n\t\t\t\t\t\t\tsubcontractor_cost: job.subcontractor_cost,\n\t\t\t\t\t\t\toverhead_allocation: job.overhead_allocation,\n\t\t\t\t\t\t\ttotal_cost_actual:\n\t\t\t\t\t\t\t\tjob.total_cost_actual || detailedMetrics.totalCost / 100,\n\t\t\t\t\t\t\ttotal_revenue: job.total_revenue || metrics.totalAmount / 100,\n\t\t\t\t\t\t\tprofit_margin_actual:\n\t\t\t\t\t\t\t\tjob.profit_margin_actual || detailedMetrics.profitMargin,\n\t\t\t\t\t\t\tprofit_margin_target: job.profit_margin_target || 40,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\teditable={true}\n\t\t\t\t\t\tonSave={onUpdateCosting}\n\t\t\t\t\t/>\n\n\t\t\t\t\t{/* LABOR & TIME TRACKING */}\n\t\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t<Clock className=\"text-muted-foreground h-5 w-5\" />\n\t\t\t\t\t\t\t<h3 className=\"text-lg font-semibold\">Labor & Time</h3>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"grid gap-4 sm:grid-cols-2 lg:grid-cols-4\">\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<CardContent className=\"p-6\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-sm\">Total Hours</p>\n\t\t\t\t\t\t\t\t\t<p className=\"mt-2 text-2xl font-bold tabular-nums\">\n\t\t\t\t\t\t\t\t\t\t{formatHours(metrics.totalLaborHours)}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t</Card>\n\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<CardContent className=\"p-6\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-sm\">Estimated</p>\n\t\t\t\t\t\t\t\t\t<p className=\"mt-2 text-2xl font-bold tabular-nums\">\n\t\t\t\t\t\t\t\t\t\t{metrics.estimatedLaborHours > 0\n\t\t\t\t\t\t\t\t\t\t\t? formatHours(metrics.estimatedLaborHours)\n\t\t\t\t\t\t\t\t\t\t\t: \"N/A\"}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t</Card>\n\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<CardContent className=\"p-6\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-sm\">Travel Time</p>\n\t\t\t\t\t\t\t\t\t<p className=\"mt-2 text-2xl font-bold tabular-nums\">\n\t\t\t\t\t\t\t\t\t\t{formatHours(detailedMetrics.travelHours)}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t</Card>\n\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<CardContent className=\"p-6\">\n\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-sm\">On-Site Time</p>\n\t\t\t\t\t\t\t\t\t<p className=\"mt-2 text-2xl font-bold tabular-nums\">\n\t\t\t\t\t\t\t\t\t\t{formatHours(detailedMetrics.onSiteHours)}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t{metrics.estimatedLaborHours > 0 && (\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<CardContent className=\"p-6\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t{detailedMetrics.laborVariance >= 0 ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<TrendingUp className=\"text-warning dark:text-warning h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<TrendingDown className=\"text-success dark:text-success h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-medium\">Labor Variance</span>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"text-right\">\n\t\t\t\t\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={`text-lg font-bold tabular-nums ${\n\t\t\t\t\t\t\t\t\t\t\t\t\tdetailedMetrics.laborVariance >= 0\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"text-warning dark:text-warning\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"text-success dark:text-success\"\n\t\t\t\t\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{detailedMetrics.laborVariance >= 0 ? \"+\" : \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t{formatHours(Math.abs(detailedMetrics.laborVariance))}\n\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground mt-0.5 text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\t{detailedMetrics.laborVariancePercent >= 0 ? \"+\" : \"\"}\n\t\t\t\t\t\t\t\t\t\t\t\t{detailedMetrics.laborVariancePercent.toFixed(1)}% vs\n\t\t\t\t\t\t\t\t\t\t\t\testimate\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* TEAM BREAKDOWN */}\n\t\t\t\t\t{detailedMetrics.teamMembers.length > 0 && (\n\t\t\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t<Users className=\"text-muted-foreground h-5 w-5\" />\n\t\t\t\t\t\t\t\t<h3 className=\"text-lg font-semibold\">Team Breakdown</h3>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t\t<CardContent className=\"p-6\">\n\t\t\t\t\t\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t\t\t\t\t\t{detailedMetrics.teamMembers.map(\n\t\t\t\t\t\t\t\t\t\t\t(member: any, index: number) => (\n\t\t\t\t\t\t\t\t\t\t\t\t<div key={member.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Avatar className=\"h-9 w-9\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<AvatarImage\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={member.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc={member.avatar || undefined}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<AvatarFallback className=\"text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{member.name\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.split(\" \")\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.map((n: string) => n[0])\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.join(\"\")\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.toUpperCase()\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.slice(0, 2)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</AvatarFallback>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Avatar>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{member.name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{member.entries}{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{member.entries === 1 ? \"entry\" : \"entries\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-right\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-semibold tabular-nums\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatHours(member.totalHours)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(member.totalHours /\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmetrics.totalLaborHours) *\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t100\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t).toFixed(0)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t%\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{index !== detailedMetrics.teamMembers.length - 1 && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Separator className=\"mt-4\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* PERFORMANCE METRICS */}\n\t\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t<BarChart3 className=\"text-muted-foreground h-5 w-5\" />\n\t\t\t\t\t\t\t<h3 className=\"text-lg font-semibold\">Performance</h3>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<Card>\n\t\t\t\t\t\t\t<CardContent className=\"space-y-6 p-6\">\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<div className=\"mb-3 flex items-center justify-between\">\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium\">Completion Progress</p>\n\t\t\t\t\t\t\t\t\t\t<span className=\"font-bold tabular-nums\">\n\t\t\t\t\t\t\t\t\t\t\t{metrics.completionPercentage}%\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"bg-secondary relative h-2 w-full overflow-hidden rounded-full\">\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"bg-primary h-full rounded-full transition-all\"\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\t\t\twidth: `${metrics.completionPercentage}%`,\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<Separator />\n\n\t\t\t\t\t\t\t\t<div className=\"grid gap-4 sm:grid-cols-2\">\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-sm\">Efficiency</p>\n\t\t\t\t\t\t\t\t\t\t<p className=\"mt-1 text-lg font-semibold\">\n\t\t\t\t\t\t\t\t\t\t\t{metrics.estimatedLaborHours > 0\n\t\t\t\t\t\t\t\t\t\t\t\t? `${((metrics.estimatedLaborHours / metrics.totalLaborHours) * 100).toFixed(0)}%`\n\t\t\t\t\t\t\t\t\t\t\t\t: \"N/A\"}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-sm\">Job Status</p>\n\t\t\t\t\t\t\t\t\t\t<Badge className=\"mt-1\" variant=\"outline\">\n\t\t\t\t\t\t\t\t\t\t\t{job.status?.replace(/_/g, \" \") || \"Unknown\"}\n\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</SheetContent>\n\t\t</Sheet>\n\t);\n}\n","\"use client\";\n\nimport {\n\tAlertCircle,\n\tCalculator,\n\tClock,\n\tDollarSign,\n\tEdit,\n\tPackage,\n\tSave,\n\tTrendingDown,\n\tTrendingUp,\n\tUsers,\n\tWrench,\n\tX,\n} from \"lucide-react\";\nimport { useState } from \"react\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n\tCard,\n\tCardContent,\n\tCardDescription,\n\tCardHeader,\n\tCardTitle,\n} from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Separator } from \"@/components/ui/separator\";\nimport {\n\tStandardFormField,\n\tStandardFormRow,\n} from \"@/components/ui/standard-form-field\";\nimport { formatCurrency } from \"@/lib/formatters\";\n\ninterface JobCostingData {\n\t// Labor\n\tlabor_hours_estimated?: number;\n\tlabor_hours_actual?: number;\n\tlabor_rate?: number;\n\tlabor_burden_percent?: number;\n\tlabor_cost_total?: number;\n\n\t// Materials\n\tmaterials_cost_actual?: number;\n\tmaterials_markup_percent?: number;\n\tmaterials_revenue?: number;\n\n\t// Other Costs\n\tequipment_cost?: number;\n\tsubcontractor_cost?: number;\n\toverhead_allocation?: number;\n\n\t// Totals\n\ttotal_cost_actual?: number;\n\ttotal_revenue?: number;\n\tprofit_margin_actual?: number;\n\tprofit_margin_target?: number;\n}\n\ninterface JobCostingCardProps {\n\tjobId: string;\n\tcosting: JobCostingData;\n\teditable?: boolean;\n\tonSave?: (data: JobCostingData) => Promise<void>;\n}\n\nexport function JobCostingCard({\n\tjobId,\n\tcosting,\n\teditable = false,\n\tonSave,\n}: JobCostingCardProps) {\n\tconst [isEditing, setIsEditing] = useState(false);\n\tconst [isSaving, setIsSaving] = useState(false);\n\tconst [formData, setFormData] = useState<JobCostingData>(costing);\n\n\t// Calculate derived values\n\tconst laborCost =\n\t\t(formData.labor_hours_actual || 0) *\n\t\t(formData.labor_rate || 0) *\n\t\t(1 + (formData.labor_burden_percent || 30) / 100);\n\n\tconst totalCost =\n\t\tlaborCost +\n\t\t(formData.materials_cost_actual || 0) +\n\t\t(formData.equipment_cost || 0) +\n\t\t(formData.subcontractor_cost || 0) +\n\t\t(formData.overhead_allocation || 0);\n\n\tconst materialsRevenue =\n\t\t(formData.materials_cost_actual || 0) *\n\t\t(1 + (formData.materials_markup_percent || 50) / 100);\n\n\tconst totalRevenue = formData.total_revenue || 0 || materialsRevenue;\n\tconst profit = totalRevenue - totalCost;\n\tconst profitMargin = totalRevenue > 0 ? (profit / totalRevenue) * 100 : 0;\n\tconst targetMargin = formData.profit_margin_target || 40;\n\n\tconst marginStatus =\n\t\tprofitMargin >= targetMargin\n\t\t\t? \"success\"\n\t\t\t: profitMargin >= targetMargin * 0.8\n\t\t\t\t? \"warning\"\n\t\t\t\t: \"danger\";\n\n\tconst handleSave = async () => {\n\t\tif (!onSave) return;\n\n\t\tsetIsSaving(true);\n\t\ttry {\n\t\t\tconst updatedData = {\n\t\t\t\t...formData,\n\t\t\t\tlabor_cost_total: laborCost,\n\t\t\t\tmaterials_revenue: materialsRevenue,\n\t\t\t\ttotal_cost_actual: totalCost,\n\t\t\t\ttotal_revenue: totalRevenue,\n\t\t\t\tprofit_margin_actual: profitMargin,\n\t\t\t};\n\n\t\t\tawait onSave(updatedData);\n\t\t\tsetIsEditing(false);\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Failed to save costing data:\", error);\n\t\t} finally {\n\t\t\tsetIsSaving(false);\n\t\t}\n\t};\n\n\tconst handleCancel = () => {\n\t\tsetFormData(costing);\n\t\tsetIsEditing(false);\n\t};\n\n\tconst updateField = (field: keyof JobCostingData, value: string) => {\n\t\tsetFormData((prev) => ({\n\t\t\t...prev,\n\t\t\t[field]: value === \"\" ? undefined : parseFloat(value),\n\t\t}));\n\t};\n\n\treturn (\n\t\t<Card>\n\t\t\t<CardHeader>\n\t\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t<Calculator className=\"h-5 w-5 text-primary\" />\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<CardTitle>Job Costing & Profitability</CardTitle>\n\t\t\t\t\t\t\t<CardDescription>\n\t\t\t\t\t\t\t\tTrack costs, revenue, and profit margin\n\t\t\t\t\t\t\t</CardDescription>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t{editable && !isEditing && (\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\tonClick={() => setIsEditing(true)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Edit className=\"mr-2 h-4 w-4\" />\n\t\t\t\t\t\t\tEdit Costing\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t\t{isEditing && (\n\t\t\t\t\t\t<div className=\"flex gap-2\">\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\tonClick={handleCancel}\n\t\t\t\t\t\t\t\tdisabled={isSaving}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<X className=\"mr-2 h-4 w-4\" />\n\t\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button size=\"sm\" onClick={handleSave} disabled={isSaving}>\n\t\t\t\t\t\t\t\t<Save className=\"mr-2 h-4 w-4\" />\n\t\t\t\t\t\t\t\t{isSaving ? \"Saving...\" : \"Save\"}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</CardHeader>\n\n\t\t\t<CardContent className=\"space-y-6\">\n\t\t\t\t{/* Summary Cards */}\n\t\t\t\t<div className=\"grid gap-4 md:grid-cols-4\">\n\t\t\t\t\t<div className=\"rounded-lg border bg-card p-4\">\n\t\t\t\t\t\t<div className=\"text-muted-foreground mb-1 flex items-center gap-2 text-xs font-medium uppercase\">\n\t\t\t\t\t\t\t<DollarSign className=\"h-3 w-3\" />\n\t\t\t\t\t\t\tTotal Cost\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"text-2xl font-bold\">\n\t\t\t\t\t\t\t{formatCurrency(totalCost)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"rounded-lg border bg-card p-4\">\n\t\t\t\t\t\t<div className=\"text-muted-foreground mb-1 flex items-center gap-2 text-xs font-medium uppercase\">\n\t\t\t\t\t\t\t<DollarSign className=\"h-3 w-3\" />\n\t\t\t\t\t\t\tTotal Revenue\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"text-2xl font-bold\">\n\t\t\t\t\t\t\t{formatCurrency(totalRevenue)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"rounded-lg border bg-card p-4\">\n\t\t\t\t\t\t<div className=\"text-muted-foreground mb-1 flex items-center gap-2 text-xs font-medium uppercase\">\n\t\t\t\t\t\t\t<TrendingUp className=\"h-3 w-3\" />\n\t\t\t\t\t\t\tProfit\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tclassName={`text-2xl font-bold ${profit >= 0 ? \"text-green-600 dark:text-green-400\" : \"text-red-600 dark:text-red-400\"}`}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{formatCurrency(profit)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<div className=\"rounded-lg border bg-card p-4\">\n\t\t\t\t\t\t<div className=\"text-muted-foreground mb-1 flex items-center gap-2 text-xs font-medium uppercase\">\n\t\t\t\t\t\t\t{profitMargin >= targetMargin ? (\n\t\t\t\t\t\t\t\t<TrendingUp className=\"h-3 w-3\" />\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<TrendingDown className=\"h-3 w-3\" />\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tMargin\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t<div className=\"text-2xl font-bold\">\n\t\t\t\t\t\t\t\t{profitMargin.toFixed(1)}%\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\tvariant={\n\t\t\t\t\t\t\t\t\tmarginStatus === \"success\"\n\t\t\t\t\t\t\t\t\t\t? \"default\"\n\t\t\t\t\t\t\t\t\t\t: marginStatus === \"warning\"\n\t\t\t\t\t\t\t\t\t\t\t? \"secondary\"\n\t\t\t\t\t\t\t\t\t\t\t: \"destructive\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tTarget: {targetMargin}%\n\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<Separator />\n\n\t\t\t\t{/* Labor Costs */}\n\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t<Clock className=\"h-4 w-4 text-primary\" />\n\t\t\t\t\t\t<h4 className=\"font-semibold\">Labor Costs</h4>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<StandardFormRow cols={2}>\n\t\t\t\t\t\t<StandardFormField\n\t\t\t\t\t\t\tlabel=\"Estimated Hours\"\n\t\t\t\t\t\t\thtmlFor=\"labor_hours_estimated\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tid=\"labor_hours_estimated\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tstep=\"0.25\"\n\t\t\t\t\t\t\t\tvalue={formData.labor_hours_estimated || \"\"}\n\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\tupdateField(\"labor_hours_estimated\", e.target.value)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdisabled={!isEditing}\n\t\t\t\t\t\t\t\tplaceholder=\"8.0\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</StandardFormField>\n\n\t\t\t\t\t\t<StandardFormField\n\t\t\t\t\t\t\tlabel=\"Actual Hours\"\n\t\t\t\t\t\t\thtmlFor=\"labor_hours_actual\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tid=\"labor_hours_actual\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tstep=\"0.25\"\n\t\t\t\t\t\t\t\tvalue={formData.labor_hours_actual || \"\"}\n\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\tupdateField(\"labor_hours_actual\", e.target.value)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdisabled={!isEditing}\n\t\t\t\t\t\t\t\tplaceholder=\"7.5\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</StandardFormField>\n\n\t\t\t\t\t\t<StandardFormField label=\"Hourly Rate ($)\" htmlFor=\"labor_rate\">\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tid=\"labor_rate\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tstep=\"0.01\"\n\t\t\t\t\t\t\t\tvalue={formData.labor_rate || \"\"}\n\t\t\t\t\t\t\t\tonChange={(e) => updateField(\"labor_rate\", e.target.value)}\n\t\t\t\t\t\t\t\tdisabled={!isEditing}\n\t\t\t\t\t\t\t\tplaceholder=\"50.00\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</StandardFormField>\n\n\t\t\t\t\t\t<StandardFormField\n\t\t\t\t\t\t\tlabel=\"Labor Burden (%)\"\n\t\t\t\t\t\t\thtmlFor=\"labor_burden_percent\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tid=\"labor_burden_percent\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tstep=\"0.1\"\n\t\t\t\t\t\t\t\tvalue={formData.labor_burden_percent || 30}\n\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\tupdateField(\"labor_burden_percent\", e.target.value)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdisabled={!isEditing}\n\t\t\t\t\t\t\t\tplaceholder=\"30.0\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t\tBenefits, taxes, insurance (default: 30%)\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</StandardFormField>\n\t\t\t\t\t</StandardFormRow>\n\n\t\t\t\t\t<div className=\"bg-muted/50 rounded-lg p-3\">\n\t\t\t\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t\t\t\t<span className=\"text-sm font-medium\">Total Labor Cost</span>\n\t\t\t\t\t\t\t<span className=\"text-lg font-bold\">\n\t\t\t\t\t\t\t\t{formatCurrency(laborCost)}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p className=\"text-muted-foreground mt-1 text-xs\">\n\t\t\t\t\t\t\t{formData.labor_hours_actual || 0} hours × $\n\t\t\t\t\t\t\t{formData.labor_rate || 0}/hr ×{\" \"}\n\t\t\t\t\t\t\t{(1 + (formData.labor_burden_percent || 30) / 100).toFixed(2)}{\" \"}\n\t\t\t\t\t\t\tburden\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<Separator />\n\n\t\t\t\t{/* Materials Costs */}\n\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t<Package className=\"h-4 w-4 text-primary\" />\n\t\t\t\t\t\t<h4 className=\"font-semibold\">Materials & Parts</h4>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<StandardFormRow cols={2}>\n\t\t\t\t\t\t<StandardFormField label=\"Cost ($)\" htmlFor=\"materials_cost_actual\">\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tid=\"materials_cost_actual\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tstep=\"0.01\"\n\t\t\t\t\t\t\t\tvalue={formData.materials_cost_actual || \"\"}\n\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\tupdateField(\"materials_cost_actual\", e.target.value)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdisabled={!isEditing}\n\t\t\t\t\t\t\t\tplaceholder=\"800.00\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</StandardFormField>\n\n\t\t\t\t\t\t<StandardFormField\n\t\t\t\t\t\t\tlabel=\"Markup (%)\"\n\t\t\t\t\t\t\thtmlFor=\"materials_markup_percent\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tid=\"materials_markup_percent\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tstep=\"0.1\"\n\t\t\t\t\t\t\t\tvalue={formData.materials_markup_percent || 50}\n\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\tupdateField(\"materials_markup_percent\", e.target.value)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdisabled={!isEditing}\n\t\t\t\t\t\t\t\tplaceholder=\"50.0\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t\tTypical markup: 40-60%\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</StandardFormField>\n\t\t\t\t\t</StandardFormRow>\n\n\t\t\t\t\t<div className=\"bg-muted/50 rounded-lg p-3\">\n\t\t\t\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t\t\t\t<span className=\"text-sm font-medium\">Materials Revenue</span>\n\t\t\t\t\t\t\t<span className=\"text-lg font-bold\">\n\t\t\t\t\t\t\t\t{formatCurrency(materialsRevenue)}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<p className=\"text-muted-foreground mt-1 text-xs\">\n\t\t\t\t\t\t\t${formData.materials_cost_actual || 0} cost ×{\" \"}\n\t\t\t\t\t\t\t{(1 + (formData.materials_markup_percent || 50) / 100).toFixed(2)}{\" \"}\n\t\t\t\t\t\t\tmarkup\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<Separator />\n\n\t\t\t\t{/* Other Costs */}\n\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t<Wrench className=\"h-4 w-4 text-primary\" />\n\t\t\t\t\t\t<h4 className=\"font-semibold\">Other Costs</h4>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<StandardFormRow cols={2}>\n\t\t\t\t\t\t<StandardFormField\n\t\t\t\t\t\t\tlabel=\"Equipment/Tools ($)\"\n\t\t\t\t\t\t\thtmlFor=\"equipment_cost\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tid=\"equipment_cost\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tstep=\"0.01\"\n\t\t\t\t\t\t\t\tvalue={formData.equipment_cost || \"\"}\n\t\t\t\t\t\t\t\tonChange={(e) => updateField(\"equipment_cost\", e.target.value)}\n\t\t\t\t\t\t\t\tdisabled={!isEditing}\n\t\t\t\t\t\t\t\tplaceholder=\"100.00\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</StandardFormField>\n\n\t\t\t\t\t\t<StandardFormField\n\t\t\t\t\t\t\tlabel=\"Subcontractors ($)\"\n\t\t\t\t\t\t\thtmlFor=\"subcontractor_cost\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tid=\"subcontractor_cost\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tstep=\"0.01\"\n\t\t\t\t\t\t\t\tvalue={formData.subcontractor_cost || \"\"}\n\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\tupdateField(\"subcontractor_cost\", e.target.value)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdisabled={!isEditing}\n\t\t\t\t\t\t\t\tplaceholder=\"0.00\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</StandardFormField>\n\n\t\t\t\t\t\t<StandardFormField\n\t\t\t\t\t\t\tlabel=\"Overhead ($)\"\n\t\t\t\t\t\t\thtmlFor=\"overhead_allocation\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tid=\"overhead_allocation\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tstep=\"0.01\"\n\t\t\t\t\t\t\t\tvalue={formData.overhead_allocation || \"\"}\n\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\tupdateField(\"overhead_allocation\", e.target.value)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdisabled={!isEditing}\n\t\t\t\t\t\t\t\tplaceholder=\"150.00\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t\tAllocated overhead (admin, insurance, etc.)\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</StandardFormField>\n\n\t\t\t\t\t\t<StandardFormField\n\t\t\t\t\t\t\tlabel=\"Target Margin (%)\"\n\t\t\t\t\t\t\thtmlFor=\"profit_margin_target\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tid=\"profit_margin_target\"\n\t\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t\t\tstep=\"0.1\"\n\t\t\t\t\t\t\t\tvalue={formData.profit_margin_target || 40}\n\t\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\t\tupdateField(\"profit_margin_target\", e.target.value)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tdisabled={!isEditing}\n\t\t\t\t\t\t\t\tplaceholder=\"40.0\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</StandardFormField>\n\t\t\t\t\t</StandardFormRow>\n\t\t\t\t</div>\n\n\t\t\t\t{/* Alert for below-target margins */}\n\t\t\t\t{profitMargin < targetMargin && totalRevenue > 0 && (\n\t\t\t\t\t<div className=\"flex items-start gap-2 rounded-lg border border-yellow-200 bg-yellow-50 p-3 dark:border-yellow-800 dark:bg-yellow-950\">\n\t\t\t\t\t\t<AlertCircle className=\"mt-0.5 h-4 w-4 text-yellow-600 dark:text-yellow-400\" />\n\t\t\t\t\t\t<div className=\"text-sm\">\n\t\t\t\t\t\t\t<p className=\"font-medium text-yellow-900 dark:text-yellow-100\">\n\t\t\t\t\t\t\t\tBelow Target Margin\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p className=\"text-muted-foreground mt-1\">\n\t\t\t\t\t\t\t\tCurrent margin ({profitMargin.toFixed(1)}%) is below target (\n\t\t\t\t\t\t\t\t{targetMargin}%). Consider adjusting pricing or reducing costs.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</CardContent>\n\t\t</Card>\n\t);\n}\n"],"names":[],"mappings":"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"}