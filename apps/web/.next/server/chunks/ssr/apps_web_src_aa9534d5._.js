module.exports=[471320,607462,285322,301594,301226,a=>{"use strict";var b=a.i(504348),c=a.i(459208);let d={background:"#fafafa",surface:"#fcfcfc",surfaceStrong:"#f2f2f2",primary:"#3c6ff5",primaryText:"#fafafa",heading:"#171717",text:"#171717",muted:"#737373",border:"#e6e6e6",success:"#22c55e",warning:"#f59e0b",error:"#ef4444"};function e({href:a,children:e,variant:f="primary"}){let g={primary:{backgroundColor:d.primary,color:d.primaryText,border:"none"},outline:{backgroundColor:"transparent",color:d.primary,border:`2px solid ${d.primary}`}};return(0,b.jsx)(c.Button,{href:a,style:{display:"inline-block",padding:"12px 24px",fontSize:"16px",fontWeight:"600",textDecoration:"none",borderRadius:"8px",textAlign:"center",transition:"all 0.2s ease",...g[f]},children:e})}a.s(["EMAIL_COLORS",0,d],607462),a.s(["Button",()=>e],471320);var f=a.i(424340),g=a.i(402239);function h({children:a,title:c,style:d}){return(0,b.jsxs)(f.Section,{style:{...i,...d},children:[c&&(0,b.jsx)(g.Text,{style:j,children:c}),a]})}let i={backgroundColor:d.surface,border:`1px solid ${d.border}`,borderRadius:"8px",padding:"24px",margin:"16px 0"},j={fontSize:"18px",fontWeight:"600",color:d.heading,margin:"0 0 16px 0"};a.s(["Card",()=>h],285322);var k=a.i(173686);function l({children:a,level:c=1,style:e}){let f=`h${c}`,g={1:{fontSize:"32px",fontWeight:"700",color:d.heading,margin:"0 0 16px 0",lineHeight:"1.2"},2:{fontSize:"24px",fontWeight:"600",color:d.text,margin:"0 0 12px 0",lineHeight:"1.3"},3:{fontSize:"18px",fontWeight:"600",color:d.muted,margin:"0 0 8px 0",lineHeight:"1.4"}};return(0,b.jsx)(k.Heading,{as:f,style:{...g[c],...e},children:a})}a.s(["Heading",()=>l],301594);var m=a.i(280105),n=a.i(995146),o=a.i(550042),p=a.i(858257),q=a.i(835929),r=a.i(54101),s=a.i(843775),t=a.i(225249);let u=process.env.NEXT_PUBLIC_THORBIS_LOGO_URL||"https://thorbis.com/logo-white.png",v=process.env.NEXT_PUBLIC_WEBSITE_URL||"https://thorbis.com",w=process.env.THORBIS_SUPPORT_EMAIL||"support@thorbis.com",x=`${v}/docs`,y=`${v}/privacy`,z=`${v}/terms`;function A({children:a,previewText:c}){return(0,b.jsxs)(q.Html,{children:[(0,b.jsx)(o.Head,{children:(0,b.jsx)("style",{children:`
          @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

          /* Reset email client styles */
          body { margin: 0; padding: 0; }
          table { border-collapse: collapse; }
          img { border: 0; }

          /* Responsive */
          @media only screen and (max-width: 600px) {
            .mobile-padding { padding: 20px !important; }
            .mobile-text { font-size: 14px !important; }
            .mobile-heading { font-size: 24px !important; }
          }
        `})}),c&&(0,b.jsx)(t.Preview,{children:c}),(0,b.jsx)(m.Body,{style:B,children:(0,b.jsxs)(n.Container,{style:C,children:[(0,b.jsx)(f.Section,{style:D,children:(0,b.jsx)(r.Img,{src:u,alt:"Thorbis",width:"160",height:"40",style:E})}),(0,b.jsx)(f.Section,{style:F,className:"mobile-padding",children:a}),(0,b.jsx)(p.Hr,{style:G}),(0,b.jsxs)(f.Section,{style:H,className:"mobile-padding",children:[(0,b.jsxs)(g.Text,{style:I,children:["Need help?"," ",(0,b.jsx)(s.Link,{href:`mailto:${w}`,style:J,children:"Contact Support"})," • ",(0,b.jsx)(s.Link,{href:x,style:J,children:"Documentation"})]}),(0,b.jsxs)(g.Text,{style:I,children:[(0,b.jsx)(s.Link,{href:y,style:J,children:"Privacy Policy"})," • ",(0,b.jsx)(s.Link,{href:z,style:J,children:"Terms of Service"})]}),(0,b.jsxs)(g.Text,{style:K,children:["© ",new Date().getFullYear()," Thorbis. All rights reserved."]}),(0,b.jsx)(g.Text,{style:L,children:"Thorbis • 123 Innovation Drive, San Francisco, CA 94105"}),(0,b.jsxs)(g.Text,{style:M,children:["You're receiving this email because you have an account with Thorbis."," ",(0,b.jsx)(s.Link,{href:"{{unsubscribe_url}}",style:J,children:"Unsubscribe from marketing emails"})]})]})]})})]})}let B={backgroundColor:d.background,fontFamily:'Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif',WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"},C={backgroundColor:d.surface,maxWidth:"600px",margin:"0 auto"},D={backgroundColor:d.primary,padding:"40px 0",textAlign:"center"},E={margin:"0 auto",display:"block"},F={padding:"48px 40px",color:d.text,fontSize:"16px",lineHeight:"24px"},G={borderColor:d.border,borderWidth:"1px",margin:"0"},H={padding:"32px 40px",textAlign:"center",backgroundColor:d.surfaceStrong},I={color:d.muted,fontSize:"14px",lineHeight:"24px",margin:"8px 0"},J={color:d.primary,textDecoration:"none",fontWeight:"500"},K={color:d.muted,fontSize:"13px",margin:"16px 0 0 0",fontWeight:"600"},L={color:d.muted,fontSize:"12px",margin:"8px 0"},M={color:d.muted,fontSize:"11px",margin:"16px 0 0 0",lineHeight:"18px"};a.s(["BaseLayout",()=>A],301226)},194125,a=>{"use strict";var b=a.i(249177),c=a.i(933427);let d=new b.Resend(process.env.RESEND_API_KEY);async function e(a){let b=await (0,c.createServiceSupabaseClient)();if(!b)return null;let{data:d}=await b.from("company_email_domains").select("*").eq("company_id",a).eq("status","verified").eq("sending_enabled",!0).eq("is_suspended",!1).order("is_platform_subdomain",{ascending:!0}).order("created_at",{ascending:!1}).limit(1).maybeSingle();if(!d)return null;let e=`${d.subdomain}.${d.domain_name}`;return{id:d.id,domain_name:d.domain_name,subdomain:d.subdomain,full_domain:e,status:d.status,sending_addresses:d.sending_addresses||[],reply_to_email:d.reply_to_email}}async function f(a){let b=await (0,c.createServiceSupabaseClient)();if(!b)return null;let{data:d}=await b.from("company_email_domains").select("domain_name, reply_to_email").eq("company_id",a).eq("is_platform_subdomain",!0).eq("status","verified").maybeSingle();return d?d.reply_to_email?d.reply_to_email:`support@${d.domain_name}`:null}async function g({companyId:b,companyName:c,type:g="notification",to:h,subject:i,html:j,text:k,replyTo:l,attachments:m,communicationId:n}){let o=await e(b);if(!o)throw Error("Company domain not verified. Please verify your email domain in settings before sending emails.");let p=function(a,b,c){let d=a.sending_addresses.find(a=>a.type===b);if(d)return`${c} <${d.email}>`;let e=`${b}@${a.full_domain}`;return`${c} <${e}>`}(o,g,c),q=await f(b),r=l||q||`support@${o.full_domain}`,s=j;if(n){let{addEmailTracking:b}=await a.A(315292);s=b(j,n)}try{let{data:a,error:b}=await d.emails.send({from:p,to:h,subject:i,html:s,text:k,replyTo:r,attachments:m});if(b)throw Error(`Failed to send email: ${b.message}`);return{success:!0,messageId:a?.id}}catch(a){throw console.error("Email send error:",a),a}}a.s(["sendCompanyEmail",()=>g])},37933,a=>a.a(async(b,c)=>{try{var d=a.i(780195),e=a.i(149664),f=a.i(194125),g=a.i(198114),h=a.i(395731),i=b([e,g]);async function j(a){if("platform"===a.category)return await (0,g.sendEmail)({to:a.to,subject:a.subject,template:a.template,templateType:a.templateType,replyTo:a.replyTo,tags:a.tags,fromOverride:"Thorbis <noreply@thorbis.com>"});{let b=await (0,e.render)(a.template);return await (0,f.sendCompanyEmail)({companyId:a.companyId,companyName:a.companyName,type:a.emailType||"notification",to:a.to,subject:a.subject,html:b,replyTo:a.replyTo,communicationId:a.communicationId})}}async function k(a){return j({...a,category:"platform"})}async function l(a){return j({...a,category:"company"})}[e,g]=i.then?(await i)():i,(0,h.ensureServerEntryExports)([k,l]),(0,d.registerServerReference)(k,"408c508c267fcd2e1ff09ec30f3465256e45367723",null),(0,d.registerServerReference)(l,"40b271177f27fa853615b9469b91b83ce9f448c839",null),a.s(["sendCompanyBrandedEmail",()=>l,"sendPlatformEmail",()=>k]),c()}catch(a){c(a)}},!1),315292,a=>{a.v(b=>Promise.all(["server/chunks/ssr/apps_web_src_lib_email_email-tracking_ts_73b89830._.js"].map(b=>a.l(b))).then(()=>b(582891)))}];

//# sourceMappingURL=apps_web_src_aa9534d5._.js.map