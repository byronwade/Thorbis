module.exports=[547056,a=>{"use strict";var b=a.i(861467),c=a.i(587969),d=a.i(96250),e=a.i(274956),f=a.i(949747),g=a.i(757844),h=a.i(320091),i=a.i(362841),j=a.i(145679),k=a.i(783281),l=a.i(836994);a.i(288007);var m=a.i(986990);a.i(445255);var n=a.i(18170);a.i(839984);var o=a.i(372712);a.i(458393);var p=a.i(82012);a.i(476036);var q=a.i(930514);function r(a){return null==a?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(a/100)}function s({entityData:a}){var s;let t,{plan:u,customer:v,property:w,equipment:x=[],generatedJobs:y=[],scheduledAppointments:z=[],generatedInvoices:A=[],notes:B=[],activities:C=[],attachments:D=[]}=a,E=u.included_services?"string"==typeof u.included_services?JSON.parse(u.included_services):u.included_services:[],F=[(s=u.status||"draft",t=({draft:{className:"bg-muted text-foreground dark:bg-foreground/20 dark:text-muted-foreground",label:"Draft"},active:{className:"bg-success text-white",label:"Active"},paused:{className:"bg-warning text-white",label:"Paused"},cancelled:{className:"bg-destructive text-white",label:"Cancelled"},expired:{className:"bg-warning text-white",label:"Expired"},completed:{className:"bg-primary text-white",label:"Completed"}})[s]||{className:"bg-muted text-foreground",label:s},(0,b.jsx)(m.Badge,{className:t.className,variant:"outline",children:t.label},"status")),(0,b.jsx)(m.Badge,{variant:"outline",children:u.type||"preventive"},"type")],G=(0,b.jsx)("div",{className:"w-full px-2 sm:px-0",children:(0,b.jsx)("div",{className:"bg-muted/50 rounded-md shadow-sm",children:(0,b.jsxs)("div",{className:"flex flex-col gap-4 p-4 sm:p-6",children:[(0,b.jsx)("div",{className:"flex flex-col gap-6 sm:flex-row sm:items-start sm:justify-between",children:(0,b.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,b.jsx)("div",{className:"flex flex-wrap items-center gap-2",children:F}),(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold sm:text-3xl",children:u.name||`Plan ${u.plan_number||u.id.slice(0,8)}`}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm sm:text-base",children:r(u.price)})]})]})}),v&&(0,b.jsx)("div",{className:"flex flex-wrap items-center gap-3",children:(0,b.jsxs)(j.default,{className:"border-border/60 bg-background hover:border-primary/50 hover:bg-primary/5 inline-flex items-center gap-2 rounded-full border px-4 py-2 text-sm font-medium transition-colors",href:`/dashboard/customers/${v.id}`,children:[(0,b.jsx)(h.User,{className:"size-4"}),v.display_name||`${v.first_name||""} ${v.last_name||""}`.trim()||"Unknown Customer"]})})]})})}),H=(0,k.useMemo)(()=>{let a=[{id:"service-schedule",title:"Service Schedule",icon:(0,b.jsx)(c.Calendar,{className:"size-4"}),defaultOpen:!0,content:(0,b.jsx)(q.UnifiedAccordionContent,{children:(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(p.Label,{children:"Frequency"}),(0,b.jsx)(o.Input,{readOnly:!0,value:u.frequency||"annually"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(p.Label,{children:"Visits Per Term"}),(0,b.jsx)(o.Input,{readOnly:!0,value:u.visits_per_term||1})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(p.Label,{children:"Start Date"}),(0,b.jsx)(o.Input,{readOnly:!0,value:u.start_date?new Date(u.start_date).toLocaleDateString():"N/A"})]}),u.end_date&&(0,b.jsxs)("div",{children:[(0,b.jsx)(p.Label,{children:"End Date"}),(0,b.jsx)(o.Input,{readOnly:!0,value:new Date(u.end_date).toLocaleDateString()})]}),u.next_service_due&&(0,b.jsxs)("div",{children:[(0,b.jsx)(p.Label,{children:"Next Service Due"}),(0,b.jsx)(o.Input,{readOnly:!0,value:new Date(u.next_service_due).toLocaleDateString()})]}),u.last_service_date&&(0,b.jsxs)("div",{children:[(0,b.jsx)(p.Label,{children:"Last Service"}),(0,b.jsx)(o.Input,{readOnly:!0,value:new Date(u.last_service_date).toLocaleDateString()})]})]})})}];return E.length>0&&a.push({id:"included-services",title:"Included Services",icon:(0,b.jsx)(i.Wrench,{className:"size-4"}),count:E.length,content:(0,b.jsx)(q.UnifiedAccordionContent,{children:(0,b.jsx)("div",{className:"space-y-2",children:E.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-2 rounded-lg border p-3",children:[(0,b.jsx)(d.CheckCircle2,{className:"text-success size-4"}),(0,b.jsx)("span",{className:"text-sm",children:a.name||a.description||a})]},c))})})}),x.length>0&&a.push({id:"equipment",title:"Equipment",icon:(0,b.jsx)(f.Package,{className:"size-4"}),count:x.length,content:(0,b.jsx)(q.UnifiedAccordionContent,{children:(0,b.jsx)("div",{className:"space-y-2",children:x.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:a.name||a.equipment_number}),(0,b.jsxs)("p",{className:"text-muted-foreground text-xs",children:[a.manufacturer," ",a.model]})]}),(0,b.jsx)(n.Button,{asChild:!0,size:"sm",variant:"ghost",children:(0,b.jsx)(j.default,{href:`/dashboard/work/equipment/${a.id}`,children:"View"})})]},a.id))})})}),a.push({id:"billing",title:"Billing",icon:(0,b.jsx)(e.DollarSign,{className:"size-4"}),content:(0,b.jsx)(q.UnifiedAccordionContent,{children:(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(p.Label,{children:"Price"}),(0,b.jsx)(o.Input,{readOnly:!0,value:r(u.price)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(p.Label,{children:"Billing Frequency"}),(0,b.jsx)(o.Input,{readOnly:!0,value:u.billing_frequency||"annually"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(p.Label,{children:"Taxable"}),(0,b.jsx)(o.Input,{readOnly:!0,value:u.taxable?"Yes":"No"})]}),u.renewal_type&&(0,b.jsxs)("div",{children:[(0,b.jsx)(p.Label,{children:"Renewal Type"}),(0,b.jsx)(o.Input,{readOnly:!0,value:u.renewal_type})]})]})})}),v&&a.push({id:"customer-details",title:"Customer Details",icon:(0,b.jsx)(h.User,{className:"size-4"}),content:(0,b.jsx)(q.UnifiedAccordionContent,{children:(0,b.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-start md:justify-between",children:[(0,b.jsxs)("div",{className:"grid flex-1 gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(p.Label,{children:"Name"}),(0,b.jsx)("p",{className:"text-sm",children:v.display_name||`${v.first_name||""} ${v.last_name||""}`.trim()||"Unknown"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(p.Label,{children:"Email"}),(0,b.jsx)("p",{className:"text-sm",children:v.email||"N/A"})]})]}),(0,b.jsx)(n.Button,{asChild:!0,size:"sm",variant:"ghost",children:(0,b.jsx)(j.default,{href:`/dashboard/customers/${v.id}`,children:"View Full Profile"})})]})})}),y.length>0&&a.push({id:"generated-jobs",title:"Generated Jobs",icon:(0,b.jsx)(i.Wrench,{className:"size-4"}),count:y.length,content:(0,b.jsxs)(q.UnifiedAccordionContent,{className:"p-0",children:[(0,b.jsx)("div",{className:"text-muted-foreground border-b px-6 py-4 text-sm",children:"Jobs created from this maintenance plan."}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-muted/50 border-b",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Job #"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Title"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Property"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Status"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Completed"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:y.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-muted/30 border-b",children:[(0,b.jsxs)("td",{className:"px-6 py-4 text-sm",children:["#",a.job_number]}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm font-medium",children:a.title}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm",children:a.property?.name||a.property?.address||"-"}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm",children:(0,b.jsx)(m.Badge,{variant:"outline",children:a.status})}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm",children:a.completed_at?new Date(a.completed_at).toLocaleDateString():"-"}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm",children:(0,b.jsx)(j.default,{className:"text-primary hover:underline",href:`/dashboard/work/${a.id}`,children:"View"})})]},a.id))})]})})]})}),z.length>0&&a.push({id:"scheduled-appointments",title:"Upcoming Appointments",icon:(0,b.jsx)(c.Calendar,{className:"size-4"}),count:z.length,content:(0,b.jsxs)(q.UnifiedAccordionContent,{className:"p-0",children:[(0,b.jsx)("div",{className:"text-muted-foreground border-b px-6 py-4 text-sm",children:"Scheduled maintenance appointments for equipment covered by this plan."}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-muted/50 border-b",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Date & Time"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Job"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Property"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Status"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:z.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-muted/30 border-b",children:[(0,b.jsx)("td",{className:"px-6 py-4 text-sm",children:new Date(a.scheduled_start).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"})}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm",children:a.job?`#${a.job.job_number}`:"-"}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm",children:a.property?.name||a.property?.address||"-"}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm",children:(0,b.jsx)(m.Badge,{variant:"outline",children:a.status})}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm",children:(0,b.jsx)(j.default,{className:"text-primary hover:underline",href:`/dashboard/appointments/${a.id}`,children:"View"})})]},a.id))})]})})]})}),A.length>0&&a.push({id:"generated-invoices",title:"Generated Invoices",icon:(0,b.jsx)(g.Receipt,{className:"size-4"}),count:A.length,content:(0,b.jsxs)(q.UnifiedAccordionContent,{className:"p-0",children:[(0,b.jsx)("div",{className:"text-muted-foreground border-b px-6 py-4 text-sm",children:"Invoices created from maintenance work under this plan."}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-muted/50 border-b",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Invoice #"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Date"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Total"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Status"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:A.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-muted/30 border-b",children:[(0,b.jsxs)("td",{className:"px-6 py-4 text-sm",children:["#",a.invoice_number||a.id.slice(0,8)]}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm",children:new Date(a.created_at).toLocaleDateString()}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm font-medium",children:r(a.total_amount)}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm",children:(0,b.jsx)(m.Badge,{variant:"paid"===a.status?"default":"outline",children:a.status})}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm",children:(0,b.jsx)(j.default,{className:"text-primary hover:underline",href:`/dashboard/work/invoices/${a.id}`,children:"View"})})]},a.id))})]})})]})}),a},[u,v,x,y,z,A,E]),I=(0,k.useMemo)(()=>{let a=[];return v&&a.push({id:`customer-${v.id}`,type:"customer",title:v.display_name||`${v.first_name||""} ${v.last_name||""}`.trim()||"Unknown Customer",subtitle:v.email||v.phone||void 0,href:`/dashboard/customers/${v.id}`}),w&&a.push({id:`property-${w.id}`,type:"property",title:w.address||w.name||"Property",subtitle:`${w.city||""}, ${w.state||""}`.trim()||void 0,href:`/dashboard/work/properties/${w.id}`}),x.forEach(b=>{a.push({id:`equipment-${b.id}`,type:"equipment",title:b.name||b.equipment_number,subtitle:`${b.manufacturer||""} ${b.model||""}`.trim()||void 0,href:`/dashboard/work/equipment/${b.id}`})}),a},[v,w,x]);return(0,b.jsx)(l.DetailPageContentLayout,{activities:C,attachments:D,customHeader:G,customSections:H,defaultOpenSection:"service-schedule",notes:B,relatedItems:I,showStandardSections:{activities:!0,notes:!0,attachments:!0,relatedItems:!0}})}a.s(["MaintenancePlanPageContent",()=>s])}];

//# sourceMappingURL=82e4e_components_work_maintenance-plans_maintenance-plan-page-content_tsx_a7547f38._.js.map