{"version":3,"sources":["../../../../../../node_modules/.pnpm/next%4016.0.4_%40opentelemetry%2Bapi%401.9.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/src/server/route-modules/app-page/module.compiled.js","../../../../../../node_modules/.pnpm/next%4016.0.4_%40opentelemetry%2Bapi%401.9.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","../../../../../../node_modules/.pnpm/next%4016.0.4_%40opentelemetry%2Bapi%401.9.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","../../../../../../node_modules/.pnpm/next%4016.0.4_%40opentelemetry%2Bapi%401.9.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-dom.ts","../../../../../../node_modules/.pnpm/next%4016.0.4_%40opentelemetry%2Bapi%401.9.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../../../node_modules/.pnpm/next%4016.0.4_%40opentelemetry%2Bapi%401.9.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../../../node_modules/.pnpm/next%4016.0.4_%40opentelemetry%2Bapi%401.9.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../../../node_modules/.pnpm/next%4016.0.4_%40opentelemetry%2Bapi%401.9.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/src/shared/lib/lazy-dynamic/bailout-to-csr.ts","../../../../../../node_modules/.pnpm/next%4016.0.4_%40opentelemetry%2Bapi%401.9.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/src/shared/lib/promise-with-resolvers.ts","../../../../../../node_modules/.pnpm/%40swc%2Bhelpers%400.5.15/node_modules/%40swc/helpers/cjs/_interop_require_wildcard.cjs","../../../../../../node_modules/.pnpm/next%4016.0.4_%40opentelemetry%2Bapi%401.9.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/src/shared/lib/segment.ts","../../../../../../node_modules/.pnpm/%40swc%2Bhelpers%400.5.15/node_modules/%40swc/helpers/cjs/_interop_require_default.cjs","../../../../../../node_modules/.pnpm/next%4016.0.4_%40opentelemetry%2Bapi%401.9.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/src/server/route-modules/app-page/vendored/contexts/head-manager-context.ts","../../../../../../node_modules/.pnpm/next%4016.0.4_%40opentelemetry%2Bapi%401.9.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/src/client/set-attributes-from-props.ts","../../../../../../node_modules/.pnpm/next%4016.0.4_%40opentelemetry%2Bapi%401.9.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/src/client/request-idle-callback.ts","../../../../../../node_modules/.pnpm/next%4016.0.4_%40opentelemetry%2Bapi%401.9.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/src/client/script.tsx","../../../../../../node_modules/.pnpm/zustand%405.0.8_%40types%2Breact%4019.2.2_immer%4010.2.0_react%4019.2.0_use-sync-external-store%401.6.0_react%4019.2.0_/node_modules/zustand/esm/react.mjs","../../../../../../node_modules/.pnpm/zustand%405.0.8_%40types%2Breact%4019.2.2_immer%4010.2.0_react%4019.2.0_use-sync-external-store%401.6.0_react%4019.2.0_/node_modules/zustand/esm/vanilla.mjs","../../../../../../node_modules/.pnpm/zustand%405.0.8_%40types%2Breact%4019.2.2_immer%4010.2.0_react%4019.2.0_use-sync-external-store%401.6.0_react%4019.2.0_/node_modules/zustand/esm/middleware.mjs","../../../../../../apps/web/src/lib/stores/work-view-store.ts","../../../../../../apps/web/src/lib/stores/schedule-view-store.ts","../../../../../../node_modules/.pnpm/%40vercel%2Banalytics%401.5.0_next%4016.0.4_%40opentelemetry%2Bapi%401.9.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0__react%4019.2.0/node_modules/%40vercel/analytics/dist/index.mjs","../../../../../../apps/web/src/lib/analytics/client.ts","../../../../../../apps/web/src/lib/analytics/hooks.ts","../../../../../../node_modules/.pnpm/next-themes%400.4.6_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next-themes/dist/index.mjs","../../../../../../apps/web/src/lib/stores/role-store.ts","../../../../../../apps/web/src/types/roles.ts","../../../../../../apps/web/src/lib/stores/ui-store.ts","../../../../../../apps/web/src/lib/stores/user-store.ts","../../../../../../apps/web/src/components/layout/skip-link.tsx","../../../../../../apps/web/src/components/providers/analytics-provider.tsx","../../../../../../apps/web/src/components/providers/theme-provider.tsx","../../../../../../apps/web/src/components/providers/toast-provider.tsx","../../../../../../apps/web/src/components/providers/zustand-hydration.tsx","../../../../../../apps/web/src/lib/stores/sidebar-state-store.ts","../../../../../../apps/web/src/lib/stores/view-store.ts","../../../../../../node_modules/.pnpm/%40vercel%2Banalytics%401.5.0_next%4016.0.4_%40opentelemetry%2Bapi%401.9.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0__react%4019.2.0/node_modules/%40vercel/analytics/src/nextjs/index.tsx","../../../../../../node_modules/.pnpm/%40vercel%2Banalytics%401.5.0_next%4016.0.4_%40opentelemetry%2Bapi%401.9.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0__react%4019.2.0/node_modules/%40vercel/analytics/src/react/index.tsx","../../../../../../node_modules/.pnpm/%40vercel%2Banalytics%401.5.0_next%4016.0.4_%40opentelemetry%2Bapi%401.9.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0__react%4019.2.0/node_modules/%40vercel/analytics/package.json","../../../../../../node_modules/.pnpm/%40vercel%2Banalytics%401.5.0_next%4016.0.4_%40opentelemetry%2Bapi%401.9.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0__react%4019.2.0/node_modules/%40vercel/analytics/src/queue.ts","../../../../../../node_modules/.pnpm/%40vercel%2Banalytics%401.5.0_next%4016.0.4_%40opentelemetry%2Bapi%401.9.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0__react%4019.2.0/node_modules/%40vercel/analytics/src/utils.ts","../../../../../../node_modules/.pnpm/%40vercel%2Banalytics%401.5.0_next%4016.0.4_%40opentelemetry%2Bapi%401.9.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0__react%4019.2.0/node_modules/%40vercel/analytics/src/generic.ts","../../../../../../node_modules/.pnpm/%40vercel%2Banalytics%401.5.0_next%4016.0.4_%40opentelemetry%2Bapi%401.9.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0__react%4019.2.0/node_modules/%40vercel/analytics/src/react/utils.ts","../../../../../../node_modules/.pnpm/%40vercel%2Banalytics%401.5.0_next%4016.0.4_%40opentelemetry%2Bapi%401.9.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0__react%4019.2.0/node_modules/%40vercel/analytics/src/nextjs/utils.ts","../../../../../../node_modules/.pnpm/%40vercel%2Bspeed-insights%401.2.0_next%4016.0.4_%40opentelemetry%2Bapi%401.9.0_react-dom%4019.2.0_react%4019.2_nht2bsr7i45wpxqjzrgce64gza/node_modules/%40vercel/speed-insights/src/nextjs/index.tsx","../../../../../../node_modules/.pnpm/%40vercel%2Bspeed-insights%401.2.0_next%4016.0.4_%40opentelemetry%2Bapi%401.9.0_react-dom%4019.2.0_react%4019.2_nht2bsr7i45wpxqjzrgce64gza/node_modules/%40vercel/speed-insights/src/react/index.tsx","../../../../../../node_modules/.pnpm/%40vercel%2Bspeed-insights%401.2.0_next%4016.0.4_%40opentelemetry%2Bapi%401.9.0_react-dom%4019.2.0_react%4019.2_nht2bsr7i45wpxqjzrgce64gza/node_modules/%40vercel/speed-insights/package.json","../../../../../../node_modules/.pnpm/%40vercel%2Bspeed-insights%401.2.0_next%4016.0.4_%40opentelemetry%2Bapi%401.9.0_react-dom%4019.2.0_react%4019.2_nht2bsr7i45wpxqjzrgce64gza/node_modules/%40vercel/speed-insights/src/queue.ts","../../../../../../node_modules/.pnpm/%40vercel%2Bspeed-insights%401.2.0_next%4016.0.4_%40opentelemetry%2Bapi%401.9.0_react-dom%4019.2.0_react%4019.2_nht2bsr7i45wpxqjzrgce64gza/node_modules/%40vercel/speed-insights/src/utils.ts","../../../../../../node_modules/.pnpm/%40vercel%2Bspeed-insights%401.2.0_next%4016.0.4_%40opentelemetry%2Bapi%401.9.0_react-dom%4019.2.0_react%4019.2_nht2bsr7i45wpxqjzrgce64gza/node_modules/%40vercel/speed-insights/src/generic.ts","../../../../../../node_modules/.pnpm/%40vercel%2Bspeed-insights%401.2.0_next%4016.0.4_%40opentelemetry%2Bapi%401.9.0_react-dom%4019.2.0_react%4019.2_nht2bsr7i45wpxqjzrgce64gza/node_modules/%40vercel/speed-insights/src/react/utils.ts","../../../../../../node_modules/.pnpm/%40vercel%2Bspeed-insights%401.2.0_next%4016.0.4_%40opentelemetry%2Bapi%401.9.0_react-dom%4019.2.0_react%4019.2_nht2bsr7i45wpxqjzrgce64gza/node_modules/%40vercel/speed-insights/src/nextjs/utils.ts"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactDOM\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","// This has to be a shared module which is shared between client component error boundary and dynamic component\nconst BAILOUT_TO_CSR = 'BAILOUT_TO_CLIENT_SIDE_RENDERING'\n\n/** An error that should be thrown when we want to bail out to client-side rendering. */\nexport class BailoutToCSRError extends Error {\n  public readonly digest = BAILOUT_TO_CSR\n\n  constructor(public readonly reason: string) {\n    super(`Bail out to client-side rendering: ${reason}`)\n  }\n}\n\n/** Checks if a passed argument is an error that is thrown if we want to bail out to client-side rendering. */\nexport function isBailoutToCSRError(err: unknown): err is BailoutToCSRError {\n  if (typeof err !== 'object' || err === null || !('digest' in err)) {\n    return false\n  }\n\n  return err.digest === BAILOUT_TO_CSR\n}\n","export function createPromiseWithResolvers<T>(): PromiseWithResolvers<T> {\n  // Shim of Stage 4 Promise.withResolvers proposal\n  let resolve: (value: T | PromiseLike<T>) => void\n  let reject: (reason: any) => void\n  const promise = new Promise<T>((res, rej) => {\n    resolve = res\n    reject = rej\n  })\n  return { resolve: resolve!, reject: reject!, promise }\n}\n","\"use strict\";\n\nfunction _getRequireWildcardCache(nodeInterop) {\n    if (typeof WeakMap !== \"function\") return null;\n\n    var cacheBabelInterop = new WeakMap();\n    var cacheNodeInterop = new WeakMap();\n\n    return (_getRequireWildcardCache = function(nodeInterop) {\n        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n    })(nodeInterop);\n}\nfunction _interop_require_wildcard(obj, nodeInterop) {\n    if (!nodeInterop && obj && obj.__esModule) return obj;\n    if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") return { default: obj };\n\n    var cache = _getRequireWildcardCache(nodeInterop);\n\n    if (cache && cache.has(obj)) return cache.get(obj);\n\n    var newObj = { __proto__: null };\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n        if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n            if (desc && (desc.get || desc.set)) Object.defineProperty(newObj, key, desc);\n            else newObj[key] = obj[key];\n        }\n    }\n\n    newObj.default = obj;\n\n    if (cache) cache.set(obj, newObj);\n\n    return newObj;\n}\nexports._ = _interop_require_wildcard;\n","import type { FlightRouterState, Segment } from './app-router-types'\n\nexport function getSegmentValue(segment: Segment) {\n  return Array.isArray(segment) ? segment[1] : segment\n}\n\nexport function isGroupSegment(segment: string) {\n  // Use array[0] for performant purpose\n  return segment[0] === '(' && segment.endsWith(')')\n}\n\nexport function isParallelRouteSegment(segment: string) {\n  return segment.startsWith('@') && segment !== '@children'\n}\n\nexport function addSearchParamsIfPageSegment(\n  segment: Segment,\n  searchParams: Record<string, string | string[] | undefined>\n) {\n  const isPageSegment = segment.includes(PAGE_SEGMENT_KEY)\n\n  if (isPageSegment) {\n    const stringifiedQuery = JSON.stringify(searchParams)\n    return stringifiedQuery !== '{}'\n      ? PAGE_SEGMENT_KEY + '?' + stringifiedQuery\n      : PAGE_SEGMENT_KEY\n  }\n\n  return segment\n}\n\nexport function computeSelectedLayoutSegment(\n  segments: string[] | null,\n  parallelRouteKey: string\n): string | null {\n  if (!segments || segments.length === 0) {\n    return null\n  }\n\n  // For 'children', use first segment; for other parallel routes, use last segment\n  const rawSegment =\n    parallelRouteKey === 'children'\n      ? segments[0]\n      : segments[segments.length - 1]\n\n  // If the default slot is showing, return null since it's not technically \"selected\" (it's a fallback)\n  // Returning an internal value like `__DEFAULT__` would be confusing\n  return rawSegment === DEFAULT_SEGMENT_KEY ? null : rawSegment\n}\n\n/** Get the canonical parameters from the current level to the leaf node. */\nexport function getSelectedLayoutSegmentPath(\n  tree: FlightRouterState,\n  parallelRouteKey: string,\n  first = true,\n  segmentPath: string[] = []\n): string[] {\n  let node: FlightRouterState\n  if (first) {\n    // Use the provided parallel route key on the first parallel route\n    node = tree[1][parallelRouteKey]\n  } else {\n    // After first parallel route prefer children, if there's no children pick the first parallel route.\n    const parallelRoutes = tree[1]\n    node = parallelRoutes.children ?? Object.values(parallelRoutes)[0]\n  }\n\n  if (!node) return segmentPath\n  const segment = node[0]\n\n  let segmentValue = getSegmentValue(segment)\n\n  if (!segmentValue || segmentValue.startsWith(PAGE_SEGMENT_KEY)) {\n    return segmentPath\n  }\n\n  segmentPath.push(segmentValue)\n\n  return getSelectedLayoutSegmentPath(\n    node,\n    parallelRouteKey,\n    false,\n    segmentPath\n  )\n}\n\nexport const PAGE_SEGMENT_KEY = '__PAGE__'\nexport const DEFAULT_SEGMENT_KEY = '__DEFAULT__'\n","\"use strict\";\n\nfunction _interop_require_default(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\nexports._ = _interop_require_default;\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HeadManagerContext\n","const DOMAttributeNames: Record<string, string> = {\n  acceptCharset: 'accept-charset',\n  className: 'class',\n  htmlFor: 'for',\n  httpEquiv: 'http-equiv',\n  noModule: 'noModule',\n}\n\nconst ignoreProps = [\n  'onLoad',\n  'onReady',\n  'dangerouslySetInnerHTML',\n  'children',\n  'onError',\n  'strategy',\n  'stylesheets',\n]\n\nfunction isBooleanScriptAttribute(\n  attr: string\n): attr is 'async' | 'defer' | 'noModule' {\n  return ['async', 'defer', 'noModule'].includes(attr)\n}\n\nexport function setAttributesFromProps(el: HTMLElement, props: object) {\n  for (const [p, value] of Object.entries(props)) {\n    if (!props.hasOwnProperty(p)) continue\n    if (ignoreProps.includes(p)) continue\n\n    // we don't render undefined props to the DOM\n    if (value === undefined) {\n      continue\n    }\n\n    const attr = DOMAttributeNames[p] || p.toLowerCase()\n\n    if (el.tagName === 'SCRIPT' && isBooleanScriptAttribute(attr)) {\n      // Correctly assign boolean script attributes\n      // https://github.com/vercel/next.js/pull/20748\n      ;(el as HTMLScriptElement)[attr] = !!value\n    } else {\n      el.setAttribute(attr, String(value))\n    }\n\n    // Remove falsy non-zero boolean attributes so they are correctly interpreted\n    // (e.g. if we set them to false, this coerces to the string \"false\", which the browser interprets as true)\n    if (\n      value === false ||\n      (el.tagName === 'SCRIPT' &&\n        isBooleanScriptAttribute(attr) &&\n        (!value || value === 'false'))\n    ) {\n      // Call setAttribute before, as we need to set and unset the attribute to override force async:\n      // https://html.spec.whatwg.org/multipage/scripting.html#script-force-async\n      el.setAttribute(attr, '')\n      el.removeAttribute(attr)\n    }\n  }\n}\n","export const requestIdleCallback =\n  (typeof self !== 'undefined' &&\n    self.requestIdleCallback &&\n    self.requestIdleCallback.bind(window)) ||\n  function (cb: IdleRequestCallback): number {\n    let start = Date.now()\n    return self.setTimeout(function () {\n      cb({\n        didTimeout: false,\n        timeRemaining: function () {\n          return Math.max(0, 50 - (Date.now() - start))\n        },\n      })\n    }, 1)\n  }\n\nexport const cancelIdleCallback =\n  (typeof self !== 'undefined' &&\n    self.cancelIdleCallback &&\n    self.cancelIdleCallback.bind(window)) ||\n  function (id: number) {\n    return clearTimeout(id)\n  }\n","'use client'\n\nimport ReactDOM from 'react-dom'\nimport React, { useEffect, useContext, useRef, type JSX } from 'react'\nimport type { ScriptHTMLAttributes } from 'react'\nimport { HeadManagerContext } from '../shared/lib/head-manager-context.shared-runtime'\nimport { setAttributesFromProps } from './set-attributes-from-props'\nimport { requestIdleCallback } from './request-idle-callback'\n\nconst ScriptCache = new Map()\nconst LoadCache = new Set()\n\nexport interface ScriptProps extends ScriptHTMLAttributes<HTMLScriptElement> {\n  strategy?: 'afterInteractive' | 'lazyOnload' | 'beforeInteractive' | 'worker'\n  id?: string\n  onLoad?: (e: any) => void\n  onReady?: () => void | null\n  onError?: (e: any) => void\n  children?: React.ReactNode\n  stylesheets?: string[]\n}\n\n/**\n * @deprecated Use `ScriptProps` instead.\n */\nexport type Props = ScriptProps\n\nconst insertStylesheets = (stylesheets: string[]) => {\n  // Case 1: Styles for afterInteractive/lazyOnload with appDir injected via handleClientScriptLoad\n  //\n  // Using ReactDOM.preinit to feature detect appDir and inject styles\n  // Stylesheets might have already been loaded if initialized with Script component\n  // Re-inject styles here to handle scripts loaded via handleClientScriptLoad\n  // ReactDOM.preinit handles dedup and ensures the styles are loaded only once\n  if (ReactDOM.preinit) {\n    stylesheets.forEach((stylesheet: string) => {\n      ReactDOM.preinit(stylesheet, { as: 'style' })\n    })\n\n    return\n  }\n\n  // Case 2: Styles for afterInteractive/lazyOnload with pages injected via handleClientScriptLoad\n  //\n  // We use this function to load styles when appdir is not detected\n  // TODO: Use React float APIs to load styles once available for pages dir\n  if (typeof window !== 'undefined') {\n    let head = document.head\n    stylesheets.forEach((stylesheet: string) => {\n      let link = document.createElement('link')\n\n      link.type = 'text/css'\n      link.rel = 'stylesheet'\n      link.href = stylesheet\n\n      head.appendChild(link)\n    })\n  }\n}\n\nconst loadScript = (props: ScriptProps): void => {\n  const {\n    src,\n    id,\n    onLoad = () => {},\n    onReady = null,\n    dangerouslySetInnerHTML,\n    children = '',\n    strategy = 'afterInteractive',\n    onError,\n    stylesheets,\n  } = props\n\n  const cacheKey = id || src\n\n  // Script has already loaded\n  if (cacheKey && LoadCache.has(cacheKey)) {\n    return\n  }\n\n  // Contents of this script are already loading/loaded\n  if (ScriptCache.has(src)) {\n    LoadCache.add(cacheKey)\n    // It is possible that multiple `next/script` components all have same \"src\", but has different \"onLoad\"\n    // This is to make sure the same remote script will only load once, but \"onLoad\" are executed in order\n    ScriptCache.get(src).then(onLoad, onError)\n    return\n  }\n\n  /** Execute after the script first loaded */\n  const afterLoad = () => {\n    // Run onReady for the first time after load event\n    if (onReady) {\n      onReady()\n    }\n    // add cacheKey to LoadCache when load successfully\n    LoadCache.add(cacheKey)\n  }\n\n  const el = document.createElement('script')\n\n  const loadPromise = new Promise<void>((resolve, reject) => {\n    el.addEventListener('load', function (e) {\n      resolve()\n      if (onLoad) {\n        onLoad.call(this, e)\n      }\n      afterLoad()\n    })\n    el.addEventListener('error', function (e) {\n      reject(e)\n    })\n  }).catch(function (e) {\n    if (onError) {\n      onError(e)\n    }\n  })\n\n  if (dangerouslySetInnerHTML) {\n    // Casting since lib.dom.d.ts doesn't have TrustedHTML yet.\n    el.innerHTML = (dangerouslySetInnerHTML.__html as string) || ''\n\n    afterLoad()\n  } else if (children) {\n    el.textContent =\n      typeof children === 'string'\n        ? children\n        : Array.isArray(children)\n          ? children.join('')\n          : ''\n\n    afterLoad()\n  } else if (src) {\n    el.src = src\n    // do not add cacheKey into LoadCache for remote script here\n    // cacheKey will be added to LoadCache when it is actually loaded (see loadPromise above)\n\n    ScriptCache.set(src, loadPromise)\n  }\n\n  setAttributesFromProps(el, props)\n\n  if (strategy === 'worker') {\n    el.setAttribute('type', 'text/partytown')\n  }\n\n  el.setAttribute('data-nscript', strategy)\n\n  // Load styles associated with this script\n  if (stylesheets) {\n    insertStylesheets(stylesheets)\n  }\n\n  document.body.appendChild(el)\n}\n\nexport function handleClientScriptLoad(props: ScriptProps) {\n  const { strategy = 'afterInteractive' } = props\n  if (strategy === 'lazyOnload') {\n    window.addEventListener('load', () => {\n      requestIdleCallback(() => loadScript(props))\n    })\n  } else {\n    loadScript(props)\n  }\n}\n\nfunction loadLazyScript(props: ScriptProps) {\n  if (document.readyState === 'complete') {\n    requestIdleCallback(() => loadScript(props))\n  } else {\n    window.addEventListener('load', () => {\n      requestIdleCallback(() => loadScript(props))\n    })\n  }\n}\n\nfunction addBeforeInteractiveToCache() {\n  const scripts = [\n    ...document.querySelectorAll('[data-nscript=\"beforeInteractive\"]'),\n    ...document.querySelectorAll('[data-nscript=\"beforePageRender\"]'),\n  ]\n  scripts.forEach((script) => {\n    const cacheKey = script.id || script.getAttribute('src')\n    LoadCache.add(cacheKey)\n  })\n}\n\nexport function initScriptLoader(scriptLoaderItems: ScriptProps[]) {\n  scriptLoaderItems.forEach(handleClientScriptLoad)\n  addBeforeInteractiveToCache()\n}\n\n/**\n * Load a third-party scripts in an optimized way.\n *\n * Read more: [Next.js Docs: `next/script`](https://nextjs.org/docs/app/api-reference/components/script)\n */\nfunction Script(props: ScriptProps): JSX.Element | null {\n  const {\n    id,\n    src = '',\n    onLoad = () => {},\n    onReady = null,\n    strategy = 'afterInteractive',\n    onError,\n    stylesheets,\n    ...restProps\n  } = props\n\n  // Context is available only during SSR\n  let { updateScripts, scripts, getIsSsr, appDir, nonce } =\n    useContext(HeadManagerContext)\n\n  // if a nonce is explicitly passed to the script tag, favor that over the automatic handling\n  nonce = restProps.nonce || nonce\n\n  /**\n   * - First mount:\n   *   1. The useEffect for onReady executes\n   *   2. hasOnReadyEffectCalled.current is false, but the script hasn't loaded yet (not in LoadCache)\n   *      onReady is skipped, set hasOnReadyEffectCalled.current to true\n   *   3. The useEffect for loadScript executes\n   *   4. hasLoadScriptEffectCalled.current is false, loadScript executes\n   *      Once the script is loaded, the onLoad and onReady will be called by then\n   *   [If strict mode is enabled / is wrapped in <OffScreen /> component]\n   *   5. The useEffect for onReady executes again\n   *   6. hasOnReadyEffectCalled.current is true, so entire effect is skipped\n   *   7. The useEffect for loadScript executes again\n   *   8. hasLoadScriptEffectCalled.current is true, so entire effect is skipped\n   *\n   * - Second mount:\n   *   1. The useEffect for onReady executes\n   *   2. hasOnReadyEffectCalled.current is false, but the script has already loaded (found in LoadCache)\n   *      onReady is called, set hasOnReadyEffectCalled.current to true\n   *   3. The useEffect for loadScript executes\n   *   4. The script is already loaded, loadScript bails out\n   *   [If strict mode is enabled / is wrapped in <OffScreen /> component]\n   *   5. The useEffect for onReady executes again\n   *   6. hasOnReadyEffectCalled.current is true, so entire effect is skipped\n   *   7. The useEffect for loadScript executes again\n   *   8. hasLoadScriptEffectCalled.current is true, so entire effect is skipped\n   */\n  const hasOnReadyEffectCalled = useRef(false)\n\n  useEffect(() => {\n    const cacheKey = id || src\n    if (!hasOnReadyEffectCalled.current) {\n      // Run onReady if script has loaded before but component is re-mounted\n      if (onReady && cacheKey && LoadCache.has(cacheKey)) {\n        onReady()\n      }\n\n      hasOnReadyEffectCalled.current = true\n    }\n  }, [onReady, id, src])\n\n  const hasLoadScriptEffectCalled = useRef(false)\n\n  useEffect(() => {\n    if (!hasLoadScriptEffectCalled.current) {\n      if (strategy === 'afterInteractive') {\n        loadScript(props)\n      } else if (strategy === 'lazyOnload') {\n        loadLazyScript(props)\n      }\n\n      hasLoadScriptEffectCalled.current = true\n    }\n  }, [props, strategy])\n\n  if (strategy === 'beforeInteractive' || strategy === 'worker') {\n    if (updateScripts) {\n      scripts[strategy] = (scripts[strategy] || []).concat([\n        {\n          id,\n          src,\n          onLoad,\n          onReady,\n          onError,\n          ...restProps,\n          nonce,\n        },\n      ])\n      updateScripts(scripts)\n    } else if (getIsSsr && getIsSsr()) {\n      // Script has already loaded during SSR\n      LoadCache.add(id || src)\n    } else if (getIsSsr && !getIsSsr()) {\n      loadScript({\n        ...props,\n        nonce,\n      })\n    }\n  }\n\n  // For the app directory, we need React Float to preload these scripts.\n  if (appDir) {\n    // Injecting stylesheets here handles beforeInteractive and worker scripts correctly\n    // For other strategies injecting here ensures correct stylesheet order\n    // ReactDOM.preinit handles loading the styles in the correct order,\n    // also ensures the stylesheet is loaded only once and in a consistent manner\n    //\n    // Case 1: Styles for beforeInteractive/worker with appDir - handled here\n    // Case 2: Styles for beforeInteractive/worker with pages dir - Not handled yet\n    // Case 3: Styles for afterInteractive/lazyOnload with appDir - handled here\n    // Case 4: Styles for afterInteractive/lazyOnload with pages dir - handled in insertStylesheets function\n    if (stylesheets) {\n      stylesheets.forEach((styleSrc) => {\n        ReactDOM.preinit(styleSrc, { as: 'style' })\n      })\n    }\n\n    // Before interactive scripts need to be loaded by Next.js' runtime instead\n    // of native <script> tags, because they no longer have `defer`.\n    if (strategy === 'beforeInteractive') {\n      if (!src) {\n        // For inlined scripts, we put the content in `children`.\n        if (restProps.dangerouslySetInnerHTML) {\n          // Casting since lib.dom.d.ts doesn't have TrustedHTML yet.\n          restProps.children = restProps.dangerouslySetInnerHTML\n            .__html as string\n          delete restProps.dangerouslySetInnerHTML\n        }\n\n        return (\n          <script\n            nonce={nonce}\n            dangerouslySetInnerHTML={{\n              __html: `(self.__next_s=self.__next_s||[]).push(${JSON.stringify([\n                0,\n                { ...restProps, id },\n              ])})`,\n            }}\n          />\n        )\n      } else {\n        // @ts-ignore\n        ReactDOM.preload(\n          src,\n          restProps.integrity\n            ? {\n                as: 'script',\n                integrity: restProps.integrity,\n                nonce,\n                crossOrigin: restProps.crossOrigin,\n              }\n            : { as: 'script', nonce, crossOrigin: restProps.crossOrigin }\n        )\n        return (\n          <script\n            nonce={nonce}\n            dangerouslySetInnerHTML={{\n              __html: `(self.__next_s=self.__next_s||[]).push(${JSON.stringify([\n                src,\n                { ...restProps, id },\n              ])})`,\n            }}\n          />\n        )\n      }\n    } else if (strategy === 'afterInteractive') {\n      if (src) {\n        // @ts-ignore\n        ReactDOM.preload(\n          src,\n          restProps.integrity\n            ? {\n                as: 'script',\n                integrity: restProps.integrity,\n                nonce,\n                crossOrigin: restProps.crossOrigin,\n              }\n            : { as: 'script', nonce, crossOrigin: restProps.crossOrigin }\n        )\n      }\n    }\n  }\n\n  return null\n}\n\nObject.defineProperty(Script, '__nextScript', { value: true })\n\nexport default Script\n","import React from 'react';\nimport { createStore } from 'zustand/vanilla';\n\nconst identity = (arg) => arg;\nfunction useStore(api, selector = identity) {\n  const slice = React.useSyncExternalStore(\n    api.subscribe,\n    React.useCallback(() => selector(api.getState()), [api, selector]),\n    React.useCallback(() => selector(api.getInitialState()), [api, selector])\n  );\n  React.useDebugValue(slice);\n  return slice;\n}\nconst createImpl = (createState) => {\n  const api = createStore(createState);\n  const useBoundStore = (selector) => useStore(api, selector);\n  Object.assign(useBoundStore, api);\n  return useBoundStore;\n};\nconst create = ((createState) => createState ? createImpl(createState) : createImpl);\n\nexport { create, useStore };\n","const createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\" || nextState === null) ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const getInitialState = () => initialState;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const api = { setState, getState, getInitialState, subscribe };\n  const initialState = state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = ((createState) => createState ? createStoreImpl(createState) : createStoreImpl);\n\nexport { createStore };\n","const reduxImpl = (reducer, initial) => (set, _get, api) => {\n  api.dispatch = (action) => {\n    set((state) => reducer(state, action), false, action);\n    return action;\n  };\n  api.dispatchFromDevtools = true;\n  return { dispatch: (...args) => api.dispatch(...args), ...initial };\n};\nconst redux = reduxImpl;\n\nconst trackedConnections = /* @__PURE__ */ new Map();\nconst getTrackedConnectionState = (name) => {\n  const api = trackedConnections.get(name);\n  if (!api) return {};\n  return Object.fromEntries(\n    Object.entries(api.stores).map(([key, api2]) => [key, api2.getState()])\n  );\n};\nconst extractConnectionInformation = (store, extensionConnector, options) => {\n  if (store === void 0) {\n    return {\n      type: \"untracked\",\n      connection: extensionConnector.connect(options)\n    };\n  }\n  const existingConnection = trackedConnections.get(options.name);\n  if (existingConnection) {\n    return { type: \"tracked\", store, ...existingConnection };\n  }\n  const newConnection = {\n    connection: extensionConnector.connect(options),\n    stores: {}\n  };\n  trackedConnections.set(options.name, newConnection);\n  return { type: \"tracked\", store, ...newConnection };\n};\nconst removeStoreFromTrackedConnections = (name, store) => {\n  if (store === void 0) return;\n  const connectionInfo = trackedConnections.get(name);\n  if (!connectionInfo) return;\n  delete connectionInfo.stores[store];\n  if (Object.keys(connectionInfo.stores).length === 0) {\n    trackedConnections.delete(name);\n  }\n};\nconst findCallerName = (stack) => {\n  var _a, _b;\n  if (!stack) return void 0;\n  const traceLines = stack.split(\"\\n\");\n  const apiSetStateLineIndex = traceLines.findIndex(\n    (traceLine) => traceLine.includes(\"api.setState\")\n  );\n  if (apiSetStateLineIndex < 0) return void 0;\n  const callerLine = ((_a = traceLines[apiSetStateLineIndex + 1]) == null ? void 0 : _a.trim()) || \"\";\n  return (_b = /.+ (.+) .+/.exec(callerLine)) == null ? void 0 : _b[1];\n};\nconst devtoolsImpl = (fn, devtoolsOptions = {}) => (set, get, api) => {\n  const { enabled, anonymousActionType, store, ...options } = devtoolsOptions;\n  let extensionConnector;\n  try {\n    extensionConnector = (enabled != null ? enabled : (import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") && window.__REDUX_DEVTOOLS_EXTENSION__;\n  } catch (e) {\n  }\n  if (!extensionConnector) {\n    return fn(set, get, api);\n  }\n  const { connection, ...connectionInformation } = extractConnectionInformation(store, extensionConnector, options);\n  let isRecording = true;\n  api.setState = ((state, replace, nameOrAction) => {\n    const r = set(state, replace);\n    if (!isRecording) return r;\n    const action = nameOrAction === void 0 ? {\n      type: anonymousActionType || findCallerName(new Error().stack) || \"anonymous\"\n    } : typeof nameOrAction === \"string\" ? { type: nameOrAction } : nameOrAction;\n    if (store === void 0) {\n      connection == null ? void 0 : connection.send(action, get());\n      return r;\n    }\n    connection == null ? void 0 : connection.send(\n      {\n        ...action,\n        type: `${store}/${action.type}`\n      },\n      {\n        ...getTrackedConnectionState(options.name),\n        [store]: api.getState()\n      }\n    );\n    return r;\n  });\n  api.devtools = {\n    cleanup: () => {\n      if (connection && typeof connection.unsubscribe === \"function\") {\n        connection.unsubscribe();\n      }\n      removeStoreFromTrackedConnections(options.name, store);\n    }\n  };\n  const setStateFromDevtools = (...a) => {\n    const originalIsRecording = isRecording;\n    isRecording = false;\n    set(...a);\n    isRecording = originalIsRecording;\n  };\n  const initialState = fn(api.setState, get, api);\n  if (connectionInformation.type === \"untracked\") {\n    connection == null ? void 0 : connection.init(initialState);\n  } else {\n    connectionInformation.stores[connectionInformation.store] = api;\n    connection == null ? void 0 : connection.init(\n      Object.fromEntries(\n        Object.entries(connectionInformation.stores).map(([key, store2]) => [\n          key,\n          key === connectionInformation.store ? initialState : store2.getState()\n        ])\n      )\n    );\n  }\n  if (api.dispatchFromDevtools && typeof api.dispatch === \"function\") {\n    let didWarnAboutReservedActionType = false;\n    const originalDispatch = api.dispatch;\n    api.dispatch = (...args) => {\n      if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\" && args[0].type === \"__setState\" && !didWarnAboutReservedActionType) {\n        console.warn(\n          '[zustand devtools middleware] \"__setState\" action type is reserved to set state from the devtools. Avoid using it.'\n        );\n        didWarnAboutReservedActionType = true;\n      }\n      originalDispatch(...args);\n    };\n  }\n  connection.subscribe((message) => {\n    var _a;\n    switch (message.type) {\n      case \"ACTION\":\n        if (typeof message.payload !== \"string\") {\n          console.error(\n            \"[zustand devtools middleware] Unsupported action format\"\n          );\n          return;\n        }\n        return parseJsonThen(\n          message.payload,\n          (action) => {\n            if (action.type === \"__setState\") {\n              if (store === void 0) {\n                setStateFromDevtools(action.state);\n                return;\n              }\n              if (Object.keys(action.state).length !== 1) {\n                console.error(\n                  `\n                    [zustand devtools middleware] Unsupported __setState action format.\n                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { \"type\": \"__setState\", \"state\": { \"abc123Store\": { \"foo\": \"bar\" } } }\n                    `\n                );\n              }\n              const stateFromDevtools = action.state[store];\n              if (stateFromDevtools === void 0 || stateFromDevtools === null) {\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(stateFromDevtools)) {\n                setStateFromDevtools(stateFromDevtools);\n              }\n              return;\n            }\n            if (!api.dispatchFromDevtools) return;\n            if (typeof api.dispatch !== \"function\") return;\n            api.dispatch(action);\n          }\n        );\n      case \"DISPATCH\":\n        switch (message.payload.type) {\n          case \"RESET\":\n            setStateFromDevtools(initialState);\n            if (store === void 0) {\n              return connection == null ? void 0 : connection.init(api.getState());\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"COMMIT\":\n            if (store === void 0) {\n              connection == null ? void 0 : connection.init(api.getState());\n              return;\n            }\n            return connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n          case \"ROLLBACK\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                connection == null ? void 0 : connection.init(api.getState());\n                return;\n              }\n              setStateFromDevtools(state[store]);\n              connection == null ? void 0 : connection.init(getTrackedConnectionState(options.name));\n            });\n          case \"JUMP_TO_STATE\":\n          case \"JUMP_TO_ACTION\":\n            return parseJsonThen(message.state, (state) => {\n              if (store === void 0) {\n                setStateFromDevtools(state);\n                return;\n              }\n              if (JSON.stringify(api.getState()) !== JSON.stringify(state[store])) {\n                setStateFromDevtools(state[store]);\n              }\n            });\n          case \"IMPORT_STATE\": {\n            const { nextLiftedState } = message.payload;\n            const lastComputedState = (_a = nextLiftedState.computedStates.slice(-1)[0]) == null ? void 0 : _a.state;\n            if (!lastComputedState) return;\n            if (store === void 0) {\n              setStateFromDevtools(lastComputedState);\n            } else {\n              setStateFromDevtools(lastComputedState[store]);\n            }\n            connection == null ? void 0 : connection.send(\n              null,\n              // FIXME no-any\n              nextLiftedState\n            );\n            return;\n          }\n          case \"PAUSE_RECORDING\":\n            return isRecording = !isRecording;\n        }\n        return;\n    }\n  });\n  return initialState;\n};\nconst devtools = devtoolsImpl;\nconst parseJsonThen = (stringified, fn) => {\n  let parsed;\n  try {\n    parsed = JSON.parse(stringified);\n  } catch (e) {\n    console.error(\n      \"[zustand devtools middleware] Could not parse the received json\",\n      e\n    );\n  }\n  if (parsed !== void 0) fn(parsed);\n};\n\nconst subscribeWithSelectorImpl = (fn) => (set, get, api) => {\n  const origSubscribe = api.subscribe;\n  api.subscribe = ((selector, optListener, options) => {\n    let listener = selector;\n    if (optListener) {\n      const equalityFn = (options == null ? void 0 : options.equalityFn) || Object.is;\n      let currentSlice = selector(api.getState());\n      listener = (state) => {\n        const nextSlice = selector(state);\n        if (!equalityFn(currentSlice, nextSlice)) {\n          const previousSlice = currentSlice;\n          optListener(currentSlice = nextSlice, previousSlice);\n        }\n      };\n      if (options == null ? void 0 : options.fireImmediately) {\n        optListener(currentSlice, currentSlice);\n      }\n    }\n    return origSubscribe(listener);\n  });\n  const initialState = fn(set, get, api);\n  return initialState;\n};\nconst subscribeWithSelector = subscribeWithSelectorImpl;\n\nfunction combine(initialState, create) {\n  return (...args) => Object.assign({}, initialState, create(...args));\n}\n\nfunction createJSONStorage(getStorage, options) {\n  let storage;\n  try {\n    storage = getStorage();\n  } catch (e) {\n    return;\n  }\n  const persistStorage = {\n    getItem: (name) => {\n      var _a;\n      const parse = (str2) => {\n        if (str2 === null) {\n          return null;\n        }\n        return JSON.parse(str2, options == null ? void 0 : options.reviver);\n      };\n      const str = (_a = storage.getItem(name)) != null ? _a : null;\n      if (str instanceof Promise) {\n        return str.then(parse);\n      }\n      return parse(str);\n    },\n    setItem: (name, newValue) => storage.setItem(name, JSON.stringify(newValue, options == null ? void 0 : options.replacer)),\n    removeItem: (name) => storage.removeItem(name)\n  };\n  return persistStorage;\n}\nconst toThenable = (fn) => (input) => {\n  try {\n    const result = fn(input);\n    if (result instanceof Promise) {\n      return result;\n    }\n    return {\n      then(onFulfilled) {\n        return toThenable(onFulfilled)(result);\n      },\n      catch(_onRejected) {\n        return this;\n      }\n    };\n  } catch (e) {\n    return {\n      then(_onFulfilled) {\n        return this;\n      },\n      catch(onRejected) {\n        return toThenable(onRejected)(e);\n      }\n    };\n  }\n};\nconst persistImpl = (config, baseOptions) => (set, get, api) => {\n  let options = {\n    storage: createJSONStorage(() => localStorage),\n    partialize: (state) => state,\n    version: 0,\n    merge: (persistedState, currentState) => ({\n      ...currentState,\n      ...persistedState\n    }),\n    ...baseOptions\n  };\n  let hasHydrated = false;\n  const hydrationListeners = /* @__PURE__ */ new Set();\n  const finishHydrationListeners = /* @__PURE__ */ new Set();\n  let storage = options.storage;\n  if (!storage) {\n    return config(\n      (...args) => {\n        console.warn(\n          `[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`\n        );\n        set(...args);\n      },\n      get,\n      api\n    );\n  }\n  const setItem = () => {\n    const state = options.partialize({ ...get() });\n    return storage.setItem(options.name, {\n      state,\n      version: options.version\n    });\n  };\n  const savedSetState = api.setState;\n  api.setState = (state, replace) => {\n    savedSetState(state, replace);\n    return setItem();\n  };\n  const configResult = config(\n    (...args) => {\n      set(...args);\n      return setItem();\n    },\n    get,\n    api\n  );\n  api.getInitialState = () => configResult;\n  let stateFromStorage;\n  const hydrate = () => {\n    var _a, _b;\n    if (!storage) return;\n    hasHydrated = false;\n    hydrationListeners.forEach((cb) => {\n      var _a2;\n      return cb((_a2 = get()) != null ? _a2 : configResult);\n    });\n    const postRehydrationCallback = ((_b = options.onRehydrateStorage) == null ? void 0 : _b.call(options, (_a = get()) != null ? _a : configResult)) || void 0;\n    return toThenable(storage.getItem.bind(storage))(options.name).then((deserializedStorageValue) => {\n      if (deserializedStorageValue) {\n        if (typeof deserializedStorageValue.version === \"number\" && deserializedStorageValue.version !== options.version) {\n          if (options.migrate) {\n            const migration = options.migrate(\n              deserializedStorageValue.state,\n              deserializedStorageValue.version\n            );\n            if (migration instanceof Promise) {\n              return migration.then((result) => [true, result]);\n            }\n            return [true, migration];\n          }\n          console.error(\n            `State loaded from storage couldn't be migrated since no migrate function was provided`\n          );\n        } else {\n          return [false, deserializedStorageValue.state];\n        }\n      }\n      return [false, void 0];\n    }).then((migrationResult) => {\n      var _a2;\n      const [migrated, migratedState] = migrationResult;\n      stateFromStorage = options.merge(\n        migratedState,\n        (_a2 = get()) != null ? _a2 : configResult\n      );\n      set(stateFromStorage, true);\n      if (migrated) {\n        return setItem();\n      }\n    }).then(() => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(stateFromStorage, void 0);\n      stateFromStorage = get();\n      hasHydrated = true;\n      finishHydrationListeners.forEach((cb) => cb(stateFromStorage));\n    }).catch((e) => {\n      postRehydrationCallback == null ? void 0 : postRehydrationCallback(void 0, e);\n    });\n  };\n  api.persist = {\n    setOptions: (newOptions) => {\n      options = {\n        ...options,\n        ...newOptions\n      };\n      if (newOptions.storage) {\n        storage = newOptions.storage;\n      }\n    },\n    clearStorage: () => {\n      storage == null ? void 0 : storage.removeItem(options.name);\n    },\n    getOptions: () => options,\n    rehydrate: () => hydrate(),\n    hasHydrated: () => hasHydrated,\n    onHydrate: (cb) => {\n      hydrationListeners.add(cb);\n      return () => {\n        hydrationListeners.delete(cb);\n      };\n    },\n    onFinishHydration: (cb) => {\n      finishHydrationListeners.add(cb);\n      return () => {\n        finishHydrationListeners.delete(cb);\n      };\n    }\n  };\n  if (!options.skipHydration) {\n    hydrate();\n  }\n  return stateFromStorage || configResult;\n};\nconst persist = persistImpl;\n\nexport { combine, createJSONStorage, devtools, persist, redux, subscribeWithSelector };\n","import { create } from \"zustand\";\nimport { devtools, persist } from \"zustand/middleware\";\n\nexport type WorkSection =\n\t| \"jobs\"\n\t| \"appointments\"\n\t| \"payments\"\n\t| \"estimates\"\n\t| \"invoices\"\n\t| \"contracts\"\n\t| \"maintenancePlans\"\n\t| \"materials\"\n\t| \"purchaseOrders\"\n\t| \"serviceAgreements\"\n\t| \"equipment\"\n\t| \"teams\"\n\t| \"customers\"\n\t| \"vendors\";\n\nexport type WorkViewMode = \"table\" | \"kanban\";\n\ntype WorkViewState = {\n\tviews: Record<WorkSection, WorkViewMode>;\n\tsetView: (section: WorkSection, mode: WorkViewMode) => void;\n\tgetView: (section: WorkSection) => WorkViewMode;\n\treset: () => void;\n};\n\nconst defaultViews: Record<WorkSection, WorkViewMode> = {\n\tjobs: \"table\",\n\tappointments: \"table\",\n\tpayments: \"table\",\n\testimates: \"table\",\n\tinvoices: \"table\",\n\tcontracts: \"table\",\n\tmaintenancePlans: \"table\",\n\tmaterials: \"table\",\n\tpurchaseOrders: \"table\",\n\tserviceAgreements: \"table\",\n\tequipment: \"table\",\n\tteams: \"table\",\n\tcustomers: \"table\",\n\tvendors: \"table\",\n};\n\nfunction createInitialState(): WorkViewState {\n\treturn {\n\t\tviews: { ...defaultViews },\n\t\tsetView: () => {},\n\t\tgetView: () => \"table\",\n\t\treset: () => {},\n\t};\n}\n\nexport const useWorkViewStore = create<WorkViewState>()(\n\tdevtools(\n\t\tpersist(\n\t\t\t(set, get) => ({\n\t\t\t\t...createInitialState(),\n\t\t\t\tsetView: (section, mode) =>\n\t\t\t\t\tset((state) => ({\n\t\t\t\t\t\tviews: {\n\t\t\t\t\t\t\t...state.views,\n\t\t\t\t\t\t\t[section]: mode,\n\t\t\t\t\t\t},\n\t\t\t\t\t})),\n\t\t\t\tgetView: (section) => get().views[section] ?? \"table\",\n\t\t\t\treset: () => set({ views: { ...defaultViews } }),\n\t\t\t}),\n\t\t\t{\n\t\t\t\tname: \"work-view-preferences\",\n\t\t\t\tpartialize: (state) => ({\n\t\t\t\t\tviews: state.views,\n\t\t\t\t}),\n\t\t\t\tskipHydration: true, // CRITICAL: Prevents hydration mismatch with Next.js 16 Server Components\n\t\t\t},\n\t\t),\n\t\t{ name: \"WorkViewStore\" },\n\t),\n);\n\nexport function useWorkView(section: WorkSection): WorkViewMode {\n\treturn useWorkViewStore((state) => state.views[section] ?? \"table\");\n}\n\nexport function useSetWorkView(section: WorkSection) {\n\tconst setView = useWorkViewStore((state) => state.setView);\n\treturn (mode: WorkViewMode) => setView(section, mode);\n}\n","/**\n * Schedule View Store - Zustand State Management\n * Optimized for timeline-only view with performant infinite scroll\n */\n\nimport { create } from \"zustand\";\nimport { devtools, persist } from \"zustand/middleware\";\n\ntype TimelineViewMode = \"day\" | \"week\" | \"month\" | \"list\" | \"map\";\ntype TimelineZoomLevel = 15 | 30 | 60;\n\n// Buffer configuration for infinite scroll (PERFORMANCE TUNED)\nconst BUFFER_DAYS_BEFORE = 3; // Initial days to load before current date\nconst BUFFER_DAYS_AFTER = 3; // Initial days to load after current date\nconst EXTEND_DAYS = 3; // Days to add when extending buffer (reduces state updates)\nconst MAX_BUFFER_DAYS = 14; // Maximum buffer size before trimming (prevents memory bloat)\n\ntype ScheduleViewStore = {\n\tviewMode: TimelineViewMode;\n\tcurrentDate: Date;\n\tzoomLevel: TimelineZoomLevel;\n\tshowTravelTime: boolean;\n\tshowCapacity: boolean;\n\t// Infinite scroll buffer state\n\tbufferStartDate: Date;\n\tbufferEndDate: Date;\n\tsetViewMode: (mode: TimelineViewMode) => void;\n\tsetCurrentDate: (date: Date) => void;\n\tsetZoomLevel: (level: TimelineZoomLevel) => void;\n\ttoggleTravelTime: () => void;\n\ttoggleCapacity: () => void;\n\tgoToToday: () => void;\n\tnavigatePrevious: () => void;\n\tnavigateNext: () => void;\n\t// Buffer management for infinite scroll\n\textendBufferLeft: () => void;\n\textendBufferRight: () => void;\n\ttrimBuffer: (centerDate: Date) => void;\n\tresetBuffer: () => void;\n\treset: () => void;\n};\n\n// Detect mobile viewport and set default view accordingly\n// List view is more mobile-friendly than day view\nconst getDefaultViewMode = (): TimelineViewMode => {\n\tif (typeof window === \"undefined\") return \"day\"; // SSR fallback\n\treturn window.innerWidth < 768 ? \"list\" : \"day\";\n};\n\n// Helper to create buffer dates around a center date\nconst createBufferDates = (centerDate: Date) => {\n\tconst start = new Date(centerDate);\n\tstart.setDate(start.getDate() - BUFFER_DAYS_BEFORE);\n\tstart.setHours(0, 0, 0, 0);\n\n\tconst end = new Date(centerDate);\n\tend.setDate(end.getDate() + BUFFER_DAYS_AFTER);\n\tend.setHours(23, 59, 59, 999);\n\n\treturn { bufferStartDate: start, bufferEndDate: end };\n};\n\nconst now = new Date();\nconst { bufferStartDate, bufferEndDate } = createBufferDates(now);\n\nconst initialState = {\n\tviewMode: getDefaultViewMode(),\n\tcurrentDate: new Date(),\n\tzoomLevel: 30 as TimelineZoomLevel, // 30-minute intervals default\n\tshowTravelTime: true,\n\tshowCapacity: true,\n\tbufferStartDate,\n\tbufferEndDate,\n};\n\nexport const useScheduleViewStore = create<ScheduleViewStore>()(\n\tdevtools(\n\t\tpersist(\n\t\t\t(set, get) => ({\n\t\t\t\t...initialState,\n\n\t\t\t\tsetViewMode: (mode) => set({ viewMode: mode }),\n\n\t\t\t\tsetCurrentDate: (date) => {\n\t\t\t\t\t// Update buffer when current date changes\n\t\t\t\t\tconst { bufferStartDate, bufferEndDate } = createBufferDates(date);\n\t\t\t\t\tset({ currentDate: date, bufferStartDate, bufferEndDate });\n\t\t\t\t},\n\n\t\t\t\tsetZoomLevel: (level) => set({ zoomLevel: level }),\n\n\t\t\t\ttoggleTravelTime: () =>\n\t\t\t\t\tset((state) => ({ showTravelTime: !state.showTravelTime })),\n\n\t\t\t\ttoggleCapacity: () =>\n\t\t\t\t\tset((state) => ({ showCapacity: !state.showCapacity })),\n\n\t\t\t\tgoToToday: () => {\n\t\t\t\t\tconst today = new Date();\n\t\t\t\t\tconst { bufferStartDate, bufferEndDate } = createBufferDates(today);\n\t\t\t\t\tset({ currentDate: today, bufferStartDate, bufferEndDate });\n\t\t\t\t},\n\n\t\t\t\tnavigatePrevious: () => {\n\t\t\t\t\tconst { currentDate, viewMode } = get();\n\t\t\t\t\tconst newDate = new Date(currentDate);\n\t\t\t\t\tif (viewMode === \"day\" || viewMode === \"list\") {\n\t\t\t\t\t\tnewDate.setDate(newDate.getDate() - 1);\n\t\t\t\t\t} else if (viewMode === \"week\") {\n\t\t\t\t\t\tnewDate.setDate(newDate.getDate() - 7);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnewDate.setMonth(newDate.getMonth() - 1);\n\t\t\t\t\t}\n\t\t\t\t\tconst { bufferStartDate, bufferEndDate } = createBufferDates(newDate);\n\t\t\t\t\tset({ currentDate: newDate, bufferStartDate, bufferEndDate });\n\t\t\t\t},\n\n\t\t\t\tnavigateNext: () => {\n\t\t\t\t\tconst { currentDate, viewMode } = get();\n\t\t\t\t\tconst newDate = new Date(currentDate);\n\t\t\t\t\tif (viewMode === \"day\" || viewMode === \"list\") {\n\t\t\t\t\t\tnewDate.setDate(newDate.getDate() + 1);\n\t\t\t\t\t} else if (viewMode === \"week\") {\n\t\t\t\t\t\tnewDate.setDate(newDate.getDate() + 7);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnewDate.setMonth(newDate.getMonth() + 1);\n\t\t\t\t\t}\n\t\t\t\t\tconst { bufferStartDate, bufferEndDate } = createBufferDates(newDate);\n\t\t\t\t\tset({ currentDate: newDate, bufferStartDate, bufferEndDate });\n\t\t\t\t},\n\n\t\t\t\t// Extend buffer to the left (earlier dates) for infinite scroll\n\t\t\t\t// Extends by EXTEND_DAYS at once to reduce state update frequency\n\t\t\t\textendBufferLeft: () => {\n\t\t\t\t\tconst { bufferStartDate, bufferEndDate } = get();\n\t\t\t\t\tconst newStart = new Date(bufferStartDate);\n\t\t\t\t\tnewStart.setDate(newStart.getDate() - EXTEND_DAYS);\n\n\t\t\t\t\t// Check if buffer would exceed max size, trim from right if so\n\t\t\t\t\tconst totalDays = Math.ceil((bufferEndDate.getTime() - newStart.getTime()) / (1000 * 60 * 60 * 24));\n\t\t\t\t\tif (totalDays > MAX_BUFFER_DAYS) {\n\t\t\t\t\t\tconst newEnd = new Date(bufferEndDate);\n\t\t\t\t\t\tnewEnd.setDate(newEnd.getDate() - (totalDays - MAX_BUFFER_DAYS));\n\t\t\t\t\t\tset({ bufferStartDate: newStart, bufferEndDate: newEnd });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tset({ bufferStartDate: newStart });\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t// Extend buffer to the right (later dates) for infinite scroll\n\t\t\t\t// Extends by EXTEND_DAYS at once to reduce state update frequency\n\t\t\t\textendBufferRight: () => {\n\t\t\t\t\tconst { bufferStartDate, bufferEndDate } = get();\n\t\t\t\t\tconst newEnd = new Date(bufferEndDate);\n\t\t\t\t\tnewEnd.setDate(newEnd.getDate() + EXTEND_DAYS);\n\n\t\t\t\t\t// Check if buffer would exceed max size, trim from left if so\n\t\t\t\t\tconst totalDays = Math.ceil((newEnd.getTime() - bufferStartDate.getTime()) / (1000 * 60 * 60 * 24));\n\t\t\t\t\tif (totalDays > MAX_BUFFER_DAYS) {\n\t\t\t\t\t\tconst newStart = new Date(bufferStartDate);\n\t\t\t\t\t\tnewStart.setDate(newStart.getDate() + (totalDays - MAX_BUFFER_DAYS));\n\t\t\t\t\t\tset({ bufferStartDate: newStart, bufferEndDate: newEnd });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tset({ bufferEndDate: newEnd });\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t// Trim buffer to MAX_BUFFER_DAYS centered around the given date\n\t\t\t\ttrimBuffer: (centerDate: Date) => {\n\t\t\t\t\tconst { bufferStartDate, bufferEndDate } = get();\n\t\t\t\t\tconst totalDays = Math.ceil((bufferEndDate.getTime() - bufferStartDate.getTime()) / (1000 * 60 * 60 * 24));\n\n\t\t\t\t\tif (totalDays <= MAX_BUFFER_DAYS) return;\n\n\t\t\t\t\tconst halfMax = Math.floor(MAX_BUFFER_DAYS / 2);\n\t\t\t\t\tconst newStart = new Date(centerDate);\n\t\t\t\t\tnewStart.setDate(newStart.getDate() - halfMax);\n\t\t\t\t\tnewStart.setHours(0, 0, 0, 0);\n\n\t\t\t\t\tconst newEnd = new Date(centerDate);\n\t\t\t\t\tnewEnd.setDate(newEnd.getDate() + halfMax);\n\t\t\t\t\tnewEnd.setHours(23, 59, 59, 999);\n\n\t\t\t\t\tset({ bufferStartDate: newStart, bufferEndDate: newEnd });\n\t\t\t\t},\n\n\t\t\t\t// Reset buffer to default around current date\n\t\t\t\tresetBuffer: () => {\n\t\t\t\t\tconst { currentDate } = get();\n\t\t\t\t\tconst { bufferStartDate, bufferEndDate } = createBufferDates(currentDate);\n\t\t\t\t\tset({ bufferStartDate, bufferEndDate });\n\t\t\t\t},\n\n\t\t\t\treset: () => set(initialState),\n\t\t\t}),\n\t\t\t{\n\t\t\t\tname: \"schedule-view-store\",\n\t\t\t\tskipHydration: true, // CRITICAL: Prevents hydration mismatch with Next.js 16\n\t\t\t\t// Don't persist buffer dates - they should be recalculated on load\n\t\t\t\tpartialize: (state) => ({\n\t\t\t\t\tviewMode: state.viewMode,\n\t\t\t\t\tcurrentDate: state.currentDate,\n\t\t\t\t\tzoomLevel: state.zoomLevel,\n\t\t\t\t\tshowTravelTime: state.showTravelTime,\n\t\t\t\t\tshowCapacity: state.showCapacity,\n\t\t\t\t}),\n\t\t\t},\n\t\t),\n\t\t{ name: \"ScheduleViewStore\" },\n\t),\n);\n\n// Export types\nexport type { TimelineViewMode, TimelineZoomLevel };\n","// package.json\nvar name = \"@vercel/analytics\";\nvar version = \"1.5.0\";\n\n// src/queue.ts\nvar initQueue = () => {\n  if (window.va) return;\n  window.va = function a(...params) {\n    (window.vaq = window.vaq || []).push(params);\n  };\n};\n\n// src/utils.ts\nfunction isBrowser() {\n  return typeof window !== \"undefined\";\n}\nfunction detectEnvironment() {\n  try {\n    const env = process.env.NODE_ENV;\n    if (env === \"development\" || env === \"test\") {\n      return \"development\";\n    }\n  } catch (e) {\n  }\n  return \"production\";\n}\nfunction setMode(mode = \"auto\") {\n  if (mode === \"auto\") {\n    window.vam = detectEnvironment();\n    return;\n  }\n  window.vam = mode;\n}\nfunction getMode() {\n  const mode = isBrowser() ? window.vam : detectEnvironment();\n  return mode || \"production\";\n}\nfunction isProduction() {\n  return getMode() === \"production\";\n}\nfunction isDevelopment() {\n  return getMode() === \"development\";\n}\nfunction removeKey(key, { [key]: _, ...rest }) {\n  return rest;\n}\nfunction parseProperties(properties, options) {\n  if (!properties) return void 0;\n  let props = properties;\n  const errorProperties = [];\n  for (const [key, value] of Object.entries(properties)) {\n    if (typeof value === \"object\" && value !== null) {\n      if (options.strip) {\n        props = removeKey(key, props);\n      } else {\n        errorProperties.push(key);\n      }\n    }\n  }\n  if (errorProperties.length > 0 && !options.strip) {\n    throw Error(\n      `The following properties are not valid: ${errorProperties.join(\n        \", \"\n      )}. Only strings, numbers, booleans, and null are allowed.`\n    );\n  }\n  return props;\n}\nfunction computeRoute(pathname, pathParams) {\n  if (!pathname || !pathParams) {\n    return pathname;\n  }\n  let result = pathname;\n  try {\n    const entries = Object.entries(pathParams);\n    for (const [key, value] of entries) {\n      if (!Array.isArray(value)) {\n        const matcher = turnValueToRegExp(value);\n        if (matcher.test(result)) {\n          result = result.replace(matcher, `/[${key}]`);\n        }\n      }\n    }\n    for (const [key, value] of entries) {\n      if (Array.isArray(value)) {\n        const matcher = turnValueToRegExp(value.join(\"/\"));\n        if (matcher.test(result)) {\n          result = result.replace(matcher, `/[...${key}]`);\n        }\n      }\n    }\n    return result;\n  } catch (e) {\n    return pathname;\n  }\n}\nfunction turnValueToRegExp(value) {\n  return new RegExp(`/${escapeRegExp(value)}(?=[/?#]|$)`);\n}\nfunction escapeRegExp(string) {\n  return string.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n}\nfunction getScriptSrc(props) {\n  if (props.scriptSrc) {\n    return props.scriptSrc;\n  }\n  if (isDevelopment()) {\n    return \"https://va.vercel-scripts.com/v1/script.debug.js\";\n  }\n  if (props.basePath) {\n    return `${props.basePath}/insights/script.js`;\n  }\n  return \"/_vercel/insights/script.js\";\n}\n\n// src/generic.ts\nfunction inject(props = {\n  debug: true\n}) {\n  var _a;\n  if (!isBrowser()) return;\n  setMode(props.mode);\n  initQueue();\n  if (props.beforeSend) {\n    (_a = window.va) == null ? void 0 : _a.call(window, \"beforeSend\", props.beforeSend);\n  }\n  const src = getScriptSrc(props);\n  if (document.head.querySelector(`script[src*=\"${src}\"]`)) return;\n  const script = document.createElement(\"script\");\n  script.src = src;\n  script.defer = true;\n  script.dataset.sdkn = name + (props.framework ? `/${props.framework}` : \"\");\n  script.dataset.sdkv = version;\n  if (props.disableAutoTrack) {\n    script.dataset.disableAutoTrack = \"1\";\n  }\n  if (props.endpoint) {\n    script.dataset.endpoint = props.endpoint;\n  } else if (props.basePath) {\n    script.dataset.endpoint = `${props.basePath}/insights`;\n  }\n  if (props.dsn) {\n    script.dataset.dsn = props.dsn;\n  }\n  script.onerror = () => {\n    const errorMessage = isDevelopment() ? \"Please check if any ad blockers are enabled and try again.\" : \"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.\";\n    console.log(\n      `[Vercel Web Analytics] Failed to load script from ${src}. ${errorMessage}`\n    );\n  };\n  if (isDevelopment() && props.debug === false) {\n    script.dataset.debug = \"false\";\n  }\n  document.head.appendChild(script);\n}\nfunction track(name2, properties, options) {\n  var _a, _b;\n  if (!isBrowser()) {\n    const msg = \"[Vercel Web Analytics] Please import `track` from `@vercel/analytics/server` when using this function in a server environment\";\n    if (isProduction()) {\n      console.warn(msg);\n    } else {\n      throw new Error(msg);\n    }\n    return;\n  }\n  if (!properties) {\n    (_a = window.va) == null ? void 0 : _a.call(window, \"event\", { name: name2, options });\n    return;\n  }\n  try {\n    const props = parseProperties(properties, {\n      strip: isProduction()\n    });\n    (_b = window.va) == null ? void 0 : _b.call(window, \"event\", {\n      name: name2,\n      data: props,\n      options\n    });\n  } catch (err) {\n    if (err instanceof Error && isDevelopment()) {\n      console.error(err);\n    }\n  }\n}\nfunction pageview({\n  route,\n  path\n}) {\n  var _a;\n  (_a = window.va) == null ? void 0 : _a.call(window, \"pageview\", { route, path });\n}\nvar generic_default = {\n  inject,\n  track,\n  computeRoute\n};\nexport {\n  computeRoute,\n  generic_default as default,\n  inject,\n  pageview,\n  track\n};\n//# sourceMappingURL=index.mjs.map","/**\n * Vercel Analytics Client\n *\n * Client-side analytics tracking using Vercel Analytics.\n * Provides type-safe event tracking with automatic error handling.\n */\n\n\"use client\";\n\nimport { track } from \"@vercel/analytics\";\nimport type { AnalyticsEvent } from \"./types\";\n\n/**\n * Serialize properties to ensure they're compatible with Vercel Analytics\n */\nfunction serializeProperties(\n\tproperties?: Record<string, unknown>,\n): Record<string, string | number | boolean> | undefined {\n\tif (!properties) {\n\t\treturn;\n\t}\n\n\tconst serialized: Record<string, string | number | boolean> = {};\n\n\tfor (const [key, value] of Object.entries(properties)) {\n\t\tif (value === null || value === undefined) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (\n\t\t\ttypeof value === \"string\" ||\n\t\t\ttypeof value === \"number\" ||\n\t\t\ttypeof value === \"boolean\"\n\t\t) {\n\t\t\tserialized[key] = value;\n\t\t} else if (typeof value === \"object\") {\n\t\t\t// Serialize nested objects to JSON strings\n\t\t\ttry {\n\t\t\t\tserialized[key] = JSON.stringify(value);\n\t\t\t} catch {\n\t\t\t\t// Skip if can't serialize\n\t\t\t}\n\t\t}\n\t}\n\n\treturn serialized;\n}\n\n/**\n * Track an analytics event\n *\n * @example\n * trackEvent({\n *   name: \"job.created\",\n *   properties: {\n *     jobId: \"job-123\",\n *     customerId: \"cust-456\",\n *     estimatedValue: 5000\n *   }\n * });\n */\nexport function trackEvent(event: AnalyticsEvent): void {\n\ttry {\n\t\t// Extract event name and properties\n\t\tconst { name, properties } = event;\n\n\t\t// Serialize properties to ensure compatibility\n\t\tconst serializedProperties = serializeProperties(properties);\n\n\t\t// Track with Vercel Analytics\n\t\ttrack(name, serializedProperties);\n\t} catch {\n\t\t// Silently fail - analytics should never break the app\n\t\t// Errors are swallowed to prevent analytics from breaking user experience\n\t}\n}\n\n/**\n * Track multiple events in batch\n */\nfunction trackEvents(events: AnalyticsEvent[]): void {\n\tfor (const event of events) {\n\t\ttrackEvent(event);\n\t}\n}\n\n/**\n * Track a page view\n */\nexport function trackPageView(path: string, title?: string): void {\n\ttrackEvent({\n\t\tname: \"page.viewed\",\n\t\tproperties: {\n\t\t\tpath,\n\t\t\ttitle,\n\t\t\treferrer: typeof window !== \"undefined\" ? document.referrer : undefined,\n\t\t},\n\t});\n}\n\n/**\n * Track a custom event with type safety\n */\nexport function trackCustomEvent(\n\tname: string,\n\tproperties?: Record<string, unknown>,\n): void {\n\ttrackEvent({\n\t\tname: name as AnalyticsEvent[\"name\"],\n\t\tproperties,\n\t} as AnalyticsEvent);\n}\n","/**\n * React Hooks for Analytics\n *\n * Easy-to-use hooks for tracking events in React components.\n */\n\n\"use client\";\n\nimport { usePathname } from \"next/navigation\";\nimport { useCallback, useEffect } from \"react\";\nimport { trackEvent, trackPageView } from \"./client\";\nimport type { AnalyticsEvent } from \"./types\";\n\n/**\n * Hook for tracking analytics events\n *\n * @example\n * const { track } = useAnalytics();\n *\n * track({\n *   name: \"job.created\",\n *   properties: { jobId: \"123\" }\n * });\n */\nexport function useAnalytics() {\n\tconst track = useCallback((event: AnalyticsEvent) => {\n\t\ttrackEvent(event);\n\t}, []);\n\n\treturn { track };\n}\n\n/**\n * Hook that automatically tracks page views\n *\n * @example\n * usePageView(); // Automatically tracks page views on route changes\n */\nexport function usePageView(): void {\n\tconst pathname = usePathname();\n\n\tuseEffect(() => {\n\t\tif (pathname) {\n\t\t\ttrackPageView(pathname, document.title);\n\t\t}\n\t}, [pathname]);\n}\n\n/**\n * Hook for tracking form events\n *\n * @example\n * const { trackFormStart, trackFormSubmit, trackFormAbandon } = useFormTracking(\"signup\");\n *\n * useEffect(() => {\n *   trackFormStart();\n *   return () => trackFormAbandon();\n * }, []);\n *\n * const handleSubmit = () => {\n *   trackFormSubmit({ success: true });\n * };\n */\nfunction useFormTracking(formType: string) {\n\tconst track = useCallback((event: AnalyticsEvent) => {\n\t\ttrackEvent(event);\n\t}, []);\n\n\tconst trackFormStart = useCallback(() => {\n\t\ttrack({\n\t\t\tname: \"form.started\",\n\t\t\tproperties: { formType },\n\t\t});\n\t}, [formType, track]);\n\n\tconst trackFormSubmit = useCallback(\n\t\t(properties?: { success?: boolean; errorCount?: number }) => {\n\t\t\ttrack({\n\t\t\t\tname: \"form.submitted\",\n\t\t\t\tproperties: {\n\t\t\t\t\tformType,\n\t\t\t\t\t...properties,\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t\t[formType, track],\n\t);\n\n\tconst trackFormAbandon = useCallback(\n\t\t(properties?: { fieldsCompleted?: number; totalFields?: number }) => {\n\t\t\ttrack({\n\t\t\t\tname: \"form.abandoned\",\n\t\t\t\tproperties: {\n\t\t\t\t\tformType,\n\t\t\t\t\t...properties,\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t\t[formType, track],\n\t);\n\n\tconst trackFieldFocus = useCallback(\n\t\t(fieldName: string) => {\n\t\t\ttrack({\n\t\t\t\tname: \"form.field_focused\",\n\t\t\t\tproperties: {\n\t\t\t\t\tformType,\n\t\t\t\t\tfieldName,\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t\t[formType, track],\n\t);\n\n\tconst trackValidationError = useCallback(\n\t\t(fieldName: string, errorType: string) => {\n\t\t\ttrack({\n\t\t\t\tname: \"form.validation_error\",\n\t\t\t\tproperties: {\n\t\t\t\t\tformType,\n\t\t\t\t\tfieldName,\n\t\t\t\t\terrorType,\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t\t[formType, track],\n\t);\n\n\treturn {\n\t\ttrackFormStart,\n\t\ttrackFormSubmit,\n\t\ttrackFormAbandon,\n\t\ttrackFieldFocus,\n\t\ttrackValidationError,\n\t};\n}\n\n/**\n * Hook for tracking feature usage\n *\n * @example\n * const { trackFeatureUse } = useFeatureTracking();\n *\n * trackFeatureUse(\"bulk_edit\", { itemCount: 10 });\n */\nexport function useFeatureTracking() {\n\tconst track = useCallback((event: AnalyticsEvent) => {\n\t\ttrackEvent(event);\n\t}, []);\n\n\tconst trackFeatureUse = useCallback(\n\t\t(\n\t\t\tfeatureName: string,\n\t\t\tproperties?: {\n\t\t\t\tfirstTime?: boolean;\n\t\t\t\tcontext?: string;\n\t\t\t},\n\t\t) => {\n\t\t\ttrack({\n\t\t\t\tname: \"feature.used\",\n\t\t\t\tproperties: {\n\t\t\t\t\tfeatureName,\n\t\t\t\t\t...properties,\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t\t[track],\n\t);\n\n\tconst trackFeatureDiscovery = useCallback(\n\t\t(\n\t\t\tfeatureName: string,\n\t\t\tsource: \"tooltip\" | \"tour\" | \"notification\" | \"search\",\n\t\t) => {\n\t\t\ttrack({\n\t\t\t\tname: \"feature.discovered\",\n\t\t\t\tproperties: {\n\t\t\t\t\tfeatureName,\n\t\t\t\t\tsource,\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t\t[track],\n\t);\n\n\treturn {\n\t\ttrackFeatureUse,\n\t\ttrackFeatureDiscovery,\n\t};\n}\n\n/**\n * Hook for tracking UI interactions\n *\n * @example\n * const { trackModalOpen, trackModalClose } = useUITracking();\n *\n * trackModalOpen(\"job-details\");\n */\nfunction useUITracking() {\n\tconst track = useCallback((event: AnalyticsEvent) => {\n\t\ttrackEvent(event);\n\t}, []);\n\n\tconst trackModalOpen = useCallback(\n\t\t(modalType: string, trigger?: string) => {\n\t\t\ttrack({\n\t\t\t\tname: \"ui.modal_opened\",\n\t\t\t\tproperties: {\n\t\t\t\t\tmodalType,\n\t\t\t\t\ttrigger,\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t\t[track],\n\t);\n\n\tconst trackModalClose = useCallback(\n\t\t(\n\t\t\tmodalType: string,\n\t\t\taction: \"submit\" | \"cancel\" | \"dismiss\",\n\t\t\tduration?: number,\n\t\t) => {\n\t\t\ttrack({\n\t\t\t\tname: \"ui.modal_closed\",\n\t\t\t\tproperties: {\n\t\t\t\t\tmodalType,\n\t\t\t\t\taction,\n\t\t\t\t\tduration,\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t\t[track],\n\t);\n\n\tconst trackTabSwitch = useCallback(\n\t\t(tabName: string, section?: string) => {\n\t\t\ttrack({\n\t\t\t\tname: \"ui.tab_switched\",\n\t\t\t\tproperties: {\n\t\t\t\t\ttabName,\n\t\t\t\t\tsection,\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t\t[track],\n\t);\n\n\treturn {\n\t\ttrackModalOpen,\n\t\ttrackModalClose,\n\t\ttrackTabSwitch,\n\t};\n}\n","\"use client\";import*as t from\"react\";var M=(e,i,s,u,m,a,l,h)=>{let d=document.documentElement,w=[\"light\",\"dark\"];function p(n){(Array.isArray(e)?e:[e]).forEach(y=>{let k=y===\"class\",S=k&&a?m.map(f=>a[f]||f):m;k?(d.classList.remove(...S),d.classList.add(a&&a[n]?a[n]:n)):d.setAttribute(y,n)}),R(n)}function R(n){h&&w.includes(n)&&(d.style.colorScheme=n)}function c(){return window.matchMedia(\"(prefers-color-scheme: dark)\").matches?\"dark\":\"light\"}if(u)p(u);else try{let n=localStorage.getItem(i)||s,y=l&&n===\"system\"?c():n;p(y)}catch(n){}};var b=[\"light\",\"dark\"],I=\"(prefers-color-scheme: dark)\",O=typeof window==\"undefined\",x=t.createContext(void 0),U={setTheme:e=>{},themes:[]},z=()=>{var e;return(e=t.useContext(x))!=null?e:U},J=e=>t.useContext(x)?t.createElement(t.Fragment,null,e.children):t.createElement(V,{...e}),N=[\"light\",\"dark\"],V=({forcedTheme:e,disableTransitionOnChange:i=!1,enableSystem:s=!0,enableColorScheme:u=!0,storageKey:m=\"theme\",themes:a=N,defaultTheme:l=s?\"system\":\"light\",attribute:h=\"data-theme\",value:d,children:w,nonce:p,scriptProps:R})=>{let[c,n]=t.useState(()=>H(m,l)),[T,y]=t.useState(()=>c===\"system\"?E():c),k=d?Object.values(d):a,S=t.useCallback(o=>{let r=o;if(!r)return;o===\"system\"&&s&&(r=E());let v=d?d[r]:r,C=i?W(p):null,P=document.documentElement,L=g=>{g===\"class\"?(P.classList.remove(...k),v&&P.classList.add(v)):g.startsWith(\"data-\")&&(v?P.setAttribute(g,v):P.removeAttribute(g))};if(Array.isArray(h)?h.forEach(L):L(h),u){let g=b.includes(l)?l:null,D=b.includes(r)?r:g;P.style.colorScheme=D}C==null||C()},[p]),f=t.useCallback(o=>{let r=typeof o==\"function\"?o(c):o;n(r);try{localStorage.setItem(m,r)}catch(v){}},[c]),A=t.useCallback(o=>{let r=E(o);y(r),c===\"system\"&&s&&!e&&S(\"system\")},[c,e]);t.useEffect(()=>{let o=window.matchMedia(I);return o.addListener(A),A(o),()=>o.removeListener(A)},[A]),t.useEffect(()=>{let o=r=>{r.key===m&&(r.newValue?n(r.newValue):f(l))};return window.addEventListener(\"storage\",o),()=>window.removeEventListener(\"storage\",o)},[f]),t.useEffect(()=>{S(e!=null?e:c)},[e,c]);let Q=t.useMemo(()=>({theme:c,setTheme:f,forcedTheme:e,resolvedTheme:c===\"system\"?T:c,themes:s?[...a,\"system\"]:a,systemTheme:s?T:void 0}),[c,f,e,T,s,a]);return t.createElement(x.Provider,{value:Q},t.createElement(_,{forcedTheme:e,storageKey:m,attribute:h,enableSystem:s,enableColorScheme:u,defaultTheme:l,value:d,themes:a,nonce:p,scriptProps:R}),w)},_=t.memo(({forcedTheme:e,storageKey:i,attribute:s,enableSystem:u,enableColorScheme:m,defaultTheme:a,value:l,themes:h,nonce:d,scriptProps:w})=>{let p=JSON.stringify([s,i,a,e,h,l,u,m]).slice(1,-1);return t.createElement(\"script\",{...w,suppressHydrationWarning:!0,nonce:typeof window==\"undefined\"?d:\"\",dangerouslySetInnerHTML:{__html:`(${M.toString()})(${p})`}})}),H=(e,i)=>{if(O)return;let s;try{s=localStorage.getItem(e)||void 0}catch(u){}return s||i},W=e=>{let i=document.createElement(\"style\");return e&&i.setAttribute(\"nonce\",e),i.appendChild(document.createTextNode(\"*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}\")),document.head.appendChild(i),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(i)},1)}},E=e=>(e||(e=window.matchMedia(I)),e.matches?\"dark\":\"light\");export{J as ThemeProvider,z as useTheme};\n","/**\n * Role Store - Zustand State Management\n *\n * Performance optimizations:\n * - Lightweight state management with Zustand\n * - No provider wrapper needed\n * - Automatic localStorage persistence for development mode\n * - Selective subscriptions prevent unnecessary re-renders\n *\n * Manages user role state with two modes:\n * 1. Development: localStorage override for testing different roles\n * 2. Production: Fetches actual role from database\n *\n * The store checks localStorage first (dev mode), then falls back to DB role.\n */\n\nimport { create } from \"zustand\";\nimport { devtools, persist } from \"zustand/middleware\";\nimport type { UserRole } from \"@/types/roles\";\nimport { USER_ROLES } from \"@/types/roles\";\n\ntype RoleStore = {\n\trole: UserRole;\n\tisLoading: boolean;\n\tisDevelopmentOverride: boolean; // True if using dev mode override\n\tactualRole: UserRole | null; // Role from database\n\tsetRole: (role: UserRole) => void;\n\tsetActualRole: (role: UserRole | null) => void;\n\tclearDevelopmentOverride: () => void;\n\treset: () => void;\n};\n\nconst initialState = {\n\trole: USER_ROLES.OWNER as UserRole,\n\tisLoading: false,\n\tisDevelopmentOverride: false,\n\tactualRole: null,\n};\n\n/**\n * Check if we're in development mode\n */\nconst isDevelopment = process.env.NODE_ENV === \"development\";\n\nexport const useRoleStore = create<RoleStore>()(\n\tdevtools(\n\t\tpersist(\n\t\t\t(set, get) => ({\n\t\t\t\t...initialState,\n\n\t\t\t\t/**\n\t\t\t\t * Set role (development mode override)\n\t\t\t\t * This is used by the development settings page\n\t\t\t\t */\n\t\t\t\tsetRole: (role) =>\n\t\t\t\t\tset({\n\t\t\t\t\t\trole,\n\t\t\t\t\t\tisDevelopmentOverride: true,\n\t\t\t\t\t}),\n\n\t\t\t\t/**\n\t\t\t\t * Set actual role from database\n\t\t\t\t * This is set when fetching user's real role\n\t\t\t\t */\n\t\t\t\tsetActualRole: (actualRole) => {\n\t\t\t\t\tconst state = get();\n\n\t\t\t\t\t// If no development override, use actual role\n\t\t\t\t\tif (state.isDevelopmentOverride && isDevelopment) {\n\t\t\t\t\t\t// Keep development override but store actual role\n\t\t\t\t\t\tset({ actualRole });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tset({\n\t\t\t\t\t\t\tactualRole,\n\t\t\t\t\t\t\trole: actualRole || USER_ROLES.OWNER,\n\t\t\t\t\t\t\tisDevelopmentOverride: false,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Clear development override and use actual role\n\t\t\t\t */\n\t\t\t\tclearDevelopmentOverride: () => {\n\t\t\t\t\tconst state = get();\n\t\t\t\t\tset({\n\t\t\t\t\t\trole: state.actualRole || USER_ROLES.OWNER,\n\t\t\t\t\t\tisDevelopmentOverride: false,\n\t\t\t\t\t});\n\t\t\t\t},\n\n\t\t\t\treset: () => set(initialState),\n\t\t\t}),\n\t\t\t{\n\t\t\t\tname: \"thorbis_dev_role\", // localStorage key\n\t\t\t\tskipHydration: true, // CRITICAL: Prevents hydration mismatch with Next.js 16\n\t\t\t\tpartialize: (state) => ({\n\t\t\t\t\t// Only persist in development mode\n\t\t\t\t\trole: isDevelopment ? state.role : undefined,\n\t\t\t\t\tisDevelopmentOverride: isDevelopment\n\t\t\t\t\t\t? state.isDevelopmentOverride\n\t\t\t\t\t\t: false,\n\t\t\t\t}),\n\t\t\t},\n\t\t),\n\t\t{ name: \"RoleStore\" }, // DevTools name\n\t),\n);\n\n/**\n * Hook to initialize role from database\n * Call this in layout or auth wrapper to sync role\n *\n * @example\n * ```typescript\n * // In layout or auth provider\n * import { initializeRoleFromDatabase } from '@/lib/stores/role-store';\n *\n * useEffect(() => {\n *   initializeRoleFromDatabase();\n * }, []);\n * ```\n */\nasync function initializeRoleFromDatabase() {\n\ttry {\n\t\t// Import dynamically to avoid circular dependencies\n\t\tconst { getCurrentUserRole } = await import(\"@/actions/roles\");\n\n\t\tconst result = await getCurrentUserRole();\n\n\t\tif (result.success && result.data) {\n\t\t\tuseRoleStore.getState().setActualRole(result.data);\n\t\t}\n\t} catch (_error) {}\n}\n","/**\n * Role Type Definitions\n *\n * Defines all user roles in the system with their permissions and capabilities\n */\n\nexport const USER_ROLES = {\n\tOWNER: \"owner\",\n\tDISPATCHER: \"dispatcher\",\n\tMANAGER: \"manager\",\n\tTECHNICIAN: \"technician\",\n\tCSR: \"csr\", // Customer Service Representative\n\tADMIN: \"admin\",\n} as const;\n\nexport type UserRole = (typeof USER_ROLES)[keyof typeof USER_ROLES];\n\nexport type RoleConfig = {\n\tid: UserRole;\n\tlabel: string;\n\tdescription: string;\n\tcolor: string;\n\tpermissions: string[];\n\tdashboardFeatures: string[];\n};\n\nconst ROLE_CONFIGS: Record<UserRole, RoleConfig> = {\n\t[USER_ROLES.OWNER]: {\n\t\tid: \"owner\",\n\t\tlabel: \"Owner\",\n\t\tdescription:\n\t\t\t\"Full system access with focus on business financials and growth\",\n\t\tcolor: \"purple\",\n\t\tpermissions: [\"*\"],\n\t\tdashboardFeatures: [\n\t\t\t\"financial-overview\",\n\t\t\t\"profit-margins\",\n\t\t\t\"cash-flow\",\n\t\t\t\"business-growth\",\n\t\t\t\"payroll-overview\",\n\t\t\t\"all-reports\",\n\t\t],\n\t},\n\t[USER_ROLES.DISPATCHER]: {\n\t\tid: \"dispatcher\",\n\t\tlabel: \"Dispatcher\",\n\t\tdescription:\n\t\t\t\"Manage technician schedules, job assignments, and real-time operations\",\n\t\tcolor: \"blue\",\n\t\tpermissions: [\n\t\t\t\"view-schedule\",\n\t\t\t\"manage-assignments\",\n\t\t\t\"view-technicians\",\n\t\t\t\"dispatch-jobs\",\n\t\t\t\"view-customers\",\n\t\t],\n\t\tdashboardFeatures: [\n\t\t\t\"dispatch-map\",\n\t\t\t\"technician-locations\",\n\t\t\t\"unassigned-jobs\",\n\t\t\t\"emergency-queue\",\n\t\t\t\"quick-dispatch\",\n\t\t\t\"tech-status\",\n\t\t],\n\t},\n\t[USER_ROLES.MANAGER]: {\n\t\tid: \"manager\",\n\t\tlabel: \"Manager\",\n\t\tdescription:\n\t\t\t\"Oversee team performance, customer satisfaction, and operations\",\n\t\tcolor: \"green\",\n\t\tpermissions: [\n\t\t\t\"view-reports\",\n\t\t\t\"manage-team\",\n\t\t\t\"view-customers\",\n\t\t\t\"handle-escalations\",\n\t\t\t\"view-financials\",\n\t\t],\n\t\tdashboardFeatures: [\n\t\t\t\"team-performance\",\n\t\t\t\"customer-satisfaction\",\n\t\t\t\"callback-queue\",\n\t\t\t\"review-alerts\",\n\t\t\t\"kpi-tracking\",\n\t\t\t\"inventory-management\",\n\t\t],\n\t},\n\t[USER_ROLES.TECHNICIAN]: {\n\t\tid: \"technician\",\n\t\tlabel: \"Technician\",\n\t\tdescription:\n\t\t\t\"View assigned jobs, update job status, and track personal performance\",\n\t\tcolor: \"orange\",\n\t\tpermissions: [\n\t\t\t\"view-my-schedule\",\n\t\t\t\"update-job-status\",\n\t\t\t\"view-job-details\",\n\t\t\t\"upload-photos\",\n\t\t\t\"create-invoices\",\n\t\t],\n\t\tdashboardFeatures: [\n\t\t\t\"my-schedule\",\n\t\t\t\"active-job\",\n\t\t\t\"my-earnings\",\n\t\t\t\"my-performance\",\n\t\t\t\"parts-inventory\",\n\t\t\t\"time-tracking\",\n\t\t],\n\t},\n\t[USER_ROLES.CSR]: {\n\t\tid: \"csr\",\n\t\tlabel: \"Customer Service Rep\",\n\t\tdescription:\n\t\t\t\"Handle customer calls, schedule appointments, and manage customer relationships\",\n\t\tcolor: \"pink\",\n\t\tpermissions: [\n\t\t\t\"view-customers\",\n\t\t\t\"create-jobs\",\n\t\t\t\"schedule-appointments\",\n\t\t\t\"view-schedule\",\n\t\t\t\"send-communications\",\n\t\t],\n\t\tdashboardFeatures: [\n\t\t\t\"call-queue\",\n\t\t\t\"booking-calendar\",\n\t\t\t\"customer-search\",\n\t\t\t\"follow-up-queue\",\n\t\t\t\"estimate-pipeline\",\n\t\t\t\"call-scripts\",\n\t\t],\n\t},\n\t[USER_ROLES.ADMIN]: {\n\t\tid: \"admin\",\n\t\tlabel: \"Admin\",\n\t\tdescription: \"System administration and configuration\",\n\t\tcolor: \"red\",\n\t\tpermissions: [\"*\"],\n\t\tdashboardFeatures: [\n\t\t\t\"system-settings\",\n\t\t\t\"user-management\",\n\t\t\t\"integrations\",\n\t\t\t\"audit-logs\",\n\t\t],\n\t},\n};\n\nfunction getRoleConfig(role: UserRole): RoleConfig {\n\treturn ROLE_CONFIGS[role];\n}\n\nfunction hasPermission(role: UserRole, permission: string): boolean {\n\tconst config = getRoleConfig(role);\n\treturn (\n\t\tconfig.permissions.includes(\"*\") || config.permissions.includes(permission)\n\t);\n}\n","import { create } from \"zustand\";\nimport { devtools, persist } from \"zustand/middleware\";\nimport { immer } from \"zustand/middleware/immer\";\n\n/**\n * Modal state\n */\ntype ModalState = {\n\tisOpen: boolean;\n\ttype: string | null;\n\tdata?: unknown;\n};\n\n/**\n * Participant type\n */\ntype Participant = {\n\tid: string;\n\tname: string;\n\tavatar?: string;\n\tisMuted: boolean;\n\tisVideoEnabled: boolean;\n\tisSpeaking: boolean;\n\tisScreenSharing: boolean;\n};\n\n/**\n * Call state\n */\ntype CallState = {\n\tstatus: \"idle\" | \"incoming\" | \"active\" | \"ended\";\n\tcaller: {\n\t\tnumber: string;\n\t\tname: string;\n\t\tavatar?: string;\n\t} | null;\n\tstartTime: number | null;\n\tisMuted: boolean;\n\tisOnHold: boolean;\n\tisRecording: boolean;\n\tvideoStatus: \"off\" | \"requesting\" | \"ringing\" | \"connected\" | \"declined\";\n\tisLocalVideoEnabled: boolean;\n\tisRemoteVideoEnabled: boolean;\n\n\t// Customer data\n\tcustomerId: string | null;\n\tcustomerData: unknown;\n\n\t// Call metadata\n\tcallControlId: string | null;\n\tcallSessionId: string | null;\n\tdirection: \"inbound\" | \"outbound\";\n\n\t// Telnyx state\n\ttelnyxCallState: \"idle\" | \"connecting\" | \"ringing\" | \"active\" | \"ended\";\n\ttelnyxError: string | null;\n\n\t// Enhanced features\n\tisScreenSharing: boolean;\n\tconnectionQuality: \"excellent\" | \"good\" | \"poor\";\n\thasVirtualBackground: boolean;\n\treactions: Array<{\n\t\tid: string;\n\t\ttype: \"thumbs-up\" | \"clap\" | \"heart\" | \"tada\";\n\t\ttimestamp: number;\n\t}>;\n\tchatMessages: Array<{\n\t\tid: string;\n\t\tsender: \"me\" | \"them\";\n\t\tmessage: string;\n\t\ttimestamp: number;\n\t}>;\n\tparticipants: Participant[];\n\tmeetingLink: string;\n};\n\n/**\n * UI store state\n * Note: Theme management moved to next-themes provider\n */\ntype UIState = {\n\tsidebarOpen: boolean;\n\tmodals: Record<string, ModalState>;\n\tnotifications: Array<{\n\t\tid: string;\n\t\ttype: \"success\" | \"error\" | \"info\" | \"warning\";\n\t\tmessage: string;\n\t\tduration?: number;\n\t}>;\n\tcall: CallState;\n};\n\n/**\n * UI store actions\n * Note: setTheme removed - use next-themes' useTheme hook instead\n */\ntype UIActions = {\n\ttoggleSidebar: () => void;\n\tsetSidebarOpen: (open: boolean) => void;\n\topenModal: (type: string, data?: unknown) => void;\n\tcloseModal: (type: string) => void;\n\taddNotification: (\n\t\tnotification: Omit<UIState[\"notifications\"][0], \"id\">,\n\t) => void;\n\tremoveNotification: (id: string) => void;\n\t// Call actions\n\tsetIncomingCall: (caller: CallState[\"caller\"]) => void;\n\tanswerCall: () => void;\n\tendCall: () => void;\n\ttoggleMute: () => void;\n\ttoggleHold: () => void;\n\ttoggleRecording: () => void;\n\t// Video actions\n\trequestVideo: () => void;\n\tacceptVideo: () => void;\n\tdeclineVideo: () => void;\n\tendVideo: () => void;\n\ttoggleLocalVideo: () => void;\n\t// Enhanced features\n\ttoggleScreenShare: () => void;\n\ttoggleVirtualBackground: () => void;\n\taddReaction: (type: CallState[\"reactions\"][0][\"type\"]) => void;\n\tclearReactions: () => void;\n\tsendChatMessage: (message: string) => void;\n\tclearChat: () => void;\n\tsetConnectionQuality: (quality: CallState[\"connectionQuality\"]) => void;\n\t// Customer data actions\n\tsetCustomerData: (data: unknown) => void;\n\tclearCustomerData: () => void;\n\t// Telnyx state actions\n\tsetTelnyxCallState: (state: CallState[\"telnyxCallState\"]) => void;\n\tsetTelnyxError: (error: string | null) => void;\n\tsetCallMetadata: (metadata: {\n\t\tcallControlId: string;\n\t\tcallSessionId: string;\n\t\tdirection: \"inbound\" | \"outbound\";\n\t}) => void;\n\treset: () => void;\n};\n\n/**\n * Complete UI store\n */\nexport type UIStore = UIState & UIActions;\n\n/**\n * Initial state\n */\nconst initialState: UIState = {\n\tsidebarOpen: true,\n\tmodals: {},\n\tnotifications: [],\n\tcall: {\n\t\tstatus: \"idle\",\n\t\tcaller: null,\n\t\tstartTime: null,\n\t\tisMuted: false,\n\t\tisOnHold: false,\n\t\tisRecording: false,\n\t\tvideoStatus: \"off\",\n\t\tisLocalVideoEnabled: false,\n\t\tisRemoteVideoEnabled: false,\n\t\tcustomerId: null,\n\t\tcustomerData: null,\n\t\tcallControlId: null,\n\t\tcallSessionId: null,\n\t\tdirection: \"inbound\",\n\t\ttelnyxCallState: \"idle\",\n\t\ttelnyxError: null,\n\t\tisScreenSharing: false,\n\t\tconnectionQuality: \"excellent\",\n\t\thasVirtualBackground: false,\n\t\treactions: [],\n\t\tchatMessages: [],\n\t\tparticipants: [],\n\t\tmeetingLink: \"https://meet.thorbis.app/abc-defg-hij\",\n\t},\n};\n\n/**\n * UI store - manages application UI state\n *\n * @example\n * ```tsx\n * import { useUIStore } from \"@/lib/stores/ui-store\";\n * import { useTheme } from \"next-themes\";\n *\n * function Header() {\n *   const { sidebarOpen, toggleSidebar } = useUIStore();\n *   const { theme, setTheme } = useTheme();\n *\n *   return (\n *     <header>\n *       <button onClick={toggleSidebar}>Toggle</button>\n *       <button onClick={() => setTheme(\"dark\")}>Dark</button>\n *     </header>\n *   );\n * }\n * ```\n */\nexport const useUIStore = create<UIStore>()(\n\tdevtools(\n\t\tpersist(\n\t\t\timmer((set) => ({\n\t\t\t\t...initialState,\n\n\t\t\t\ttoggleSidebar: () =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.sidebarOpen = !state.sidebarOpen;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"toggleSidebar\",\n\t\t\t\t\t),\n\n\t\t\t\tsetSidebarOpen: (open) =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.sidebarOpen = open;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"setSidebarOpen\",\n\t\t\t\t\t),\n\n\t\t\t\topenModal: (type, data) =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.modals[type] = {\n\t\t\t\t\t\t\t\tisOpen: true,\n\t\t\t\t\t\t\t\ttype,\n\t\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"openModal\",\n\t\t\t\t\t),\n\n\t\t\t\tcloseModal: (type) =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tif (state.modals[type]) {\n\t\t\t\t\t\t\t\tstate.modals[type].isOpen = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"closeModal\",\n\t\t\t\t\t),\n\n\t\t\t\taddNotification: (notification) =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tconst id = crypto.randomUUID();\n\t\t\t\t\t\t\tstate.notifications.push({ ...notification, id });\n\n\t\t\t\t\t\t\t// Auto-remove after duration\n\t\t\t\t\t\t\tif (notification.duration) {\n\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\tset(\n\t\t\t\t\t\t\t\t\t\t(currentState) => {\n\t\t\t\t\t\t\t\t\t\t\tcurrentState.notifications =\n\t\t\t\t\t\t\t\t\t\t\t\tcurrentState.notifications.filter((n) => n.id !== id);\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\t\t\t\t\"autoRemoveNotification\",\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}, notification.duration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"addNotification\",\n\t\t\t\t\t),\n\n\t\t\t\tremoveNotification: (id) =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.notifications = state.notifications.filter(\n\t\t\t\t\t\t\t\t(n) => n.id !== id,\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"removeNotification\",\n\t\t\t\t\t),\n\n\t\t\t\t// Call actions\n\t\t\t\tsetIncomingCall: (caller) =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.call.caller = caller;\n\t\t\t\t\t\t\tstate.call.status = \"incoming\";\n\t\t\t\t\t\t\tstate.call.startTime = Date.now();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"setIncomingCall\",\n\t\t\t\t\t),\n\n\t\t\t\tanswerCall: () =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tif (state.call.status === \"incoming\") {\n\t\t\t\t\t\t\t\tstate.call.status = \"active\";\n\t\t\t\t\t\t\t\tstate.call.startTime = Date.now();\n\t\t\t\t\t\t\t\t// Add mock participants for testing\n\t\t\t\t\t\t\t\tstate.call.participants = [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: \"1\",\n\t\t\t\t\t\t\t\t\t\tname: \"Sarah Johnson\",\n\t\t\t\t\t\t\t\t\t\tskipHydration: true, // CRITICAL: Prevents hydration mismatch with Next.js 16\n\t\t\t\t\t\t\t\t\t\tisMuted: false,\n\t\t\t\t\t\t\t\t\t\tisVideoEnabled: true,\n\t\t\t\t\t\t\t\t\t\tisSpeaking: true,\n\t\t\t\t\t\t\t\t\t\tisScreenSharing: false,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: \"2\",\n\t\t\t\t\t\t\t\t\t\tname: \"Michael Chen\",\n\t\t\t\t\t\t\t\t\t\tskipHydration: true, // CRITICAL: Prevents hydration mismatch with Next.js 16\n\t\t\t\t\t\t\t\t\t\tisMuted: false,\n\t\t\t\t\t\t\t\t\t\tisVideoEnabled: true,\n\t\t\t\t\t\t\t\t\t\tisSpeaking: false,\n\t\t\t\t\t\t\t\t\t\tisScreenSharing: false,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: \"3\",\n\t\t\t\t\t\t\t\t\t\tname: \"Emily Rodriguez\",\n\t\t\t\t\t\t\t\t\t\tskipHydration: true, // CRITICAL: Prevents hydration mismatch with Next.js 16\n\t\t\t\t\t\t\t\t\t\tisMuted: true,\n\t\t\t\t\t\t\t\t\t\tisVideoEnabled: false,\n\t\t\t\t\t\t\t\t\t\tisSpeaking: false,\n\t\t\t\t\t\t\t\t\t\tisScreenSharing: false,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: \"4\",\n\t\t\t\t\t\t\t\t\t\tname: \"David Kim\",\n\t\t\t\t\t\t\t\t\t\tskipHydration: true, // CRITICAL: Prevents hydration mismatch with Next.js 16\n\t\t\t\t\t\t\t\t\t\tisMuted: false,\n\t\t\t\t\t\t\t\t\t\tisVideoEnabled: true,\n\t\t\t\t\t\t\t\t\t\tisSpeaking: false,\n\t\t\t\t\t\t\t\t\t\tisScreenSharing: false,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: \"5\",\n\t\t\t\t\t\t\t\t\t\tname: \"Lisa Anderson\",\n\t\t\t\t\t\t\t\t\t\tskipHydration: true, // CRITICAL: Prevents hydration mismatch with Next.js 16\n\t\t\t\t\t\t\t\t\t\tisMuted: false,\n\t\t\t\t\t\t\t\t\t\tisVideoEnabled: true,\n\t\t\t\t\t\t\t\t\t\tisSpeaking: false,\n\t\t\t\t\t\t\t\t\t\tisScreenSharing: false,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: \"6\",\n\t\t\t\t\t\t\t\t\t\tname: \"James Wilson\",\n\t\t\t\t\t\t\t\t\t\tskipHydration: true, // CRITICAL: Prevents hydration mismatch with Next.js 16\n\t\t\t\t\t\t\t\t\t\tisMuted: true,\n\t\t\t\t\t\t\t\t\t\tisVideoEnabled: true,\n\t\t\t\t\t\t\t\t\t\tisSpeaking: false,\n\t\t\t\t\t\t\t\t\t\tisScreenSharing: false,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: \"7\",\n\t\t\t\t\t\t\t\t\t\tname: \"Maria Garcia\",\n\t\t\t\t\t\t\t\t\t\tskipHydration: true, // CRITICAL: Prevents hydration mismatch with Next.js 16\n\t\t\t\t\t\t\t\t\t\tisMuted: false,\n\t\t\t\t\t\t\t\t\t\tisVideoEnabled: false,\n\t\t\t\t\t\t\t\t\t\tisSpeaking: false,\n\t\t\t\t\t\t\t\t\t\tisScreenSharing: false,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: \"8\",\n\t\t\t\t\t\t\t\t\t\tname: \"Robert Taylor\",\n\t\t\t\t\t\t\t\t\t\tskipHydration: true, // CRITICAL: Prevents hydration mismatch with Next.js 16\n\t\t\t\t\t\t\t\t\t\tisMuted: false,\n\t\t\t\t\t\t\t\t\t\tisVideoEnabled: true,\n\t\t\t\t\t\t\t\t\t\tisSpeaking: false,\n\t\t\t\t\t\t\t\t\t\tisScreenSharing: false,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: \"9\",\n\t\t\t\t\t\t\t\t\t\tname: \"Jennifer Lee\",\n\t\t\t\t\t\t\t\t\t\tskipHydration: true, // CRITICAL: Prevents hydration mismatch with Next.js 16\n\t\t\t\t\t\t\t\t\t\tisMuted: false,\n\t\t\t\t\t\t\t\t\t\tisVideoEnabled: true,\n\t\t\t\t\t\t\t\t\t\tisSpeaking: false,\n\t\t\t\t\t\t\t\t\t\tisScreenSharing: false,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"answerCall\",\n\t\t\t\t\t),\n\n\t\t\t\tendCall: () =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.call.status = \"ended\";\n\t\t\t\t\t\t\tstate.call.caller = null;\n\t\t\t\t\t\t\tstate.call.startTime = null;\n\t\t\t\t\t\t\tstate.call.isMuted = false;\n\t\t\t\t\t\t\tstate.call.isOnHold = false;\n\t\t\t\t\t\t\tstate.call.isRecording = false;\n\t\t\t\t\t\t\tstate.call.videoStatus = \"off\";\n\t\t\t\t\t\t\tstate.call.isLocalVideoEnabled = false;\n\t\t\t\t\t\t\tstate.call.isRemoteVideoEnabled = false;\n\t\t\t\t\t\t\tstate.call.isScreenSharing = false;\n\t\t\t\t\t\t\tstate.call.connectionQuality = \"excellent\";\n\t\t\t\t\t\t\tstate.call.hasVirtualBackground = false;\n\t\t\t\t\t\t\tstate.call.reactions = [];\n\t\t\t\t\t\t\tstate.call.chatMessages = [];\n\t\t\t\t\t\t\tstate.call.participants = [];\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"endCall\",\n\t\t\t\t\t),\n\n\t\t\t\ttoggleMute: () =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.call.isMuted = !state.call.isMuted;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"toggleMute\",\n\t\t\t\t\t),\n\n\t\t\t\ttoggleHold: () =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.call.isOnHold = !state.call.isOnHold;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"toggleHold\",\n\t\t\t\t\t),\n\n\t\t\t\ttoggleRecording: () =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.call.isRecording = !state.call.isRecording;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"toggleRecording\",\n\t\t\t\t\t),\n\n\t\t\t\t// Video actions\n\t\t\t\trequestVideo: () =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.call.videoStatus = \"requesting\";\n\t\t\t\t\t\t\tstate.call.isLocalVideoEnabled = true;\n\t\t\t\t\t\t\t// Simulate other party seeing the request\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tset(\n\t\t\t\t\t\t\t\t\t(currentState) => {\n\t\t\t\t\t\t\t\t\t\tif (currentState.call.videoStatus === \"requesting\") {\n\t\t\t\t\t\t\t\t\t\t\tcurrentState.call.videoStatus = \"ringing\";\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\t\t\t\"videoRinging\",\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t// Auto-accept after 3 seconds for demo\n\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\tset(\n\t\t\t\t\t\t\t\t\t\t(currentState) => {\n\t\t\t\t\t\t\t\t\t\t\tif (currentState.call.videoStatus === \"ringing\") {\n\t\t\t\t\t\t\t\t\t\t\t\tcurrentState.call.videoStatus = \"connected\";\n\t\t\t\t\t\t\t\t\t\t\t\tcurrentState.call.isRemoteVideoEnabled = true;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\t\t\t\t\"videoAutoAccept\",\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}, 3000);\n\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"requestVideo\",\n\t\t\t\t\t),\n\n\t\t\t\tacceptVideo: () =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.call.videoStatus = \"connected\";\n\t\t\t\t\t\t\tstate.call.isLocalVideoEnabled = true;\n\t\t\t\t\t\t\tstate.call.isRemoteVideoEnabled = true;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"acceptVideo\",\n\t\t\t\t\t),\n\n\t\t\t\tdeclineVideo: () =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.call.videoStatus = \"declined\";\n\t\t\t\t\t\t\tstate.call.isLocalVideoEnabled = false;\n\t\t\t\t\t\t\tstate.call.isRemoteVideoEnabled = false;\n\t\t\t\t\t\t\t// Reset to off after 2 seconds\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tset(\n\t\t\t\t\t\t\t\t\t(currentState) => {\n\t\t\t\t\t\t\t\t\t\tcurrentState.call.videoStatus = \"off\";\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\t\t\t\"videoResetAfterDecline\",\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}, 2000);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"declineVideo\",\n\t\t\t\t\t),\n\n\t\t\t\tendVideo: () =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.call.videoStatus = \"off\";\n\t\t\t\t\t\t\tstate.call.isLocalVideoEnabled = false;\n\t\t\t\t\t\t\tstate.call.isRemoteVideoEnabled = false;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"endVideo\",\n\t\t\t\t\t),\n\n\t\t\t\ttoggleLocalVideo: () =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.call.isLocalVideoEnabled = !state.call.isLocalVideoEnabled;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"toggleLocalVideo\",\n\t\t\t\t\t),\n\n\t\t\t\t// Enhanced feature actions\n\t\t\t\ttoggleScreenShare: () =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.call.isScreenSharing = !state.call.isScreenSharing;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"toggleScreenShare\",\n\t\t\t\t\t),\n\n\t\t\t\ttoggleVirtualBackground: () =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.call.hasVirtualBackground =\n\t\t\t\t\t\t\t\t!state.call.hasVirtualBackground;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"toggleVirtualBackground\",\n\t\t\t\t\t),\n\n\t\t\t\taddReaction: (type) =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tconst reaction = {\n\t\t\t\t\t\t\t\tid: Math.random().toString(36).slice(2, 9),\n\t\t\t\t\t\t\t\ttype,\n\t\t\t\t\t\t\t\ttimestamp: Date.now(),\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tstate.call.reactions.push(reaction);\n\t\t\t\t\t\t\t// Auto-remove reaction after 3 seconds\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tset(\n\t\t\t\t\t\t\t\t\t(currentState) => {\n\t\t\t\t\t\t\t\t\t\tconst index = currentState.call.reactions.findIndex(\n\t\t\t\t\t\t\t\t\t\t\t(r) => r.id === reaction.id,\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\tif (index !== -1) {\n\t\t\t\t\t\t\t\t\t\t\tcurrentState.call.reactions.splice(index, 1);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\t\t\t\"removeReaction\",\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}, 3000);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"addReaction\",\n\t\t\t\t\t),\n\n\t\t\t\tclearReactions: () =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.call.reactions = [];\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"clearReactions\",\n\t\t\t\t\t),\n\n\t\t\t\tsendChatMessage: (message) =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.call.chatMessages.push({\n\t\t\t\t\t\t\t\tid: Math.random().toString(36).slice(2, 9),\n\t\t\t\t\t\t\t\tsender: \"me\",\n\t\t\t\t\t\t\t\tmessage,\n\t\t\t\t\t\t\t\ttimestamp: Date.now(),\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"sendChatMessage\",\n\t\t\t\t\t),\n\n\t\t\t\tclearChat: () =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.call.chatMessages = [];\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"clearChat\",\n\t\t\t\t\t),\n\n\t\t\t\tsetConnectionQuality: (quality) =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.call.connectionQuality = quality;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"setConnectionQuality\",\n\t\t\t\t\t),\n\n\t\t\t\t// Customer data actions\n\t\t\t\tsetCustomerData: (data) =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.call.customerData = data;\n\t\t\t\t\t\t\tconst customer =\n\t\t\t\t\t\t\t\t(data as { customer?: { id?: string | null } } | null)\n\t\t\t\t\t\t\t\t\t?.customer ?? null;\n\t\t\t\t\t\t\tstate.call.customerId = customer?.id || null;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"setCustomerData\",\n\t\t\t\t\t),\n\n\t\t\t\tclearCustomerData: () =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.call.customerData = null;\n\t\t\t\t\t\t\tstate.call.customerId = null;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"clearCustomerData\",\n\t\t\t\t\t),\n\n\t\t\t\t// Telnyx state actions\n\t\t\t\tsetTelnyxCallState: (telnyxState) =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.call.telnyxCallState = telnyxState;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"setTelnyxCallState\",\n\t\t\t\t\t),\n\n\t\t\t\tsetTelnyxError: (error) =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.call.telnyxError = error;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"setTelnyxError\",\n\t\t\t\t\t),\n\n\t\t\t\tsetCallMetadata: (metadata) =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.call.callControlId = metadata.callControlId;\n\t\t\t\t\t\t\tstate.call.callSessionId = metadata.callSessionId;\n\t\t\t\t\t\t\tstate.call.direction = metadata.direction;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"setCallMetadata\",\n\t\t\t\t\t),\n\n\t\t\t\treset: () => set(initialState, false, \"reset\"),\n\t\t\t})),\n\t\t\t{\n\t\t\t\tname: \"ui-store\",\n\t\t\t\tskipHydration: true, // CRITICAL: Prevents hydration mismatch with Next.js 16\n\t\t\t\tpartialize: (state) => ({\n\t\t\t\t\tsidebarOpen: state.sidebarOpen,\n\t\t\t\t}),\n\t\t\t},\n\t\t),\n\t\t{ name: \"UIStore\" },\n\t),\n);\n\n/**\n * Selectors for optimized component re-renders\n * Note: theme selector removed - use next-themes' useTheme hook instead\n */\nexport const uiSelectors = {\n\tsidebarOpen: (state: UIStore) => state.sidebarOpen,\n\tmodals: (state: UIStore) => state.modals,\n\tnotifications: (state: UIStore) => state.notifications,\n\tgetModal: (type: string) => (state: UIStore) => state.modals[type],\n\tcall: (state: UIStore) => state.call,\n\tcallStatus: (state: UIStore) => state.call.status,\n\tcaller: (state: UIStore) => state.call.caller,\n};\n","import { create } from \"zustand\";\nimport { devtools, persist } from \"zustand/middleware\";\nimport { immer } from \"zustand/middleware/immer\";\nimport type { User } from \"@/lib/db/schema\";\n\n/**\n * User store state\n */\ntype UserState = {\n\tuser: User | null;\n\tisAuthenticated: boolean;\n\tisLoading: boolean;\n};\n\n/**\n * User store actions\n */\ntype UserActions = {\n\tsetUser: (user: User | null) => void;\n\tupdateUser: (updates: Partial<User>) => void;\n\tlogout: () => void;\n\tsetLoading: (loading: boolean) => void;\n\treset: () => void;\n};\n\n/**\n * Complete user store\n */\nexport type UserStore = UserState & UserActions;\n\n/**\n * Initial state\n */\nconst initialState: UserState = {\n\tuser: null,\n\tisAuthenticated: false,\n\tisLoading: true,\n};\n\n/**\n * User store - manages authentication state\n *\n * @example\n * ```tsx\n * import { useUserStore } from \"@/lib/stores/user-store\";\n *\n * function Profile() {\n *   const { user, isAuthenticated } = useUserStore();\n *   const setUser = useUserStore((state) => state.setUser);\n *\n *   if (!isAuthenticated) return <Login />;\n *   return <div>Hello {user.name}</div>;\n * }\n * ```\n */\nexport const useUserStore = create<UserStore>()(\n\tdevtools(\n\t\tpersist(\n\t\t\timmer((set) => ({\n\t\t\t\t...initialState,\n\n\t\t\t\tsetUser: (user) =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.user = user;\n\t\t\t\t\t\t\tstate.isAuthenticated = !!user;\n\t\t\t\t\t\t\tstate.isLoading = false;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"setUser\",\n\t\t\t\t\t),\n\n\t\t\t\tupdateUser: (updates) =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tif (state.user) {\n\t\t\t\t\t\t\t\tstate.user = { ...state.user, ...updates };\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"updateUser\",\n\t\t\t\t\t),\n\n\t\t\t\tlogout: () =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.user = null;\n\t\t\t\t\t\t\tstate.isAuthenticated = false;\n\t\t\t\t\t\t\tstate.isLoading = false;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"logout\",\n\t\t\t\t\t),\n\n\t\t\t\tsetLoading: (loading) =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.isLoading = loading;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"setLoading\",\n\t\t\t\t\t),\n\n\t\t\t\treset: () => set(initialState, false, \"reset\"),\n\t\t\t})),\n\t\t\t{\n\t\t\t\tname: \"user-store\",\n\t\t\t\tskipHydration: true, // CRITICAL: Prevents hydration mismatch with Next.js 16\n\t\t\t\tpartialize: (state) => ({\n\t\t\t\t\tuser: state.user,\n\t\t\t\t\tisAuthenticated: state.isAuthenticated,\n\t\t\t\t}),\n\t\t\t},\n\t\t),\n\t\t{ name: \"UserStore\" },\n\t),\n);\n\n/**\n * Selectors for optimized component re-renders\n */\nexport const userSelectors = {\n\tuser: (state: UserStore) => state.user,\n\tisAuthenticated: (state: UserStore) => state.isAuthenticated,\n\tisLoading: (state: UserStore) => state.isLoading,\n};\n","\"use client\";\n\n/**\n * SkipLink - Accessibility helper for keyboard navigation\n *\n * Allows keyboard users to skip directly to main content,\n * bypassing navigation and header elements.\n * Meets WCAG 2.1 Success Criterion 2.4.1 (Bypass Blocks)\n */\nexport function SkipLink() {\n\treturn (\n\t\t<a\n\t\t\thref=\"#main-content\"\n\t\t\tclassName=\"sr-only focus:not-sr-only focus:fixed focus:top-4 focus:left-4 focus:z-[9999] focus:rounded-md focus:bg-primary focus:px-4 focus:py-2 focus:text-primary-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:transition-all\"\n\t\t>\n\t\t\tSkip to main content\n\t\t</a>\n\t);\n}\n","/**\n * Analytics Provider\n *\n * Provides automatic page view tracking and analytics context.\n * Should be added to the root layout.\n */\n\n\"use client\";\n\nimport { usePageView } from \"@/lib/analytics/hooks\";\n\nexport function AnalyticsProvider({ children }: { children: React.ReactNode }) {\n\t// Automatically track page views\n\tusePageView();\n\n\treturn <>{children}</>;\n}\n","\"use client\";\n\nimport type { ThemeProviderProps } from \"next-themes\";\nimport { ThemeProvider as NextThemesProvider } from \"next-themes\";\n\nexport function ThemeProvider({ children, ...props }: ThemeProviderProps) {\n\treturn (\n\t\t<NextThemesProvider\n\t\t\tattribute=\"class\"\n\t\t\tdefaultTheme=\"dark\"\n\t\t\tdisableTransitionOnChange\n\t\t\tenableSystem\n\t\t\t{...props}\n\t\t>\n\t\t\t{children}\n\t\t</NextThemesProvider>\n\t);\n}\n","\"use client\";\n\n/**\n * Toast Provider - Sonner Toast Notifications\n *\n * Provides toast notifications across the entire application.\n * Automatically themed to match the current theme (light/dark).\n */\n\nimport { useTheme } from \"next-themes\";\nimport { Toaster } from \"sonner\";\n\nexport function ToastProvider() {\n\tconst { theme } = useTheme();\n\n\treturn (\n\t\t<Toaster\n\t\t\tcloseButton\n\t\t\texpand={false}\n\t\t\toffset=\"72px\"\n\t\t\tposition=\"top-right\"\n\t\t\trichColors\n\t\t\ttheme={theme === \"dark\" ? \"dark\" : \"light\"}\n\t\t\ttoastOptions={{\n\t\t\t\tclassNames: {\n\t\t\t\t\ttoast:\n\t\t\t\t\t\t\"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg\",\n\t\t\t\t\tdescription: \"group-[.toast]:text-muted-foreground\",\n\t\t\t\t\tactionButton:\n\t\t\t\t\t\t\"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground\",\n\t\t\t\t\tcancelButton:\n\t\t\t\t\t\t\"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground\",\n\t\t\t\t},\n\t\t\t}}\n\t\t/>\n\t);\n}\n","\"use client\";\n\n/**\n * Zustand Hydration Provider\n *\n * CRITICAL FIX for Next.js 16 + Zustand persist hydration issues.\n *\n * Problem:\n * - Zustand persist was auto-rehydrating during Next.js Server Component hydration\n * - This caused hydration mismatches\n * - Next.js 16's cacheComponents detected mismatches and triggered continuous POST requests\n * - Result: Infinite loop of revalidation (50+ POST requests per page load)\n *\n * Solution:\n * - All Zustand stores now have `skipHydration: true`\n * - This component manually rehydrates AFTER Next.js hydration completes\n * - Prevents hydration mismatches and infinite loops\n *\n * References:\n * - https://github.com/pmndrs/zustand/issues/938\n * - https://docs.pmnd.rs/zustand/integrations/persisting-store-data#hydration-and-asynchronous-storages\n */\n\nimport { useEffect, useRef } from \"react\";\nimport { useRoleStore } from \"@/lib/stores/role-store\";\nimport { useScheduleViewStore } from \"@/lib/stores/schedule-view-store\";\nimport { useSidebarStateStore } from \"@/lib/stores/sidebar-state-store\";\nimport { useUIStore } from \"@/lib/stores/ui-store\";\nimport { useUserStore } from \"@/lib/stores/user-store\";\nimport { useViewStore } from \"@/lib/stores/view-store\";\nimport { useWorkViewStore } from \"@/lib/stores/work-view-store\";\n\n// Global flag to ensure hydration only happens ONCE per session\nlet hasHydrated = false;\n\nexport function ZustandHydration() {\n\tconst hasRun = useRef(false);\n\n\tuseEffect(() => {\n\t\t// CRITICAL: Only hydrate ONCE globally, never on re-mounts or navigations\n\t\tif (hasRun.current || hasHydrated) {\n\t\t\treturn;\n\t\t}\n\n\t\thasRun.current = true;\n\t\thasHydrated = true;\n\n\t\t// Manually rehydrate all persisted stores AFTER Next.js hydration completes\n\t\t// This happens once on client mount, preventing hydration mismatches\n\n\t\t// View/UI stores\n\t\tuseWorkViewStore.persist.rehydrate();\n\t\tuseScheduleViewStore.persist.rehydrate();\n\t\tuseViewStore.persist.rehydrate();\n\t\tuseSidebarStateStore.persist.rehydrate();\n\t\tuseUIStore.persist.rehydrate();\n\t\tuseUserStore.persist.rehydrate();\n\t\tuseRoleStore.persist.rehydrate(); // CRITICAL: Dashboard depends on this\n\n\t\t// Filter stores rehydrate automatically (less critical for hydration)\n\t\t// Add more stores here if needed\n\t}, []);\n\n\treturn null; // This component renders nothing\n}\n","/**\n * Sidebar State Store - Zustand State Management\n *\n * Performance optimizations:\n * - Lightweight state management with Zustand\n * - No provider wrapper needed\n * - Page-specific sidebar state for tailored UX\n * - Persists preferences per route in localStorage\n *\n * This store manages both LEFT and RIGHT sidebar open/closed state on a per-page basis.\n * Each route can have its own sidebar states, allowing users to:\n * - Close sidebar on schedule page for more calendar space\n * - Keep sidebar open on settings for easy navigation\n * - Toggle right sidebar on invoice/pricebook pages\n * - Customize workspace per context\n */\n\nimport { create } from \"zustand\";\nimport { devtools, persist } from \"zustand/middleware\";\n\n// ============================================================================\n// Types and Definitions\n// ============================================================================\n\n/**\n * Sidebar state per page/route\n * Key: route path (e.g., \"/dashboard/work/invoices\")\n * Value: boolean (true = open, false = closed)\n */\ntype SidebarStates = Record<string, boolean>;\n\ntype SidebarStateStore = {\n\t// Left sidebar state per route\n\tsidebarStates: SidebarStates;\n\n\t// Right sidebar state per route\n\trightSidebarStates: SidebarStates;\n\n\t// Left sidebar methods\n\tgetSidebarState: (route: string) => boolean;\n\tsetSidebarState: (route: string, isOpen: boolean) => void;\n\ttoggleSidebarState: (route: string) => void;\n\n\t// Right sidebar methods\n\tgetRightSidebarState: (route: string, defaultOpen?: boolean) => boolean;\n\tsetRightSidebarState: (route: string, isOpen: boolean) => void;\n\ttoggleRightSidebarState: (route: string) => void;\n\n\t// Reset methods\n\tresetAllStates: () => void;\n\tresetRouteState: (route: string) => void;\n};\n\n// ============================================================================\n// Initial State\n// ============================================================================\n\nconst initialState = {\n\tsidebarStates: {},\n\trightSidebarStates: {},\n};\n\n// ============================================================================\n// Create Store\n// ============================================================================\n\nexport const useSidebarStateStore = create<SidebarStateStore>()(\n\tdevtools(\n\t\tpersist(\n\t\t\t(set, get) => ({\n\t\t\t\t...initialState,\n\n\t\t\t\t// Left sidebar methods\n\t\t\t\tgetSidebarState: (route) => {\n\t\t\t\t\tconst states = get().sidebarStates;\n\t\t\t\t\t// Default to true (open) if not set\n\t\t\t\t\treturn states[route] ?? true;\n\t\t\t\t},\n\n\t\t\t\tsetSidebarState: (route, isOpen) => {\n\t\t\t\t\tset((state) => ({\n\t\t\t\t\t\tsidebarStates: {\n\t\t\t\t\t\t\t...state.sidebarStates,\n\t\t\t\t\t\t\t[route]: isOpen,\n\t\t\t\t\t\t},\n\t\t\t\t\t}));\n\t\t\t\t},\n\n\t\t\t\ttoggleSidebarState: (route) => {\n\t\t\t\t\tconst currentState = get().getSidebarState(route);\n\t\t\t\t\tget().setSidebarState(route, !currentState);\n\t\t\t\t},\n\n\t\t\t\t// Right sidebar methods\n\t\t\t\tgetRightSidebarState: (route, defaultOpen = true) => {\n\t\t\t\t\tconst states = get().rightSidebarStates;\n\t\t\t\t\t// Default to true (open) if not set, unless specified otherwise\n\t\t\t\t\treturn states[route] ?? defaultOpen;\n\t\t\t\t},\n\n\t\t\t\tsetRightSidebarState: (route, isOpen) => {\n\t\t\t\t\tset((state) => ({\n\t\t\t\t\t\trightSidebarStates: {\n\t\t\t\t\t\t\t...state.rightSidebarStates,\n\t\t\t\t\t\t\t[route]: isOpen,\n\t\t\t\t\t\t},\n\t\t\t\t\t}));\n\t\t\t\t},\n\n\t\t\t\ttoggleRightSidebarState: (route) => {\n\t\t\t\t\tconst currentState = get().getRightSidebarState(route);\n\t\t\t\t\tget().setRightSidebarState(route, !currentState);\n\t\t\t\t},\n\n\t\t\t\t// Reset methods\n\t\t\t\tresetAllStates: () => {\n\t\t\t\t\tset({ sidebarStates: {}, rightSidebarStates: {} });\n\t\t\t\t},\n\n\t\t\t\tresetRouteState: (route) => {\n\t\t\t\t\tset((state) => {\n\t\t\t\t\t\tconst newLeftStates = { ...state.sidebarStates };\n\t\t\t\t\t\tconst newRightStates = { ...state.rightSidebarStates };\n\t\t\t\t\t\tdelete newLeftStates[route];\n\t\t\t\t\t\tdelete newRightStates[route];\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tsidebarStates: newLeftStates,\n\t\t\t\t\t\t\trightSidebarStates: newRightStates,\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t}),\n\t\t\t{\n\t\t\t\tname: \"sidebar-state-storage\",\n\t\t\t\t// Persist both left and right sidebar states\n\t\t\t\tpartialize: (state) => ({\n\t\t\t\t\tsidebarStates: state.sidebarStates,\n\t\t\t\t\trightSidebarStates: state.rightSidebarStates,\n\t\t\t\t}),\n\t\t\t\t// PERFORMANCE: Skip hydration to prevent SSR mismatches\n\t\t\t\t// Allows Next.js to generate static pages without Zustand errors\n\t\t\t\tskipHydration: true,\n\t\t\t},\n\t\t),\n\t\t{ name: \"SidebarStateStore\" },\n\t),\n);\n","import { create } from \"zustand\";\nimport { devtools, persist } from \"zustand/middleware\";\n\nexport type ZoomLevel = number; // 5 - 500 (percentage)\n\nexport type ViewFilters = {\n\ttechnicianIds: string[];\n\tstatuses: Array<\"scheduled\" | \"in-progress\" | \"completed\" | \"cancelled\">;\n\tpriorities: Array<\"low\" | \"medium\" | \"high\" | \"urgent\">;\n\tsearchQuery: string;\n};\n\ntype ViewState = {\n\t// Zoom and timeline\n\tzoom: ZoomLevel;\n\tcurrentDate: Date;\n\n\t// Filters\n\tfilters: ViewFilters;\n\n\t// UI State\n\tsidebarCollapsed: boolean;\n\tshowCompletedJobs: boolean;\n\tshowConflicts: boolean;\n\tshowTravelTime: boolean;\n\n\t// View preferences\n\tworkingHoursStart: number; // 0-23 (hour)\n\tworkingHoursEnd: number; // 0-23 (hour)\n\n\t// Actions - Zoom\n\tsetZoom: (zoom: ZoomLevel) => void;\n\tzoomIn: () => void;\n\tzoomOut: () => void;\n\tresetZoom: () => void;\n\n\t// Actions - Navigation\n\tsetCurrentDate: (date: Date) => void;\n\tgoToToday: () => void;\n\tgoToDate: (date: Date) => void;\n\tnavigateDays: (days: number) => void;\n\n\t// Actions - Filters\n\tsetFilters: (filters: Partial<ViewFilters>) => void;\n\tresetFilters: () => void;\n\ttoggleTechnicianFilter: (technicianId: string) => void;\n\tsetSearchQuery: (query: string) => void;\n\n\t// Actions - UI\n\ttoggleSidebar: () => void;\n\tsetSidebarCollapsed: (collapsed: boolean) => void;\n\ttoggleCompletedJobs: () => void;\n\ttoggleConflicts: () => void;\n\ttoggleTravelTime: () => void;\n\n\t// Actions - Working hours\n\tsetWorkingHours: (start: number, end: number) => void;\n\n\t// Helpers\n\tgetVisibleTimeRange: () => { start: Date; end: Date };\n\tisFiltered: () => boolean;\n};\n\nconst defaultFilters: ViewFilters = {\n\ttechnicianIds: [],\n\tstatuses: [],\n\tpriorities: [],\n\tsearchQuery: \"\",\n};\n\nexport const useViewStore = create<ViewState>()(\n\tdevtools(\n\t\tpersist(\n\t\t\t(set, get) => ({\n\t\t\t\t// Initial state\n\t\t\t\tzoom: 100,\n\t\t\t\tcurrentDate: new Date(),\n\t\t\t\tfilters: defaultFilters,\n\t\t\t\tsidebarCollapsed: false,\n\t\t\t\tshowCompletedJobs: true,\n\t\t\t\tshowConflicts: true,\n\t\t\t\tshowTravelTime: false,\n\t\t\t\tworkingHoursStart: 7, // 7 AM\n\t\t\t\tworkingHoursEnd: 19, // 7 PM\n\n\t\t\t\t// Zoom actions\n\t\t\t\tsetZoom: (zoom) => {\n\t\t\t\t\tconst clampedZoom = Math.max(5, Math.min(500, zoom));\n\t\t\t\t\tset({ zoom: clampedZoom });\n\t\t\t\t},\n\n\t\t\t\tzoomIn: () => {\n\t\t\t\t\tconst currentZoom = get().zoom;\n\t\t\t\t\tconst newZoom = Math.min(500, currentZoom * 1.2);\n\t\t\t\t\tset({ zoom: newZoom });\n\t\t\t\t},\n\n\t\t\t\tzoomOut: () => {\n\t\t\t\t\tconst currentZoom = get().zoom;\n\t\t\t\t\tconst newZoom = Math.max(5, currentZoom / 1.2);\n\t\t\t\t\tset({ zoom: newZoom });\n\t\t\t\t},\n\n\t\t\t\tresetZoom: () => set({ zoom: 100 }),\n\n\t\t\t\t// Navigation actions\n\t\t\t\tsetCurrentDate: (date) => set({ currentDate: date }),\n\n\t\t\t\tgoToToday: () => set({ currentDate: new Date() }),\n\n\t\t\t\tgoToDate: (date) => set({ currentDate: date }),\n\n\t\t\t\tnavigateDays: (days) => {\n\t\t\t\t\tconst current = get().currentDate;\n\t\t\t\t\tconst newDate = new Date(current);\n\t\t\t\t\tnewDate.setDate(newDate.getDate() + days);\n\t\t\t\t\tset({ currentDate: newDate });\n\t\t\t\t},\n\n\t\t\t\t// Filter actions\n\t\t\t\tsetFilters: (updates) => {\n\t\t\t\t\tset((state) => ({\n\t\t\t\t\t\tfilters: { ...state.filters, ...updates },\n\t\t\t\t\t}));\n\t\t\t\t},\n\n\t\t\t\tresetFilters: () => set({ filters: defaultFilters }),\n\n\t\t\t\ttoggleTechnicianFilter: (technicianId) => {\n\t\t\t\t\tset((state) => {\n\t\t\t\t\t\tconst current = state.filters.technicianIds;\n\t\t\t\t\t\tconst updated = current.includes(technicianId)\n\t\t\t\t\t\t\t? current.filter((id) => id !== technicianId)\n\t\t\t\t\t\t\t: [...current, technicianId];\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tfilters: {\n\t\t\t\t\t\t\t\t...state.filters,\n\t\t\t\t\t\t\t\ttechnicianIds: updated,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t},\n\n\t\t\t\tsetSearchQuery: (query) => {\n\t\t\t\t\tset((state) => ({\n\t\t\t\t\t\tfilters: {\n\t\t\t\t\t\t\t...state.filters,\n\t\t\t\t\t\t\tsearchQuery: query,\n\t\t\t\t\t\t},\n\t\t\t\t\t}));\n\t\t\t\t},\n\n\t\t\t\t// UI actions\n\t\t\t\ttoggleSidebar: () => {\n\t\t\t\t\tset((state) => ({ sidebarCollapsed: !state.sidebarCollapsed }));\n\t\t\t\t},\n\n\t\t\t\tsetSidebarCollapsed: (collapsed) =>\n\t\t\t\t\tset({ sidebarCollapsed: collapsed }),\n\n\t\t\t\ttoggleCompletedJobs: () => {\n\t\t\t\t\tset((state) => ({ showCompletedJobs: !state.showCompletedJobs }));\n\t\t\t\t},\n\n\t\t\t\ttoggleConflicts: () => {\n\t\t\t\t\tset((state) => ({ showConflicts: !state.showConflicts }));\n\t\t\t\t},\n\n\t\t\t\ttoggleTravelTime: () => {\n\t\t\t\t\tset((state) => ({ showTravelTime: !state.showTravelTime }));\n\t\t\t\t},\n\n\t\t\t\t// Working hours\n\t\t\t\tsetWorkingHours: (start, end) => {\n\t\t\t\t\tset({\n\t\t\t\t\t\tworkingHoursStart: Math.max(0, Math.min(23, start)),\n\t\t\t\t\t\tworkingHoursEnd: Math.max(0, Math.min(23, end)),\n\t\t\t\t\t});\n\t\t\t\t},\n\n\t\t\t\t// Helpers\n\t\t\t\tgetVisibleTimeRange: () => {\n\t\t\t\t\tconst { currentDate, zoom } = get();\n\n\t\t\t\t\t// Calculate visible range based on zoom level\n\t\t\t\t\t// Lower zoom = more days visible, higher zoom = fewer days/more hours\n\t\t\t\t\tlet daysVisible: number;\n\n\t\t\t\t\tif (zoom < 50) {\n\t\t\t\t\t\tdaysVisible = 90; // ~3 months\n\t\t\t\t\t} else if (zoom < 100) {\n\t\t\t\t\t\tdaysVisible = 30; // 1 month\n\t\t\t\t\t} else if (zoom < 200) {\n\t\t\t\t\t\tdaysVisible = 7; // 1 week\n\t\t\t\t\t} else if (zoom < 400) {\n\t\t\t\t\t\tdaysVisible = 1; // 1 day (hourly view)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdaysVisible = 0.5; // Half day (detailed hourly)\n\t\t\t\t\t}\n\n\t\t\t\t\tconst start = new Date(currentDate);\n\t\t\t\t\tstart.setDate(start.getDate() - Math.floor(daysVisible / 2));\n\t\t\t\t\tstart.setHours(0, 0, 0, 0);\n\n\t\t\t\t\tconst end = new Date(currentDate);\n\t\t\t\t\tend.setDate(end.getDate() + Math.ceil(daysVisible / 2));\n\t\t\t\t\tend.setHours(23, 59, 59, 999);\n\n\t\t\t\t\treturn { start, end };\n\t\t\t\t},\n\n\t\t\t\tisFiltered: () => {\n\t\t\t\t\tconst { filters } = get();\n\t\t\t\t\treturn (\n\t\t\t\t\t\tfilters.technicianIds.length > 0 ||\n\t\t\t\t\t\tfilters.statuses.length > 0 ||\n\t\t\t\t\t\tfilters.priorities.length > 0 ||\n\t\t\t\t\t\tfilters.searchQuery.trim() !== \"\"\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t}),\n\t\t\t{\n\t\t\t\tname: \"view-storage\",\n\t\t\t\tskipHydration: true, // CRITICAL: Prevents hydration mismatch with Next.js 16\n\t\t\t\tpartialize: (state) => ({\n\t\t\t\t\tzoom: state.zoom,\n\t\t\t\t\tsidebarCollapsed: state.sidebarCollapsed,\n\t\t\t\t\tshowCompletedJobs: state.showCompletedJobs,\n\t\t\t\t\tshowConflicts: state.showConflicts,\n\t\t\t\t\tshowTravelTime: state.showTravelTime,\n\t\t\t\t\tworkingHoursStart: state.workingHoursStart,\n\t\t\t\t\tworkingHoursEnd: state.workingHoursEnd,\n\t\t\t\t}),\n\t\t\t},\n\t\t),\n\t),\n);\n","'use client';\nimport React, { Suspense, type ReactNode } from 'react';\nimport { Analytics as AnalyticsScript } from '../react';\nimport type { AnalyticsProps, BeforeSend, BeforeSendEvent } from '../types';\nimport { getBasePath, useRoute } from './utils';\n\ntype Props = Omit<AnalyticsProps, 'route' | 'disableAutoTrack'>;\n\nfunction AnalyticsComponent(props: Props): ReactNode {\n  const { route, path } = useRoute();\n  return (\n    <AnalyticsScript\n      path={path}\n      route={route}\n      {...props}\n      basePath={getBasePath()}\n      framework=\"next\"\n    />\n  );\n}\n\nexport function Analytics(props: Props): null {\n  // Because of incompatible types between ReactNode in React 19 and React 18 we return null (which is also what we render)\n  return (\n    <Suspense fallback={null}>\n      <AnalyticsComponent {...props} />\n    </Suspense>\n  ) as never;\n}\n\nexport type { AnalyticsProps, BeforeSend, BeforeSendEvent };\n","'use client';\nimport { useEffect } from 'react';\nimport { inject, track, pageview } from '../generic';\nimport type { AnalyticsProps, BeforeSend, BeforeSendEvent } from '../types';\nimport { getBasePath } from './utils';\n\n/**\n * Injects the Vercel Web Analytics script into the page head and starts tracking page views. Read more in our [documentation](https://vercel.com/docs/concepts/analytics/package).\n * @param [props] - Analytics options.\n * @param [props.mode] - The mode to use for the analytics script. Defaults to `auto`.\n *  - `auto` - Automatically detect the environment.  Uses `production` if the environment cannot be determined.\n *  - `production` - Always use the production script. (Sends events to the server)\n *  - `development` - Always use the development script. (Logs events to the console)\n * @param [props.debug] - Whether to enable debug logging in development. Defaults to `true`.\n * @param [props.beforeSend] - A middleware function to modify events before they are sent. Should return the event object or `null` to cancel the event.\n * @example\n * ```js\n * import { Analytics } from '@vercel/analytics/react';\n *\n * export default function App() {\n *  return (\n *   <div>\n *    <Analytics />\n *    <h1>My App</h1>\n *  </div>\n * );\n * }\n * ```\n */\nfunction Analytics(\n  props: AnalyticsProps & {\n    framework?: string;\n    route?: string | null;\n    path?: string | null;\n    basePath?: string;\n  }\n): null {\n  useEffect(() => {\n    if (props.beforeSend) {\n      window.va?.('beforeSend', props.beforeSend);\n    }\n  }, [props.beforeSend]);\n\n  // biome-ignore lint/correctness/useExhaustiveDependencies: only run once\n  useEffect(() => {\n    inject({\n      framework: props.framework || 'react',\n      basePath: props.basePath ?? getBasePath(),\n      ...(props.route !== undefined && { disableAutoTrack: true }),\n      ...props,\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps -- only run once\n  }, []);\n\n  useEffect(() => {\n    // explicitely track page view, since we disabled auto tracking\n    if (props.route && props.path) {\n      pageview({ route: props.route, path: props.path });\n    }\n  }, [props.route, props.path]);\n\n  return null;\n}\n\nexport { track, Analytics };\nexport type { AnalyticsProps, BeforeSend, BeforeSendEvent };\n","{\n  \"name\": \"@vercel/analytics\",\n  \"version\": \"1.5.0\",\n  \"description\": \"Gain real-time traffic insights with Vercel Web Analytics\",\n  \"keywords\": [\n    \"analytics\",\n    \"vercel\"\n  ],\n  \"repository\": {\n    \"url\": \"github:vercel/analytics\",\n    \"directory\": \"packages/web\"\n  },\n  \"license\": \"MPL-2.0\",\n  \"exports\": {\n    \"./package.json\": \"./package.json\",\n    \".\": {\n      \"browser\": \"./dist/index.mjs\",\n      \"import\": \"./dist/index.mjs\",\n      \"require\": \"./dist/index.js\"\n    },\n    \"./astro\": {\n      \"import\": \"./dist/astro/component.ts\"\n    },\n    \"./next\": {\n      \"browser\": \"./dist/next/index.mjs\",\n      \"import\": \"./dist/next/index.mjs\",\n      \"require\": \"./dist/next/index.js\"\n    },\n    \"./nuxt\": {\n      \"browser\": \"./dist/nuxt/index.mjs\",\n      \"import\": \"./dist/nuxt/index.mjs\",\n      \"require\": \"./dist/nuxt/index.js\"\n    },\n    \"./react\": {\n      \"browser\": \"./dist/react/index.mjs\",\n      \"import\": \"./dist/react/index.mjs\",\n      \"require\": \"./dist/react/index.js\"\n    },\n    \"./remix\": {\n      \"browser\": \"./dist/remix/index.mjs\",\n      \"import\": \"./dist/remix/index.mjs\",\n      \"require\": \"./dist/remix/index.js\"\n    },\n    \"./server\": {\n      \"node\": \"./dist/server/index.mjs\",\n      \"edge-light\": \"./dist/server/index.mjs\",\n      \"import\": \"./dist/server/index.mjs\",\n      \"require\": \"./dist/server/index.js\",\n      \"default\": \"./dist/server/index.js\"\n    },\n    \"./sveltekit\": {\n      \"svelte\": \"./dist/sveltekit/index.mjs\",\n      \"types\": \"./dist/sveltekit/index.d.ts\"\n    },\n    \"./vue\": {\n      \"browser\": \"./dist/vue/index.mjs\",\n      \"import\": \"./dist/vue/index.mjs\",\n      \"require\": \"./dist/vue/index.js\"\n    }\n  },\n  \"main\": \"./dist/index.mjs\",\n  \"types\": \"./dist/index.d.ts\",\n  \"typesVersions\": {\n    \"*\": {\n      \"*\": [\n        \"dist/index.d.ts\"\n      ],\n      \"next\": [\n        \"dist/next/index.d.ts\"\n      ],\n      \"nuxt\": [\n        \"dist/nuxt/index.d.ts\"\n      ],\n      \"react\": [\n        \"dist/react/index.d.ts\"\n      ],\n      \"remix\": [\n        \"dist/remix/index.d.ts\"\n      ],\n      \"server\": [\n        \"dist/server/index.d.ts\"\n      ],\n      \"sveltekit\": [\n        \"dist/sveltekit/index.d.ts\"\n      ],\n      \"vue\": [\n        \"dist/vue/index.d.ts\"\n      ]\n    }\n  },\n  \"scripts\": {\n    \"build\": \"tsup && pnpm copy-astro\",\n    \"copy-astro\": \"cp -R src/astro dist/\",\n    \"dev\": \"pnpm copy-astro && tsup --watch\",\n    \"lint\": \"eslint .\",\n    \"lint-fix\": \"eslint . --fix\",\n    \"test\": \"vitest\",\n    \"type-check\": \"tsc --noEmit\"\n  },\n  \"eslintConfig\": {\n    \"extends\": [\n      \"@vercel/eslint-config\"\n    ],\n    \"rules\": {\n      \"tsdoc/syntax\": \"off\"\n    },\n    \"ignorePatterns\": [\n      \"jest.setup.ts\"\n    ]\n  },\n  \"devDependencies\": {\n    \"@swc/core\": \"^1.9.2\",\n    \"@testing-library/jest-dom\": \"^6.6.3\",\n    \"@testing-library/react\": \"^16.0.1\",\n    \"@types/node\": \"^22.9.0\",\n    \"@types/react\": \"^18.3.12\",\n    \"@vercel/eslint-config\": \"workspace:0.0.0\",\n    \"server-only\": \"^0.0.1\",\n    \"svelte\": \"^5.1.10\",\n    \"tsup\": \"8.3.5\",\n    \"vitest\": \"^2.1.5\",\n    \"vue\": \"^3.5.12\",\n    \"vue-router\": \"^4.4.5\"\n  },\n  \"peerDependencies\": {\n    \"@remix-run/react\": \"^2\",\n    \"@sveltejs/kit\": \"^1 || ^2\",\n    \"next\": \">= 13\",\n    \"react\": \"^18 || ^19 || ^19.0.0-rc\",\n    \"svelte\": \">= 4\",\n    \"vue\": \"^3\",\n    \"vue-router\": \"^4\"\n  },\n  \"peerDependenciesMeta\": {\n    \"@remix-run/react\": {\n      \"optional\": true\n    },\n    \"@sveltejs/kit\": {\n      \"optional\": true\n    },\n    \"next\": {\n      \"optional\": true\n    },\n    \"react\": {\n      \"optional\": true\n    },\n    \"svelte\": {\n      \"optional\": true\n    },\n    \"vue\": {\n      \"optional\": true\n    },\n    \"vue-router\": {\n      \"optional\": true\n    }\n  }\n}\n","export const initQueue = (): void => {\n  // initialize va until script is loaded\n  if (window.va) return;\n\n  window.va = function a(...params): void {\n    (window.vaq = window.vaq || []).push(params);\n  };\n};\n","import type { AllowedPropertyValues, AnalyticsProps, Mode } from './types';\n\nexport function isBrowser(): boolean {\n  return typeof window !== 'undefined';\n}\n\nfunction detectEnvironment(): 'development' | 'production' {\n  try {\n    const env = process.env.NODE_ENV;\n    if (env === 'development' || env === 'test') {\n      return 'development';\n    }\n  } catch (e) {\n    // do nothing, this is okay\n  }\n  return 'production';\n}\n\nexport function setMode(mode: Mode = 'auto'): void {\n  if (mode === 'auto') {\n    window.vam = detectEnvironment();\n    return;\n  }\n\n  window.vam = mode;\n}\n\nexport function getMode(): Mode {\n  const mode = isBrowser() ? window.vam : detectEnvironment();\n  return mode || 'production';\n}\n\nexport function isProduction(): boolean {\n  return getMode() === 'production';\n}\n\nexport function isDevelopment(): boolean {\n  return getMode() === 'development';\n}\n\nfunction removeKey(\n  key: string,\n  { [key]: _, ...rest }\n): Record<string, unknown> {\n  return rest;\n}\n\nexport function parseProperties(\n  properties: Record<string, unknown> | undefined,\n  options: {\n    strip?: boolean;\n  }\n): Error | Record<string, AllowedPropertyValues> | undefined {\n  if (!properties) return undefined;\n  let props = properties;\n  const errorProperties: string[] = [];\n  for (const [key, value] of Object.entries(properties)) {\n    if (typeof value === 'object' && value !== null) {\n      if (options.strip) {\n        props = removeKey(key, props);\n      } else {\n        errorProperties.push(key);\n      }\n    }\n  }\n\n  if (errorProperties.length > 0 && !options.strip) {\n    throw Error(\n      `The following properties are not valid: ${errorProperties.join(\n        ', '\n      )}. Only strings, numbers, booleans, and null are allowed.`\n    );\n  }\n  return props as Record<string, AllowedPropertyValues>;\n}\n\nexport function computeRoute(\n  pathname: string | null,\n  pathParams: Record<string, string | string[]> | null\n): string | null {\n  if (!pathname || !pathParams) {\n    return pathname;\n  }\n\n  let result = pathname;\n  try {\n    const entries = Object.entries(pathParams);\n    // simple keys must be handled first\n    for (const [key, value] of entries) {\n      if (!Array.isArray(value)) {\n        const matcher = turnValueToRegExp(value);\n        if (matcher.test(result)) {\n          result = result.replace(matcher, `/[${key}]`);\n        }\n      }\n    }\n    // array values next\n    for (const [key, value] of entries) {\n      if (Array.isArray(value)) {\n        const matcher = turnValueToRegExp(value.join('/'));\n        if (matcher.test(result)) {\n          result = result.replace(matcher, `/[...${key}]`);\n        }\n      }\n    }\n    return result;\n  } catch (e) {\n    return pathname;\n  }\n}\n\nfunction turnValueToRegExp(value: string): RegExp {\n  return new RegExp(`/${escapeRegExp(value)}(?=[/?#]|$)`);\n}\n\nfunction escapeRegExp(string: string): string {\n  return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n}\n\nexport function getScriptSrc(\n  props: AnalyticsProps & { basePath?: string }\n): string {\n  if (props.scriptSrc) {\n    return props.scriptSrc;\n  }\n  if (isDevelopment()) {\n    return 'https://va.vercel-scripts.com/v1/script.debug.js';\n  }\n  if (props.basePath) {\n    return `${props.basePath}/insights/script.js`;\n  }\n  return '/_vercel/insights/script.js';\n}\n","import { name as packageName, version } from '../package.json';\nimport { initQueue } from './queue';\nimport type {\n  AllowedPropertyValues,\n  AnalyticsProps,\n  FlagsDataInput,\n  BeforeSend,\n  BeforeSendEvent,\n} from './types';\nimport {\n  isBrowser,\n  parseProperties,\n  setMode,\n  isDevelopment,\n  isProduction,\n  computeRoute,\n  getScriptSrc,\n} from './utils';\n\n/**\n * Injects the Vercel Web Analytics script into the page head and starts tracking page views. Read more in our [documentation](https://vercel.com/docs/concepts/analytics/package).\n * @param [props] - Analytics options.\n * @param [props.mode] - The mode to use for the analytics script. Defaults to `auto`.\n *  - `auto` - Automatically detect the environment.  Uses `production` if the environment cannot be determined.\n *  - `production` - Always use the production script. (Sends events to the server)\n *  - `development` - Always use the development script. (Logs events to the console)\n * @param [props.debug] - Whether to enable debug logging in development. Defaults to `true`.\n * @param [props.beforeSend] - A middleware function to modify events before they are sent. Should return the event object or `null` to cancel the event.\n * @param [props.dsn] - The DSN of the project to send events to. Only required when self-hosting.\n * @param [props.disableAutoTrack] - Whether the injected script should track page views from pushState events. Disable if route is updated after pushState, a manually call page pageview().\n */\nfunction inject(\n  props: AnalyticsProps & {\n    framework?: string;\n    disableAutoTrack?: boolean;\n    basePath?: string;\n  } = {\n    debug: true,\n  }\n): void {\n  if (!isBrowser()) return;\n\n  setMode(props.mode);\n\n  initQueue();\n\n  if (props.beforeSend) {\n    window.va?.('beforeSend', props.beforeSend);\n  }\n\n  const src = getScriptSrc(props);\n\n  if (document.head.querySelector(`script[src*=\"${src}\"]`)) return;\n\n  const script = document.createElement('script');\n  script.src = src;\n  script.defer = true;\n  script.dataset.sdkn =\n    packageName + (props.framework ? `/${props.framework}` : '');\n  script.dataset.sdkv = version;\n\n  if (props.disableAutoTrack) {\n    script.dataset.disableAutoTrack = '1';\n  }\n  if (props.endpoint) {\n    script.dataset.endpoint = props.endpoint;\n  } else if (props.basePath) {\n    script.dataset.endpoint = `${props.basePath}/insights`;\n  }\n  if (props.dsn) {\n    script.dataset.dsn = props.dsn;\n  }\n\n  script.onerror = (): void => {\n    const errorMessage = isDevelopment()\n      ? 'Please check if any ad blockers are enabled and try again.'\n      : 'Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.';\n\n    // eslint-disable-next-line no-console -- Logging to console is intentional\n    console.log(\n      `[Vercel Web Analytics] Failed to load script from ${src}. ${errorMessage}`\n    );\n  };\n\n  if (isDevelopment() && props.debug === false) {\n    script.dataset.debug = 'false';\n  }\n\n  document.head.appendChild(script);\n}\n\n/**\n * Tracks a custom event. Please refer to the [documentation](https://vercel.com/docs/concepts/analytics/custom-events) for more information on custom events.\n * @param name - The name of the event.\n * * Examples: `Purchase`, `Click Button`, or `Play Video`.\n * @param [properties] - Additional properties of the event. Nested objects are not supported. Allowed values are `string`, `number`, `boolean`, and `null`.\n */\nfunction track(\n  name: string,\n  properties?: Record<string, AllowedPropertyValues>,\n  options?: {\n    flags?: FlagsDataInput;\n  }\n): void {\n  if (!isBrowser()) {\n    const msg =\n      '[Vercel Web Analytics] Please import `track` from `@vercel/analytics/server` when using this function in a server environment';\n\n    if (isProduction()) {\n      // eslint-disable-next-line no-console -- Show warning in production\n      console.warn(msg);\n    } else {\n      throw new Error(msg);\n    }\n\n    return;\n  }\n\n  if (!properties) {\n    window.va?.('event', { name, options });\n    return;\n  }\n\n  try {\n    const props = parseProperties(properties, {\n      strip: isProduction(),\n    });\n\n    window.va?.('event', {\n      name,\n      data: props,\n      options,\n    });\n  } catch (err) {\n    if (err instanceof Error && isDevelopment()) {\n      // eslint-disable-next-line no-console -- Logging to console is intentional\n      console.error(err);\n    }\n  }\n}\n\nfunction pageview({\n  route,\n  path,\n}: {\n  route?: string | null;\n  path?: string;\n}): void {\n  window.va?.('pageview', { route, path });\n}\n\nexport { inject, track, pageview, computeRoute };\nexport type { AnalyticsProps, BeforeSend, BeforeSendEvent };\n\n// eslint-disable-next-line import/no-default-export -- Default export is intentional\nexport default {\n  inject,\n  track,\n  computeRoute,\n};\n","export function getBasePath(): string | undefined {\n  // !! important !!\n  // do not access env variables using process.env[varname]\n  // some bundles won't replace the value at build time.\n  // eslint-disable-next-line @typescript-eslint/prefer-optional-chain -- we can't use optionnal here, it'll break if process does not exist.\n  if (typeof process === 'undefined' || typeof process.env === 'undefined') {\n    return undefined;\n  }\n  return process.env.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH;\n}\n","'use client';\n/* eslint-disable @typescript-eslint/no-unnecessary-condition -- can be empty in pages router */\nimport { useParams, usePathname, useSearchParams } from 'next/navigation.js';\nimport { computeRoute } from '../utils';\n\nexport const useRoute = (): {\n  route: string | null;\n  path: string;\n} => {\n  const params = useParams();\n  const searchParams = useSearchParams();\n  const path = usePathname();\n\n  // Until we have route parameters, we don't compute the route\n  if (!params) {\n    return { route: null, path };\n  }\n  // in Next.js@13, useParams() could return an empty object for pages router, and we default to searchParams.\n  const finalParams = Object.keys(params).length\n    ? params\n    : Object.fromEntries(searchParams.entries());\n  return { route: computeRoute(path, finalParams), path };\n};\n\nexport function getBasePath(): string | undefined {\n  // !! important !!\n  // do not access env variables using process.env[varname]\n  // some bundles won't replace the value at build time.\n  // eslint-disable-next-line @typescript-eslint/prefer-optional-chain -- we can't use optionnal here, it'll break if process does not exist.\n  if (typeof process === 'undefined' || typeof process.env === 'undefined') {\n    return undefined;\n  }\n  return process.env.NEXT_PUBLIC_VERCEL_OBSERVABILITY_BASEPATH;\n}\n","'use client';\n\nimport React, { Suspense } from 'react';\nimport { SpeedInsights as SpeedInsightsScript } from '../react';\nimport type { SpeedInsightsProps } from '../types';\nimport { getBasePath, useRoute } from './utils';\n\ntype Props = Omit<SpeedInsightsProps, 'route'>;\n\nfunction SpeedInsightsComponent(props: Props): React.ReactElement {\n  const route = useRoute();\n\n  return (\n    <SpeedInsightsScript\n      route={route}\n      {...props}\n      framework=\"next\"\n      basePath={getBasePath()}\n    />\n  );\n}\n\nexport function SpeedInsights(props: Props): null {\n  // Because of incompatible types between ReactNode in React 19 and React 18 we return null (which is also what we render)\n  return (\n    <Suspense fallback={null}>\n      <SpeedInsightsComponent {...props} />\n    </Suspense>\n  ) as never;\n}\n","'use client';\n\nimport { useEffect, useRef } from 'react';\nimport type { SpeedInsightsProps } from '../types';\nimport { computeRoute, injectSpeedInsights } from '../generic';\nimport { getBasePath } from './utils';\n\nexport function SpeedInsights(\n  props: SpeedInsightsProps & {\n    framework?: string;\n    basePath?: string;\n  },\n): JSX.Element | null {\n  useEffect(() => {\n    if (props.beforeSend) {\n      window.si?.('beforeSend', props.beforeSend);\n    }\n  }, [props.beforeSend]);\n\n  const setScriptRoute = useRef<((path: string) => void) | null>(null);\n  useEffect(() => {\n    if (!setScriptRoute.current) {\n      const script = injectSpeedInsights({\n        framework: props.framework ?? 'react',\n        basePath: props.basePath ?? getBasePath(),\n        ...props,\n      });\n      if (script) {\n        setScriptRoute.current = script.setRoute;\n      }\n    } else if (props.route) {\n      setScriptRoute.current(props.route);\n    }\n  }, [props.route]);\n\n  return null;\n}\n\nexport { computeRoute };\n","{\n  \"name\": \"@vercel/speed-insights\",\n  \"version\": \"1.2.0\",\n  \"description\": \"Speed Insights is a tool for measuring web performance and providing suggestions for improvement.\",\n  \"keywords\": [\n    \"speed-insights\",\n    \"vercel\"\n  ],\n  \"repository\": {\n    \"url\": \"github:vercel/speed-insights\",\n    \"directory\": \"packages/web\"\n  },\n  \"license\": \"Apache-2.0\",\n  \"exports\": {\n    \"./package.json\": \"./package.json\",\n    \".\": {\n      \"browser\": \"./dist/index.mjs\",\n      \"import\": \"./dist/index.mjs\",\n      \"require\": \"./dist/index.js\"\n    },\n    \"./astro\": {\n      \"import\": \"./dist/astro/component.ts\"\n    },\n    \"./next\": {\n      \"browser\": \"./dist/next/index.mjs\",\n      \"import\": \"./dist/next/index.mjs\",\n      \"require\": \"./dist/next/index.js\"\n    },\n    \"./nuxt\": {\n      \"browser\": \"./dist/nuxt/index.mjs\",\n      \"import\": \"./dist/nuxt/index.mjs\",\n      \"require\": \"./dist/nuxt/index.js\"\n    },\n    \"./react\": {\n      \"browser\": \"./dist/react/index.mjs\",\n      \"import\": \"./dist/react/index.mjs\",\n      \"require\": \"./dist/react/index.js\"\n    },\n    \"./remix\": {\n      \"browser\": \"./dist/remix/index.mjs\",\n      \"import\": \"./dist/remix/index.mjs\",\n      \"require\": \"./dist/remix/index.js\"\n    },\n    \"./sveltekit\": {\n      \"svelte\": \"./dist/sveltekit/index.mjs\",\n      \"types\": \"./dist/sveltekit/index.d.ts\"\n    },\n    \"./vue\": {\n      \"browser\": \"./dist/vue/index.mjs\",\n      \"import\": \"./dist/vue/index.mjs\",\n      \"require\": \"./dist/vue/index.js\"\n    }\n  },\n  \"main\": \"./dist/index.js\",\n  \"types\": \"./dist/index.d.ts\",\n  \"typesVersions\": {\n    \"*\": {\n      \"*\": [\n        \"dist/index.d.ts\"\n      ],\n      \"react\": [\n        \"dist/react/index.d.ts\"\n      ],\n      \"next\": [\n        \"dist/next/index.d.ts\"\n      ],\n      \"nuxt\": [\n        \"dist/nuxt/index.d.ts\"\n      ],\n      \"remix\": [\n        \"dist/remix/index.d.ts\"\n      ],\n      \"sveltekit\": [\n        \"dist/sveltekit/index.d.ts\"\n      ],\n      \"vue\": [\n        \"dist/vue/index.d.ts\"\n      ]\n    }\n  },\n  \"scripts\": {\n    \"build\": \"tsup && pnpm copy-astro\",\n    \"copy-astro\": \"cp -R src/astro dist/\",\n    \"dev\": \"pnpm copy-astro && tsup --watch\",\n    \"postinstall\": \"node scripts/postinstall.mjs\",\n    \"lint\": \"eslint .\",\n    \"lint-fix\": \"eslint . --fix\",\n    \"test\": \"vitest\",\n    \"type-check\": \"tsc --noEmit\"\n  },\n  \"devDependencies\": {\n    \"@remix-run/react\": \"^2.14.0\",\n    \"@sveltejs/kit\": \"^2.8.1\",\n    \"@swc/core\": \"^1.9.2\",\n    \"@testing-library/jest-dom\": \"^6.6.3\",\n    \"@testing-library/react\": \"^16.0.1\",\n    \"@types/node\": \"^22.9.1\",\n    \"@types/react\": \"^18.3.12\",\n    \"copyfiles\": \"^2.4.1\",\n    \"jsdom\": \"^25.0.1\",\n    \"next\": \"^14.0.4\",\n    \"react\": \"^18.3.1\",\n    \"react-dom\": \"^18.3.1\",\n    \"svelte\": \"^5.2.7\",\n    \"tsup\": \"8.3.5\",\n    \"vitest\": \"^2.1.5\",\n    \"vue\": \"^3.5.13\",\n    \"vue-router\": \"^4.4.5\"\n  },\n  \"peerDependencies\": {\n    \"@sveltejs/kit\": \"^1 || ^2\",\n    \"next\": \">= 13\",\n    \"react\": \"^18 || ^19 || ^19.0.0-rc\",\n    \"svelte\": \">= 4\",\n    \"vue\": \"^3\",\n    \"vue-router\": \"^4\"\n  },\n  \"peerDependenciesMeta\": {\n    \"@sveltejs/kit\": {\n      \"optional\": true\n    },\n    \"next\": {\n      \"optional\": true\n    },\n    \"react\": {\n      \"optional\": true\n    },\n    \"svelte\": {\n      \"optional\": true\n    },\n    \"vue\": {\n      \"optional\": true\n    },\n    \"vue-router\": {\n      \"optional\": true\n    }\n  }\n}\n","export const initQueue = (): void => {\n  // initialize va until script is loaded\n  if (window.si) return;\n\n  window.si = function a(...params): void {\n    (window.siq = window.siq || []).push(params);\n  };\n};\n","import type { SpeedInsightsProps } from './types';\n\nexport function isBrowser(): boolean {\n  return typeof window !== 'undefined';\n}\n\nfunction detectEnvironment(): 'development' | 'production' {\n  try {\n    const env = process.env.NODE_ENV;\n    if (env === 'development' || env === 'test') {\n      return 'development';\n    }\n  } catch (e) {\n    // do nothing, this is okay\n  }\n  return 'production';\n}\n\nexport function isProduction(): boolean {\n  return detectEnvironment() === 'production';\n}\n\nexport function isDevelopment(): boolean {\n  return detectEnvironment() === 'development';\n}\n\nexport function computeRoute(\n  pathname: string | null,\n  pathParams: Record<string, string | string[]> | null,\n): string | null {\n  if (!pathname || !pathParams) {\n    return pathname;\n  }\n\n  let result = pathname;\n  try {\n    const entries = Object.entries(pathParams);\n    // simple keys must be handled first\n    for (const [key, value] of entries) {\n      if (!Array.isArray(value)) {\n        const matcher = turnValueToRegExp(value);\n        if (matcher.test(result)) {\n          result = result.replace(matcher, `/[${key}]`);\n        }\n      }\n    }\n    // array values next\n    for (const [key, value] of entries) {\n      if (Array.isArray(value)) {\n        const matcher = turnValueToRegExp(value.join('/'));\n        if (matcher.test(result)) {\n          result = result.replace(matcher, `/[...${key}]`);\n        }\n      }\n    }\n    return result;\n  } catch (e) {\n    return pathname;\n  }\n}\n\nfunction turnValueToRegExp(value: string): RegExp {\n  return new RegExp(`/${escapeRegExp(value)}(?=[/?#]|$)`);\n}\n\nfunction escapeRegExp(string: string): string {\n  return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n}\n\nexport function getScriptSrc(\n  props: SpeedInsightsProps & { basePath?: string },\n): string {\n  if (props.scriptSrc) {\n    return props.scriptSrc;\n  }\n  if (isDevelopment()) {\n    return 'https://va.vercel-scripts.com/v1/speed-insights/script.debug.js';\n  }\n  if (props.dsn) {\n    return 'https://va.vercel-scripts.com/v1/speed-insights/script.js';\n  }\n  if (props.basePath) {\n    return `${props.basePath}/speed-insights/script.js`;\n  }\n  return '/_vercel/speed-insights/script.js';\n}\n","import { name as packageName, version } from '../package.json';\nimport { initQueue } from './queue';\nimport type { SpeedInsightsProps } from './types';\nimport { computeRoute, getScriptSrc, isBrowser, isDevelopment } from './utils';\n\n/**\n * Injects the Vercel Speed Insights script into the page head and starts tracking page views. Read more in our [documentation](https://vercel.com/docs/speed-insights).\n * @param [props] - Speed Insights options.\n * @param [props.debug] - Whether to enable debug logging in development. Defaults to `true`.\n * @param [props.beforeSend] - A middleware function to modify events before they are sent. Should return the event object or `null` to cancel the event.\n * @param [props.sampleRate] - When setting to 0.5, 50% of the events will be sent to Vercel Speed Insights. Defaults to `1`.\n * @param [props.route] - The dynamic route of the page.\n * @param [props.dsn] - The DSN of the project to send events to. Only required when self-hosting.\n */\nfunction injectSpeedInsights(\n  props: SpeedInsightsProps & {\n    framework?: string;\n    basePath?: string;\n  } = {},\n): {\n  setRoute: (route: string | null) => void;\n} | null {\n  // When route is null, it means that pages router is not ready yet. Will resolve soon\n  if (!isBrowser() || props.route === null) return null;\n\n  initQueue();\n\n  const src = getScriptSrc(props);\n\n  if (document.head.querySelector(`script[src*=\"${src}\"]`)) return null;\n\n  if (props.beforeSend) {\n    window.si?.('beforeSend', props.beforeSend);\n  }\n\n  const script = document.createElement('script');\n  script.src = src;\n  script.defer = true;\n  script.dataset.sdkn =\n    packageName + (props.framework ? `/${props.framework}` : '');\n  script.dataset.sdkv = version;\n\n  if (props.sampleRate) {\n    script.dataset.sampleRate = props.sampleRate.toString();\n  }\n  if (props.route) {\n    script.dataset.route = props.route;\n  }\n  if (props.endpoint) {\n    script.dataset.endpoint = props.endpoint;\n  } else if (props.basePath) {\n    script.dataset.endpoint = `${props.basePath}/speed-insights/vitals`;\n  }\n  if (props.dsn) {\n    script.dataset.dsn = props.dsn;\n  }\n  if (isDevelopment() && props.debug === false) {\n    script.dataset.debug = 'false';\n  }\n\n  script.onerror = (): void => {\n    // eslint-disable-next-line no-console -- Logging is okay here\n    console.log(\n      `[Vercel Speed Insights] Failed to load script from ${src}. Please check if any content blockers are enabled and try again.`,\n    );\n  };\n\n  document.head.appendChild(script);\n\n  return {\n    setRoute: (route: string | null): void => {\n      script.dataset.route = route ?? undefined;\n    },\n  };\n}\n\nexport { injectSpeedInsights, computeRoute };\nexport type { SpeedInsightsProps };\n\n// eslint-disable-next-line import/no-default-export -- Allow default export\nexport default {\n  injectSpeedInsights,\n  computeRoute,\n};\n","export function getBasePath(): string | undefined {\n  // !! important !!\n  // do not access env variables using process.env[varname]\n  // some bundles won't replace the value at build time.\n  // eslint-disable-next-line @typescript-eslint/prefer-optional-chain -- we can't use optionnal here, it'll break if process does not exist.\n  if (typeof process === 'undefined' || typeof process.env === 'undefined') {\n    return undefined;\n  }\n  return process.env.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH;\n}\n","'use client';\n/* eslint-disable @typescript-eslint/no-unnecessary-condition -- can be empty in pages router */\nimport { useParams, usePathname, useSearchParams } from 'next/navigation.js';\nimport { computeRoute } from '../utils';\n\nexport const useRoute = (): string | null => {\n  const params = useParams();\n  const searchParams = useSearchParams() || new URLSearchParams();\n  const path = usePathname();\n  // Until we have route parameters, we don't compute the route\n  if (!params) {\n    return null;\n  }\n  // in Next.js@13, useParams() could return an empty object for pages router, and we default to searchParams.\n  const finalParams = Object.keys(params).length\n    ? params\n    : Object.fromEntries(searchParams.entries());\n  return computeRoute(path, finalParams);\n};\n\nexport function getBasePath(): string | undefined {\n  // !! important !!\n  // do not access env variables using process.env[varname]\n  // some bundles won't replace the value at build time.\n  // eslint-disable-next-line @typescript-eslint/prefer-optional-chain -- we can't use optionnal here, it'll break if process does not exist.\n  if (typeof process === 'undefined' || typeof process.env === 'undefined') {\n    return undefined;\n  }\n  return process.env.NEXT_PUBLIC_VERCEL_OBSERVABILITY_BASEPATH;\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","vendored","React","ReactJsxRuntime","ReactDOM","AppRouterContext","HooksClientContext","ServerInsertedHtml","BailoutToCSRError","isBailoutToCSRError","BAILOUT_TO_CSR","Error","constructor","reason","digest","err","createPromiseWithResolvers","resolve","reject","promise","Promise","res","rej","DEFAULT_SEGMENT_KEY","PAGE_SEGMENT_KEY","addSearchParamsIfPageSegment","computeSelectedLayoutSegment","getSegmentValue","getSelectedLayoutSegmentPath","isGroupSegment","isParallelRouteSegment","segment","Array","isArray","endsWith","startsWith","searchParams","isPageSegment","includes","stringifiedQuery","JSON","stringify","segments","parallelRouteKey","length","rawSegment","tree","first","segmentPath","node","parallelRoutes","children","Object","values","segmentValue","push","HeadManagerContext","setAttributesFromProps","DOMAttributeNames","acceptCharset","className","htmlFor","httpEquiv","noModule","ignoreProps","isBooleanScriptAttribute","attr","el","props","p","value","entries","hasOwnProperty","undefined","toLowerCase","tagName","setAttribute","String","removeAttribute","cancelIdleCallback","requestIdleCallback","self","bind","window","cb","start","Date","now","setTimeout","didTimeout","timeRemaining","Math","max","id","clearTimeout","handleClientScriptLoad","initScriptLoader","ScriptCache","Map","LoadCache","Set","insertStylesheets","stylesheets","preinit","forEach","stylesheet","as","head","document","link","createElement","type","rel","href","appendChild","loadScript","src","onLoad","onReady","dangerouslySetInnerHTML","strategy","onError","cacheKey","has","add","get","then","afterLoad","loadPromise","addEventListener","e","call","catch","innerHTML","__html","textContent","join","set","body","loadLazyScript","readyState","addBeforeInteractiveToCache","scripts","querySelectorAll","script","getAttribute","scriptLoaderItems","Script","restProps","updateScripts","getIsSsr","appDir","nonce","useContext","hasOnReadyEffectCalled","useRef","useEffect","current","hasLoadScriptEffectCalled","concat","styleSrc","preload","integrity","crossOrigin","defineProperty","getBasePath","Analytics","SpeedInsights"],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,21,24]}