module.exports=[5339,a=>{"use strict";var b=a.i(861467),c=a.i(783281),d=a.i(337241),e=a.i(700760);a.i(445255);var f=a.i(18170);a.i(380934);var g=a.i(347421);a.i(288007);var h=a.i(986990);a.i(839984);var i=a.i(372712);a.i(458393);var j=a.i(82012);a.i(897346);var k=a.i(75892);a.i(245561);var l=a.i(453607);a.i(40744);var m=a.i(419573);a.i(21368);var n=a.i(341903),o=a.i(274956),p=a.i(48199),q=a.i(101482),r=a.i(262452),s=a.i(638446),t=a.i(779184),u=a.i(337850),v=a.i(283753),w=a.i(556253),x=a.i(394588),y=a.i(817889),z=a.i(688014),A=a.i(587969),B=a.i(232553),C=a.i(854729),D=a.i(158239),E=a.i(159957),F=a.i(624126),G=a.i(89626),H=a.i(396859),I=a.i(757844),J=a.i(527936),K=a.i(403269),K=K,L=a.i(362841),M=a.i(949747),N=a.i(976803),O=a.i(128952),P=a.i(898062),Q=a.i(789815),R=a.i(352424),S=a.i(916680);w.BarChart3,H.Gauge,z.TrendingUp,o.DollarSign,o.DollarSign,y.PieChart,K.default,I.Receipt,J.CreditCard,p.Briefcase,p.Briefcase,L.Wrench,N.Truck,M.Package,q.Users,r.UserCheck,G.Activity,o.DollarSign,R.Shield,E.Target,E.Target,z.TrendingUp,S.AlertTriangle,y.PieChart,O.MessageSquare,O.MessageSquare,Q.Mail,P.Phone,A.Calendar,A.Calendar,E.Target,F.Clock,v.Sparkles,v.Sparkles,x.LineChart,H.Gauge,o.DollarSign,p.Briefcase,r.UserCheck;let T=[{id:"financial",label:"Financial",icon:o.DollarSign,color:"bg-emerald-500"},{id:"operations",label:"Operations",icon:p.Briefcase,color:"bg-blue-500"},{id:"customers",label:"Customers",icon:q.Users,color:"bg-violet-500"},{id:"team",label:"Team",icon:r.UserCheck,color:"bg-amber-500"}],U={financial:[{id:"revenue",label:"Revenue",type:"currency"},{id:"profit",label:"Profit",type:"currency"},{id:"expenses",label:"Expenses",type:"currency"},{id:"avg_ticket",label:"Average Ticket",type:"currency"},{id:"collection_rate",label:"Collection Rate",type:"percentage"}],operations:[{id:"jobs_completed",label:"Jobs Completed",type:"number"},{id:"completion_rate",label:"Completion Rate",type:"percentage"},{id:"avg_job_duration",label:"Avg Job Duration",type:"duration"},{id:"first_time_fix",label:"First Time Fix Rate",type:"percentage"},{id:"callbacks",label:"Callbacks",type:"number"}],customers:[{id:"total_customers",label:"Total Customers",type:"number"},{id:"new_customers",label:"New Customers",type:"number"},{id:"retention_rate",label:"Retention Rate",type:"percentage"},{id:"avg_ltv",label:"Avg Lifetime Value",type:"currency"},{id:"churn_rate",label:"Churn Rate",type:"percentage"}],team:[{id:"tech_utilization",label:"Utilization Rate",type:"percentage"},{id:"revenue_per_tech",label:"Revenue per Tech",type:"currency"},{id:"jobs_per_tech",label:"Jobs per Tech",type:"number"},{id:"avg_rating",label:"Avg Customer Rating",type:"rating"},{id:"on_time_rate",label:"On-Time Rate",type:"percentage"}]},V=[{id:"line",label:"Line Chart",icon:x.LineChart,description:"Best for trends over time"},{id:"bar",label:"Bar Chart",icon:w.BarChart3,description:"Best for comparisons"},{id:"pie",label:"Pie Chart",icon:y.PieChart,description:"Best for distributions"},{id:"area",label:"Area Chart",icon:z.TrendingUp,description:"Best for cumulative data"}],W=[{id:"today",label:"Today",days:1},{id:"yesterday",label:"Yesterday",days:1},{id:"7d",label:"Last 7 Days",days:7},{id:"14d",label:"Last 2 Weeks",days:14},{id:"30d",label:"Last 30 Days",days:30},{id:"90d",label:"Last 90 Days",days:90},{id:"ytd",label:"Year to Date",days:0},{id:"1y",label:"Last 12 Months",days:365},{id:"custom",label:"Custom Range",days:0}],X=[{id:"category",title:"What do you want to see?",description:"Pick a category"},{id:"metrics",title:"What numbers matter?",description:"Choose your metrics"},{id:"filters",title:"Filter it down",description:"Set your date range and filters"},{id:"visualization",title:"How should it look?",description:"Pick your chart type"},{id:"save",title:"Name & Save",description:"Give your report a name"}];function Y(){let a=(0,d.useRouter)(),E=(0,D.useReportingStore)(a=>a.addCustomReport),[F,G]=(0,c.useState)("category"),[H,I]=(0,c.useState)(null),[J,K]=(0,c.useState)([]),[L,M]=(0,c.useState)("30d"),[N,O]=(0,c.useState)("line"),[P,Q]=(0,c.useState)(""),[R,S]=(0,c.useState)(""),[Y,Z]=(0,c.useState)(!0),$=X.findIndex(a=>a.id===F),_=($+1)/X.length*100,aa=()=>{switch(F){case"category":return null!==H;case"metrics":return J.length>0;case"filters":return""!==L;case"visualization":return""!==N;case"save":return""!==P.trim();default:return!0}},ab={financial:o.DollarSign,operations:p.Briefcase,customers:q.Users,team:r.UserCheck},ac={line:x.LineChart,bar:w.BarChart3,pie:y.PieChart,area:z.TrendingUp};return(0,b.jsxs)("div",{className:"mx-auto max-w-3xl space-y-8 p-6",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold",children:"Create Custom Report"}),(0,b.jsxs)("p",{className:"text-muted-foreground",children:["Step ",$+1," of ",X.length]})]}),(0,b.jsxs)(h.Badge,{variant:"outline",className:"gap-1",children:[(0,b.jsx)(v.Sparkles,{className:"h-3 w-3"}),"Report Builder"]})]}),(0,b.jsx)(l.Progress,{value:_,className:"h-2"}),(0,b.jsx)("div",{className:"flex justify-between text-xs text-muted-foreground",children:X.map((a,c)=>(0,b.jsx)("span",{className:(0,e.cn)("transition-colors",c<=$&&"text-primary font-medium"),children:a.title},a.id))})]}),(0,b.jsxs)(g.Card,{className:"min-h-[400px]",children:[(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsxs)(g.CardTitle,{className:"flex items-center gap-2 text-xl",children:["category"===F&&"What do you want to see?","metrics"===F&&"What numbers matter?","filters"===F&&"Filter it down","visualization"===F&&"How should it look?","save"===F&&"Name & Save"]}),(0,b.jsx)(g.CardDescription,{children:X.find(a=>a.id===F)?.description})]}),(0,b.jsxs)(g.CardContent,{children:["category"===F&&(0,b.jsx)("div",{className:"grid gap-4 sm:grid-cols-2",children:T.map(a=>{let c=ab[a.id]||p.Briefcase;return(0,b.jsxs)("button",{type:"button",onClick:()=>I(a.id),className:(0,e.cn)("flex flex-col items-center gap-3 rounded-xl border-2 p-6 text-center transition-all hover:border-primary/50 hover:bg-muted/50",H===a.id?"border-primary bg-primary/5":"border-border"),children:[(0,b.jsx)("div",{className:(0,e.cn)("flex h-16 w-16 items-center justify-center rounded-full",a.color),children:(0,b.jsx)(c,{className:"h-8 w-8 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold",children:a.label}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["financial"===a.id&&"Revenue, profit, expenses","operations"===a.id&&"Jobs, completion, efficiency","customers"===a.id&&"Retention, LTV, acquisition","team"===a.id&&"Utilization, performance, ratings"]})]}),H===a.id&&(0,b.jsx)(s.Check,{className:"h-5 w-5 text-primary"})]},a.id)})}),"metrics"===F&&H&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Click to select the metrics you want in your report. You can choose multiple."}),(0,b.jsx)("div",{className:"grid gap-2 sm:grid-cols-2",children:U[H]?.map(a=>(0,b.jsxs)("button",{type:"button",onClick:()=>{K(b=>b.includes(a.id)?b.filter(b=>b!==a.id):[...b,a.id])},className:(0,e.cn)("flex items-center gap-3 rounded-lg border-2 p-4 text-left transition-all",J.includes(a.id)?"border-primary bg-primary/5":"border-border hover:border-primary/50"),children:[(0,b.jsx)("div",{className:(0,e.cn)("flex h-8 w-8 items-center justify-center rounded-full",J.includes(a.id)?"bg-primary text-primary-foreground":"bg-muted"),children:J.includes(a.id)?(0,b.jsx)(s.Check,{className:"h-4 w-4"}):(0,b.jsxs)("span",{className:"text-xs font-bold",children:["currency"===a.type&&"$","percentage"===a.type&&"%","number"===a.type&&"#","duration"===a.type&&"⏱","rating"===a.type&&"★"]})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:a.label}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground capitalize",children:a.type})]})]},a.id))}),(0,b.jsxs)("div",{className:"mt-4 flex items-center gap-2 text-sm",children:[(0,b.jsxs)(h.Badge,{variant:"secondary",children:[J.length," selected"]}),J.length>0&&(0,b.jsx)(f.Button,{variant:"ghost",size:"sm",onClick:()=>K([]),children:"Clear all"})]})]}),"filters"===F&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(j.Label,{className:"text-base",children:"Date Range"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"What time period should this report cover?"}),(0,b.jsx)("div",{className:"grid gap-2 sm:grid-cols-3",children:W.slice(0,6).map(a=>(0,b.jsxs)("button",{type:"button",onClick:()=>M(a.id),className:(0,e.cn)("flex items-center gap-2 rounded-lg border-2 p-3 text-left transition-all",L===a.id?"border-primary bg-primary/5":"border-border hover:border-primary/50"),children:[(0,b.jsx)(A.Calendar,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)("span",{className:"font-medium",children:a.label}),L===a.id&&(0,b.jsx)(s.Check,{className:"ml-auto h-4 w-4 text-primary"})]},a.id))})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(j.Label,{className:"text-base",children:"Comparison (Optional)"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Compare against a previous period?"}),(0,b.jsxs)(m.Select,{defaultValue:"none",children:[(0,b.jsx)(m.SelectTrigger,{children:(0,b.jsx)(m.SelectValue,{placeholder:"Select comparison"})}),(0,b.jsxs)(m.SelectContent,{children:[(0,b.jsx)(m.SelectItem,{value:"none",children:"No comparison"}),(0,b.jsx)(m.SelectItem,{value:"previous",children:"Previous period"}),(0,b.jsx)(m.SelectItem,{value:"last_year",children:"Same period last year"})]})]})]})]}),"visualization"===F&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Pick how you want your data displayed."}),(0,b.jsx)("div",{className:"grid gap-4 sm:grid-cols-2",children:V.map(a=>{let c=ac[a.id]||x.LineChart;return(0,b.jsxs)("button",{type:"button",onClick:()=>O(a.id),className:(0,e.cn)("flex items-start gap-4 rounded-xl border-2 p-4 text-left transition-all",N===a.id?"border-primary bg-primary/5":"border-border hover:border-primary/50"),children:[(0,b.jsx)("div",{className:(0,e.cn)("flex h-12 w-12 items-center justify-center rounded-lg",N===a.id?"bg-primary text-primary-foreground":"bg-muted"),children:(0,b.jsx)(c,{className:"h-6 w-6"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold",children:a.label}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.description})]}),N===a.id&&(0,b.jsx)(s.Check,{className:"ml-auto h-5 w-5 text-primary"})]},a.id)})})]}),"save"===F&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(j.Label,{htmlFor:"reportName",className:"text-base",children:"Report Name *"}),(0,b.jsx)(i.Input,{id:"reportName",placeholder:"e.g., Monthly Revenue Summary",value:P,onChange:a=>Q(a.target.value),className:"text-lg"})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(j.Label,{htmlFor:"reportDescription",className:"text-base",children:"Description (Optional)"}),(0,b.jsx)(k.Textarea,{id:"reportDescription",placeholder:"What does this report show?",value:R,onChange:a=>S(a.target.value),rows:3})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 rounded-lg border bg-muted/30 p-4",children:[(0,b.jsx)(n.Checkbox,{id:"addToSidebar",checked:Y,onCheckedChange:a=>Z(a)}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{htmlFor:"addToSidebar",className:"cursor-pointer font-medium",children:"Add to sidebar"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Quick access from the reports sidebar"})]})]}),(0,b.jsxs)("div",{className:"rounded-lg border bg-card/50 p-4",children:[(0,b.jsx)("h4",{className:"mb-3 font-semibold",children:"Report Summary"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Category:"}),(0,b.jsx)("span",{className:"font-medium capitalize",children:H})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Metrics:"}),(0,b.jsxs)("span",{className:"font-medium",children:[J.length," selected"]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Date Range:"}),(0,b.jsx)("span",{className:"font-medium",children:W.find(a=>a.id===L)?.label})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Chart Type:"}),(0,b.jsx)("span",{className:"font-medium capitalize",children:N})]})]})]})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)(f.Button,{variant:"outline",onClick:()=>{let a=$-1;a>=0&&G(X[a].id)},disabled:0===$,children:[(0,b.jsx)(t.ChevronLeft,{className:"mr-2 h-4 w-4"}),"Back"]}),(0,b.jsx)("div",{className:"flex gap-2",children:"save"===F?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(f.Button,{variant:"outline",children:[(0,b.jsx)(C.Eye,{className:"mr-2 h-4 w-4"}),"Preview"]}),(0,b.jsxs)(f.Button,{onClick:()=>{let b=P.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");E({title:P,description:R||`Custom ${H} report`,href:`/dashboard/reports/custom/${b}`,filters:{category:H,metrics:J,dateRange:L,chartType:N}}),a.push("/dashboard/reports")},disabled:!aa(),children:[(0,b.jsx)(B.Save,{className:"mr-2 h-4 w-4"}),"Save Report"]})]}):(0,b.jsxs)(f.Button,{onClick:()=>{let a=$+1;a<X.length&&G(X[a].id)},disabled:!aa(),children:["Next",(0,b.jsx)(u.ChevronRight,{className:"ml-2 h-4 w-4"})]})})]})]})}a.s(["ReportBuilderWizard",()=>Y],5339)}];

//# sourceMappingURL=apps_web_src_components_reports_builder_report-builder-wizard_tsx_38fe1096._.js.map