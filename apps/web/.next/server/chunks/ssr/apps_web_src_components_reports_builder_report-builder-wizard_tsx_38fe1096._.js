module.exports=[5339,a=>{"use strict";var b=a.i(861467),c=a.i(556253),d=a.i(48199),e=a.i(587969),f=a.i(638446),g=a.i(779184),h=a.i(337850),i=a.i(274956),j=a.i(854729),k=a.i(394588),l=a.i(817889),m=a.i(232553),n=a.i(283753),o=a.i(688014),p=a.i(262452),q=a.i(101482),r=a.i(337241),s=a.i(783281);a.i(288007);var t=a.i(986990);a.i(445255);var u=a.i(18170);a.i(380934);var v=a.i(347421);a.i(21368);var w=a.i(341903);a.i(839984);var x=a.i(372712);a.i(458393);var y=a.i(82012);a.i(245561);var z=a.i(453607);a.i(40744);var A=a.i(419573);a.i(897346);var B=a.i(75892),C=a.i(89626),D=a.i(916680),E=a.i(624126),F=a.i(527936),G=a.i(396859),H=a.i(789815),I=a.i(128952),J=a.i(949747),K=a.i(898062),L=a.i(757844),M=a.i(352424),N=a.i(159957),O=a.i(976803),P=a.i(403269),P=P,Q=a.i(362841);c.BarChart3,G.Gauge,o.TrendingUp,i.DollarSign,i.DollarSign,l.PieChart,P.default,L.Receipt,F.CreditCard,d.Briefcase,d.Briefcase,Q.Wrench,O.Truck,J.Package,q.Users,p.UserCheck,C.Activity,i.DollarSign,M.Shield,N.Target,N.Target,o.TrendingUp,D.AlertTriangle,l.PieChart,I.MessageSquare,I.MessageSquare,H.Mail,K.Phone,e.Calendar,e.Calendar,N.Target,E.Clock,n.Sparkles,n.Sparkles,k.LineChart,G.Gauge,i.DollarSign,d.Briefcase,p.UserCheck;let R=[{id:"financial",label:"Financial",icon:i.DollarSign,color:"bg-emerald-500"},{id:"operations",label:"Operations",icon:d.Briefcase,color:"bg-blue-500"},{id:"customers",label:"Customers",icon:q.Users,color:"bg-violet-500"},{id:"team",label:"Team",icon:p.UserCheck,color:"bg-amber-500"}],S={financial:[{id:"revenue",label:"Revenue",type:"currency"},{id:"profit",label:"Profit",type:"currency"},{id:"expenses",label:"Expenses",type:"currency"},{id:"avg_ticket",label:"Average Ticket",type:"currency"},{id:"collection_rate",label:"Collection Rate",type:"percentage"}],operations:[{id:"jobs_completed",label:"Jobs Completed",type:"number"},{id:"completion_rate",label:"Completion Rate",type:"percentage"},{id:"avg_job_duration",label:"Avg Job Duration",type:"duration"},{id:"first_time_fix",label:"First Time Fix Rate",type:"percentage"},{id:"callbacks",label:"Callbacks",type:"number"}],customers:[{id:"total_customers",label:"Total Customers",type:"number"},{id:"new_customers",label:"New Customers",type:"number"},{id:"retention_rate",label:"Retention Rate",type:"percentage"},{id:"avg_ltv",label:"Avg Lifetime Value",type:"currency"},{id:"churn_rate",label:"Churn Rate",type:"percentage"}],team:[{id:"tech_utilization",label:"Utilization Rate",type:"percentage"},{id:"revenue_per_tech",label:"Revenue per Tech",type:"currency"},{id:"jobs_per_tech",label:"Jobs per Tech",type:"number"},{id:"avg_rating",label:"Avg Customer Rating",type:"rating"},{id:"on_time_rate",label:"On-Time Rate",type:"percentage"}]},T=[{id:"line",label:"Line Chart",icon:k.LineChart,description:"Best for trends over time"},{id:"bar",label:"Bar Chart",icon:c.BarChart3,description:"Best for comparisons"},{id:"pie",label:"Pie Chart",icon:l.PieChart,description:"Best for distributions"},{id:"area",label:"Area Chart",icon:o.TrendingUp,description:"Best for cumulative data"}],U=[{id:"today",label:"Today",days:1},{id:"yesterday",label:"Yesterday",days:1},{id:"7d",label:"Last 7 Days",days:7},{id:"14d",label:"Last 2 Weeks",days:14},{id:"30d",label:"Last 30 Days",days:30},{id:"90d",label:"Last 90 Days",days:90},{id:"ytd",label:"Year to Date",days:0},{id:"1y",label:"Last 12 Months",days:365},{id:"custom",label:"Custom Range",days:0}];var V=a.i(158239),W=a.i(700760);let X=[{id:"category",title:"What do you want to see?",description:"Pick a category"},{id:"metrics",title:"What numbers matter?",description:"Choose your metrics"},{id:"filters",title:"Filter it down",description:"Set your date range and filters"},{id:"visualization",title:"How should it look?",description:"Pick your chart type"},{id:"save",title:"Name & Save",description:"Give your report a name"}];function Y(){let a=(0,r.useRouter)(),C=(0,V.useReportingStore)(a=>a.addCustomReport),[D,E]=(0,s.useState)("category"),[F,G]=(0,s.useState)(null),[H,I]=(0,s.useState)([]),[J,K]=(0,s.useState)("30d"),[L,M]=(0,s.useState)("line"),[N,O]=(0,s.useState)(""),[P,Q]=(0,s.useState)(""),[Y,Z]=(0,s.useState)(!0),$=X.findIndex(a=>a.id===D),_=($+1)/X.length*100,aa=()=>{switch(D){case"category":return null!==F;case"metrics":return H.length>0;case"filters":return""!==J;case"visualization":return""!==L;case"save":return""!==N.trim();default:return!0}},ab={financial:i.DollarSign,operations:d.Briefcase,customers:q.Users,team:p.UserCheck},ac={line:k.LineChart,bar:c.BarChart3,pie:l.PieChart,area:o.TrendingUp};return(0,b.jsxs)("div",{className:"mx-auto max-w-3xl space-y-8 p-6",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold",children:"Create Custom Report"}),(0,b.jsxs)("p",{className:"text-muted-foreground",children:["Step ",$+1," of ",X.length]})]}),(0,b.jsxs)(t.Badge,{variant:"outline",className:"gap-1",children:[(0,b.jsx)(n.Sparkles,{className:"h-3 w-3"}),"Report Builder"]})]}),(0,b.jsx)(z.Progress,{value:_,className:"h-2"}),(0,b.jsx)("div",{className:"flex justify-between text-xs text-muted-foreground",children:X.map((a,c)=>(0,b.jsx)("span",{className:(0,W.cn)("transition-colors",c<=$&&"text-primary font-medium"),children:a.title},a.id))})]}),(0,b.jsxs)(v.Card,{className:"min-h-[400px]",children:[(0,b.jsxs)(v.CardHeader,{children:[(0,b.jsxs)(v.CardTitle,{className:"flex items-center gap-2 text-xl",children:["category"===D&&"What do you want to see?","metrics"===D&&"What numbers matter?","filters"===D&&"Filter it down","visualization"===D&&"How should it look?","save"===D&&"Name & Save"]}),(0,b.jsx)(v.CardDescription,{children:X.find(a=>a.id===D)?.description})]}),(0,b.jsxs)(v.CardContent,{children:["category"===D&&(0,b.jsx)("div",{className:"grid gap-4 sm:grid-cols-2",children:R.map(a=>{let c=ab[a.id]||d.Briefcase;return(0,b.jsxs)("button",{type:"button",onClick:()=>G(a.id),className:(0,W.cn)("flex flex-col items-center gap-3 rounded-xl border-2 p-6 text-center transition-all hover:border-primary/50 hover:bg-muted/50",F===a.id?"border-primary bg-primary/5":"border-border"),children:[(0,b.jsx)("div",{className:(0,W.cn)("flex h-16 w-16 items-center justify-center rounded-full",a.color),children:(0,b.jsx)(c,{className:"h-8 w-8 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-semibold",children:a.label}),(0,b.jsxs)("p",{className:"text-sm text-muted-foreground",children:["financial"===a.id&&"Revenue, profit, expenses","operations"===a.id&&"Jobs, completion, efficiency","customers"===a.id&&"Retention, LTV, acquisition","team"===a.id&&"Utilization, performance, ratings"]})]}),F===a.id&&(0,b.jsx)(f.Check,{className:"h-5 w-5 text-primary"})]},a.id)})}),"metrics"===D&&F&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Click to select the metrics you want in your report. You can choose multiple."}),(0,b.jsx)("div",{className:"grid gap-2 sm:grid-cols-2",children:S[F]?.map(a=>(0,b.jsxs)("button",{type:"button",onClick:()=>{I(b=>b.includes(a.id)?b.filter(b=>b!==a.id):[...b,a.id])},className:(0,W.cn)("flex items-center gap-3 rounded-lg border-2 p-4 text-left transition-all",H.includes(a.id)?"border-primary bg-primary/5":"border-border hover:border-primary/50"),children:[(0,b.jsx)("div",{className:(0,W.cn)("flex h-8 w-8 items-center justify-center rounded-full",H.includes(a.id)?"bg-primary text-primary-foreground":"bg-muted"),children:H.includes(a.id)?(0,b.jsx)(f.Check,{className:"h-4 w-4"}):(0,b.jsxs)("span",{className:"text-xs font-bold",children:["currency"===a.type&&"$","percentage"===a.type&&"%","number"===a.type&&"#","duration"===a.type&&"⏱","rating"===a.type&&"★"]})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium",children:a.label}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground capitalize",children:a.type})]})]},a.id))}),(0,b.jsxs)("div",{className:"mt-4 flex items-center gap-2 text-sm",children:[(0,b.jsxs)(t.Badge,{variant:"secondary",children:[H.length," selected"]}),H.length>0&&(0,b.jsx)(u.Button,{variant:"ghost",size:"sm",onClick:()=>I([]),children:"Clear all"})]})]}),"filters"===D&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(y.Label,{className:"text-base",children:"Date Range"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"What time period should this report cover?"}),(0,b.jsx)("div",{className:"grid gap-2 sm:grid-cols-3",children:U.slice(0,6).map(a=>(0,b.jsxs)("button",{type:"button",onClick:()=>K(a.id),className:(0,W.cn)("flex items-center gap-2 rounded-lg border-2 p-3 text-left transition-all",J===a.id?"border-primary bg-primary/5":"border-border hover:border-primary/50"),children:[(0,b.jsx)(e.Calendar,{className:"h-4 w-4 text-muted-foreground"}),(0,b.jsx)("span",{className:"font-medium",children:a.label}),J===a.id&&(0,b.jsx)(f.Check,{className:"ml-auto h-4 w-4 text-primary"})]},a.id))})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(y.Label,{className:"text-base",children:"Comparison (Optional)"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Compare against a previous period?"}),(0,b.jsxs)(A.Select,{defaultValue:"none",children:[(0,b.jsx)(A.SelectTrigger,{children:(0,b.jsx)(A.SelectValue,{placeholder:"Select comparison"})}),(0,b.jsxs)(A.SelectContent,{children:[(0,b.jsx)(A.SelectItem,{value:"none",children:"No comparison"}),(0,b.jsx)(A.SelectItem,{value:"previous",children:"Previous period"}),(0,b.jsx)(A.SelectItem,{value:"last_year",children:"Same period last year"})]})]})]})]}),"visualization"===D&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Pick how you want your data displayed."}),(0,b.jsx)("div",{className:"grid gap-4 sm:grid-cols-2",children:T.map(a=>{let c=ac[a.id]||k.LineChart;return(0,b.jsxs)("button",{type:"button",onClick:()=>M(a.id),className:(0,W.cn)("flex items-start gap-4 rounded-xl border-2 p-4 text-left transition-all",L===a.id?"border-primary bg-primary/5":"border-border hover:border-primary/50"),children:[(0,b.jsx)("div",{className:(0,W.cn)("flex h-12 w-12 items-center justify-center rounded-lg",L===a.id?"bg-primary text-primary-foreground":"bg-muted"),children:(0,b.jsx)(c,{className:"h-6 w-6"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold",children:a.label}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.description})]}),L===a.id&&(0,b.jsx)(f.Check,{className:"ml-auto h-5 w-5 text-primary"})]},a.id)})})]}),"save"===D&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(y.Label,{htmlFor:"reportName",className:"text-base",children:"Report Name *"}),(0,b.jsx)(x.Input,{id:"reportName",placeholder:"e.g., Monthly Revenue Summary",value:N,onChange:a=>O(a.target.value),className:"text-lg"})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(y.Label,{htmlFor:"reportDescription",className:"text-base",children:"Description (Optional)"}),(0,b.jsx)(B.Textarea,{id:"reportDescription",placeholder:"What does this report show?",value:P,onChange:a=>Q(a.target.value),rows:3})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3 rounded-lg border bg-muted/30 p-4",children:[(0,b.jsx)(w.Checkbox,{id:"addToSidebar",checked:Y,onCheckedChange:a=>Z(a)}),(0,b.jsxs)("div",{children:[(0,b.jsx)(y.Label,{htmlFor:"addToSidebar",className:"cursor-pointer font-medium",children:"Add to sidebar"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Quick access from the reports sidebar"})]})]}),(0,b.jsxs)("div",{className:"rounded-lg border bg-card/50 p-4",children:[(0,b.jsx)("h4",{className:"mb-3 font-semibold",children:"Report Summary"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Category:"}),(0,b.jsx)("span",{className:"font-medium capitalize",children:F})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Metrics:"}),(0,b.jsxs)("span",{className:"font-medium",children:[H.length," selected"]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Date Range:"}),(0,b.jsx)("span",{className:"font-medium",children:U.find(a=>a.id===J)?.label})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Chart Type:"}),(0,b.jsx)("span",{className:"font-medium capitalize",children:L})]})]})]})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)(u.Button,{variant:"outline",onClick:()=>{let a=$-1;a>=0&&E(X[a].id)},disabled:0===$,children:[(0,b.jsx)(g.ChevronLeft,{className:"mr-2 h-4 w-4"}),"Back"]}),(0,b.jsx)("div",{className:"flex gap-2",children:"save"===D?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(u.Button,{variant:"outline",children:[(0,b.jsx)(j.Eye,{className:"mr-2 h-4 w-4"}),"Preview"]}),(0,b.jsxs)(u.Button,{onClick:()=>{let b=N.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"");C({title:N,description:P||`Custom ${F} report`,href:`/dashboard/reports/custom/${b}`,filters:{category:F,metrics:H,dateRange:J,chartType:L}}),a.push("/dashboard/reports")},disabled:!aa(),children:[(0,b.jsx)(m.Save,{className:"mr-2 h-4 w-4"}),"Save Report"]})]}):(0,b.jsxs)(u.Button,{onClick:()=>{let a=$+1;a<X.length&&E(X[a].id)},disabled:!aa(),children:["Next",(0,b.jsx)(h.ChevronRight,{className:"ml-2 h-4 w-4"})]})})]})]})}a.s(["ReportBuilderWizard",()=>Y],5339)}];

//# sourceMappingURL=apps_web_src_components_reports_builder_report-builder-wizard_tsx_38fe1096._.js.map