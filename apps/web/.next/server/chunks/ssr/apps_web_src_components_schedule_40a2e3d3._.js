module.exports=[961367,a=>{"use strict";var b=a.i(861467),c=a.i(916680),d=a.i(90083),e=a.i(60222),f=a.i(779184),g=a.i(337850),h=a.i(412020),h=h,i=a.i(508399),j=a.i(352770),k=a.i(138382),l=a.i(856856),m=a.i(259515),m=m,n=a.i(483967),o=a.i(898062),p=a.i(217547),q=a.i(331418),q=q,r=a.i(362841),s=a.i(821278),t=a.i(337241),u=a.i(783281);a.i(445255);var v=a.i(18170);a.i(297229);var w=a.i(489904);a.i(146697);var x=a.i(778737);a.i(156120);var y=a.i(864889);a.i(928414);var z=a.i(745250),A=a.i(563491),B=a.i(700760);let C=[{label:"Emergency / Urgent",description:"High priority service calls",icon:c.AlertTriangle,borderClass:"border-l-red-400 dark:border-l-red-700",dotClass:"bg-red-500"},{label:"Callback / Follow Up",description:"Return visits & follow-ups",icon:o.Phone,borderClass:"border-l-orange-400 dark:border-l-orange-700",dotClass:"bg-orange-500"},{label:"Meetings / Events",description:"Training & team events",icon:e.CalendarDays,borderClass:"border-l-purple-400 dark:border-l-purple-700",dotClass:"bg-purple-500"},{label:"Install / New Work",description:"New installations & setups",icon:q.default,borderClass:"border-l-green-400 dark:border-l-green-700",dotClass:"bg-green-500"},{label:"Service / Maintenance",description:"Regular service calls",icon:r.Wrench,borderClass:"border-l-blue-400 dark:border-l-blue-700",dotClass:"bg-blue-500"},{label:"Standard / Other",description:"General appointments",icon:h.default,borderClass:"border-l-slate-300 dark:border-l-slate-700",dotClass:"bg-slate-400"}],D=[{label:"Scheduled",description:"Job is booked",color:"bg-blue-500",step:1},{label:"Dispatched",description:"Tech en route",color:"bg-sky-500",step:2},{label:"Arrived",description:"Tech on site",color:"bg-emerald-400",step:3},{label:"In Progress",description:"Work started",color:"bg-amber-500",step:4,pulse:!0},{label:"Closed",description:"Work complete",color:"bg-emerald-600",step:5}],E=[{keys:["T"],description:"Go to Today"},{keys:["N"],description:"New Job"},{keys:["["],description:"Previous Period"},{keys:["]"],description:"Next Period"},{keys:["1"],description:"Timeline View"},{keys:["2"],description:"Monthly View"},{keys:["3"],description:"Kanban View"}];function F(){let[a,c]=(0,u.useState)(!1),h=(0,t.usePathname)(),o=(0,t.useRouter)(),{goToToday:q,navigatePrevious:r,navigateNext:F,viewMode:G,setViewMode:H}=(0,A.useScheduleViewStore)(),I="/dashboard/schedule/dispatch-map"===h;return((0,u.useEffect)(()=>{I&&"map"!==G?H("map"):I||"map"!==G||H("day")},[I,G,H]),(0,u.useEffect)(()=>{c(!0)},[]),a)?(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[!I&&(0,b.jsx)(v.Button,{onClick:q,size:"sm",variant:"outline",children:"Today"}),(0,b.jsx)(z.TooltipProvider,{children:(0,b.jsxs)(y.ToggleGroup,{className:"border",onValueChange:a=>{a&&("map"===a?(H("map"),o.push("/dashboard/schedule/dispatch-map")):(I&&o.push("/dashboard/schedule"),H(a)))},size:"sm",type:"single",value:G,children:[(0,b.jsxs)(z.Tooltip,{children:[(0,b.jsx)(z.TooltipTrigger,{asChild:!0,children:(0,b.jsx)(y.ToggleGroupItem,{"aria-label":"Timeline view",value:"day",children:(0,b.jsx)(i.Columns3,{className:"size-4"})})}),(0,b.jsx)(z.TooltipContent,{children:(0,b.jsx)("p",{children:"Timeline View"})})]}),(0,b.jsxs)(z.Tooltip,{children:[(0,b.jsx)(z.TooltipTrigger,{asChild:!0,children:(0,b.jsx)(y.ToggleGroupItem,{"aria-label":"Monthly view",value:"month",children:(0,b.jsx)(e.CalendarDays,{className:"size-4"})})}),(0,b.jsx)(z.TooltipContent,{children:(0,b.jsx)("p",{children:"Monthly Calendar"})})]}),(0,b.jsxs)(z.Tooltip,{children:[(0,b.jsx)(z.TooltipTrigger,{asChild:!0,children:(0,b.jsx)(y.ToggleGroupItem,{"aria-label":"Kanban view",value:"week",children:(0,b.jsx)(l.LayoutGrid,{className:"size-4"})})}),(0,b.jsx)(z.TooltipContent,{children:(0,b.jsx)("p",{children:"Status Board"})})]}),(0,b.jsxs)(z.Tooltip,{children:[(0,b.jsx)(z.TooltipTrigger,{asChild:!0,children:(0,b.jsx)(y.ToggleGroupItem,{"aria-label":"Map view",value:"map",children:(0,b.jsx)(m.default,{className:"size-4"})})}),(0,b.jsx)(z.TooltipContent,{children:(0,b.jsx)("p",{children:"Dispatch Map"})})]})]})}),!I&&(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)(v.Button,{onClick:r,size:"icon",variant:"ghost",children:(0,b.jsx)(f.ChevronLeft,{className:"size-4"})}),(0,b.jsx)(v.Button,{onClick:F,size:"icon",variant:"ghost",children:(0,b.jsx)(g.ChevronRight,{className:"size-4"})})]}),!I&&(0,b.jsxs)(w.Popover,{children:[(0,b.jsx)(w.PopoverTrigger,{asChild:!0,children:(0,b.jsx)(v.Button,{"aria-label":"Show schedule legend",size:"icon",variant:"ghost",children:(0,b.jsx)(j.HelpCircle,{className:"size-4"})})}),(0,b.jsxs)(w.PopoverContent,{align:"end",className:"w-80 p-0",children:[(0,b.jsx)("div",{className:"border-b px-4 py-3",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"bg-primary/10 flex size-8 items-center justify-center rounded-md",children:(0,b.jsx)(n.Palette,{className:"text-primary size-4"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-sm font-semibold",children:"Schedule Guide"}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:"Colors, statuses & shortcuts"})]})]})}),(0,b.jsxs)("div",{className:"max-h-[400px] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsxs)("div",{className:"mb-3 flex items-center gap-2",children:[(0,b.jsx)(s.Zap,{className:"text-muted-foreground size-3.5"}),(0,b.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wide",children:"Job Types"})]}),(0,b.jsx)("div",{className:"space-y-2",children:C.map(a=>{let c=a.icon;return(0,b.jsxs)("div",{className:(0,B.cn)("flex items-center gap-3 rounded-lg border-l-4 bg-card/50 px-3 py-2",a.borderClass),children:[(0,b.jsx)("div",{className:"bg-muted flex size-7 shrink-0 items-center justify-center rounded-md",children:(0,b.jsx)(c,{className:"text-muted-foreground size-3.5"})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-sm font-medium truncate",children:a.label}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs truncate",children:a.description})]})]},a.label)})})]}),(0,b.jsx)(x.Separator,{}),(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsxs)("div",{className:"mb-3 flex items-center gap-2",children:[(0,b.jsx)(d.ArrowRight,{className:"text-muted-foreground size-3.5"}),(0,b.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wide",children:"Status Workflow"})]}),(0,b.jsx)("div",{className:"mb-3",children:(0,b.jsx)("div",{className:"flex items-center justify-between gap-1",children:D.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center flex-1",children:[(0,b.jsx)("div",{className:(0,B.cn)("h-1.5 flex-1 rounded-full",a.color,a.pulse&&"animate-pulse")}),c<D.length-1&&(0,b.jsx)(d.ArrowRight,{className:"text-muted-foreground mx-0.5 size-2.5 shrink-0"})]},a.label))})}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[D.map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-2 rounded-md px-2 py-1.5",children:[(0,b.jsx)("span",{className:(0,B.cn)("size-2.5 rounded-full shrink-0",a.color,a.pulse&&"animate-pulse")}),(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)("p",{className:"text-xs font-medium",children:a.label}),(0,b.jsx)("p",{className:"text-muted-foreground text-[10px] truncate",children:a.description})]})]},a.label)),(0,b.jsxs)("div",{className:"flex items-center gap-2 rounded-md px-2 py-1.5",children:[(0,b.jsx)("span",{className:"bg-slate-400 size-2.5 rounded-full shrink-0"}),(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsx)("p",{className:"text-xs font-medium",children:"Cancelled"}),(0,b.jsx)("p",{className:"text-muted-foreground text-[10px]",children:"Job cancelled"})]})]})]})]}),(0,b.jsx)(x.Separator,{}),(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsxs)("div",{className:"mb-3 flex items-center gap-2",children:[(0,b.jsx)(p.Repeat,{className:"text-muted-foreground size-3.5"}),(0,b.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wide",children:"Special Indicators"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"bg-card/50 flex items-center gap-3 rounded-lg border px-3 py-2",children:[(0,b.jsx)(p.Repeat,{className:"text-primary size-4 shrink-0"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-medium",children:"Recurring Job"}),(0,b.jsx)("p",{className:"text-muted-foreground text-[10px]",children:"Repeats on a schedule"})]})]}),(0,b.jsxs)("div",{className:"bg-card/50 flex items-center gap-3 rounded-lg border px-3 py-2",children:[(0,b.jsxs)("div",{className:"flex -space-x-1",children:[(0,b.jsx)("div",{className:"bg-primary size-4 rounded-full border-2 border-background"}),(0,b.jsx)("div",{className:"bg-emerald-500 size-4 rounded-full border-2 border-background"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-medium",children:"Multi-Tech Job"}),(0,b.jsx)("p",{className:"text-muted-foreground text-[10px]",children:"Multiple technicians assigned"})]})]})]})]}),(0,b.jsx)(x.Separator,{}),(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsxs)("div",{className:"mb-3 flex items-center gap-2",children:[(0,b.jsx)(k.Keyboard,{className:"text-muted-foreground size-3.5"}),(0,b.jsx)("span",{className:"text-xs font-semibold uppercase tracking-wide",children:"Keyboard Shortcuts"})]}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1.5",children:E.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground text-xs",children:a.description}),(0,b.jsx)("div",{className:"flex gap-0.5",children:a.keys.map(a=>(0,b.jsx)("kbd",{className:"bg-muted text-muted-foreground rounded px-1.5 py-0.5 font-mono text-[10px]",children:a},a))})]},a.description))})]})]})]})]})]}):(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"bg-muted h-8 w-8 rounded-md"}),(0,b.jsx)("div",{className:"bg-muted h-8 w-20 rounded-md"}),(0,b.jsx)("div",{className:"bg-muted h-8 w-32 rounded-md"}),(0,b.jsx)("div",{className:"bg-muted h-8 w-10 rounded-md"})]})}a.s(["ScheduleToolbarActions",()=>F],961367)},342461,a=>{"use strict";var b=a.i(861467),c=a.i(665791),d=a.i(912288),e=a.i(556232),f=a.i(773608),g=a.i(696922),h=a.i(238221),i=a.i(766153),j=a.i(624126),k=a.i(283753),l=a.i(783281);a.i(445255);var m=a.i(18170);a.i(708402);var n=a.i(876067);a.i(297229);var o=a.i(489904);a.i(146697);var p=a.i(778737),q=a.i(563491),r=a.i(700760);function s(){let a,[s,t]=(0,l.useState)(!1),[u,v]=(0,l.useState)(!1),{currentDate:w,setCurrentDate:x,viewMode:y}=(0,q.useScheduleViewStore)();(0,l.useEffect)(()=>{t(!0)},[]);let z=w instanceof Date?w:new Date(w),A=(a=new Date,"month"===y?[{label:"This Month",date:a},{label:"Next Month",date:(0,d.addMonths)(a,1)},{label:"In 2 Months",date:(0,d.addMonths)(a,2)}]:"week"===y?[{label:"This Week",date:(0,h.startOfWeek)(a)},{label:"Next Week",date:(0,e.addWeeks)(a,1)},{label:"In 2 Weeks",date:(0,e.addWeeks)(a,2)}]:[{label:"Today",date:a},{label:"Tomorrow",date:(0,c.addDays)(a,1)},{label:"Next Week",date:(0,e.addWeeks)(a,1)}]),B=(0,g.isToday)(z);return s?(0,b.jsxs)(o.Popover,{open:u,onOpenChange:v,children:[(0,b.jsx)(o.PopoverTrigger,{asChild:!0,children:(0,b.jsxs)("button",{className:(0,r.cn)("group flex items-center gap-2 rounded-md px-2 py-1.5 transition-colors","hover:bg-accent/50"),type:"button",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-foreground text-xl font-semibold tracking-tight",children:(()=>{switch(y){case"month":return(0,f.format)(z,"MMMM yyyy");case"week":return(0,f.format)(z,"MMM dd, yyyy");default:return(0,f.format)(z,"EEEE, MMMM dd, yyyy")}})()}),B&&(0,b.jsx)("span",{className:"bg-primary/10 text-primary rounded-full px-2 py-0.5 text-[10px] font-medium uppercase tracking-wide",children:"Today"})]}),(0,b.jsx)(i.ChevronDown,{className:(0,r.cn)("text-muted-foreground size-4 transition-transform",u&&"rotate-180")})]})}),(0,b.jsxs)(o.PopoverContent,{align:"start",className:"w-auto p-0",children:[(0,b.jsxs)("div",{className:"border-b p-3",children:[(0,b.jsxs)("div",{className:"mb-2 flex items-center gap-2",children:[(0,b.jsx)(k.Sparkles,{className:"text-primary size-3.5"}),(0,b.jsx)("span",{className:"text-xs font-medium",children:"Quick Jump"})]}),(0,b.jsx)("div",{className:"flex gap-1.5",children:A.map(a=>(0,b.jsx)(m.Button,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>{x(a.date),v(!1)},children:a.label},a.label))})]}),(0,b.jsx)(n.Calendar,{initialFocus:!0,mode:"single",onSelect:a=>{a&&(x(a),v(!1))},selected:z,className:"p-3",modifiers:{today:new Date},modifiersClassNames:{today:"bg-primary text-primary-foreground"}}),(0,b.jsx)(p.Separator,{}),(0,b.jsxs)("div",{className:"flex items-center justify-between px-3 py-2",children:[(0,b.jsxs)("div",{className:"text-muted-foreground flex items-center gap-1.5 text-xs",children:[(0,b.jsx)(j.Clock,{className:"size-3"}),(0,b.jsxs)("span",{children:["Current time: ",(0,f.format)(new Date,"h:mm a")]})]}),(0,b.jsx)(m.Button,{size:"sm",variant:"ghost",className:"h-6 text-xs",onClick:()=>{x(new Date),v(!1)},children:"Go to now"})]})]})]}):(0,b.jsx)("div",{className:"bg-muted h-8 w-[220px] rounded-md"})}a.s(["ScheduleToolbarTitle",()=>s])}];

//# sourceMappingURL=apps_web_src_components_schedule_40a2e3d3._.js.map