module.exports=[426653,948560,a=>{"use strict";var b=a.i(861467),c=a.i(638727),d=a.i(145679),e=a.i(114692);a.i(156120);var f=a.i(18170),g=a.i(994201),g=g,h=a.i(220578),i=a.i(783281);a.i(445255),a.i(928414);var j=a.i(745250),k=a.i(764479),l=a.i(700760);function m({section:a,className:c,disabledModes:d}){let e,m=(0,k.useWorkView)(a),n=(0,k.useSetWorkView)(a),o=(0,i.useCallback)(a=>()=>n(a),[n]),p=a=>d?.[a]?.reason!==void 0;return(0,b.jsx)(j.TooltipProvider,{children:(0,b.jsxs)("div",{className:(0,l.cn)("border-border/60 bg-background/80 flex h-7 items-center gap-0.5 rounded-md border p-0.5",c),children:[(0,b.jsxs)(j.Tooltip,{delayDuration:150,children:[(0,b.jsx)(j.TooltipTrigger,{asChild:!0,children:(0,b.jsxs)(f.Button,{"aria-pressed":"table"===m,className:(0,l.cn)("h-6 w-7 p-0","table"===m&&"bg-accent"),onClick:o("table"),size:"sm",type:"button",variant:"ghost",children:[(0,b.jsx)(h.List,{className:"size-3.5"}),(0,b.jsx)("span",{className:"sr-only",children:"Table view"})]})}),(0,b.jsx)(j.TooltipContent,{children:"Table view"})]}),(0,b.jsxs)(j.Tooltip,{delayDuration:150,children:[(0,b.jsx)(j.TooltipTrigger,{asChild:!0,children:(0,b.jsxs)(f.Button,{"aria-pressed":"kanban"===m,className:(0,l.cn)("h-6 w-7 p-0","kanban"===m&&"bg-accent",p("kanban")&&"opacity-60"),disabled:p("kanban"),onClick:o("kanban"),size:"sm",type:"button",variant:"ghost",children:[(0,b.jsx)(g.default,{className:"size-3.5"}),(0,b.jsx)("span",{className:"sr-only",children:"Kanban view"})]})}),(0,b.jsx)(j.TooltipContent,{children:(e="kanban",d?.[e]?.reason??"Kanban board")})]})]})})}function n({viewSwitcherSection:a,primaryAction:g,importExportDataType:h,children:i,beforePrimaryAction:j,afterPrimaryAction:k}){return(0,b.jsxs)("div",{className:"flex items-center gap-1.5",children:[a&&(0,b.jsx)(m,{section:a}),j,g&&(0,b.jsx)(f.Button,{asChild:!0,className:"font-medium",size:"sm",variant:"default",children:(0,b.jsxs)(d.default,{href:g.href,children:[g.icon||(0,b.jsx)(c.Plus,{className:"size-4"}),(0,b.jsx)("span",{children:g.label})]})}),k,h&&(0,b.jsx)(e.ImportExportDropdownLazy,{dataType:h}),i]})}a.s(["BaseToolbarActions",()=>n],426653);var o=a.i(245742),o=o,p=a.i(854729),q=a.i(723507),r=a.i(339632),s=a.i(90125),t=a.i(341903),u=a.i(417132),v=a.i(372712),w=a.i(82012),x=a.i(419573),y=a.i(382281),z=a.i(826815),A=a.i(354894);function B({open:a,onOpenChange:c,entity:d}){let e=(0,A.useCustomColumnsStore)(a=>a.addColumn),g={appointments:[{path:"appointment_number",label:"Appointment Number",type:"string",recommended:"text"},{path:"title",label:"Title",type:"string",recommended:"text"},{path:"description",label:"Description",type:"string",recommended:"text"},{path:"status",label:"Status",type:"string",recommended:"badge"},{path:"priority",label:"Priority",type:"string",recommended:"badge"},{path:"type",label:"Type",type:"string",recommended:"badge"},{path:"scheduled_start",label:"Scheduled Start",type:"date",recommended:"date"},{path:"scheduled_end",label:"Scheduled End",type:"date",recommended:"date"},{path:"actual_start",label:"Actual Start",type:"date",recommended:"date"},{path:"actual_end",label:"Actual End",type:"date",recommended:"date"},{path:"duration_minutes",label:"Duration (minutes)",type:"number",recommended:"number"},{path:"travel_time_minutes",label:"Travel Time (minutes)",type:"number",recommended:"number"},{path:"confirmation_sent",label:"Confirmation Sent",type:"boolean",recommended:"badge"},{path:"reminder_sent",label:"Reminder Sent",type:"boolean",recommended:"badge"},{path:"cancellation_reason",label:"Cancellation Reason",type:"string",recommended:"text"},{path:"notes",label:"Notes",type:"string",recommended:"text"},{path:"created_at",label:"Created At",type:"date",recommended:"date"},{path:"updated_at",label:"Updated At",type:"date",recommended:"date"},{path:"customer.first_name",label:"Customer First Name",type:"relation",recommended:"text"},{path:"customer.last_name",label:"Customer Last Name",type:"relation",recommended:"text"},{path:"customer.email",label:"Customer Email",type:"relation",recommended:"text"},{path:"customer.phone",label:"Customer Phone",type:"relation",recommended:"text"},{path:"customer.company_name",label:"Customer Company",type:"relation",recommended:"text"},{path:"assigned_user.name",label:"Assigned Technician",type:"relation",recommended:"text"},{path:"assigned_user.email",label:"Technician Email",type:"relation",recommended:"text"},{path:"property.address",label:"Property Address",type:"relation",recommended:"text"},{path:"property.city",label:"Property City",type:"relation",recommended:"text"},{path:"property.state",label:"Property State",type:"relation",recommended:"text"},{path:"property.zip_code",label:"Property Zip",type:"relation",recommended:"text"},{path:"job.job_number",label:"Job Number",type:"relation",recommended:"text"},{path:"job.title",label:"Job Title",type:"relation",recommended:"text"},{path:"job.status",label:"Job Status",type:"relation",recommended:"badge"}],jobs:[{path:"job_number",label:"Job Number",type:"string"},{path:"title",label:"Title",type:"string"},{path:"description",label:"Description",type:"string",recommended:"text"},{path:"status",label:"Status",type:"string",recommended:"badge"},{path:"priority",label:"Priority",type:"string",recommended:"badge"},{path:"job_type",label:"Job Type",type:"string",recommended:"badge"},{path:"scheduled_start",label:"Scheduled Start",type:"date",recommended:"date"},{path:"scheduled_end",label:"Scheduled End",type:"date",recommended:"date"},{path:"actual_start",label:"Actual Start",type:"date",recommended:"date"},{path:"actual_end",label:"Actual End",type:"date",recommended:"date"},{path:"total_cost",label:"Total Cost",type:"number",recommended:"currency"},{path:"labor_cost",label:"Labor Cost",type:"number",recommended:"currency"},{path:"material_cost",label:"Material Cost",type:"number",recommended:"currency"},{path:"customer.first_name",label:"Customer First Name",type:"relation"},{path:"customer.last_name",label:"Customer Last Name",type:"relation"},{path:"customer.email",label:"Customer Email",type:"relation"},{path:"customer.phone",label:"Customer Phone",type:"relation"},{path:"property.address",label:"Property Address",type:"relation"},{path:"property.city",label:"Property City",type:"relation"},{path:"property.state",label:"Property State",type:"relation"},{path:"created_at",label:"Created At",type:"date",recommended:"date"},{path:"updated_at",label:"Updated At",type:"date",recommended:"date"}],customers:[{path:"first_name",label:"First Name",type:"string"},{path:"last_name",label:"Last Name",type:"string"},{path:"display_name",label:"Display Name",type:"string"},{path:"email",label:"Email",type:"string"},{path:"phone",label:"Phone",type:"string"},{path:"company_name",label:"Company Name",type:"string"},{path:"customer_type",label:"Type",type:"string"},{path:"status",label:"Status",type:"string",recommended:"badge"},{path:"address",label:"Address",type:"string"},{path:"city",label:"City",type:"string"},{path:"state",label:"State",type:"string"},{path:"zip_code",label:"Zip Code",type:"string"},{path:"created_at",label:"Created At",type:"date",recommended:"date"},{path:"updated_at",label:"Updated At",type:"date",recommended:"date"}],invoices:[{path:"invoice_number",label:"Invoice Number",type:"string"},{path:"status",label:"Status",type:"string",recommended:"badge"},{path:"issue_date",label:"Issue Date",type:"date",recommended:"date"},{path:"due_date",label:"Due Date",type:"date",recommended:"date"},{path:"subtotal",label:"Subtotal",type:"number",recommended:"currency"},{path:"tax_amount",label:"Tax Amount",type:"number",recommended:"currency"},{path:"total_amount",label:"Total Amount",type:"number",recommended:"currency"},{path:"balance_due",label:"Balance Due",type:"number",recommended:"currency"},{path:"customer.first_name",label:"Customer First Name",type:"relation"},{path:"customer.last_name",label:"Customer Last Name",type:"relation"},{path:"customer.email",label:"Customer Email",type:"relation"},{path:"created_at",label:"Created At",type:"date",recommended:"date"}],equipment:[{path:"equipment_number",label:"Equipment Number",type:"string"},{path:"name",label:"Name",type:"string"},{path:"type",label:"Type",type:"string",recommended:"badge"},{path:"manufacturer",label:"Manufacturer",type:"string"},{path:"model",label:"Model",type:"string"},{path:"serial_number",label:"Serial Number",type:"string"},{path:"category",label:"Category",type:"string"},{path:"location",label:"Location",type:"string"},{path:"status",label:"Status",type:"string",recommended:"badge"},{path:"install_date",label:"Install Date",type:"date",recommended:"date"},{path:"warranty_expires",label:"Warranty Expires",type:"date",recommended:"date"},{path:"customer.first_name",label:"Customer First Name",type:"relation"},{path:"customer.last_name",label:"Customer Last Name",type:"relation"},{path:"property.address",label:"Property Address",type:"relation"},{path:"created_at",label:"Created At",type:"date",recommended:"date"}]}[d]||[],[h,j]=(0,i.useState)(null),[k,l]=(0,i.useState)(""),[m,n]=(0,i.useState)("auto"),[o,p]=(0,i.useState)("text"),[q,r]=(0,i.useState)(!0);return(0,b.jsx)(u.Dialog,{onOpenChange:c,open:a,children:(0,b.jsxs)(u.DialogContent,{className:"sm:max-w-2xl",children:[(0,b.jsxs)(u.DialogHeader,{children:[(0,b.jsx)(u.DialogTitle,{children:"Add Custom Column"}),(0,b.jsx)(u.DialogDescription,{children:"Select a database field to add as a custom column to your table. The column will appear after existing columns."})]}),(0,b.jsxs)("div",{className:"space-y-4 py-4",children:[(0,b.jsx)(y.StandardFormField,{label:"Database Field",htmlFor:"field",children:(0,b.jsxs)(x.Select,{onValueChange:a=>{let b=g.find(b=>b.path===a);b&&(j(b),l(b.label),p(b.recommended||"text"))},value:h?.path||"",children:[(0,b.jsx)(x.SelectTrigger,{className:"w-full",id:"field",children:(0,b.jsx)(x.SelectValue,{placeholder:"Select a field..."})}),(0,b.jsx)(x.SelectContent,{className:"max-h-[300px]",children:g.map(a=>(0,b.jsxs)(x.SelectItem,{value:a.path,children:[a.label," ",(0,b.jsxs)("span",{className:"text-muted-foreground text-xs",children:["(",a.path,")"]})]},a.path))})]})}),(0,b.jsx)(y.StandardFormField,{label:"Column Label",htmlFor:"label",children:(0,b.jsx)(v.Input,{id:"label",onChange:a=>l(a.target.value),placeholder:"Enter column label...",value:k})}),(0,b.jsx)(y.StandardFormField,{label:"Column Width",htmlFor:"width",children:(0,b.jsxs)(x.Select,{onValueChange:n,value:m,children:[(0,b.jsx)(x.SelectTrigger,{id:"width",children:(0,b.jsx)(x.SelectValue,{})}),(0,b.jsxs)(x.SelectContent,{children:[(0,b.jsx)(x.SelectItem,{value:"auto",children:"Auto (Flexible)"}),(0,b.jsx)(x.SelectItem,{value:"sm",children:"Small (128px)"}),(0,b.jsx)(x.SelectItem,{value:"md",children:"Medium (192px)"}),(0,b.jsx)(x.SelectItem,{value:"lg",children:"Large (256px)"}),(0,b.jsx)(x.SelectItem,{value:"xl",children:"X-Large (384px)"})]})]})}),(0,b.jsx)(y.StandardFormField,{label:"Format",htmlFor:"format",children:(0,b.jsxs)(x.Select,{onValueChange:a=>p(a),value:o,children:[(0,b.jsx)(x.SelectTrigger,{id:"format",children:(0,b.jsx)(x.SelectValue,{})}),(0,b.jsxs)(x.SelectContent,{children:[(0,b.jsx)(x.SelectItem,{value:"text",children:"Text"}),(0,b.jsx)(x.SelectItem,{value:"date",children:"Date/Time"}),(0,b.jsx)(x.SelectItem,{value:"currency",children:"Currency"}),(0,b.jsx)(x.SelectItem,{value:"number",children:"Number"}),(0,b.jsx)(x.SelectItem,{value:"badge",children:"Badge"})]})]})}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(t.Checkbox,{checked:q,id:"sortable",onCheckedChange:a=>r(!0===a)}),(0,b.jsx)(w.Label,{className:"cursor-pointer text-sm font-normal",htmlFor:"sortable",children:"Enable sorting for this column"})]}),h&&(0,b.jsxs)("div",{className:"bg-muted/30 space-y-2 rounded-lg border p-4",children:[(0,b.jsx)(w.Label,{children:"Preview"}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"text-muted-foreground text-xs font-semibold",children:[k||h.label,":"]}),(0,b.jsx)("div",{children:(0,z.renderCustomColumn)({string:"Sample Text",number:12345,date:"2024-01-15T10:30:00.000Z",boolean:!0,relation:"Related Value"},h.type,o)})]})]})]}),(0,b.jsxs)(u.DialogFooter,{children:[(0,b.jsx)(f.Button,{onClick:()=>c(!1),variant:"outline",children:"Cancel"}),(0,b.jsx)(f.Button,{disabled:!(h&&k.trim()),onClick:()=>{h&&(e(d,{id:`custom-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,fieldPath:h.path,label:k,width:m,format:o,sortable:q}),j(null),l(""),n("auto"),p("text"),r(!0),c(!1))},children:"Add Column"})]})]})})}var C=a.i(729630);function D({entity:a,columns:d,criticalColumns:e=[],trigger:g}){let[h,j]=(0,i.useState)(!1),[k,l]=(0,i.useState)(!1);(0,i.useEffect)(()=>{j(!0)},[]);let m=(0,C.useDataTableColumnsStore)(a=>a.isColumnVisible),n=(0,C.useDataTableColumnsStore)(a=>a.toggleColumn),t=(0,C.useDataTableColumnsStore)(a=>a.showAllColumns),u=(0,C.useDataTableColumnsStore)(a=>a.hideAllColumns),v=(0,C.useDataTableColumnsStore)(a=>a.resetEntity),w=(0,C.useDataTableColumnsStore)(b=>a?b.entities[a]:null),x=(0,A.useCustomColumnsStore)(a=>a.columns),y=(0,A.useCustomColumnsStore)(a=>a.removeColumn),z=(0,i.useMemo)(()=>x[a]||[],[x,a]),D=(0,i.useMemo)(()=>d.filter(b=>m(a,b.key)).length,[d,a,m]),E=D===d.length,F=0===D;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(s.DropdownMenu,{children:[(0,b.jsx)(s.DropdownMenuTrigger,{asChild:!0,children:g||(0,b.jsxs)(f.Button,{size:"sm",variant:"outline",children:[(0,b.jsx)(o.default,{className:"mr-2 h-4 w-4"}),"Columns",h&&D<d.length&&(0,b.jsxs)("span",{className:"text-muted-foreground ml-1.5 text-xs",children:["(",D,"/",d.length,")"]})]})}),(0,b.jsxs)(s.DropdownMenuContent,{align:"end",className:"w-64",children:[(0,b.jsxs)(s.DropdownMenuLabel,{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{children:"Optional Columns"}),h&&d.length>0&&(0,b.jsxs)("span",{className:"text-muted-foreground text-xs font-normal",children:[D,"/",d.length]})]}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1 text-xs leading-tight font-normal",children:"Critical columns are always visible"})]}),(0,b.jsx)(s.DropdownMenuSeparator,{}),(0,b.jsx)("div",{className:"px-2 py-1",children:(0,b.jsxs)(f.Button,{className:"w-full justify-start text-xs",onClick:()=>l(!0),size:"sm",variant:"outline",children:[(0,b.jsx)(c.Plus,{className:"mr-2 h-3.5 w-3.5"}),"Add Custom Column"]})}),(0,b.jsx)(s.DropdownMenuSeparator,{}),d.length>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-1 px-2 py-1",children:[(0,b.jsxs)(f.Button,{className:"h-7 text-xs",disabled:E,onClick:()=>t(a,d.map(a=>a.key)),size:"sm",variant:"ghost",children:[(0,b.jsx)(p.Eye,{className:"mr-1.5 h-3 w-3"}),"Show All"]}),(0,b.jsxs)(f.Button,{className:"h-7 text-xs",disabled:F,onClick:()=>u(a,d.map(a=>a.key)),size:"sm",variant:"ghost",children:[(0,b.jsx)(q.EyeOff,{className:"mr-1.5 h-3 w-3"}),"Hide All"]})]}),(0,b.jsx)("div",{className:"px-2 pb-1",children:(0,b.jsx)(f.Button,{className:"h-7 w-full text-xs",onClick:()=>{v(a),t(a,d.map(a=>a.key))},size:"sm",variant:"ghost",children:"Reset to Default"})}),(0,b.jsx)(s.DropdownMenuSeparator,{})]}),e.length>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"px-2 py-2",children:[(0,b.jsx)("div",{className:"text-muted-foreground mb-2 text-xs font-medium",children:"Always Visible (Critical)"}),e.map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-2 rounded-sm px-2 py-1.5 text-sm",children:[(0,b.jsx)("div",{className:"border-primary bg-primary flex h-4 w-4 items-center justify-center rounded-sm border",children:(0,b.jsx)("svg",{className:"text-primary-foreground h-3 w-3",fill:"none",stroke:"currentColor",strokeWidth:3,viewBox:"0 0 24 24",children:(0,b.jsx)("path",{d:"M5 13l4 4L19 7",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,b.jsx)("span",{className:"text-sm font-medium",children:a.label}),(0,b.jsx)("span",{className:"text-muted-foreground ml-auto text-xs",children:"Always"})]},a.key))]}),(0,b.jsx)(s.DropdownMenuSeparator,{})]}),0===d.length&&0===e.length&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"text-muted-foreground px-2 py-3 text-center text-xs",children:"No columns available to customize."}),(0,b.jsx)(s.DropdownMenuSeparator,{})]}),d.length>0&&(0,b.jsxs)(b.Fragment,{children:[e.length>0&&(0,b.jsx)("div",{className:"text-muted-foreground px-2 pt-1 pb-2 text-xs font-medium",children:"Optional Columns"}),(0,b.jsxs)("div",{className:"max-h-[300px] overflow-y-auto",children:[h&&d.map(c=>{let d=w?.[c.key]??!0;return(0,b.jsx)(s.DropdownMenuCheckboxItem,{checked:d,className:"cursor-pointer",onCheckedChange:()=>n(a,c.key),children:(0,b.jsx)("span",{className:d?"font-medium":"text-muted-foreground",children:c.label})},`${c.key}-${d}`)}),z&&z.length>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(s.DropdownMenuSeparator,{}),(0,b.jsx)(s.DropdownMenuLabel,{className:"text-muted-foreground text-xs",children:"Custom Columns"}),h&&z.map(c=>{let d=w?.[c.id]??!0;return(0,b.jsxs)("div",{className:"group relative",children:[(0,b.jsx)(s.DropdownMenuCheckboxItem,{checked:d,className:"cursor-pointer pr-8",onCheckedChange:()=>n(a,c.id),children:(0,b.jsx)("span",{className:d?"font-medium":"text-muted-foreground",children:c.label})}),(0,b.jsx)(f.Button,{className:"absolute top-1/2 right-2 h-5 w-5 -translate-y-1/2 opacity-0 transition-opacity group-hover:opacity-100",onClick:b=>{b.stopPropagation(),y(a,c.id)},size:"icon",variant:"ghost",children:(0,b.jsx)(r.Trash2,{className:"text-destructive h-3 w-3"})})]},`${c.id}-${d}`)})]})]})]})]})]}),(0,b.jsx)(B,{entity:a,onOpenChange:l,open:k})]})}a.s(["ColumnVisibilityMenu",()=>D],948560)}];

//# sourceMappingURL=apps_web_src_components_ui_base-toolbar-actions_tsx_d40b6261._.js.map