module.exports=[426653,948560,a=>{"use strict";var b=a.i(861467);a.i(156120);var c=a.i(18170),d=a.i(638727),e=a.i(145679),f=a.i(114692),g=a.i(994201),g=g,h=a.i(220578),i=a.i(783281);a.i(445255),a.i(928414);var j=a.i(745250),k=a.i(764479),l=a.i(700760);function m({section:a,className:d,disabledModes:e}){let f,m=(0,k.useWorkView)(a),n=(0,k.useSetWorkView)(a),o=(0,i.useCallback)(a=>()=>n(a),[n]),p=a=>e?.[a]?.reason!==void 0;return(0,b.jsx)(j.TooltipProvider,{children:(0,b.jsxs)("div",{className:(0,l.cn)("border-border/60 bg-background/80 flex h-7 items-center gap-0.5 rounded-md border p-0.5",d),children:[(0,b.jsxs)(j.Tooltip,{delayDuration:150,children:[(0,b.jsx)(j.TooltipTrigger,{asChild:!0,children:(0,b.jsxs)(c.Button,{"aria-pressed":"table"===m,className:(0,l.cn)("h-6 w-7 p-0","table"===m&&"bg-accent"),onClick:o("table"),size:"sm",type:"button",variant:"ghost",children:[(0,b.jsx)(h.List,{className:"size-3.5"}),(0,b.jsx)("span",{className:"sr-only",children:"Table view"})]})}),(0,b.jsx)(j.TooltipContent,{children:"Table view"})]}),(0,b.jsxs)(j.Tooltip,{delayDuration:150,children:[(0,b.jsx)(j.TooltipTrigger,{asChild:!0,children:(0,b.jsxs)(c.Button,{"aria-pressed":"kanban"===m,className:(0,l.cn)("h-6 w-7 p-0","kanban"===m&&"bg-accent",p("kanban")&&"opacity-60"),disabled:p("kanban"),onClick:o("kanban"),size:"sm",type:"button",variant:"ghost",children:[(0,b.jsx)(g.default,{className:"size-3.5"}),(0,b.jsx)("span",{className:"sr-only",children:"Kanban view"})]})}),(0,b.jsx)(j.TooltipContent,{children:(f="kanban",e?.[f]?.reason??"Kanban board")})]})]})})}function n({viewSwitcherSection:a,primaryAction:g,importExportDataType:h,children:i,beforePrimaryAction:j,afterPrimaryAction:k}){return(0,b.jsxs)("div",{className:"flex items-center gap-1.5",children:[a&&(0,b.jsx)(m,{section:a}),j,g&&(0,b.jsx)(c.Button,{asChild:!0,className:"font-medium",size:"sm",variant:"default",children:(0,b.jsxs)(e.default,{href:g.href,children:[g.icon||(0,b.jsx)(d.Plus,{className:"size-4"}),(0,b.jsx)("span",{children:g.label})]})}),k,h&&(0,b.jsx)(f.ImportExportDropdownLazy,{dataType:h}),i]})}a.s(["BaseToolbarActions",()=>n],426653);var o=a.i(90125),p=a.i(245742),p=p,q=a.i(854729),r=a.i(723507),s=a.i(339632),t=a.i(354894),u=a.i(729630),v=a.i(341903),w=a.i(417132),x=a.i(372712),y=a.i(82012),z=a.i(419573),A=a.i(826815),B=a.i(382281);function C({open:a,onOpenChange:d,entity:e}){let f=(0,t.useCustomColumnsStore)(a=>a.addColumn),g={appointments:[{path:"appointment_number",label:"Appointment Number",type:"string",recommended:"text"},{path:"title",label:"Title",type:"string",recommended:"text"},{path:"description",label:"Description",type:"string",recommended:"text"},{path:"status",label:"Status",type:"string",recommended:"badge"},{path:"priority",label:"Priority",type:"string",recommended:"badge"},{path:"type",label:"Type",type:"string",recommended:"badge"},{path:"scheduled_start",label:"Scheduled Start",type:"date",recommended:"date"},{path:"scheduled_end",label:"Scheduled End",type:"date",recommended:"date"},{path:"actual_start",label:"Actual Start",type:"date",recommended:"date"},{path:"actual_end",label:"Actual End",type:"date",recommended:"date"},{path:"duration_minutes",label:"Duration (minutes)",type:"number",recommended:"number"},{path:"travel_time_minutes",label:"Travel Time (minutes)",type:"number",recommended:"number"},{path:"confirmation_sent",label:"Confirmation Sent",type:"boolean",recommended:"badge"},{path:"reminder_sent",label:"Reminder Sent",type:"boolean",recommended:"badge"},{path:"cancellation_reason",label:"Cancellation Reason",type:"string",recommended:"text"},{path:"notes",label:"Notes",type:"string",recommended:"text"},{path:"created_at",label:"Created At",type:"date",recommended:"date"},{path:"updated_at",label:"Updated At",type:"date",recommended:"date"},{path:"customer.first_name",label:"Customer First Name",type:"relation",recommended:"text"},{path:"customer.last_name",label:"Customer Last Name",type:"relation",recommended:"text"},{path:"customer.email",label:"Customer Email",type:"relation",recommended:"text"},{path:"customer.phone",label:"Customer Phone",type:"relation",recommended:"text"},{path:"customer.company_name",label:"Customer Company",type:"relation",recommended:"text"},{path:"assigned_user.name",label:"Assigned Technician",type:"relation",recommended:"text"},{path:"assigned_user.email",label:"Technician Email",type:"relation",recommended:"text"},{path:"property.address",label:"Property Address",type:"relation",recommended:"text"},{path:"property.city",label:"Property City",type:"relation",recommended:"text"},{path:"property.state",label:"Property State",type:"relation",recommended:"text"},{path:"property.zip_code",label:"Property Zip",type:"relation",recommended:"text"},{path:"job.job_number",label:"Job Number",type:"relation",recommended:"text"},{path:"job.title",label:"Job Title",type:"relation",recommended:"text"},{path:"job.status",label:"Job Status",type:"relation",recommended:"badge"}],jobs:[{path:"job_number",label:"Job Number",type:"string"},{path:"title",label:"Title",type:"string"},{path:"description",label:"Description",type:"string",recommended:"text"},{path:"status",label:"Status",type:"string",recommended:"badge"},{path:"priority",label:"Priority",type:"string",recommended:"badge"},{path:"job_type",label:"Job Type",type:"string",recommended:"badge"},{path:"scheduled_start",label:"Scheduled Start",type:"date",recommended:"date"},{path:"scheduled_end",label:"Scheduled End",type:"date",recommended:"date"},{path:"actual_start",label:"Actual Start",type:"date",recommended:"date"},{path:"actual_end",label:"Actual End",type:"date",recommended:"date"},{path:"total_cost",label:"Total Cost",type:"number",recommended:"currency"},{path:"labor_cost",label:"Labor Cost",type:"number",recommended:"currency"},{path:"material_cost",label:"Material Cost",type:"number",recommended:"currency"},{path:"customer.first_name",label:"Customer First Name",type:"relation"},{path:"customer.last_name",label:"Customer Last Name",type:"relation"},{path:"customer.email",label:"Customer Email",type:"relation"},{path:"customer.phone",label:"Customer Phone",type:"relation"},{path:"property.address",label:"Property Address",type:"relation"},{path:"property.city",label:"Property City",type:"relation"},{path:"property.state",label:"Property State",type:"relation"},{path:"created_at",label:"Created At",type:"date",recommended:"date"},{path:"updated_at",label:"Updated At",type:"date",recommended:"date"}],customers:[{path:"first_name",label:"First Name",type:"string"},{path:"last_name",label:"Last Name",type:"string"},{path:"display_name",label:"Display Name",type:"string"},{path:"email",label:"Email",type:"string"},{path:"phone",label:"Phone",type:"string"},{path:"company_name",label:"Company Name",type:"string"},{path:"customer_type",label:"Type",type:"string"},{path:"status",label:"Status",type:"string",recommended:"badge"},{path:"address",label:"Address",type:"string"},{path:"city",label:"City",type:"string"},{path:"state",label:"State",type:"string"},{path:"zip_code",label:"Zip Code",type:"string"},{path:"created_at",label:"Created At",type:"date",recommended:"date"},{path:"updated_at",label:"Updated At",type:"date",recommended:"date"}],invoices:[{path:"invoice_number",label:"Invoice Number",type:"string"},{path:"status",label:"Status",type:"string",recommended:"badge"},{path:"issue_date",label:"Issue Date",type:"date",recommended:"date"},{path:"due_date",label:"Due Date",type:"date",recommended:"date"},{path:"subtotal",label:"Subtotal",type:"number",recommended:"currency"},{path:"tax_amount",label:"Tax Amount",type:"number",recommended:"currency"},{path:"total_amount",label:"Total Amount",type:"number",recommended:"currency"},{path:"balance_due",label:"Balance Due",type:"number",recommended:"currency"},{path:"customer.first_name",label:"Customer First Name",type:"relation"},{path:"customer.last_name",label:"Customer Last Name",type:"relation"},{path:"customer.email",label:"Customer Email",type:"relation"},{path:"created_at",label:"Created At",type:"date",recommended:"date"}],equipment:[{path:"equipment_number",label:"Equipment Number",type:"string"},{path:"name",label:"Name",type:"string"},{path:"type",label:"Type",type:"string",recommended:"badge"},{path:"manufacturer",label:"Manufacturer",type:"string"},{path:"model",label:"Model",type:"string"},{path:"serial_number",label:"Serial Number",type:"string"},{path:"category",label:"Category",type:"string"},{path:"location",label:"Location",type:"string"},{path:"status",label:"Status",type:"string",recommended:"badge"},{path:"install_date",label:"Install Date",type:"date",recommended:"date"},{path:"warranty_expires",label:"Warranty Expires",type:"date",recommended:"date"},{path:"customer.first_name",label:"Customer First Name",type:"relation"},{path:"customer.last_name",label:"Customer Last Name",type:"relation"},{path:"property.address",label:"Property Address",type:"relation"},{path:"created_at",label:"Created At",type:"date",recommended:"date"}]}[e]||[],[h,j]=(0,i.useState)(null),[k,l]=(0,i.useState)(""),[m,n]=(0,i.useState)("auto"),[o,p]=(0,i.useState)("text"),[q,r]=(0,i.useState)(!0);return(0,b.jsx)(w.Dialog,{onOpenChange:d,open:a,children:(0,b.jsxs)(w.DialogContent,{className:"sm:max-w-2xl",children:[(0,b.jsxs)(w.DialogHeader,{children:[(0,b.jsx)(w.DialogTitle,{children:"Add Custom Column"}),(0,b.jsx)(w.DialogDescription,{children:"Select a database field to add as a custom column to your table. The column will appear after existing columns."})]}),(0,b.jsxs)("div",{className:"space-y-4 py-4",children:[(0,b.jsx)(B.StandardFormField,{label:"Database Field",htmlFor:"field",children:(0,b.jsxs)(z.Select,{onValueChange:a=>{let b=g.find(b=>b.path===a);b&&(j(b),l(b.label),p(b.recommended||"text"))},value:h?.path||"",children:[(0,b.jsx)(z.SelectTrigger,{className:"w-full",id:"field",children:(0,b.jsx)(z.SelectValue,{placeholder:"Select a field..."})}),(0,b.jsx)(z.SelectContent,{className:"max-h-[300px]",children:g.map(a=>(0,b.jsxs)(z.SelectItem,{value:a.path,children:[a.label," ",(0,b.jsxs)("span",{className:"text-muted-foreground text-xs",children:["(",a.path,")"]})]},a.path))})]})}),(0,b.jsx)(B.StandardFormField,{label:"Column Label",htmlFor:"label",children:(0,b.jsx)(x.Input,{id:"label",onChange:a=>l(a.target.value),placeholder:"Enter column label...",value:k})}),(0,b.jsx)(B.StandardFormField,{label:"Column Width",htmlFor:"width",children:(0,b.jsxs)(z.Select,{onValueChange:n,value:m,children:[(0,b.jsx)(z.SelectTrigger,{id:"width",children:(0,b.jsx)(z.SelectValue,{})}),(0,b.jsxs)(z.SelectContent,{children:[(0,b.jsx)(z.SelectItem,{value:"auto",children:"Auto (Flexible)"}),(0,b.jsx)(z.SelectItem,{value:"sm",children:"Small (128px)"}),(0,b.jsx)(z.SelectItem,{value:"md",children:"Medium (192px)"}),(0,b.jsx)(z.SelectItem,{value:"lg",children:"Large (256px)"}),(0,b.jsx)(z.SelectItem,{value:"xl",children:"X-Large (384px)"})]})]})}),(0,b.jsx)(B.StandardFormField,{label:"Format",htmlFor:"format",children:(0,b.jsxs)(z.Select,{onValueChange:a=>p(a),value:o,children:[(0,b.jsx)(z.SelectTrigger,{id:"format",children:(0,b.jsx)(z.SelectValue,{})}),(0,b.jsxs)(z.SelectContent,{children:[(0,b.jsx)(z.SelectItem,{value:"text",children:"Text"}),(0,b.jsx)(z.SelectItem,{value:"date",children:"Date/Time"}),(0,b.jsx)(z.SelectItem,{value:"currency",children:"Currency"}),(0,b.jsx)(z.SelectItem,{value:"number",children:"Number"}),(0,b.jsx)(z.SelectItem,{value:"badge",children:"Badge"})]})]})}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(v.Checkbox,{checked:q,id:"sortable",onCheckedChange:a=>r(!0===a)}),(0,b.jsx)(y.Label,{className:"cursor-pointer text-sm font-normal",htmlFor:"sortable",children:"Enable sorting for this column"})]}),h&&(0,b.jsxs)("div",{className:"bg-muted/30 space-y-2 rounded-lg border p-4",children:[(0,b.jsx)(y.Label,{children:"Preview"}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"text-muted-foreground text-xs font-semibold",children:[k||h.label,":"]}),(0,b.jsx)("div",{children:(0,A.renderCustomColumn)({string:"Sample Text",number:12345,date:"2024-01-15T10:30:00.000Z",boolean:!0,relation:"Related Value"},h.type,o)})]})]})]}),(0,b.jsxs)(w.DialogFooter,{children:[(0,b.jsx)(c.Button,{onClick:()=>d(!1),variant:"outline",children:"Cancel"}),(0,b.jsx)(c.Button,{disabled:!(h&&k.trim()),onClick:()=>{h&&(f(e,{id:`custom-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,fieldPath:h.path,label:k,width:m,format:o,sortable:q}),j(null),l(""),n("auto"),p("text"),r(!0),d(!1))},children:"Add Column"})]})]})})}function D({entity:a,columns:e,criticalColumns:f=[],trigger:g}){let[h,j]=(0,i.useState)(!1),[k,l]=(0,i.useState)(!1);(0,i.useEffect)(()=>{j(!0)},[]);let m=(0,u.useDataTableColumnsStore)(a=>a.isColumnVisible),n=(0,u.useDataTableColumnsStore)(a=>a.toggleColumn),v=(0,u.useDataTableColumnsStore)(a=>a.showAllColumns),w=(0,u.useDataTableColumnsStore)(a=>a.hideAllColumns),x=(0,u.useDataTableColumnsStore)(a=>a.resetEntity),y=(0,u.useDataTableColumnsStore)(b=>a?b.entities[a]:null),z=(0,t.useCustomColumnsStore)(a=>a.columns),A=(0,t.useCustomColumnsStore)(a=>a.removeColumn),B=(0,i.useMemo)(()=>z[a]||[],[z,a]),D=(0,i.useMemo)(()=>e.filter(b=>m(a,b.key)).length,[e,a,m]),E=D===e.length,F=0===D;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(o.DropdownMenu,{children:[(0,b.jsx)(o.DropdownMenuTrigger,{asChild:!0,children:g||(0,b.jsxs)(c.Button,{size:"sm",variant:"outline",children:[(0,b.jsx)(p.default,{className:"mr-2 h-4 w-4"}),"Columns",h&&D<e.length&&(0,b.jsxs)("span",{className:"text-muted-foreground ml-1.5 text-xs",children:["(",D,"/",e.length,")"]})]})}),(0,b.jsxs)(o.DropdownMenuContent,{align:"end",className:"w-64",children:[(0,b.jsxs)(o.DropdownMenuLabel,{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{children:"Optional Columns"}),h&&e.length>0&&(0,b.jsxs)("span",{className:"text-muted-foreground text-xs font-normal",children:[D,"/",e.length]})]}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1 text-xs leading-tight font-normal",children:"Critical columns are always visible"})]}),(0,b.jsx)(o.DropdownMenuSeparator,{}),(0,b.jsx)("div",{className:"px-2 py-1",children:(0,b.jsxs)(c.Button,{className:"w-full justify-start text-xs",onClick:()=>l(!0),size:"sm",variant:"outline",children:[(0,b.jsx)(d.Plus,{className:"mr-2 h-3.5 w-3.5"}),"Add Custom Column"]})}),(0,b.jsx)(o.DropdownMenuSeparator,{}),e.length>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-1 px-2 py-1",children:[(0,b.jsxs)(c.Button,{className:"h-7 text-xs",disabled:E,onClick:()=>v(a,e.map(a=>a.key)),size:"sm",variant:"ghost",children:[(0,b.jsx)(q.Eye,{className:"mr-1.5 h-3 w-3"}),"Show All"]}),(0,b.jsxs)(c.Button,{className:"h-7 text-xs",disabled:F,onClick:()=>w(a,e.map(a=>a.key)),size:"sm",variant:"ghost",children:[(0,b.jsx)(r.EyeOff,{className:"mr-1.5 h-3 w-3"}),"Hide All"]})]}),(0,b.jsx)("div",{className:"px-2 pb-1",children:(0,b.jsx)(c.Button,{className:"h-7 w-full text-xs",onClick:()=>{x(a),v(a,e.map(a=>a.key))},size:"sm",variant:"ghost",children:"Reset to Default"})}),(0,b.jsx)(o.DropdownMenuSeparator,{})]}),f.length>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"px-2 py-2",children:[(0,b.jsx)("div",{className:"text-muted-foreground mb-2 text-xs font-medium",children:"Always Visible (Critical)"}),f.map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-2 rounded-sm px-2 py-1.5 text-sm",children:[(0,b.jsx)("div",{className:"border-primary bg-primary flex h-4 w-4 items-center justify-center rounded-sm border",children:(0,b.jsx)("svg",{className:"text-primary-foreground h-3 w-3",fill:"none",stroke:"currentColor",strokeWidth:3,viewBox:"0 0 24 24",children:(0,b.jsx)("path",{d:"M5 13l4 4L19 7",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,b.jsx)("span",{className:"text-sm font-medium",children:a.label}),(0,b.jsx)("span",{className:"text-muted-foreground ml-auto text-xs",children:"Always"})]},a.key))]}),(0,b.jsx)(o.DropdownMenuSeparator,{})]}),0===e.length&&0===f.length&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"text-muted-foreground px-2 py-3 text-center text-xs",children:"No columns available to customize."}),(0,b.jsx)(o.DropdownMenuSeparator,{})]}),e.length>0&&(0,b.jsxs)(b.Fragment,{children:[f.length>0&&(0,b.jsx)("div",{className:"text-muted-foreground px-2 pt-1 pb-2 text-xs font-medium",children:"Optional Columns"}),(0,b.jsxs)("div",{className:"max-h-[300px] overflow-y-auto",children:[h&&e.map(c=>{let d=y?.[c.key]??!0;return(0,b.jsx)(o.DropdownMenuCheckboxItem,{checked:d,className:"cursor-pointer",onCheckedChange:()=>n(a,c.key),children:(0,b.jsx)("span",{className:d?"font-medium":"text-muted-foreground",children:c.label})},`${c.key}-${d}`)}),B&&B.length>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(o.DropdownMenuSeparator,{}),(0,b.jsx)(o.DropdownMenuLabel,{className:"text-muted-foreground text-xs",children:"Custom Columns"}),h&&B.map(d=>{let e=y?.[d.id]??!0;return(0,b.jsxs)("div",{className:"group relative",children:[(0,b.jsx)(o.DropdownMenuCheckboxItem,{checked:e,className:"cursor-pointer pr-8",onCheckedChange:()=>n(a,d.id),children:(0,b.jsx)("span",{className:e?"font-medium":"text-muted-foreground",children:d.label})}),(0,b.jsx)(c.Button,{className:"absolute top-1/2 right-2 h-5 w-5 -translate-y-1/2 opacity-0 transition-opacity group-hover:opacity-100",onClick:b=>{b.stopPropagation(),A(a,d.id)},size:"icon",variant:"ghost",children:(0,b.jsx)(s.Trash2,{className:"text-destructive h-3 w-3"})})]},`${d.id}-${e}`)})]})]})]})]})]}),(0,b.jsx)(C,{entity:a,onOpenChange:l,open:k})]})}a.s(["ColumnVisibilityMenu",()=>D],948560)}];

//# sourceMappingURL=apps_web_src_components_ui_base-toolbar-actions_tsx_d40b6261._.js.map