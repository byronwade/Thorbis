module.exports=[314969,a=>{"use strict";var b=a.i(861467),c=a.i(97997),d=a.i(96250),e=a.i(624126),f=a.i(988253),g=a.i(332284),h=a.i(638727),i=a.i(339632),j=a.i(783281);a.i(445255);var k=a.i(18170);a.i(380934);var l=a.i(347421);a.i(458393);var m=a.i(82012);a.i(40744);var n=a.i(419573),o=a.i(382281);a.i(650756);var p=a.i(560450),q=a.i(700760);let r=Array.from({length:96},(a,b)=>{let c=Math.floor(b/4),d=b%4*15,e=`${c.toString().padStart(2,"0")}:${d.toString().padStart(2,"0")}`,f=c%12||12,g=c<12?"AM":"PM";return{value:e,label:`${f}:${d.toString().padStart(2,"0")} ${g}`}}),s=[{value:"America/New_York",label:"Eastern Time (ET)"},{value:"America/Chicago",label:"Central Time (CT)"},{value:"America/Denver",label:"Mountain Time (MT)"},{value:"America/Los_Angeles",label:"Pacific Time (PT)"},{value:"America/Anchorage",label:"Alaska Time (AKT)"},{value:"Pacific/Honolulu",label:"Hawaii Time (HT)"}],t=[{name:"Standard (9 AM - 5 PM)",hours:{start:"09:00",end:"17:00"}},{name:"Extended (8 AM - 6 PM)",hours:{start:"08:00",end:"18:00"}},{name:"Early Bird (7 AM - 3 PM)",hours:{start:"07:00",end:"15:00"}},{name:"24/7",hours:{start:"00:00",end:"23:59"}}],u=[{dayOfWeek:0,dayName:"Sunday",isOpen:!1,timeRanges:[]},{dayOfWeek:1,dayName:"Monday",isOpen:!0,timeRanges:[{id:"1",startTime:"09:00",endTime:"17:00"}]},{dayOfWeek:2,dayName:"Tuesday",isOpen:!0,timeRanges:[{id:"2",startTime:"09:00",endTime:"17:00"}]},{dayOfWeek:3,dayName:"Wednesday",isOpen:!0,timeRanges:[{id:"3",startTime:"09:00",endTime:"17:00"}]},{dayOfWeek:4,dayName:"Thursday",isOpen:!0,timeRanges:[{id:"4",startTime:"09:00",endTime:"17:00"}]},{dayOfWeek:5,dayName:"Friday",isOpen:!0,timeRanges:[{id:"5",startTime:"09:00",endTime:"17:00"}]},{dayOfWeek:6,dayName:"Saturday",isOpen:!1,timeRanges:[]}];function v(){let[a,f]=(0,j.useState)({timezone:"America/Los_Angeles",schedule:u}),[h,i]=(0,j.useState)(null),p=a=>a.startTime<a.endTime;return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(l.Card,{children:[(0,b.jsxs)(l.CardHeader,{children:[(0,b.jsxs)(l.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(e.Clock,{className:"size-5"}),"Business Hours"]}),(0,b.jsx)(l.CardDescription,{children:"Configure when your business is available to receive calls"})]}),(0,b.jsxs)(l.CardContent,{className:"space-y-6",children:[(0,b.jsxs)(o.StandardFormField,{label:"Timezone",htmlFor:"timezone",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(g.Globe,{className:"size-4 text-muted-foreground"}),(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Select your business timezone"})]}),(0,b.jsxs)(n.Select,{onValueChange:a=>f(b=>({...b,timezone:a})),value:a.timezone,children:[(0,b.jsx)(n.SelectTrigger,{id:"timezone",children:(0,b.jsx)(n.SelectValue,{})}),(0,b.jsx)(n.SelectContent,{children:s.map(a=>(0,b.jsx)(n.SelectItem,{value:a.value,children:a.label},a.value))})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(m.Label,{children:"Quick Presets (Apply to Weekdays)"}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:t.map(a=>(0,b.jsx)(k.Button,{onClick:()=>{var b;return b=a.hours,void f(a=>({...a,schedule:a.schedule.map(a=>a.dayOfWeek>=1&&a.dayOfWeek<=5?{...a,isOpen:!0,timeRanges:[{id:crypto.randomUUID(),startTime:b.start,endTime:b.end}]}:a)}))},size:"sm",variant:"outline",children:a.name},a.name))})]})]})]}),(0,b.jsx)("div",{className:"space-y-3",children:a.schedule.map(a=>(0,b.jsx)(w,{canPaste:null!==h,day:a,onAddTimeRange:()=>{var b;return b=a.dayOfWeek,void f(a=>({...a,schedule:a.schedule.map(a=>a.dayOfWeek===b?{...a,timeRanges:[...a.timeRanges,{id:crypto.randomUUID(),startTime:"09:00",endTime:"17:00"}]}:a)}))},onCopy:()=>{i(a)},onPaste:()=>{var b;return b=a.dayOfWeek,void(h&&f(a=>({...a,schedule:a.schedule.map(a=>a.dayOfWeek===b?{...a,isOpen:h.isOpen,timeRanges:h.timeRanges.map(a=>({...a,id:crypto.randomUUID()}))}:a)})))},onRemoveTimeRange:b=>{var c;return c=a.dayOfWeek,void f(a=>({...a,schedule:a.schedule.map(a=>a.dayOfWeek===c?{...a,timeRanges:a.timeRanges.filter(a=>a.id!==b)}:a)}))},onToggle:()=>{var b;return b=a.dayOfWeek,void f(a=>({...a,schedule:a.schedule.map(a=>a.dayOfWeek===b?{...a,isOpen:!a.isOpen,timeRanges:a.isOpen?[]:[{id:crypto.randomUUID(),startTime:"09:00",endTime:"17:00"}]}:a)}))},onUpdateTimeRange:(b,c,d)=>{var e;return e=a.dayOfWeek,void f(a=>({...a,schedule:a.schedule.map(a=>a.dayOfWeek===e?{...a,timeRanges:a.timeRanges.map(a=>a.id===b?{...a,[c]:d}:a)}:a)}))},validateTimeRange:p},a.dayOfWeek))}),(0,b.jsxs)(l.Card,{children:[(0,b.jsx)(l.CardHeader,{children:(0,b.jsx)(l.CardTitle,{className:"text-base",children:"Schedule Summary"})}),(0,b.jsx)(l.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[a.schedule.filter(a=>a.isOpen).map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"font-medium",children:a.dayName}),(0,b.jsx)("span",{className:"text-muted-foreground",children:a.timeRanges.map(a=>`${x(a.startTime)} - ${x(a.endTime)}`).join(", ")})]},a.dayOfWeek)),a.schedule.every(a=>!a.isOpen)&&(0,b.jsxs)("div",{className:"text-muted-foreground flex items-center gap-2",children:[(0,b.jsx)(c.AlertCircle,{className:"size-4"}),"No business hours configured"]})]})})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,b.jsx)(k.Button,{variant:"outline",children:"Cancel"}),(0,b.jsxs)(k.Button,{children:[(0,b.jsx)(d.CheckCircle2,{className:"mr-2 size-4"}),"Save Business Hours"]})]})]})}function w({day:a,onToggle:d,onAddTimeRange:e,onRemoveTimeRange:g,onUpdateTimeRange:j,onCopy:m,onPaste:o,canPaste:s,validateTimeRange:t}){return(0,b.jsxs)(l.Card,{className:(0,q.cn)(!a.isOpen&&"opacity-60"),children:[(0,b.jsx)(l.CardHeader,{className:"pb-3",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(p.Switch,{checked:a.isOpen,onCheckedChange:d}),(0,b.jsxs)("div",{children:[(0,b.jsx)(l.CardTitle,{className:"text-base",children:a.dayName}),(0,b.jsx)(l.CardDescription,{className:"text-xs",children:a.isOpen?(0,b.jsxs)(b.Fragment,{children:[a.timeRanges.length," time"," ",1===a.timeRanges.length?"range":"ranges"]}):"Closed"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(k.Button,{disabled:!a.isOpen,onClick:m,size:"sm",variant:"ghost",children:(0,b.jsx)(f.Copy,{className:"size-3"})}),(0,b.jsx)(k.Button,{disabled:!s,onClick:o,size:"sm",variant:"ghost",children:"Paste"})]})]})}),a.isOpen&&(0,b.jsxs)(l.CardContent,{className:"space-y-3",children:[a.timeRanges.map((c,d)=>{let e=t(c);return(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("div",{className:"flex flex-1 items-center gap-3",children:[(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsxs)(n.Select,{onValueChange:a=>j(c.id,"startTime",a),value:c.startTime,children:[(0,b.jsx)(n.SelectTrigger,{className:(0,q.cn)("h-9",!e&&"border-destructive"),children:(0,b.jsx)(n.SelectValue,{})}),(0,b.jsx)(n.SelectContent,{children:r.map(a=>(0,b.jsx)(n.SelectItem,{value:a.value,children:a.label},a.value))})]})}),(0,b.jsx)("span",{className:"text-muted-foreground",children:"to"}),(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsxs)(n.Select,{onValueChange:a=>j(c.id,"endTime",a),value:c.endTime,children:[(0,b.jsx)(n.SelectTrigger,{className:(0,q.cn)("h-9",!e&&"border-destructive"),children:(0,b.jsx)(n.SelectValue,{})}),(0,b.jsx)(n.SelectContent,{children:r.map(a=>(0,b.jsx)(n.SelectItem,{value:a.value,children:a.label},a.value))})]})})]}),a.timeRanges.length>1&&(0,b.jsx)(k.Button,{className:"size-9",onClick:()=>g(c.id),size:"icon",variant:"ghost",children:(0,b.jsx)(i.Trash2,{className:"size-4"})})]},c.id)}),(0,b.jsxs)(k.Button,{className:"w-full",onClick:e,size:"sm",variant:"outline",children:[(0,b.jsx)(h.Plus,{className:"mr-2 size-3"}),"Add Time Range (e.g., Lunch Break)"]}),a.timeRanges.some(a=>!t(a))&&(0,b.jsxs)("div",{className:"text-destructive flex items-center gap-2 text-sm",children:[(0,b.jsx)(c.AlertCircle,{className:"size-4"}),"End time must be after start time"]})]})]})}function x(a){let[b,c]=a.split(":").map(Number);return`${b%12||12}:${c.toString().padStart(2,"0")} ${b<12?"AM":"PM"}`}a.s(["BusinessHoursEditor",()=>v])},984418,a=>{"use strict";var b=a.i(861467),c=a.i(917640),d=a.i(155519),e=a.i(988253),f=a.i(525756),g=a.i(383413),h=a.i(859040),h=h,i=a.i(339632),j=a.i(337241),k=a.i(783281),l=a.i(831515),m=a.i(281708),n=a.i(520028);a.i(445255);var o=a.i(18170);a.i(19256);var p=a.i(417132);a.i(956852);var q=a.i(90125);a.i(650756);var r=a.i(560450),s=a.i(251048);function t({rule:a}){let t=(0,j.useRouter)(),{toast:u}=(0,s.useToast)(),[v,w]=(0,k.useState)(!1),[x,y]=(0,k.useState)(!1),[z,A]=(0,k.useState)(!1),B=async()=>{A(!0);let b=await (0,m.toggleCallRoutingRule)(a.id,!a.is_active);b.success?u.success(`Rule ${a.is_active?"deactivated":"activated"} successfully`):u.error(b.error||"Failed to update rule status"),A(!1)},C=async()=>{w(!0);let b=await (0,l.deleteCallRoutingRule)(a.id,"current-user-id");b.success?(u.success("Routing rule deleted successfully"),y(!1)):u.error(b.error||"Failed to delete routing rule"),w(!1)},D=async()=>{let b=await (0,n.updateCallRoutingRule)({ruleId:a.id,priority:(a.priority||0)+1});b.success?u.success("Priority increased"):u.error(b.error||"Failed to update priority")},E=async()=>{let b=await (0,n.updateCallRoutingRule)({ruleId:a.id,priority:Math.max(0,(a.priority||0)-1)});b.success?u.success("Priority decreased"):u.error(b.error||"Failed to update priority")};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(r.Switch,{"aria-label":"Toggle rule active status",checked:a.is_active,disabled:z,onCheckedChange:B}),(0,b.jsxs)(q.DropdownMenu,{children:[(0,b.jsx)(q.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsxs)(o.Button,{size:"icon",variant:"ghost",children:[(0,b.jsx)(g.MoreVertical,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Open menu"})]})}),(0,b.jsxs)(q.DropdownMenuContent,{align:"end",children:[(0,b.jsxs)(q.DropdownMenuItem,{onClick:()=>t.push(`/dashboard/settings/communications/call-routing/${a.id}`),children:[(0,b.jsx)(f.Edit,{className:"mr-2 h-4 w-4"}),"Edit Rule"]}),(0,b.jsxs)(q.DropdownMenuItem,{disabled:z,onClick:B,children:[(0,b.jsx)(h.default,{className:"mr-2 h-4 w-4"}),a.is_active?"Deactivate":"Activate"]}),(0,b.jsx)(q.DropdownMenuSeparator,{}),(0,b.jsxs)(q.DropdownMenuItem,{onClick:D,children:[(0,b.jsx)(d.ArrowUp,{className:"mr-2 h-4 w-4"}),"Increase Priority"]}),(0,b.jsxs)(q.DropdownMenuItem,{onClick:E,children:[(0,b.jsx)(c.ArrowDown,{className:"mr-2 h-4 w-4"}),"Decrease Priority"]}),(0,b.jsx)(q.DropdownMenuSeparator,{}),(0,b.jsxs)(q.DropdownMenuItem,{onClick:()=>u.success("Duplicate rule functionality"),children:[(0,b.jsx)(e.Copy,{className:"mr-2 h-4 w-4"}),"Duplicate"]}),(0,b.jsx)(q.DropdownMenuSeparator,{}),(0,b.jsxs)(q.DropdownMenuItem,{className:"text-destructive focus:text-destructive",onClick:()=>y(!0),children:[(0,b.jsx)(i.Trash2,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]}),(0,b.jsx)(p.Dialog,{onOpenChange:y,open:x,children:(0,b.jsxs)(p.DialogContent,{children:[(0,b.jsxs)(p.DialogHeader,{children:[(0,b.jsx)(p.DialogTitle,{children:"Delete Routing Rule"}),(0,b.jsxs)(p.DialogDescription,{children:['Are you sure you want to delete "',a.name,'"? This action cannot be undone. Calls will no longer be routed using this rule.']})]}),(0,b.jsxs)(p.DialogFooter,{children:[(0,b.jsx)(o.Button,{disabled:v,onClick:()=>y(!1),variant:"outline",children:"Cancel"}),(0,b.jsx)(o.Button,{disabled:v,onClick:C,variant:"destructive",children:v?"Deleting...":"Delete Rule"})]})]})})]})}a.s(["CallRoutingRuleActions",()=>t],984418)}];

//# sourceMappingURL=apps_web_src_components_telnyx_d0fca1a0._.js.map