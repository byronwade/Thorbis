{"version":3,"sources":["../../../../../../apps/web/src/app/%28dashboard%29/dashboard/schedule/technician/%5Bid%5D/technician-day-view.tsx","../../../../../../node_modules/.pnpm/date-fns%404.1.0/node_modules/date-fns/differenceInMinutes.js"],"sourcesContent":["\"use client\";\n\nimport { useCallback, useEffect, useMemo, useState } from \"react\";\nimport { format, differenceInMinutes, addMinutes, isAfter, isBefore } from \"date-fns\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/navigation\";\nimport {\n\tArrowLeft,\n\tBattery,\n\tBatteryLow,\n\tCalendar,\n\tCar,\n\tCheckCircle2,\n\tChevronRight,\n\tClock,\n\tDollarSign,\n\tExternalLink,\n\tFlame,\n\tMapPin,\n\tNavigation,\n\tPhone,\n\tPlay,\n\tPlus,\n\tRefreshCw,\n\tSend,\n\tSignal,\n\tStar,\n\tTarget,\n\tTrendingUp,\n\tTruck,\n\tUser,\n\tWrench,\n\tZap,\n} from \"lucide-react\";\nimport { toast } from \"sonner\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n\tCard,\n\tCardContent,\n\tCardDescription,\n\tCardHeader,\n\tCardTitle,\n} from \"@/components/ui/card\";\nimport { Progress } from \"@/components/ui/progress\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport { Separator } from \"@/components/ui/separator\";\nimport {\n\tTooltip,\n\tTooltipContent,\n\tTooltipProvider,\n\tTooltipTrigger,\n} from \"@/components/ui/tooltip\";\nimport { cn } from \"@/lib/utils\";\nimport { createClient } from \"@/lib/supabase/client\";\n\n// ============================================================================\n// Types\n// ============================================================================\n\ntype Customer = {\n\tid: string;\n\tdisplay_name: string;\n\tphone?: string;\n\temail?: string;\n\taddress?: string;\n\tcity?: string;\n\tstate?: string;\n\tzip_code?: string;\n\tlat?: number;\n\tlon?: number;\n};\n\ntype Property = {\n\tid: string;\n\taddress?: string;\n\tcity?: string;\n\tstate?: string;\n\tzip_code?: string;\n\tlat?: number;\n\tlon?: number;\n};\n\ntype Job = {\n\tid: string;\n\ttitle: string;\n\tdescription?: string;\n\tjob_type?: string;\n\tpriority?: string;\n\tstatus?: string;\n\ttotal_amount?: number;\n\tcustomer?: Customer | null;\n\tproperty?: Property | null;\n};\n\ntype Appointment = {\n\tid: string;\n\tscheduled_start: string;\n\tscheduled_end: string;\n\tstatus: string;\n\tnotes?: string;\n\tjob?: Job | null;\n};\n\ntype Technician = {\n\tid: string;\n\tname: string;\n\temail?: string;\n\tphone?: string;\n\tavatar?: string;\n\trole?: string;\n\tstatus?: string;\n\tjob_title?: string;\n\tdepartment?: string;\n\tjoined_at?: string;\n\tbio?: string;\n};\n\ntype GPSLocation = {\n\tid: string;\n\ttechnician_id: string;\n\tlat: number;\n\tlng: number;\n\taccuracy?: number;\n\theading?: number;\n\tspeed?: number;\n\tbattery_level?: number;\n\tstatus?: string;\n\tupdated_at: string;\n};\n\ntype Stats = {\n\ttodayCompleted: number;\n\ttodayTotal: number;\n\ttodayRemaining: number;\n\tmonthCompleted: number;\n\tmonthTotal: number;\n\tcompletionRate: number;\n};\n\ntype TechnicianDayViewProps = {\n\ttechnician: Technician;\n\tappointments: Appointment[];\n\tunassignedJobs: Job[];\n\tgpsLocation: GPSLocation | null;\n\tstats: Stats;\n\tcompanyId: string;\n};\n\n// ============================================================================\n// Constants\n// ============================================================================\n\nconst JOB_TYPE_CONFIG: Record<string, { icon: typeof Wrench; color: string }> = {\n\temergency: { icon: Zap, color: \"text-red-500\" },\n\trepair: { icon: Wrench, color: \"text-orange-500\" },\n\tinstallation: { icon: Target, color: \"text-green-500\" },\n\tmaintenance: { icon: RefreshCw, color: \"text-blue-500\" },\n\tinspection: { icon: CheckCircle2, color: \"text-cyan-500\" },\n\tservice: { icon: Wrench, color: \"text-slate-500\" },\n};\n\nconst STATUS_CONFIG: Record<string, { label: string; color: string }> = {\n\tscheduled: { label: \"Scheduled\", color: \"bg-blue-500\" },\n\tdispatched: { label: \"Dispatched\", color: \"bg-sky-500\" },\n\t\"en-route\": { label: \"En Route\", color: \"bg-amber-500\" },\n\tarrived: { label: \"Arrived\", color: \"bg-emerald-500\" },\n\t\"in-progress\": { label: \"In Progress\", color: \"bg-violet-500\" },\n\tcompleted: { label: \"Completed\", color: \"bg-green-500\" },\n\tclosed: { label: \"Closed\", color: \"bg-slate-500\" },\n\tcancelled: { label: \"Cancelled\", color: \"bg-red-500\" },\n};\n\n// ============================================================================\n// Helper Functions\n// ============================================================================\n\nfunction getInitials(name: string): string {\n\treturn name\n\t\t.split(\" \")\n\t\t.map((n) => n[0])\n\t\t.join(\"\")\n\t\t.toUpperCase()\n\t\t.slice(0, 2);\n}\n\nfunction formatAddress(\n\taddress?: string,\n\tcity?: string,\n\tstate?: string,\n\tzip?: string\n): string {\n\tconst parts = [address, city, state, zip].filter(Boolean);\n\tif (parts.length === 0) return \"No address\";\n\tif (parts.length <= 2) return parts.join(\", \");\n\treturn `${address}, ${city}, ${state} ${zip}`;\n}\n\nfunction formatCurrency(cents?: number): string {\n\tif (!cents) return \"$0\";\n\treturn new Intl.NumberFormat(\"en-US\", {\n\t\tstyle: \"currency\",\n\t\tcurrency: \"USD\",\n\t\tminimumFractionDigits: 0,\n\t}).format(cents / 100);\n}\n\nfunction calculateDriveTime(\n\tfromLat?: number,\n\tfromLng?: number,\n\ttoLat?: number,\n\ttoLng?: number\n): number | null {\n\tif (!fromLat || !fromLng || !toLat || !toLng) return null;\n\n\t// Haversine distance\n\tconst R = 6371; // km\n\tconst dLat = ((toLat - fromLat) * Math.PI) / 180;\n\tconst dLon = ((toLng - fromLng) * Math.PI) / 180;\n\tconst a =\n\t\tMath.sin(dLat / 2) * Math.sin(dLat / 2) +\n\t\tMath.cos((fromLat * Math.PI) / 180) *\n\t\t\tMath.cos((toLat * Math.PI) / 180) *\n\t\t\tMath.sin(dLon / 2) *\n\t\t\tMath.sin(dLon / 2);\n\tconst c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n\tconst distanceKm = R * c;\n\n\t// Assume average speed of 40 km/h in urban areas\n\treturn Math.round((distanceKm / 40) * 60);\n}\n\nfunction getJobLocation(job?: Job | null): { lat?: number; lng?: number } {\n\tif (job?.property?.lat && job?.property?.lon) {\n\t\treturn { lat: job.property.lat, lng: job.property.lon };\n\t}\n\tif (job?.customer?.lat && job?.customer?.lon) {\n\t\treturn { lat: job.customer.lat, lng: job.customer.lon };\n\t}\n\treturn {};\n}\n\n// ============================================================================\n// Component\n// ============================================================================\n\nexport function TechnicianDayView({\n\ttechnician,\n\tappointments,\n\tunassignedJobs,\n\tgpsLocation,\n\tstats,\n\tcompanyId,\n}: TechnicianDayViewProps) {\n\tconst router = useRouter();\n\tconst [isRefreshing, setIsRefreshing] = useState(false);\n\tconst [currentTime, setCurrentTime] = useState(new Date());\n\tconst [liveGPS, setLiveGPS] = useState(gpsLocation);\n\n\t// Update current time every minute\n\tuseEffect(() => {\n\t\tconst interval = setInterval(() => setCurrentTime(new Date()), 60000);\n\t\treturn () => clearInterval(interval);\n\t}, []);\n\n\t// Subscribe to real-time GPS updates\n\tuseEffect(() => {\n\t\tconst supabase = createClient();\n\n\t\tconst channel = supabase\n\t\t\t.channel(`technician-gps-${technician.id}`)\n\t\t\t.on(\n\t\t\t\t\"postgres_changes\",\n\t\t\t\t{\n\t\t\t\t\tevent: \"*\",\n\t\t\t\t\tschema: \"public\",\n\t\t\t\t\ttable: \"technician_locations\",\n\t\t\t\t\tfilter: `technician_id=eq.${technician.id}`,\n\t\t\t\t},\n\t\t\t\t(payload) => {\n\t\t\t\t\tif (payload.new) {\n\t\t\t\t\t\tsetLiveGPS(payload.new as GPSLocation);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t)\n\t\t\t.subscribe();\n\n\t\treturn () => {\n\t\t\tsupabase.removeChannel(channel);\n\t\t};\n\t}, [technician.id]);\n\n\t// Calculate route with drive times\n\tconst routeWithDriveTimes = useMemo(() => {\n\t\tconst route: Array<{\n\t\t\tappointment: Appointment;\n\t\t\tdriveTimeFromPrev: number | null;\n\t\t\tdistanceFromPrev: number | null;\n\t\t\tisNext: boolean;\n\t\t\tisPast: boolean;\n\t\t\tisCurrent: boolean;\n\t\t}> = [];\n\n\t\tlet prevLat = liveGPS?.lat;\n\t\tlet prevLng = liveGPS?.lng;\n\n\t\tfor (let i = 0; i < appointments.length; i++) {\n\t\t\tconst apt = appointments[i];\n\t\t\tconst startTime = new Date(apt.scheduled_start);\n\t\t\tconst endTime = new Date(apt.scheduled_end);\n\t\t\tconst location = getJobLocation(apt.job);\n\n\t\t\tconst driveTime = calculateDriveTime(\n\t\t\t\tprevLat,\n\t\t\t\tprevLng,\n\t\t\t\tlocation.lat,\n\t\t\t\tlocation.lng\n\t\t\t);\n\n\t\t\tconst isPast = isAfter(currentTime, endTime);\n\t\t\tconst isCurrent =\n\t\t\t\tisAfter(currentTime, startTime) && isBefore(currentTime, endTime);\n\t\t\tconst isNext =\n\t\t\t\t!isPast &&\n\t\t\t\t!isCurrent &&\n\t\t\t\t(i === 0 || route[i - 1]?.isPast || route[i - 1]?.isCurrent);\n\n\t\t\troute.push({\n\t\t\t\tappointment: apt,\n\t\t\t\tdriveTimeFromPrev: driveTime,\n\t\t\t\tdistanceFromPrev: null,\n\t\t\t\tisNext,\n\t\t\t\tisPast,\n\t\t\t\tisCurrent,\n\t\t\t});\n\n\t\t\tif (location.lat && location.lng) {\n\t\t\t\tprevLat = location.lat;\n\t\t\t\tprevLng = location.lng;\n\t\t\t}\n\t\t}\n\n\t\treturn route;\n\t}, [appointments, liveGPS, currentTime]);\n\n\t// Calculate total scheduled time\n\tconst totalScheduledMinutes = useMemo(() => {\n\t\treturn appointments.reduce((acc, apt) => {\n\t\t\tconst start = new Date(apt.scheduled_start);\n\t\t\tconst end = new Date(apt.scheduled_end);\n\t\t\treturn acc + differenceInMinutes(end, start);\n\t\t}, 0);\n\t}, [appointments]);\n\n\t// Nearby unassigned jobs (within 30km of tech's location)\n\tconst nearbyJobs = useMemo(() => {\n\t\tif (!liveGPS) return [];\n\n\t\treturn unassignedJobs\n\t\t\t.map((job) => {\n\t\t\t\tconst location = getJobLocation(job);\n\t\t\t\tconst driveTime = calculateDriveTime(\n\t\t\t\t\tliveGPS.lat,\n\t\t\t\t\tliveGPS.lng,\n\t\t\t\t\tlocation.lat,\n\t\t\t\t\tlocation.lng\n\t\t\t\t);\n\t\t\t\treturn { job, driveTime };\n\t\t\t})\n\t\t\t.filter((j) => j.driveTime !== null && j.driveTime < 45) // Within 45 min drive\n\t\t\t.sort((a, b) => (a.driveTime || 999) - (b.driveTime || 999))\n\t\t\t.slice(0, 5);\n\t}, [unassignedJobs, liveGPS]);\n\n\tconst handleRefresh = useCallback(() => {\n\t\tsetIsRefreshing(true);\n\t\trouter.refresh();\n\t\tsetTimeout(() => setIsRefreshing(false), 1000);\n\t}, [router]);\n\n\tconst utilizationPercent = Math.min(\n\t\t100,\n\t\tMath.round((totalScheduledMinutes / 480) * 100) // 8 hour day\n\t);\n\n\treturn (\n\t\t<div className=\"flex h-full flex-col bg-background\">\n\t\t\t{/* Header */}\n\t\t\t<div className=\"border-b bg-card px-6 py-4\">\n\t\t\t\t<div className=\"flex items-center gap-4\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\tsize=\"icon\"\n\t\t\t\t\t\tonClick={() => router.back()}\n\t\t\t\t\t\tclassName=\"shrink-0\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<ArrowLeft className=\"h-5 w-5\" />\n\t\t\t\t\t</Button>\n\n\t\t\t\t\t<Avatar className=\"h-14 w-14 border-2 border-primary/20\">\n\t\t\t\t\t\t{technician.avatar && (\n\t\t\t\t\t\t\t<AvatarImage\n\t\t\t\t\t\t\t\tsrc={technician.avatar}\n\t\t\t\t\t\t\t\talt={technician.name}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t<AvatarFallback className=\"bg-primary/10 text-lg font-semibold text-primary\">\n\t\t\t\t\t\t\t{getInitials(technician.name)}\n\t\t\t\t\t\t</AvatarFallback>\n\t\t\t\t\t</Avatar>\n\n\t\t\t\t\t<div className=\"min-w-0 flex-1\">\n\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t<h1 className=\"text-xl font-bold truncate\">\n\t\t\t\t\t\t\t\t{technician.name}\n\t\t\t\t\t\t\t</h1>\n\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\"shrink-0\",\n\t\t\t\t\t\t\t\t\ttechnician.status === \"available\" &&\n\t\t\t\t\t\t\t\t\t\t\"bg-green-100 text-green-700\",\n\t\t\t\t\t\t\t\t\ttechnician.status === \"busy\" && \"bg-amber-100 text-amber-700\",\n\t\t\t\t\t\t\t\t\ttechnician.status === \"offline\" && \"bg-slate-100 text-slate-700\"\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{technician.status || \"Available\"}\n\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"flex items-center gap-3 text-sm text-muted-foreground\">\n\t\t\t\t\t\t\t<span>{technician.role || \"Technician\"}</span>\n\t\t\t\t\t\t\t{technician.phone && (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<span>•</span>\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\thref={`tel:${technician.phone}`}\n\t\t\t\t\t\t\t\t\t\tclassName=\"flex items-center gap-1 hover:text-foreground\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Phone className=\"h-3 w-3\" />\n\t\t\t\t\t\t\t\t\t\t{technician.phone}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* GPS Status */}\n\t\t\t\t\t{liveGPS && (\n\t\t\t\t\t\t<div className=\"flex items-center gap-2 rounded-lg border bg-muted/30 px-3 py-2\">\n\t\t\t\t\t\t\t<Signal className=\"h-4 w-4 text-green-500\" />\n\t\t\t\t\t\t\t<div className=\"text-xs\">\n\t\t\t\t\t\t\t\t<div className=\"font-medium\">GPS Active</div>\n\t\t\t\t\t\t\t\t<div className=\"text-muted-foreground\">\n\t\t\t\t\t\t\t\t\tUpdated {format(new Date(liveGPS.updated_at), \"h:mm a\")}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{liveGPS.battery_level !== undefined && (\n\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-1 border-l pl-2\">\n\t\t\t\t\t\t\t\t\t{liveGPS.battery_level < 0.2 ? (\n\t\t\t\t\t\t\t\t\t\t<BatteryLow className=\"h-4 w-4 text-red-500\" />\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<Battery className=\"h-4 w-4 text-green-500\" />\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t<span className=\"text-xs font-medium\">\n\t\t\t\t\t\t\t\t\t\t{Math.round(liveGPS.battery_level * 100)}%\n\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t<Button variant=\"outline\" size=\"sm\" onClick={handleRefresh}>\n\t\t\t\t\t\t\t<RefreshCw\n\t\t\t\t\t\t\t\tclassName={cn(\"mr-2 h-4 w-4\", isRefreshing && \"animate-spin\")}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\tRefresh\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button size=\"sm\">\n\t\t\t\t\t\t\t<Send className=\"mr-2 h-4 w-4\" />\n\t\t\t\t\t\t\tMessage\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Stats Bar */}\n\t\t\t<div className=\"border-b bg-muted/30 px-6 py-3\">\n\t\t\t\t<div className=\"flex items-center gap-8\">\n\t\t\t\t\t{/* Today's Progress */}\n\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t<div className=\"flex h-10 w-10 items-center justify-center rounded-lg bg-primary/10\">\n\t\t\t\t\t\t\t<Target className=\"h-5 w-5 text-primary\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div className=\"text-xs text-muted-foreground\">Today</div>\n\t\t\t\t\t\t\t<div className=\"font-semibold\">\n\t\t\t\t\t\t\t\t{stats.todayCompleted}/{stats.todayTotal} Jobs\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Utilization */}\n\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t<div className=\"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-500/10\">\n\t\t\t\t\t\t\t<Clock className=\"h-5 w-5 text-blue-500\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div className=\"text-xs text-muted-foreground\">Utilization</div>\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t<span className=\"font-semibold\">{utilizationPercent}%</span>\n\t\t\t\t\t\t\t\t<Progress value={utilizationPercent} className=\"h-2 w-20\" />\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Time Booked */}\n\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t<div className=\"flex h-10 w-10 items-center justify-center rounded-lg bg-violet-500/10\">\n\t\t\t\t\t\t\t<Calendar className=\"h-5 w-5 text-violet-500\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div className=\"text-xs text-muted-foreground\">Time Booked</div>\n\t\t\t\t\t\t\t<div className=\"font-semibold\">\n\t\t\t\t\t\t\t\t{Math.floor(totalScheduledMinutes / 60)}h{\" \"}\n\t\t\t\t\t\t\t\t{totalScheduledMinutes % 60}m\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Month Stats */}\n\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t<div className=\"flex h-10 w-10 items-center justify-center rounded-lg bg-green-500/10\">\n\t\t\t\t\t\t\t<TrendingUp className=\"h-5 w-5 text-green-500\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<div className=\"text-xs text-muted-foreground\">This Month</div>\n\t\t\t\t\t\t\t<div className=\"font-semibold\">\n\t\t\t\t\t\t\t\t{stats.monthCompleted} Jobs ({stats.completionRate.toFixed(0)}%)\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Department/Job Title */}\n\t\t\t\t\t{(technician.job_title || technician.department) && (\n\t\t\t\t\t\t<div className=\"ml-auto flex items-center gap-2\">\n\t\t\t\t\t\t\t{technician.job_title && (\n\t\t\t\t\t\t\t\t<Badge variant=\"secondary\" className=\"text-xs\">\n\t\t\t\t\t\t\t\t\t{technician.job_title}\n\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{technician.department && (\n\t\t\t\t\t\t\t\t<Badge variant=\"outline\" className=\"text-xs\">\n\t\t\t\t\t\t\t\t\t{technician.department}\n\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Main Content */}\n\t\t\t<div className=\"flex flex-1 overflow-hidden\">\n\t\t\t\t{/* Left: Route Timeline */}\n\t\t\t\t<div className=\"flex-1 overflow-hidden border-r\">\n\t\t\t\t\t<div className=\"flex h-full flex-col\">\n\t\t\t\t\t\t<div className=\"flex items-center justify-between border-b px-6 py-3\">\n\t\t\t\t\t\t\t<h2 className=\"font-semibold\">\n\t\t\t\t\t\t\t\tToday's Route ({appointments.length} stops)\n\t\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t\t<div className=\"text-sm text-muted-foreground\">\n\t\t\t\t\t\t\t\t{format(currentTime, \"EEEE, MMMM d\")}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<ScrollArea className=\"flex-1\">\n\t\t\t\t\t\t\t<div className=\"p-6\">\n\t\t\t\t\t\t\t\t{routeWithDriveTimes.length === 0 ? (\n\t\t\t\t\t\t\t\t\t<div className=\"flex flex-col items-center justify-center py-12 text-center\">\n\t\t\t\t\t\t\t\t\t\t<Calendar className=\"mb-4 h-12 w-12 text-muted-foreground/50\" />\n\t\t\t\t\t\t\t\t\t\t<h3 className=\"text-lg font-medium\">No Jobs Scheduled</h3>\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\t\tThis technician has no appointments today\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<div className=\"relative\">\n\t\t\t\t\t\t\t\t\t\t{/* Timeline line */}\n\t\t\t\t\t\t\t\t\t\t<div className=\"absolute left-6 top-0 bottom-0 w-0.5 bg-border\" />\n\n\t\t\t\t\t\t\t\t\t\t{routeWithDriveTimes.map((item, index) => {\n\t\t\t\t\t\t\t\t\t\t\tconst apt = item.appointment;\n\t\t\t\t\t\t\t\t\t\t\tconst job = apt.job;\n\t\t\t\t\t\t\t\t\t\t\tconst customer = job?.customer;\n\t\t\t\t\t\t\t\t\t\t\tconst property = job?.property;\n\t\t\t\t\t\t\t\t\t\t\tconst startTime = new Date(apt.scheduled_start);\n\t\t\t\t\t\t\t\t\t\t\tconst endTime = new Date(apt.scheduled_end);\n\t\t\t\t\t\t\t\t\t\t\tconst duration = differenceInMinutes(endTime, startTime);\n\t\t\t\t\t\t\t\t\t\t\tconst jobTypeConfig =\n\t\t\t\t\t\t\t\t\t\t\t\tJOB_TYPE_CONFIG[job?.job_type || \"service\"] ||\n\t\t\t\t\t\t\t\t\t\t\t\tJOB_TYPE_CONFIG.service;\n\t\t\t\t\t\t\t\t\t\t\tconst statusConfig =\n\t\t\t\t\t\t\t\t\t\t\t\tSTATUS_CONFIG[apt.status] || STATUS_CONFIG.scheduled;\n\t\t\t\t\t\t\t\t\t\t\tconst JobIcon = jobTypeConfig.icon;\n\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<div key={apt.id} className=\"relative mb-6\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/* Drive time indicator */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{item.driveTimeFromPrev !== null && index > 0 && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"mb-3 ml-12 flex items-center gap-2 text-xs text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Car className=\"h-3 w-3\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>~{item.driveTimeFromPrev} min drive</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/* Timeline dot */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"absolute left-4 top-4 h-5 w-5 rounded-full border-2 border-background\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.isCurrent && \"bg-primary ring-4 ring-primary/20\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.isNext && \"bg-amber-500\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.isPast && \"bg-green-500\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t!item.isCurrent &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t!item.isNext &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t!item.isPast &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"bg-muted-foreground/30\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/* Job Card */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"ml-12 rounded-lg border bg-card p-4 transition-all\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.isCurrent &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"border-primary/50 bg-primary/5 ring-2 ring-primary/20\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem.isNext && \"border-amber-500/50 bg-amber-500/5\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* Header */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"mb-3 flex items-start justify-between\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"flex h-8 w-8 items-center justify-center rounded-lg\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tjobTypeConfig.color.replace(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"text-\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"bg-\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) + \"/10\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<JobIcon\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={cn(\"h-4 w-4\", jobTypeConfig.color)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-semibold\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{format(startTime, \"h:mm a\")} -{\" \"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{format(endTime, \"h:mm a\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-xs\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{duration} min\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"text-xs text-muted-foreground capitalize\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{job?.job_type?.replace(\"_\", \" \") || \"Service\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"h-2 w-2 rounded-full\",\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstatusConfig.color\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{statusConfig.label}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* Job Title */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h4 className=\"mb-2 font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{job?.title || \"Service Call\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</h4>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* Customer & Address */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"mb-3 space-y-1 text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{customer && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<User className=\"h-4 w-4 text-muted-foreground\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>{customer.display_name}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{customer.phone && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref={`tel:${customer.phone}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"ml-auto text-xs text-primary hover:underline\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{customer.phone}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MapPin className=\"h-4 w-4 shrink-0\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"truncate\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatAddress(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproperty?.address || customer?.address,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproperty?.city || customer?.city,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproperty?.state || customer?.state,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tproperty?.zip_code || customer?.zip_code\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{/* Footer */}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-between border-t pt-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-3 text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{job?.total_amount && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-1 text-green-600\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DollarSign className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatCurrency(job.total_amount)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{job?.priority === \"high\" && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Badge variant=\"destructive\" className=\"text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tHigh Priority\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button variant=\"ghost\" size=\"sm\" asChild>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thref={`/dashboard/work/jobs/${job?.id}`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<ExternalLink className=\"mr-1 h-3 w-3\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tView Job\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{(item.isCurrent || item.isNext) && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button size=\"sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Navigation className=\"mr-1 h-3 w-3\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tNavigate\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</ScrollArea>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t{/* Right: Map & Nearby Jobs */}\n\t\t\t\t<div className=\"flex w-[450px] flex-col\">\n\t\t\t\t\t{/* Map Placeholder */}\n\t\t\t\t\t<div className=\"border-b p-4\">\n\t\t\t\t\t\t<h3 className=\"mb-3 font-semibold\">Route Map</h3>\n\t\t\t\t\t\t<div className=\"flex h-[280px] items-center justify-center rounded-lg border bg-muted/30\">\n\t\t\t\t\t\t\t<div className=\"text-center text-muted-foreground\">\n\t\t\t\t\t\t\t\t<MapPin className=\"mx-auto mb-2 h-8 w-8\" />\n\t\t\t\t\t\t\t\t<p className=\"text-sm\">Map integration coming soon</p>\n\t\t\t\t\t\t\t\t{liveGPS && (\n\t\t\t\t\t\t\t\t\t<p className=\"mt-1 text-xs\">\n\t\t\t\t\t\t\t\t\t\tGPS: {liveGPS.lat.toFixed(4)}, {liveGPS.lng.toFixed(4)}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t{/* Nearby Unassigned Jobs */}\n\t\t\t\t\t<div className=\"flex-1 overflow-hidden\">\n\t\t\t\t\t\t<div className=\"flex items-center justify-between border-b px-4 py-3\">\n\t\t\t\t\t\t\t<h3 className=\"font-semibold\">Nearby Unassigned</h3>\n\t\t\t\t\t\t\t<Badge variant=\"secondary\">{nearbyJobs.length}</Badge>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<ScrollArea className=\"h-full\">\n\t\t\t\t\t\t\t<div className=\"p-4 space-y-3\">\n\t\t\t\t\t\t\t\t{nearbyJobs.length === 0 ? (\n\t\t\t\t\t\t\t\t\t<div className=\"py-8 text-center text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\t<Truck className=\"mx-auto mb-2 h-8 w-8 opacity-50\" />\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm\">No nearby jobs available</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\tnearbyJobs.map(({ job, driveTime }) => (\n\t\t\t\t\t\t\t\t\t\t<Card key={job.id} className=\"p-3\">\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-start gap-3\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex h-8 w-8 shrink-0 items-center justify-center rounded bg-muted\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Wrench className=\"h-4 w-4 text-muted-foreground\" />\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"min-w-0 flex-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h4 className=\"truncate text-sm font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{job.title}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</h4>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"truncate text-xs text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{job.customer?.display_name}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"mt-1 flex items-center gap-2 text-xs text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Car className=\"h-3 w-3\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>~{driveTime} min</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{job.total_amount && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>•</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-green-600\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{formatCurrency(job.total_amount)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button variant=\"outline\" size=\"sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Plus className=\"mr-1 h-3 w-3\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\tAdd\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</Card>\n\t\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</ScrollArea>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import { getRoundingMethod } from \"./_lib/getRoundingMethod.js\";\nimport { millisecondsInMinute } from \"./constants.js\";\nimport { differenceInMilliseconds } from \"./differenceInMilliseconds.js\";\n\n/**\n * The {@link differenceInMinutes} function options.\n */\n\n/**\n * @name differenceInMinutes\n * @category Minute Helpers\n * @summary Get the number of minutes between the given dates.\n *\n * @description\n * Get the signed number of full (rounded towards 0) minutes between the given dates.\n *\n * @param dateLeft - The later date\n * @param dateRight - The earlier date\n * @param options - An object with options.\n *\n * @returns The number of minutes\n *\n * @example\n * // How many minutes are between 2 July 2014 12:07:59 and 2 July 2014 12:20:00?\n * const result = differenceInMinutes(\n *   new Date(2014, 6, 2, 12, 20, 0),\n *   new Date(2014, 6, 2, 12, 7, 59)\n * )\n * //=> 12\n *\n * @example\n * // How many minutes are between 10:01:59 and 10:00:00\n * const result = differenceInMinutes(\n *   new Date(2000, 0, 1, 10, 0, 0),\n *   new Date(2000, 0, 1, 10, 1, 59)\n * )\n * //=> -1\n */\nexport function differenceInMinutes(dateLeft, dateRight, options) {\n  const diff =\n    differenceInMilliseconds(dateLeft, dateRight) / millisecondsInMinute;\n  return getRoundingMethod(options?.roundingMethod)(diff);\n}\n\n// Fallback for modularized imports:\nexport default differenceInMinutes;\n"],"names":[],"mappings":"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","ignoreList":[1]}