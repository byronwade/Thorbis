{"version":3,"sources":["../../../../../../apps/web/src/components/work/work-data-view.tsx/__nextjs-internal-proxy.mjs","../../../../../../apps/web/src/components/work/teams-kanban.tsx/__nextjs-internal-proxy.mjs","../../../../../../apps/web/src/components/work/teams-table.tsx/__nextjs-internal-proxy.mjs","../../../../../../apps/web/src/app/%28dashboard%29/dashboard/work/team/page.tsx","../../../../../../apps/web/src/components/work/team/team-data.tsx","../../../../../../apps/web/src/lib/queries/team-members.ts","../../../../../../apps/web/src/components/work/team/team-skeleton.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const WorkDataView = registerClientReference(\n    function() { throw new Error(\"Attempted to call WorkDataView() from the server but WorkDataView is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/src/components/work/work-data-view.tsx\",\n    \"WorkDataView\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const TeamsKanban = registerClientReference(\n    function() { throw new Error(\"Attempted to call TeamsKanban() from the server but TeamsKanban is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/src/components/work/teams-kanban.tsx\",\n    \"TeamsKanban\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const TeamsTable = registerClientReference(\n    function() { throw new Error(\"Attempted to call TeamsTable() from the server but TeamsTable is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/src/components/work/teams-table.tsx\",\n    \"TeamsTable\",\n);\n","/**\n * Team Page - PPR Enabled with Inline Stats\n *\n * Uses Next.js 16 \"use cache\" directive for optimal caching:\n * - Static shell renders instantly (5-20ms)\n * - Stats stream in toolbar (100-200ms)\n * - Data streams in main content (200-500ms)\n *\n * Performance: 10-20x faster than traditional SSR\n * Clean design: Stats integrated directly into toolbar\n */\n\nimport { Suspense } from \"react\";\nimport { TeamData } from \"@/components/work/team/team-data\";\nimport { TeamSkeleton } from \"@/components/work/team/team-skeleton\";\n\nexport default async function TeamPage({\n\tsearchParams,\n}: {\n\tsearchParams: Promise<{ page?: string; search?: string }>;\n}) {\n\tconst params = await searchParams;\n\treturn (\n\t\t<div className=\"flex h-full flex-col\">\n\t\t\t{/* Stats now shown in toolbar - see layout.tsx */}\n\n\t\t\t{/* Table - Main content */}\n\t\t\t<div className=\"flex-1 overflow-hidden\">\n\t\t\t\t<Suspense fallback={<TeamSkeleton />}>\n\t\t\t\t\t<TeamData searchParams={params} />\n\t\t\t\t</Suspense>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import { notFound } from \"next/navigation\";\nimport { TeamsKanban } from \"@/components/work/teams-kanban\";\nimport { type TeamMember, TeamsTable } from \"@/components/work/teams-table\";\nimport { WorkDataView } from \"@/components/work/work-data-view\";\nimport { getActiveCompanyId } from \"@/lib/auth/company-context\";\nimport {\n\tgetTeamMembersPageData,\n\tTEAM_MEMBERS_PAGE_SIZE,\n} from \"@/lib/queries/team-members\";\nimport type { ArchiveFilter } from \"@/lib/utils/archive\";\n\nfunction getRelativeTime(date: Date): string {\n\tconst now = new Date();\n\tconst diffMs = now.getTime() - date.getTime();\n\tconst diffMins = Math.floor(diffMs / 60_000);\n\n\tif (diffMins < 1) {\n\t\treturn \"Just now\";\n\t}\n\tif (diffMins < 60) {\n\t\treturn `${diffMins} min ago`;\n\t}\n\tconst diffHours = Math.floor(diffMins / 60);\n\tif (diffHours < 24) {\n\t\treturn `${diffHours} hour${diffHours > 1 ? \"s\" : \"\"} ago`;\n\t}\n\tconst diffDays = Math.floor(diffHours / 24);\n\treturn `${diffDays} day${diffDays > 1 ? \"s\" : \"\"} ago`;\n}\n\nfunction getRoleColor(roleName: string | undefined): string {\n\tconst colors: Record<string, string> = {\n\t\tOwner: \"#fbbf24\",\n\t\tAdministrator: \"#3b82f6\",\n\t\tManager: \"#10b981\",\n\t\tTechnician: \"#6b7280\",\n\t};\n\treturn colors[roleName || \"\"] || \"#6b7280\";\n}\n\nfunction getDepartmentColor(deptName: string | undefined): string {\n\tconst colors: Record<string, string> = {\n\t\tSales: \"#3b82f6\",\n\t\tOperations: \"#10b981\",\n\t\tService: \"#f59e0b\",\n\t\tSupport: \"#8b5cf6\",\n\t};\n\treturn colors[deptName || \"\"] || \"#6b7280\";\n}\n\nconst FALLBACK_ROLE = \"Team Member\";\n\ntype RawMember = Awaited<\n\tReturnType<typeof getTeamMembersPageData>\n>[\"teamMembers\"][number];\n\nconst NAME_FIELDS = [\n\t\"full_name\",\n\t\"fullName\",\n\t\"name\",\n\t\"display_name\",\n\t\"displayName\",\n\t\"preferred_name\",\n\t\"preferredName\",\n];\n\nconst FIRST_NAME_FIELDS = [\n\t\"first_name\",\n\t\"firstName\",\n\t\"given_name\",\n\t\"givenName\",\n\t\"first\",\n];\n\nconst LAST_NAME_FIELDS = [\n\t\"last_name\",\n\t\"lastName\",\n\t\"family_name\",\n\t\"familyName\",\n\t\"surname\",\n\t\"last\",\n];\n\nconst MIDDLE_NAME_FIELDS = [\"middle_name\", \"middleName\", \"middle\"];\n\nfunction asRecord(value: unknown): Record<string, unknown> | null {\n\treturn value && typeof value === \"object\"\n\t\t? (value as Record<string, unknown>)\n\t\t: null;\n}\n\nfunction getStringFromKeys(\n\tsource: Record<string, unknown> | null,\n\tkeys: string[],\n): string | undefined {\n\tif (!source) {\n\t\treturn undefined;\n\t}\n\tfor (const key of keys) {\n\t\tconst raw = source[key];\n\t\tif (typeof raw === \"string\") {\n\t\t\tconst trimmed = raw.trim();\n\t\t\tif (trimmed) {\n\t\t\t\treturn trimmed;\n\t\t\t}\n\t\t}\n\t}\n\treturn undefined;\n}\n\nfunction buildNameFromMeta(\n\tmeta: Record<string, unknown> | null,\n): string | undefined {\n\tif (!meta) {\n\t\treturn undefined;\n\t}\n\tconst direct = getStringFromKeys(meta, NAME_FIELDS);\n\tif (direct) {\n\t\treturn direct;\n\t}\n\tconst first = getStringFromKeys(meta, FIRST_NAME_FIELDS);\n\tconst middle = getStringFromKeys(meta, MIDDLE_NAME_FIELDS);\n\tconst last = getStringFromKeys(meta, LAST_NAME_FIELDS);\n\tconst parts = [first, middle, last].filter(Boolean) as string[];\n\tif (parts.length) {\n\t\treturn parts.join(\" \").replace(/\\s+/g, \" \").trim();\n\t}\n\tconst nestedProfile = asRecord(meta.profile);\n\tif (nestedProfile) {\n\t\treturn buildNameFromMeta(nestedProfile);\n\t}\n\treturn undefined;\n}\n\nfunction extractUserMeta(user: RawMember[\"user\"]): Record<string, unknown> {\n\tif (!user) {\n\t\treturn {};\n\t}\n\treturn (\n\t\t(user.raw_user_meta_data as Record<string, unknown> | null) ??\n\t\t(user.user_metadata as Record<string, unknown> | null) ??\n\t\t{}\n\t);\n}\n\nfunction buildDisplayName(member: RawMember): string {\n\tconst meta = extractUserMeta(member.user);\n\tconst metaName = buildNameFromMeta(meta);\n\tconst profileName = buildNameFromMeta(asRecord(meta.profile));\n\tconst userName =\n\t\ttypeof member.user?.full_name === \"string\"\n\t\t\t? member.user.full_name\n\t\t\t: undefined;\n\n\tconst emailName =\n\t\tmember.user?.email?.split(\"@\")[0] || member.email?.split(\"@\")[0] || null;\n\n\treturn (\n\t\tmember.invited_name ||\n\t\tmetaName ||\n\t\tprofileName ||\n\t\tuserName ||\n\t\temailName ||\n\t\tmember.invited_email ||\n\t\tmember.email ||\n\t\t(member.role\n\t\t\t? member.role\n\t\t\t\t\t.replace(/_/g, \" \")\n\t\t\t\t\t.replace(/\\b\\w/g, (char) => char.toUpperCase())\n\t\t\t: undefined) ||\n\t\t\"Unknown\"\n\t);\n}\n\nfunction buildAvatar(\n\tmember: RawMember,\n\tmeta: Record<string, unknown>,\n): string | undefined {\n\tconst avatar =\n\t\tgetStringFromKeys(meta, [\n\t\t\t\"avatar_url\",\n\t\t\t\"avatar\",\n\t\t\t\"photoURL\",\n\t\t\t\"photo_url\",\n\t\t]) ||\n\t\tgetStringFromKeys(asRecord(meta.profile), [\n\t\t\t\"avatar_url\",\n\t\t\t\"avatar\",\n\t\t\t\"photoURL\",\n\t\t\t\"photo_url\",\n\t\t]);\n\tif (avatar) {\n\t\treturn avatar;\n\t}\n\tconst userAvatar = member.user?.avatar_url;\n\treturn typeof userAvatar === \"string\" && userAvatar.length > 0\n\t\t? userAvatar\n\t\t: undefined;\n}\n\nfunction transformMember(member: RawMember): TeamMember {\n\tconst meta = extractUserMeta(member.user);\n\tconst roleName = member.role || FALLBACK_ROLE;\n\tconst departmentName = member.department || \"General\";\n\tconst joinedDateSource = member.joined_at || member.invited_at;\n\tconst lastActiveSource =\n\t\tmember.last_active_at || member.user?.last_sign_in_at;\n\n\treturn {\n\t\tid: member.id,\n\t\tname: buildDisplayName(member),\n\t\temail: member.user?.email || member.email || member.invited_email || \"\",\n\t\troleId: \"team-role\",\n\t\troleName,\n\t\troleColor: getRoleColor(roleName),\n\t\tdepartmentId: \"team-department\",\n\t\tdepartmentName,\n\t\tdepartmentColor: getDepartmentColor(departmentName),\n\t\tstatus: (member.status as TeamMember[\"status\"]) || \"active\",\n\t\tavatar: buildAvatar(member, meta),\n\t\tjobTitle:\n\t\t\tmember.job_title ||\n\t\t\t(typeof meta.title === \"string\" ? meta.title : undefined) ||\n\t\t\tFALLBACK_ROLE,\n\t\tphone:\n\t\t\tmember.phone || (typeof meta.phone === \"string\" ? meta.phone : undefined),\n\t\tjoinedDate: joinedDateSource\n\t\t\t? new Date(joinedDateSource).toLocaleDateString()\n\t\t\t: \"\",\n\t\tlastActive: lastActiveSource\n\t\t\t? getRelativeTime(new Date(lastActiveSource))\n\t\t\t: \"Never\",\n\t\tarchived_at: member.archived_at,\n\t};\n}\n\nexport async function TeamData({\n\tsearchParams,\n}: {\n\tsearchParams?: { page?: string; search?: string; filter?: string };\n}) {\n\tconst activeCompanyId = await getActiveCompanyId();\n\tif (!activeCompanyId) {\n\t\treturn notFound();\n\t}\n\n\tconst currentPage = Number(searchParams?.page) || 1;\n\tconst searchQuery = searchParams?.search ?? \"\";\n\tconst requestedFilter = (searchParams?.filter as ArchiveFilter) ?? \"active\";\n\tconst archiveFilter: ArchiveFilter = [\"active\", \"archived\", \"all\"].includes(\n\t\trequestedFilter,\n\t)\n\t\t? requestedFilter\n\t\t: \"active\";\n\n\tconst { teamMembers: teamMembersRaw, totalCount } =\n\t\tawait getTeamMembersPageData(\n\t\t\tcurrentPage,\n\t\t\tTEAM_MEMBERS_PAGE_SIZE,\n\t\t\tsearchQuery,\n\t\t\tactiveCompanyId,\n\t\t\tarchiveFilter,\n\t\t);\n\n\tconst teamMembers: TeamMember[] = teamMembersRaw.map(transformMember);\n\n\treturn (\n\t\t<WorkDataView\n\t\t\tkanban={<TeamsKanban members={teamMembers} />}\n\t\t\tsection=\"team\"\n\t\t\ttable={\n\t\t\t\t<TeamsTable\n\t\t\t\t\tinitialArchiveFilter={archiveFilter}\n\t\t\t\t\tinitialSearchQuery={searchQuery}\n\t\t\t\t\titemsPerPage={TEAM_MEMBERS_PAGE_SIZE}\n\t\t\t\t\tteamMembers={teamMembers}\n\t\t\t\t\ttotalCount={totalCount}\n\t\t\t\t\tcurrentPage={currentPage}\n\t\t\t\t/>\n\t\t\t}\n\t\t/>\n\t);\n}\n","import { cache } from \"react\";\nimport { getActiveCompanyId } from \"@/lib/auth/company-context\";\nimport { createServiceSupabaseClient } from \"@/lib/supabase/service-client\";\nimport type { ArchiveFilter } from \"@/lib/utils/archive\";\n\nexport const TEAM_MEMBERS_PAGE_SIZE = 50;\n\nconst TEAM_MEMBERS_SELECT = `\n  id,\n  user_id,\n  company_id,\n  role,\n  permissions,\n  department_id,\n  job_title,\n  status,\n  invited_at,\n  accepted_at,\n  created_at,\n  updated_at,\n  emergency_contact_name,\n  emergency_contact_phone,\n  emergency_contact_relationship,\n  employee_id,\n  hire_date,\n  employment_type,\n  work_schedule,\n  work_location,\n  pay_type,\n  hourly_rate,\n  annual_salary,\n  commission_rate,\n  commission_structure,\n  overtime_eligible,\n  street_address,\n  city,\n  state,\n  postal_code,\n  country,\n  skills,\n  certifications,\n  licenses,\n  service_areas,\n  availability_schedule,\n  max_weekly_hours,\n  preferred_job_types,\n  performance_notes,\n  last_review_date,\n  next_review_date,\n  notes,\n  archived_at\n`;\n\nexport type TeamMemberRecord = {\n\tid: string;\n\tuser_id: string | null;\n\tcompany_id: string;\n\trole:\n\t\t| \"owner\"\n\t\t| \"admin\"\n\t\t| \"manager\"\n\t\t| \"member\"\n\t\t| \"technician\"\n\t\t| \"dispatcher\"\n\t\t| \"csr\"\n\t\t| null;\n\tpermissions: Record<string, any> | null;\n\tdepartment_id: string | null;\n\tjob_title: string | null;\n\tstatus: \"active\" | \"invited\" | \"suspended\" | null;\n\tinvited_at: string | null;\n\taccepted_at: string | null;\n\tcreated_at: string;\n\tupdated_at: string;\n\tuser?: {\n\t\tid: string;\n\t\temail: string | null;\n\t\tfull_name?: string | null;\n\t\tavatar_url?: string | null;\n\t\tphone?: string | null;\n\t} | null;\n};\n\nexport type TeamMembersPageResult = {\n\tteamMembers: TeamMemberRecord[];\n\ttotalCount: number;\n};\n\nexport const getTeamMembersPageData = cache(\n\tasync (\n\t\tpage: number,\n\t\tpageSize: number = TEAM_MEMBERS_PAGE_SIZE,\n\t\tsearchQuery = \"\",\n\t\tcompanyIdOverride?: string,\n\t\tarchiveFilter: ArchiveFilter = \"active\",\n\t): Promise<TeamMembersPageResult> => {\n\t\t// IMPORTANT: Cannot use \"use cache\" here because we call getActiveCompanyId()\n\t\t// which uses cookies(). React.cache() provides request-level deduplication.\n\t\tconst companyId = companyIdOverride ?? (await getActiveCompanyId());\n\t\tif (!companyId) {\n\t\t\treturn { teamMembers: [], totalCount: 0 };\n\t\t}\n\n\t\tconst supabase = await createServiceSupabaseClient();\n\t\tif (!supabase) {\n\t\t\tthrow new Error(\"Supabase client not configured\");\n\t\t}\n\t\tconst start = (Math.max(page, 1) - 1) * pageSize;\n\t\tconst end = start + pageSize - 1;\n\n\t\tlet query = supabase\n\t\t\t.from(\"company_memberships\")\n\t\t\t.select(TEAM_MEMBERS_SELECT, { count: \"exact\" })\n\t\t\t.eq(\"company_id\", companyId)\n\t\t\t.order(\"created_at\", { ascending: false })\n\t\t\t.range(start, end);\n\n\t\tif (archiveFilter === \"active\") {\n\t\t\tquery = query.eq(\"status\", \"active\");\n\t\t} else if (archiveFilter === \"archived\") {\n\t\t\tquery = query.eq(\"status\", \"suspended\");\n\t\t}\n\n\t\tconst normalizedSearch = searchQuery.trim();\n\t\tif (normalizedSearch) {\n\t\t\tconst sanitized = normalizedSearch.replace(/,/g, \"\\\\,\");\n\t\t\tconst term = `%${sanitized}%`;\n\t\t\tquery = query.or(`job_title.ilike.${term},role.ilike.${term}`);\n\t\t}\n\n\t\tconst { data, error, count } = await query;\n\n\t\tif (error) {\n\t\t\tthrow new Error(`Failed to load team members: ${error.message}`);\n\t\t}\n\n\t\tconst members = data ?? [];\n\n\t\t// Fetch profile data for all user_ids\n\t\tconst userIds = members\n\t\t\t.map((m) => m.user_id)\n\t\t\t.filter((id): id is string => id !== null);\n\n\t\tif (userIds.length === 0) {\n\t\t\treturn {\n\t\t\t\tteamMembers: members.map((m) => ({ ...m, user: null })),\n\t\t\t\ttotalCount: count ?? 0,\n\t\t\t};\n\t\t}\n\n\t\tconst { data: profiles, error: profilesError } = await supabase\n\t\t\t.from(\"profiles\")\n\t\t\t.select(\"id, email, full_name, avatar_url, phone\")\n\t\t\t.in(\"id\", userIds);\n\n\t\tif (profilesError) {\n\t\t\tconsole.error(\"Failed to fetch profiles:\", profilesError);\n\t\t}\n\n\t\t// Create a map of user_id -> profile\n\t\tconst profilesMap = new Map((profiles ?? []).map((p) => [p.id, p]));\n\n\t\t// Merge profile data with members\n\t\tconst normalizedMembers: TeamMemberRecord[] = members.map((member) => ({\n\t\t\t...member,\n\t\t\tuser: member.user_id ? (profilesMap.get(member.user_id) ?? null) : null,\n\t\t}));\n\n\t\treturn {\n\t\t\tteamMembers: normalizedMembers,\n\t\t\ttotalCount: count ?? 0,\n\t\t};\n\t},\n);\n","/**\n * TeamSkeleton - Loading Skeleton\n *\n * Uses the shared DataTableListSkeleton for consistent UX across all list pages.\n * Displays while team members data is loading.\n * Provides visual feedback during streaming.\n */\n\nimport { DataTableListSkeleton } from \"@/components/ui/skeletons\";\n\nexport function TeamSkeleton() {\n\treturn <DataTableListSkeleton />;\n}\n"],"names":[],"mappings":"ujBAEO,IAAM,EAAe,CAAA,EAAA,AAD5B,EAAA,CAAA,CAAA,QAC4B,uBAAA,AAAuB,EAC/C,WAAa,MAAM,AAAI,MAAM,sOAAwO,EACrQ,gFACA,mEAHG,IAAM,EAAe,CAAA,EAD5B,AAC4B,EAD5B,CAAA,CAAA,QAC4B,uBAAuB,AAAvB,EACxB,WAAa,MAAM,AAAI,MAAM,sOAAwO,EACrQ,4DACA,2LCHG,IAAM,EAAc,CAAA,EAD3B,AAC2B,EAD3B,CAAA,CAAA,QAC2B,uBAAA,AAAuB,EAC9C,WAAa,MAAM,AAAI,MAAM,oOAAsO,EACnQ,8EACA,iEAHG,IAAM,EAAc,CAAA,EAD3B,AAC2B,EAD3B,CAAA,CAAA,QAC2B,uBAAA,AAAuB,EAC9C,WAAa,MAAM,AAAI,MAAM,oOAAsO,EACnQ,0DACA,+HCHG,IAAM,EAAa,CAAA,EAAA,AAD1B,EAAA,CAAA,CAAA,QAC0B,uBAAA,AAAuB,EAC7C,WAAa,MAAM,AAAI,MAAM,kOAAoO,EACjQ,6EACA,+DAHG,IAAM,EAAa,CAAA,EAAA,AAD1B,EAAA,CAAA,CAAA,QAC0B,uBAAA,AAAuB,EAC7C,WAAa,MAAM,AAAI,MAAM,kOAAoO,EACjQ,yDACA,+ICOJ,EAAA,EAAA,CAAA,CAAA,QCZA,EAAA,CAAA,CAAA,QAAA,IAAA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,EAAA,CAAA,CAAA,QACA,EAAA,CAAA,CAAA,QAAA,IAAA,EAAA,EAAA,CAAA,CAAA,QCFA,EAAA,EAAA,CAAA,CAAA,QAGO,IAAM,EAAyB,GAEhC,EAAsB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4C7B,CAAC,CAqCY,EAAyB,CAAA,EAAA,EAAA,KAAA,AAAK,EAC1C,MACC,EACA,EAAmB,CAAsB,CACzC,EAAc,EAAE,CAChB,EACA,EAA+B,QAAQ,IAIvC,IAAM,EAAY,GAAsB,MAAM,CAAA,EAAA,EAAA,kBAAA,AAAkB,IAChE,GAAI,CAAC,EACJ,MAAO,CAAE,EADM,UACO,EAAE,CAAE,WAAY,CAAE,EAGzC,IAAM,EAAW,MAAM,CAAA,EAAA,EAAA,2BAAA,AAA2B,IAClD,GAAI,CAAC,EACJ,MAAU,AAAJ,EADQ,IACE,kCAEjB,IAAM,EAAQ,CAAC,KAAK,GAAG,CAAC,EAAM,IAAK,CAAC,CAAI,EAGpC,EAAQ,EACV,IAAI,CAAC,uBACL,MAAM,CAAC,EAAqB,CAAE,MAAO,OAAQ,GAC7C,EAAE,CAAC,aAAc,GACjB,KAAK,CAAC,aAAc,CAAE,WAAW,CAAM,GACvC,KAAK,CAAC,EAPI,EAAQ,EAAW,CAOhB,CAEX,CAAkB,UAAU,GAC/B,EAAQ,EAAM,EAAE,CAAC,SAAU,UACC,YAAY,CAA9B,IACV,EAAQ,EAAM,EAAE,CAAC,SAAU,YAAA,EAG5B,IAAM,EAAmB,EAAY,IAAI,GACzC,GAAI,EAAkB,CACrB,IAAM,EAAY,EAAiB,OAAO,CAAC,KAAM,OAC3C,EAAO,CAAC,CAAC,EAAE,EAAU,CAAC,CAAC,CAC7B,EAAQ,EAAM,EAAE,CAAC,CAAC,gBAAgB,EAAE,EAAK,YAAY,EAAE,EAAA,CAAM,CAC9D,CAEA,GAAM,MAAE,CAAI,OAAE,CAAK,OAAE,CAAK,CAAE,CAAG,MAAM,EAErC,GAAI,EACH,KADU,CACJ,AAAI,MAAM,CAAC,6BAA6B,EAAE,EAAM,OAAO,CAAA,CAAE,EAGhE,IAAM,EAAU,GAAQ,EAAE,CAGpB,EAAU,EACd,GAAG,CAAC,AAAC,GAAM,EAAE,OAAO,EACpB,MAAM,CAAC,AAAC,GAA4B,OAAP,GAE/B,GAAI,AAAmB,GAAG,GAAd,MAAM,CACjB,MAAO,CACN,YAAa,EAAQ,GAAG,CAAC,AAAC,IAAM,AAAC,CAAE,GAAG,CAAC,CAAE,KAAM,KAAK,CAAC,EACrD,WAAY,GAAS,CACtB,EAGD,GAAM,CAAE,KAAM,CAAQ,CAAE,MAAO,CAAa,CAAE,CAAG,MAAM,EACrD,IAAI,CAAC,YACL,MAAM,CAAC,2CACP,EAAE,CAAC,KAAM,GAEP,GACH,QAAQ,IADU,CACL,CAAC,4BAA6B,GAI5C,IAAM,EAAc,IAAI,IAAI,CAAC,GAAY,EAAA,AAAE,EAAE,GAAG,CAAC,AAAC,GAAM,CAAC,EAAE,EAAE,CAAE,EAAE,GAQjE,MAAO,CACN,YAN6C,CAMhC,CANwC,GAAG,CAAC,AAAC,IAAY,CACtE,GAAG,CADkE,AAC5D,CACT,KAAM,EAAO,OAAO,CAAI,EAAY,GAAG,CAAC,EAAO,OAAO,GAAK,KAAQ,KACpE,CAAC,EAIA,WAAY,GAAS,CACtB,CACD,GD1HK,EAAgB,cAMhB,EAAc,CACnB,YACA,WACA,OACA,eACA,cACA,iBACA,gBACA,CAEK,EAAoB,CACzB,aACA,YACA,aACA,YACA,QACA,CAEK,EAAmB,CACxB,YACA,WACA,cACA,aACA,UACA,OACA,CAEK,EAAqB,CAAC,cAAe,aAAc,SAAS,CAElE,SAAS,EAAS,CAAc,EAC/B,OAAO,GAA0B,UAAjB,OAAO,EACnB,EACD,IACJ,CAEA,SAAS,EACR,CAAsC,CACtC,CAAc,EAEd,GAAK,CAAD,CAGJ,IAAK,EAHQ,EAGF,KAAO,EAAM,CACvB,IAAM,EAAM,CAAM,CAAC,EAAI,CACvB,GAAI,AAAe,iBAAR,EAAkB,CAC5B,IAAM,EAAU,EAAI,IAAI,GACxB,GAAI,EACH,OADY,AACL,CAET,CACD,CAED,CAEA,SAAS,EACR,CAAoC,EAEpC,GAAI,CAAC,EACJ,IADU,GACH,AAER,IAAM,EAAS,EAAkB,EAAM,GACvC,GAAI,EACH,MADW,CACJ,EAER,IAGM,EAHA,AAGQ,CAHA,EAAkB,EAAM,GACvB,EAAkB,EAAM,GAC1B,EAAkB,EAAM,GACF,CAAC,MAAM,CAAC,SAC3C,GAAI,EAAM,MAAM,CACf,CADiB,MACV,EAAM,IAAI,CAAC,KAAK,OAAO,CAAC,OAAQ,KAAK,IAAI,GAEjD,IAAM,EAAgB,EAAS,EAAK,OAAO,EAC3C,GAAI,EACH,OAAO,EAAkB,EAG3B,CAEA,CANoB,QAMX,EAAgB,CAAuB,SAC/C,AAAK,EAIH,EAAK,AAJH,EAAO,gBAIc,EACvB,EAAK,aAAa,EACnB,CAAC,EALM,CAAC,CAOV,CAyDA,SAAS,EAAgB,CAAiB,EACzC,IAvDM,IAEA,EACA,IAoDA,EAAO,EAAgB,EAAO,IAAI,EAClC,EAAW,EAAO,IAAI,EAAI,EAC1B,EAAiB,EAAO,UAAU,EAAI,UACtC,EAAmB,EAAO,SAAS,EAAI,EAAO,UAAU,CACxD,EACL,EAAO,cAAc,EAAI,EAAO,IAAI,EAAE,gBAEvC,MAAO,CACN,GAAI,EAAO,EAAE,CACb,IAAA,EAAM,AA/DD,EAAW,IADJ,EAAgB,EAAO,IAAI,KAEpB,CADe,CACG,EAAS,EAAK,OAAO,KAExB,UAAlC,OAAO,EAAO,IAAI,EAAE,UACjB,EAAO,IAAI,CAAC,SAAS,MACrB,EAEE,EACL,EAAO,IAAI,EAAE,OAAO,MAAM,IAAI,CAAC,EAAE,EAAI,EAAO,KAAK,EAAE,MAAM,IAAI,CAAC,EAAE,EAAI,KAGpE,EAAO,YAAY,EACnB,GACA,GACA,GACA,GACA,EAAO,aAAa,EACpB,EAAO,KAAK,GACX,CAAD,CAAQ,IAAI,CA6CW,AA5CpB,EAAO,IAAI,CACV,OAAO,CAAC,KAAM,KACd,OAAO,CAAC,QAAS,AAAC,GAAS,EAAK,WAAW,IAC5C,MAAA,CAAS,EACZ,WAyCA,MAAO,EAAO,IAAI,EAAE,OAAS,EAAO,KAAK,EAAI,EAAO,aAAa,EAAI,GACrE,OAAQ,qBACR,EACA,UAjLM,CANgC,AAuL3B,CAtLX,MAAO,UACP,cAAe,UACf,QAAS,UACT,WAAY,UACb,CACa,CAAC,AAiLW,GAjLC,GAAG,EAAI,UAkLhC,aAAc,iCACd,EACA,gBA1KM,CA0KW,AAhLqB,CACtC,MAAO,UACP,WAAY,UACZ,QAAS,UACT,QAAS,SACV,EACa,CAAC,AA0KuB,GA1KX,GAAG,EAAI,UA2KhC,OAAS,EAAO,MAAM,EAA6B,SACnD,OAAQ,AA7CV,SAAS,AACR,CAAiB,CACjB,CAA6B,EAE7B,IAAM,EACL,EAAkB,EAAM,CACvB,aACA,SACA,WACA,YACA,GACD,EAAkB,EAAS,EAAK,OAAO,EAAG,CACzC,aACA,SACA,WACA,YACA,EACF,GAAI,EACH,MADW,CACJ,EAER,IAAM,EAAa,EAAO,IAAI,EAAE,WAChC,MAA6B,AAAtB,iBAAO,GAA2B,EAAW,MAAM,CAAG,EAC1D,OACA,CACJ,EAqBsB,EAAQ,GAC5B,SACC,EAAO,SAAS,GACO,CAAvB,SAAC,OAAO,EAAK,KAAK,CAAgB,EAAK,KAAK,MAAG,CAAA,CAAS,EACxD,EACD,MACC,EAAO,KAAK,GAAK,AAAsB,CAAvB,gBAAQ,EAAK,KAAK,CAAgB,EAAK,KAAK,MAAG,CAAA,CAAS,CACzE,WAAY,EACT,IAAI,KAAK,GAAkB,kBAAkB,GAC7C,GACH,WAAY,EACT,AA3NL,SAAS,AAAgB,CAAU,EAGlC,IAAM,EAAW,KAAK,KAAK,CAAC,CAFhB,AACG,IADC,OACG,OAAO,GAAK,EAAK,OAAO,EAAA,EACN,KAErC,GAAI,EAAW,EACd,CADiB,KACV,WAER,GAAI,EAAW,GACd,CADkB,KACX,CAAA,EAAG,EAAS,QAAQ,CAAC,CAE7B,IAAM,EAAY,KAAK,KAAK,CAAC,EAAW,IACxC,GAAI,EAAY,GACf,CADmB,KACZ,CAAA,EAAG,EAAU,KAAK,EAAE,EAAY,EAAI,IAAM,GAAG,IAAI,CAAC,CAE1D,IAAM,EAAW,KAAK,KAAK,CAAC,EAAY,IACxC,MAAO,CAAA,EAAG,EAAS,IAAI,EAAE,EAAW,EAAI,IAAM,GAAG,IAAI,CAAC,AACvD,EA0MqB,IAAI,KAAK,IACzB,QACH,YAAa,EAAO,WAAW,AAChC,CACD,CAEO,eAAe,EAAS,cAC9B,CAAY,CAGZ,EACA,IAAM,EAAkB,MAAM,CAAA,EAAA,EAAA,kBAAA,AAAkB,IAChD,GAAI,CAAC,EACJ,MAAO,CAAA,EAAA,EAAA,IADc,IACd,AAAQ,IAGhB,IAAM,EAAc,OAAO,GAAc,OAAS,EAC5C,EAAc,GAAc,QAAU,GACtC,EAAmB,GAAc,QAA4B,SAC7D,EAA+B,CAAC,SAAU,WAAY,MAAM,CAAC,QAAQ,CAC1E,GAEE,EACA,SAEG,CAAE,YAAa,CAAc,YAAE,CAAU,CAAE,CAChD,MAAM,EACL,EACA,EACA,EACA,EACA,GAGI,EAA4B,EAAe,GAAG,CAAC,GAErD,MACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,YAAY,CAAA,CACZ,OAAQ,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,QAAS,IAC9B,QAAQ,OACR,MACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CACV,qBAAsB,EACtB,mBAAoB,EACpB,aAAc,EACd,YAAa,EACb,WAAY,EACZ,YAAa,KAKlB,CElRA,EAAA,CAAA,CAAA,QAAA,IAAA,EAAA,EAAA,CAAA,CAAA,QAEO,SAAS,IACf,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,qBAAqB,CAAA,CAAA,EAC9B,CHIe,eAAe,EAAS,cACtC,CAAY,CAGZ,EACA,IAAM,EAAS,MAAM,EACrB,MACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gCAId,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kCACd,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,SAAU,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAA,YACpB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAS,aAAc,SAK7B","ignoreList":[0,1,2]}