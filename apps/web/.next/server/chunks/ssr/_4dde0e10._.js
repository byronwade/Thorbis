module.exports=[212957,a=>{"use strict";let b=(0,a.i(203431).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);a.s(["default",()=>b])},525756,a=>{"use strict";var b=a.i(212957);a.s(["Edit",()=>b.default])},765890,a=>{"use strict";let b=(0,a.i(203431).default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);a.s(["default",()=>b])},988253,a=>{"use strict";var b=a.i(765890);a.s(["Copy",()=>b.default])},264738,a=>{"use strict";let b=(0,a.i(203431).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);a.s(["default",()=>b])},779184,a=>{"use strict";var b=a.i(264738);a.s(["ChevronLeft",()=>b.default])},917640,a=>{"use strict";var b=a.i(734972);a.s(["ArrowDown",()=>b.default])},146674,a=>{"use strict";let b=(0,a.i(203431).default)("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);a.s(["default",()=>b])},155519,a=>{"use strict";var b=a.i(146674);a.s(["ArrowUp",()=>b.default])},734972,a=>{"use strict";let b=(0,a.i(203431).default)("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);a.s(["default",()=>b])},147225,a=>{"use strict";let b=(0,a.i(203431).default)("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);a.s(["default",()=>b])},858707,a=>{"use strict";a.s(["TablePresets",0,{fullList:(a={})=>({variant:"full",enableSelection:a.enableSelection??!0,showRefresh:a.showRefresh??!1,showPagination:a.showPagination??!0,itemsPerPage:a.itemsPerPage??50,serverPagination:a.serverPagination??!1,serverSearch:a.serverSearch??!1,searchPlaceholder:a.searchPlaceholder??"Search...",entity:a.entity,noPadding:a.noPadding??!1}),compact:(a={})=>({variant:"compact",enableSelection:a.enableSelection??!1,showRefresh:a.showRefresh??!1,showPagination:a.showPagination??!0,itemsPerPage:a.itemsPerPage??20,serverPagination:a.serverPagination??!1,serverSearch:a.serverSearch??!1,searchPlaceholder:a.searchPlaceholder??"Search...",entity:a.entity,noPadding:a.noPadding??!1}),nested:(a={})=>({variant:"nested",enableSelection:a.enableSelection??!1,showRefresh:a.showRefresh??!1,showPagination:a.showPagination??!1,itemsPerPage:a.itemsPerPage??10,serverPagination:a.serverPagination??!1,serverSearch:a.serverSearch??!1,entity:a.entity,noPadding:a.noPadding??!0}),serverPaginated:(a={})=>({variant:"full",enableSelection:a.enableSelection??!0,showRefresh:a.showRefresh??!1,showPagination:a.showPagination??!0,itemsPerPage:a.itemsPerPage??50,serverPagination:!0,serverSearch:!0,searchPlaceholder:a.searchPlaceholder??"Search...",entity:a.entity,noPadding:a.noPadding??!1}),readOnly:(a={})=>({variant:a.itemsPerPage?"full":"compact",enableSelection:!1,showRefresh:!1,showPagination:a.showPagination??!!a.itemsPerPage,itemsPerPage:a.itemsPerPage??20,serverPagination:a.serverPagination??!1,serverSearch:!1,entity:a.entity,noPadding:a.noPadding??!1}),modal:(a={})=>({variant:"compact",enableSelection:a.enableSelection??!0,showRefresh:!1,showPagination:a.showPagination??!1,itemsPerPage:a.itemsPerPage??10,serverPagination:!1,serverSearch:!1,searchPlaceholder:a.searchPlaceholder??"Search...",noPadding:!0})}])},463359,370528,a=>{"use strict";a.i(156120),a.s([],463359);var b=a.i(337241),c=a.i(156916);function d({entityType:a,basePath:d}){let e=(0,b.useRouter)(),f={jobs:"job",invoices:"invoice",estimates:"estimate",payments:"payment",contracts:"contract",appointments:"appointment",equipment:"equipment","maintenance-plans":"maintenance plan","service-agreements":"service agreement","purchase-orders":"purchase order",properties:"property",customers:"customer"}[a]||a,g=d||`/dashboard/work/${a}`,h=async(a,b)=>{try{return await b(a),c.toast.success(`${a.length} ${f}s archived successfully`),e.refresh(),!0}catch(a){return console.error(`Failed to archive ${f}s:`,a),c.toast.error(`Failed to archive ${f}s`),!1}};return{handleRowClick:a=>{e.push(`${g}/${a}`)},handleArchive:async(a,b)=>{try{return await b(a),c.toast.success(`${f} archived successfully`),e.refresh(),!0}catch(a){return console.error(`Failed to archive ${f}:`,a),c.toast.error(`Failed to archive ${f}`),!1}},handleBulkArchive:h,handleRestore:async(a,b)=>{try{return await b(a),c.toast.success(`${f} restored successfully`),e.refresh(),!0}catch(a){return console.error(`Failed to restore ${f}:`,a),c.toast.error(`Failed to restore ${f}`),!1}},handleRefresh:()=>{e.refresh(),c.toast.success("Refreshed")},createSearchFilter:a=>(b,c)=>{let d=c.toLowerCase().trim();return!d||a.some(a=>{let c=b[a];return null!=c&&String(c).toLowerCase().includes(d)})},createBulkActions:a=>{let b=[];return a.archive&&b.push({label:"Archive Selected",onClick:b=>h(b,a.archive)}),a.export&&b.push({label:"Export Selected",onClick:async b=>{try{await a.export(b),c.toast.success(`Exported ${b.length} ${f}s`)}catch(a){c.toast.error("Failed to export")}}}),a.delete&&b.push({label:"Delete Selected",onClick:async b=>{try{await a.delete(b),c.toast.success(`Deleted ${b.length} ${f}s`),e.refresh()}catch(a){c.toast.error("Failed to delete")}}}),b},entityLabel:f}}a.s(["useTableActions",()=>d],370528)},34207,a=>{"use strict";let b=(0,a.i(203431).default)("box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);a.s(["default",()=>b])},299705,a=>{"use strict";var b=a.i(34207);a.s(["Box",()=>b.default])},104031,a=>{"use strict";var b=a.i(861467),c=a.i(452168),d=a.i(299705),e=a.i(988253),f=a.i(274956),g=a.i(525756),h=a.i(854729),i=a.i(94436),j=a.i(949747),k=a.i(688014),l=a.i(75618),m=a.i(145679),n=a.i(783281),o=a.i(169021),p=(0,o.createServerReference)("407b4c1fe4d280f59e21f5c9f74d7df6e4f134ef32",o.callServer,void 0,o.findSourceMapURL,"archivePriceBookItem");a.i(463359);var q=a.i(954581);a.i(288007);var r=a.i(986990);a.i(445255);var s=a.i(18170);a.i(956852);var t=a.i(90125),u=a.i(380340),v=a.i(370528),w=a.i(858707),x=a.i(792268),y=a.i(733695),z=a.i(700760);function A({items:a,itemsPerPage:o=50,onRefresh:A}){let B=(0,y.usePriceBookStore)(a=>a.itemTypeFilter),C=(0,y.usePriceBookStore)(a=>a.categoryFilter),D=(0,y.usePriceBookStore)(a=>a.getFilterSummary),{handleRefresh:E}=(0,v.useTableActions)({entityType:"price_book"}),{openArchiveDialog:F,ArchiveDialogComponent:G}=(0,q.useArchiveDialog)({onConfirm:async a=>{(await p(a)).success&&E()},title:"Archive Price Book Item?",description:"This item will be archived and can be restored within 90 days."}),[H,I]=(0,n.useState)(new Set),{openArchiveDialog:J,ArchiveDialogComponent:K}=(0,q.useArchiveDialog)({onConfirm:async()=>{let a=0;for(let b of H)(await p(b)).success&&a++;a>0&&E()},title:`Archive ${H.size} Item(s)?`,description:`${H.size} item(s) will be archived and can be restored within 90 days.`}),L=a.filter(a=>("all"===B||a.itemType===B)&&(!C.category||a.category===C.category&&(!C.subcategory||!!a.subcategory?.includes(C.subcategory)))&&!0),M=[{key:"image",header:"",width:"w-12",shrink:!0,hideOnMobile:!0,render:a=>(0,b.jsx)("div",{className:"bg-muted flex h-10 w-10 items-center justify-center overflow-hidden rounded-md border",children:a.imageUrl?(0,b.jsx)(l.default,{alt:a.name,className:"h-full w-full object-cover",src:a.imageUrl,width:40,height:40}):(0,b.jsx)(j.Package,{className:"text-muted-foreground h-4 w-4"})})},{key:"name",header:"Item Name",width:"flex-1",render:a=>(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(m.default,{className:"text-foreground truncate text-xs leading-tight font-medium hover:underline",href:`/dashboard/work/pricebook/${a.id}`,onClick:a=>a.stopPropagation(),children:a.name}),a.priceTier&&"standard"!==a.priceTier&&(0,b.jsxs)("span",{className:"text-muted-foreground text-xs",children:["- ","good"===a.priceTier&&"Good","better"===a.priceTier&&"Better","best"===a.priceTier&&"Best"]})]}),(0,b.jsxs)("div",{className:"text-muted-foreground flex items-center gap-2 text-xs",children:[(0,b.jsxs)("span",{className:"truncate font-mono",children:["SKU: ",a.sku]}),(0,b.jsx)("span",{children:"•"}),(0,b.jsx)("span",{children:"service"===a.itemType?"Service":"material"===a.itemType?"Material":"Equipment"}),a.isFlatRate&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{children:"•"}),(0,b.jsx)("span",{children:"Flat Rate"})]})]})]})},{key:"category",header:"Category",width:"w-48",shrink:!0,hideOnMobile:!0,render:a=>{let c=a.subcategory?`${a.category} › ${a.subcategory}`:a.category;return(0,b.jsx)("div",{className:"text-muted-foreground truncate text-xs",children:c})}},{key:"labor",header:"Labor",width:"w-20",shrink:!0,align:"right",hideOnMobile:!0,render:a=>"service"===a.itemType&&a.laborHours?(0,b.jsxs)("div",{className:"text-muted-foreground flex items-center gap-1 text-xs",children:[(0,b.jsx)("span",{className:"font-medium",children:a.laborHours}),(0,b.jsx)("span",{className:"text-xs",children:"hrs"})]}):(0,b.jsx)("div",{className:"text-muted-foreground text-xs",children:"—"})},{key:"cost",header:"Cost",width:"w-24",shrink:!0,align:"right",hideOnMobile:!0,render:a=>(0,b.jsx)("div",{className:"text-muted-foreground text-xs font-medium",children:(0,x.formatCurrency)(a.cost)})},{key:"price",header:"Price",width:"w-28",shrink:!0,align:"right",render:a=>(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-foreground text-xs font-semibold",children:(0,x.formatCurrency)(a.price)}),(0,b.jsx)("div",{className:"text-muted-foreground text-xs",children:a.unit})]})},{key:"markup",header:"Markup",width:"w-20",shrink:!0,align:"right",hideOnMobile:!0,render:a=>(0,b.jsxs)("div",{className:"text-success dark:text-success text-xs font-medium",children:[a.markupPercent,"%"]})},{key:"status",header:"Status",width:"w-24",shrink:!0,hideOnMobile:!0,render:a=>a.isActive?null:(0,b.jsx)(r.Badge,{className:(0,z.cn)("text-xs font-medium","border-border/50 bg-background text-muted-foreground"),variant:"outline",children:"Inactive"})},{key:"actions",header:"",width:"w-12",shrink:!0,align:"right",render:a=>(0,b.jsx)("div",{"data-no-row-click":!0,children:(0,b.jsxs)(t.DropdownMenu,{children:[(0,b.jsx)(t.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsxs)(s.Button,{className:"h-8 w-8 p-0",variant:"ghost",children:[(0,b.jsx)("span",{className:"sr-only",children:"Open menu"}),(0,b.jsx)(i.MoreHorizontal,{className:"h-4 w-4"})]})}),(0,b.jsxs)(t.DropdownMenuContent,{align:"end",children:[(0,b.jsx)(t.DropdownMenuLabel,{children:"Actions"}),(0,b.jsx)(t.DropdownMenuItem,{asChild:!0,onClick:a=>a.stopPropagation(),children:(0,b.jsxs)(m.default,{href:`/dashboard/work/pricebook/${a.id}`,children:[(0,b.jsx)(h.Eye,{className:"mr-2 h-4 w-4"}),"View Details"]})}),(0,b.jsx)(t.DropdownMenuItem,{asChild:!0,onClick:a=>a.stopPropagation(),children:(0,b.jsxs)(m.default,{href:`/dashboard/work/pricebook/${a.id}/edit`,children:[(0,b.jsx)(g.Edit,{className:"mr-2 h-4 w-4"}),"Edit Item"]})}),(0,b.jsxs)(t.DropdownMenuItem,{onClick:a=>a.stopPropagation(),children:[(0,b.jsx)(e.Copy,{className:"mr-2 h-4 w-4"}),"Duplicate"]}),(0,b.jsx)(t.DropdownMenuSeparator,{}),(0,b.jsxs)(t.DropdownMenuItem,{className:"text-warning dark:text-warning",onClick:a=>a.stopPropagation(),children:[(0,b.jsx)(c.Archive,{className:"mr-2 h-4 w-4"}),a.isActive?"Deactivate":"Activate"]}),(0,b.jsxs)(t.DropdownMenuItem,{className:"text-destructive",onClick:()=>{F(a.id)},children:[(0,b.jsx)(c.Archive,{className:"mr-2 size-4"}),"Archive Item"]})]})]})})}],N=[{label:"Mass Price Update",icon:(0,b.jsx)(k.TrendingUp,{className:"h-4 w-4"}),onClick:()=>{}},{label:"Change Category",icon:(0,b.jsx)(j.Package,{className:"h-4 w-4"}),onClick:()=>{}},{label:"Bulk Export",icon:(0,b.jsx)(f.DollarSign,{className:"h-4 w-4"}),onClick:()=>{}},{label:"Archive Selected",icon:(0,b.jsx)(c.Archive,{className:"h-4 w-4"}),variant:"destructive",onClick:async a=>{I(a),J("")}}],O=D(),P="All Items"!==O?`No items found for: ${O}`:"No price book items found";return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex h-full flex-col",children:["All Items"!==O&&(0,b.jsx)("div",{className:"bg-muted/30 shrink-0 border-b px-6 py-3",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-muted-foreground text-xs",children:"Showing:"}),(0,b.jsx)(r.Badge,{className:"font-medium",variant:"secondary",children:O}),(0,b.jsxs)("span",{className:"text-muted-foreground text-xs",children:["(",L.length," ",1===L.length?"item":"items",")"]})]})}),(0,b.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,b.jsx)(u.FullWidthDataTable,{...w.TablePresets.fullList(),bulkActions:N,columns:M,data:L,emptyIcon:(0,b.jsx)(d.Box,{className:"text-muted-foreground h-8 w-8"}),emptyMessage:P,getItemId:a=>a.id,onRefresh:E,onRowClick:a=>{window.location.href=`/dashboard/work/pricebook/${a.id}`},searchFilter:(a,b)=>{let c=b.toLowerCase();return a.name.toLowerCase().includes(c)||a.sku.toLowerCase().includes(c)||a.category.toLowerCase().includes(c)||(a.subcategory?.toLowerCase()||"").includes(c)||(a.description?.toLowerCase()||"").includes(c)||(a.supplierName?.toLowerCase()||"").includes(c)||(a.tags?.some(a=>a.toLowerCase().includes(c))??!1)},searchPlaceholder:"Search by name, SKU, category, or tags...",showPagination:!0,showRefresh:!0})})]}),(0,b.jsx)(G,{}),(0,b.jsx)(K,{})]})}a.s(["PriceBookTable",()=>A],104031)}];

//# sourceMappingURL=_4dde0e10._.js.map