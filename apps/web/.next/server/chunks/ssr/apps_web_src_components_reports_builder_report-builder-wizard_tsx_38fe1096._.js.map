{"version":3,"sources":["../../../../../../apps/web/src/components/reports/builder/report-builder-wizard.tsx","../../../../../../apps/web/src/lib/layout/reports-sidebar-config.tsx"],"sourcesContent":["\"use client\";\n\n/**\n * Report Builder Wizard - Visual Report Creation\n *\n * Step-by-step wizard for creating custom reports.\n * Designed to be so intuitive a 5th grader can use it.\n */\n\nimport {\n\tBarChart3,\n\tBriefcase,\n\tCalendar,\n\tCheck,\n\tChevronLeft,\n\tChevronRight,\n\tClock,\n\tDollarSign,\n\tEye,\n\tLineChart,\n\tPieChart,\n\tSave,\n\tSparkles,\n\tTrendingUp,\n\tUserCheck,\n\tUsers,\n} from \"lucide-react\";\nimport { useRouter } from \"next/navigation\";\nimport { useState } from \"react\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n\tCard,\n\tCardContent,\n\tCardDescription,\n\tCardHeader,\n\tCardTitle,\n} from \"@/components/ui/card\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Progress } from \"@/components/ui/progress\";\nimport {\n\tSelect,\n\tSelectContent,\n\tSelectItem,\n\tSelectTrigger,\n\tSelectValue,\n} from \"@/components/ui/select\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport {\n\tAVAILABLE_METRICS,\n\tCHART_TYPES,\n\tREPORT_BUILDER_CATEGORIES,\n\tTIME_RANGE_PRESETS,\n} from \"@/lib/layout/reports-sidebar-config\";\nimport { useReportingStore } from \"@/lib/stores/reporting-store\";\nimport { cn } from \"@/lib/utils\";\n\ntype WizardStep = \"category\" | \"metrics\" | \"filters\" | \"visualization\" | \"save\";\n\nconst STEPS: { id: WizardStep; title: string; description: string }[] = [\n\t{\n\t\tid: \"category\",\n\t\ttitle: \"What do you want to see?\",\n\t\tdescription: \"Pick a category\",\n\t},\n\t{\n\t\tid: \"metrics\",\n\t\ttitle: \"What numbers matter?\",\n\t\tdescription: \"Choose your metrics\",\n\t},\n\t{\n\t\tid: \"filters\",\n\t\ttitle: \"Filter it down\",\n\t\tdescription: \"Set your date range and filters\",\n\t},\n\t{\n\t\tid: \"visualization\",\n\t\ttitle: \"How should it look?\",\n\t\tdescription: \"Pick your chart type\",\n\t},\n\t{ id: \"save\", title: \"Name & Save\", description: \"Give your report a name\" },\n];\n\nexport function ReportBuilderWizard() {\n\tconst router = useRouter();\n\tconst addCustomReport = useReportingStore((state) => state.addCustomReport);\n\n\t// Wizard state\n\tconst [currentStep, setCurrentStep] = useState<WizardStep>(\"category\");\n\tconst [selectedCategory, setSelectedCategory] = useState<string | null>(null);\n\tconst [selectedMetrics, setSelectedMetrics] = useState<string[]>([]);\n\tconst [dateRange, setDateRange] = useState(\"30d\");\n\tconst [chartType, setChartType] = useState(\"line\");\n\tconst [reportName, setReportName] = useState(\"\");\n\tconst [reportDescription, setReportDescription] = useState(\"\");\n\tconst [addToSidebar, setAddToSidebar] = useState(true);\n\n\tconst currentStepIndex = STEPS.findIndex((s) => s.id === currentStep);\n\tconst progress = ((currentStepIndex + 1) / STEPS.length) * 100;\n\n\tconst canProceed = () => {\n\t\tswitch (currentStep) {\n\t\t\tcase \"category\":\n\t\t\t\treturn selectedCategory !== null;\n\t\t\tcase \"metrics\":\n\t\t\t\treturn selectedMetrics.length > 0;\n\t\t\tcase \"filters\":\n\t\t\t\treturn dateRange !== \"\";\n\t\t\tcase \"visualization\":\n\t\t\t\treturn chartType !== \"\";\n\t\t\tcase \"save\":\n\t\t\t\treturn reportName.trim() !== \"\";\n\t\t\tdefault:\n\t\t\t\treturn true;\n\t\t}\n\t};\n\n\tconst goNext = () => {\n\t\tconst nextIndex = currentStepIndex + 1;\n\t\tif (nextIndex < STEPS.length) {\n\t\t\tsetCurrentStep(STEPS[nextIndex].id);\n\t\t}\n\t};\n\n\tconst goBack = () => {\n\t\tconst prevIndex = currentStepIndex - 1;\n\t\tif (prevIndex >= 0) {\n\t\t\tsetCurrentStep(STEPS[prevIndex].id);\n\t\t}\n\t};\n\n\tconst handleSave = () => {\n\t\tconst slug = reportName\n\t\t\t.toLowerCase()\n\t\t\t.replace(/[^a-z0-9]+/g, \"-\")\n\t\t\t.replace(/(^-|-$)/g, \"\");\n\n\t\taddCustomReport({\n\t\t\ttitle: reportName,\n\t\t\tdescription: reportDescription || `Custom ${selectedCategory} report`,\n\t\t\thref: `/dashboard/reports/custom/${slug}`,\n\t\t\tfilters: {\n\t\t\t\tcategory: selectedCategory,\n\t\t\t\tmetrics: selectedMetrics,\n\t\t\t\tdateRange,\n\t\t\t\tchartType,\n\t\t\t},\n\t\t});\n\n\t\trouter.push(\"/dashboard/reports\");\n\t};\n\n\tconst categoryIcons: Record<string, React.ElementType> = {\n\t\tfinancial: DollarSign,\n\t\toperations: Briefcase,\n\t\tcustomers: Users,\n\t\tteam: UserCheck,\n\t};\n\n\tconst chartIcons: Record<string, React.ElementType> = {\n\t\tline: LineChart,\n\t\tbar: BarChart3,\n\t\tpie: PieChart,\n\t\tarea: TrendingUp,\n\t};\n\n\treturn (\n\t\t<div className=\"mx-auto max-w-3xl space-y-8 p-6\">\n\t\t\t{/* Progress Header */}\n\t\t\t<div className=\"space-y-4\">\n\t\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h1 className=\"text-2xl font-bold\">Create Custom Report</h1>\n\t\t\t\t\t\t<p className=\"text-muted-foreground\">\n\t\t\t\t\t\t\tStep {currentStepIndex + 1} of {STEPS.length}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Badge variant=\"outline\" className=\"gap-1\">\n\t\t\t\t\t\t<Sparkles className=\"h-3 w-3\" />\n\t\t\t\t\t\tReport Builder\n\t\t\t\t\t</Badge>\n\t\t\t\t</div>\n\t\t\t\t<Progress value={progress} className=\"h-2\" />\n\t\t\t\t<div className=\"flex justify-between text-xs text-muted-foreground\">\n\t\t\t\t\t{STEPS.map((step, index) => (\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tkey={step.id}\n\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\"transition-colors\",\n\t\t\t\t\t\t\t\tindex <= currentStepIndex && \"text-primary font-medium\",\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{step.title}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Step Content */}\n\t\t\t<Card className=\"min-h-[400px]\">\n\t\t\t\t<CardHeader>\n\t\t\t\t\t<CardTitle className=\"flex items-center gap-2 text-xl\">\n\t\t\t\t\t\t{currentStep === \"category\" && \"What do you want to see?\"}\n\t\t\t\t\t\t{currentStep === \"metrics\" && \"What numbers matter?\"}\n\t\t\t\t\t\t{currentStep === \"filters\" && \"Filter it down\"}\n\t\t\t\t\t\t{currentStep === \"visualization\" && \"How should it look?\"}\n\t\t\t\t\t\t{currentStep === \"save\" && \"Name & Save\"}\n\t\t\t\t\t</CardTitle>\n\t\t\t\t\t<CardDescription>\n\t\t\t\t\t\t{STEPS.find((s) => s.id === currentStep)?.description}\n\t\t\t\t\t</CardDescription>\n\t\t\t\t</CardHeader>\n\t\t\t\t<CardContent>\n\t\t\t\t\t{/* Step 1: Category Selection */}\n\t\t\t\t\t{currentStep === \"category\" && (\n\t\t\t\t\t\t<div className=\"grid gap-4 sm:grid-cols-2\">\n\t\t\t\t\t\t\t{REPORT_BUILDER_CATEGORIES.map((category) => {\n\t\t\t\t\t\t\t\tconst Icon = categoryIcons[category.id] || Briefcase;\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tkey={category.id}\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => setSelectedCategory(category.id)}\n\t\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\t\"flex flex-col items-center gap-3 rounded-xl border-2 p-6 text-center transition-all hover:border-primary/50 hover:bg-muted/50\",\n\t\t\t\t\t\t\t\t\t\t\tselectedCategory === category.id\n\t\t\t\t\t\t\t\t\t\t\t\t? \"border-primary bg-primary/5\"\n\t\t\t\t\t\t\t\t\t\t\t\t: \"border-border\",\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\t\t\"flex h-16 w-16 items-center justify-center rounded-full\",\n\t\t\t\t\t\t\t\t\t\t\t\tcategory.color,\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Icon className=\"h-8 w-8 text-white\" />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<h3 className=\"text-lg font-semibold\">\n\t\t\t\t\t\t\t\t\t\t\t\t{category.label}\n\t\t\t\t\t\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\t\t\t{category.id === \"financial\" &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"Revenue, profit, expenses\"}\n\t\t\t\t\t\t\t\t\t\t\t\t{category.id === \"operations\" &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"Jobs, completion, efficiency\"}\n\t\t\t\t\t\t\t\t\t\t\t\t{category.id === \"customers\" &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"Retention, LTV, acquisition\"}\n\t\t\t\t\t\t\t\t\t\t\t\t{category.id === \"team\" &&\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"Utilization, performance, ratings\"}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{selectedCategory === category.id && (\n\t\t\t\t\t\t\t\t\t\t\t<Check className=\"h-5 w-5 text-primary\" />\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Step 2: Metrics Selection */}\n\t\t\t\t\t{currentStep === \"metrics\" && selectedCategory && (\n\t\t\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">\n\t\t\t\t\t\t\t\tClick to select the metrics you want in your report. You can\n\t\t\t\t\t\t\t\tchoose multiple.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<div className=\"grid gap-2 sm:grid-cols-2\">\n\t\t\t\t\t\t\t\t{AVAILABLE_METRICS[\n\t\t\t\t\t\t\t\t\tselectedCategory as keyof typeof AVAILABLE_METRICS\n\t\t\t\t\t\t\t\t]?.map((metric) => (\n\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\tkey={metric.id}\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tsetSelectedMetrics((prev) =>\n\t\t\t\t\t\t\t\t\t\t\t\tprev.includes(metric.id)\n\t\t\t\t\t\t\t\t\t\t\t\t\t? prev.filter((m) => m !== metric.id)\n\t\t\t\t\t\t\t\t\t\t\t\t\t: [...prev, metric.id],\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\t\"flex items-center gap-3 rounded-lg border-2 p-4 text-left transition-all\",\n\t\t\t\t\t\t\t\t\t\t\tselectedMetrics.includes(metric.id)\n\t\t\t\t\t\t\t\t\t\t\t\t? \"border-primary bg-primary/5\"\n\t\t\t\t\t\t\t\t\t\t\t\t: \"border-border hover:border-primary/50\",\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\t\t\"flex h-8 w-8 items-center justify-center rounded-full\",\n\t\t\t\t\t\t\t\t\t\t\t\tselectedMetrics.includes(metric.id)\n\t\t\t\t\t\t\t\t\t\t\t\t\t? \"bg-primary text-primary-foreground\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"bg-muted\",\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{selectedMetrics.includes(metric.id) ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<Check className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-xs font-bold\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{metric.type === \"currency\" && \"$\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{metric.type === \"percentage\" && \"%\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{metric.type === \"number\" && \"#\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{metric.type === \"duration\" && \"⏱\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{metric.type === \"rating\" && \"★\"}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"font-medium\">{metric.label}</p>\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-muted-foreground capitalize\">\n\t\t\t\t\t\t\t\t\t\t\t\t{metric.type}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"mt-4 flex items-center gap-2 text-sm\">\n\t\t\t\t\t\t\t\t<Badge variant=\"secondary\">\n\t\t\t\t\t\t\t\t\t{selectedMetrics.length} selected\n\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t{selectedMetrics.length > 0 && (\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => setSelectedMetrics([])}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tClear all\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Step 3: Filters */}\n\t\t\t\t\t{currentStep === \"filters\" && (\n\t\t\t\t\t\t<div className=\"space-y-6\">\n\t\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t\t<Label className=\"text-base\">Date Range</Label>\n\t\t\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">\n\t\t\t\t\t\t\t\t\tWhat time period should this report cover?\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<div className=\"grid gap-2 sm:grid-cols-3\">\n\t\t\t\t\t\t\t\t\t{TIME_RANGE_PRESETS.slice(0, 6).map((preset) => (\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tkey={preset.id}\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => setDateRange(preset.id)}\n\t\t\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\t\t\"flex items-center gap-2 rounded-lg border-2 p-3 text-left transition-all\",\n\t\t\t\t\t\t\t\t\t\t\t\tdateRange === preset.id\n\t\t\t\t\t\t\t\t\t\t\t\t\t? \"border-primary bg-primary/5\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"border-border hover:border-primary/50\",\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Calendar className=\"h-4 w-4 text-muted-foreground\" />\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-medium\">{preset.label}</span>\n\t\t\t\t\t\t\t\t\t\t\t{dateRange === preset.id && (\n\t\t\t\t\t\t\t\t\t\t\t\t<Check className=\"ml-auto h-4 w-4 text-primary\" />\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t\t<Label className=\"text-base\">Comparison (Optional)</Label>\n\t\t\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">\n\t\t\t\t\t\t\t\t\tCompare against a previous period?\n\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t<Select defaultValue=\"none\">\n\t\t\t\t\t\t\t\t\t<SelectTrigger>\n\t\t\t\t\t\t\t\t\t\t<SelectValue placeholder=\"Select comparison\" />\n\t\t\t\t\t\t\t\t\t</SelectTrigger>\n\t\t\t\t\t\t\t\t\t<SelectContent>\n\t\t\t\t\t\t\t\t\t\t<SelectItem value=\"none\">No comparison</SelectItem>\n\t\t\t\t\t\t\t\t\t\t<SelectItem value=\"previous\">Previous period</SelectItem>\n\t\t\t\t\t\t\t\t\t\t<SelectItem value=\"last_year\">\n\t\t\t\t\t\t\t\t\t\t\tSame period last year\n\t\t\t\t\t\t\t\t\t\t</SelectItem>\n\t\t\t\t\t\t\t\t\t</SelectContent>\n\t\t\t\t\t\t\t\t</Select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Step 4: Visualization */}\n\t\t\t\t\t{currentStep === \"visualization\" && (\n\t\t\t\t\t\t<div className=\"space-y-4\">\n\t\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">\n\t\t\t\t\t\t\t\tPick how you want your data displayed.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<div className=\"grid gap-4 sm:grid-cols-2\">\n\t\t\t\t\t\t\t\t{CHART_TYPES.map((chart) => {\n\t\t\t\t\t\t\t\t\tconst Icon = chartIcons[chart.id] || LineChart;\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\t\t\tkey={chart.id}\n\t\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => setChartType(chart.id)}\n\t\t\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\t\t\"flex items-start gap-4 rounded-xl border-2 p-4 text-left transition-all\",\n\t\t\t\t\t\t\t\t\t\t\t\tchartType === chart.id\n\t\t\t\t\t\t\t\t\t\t\t\t\t? \"border-primary bg-primary/5\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"border-border hover:border-primary/50\",\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"flex h-12 w-12 items-center justify-center rounded-lg\",\n\t\t\t\t\t\t\t\t\t\t\t\t\tchartType === chart.id\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? \"bg-primary text-primary-foreground\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: \"bg-muted\",\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<Icon className=\"h-6 w-6\" />\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t\t<h3 className=\"font-semibold\">{chart.label}</h3>\n\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{chart.description}\n\t\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t{chartType === chart.id && (\n\t\t\t\t\t\t\t\t\t\t\t\t<Check className=\"ml-auto h-5 w-5 text-primary\" />\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\n\t\t\t\t\t{/* Step 5: Save */}\n\t\t\t\t\t{currentStep === \"save\" && (\n\t\t\t\t\t\t<div className=\"space-y-6\">\n\t\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t\t<Label htmlFor=\"reportName\" className=\"text-base\">\n\t\t\t\t\t\t\t\t\tReport Name *\n\t\t\t\t\t\t\t\t</Label>\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\tid=\"reportName\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"e.g., Monthly Revenue Summary\"\n\t\t\t\t\t\t\t\t\tvalue={reportName}\n\t\t\t\t\t\t\t\t\tonChange={(e) => setReportName(e.target.value)}\n\t\t\t\t\t\t\t\t\tclassName=\"text-lg\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"space-y-3\">\n\t\t\t\t\t\t\t\t<Label htmlFor=\"reportDescription\" className=\"text-base\">\n\t\t\t\t\t\t\t\t\tDescription (Optional)\n\t\t\t\t\t\t\t\t</Label>\n\t\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\t\tid=\"reportDescription\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"What does this report show?\"\n\t\t\t\t\t\t\t\t\tvalue={reportDescription}\n\t\t\t\t\t\t\t\t\tonChange={(e) => setReportDescription(e.target.value)}\n\t\t\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<div className=\"flex items-center gap-3 rounded-lg border bg-muted/30 p-4\">\n\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\tid=\"addToSidebar\"\n\t\t\t\t\t\t\t\t\tchecked={addToSidebar}\n\t\t\t\t\t\t\t\t\tonCheckedChange={(checked) =>\n\t\t\t\t\t\t\t\t\t\tsetAddToSidebar(checked as boolean)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Label\n\t\t\t\t\t\t\t\t\t\thtmlFor=\"addToSidebar\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"cursor-pointer font-medium\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tAdd to sidebar\n\t\t\t\t\t\t\t\t\t</Label>\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\tQuick access from the reports sidebar\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t{/* Summary */}\n\t\t\t\t\t\t\t<div className=\"rounded-lg border bg-card/50 p-4\">\n\t\t\t\t\t\t\t\t<h4 className=\"mb-3 font-semibold\">Report Summary</h4>\n\t\t\t\t\t\t\t\t<div className=\"space-y-2 text-sm\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-muted-foreground\">Category:</span>\n\t\t\t\t\t\t\t\t\t\t<span className=\"font-medium capitalize\">\n\t\t\t\t\t\t\t\t\t\t\t{selectedCategory}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-muted-foreground\">Metrics:</span>\n\t\t\t\t\t\t\t\t\t\t<span className=\"font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t{selectedMetrics.length} selected\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-muted-foreground\">Date Range:</span>\n\t\t\t\t\t\t\t\t\t\t<span className=\"font-medium\">\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tTIME_RANGE_PRESETS.find((p) => p.id === dateRange)\n\t\t\t\t\t\t\t\t\t\t\t\t\t?.label\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"flex justify-between\">\n\t\t\t\t\t\t\t\t\t\t<span className=\"text-muted-foreground\">Chart Type:</span>\n\t\t\t\t\t\t\t\t\t\t<span className=\"font-medium capitalize\">{chartType}</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t</CardContent>\n\t\t\t</Card>\n\n\t\t\t{/* Navigation */}\n\t\t\t<div className=\"flex items-center justify-between\">\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\tonClick={goBack}\n\t\t\t\t\tdisabled={currentStepIndex === 0}\n\t\t\t\t>\n\t\t\t\t\t<ChevronLeft className=\"mr-2 h-4 w-4\" />\n\t\t\t\t\tBack\n\t\t\t\t</Button>\n\n\t\t\t\t<div className=\"flex gap-2\">\n\t\t\t\t\t{currentStep === \"save\" ? (\n\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t<Button variant=\"outline\">\n\t\t\t\t\t\t\t\t<Eye className=\"mr-2 h-4 w-4\" />\n\t\t\t\t\t\t\t\tPreview\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Button onClick={handleSave} disabled={!canProceed()}>\n\t\t\t\t\t\t\t\t<Save className=\"mr-2 h-4 w-4\" />\n\t\t\t\t\t\t\t\tSave Report\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</>\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<Button onClick={goNext} disabled={!canProceed()}>\n\t\t\t\t\t\t\tNext\n\t\t\t\t\t\t\t<ChevronRight className=\"ml-2 h-4 w-4\" />\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","/**\n * Reports Sidebar Configuration\n *\n * Defines the sidebar navigation structure for the analytics/reports section.\n * Modeled after the AI sidebar with collapsible sections and custom reports.\n */\n\nimport {\n\tActivity,\n\tAlertTriangle,\n\tBarChart3,\n\tBell,\n\tBriefcase,\n\tBuilding2,\n\tCalendar,\n\tClock,\n\tCreditCard,\n\tDollarSign,\n\tDownload,\n\tFileText,\n\tGauge,\n\tLineChart,\n\tMail,\n\tMessageSquare,\n\tPackage,\n\tPhone,\n\tPieChart,\n\tPlus,\n\tReceipt,\n\tSettings,\n\tShield,\n\tSparkles,\n\tStar,\n\tTarget,\n\tTrendingUp,\n\tTruck,\n\tUserCheck,\n\tUsers,\n\tWallet,\n\tWrench,\n} from \"lucide-react\";\nimport type { SidebarConfig } from \"@/lib/layout/sidebar-types\";\n\nexport type ReportCategory = {\n\tid: string;\n\ttitle: string;\n\tdescription: string;\n\ticon: React.ElementType;\n\thref: string;\n\tbadge?: string;\n\tisNew?: boolean;\n};\n\nexport type ReportSection = {\n\tid: string;\n\ttitle: string;\n\ticon: React.ElementType;\n\treports: ReportCategory[];\n\tdefaultOpen?: boolean;\n};\n\n// All available report sections\nexport const REPORT_SECTIONS: ReportSection[] = [\n\t{\n\t\tid: \"overview\",\n\t\ttitle: \"Overview\",\n\t\ticon: BarChart3,\n\t\tdefaultOpen: true,\n\t\treports: [\n\t\t\t{\n\t\t\t\tid: \"dashboard\",\n\t\t\t\ttitle: \"Analytics Dashboard\",\n\t\t\t\tdescription: \"Real-time KPIs and trends\",\n\t\t\t\ticon: Gauge,\n\t\t\t\thref: \"/dashboard/reports\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"executive\",\n\t\t\t\ttitle: \"Executive Summary\",\n\t\t\t\tdescription: \"High-level business metrics\",\n\t\t\t\ticon: TrendingUp,\n\t\t\t\thref: \"/dashboard/reports/executive\",\n\t\t\t\tbadge: \"PDF\",\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tid: \"financial\",\n\t\ttitle: \"Financial\",\n\t\ticon: DollarSign,\n\t\tdefaultOpen: true,\n\t\treports: [\n\t\t\t{\n\t\t\t\tid: \"revenue\",\n\t\t\t\ttitle: \"Revenue Report\",\n\t\t\t\tdescription: \"Income and revenue trends\",\n\t\t\t\ticon: DollarSign,\n\t\t\t\thref: \"/dashboard/reports/financial\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"profit-loss\",\n\t\t\t\ttitle: \"Profit & Loss\",\n\t\t\t\tdescription: \"P&L statement and margins\",\n\t\t\t\ticon: PieChart,\n\t\t\t\thref: \"/dashboard/reports/financial/profit-loss\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"cash-flow\",\n\t\t\t\ttitle: \"Cash Flow\",\n\t\t\t\tdescription: \"Cash inflows and outflows\",\n\t\t\t\ticon: Wallet,\n\t\t\t\thref: \"/dashboard/reports/financial/cash-flow\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"ar-aging\",\n\t\t\t\ttitle: \"AR Aging\",\n\t\t\t\tdescription: \"Outstanding receivables\",\n\t\t\t\ticon: Receipt,\n\t\t\t\thref: \"/dashboard/reports/financial/ar-aging\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"expenses\",\n\t\t\t\ttitle: \"Expense Report\",\n\t\t\t\tdescription: \"Cost breakdown and analysis\",\n\t\t\t\ticon: CreditCard,\n\t\t\t\thref: \"/dashboard/reports/financial/expenses\",\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tid: \"operations\",\n\t\ttitle: \"Operations\",\n\t\ticon: Briefcase,\n\t\treports: [\n\t\t\t{\n\t\t\t\tid: \"jobs\",\n\t\t\t\ttitle: \"Job Performance\",\n\t\t\t\tdescription: \"Completion rates and efficiency\",\n\t\t\t\ticon: Briefcase,\n\t\t\t\thref: \"/dashboard/reports/jobs\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"service-types\",\n\t\t\t\ttitle: \"Service Types\",\n\t\t\t\tdescription: \"Performance by service category\",\n\t\t\t\ticon: Wrench,\n\t\t\t\thref: \"/dashboard/reports/operational/service-types\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"dispatch\",\n\t\t\t\ttitle: \"Dispatch Efficiency\",\n\t\t\t\tdescription: \"Route optimization metrics\",\n\t\t\t\ticon: Truck,\n\t\t\t\thref: \"/dashboard/reports/operational/dispatch\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"equipment\",\n\t\t\t\ttitle: \"Equipment Analytics\",\n\t\t\t\tdescription: \"Utilization and maintenance\",\n\t\t\t\ticon: Package,\n\t\t\t\thref: \"/dashboard/reports/operational/equipment\",\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tid: \"team\",\n\t\ttitle: \"Team Performance\",\n\t\ticon: Users,\n\t\treports: [\n\t\t\t{\n\t\t\t\tid: \"leaderboard\",\n\t\t\t\ttitle: \"Team Leaderboard\",\n\t\t\t\tdescription: \"Rankings by revenue and jobs\",\n\t\t\t\ticon: UserCheck,\n\t\t\t\thref: \"/dashboard/reports/technicians\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"productivity\",\n\t\t\t\ttitle: \"Productivity Report\",\n\t\t\t\tdescription: \"Utilization and efficiency\",\n\t\t\t\ticon: Activity,\n\t\t\t\thref: \"/dashboard/reports/technicians/productivity\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"revenue-per-tech\",\n\t\t\t\ttitle: \"Revenue per Tech\",\n\t\t\t\tdescription: \"Individual revenue contribution\",\n\t\t\t\ticon: DollarSign,\n\t\t\t\thref: \"/dashboard/reports/technicians/revenue\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"training\",\n\t\t\t\ttitle: \"Training & Certs\",\n\t\t\t\tdescription: \"Certifications and training\",\n\t\t\t\ticon: Shield,\n\t\t\t\thref: \"/dashboard/reports/technicians/training\",\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tid: \"customers\",\n\t\ttitle: \"Customer Analytics\",\n\t\ticon: Target,\n\t\treports: [\n\t\t\t{\n\t\t\t\tid: \"customer-analytics\",\n\t\t\t\ttitle: \"Customer Overview\",\n\t\t\t\tdescription: \"Retention and LTV analysis\",\n\t\t\t\ticon: Target,\n\t\t\t\thref: \"/dashboard/reports/customers\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"acquisition\",\n\t\t\t\ttitle: \"Acquisition Report\",\n\t\t\t\tdescription: \"New customer trends\",\n\t\t\t\ticon: TrendingUp,\n\t\t\t\thref: \"/dashboard/reports/customers/acquisition\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"churn\",\n\t\t\t\ttitle: \"Churn Analysis\",\n\t\t\t\tdescription: \"At-risk customers\",\n\t\t\t\ticon: AlertTriangle,\n\t\t\t\thref: \"/dashboard/reports/customers/churn\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"segments\",\n\t\t\t\ttitle: \"Customer Segments\",\n\t\t\t\tdescription: \"Segment performance\",\n\t\t\t\ticon: PieChart,\n\t\t\t\thref: \"/dashboard/reports/customers/segments\",\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tid: \"communications\",\n\t\ttitle: \"Communications\",\n\t\ticon: MessageSquare,\n\t\treports: [\n\t\t\t{\n\t\t\t\tid: \"comm-overview\",\n\t\t\t\ttitle: \"Communication Stats\",\n\t\t\t\tdescription: \"All channels overview\",\n\t\t\t\ticon: MessageSquare,\n\t\t\t\thref: \"/dashboard/reports/communications\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"email\",\n\t\t\t\ttitle: \"Email Analytics\",\n\t\t\t\tdescription: \"Open rates and engagement\",\n\t\t\t\ticon: Mail,\n\t\t\t\thref: \"/dashboard/reports/communications/email\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"calls\",\n\t\t\t\ttitle: \"Call Analytics\",\n\t\t\t\tdescription: \"Call volume and duration\",\n\t\t\t\ticon: Phone,\n\t\t\t\thref: \"/dashboard/reports/communications/calls\",\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tid: \"scheduling\",\n\t\ttitle: \"Scheduling\",\n\t\ticon: Calendar,\n\t\treports: [\n\t\t\t{\n\t\t\t\tid: \"schedule-utilization\",\n\t\t\t\ttitle: \"Schedule Utilization\",\n\t\t\t\tdescription: \"Capacity and booking rates\",\n\t\t\t\ticon: Calendar,\n\t\t\t\thref: \"/dashboard/reports/scheduling/utilization\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"first-time-fix\",\n\t\t\t\ttitle: \"First Time Fix Rate\",\n\t\t\t\tdescription: \"Resolution efficiency\",\n\t\t\t\ticon: Target,\n\t\t\t\thref: \"/dashboard/reports/scheduling/first-time-fix\",\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"callbacks\",\n\t\t\t\ttitle: \"Callback Report\",\n\t\t\t\tdescription: \"Return visit analysis\",\n\t\t\t\ticon: Clock,\n\t\t\t\thref: \"/dashboard/reports/scheduling/callbacks\",\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tid: \"ai\",\n\t\ttitle: \"AI & Insights\",\n\t\ticon: Sparkles,\n\t\treports: [\n\t\t\t{\n\t\t\t\tid: \"ai-insights\",\n\t\t\t\ttitle: \"AI Insights\",\n\t\t\t\tdescription: \"AI-generated recommendations\",\n\t\t\t\ticon: Sparkles,\n\t\t\t\thref: \"/dashboard/reports/ai/insights\",\n\t\t\t\tisNew: true,\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: \"predictions\",\n\t\t\t\ttitle: \"Predictive Analytics\",\n\t\t\t\tdescription: \"Forecasts and trends\",\n\t\t\t\ticon: LineChart,\n\t\t\t\thref: \"/dashboard/reports/ai/predictions\",\n\t\t\t\tisNew: true,\n\t\t\t},\n\t\t],\n\t},\n];\n\n// Quick access reports (shown at top of sidebar)\nexport const QUICK_ACCESS_REPORTS: ReportCategory[] = [\n\t{\n\t\tid: \"dashboard\",\n\t\ttitle: \"Analytics Dashboard\",\n\t\tdescription: \"Real-time overview\",\n\t\ticon: Gauge,\n\t\thref: \"/dashboard/reports\",\n\t},\n\t{\n\t\tid: \"revenue\",\n\t\ttitle: \"Revenue Report\",\n\t\tdescription: \"Financial performance\",\n\t\ticon: DollarSign,\n\t\thref: \"/dashboard/reports/financial\",\n\t},\n\t{\n\t\tid: \"jobs\",\n\t\ttitle: \"Job Performance\",\n\t\tdescription: \"Operations metrics\",\n\t\ticon: Briefcase,\n\t\thref: \"/dashboard/reports/jobs\",\n\t},\n\t{\n\t\tid: \"leaderboard\",\n\t\ttitle: \"Team Leaderboard\",\n\t\tdescription: \"Top performers\",\n\t\ticon: UserCheck,\n\t\thref: \"/dashboard/reports/technicians\",\n\t},\n];\n\n// Report categories for the builder\nexport const REPORT_BUILDER_CATEGORIES = [\n\t{\n\t\tid: \"financial\",\n\t\tlabel: \"Financial\",\n\t\ticon: DollarSign,\n\t\tcolor: \"bg-emerald-500\",\n\t},\n\t{\n\t\tid: \"operations\",\n\t\tlabel: \"Operations\",\n\t\ticon: Briefcase,\n\t\tcolor: \"bg-blue-500\",\n\t},\n\t{ id: \"customers\", label: \"Customers\", icon: Users, color: \"bg-violet-500\" },\n\t{ id: \"team\", label: \"Team\", icon: UserCheck, color: \"bg-amber-500\" },\n];\n\n// Available metrics for custom reports\nexport const AVAILABLE_METRICS = {\n\tfinancial: [\n\t\t{ id: \"revenue\", label: \"Revenue\", type: \"currency\" },\n\t\t{ id: \"profit\", label: \"Profit\", type: \"currency\" },\n\t\t{ id: \"expenses\", label: \"Expenses\", type: \"currency\" },\n\t\t{ id: \"avg_ticket\", label: \"Average Ticket\", type: \"currency\" },\n\t\t{ id: \"collection_rate\", label: \"Collection Rate\", type: \"percentage\" },\n\t],\n\toperations: [\n\t\t{ id: \"jobs_completed\", label: \"Jobs Completed\", type: \"number\" },\n\t\t{ id: \"completion_rate\", label: \"Completion Rate\", type: \"percentage\" },\n\t\t{ id: \"avg_job_duration\", label: \"Avg Job Duration\", type: \"duration\" },\n\t\t{ id: \"first_time_fix\", label: \"First Time Fix Rate\", type: \"percentage\" },\n\t\t{ id: \"callbacks\", label: \"Callbacks\", type: \"number\" },\n\t],\n\tcustomers: [\n\t\t{ id: \"total_customers\", label: \"Total Customers\", type: \"number\" },\n\t\t{ id: \"new_customers\", label: \"New Customers\", type: \"number\" },\n\t\t{ id: \"retention_rate\", label: \"Retention Rate\", type: \"percentage\" },\n\t\t{ id: \"avg_ltv\", label: \"Avg Lifetime Value\", type: \"currency\" },\n\t\t{ id: \"churn_rate\", label: \"Churn Rate\", type: \"percentage\" },\n\t],\n\tteam: [\n\t\t{ id: \"tech_utilization\", label: \"Utilization Rate\", type: \"percentage\" },\n\t\t{ id: \"revenue_per_tech\", label: \"Revenue per Tech\", type: \"currency\" },\n\t\t{ id: \"jobs_per_tech\", label: \"Jobs per Tech\", type: \"number\" },\n\t\t{ id: \"avg_rating\", label: \"Avg Customer Rating\", type: \"rating\" },\n\t\t{ id: \"on_time_rate\", label: \"On-Time Rate\", type: \"percentage\" },\n\t],\n};\n\n// Chart types available in builder\nexport const CHART_TYPES = [\n\t{\n\t\tid: \"line\",\n\t\tlabel: \"Line Chart\",\n\t\ticon: LineChart,\n\t\tdescription: \"Best for trends over time\",\n\t},\n\t{\n\t\tid: \"bar\",\n\t\tlabel: \"Bar Chart\",\n\t\ticon: BarChart3,\n\t\tdescription: \"Best for comparisons\",\n\t},\n\t{\n\t\tid: \"pie\",\n\t\tlabel: \"Pie Chart\",\n\t\ticon: PieChart,\n\t\tdescription: \"Best for distributions\",\n\t},\n\t{\n\t\tid: \"area\",\n\t\tlabel: \"Area Chart\",\n\t\ticon: TrendingUp,\n\t\tdescription: \"Best for cumulative data\",\n\t},\n];\n\n// Time range presets\nexport const TIME_RANGE_PRESETS = [\n\t{ id: \"today\", label: \"Today\", days: 1 },\n\t{ id: \"yesterday\", label: \"Yesterday\", days: 1 },\n\t{ id: \"7d\", label: \"Last 7 Days\", days: 7 },\n\t{ id: \"14d\", label: \"Last 2 Weeks\", days: 14 },\n\t{ id: \"30d\", label: \"Last 30 Days\", days: 30 },\n\t{ id: \"90d\", label: \"Last 90 Days\", days: 90 },\n\t{ id: \"ytd\", label: \"Year to Date\", days: 0 }, // Special handling\n\t{ id: \"1y\", label: \"Last 12 Months\", days: 365 },\n\t{ id: \"custom\", label: \"Custom Range\", days: 0 },\n];\n"],"names":[],"mappings":"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"}