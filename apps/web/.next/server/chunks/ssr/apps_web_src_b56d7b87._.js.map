{"version":3,"sources":["../../../../../../apps/web/src/components/settings/po-system-toggle.tsx/__nextjs-internal-proxy.mjs","../../../../../../apps/web/src/components/settings/settings-search.tsx/__nextjs-internal-proxy.mjs","../../../../../../apps/web/src/components/settings/settings-quick-actions.tsx/__nextjs-internal-proxy.mjs","../../../../../../node_modules/.pnpm/date-fns%404.1.0/node_modules/date-fns/compareAsc.js","../../../../../../apps/web/src/components/settings/settings-section.tsx","../../../../../../apps/web/src/components/settings/settings-card.tsx","../../../../../../node_modules/.pnpm/date-fns%404.1.0/node_modules/date-fns/constructNow.js","../../../../../../node_modules/.pnpm/date-fns%404.1.0/node_modules/date-fns/formatDistance.js","../../../../../../node_modules/.pnpm/date-fns%404.1.0/node_modules/date-fns/_lib/getRoundingMethod.js","../../../../../../apps/web/src/lib/settings/information-architecture.ts","../../../../../../apps/web/src/components/settings/settings-shell.tsx","../../../../../../apps/web/src/lib/settings/overview-data.ts","../../../../../../node_modules/.pnpm/lucide-react%400.552.0_react%4019.2.0/node_modules/lucide-react/src/icons/settings-2.ts","../../../../../../node_modules/.pnpm/lucide-react%400.552.0_react%4019.2.0/node_modules/lucide-react/src/icons/circle.ts","../../../../../../apps/web/src/app/%28dashboard%29/dashboard/settings/page.tsx","../../../../../../apps/web/src/lib/settings/status-utils.ts","../../../../../../node_modules/.pnpm/date-fns%404.1.0/node_modules/date-fns/isLastDayOfMonth.js","../../../../../../node_modules/.pnpm/date-fns%404.1.0/node_modules/date-fns/differenceInMilliseconds.js","../../../../../../node_modules/.pnpm/date-fns%404.1.0/node_modules/date-fns/differenceInMonths.js","../../../../../../node_modules/.pnpm/date-fns%404.1.0/node_modules/date-fns/endOfDay.js","../../../../../../node_modules/.pnpm/date-fns%404.1.0/node_modules/date-fns/endOfMonth.js","../../../../../../node_modules/.pnpm/date-fns%404.1.0/node_modules/date-fns/differenceInCalendarMonths.js","../../../../../../node_modules/.pnpm/date-fns%404.1.0/node_modules/date-fns/differenceInSeconds.js","../../../../../../node_modules/.pnpm/date-fns%404.1.0/node_modules/date-fns/formatDistanceToNow.js"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const POSystemToggle = registerClientReference(\n    function() { throw new Error(\"Attempted to call POSystemToggle() from the server but POSystemToggle is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/src/components/settings/po-system-toggle.tsx\",\n    \"POSystemToggle\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const SettingsSearch = registerClientReference(\n    function() { throw new Error(\"Attempted to call SettingsSearch() from the server but SettingsSearch is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/src/components/settings/settings-search.tsx\",\n    \"SettingsSearch\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const SettingsQuickActions = registerClientReference(\n    function() { throw new Error(\"Attempted to call SettingsQuickActions() from the server but SettingsQuickActions is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/apps/web/src/components/settings/settings-quick-actions.tsx\",\n    \"SettingsQuickActions\",\n);\n","import { toDate } from \"./toDate.js\";\n\n/**\n * @name compareAsc\n * @category Common Helpers\n * @summary Compare the two dates and return -1, 0 or 1.\n *\n * @description\n * Compare the two dates and return 1 if the first date is after the second,\n * -1 if the first date is before the second or 0 if dates are equal.\n *\n * @param dateLeft - The first date to compare\n * @param dateRight - The second date to compare\n *\n * @returns The result of the comparison\n *\n * @example\n * // Compare 11 February 1987 and 10 July 1989:\n * const result = compareAsc(new Date(1987, 1, 11), new Date(1989, 6, 10))\n * //=> -1\n *\n * @example\n * // Sort the array of dates:\n * const result = [\n *   new Date(1995, 6, 2),\n *   new Date(1987, 1, 11),\n *   new Date(1989, 6, 10)\n * ].sort(compareAsc)\n * //=> [\n * //   Wed Feb 11 1987 00:00:00,\n * //   Mon Jul 10 1989 00:00:00,\n * //   Sun Jul 02 1995 00:00:00\n * // ]\n */\nexport function compareAsc(dateLeft, dateRight) {\n  const diff = +toDate(dateLeft) - +toDate(dateRight);\n\n  if (diff < 0) return -1;\n  else if (diff > 0) return 1;\n\n  // Return 0 if diff is 0; return NaN if diff is NaN\n  return diff;\n}\n\n// Fallback for modularized imports:\nexport default compareAsc;\n","import { CheckCircle2, Circle, ExternalLink } from \"lucide-react\";\nimport Link from \"next/link\";\nimport { SettingsMetricCard } from \"@/components/settings/settings-card\";\nimport { SettingsQuickActions } from \"@/components/settings/settings-quick-actions\";\nimport {\n\tCard,\n\tCardContent,\n\tCardDescription,\n\tCardFooter,\n\tCardHeader,\n\tCardTitle,\n} from \"@/components/ui/card\";\nimport { Progress } from \"@/components/ui/progress\";\nimport type { SettingsOverviewSection } from \"@/lib/settings/overview-data\";\nimport {\n\tdescribeHealthStatus,\n\tgetStatusColorClasses,\n} from \"@/lib/settings/status-utils\";\nimport { cn } from \"@/lib/utils\";\n\ntype SettingsSectionProps = {\n\tsection: SettingsOverviewSection;\n};\n\nexport function SettingsSection({ section }: SettingsSectionProps) {\n\tconst statusColors = getStatusColorClasses(section.status);\n\n\treturn (\n\t\t<section className=\"scroll-mt-28 space-y-5\" id={section.slug}>\n\t\t\t<div className=\"flex flex-wrap items-start justify-between gap-4\">\n\t\t\t\t<div className=\"flex items-start gap-3\">\n\t\t\t\t\t<div className=\"bg-primary/10 rounded-2xl p-3\">\n\t\t\t\t\t\t<section.icon className=\"text-primary size-5\" />\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h2 className=\"text-2xl font-semibold tracking-tight\">\n\t\t\t\t\t\t\t{section.title}\n\t\t\t\t\t\t</h2>\n\t\t\t\t\t\t<p className=\"text-muted-foreground\">{section.description}</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"text-right\">\n\t\t\t\t\t<p className=\"text-muted-foreground text-sm\">Health</p>\n\t\t\t\t\t<p className={cn(\"font-semibold\", statusColors.text)}>\n\t\t\t\t\t\t{describeHealthStatus(section.status)}\n\t\t\t\t\t</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<Card className=\"border-muted-foreground/30\">\n\t\t\t\t<CardHeader className=\"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between\">\n\t\t\t\t\t<div className=\"space-y-1.5\">\n\t\t\t\t\t\t<CardTitle>Configuration summary</CardTitle>\n\t\t\t\t\t\t<CardDescription>{section.summary}</CardDescription>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"min-w-[180px]\">\n\t\t\t\t\t\t<p className=\"text-muted-foreground text-sm\">Completion</p>\n\t\t\t\t\t\t<div className=\"flex items-center gap-3\">\n\t\t\t\t\t\t\t<span className=\"text-3xl font-semibold\">\n\t\t\t\t\t\t\t\t{section.progress}%\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<Progress className=\"h-2 flex-1\" value={section.progress} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</CardHeader>\n\t\t\t\t{section.quickActions.length > 0 && (\n\t\t\t\t\t<CardFooter className=\"flex flex-wrap gap-2\">\n\t\t\t\t\t\t<SettingsQuickActions\n\t\t\t\t\t\t\tactions={section.quickActions}\n\t\t\t\t\t\t\tsection={section.slug}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</CardFooter>\n\t\t\t\t)}\n\t\t\t</Card>\n\n\t\t\t{section.metrics.length > 0 && (\n\t\t\t\t<div className=\"grid gap-4 md:grid-cols-2\">\n\t\t\t\t\t{section.metrics.map((metric) => (\n\t\t\t\t\t\t<SettingsMetricCard\n\t\t\t\t\t\t\tkey={`${section.slug}-${metric.key}`}\n\t\t\t\t\t\t\tmetric={metric}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t{section.checklist.length > 0 && (\n\t\t\t\t<Card className=\"border-dashed\">\n\t\t\t\t\t<CardHeader>\n\t\t\t\t\t\t<CardTitle className=\"text-base\">Next best actions</CardTitle>\n\t\t\t\t\t\t<CardDescription>Quick tasks to improve this area</CardDescription>\n\t\t\t\t\t</CardHeader>\n\t\t\t\t\t<CardContent>\n\t\t\t\t\t\t<ul className=\"space-y-3\">\n\t\t\t\t\t\t\t{section.checklist.map((item) => (\n\t\t\t\t\t\t\t\t<li className=\"flex items-start gap-3\" key={item.key}>\n\t\t\t\t\t\t\t\t\t<div className=\"pt-0.5\">\n\t\t\t\t\t\t\t\t\t\t{item.completed ? (\n\t\t\t\t\t\t\t\t\t\t\t<CheckCircle2 className=\"text-success size-4\" />\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t<Circle className=\"text-muted-foreground size-4\" />\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div className=\"flex-1 space-y-1\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"flex flex-wrap items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"text-foreground hover:text-primary text-sm font-medium\"\n\t\t\t\t\t\t\t\t\t\t\t\thref={item.href}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{item.label}\n\t\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t\t\t{!item.completed && (\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{describeHealthStatus(\"warning\")}\n\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t{item.helper && (\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t\t{item.helper}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\t\t\t)}\n\n\t\t\t{section.links.length > 0 && (\n\t\t\t\t<Card>\n\t\t\t\t\t<CardHeader>\n\t\t\t\t\t\t<CardTitle className=\"text-base\">Deep links</CardTitle>\n\t\t\t\t\t\t<CardDescription>\n\t\t\t\t\t\t\tJump directly into detailed settings pages\n\t\t\t\t\t\t</CardDescription>\n\t\t\t\t\t</CardHeader>\n\t\t\t\t\t<CardContent className=\"grid gap-3 md:grid-cols-2\">\n\t\t\t\t\t\t{section.links.map((link) => (\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tclassName=\"group hover:border-primary flex items-start justify-between rounded-xl border px-4 py-3 transition\"\n\t\t\t\t\t\t\t\thref={link.href}\n\t\t\t\t\t\t\t\tkey={link.href}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<p className=\"font-medium\">{link.title}</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-sm\">\n\t\t\t\t\t\t\t\t\t\t{link.description}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<ExternalLink className=\"text-muted-foreground group-hover:text-primary mt-1 size-4 transition\" />\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</CardContent>\n\t\t\t\t</Card>\n\t\t\t)}\n\t\t</section>\n\t);\n}\n","import { Card, CardContent } from \"@/components/ui/card\";\nimport type { SettingsMetricDatum } from \"@/lib/settings/overview-data\";\nimport {\n\tdescribeHealthStatus,\n\tformatTrendDelta,\n\tgetStatusColorClasses,\n} from \"@/lib/settings/status-utils\";\nimport { cn } from \"@/lib/utils\";\n\ntype SettingsMetricCardProps = {\n\tmetric: SettingsMetricDatum;\n};\n\nexport function SettingsMetricCard({ metric }: SettingsMetricCardProps) {\n\tconst statusColors = metric.status\n\t\t? getStatusColorClasses(metric.status)\n\t\t: null;\n\n\treturn (\n\t\t<Card className=\"border-muted-foreground/20 h-full\">\n\t\t\t<CardContent className=\"space-y-2 pt-6\">\n\t\t\t\t<p className=\"text-muted-foreground text-xs font-medium tracking-wide uppercase\">\n\t\t\t\t\t{metric.label}\n\t\t\t\t</p>\n\t\t\t\t<div className=\"flex items-baseline gap-2\">\n\t\t\t\t\t<span className=\"text-2xl font-semibold tracking-tight\">\n\t\t\t\t\t\t{metric.value}\n\t\t\t\t\t</span>\n\t\t\t\t\t{typeof metric.trend === \"number\" && (\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\"text-xs font-medium\",\n\t\t\t\t\t\t\t\tmetric.trend >= 0 ? \"text-success\" : \"text-destructive\",\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{formatTrendDelta(metric.trend)}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t)}\n\t\t\t\t</div>\n\t\t\t\t{metric.helper && (\n\t\t\t\t\t<p className=\"text-muted-foreground text-sm leading-relaxed\">\n\t\t\t\t\t\t{metric.helper}\n\t\t\t\t\t</p>\n\t\t\t\t)}\n\t\t\t\t{metric.status && (\n\t\t\t\t\t<span\n\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\"inline-flex items-center rounded-full border px-2 py-0.5 text-xs font-medium\",\n\t\t\t\t\t\t\tstatusColors?.text,\n\t\t\t\t\t\t\tstatusColors?.border,\n\t\t\t\t\t\t\tstatusColors?.background,\n\t\t\t\t\t\t)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{describeHealthStatus(metric.status)}\n\t\t\t\t\t</span>\n\t\t\t\t)}\n\t\t\t</CardContent>\n\t\t</Card>\n\t);\n}\n","import { constructFrom } from \"./constructFrom.js\";\n\n/**\n * @name constructNow\n * @category Generic Helpers\n * @summary Constructs a new current date using the passed value constructor.\n * @pure false\n *\n * @description\n * The function constructs a new current date using the constructor from\n * the reference date. It helps to build generic functions that accept date\n * extensions and use the current date.\n *\n * It defaults to `Date` if the passed reference date is a number or a string.\n *\n * @param date - The reference date to take constructor from\n *\n * @returns Current date initialized using the given date constructor\n *\n * @example\n * import { constructNow, isSameDay } from 'date-fns'\n *\n * function isToday<DateType extends Date>(\n *   date: DateArg<DateType>,\n * ): boolean {\n *   // If we were to use `new Date()` directly, the function would  behave\n *   // differently in different timezones and return false for the same date.\n *   return isSameDay(date, constructNow(date));\n * }\n */\nexport function constructNow(date) {\n  return constructFrom(date, Date.now());\n}\n\n// Fallback for modularized imports:\nexport default constructNow;\n","import { defaultLocale } from \"./_lib/defaultLocale.js\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.js\";\nimport { getTimezoneOffsetInMilliseconds } from \"./_lib/getTimezoneOffsetInMilliseconds.js\";\nimport { normalizeDates } from \"./_lib/normalizeDates.js\";\nimport { compareAsc } from \"./compareAsc.js\";\nimport { minutesInDay, minutesInMonth } from \"./constants.js\";\nimport { differenceInMonths } from \"./differenceInMonths.js\";\nimport { differenceInSeconds } from \"./differenceInSeconds.js\";\n\n/**\n * The {@link formatDistance} function options.\n */\n\n/**\n * @name formatDistance\n * @category Common Helpers\n * @summary Return the distance between the given dates in words.\n *\n * @description\n * Return the distance between the given dates in words.\n *\n * | Distance between dates                                            | Result              |\n * |-------------------------------------------------------------------|---------------------|\n * | 0 ... 30 secs                                                     | less than a minute  |\n * | 30 secs ... 1 min 30 secs                                         | 1 minute            |\n * | 1 min 30 secs ... 44 mins 30 secs                                 | [2..44] minutes     |\n * | 44 mins ... 30 secs ... 89 mins 30 secs                           | about 1 hour        |\n * | 89 mins 30 secs ... 23 hrs 59 mins 30 secs                        | about [2..24] hours |\n * | 23 hrs 59 mins 30 secs ... 41 hrs 59 mins 30 secs                 | 1 day               |\n * | 41 hrs 59 mins 30 secs ... 29 days 23 hrs 59 mins 30 secs         | [2..30] days        |\n * | 29 days 23 hrs 59 mins 30 secs ... 44 days 23 hrs 59 mins 30 secs | about 1 month       |\n * | 44 days 23 hrs 59 mins 30 secs ... 59 days 23 hrs 59 mins 30 secs | about 2 months      |\n * | 59 days 23 hrs 59 mins 30 secs ... 1 yr                           | [2..12] months      |\n * | 1 yr ... 1 yr 3 months                                            | about 1 year        |\n * | 1 yr 3 months ... 1 yr 9 month s                                  | over 1 year         |\n * | 1 yr 9 months ... 2 yrs                                           | almost 2 years      |\n * | N yrs ... N yrs 3 months                                          | about N years       |\n * | N yrs 3 months ... N yrs 9 months                                 | over N years        |\n * | N yrs 9 months ... N+1 yrs                                        | almost N+1 years    |\n *\n * With `options.includeSeconds == true`:\n * | Distance between dates | Result               |\n * |------------------------|----------------------|\n * | 0 secs ... 5 secs      | less than 5 seconds  |\n * | 5 secs ... 10 secs     | less than 10 seconds |\n * | 10 secs ... 20 secs    | less than 20 seconds |\n * | 20 secs ... 40 secs    | half a minute        |\n * | 40 secs ... 60 secs    | less than a minute   |\n * | 60 secs ... 90 secs    | 1 minute             |\n *\n * @param laterDate - The date\n * @param earlierDate - The date to compare with\n * @param options - An object with options\n *\n * @returns The distance in words\n *\n * @throws `date` must not be Invalid Date\n * @throws `baseDate` must not be Invalid Date\n * @throws `options.locale` must contain `formatDistance` property\n *\n * @example\n * // What is the distance between 2 July 2014 and 1 January 2015?\n * const result = formatDistance(new Date(2014, 6, 2), new Date(2015, 0, 1))\n * //=> '6 months'\n *\n * @example\n * // What is the distance between 1 January 2015 00:00:15\n * // and 1 January 2015 00:00:00, including seconds?\n * const result = formatDistance(\n *   new Date(2015, 0, 1, 0, 0, 15),\n *   new Date(2015, 0, 1, 0, 0, 0),\n *   { includeSeconds: true }\n * )\n * //=> 'less than 20 seconds'\n *\n * @example\n * // What is the distance from 1 January 2016\n * // to 1 January 2015, with a suffix?\n * const result = formatDistance(new Date(2015, 0, 1), new Date(2016, 0, 1), {\n *   addSuffix: true\n * })\n * //=> 'about 1 year ago'\n *\n * @example\n * // What is the distance between 1 August 2016 and 1 January 2015 in Esperanto?\n * import { eoLocale } from 'date-fns/locale/eo'\n * const result = formatDistance(new Date(2016, 7, 1), new Date(2015, 0, 1), {\n *   locale: eoLocale\n * })\n * //=> 'pli ol 1 jaro'\n */\nexport function formatDistance(laterDate, earlierDate, options) {\n  const defaultOptions = getDefaultOptions();\n  const locale = options?.locale ?? defaultOptions.locale ?? defaultLocale;\n  const minutesInAlmostTwoDays = 2520;\n\n  const comparison = compareAsc(laterDate, earlierDate);\n\n  if (isNaN(comparison)) throw new RangeError(\"Invalid time value\");\n\n  const localizeOptions = Object.assign({}, options, {\n    addSuffix: options?.addSuffix,\n    comparison: comparison,\n  });\n\n  const [laterDate_, earlierDate_] = normalizeDates(\n    options?.in,\n    ...(comparison > 0 ? [earlierDate, laterDate] : [laterDate, earlierDate]),\n  );\n\n  const seconds = differenceInSeconds(earlierDate_, laterDate_);\n  const offsetInSeconds =\n    (getTimezoneOffsetInMilliseconds(earlierDate_) -\n      getTimezoneOffsetInMilliseconds(laterDate_)) /\n    1000;\n  const minutes = Math.round((seconds - offsetInSeconds) / 60);\n  let months;\n\n  // 0 up to 2 mins\n  if (minutes < 2) {\n    if (options?.includeSeconds) {\n      if (seconds < 5) {\n        return locale.formatDistance(\"lessThanXSeconds\", 5, localizeOptions);\n      } else if (seconds < 10) {\n        return locale.formatDistance(\"lessThanXSeconds\", 10, localizeOptions);\n      } else if (seconds < 20) {\n        return locale.formatDistance(\"lessThanXSeconds\", 20, localizeOptions);\n      } else if (seconds < 40) {\n        return locale.formatDistance(\"halfAMinute\", 0, localizeOptions);\n      } else if (seconds < 60) {\n        return locale.formatDistance(\"lessThanXMinutes\", 1, localizeOptions);\n      } else {\n        return locale.formatDistance(\"xMinutes\", 1, localizeOptions);\n      }\n    } else {\n      if (minutes === 0) {\n        return locale.formatDistance(\"lessThanXMinutes\", 1, localizeOptions);\n      } else {\n        return locale.formatDistance(\"xMinutes\", minutes, localizeOptions);\n      }\n    }\n\n    // 2 mins up to 0.75 hrs\n  } else if (minutes < 45) {\n    return locale.formatDistance(\"xMinutes\", minutes, localizeOptions);\n\n    // 0.75 hrs up to 1.5 hrs\n  } else if (minutes < 90) {\n    return locale.formatDistance(\"aboutXHours\", 1, localizeOptions);\n\n    // 1.5 hrs up to 24 hrs\n  } else if (minutes < minutesInDay) {\n    const hours = Math.round(minutes / 60);\n    return locale.formatDistance(\"aboutXHours\", hours, localizeOptions);\n\n    // 1 day up to 1.75 days\n  } else if (minutes < minutesInAlmostTwoDays) {\n    return locale.formatDistance(\"xDays\", 1, localizeOptions);\n\n    // 1.75 days up to 30 days\n  } else if (minutes < minutesInMonth) {\n    const days = Math.round(minutes / minutesInDay);\n    return locale.formatDistance(\"xDays\", days, localizeOptions);\n\n    // 1 month up to 2 months\n  } else if (minutes < minutesInMonth * 2) {\n    months = Math.round(minutes / minutesInMonth);\n    return locale.formatDistance(\"aboutXMonths\", months, localizeOptions);\n  }\n\n  months = differenceInMonths(earlierDate_, laterDate_);\n\n  // 2 months up to 12 months\n  if (months < 12) {\n    const nearestMonth = Math.round(minutes / minutesInMonth);\n    return locale.formatDistance(\"xMonths\", nearestMonth, localizeOptions);\n\n    // 1 year up to max Date\n  } else {\n    const monthsSinceStartOfYear = months % 12;\n    const years = Math.trunc(months / 12);\n\n    // N years up to 1 years 3 months\n    if (monthsSinceStartOfYear < 3) {\n      return locale.formatDistance(\"aboutXYears\", years, localizeOptions);\n\n      // N years 3 months up to N years 9 months\n    } else if (monthsSinceStartOfYear < 9) {\n      return locale.formatDistance(\"overXYears\", years, localizeOptions);\n\n      // N years 9 months up to N year 12 months\n    } else {\n      return locale.formatDistance(\"almostXYears\", years + 1, localizeOptions);\n    }\n  }\n}\n\n// Fallback for modularized imports:\nexport default formatDistance;\n","export function getRoundingMethod(method) {\n  return (number) => {\n    const round = method ? Math[method] : Math.trunc;\n    const result = round(number);\n    // Prevent negative zero\n    return result === 0 ? 0 : result;\n  };\n}\n","import type { LucideIcon } from \"lucide-react\";\nimport {\n\tBarChart3,\n\tBuilding2,\n\tCreditCard,\n\tMessageSquare,\n\tSettings2,\n\tUser,\n\tZap,\n} from \"lucide-react\";\n\nexport type SettingsClusterSlug =\n\t| \"account\"\n\t| \"workspace\"\n\t| \"communications\"\n\t| \"operations\"\n\t| \"finance\"\n\t| \"integrations\"\n\t| \"analytics\";\n\nexport type SettingsLinkDefinition = {\n\ttitle: string;\n\tdescription: string;\n\thref: string;\n\tsupabaseSources: string[];\n\ttag?: \"beta\" | \"new\" | \"soon\";\n};\n\nexport type SettingsClusterDefinition = {\n\tslug: SettingsClusterSlug;\n\ttitle: string;\n\tdescription: string;\n\ticon: LucideIcon;\n\tsupabaseSources: string[];\n\tlinks: SettingsLinkDefinition[];\n\tdocumentation?: { title: string; href: string }[];\n};\n\nexport const SETTINGS_INFORMATION_ARCHITECTURE: SettingsClusterDefinition[] = [\n\t{\n\t\tslug: \"account\",\n\t\ttitle: \"Account\",\n\t\tdescription: \"Personal identity, authentication, preferences, and alerts\",\n\t\ticon: User,\n\t\tsupabaseSources: [\n\t\t\t\"users\",\n\t\t\t\"profiles\",\n\t\t\t\"user_preferences\",\n\t\t\t\"user_notification_preferences\",\n\t\t],\n\t\tlinks: [\n\t\t\t{\n\t\t\t\ttitle: \"Personal Information\",\n\t\t\t\tdescription: \"Name, avatar, and verified contact details\",\n\t\t\t\thref: \"/dashboard/settings/profile/personal\",\n\t\t\t\tsupabaseSources: [\"users\", \"profiles\"],\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"Security\",\n\t\t\t\tdescription: \"Passwords, device logins, and 2FA\",\n\t\t\t\thref: \"/dashboard/settings/profile/security\",\n\t\t\t\tsupabaseSources: [\"users\"],\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"Notifications\",\n\t\t\t\tdescription: \"Email, push, SMS, and digest cadence\",\n\t\t\t\thref: \"/dashboard/settings/profile/notifications\",\n\t\t\t\tsupabaseSources: [\"user_notification_preferences\"],\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"Preferences\",\n\t\t\t\tdescription: \"Theme, timezone, language, and UI density\",\n\t\t\t\thref: \"/dashboard/settings/profile/preferences\",\n\t\t\t\tsupabaseSources: [\"user_preferences\"],\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tslug: \"workspace\",\n\t\ttitle: \"Workspace\",\n\t\tdescription: \"Company identity, subscription, and team governance\",\n\t\ticon: Building2,\n\t\tsupabaseSources: [\n\t\t\t\"companies\",\n\t\t\t\"company_settings\",\n\t\t\t\"team_members\",\n\t\t\t\"team_invitations\",\n\t\t\t\"departments\",\n\t\t\t\"custom_roles\",\n\t\t\t\"api_keys\",\n\t\t\t\"tags\",\n\t\t\t\"lead_sources\",\n\t\t],\n\t\tlinks: [\n\t\t\t{\n\t\t\t\ttitle: \"Company Profile\",\n\t\t\t\tdescription: \"Legal details, branding, and public contact info\",\n\t\t\t\thref: \"/dashboard/settings/company\",\n\t\t\t\tsupabaseSources: [\"companies\", \"company_settings\"],\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"Billing & Subscription\",\n\t\t\t\tdescription: \"Plan, invoices, payment methods, and usage caps\",\n\t\t\t\thref: \"/dashboard/settings/billing\",\n\t\t\t\tsupabaseSources: [\"companies\", \"invoices\"],\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"Team & Permissions\",\n\t\t\t\tdescription: \"Members, invites, departments, and roles\",\n\t\t\t\thref: \"/dashboard/settings/team\",\n\t\t\t\tsupabaseSources: [\n\t\t\t\t\t\"team_members\",\n\t\t\t\t\t\"team_invitations\",\n\t\t\t\t\t\"custom_roles\",\n\t\t\t\t\t\"departments\",\n\t\t\t\t],\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"API Keys\",\n\t\t\t\tdescription: \"Machine-to-machine access and rate limits\",\n\t\t\t\thref: \"/dashboard/settings/integrations\",\n\t\t\t\tsupabaseSources: [\"api_keys\"],\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"Tags & Lead Sources\",\n\t\t\t\tdescription: \"Taxonomy for routing, reporting, and attribution\",\n\t\t\t\thref: \"/dashboard/settings/tags\",\n\t\t\t\tsupabaseSources: [\"tags\", \"lead_sources\"],\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tslug: \"communications\",\n\t\ttitle: \"Communications\",\n\t\tdescription: \"Email, SMS, phone, voicemail, and notification defaults\",\n\t\ticon: MessageSquare,\n\t\tsupabaseSources: [\n\t\t\t\"communication_email_settings\",\n\t\t\t\"communication_sms_settings\",\n\t\t\t\"communication_phone_settings\",\n\t\t\t\"communication_notification_settings\",\n\t\t\t\"phone_numbers\",\n\t\t\t\"call_logs\",\n\t\t\t\"messaging_brands\",\n\t\t\t\"messaging_campaigns\",\n\t\t\t\"notification_queue\",\n\t\t\t\"phone_porting_requests\",\n\t\t],\n\t\tlinks: [\n\t\t\t{\n\t\t\t\ttitle: \"Email Settings\",\n\t\t\t\tdescription: \"SMTP, signatures, open tracking, deliverability\",\n\t\t\t\thref: \"/dashboard/settings/communications/email\",\n\t\t\t\tsupabaseSources: [\"communication_email_settings\"],\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"SMS & MMS\",\n\t\t\t\tdescription: \"Provider credentials, compliance, and auto-replies\",\n\t\t\t\thref: \"/dashboard/settings/communications/sms\",\n\t\t\t\tsupabaseSources: [\"communication_sms_settings\"],\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"Phone System\",\n\t\t\t\tdescription: \"Routing, IVR, voicemail, recordings, and usage\",\n\t\t\t\thref: \"/dashboard/settings/communications/phone\",\n\t\t\t\tsupabaseSources: [\"communication_phone_settings\", \"phone_numbers\"],\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"Notification Defaults\",\n\t\t\t\tdescription: \"Job, customer, invoice, and queue health\",\n\t\t\t\thref: \"/dashboard/settings/communications/notifications\",\n\t\t\t\tsupabaseSources: [\n\t\t\t\t\t\"communication_notification_settings\",\n\t\t\t\t\t\"notification_queue\",\n\t\t\t\t],\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"10DLC & Compliance\",\n\t\t\t\tdescription: \"Messaging brand and campaign registration\",\n\t\t\t\thref: \"/dashboard/settings/communications/usage\",\n\t\t\t\tsupabaseSources: [\"messaging_brands\", \"messaging_campaigns\"],\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"Porting Status\",\n\t\t\t\tdescription: \"Track number port requests and SLAs\",\n\t\t\t\thref: \"/dashboard/settings/communications/porting-status\",\n\t\t\t\tsupabaseSources: [\"phone_porting_requests\"],\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tslug: \"operations\",\n\t\ttitle: \"Operations\",\n\t\tdescription: \"Booking, scheduling, job workflows, and customer experiences\",\n\t\ticon: Settings2,\n\t\tsupabaseSources: [\n\t\t\t\"job_settings\",\n\t\t\t\"schedule_availability_settings\",\n\t\t\t\"schedule_calendar_settings\",\n\t\t\t\"schedule_dispatch_rules\",\n\t\t\t\"schedule_team_rules\",\n\t\t\t\"customer_portal_settings\",\n\t\t\t\"customer_intake_settings\",\n\t\t\t\"customer_loyalty_settings\",\n\t\t],\n\t\tlinks: [\n\t\t\t{\n\t\t\t\ttitle: \"Booking Rules\",\n\t\t\t\tdescription: \"Availability windows, buffers, and automation\",\n\t\t\t\thref: \"/dashboard/settings/booking\",\n\t\t\t\tsupabaseSources: [\"schedule_availability_settings\"],\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"Job Configuration\",\n\t\t\t\tdescription:\n\t\t\t\t\t\"Job types, statuses, numbering, and completion requirements\",\n\t\t\t\thref: \"/dashboard/settings/jobs\",\n\t\t\t\tsupabaseSources: [\"job_settings\"],\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"Customer Intake\",\n\t\t\t\tdescription: \"Lead capture, custom questions, and assignments\",\n\t\t\t\thref: \"/dashboard/settings/customer-intake\",\n\t\t\t\tsupabaseSources: [\"customer_intake_settings\"],\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"Customer Portal\",\n\t\t\t\tdescription: \"Self-service access, branding, and feature toggles\",\n\t\t\t\thref: \"/dashboard/settings/customer-portal\",\n\t\t\t\tsupabaseSources: [\"customer_portal_settings\"],\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"Scheduling\",\n\t\t\t\tdescription: \"Team rules, dispatch policies, calendar defaults\",\n\t\t\t\thref: \"/dashboard/settings/schedule\",\n\t\t\t\tsupabaseSources: [\n\t\t\t\t\t\"schedule_calendar_settings\",\n\t\t\t\t\t\"schedule_dispatch_rules\",\n\t\t\t\t\t\"schedule_team_rules\",\n\t\t\t\t],\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"Loyalty & Rewards\",\n\t\t\t\tdescription: \"Points, rewards, and program notifications\",\n\t\t\t\thref: \"/dashboard/settings/customers/loyalty\",\n\t\t\t\tsupabaseSources: [\"customer_loyalty_settings\"],\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tslug: \"finance\",\n\t\ttitle: \"Finance\",\n\t\tdescription: \"Accounting syncs, billing tools, payments, and capital\",\n\t\ticon: CreditCard,\n\t\tsupabaseSources: [\n\t\t\t\"finance_accounting_settings\",\n\t\t\t\"finance_bookkeeping_settings\",\n\t\t\t\"finance_bank_accounts\",\n\t\t\t\"finance_virtual_bucket_settings\",\n\t\t\t\"finance_virtual_buckets\",\n\t\t\t\"finance_business_financing_settings\",\n\t\t\t\"finance_consumer_financing_settings\",\n\t\t\t\"finance_debit_cards\",\n\t\t\t\"finance_gift_card_settings\",\n\t\t\t\"finance_gift_cards\",\n\t\t\t\"invoices\",\n\t\t\t\"payments\",\n\t\t],\n\t\tlinks: [\n\t\t\t{\n\t\t\t\ttitle: \"Accounting Integrations\",\n\t\t\t\tdescription: \"QuickBooks, Xero, sync cadence, and mappings\",\n\t\t\t\thref: \"/dashboard/settings/finance/accounting\",\n\t\t\t\tsupabaseSources: [\"finance_accounting_settings\"],\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"Bank Accounts\",\n\t\t\t\tdescription: \"Plaid connections, balances, and auto-import\",\n\t\t\t\thref: \"/dashboard/settings/finance/bank-accounts\",\n\t\t\t\tsupabaseSources: [\"finance_bank_accounts\"],\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"Virtual Buckets\",\n\t\t\t\tdescription: \"Profit-first allocations and automation\",\n\t\t\t\thref: \"/dashboard/settings/finance/virtual-buckets\",\n\t\t\t\tsupabaseSources: [\n\t\t\t\t\t\"finance_virtual_bucket_settings\",\n\t\t\t\t\t\"finance_virtual_buckets\",\n\t\t\t\t],\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"Gift & Debit Cards\",\n\t\t\t\tdescription: \"Spend controls, expiration policies, redemption data\",\n\t\t\t\thref: \"/dashboard/settings/finance/gift-cards\",\n\t\t\t\tsupabaseSources: [\n\t\t\t\t\t\"finance_gift_card_settings\",\n\t\t\t\t\t\"finance_gift_cards\",\n\t\t\t\t\t\"finance_debit_cards\",\n\t\t\t\t],\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"Payment Processors\",\n\t\t\t\tdescription: \"Adyen, Plaid, check deposits, and payout schedules\",\n\t\t\t\thref: \"/dashboard/settings/finance/payments\",\n\t\t\t\tsupabaseSources: [\n\t\t\t\t\t\"company_payment_processors\",\n\t\t\t\t\t\"payout_schedules\",\n\t\t\t\t],\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"Financing Programs\",\n\t\t\t\tdescription: \"Consumer and business financing eligibility\",\n\t\t\t\thref: \"/dashboard/settings/finance/business-financing\",\n\t\t\t\tsupabaseSources: [\n\t\t\t\t\t\"finance_business_financing_settings\",\n\t\t\t\t\t\"finance_consumer_financing_settings\",\n\t\t\t\t],\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tslug: \"integrations\",\n\t\ttitle: \"Integrations\",\n\t\tdescription: \"Connected apps, webhooks, supplier feeds, and API usage\",\n\t\ticon: Zap,\n\t\tsupabaseSources: [\n\t\t\t\"supplier_integrations\",\n\t\t\t\"api_keys\",\n\t\t\t\"communication_sms_settings\",\n\t\t\t\"finance_accounting_settings\",\n\t\t\t\"finance_bank_accounts\",\n\t\t\t\"webhooks\",\n\t\t\t\"webhook_logs\",\n\t\t],\n\t\tlinks: [\n\t\t\t{\n\t\t\t\ttitle: \"Integration Hub\",\n\t\t\t\tdescription: \"View and manage all connected platforms\",\n\t\t\t\thref: \"/dashboard/settings/integrations\",\n\t\t\t\tsupabaseSources: [\"supplier_integrations\", \"api_keys\"],\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"QuickBooks\",\n\t\t\t\tdescription: \"Two-way sync, error monitoring, and sync logs\",\n\t\t\t\thref: \"/dashboard/settings/finance/accounting\",\n\t\t\t\tsupabaseSources: [\"finance_accounting_settings\"],\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"Telnyx & Communications\",\n\t\t\t\tdescription: \"Phone numbers, SMS campaigns, and 10DLC\",\n\t\t\t\thref: \"/dashboard/settings/communications/phone-numbers\",\n\t\t\t\tsupabaseSources: [\"phone_numbers\", \"communication_sms_settings\"],\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"Supplier Catalogs\",\n\t\t\t\tdescription: \"Automated pricebook imports and refreshes\",\n\t\t\t\thref: \"/dashboard/settings/pricebook/integrations\",\n\t\t\t\tsupabaseSources: [\"supplier_integrations\"],\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"Webhooks & API access\",\n\t\t\t\tdescription: \"Keys, secrets, and delivery monitoring\",\n\t\t\t\thref: \"/dashboard/settings/development\",\n\t\t\t\tsupabaseSources: [\"api_keys\", \"webhooks\", \"webhook_logs\"],\n\t\t\t},\n\t\t],\n\t},\n\t{\n\t\tslug: \"analytics\",\n\t\ttitle: \"Analytics & Telemetry\",\n\t\tdescription: \"Usage insights, automation health, and alerting\",\n\t\ticon: BarChart3,\n\t\tsupabaseSources: [\n\t\t\t\"activities\",\n\t\t\t\"notifications\",\n\t\t\t\"call_logs\",\n\t\t\t\"jobs\",\n\t\t\t\"customers\",\n\t\t\t\"invoices\",\n\t\t],\n\t\tlinks: [\n\t\t\t{\n\t\t\t\ttitle: \"Mission Control\",\n\t\t\t\tdescription: \"Unified KPIs for operations and growth\",\n\t\t\t\thref: \"/dashboard/mission-control\",\n\t\t\t\tsupabaseSources: [\"activities\", \"jobs\", \"customers\"],\n\t\t\t\ttag: \"beta\",\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"Automation Runs\",\n\t\t\t\tdescription: \"Workflow throughput, failures, and retries\",\n\t\t\t\thref: \"/dashboard/settings/automation\",\n\t\t\t\tsupabaseSources: [\"activities\"],\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"Usage & Limits\",\n\t\t\t\tdescription: \"Plan allocation, metering, and alert policies\",\n\t\t\t\thref: \"/dashboard/settings/subscriptions\",\n\t\t\t\tsupabaseSources: [\"activities\", \"companies\"],\n\t\t\t},\n\t\t],\n\t\tdocumentation: [\n\t\t\t{\n\t\t\t\ttitle: \"Thorbis Analytics Framework\",\n\t\t\t\thref: \"/docs/ANALYTICS.md\",\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: \"Event Taxonomy\",\n\t\t\t\thref: \"/docs/ANALYTICS.md#event-taxonomy\",\n\t\t\t},\n\t\t],\n\t},\n];\n\nconst SETTINGS_CLUSTER_LOOKUP = new Map(\n\tSETTINGS_INFORMATION_ARCHITECTURE.map((cluster) => [cluster.slug, cluster]),\n);\n\nfunction getSettingsClusterDefinition(\n\tslug: SettingsClusterSlug,\n): SettingsClusterDefinition | undefined {\n\treturn SETTINGS_CLUSTER_LOOKUP.get(slug);\n}\n","import Link from \"next/link\";\nimport type { ReactNode } from \"react\";\nimport { Badge } from \"@/components/ui/badge\";\nimport type { SettingsOverviewSection } from \"@/lib/settings/overview-data\";\nimport {\n\tdescribeHealthStatus,\n\tgetStatusColorClasses,\n} from \"@/lib/settings/status-utils\";\nimport { cn } from \"@/lib/utils\";\n\ntype SettingsShellProps = {\n\tsections: SettingsOverviewSection[];\n\tchildren: ReactNode;\n};\n\nexport function SettingsShell({ sections, children }: SettingsShellProps) {\n\tif (sections.length <= 1) {\n\t\treturn <div className=\"space-y-12\">{children}</div>;\n\t}\n\n\treturn (\n\t\t<div className=\"space-y-10\">\n\t\t\t<div className=\"bg-card/90 rounded-2xl border p-4 shadow-sm\">\n\t\t\t\t<div className=\"flex items-center justify-between gap-3\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<p className=\"text-muted-foreground text-xs font-semibold tracking-wide uppercase\">\n\t\t\t\t\t\t\tSettings clusters\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p className=\"text-muted-foreground text-sm\">\n\t\t\t\t\t\t\tJump between areas without leaving the page\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<nav\n\t\t\t\t\taria-label=\"Settings clusters\"\n\t\t\t\t\tclassName=\"mt-4 flex gap-3 overflow-x-auto pb-2\"\n\t\t\t\t>\n\t\t\t\t\t{sections.map((section) => {\n\t\t\t\t\t\tconst statusColors = getStatusColorClasses(section.status);\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\tclassName=\"group hover:border-primary/60 hover:bg-muted/50 focus-visible:ring-primary min-w-[180px] flex-1 rounded-2xl border px-4 py-3 transition focus-visible:ring-2 focus-visible:outline-none\"\n\t\t\t\t\t\t\t\thref={`#${section.slug}`}\n\t\t\t\t\t\t\t\tkey={section.slug}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<div className=\"flex items-center justify-between gap-3\">\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t\t\t\t\t<div className=\"bg-muted rounded-lg border p-1\">\n\t\t\t\t\t\t\t\t\t\t\t<section.icon className=\"text-primary size-4\" />\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium\">{section.title}</p>\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\t{describeHealthStatus(section.status)}\n\t\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\t\"text-xs font-semibold\",\n\t\t\t\t\t\t\t\t\t\t\tstatusColors.text,\n\t\t\t\t\t\t\t\t\t\t\tstatusColors.background,\n\t\t\t\t\t\t\t\t\t\t\tstatusColors.border,\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{section.progress}%\n\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</nav>\n\t\t\t</div>\n\n\t\t\t<div className=\"space-y-12\">{children}</div>\n\t\t</div>\n\t);\n}\n","import type { SupabaseClient } from \"@supabase/supabase-js\";\nimport { cache } from \"react\";\nimport { requireActiveCompany } from \"@/lib/auth/company-context\";\nimport { requireUser } from \"@/lib/auth/session\";\nimport { createClient } from \"@/lib/supabase/server\";\nimport type { Database } from \"@/types/supabase\";\nimport {\n\tSETTINGS_INFORMATION_ARCHITECTURE,\n\ttype SettingsClusterDefinition,\n\ttype SettingsClusterSlug,\n\ttype SettingsLinkDefinition,\n} from \"./information-architecture\";\nimport {\n\tderiveHealthStatus,\n\tdescribeHealthStatus,\n\tformatTrendDelta,\n\ttype HealthStatus,\n\tnormalizeProgress,\n\tprogressFromSteps,\n} from \"./status-utils\";\n\ntype Tables = Database[\"public\"][\"Tables\"];\ntype TypedSupabaseClient = SupabaseClient<Database>;\n\ntype CompanyRow = Tables[\"companies\"][\"Row\"];\ntype CompanySettingsRow = Tables[\"company_settings\"][\"Row\"] & {\n\tpo_system_enabled?: boolean | null;\n\tpo_system_last_enabled_at?: string | null;\n};\ntype UserPreferencesRow = Tables[\"user_preferences\"][\"Row\"];\ntype UserNotificationPreferencesRow =\n\tTables[\"user_notification_preferences\"][\"Row\"];\ntype CommunicationEmailSettingsRow =\n\tTables[\"communication_email_settings\"][\"Row\"];\ntype CommunicationSmsSettingsRow = Tables[\"communication_sms_settings\"][\"Row\"];\ntype CommunicationPhoneSettingsRow =\n\tTables[\"communication_phone_settings\"][\"Row\"];\ntype CommunicationNotificationSettingsRow =\n\tTables[\"communication_notification_settings\"][\"Row\"];\ntype JobSettingsRow = Tables[\"job_settings\"][\"Row\"];\ntype ScheduleAvailabilitySettingsRow =\n\tTables[\"schedule_availability_settings\"][\"Row\"];\ntype ScheduleCalendarSettingsRow = Tables[\"schedule_calendar_settings\"][\"Row\"];\ntype FinanceAccountingSettingsRow =\n\tTables[\"finance_accounting_settings\"][\"Row\"];\ntype FinanceBookkeepingSettingsRow =\n\tTables[\"finance_bookkeeping_settings\"][\"Row\"];\ntype FinanceBankAccountRow = Tables[\"finance_bank_accounts\"][\"Row\"];\ntype FinanceVirtualBucketSettingsRow =\n\tTables[\"finance_virtual_bucket_settings\"][\"Row\"];\ntype FinanceBusinessFinancingSettingsRow =\n\tTables[\"finance_business_financing_settings\"][\"Row\"];\ntype FinanceConsumerFinancingSettingsRow =\n\tTables[\"finance_consumer_financing_settings\"][\"Row\"];\ntype FinanceGiftCardSettingsRow = Tables[\"finance_gift_card_settings\"][\"Row\"];\ntype CustomerPortalSettingsRow = Tables[\"customer_portal_settings\"][\"Row\"];\ntype CustomerIntakeSettingsRow = Tables[\"customer_intake_settings\"][\"Row\"];\ntype CustomerLoyaltySettingsRow = Tables[\"customer_loyalty_settings\"][\"Row\"];\ntype ProfilesRow = Tables[\"profiles\"][\"Row\"];\ntype MessagingBrandRow = Tables[\"messaging_brands\"][\"Row\"];\ntype MessagingCampaignRow = Tables[\"messaging_campaigns\"][\"Row\"];\ntype WebhookRow = Tables[\"webhooks\"][\"Row\"];\n\nexport type SettingsMetricDatum = {\n\tkey: string;\n\tlabel: string;\n\tvalue: string;\n\thelper?: string;\n\tstatus?: HealthStatus;\n\ttrend?: number;\n};\n\nexport type SettingsChecklistItem = {\n\tkey: string;\n\tlabel: string;\n\thref: string;\n\tcompleted: boolean;\n\thelper?: string;\n\tsupabaseSources: string[];\n};\n\nexport type SettingsQuickAction = {\n\tkey: string;\n\tlabel: string;\n\thref: string;\n\tvariant?: \"default\" | \"outline\" | \"ghost\";\n\tanalyticsEvent?: string;\n};\n\nexport type SettingsOverviewSection = {\n\tslug: SettingsClusterSlug;\n\ttitle: string;\n\tdescription: string;\n\ticon: SettingsClusterDefinition[\"icon\"];\n\tprogress: number;\n\tstatus: HealthStatus;\n\tsummary: string;\n\tmetrics: SettingsMetricDatum[];\n\tchecklist: SettingsChecklistItem[];\n\tquickActions: SettingsQuickAction[];\n\tlinks: SettingsLinkDefinition[];\n\tdocumentation?: SettingsClusterDefinition[\"documentation\"];\n};\n\nexport type SettingsOverviewMeta = {\n\tcompanyName: string | null;\n\tsubscriptionStatus: string | null;\n\tteamCount: number;\n\talerts: string[];\n\tpoSystemEnabled: boolean;\n\tpoSystemLastEnabledAt: string | null;\n\tgeneratedAt: string;\n};\n\nexport type SettingsOverviewData = {\n\tmeta: SettingsOverviewMeta;\n\tsections: SettingsOverviewSection[];\n};\n\ntype RawSettingsData = {\n\tgeneratedAt: string;\n\tcompany: CompanyRow | null;\n\tcompanySettings: CompanySettingsRow | null;\n\tprofile: ProfilesRow | null;\n\tuserPreferences: UserPreferencesRow | null;\n\tuserNotificationPreferences: UserNotificationPreferencesRow | null;\n\tcommunicationEmailSettings: CommunicationEmailSettingsRow | null;\n\tcommunicationSmsSettings: CommunicationSmsSettingsRow | null;\n\tcommunicationPhoneSettings: CommunicationPhoneSettingsRow | null;\n\tcommunicationNotificationSettings: CommunicationNotificationSettingsRow | null;\n\tjobSettings: JobSettingsRow | null;\n\tscheduleAvailabilitySettings: ScheduleAvailabilitySettingsRow | null;\n\tscheduleCalendarSettings: ScheduleCalendarSettingsRow | null;\n\taccountingSettings: FinanceAccountingSettingsRow | null;\n\tbookkeepingSettings: FinanceBookkeepingSettingsRow | null;\n\tbankAccounts: FinanceBankAccountRow[];\n\tvirtualBucketSettings: FinanceVirtualBucketSettingsRow | null;\n\tbusinessFinancingSettings: FinanceBusinessFinancingSettingsRow | null;\n\tconsumerFinancingSettings: FinanceConsumerFinancingSettingsRow | null;\n\tgiftCardSettings: FinanceGiftCardSettingsRow | null;\n\tportalSettings: CustomerPortalSettingsRow | null;\n\tintakeSettings: CustomerIntakeSettingsRow | null;\n\tloyaltySettings: CustomerLoyaltySettingsRow | null;\n\tmessagingBrand: MessagingBrandRow | null;\n\tmessagingCampaign: MessagingCampaignRow | null;\n\tteamCounts: { active: number; pendingInvites: number };\n\tcustomRolesCount: number;\n\tapiKeysCount: number;\n\tphoneNumbersCount: number;\n\tdepartmentsCount: number;\n\tleadSourcesCount: number;\n\ttagsCount: number;\n\tdebitCardsCount: number;\n\tgiftCardsActiveCount: number;\n\tvirtualBucketsCount: number;\n\tscheduleDispatchRulesCount: number;\n\tscheduleTeamRulesCount: number;\n\tsupplierIntegrationsCount: number;\n\tjobsTotalCount: number;\n\tjobsWeekCount: number;\n\tcustomersCount: number;\n\tinvoicesOpenCount: number;\n\tactivitiesWeekCount: number;\n\tautomationWeekCount: number;\n\tnotificationsWeekCount: number;\n\tcallLogsWeekCount: number;\n\tportingPendingCount: number;\n\tnotificationQueuePendingCount: number;\n\tnotificationQueueFailedCount: number;\n\twebhooksCount: number;\n\twebhookFailuresWeekCount: number;\n};\n\nconst DEFAULT_RAW_DATA: RawSettingsData = {\n\tgeneratedAt: new Date(0).toISOString(),\n\tcompany: null,\n\tcompanySettings: null,\n\tprofile: null,\n\tuserPreferences: null,\n\tuserNotificationPreferences: null,\n\tcommunicationEmailSettings: null,\n\tcommunicationSmsSettings: null,\n\tcommunicationPhoneSettings: null,\n\tcommunicationNotificationSettings: null,\n\tjobSettings: null,\n\tscheduleAvailabilitySettings: null,\n\tscheduleCalendarSettings: null,\n\taccountingSettings: null,\n\tbookkeepingSettings: null,\n\tbankAccounts: [],\n\tvirtualBucketSettings: null,\n\tbusinessFinancingSettings: null,\n\tconsumerFinancingSettings: null,\n\tgiftCardSettings: null,\n\tportalSettings: null,\n\tintakeSettings: null,\n\tloyaltySettings: null,\n\tmessagingBrand: null,\n\tmessagingCampaign: null,\n\tteamCounts: { active: 0, pendingInvites: 0 },\n\tcustomRolesCount: 0,\n\tapiKeysCount: 0,\n\tphoneNumbersCount: 0,\n\tdepartmentsCount: 0,\n\tleadSourcesCount: 0,\n\ttagsCount: 0,\n\tdebitCardsCount: 0,\n\tgiftCardsActiveCount: 0,\n\tvirtualBucketsCount: 0,\n\tscheduleDispatchRulesCount: 0,\n\tscheduleTeamRulesCount: 0,\n\tsupplierIntegrationsCount: 0,\n\tjobsTotalCount: 0,\n\tjobsWeekCount: 0,\n\tcustomersCount: 0,\n\tinvoicesOpenCount: 0,\n\tactivitiesWeekCount: 0,\n\tautomationWeekCount: 0,\n\tnotificationsWeekCount: 0,\n\tcallLogsWeekCount: 0,\n\tportingPendingCount: 0,\n\tnotificationQueuePendingCount: 0,\n\tnotificationQueueFailedCount: 0,\n\twebhooksCount: 0,\n\twebhookFailuresWeekCount: 0,\n};\n\nexport const getSettingsOverviewData = cache(\n\tasync (): Promise<SettingsOverviewData> => {\n\t\tconst supabase = (await createClient()) as TypedSupabaseClient | null;\n\t\tif (!supabase) {\n\t\t\treturn buildFallbackOverview(DEFAULT_RAW_DATA);\n\t\t}\n\n\t\tconst user = await requireUser();\n\t\tconst companyId = await requireActiveCompany();\n\n\t\tconst rawData = await fetchRawSettingsData(supabase, companyId, user.id);\n\t\treturn buildOverviewPayload(rawData);\n\t},\n);\n\nasync function fetchRawSettingsData(\n\tsupabase: TypedSupabaseClient,\n\tcompanyId: string,\n\tuserId: string,\n): Promise<RawSettingsData> {\n\ttry {\n\t\tconst nowIso = new Date().toISOString();\n\t\tconst sevenDaysAgo = new Date();\n\t\tsevenDaysAgo.setDate(sevenDaysAgo.getDate() - 7);\n\t\tconst sevenDaysAgoIso = sevenDaysAgo.toISOString();\n\n\t\tconst [\n\t\t\tcompanyRes,\n\t\t\tcompanySettingsRes,\n\t\t\tprofileRes,\n\t\t\tuserPreferencesRes,\n\t\t\tuserNotificationPreferencesRes,\n\t\t\tcommunicationEmailSettingsRes,\n\t\t\tcommunicationSmsSettingsRes,\n\t\t\tcommunicationPhoneSettingsRes,\n\t\t\tcommunicationNotificationSettingsRes,\n\t\t\tjobSettingsRes,\n\t\t\tscheduleAvailabilitySettingsRes,\n\t\t\tscheduleCalendarSettingsRes,\n\t\t\taccountingSettingsRes,\n\t\t\tbookkeepingSettingsRes,\n\t\t\tbankAccountsRes,\n\t\t\tvirtualBucketSettingsRes,\n\t\t\tbusinessFinancingSettingsRes,\n\t\t\tconsumerFinancingSettingsRes,\n\t\t\tgiftCardSettingsRes,\n\t\t\tportalSettingsRes,\n\t\t\tintakeSettingsRes,\n\t\t\tloyaltySettingsRes,\n\t\t\tteamActiveCount,\n\t\t\tteamInviteCount,\n\t\t\tcustomRolesCount,\n\t\t\tapiKeysCount,\n\t\t\tphoneNumbersCount,\n\t\t\tdebitCardsCount,\n\t\t\tgiftCardsActiveCount,\n\t\t\tvirtualBucketsCount,\n\t\t\tsupplierIntegrationsCount,\n\t\t\tscheduleDispatchRulesCount,\n\t\t\tscheduleTeamRulesCount,\n\t\t\tjobsTotalCount,\n\t\t\tjobsWeekCount,\n\t\t\tcustomersCount,\n\t\t\tinvoicesOpenCount,\n\t\t\tactivitiesWeekCount,\n\t\t\tautomationWeekCount,\n\t\t\tnotificationsWeekCount,\n\t\t\tcallLogsWeekCount,\n\t\t\tmessagingBrandRes,\n\t\t\twebhooksRes,\n\t\t\tportingPendingCount,\n\t\t\tnotificationQueuePendingCount,\n\t\t\tnotificationQueueFailedCount,\n\t\t\tdepartmentsCount,\n\t\t\tleadSourcesCount,\n\t\t\ttagsCount,\n\t\t] = await Promise.all([\n\t\t\tsupabase\n\t\t\t\t.from(\"companies\")\n\t\t\t\t.select(\n\t\t\t\t\t\"id,name,logo,legal_name,phone,email,website,website_url,stripe_subscription_status,onboarding_step,onboarding_completed_at,subscription_cancel_at_period_end\",\n\t\t\t\t)\n\t\t\t\t.eq(\"id\", companyId)\n\t\t\t\t.maybeSingle<CompanyRow>(),\n\t\t\tsupabase\n\t\t\t\t.from(\"company_settings\")\n\t\t\t\t.select(\n\t\t\t\t\t\"company_id,company_feed_enabled,feed_visibility,service_area_type,po_system_enabled,po_system_last_enabled_at\",\n\t\t\t\t)\n\t\t\t\t.eq(\"company_id\", companyId)\n\t\t\t\t.maybeSingle<CompanySettingsRow>(),\n\t\t\tsupabase\n\t\t\t\t.from(\"profiles\")\n\t\t\t\t.select(\"id,onboarding_completed\")\n\t\t\t\t.eq(\"id\", userId)\n\t\t\t\t.maybeSingle<ProfilesRow>(),\n\t\t\tsupabase\n\t\t\t\t.from(\"user_preferences\")\n\t\t\t\t.select(\n\t\t\t\t\t\"user_id,timezone,theme,language,date_format,time_format,default_dashboard_view,default_page_size\",\n\t\t\t\t)\n\t\t\t\t.eq(\"user_id\", userId)\n\t\t\t\t.maybeSingle<UserPreferencesRow>(),\n\t\t\tsupabase\n\t\t\t\t.from(\"user_notification_preferences\")\n\t\t\t\t.select(\n\t\t\t\t\t\"user_id,email_new_jobs,email_job_updates,email_mentions,email_messages,push_new_jobs,push_job_updates,push_mentions,push_messages,sms_schedule_changes,sms_urgent_jobs,digest_enabled,digest_frequency,in_app_all\",\n\t\t\t\t)\n\t\t\t\t.eq(\"user_id\", userId)\n\t\t\t\t.maybeSingle<UserNotificationPreferencesRow>(),\n\t\t\tsupabase\n\t\t\t\t.from(\"communication_email_settings\")\n\t\t\t\t.select(\n\t\t\t\t\t\"company_id,smtp_enabled,smtp_host,smtp_from_email,auto_cc_enabled,default_signature,track_opens,track_clicks\",\n\t\t\t\t)\n\t\t\t\t.eq(\"company_id\", companyId)\n\t\t\t\t.maybeSingle<CommunicationEmailSettingsRow>(),\n\t\t\tsupabase\n\t\t\t\t.from(\"communication_sms_settings\")\n\t\t\t\t.select(\n\t\t\t\t\t\"company_id,provider,sender_number,auto_reply_enabled,auto_reply_message,opt_out_message,consent_required\",\n\t\t\t\t)\n\t\t\t\t.eq(\"company_id\", companyId)\n\t\t\t\t.maybeSingle<CommunicationSmsSettingsRow>(),\n\t\t\tsupabase\n\t\t\t\t.from(\"communication_phone_settings\")\n\t\t\t\t.select(\n\t\t\t\t\t\"company_id,routing_strategy,business_hours_only,fallback_number,voicemail_enabled,voicemail_email_notifications,recording_enabled,ivr_enabled\",\n\t\t\t\t)\n\t\t\t\t.eq(\"company_id\", companyId)\n\t\t\t\t.maybeSingle<CommunicationPhoneSettingsRow>(),\n\t\t\tsupabase\n\t\t\t\t.from(\"communication_notification_settings\")\n\t\t\t\t.select(\n\t\t\t\t\t\"company_id,email_notifications,sms_notifications,push_notifications,in_app_notifications,notify_new_jobs,notify_job_updates,notify_invoice_overdue\",\n\t\t\t\t)\n\t\t\t\t.eq(\"company_id\", companyId)\n\t\t\t\t.maybeSingle<CommunicationNotificationSettingsRow>(),\n\t\t\tsupabase\n\t\t\t\t.from(\"job_settings\")\n\t\t\t\t.select(\n\t\t\t\t\t\"company_id,default_job_status,auto_invoice_on_completion,require_customer_signature,require_completion_notes,track_technician_time,send_review_link_on_completion\",\n\t\t\t\t)\n\t\t\t\t.eq(\"company_id\", companyId)\n\t\t\t\t.maybeSingle<JobSettingsRow>(),\n\t\t\tsupabase\n\t\t\t\t.from(\"schedule_availability_settings\")\n\t\t\t\t.select(\n\t\t\t\t\t\"company_id,default_work_hours,default_appointment_duration_minutes,buffer_time_minutes,min_booking_notice_hours,max_booking_advance_days\",\n\t\t\t\t)\n\t\t\t\t.eq(\"company_id\", companyId)\n\t\t\t\t.maybeSingle<ScheduleAvailabilitySettingsRow>(),\n\t\t\tsupabase\n\t\t\t\t.from(\"schedule_calendar_settings\")\n\t\t\t\t.select(\n\t\t\t\t\t\"company_id,default_view,start_day_of_week,time_slot_duration_minutes,show_technician_colors,sync_with_google_calendar,sync_with_outlook\",\n\t\t\t\t)\n\t\t\t\t.eq(\"company_id\", companyId)\n\t\t\t\t.maybeSingle<ScheduleCalendarSettingsRow>(),\n\t\t\tsupabase\n\t\t\t\t.from(\"finance_accounting_settings\")\n\t\t\t\t.select(\n\t\t\t\t\t\"company_id,provider,provider_enabled,auto_sync_enabled,last_sync_at,sync_frequency,sync_invoices,sync_payments,sync_expenses,sync_customers\",\n\t\t\t\t)\n\t\t\t\t.eq(\"company_id\", companyId)\n\t\t\t\t.maybeSingle<FinanceAccountingSettingsRow>(),\n\t\t\tsupabase\n\t\t\t\t.from(\"finance_bookkeeping_settings\")\n\t\t\t\t.select(\n\t\t\t\t\t\"company_id,auto_categorize_transactions,auto_reconcile_payments,report_frequency,email_reports,report_recipients\",\n\t\t\t\t)\n\t\t\t\t.eq(\"company_id\", companyId)\n\t\t\t\t.maybeSingle<FinanceBookkeepingSettingsRow>(),\n\t\t\tsupabase\n\t\t\t\t.from(\"finance_bank_accounts\")\n\t\t\t\t.select(\"*\")\n\t\t\t\t.eq(\"company_id\", companyId)\n\t\t\t\t.eq(\"is_active\", true),\n\t\t\tsupabase\n\t\t\t\t.from(\"finance_virtual_bucket_settings\")\n\t\t\t\t.select(\n\t\t\t\t\t\"company_id,virtual_buckets_enabled,auto_allocate_funds,allocation_frequency,operating_expenses_percentage,tax_reserve_percentage,profit_percentage,emergency_fund_percentage\",\n\t\t\t\t)\n\t\t\t\t.eq(\"company_id\", companyId)\n\t\t\t\t.maybeSingle<FinanceVirtualBucketSettingsRow>(),\n\t\t\tsupabase\n\t\t\t\t.from(\"finance_business_financing_settings\")\n\t\t\t\t.select(\n\t\t\t\t\t\"company_id,enable_business_loans,enable_line_of_credit,enable_equipment_financing,financing_provider,auto_calculate_eligibility,show_offers_in_dashboard\",\n\t\t\t\t)\n\t\t\t\t.eq(\"company_id\", companyId)\n\t\t\t\t.maybeSingle<FinanceBusinessFinancingSettingsRow>(),\n\t\t\tsupabase\n\t\t\t\t.from(\"finance_consumer_financing_settings\")\n\t\t\t\t.select(\n\t\t\t\t\t\"company_id,financing_enabled,provider,min_amount,max_amount,available_terms,show_in_estimates,show_in_invoices,promote_financing\",\n\t\t\t\t)\n\t\t\t\t.eq(\"company_id\", companyId)\n\t\t\t\t.maybeSingle<FinanceConsumerFinancingSettingsRow>(),\n\t\t\tsupabase\n\t\t\t\t.from(\"finance_gift_card_settings\")\n\t\t\t\t.select(\n\t\t\t\t\t\"company_id,gift_cards_enabled,program_name,fixed_denominations,available_amounts,allow_online_purchase,allow_in_person_purchase,cards_expire,expiration_months\",\n\t\t\t\t)\n\t\t\t\t.eq(\"company_id\", companyId)\n\t\t\t\t.maybeSingle<FinanceGiftCardSettingsRow>(),\n\t\t\tsupabase\n\t\t\t\t.from(\"customer_portal_settings\")\n\t\t\t\t.select(\n\t\t\t\t\t\"company_id,portal_enabled,allow_booking,allow_invoice_payment,allow_estimate_approval,show_service_history,welcome_message\",\n\t\t\t\t)\n\t\t\t\t.eq(\"company_id\", companyId)\n\t\t\t\t.maybeSingle<CustomerPortalSettingsRow>(),\n\t\t\tsupabase\n\t\t\t\t.from(\"customer_intake_settings\")\n\t\t\t\t.select(\n\t\t\t\t\t\"company_id,require_phone,require_email,require_address,require_property_type,track_lead_source,auto_assign_technician,auto_create_job\",\n\t\t\t\t)\n\t\t\t\t.eq(\"company_id\", companyId)\n\t\t\t\t.maybeSingle<CustomerIntakeSettingsRow>(),\n\t\t\tsupabase\n\t\t\t\t.from(\"customer_loyalty_settings\")\n\t\t\t\t.select(\n\t\t\t\t\t\"company_id,loyalty_enabled,program_name,points_per_dollar_spent,auto_apply_rewards,notify_on_points_earned\",\n\t\t\t\t)\n\t\t\t\t.eq(\"company_id\", companyId)\n\t\t\t\t.maybeSingle<CustomerLoyaltySettingsRow>(),\n\t\t\tgetExactCount(supabase, \"team_members\", (query) =>\n\t\t\t\tquery.eq(\"company_id\", companyId).eq(\"status\", \"active\"),\n\t\t\t),\n\t\t\tgetExactCount(supabase, \"team_invitations\", (query) =>\n\t\t\t\tquery\n\t\t\t\t\t.eq(\"company_id\", companyId)\n\t\t\t\t\t.is(\"used_at\", null)\n\t\t\t\t\t.gt(\"expires_at\", nowIso),\n\t\t\t),\n\t\t\tgetExactCount(supabase, \"custom_roles\", (query) =>\n\t\t\t\tquery.eq(\"company_id\", companyId).eq(\"is_active\", true),\n\t\t\t),\n\t\t\tgetExactCount(supabase, \"api_keys\", (query) =>\n\t\t\t\tquery.eq(\"company_id\", companyId).is(\"revoked_at\", null),\n\t\t\t),\n\t\t\tgetExactCount(supabase, \"phone_numbers\", (query) =>\n\t\t\t\tquery.eq(\"company_id\", companyId).eq(\"status\", \"active\"),\n\t\t\t),\n\t\t\tgetExactCount(supabase, \"finance_debit_cards\", (query) =>\n\t\t\t\tquery.eq(\"company_id\", companyId).eq(\"is_active\", true),\n\t\t\t),\n\t\t\tgetExactCount(supabase, \"finance_gift_cards\", (query) =>\n\t\t\t\tquery.eq(\"company_id\", companyId).eq(\"status\", \"active\"),\n\t\t\t),\n\t\t\tgetExactCount(supabase, \"finance_virtual_buckets\", (query) =>\n\t\t\t\tquery.eq(\"company_id\", companyId),\n\t\t\t),\n\t\t\tgetExactCount(supabase, \"supplier_integrations\", (query) =>\n\t\t\t\tquery.eq(\"company_id\", companyId),\n\t\t\t),\n\t\t\tgetExactCount(supabase, \"schedule_dispatch_rules\", (query) =>\n\t\t\t\tquery.eq(\"company_id\", companyId),\n\t\t\t),\n\t\t\tgetExactCount(supabase, \"schedule_team_rules\", (query) =>\n\t\t\t\tquery.eq(\"company_id\", companyId),\n\t\t\t),\n\t\t\tgetExactCount(supabase, \"jobs\", (query) =>\n\t\t\t\tquery.eq(\"company_id\", companyId),\n\t\t\t),\n\t\t\tgetExactCount(supabase, \"jobs\", (query) =>\n\t\t\t\tquery.eq(\"company_id\", companyId).gte(\"created_at\", sevenDaysAgoIso),\n\t\t\t),\n\t\t\tgetExactCount(supabase, \"customers\", (query) =>\n\t\t\t\tquery.eq(\"company_id\", companyId),\n\t\t\t),\n\t\t\tgetExactCount(supabase, \"invoices\", (query) =>\n\t\t\t\tquery.eq(\"company_id\", companyId).in(\"status\", [\"open\", \"overdue\"]),\n\t\t\t),\n\t\t\tgetExactCount(supabase, \"activities\", (query) =>\n\t\t\t\tquery.eq(\"company_id\", companyId).gte(\"occurred_at\", sevenDaysAgoIso),\n\t\t\t),\n\t\t\tgetExactCount(supabase, \"activities\", (query) =>\n\t\t\t\tquery\n\t\t\t\t\t.eq(\"company_id\", companyId)\n\t\t\t\t\t.eq(\"category\", \"automation\")\n\t\t\t\t\t.gte(\"occurred_at\", sevenDaysAgoIso),\n\t\t\t),\n\t\t\tgetExactCount(supabase, \"notifications\", (query) =>\n\t\t\t\tquery.eq(\"company_id\", companyId).gte(\"created_at\", sevenDaysAgoIso),\n\t\t\t),\n\t\t\tgetExactCount(supabase, \"call_logs\", (query) =>\n\t\t\t\tquery.eq(\"company_id\", companyId).gte(\"created_at\", sevenDaysAgoIso),\n\t\t\t),\n\t\t\tsupabase\n\t\t\t\t.from(\"messaging_brands\")\n\t\t\t\t.select(\n\t\t\t\t\t\"id,company_id,status,telnyx_brand_id,legal_name,vertical,created_at,updated_at\",\n\t\t\t\t)\n\t\t\t\t.eq(\"company_id\", companyId)\n\t\t\t\t.maybeSingle<MessagingBrandRow>(),\n\t\t\tsupabase\n\t\t\t\t.from(\"webhooks\")\n\t\t\t\t.select(\"id,active,created_at\")\n\t\t\t\t.eq(\"company_id\", companyId),\n\t\t\tgetExactCount(supabase, \"phone_porting_requests\", (query) =>\n\t\t\t\tquery\n\t\t\t\t\t.eq(\"company_id\", companyId)\n\t\t\t\t\t.is(\"completed_at\", null)\n\t\t\t\t\t.is(\"cancelled_at\", null),\n\t\t\t),\n\t\t\tgetExactCount(supabase, \"notification_queue\", (query) =>\n\t\t\t\tquery.eq(\"company_id\", companyId).is(\"sent_at\", null),\n\t\t\t),\n\t\t\tgetExactCount(supabase, \"notification_queue\", (query) =>\n\t\t\t\tquery.eq(\"company_id\", companyId).eq(\"status\", \"failed\"),\n\t\t\t),\n\t\t\tgetExactCount(supabase, \"departments\", (query) =>\n\t\t\t\tquery.eq(\"company_id\", companyId),\n\t\t\t),\n\t\t\tgetExactCount(supabase, \"lead_sources\", (query) =>\n\t\t\t\tquery.eq(\"company_id\", companyId),\n\t\t\t),\n\t\t\tgetExactCount(supabase, \"tags\", (query) =>\n\t\t\t\tquery.eq(\"company_id\", companyId),\n\t\t\t),\n\t\t]);\n\n\t\tconst company = companyRes.data;\n\t\tconst companySettings = companySettingsRes.data;\n\t\tconst profile = profileRes.data;\n\t\tconst userPreferences = userPreferencesRes.data;\n\t\tconst userNotificationPreferences = userNotificationPreferencesRes.data;\n\t\tconst communicationEmailSettings = communicationEmailSettingsRes.data;\n\t\tconst communicationSmsSettings = communicationSmsSettingsRes.data;\n\t\tconst communicationPhoneSettings = communicationPhoneSettingsRes.data;\n\t\tconst communicationNotificationSettings =\n\t\t\tcommunicationNotificationSettingsRes.data;\n\t\tconst jobSettings = jobSettingsRes.data;\n\t\tconst scheduleAvailabilitySettings = scheduleAvailabilitySettingsRes.data;\n\t\tconst scheduleCalendarSettings = scheduleCalendarSettingsRes.data;\n\t\tconst accountingSettings = accountingSettingsRes.data;\n\t\tconst bookkeepingSettings = bookkeepingSettingsRes.data;\n\t\tconst bankAccountsData = bankAccountsRes.data ?? [];\n\t\tconst virtualBucketSettings = virtualBucketSettingsRes.data;\n\t\tconst businessFinancingSettings = businessFinancingSettingsRes.data;\n\t\tconst consumerFinancingSettings = consumerFinancingSettingsRes.data;\n\t\tconst giftCardSettings = giftCardSettingsRes.data;\n\t\tconst portalSettings = portalSettingsRes.data;\n\t\tconst intakeSettings = intakeSettingsRes.data;\n\t\tconst loyaltySettings = loyaltySettingsRes.data;\n\t\tconst messagingBrand = messagingBrandRes.data;\n\n\t\tlet messagingCampaign: MessagingCampaignRow | null = null;\n\t\tif (messagingBrand?.id) {\n\t\t\tconst { data: latestCampaign } = await supabase\n\t\t\t\t.from(\"messaging_campaigns\")\n\t\t\t\t.select(\n\t\t\t\t\t\"id,status,usecase,telnyx_campaign_id,messaging_brand_id,created_at,updated_at\",\n\t\t\t\t)\n\t\t\t\t.eq(\"messaging_brand_id\", messagingBrand.id)\n\t\t\t\t.order(\"created_at\", { ascending: false })\n\t\t\t\t.limit(1)\n\t\t\t\t.maybeSingle<MessagingCampaignRow>();\n\t\t\tmessagingCampaign = latestCampaign ?? null;\n\t\t}\n\n\t\tconst webhooksData = webhooksRes.data ?? [];\n\t\tconst webhooksCount = webhooksData.filter(\n\t\t\t(webhook) => webhook.active,\n\t\t).length;\n\t\tlet webhookFailuresWeekCount = 0;\n\t\tif (webhooksData.length > 0) {\n\t\t\tconst webhookIds = webhooksData.map((webhook) => webhook.id);\n\t\t\tconst { count: failureCount } = await supabase\n\t\t\t\t.from(\"webhook_logs\")\n\t\t\t\t.select(\"id\", { count: \"exact\", head: true })\n\t\t\t\t.in(\"webhook_id\", webhookIds)\n\t\t\t\t.gte(\"created_at\", sevenDaysAgoIso)\n\t\t\t\t.or(\"response_status.gte.400,delivered_at.is.null\");\n\t\t\twebhookFailuresWeekCount = failureCount ?? 0;\n\t\t}\n\n\t\treturn {\n\t\t\tgeneratedAt: nowIso,\n\t\t\tcompany: company ?? null,\n\t\t\tcompanySettings: companySettings ?? null,\n\t\t\tprofile: profile ?? null,\n\t\t\tuserPreferences: userPreferences ?? null,\n\t\t\tuserNotificationPreferences: userNotificationPreferences ?? null,\n\t\t\tcommunicationEmailSettings: communicationEmailSettings ?? null,\n\t\t\tcommunicationSmsSettings: communicationSmsSettings ?? null,\n\t\t\tcommunicationPhoneSettings: communicationPhoneSettings ?? null,\n\t\t\tcommunicationNotificationSettings:\n\t\t\t\tcommunicationNotificationSettings ?? null,\n\t\t\tjobSettings: jobSettings ?? null,\n\t\t\tscheduleAvailabilitySettings: scheduleAvailabilitySettings ?? null,\n\t\t\tscheduleCalendarSettings: scheduleCalendarSettings ?? null,\n\t\t\taccountingSettings: accountingSettings ?? null,\n\t\t\tbookkeepingSettings: bookkeepingSettings ?? null,\n\t\t\tbankAccounts: bankAccountsData ?? [],\n\t\t\tvirtualBucketSettings: virtualBucketSettings ?? null,\n\t\t\tbusinessFinancingSettings: businessFinancingSettings ?? null,\n\t\t\tconsumerFinancingSettings: consumerFinancingSettings ?? null,\n\t\t\tgiftCardSettings: giftCardSettings ?? null,\n\t\t\tportalSettings: portalSettings ?? null,\n\t\t\tintakeSettings: intakeSettings ?? null,\n\t\t\tloyaltySettings: loyaltySettings ?? null,\n\t\t\tmessagingBrand: messagingBrand ?? null,\n\t\t\tmessagingCampaign,\n\t\t\tteamCounts: {\n\t\t\t\tactive: teamActiveCount ?? 0,\n\t\t\t\tpendingInvites: teamInviteCount ?? 0,\n\t\t\t},\n\t\t\tcustomRolesCount: customRolesCount ?? 0,\n\t\t\tapiKeysCount: apiKeysCount ?? 0,\n\t\t\tphoneNumbersCount: phoneNumbersCount ?? 0,\n\t\t\tdepartmentsCount: departmentsCount ?? 0,\n\t\t\tleadSourcesCount: leadSourcesCount ?? 0,\n\t\t\ttagsCount: tagsCount ?? 0,\n\t\t\tdebitCardsCount: debitCardsCount ?? 0,\n\t\t\tgiftCardsActiveCount: giftCardsActiveCount ?? 0,\n\t\t\tvirtualBucketsCount: virtualBucketsCount ?? 0,\n\t\t\tscheduleDispatchRulesCount: scheduleDispatchRulesCount ?? 0,\n\t\t\tscheduleTeamRulesCount: scheduleTeamRulesCount ?? 0,\n\t\t\tsupplierIntegrationsCount: supplierIntegrationsCount ?? 0,\n\t\t\tjobsTotalCount: jobsTotalCount ?? 0,\n\t\t\tjobsWeekCount: jobsWeekCount ?? 0,\n\t\t\tcustomersCount: customersCount ?? 0,\n\t\t\tinvoicesOpenCount: invoicesOpenCount ?? 0,\n\t\t\tactivitiesWeekCount: activitiesWeekCount ?? 0,\n\t\t\tautomationWeekCount: automationWeekCount ?? 0,\n\t\t\tnotificationsWeekCount: notificationsWeekCount ?? 0,\n\t\t\tcallLogsWeekCount: callLogsWeekCount ?? 0,\n\t\t\tportingPendingCount: portingPendingCount ?? 0,\n\t\t\tnotificationQueuePendingCount: notificationQueuePendingCount ?? 0,\n\t\t\tnotificationQueueFailedCount: notificationQueueFailedCount ?? 0,\n\t\t\twebhooksCount,\n\t\t\twebhookFailuresWeekCount,\n\t\t};\n\t} catch {\n\t\treturn {\n\t\t\t...DEFAULT_RAW_DATA,\n\t\t\tgeneratedAt: new Date().toISOString(),\n\t\t};\n\t}\n}\n\nfunction buildOverviewPayload(raw: RawSettingsData): SettingsOverviewData {\n\tconst sections = SETTINGS_INFORMATION_ARCHITECTURE.map((definition) =>\n\t\tbuildSection(definition, raw),\n\t);\n\n\tconst alerts = sections\n\t\t.filter((section) => section.status !== \"ready\")\n\t\t.map(\n\t\t\t(section) => `${describeHealthStatus(section.status)}: ${section.title}`,\n\t\t);\n\n\treturn {\n\t\tmeta: {\n\t\t\tcompanyName: raw.company?.name ?? null,\n\t\t\tsubscriptionStatus: raw.company?.stripe_subscription_status ?? null,\n\t\t\tteamCount: raw.teamCounts.active,\n\t\t\talerts,\n\t\t\tpoSystemEnabled: Boolean(raw.companySettings?.po_system_enabled),\n\t\t\tpoSystemLastEnabledAt:\n\t\t\t\traw.companySettings?.po_system_last_enabled_at ?? null,\n\t\t\tgeneratedAt: raw.generatedAt,\n\t\t},\n\t\tsections,\n\t};\n}\n\nfunction buildFallbackOverview(raw: RawSettingsData): SettingsOverviewData {\n\treturn buildOverviewPayload(raw);\n}\n\nfunction buildSection(\n\tdefinition: SettingsClusterDefinition,\n\traw: RawSettingsData,\n): SettingsOverviewSection {\n\tswitch (definition.slug) {\n\t\tcase \"account\":\n\t\t\treturn buildAccountSection(definition, raw);\n\t\tcase \"workspace\":\n\t\t\treturn buildWorkspaceSection(definition, raw);\n\t\tcase \"communications\":\n\t\t\treturn buildCommunicationsSection(definition, raw);\n\t\tcase \"operations\":\n\t\t\treturn buildOperationsSection(definition, raw);\n\t\tcase \"finance\":\n\t\t\treturn buildFinanceSection(definition, raw);\n\t\tcase \"integrations\":\n\t\t\treturn buildIntegrationsSection(definition, raw);\n\t\tdefault:\n\t\t\treturn buildAnalyticsSection(definition, raw);\n\t}\n}\n\nfunction buildAccountSection(\n\tdefinition: SettingsClusterDefinition,\n\traw: RawSettingsData,\n): SettingsOverviewSection {\n\tconst completedSteps = [\n\t\tBoolean(raw.profile?.onboarding_completed),\n\t\tBoolean(raw.userPreferences?.timezone),\n\t\tBoolean(raw.userNotificationPreferences?.email_new_jobs),\n\t\tBoolean(raw.userNotificationPreferences?.push_new_jobs),\n\t];\n\tconst progress = progressFromSteps(\n\t\tcompletedSteps.filter(Boolean).length,\n\t\tcompletedSteps.length,\n\t);\n\tconst status = deriveHealthStatus(progress);\n\tconst summary =\n\t\traw.profile?.onboarding_completed && progress >= 85\n\t\t\t? \"Your personal account is fully configured.\"\n\t\t\t: \"Finish personal details and notification channels to unlock all admin tools.\";\n\n\tconst notificationChannels = [\n\t\traw.userNotificationPreferences?.email_new_jobs,\n\t\traw.userNotificationPreferences?.push_new_jobs,\n\t\traw.userNotificationPreferences?.sms_urgent_jobs,\n\t].filter(Boolean).length;\n\n\tconst metrics: SettingsMetricDatum[] = [\n\t\t{\n\t\t\tkey: \"profile-completion\",\n\t\t\tlabel: \"Profile completion\",\n\t\t\tvalue: `${progress}%`,\n\t\t\thelper: describeHealthStatus(status),\n\t\t\tstatus,\n\t\t},\n\t\t{\n\t\t\tkey: \"notification-channels\",\n\t\t\tlabel: \"Notification channels\",\n\t\t\tvalue: `${notificationChannels}/3`,\n\t\t\thelper: \"Email, push, SMS\",\n\t\t\tstatus: notificationChannels >= 2 ? \"ready\" : \"warning\",\n\t\t},\n\t\t{\n\t\t\tkey: \"timezone\",\n\t\t\tlabel: \"Timezone\",\n\t\t\tvalue: raw.userPreferences?.timezone ?? \"Not set\",\n\t\t\thelper: raw.userPreferences?.language ?? \"English\",\n\t\t\tstatus: raw.userPreferences?.timezone ? \"ready\" : \"warning\",\n\t\t},\n\t];\n\n\tconst checklist: SettingsChecklistItem[] = [\n\t\t{\n\t\t\tkey: \"verify-email\",\n\t\t\tlabel: \"Verify login email\",\n\t\t\thref: \"/dashboard/settings/profile/personal\",\n\t\t\tcompleted: Boolean(raw.profile?.onboarding_completed),\n\t\t\tsupabaseSources: [\"profiles\"],\n\t\t},\n\t\t{\n\t\t\tkey: \"notifications\",\n\t\t\tlabel: \"Enable at least two notification channels\",\n\t\t\thref: \"/dashboard/settings/profile/notifications\",\n\t\t\tcompleted: notificationChannels >= 2,\n\t\t\tsupabaseSources: [\"user_notification_preferences\"],\n\t\t},\n\t];\n\n\tconst quickActions: SettingsQuickAction[] = [\n\t\t{\n\t\t\tkey: \"personal\",\n\t\t\tlabel: \"Update personal info\",\n\t\t\thref: \"/dashboard/settings/profile/personal\",\n\t\t\tanalyticsEvent: \"settings.quick_action.personal_info\",\n\t\t},\n\t\t{\n\t\t\tkey: \"notifications\",\n\t\t\tlabel: \"Tune notifications\",\n\t\t\thref: \"/dashboard/settings/profile/notifications\",\n\t\t\tvariant: \"outline\",\n\t\t\tanalyticsEvent: \"settings.quick_action.notifications\",\n\t\t},\n\t];\n\n\treturn {\n\t\tslug: definition.slug,\n\t\ttitle: definition.title,\n\t\tdescription: definition.description,\n\t\ticon: definition.icon,\n\t\tprogress,\n\t\tstatus,\n\t\tsummary,\n\t\tmetrics,\n\t\tchecklist,\n\t\tquickActions,\n\t\tlinks: definition.links,\n\t\tdocumentation: definition.documentation,\n\t};\n}\n\nfunction buildWorkspaceSection(\n\tdefinition: SettingsClusterDefinition,\n\traw: RawSettingsData,\n): SettingsOverviewSection {\n\tconst companyProfileFields = [\n\t\traw.company?.legal_name,\n\t\traw.company?.phone,\n\t\traw.company?.website,\n\t];\n\tconst profileProgress = progressFromSteps(\n\t\tcompanyProfileFields.filter(Boolean).length,\n\t\tcompanyProfileFields.length,\n\t);\n\tconst billingReady =\n\t\traw.company?.stripe_subscription_status === \"active\" ||\n\t\traw.company?.stripe_subscription_status === \"trialing\";\n\tconst hasDepartments = raw.departmentsCount > 0;\n\tconst taxonomyConfigured = raw.tagsCount > 0 && raw.leadSourcesCount > 0;\n\tconst readinessSteps = [\n\t\tprofileProgress >= 85,\n\t\tbillingReady,\n\t\traw.teamCounts.active > 0,\n\t\thasDepartments,\n\t\ttaxonomyConfigured,\n\t];\n\tconst progress = progressFromSteps(\n\t\treadinessSteps.filter(Boolean).length,\n\t\treadinessSteps.length,\n\t);\n\tconst status = deriveHealthStatus(progress);\n\tconst summary = billingReady\n\t\t? taxonomyConfigured\n\t\t\t? \"Workspace billing, team, and taxonomy are in good standing.\"\n\t\t\t: \"Define tags and lead sources to improve attribution.\"\n\t\t: \"Add a payment method to keep automations running.\";\n\n\tconst metrics: SettingsMetricDatum[] = [\n\t\t{\n\t\t\tkey: \"team-members\",\n\t\t\tlabel: \"Active teammates\",\n\t\t\tvalue: raw.teamCounts.active.toString(),\n\t\t\thelper: `${raw.teamCounts.pendingInvites} pending invite(s)`,\n\t\t\tstatus: raw.teamCounts.active > 0 ? \"ready\" : \"warning\",\n\t\t},\n\t\t{\n\t\t\tkey: \"roles\",\n\t\t\tlabel: \"Custom roles\",\n\t\t\tvalue: raw.customRolesCount.toString(),\n\t\t\thelper: raw.customRolesCount\n\t\t\t\t? \"Granular access in place\"\n\t\t\t\t: \"Using defaults\",\n\t\t\tstatus: raw.customRolesCount ? \"ready\" : \"warning\",\n\t\t},\n\t\t{\n\t\t\tkey: \"api-keys\",\n\t\t\tlabel: \"API keys\",\n\t\t\tvalue: raw.apiKeysCount.toString(),\n\t\t\thelper: \"Machine integrations\",\n\t\t\tstatus: raw.apiKeysCount ? \"ready\" : \"warning\",\n\t\t},\n\t\t{\n\t\t\tkey: \"departments\",\n\t\t\tlabel: \"Departments\",\n\t\t\tvalue: raw.departmentsCount.toString(),\n\t\t\thelper: hasDepartments ? \"Org chart structured\" : \"No departments\",\n\t\t\tstatus: hasDepartments ? \"ready\" : \"warning\",\n\t\t},\n\t\t{\n\t\t\tkey: \"taxonomy\",\n\t\t\tlabel: \"Tags / lead sources\",\n\t\t\tvalue: `${raw.tagsCount}/${raw.leadSourcesCount}`,\n\t\t\thelper: \"Tags / sources\",\n\t\t\tstatus: taxonomyConfigured ? \"ready\" : \"warning\",\n\t\t},\n\t];\n\n\tconst checklist: SettingsChecklistItem[] = [\n\t\t{\n\t\t\tkey: \"company-profile\",\n\t\t\tlabel: \"Complete company profile\",\n\t\t\thref: \"/dashboard/settings/company\",\n\t\t\tcompleted: profileProgress >= 85,\n\t\t\thelper: \"Legal name, phone, and website\",\n\t\t\tsupabaseSources: [\"companies\", \"company_settings\"],\n\t\t},\n\t\t{\n\t\t\tkey: \"billing\",\n\t\t\tlabel: \"Verify billing + plan\",\n\t\t\thref: \"/dashboard/settings/billing\",\n\t\t\tcompleted: billingReady,\n\t\t\thelper: raw.company?.stripe_subscription_status ?? \"unknown\",\n\t\t\tsupabaseSources: [\"companies\", \"invoices\"],\n\t\t},\n\t\t{\n\t\t\tkey: \"departments\",\n\t\t\tlabel: \"Map departments\",\n\t\t\thref: \"/dashboard/settings/team/departments\",\n\t\t\tcompleted: hasDepartments,\n\t\t\thelper: hasDepartments ? \"Org chart defined\" : \"No departments yet\",\n\t\t\tsupabaseSources: [\"departments\"],\n\t\t},\n\t\t{\n\t\t\tkey: \"taxonomy\",\n\t\t\tlabel: \"Define tags & lead sources\",\n\t\t\thref: \"/dashboard/settings/tags\",\n\t\t\tcompleted: taxonomyConfigured,\n\t\t\thelper: `${raw.tagsCount} tags / ${raw.leadSourcesCount} sources`,\n\t\t\tsupabaseSources: [\"tags\", \"lead_sources\"],\n\t\t},\n\t];\n\n\tconst quickActions: SettingsQuickAction[] = [\n\t\t{\n\t\t\tkey: \"invite\",\n\t\t\tlabel: \"Invite teammate\",\n\t\t\thref: \"/dashboard/settings/team/invite\",\n\t\t\tanalyticsEvent: \"settings.quick_action.invite_teammate\",\n\t\t},\n\t\t{\n\t\t\tkey: \"roles\",\n\t\t\tlabel: \"Manage roles\",\n\t\t\thref: \"/dashboard/settings/team/roles\",\n\t\t\tvariant: \"outline\",\n\t\t\tanalyticsEvent: \"settings.quick_action.manage_roles\",\n\t\t},\n\t];\n\n\treturn {\n\t\tslug: definition.slug,\n\t\ttitle: definition.title,\n\t\tdescription: definition.description,\n\t\ticon: definition.icon,\n\t\tprogress: normalizeProgress(progress),\n\t\tstatus,\n\t\tsummary,\n\t\tmetrics,\n\t\tchecklist,\n\t\tquickActions,\n\t\tlinks: definition.links,\n\t\tdocumentation: definition.documentation,\n\t};\n}\n\nfunction buildCommunicationsSection(\n\tdefinition: SettingsClusterDefinition,\n\traw: RawSettingsData,\n): SettingsOverviewSection {\n\tconst emailConfigured = Boolean(\n\t\traw.communicationEmailSettings?.smtp_enabled &&\n\t\t\traw.communicationEmailSettings?.smtp_from_email,\n\t);\n\tconst smsConfigured = Boolean(\n\t\traw.communicationSmsSettings?.provider &&\n\t\t\traw.communicationSmsSettings?.sender_number,\n\t);\n\tconst phoneConfigured = Boolean(\n\t\traw.communicationPhoneSettings?.routing_strategy &&\n\t\t\traw.phoneNumbersCount > 0,\n\t);\n\tconst readyStatuses = [\"approved\", \"active\", \"verified\", \"running\"];\n\tconst normalizeStatusLabel = (\n\t\tvalue?: string | null,\n\t\tfallback = \"Not configured\",\n\t) => (value ? value.replace(/_/g, \" \") : fallback);\n\tconst brandStatus = raw.messagingBrand?.status ?? \"\";\n\tconst campaignStatus = raw.messagingCampaign?.status ?? \"\";\n\tconst brandHealth = readyStatuses.includes(brandStatus.toLowerCase())\n\t\t? \"ready\"\n\t\t: raw.messagingBrand\n\t\t\t? \"warning\"\n\t\t\t: \"danger\";\n\tconst campaignHealth = readyStatuses.includes(campaignStatus.toLowerCase())\n\t\t? \"ready\"\n\t\t: raw.messagingCampaign\n\t\t\t? \"warning\"\n\t\t\t: \"danger\";\n\tconst readinessSteps = [\n\t\temailConfigured,\n\t\tsmsConfigured,\n\t\tphoneConfigured,\n\t\tbrandHealth === \"ready\",\n\t\tcampaignHealth === \"ready\",\n\t];\n\tconst progress = progressFromSteps(\n\t\treadinessSteps.filter(Boolean).length,\n\t\treadinessSteps.length,\n\t);\n\tconst status = deriveHealthStatus(progress);\n\tconst summary =\n\t\tbrandHealth === \"ready\" && campaignHealth === \"ready\" && progress >= 85\n\t\t\t? \"Messaging compliance and channels are fully configured.\"\n\t\t\t: \"Finish 10DLC registration and clear communication backlogs.\";\n\tconst notificationBacklogStatus =\n\t\traw.notificationQueueFailedCount > 0\n\t\t\t? \"warning\"\n\t\t\t: raw.notificationQueuePendingCount > 10\n\t\t\t\t? \"warning\"\n\t\t\t\t: \"ready\";\n\n\tconst metrics: SettingsMetricDatum[] = [\n\t\t{\n\t\t\tkey: \"brand-status\",\n\t\t\tlabel: \"Messaging brand\",\n\t\t\tvalue: normalizeStatusLabel(raw.messagingBrand?.status, \"Not registered\"),\n\t\t\thelper: raw.messagingBrand?.telnyx_brand_id\n\t\t\t\t? `Telnyx ${raw.messagingBrand.telnyx_brand_id}`\n\t\t\t\t: \"10DLC verification required\",\n\t\t\tstatus: brandHealth,\n\t\t},\n\t\t{\n\t\t\tkey: \"campaign-status\",\n\t\t\tlabel: \"Campaign status\",\n\t\t\tvalue: normalizeStatusLabel(raw.messagingCampaign?.status, \"No campaign\"),\n\t\t\thelper: raw.messagingCampaign?.usecase ?? \"No use case assigned\",\n\t\t\tstatus: campaignHealth,\n\t\t},\n\t\t{\n\t\t\tkey: \"phone-numbers\",\n\t\t\tlabel: \"Active numbers\",\n\t\t\tvalue: raw.phoneNumbersCount.toString(),\n\t\t\thelper: `${raw.callLogsWeekCount} calls last 7d`,\n\t\t\tstatus: raw.phoneNumbersCount ? \"ready\" : \"warning\",\n\t\t},\n\t\t{\n\t\t\tkey: \"notification-backlog\",\n\t\t\tlabel: \"Notification queue\",\n\t\t\tvalue: raw.notificationQueuePendingCount.toString(),\n\t\t\thelper: `${raw.notificationQueueFailedCount} failed`,\n\t\t\tstatus: notificationBacklogStatus,\n\t\t},\n\t\t{\n\t\t\tkey: \"porting-backlog\",\n\t\t\tlabel: \"Porting backlog\",\n\t\t\tvalue: raw.portingPendingCount.toString(),\n\t\t\thelper: \"Open requests\",\n\t\t\tstatus: raw.portingPendingCount ? \"warning\" : \"ready\",\n\t\t},\n\t];\n\n\tconst checklist: SettingsChecklistItem[] = [\n\t\t{\n\t\t\tkey: \"a2p-registration\",\n\t\t\tlabel: \"Complete 10DLC brand + campaign\",\n\t\t\thref: \"/dashboard/settings/communications/phone-numbers\",\n\t\t\tcompleted: brandHealth === \"ready\" && campaignHealth === \"ready\",\n\t\t\tsupabaseSources: [\"messaging_brands\", \"messaging_campaigns\"],\n\t\t},\n\t\t{\n\t\t\tkey: \"smtp\",\n\t\t\tlabel: \"Connect SMTP or branded email\",\n\t\t\thref: \"/dashboard/settings/communications/email\",\n\t\t\tcompleted: emailConfigured,\n\t\t\tsupabaseSources: [\"communication_email_settings\"],\n\t\t},\n\t\t{\n\t\t\tkey: \"sms\",\n\t\t\tlabel: \"Provision messaging number\",\n\t\t\thref: \"/dashboard/settings/communications/sms\",\n\t\t\tcompleted: smsConfigured,\n\t\t\tsupabaseSources: [\"communication_sms_settings\"],\n\t\t},\n\t\t{\n\t\t\tkey: \"notification-queue\",\n\t\t\tlabel: \"Resolve notification failures\",\n\t\t\thref: \"/dashboard/settings/communications/notifications\",\n\t\t\tcompleted: raw.notificationQueueFailedCount === 0,\n\t\t\tsupabaseSources: [\"notification_queue\"],\n\t\t},\n\t\t{\n\t\t\tkey: \"porting\",\n\t\t\tlabel: \"Clear porting backlog\",\n\t\t\thref: \"/dashboard/settings/communications/porting-status\",\n\t\t\tcompleted: raw.portingPendingCount === 0,\n\t\t\tsupabaseSources: [\"phone_porting_requests\"],\n\t\t},\n\t];\n\n\tconst quickActions: SettingsQuickAction[] = [\n\t\t{\n\t\t\tkey: \"review-10dlc\",\n\t\t\tlabel: \"Review 10DLC status\",\n\t\t\thref: \"/dashboard/settings/communications/usage\",\n\t\t\tanalyticsEvent: \"settings.quick_action.review_10dlc\",\n\t\t},\n\t\t{\n\t\t\tkey: \"porting\",\n\t\t\tlabel: \"Open porting queue\",\n\t\t\thref: \"/dashboard/settings/communications/porting-status\",\n\t\t\tanalyticsEvent: \"settings.quick_action.porting_queue\",\n\t\t},\n\t\t{\n\t\t\tkey: \"email-template\",\n\t\t\tlabel: \"Edit email templates\",\n\t\t\thref: \"/dashboard/settings/communications/email-templates\",\n\t\t\tvariant: \"outline\",\n\t\t\tanalyticsEvent: \"settings.quick_action.email_template\",\n\t\t},\n\t];\n\n\treturn {\n\t\tslug: definition.slug,\n\t\ttitle: definition.title,\n\t\tdescription: definition.description,\n\t\ticon: definition.icon,\n\t\tprogress,\n\t\tstatus,\n\t\tsummary,\n\t\tmetrics,\n\t\tchecklist,\n\t\tquickActions,\n\t\tlinks: definition.links,\n\t\tdocumentation: definition.documentation,\n\t};\n}\n\nfunction buildOperationsSection(\n\tdefinition: SettingsClusterDefinition,\n\traw: RawSettingsData,\n): SettingsOverviewSection {\n\tconst bookingConfigured = Boolean(raw.scheduleAvailabilitySettings);\n\tconst dispatchConfigured = raw.scheduleDispatchRulesCount > 0;\n\tconst portalConfigured = Boolean(raw.portalSettings?.portal_enabled);\n\tconst intakeConfigured = Boolean(raw.intakeSettings);\n\tconst loyaltyEnabled = Boolean(raw.loyaltySettings?.loyalty_enabled);\n\tconst readinessSteps = [\n\t\tbookingConfigured,\n\t\tdispatchConfigured,\n\t\tportalConfigured,\n\t\tintakeConfigured,\n\t];\n\tconst progress = progressFromSteps(\n\t\treadinessSteps.filter(Boolean).length,\n\t\treadinessSteps.length,\n\t);\n\tconst status = deriveHealthStatus(progress);\n\tconst summary =\n\t\tprogress >= 85\n\t\t\t? \"Scheduling, portal, and workflows are dialed in.\"\n\t\t\t: \"Tighten booking + dispatch rules to reduce slack time.\";\n\n\tconst metrics: SettingsMetricDatum[] = [\n\t\t{\n\t\t\tkey: \"jobs-week\",\n\t\t\tlabel: \"Jobs created (7d)\",\n\t\t\tvalue: raw.jobsWeekCount.toString(),\n\t\t\thelper: `${raw.jobsTotalCount} total`,\n\t\t},\n\t\t{\n\t\t\tkey: \"dispatch-rules\",\n\t\t\tlabel: \"Dispatch rules\",\n\t\t\tvalue: raw.scheduleDispatchRulesCount.toString(),\n\t\t\thelper: raw.scheduleTeamRulesCount\n\t\t\t\t? `${raw.scheduleTeamRulesCount} team rules`\n\t\t\t\t: \"No team overrides\",\n\t\t\tstatus: raw.scheduleDispatchRulesCount ? \"ready\" : \"warning\",\n\t\t},\n\t\t{\n\t\t\tkey: \"portal\",\n\t\t\tlabel: \"Customer portal\",\n\t\t\tvalue: raw.portalSettings?.portal_enabled ? \"Enabled\" : \"Disabled\",\n\t\t\thelper: raw.portalSettings?.welcome_message\n\t\t\t\t? \"Custom welcome\"\n\t\t\t\t: \"Default copy\",\n\t\t\tstatus: raw.portalSettings?.portal_enabled ? \"ready\" : \"warning\",\n\t\t},\n\t\t{\n\t\t\tkey: \"intake\",\n\t\t\tlabel: \"Intake form\",\n\t\t\tvalue: intakeConfigured ? \"Customized\" : \"Defaults\",\n\t\t\thelper: raw.intakeSettings?.auto_assign_technician\n\t\t\t\t? \"Auto-assign on\"\n\t\t\t\t: \"Manual triage\",\n\t\t\tstatus: intakeConfigured ? \"ready\" : \"warning\",\n\t\t},\n\t\t{\n\t\t\tkey: \"loyalty\",\n\t\t\tlabel: \"Loyalty program\",\n\t\t\tvalue: loyaltyEnabled ? \"Enabled\" : \"Disabled\",\n\t\t\thelper: raw.loyaltySettings?.program_name ?? \"No program\",\n\t\t\tstatus: loyaltyEnabled ? \"ready\" : \"warning\",\n\t\t},\n\t];\n\n\tconst checklist: SettingsChecklistItem[] = [\n\t\t{\n\t\t\tkey: \"booking\",\n\t\t\tlabel: \"Review booking rules\",\n\t\t\thref: \"/dashboard/settings/booking\",\n\t\t\tcompleted: bookingConfigured,\n\t\t\tsupabaseSources: [\"schedule_availability_settings\"],\n\t\t},\n\t\t{\n\t\t\tkey: \"dispatch\",\n\t\t\tlabel: \"Define dispatch automation\",\n\t\t\thref: \"/dashboard/settings/schedule/dispatch-rules\",\n\t\t\tcompleted: dispatchConfigured,\n\t\t\tsupabaseSources: [\"schedule_dispatch_rules\"],\n\t\t},\n\t\t{\n\t\t\tkey: \"portal\",\n\t\t\tlabel: \"Enable customer portal\",\n\t\t\thref: \"/dashboard/settings/customer-portal\",\n\t\t\tcompleted: portalConfigured,\n\t\t\tsupabaseSources: [\"customer_portal_settings\"],\n\t\t},\n\t\t{\n\t\t\tkey: \"intake\",\n\t\t\tlabel: \"Customize intake form\",\n\t\t\thref: \"/dashboard/settings/customer-intake\",\n\t\t\tcompleted: intakeConfigured,\n\t\t\tsupabaseSources: [\"customer_intake_settings\"],\n\t\t},\n\t\t{\n\t\t\tkey: \"loyalty\",\n\t\t\tlabel: \"Enable loyalty program\",\n\t\t\thref: \"/dashboard/settings/customers/loyalty\",\n\t\t\tcompleted: loyaltyEnabled,\n\t\t\tsupabaseSources: [\"customer_loyalty_settings\"],\n\t\t},\n\t];\n\n\tconst quickActions: SettingsQuickAction[] = [\n\t\t{\n\t\t\tkey: \"intake\",\n\t\t\tlabel: \"Customize intake form\",\n\t\t\thref: \"/dashboard/settings/customer-intake\",\n\t\t\tanalyticsEvent: \"settings.quick_action.intake\",\n\t\t},\n\t\t{\n\t\t\tkey: \"service-areas\",\n\t\t\tlabel: \"Manage service areas\",\n\t\t\thref: \"/dashboard/settings/schedule/service-areas\",\n\t\t\tvariant: \"outline\",\n\t\t\tanalyticsEvent: \"settings.quick_action.service_areas\",\n\t\t},\n\t];\n\n\treturn {\n\t\tslug: definition.slug,\n\t\ttitle: definition.title,\n\t\tdescription: definition.description,\n\t\ticon: definition.icon,\n\t\tprogress,\n\t\tstatus,\n\t\tsummary,\n\t\tmetrics,\n\t\tchecklist,\n\t\tquickActions,\n\t\tlinks: definition.links,\n\t\tdocumentation: definition.documentation,\n\t};\n}\n\nfunction buildFinanceSection(\n\tdefinition: SettingsClusterDefinition,\n\traw: RawSettingsData,\n): SettingsOverviewSection {\n\tconst accountingConnected =\n\t\tBoolean(raw.accountingSettings?.provider_enabled) &&\n\t\tBoolean(raw.accountingSettings?.provider);\n\tconst bankConnected = raw.bankAccounts.length > 0;\n\tconst collectionsHealthy =\n\t\traw.invoicesOpenCount < Math.max(5, raw.jobsWeekCount);\n\tconst progress = progressFromSteps(\n\t\t[accountingConnected, bankConnected, collectionsHealthy].filter(Boolean)\n\t\t\t.length,\n\t\t3,\n\t);\n\tconst status = deriveHealthStatus(progress);\n\tconst summary =\n\t\tprogress >= 85\n\t\t\t? \"Accounting syncs and billing tools look healthy.\"\n\t\t\t: \"Connect accounting + banking to unlock automations.\";\n\n\tconst metrics: SettingsMetricDatum[] = [\n\t\t{\n\t\t\tkey: \"bank-accounts\",\n\t\t\tlabel: \"Connected accounts\",\n\t\t\tvalue: raw.bankAccounts.length.toString(),\n\t\t\thelper:\n\t\t\t\traw.bankAccounts.find((account) => account.is_primary)?.bank_name ??\n\t\t\t\t\"None primary\",\n\t\t\tstatus: bankConnected ? \"ready\" : \"danger\",\n\t\t},\n\t\t{\n\t\t\tkey: \"open-invoices\",\n\t\t\tlabel: \"Open invoices\",\n\t\t\tvalue: raw.invoicesOpenCount.toString(),\n\t\t\thelper: \"Awaiting payment\",\n\t\t\tstatus: collectionsHealthy ? \"ready\" : \"warning\",\n\t\t},\n\t\t{\n\t\t\tkey: \"virtual-buckets\",\n\t\t\tlabel: \"Virtual buckets\",\n\t\t\tvalue: raw.virtualBucketsCount.toString(),\n\t\t\thelper: raw.virtualBucketSettings?.virtual_buckets_enabled\n\t\t\t\t? \"Automation enabled\"\n\t\t\t\t: \"Automation off\",\n\t\t\tstatus: raw.virtualBucketSettings?.virtual_buckets_enabled\n\t\t\t\t? \"ready\"\n\t\t\t\t: \"warning\",\n\t\t},\n\t\t{\n\t\t\tkey: \"debit-cards\",\n\t\t\tlabel: \"Debit cards\",\n\t\t\tvalue: raw.debitCardsCount.toString(),\n\t\t\thelper: raw.debitCardsCount\n\t\t\t\t? \"Spend controls enabled\"\n\t\t\t\t: \"No cards issued\",\n\t\t\tstatus: raw.debitCardsCount ? \"ready\" : \"warning\",\n\t\t},\n\t\t{\n\t\t\tkey: \"gift-cards\",\n\t\t\tlabel: \"Gift cards\",\n\t\t\tvalue: raw.giftCardsActiveCount.toString(),\n\t\t\thelper: raw.giftCardSettings?.gift_cards_enabled\n\t\t\t\t? \"Program live\"\n\t\t\t\t: \"Program disabled\",\n\t\t\tstatus: raw.giftCardSettings?.gift_cards_enabled ? \"ready\" : \"warning\",\n\t\t},\n\t];\n\n\tconst checklist: SettingsChecklistItem[] = [\n\t\t{\n\t\t\tkey: \"accounting\",\n\t\t\tlabel: \"Connect accounting provider\",\n\t\t\thref: \"/dashboard/settings/finance/accounting\",\n\t\t\tcompleted: accountingConnected,\n\t\t\tsupabaseSources: [\"finance_accounting_settings\"],\n\t\t},\n\t\t{\n\t\t\tkey: \"banking\",\n\t\t\tlabel: \"Add a primary bank account\",\n\t\t\thref: \"/dashboard/settings/finance/bank-accounts\",\n\t\t\tcompleted: bankConnected,\n\t\t\tsupabaseSources: [\"finance_bank_accounts\"],\n\t\t},\n\t\t{\n\t\t\tkey: \"financing\",\n\t\t\tlabel: \"Enable financing programs\",\n\t\t\thref: \"/dashboard/settings/finance/consumer-financing\",\n\t\t\tcompleted:\n\t\t\t\tBoolean(raw.consumerFinancingSettings?.financing_enabled) ||\n\t\t\t\tBoolean(raw.businessFinancingSettings?.enable_business_loans),\n\t\t\tsupabaseSources: [\n\t\t\t\t\"finance_consumer_financing_settings\",\n\t\t\t\t\"finance_business_financing_settings\",\n\t\t\t],\n\t\t},\n\t];\n\n\tconst quickActions: SettingsQuickAction[] = [\n\t\t{\n\t\t\tkey: \"gift-cards\",\n\t\t\tlabel: \"Launch gift cards\",\n\t\t\thref: \"/dashboard/settings/finance/gift-cards\",\n\t\t\tanalyticsEvent: \"settings.quick_action.gift_cards\",\n\t\t},\n\t\t{\n\t\t\tkey: \"virtual-buckets\",\n\t\t\tlabel: \"Tune profit buckets\",\n\t\t\thref: \"/dashboard/settings/finance/virtual-buckets\",\n\t\t\tvariant: \"outline\",\n\t\t\tanalyticsEvent: \"settings.quick_action.virtual_buckets\",\n\t\t},\n\t];\n\n\treturn {\n\t\tslug: definition.slug,\n\t\ttitle: definition.title,\n\t\tdescription: definition.description,\n\t\ticon: definition.icon,\n\t\tprogress,\n\t\tstatus,\n\t\tsummary,\n\t\tmetrics,\n\t\tchecklist,\n\t\tquickActions,\n\t\tlinks: definition.links,\n\t\tdocumentation: definition.documentation,\n\t};\n}\n\nfunction buildIntegrationsSection(\n\tdefinition: SettingsClusterDefinition,\n\traw: RawSettingsData,\n): SettingsOverviewSection {\n\tconst hasIntegrations =\n\t\traw.supplierIntegrationsCount > 0 ||\n\t\traw.apiKeysCount > 0 ||\n\t\tBoolean(raw.accountingSettings?.provider_enabled) ||\n\t\traw.phoneNumbersCount > 0 ||\n\t\traw.webhooksCount > 0;\n\tconst progress = hasIntegrations ? 90 : 45;\n\tconst status = deriveHealthStatus(progress);\n\tconst summary = hasIntegrations\n\t\t? raw.webhookFailuresWeekCount > 0\n\t\t\t? \"Investigate webhook failures to keep automations reliable.\"\n\t\t\t: \"Key integrations are active.\"\n\t\t: \"Connect at least one system to unlock automation.\";\n\n\tconst metrics: SettingsMetricDatum[] = [\n\t\t{\n\t\t\tkey: \"api-usage\",\n\t\t\tlabel: \"API keys\",\n\t\t\tvalue: raw.apiKeysCount.toString(),\n\t\t\thelper: raw.apiKeysCount ? \"Rotate regularly\" : \"No active keys\",\n\t\t\tstatus: raw.apiKeysCount ? \"ready\" : \"warning\",\n\t\t},\n\t\t{\n\t\t\tkey: \"supplier-feeds\",\n\t\t\tlabel: \"Supplier integrations\",\n\t\t\tvalue: raw.supplierIntegrationsCount.toString(),\n\t\t\thelper: raw.supplierIntegrationsCount\n\t\t\t\t? \"Catalog sync enabled\"\n\t\t\t\t: \"No supplier feeds\",\n\t\t\tstatus: raw.supplierIntegrationsCount ? \"ready\" : \"warning\",\n\t\t},\n\t\t{\n\t\t\tkey: \"bank-sync\",\n\t\t\tlabel: \"Accounting sync\",\n\t\t\tvalue: raw.accountingSettings?.provider ?? \"Not connected\",\n\t\t\thelper: raw.accountingSettings?.last_sync_at\n\t\t\t\t? `Last sync ${new Date(raw.accountingSettings.last_sync_at).toLocaleDateString()}`\n\t\t\t\t: \"Never synced\",\n\t\t\tstatus: raw.accountingSettings?.provider_enabled ? \"ready\" : \"warning\",\n\t\t},\n\t\t{\n\t\t\tkey: \"phone-integrations\",\n\t\t\tlabel: \"Telecom integrations\",\n\t\t\tvalue: raw.phoneNumbersCount ? \"Active\" : \"None\",\n\t\t\thelper: `${raw.callLogsWeekCount} calls last 7d`,\n\t\t\tstatus: raw.phoneNumbersCount ? \"ready\" : \"warning\",\n\t\t},\n\t\t{\n\t\t\tkey: \"webhooks\",\n\t\t\tlabel: \"Active webhooks\",\n\t\t\tvalue: raw.webhooksCount.toString(),\n\t\t\thelper: `${raw.webhookFailuresWeekCount} failures last 7d`,\n\t\t\tstatus:\n\t\t\t\traw.webhooksCount === 0\n\t\t\t\t\t? \"warning\"\n\t\t\t\t\t: raw.webhookFailuresWeekCount > 0\n\t\t\t\t\t\t? \"warning\"\n\t\t\t\t\t\t: \"ready\",\n\t\t},\n\t];\n\n\tconst checklist: SettingsChecklistItem[] = [\n\t\t{\n\t\t\tkey: \"supplier-integrations\",\n\t\t\tlabel: \"Connect supplier catalogs\",\n\t\t\thref: \"/dashboard/settings/pricebook/integrations\",\n\t\t\tcompleted: raw.supplierIntegrationsCount > 0,\n\t\t\tsupabaseSources: [\"supplier_integrations\"],\n\t\t},\n\t\t{\n\t\t\tkey: \"webhooks\",\n\t\t\tlabel: \"Issue API key + webhook secret\",\n\t\t\thref: \"/dashboard/settings/integrations\",\n\t\t\tcompleted: raw.apiKeysCount > 0,\n\t\t\tsupabaseSources: [\"api_keys\"],\n\t\t},\n\t\t{\n\t\t\tkey: \"webhook-monitoring\",\n\t\t\tlabel: \"Monitor webhook failures\",\n\t\t\thref: \"/dashboard/settings/development\",\n\t\t\tcompleted: raw.webhookFailuresWeekCount === 0,\n\t\t\tsupabaseSources: [\"webhooks\", \"webhook_logs\"],\n\t\t},\n\t];\n\n\tconst quickActions: SettingsQuickAction[] = [\n\t\t{\n\t\t\tkey: \"integration-hub\",\n\t\t\tlabel: \"Open integration hub\",\n\t\t\thref: \"/dashboard/settings/integrations\",\n\t\t\tanalyticsEvent: \"settings.quick_action.integration_hub\",\n\t\t},\n\t\t{\n\t\t\tkey: \"api-docs\",\n\t\t\tlabel: \"View API docs\",\n\t\t\thref: \"/docs/api\",\n\t\t\tvariant: \"outline\",\n\t\t\tanalyticsEvent: \"settings.quick_action.api_docs\",\n\t\t},\n\t];\n\n\treturn {\n\t\tslug: definition.slug,\n\t\ttitle: definition.title,\n\t\tdescription: definition.description,\n\t\ticon: definition.icon,\n\t\tprogress,\n\t\tstatus,\n\t\tsummary,\n\t\tmetrics,\n\t\tchecklist,\n\t\tquickActions,\n\t\tlinks: definition.links,\n\t\tdocumentation: definition.documentation,\n\t};\n}\n\nfunction buildAnalyticsSection(\n\tdefinition: SettingsClusterDefinition,\n\traw: RawSettingsData,\n): SettingsOverviewSection {\n\tconst activityTrend =\n\t\traw.activitiesWeekCount && raw.jobsWeekCount\n\t\t\t? normalizeProgress(\n\t\t\t\t\t(raw.activitiesWeekCount / (raw.jobsWeekCount || 1)) * 100,\n\t\t\t\t)\n\t\t\t: 0;\n\tconst progress = normalizeProgress(\n\t\tMath.round((activityTrend + (raw.notificationsWeekCount ? 100 : 40)) / 2),\n\t);\n\tconst status = deriveHealthStatus(progress);\n\tconst summary =\n\t\traw.activitiesWeekCount > 0\n\t\t\t? \"Telemetry is flowing across automation, comms, and jobs.\"\n\t\t\t: \"No analytics events detected in the last 7 days.\";\n\n\tconst metrics: SettingsMetricDatum[] = [\n\t\t{\n\t\t\tkey: \"activities\",\n\t\t\tlabel: \"Activity stream\",\n\t\t\tvalue: raw.activitiesWeekCount.toString(),\n\t\t\thelper: \"Events last 7 days\",\n\t\t\tstatus: raw.activitiesWeekCount ? \"ready\" : \"danger\",\n\t\t},\n\t\t{\n\t\t\tkey: \"automation\",\n\t\t\tlabel: \"Automation runs\",\n\t\t\tvalue: raw.automationWeekCount.toString(),\n\t\t\thelper: formatTrendDelta(\n\t\t\t\traw.activitiesWeekCount\n\t\t\t\t\t? (raw.automationWeekCount / raw.activitiesWeekCount) * 100 - 50\n\t\t\t\t\t: 0,\n\t\t\t),\n\t\t},\n\t\t{\n\t\t\tkey: \"alerts\",\n\t\t\tlabel: \"Notifications delivered\",\n\t\t\tvalue: raw.notificationsWeekCount.toString(),\n\t\t\thelper: `${raw.callLogsWeekCount} calls logged`,\n\t\t},\n\t];\n\n\tconst checklist: SettingsChecklistItem[] = [\n\t\t{\n\t\t\tkey: \"mission-control\",\n\t\t\tlabel: \"Pin mission control dashboard\",\n\t\t\thref: \"/dashboard/mission-control\",\n\t\t\tcompleted: raw.activitiesWeekCount > 0,\n\t\t\tsupabaseSources: [\"activities\"],\n\t\t},\n\t\t{\n\t\t\tkey: \"automation-audit\",\n\t\t\tlabel: \"Audit automation failures weekly\",\n\t\t\thref: \"/dashboard/settings/automation\",\n\t\t\tcompleted: raw.automationWeekCount > 0,\n\t\t\tsupabaseSources: [\"activities\"],\n\t\t},\n\t];\n\n\tconst quickActions: SettingsQuickAction[] = [\n\t\t{\n\t\t\tkey: \"open-analytics-docs\",\n\t\t\tlabel: \"Review analytics playbook\",\n\t\t\thref: \"/docs/ANALYTICS.md\",\n\t\t\tanalyticsEvent: \"settings.quick_action.analytics_docs\",\n\t\t},\n\t\t{\n\t\t\tkey: \"instrument\",\n\t\t\tlabel: \"Instrument new event\",\n\t\t\thref: \"/dashboard/settings/development\",\n\t\t\tvariant: \"outline\",\n\t\t\tanalyticsEvent: \"settings.quick_action.instrument_event\",\n\t\t},\n\t];\n\n\treturn {\n\t\tslug: definition.slug,\n\t\ttitle: definition.title,\n\t\tdescription: definition.description,\n\t\ticon: definition.icon,\n\t\tprogress,\n\t\tstatus,\n\t\tsummary,\n\t\tmetrics,\n\t\tchecklist,\n\t\tquickActions,\n\t\tlinks: definition.links,\n\t\tdocumentation: definition.documentation,\n\t};\n}\n\nasync function getExactCount(\n\tsupabase: TypedSupabaseClient,\n\ttable: keyof Tables,\n\tbuild?: (query: any) => any,\n): Promise<number> {\n\tlet query = supabase.from(table).select(\"id\", { count: \"exact\", head: true });\n\n\tif (build) {\n\t\tquery = build(query);\n\t}\n\n\tconst { count } = await query;\n\treturn count ?? 0;\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M14 17H5', key: 'gfn3mx' }],\n  ['path', { d: 'M19 7h-9', key: '6i9tg' }],\n  ['circle', { cx: '17', cy: '17', r: '3', key: '18b49y' }],\n  ['circle', { cx: '7', cy: '7', r: '3', key: 'dfmy0x' }],\n];\n\n/**\n * @component @name Settings2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTQgMTdINSIgLz4KICA8cGF0aCBkPSJNMTkgN2gtOSIgLz4KICA8Y2lyY2xlIGN4PSIxNyIgY3k9IjE3IiByPSIzIiAvPgogIDxjaXJjbGUgY3g9IjciIGN5PSI3IiByPSIzIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/settings-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Settings2 = createLucideIcon('settings-2', __iconNode);\n\nexport default Settings2;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }]];\n\n/**\n * @component @name Circle\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/circle\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Circle = createLucideIcon('circle', __iconNode);\n\nexport default Circle;\n","/**\n * Settings Page - PPR Enabled\n *\n * Uses Partial Prerendering for instant page loads:\n * - Static shell (header, search) renders instantly (5-20ms)\n * - Settings data streams in (100-300ms)\n *\n * Performance: 10-20x faster than traditional SSR\n */\n\nimport { formatDistanceToNow } from \"date-fns\";\nimport { AlertCircle } from \"lucide-react\";\nimport { Suspense } from \"react\";\nimport { POSystemToggle } from \"@/components/settings/po-system-toggle\";\nimport { SettingsSearch } from \"@/components/settings/settings-search\";\nimport { SettingsSection } from \"@/components/settings/settings-section\";\nimport { SettingsShell } from \"@/components/settings/settings-shell\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n\tCard,\n\tCardContent,\n\tCardDescription,\n\tCardHeader,\n\tCardTitle,\n} from \"@/components/ui/card\";\nimport { getSettingsOverviewData } from \"@/lib/settings/overview-data\";\n\ntype PageProps = {\n\tsearchParams: Promise<{ q?: string }>;\n};\n\n// Settings data component (async, streams in)\nasync function SettingsData({ searchParams }: PageProps) {\n\tconst { q: searchQuery = \"\" } = await searchParams;\n\tconst overview = await getSettingsOverviewData();\n\n\tconst normalizedQuery = searchQuery.trim().toLowerCase();\n\tconst sections = normalizedQuery\n\t\t? overview.sections.filter((section) => {\n\t\t\t\tconst matchesTitle = section.title\n\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t.includes(normalizedQuery);\n\t\t\t\tconst matchesDescription = section.description\n\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t.includes(normalizedQuery);\n\t\t\t\tconst matchesLink = section.links.some(\n\t\t\t\t\t(link) =>\n\t\t\t\t\t\tlink.title.toLowerCase().includes(normalizedQuery) ||\n\t\t\t\t\t\tlink.description.toLowerCase().includes(normalizedQuery),\n\t\t\t\t);\n\t\t\t\treturn matchesTitle || matchesDescription || matchesLink;\n\t\t\t})\n\t\t: overview.sections;\n\n\tconst generatedAtLabel = formatDistanceToNow(\n\t\tnew Date(overview.meta.generatedAt),\n\t\t{\n\t\t\taddSuffix: true,\n\t\t},\n\t);\n\tconst planStatus = overview.meta.subscriptionStatus ?? \"unknown\";\n\tconst planBadgeVariant =\n\t\tplanStatus === \"active\" || planStatus === \"trialing\"\n\t\t\t? \"default\"\n\t\t\t: \"destructive\";\n\tconst analyticsSection = overview.sections.find(\n\t\t(section) => section.slug === \"analytics\",\n\t);\n\n\treturn (\n\t\t<div className=\"space-y-8 md:space-y-12 p-4 md:p-6\">\n\t\t\t<header className=\"space-y-4 md:space-y-6\">\n\t\t\t\t<div className=\"flex flex-wrap items-center justify-between gap-4\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h1 className=\"text-2xl md:text-3xl lg:text-4xl font-bold tracking-tight\">Settings</h1>\n\t\t\t\t\t\t<p className=\"text-muted-foreground text-sm md:text-base\">\n\t\t\t\t\t\t\tWorkspace controls, advanced configuration, and telemetry\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"w-full max-w-md\">\n\t\t\t\t\t\t<Suspense fallback={null}>\n\t\t\t\t\t\t\t<SettingsSearch />\n\t\t\t\t\t\t</Suspense>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"grid gap-3 md:gap-4 grid-cols-1 sm:grid-cols-2 xl:grid-cols-4\">\n\t\t\t\t\t<Card>\n\t\t\t\t\t\t<CardHeader>\n\t\t\t\t\t\t\t<CardTitle className=\"text-base\">Team</CardTitle>\n\t\t\t\t\t\t\t<CardDescription>Active workspace members</CardDescription>\n\t\t\t\t\t\t</CardHeader>\n\t\t\t\t\t\t<CardContent className=\"flex items-baseline gap-2\">\n\t\t\t\t\t\t\t<span className=\"text-3xl font-semibold tracking-tight\">\n\t\t\t\t\t\t\t\t{overview.meta.teamCount}\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t<span className=\"text-muted-foreground text-sm\">active</span>\n\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t</Card>\n\t\t\t\t\t<Card className=\"border-warning/40\">\n\t\t\t\t\t\t<CardHeader className=\"flex flex-row items-center justify-between\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<CardTitle className=\"text-base\">Alerts</CardTitle>\n\t\t\t\t\t\t\t\t<CardDescription>Clusters needing attention</CardDescription>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\tvariant={\n\t\t\t\t\t\t\t\t\toverview.meta.alerts.length ? \"destructive\" : \"secondary\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{overview.meta.alerts.length}\n\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t</CardHeader>\n\t\t\t\t\t\t<CardContent className=\"text-muted-foreground space-y-1.5 text-sm\">\n\t\t\t\t\t\t\t{overview.meta.alerts.length ? (\n\t\t\t\t\t\t\t\toverview.meta.alerts.slice(0, 2).map((alert) => (\n\t\t\t\t\t\t\t\t\t<div className=\"flex items-start gap-2\" key={alert}>\n\t\t\t\t\t\t\t\t\t\t<AlertCircle className=\"text-warning mt-0.5 size-4\" />\n\t\t\t\t\t\t\t\t\t\t<span>{alert}</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<p>All configuration clusters look healthy.</p>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t</Card>\n\t\t\t\t\t<Card>\n\t\t\t\t\t\t<CardHeader className=\"flex flex-row items-center justify-between gap-3\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<CardTitle className=\"text-base\">Plan status</CardTitle>\n\t\t\t\t\t\t\t\t<CardDescription>Billing + subscription</CardDescription>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Badge variant={planBadgeVariant}>{planStatus}</Badge>\n\t\t\t\t\t\t</CardHeader>\n\t\t\t\t\t\t<CardContent className=\"text-muted-foreground text-sm\">\n\t\t\t\t\t\t\tLast refreshed {generatedAtLabel}\n\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t</Card>\n\t\t\t\t\t<POSystemToggle\n\t\t\t\t\t\tenabled={overview.meta.poSystemEnabled}\n\t\t\t\t\t\tlastEnabledAt={overview.meta.poSystemLastEnabledAt}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t{analyticsSection && analyticsSection.metrics.length > 0 && (\n\t\t\t\t\t<Card className=\"border-primary/30 bg-primary/5\">\n\t\t\t\t\t\t<CardHeader className=\"flex flex-wrap items-center justify-between gap-3\">\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<CardTitle className=\"text-base\">Telemetry snapshot</CardTitle>\n\t\t\t\t\t\t\t\t<CardDescription>\n\t\t\t\t\t\t\t\t\tLive signals from automation, activity, and communications\n\t\t\t\t\t\t\t\t</CardDescription>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<Badge variant=\"outline\">Last 7 days</Badge>\n\t\t\t\t\t\t</CardHeader>\n\t\t\t\t\t\t<CardContent className=\"grid gap-4 md:grid-cols-3\">\n\t\t\t\t\t\t\t{analyticsSection.metrics.slice(0, 3).map((metric) => (\n\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\tclassName=\"border-primary/20 bg-background/80 rounded-xl border p-4 shadow-sm\"\n\t\t\t\t\t\t\t\t\tkey={`${analyticsSection.slug}-${metric.key}-snapshot`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<p className=\"text-primary text-xs font-semibold tracking-wide uppercase\">\n\t\t\t\t\t\t\t\t\t\t{metric.label}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<p className=\"mt-1 text-2xl font-semibold tracking-tight\">\n\t\t\t\t\t\t\t\t\t\t{metric.value}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t{metric.helper && (\n\t\t\t\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-sm\">\n\t\t\t\t\t\t\t\t\t\t\t{metric.helper}\n\t\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t</Card>\n\t\t\t\t)}\n\t\t\t</header>\n\n\t\t\t<div className=\"space-y-8\">\n\t\t\t\t{sections.length === 0 ? (\n\t\t\t\t\t<Card className=\"py-12\">\n\t\t\t\t\t\t<CardContent className=\"flex flex-col items-center gap-3 text-center\">\n\t\t\t\t\t\t\t<p className=\"text-lg font-semibold\">\n\t\t\t\t\t\t\t\tNo settings match {searchQuery}.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t<p className=\"text-muted-foreground text-sm\">\n\t\t\t\t\t\t\t\tTry another query or clear the search bar.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</CardContent>\n\t\t\t\t\t</Card>\n\t\t\t\t) : (\n\t\t\t\t\t<SettingsShell sections={sections}>\n\t\t\t\t\t\t{sections.map((section) => (\n\t\t\t\t\t\t\t<SettingsSection key={section.slug} section={section} />\n\t\t\t\t\t\t))}\n\t\t\t\t\t</SettingsShell>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\n// Loading skeleton\nfunction SettingsSkeleton() {\n\treturn (\n\t\t<div className=\"space-y-8 md:space-y-12 p-4 md:p-6\">\n\t\t\t<header className=\"space-y-4 md:space-y-6\">\n\t\t\t\t<div className=\"flex flex-wrap items-center justify-between gap-4\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h1 className=\"text-2xl md:text-3xl lg:text-4xl font-bold tracking-tight\">Settings</h1>\n\t\t\t\t\t\t<p className=\"text-muted-foreground text-sm md:text-base\">\n\t\t\t\t\t\t\tWorkspace controls, advanced configuration, and telemetry\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"w-full max-w-md\">\n\t\t\t\t\t\t<Suspense fallback={null}>\n\t\t\t\t\t\t\t<SettingsSearch />\n\t\t\t\t\t\t</Suspense>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"grid gap-3 md:gap-4 grid-cols-1 sm:grid-cols-2 xl:grid-cols-4\">\n\t\t\t\t\t{[1, 2, 3, 4].map((i) => (\n\t\t\t\t\t\t<div className=\"bg-muted h-32 animate-pulse rounded-lg\" key={i} />\n\t\t\t\t\t))}\n\t\t\t\t</div>\n\t\t\t</header>\n\t\t\t<div className=\"space-y-8\">\n\t\t\t\t{[1, 2, 3].map((i) => (\n\t\t\t\t\t<div className=\"bg-muted h-48 animate-pulse rounded-lg\" key={i} />\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default function SettingsOverviewPage(props: PageProps) {\n\treturn (\n\t\t<Suspense fallback={<SettingsSkeleton />}>\n\t\t\t<SettingsData {...props} />\n\t\t</Suspense>\n\t);\n}\n","/**\n * Settings Status Utilities\n *\n * Shared helpers for deriving progress, statuses, and descriptive labels\n * that can be used across the overview data layer and UI components.\n */\n\nexport type HealthStatus = \"ready\" | \"warning\" | \"danger\";\n\n/**\n * Clamp and normalize a progress value between 0 and 100.\n */\nexport function normalizeProgress(value?: number | null): number {\n\tif (typeof value !== \"number\" || Number.isNaN(value)) {\n\t\treturn 0;\n\t}\n\n\tif (value === Number.POSITIVE_INFINITY) {\n\t\treturn 100;\n\t}\n\n\treturn Math.min(100, Math.max(0, Math.round(value)));\n}\n\n/**\n * Derive a health status label from a normalized progress value.\n *\n * - 85-100  => ready\n * - 50-84   => warning\n * - 0-49    => danger\n */\nexport function deriveHealthStatus(progress: number): HealthStatus {\n\tconst normalized = normalizeProgress(progress);\n\n\tif (normalized >= 85) {\n\t\treturn \"ready\";\n\t}\n\n\tif (normalized >= 50) {\n\t\treturn \"warning\";\n\t}\n\n\treturn \"danger\";\n}\n\n/**\n * Convert a health status into a short descriptive phrase for screen readers\n * and helper text.\n */\nexport function describeHealthStatus(status: HealthStatus): string {\n\tswitch (status) {\n\t\tcase \"ready\":\n\t\t\treturn \"Fully configured\";\n\t\tcase \"warning\":\n\t\t\treturn \"Needs attention\";\n\t\tcase \"danger\":\n\t\t\treturn \"Action required\";\n\t\tdefault:\n\t\t\treturn \"Unknown status\";\n\t}\n}\n\n/**\n * Map status to Tailwind color tokens used by badges and icons.\n */\nexport function getStatusColorClasses(status: HealthStatus): {\n\ttext: string;\n\tbackground: string;\n\tborder: string;\n} {\n\tswitch (status) {\n\t\tcase \"ready\":\n\t\t\treturn {\n\t\t\t\ttext: \"text-success\",\n\t\t\t\tbackground: \"bg-success/10\",\n\t\t\t\tborder: \"border-success/50\",\n\t\t\t};\n\t\tcase \"warning\":\n\t\t\treturn {\n\t\t\t\ttext: \"text-warning\",\n\t\t\t\tbackground: \"bg-warning/10\",\n\t\t\t\tborder: \"border-warning/50\",\n\t\t\t};\n\t\tdefault:\n\t\t\treturn {\n\t\t\t\ttext: \"text-destructive\",\n\t\t\t\tbackground: \"bg-destructive/10\",\n\t\t\t\tborder: \"border-destructive/50\",\n\t\t\t};\n\t}\n}\n\n/**\n * Helper to calculate a progress percentage from completed + total steps.\n */\nexport function progressFromSteps(completed: number, total: number): number {\n\tif (total <= 0) {\n\t\treturn 0;\n\t}\n\treturn normalizeProgress((completed / total) * 100);\n}\n\n/**\n * Format numeric deltas with +/- symbols for telemetry cards.\n */\nexport function formatTrendDelta(value?: number | null): string {\n\tif (typeof value !== \"number\" || Number.isNaN(value) || value === 0) {\n\t\treturn \"0%\";\n\t}\n\n\tconst rounded = Math.abs(Math.round(value));\n\tconst prefix = value > 0 ? \"+\" : \"-\";\n\treturn `${prefix}${rounded}%`;\n}\n","import { endOfDay } from \"./endOfDay.js\";\nimport { endOfMonth } from \"./endOfMonth.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * @name isLastDayOfMonth\n * @category Month Helpers\n * @summary Is the given date the last day of a month?\n *\n * @description\n * Is the given date the last day of a month?\n *\n * @param date - The date to check\n * @param options - An object with options\n *\n * @returns The date is the last day of a month\n *\n * @example\n * // Is 28 February 2014 the last day of a month?\n * const result = isLastDayOfMonth(new Date(2014, 1, 28))\n * //=> true\n */\nexport function isLastDayOfMonth(date, options) {\n  const _date = toDate(date, options?.in);\n  return +endOfDay(_date, options) === +endOfMonth(_date, options);\n}\n\n// Fallback for modularized imports:\nexport default isLastDayOfMonth;\n","import { toDate } from \"./toDate.js\";\n\n/**\n * @name differenceInMilliseconds\n * @category Millisecond Helpers\n * @summary Get the number of milliseconds between the given dates.\n *\n * @description\n * Get the number of milliseconds between the given dates.\n *\n * @param laterDate - The later date\n * @param earlierDate - The earlier date\n *\n * @returns The number of milliseconds\n *\n * @example\n * // How many milliseconds are between\n * // 2 July 2014 12:30:20.600 and 2 July 2014 12:30:21.700?\n * const result = differenceInMilliseconds(\n *   new Date(2014, 6, 2, 12, 30, 21, 700),\n *   new Date(2014, 6, 2, 12, 30, 20, 600)\n * )\n * //=> 1100\n */\nexport function differenceInMilliseconds(laterDate, earlierDate) {\n  return +toDate(laterDate) - +toDate(earlierDate);\n}\n\n// Fallback for modularized imports:\nexport default differenceInMilliseconds;\n","import { normalizeDates } from \"./_lib/normalizeDates.js\";\nimport { compareAsc } from \"./compareAsc.js\";\nimport { differenceInCalendarMonths } from \"./differenceInCalendarMonths.js\";\nimport { isLastDayOfMonth } from \"./isLastDayOfMonth.js\";\n\n/**\n * The {@link differenceInMonths} function options.\n */\n\n/**\n * @name differenceInMonths\n * @category Month Helpers\n * @summary Get the number of full months between the given dates.\n *\n * @param laterDate - The later date\n * @param earlierDate - The earlier date\n * @param options - An object with options\n *\n * @returns The number of full months\n *\n * @example\n * // How many full months are between 31 January 2014 and 1 September 2014?\n * const result = differenceInMonths(new Date(2014, 8, 1), new Date(2014, 0, 31))\n * //=> 7\n */\nexport function differenceInMonths(laterDate, earlierDate, options) {\n  const [laterDate_, workingLaterDate, earlierDate_] = normalizeDates(\n    options?.in,\n    laterDate,\n    laterDate,\n    earlierDate,\n  );\n\n  const sign = compareAsc(workingLaterDate, earlierDate_);\n  const difference = Math.abs(\n    differenceInCalendarMonths(workingLaterDate, earlierDate_),\n  );\n\n  if (difference < 1) return 0;\n\n  if (workingLaterDate.getMonth() === 1 && workingLaterDate.getDate() > 27)\n    workingLaterDate.setDate(30);\n\n  workingLaterDate.setMonth(workingLaterDate.getMonth() - sign * difference);\n\n  let isLastMonthNotFull = compareAsc(workingLaterDate, earlierDate_) === -sign;\n\n  if (\n    isLastDayOfMonth(laterDate_) &&\n    difference === 1 &&\n    compareAsc(laterDate_, earlierDate_) === 1\n  ) {\n    isLastMonthNotFull = false;\n  }\n\n  const result = sign * (difference - +isLastMonthNotFull);\n  return result === 0 ? 0 : result;\n}\n\n// Fallback for modularized imports:\nexport default differenceInMonths;\n","import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link endOfDay} function options.\n */\n\n/**\n * @name endOfDay\n * @category Day Helpers\n * @summary Return the end of a day for the given date.\n *\n * @description\n * Return the end of a day for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The end of a day\n *\n * @example\n * // The end of a day for 2 September 2014 11:55:00:\n * const result = endOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 23:59:59.999\n */\nexport function endOfDay(date, options) {\n  const _date = toDate(date, options?.in);\n  _date.setHours(23, 59, 59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfDay;\n","import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link endOfMonth} function options.\n */\n\n/**\n * @name endOfMonth\n * @category Month Helpers\n * @summary Return the end of a month for the given date.\n *\n * @description\n * Return the end of a month for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The end of a month\n *\n * @example\n * // The end of a month for 2 September 2014 11:55:00:\n * const result = endOfMonth(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 30 2014 23:59:59.999\n */\nexport function endOfMonth(date, options) {\n  const _date = toDate(date, options?.in);\n  const month = _date.getMonth();\n  _date.setFullYear(_date.getFullYear(), month + 1, 0);\n  _date.setHours(23, 59, 59, 999);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default endOfMonth;\n","import { normalizeDates } from \"./_lib/normalizeDates.js\";\n\n/**\n * The {@link differenceInCalendarMonths} function options.\n */\n\n/**\n * @name differenceInCalendarMonths\n * @category Month Helpers\n * @summary Get the number of calendar months between the given dates.\n *\n * @description\n * Get the number of calendar months between the given dates.\n *\n * @param laterDate - The later date\n * @param earlierDate - The earlier date\n * @param options - An object with options\n *\n * @returns The number of calendar months\n *\n * @example\n * // How many calendar months are between 31 January 2014 and 1 September 2014?\n * const result = differenceInCalendarMonths(\n *   new Date(2014, 8, 1),\n *   new Date(2014, 0, 31)\n * )\n * //=> 8\n */\nexport function differenceInCalendarMonths(laterDate, earlierDate, options) {\n  const [laterDate_, earlierDate_] = normalizeDates(\n    options?.in,\n    laterDate,\n    earlierDate,\n  );\n\n  const yearsDiff = laterDate_.getFullYear() - earlierDate_.getFullYear();\n  const monthsDiff = laterDate_.getMonth() - earlierDate_.getMonth();\n\n  return yearsDiff * 12 + monthsDiff;\n}\n\n// Fallback for modularized imports:\nexport default differenceInCalendarMonths;\n","import { getRoundingMethod } from \"./_lib/getRoundingMethod.js\";\nimport { differenceInMilliseconds } from \"./differenceInMilliseconds.js\";\n\n/**\n * The {@link differenceInSeconds} function options.\n */\n\n/**\n * @name differenceInSeconds\n * @category Second Helpers\n * @summary Get the number of seconds between the given dates.\n *\n * @description\n * Get the number of seconds between the given dates.\n *\n * @param laterDate - The later date\n * @param earlierDate - The earlier date\n * @param options - An object with options.\n *\n * @returns The number of seconds\n *\n * @example\n * // How many seconds are between\n * // 2 July 2014 12:30:07.999 and 2 July 2014 12:30:20.000?\n * const result = differenceInSeconds(\n *   new Date(2014, 6, 2, 12, 30, 20, 0),\n *   new Date(2014, 6, 2, 12, 30, 7, 999)\n * )\n * //=> 12\n */\nexport function differenceInSeconds(laterDate, earlierDate, options) {\n  const diff = differenceInMilliseconds(laterDate, earlierDate) / 1000;\n  return getRoundingMethod(options?.roundingMethod)(diff);\n}\n\n// Fallback for modularized imports:\nexport default differenceInSeconds;\n","import { constructNow } from \"./constructNow.js\";\n\nimport { formatDistance } from \"./formatDistance.js\";\n\n/**\n * The {@link formatDistanceToNow} function options.\n */\n\n/**\n * @name formatDistanceToNow\n * @category Common Helpers\n * @summary Return the distance between the given date and now in words.\n * @pure false\n *\n * @description\n * Return the distance between the given date and now in words.\n *\n * | Distance to now                                                   | Result              |\n * |-------------------------------------------------------------------|---------------------|\n * | 0 ... 30 secs                                                     | less than a minute  |\n * | 30 secs ... 1 min 30 secs                                         | 1 minute            |\n * | 1 min 30 secs ... 44 mins 30 secs                                 | [2..44] minutes     |\n * | 44 mins ... 30 secs ... 89 mins 30 secs                           | about 1 hour        |\n * | 89 mins 30 secs ... 23 hrs 59 mins 30 secs                        | about [2..24] hours |\n * | 23 hrs 59 mins 30 secs ... 41 hrs 59 mins 30 secs                 | 1 day               |\n * | 41 hrs 59 mins 30 secs ... 29 days 23 hrs 59 mins 30 secs         | [2..30] days        |\n * | 29 days 23 hrs 59 mins 30 secs ... 44 days 23 hrs 59 mins 30 secs | about 1 month       |\n * | 44 days 23 hrs 59 mins 30 secs ... 59 days 23 hrs 59 mins 30 secs | about 2 months      |\n * | 59 days 23 hrs 59 mins 30 secs ... 1 yr                           | [2..12] months      |\n * | 1 yr ... 1 yr 3 months                                            | about 1 year        |\n * | 1 yr 3 months ... 1 yr 9 month s                                  | over 1 year         |\n * | 1 yr 9 months ... 2 yrs                                           | almost 2 years      |\n * | N yrs ... N yrs 3 months                                          | about N years       |\n * | N yrs 3 months ... N yrs 9 months                                 | over N years        |\n * | N yrs 9 months ... N+1 yrs                                        | almost N+1 years    |\n *\n * With `options.includeSeconds == true`:\n * | Distance to now     | Result               |\n * |---------------------|----------------------|\n * | 0 secs ... 5 secs   | less than 5 seconds  |\n * | 5 secs ... 10 secs  | less than 10 seconds |\n * | 10 secs ... 20 secs | less than 20 seconds |\n * | 20 secs ... 40 secs | half a minute        |\n * | 40 secs ... 60 secs | less than a minute   |\n * | 60 secs ... 90 secs | 1 minute             |\n *\n * @param date - The given date\n * @param options - The object with options\n *\n * @returns The distance in words\n *\n * @throws `date` must not be Invalid Date\n * @throws `options.locale` must contain `formatDistance` property\n *\n * @example\n * // If today is 1 January 2015, what is the distance to 2 July 2014?\n * const result = formatDistanceToNow(\n *   new Date(2014, 6, 2)\n * )\n * //=> '6 months'\n *\n * @example\n * // If now is 1 January 2015 00:00:00,\n * // what is the distance to 1 January 2015 00:00:15, including seconds?\n * const result = formatDistanceToNow(\n *   new Date(2015, 0, 1, 0, 0, 15),\n *   {includeSeconds: true}\n * )\n * //=> 'less than 20 seconds'\n *\n * @example\n * // If today is 1 January 2015,\n * // what is the distance to 1 January 2016, with a suffix?\n * const result = formatDistanceToNow(\n *   new Date(2016, 0, 1),\n *   {addSuffix: true}\n * )\n * //=> 'in about 1 year'\n *\n * @example\n * // If today is 1 January 2015,\n * // what is the distance to 1 August 2016 in Esperanto?\n * const eoLocale = require('date-fns/locale/eo')\n * const result = formatDistanceToNow(\n *   new Date(2016, 7, 1),\n *   {locale: eoLocale}\n * )\n * //=> 'pli ol 1 jaro'\n */\nexport function formatDistanceToNow(date, options) {\n  return formatDistance(date, constructNow(date), options);\n}\n\n// Fallback for modularized imports:\nexport default formatDistanceToNow;\n"],"names":[],"mappings":"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Cb,KAAM,8BACN,gBAAiB,CAAC,YAAa,mBAAmB,AACnD,EACA,CACC,MAAO,yBACP,YAAa,kDACb,KAAM,8BACN,gBAAiB,CAAC,YAAa,WAAW,AAC3C,EACA,CACC,MAAO,qBACP,YAAa,2CACb,KAAM,2BACN,gBAAiB,CAChB,eACA,mBACA,eACA,cAEF,AADE,EAEF,CACC,MAAO,WACP,YAAa,4CACb,KAAM,mCACN,gBAAiB,CAAC,WAAW,AAC9B,EACA,CACC,MAAO,sBACP,YAAa,mDACb,KAAM,2BACN,gBAAiB,CAAC,OAAQ,eAAe,AAC1C,EAEF,AADE,EAEF,CACC,KAAM,iBACN,MAAO,iBACP,YAAa,0DACb,KAAM,EAAA,aAAa,CACnB,gBAAiB,CAChB,+BACA,6BACA,+BACA,sCACA,gBACA,YACA,mBACA,sBACA,qBACA,yBACA,CACD,MAAO,CACN,CACC,MAAO,iBACP,YAAa,kDACb,KAAM,2CACN,gBAAiB,CAAC,+BACnB,AADkD,EAElD,CACC,MAAO,YACP,YAAa,qDACb,KAAM,yCACN,gBAAiB,CAAC,6BAA6B,AAChD,EACA,CACC,MAAO,eACP,YAAa,iDACb,KAAM,2CACN,gBAAiB,CAAC,+BAAgC,gBACnD,AADmE,EAEnE,CACC,MAAO,wBACP,YAAa,2CACb,KAAM,mDACN,gBAAiB,CAChB,sCACA,qBACA,AACF,EACA,CACC,MAAO,qBACP,YAAa,4CACb,KAAM,2CACN,gBAAiB,CAAC,mBAAoB,sBAAsB,AAC7D,EACA,CACC,MAAO,iBACP,YAAa,sCACb,KAAM,oDACN,gBAAiB,CAAC,yBAAyB,AAC5C,EACA,AACF,EACA,CACC,KAAM,aACN,MAAO,aACP,YAAa,+DACb,KAAM,EACN,gBAAiB,CAChB,eACA,iCACA,6BACA,0BACA,sBACA,2BACA,2BACA,4BACA,CACD,MAAO,CACN,CACC,MAAO,gBACP,YAAa,gDACb,KAAM,8BACN,gBAAiB,CAAC,iCAAiC,AACpD,EACA,CACC,MAAO,oBACP,YACC,8DACD,KAAM,2BACN,gBAAiB,CAAC,eAAe,AAClC,EACA,CACC,MAAO,kBACP,YAAa,kDACb,KAAM,sCACN,gBAAiB,CAAC,2BAA2B,AAC9C,EACA,CACC,MAAO,kBACP,YAAa,qDACb,KAAM,sCACN,gBAAiB,CAAC,2BAA2B,AAC9C,EACA,CACC,MAAO,aACP,YAAa,mDACb,KAAM,+BACN,gBAAiB,CAChB,6BACA,0BACA,sBACA,AACF,EACA,CACC,MAAO,oBACP,YAAa,6CACb,KAAM,wCACN,gBAAiB,CAAC,4BAA4B,AAC/C,EAEF,AADE,EAEF,CACC,KAAM,UACN,MAAO,UACP,YAAa,yDACb,KAAM,EAAA,UAAU,CAChB,gBAAiB,CAChB,8BACA,+BACA,wBACA,kCACA,0BACA,sCACA,sCACA,sBACA,6BACA,qBACA,WACA,WACA,CACD,MAAO,CACN,CACC,MAAO,0BACP,YAAa,+CACb,KAAM,yCACN,gBAAiB,CAAC,8BAA8B,AACjD,EACA,CACC,MAAO,gBACP,YAAa,+CACb,KAAM,4CACN,gBAAiB,CAAC,wBAAwB,AAC3C,EACA,CACC,MAAO,kBACP,YAAa,0CACb,KAAM,8CACN,gBAAiB,CAChB,kCACA,0BACA,AACF,EACA,CACC,MAAO,qBACP,YAAa,uDACb,KAAM,yCACN,gBAAiB,CAChB,6BACA,qBACA,sBACA,AACF,EACA,CACC,MAAO,qBACP,YAAa,qDACb,KAAM,uCACN,gBAAiB,CAChB,6BACA,mBACA,AACF,EACA,CACC,MAAO,qBACP,YAAa,8CACb,KAAM,iDACN,gBAAiB,CAChB,sCACA,sCACA,AACF,EAEF,AADE,EAEF,CACC,KAAM,eACN,MAAO,eACP,YAAa,0DACb,KAAM,EAAA,GAAG,CACT,gBAAiB,CAChB,wBACA,WACA,6BACA,8BACA,wBACA,WACA,eACA,CACD,MAAO,CACN,CACC,MAAO,kBACP,YAAa,0CACb,KAAM,mCACN,gBAAiB,CAAC,wBAAyB,WAAW,AACvD,EACA,CACC,MAAO,aACP,YAAa,gDACb,KAAM,yCACN,gBAAiB,CAAC,8BAA8B,AACjD,EACA,CACC,MAAO,0BACP,YAAa,0CACb,KAAM,mDACN,gBAAiB,CAAC,gBAAiB,6BA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","ignoreList":[0,1,2,3,6,7,8,12,13,16,17,18,19,20,21,22,23]}