module.exports=[653033,a=>{"use strict";var b=a.i(861467),c=a.i(97997),d=a.i(48199),e=a.i(263758),f=a.i(587969),g=a.i(624126),h=a.i(274956),i=a.i(319895),j=a.i(396919),k=a.i(278932),l=a.i(789815),m=a.i(824124),n=a.i(128952),o=a.i(699756),p=a.i(21220),q=a.i(898062),r=a.i(757844),s=a.i(494197),s=s,t=a.i(127634),u=a.i(966183),v=a.i(320091),w=a.i(145679),x=a.i(337241),y=a.i(783281),z=a.i(761447),A=a.i(169021);A.callServer,A.findSourceMapURL;var B=a.i(836994),C=a.i(949729);a.i(288007);var D=a.i(986990);a.i(445255);var E=a.i(18170);a.i(476036);var F=a.i(930514),G=a.i(774804),H=a.i(891032),I=a.i(251048),J=a.i(854729),K=a.i(94436),L=a.i(362841);a.i(956852);var M=a.i(90125),N=a.i(380340),O=a.i(858707);function P({equipment:a}){let c=a=>a&&({active:"bg-success/10 text-success hover:bg-success/20",inactive:"bg-secondary0/10 text-muted-foreground hover:bg-secondary0/20",maintenance:"bg-warning/10 text-warning hover:bg-warning/20",retired:"bg-destructive/10 text-destructive hover:bg-destructive/20"})[a.toLowerCase()]||"bg-secondary0/10 text-muted-foreground",d=(0,y.useMemo)(()=>[{key:"equipment_number",header:"Equipment #",width:"w-32",shrink:!0,render:a=>(0,b.jsx)(w.default,{className:"font-mono text-xs font-medium hover:underline",href:`/dashboard/work/equipment/${a.id}`,children:a.equipment_number})},{key:"name",header:"Name",render:a=>(0,b.jsx)(w.default,{className:"block min-w-0",href:`/dashboard/work/equipment/${a.id}`,onClick:a=>a.stopPropagation(),children:(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,b.jsx)("span",{className:"text-xs leading-tight font-medium hover:underline",children:a.name}),a.type&&(0,b.jsx)("span",{className:"text-muted-foreground text-xs",children:a.type})]})})},{key:"manufacturer",header:"Manufacturer",width:"w-48",hideOnMobile:!0,render:a=>(0,b.jsxs)("div",{className:"flex flex-col gap-1 text-xs",children:[(0,b.jsx)("span",{children:a.manufacturer||"-"}),a.model&&(0,b.jsxs)("span",{className:"text-muted-foreground text-xs",children:["Model: ",a.model]})]})},{key:"serial_number",header:"Serial Number",width:"w-40",hideOnMobile:!0,render:a=>(0,b.jsx)("span",{className:"font-mono text-xs",children:a.serial_number||"-"})},{key:"location",header:"Location",width:"w-32",hideOnMobile:!0,render:a=>(0,b.jsx)("span",{className:"text-xs",children:a.location||"-"})},{key:"install_date",header:"Installed",width:"w-32",shrink:!0,render:a=>{let c=a.install_date;return c?(0,b.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,b.jsx)(f.Calendar,{className:"text-muted-foreground size-4"}),(0,b.jsx)("span",{children:new Date(c).toLocaleDateString(void 0,{month:"short",year:"numeric"})})]}):(0,b.jsx)("span",{className:"text-muted-foreground text-xs",children:"-"})}},{key:"status",header:"Status",width:"w-28",shrink:!0,render:a=>{let d=a.status||"active";return(0,b.jsx)(D.Badge,{className:c(d),children:d})}},{key:"actions",header:"",width:"w-12",shrink:!0,align:"right",render:a=>(0,b.jsxs)(M.DropdownMenu,{children:[(0,b.jsx)(M.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsx)(E.Button,{size:"sm",variant:"ghost",children:(0,b.jsx)(K.MoreHorizontal,{className:"size-4"})})}),(0,b.jsxs)(M.DropdownMenuContent,{align:"end",children:[(0,b.jsx)(M.DropdownMenuItem,{asChild:!0,children:(0,b.jsxs)(w.default,{href:`/dashboard/work/equipment/${a.id}`,children:[(0,b.jsx)(J.Eye,{className:"mr-2 size-4"}),"View Equipment"]})}),(0,b.jsx)(M.DropdownMenuSeparator,{}),(0,b.jsxs)(M.DropdownMenuItem,{children:[(0,b.jsx)(L.Wrench,{className:"mr-2 size-4"}),"Schedule Maintenance"]})]})]})}],[c]);return(0,b.jsx)(N.FullWidthDataTable,{...O.TablePresets.compact(),columns:d,data:a,emptyMessage:"No equipment installed at this property",getItemId:a=>a.id,searchFilter:(a,b)=>a.name.toLowerCase().includes(b.toLowerCase())||a.equipment_number.toLowerCase().includes(b.toLowerCase())||(a.serial_number?.toLowerCase().includes(b.toLowerCase())??!1),searchPlaceholder:"Search equipment..."})}var Q=a.i(253520);function R({jobs:a}){let c=a=>({pending:"bg-warning/10 text-warning hover:bg-warning/20",scheduled:"bg-primary/10 text-primary hover:bg-primary/20",in_progress:"bg-accent/10 text-accent-foreground hover:bg-accent/20",completed:"bg-success/10 text-success hover:bg-success/20",cancelled:"bg-destructive/10 text-destructive hover:bg-destructive/20"})[a.toLowerCase()]||"bg-secondary0/10 text-muted-foreground",d=a=>a&&({low:"bg-primary/10 text-primary",medium:"bg-warning/10 text-warning",high:"bg-warning/10 text-warning",urgent:"bg-destructive/10 text-destructive"})[a.toLowerCase()]||"bg-secondary0/10 text-muted-foreground",e=a=>a?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(a/100):"-",g=(0,y.useMemo)(()=>[{key:"job_number",header:"Job #",width:"w-32",shrink:!0,render:a=>(0,b.jsx)(w.default,{className:"font-mono text-xs font-medium hover:underline",href:`/dashboard/work/${a.id}`,children:a.job_number})},{key:"title",header:"Title",render:a=>(0,b.jsx)(w.default,{className:"block min-w-0",href:`/dashboard/work/${a.id}`,onClick:a=>a.stopPropagation(),children:(0,b.jsx)("span",{className:"text-xs leading-tight font-medium hover:underline",children:a.title})})},{key:"customer",header:"Customer",width:"w-48",hideOnMobile:!0,render:a=>{let c=a.customer;return c?(0,b.jsxs)(w.default,{className:"flex items-center gap-2 hover:underline",href:`/dashboard/sales/customers/${c.id}`,children:[(0,b.jsx)(v.User,{className:"text-muted-foreground size-4"}),(0,b.jsxs)("span",{children:[c.first_name," ",c.last_name]})]}):(0,b.jsx)("span",{className:"text-muted-foreground",children:"No customer"})}},{key:"status",header:"Status",width:"w-32",shrink:!0,render:a=>(0,b.jsx)(D.Badge,{className:c(a.status),children:a.status})},{key:"priority",header:"Priority",width:"w-24",shrink:!0,hideOnMobile:!0,render:a=>{let c=a.priority;return c?(0,b.jsx)(D.Badge,{className:d(c),children:c}):(0,b.jsx)("span",{className:"text-muted-foreground text-xs",children:"-"})}},{key:"value",header:"Value",width:"w-32",shrink:!0,align:"right",render:a=>(0,b.jsxs)("div",{className:"flex flex-col items-end gap-1",children:[(0,b.jsx)("span",{className:"text-xs font-medium",children:e(a.financial?.total_amount??0)}),a.financial?.paid_amount&&a.financial?.total_amount&&(0,b.jsxs)("span",{className:"text-muted-foreground text-xs",children:[e(a.financial.paid_amount)," paid"]})]})},{key:"scheduled",header:"Scheduled",width:"w-36",shrink:!0,render:a=>{let c=a.scheduled_start;return c?(0,b.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,b.jsx)(f.Calendar,{className:"text-muted-foreground size-4"}),(0,b.jsx)("span",{children:new Date(c).toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})})]}):(0,b.jsx)("span",{className:"text-muted-foreground text-xs",children:"Not scheduled"})}},{key:"actions",header:"",width:"w-12",shrink:!0,align:"right",render:a=>(0,b.jsxs)(M.DropdownMenu,{children:[(0,b.jsx)(M.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsx)(E.Button,{size:"sm",variant:"ghost",children:(0,b.jsx)(K.MoreHorizontal,{className:"size-4"})})}),(0,b.jsxs)(M.DropdownMenuContent,{align:"end",children:[(0,b.jsx)(M.DropdownMenuItem,{asChild:!0,children:(0,b.jsxs)(w.default,{href:`/dashboard/work/${a.id}`,children:[(0,b.jsx)(J.Eye,{className:"mr-2 size-4"}),"View Job"]})}),(0,b.jsx)(M.DropdownMenuSeparator,{}),(0,b.jsxs)(M.DropdownMenuItem,{children:[(0,b.jsx)(Q.CheckCircle,{className:"mr-2 size-4"}),"Mark Complete"]})]})]})}],[e,d,c]);return(0,b.jsx)(N.FullWidthDataTable,{...O.TablePresets.compact(),columns:g,data:a,emptyMessage:"No jobs found for this property",getItemId:a=>a.id,searchFilter:(a,b)=>a.title.toLowerCase().includes(b.toLowerCase())||a.job_number.toLowerCase().includes(b.toLowerCase()),searchPlaceholder:"Search jobs..."})}function S({entityData:a,metrics:A}){(0,x.useRouter)();let{toast:J}=(0,I.useToast)(),[K,L]=(0,y.useState)(!1);(0,y.useEffect)(()=>{L(!0)},[]);let{property:M,customer:N,jobs:O=[],equipment:Q=[],schedules:S=[],estimates:T=[],invoices:U=[],maintenancePlans:V=[],communications:W=[],activities:X=[],notes:Y=[],attachments:Z=[]}=a,$=a=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(a/100);j.Home,M.name,m.MapPin,M.address,M.city,M.state,M.zip_code,e.Building2,M.property_type,s.default,M.square_footage?.toString(),M.square_footage&&M.square_footage.toLocaleString(),f.Calendar,M.year_built?.toString(),g.Clock,M.best_access_time,M.requires_appointment,v.User,N&&(N.first_name,N.last_name),N?.email,m.MapPin,M.lat&&M.lon&&(M.lat.toFixed(6),M.lon.toFixed(6)),M.lat&&M.lon,d.Briefcase,A.totalJobs.toString(),A.activeJobs,h.DollarSign,$(A.totalRevenue),A.totalJobs,A.totalJobs,t.Settings,A.equipmentCount,A.equipmentCount>0&&(A.equipmentCount,A.equipmentCount),g.Clock,A.lastServiceDate&&new Date(A.lastServiceDate).toLocaleDateString(),A.lastServiceDate&&(Date.now()-new Date(A.lastServiceDate).getTime())/864e5,M.name||M.address,M.city,M.state,M.zip_code,e.Building2;let _=[{id:"location",title:"Location & Maps",icon:(0,b.jsx)(m.MapPin,{className:"size-4"}),defaultOpen:!0,content:(0,b.jsx)(F.UnifiedAccordionContent,{children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(H.PropertyLocationVisual,{nearbySuppliers:[],property:M}),(M.directions||M.parking_instructions||M.service_entrance_notes)&&(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold",children:"Access Information"}),(0,b.jsxs)("div",{className:"space-y-2",children:[M.directions&&(0,b.jsxs)("div",{className:"bg-muted/50 rounded-lg border p-3",children:[(0,b.jsxs)("div",{className:"mb-1 flex items-center gap-2",children:[(0,b.jsx)(o.Navigation,{className:"text-muted-foreground size-4"}),(0,b.jsx)("p",{className:"text-sm font-medium",children:"Directions"})]}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:M.directions})]}),M.parking_instructions&&(0,b.jsxs)("div",{className:"bg-muted/50 rounded-lg border p-3",children:[(0,b.jsxs)("div",{className:"mb-1 flex items-center gap-2",children:[(0,b.jsx)(k.Info,{className:"text-muted-foreground size-4"}),(0,b.jsx)("p",{className:"text-sm font-medium",children:"Parking Instructions"})]}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:M.parking_instructions})]}),M.service_entrance_notes&&(0,b.jsxs)("div",{className:"bg-muted/50 rounded-lg border p-3",children:[(0,b.jsxs)("div",{className:"mb-1 flex items-center gap-2",children:[(0,b.jsx)(c.AlertCircle,{className:"text-muted-foreground size-4"}),(0,b.jsx)("p",{className:"text-sm font-medium",children:"Service Entrance"})]}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:M.service_entrance_notes})]})]})]})]})})},{id:"communications",title:"Communications",icon:(0,b.jsx)(n.MessageSquare,{className:"size-4"}),content:(0,b.jsx)(F.UnifiedAccordionContent,{children:0===W.length?(0,b.jsxs)("div",{className:"text-muted-foreground flex flex-col items-center justify-center py-12 text-center text-sm",children:[(0,b.jsx)(n.MessageSquare,{className:"text-muted-foreground mb-4 size-10"}),"No communications logged for this property yet."]}):(0,b.jsx)("div",{className:"space-y-3",children:W.slice(0,25).map(a=>{let c=a.customer?.first_name||a.customer?.last_name?`${a.customer?.first_name??""} ${a.customer?.last_name??""}`.trim():"inbound"===a.direction?a.from_address:a.to_address,d=a.subject||a.body?.slice(0,160)||"No additional details",e=new Date(a.created_at).toLocaleString();return(0,b.jsxs)("div",{className:"rounded-lg border p-3",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,b.jsx)(D.Badge,{variant:"outline",children:a.type?.toUpperCase()}),(0,b.jsx)(D.Badge,{variant:"inbound"===a.direction?"secondary":"default",children:"inbound"===a.direction?"Inbound":"Outbound"}),a.status&&(0,b.jsx)(D.Badge,{variant:"outline",children:a.status}),(0,b.jsx)("span",{className:"text-muted-foreground text-xs",children:e})]}),(0,b.jsxs)("div",{className:"mt-2",children:[(0,b.jsx)("p",{className:"text-sm font-medium",children:c||"Contact"}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:d})]})]},a.id)})})})},{id:"jobs",title:"Job History",icon:(0,b.jsx)(d.Briefcase,{className:"size-4"}),count:O.length,actions:(0,b.jsx)(E.Button,{asChild:!0,size:"sm",variant:"outline",children:(0,b.jsxs)(w.default,{href:`/dashboard/work/new?propertyId=${M.id}`,children:[(0,b.jsx)(d.Briefcase,{className:"mr-2 size-4"}),"Create Job"]})}),content:0===O.length?(0,b.jsx)(F.UnifiedAccordionContent,{children:(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,b.jsx)(d.Briefcase,{className:"text-muted-foreground mb-4 size-12"}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"No jobs found for this property"}),(0,b.jsx)(E.Button,{asChild:!0,className:"mt-4",size:"sm",children:(0,b.jsx)(w.default,{href:`/dashboard/work/new?propertyId=${M.id}`,children:"Create First Job"})})]})}):(0,b.jsx)(F.UnifiedAccordionContent,{className:"p-0",children:(0,b.jsx)(R,{jobs:O})})},{id:"equipment",title:"Equipment",icon:(0,b.jsx)(t.Settings,{className:"size-4"}),count:Q.length,actions:(0,b.jsx)(E.Button,{asChild:!0,size:"sm",variant:"outline",children:(0,b.jsxs)(w.default,{href:`/dashboard/work/equipment/new?propertyId=${M.id}`,children:[(0,b.jsx)(t.Settings,{className:"mr-2 size-4"}),"Add Equipment"]})}),content:0===Q.length?(0,b.jsx)(F.UnifiedAccordionContent,{children:(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,b.jsx)(t.Settings,{className:"text-muted-foreground mb-4 size-12"}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"No equipment installed at this property"}),(0,b.jsx)(E.Button,{asChild:!0,className:"mt-4",size:"sm",variant:"outline",children:(0,b.jsx)(w.default,{href:`/dashboard/work/equipment/new?propertyId=${M.id}`,children:"Add Equipment"})})]})}):(0,b.jsx)(F.UnifiedAccordionContent,{className:"p-0",children:(0,b.jsx)(P,{equipment:Q})})},{id:"estimates",title:"Estimates",icon:(0,b.jsx)(i.FileText,{className:"size-4"}),count:T.length,content:(0,b.jsxs)(F.UnifiedAccordionContent,{className:"p-0",children:[(0,b.jsx)("div",{className:"text-muted-foreground border-b px-6 py-4 text-sm",children:"Estimates and quotes for work at this property."}),T.length>0?(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-muted/50 border-b",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Estimate #"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Title"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Date"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Total"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Status"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:T.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-muted/30 border-b",children:[(0,b.jsxs)("td",{className:"px-6 py-4 text-sm",children:["#",a.estimate_number||a.id.slice(0,8)]}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm",children:a.title||"-"}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm",children:new Date(a.created_at).toLocaleDateString()}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm font-medium",children:$(a.total_amount)}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm",children:(0,b.jsx)(D.Badge,{variant:"outline",children:a.status})}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm",children:(0,b.jsx)(w.default,{className:"text-primary hover:underline",href:`/dashboard/work/estimates/${a.id}`,children:"View"})})]},a.id))})]})}):(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center p-12 text-center",children:[(0,b.jsx)(i.FileText,{className:"text-muted-foreground h-8 w-8"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-2 text-sm",children:"No estimates for this property yet."})]})]})},{id:"invoices",title:"Invoices",icon:(0,b.jsx)(r.Receipt,{className:"size-4"}),count:U.length,content:(0,b.jsxs)(F.UnifiedAccordionContent,{className:"p-0",children:[(0,b.jsx)("div",{className:"text-muted-foreground border-b px-6 py-4 text-sm",children:"Billing and invoices for work at this property."}),U.length>0?(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-muted/50 border-b",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Invoice #"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Title"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Date"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Total"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Balance"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Status"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:U.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-muted/30 border-b",children:[(0,b.jsxs)("td",{className:"px-6 py-4 text-sm",children:["#",a.invoice_number||a.id.slice(0,8)]}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm",children:a.title||"-"}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm",children:new Date(a.created_at).toLocaleDateString()}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm font-medium",children:$(a.total_amount)}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm font-medium",children:$(a.balance_amount)}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm",children:(0,b.jsx)(D.Badge,{variant:"paid"===a.status?"default":"outline",children:a.status})}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm",children:(0,b.jsx)(w.default,{className:"text-primary hover:underline",href:`/dashboard/work/invoices/${a.id}`,children:"View"})})]},a.id))})]})}):(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center p-12 text-center",children:[(0,b.jsx)(r.Receipt,{className:"text-muted-foreground h-8 w-8"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-2 text-sm",children:"No invoices for this property yet."})]})]})},{id:"maintenance-plans",title:"Maintenance Plans",icon:(0,b.jsx)(u.ShieldCheck,{className:"size-4"}),count:V.length,content:(0,b.jsxs)(F.UnifiedAccordionContent,{className:"p-0",children:[(0,b.jsx)("div",{className:"text-muted-foreground border-b px-6 py-4 text-sm",children:"Active maintenance plans for this property."}),V.length>0?(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-muted/50 border-b",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Plan Name"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Frequency"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Next Service"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Status"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:V.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-muted/30 border-b",children:[(0,b.jsx)("td",{className:"px-6 py-4 text-sm font-medium",children:a.name||`Plan ${a.id.slice(0,8)}`}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm capitalize",children:a.frequency||"Monthly"}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm",children:a.next_service_date?new Date(a.next_service_date).toLocaleDateString():"-"}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm",children:(0,b.jsx)(D.Badge,{variant:"outline",children:a.status||"active"})}),(0,b.jsx)("td",{className:"px-6 py-4 text-sm",children:(0,b.jsx)(w.default,{className:"text-primary hover:underline",href:`/dashboard/work/maintenance-plans/${a.id}`,children:"View"})})]},a.id))})]})}):(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center p-12 text-center",children:[(0,b.jsx)(u.ShieldCheck,{className:"text-muted-foreground h-8 w-8"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-2 text-sm",children:"No maintenance plans for this property."})]})]})},{id:"notes",title:"Notes",icon:(0,b.jsx)(i.FileText,{className:"size-4"}),count:Y.length,actions:(0,b.jsxs)(E.Button,{size:"sm",variant:"outline",children:[(0,b.jsx)(i.FileText,{className:"mr-2 size-4"}),"Add Note"]}),content:(0,b.jsx)(F.UnifiedAccordionContent,{children:(0,b.jsx)("div",{className:"space-y-4",children:0===Y.length?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,b.jsx)(i.FileText,{className:"text-muted-foreground mb-4 size-12"}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"No notes yet"})]}):(0,b.jsx)("div",{className:"space-y-2",children:Y.map((a,c)=>(0,b.jsxs)("div",{className:"rounded-lg border p-4",children:[(0,b.jsx)("p",{className:"text-sm",children:a.content||a.note}),(0,b.jsxs)("div",{className:"mt-2 flex items-center justify-between",children:[a.user&&(0,b.jsxs)("p",{className:"text-muted-foreground text-xs",children:["by ",a.user.name||a.user.email]}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:new Date(a.created_at).toLocaleString()})]})]},c))})})})},{id:"attachments",title:"Attachments",icon:(0,b.jsx)(p.Paperclip,{className:"size-4"}),count:Z.length,actions:(0,b.jsxs)(E.Button,{size:"sm",variant:"outline",children:[(0,b.jsx)(p.Paperclip,{className:"mr-2 size-4"}),"Upload File"]}),content:(0,b.jsx)(F.UnifiedAccordionContent,{children:(0,b.jsx)("div",{className:"space-y-4",children:0===Z.length?(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,b.jsx)(p.Paperclip,{className:"text-muted-foreground mb-4 size-12"}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"No attachments yet"})]}):(0,b.jsx)("div",{className:"grid gap-3 sm:grid-cols-2 md:grid-cols-3",children:Z.map((a,c)=>(0,b.jsxs)("div",{className:"hover:bg-accent flex items-center gap-3 rounded-lg border p-4",children:[(0,b.jsx)(p.Paperclip,{className:"text-muted-foreground size-4"}),(0,b.jsxs)("div",{className:"flex-1 overflow-hidden",children:[(0,b.jsx)("p",{className:"truncate text-sm font-medium",children:a.filename||"Untitled"}),(0,b.jsx)("p",{className:"text-muted-foreground text-xs",children:a.file_size?`${(a.file_size/1024).toFixed(1)} KB`:"Unknown size"})]})]},c))})})})},{id:"customer",title:"Customer Information",icon:(0,b.jsx)(v.User,{className:"size-4"}),actions:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[N?.email&&(0,b.jsx)(E.Button,{asChild:!0,size:"sm",variant:"outline",children:(0,b.jsxs)(w.default,{href:`mailto:${N.email}`,children:[(0,b.jsx)(l.Mail,{className:"mr-2 size-4"}),"Email Customer"]})}),N?.phone&&(0,b.jsx)(E.Button,{asChild:!0,size:"sm",variant:"outline",children:(0,b.jsxs)(w.default,{href:`tel:${N.phone}`,children:[(0,b.jsx)(q.Phone,{className:"mr-2 size-4"}),"Call Customer"]})}),N?.id&&(0,b.jsx)(E.Button,{asChild:!0,size:"sm",variant:"outline",children:(0,b.jsxs)(w.default,{href:`/dashboard/customers/${N.id}`,children:[(0,b.jsx)(v.User,{className:"mr-2 size-4"}),"View Full Profile"]})})]}),content:(0,b.jsx)(F.UnifiedAccordionContent,{children:N?(0,b.jsx)("div",{className:"space-y-4",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"bg-primary/10 flex size-12 items-center justify-center rounded-full",children:(0,b.jsx)(v.User,{className:"text-primary size-6"})}),(0,b.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-semibold text-lg",children:N.display_name||`${N.first_name||""} ${N.last_name||""}`.trim()||"Customer"}),N.company_name&&(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:N.company_name})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[N.email&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(l.Mail,{className:"text-muted-foreground size-4 shrink-0"}),(0,b.jsx)("a",{href:`mailto:${N.email}`,className:"text-primary hover:underline",children:N.email})]}),N.phone&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsx)(q.Phone,{className:"text-muted-foreground size-4 shrink-0"}),(0,b.jsx)("a",{href:`tel:${N.phone}`,className:"text-primary hover:underline",children:N.phone})]}),!N.email&&!N.phone&&(0,b.jsx)("p",{className:"text-muted-foreground text-sm italic",children:"No contact information available"})]})]})]})}):(0,b.jsxs)("div",{className:"text-muted-foreground flex flex-col items-center justify-center py-12 text-center text-sm",children:[(0,b.jsx)(v.User,{className:"text-muted-foreground mb-4 size-10"}),"No customer information available"]})})}],aa=M?.metadata?.tags&&Array.isArray(M.metadata.tags)&&M.metadata.tags||[],ab=(0,b.jsx)("div",{className:"w-full px-2 sm:px-0",children:(0,b.jsx)("div",{className:"bg-muted/50 mx-auto max-w-7xl rounded-md shadow-sm",children:(0,b.jsxs)("div",{className:"flex flex-col gap-4 p-4 sm:p-6",children:[(0,b.jsx)("div",{className:"flex flex-col gap-3",children:(0,b.jsx)("div",{className:"flex items-start justify-between",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"bg-primary/10 ring-border flex size-16 items-center justify-center rounded-lg ring-2",children:(0,b.jsx)(e.Building2,{className:"text-primary size-8"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold",children:M.name||M.address}),(0,b.jsxs)("p",{className:"text-muted-foreground text-sm",children:[M.city,", ",M.state," ",M.zip_code]})]})]})})}),(0,b.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,b.jsxs)(D.Badge,{className:"gap-1.5",variant:"secondary",children:[(0,b.jsx)(e.Building2,{className:"size-3.5"}),M.property_type||"Residential"]}),M.square_footage&&(0,b.jsxs)(D.Badge,{className:"gap-1.5",variant:"secondary",children:[(0,b.jsx)(s.default,{className:"size-3.5"}),M.square_footage.toLocaleString()," sq ft"]}),A.equipmentCount>0&&(0,b.jsxs)(D.Badge,{className:"gap-1.5",variant:"secondary",children:[(0,b.jsx)(t.Settings,{className:"size-3.5"}),A.equipmentCount," Equipment"]}),A.activeJobs>0&&(0,b.jsxs)(D.Badge,{className:"gap-1.5",variant:"secondary",children:[(0,b.jsx)(d.Briefcase,{className:"size-3.5"}),A.activeJobs," Active Jobs"]})]}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,b.jsx)("span",{className:"text-muted-foreground text-xs font-medium",children:"Tags:"}),(0,b.jsx)(C.EntityTags,{entityId:M.id,entityType:"property",onUpdateTags:(a,b)=>(0,z.updateEntityTags)("property",a,b),tags:aa})]}),M&&(0,b.jsx)(G.TravelTime,{property:{address:M.address??void 0,city:M.city??void 0,state:M.state??void 0,zip_code:M.zip_code??void 0,lat:M.lat??void 0,lon:M.lon??void 0}})]})})});return(0,b.jsx)(B.DetailPageContentLayout,{activities:X,attachments:[],customHeader:ab,customSections:_,defaultOpenSection:"location",enableReordering:!0,notes:[],showStandardSections:{activities:!0,notes:!1,attachments:!1,relatedItems:!1},storageKey:"property-details"})}a.s(["PropertyPageContent",()=>S],653033)}];

//# sourceMappingURL=37f04_src_components_properties_property-details_property-page-content_tsx_f7904809._.js.map