{"version":3,"sources":["../../../../../apps/web/emails/templates/auth/email-verification.tsx","../../../../../apps/web/emails/templates/auth/magic-link.tsx","../../../../../apps/web/emails/templates/auth/password-changed.tsx","../../../../../apps/web/emails/templates/auth/password-reset.tsx","../../../../../apps/web/emails/templates/auth/welcome.tsx","../../../../../apps/web/emails/components/divider.tsx","../../../../../apps/web/emails/templates/billing/estimate-sent.tsx","../../../../../apps/web/emails/templates/billing/invoice-sent.tsx","../../../../../apps/web/emails/layouts/company-layout.tsx","../../../../../apps/web/emails/templates/billing/payment-received.tsx","../../../../../apps/web/emails/templates/billing/payment-reminder.tsx","../../../../../apps/web/emails/templates/customer/review-request.tsx","../../../../../apps/web/emails/templates/customer/service-reminder.tsx","../../../../../apps/web/emails/templates/customer/welcome-customer.tsx","../../../../../apps/web/emails/templates/jobs/appointment-reminder.tsx","../../../../../apps/web/emails/templates/jobs/job-complete.tsx","../../../../../apps/web/emails/templates/jobs/job-confirmation.tsx","../../../../../apps/web/emails/templates/jobs/tech-en-route.tsx","../../../../../apps/web/src/actions/emails.ts","../../../../../apps/web/src/app/%28dashboard%29/dashboard/settings/notifications/testing/notification-registry.ts","../../../../../apps/web/src/lib/notifications/sms-templates.ts","../../../../../apps/web/src/app/api/notifications/test/route.ts","../../../../../node_modules/.pnpm/next%4016.0.4_%40opentelemetry%2Bapi%401.9.0_react-dom%4019.2.0_react%4019.2.0__react%4019.2.0/node_modules/next/src/build/templates/app-route.ts"],"sourcesContent":["/**\n * Email Verification Template - Email verification link\n *\n * Design:\n * - Clean, full-width layout (no cards)\n * - Thorbis-branded with logo from BaseLayout\n * - Clear call-to-action\n * - Security information\n */\n\nimport { Text } from \"@react-email/components\";\nimport type { EmailVerificationProps } from \"../../../src/lib/email/email-types\";\nimport { Button } from \"../../components/button\";\nimport { Heading } from \"../../components/heading\";\nimport { BaseLayout } from \"../../layouts/base-layout\";\n\nexport default function EmailVerificationEmail({\n\tname,\n\tverificationUrl,\n\tpreviewText = \"Verify your email address to get started\",\n}: EmailVerificationProps) {\n\treturn (\n\t\t<BaseLayout previewText={previewText}>\n\t\t\t{/* Main Heading */}\n\t\t\t<Heading level={1}>Verify Your Email Address üìß</Heading>\n\n\t\t\t<Text style={paragraph}>Hi {name},</Text>\n\n\t\t\t<Text style={paragraph}>\n\t\t\t\tThanks for signing up for Thorbis! To complete your registration and\n\t\t\t\tstart using your account, please verify your email address by clicking\n\t\t\t\tthe button below.\n\t\t\t</Text>\n\n\t\t\t{/* Call to Action */}\n\t\t\t<div style={buttonContainer}>\n\t\t\t\t<Button href={verificationUrl}>Verify Email Address</Button>\n\t\t\t</div>\n\n\t\t\t{/* Alternative Link */}\n\t\t\t<Text style={paragraph}>\n\t\t\t\tOr copy and paste this URL into your browser:\n\t\t\t</Text>\n\n\t\t\t<div style={urlBox}>\n\t\t\t\t<Text style={urlText}>{verificationUrl}</Text>\n\t\t\t</div>\n\n\t\t\t{/* Security Information */}\n\t\t\t<div style={securitySection}>\n\t\t\t\t<Heading level={3}>üîí Security Note</Heading>\n\t\t\t\t<Text style={securityText}>\n\t\t\t\t\tThis verification link will expire in 24 hours for security reasons.\n\t\t\t\t\tIf you didn't create an account with Thorbis, you can safely ignore\n\t\t\t\t\tthis email.\n\t\t\t\t</Text>\n\t\t\t</div>\n\t\t</BaseLayout>\n\t);\n}\n\n// Styles - Clean, full-width design (no cards)\nconst paragraph = {\n\tcolor: \"#374151\",\n\tfontSize: \"16px\",\n\tlineHeight: \"26px\",\n\tmargin: \"0 0 20px 0\",\n};\n\nconst buttonContainer = {\n\tmargin: \"40px 0\",\n\ttextAlign: \"center\" as const,\n};\n\nconst urlBox = {\n\tbackgroundColor: \"#f9fafb\",\n\tborderLeft: \"4px solid #3c6ff5\",\n\tpadding: \"16px 20px\",\n\tmargin: \"20px 0 32px 0\",\n\tborderRadius: \"4px\",\n};\n\nconst urlText = {\n\tcolor: \"#6b7280\",\n\tfontSize: \"14px\",\n\tlineHeight: \"22px\",\n\twordBreak: \"break-all\" as const,\n\tmargin: \"0\",\n\tfontFamily: \"monospace\",\n};\n\nconst securitySection = {\n\tbackgroundColor: \"#fef3c7\",\n\tborderLeft: \"4px solid #fbbf24\",\n\tpadding: \"24px\",\n\tmargin: \"32px 0\",\n\tborderRadius: \"4px\",\n};\n\nconst securityText = {\n\tcolor: \"#92400e\",\n\tfontSize: \"15px\",\n\tlineHeight: \"24px\",\n\tmargin: \"8px 0 0 0\",\n};\n","/**\n * Magic Link Email Template - Passwordless authentication\n *\n * Design:\n * - Clean, full-width layout (no cards)\n * - Thorbis-branded with logo from BaseLayout\n * - One-click authentication link\n * - Security information\n * - Expiration time\n */\n\nimport { Text } from \"@react-email/components\";\nimport type { MagicLinkProps } from \"../../../src/lib/email/email-types\";\nimport { Button } from \"../../components/button\";\nimport { Heading } from \"../../components/heading\";\nimport { BaseLayout } from \"../../layouts/base-layout\";\n\nexport default function MagicLinkEmail({\n\tloginUrl,\n\texpiresInMinutes = 15,\n\tpreviewText = \"Sign in to your Thorbis account\",\n}: MagicLinkProps) {\n\treturn (\n\t\t<BaseLayout previewText={previewText}>\n\t\t\t{/* Main Heading */}\n\t\t\t<Heading level={1}>Sign In to Thorbis ‚ú®</Heading>\n\n\t\t\t<Text style={paragraph}>\n\t\t\t\tClick the button below to sign in to your Thorbis account. No password\n\t\t\t\trequired!\n\t\t\t</Text>\n\n\t\t\t{/* Call to Action */}\n\t\t\t<div style={buttonContainer}>\n\t\t\t\t<Button href={loginUrl}>Sign In to Thorbis</Button>\n\t\t\t</div>\n\n\t\t\t{/* Alternative Link */}\n\t\t\t<Text style={paragraph}>\n\t\t\t\tOr copy and paste this URL into your browser:\n\t\t\t</Text>\n\n\t\t\t<div style={urlBox}>\n\t\t\t\t<Text style={urlText}>{loginUrl}</Text>\n\t\t\t</div>\n\n\t\t\t{/* Security Information */}\n\t\t\t<div style={infoSection}>\n\t\t\t\t<Heading level={3}>üîí Security Information</Heading>\n\t\t\t\t<ul style={list}>\n\t\t\t\t\t<li style={listItem}>\n\t\t\t\t\t\tThis link will expire in <strong>{expiresInMinutes} minutes</strong>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li style={listItem}>The link can only be used once</li>\n\t\t\t\t\t<li style={listItem}>\n\t\t\t\t\t\tIf you didn't request this link, you can safely ignore this email\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t\t<Text style={infoText}>\n\t\t\t\t\tFor your security, we recommend only signing in from trusted devices.\n\t\t\t\t</Text>\n\t\t\t</div>\n\n\t\t\t<Text style={closingText}>\n\t\t\t\tWelcome back,\n\t\t\t\t<br />\n\t\t\t\t<strong>The Thorbis Team</strong>\n\t\t\t</Text>\n\t\t</BaseLayout>\n\t);\n}\n\n// Styles - Clean, full-width design (no cards)\nconst paragraph = {\n\tcolor: \"#374151\",\n\tfontSize: \"16px\",\n\tlineHeight: \"26px\",\n\tmargin: \"0 0 20px 0\",\n};\n\nconst buttonContainer = {\n\tmargin: \"40px 0\",\n\ttextAlign: \"center\" as const,\n};\n\nconst urlBox = {\n\tbackgroundColor: \"#f9fafb\",\n\tborderLeft: \"4px solid #3c6ff5\",\n\tpadding: \"16px 20px\",\n\tmargin: \"20px 0 32px 0\",\n\tborderRadius: \"4px\",\n};\n\nconst urlText = {\n\tcolor: \"#6b7280\",\n\tfontSize: \"14px\",\n\tlineHeight: \"22px\",\n\twordBreak: \"break-all\" as const,\n\tmargin: \"0\",\n\tfontFamily: \"monospace\",\n};\n\nconst infoSection = {\n\tbackgroundColor: \"#eff6ff\",\n\tborderLeft: \"4px solid #3b82f6\",\n\tpadding: \"24px\",\n\tmargin: \"32px 0\",\n\tborderRadius: \"4px\",\n};\n\nconst list = {\n\tcolor: \"#1e40af\",\n\tfontSize: \"15px\",\n\tlineHeight: \"24px\",\n\tmargin: \"12px 0 16px 24px\",\n\tpadding: \"0\",\n};\n\nconst listItem = {\n\tmargin: \"0 0 12px 0\",\n};\n\nconst infoText = {\n\tcolor: \"#1e40af\",\n\tfontSize: \"15px\",\n\tlineHeight: \"24px\",\n\tmargin: \"16px 0 0 0\",\n};\n\nconst closingText = {\n\tcolor: \"#374151\",\n\tfontSize: \"16px\",\n\tlineHeight: \"26px\",\n\tmargin: \"32px 0 0 0\",\n};\n","/**\n * Password Changed Email Template - Confirmation after password change\n *\n * Design:\n * - Clean, full-width layout (no cards)\n * - Thorbis-branded with logo from BaseLayout\n * - Confirms password was changed\n * - Provides security contact info\n * - Shows timestamp of change\n */\n\nimport { Text } from \"@react-email/components\";\nimport type { PasswordChangedProps } from \"../../../src/lib/email/email-types\";\nimport { Heading } from \"../../components/heading\";\nimport { BaseLayout } from \"../../layouts/base-layout\";\n\nexport default function PasswordChangedEmail({\n\tname,\n\tchangedAt,\n\tpreviewText = \"Your password has been changed\",\n}: PasswordChangedProps) {\n\tconst formattedDate = new Date(changedAt).toLocaleString(\"en-US\", {\n\t\tdateStyle: \"long\",\n\t\ttimeStyle: \"long\",\n\t});\n\n\treturn (\n\t\t<BaseLayout previewText={previewText}>\n\t\t\t{/* Main Heading */}\n\t\t\t<Heading level={1}>Password Changed Successfully ‚úÖ</Heading>\n\n\t\t\t<Text style={paragraph}>Hi {name},</Text>\n\n\t\t\t<Text style={paragraph}>\n\t\t\t\tThis is a confirmation that the password for your Thorbis account was\n\t\t\t\tchanged successfully.\n\t\t\t</Text>\n\n\t\t\t{/* Change Timestamp */}\n\t\t\t<div style={infoSection}>\n\t\t\t\t<Text style={infoLabel}>üïí Change Date & Time:</Text>\n\t\t\t\t<Text style={infoValue}>{formattedDate}</Text>\n\t\t\t</div>\n\n\t\t\t{/* Security Warning */}\n\t\t\t<div style={securitySection}>\n\t\t\t\t<Heading level={3}>‚ö†Ô∏è Didn't Make This Change?</Heading>\n\t\t\t\t<Text style={securityText}>\n\t\t\t\t\tIf you didn't change your password, someone may have unauthorized\n\t\t\t\t\taccess to your account. Please take the following steps immediately:\n\t\t\t\t</Text>\n\t\t\t\t<ul style={list}>\n\t\t\t\t\t<li style={listItem}>\n\t\t\t\t\t\t<a href=\"mailto:security@thorbis.com\" style={link}>\n\t\t\t\t\t\t\tContact our security team\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li style={listItem}>\n\t\t\t\t\t\tChange your password again using a secure device\n\t\t\t\t\t</li>\n\t\t\t\t\t<li style={listItem}>Review your recent account activity</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\n\t\t\t<Text style={footerNote}>\n\t\t\t\tThis is an automated security notification. If you made this change, you\n\t\t\t\tcan safely ignore this email.\n\t\t\t</Text>\n\n\t\t\t<Text style={closingText}>\n\t\t\t\tStay secure,\n\t\t\t\t<br />\n\t\t\t\t<strong>The Thorbis Team</strong>\n\t\t\t</Text>\n\t\t</BaseLayout>\n\t);\n}\n\n// Styles - Clean, full-width design (no cards)\nconst paragraph = {\n\tcolor: \"#374151\",\n\tfontSize: \"16px\",\n\tlineHeight: \"26px\",\n\tmargin: \"0 0 20px 0\",\n};\n\nconst infoSection = {\n\tbackgroundColor: \"#f0fdf4\",\n\tborderLeft: \"4px solid #22c55e\",\n\tpadding: \"20px 24px\",\n\tmargin: \"24px 0\",\n\tborderRadius: \"4px\",\n};\n\nconst infoLabel = {\n\tcolor: \"#166534\",\n\tfontSize: \"14px\",\n\tfontWeight: \"600\",\n\tmargin: \"0 0 8px 0\",\n};\n\nconst infoValue = {\n\tcolor: \"#166534\",\n\tfontSize: \"17px\",\n\tfontWeight: \"500\",\n\tmargin: \"0\",\n};\n\nconst securitySection = {\n\tbackgroundColor: \"#fef2f2\",\n\tborderLeft: \"4px solid #ef4444\",\n\tpadding: \"24px\",\n\tmargin: \"32px 0\",\n\tborderRadius: \"4px\",\n};\n\nconst securityText = {\n\tcolor: \"#991b1b\",\n\tfontSize: \"15px\",\n\tlineHeight: \"24px\",\n\tmargin: \"8px 0 16px 0\",\n};\n\nconst list = {\n\tcolor: \"#991b1b\",\n\tfontSize: \"15px\",\n\tlineHeight: \"24px\",\n\tmargin: \"0 0 0 24px\",\n\tpadding: \"0\",\n};\n\nconst listItem = {\n\tmargin: \"0 0 12px 0\",\n};\n\nconst link = {\n\tcolor: \"#991b1b\",\n\ttextDecoration: \"underline\",\n\tfontWeight: \"600\",\n};\n\nconst footerNote = {\n\tcolor: \"#6b7280\",\n\tfontSize: \"14px\",\n\tlineHeight: \"22px\",\n\tmargin: \"32px 0 0 0\",\n\ttextAlign: \"center\" as const,\n\tfontStyle: \"italic\",\n};\n\nconst closingText = {\n\tcolor: \"#374151\",\n\tfontSize: \"16px\",\n\tlineHeight: \"26px\",\n\tmargin: \"24px 0 0 0\",\n};\n","/**\n * Password Reset Email Template - Send password reset link\n *\n * Design:\n * - Clean, full-width layout (no cards)\n * - Thorbis-branded with logo from BaseLayout\n * - Password reset link with expiration\n * - Security warnings\n * - Clear call-to-action\n */\n\nimport { Text } from \"@react-email/components\";\nimport type { PasswordResetProps } from \"../../../src/lib/email/email-types\";\nimport { Button } from \"../../components/button\";\nimport { Heading } from \"../../components/heading\";\nimport { BaseLayout } from \"../../layouts/base-layout\";\n\nexport default function PasswordResetEmail({\n\tname,\n\tresetUrl,\n\texpiresInMinutes = 60,\n\tpreviewText = \"Reset your Thorbis password\",\n}: PasswordResetProps) {\n\treturn (\n\t\t<BaseLayout previewText={previewText}>\n\t\t\t{/* Main Heading */}\n\t\t\t<Heading level={1}>Reset Your Password üîë</Heading>\n\n\t\t\t{name && <Text style={paragraph}>Hi {name},</Text>}\n\n\t\t\t<Text style={paragraph}>\n\t\t\t\tWe received a request to reset the password for your Thorbis account.\n\t\t\t\tClick the button below to create a new password.\n\t\t\t</Text>\n\n\t\t\t{/* Call to Action */}\n\t\t\t<div style={buttonContainer}>\n\t\t\t\t<Button href={resetUrl}>Reset Password</Button>\n\t\t\t</div>\n\n\t\t\t{/* Alternative Link */}\n\t\t\t<Text style={paragraph}>\n\t\t\t\tOr copy and paste this URL into your browser:\n\t\t\t</Text>\n\n\t\t\t<div style={urlBox}>\n\t\t\t\t<Text style={urlText}>{resetUrl}</Text>\n\t\t\t</div>\n\n\t\t\t{/* Security Warning */}\n\t\t\t<div style={warningSection}>\n\t\t\t\t<Heading level={3}>üîí Important Security Information</Heading>\n\t\t\t\t<ul style={list}>\n\t\t\t\t\t<li style={listItem}>\n\t\t\t\t\t\tThis password reset link will expire in{\" \"}\n\t\t\t\t\t\t<strong>{expiresInMinutes} minutes</strong>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li style={listItem}>\n\t\t\t\t\t\tIf you didn't request a password reset, please ignore this email\n\t\t\t\t\t</li>\n\t\t\t\t\t<li style={listItem}>Never share this link with anyone</li>\n\t\t\t\t</ul>\n\t\t\t\t<Text style={warningText}>\n\t\t\t\t\tIf you're concerned about your account security,{\" \"}\n\t\t\t\t\t<a href=\"mailto:security@thorbis.com\" style={link}>\n\t\t\t\t\t\tcontact our security team\n\t\t\t\t\t</a>\n\t\t\t\t\t.\n\t\t\t\t</Text>\n\t\t\t</div>\n\n\t\t\t<Text style={closingText}>\n\t\t\t\tStay secure,\n\t\t\t\t<br />\n\t\t\t\t<strong>The Thorbis Team</strong>\n\t\t\t</Text>\n\t\t</BaseLayout>\n\t);\n}\n\n// Styles - Clean, full-width design (no cards)\nconst paragraph = {\n\tcolor: \"#374151\",\n\tfontSize: \"16px\",\n\tlineHeight: \"26px\",\n\tmargin: \"0 0 20px 0\",\n};\n\nconst buttonContainer = {\n\tmargin: \"40px 0\",\n\ttextAlign: \"center\" as const,\n};\n\nconst urlBox = {\n\tbackgroundColor: \"#f9fafb\",\n\tborderLeft: \"4px solid #3c6ff5\",\n\tpadding: \"16px 20px\",\n\tmargin: \"20px 0 32px 0\",\n\tborderRadius: \"4px\",\n};\n\nconst urlText = {\n\tcolor: \"#6b7280\",\n\tfontSize: \"14px\",\n\tlineHeight: \"22px\",\n\twordBreak: \"break-all\" as const,\n\tmargin: \"0\",\n\tfontFamily: \"monospace\",\n};\n\nconst warningSection = {\n\tbackgroundColor: \"#fef2f2\",\n\tborderLeft: \"4px solid #ef4444\",\n\tpadding: \"24px\",\n\tmargin: \"32px 0\",\n\tborderRadius: \"4px\",\n};\n\nconst list = {\n\tcolor: \"#991b1b\",\n\tfontSize: \"15px\",\n\tlineHeight: \"24px\",\n\tmargin: \"12px 0 16px 24px\",\n\tpadding: \"0\",\n};\n\nconst listItem = {\n\tmargin: \"0 0 12px 0\",\n};\n\nconst warningText = {\n\tcolor: \"#991b1b\",\n\tfontSize: \"15px\",\n\tlineHeight: \"24px\",\n\tmargin: \"16px 0 0 0\",\n};\n\nconst link = {\n\tcolor: \"#991b1b\",\n\ttextDecoration: \"underline\",\n\tfontWeight: \"500\",\n};\n\nconst closingText = {\n\tcolor: \"#374151\",\n\tfontSize: \"16px\",\n\tlineHeight: \"26px\",\n\tmargin: \"32px 0 0 0\",\n};\n","/**\n * Welcome Email Template - Sent when user signs up\n *\n * Design:\n * - Clean, full-width layout (no cards)\n * - Thorbis-branded with logo\n * - Professional welcome message\n * - Clear call-to-action\n * - Next steps guidance\n */\n\nimport { Text } from \"@react-email/components\";\nimport type { WelcomeEmailProps } from \"../../../src/lib/email/email-types\";\nimport { Button } from \"../../components/button\";\nimport { Heading } from \"../../components/heading\";\nimport { BaseLayout } from \"../../layouts/base-layout\";\n\nexport default function WelcomeEmail({\n\tname,\n\tloginUrl,\n\tpreviewText = \"Welcome to Thorbis! Let's get you started.\",\n}: WelcomeEmailProps) {\n\treturn (\n\t\t<BaseLayout previewText={previewText}>\n\t\t\t{/* Hero Heading */}\n\t\t\t<Heading level={1}>Welcome to Thorbis, {name}! üëã</Heading>\n\n\t\t\t{/* Welcome Message */}\n\t\t\t<Text style={paragraph}>\n\t\t\t\tWe're thrilled to have you on board! Thorbis is your all-in-one platform\n\t\t\t\tfor managing your service business more efficiently than ever before.\n\t\t\t</Text>\n\n\t\t\t<Text style={paragraph}>\n\t\t\t\tWhether you're scheduling jobs, managing customers, creating invoices,\n\t\t\t\tor tracking your team's performance, we've built Thorbis to make your\n\t\t\t\tlife easier.\n\t\t\t</Text>\n\n\t\t\t{/* What You Can Do */}\n\t\t\t<Heading level={2}>What You Can Do with Thorbis</Heading>\n\n\t\t\t<div style={featureList}>\n\t\t\t\t<div style={featureItem}>\n\t\t\t\t\t<Text style={featureIcon}>üìÖ</Text>\n\t\t\t\t\t<div style={featureContent}>\n\t\t\t\t\t\t<Text style={featureTitle}>Schedule & Dispatch Jobs</Text>\n\t\t\t\t\t\t<Text style={featureDescription}>\n\t\t\t\t\t\t\tManage your calendar, assign technicians, and optimize routes\n\t\t\t\t\t\t\teffortlessly\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div style={featureItem}>\n\t\t\t\t\t<Text style={featureIcon}>üë•</Text>\n\t\t\t\t\t<div style={featureContent}>\n\t\t\t\t\t\t<Text style={featureTitle}>Customer Management</Text>\n\t\t\t\t\t\t<Text style={featureDescription}>\n\t\t\t\t\t\t\tKeep all customer information, history, and communication in one\n\t\t\t\t\t\t\tplace\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div style={featureItem}>\n\t\t\t\t\t<Text style={featureIcon}>üí∞</Text>\n\t\t\t\t\t<div style={featureContent}>\n\t\t\t\t\t\t<Text style={featureTitle}>Invoicing & Payments</Text>\n\t\t\t\t\t\t<Text style={featureDescription}>\n\t\t\t\t\t\t\tCreate professional invoices and estimates, accept online payments\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div style={featureItem}>\n\t\t\t\t\t<Text style={featureIcon}>üìä</Text>\n\t\t\t\t\t<div style={featureContent}>\n\t\t\t\t\t\t<Text style={featureTitle}>Business Insights</Text>\n\t\t\t\t\t\t<Text style={featureDescription}>\n\t\t\t\t\t\t\tTrack performance, revenue, and growth with powerful analytics\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* Call to Action */}\n\t\t\t<div style={ctaContainer}>\n\t\t\t\t<Button href={loginUrl}>Get Started with Thorbis</Button>\n\t\t\t</div>\n\n\t\t\t{/* Next Steps */}\n\t\t\t<Heading level={2}>Next Steps</Heading>\n\n\t\t\t<Text style={paragraph}>\n\t\t\t\tTo help you get the most out of Thorbis, here's what we recommend:\n\t\t\t</Text>\n\n\t\t\t<ol style={stepsList}>\n\t\t\t\t<li style={stepItem}>\n\t\t\t\t\t<strong>Complete your company profile</strong> - Add your business\n\t\t\t\t\tinformation, logo, and branding\n\t\t\t\t</li>\n\t\t\t\t<li style={stepItem}>\n\t\t\t\t\t<strong>Add your team members</strong> - Invite technicians and staff\n\t\t\t\t\tto collaborate\n\t\t\t\t</li>\n\t\t\t\t<li style={stepItem}>\n\t\t\t\t\t<strong>Import your customers</strong> - Bring over your existing\n\t\t\t\t\tcustomer list (optional)\n\t\t\t\t</li>\n\t\t\t\t<li style={stepItem}>\n\t\t\t\t\t<strong>Schedule your first job</strong> - Start managing your\n\t\t\t\t\tworkflow\n\t\t\t\t</li>\n\t\t\t</ol>\n\n\t\t\t{/* Help & Resources */}\n\t\t\t<div style={helpSection}>\n\t\t\t\t<Heading level={3}>Need Help Getting Started?</Heading>\n\t\t\t\t<Text style={paragraph}>\n\t\t\t\t\tOur team is here to support you every step of the way:\n\t\t\t\t</Text>\n\t\t\t\t<Text style={paragraph}>\n\t\t\t\t\t‚Ä¢ Check out our{\" \"}\n\t\t\t\t\t<a href=\"https://thorbis.com/docs/getting-started\" style={link}>\n\t\t\t\t\t\tgetting started guide\n\t\t\t\t\t</a>\n\t\t\t\t\t<br />‚Ä¢ Watch our{\" \"}\n\t\t\t\t\t<a href=\"https://thorbis.com/tutorials\" style={link}>\n\t\t\t\t\t\tvideo tutorials\n\t\t\t\t\t</a>\n\t\t\t\t\t<br />‚Ä¢ Email us at{\" \"}\n\t\t\t\t\t<a href=\"mailto:support@thorbis.com\" style={link}>\n\t\t\t\t\t\tsupport@thorbis.com\n\t\t\t\t\t</a>\n\t\t\t\t\t<br />‚Ä¢ Live chat is available 9am-5pm PT\n\t\t\t\t</Text>\n\t\t\t</div>\n\n\t\t\t{/* Closing */}\n\t\t\t<Text style={closingText}>\n\t\t\t\tWelcome aboard,\n\t\t\t\t<br />\n\t\t\t\t<strong>The Thorbis Team</strong>\n\t\t\t</Text>\n\t\t</BaseLayout>\n\t);\n}\n\n// Styles - Clean, full-width design (no cards)\nconst paragraph = {\n\tcolor: \"#374151\",\n\tfontSize: \"16px\",\n\tlineHeight: \"26px\",\n\tmargin: \"0 0 20px 0\",\n};\n\nconst featureList = {\n\tmargin: \"24px 0 32px 0\",\n};\n\nconst featureItem = {\n\tdisplay: \"flex\",\n\talignItems: \"flex-start\",\n\tmarginBottom: \"20px\",\n\tpadding: \"16px 0\",\n\tborderBottom: \"1px solid #e5e7eb\",\n};\n\nconst featureIcon = {\n\tfontSize: \"32px\",\n\tmarginRight: \"16px\",\n\tlineHeight: \"1\",\n};\n\nconst featureContent = {\n\tflex: 1,\n};\n\nconst featureTitle = {\n\tcolor: \"#111827\",\n\tfontSize: \"17px\",\n\tfontWeight: \"600\",\n\tmargin: \"0 0 4px 0\",\n\tlineHeight: \"24px\",\n};\n\nconst featureDescription = {\n\tcolor: \"#6b7280\",\n\tfontSize: \"15px\",\n\tlineHeight: \"22px\",\n\tmargin: \"0\",\n};\n\nconst ctaContainer = {\n\tmargin: \"40px 0\",\n\ttextAlign: \"center\" as const,\n};\n\nconst stepsList = {\n\tcolor: \"#374151\",\n\tfontSize: \"16px\",\n\tlineHeight: \"26px\",\n\tmargin: \"16px 0 32px 24px\",\n\tpadding: \"0\",\n};\n\nconst stepItem = {\n\tmarginBottom: \"12px\",\n};\n\nconst helpSection = {\n\tbackgroundColor: \"#f9fafb\",\n\tborderLeft: \"4px solid #3c6ff5\",\n\tpadding: \"24px\",\n\tmargin: \"32px 0\",\n\tborderRadius: \"4px\",\n};\n\nconst link = {\n\tcolor: \"#3c6ff5\",\n\ttextDecoration: \"none\",\n\tfontWeight: \"500\",\n};\n\nconst closingText = {\n\tcolor: \"#374151\",\n\tfontSize: \"16px\",\n\tlineHeight: \"26px\",\n\tmargin: \"32px 0 0 0\",\n};\n","/**\n * Email Divider Component - Visual separator\n *\n * Design:\n * - Subtle gray divider line\n * - Proper spacing above and below\n * - Matches dashboard separator styling\n */\n\nimport { Hr } from \"@react-email/components\";\nimport { EMAIL_COLORS } from \"../theme\";\n\ntype DividerProps = {\n\tstyle?: React.CSSProperties;\n};\n\nexport function Divider({ style }: DividerProps) {\n\treturn (\n\t\t<Hr\n\t\t\tstyle={{\n\t\t\t\t...dividerStyle,\n\t\t\t\t...style,\n\t\t\t}}\n\t\t/>\n\t);\n}\n\nconst dividerStyle = {\n\tborder: \"none\",\n\tborderTop: `1px solid ${EMAIL_COLORS.border}`,\n\tmargin: \"24px 0\",\n};\n","/**\n * Estimate Sent Email Template - Quote/proposal delivery\n *\n * Features:\n * - Estimate summary\n * - Line items\n * - Valid until date\n * - Accept/view links\n */\n\nimport { Text } from \"@react-email/components\";\nimport type { EstimateSentProps } from \"../../../src/lib/email/email-types\";\nimport { Button } from \"../../components/button\";\nimport { Card } from \"../../components/card\";\nimport { Divider } from \"../../components/divider\";\nimport { Heading } from \"../../components/heading\";\nimport { BaseLayout } from \"../../layouts/base-layout\";\nimport { EMAIL_COLORS } from \"../../theme\";\n\nexport default function EstimateSentEmail({\n\tcustomerName,\n\testimateNumber,\n\ttotalAmount,\n\tvalidUntil,\n\titems,\n\tacceptUrl,\n\tviewUrl,\n\tpreviewText = `Estimate ${estimateNumber} - ${totalAmount}`,\n}: EstimateSentProps) {\n\treturn (\n\t\t<BaseLayout previewText={previewText}>\n\t\t\t<Heading level={1}>Your Estimate is Ready</Heading>\n\n\t\t\t<Text style={paragraph}>Hi {customerName},</Text>\n\n\t\t\t<Text style={paragraph}>\n\t\t\t\tThank you for your interest in our services! We've prepared a detailed\n\t\t\t\testimate for you.\n\t\t\t</Text>\n\n\t\t\t<Card style={estimateCard}>\n\t\t\t\t<div style={estimateHeader}>\n\t\t\t\t\t<Text style={estimateLabel}>Estimate</Text>\n\t\t\t\t\t<Text style={estimateNumberStyle}>#{estimateNumber}</Text>\n\t\t\t\t</div>\n\n\t\t\t\t<Divider style={{ margin: \"20px 0\" }} />\n\n\t\t\t\t<div style={itemsSection}>\n\t\t\t\t\t{items.map((item) => {\n\t\t\t\t\t\tconst key = `${item.description}-${item.amount}`;\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div key={key} style={itemRow}>\n\t\t\t\t\t\t\t\t<Text style={itemDescription}>{item.description}</Text>\n\t\t\t\t\t\t\t\t<Text style={itemAmount}>{item.amount}</Text>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\n\t\t\t\t<Divider style={{ margin: \"20px 0\" }} />\n\n\t\t\t\t<div style={totalRow}>\n\t\t\t\t\t<Text style={totalLabel}>Estimated Total:</Text>\n\t\t\t\t\t<Text style={totalAmountStyle}>{totalAmount}</Text>\n\t\t\t\t</div>\n\n\t\t\t\t<Card style={validityBadge}>\n\t\t\t\t\t<Text style={validityText}>Valid until: {validUntil}</Text>\n\t\t\t\t</Card>\n\t\t\t</Card>\n\n\t\t\t<div style={buttonGroup}>\n\t\t\t\t<Button href={acceptUrl}>Accept Estimate</Button>\n\t\t\t\t<div style={secondaryButton}>\n\t\t\t\t\t<Button href={viewUrl} variant=\"outline\">\n\t\t\t\t\t\tView Details\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<Card style={infoCard}>\n\t\t\t\t<Heading level={3}>What happens next?</Heading>\n\t\t\t\t<ul style={list}>\n\t\t\t\t\t<li style={listItem}>\n\t\t\t\t\t\tReview the estimate and click \"Accept Estimate\" if you're ready to\n\t\t\t\t\t\tproceed\n\t\t\t\t\t</li>\n\t\t\t\t\t<li style={listItem}>\n\t\t\t\t\t\tWe'll schedule your service at a time that works for you\n\t\t\t\t\t</li>\n\t\t\t\t\t<li style={listItem}>Our team will complete the work as described</li>\n\t\t\t\t\t<li style={listItem}>\n\t\t\t\t\t\tFinal invoice may vary based on actual work performed\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</Card>\n\n\t\t\t<Card style={contactCard}>\n\t\t\t\t<Text style={contactText}>\n\t\t\t\t\tHave questions or want to discuss the estimate? We're here to help!\n\t\t\t\t</Text>\n\t\t\t\t<Text style={contactInfo}>\n\t\t\t\t\tCall us at{\" \"}\n\t\t\t\t\t<a href=\"tel:+1234567890\" style={link}>\n\t\t\t\t\t\t(123) 456-7890\n\t\t\t\t\t</a>{\" \"}\n\t\t\t\t\tor reply to this email.\n\t\t\t\t</Text>\n\t\t\t</Card>\n\t\t</BaseLayout>\n\t);\n}\n\nconst paragraph = {\n\tcolor: \"#374151\",\n\tfontSize: \"16px\",\n\tlineHeight: \"24px\",\n\tmargin: \"0 0 16px 0\",\n};\n\nconst estimateCard = {\n\tbackgroundColor: EMAIL_COLORS.surface,\n\tborder: \"2px solid hsl(217 91% 60%)\",\n\tborderRadius: \"12px\",\n\tpadding: \"32px\",\n\tmargin: \"24px 0\",\n};\n\nconst estimateHeader = {\n\ttextAlign: \"center\" as const,\n};\n\nconst estimateLabel = {\n\tcolor: \"#6b7280\",\n\tfontSize: \"14px\",\n\ttextTransform: \"uppercase\" as const,\n\tletterSpacing: \"0.05em\",\n\tmargin: \"0 0 8px 0\",\n};\n\nconst estimateNumberStyle = {\n\tcolor: \"hsl(217 91% 60%)\",\n\tfontSize: \"32px\",\n\tfontWeight: \"700\",\n\tmargin: \"0\",\n};\n\nconst itemsSection = {\n\tmargin: \"20px 0\",\n};\n\nconst itemRow = {\n\tdisplay: \"flex\" as const,\n\tjustifyContent: \"space-between\",\n\tmarginBottom: \"12px\",\n\tpaddingBottom: \"12px\",\n\tborderBottom: \"1px solid #f3f4f6\",\n};\n\nconst itemDescription = {\n\tcolor: \"#111827\",\n\tfontSize: \"15px\",\n\tmargin: \"0\",\n\tflex: \"1\",\n};\n\nconst itemAmount = {\n\tcolor: \"#111827\",\n\tfontSize: \"15px\",\n\tfontWeight: \"600\",\n\tmargin: \"0\",\n\ttextAlign: \"right\" as const,\n};\n\nconst totalRow = {\n\tdisplay: \"flex\" as const,\n\tjustifyContent: \"space-between\",\n\tmarginTop: \"20px\",\n};\n\nconst totalLabel = {\n\tcolor: \"#111827\",\n\tfontSize: \"20px\",\n\tfontWeight: \"600\",\n\tmargin: \"0\",\n};\n\nconst totalAmountStyle = {\n\tcolor: \"hsl(217 91% 60%)\",\n\tfontSize: \"28px\",\n\tfontWeight: \"700\",\n\tmargin: \"0\",\n};\n\nconst validityBadge = {\n\tbackgroundColor: \"#fffbeb\",\n\tborder: \"1px solid #fde68a\",\n\tborderRadius: \"8px\",\n\tpadding: \"12px 16px\",\n\tmargin: \"24px 0 0 0\",\n\ttextAlign: \"center\" as const,\n};\n\nconst validityText = {\n\tcolor: \"#92400e\",\n\tfontSize: \"14px\",\n\tfontWeight: \"600\",\n\tmargin: \"0\",\n};\n\nconst buttonGroup = {\n\tmargin: \"32px 0\",\n\ttextAlign: \"center\" as const,\n};\n\nconst secondaryButton = {\n\tmarginTop: \"12px\",\n};\n\nconst infoCard = {\n\tbackgroundColor: \"#f0fdf4\",\n\tborder: \"1px solid #bbf7d0\",\n\tmargin: \"24px 0\",\n};\n\nconst list = {\n\tcolor: \"#166534\",\n\tfontSize: \"14px\",\n\tlineHeight: \"22px\",\n\tmargin: \"12px 0 0 20px\",\n\tpadding: \"0\",\n};\n\nconst listItem = {\n\tmargin: \"0 0 12px 0\",\n};\n\nconst contactCard = {\n\tbackgroundColor: \"#f9fafb\",\n\tborder: \"1px solid #e5e7eb\",\n\tpadding: \"24px\",\n\tmargin: \"24px 0\",\n\ttextAlign: \"center\" as const,\n};\n\nconst contactText = {\n\tcolor: \"#374151\",\n\tfontSize: \"15px\",\n\tlineHeight: \"22px\",\n\tmargin: \"0 0 12px 0\",\n};\n\nconst contactInfo = {\n\tcolor: \"#6b7280\",\n\tfontSize: \"14px\",\n\tmargin: \"0\",\n};\n\nconst link = {\n\tcolor: \"hsl(217 91% 60%)\",\n\ttextDecoration: \"underline\",\n\tfontWeight: \"600\",\n};\n","/**\n * Invoice Sent Email Template - Invoice delivery with payment link\n *\n * Features:\n * - Invoice summary with line items\n * - Total amount and due date\n * - Payment link\n * - Download PDF option\n */\n\nimport { Text } from \"@react-email/components\";\nimport type { InvoiceSentProps } from \"../../../src/lib/email/email-types\";\nimport { Button } from \"../../components/button\";\nimport { Card } from \"../../components/card\";\nimport { Divider } from \"../../components/divider\";\nimport { Heading } from \"../../components/heading\";\nimport { BaseLayout } from \"../../layouts/base-layout\";\nimport { EMAIL_COLORS } from \"../../theme\";\n\nexport default function InvoiceSentEmail({\n\tcustomerName,\n\tinvoiceNumber,\n\ttotalAmount,\n\tdueDate,\n\titems,\n\tpaymentUrl,\n\tdownloadUrl,\n\tpreviewText = `Invoice ${invoiceNumber} - ${totalAmount}`,\n}: InvoiceSentProps) {\n\treturn (\n\t\t<BaseLayout previewText={previewText}>\n\t\t\t<Heading level={1}>Your Invoice is Ready</Heading>\n\n\t\t\t<Text style={paragraph}>Hi {customerName},</Text>\n\n\t\t\t<Text style={paragraph}>\n\t\t\t\tThank you for your business! Your invoice is now available.\n\t\t\t</Text>\n\n\t\t\t<Card style={invoiceCard}>\n\t\t\t\t<div style={invoiceHeader}>\n\t\t\t\t\t<Text style={invoiceLabel}>Invoice Number</Text>\n\t\t\t\t\t<Text style={invoiceNumberStyle}>#{invoiceNumber}</Text>\n\t\t\t\t</div>\n\n\t\t\t\t<Divider style={{ margin: \"20px 0\" }} />\n\n\t\t\t\t<div style={itemsSection}>\n\t\t\t\t\t{items.map((item) => {\n\t\t\t\t\t\tconst key = `${item.description}-${item.quantity}-${item.amount}`;\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<div key={key} style={itemRow}>\n\t\t\t\t\t\t\t\t<div style={itemDetails}>\n\t\t\t\t\t\t\t\t\t<Text style={itemDescription}>{item.description}</Text>\n\t\t\t\t\t\t\t\t\t<Text style={itemQuantity}>Qty: {item.quantity}</Text>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Text style={itemAmount}>{item.amount}</Text>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\n\t\t\t\t<Divider style={{ margin: \"20px 0\" }} />\n\n\t\t\t\t<div style={totalRow}>\n\t\t\t\t\t<Text style={totalLabel}>Total Amount:</Text>\n\t\t\t\t\t<Text style={totalAmountStyle}>{totalAmount}</Text>\n\t\t\t\t</div>\n\n\t\t\t\t<div style={dueRow}>\n\t\t\t\t\t<Text style={dueLabel}>Due Date:</Text>\n\t\t\t\t\t<Text style={dueDateStyle}>{dueDate}</Text>\n\t\t\t\t</div>\n\t\t\t</Card>\n\n\t\t\t<div style={buttonGroup}>\n\t\t\t\t<Button href={paymentUrl}>Pay Now</Button>\n\t\t\t\t<div style={secondaryButtonContainer}>\n\t\t\t\t\t<Button href={downloadUrl} variant=\"outline\">\n\t\t\t\t\t\tDownload PDF\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<Card style={paymentInfoCard}>\n\t\t\t\t<Heading level={3}>Payment Methods Accepted</Heading>\n\t\t\t\t<Text style={paymentText}>\n\t\t\t\t\tWe accept credit cards, debit cards, ACH transfers, and checks. Choose\n\t\t\t\t\tyour preferred payment method when you click \"Pay Now\" above.\n\t\t\t\t</Text>\n\t\t\t</Card>\n\n\t\t\t<Text style={footerNote}>\n\t\t\t\tQuestions about this invoice? Contact us at{\" \"}\n\t\t\t\t<a href=\"mailto:billing@thorbis.com\" style={link}>\n\t\t\t\t\tbilling@thorbis.com\n\t\t\t\t</a>\n\t\t\t</Text>\n\t\t</BaseLayout>\n\t);\n}\n\nconst paragraph = {\n\tcolor: \"#374151\",\n\tfontSize: \"16px\",\n\tlineHeight: \"24px\",\n\tmargin: \"0 0 16px 0\",\n};\n\nconst invoiceCard = {\n\tbackgroundColor: EMAIL_COLORS.surface,\n\tborder: \"2px solid hsl(217 91% 60%)\",\n\tborderRadius: \"12px\",\n\tpadding: \"32px\",\n\tmargin: \"24px 0\",\n};\n\nconst invoiceHeader = {\n\ttextAlign: \"center\" as const,\n\tmarginBottom: \"20px\",\n};\n\nconst invoiceLabel = {\n\tcolor: \"#6b7280\",\n\tfontSize: \"14px\",\n\ttextTransform: \"uppercase\" as const,\n\tletterSpacing: \"0.05em\",\n\tmargin: \"0 0 8px 0\",\n};\n\nconst invoiceNumberStyle = {\n\tcolor: \"hsl(217 91% 60%)\",\n\tfontSize: \"32px\",\n\tfontWeight: \"700\",\n\tmargin: \"0\",\n};\n\nconst itemsSection = {\n\tmargin: \"20px 0\",\n};\n\nconst itemRow = {\n\tdisplay: \"flex\" as const,\n\tjustifyContent: \"space-between\",\n\talignItems: \"flex-start\",\n\tmarginBottom: \"16px\",\n};\n\nconst itemDetails = {\n\tflex: \"1\",\n};\n\nconst itemDescription = {\n\tcolor: \"#111827\",\n\tfontSize: \"15px\",\n\tfontWeight: \"500\",\n\tmargin: \"0 0 4px 0\",\n};\n\nconst itemQuantity = {\n\tcolor: \"#6b7280\",\n\tfontSize: \"13px\",\n\tmargin: \"0\",\n};\n\nconst itemAmount = {\n\tcolor: \"#111827\",\n\tfontSize: \"15px\",\n\tfontWeight: \"600\",\n\tmargin: \"0\",\n\ttextAlign: \"right\" as const,\n};\n\nconst totalRow = {\n\tdisplay: \"flex\" as const,\n\tjustifyContent: \"space-between\",\n\tmarginTop: \"20px\",\n};\n\nconst totalLabel = {\n\tcolor: \"#111827\",\n\tfontSize: \"20px\",\n\tfontWeight: \"600\",\n\tmargin: \"0\",\n};\n\nconst totalAmountStyle = {\n\tcolor: \"hsl(217 91% 60%)\",\n\tfontSize: \"28px\",\n\tfontWeight: \"700\",\n\tmargin: \"0\",\n};\n\nconst dueRow = {\n\tdisplay: \"flex\" as const,\n\tjustifyContent: \"space-between\",\n\tmarginTop: \"12px\",\n};\n\nconst dueLabel = {\n\tcolor: \"#6b7280\",\n\tfontSize: \"14px\",\n\tmargin: \"0\",\n};\n\nconst dueDateStyle = {\n\tcolor: \"#111827\",\n\tfontSize: \"14px\",\n\tfontWeight: \"600\",\n\tmargin: \"0\",\n};\n\nconst buttonGroup = {\n\tmargin: \"32px 0\",\n\ttextAlign: \"center\" as const,\n};\n\nconst secondaryButtonContainer = {\n\tmarginTop: \"12px\",\n};\n\nconst paymentInfoCard = {\n\tbackgroundColor: \"#f9fafb\",\n\tborder: \"1px solid #e5e7eb\",\n\tmargin: \"24px 0\",\n};\n\nconst paymentText = {\n\tcolor: \"#6b7280\",\n\tfontSize: \"14px\",\n\tlineHeight: \"20px\",\n\tmargin: \"12px 0 0 0\",\n};\n\nconst footerNote = {\n\tcolor: \"#6b7280\",\n\tfontSize: \"14px\",\n\tlineHeight: \"20px\",\n\tmargin: \"32px 0 0 0\",\n\ttextAlign: \"center\" as const,\n};\n\nconst link = {\n\tcolor: \"hsl(217 91% 60%)\",\n\ttextDecoration: \"underline\",\n};\n","/**\n * Company-Branded Email Layout\n *\n * For tenant/company-specific emails like:\n * - Invoices\n * - Estimates\n * - Job notifications\n * - Appointment confirmations\n * - Payment receipts\n *\n * Uses the company's branding instead of Thorbis branding:\n * - Company name\n * - Company logo (if available)\n * - Company colors (if configured)\n * - Company contact information\n */\n\nimport {\n\tBody,\n\tContainer,\n\tHead,\n\tHr,\n\tHtml,\n\tImg,\n\tLink,\n\tPreview,\n\tSection,\n\tText,\n} from \"@react-email/components\";\nimport type { ReactNode } from \"react\";\nimport { EMAIL_COLORS } from \"../theme\";\n\nexport interface CompanyBranding {\n\tcompanyName: string;\n\tlogoUrl?: string;\n\tprimaryColor?: string; // Hex or HSL color\n\tsupportEmail?: string;\n\tsupportPhone?: string;\n\twebsiteUrl?: string;\n\taddress?: string;\n}\n\ntype CompanyLayoutProps = {\n\tchildren: ReactNode;\n\tcompany: CompanyBranding;\n\tpreviewText?: string;\n\tshowPoweredBy?: boolean; // Show \"Powered by Thorbis\" in footer\n};\n\nexport function CompanyLayout({\n\tchildren,\n\tcompany,\n\tpreviewText,\n\tshowPoweredBy = true,\n}: CompanyLayoutProps) {\n\tconst primaryColor = company.primaryColor || EMAIL_COLORS.primary;\n\n\treturn (\n\t\t<Html>\n\t\t\t<Head>\n\t\t\t\t<style>{`\n          @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');\n        `}</style>\n\t\t\t</Head>\n\t\t\t{previewText && <Preview>{previewText}</Preview>}\n\t\t\t<Body style={main}>\n\t\t\t\t<Container style={container}>\n\t\t\t\t\t{/* Header with company logo/name */}\n\t\t\t\t\t<Section style={{ ...header, backgroundColor: primaryColor }}>\n\t\t\t\t\t\t{company.logoUrl ? (\n\t\t\t\t\t\t\t<Img\n\t\t\t\t\t\t\t\tsrc={company.logoUrl}\n\t\t\t\t\t\t\t\talt={company.companyName}\n\t\t\t\t\t\t\t\twidth=\"180\"\n\t\t\t\t\t\t\t\theight=\"60\"\n\t\t\t\t\t\t\t\tstyle={logoImg}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Text style={logo}>{company.companyName}</Text>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Section>\n\n\t\t\t\t\t{/* Main content */}\n\t\t\t\t\t<Section style={content}>{children}</Section>\n\n\t\t\t\t\t{/* Divider */}\n\t\t\t\t\t<Hr style={divider} />\n\n\t\t\t\t\t{/* Footer */}\n\t\t\t\t\t<Section style={footer}>\n\t\t\t\t\t\t{/* Company Contact Info */}\n\t\t\t\t\t\t<Text style={footerText}>\n\t\t\t\t\t\t\t<strong>{company.companyName}</strong>\n\t\t\t\t\t\t</Text>\n\n\t\t\t\t\t\t{company.address && (\n\t\t\t\t\t\t\t<Text style={footerText}>{company.address}</Text>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{(company.supportEmail || company.supportPhone) && (\n\t\t\t\t\t\t\t<Text style={footerText}>\n\t\t\t\t\t\t\t\t{company.supportEmail && (\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\t\thref={`mailto:${company.supportEmail}`}\n\t\t\t\t\t\t\t\t\t\t\tstyle={footerLink}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{company.supportEmail}\n\t\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{company.supportEmail && company.supportPhone && \" ‚Ä¢ \"}\n\t\t\t\t\t\t\t\t{company.supportPhone && (\n\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\thref={`tel:${company.supportPhone.replace(/\\s/g, \"\")}`}\n\t\t\t\t\t\t\t\t\t\tstyle={footerLink}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{company.supportPhone}\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{company.websiteUrl && (\n\t\t\t\t\t\t\t<Text style={footerText}>\n\t\t\t\t\t\t\t\t<Link href={company.websiteUrl} style={footerLink}>\n\t\t\t\t\t\t\t\t\tVisit our website\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{/* Powered by Thorbis */}\n\t\t\t\t\t\t{showPoweredBy && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Hr style={{ ...divider, margin: \"24px 0\" }} />\n\t\t\t\t\t\t\t\t<Text style={poweredByText}>\n\t\t\t\t\t\t\t\t\tPowered by{\" \"}\n\t\t\t\t\t\t\t\t\t<Link href=\"https://thorbis.com\" style={footerLink}>\n\t\t\t\t\t\t\t\t\t\tThorbis\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t<Text style={footerCopyright}>\n\t\t\t\t\t\t\t¬© {new Date().getFullYear()} {company.companyName}. All rights\n\t\t\t\t\t\t\treserved.\n\t\t\t\t\t\t</Text>\n\t\t\t\t\t</Section>\n\t\t\t\t</Container>\n\t\t\t</Body>\n\t\t</Html>\n\t);\n}\n\n// Styles matching dashboard design system\nconst main = {\n\tbackgroundColor: EMAIL_COLORS.background,\n\tfontFamily:\n\t\t'Inter, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif',\n\tpadding: \"40px 20px\",\n};\n\nconst container = {\n\tbackgroundColor: EMAIL_COLORS.surface,\n\tmaxWidth: \"600px\",\n\tmargin: \"0 auto\",\n\tborderRadius: \"12px\",\n\toverflow: \"hidden\" as const,\n\tboxShadow: \"0 2px 8px rgba(17, 24, 39, 0.08)\",\n};\n\nconst header = {\n\tpadding: \"32px 40px\",\n\ttextAlign: \"center\" as const,\n};\n\nconst logo = {\n\tcolor: EMAIL_COLORS.primaryText,\n\tfontSize: \"28px\",\n\tfontWeight: \"700\",\n\tmargin: \"0\",\n\tletterSpacing: \"-0.02em\",\n};\n\nconst logoImg = {\n\tmargin: \"0 auto\",\n\tdisplay: \"block\",\n\tmaxWidth: \"100%\",\n\theight: \"auto\",\n};\n\nconst content = {\n\tpadding: \"40px\",\n};\n\nconst divider = {\n\tborderColor: EMAIL_COLORS.border,\n\tmargin: \"0\",\n};\n\nconst footer = {\n\tpadding: \"32px 40px\",\n\ttextAlign: \"center\" as const,\n\tbackgroundColor: EMAIL_COLORS.surfaceStrong,\n};\n\nconst footerText = {\n\tcolor: EMAIL_COLORS.muted,\n\tfontSize: \"14px\",\n\tlineHeight: \"24px\",\n\tmargin: \"8px 0\",\n};\n\nconst footerLink = {\n\tcolor: EMAIL_COLORS.primary,\n\ttextDecoration: \"none\",\n};\n\nconst poweredByText = {\n\tcolor: EMAIL_COLORS.muted,\n\tfontSize: \"12px\",\n\tlineHeight: \"20px\",\n\tmargin: \"16px 0 0 0\",\n\tfontStyle: \"italic\",\n};\n\nconst footerCopyright = {\n\tcolor: EMAIL_COLORS.muted,\n\tfontSize: \"12px\",\n\tmargin: \"16px 0 0 0\",\n};\n","/**\n * Payment Received Email Template - Payment confirmation receipt\n *\n * Features:\n * - Payment confirmation\n * - Payment details\n * - Receipt download\n * - Thank you message\n */\n\nimport { Text } from \"@react-email/components\";\nimport type { PaymentReceivedProps } from \"../../../src/lib/email/email-types\";\nimport { Button } from \"../../components/button\";\nimport { Card } from \"../../components/card\";\nimport { Heading } from \"../../components/heading\";\nimport { CompanyLayout } from \"../../layouts/company-layout\";\nimport { EMAIL_COLORS } from \"../../theme\";\n\nexport default function PaymentReceivedEmail({\n\tcustomerName,\n\tinvoiceNumber,\n\tpaymentAmount,\n\tpaymentMethod,\n\tpaymentDate,\n\treceiptUrl,\n\tcompany,\n\tpreviewText = `Payment received - ${paymentAmount}`,\n}: PaymentReceivedProps) {\n\tif (!company) {\n\t\tthrow new Error(\"Company branding is required\");\n\t}\n\treturn (\n\t\t<CompanyLayout company={company} previewText={previewText}>\n\t\t\t<Heading level={1}>Payment Received - Thank You!</Heading>\n\n\t\t\t<Text style={paragraph}>Hi {customerName},</Text>\n\n\t\t\t<Text style={paragraph}>\n\t\t\t\tThis confirms that we've received your payment. Thank you for your\n\t\t\t\tprompt payment!\n\t\t\t</Text>\n\n\t\t\t<Card style={confirmationCard}>\n\t\t\t\t<div style={successIcon}>‚úì</div>\n\t\t\t\t<Text style={successText}>Payment Confirmed</Text>\n\n\t\t\t\t<div style={detailsGrid}>\n\t\t\t\t\t<div style={detailRow}>\n\t\t\t\t\t\t<Text style={detailLabel}>Invoice:</Text>\n\t\t\t\t\t\t<Text style={detailValue}>#{invoiceNumber}</Text>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style={detailRow}>\n\t\t\t\t\t\t<Text style={detailLabel}>Amount:</Text>\n\t\t\t\t\t\t<Text style={detailValue}>{paymentAmount}</Text>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style={detailRow}>\n\t\t\t\t\t\t<Text style={detailLabel}>Payment Method:</Text>\n\t\t\t\t\t\t<Text style={detailValue}>{paymentMethod}</Text>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style={detailRow}>\n\t\t\t\t\t\t<Text style={detailLabel}>Date:</Text>\n\t\t\t\t\t\t<Text style={detailValue}>{paymentDate}</Text>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Card>\n\n\t\t\t<div style={buttonContainer}>\n\t\t\t\t<Button href={receiptUrl}>Download Receipt</Button>\n\t\t\t</div>\n\n\t\t\t<Card style={thankYouCard}>\n\t\t\t\t<Text style={thankYouIcon}>üôè</Text>\n\t\t\t\t<Heading level={3}>We appreciate your business!</Heading>\n\t\t\t\t<Text style={thankYouText}>\n\t\t\t\t\tYour trust in our services means everything to us. We look forward to\n\t\t\t\t\tserving you again in the future.\n\t\t\t\t</Text>\n\t\t\t</Card>\n\n\t\t\t<Text style={footerNote}>\n\t\t\t\tNeed help? Contact us at{\" \"}\n\t\t\t\t<a\n\t\t\t\t\thref={`mailto:${company.supportEmail || company.websiteUrl}`}\n\t\t\t\t\tstyle={link}\n\t\t\t\t>\n\t\t\t\t\t{company.supportEmail || \"our support team\"}\n\t\t\t\t</a>\n\t\t\t</Text>\n\t\t</CompanyLayout>\n\t);\n}\n\nconst paragraph = {\n\tcolor: \"#374151\",\n\tfontSize: \"16px\",\n\tlineHeight: \"24px\",\n\tmargin: \"0 0 16px 0\",\n};\n\nconst confirmationCard = {\n\tbackground: \"linear-gradient(135deg, #10b981 0%, #059669 100%)\",\n\tborderRadius: \"12px\",\n\tpadding: \"40px\",\n\tmargin: \"24px 0\",\n\ttextAlign: \"center\" as const,\n};\n\nconst successIcon = {\n\tfontSize: \"64px\",\n\tcolor: EMAIL_COLORS.primaryText,\n\tbackgroundColor: \"rgba(245, 248, 254, 0.2)\",\n\twidth: \"96px\",\n\theight: \"96px\",\n\tborderRadius: \"50%\",\n\tdisplay: \"inline-flex\",\n\talignItems: \"center\",\n\tjustifyContent: \"center\",\n\tmargin: \"0 auto 24px\",\n\tfontWeight: \"700\",\n};\n\nconst successText = {\n\tcolor: EMAIL_COLORS.primaryText,\n\tfontSize: \"24px\",\n\tfontWeight: \"700\",\n\tmargin: \"0 0 32px 0\",\n};\n\nconst detailsGrid = {\n\tbackgroundColor: \"rgba(245, 248, 254, 0.95)\",\n\tborderRadius: \"8px\",\n\tpadding: \"24px\",\n\tmargin: \"0\",\n};\n\nconst detailRow = {\n\tdisplay: \"flex\" as const,\n\tjustifyContent: \"space-between\",\n\tpadding: \"12px 0\",\n\tborderBottom: \"1px solid #e5e7eb\",\n};\n\nconst detailLabel = {\n\tcolor: \"#6b7280\",\n\tfontSize: \"14px\",\n\tfontWeight: \"500\",\n\tmargin: \"0\",\n};\n\nconst detailValue = {\n\tcolor: \"#111827\",\n\tfontSize: \"14px\",\n\tfontWeight: \"600\",\n\tmargin: \"0\",\n\ttextAlign: \"right\" as const,\n};\n\nconst buttonContainer = {\n\tmargin: \"32px 0\",\n\ttextAlign: \"center\" as const,\n};\n\nconst thankYouCard = {\n\tbackgroundColor: \"#fffbeb\",\n\tborder: \"1px solid #fde68a\",\n\tpadding: \"32px\",\n\tmargin: \"32px 0\",\n\ttextAlign: \"center\" as const,\n};\n\nconst thankYouIcon = {\n\tfontSize: \"48px\",\n\tmargin: \"0 0 16px 0\",\n};\n\nconst thankYouText = {\n\tcolor: \"#92400e\",\n\tfontSize: \"15px\",\n\tlineHeight: \"22px\",\n\tmargin: \"16px 0 0 0\",\n};\n\nconst footerNote = {\n\tcolor: \"#6b7280\",\n\tfontSize: \"14px\",\n\tlineHeight: \"20px\",\n\tmargin: \"32px 0 0 0\",\n\ttextAlign: \"center\" as const,\n};\n\nconst link = {\n\tcolor: \"hsl(217 91% 60%)\",\n\ttextDecoration: \"underline\",\n};\n","/**\n * Payment Reminder Email Template - Overdue payment notification\n *\n * Features:\n * - Friendly but firm reminder\n * - Invoice details\n * - Days overdue\n * - Easy payment link\n */\n\nimport { Text } from \"@react-email/components\";\nimport type { PaymentReminderProps } from \"../../../src/lib/email/email-types\";\nimport { Button } from \"../../components/button\";\nimport { Card } from \"../../components/card\";\nimport { Heading } from \"../../components/heading\";\nimport { BaseLayout } from \"../../layouts/base-layout\";\nimport { EMAIL_COLORS } from \"../../theme\";\n\nexport default function PaymentReminderEmail({\n\tcustomerName,\n\tinvoiceNumber,\n\ttotalAmount,\n\tdueDate,\n\tdaysOverdue,\n\tpaymentUrl,\n\tpreviewText = `Payment reminder: Invoice ${invoiceNumber}`,\n}: PaymentReminderProps) {\n\treturn (\n\t\t<BaseLayout previewText={previewText}>\n\t\t\t<Heading level={1}>Payment Reminder</Heading>\n\n\t\t\t<Text style={paragraph}>Hi {customerName},</Text>\n\n\t\t\t<Text style={paragraph}>\n\t\t\t\tWe wanted to remind you that payment for the following invoice is now\n\t\t\t\toverdue. We understand that sometimes invoices can slip through the\n\t\t\t\tcracks, so we're sending this friendly reminder.\n\t\t\t</Text>\n\n\t\t\t<Card style={reminderCard}>\n\t\t\t\t<div style={overdueHeader}>\n\t\t\t\t\t<Text style={overdueLabel}>Payment Overdue</Text>\n\t\t\t\t\t<Text style={overdueDays}>{daysOverdue} days</Text>\n\t\t\t\t</div>\n\n\t\t\t\t<div style={invoiceDetails}>\n\t\t\t\t\t<div style={detailRow}>\n\t\t\t\t\t\t<Text style={detailLabel}>Invoice Number:</Text>\n\t\t\t\t\t\t<Text style={detailValue}>#{invoiceNumber}</Text>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style={detailRow}>\n\t\t\t\t\t\t<Text style={detailLabel}>Original Due Date:</Text>\n\t\t\t\t\t\t<Text style={detailValue}>{dueDate}</Text>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style={detailRow}>\n\t\t\t\t\t\t<Text style={detailLabel}>Amount Due:</Text>\n\t\t\t\t\t\t<Text style={amountDue}>{totalAmount}</Text>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Card>\n\n\t\t\t<div style={buttonContainer}>\n\t\t\t\t<Button href={paymentUrl}>Pay Now</Button>\n\t\t\t</div>\n\n\t\t\t<Card style={helpCard}>\n\t\t\t\t<Heading level={3}>Need help?</Heading>\n\t\t\t\t<Text style={helpText}>\n\t\t\t\t\tIf you're experiencing financial difficulties or have questions about\n\t\t\t\t\tthis invoice, please don't hesitate to reach out. We're here to work\n\t\t\t\t\twith you.\n\t\t\t\t</Text>\n\t\t\t\t<ul style={contactList}>\n\t\t\t\t\t<li style={contactItem}>\n\t\t\t\t\t\tEmail:{\" \"}\n\t\t\t\t\t\t<a href=\"mailto:billing@thorbis.com\" style={link}>\n\t\t\t\t\t\t\tbilling@thorbis.com\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li style={contactItem}>\n\t\t\t\t\t\tPhone:{\" \"}\n\t\t\t\t\t\t<a href=\"tel:+1234567890\" style={link}>\n\t\t\t\t\t\t\t(123) 456-7890\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</Card>\n\n\t\t\t<Text style={footerNote}>\n\t\t\t\tIf you've already sent payment, please disregard this reminder and\n\t\t\t\taccept our thanks!\n\t\t\t</Text>\n\t\t</BaseLayout>\n\t);\n}\n\nconst paragraph = {\n\tcolor: \"#374151\",\n\tfontSize: \"16px\",\n\tlineHeight: \"24px\",\n\tmargin: \"0 0 16px 0\",\n};\n\nconst reminderCard = {\n\tbackgroundColor: \"#fef2f2\",\n\tborder: \"2px solid #fca5a5\",\n\tborderRadius: \"12px\",\n\tpadding: \"32px\",\n\tmargin: \"24px 0\",\n};\n\nconst overdueHeader = {\n\ttextAlign: \"center\" as const,\n\tmarginBottom: \"24px\",\n\tpaddingBottom: \"20px\",\n\tborderBottom: \"1px solid #fca5a5\",\n};\n\nconst overdueLabel = {\n\tcolor: \"#991b1b\",\n\tfontSize: \"14px\",\n\ttextTransform: \"uppercase\" as const,\n\tletterSpacing: \"0.05em\",\n\tmargin: \"0 0 8px 0\",\n};\n\nconst overdueDays = {\n\tcolor: \"#dc2626\",\n\tfontSize: \"32px\",\n\tfontWeight: \"700\",\n\tmargin: \"0\",\n};\n\nconst invoiceDetails = {\n\tbackgroundColor: EMAIL_COLORS.surface,\n\tborderRadius: \"8px\",\n\tpadding: \"20px\",\n};\n\nconst detailRow = {\n\tdisplay: \"flex\" as const,\n\tjustifyContent: \"space-between\",\n\tpadding: \"10px 0\",\n\tborderBottom: \"1px solid #f3f4f6\",\n};\n\nconst detailLabel = {\n\tcolor: \"#6b7280\",\n\tfontSize: \"14px\",\n\tmargin: \"0\",\n};\n\nconst detailValue = {\n\tcolor: \"#111827\",\n\tfontSize: \"14px\",\n\tfontWeight: \"600\",\n\tmargin: \"0\",\n\ttextAlign: \"right\" as const,\n};\n\nconst amountDue = {\n\tcolor: \"#dc2626\",\n\tfontSize: \"18px\",\n\tfontWeight: \"700\",\n\tmargin: \"0\",\n\ttextAlign: \"right\" as const,\n};\n\nconst buttonContainer = {\n\tmargin: \"32px 0\",\n\ttextAlign: \"center\" as const,\n};\n\nconst helpCard = {\n\tbackgroundColor: \"#eff6ff\",\n\tborder: \"1px solid #bfdbfe\",\n\tmargin: \"32px 0\",\n};\n\nconst helpText = {\n\tcolor: \"#1e40af\",\n\tfontSize: \"14px\",\n\tlineHeight: \"20px\",\n\tmargin: \"12px 0 16px 0\",\n};\n\nconst contactList = {\n\tcolor: \"#1e40af\",\n\tfontSize: \"14px\",\n\tlineHeight: \"24px\",\n\tmargin: \"0 0 0 20px\",\n\tpadding: \"0\",\n};\n\nconst contactItem = {\n\tmargin: \"8px 0\",\n};\n\nconst link = {\n\tcolor: \"#1e40af\",\n\ttextDecoration: \"underline\",\n\tfontWeight: \"600\",\n};\n\nconst footerNote = {\n\tcolor: \"#6b7280\",\n\tfontSize: \"14px\",\n\tlineHeight: \"20px\",\n\tmargin: \"32px 0 0 0\",\n\ttextAlign: \"center\" as const,\n\tfontStyle: \"italic\" as const,\n};\n","/**\n * Review Request Email Template - Request customer feedback\n *\n * Features:\n * - Friendly review request\n * - Job details\n * - Direct link to review platform\n * - Social proof elements\n */\n\nimport { Text } from \"@react-email/components\";\nimport type { ReviewRequestProps } from \"../../../src/lib/email/email-types\";\nimport { Button } from \"../../components/button\";\nimport { Card } from \"../../components/card\";\nimport { Heading } from \"../../components/heading\";\nimport { BaseLayout } from \"../../layouts/base-layout\";\nimport { EMAIL_COLORS } from \"../../theme\";\n\nexport default function ReviewRequestEmail({\n\tcustomerName,\n\tjobNumber,\n\ttechnicianName,\n\tcompletedDate,\n\treviewUrl,\n\tpreviewText = \"How did we do? Share your feedback\",\n}: ReviewRequestProps) {\n\treturn (\n\t\t<BaseLayout previewText={previewText}>\n\t\t\t<Heading level={1}>How was your experience?</Heading>\n\n\t\t\t<Text style={paragraph}>Hi {customerName},</Text>\n\n\t\t\t<Text style={paragraph}>\n\t\t\t\tWe hope you're enjoying your recently completed service! Your feedback\n\t\t\t\tis incredibly valuable to us and helps other customers make informed\n\t\t\t\tdecisions.\n\t\t\t</Text>\n\n\t\t\t<Card style={serviceCard}>\n\t\t\t\t<Text style={serviceLabel}>Completed Service</Text>\n\t\t\t\t<div style={serviceDetails}>\n\t\t\t\t\t<div style={detailRow}>\n\t\t\t\t\t\t<Text style={detailLabel}>Job Number:</Text>\n\t\t\t\t\t\t<Text style={detailValue}>#{jobNumber}</Text>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style={detailRow}>\n\t\t\t\t\t\t<Text style={detailLabel}>Technician:</Text>\n\t\t\t\t\t\t<Text style={detailValue}>{technicianName}</Text>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style={detailRow}>\n\t\t\t\t\t\t<Text style={detailLabel}>Completed:</Text>\n\t\t\t\t\t\t<Text style={detailValue}>{completedDate}</Text>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Card>\n\n\t\t\t<Card style={reviewCard}>\n\t\t\t\t<div style={starsContainer}>\n\t\t\t\t\t<Text style={starsText}>‚≠ê ‚≠ê ‚≠ê ‚≠ê ‚≠ê</Text>\n\t\t\t\t</div>\n\t\t\t\t<Text style={reviewPrompt}>\n\t\t\t\t\tDid {technicianName} provide excellent service?\n\t\t\t\t</Text>\n\t\t\t\t<Text style={reviewSubtext}>\n\t\t\t\t\tIt only takes a minute to share your experience\n\t\t\t\t</Text>\n\t\t\t</Card>\n\n\t\t\t<div style={buttonContainer}>\n\t\t\t\t<Button href={reviewUrl}>Leave a Review</Button>\n\t\t\t</div>\n\n\t\t\t<Card style={impactCard}>\n\t\t\t\t<Heading level={3}>Your review helps us:</Heading>\n\t\t\t\t<ul style={list}>\n\t\t\t\t\t<li style={listItem}>Recognize and reward our best technicians</li>\n\t\t\t\t\t<li style={listItem}>Improve our services based on your feedback</li>\n\t\t\t\t\t<li style={listItem}>\n\t\t\t\t\t\tHelp neighbors find reliable service providers\n\t\t\t\t\t</li>\n\t\t\t\t\t<li style={listItem}>Grow our small business in the community</li>\n\t\t\t\t</ul>\n\t\t\t</Card>\n\n\t\t\t<Text style={thankYouText}>\n\t\t\t\tThank you for choosing Thorbis and for taking the time to share your\n\t\t\t\texperience!\n\t\t\t</Text>\n\t\t</BaseLayout>\n\t);\n}\n\nconst paragraph = {\n\tcolor: \"#374151\",\n\tfontSize: \"16px\",\n\tlineHeight: \"24px\",\n\tmargin: \"0 0 16px 0\",\n};\n\nconst serviceCard = {\n\tbackgroundColor: \"#f9fafb\",\n\tborder: \"1px solid #e5e7eb\",\n\tborderRadius: \"8px\",\n\tpadding: \"24px\",\n\tmargin: \"24px 0\",\n};\n\nconst serviceLabel = {\n\tcolor: \"#6b7280\",\n\tfontSize: \"12px\",\n\ttextTransform: \"uppercase\" as const,\n\tletterSpacing: \"0.05em\",\n\tmargin: \"0 0 16px 0\",\n};\n\nconst serviceDetails = {\n\tmargin: \"0\",\n};\n\nconst detailRow = {\n\tdisplay: \"flex\" as const,\n\tjustifyContent: \"space-between\",\n\tpadding: \"8px 0\",\n\tborderBottom: \"1px solid #f3f4f6\",\n};\n\nconst detailLabel = {\n\tcolor: \"#6b7280\",\n\tfontSize: \"14px\",\n\tmargin: \"0\",\n};\n\nconst detailValue = {\n\tcolor: \"#111827\",\n\tfontSize: \"14px\",\n\tfontWeight: \"600\",\n\tmargin: \"0\",\n};\n\nconst reviewCard = {\n\tbackground:\n\t\t\"linear-gradient(135deg, hsl(217 91% 60%) 0%, hsl(217 91% 50%) 100%)\",\n\tborderRadius: \"12px\",\n\tpadding: \"40px\",\n\tmargin: \"24px 0\",\n\ttextAlign: \"center\" as const,\n};\n\nconst starsContainer = {\n\tmarginBottom: \"20px\",\n};\n\nconst starsText = {\n\tfontSize: \"48px\",\n\tmargin: \"0\",\n\tlineHeight: \"1\",\n};\n\nconst reviewPrompt = {\n\tcolor: EMAIL_COLORS.primaryText,\n\tfontSize: \"22px\",\n\tfontWeight: \"600\",\n\tmargin: \"0 0 12px 0\",\n};\n\nconst reviewSubtext = {\n\tcolor: EMAIL_COLORS.primaryText,\n\tfontSize: \"16px\",\n\tmargin: \"0\",\n\topacity: 0.9,\n};\n\nconst buttonContainer = {\n\tmargin: \"32px 0\",\n\ttextAlign: \"center\" as const,\n};\n\nconst impactCard = {\n\tbackgroundColor: \"#eff6ff\",\n\tborder: \"1px solid #bfdbfe\",\n\tmargin: \"32px 0\",\n};\n\nconst list = {\n\tcolor: \"#1e40af\",\n\tfontSize: \"14px\",\n\tlineHeight: \"22px\",\n\tmargin: \"12px 0 0 20px\",\n\tpadding: \"0\",\n};\n\nconst listItem = {\n\tmargin: \"0 0 10px 0\",\n};\n\nconst thankYouText = {\n\tcolor: \"#6b7280\",\n\tfontSize: \"15px\",\n\tlineHeight: \"22px\",\n\tmargin: \"32px 0 0 0\",\n\ttextAlign: \"center\" as const,\n\tfontStyle: \"italic\" as const,\n};\n","/**\n * Service Reminder Email Template - Maintenance reminder\n *\n * Features:\n * - Proactive service reminder\n * - Last service information\n * - Easy scheduling\n * - Value proposition\n */\n\nimport { Text } from \"@react-email/components\";\nimport type { ServiceReminderProps } from \"../../../src/lib/email/email-types\";\nimport { Button } from \"../../components/button\";\nimport { Card } from \"../../components/card\";\nimport { Heading } from \"../../components/heading\";\nimport { BaseLayout } from \"../../layouts/base-layout\";\n\nexport default function ServiceReminderEmail({\n\tcustomerName,\n\tserviceName,\n\tlastServiceDate,\n\tscheduleUrl,\n\tpreviewText = `Time for your ${serviceName} service`,\n}: ServiceReminderProps) {\n\treturn (\n\t\t<BaseLayout previewText={previewText}>\n\t\t\t<Heading level={1}>It's Time for Service</Heading>\n\n\t\t\t<Text style={paragraph}>Hi {customerName},</Text>\n\n\t\t\t<Text style={paragraph}>\n\t\t\t\tWe wanted to remind you that it's time for your scheduled {serviceName}{\" \"}\n\t\t\t\tservice. Regular maintenance helps prevent costly repairs and keeps\n\t\t\t\teverything running smoothly.\n\t\t\t</Text>\n\n\t\t\t<Card style={reminderCard}>\n\t\t\t\t<div style={calendarIcon}>üìÖ</div>\n\t\t\t\t<Text style={reminderTitle}>{serviceName}</Text>\n\t\t\t\t<Text style={lastServiceText}>Last service: {lastServiceDate}</Text>\n\t\t\t</Card>\n\n\t\t\t<div style={buttonContainer}>\n\t\t\t\t<Button href={scheduleUrl}>Schedule Service</Button>\n\t\t\t</div>\n\n\t\t\t<Card style={benefitsCard}>\n\t\t\t\t<Heading level={3}>Why regular maintenance matters:</Heading>\n\t\t\t\t<ul style={list}>\n\t\t\t\t\t<li style={listItem}>\n\t\t\t\t\t\t<strong>Prevent breakdowns:</strong> Catch small issues before they\n\t\t\t\t\t\tbecome big problems\n\t\t\t\t\t</li>\n\t\t\t\t\t<li style={listItem}>\n\t\t\t\t\t\t<strong>Save money:</strong> Regular maintenance is cheaper than\n\t\t\t\t\t\temergency repairs\n\t\t\t\t\t</li>\n\t\t\t\t\t<li style={listItem}>\n\t\t\t\t\t\t<strong>Extend lifespan:</strong> Keep your equipment running longer\n\t\t\t\t\t</li>\n\t\t\t\t\t<li style={listItem}>\n\t\t\t\t\t\t<strong>Maintain warranty:</strong> Some warranties require regular\n\t\t\t\t\t\tservice\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</Card>\n\n\t\t\t<Card style={specialOfferCard}>\n\t\t\t\t<Text style={offerIcon}>üéÅ</Text>\n\t\t\t\t<Heading level={3}>Valued Customer Benefit</Heading>\n\t\t\t\t<Text style={offerText}>\n\t\t\t\t\tAs a returning customer, you'll receive priority scheduling and our\n\t\t\t\t\tbest service rate.\n\t\t\t\t</Text>\n\t\t\t</Card>\n\n\t\t\t<Text style={footerNote}>\n\t\t\t\tQuestions about this service reminder? Call us at{\" \"}\n\t\t\t\t<a href=\"tel:+1234567890\" style={link}>\n\t\t\t\t\t(123) 456-7890\n\t\t\t\t</a>\n\t\t\t</Text>\n\t\t</BaseLayout>\n\t);\n}\n\nconst paragraph = {\n\tcolor: \"#374151\",\n\tfontSize: \"16px\",\n\tlineHeight: \"24px\",\n\tmargin: \"0 0 16px 0\",\n};\n\nconst reminderCard = {\n\tbackgroundColor: \"#f9fafb\",\n\tborder: \"2px solid hsl(217 91% 60%)\",\n\tborderRadius: \"12px\",\n\tpadding: \"32px\",\n\tmargin: \"24px 0\",\n\ttextAlign: \"center\" as const,\n};\n\nconst calendarIcon = {\n\tfontSize: \"64px\",\n\tmargin: \"0 0 16px 0\",\n};\n\nconst reminderTitle = {\n\tcolor: \"hsl(217 91% 60%)\",\n\tfontSize: \"24px\",\n\tfontWeight: \"700\",\n\tmargin: \"0 0 8px 0\",\n};\n\nconst lastServiceText = {\n\tcolor: \"#6b7280\",\n\tfontSize: \"14px\",\n\tmargin: \"0\",\n};\n\nconst buttonContainer = {\n\tmargin: \"32px 0\",\n\ttextAlign: \"center\" as const,\n};\n\nconst benefitsCard = {\n\tbackgroundColor: \"#f0fdf4\",\n\tborder: \"1px solid #bbf7d0\",\n\tmargin: \"24px 0\",\n};\n\nconst list = {\n\tcolor: \"#166534\",\n\tfontSize: \"14px\",\n\tlineHeight: \"22px\",\n\tmargin: \"12px 0 0 20px\",\n\tpadding: \"0\",\n};\n\nconst listItem = {\n\tmargin: \"0 0 12px 0\",\n};\n\nconst specialOfferCard = {\n\tbackgroundColor: \"#fffbeb\",\n\tborder: \"1px solid #fde68a\",\n\tborderRadius: \"8px\",\n\tpadding: \"24px\",\n\tmargin: \"24px 0\",\n\ttextAlign: \"center\" as const,\n};\n\nconst offerIcon = {\n\tfontSize: \"48px\",\n\tmargin: \"0 0 12px 0\",\n};\n\nconst offerText = {\n\tcolor: \"#92400e\",\n\tfontSize: \"15px\",\n\tlineHeight: \"22px\",\n\tmargin: \"12px 0 0 0\",\n};\n\nconst footerNote = {\n\tcolor: \"#6b7280\",\n\tfontSize: \"14px\",\n\tlineHeight: \"20px\",\n\tmargin: \"32px 0 0 0\",\n\ttextAlign: \"center\" as const,\n};\n\nconst link = {\n\tcolor: \"hsl(217 91% 60%)\",\n\ttextDecoration: \"underline\",\n};\n","/**\n * Welcome Customer Email Template - New customer onboarding\n *\n * Features:\n * - Warm welcome message\n * - Account access information\n * - Getting started guide\n * - Support contact info\n */\n\nimport { Text } from \"@react-email/components\";\nimport type { WelcomeCustomerProps } from \"../../../src/lib/email/email-types\";\nimport { Button } from \"../../components/button\";\nimport { Card } from \"../../components/card\";\nimport { Heading } from \"../../components/heading\";\nimport { BaseLayout } from \"../../layouts/base-layout\";\nimport { EMAIL_COLORS } from \"../../theme\";\n\nexport default function WelcomeCustomerEmail({\n\tcustomerName,\n\taccountUrl,\n\tsupportEmail,\n\tsupportPhone,\n\tpreviewText = \"Welcome to Thorbis - We're here for you!\",\n}: WelcomeCustomerProps) {\n\treturn (\n\t\t<BaseLayout previewText={previewText}>\n\t\t\t<Heading level={1}>Welcome to Thorbis!</Heading>\n\n\t\t\t<Text style={paragraph}>Hi {customerName},</Text>\n\n\t\t\t<Text style={paragraph}>\n\t\t\t\tThank you for choosing Thorbis for your service needs! We're thrilled to\n\t\t\t\thave you as a customer and look forward to providing you with excellent\n\t\t\t\tservice.\n\t\t\t</Text>\n\n\t\t\t<Card style={welcomeCard}>\n\t\t\t\t<div style={welcomeIcon}>üëã</div>\n\t\t\t\t<Text style={welcomeText}>You're now part of the Thorbis family!</Text>\n\t\t\t</Card>\n\n\t\t\t<div style={buttonContainer}>\n\t\t\t\t<Button href={accountUrl}>Access Your Account</Button>\n\t\t\t</div>\n\n\t\t\t<Card style={featuresCard}>\n\t\t\t\t<Heading level={3}>What you can do with your account:</Heading>\n\t\t\t\t<ul style={list}>\n\t\t\t\t\t<li style={listItem}>\n\t\t\t\t\t\t<strong>Track services:</strong> View all your service history in\n\t\t\t\t\t\tone place\n\t\t\t\t\t</li>\n\t\t\t\t\t<li style={listItem}>\n\t\t\t\t\t\t<strong>Schedule appointments:</strong> Book services at your\n\t\t\t\t\t\tconvenience\n\t\t\t\t\t</li>\n\t\t\t\t\t<li style={listItem}>\n\t\t\t\t\t\t<strong>Manage invoices:</strong> View and pay invoices online\n\t\t\t\t\t</li>\n\t\t\t\t\t<li style={listItem}>\n\t\t\t\t\t\t<strong>Get updates:</strong> Receive real-time notifications about\n\t\t\t\t\t\tyour services\n\t\t\t\t\t</li>\n\t\t\t\t\t<li style={listItem}>\n\t\t\t\t\t\t<strong>Save time:</strong> Store your property details for faster\n\t\t\t\t\t\tbooking\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</Card>\n\n\t\t\t<Card style={supportCard}>\n\t\t\t\t<Heading level={3}>We're here to help</Heading>\n\t\t\t\t<Text style={supportText}>\n\t\t\t\t\tOur customer support team is ready to assist you with any questions or\n\t\t\t\t\tconcerns.\n\t\t\t\t</Text>\n\t\t\t\t<div style={contactGrid}>\n\t\t\t\t\t<div style={contactMethod}>\n\t\t\t\t\t\t<Text style={contactLabel}>Email:</Text>\n\t\t\t\t\t\t<a href={`mailto:${supportEmail}`} style={contactLink}>\n\t\t\t\t\t\t\t{supportEmail}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div style={contactMethod}>\n\t\t\t\t\t\t<Text style={contactLabel}>Phone:</Text>\n\t\t\t\t\t\t<a href={`tel:${supportPhone}`} style={contactLink}>\n\t\t\t\t\t\t\t{supportPhone}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Card>\n\n\t\t\t<Card style={tipsCard}>\n\t\t\t\t<Heading level={3}>Pro Tips for New Customers</Heading>\n\t\t\t\t<ul style={tipsList}>\n\t\t\t\t\t<li style={tipItem}>\n\t\t\t\t\t\tSet up your profile to save time on future bookings\n\t\t\t\t\t</li>\n\t\t\t\t\t<li style={tipItem}>\n\t\t\t\t\t\tAdd your property details for more accurate service quotes\n\t\t\t\t\t</li>\n\t\t\t\t\t<li style={tipItem}>\n\t\t\t\t\t\tEnable notifications to stay updated on service appointments\n\t\t\t\t\t</li>\n\t\t\t\t\t<li style={tipItem}>\n\t\t\t\t\t\tSave our contact info for quick access when you need us\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</Card>\n\n\t\t\t<Text style={thankYouText}>\n\t\t\t\tOnce again, welcome to Thorbis! We're committed to providing you with\n\t\t\t\texceptional service every step of the way.\n\t\t\t</Text>\n\t\t</BaseLayout>\n\t);\n}\n\nconst paragraph = {\n\tcolor: \"#374151\",\n\tfontSize: \"16px\",\n\tlineHeight: \"24px\",\n\tmargin: \"0 0 16px 0\",\n};\n\nconst welcomeCard = {\n\tbackground:\n\t\t\"linear-gradient(135deg, hsl(217 91% 60%) 0%, hsl(217 91% 50%) 100%)\",\n\tborderRadius: \"12px\",\n\tpadding: \"40px\",\n\tmargin: \"24px 0\",\n\ttextAlign: \"center\" as const,\n};\n\nconst welcomeIcon = {\n\tfontSize: \"64px\",\n\tmargin: \"0 0 16px 0\",\n};\n\nconst welcomeText = {\n\tcolor: EMAIL_COLORS.primaryText,\n\tfontSize: \"24px\",\n\tfontWeight: \"600\",\n\tmargin: \"0\",\n};\n\nconst buttonContainer = {\n\tmargin: \"32px 0\",\n\ttextAlign: \"center\" as const,\n};\n\nconst featuresCard = {\n\tbackgroundColor: \"#f0fdf4\",\n\tborder: \"1px solid #bbf7d0\",\n\tmargin: \"24px 0\",\n};\n\nconst list = {\n\tcolor: \"#166534\",\n\tfontSize: \"14px\",\n\tlineHeight: \"22px\",\n\tmargin: \"12px 0 0 20px\",\n\tpadding: \"0\",\n};\n\nconst listItem = {\n\tmargin: \"0 0 12px 0\",\n};\n\nconst supportCard = {\n\tbackgroundColor: \"#eff6ff\",\n\tborder: \"1px solid #bfdbfe\",\n\tmargin: \"24px 0\",\n};\n\nconst supportText = {\n\tcolor: \"#1e40af\",\n\tfontSize: \"15px\",\n\tlineHeight: \"22px\",\n\tmargin: \"12px 0 20px 0\",\n};\n\nconst contactGrid = {\n\tdisplay: \"grid\" as const,\n\tgridTemplateColumns: \"1fr 1fr\",\n\tgap: \"16px\",\n};\n\nconst contactMethod = {\n\ttextAlign: \"center\" as const,\n};\n\nconst contactLabel = {\n\tcolor: \"#6b7280\",\n\tfontSize: \"12px\",\n\ttextTransform: \"uppercase\" as const,\n\tletterSpacing: \"0.05em\",\n\tmargin: \"0 0 8px 0\",\n};\n\nconst contactLink = {\n\tcolor: \"hsl(217 91% 60%)\",\n\tfontSize: \"15px\",\n\tfontWeight: \"600\",\n\ttextDecoration: \"underline\",\n};\n\nconst tipsCard = {\n\tbackgroundColor: \"#fffbeb\",\n\tborder: \"1px solid #fde68a\",\n\tmargin: \"24px 0\",\n};\n\nconst tipsList = {\n\tcolor: \"#92400e\",\n\tfontSize: \"14px\",\n\tlineHeight: \"22px\",\n\tmargin: \"12px 0 0 20px\",\n\tpadding: \"0\",\n};\n\nconst tipItem = {\n\tmargin: \"0 0 10px 0\",\n};\n\nconst thankYouText = {\n\tcolor: \"#374151\",\n\tfontSize: \"16px\",\n\tlineHeight: \"24px\",\n\tmargin: \"32px 0 0 0\",\n\ttextAlign: \"center\" as const,\n};\n","/**\n * Appointment Reminder Email Template - 24h before appointment\n *\n * Features:\n * - Reminder of upcoming appointment\n * - Appointment details\n * - Option to reschedule\n * - Preparation instructions\n */\n\nimport { Text } from \"@react-email/components\";\nimport type { AppointmentReminderProps } from \"../../../src/lib/email/email-types\";\nimport { Button } from \"../../components/button\";\nimport { Card } from \"../../components/card\";\nimport { Heading } from \"../../components/heading\";\nimport { BaseLayout } from \"../../layouts/base-layout\";\nimport { EMAIL_COLORS } from \"../../theme\";\n\nexport default function AppointmentReminderEmail({\n\tcustomerName,\n\tappointmentDate,\n\tappointmentTime,\n\ttechnicianName,\n\taddress,\n\trescheduleUrl,\n\tpreviewText = \"Reminder: Your service appointment is tomorrow\",\n}: AppointmentReminderProps) {\n\treturn (\n\t\t<BaseLayout previewText={previewText}>\n\t\t\t<Heading level={1}>Appointment Reminder</Heading>\n\n\t\t\t<Text style={paragraph}>Hi {customerName},</Text>\n\n\t\t\t<Text style={paragraph}>\n\t\t\t\tThis is a friendly reminder that your service appointment is coming up!\n\t\t\t</Text>\n\n\t\t\t<Card style={highlightCard}>\n\t\t\t\t<div style={highlightContent}>\n\t\t\t\t\t<Text style={highlightLabel}>Tomorrow</Text>\n\t\t\t\t\t<Text style={highlightDate}>{appointmentDate}</Text>\n\t\t\t\t\t<Text style={highlightTime}>{appointmentTime}</Text>\n\t\t\t\t</div>\n\t\t\t</Card>\n\n\t\t\t<Card style={detailsCard}>\n\t\t\t\t<div style={detailRow}>\n\t\t\t\t\t<Text style={detailLabel}>Technician:</Text>\n\t\t\t\t\t<Text style={detailValue}>{technicianName}</Text>\n\t\t\t\t</div>\n\t\t\t\t<div style={detailRow}>\n\t\t\t\t\t<Text style={detailLabel}>Location:</Text>\n\t\t\t\t\t<Text style={detailValue}>{address}</Text>\n\t\t\t\t</div>\n\t\t\t</Card>\n\n\t\t\t<Card style={prepCard}>\n\t\t\t\t<Heading level={3}>How to prepare</Heading>\n\t\t\t\t<ul style={list}>\n\t\t\t\t\t<li style={listItem}>\n\t\t\t\t\t\tPlease ensure someone is present during the service window\n\t\t\t\t\t</li>\n\t\t\t\t\t<li style={listItem}>Clear access to the work area if possible</li>\n\t\t\t\t\t<li style={listItem}>Secure any pets for safety</li>\n\t\t\t\t</ul>\n\t\t\t</Card>\n\n\t\t\t<Text style={paragraph}>\n\t\t\t\tWe'll notify you when {technicianName} is on the way.\n\t\t\t</Text>\n\n\t\t\t<div style={buttonContainer}>\n\t\t\t\t<Button href={rescheduleUrl}>Need to Reschedule?</Button>\n\t\t\t</div>\n\n\t\t\t<Text style={footerNote}>\n\t\t\t\tQuestions? Call us at{\" \"}\n\t\t\t\t<a href=\"tel:+1234567890\" style={link}>\n\t\t\t\t\t(123) 456-7890\n\t\t\t\t</a>\n\t\t\t</Text>\n\t\t</BaseLayout>\n\t);\n}\n\nconst paragraph = {\n\tcolor: \"#374151\",\n\tfontSize: \"16px\",\n\tlineHeight: \"24px\",\n\tmargin: \"0 0 16px 0\",\n};\n\nconst highlightCard = {\n\tbackground:\n\t\t\"linear-gradient(135deg, hsl(217 91% 60%) 0%, hsl(217 91% 50%) 100%)\",\n\tborderRadius: \"12px\",\n\tpadding: \"32px\",\n\tmargin: \"24px 0\",\n\ttextAlign: \"center\" as const,\n};\n\nconst highlightContent = {\n\tcolor: EMAIL_COLORS.primaryText,\n};\n\nconst highlightLabel = {\n\tfontSize: \"14px\",\n\tfontWeight: \"600\",\n\ttextTransform: \"uppercase\" as const,\n\tletterSpacing: \"0.05em\",\n\tmargin: \"0 0 8px 0\",\n\topacity: 0.9,\n};\n\nconst highlightDate = {\n\tfontSize: \"28px\",\n\tfontWeight: \"700\",\n\tmargin: \"0 0 4px 0\",\n};\n\nconst highlightTime = {\n\tfontSize: \"20px\",\n\tfontWeight: \"500\",\n\tmargin: \"0\",\n\topacity: 0.95,\n};\n\nconst detailsCard = {\n\tbackgroundColor: \"#f9fafb\",\n\tborder: \"1px solid #e5e7eb\",\n\tpadding: \"20px\",\n\tmargin: \"24px 0\",\n};\n\nconst detailRow = {\n\tdisplay: \"flex\" as const,\n\tjustifyContent: \"space-between\",\n\tmarginBottom: \"12px\",\n};\n\nconst detailLabel = {\n\tcolor: \"#6b7280\",\n\tfontSize: \"14px\",\n\tfontWeight: \"500\",\n\tmargin: \"0\",\n};\n\nconst detailValue = {\n\tcolor: \"#111827\",\n\tfontSize: \"14px\",\n\tfontWeight: \"600\",\n\tmargin: \"0\",\n\ttextAlign: \"right\" as const,\n};\n\nconst prepCard = {\n\tbackgroundColor: \"#f0fdf4\",\n\tborder: \"1px solid #bbf7d0\",\n\tmargin: \"24px 0\",\n};\n\nconst list = {\n\tcolor: \"#166534\",\n\tfontSize: \"14px\",\n\tlineHeight: \"20px\",\n\tmargin: \"12px 0 0 20px\",\n\tpadding: \"0\",\n};\n\nconst listItem = {\n\tmargin: \"0 0 8px 0\",\n};\n\nconst buttonContainer = {\n\tmargin: \"32px 0\",\n\ttextAlign: \"center\" as const,\n};\n\nconst footerNote = {\n\tcolor: \"#6b7280\",\n\tfontSize: \"14px\",\n\tlineHeight: \"20px\",\n\tmargin: \"32px 0 0 0\",\n\ttextAlign: \"center\" as const,\n};\n\nconst link = {\n\tcolor: \"hsl(217 91% 60%)\",\n\ttextDecoration: \"underline\",\n};\n","/**\n * Job Complete Email Template - Service completed notification\n *\n * Features:\n * - Completion confirmation\n * - Job summary\n * - Invoice link\n * - Review request\n */\n\nimport { Text } from \"@react-email/components\";\nimport type { JobCompleteProps } from \"../../../src/lib/email/email-types\";\nimport { Button } from \"../../components/button\";\nimport { Card } from \"../../components/card\";\nimport { Divider } from \"../../components/divider\";\nimport { Heading } from \"../../components/heading\";\nimport { BaseLayout } from \"../../layouts/base-layout\";\n\nexport default function JobCompleteEmail({\n\tcustomerName,\n\tjobNumber,\n\tcompletedDate,\n\ttotalAmount,\n\tinvoiceUrl,\n\treviewUrl,\n\tpreviewText = \"Your service is complete!\",\n}: JobCompleteProps) {\n\treturn (\n\t\t<BaseLayout previewText={previewText}>\n\t\t\t<Heading level={1}>Service Completed!</Heading>\n\n\t\t\t<Text style={paragraph}>Hi {customerName},</Text>\n\n\t\t\t<Text style={paragraph}>\n\t\t\t\tGreat news! Your service has been completed successfully. Thank you for\n\t\t\t\tchoosing Thorbis.\n\t\t\t</Text>\n\n\t\t\t<Card style={summaryCard}>\n\t\t\t\t<Text style={successIcon}>‚úì</Text>\n\t\t\t\t<Text style={successText}>Job Completed</Text>\n\t\t\t\t<div style={summaryRow}>\n\t\t\t\t\t<Text style={summaryLabel}>Job Number:</Text>\n\t\t\t\t\t<Text style={summaryValue}>#{jobNumber}</Text>\n\t\t\t\t</div>\n\t\t\t\t<div style={summaryRow}>\n\t\t\t\t\t<Text style={summaryLabel}>Completed:</Text>\n\t\t\t\t\t<Text style={summaryValue}>{completedDate}</Text>\n\t\t\t\t</div>\n\t\t\t\t<Divider />\n\t\t\t\t<div style={summaryRow}>\n\t\t\t\t\t<Text style={totalLabel}>Total Amount:</Text>\n\t\t\t\t\t<Text style={totalValue}>{totalAmount}</Text>\n\t\t\t\t</div>\n\t\t\t</Card>\n\n\t\t\t<div style={buttonGroup}>\n\t\t\t\t<Button href={invoiceUrl}>View Invoice</Button>\n\t\t\t</div>\n\n\t\t\t<Card style={reviewCard}>\n\t\t\t\t<Heading level={3}>How did we do?</Heading>\n\t\t\t\t<Text style={reviewText}>\n\t\t\t\t\tYour feedback helps us improve our service. We'd love to hear about\n\t\t\t\t\tyour experience!\n\t\t\t\t</Text>\n\t\t\t\t<div style={reviewButtonContainer}>\n\t\t\t\t\t<Button href={reviewUrl} variant=\"outline\">\n\t\t\t\t\t\tLeave a Review\n\t\t\t\t\t</Button>\n\t\t\t\t</div>\n\t\t\t</Card>\n\n\t\t\t<Card style={thankYouCard}>\n\t\t\t\t<Text style={thankYouText}>\n\t\t\t\t\tThank you for your business! We look forward to serving you again.\n\t\t\t\t</Text>\n\t\t\t</Card>\n\t\t</BaseLayout>\n\t);\n}\n\nconst paragraph = {\n\tcolor: \"#374151\",\n\tfontSize: \"16px\",\n\tlineHeight: \"24px\",\n\tmargin: \"0 0 16px 0\",\n};\n\nconst summaryCard = {\n\tbackgroundColor: \"#f0fdf4\",\n\tborder: \"2px solid #22c55e\",\n\tborderRadius: \"12px\",\n\tpadding: \"32px\",\n\tmargin: \"24px 0\",\n\ttextAlign: \"center\" as const,\n};\n\nconst successIcon = {\n\tfontSize: \"64px\",\n\tcolor: \"#22c55e\",\n\tmargin: \"0 0 16px 0\",\n};\n\nconst successText = {\n\tcolor: \"#166534\",\n\tfontSize: \"24px\",\n\tfontWeight: \"700\",\n\tmargin: \"0 0 24px 0\",\n};\n\nconst summaryRow = {\n\tdisplay: \"flex\" as const,\n\tjustifyContent: \"space-between\",\n\tmargin: \"12px 0\",\n};\n\nconst summaryLabel = {\n\tcolor: \"#166534\",\n\tfontSize: \"14px\",\n\tfontWeight: \"500\",\n\tmargin: \"0\",\n};\n\nconst summaryValue = {\n\tcolor: \"#166534\",\n\tfontSize: \"14px\",\n\tfontWeight: \"600\",\n\tmargin: \"0\",\n};\n\nconst totalLabel = {\n\tcolor: \"#166534\",\n\tfontSize: \"18px\",\n\tfontWeight: \"600\",\n\tmargin: \"0\",\n};\n\nconst totalValue = {\n\tcolor: \"#166534\",\n\tfontSize: \"24px\",\n\tfontWeight: \"700\",\n\tmargin: \"0\",\n};\n\nconst buttonGroup = {\n\tmargin: \"32px 0\",\n\ttextAlign: \"center\" as const,\n};\n\nconst reviewCard = {\n\tbackgroundColor: \"#fffbeb\",\n\tborder: \"1px solid #fde68a\",\n\tpadding: \"24px\",\n\tmargin: \"32px 0\",\n\ttextAlign: \"center\" as const,\n};\n\nconst reviewText = {\n\tcolor: \"#92400e\",\n\tfontSize: \"14px\",\n\tlineHeight: \"20px\",\n\tmargin: \"12px 0 24px 0\",\n};\n\nconst reviewButtonContainer = {\n\ttextAlign: \"center\" as const,\n};\n\nconst thankYouCard = {\n\tbackgroundColor: \"#f9fafb\",\n\tborder: \"none\",\n\tpadding: \"24px\",\n\tmargin: \"24px 0\",\n\ttextAlign: \"center\" as const,\n};\n\nconst thankYouText = {\n\tcolor: \"#6b7280\",\n\tfontSize: \"16px\",\n\tfontStyle: \"italic\" as const,\n\tmargin: \"0\",\n};\n","/**\n * Job Confirmation Email Template - Sent when job is scheduled\n *\n * Design:\n * - Company-branded layout (company logo, colors, contact info)\n * - Clean job details\n * - Full-width sections (no cards)\n * - Professional confirmation\n */\n\nimport { Text } from \"@react-email/components\";\nimport type { JobConfirmationProps } from \"../../../src/lib/email/email-types\";\nimport { Button } from \"../../components/button\";\nimport { Heading } from \"../../components/heading\";\nimport { CompanyLayout } from \"../../layouts/company-layout\";\n\nexport default function JobConfirmationEmail({\n\tcustomerName,\n\tjobDate,\n\tjobTime,\n\ttechnicianName,\n\tjobType,\n\taddress,\n\tjobNumber,\n\tviewJobUrl,\n\tpreviewText,\n\tcompany,\n}: JobConfirmationProps) {\n\tconst companyBranding = company || {\n\t\tcompanyName: \"Your Company\",\n\t\tsupportEmail: \"support@yourcompany.com\",\n\t\tsupportPhone: \"(555) 123-4567\",\n\t};\n\n\tconst defaultPreviewText =\n\t\tpreviewText || `Your ${jobType} appointment is confirmed`;\n\n\treturn (\n\t\t<CompanyLayout company={companyBranding} previewText={defaultPreviewText}>\n\t\t\t<Heading level={1}>Service Appointment Confirmed ‚úÖ</Heading>\n\n\t\t\t<Text style={paragraph}>Hi {customerName},</Text>\n\n\t\t\t<Text style={paragraph}>\n\t\t\t\tGreat news! Your {jobType} service has been scheduled. Here are the\n\t\t\t\tdetails:\n\t\t\t</Text>\n\n\t\t\t{/* Job Details */}\n\t\t\t<div style={detailsSection}>\n\t\t\t\t<div style={detailRow}>\n\t\t\t\t\t<Text style={detailLabel}>üìã Job Number:</Text>\n\t\t\t\t\t<Text style={detailValue}>#{jobNumber}</Text>\n\t\t\t\t</div>\n\t\t\t\t<div style={detailRow}>\n\t\t\t\t\t<Text style={detailLabel}>üîß Service Type:</Text>\n\t\t\t\t\t<Text style={detailValue}>{jobType}</Text>\n\t\t\t\t</div>\n\t\t\t\t<div style={detailRow}>\n\t\t\t\t\t<Text style={detailLabel}>üìÖ Date:</Text>\n\t\t\t\t\t<Text style={detailValue}>{jobDate}</Text>\n\t\t\t\t</div>\n\t\t\t\t<div style={detailRow}>\n\t\t\t\t\t<Text style={detailLabel}>üïê Time:</Text>\n\t\t\t\t\t<Text style={detailValue}>{jobTime}</Text>\n\t\t\t\t</div>\n\t\t\t\t<div style={detailRow}>\n\t\t\t\t\t<Text style={detailLabel}>üë∑ Technician:</Text>\n\t\t\t\t\t<Text style={detailValue}>{technicianName}</Text>\n\t\t\t\t</div>\n\t\t\t\t<div style={detailRow}>\n\t\t\t\t\t<Text style={detailLabel}>üìç Location:</Text>\n\t\t\t\t\t<Text style={detailValue}>{address}</Text>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t{/* What to Expect */}\n\t\t\t<div style={infoSection}>\n\t\t\t\t<Heading level={3}>What to Expect</Heading>\n\t\t\t\t<ul style={list}>\n\t\t\t\t\t<li style={listItem}>\n\t\t\t\t\t\tWe'll send you a reminder 24 hours before your appointment\n\t\t\t\t\t</li>\n\t\t\t\t\t<li style={listItem}>\n\t\t\t\t\t\tYou'll receive a notification when the technician is on the way\n\t\t\t\t\t</li>\n\t\t\t\t\t<li style={listItem}>\n\t\t\t\t\t\tOur technician will arrive during the scheduled time window\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\n\t\t\t<div style={buttonContainer}>\n\t\t\t\t<Button href={viewJobUrl}>View Job Details</Button>\n\t\t\t</div>\n\n\t\t\t<Text style={footerNote}>\n\t\t\t\tNeed to reschedule? Contact us at{\" \"}\n\t\t\t\t<a\n\t\t\t\t\thref={`tel:${companyBranding.supportPhone?.replace(/\\s/g, \"\")}`}\n\t\t\t\t\tstyle={link}\n\t\t\t\t>\n\t\t\t\t\t{companyBranding.supportPhone}\n\t\t\t\t</a>{\" \"}\n\t\t\t\tor reply to this email.\n\t\t\t</Text>\n\t\t</CompanyLayout>\n\t);\n}\n\nconst paragraph = {\n\tcolor: \"#374151\",\n\tfontSize: \"16px\",\n\tlineHeight: \"26px\",\n\tmargin: \"0 0 20px 0\",\n};\n\nconst detailsSection = {\n\tbackgroundColor: \"#f0f9ff\",\n\tborderLeft: \"4px solid #3b82f6\",\n\tpadding: \"24px\",\n\tmargin: \"24px 0\",\n\tborderRadius: \"4px\",\n};\n\nconst detailRow = {\n\tdisplay: \"flex\" as const,\n\tjustifyContent: \"space-between\",\n\talignItems: \"center\",\n\tmarginBottom: \"16px\",\n\tpaddingBottom: \"16px\",\n\tborderBottom: \"1px solid rgba(59, 130, 246, 0.1)\",\n};\n\nconst detailLabel = {\n\tcolor: \"#6b7280\",\n\tfontSize: \"14px\",\n\tfontWeight: \"500\",\n\tmargin: \"0\",\n};\n\nconst detailValue = {\n\tcolor: \"#111827\",\n\tfontSize: \"15px\",\n\tfontWeight: \"600\",\n\tmargin: \"0\",\n\ttextAlign: \"right\" as const,\n};\n\nconst infoSection = {\n\tbackgroundColor: \"#ecfdf5\",\n\tborderLeft: \"4px solid #10b981\",\n\tpadding: \"24px\",\n\tmargin: \"24px 0\",\n\tborderRadius: \"4px\",\n};\n\nconst list = {\n\tcolor: \"#166534\",\n\tfontSize: \"15px\",\n\tlineHeight: \"24px\",\n\tmargin: \"12px 0 0 24px\",\n\tpadding: \"0\",\n};\n\nconst listItem = {\n\tmargin: \"0 0 12px 0\",\n};\n\nconst buttonContainer = {\n\tmargin: \"40px 0\",\n\ttextAlign: \"center\" as const,\n};\n\nconst footerNote = {\n\tcolor: \"#6b7280\",\n\tfontSize: \"14px\",\n\tlineHeight: \"22px\",\n\tmargin: \"32px 0 0 0\",\n\ttextAlign: \"center\" as const,\n};\n\nconst link = {\n\tcolor: \"#3b82f6\",\n\ttextDecoration: \"underline\",\n\tfontWeight: \"500\",\n};\n","/**\n * Tech En Route Email Template - Technician is on the way\n *\n * Features:\n * - Real-time notification\n * - Estimated arrival time\n * - Technician information\n * - Optional tracking link\n */\n\nimport { Text } from \"@react-email/components\";\nimport type { TechEnRouteProps } from \"../../../src/lib/email/email-types\";\nimport { Button } from \"../../components/button\";\nimport { Card } from \"../../components/card\";\nimport { Heading } from \"../../components/heading\";\nimport { BaseLayout } from \"../../layouts/base-layout\";\nimport { EMAIL_COLORS } from \"../../theme\";\n\nexport default function TechEnRouteEmail({\n\tcustomerName,\n\ttechnicianName,\n\testimatedArrival,\n\ttrackingUrl,\n\tpreviewText = `${technicianName} is on the way!`,\n}: TechEnRouteProps) {\n\treturn (\n\t\t<BaseLayout previewText={previewText}>\n\t\t\t<Heading level={1}>Your Technician is On the Way!</Heading>\n\n\t\t\t<Text style={paragraph}>Hi {customerName},</Text>\n\n\t\t\t<Card style={notificationCard}>\n\t\t\t\t<div style={notificationIcon}>üöó</div>\n\t\t\t\t<Text style={notificationText}>\n\t\t\t\t\t{technicianName} is heading to your location\n\t\t\t\t</Text>\n\t\t\t\t<Text style={etaText}>Estimated arrival: {estimatedArrival}</Text>\n\t\t\t</Card>\n\n\t\t\t<Card style={techCard}>\n\t\t\t\t<Heading level={3}>Your Technician</Heading>\n\t\t\t\t<Text style={techName}>{technicianName}</Text>\n\t\t\t\t<Text style={techDesc}>\n\t\t\t\t\t{technicianName} is a certified service professional with years of\n\t\t\t\t\texperience. They'll take great care of your service needs.\n\t\t\t\t</Text>\n\t\t\t</Card>\n\n\t\t\t{trackingUrl && (\n\t\t\t\t<div style={buttonContainer}>\n\t\t\t\t\t<Button href={trackingUrl}>Track in Real-Time</Button>\n\t\t\t\t</div>\n\t\t\t)}\n\n\t\t\t<Card style={tipsCard}>\n\t\t\t\t<Heading level={3}>Quick Tips</Heading>\n\t\t\t\t<ul style={list}>\n\t\t\t\t\t<li style={listItem}>\n\t\t\t\t\t\tPlease ensure someone is available to greet the technician\n\t\t\t\t\t</li>\n\t\t\t\t\t<li style={listItem}>Have any specific concerns ready to discuss</li>\n\t\t\t\t\t<li style={listItem}>Feel free to ask questions about the service</li>\n\t\t\t\t</ul>\n\t\t\t</Card>\n\n\t\t\t<Text style={footerNote}>\n\t\t\t\tNeed to contact us? Call{\" \"}\n\t\t\t\t<a href=\"tel:+1234567890\" style={link}>\n\t\t\t\t\t(123) 456-7890\n\t\t\t\t</a>\n\t\t\t</Text>\n\t\t</BaseLayout>\n\t);\n}\n\nconst paragraph = {\n\tcolor: \"#374151\",\n\tfontSize: \"16px\",\n\tlineHeight: \"24px\",\n\tmargin: \"0 0 16px 0\",\n};\n\nconst notificationCard = {\n\tbackground: \"linear-gradient(135deg, #10b981 0%, #059669 100%)\",\n\tborderRadius: \"12px\",\n\tpadding: \"32px\",\n\tmargin: \"24px 0\",\n\ttextAlign: \"center\" as const,\n};\n\nconst notificationIcon = {\n\tfontSize: \"48px\",\n\tmargin: \"0 0 16px 0\",\n};\n\nconst notificationText = {\n\tcolor: EMAIL_COLORS.primaryText,\n\tfontSize: \"20px\",\n\tfontWeight: \"600\",\n\tmargin: \"0 0 8px 0\",\n};\n\nconst etaText = {\n\tcolor: EMAIL_COLORS.primaryText,\n\tfontSize: \"24px\",\n\tfontWeight: \"700\",\n\tmargin: \"0\",\n};\n\nconst techCard = {\n\tbackgroundColor: \"#f9fafb\",\n\tborder: \"1px solid #e5e7eb\",\n\tpadding: \"24px\",\n\tmargin: \"24px 0\",\n};\n\nconst techName = {\n\tcolor: \"#111827\",\n\tfontSize: \"18px\",\n\tfontWeight: \"600\",\n\tmargin: \"8px 0\",\n};\n\nconst techDesc = {\n\tcolor: \"#6b7280\",\n\tfontSize: \"14px\",\n\tlineHeight: \"20px\",\n\tmargin: \"8px 0 0 0\",\n};\n\nconst tipsCard = {\n\tbackgroundColor: \"#eff6ff\",\n\tborder: \"1px solid #bfdbfe\",\n\tmargin: \"24px 0\",\n};\n\nconst list = {\n\tcolor: \"#1e40af\",\n\tfontSize: \"14px\",\n\tlineHeight: \"20px\",\n\tmargin: \"12px 0 0 20px\",\n\tpadding: \"0\",\n};\n\nconst listItem = {\n\tmargin: \"0 0 8px 0\",\n};\n\nconst buttonContainer = {\n\tmargin: \"32px 0\",\n\ttextAlign: \"center\" as const,\n};\n\nconst footerNote = {\n\tcolor: \"#6b7280\",\n\tfontSize: \"14px\",\n\tlineHeight: \"20px\",\n\tmargin: \"32px 0 0 0\",\n\ttextAlign: \"center\" as const,\n};\n\nconst link = {\n\tcolor: \"hsl(217 91% 60%)\",\n\ttextDecoration: \"underline\",\n};\n","/**\n * Email Server Actions - Type-safe email sending functions\n *\n * Features:\n * - Server-side email sending via Resend\n * - Type-safe template rendering\n * - Error handling and logging\n * - Development mode support\n */\n\n\"use server\";\n\nimport { sendEmail } from \"@/lib/email/email-sender\";\nimport {\n\ttype AppointmentReminderProps,\n\ttype EmailSendResult,\n\ttype EmailVerificationProps,\n\ttype EstimateSentProps,\n\ttype InvoiceSentProps,\n\ttype JobCompleteProps,\n\ttype JobConfirmationProps,\n\ttype MagicLinkProps,\n\ttype PasswordChangedProps,\n\ttype PasswordResetProps,\n\ttype PaymentReceivedProps,\n\ttype PaymentReminderProps,\n\ttype ReviewRequestProps,\n\ttype ServiceReminderProps,\n\ttype TechEnRouteProps,\n\ttype WelcomeCustomerProps,\n\ttype WelcomeEmailProps,\n\tEmailTemplate,\n} from \"@/lib/email/email-types\";\nimport EmailVerificationEmail from \"../../emails/templates/auth/email-verification\";\nimport MagicLinkEmail from \"../../emails/templates/auth/magic-link\";\nimport PasswordChangedEmail from \"../../emails/templates/auth/password-changed\";\nimport PasswordResetEmail from \"../../emails/templates/auth/password-reset\";\nimport WelcomeEmail from \"../../emails/templates/auth/welcome\";\nimport EstimateSentEmail from \"../../emails/templates/billing/estimate-sent\";\n\nimport InvoiceSentEmail from \"../../emails/templates/billing/invoice-sent\";\nimport PaymentReceivedEmail from \"../../emails/templates/billing/payment-received\";\nimport PaymentReminderEmail from \"../../emails/templates/billing/payment-reminder\";\nimport ReviewRequestEmail from \"../../emails/templates/customer/review-request\";\nimport ServiceReminderEmail from \"../../emails/templates/customer/service-reminder\";\nimport WelcomeCustomerEmail from \"../../emails/templates/customer/welcome-customer\";\nimport AppointmentReminderEmail from \"../../emails/templates/jobs/appointment-reminder\";\nimport JobCompleteEmail from \"../../emails/templates/jobs/job-complete\";\nimport JobConfirmationEmail from \"../../emails/templates/jobs/job-confirmation\";\nimport TechEnRouteEmail from \"../../emails/templates/jobs/tech-en-route\";\n\n// =============================================================================\n// AUTHENTICATION EMAILS\n// =============================================================================\n\n/**\n * Send welcome email to new user\n */\nexport async function sendWelcomeEmail(\n\tto: string,\n\tprops: WelcomeEmailProps,\n): Promise<EmailSendResult> {\n\treturn await sendEmail({\n\t\tto,\n\t\tsubject: \"Welcome to Thorbis!\",\n\t\ttemplate: WelcomeEmail(props),\n\t\ttemplateType: EmailTemplate.WELCOME,\n\t});\n}\n\n/**\n * Send email verification link\n */\nexport async function sendEmailVerification(\n\tto: string,\n\tprops: EmailVerificationProps,\n): Promise<EmailSendResult> {\n\treturn await sendEmail({\n\t\tto,\n\t\tsubject: \"Verify your email address\",\n\t\ttemplate: EmailVerificationEmail(props),\n\t\ttemplateType: EmailTemplate.EMAIL_VERIFICATION,\n\t});\n}\n\n/**\n * Send password reset email\n */\nexport async function sendPasswordReset(\n\tto: string,\n\tprops: PasswordResetProps,\n): Promise<EmailSendResult> {\n\treturn await sendEmail({\n\t\tto,\n\t\tsubject: \"Reset your password\",\n\t\ttemplate: PasswordResetEmail(props),\n\t\ttemplateType: EmailTemplate.PASSWORD_RESET,\n\t});\n}\n\n/**\n * Send password changed confirmation\n */\nexport async function sendPasswordChanged(\n\tto: string,\n\tprops: PasswordChangedProps,\n): Promise<EmailSendResult> {\n\treturn await sendEmail({\n\t\tto,\n\t\tsubject: \"Your password has been changed\",\n\t\ttemplate: PasswordChangedEmail(props),\n\t\ttemplateType: EmailTemplate.PASSWORD_CHANGED,\n\t});\n}\n\n/**\n * Send magic link for passwordless authentication\n */\nasync function sendMagicLink(\n\tto: string,\n\tprops: MagicLinkProps,\n): Promise<EmailSendResult> {\n\treturn await sendEmail({\n\t\tto,\n\t\tsubject: \"Sign in to Thorbis\",\n\t\ttemplate: MagicLinkEmail(props),\n\t\ttemplateType: EmailTemplate.MAGIC_LINK,\n\t});\n}\n\n// =============================================================================\n// JOB LIFECYCLE EMAILS\n// =============================================================================\n\n/**\n * Send job confirmation email\n */\nasync function sendJobConfirmation(\n\tto: string,\n\tprops: JobConfirmationProps,\n): Promise<EmailSendResult> {\n\treturn await sendEmail({\n\t\tto,\n\t\tsubject: `Service Appointment Confirmed - ${props.jobType}`,\n\t\ttemplate: JobConfirmationEmail(props),\n\t\ttemplateType: EmailTemplate.JOB_CONFIRMATION,\n\t\ttags: [{ name: \"job_number\", value: props.jobNumber }],\n\t});\n}\n\n/**\n * Send appointment reminder (24h before)\n */\nasync function sendAppointmentReminder(\n\tto: string,\n\tprops: AppointmentReminderProps,\n): Promise<EmailSendResult> {\n\treturn await sendEmail({\n\t\tto,\n\t\tsubject: \"Reminder: Your service appointment is tomorrow\",\n\t\ttemplate: AppointmentReminderEmail(props),\n\t\ttemplateType: EmailTemplate.APPOINTMENT_REMINDER,\n\t});\n}\n\n/**\n * Send technician en route notification\n */\nasync function sendTechEnRoute(\n\tto: string,\n\tprops: TechEnRouteProps,\n): Promise<EmailSendResult> {\n\treturn await sendEmail({\n\t\tto,\n\t\tsubject: `${props.technicianName} is on the way!`,\n\t\ttemplate: TechEnRouteEmail(props),\n\t\ttemplateType: EmailTemplate.TECH_EN_ROUTE,\n\t});\n}\n\n/**\n * Send job completion notification\n */\nasync function sendJobComplete(\n\tto: string,\n\tprops: JobCompleteProps,\n): Promise<EmailSendResult> {\n\treturn await sendEmail({\n\t\tto,\n\t\tsubject: \"Your service is complete!\",\n\t\ttemplate: JobCompleteEmail(props),\n\t\ttemplateType: EmailTemplate.JOB_COMPLETE,\n\t\ttags: [{ name: \"job_number\", value: props.jobNumber }],\n\t});\n}\n\n// =============================================================================\n// BILLING EMAILS\n// =============================================================================\n\n/**\n * Send invoice to customer\n */\nasync function sendInvoice(\n\tto: string,\n\tprops: InvoiceSentProps,\n): Promise<EmailSendResult> {\n\treturn await sendEmail({\n\t\tto,\n\t\tsubject: `Invoice ${props.invoiceNumber} from Thorbis`,\n\t\ttemplate: InvoiceSentEmail(props),\n\t\ttemplateType: EmailTemplate.INVOICE_SENT,\n\t\ttags: [\n\t\t\t{ name: \"invoice_number\", value: props.invoiceNumber },\n\t\t\t{ name: \"amount\", value: props.totalAmount },\n\t\t],\n\t});\n}\n\n/**\n * Send payment confirmation\n */\nasync function sendPaymentReceived(\n\tto: string,\n\tprops: PaymentReceivedProps,\n): Promise<EmailSendResult> {\n\treturn await sendEmail({\n\t\tto,\n\t\tsubject: \"Payment received - Thank you!\",\n\t\ttemplate: PaymentReceivedEmail(props),\n\t\ttemplateType: EmailTemplate.PAYMENT_RECEIVED,\n\t\ttags: [\n\t\t\t{ name: \"invoice_number\", value: props.invoiceNumber },\n\t\t\t{ name: \"amount\", value: props.paymentAmount },\n\t\t],\n\t});\n}\n\n/**\n * Send payment reminder for overdue invoice\n */\nasync function sendPaymentReminder(\n\tto: string,\n\tprops: PaymentReminderProps,\n): Promise<EmailSendResult> {\n\treturn await sendEmail({\n\t\tto,\n\t\tsubject: `Payment reminder: Invoice ${props.invoiceNumber}`,\n\t\ttemplate: PaymentReminderEmail(props),\n\t\ttemplateType: EmailTemplate.PAYMENT_REMINDER,\n\t\ttags: [\n\t\t\t{ name: \"invoice_number\", value: props.invoiceNumber },\n\t\t\t{ name: \"days_overdue\", value: props.daysOverdue.toString() },\n\t\t],\n\t});\n}\n\n/**\n * Send estimate/quote to customer\n */\nasync function sendEstimate(\n\tto: string,\n\tprops: EstimateSentProps,\n): Promise<EmailSendResult> {\n\treturn await sendEmail({\n\t\tto,\n\t\tsubject: `Estimate ${props.estimateNumber} from Thorbis`,\n\t\ttemplate: EstimateSentEmail(props),\n\t\ttemplateType: EmailTemplate.ESTIMATE_SENT,\n\t\ttags: [\n\t\t\t{ name: \"estimate_number\", value: props.estimateNumber },\n\t\t\t{ name: \"amount\", value: props.totalAmount },\n\t\t],\n\t});\n}\n\n// =============================================================================\n// CUSTOMER ENGAGEMENT EMAILS\n// =============================================================================\n\n/**\n * Send review request after job completion\n */\nasync function sendReviewRequest(\n\tto: string,\n\tprops: ReviewRequestProps,\n): Promise<EmailSendResult> {\n\treturn await sendEmail({\n\t\tto,\n\t\tsubject: \"How was your experience with Thorbis?\",\n\t\ttemplate: ReviewRequestEmail(props),\n\t\ttemplateType: EmailTemplate.REVIEW_REQUEST,\n\t\ttags: [{ name: \"job_number\", value: props.jobNumber }],\n\t});\n}\n\n/**\n * Send service/maintenance reminder\n */\nasync function sendServiceReminder(\n\tto: string,\n\tprops: ServiceReminderProps,\n): Promise<EmailSendResult> {\n\treturn await sendEmail({\n\t\tto,\n\t\tsubject: `Time for your ${props.serviceName} service`,\n\t\ttemplate: ServiceReminderEmail(props),\n\t\ttemplateType: EmailTemplate.SERVICE_REMINDER,\n\t});\n}\n\n/**\n * Send welcome email to new customer\n */\nasync function sendWelcomeCustomer(\n\tto: string,\n\tprops: WelcomeCustomerProps,\n): Promise<EmailSendResult> {\n\treturn await sendEmail({\n\t\tto,\n\t\tsubject: \"Welcome to Thorbis!\",\n\t\ttemplate: WelcomeCustomerEmail(props),\n\t\ttemplateType: EmailTemplate.WELCOME_CUSTOMER,\n\t});\n}\n","/**\n * Notification Registry - Centralized definition of all notification types\n *\n * This file contains the complete catalog of all notifications in the system:\n * - Email notifications (20 templates)\n * - SMS notifications (8 types)\n * - In-app notifications (10 event types)\n * - Push notifications (6 types)\n *\n * Each notification includes:\n * - Implementation status (complete, partial, missing)\n * - Template/trigger information\n * - Test data for previews\n * - Channel availability\n */\n\nexport type NotificationChannel = \"email\" | \"sms\" | \"in_app\" | \"push\";\n\nexport type ImplementationStatus = \"complete\" | \"partial\" | \"missing\";\n\nexport interface NotificationDefinition {\n\tid: string;\n\tname: string;\n\tdescription: string;\n\tcategory: \"auth\" | \"job\" | \"billing\" | \"customer\" | \"team\" | \"system\";\n\tchannels: {\n\t\temail?: {\n\t\t\tstatus: ImplementationStatus;\n\t\t\ttemplatePath?: string;\n\t\t\ttemplateComponent?: string;\n\t\t};\n\t\tsms?: {\n\t\t\tstatus: ImplementationStatus;\n\t\t\ttemplateFunction?: string;\n\t\t};\n\t\tin_app?: {\n\t\t\tstatus: ImplementationStatus;\n\t\t\ttriggerFunction?: string;\n\t\t};\n\t\tpush?: {\n\t\t\tstatus: ImplementationStatus;\n\t\t\tserviceFunction?: string;\n\t\t};\n\t};\n\ttestData: Record<string, any>;\n\tpriority: \"low\" | \"medium\" | \"high\" | \"urgent\";\n\tuserPreferenceKey?: string;\n}\n\n/**\n * Complete Notification Registry\n */\nexport const NOTIFICATION_REGISTRY: NotificationDefinition[] = [\n\t// ========================================\n\t// AUTHENTICATION NOTIFICATIONS (5)\n\t// ========================================\n\t{\n\t\tid: \"auth-welcome\",\n\t\tname: \"Welcome Email\",\n\t\tdescription: \"Welcome new users to the platform\",\n\t\tcategory: \"auth\",\n\t\tpriority: \"high\",\n\t\tchannels: {\n\t\t\temail: {\n\t\t\t\tstatus: \"complete\",\n\t\t\t\ttemplatePath: \"/emails/templates/auth/welcome.tsx\",\n\t\t\t\ttemplateComponent: \"WelcomeEmail\",\n\t\t\t},\n\t\t\tin_app: {\n\t\t\t\tstatus: \"complete\",\n\t\t\t\ttriggerFunction: \"notifySystem\",\n\t\t\t},\n\t\t},\n\t\ttestData: {\n\t\t\tuserName: \"John Doe\",\n\t\t\tuserEmail: \"john@example.com\",\n\t\t\tdashboardUrl: \"https://app.stratos.com/dashboard\",\n\t\t},\n\t\tuserPreferenceKey: \"email_system\",\n\t},\n\t{\n\t\tid: \"auth-email-verification\",\n\t\tname: \"Email Verification\",\n\t\tdescription: \"Verify user email address with confirmation link\",\n\t\tcategory: \"auth\",\n\t\tpriority: \"urgent\",\n\t\tchannels: {\n\t\t\temail: {\n\t\t\t\tstatus: \"complete\",\n\t\t\t\ttemplatePath: \"/emails/templates/auth/email-verification.tsx\",\n\t\t\t\ttemplateComponent: \"EmailVerificationEmail\",\n\t\t\t},\n\t\t},\n\t\ttestData: {\n\t\t\tuserName: \"John Doe\",\n\t\t\tverificationUrl: \"https://app.stratos.com/auth/verify?token=abc123\",\n\t\t\texpiresInHours: 24,\n\t\t},\n\t},\n\t{\n\t\tid: \"auth-password-reset\",\n\t\tname: \"Password Reset\",\n\t\tdescription: \"Send password reset link to user\",\n\t\tcategory: \"auth\",\n\t\tpriority: \"urgent\",\n\t\tchannels: {\n\t\t\temail: {\n\t\t\t\tstatus: \"complete\",\n\t\t\t\ttemplatePath: \"/emails/templates/auth/password-reset.tsx\",\n\t\t\t\ttemplateComponent: \"PasswordResetEmail\",\n\t\t\t},\n\t\t\tsms: {\n\t\t\t\tstatus: \"missing\",\n\t\t\t\ttemplateFunction: \"smsPasswordResetCode\",\n\t\t\t},\n\t\t},\n\t\ttestData: {\n\t\t\tuserName: \"John Doe\",\n\t\t\tresetUrl: \"https://app.stratos.com/auth/reset-password?token=xyz789\",\n\t\t\texpiresInMinutes: 15,\n\t\t},\n\t},\n\t{\n\t\tid: \"auth-password-changed\",\n\t\tname: \"Password Changed Confirmation\",\n\t\tdescription: \"Confirm password was successfully changed\",\n\t\tcategory: \"auth\",\n\t\tpriority: \"high\",\n\t\tchannels: {\n\t\t\temail: {\n\t\t\t\tstatus: \"complete\",\n\t\t\t\ttemplatePath: \"/emails/templates/auth/password-changed.tsx\",\n\t\t\t\ttemplateComponent: \"PasswordChangedEmail\",\n\t\t\t},\n\t\t\tin_app: {\n\t\t\t\tstatus: \"complete\",\n\t\t\t\ttriggerFunction: \"notifyAlert\",\n\t\t\t},\n\t\t},\n\t\ttestData: {\n\t\t\tuserName: \"John Doe\",\n\t\t\tchangedAt: new Date().toISOString(),\n\t\t\tipAddress: \"192.168.1.1\",\n\t\t\tuserAgent: \"Chrome on macOS\",\n\t\t},\n\t},\n\t{\n\t\tid: \"auth-magic-link\",\n\t\tname: \"Magic Link Login\",\n\t\tdescription: \"Passwordless login via email link\",\n\t\tcategory: \"auth\",\n\t\tpriority: \"urgent\",\n\t\tchannels: {\n\t\t\temail: {\n\t\t\t\tstatus: \"complete\",\n\t\t\t\ttemplatePath: \"/emails/templates/auth/magic-link.tsx\",\n\t\t\t\ttemplateComponent: \"MagicLinkEmail\",\n\t\t\t},\n\t\t},\n\t\ttestData: {\n\t\t\tuserName: \"John Doe\",\n\t\t\tloginUrl: \"https://app.stratos.com/auth/magic?token=magic123\",\n\t\t\texpiresInMinutes: 10,\n\t\t},\n\t},\n\n\t// ========================================\n\t// JOB LIFECYCLE NOTIFICATIONS (4)\n\t// ========================================\n\t{\n\t\tid: \"job-confirmation\",\n\t\tname: \"Appointment Confirmation\",\n\t\tdescription: \"Confirm job appointment with customer\",\n\t\tcategory: \"job\",\n\t\tpriority: \"high\",\n\t\tchannels: {\n\t\t\temail: {\n\t\t\t\tstatus: \"complete\",\n\t\t\t\ttemplatePath: \"/emails/templates/jobs/job-confirmation.tsx\",\n\t\t\t\ttemplateComponent: \"JobConfirmationEmail\",\n\t\t\t},\n\t\t\tsms: {\n\t\t\t\tstatus: \"missing\",\n\t\t\t\ttemplateFunction: \"smsAppointmentConfirmation\",\n\t\t\t},\n\t\t\tin_app: {\n\t\t\t\tstatus: \"complete\",\n\t\t\t\ttriggerFunction: \"notifyJobCreated\",\n\t\t\t},\n\t\t\tpush: {\n\t\t\t\tstatus: \"missing\",\n\t\t\t\tserviceFunction: \"pushJobConfirmation\",\n\t\t\t},\n\t\t},\n\t\ttestData: {\n\t\t\tcustomerName: \"Sarah Johnson\",\n\t\t\tjobType: \"HVAC Maintenance\",\n\t\t\tscheduledDate: \"2025-12-01\",\n\t\t\tscheduledTime: \"2:00 PM - 4:00 PM\",\n\t\t\ttechnicianName: \"Mike Smith\",\n\t\t\taddress: \"123 Main St, Anytown, CA 90210\",\n\t\t\tconfirmationNumber: \"JOB-2025-001\",\n\t\t},\n\t\tuserPreferenceKey: \"email_new_jobs\",\n\t},\n\t{\n\t\tid: \"job-reminder\",\n\t\tname: \"Appointment Reminder\",\n\t\tdescription: \"Remind customer 24h before appointment\",\n\t\tcategory: \"job\",\n\t\tpriority: \"medium\",\n\t\tchannels: {\n\t\t\temail: {\n\t\t\t\tstatus: \"complete\",\n\t\t\t\ttemplatePath: \"/emails/templates/jobs/appointment-reminder.tsx\",\n\t\t\t\ttemplateComponent: \"AppointmentReminderEmail\",\n\t\t\t},\n\t\t\tsms: {\n\t\t\t\tstatus: \"missing\",\n\t\t\t\ttemplateFunction: \"smsAppointmentReminder\",\n\t\t\t},\n\t\t\tpush: {\n\t\t\t\tstatus: \"missing\",\n\t\t\t\tserviceFunction: \"pushAppointmentReminder\",\n\t\t\t},\n\t\t},\n\t\ttestData: {\n\t\t\tcustomerName: \"Sarah Johnson\",\n\t\t\tjobType: \"HVAC Maintenance\",\n\t\t\tscheduledDate: \"2025-12-01\",\n\t\t\tscheduledTime: \"2:00 PM\",\n\t\t\ttechnicianName: \"Mike Smith\",\n\t\t\tconfirmationNumber: \"JOB-2025-001\",\n\t\t},\n\t},\n\t{\n\t\tid: \"job-tech-enroute\",\n\t\tname: \"Technician En Route\",\n\t\tdescription: \"Notify customer that technician is on the way\",\n\t\tcategory: \"job\",\n\t\tpriority: \"urgent\",\n\t\tchannels: {\n\t\t\temail: {\n\t\t\t\tstatus: \"complete\",\n\t\t\t\ttemplatePath: \"/emails/templates/jobs/tech-en-route.tsx\",\n\t\t\t\ttemplateComponent: \"TechEnRouteEmail\",\n\t\t\t},\n\t\t\tsms: {\n\t\t\t\tstatus: \"missing\",\n\t\t\t\ttemplateFunction: \"smsTechEnRoute\",\n\t\t\t},\n\t\t\tin_app: {\n\t\t\t\tstatus: \"complete\",\n\t\t\t\ttriggerFunction: \"notifyJobUpdated\",\n\t\t\t},\n\t\t\tpush: {\n\t\t\t\tstatus: \"missing\",\n\t\t\t\tserviceFunction: \"pushTechEnRoute\",\n\t\t\t},\n\t\t},\n\t\ttestData: {\n\t\t\tcustomerName: \"Sarah Johnson\",\n\t\t\ttechnicianName: \"Mike Smith\",\n\t\t\ttechnicianPhone: \"+1 (555) 123-4567\",\n\t\t\testimatedArrival: \"20 minutes\",\n\t\t\ttrackingUrl: \"https://app.stratos.com/track/abc123\",\n\t\t},\n\t},\n\t{\n\t\tid: \"job-complete\",\n\t\tname: \"Job Completion\",\n\t\tdescription: \"Notify customer that service is complete\",\n\t\tcategory: \"job\",\n\t\tpriority: \"high\",\n\t\tchannels: {\n\t\t\temail: {\n\t\t\t\tstatus: \"complete\",\n\t\t\t\ttemplatePath: \"/emails/templates/jobs/job-complete.tsx\",\n\t\t\t\ttemplateComponent: \"JobCompleteEmail\",\n\t\t\t},\n\t\t\tsms: {\n\t\t\t\tstatus: \"missing\",\n\t\t\t\ttemplateFunction: \"smsJobComplete\",\n\t\t\t},\n\t\t\tin_app: {\n\t\t\t\tstatus: \"complete\",\n\t\t\t\ttriggerFunction: \"notifyJobCompleted\",\n\t\t\t},\n\t\t},\n\t\ttestData: {\n\t\t\tcustomerName: \"Sarah Johnson\",\n\t\t\tjobType: \"HVAC Maintenance\",\n\t\t\tcompletedDate: new Date().toISOString(),\n\t\t\ttechnicianName: \"Mike Smith\",\n\t\t\tworkPerformed:\n\t\t\t\t\"Replaced air filter, cleaned coils, checked refrigerant levels\",\n\t\t\tinvoiceUrl: \"https://app.stratos.com/invoices/INV-001\",\n\t\t\treviewUrl: \"https://app.stratos.com/review/abc123\",\n\t\t},\n\t\tuserPreferenceKey: \"email_job_updates\",\n\t},\n\n\t// ========================================\n\t// BILLING NOTIFICATIONS (4)\n\t// ========================================\n\t{\n\t\tid: \"billing-invoice-sent\",\n\t\tname: \"Invoice Sent\",\n\t\tdescription: \"Send invoice to customer\",\n\t\tcategory: \"billing\",\n\t\tpriority: \"high\",\n\t\tchannels: {\n\t\t\temail: {\n\t\t\t\tstatus: \"complete\",\n\t\t\t\ttemplatePath: \"/emails/templates/billing/invoice-sent.tsx\",\n\t\t\t\ttemplateComponent: \"InvoiceSentEmail\",\n\t\t\t},\n\t\t\tin_app: {\n\t\t\t\tstatus: \"complete\",\n\t\t\t\ttriggerFunction: \"notifyPaymentDue\",\n\t\t\t},\n\t\t},\n\t\ttestData: {\n\t\t\tcustomerName: \"Sarah Johnson\",\n\t\t\tinvoiceNumber: \"INV-2025-001\",\n\t\t\tinvoiceDate: \"2025-11-18\",\n\t\t\tdueDate: \"2025-12-18\",\n\t\t\ttotalAmount: 450.0,\n\t\t\titems: [\n\t\t\t\t{ description: \"HVAC Maintenance\", amount: 350.0 },\n\t\t\t\t{ description: \"Air Filter Replacement\", amount: 100.0 },\n\t\t\t],\n\t\t\tpaymentUrl: \"https://app.stratos.com/pay/inv-001\",\n\t\t},\n\t\tuserPreferenceKey: \"email_invoices\",\n\t},\n\t{\n\t\tid: \"billing-payment-received\",\n\t\tname: \"Payment Received\",\n\t\tdescription: \"Confirm payment received from customer\",\n\t\tcategory: \"billing\",\n\t\tpriority: \"high\",\n\t\tchannels: {\n\t\t\temail: {\n\t\t\t\tstatus: \"complete\",\n\t\t\t\ttemplatePath: \"/emails/templates/billing/payment-received.tsx\",\n\t\t\t\ttemplateComponent: \"PaymentReceivedEmail\",\n\t\t\t},\n\t\t\tin_app: {\n\t\t\t\tstatus: \"complete\",\n\t\t\t\ttriggerFunction: \"notifyPaymentReceived\",\n\t\t\t},\n\t\t},\n\t\ttestData: {\n\t\t\tcustomerName: \"Sarah Johnson\",\n\t\t\tinvoiceNumber: \"INV-2025-001\",\n\t\t\tpaymentAmount: 450.0,\n\t\t\tpaymentDate: new Date().toISOString(),\n\t\t\tpaymentMethod: \"Credit Card (**** 4242)\",\n\t\t\treceiptUrl: \"https://app.stratos.com/receipts/PAY-001\",\n\t\t},\n\t},\n\t{\n\t\tid: \"billing-payment-reminder\",\n\t\tname: \"Payment Reminder\",\n\t\tdescription: \"Remind customer of overdue payment\",\n\t\tcategory: \"billing\",\n\t\tpriority: \"medium\",\n\t\tchannels: {\n\t\t\temail: {\n\t\t\t\tstatus: \"complete\",\n\t\t\t\ttemplatePath: \"/emails/templates/billing/payment-reminder.tsx\",\n\t\t\t\ttemplateComponent: \"PaymentReminderEmail\",\n\t\t\t},\n\t\t\tsms: {\n\t\t\t\tstatus: \"missing\",\n\t\t\t\ttemplateFunction: \"smsPaymentReminder\",\n\t\t\t},\n\t\t\tin_app: {\n\t\t\t\tstatus: \"complete\",\n\t\t\t\ttriggerFunction: \"notifyAlert\",\n\t\t\t},\n\t\t},\n\t\ttestData: {\n\t\t\tcustomerName: \"Sarah Johnson\",\n\t\t\tinvoiceNumber: \"INV-2025-001\",\n\t\t\toriginalDueDate: \"2025-12-18\",\n\t\t\tdaysOverdue: 7,\n\t\t\ttotalAmount: 450.0,\n\t\t\tpaymentUrl: \"https://app.stratos.com/pay/inv-001\",\n\t\t},\n\t},\n\t{\n\t\tid: \"billing-estimate-sent\",\n\t\tname: \"Estimate Sent\",\n\t\tdescription: \"Send estimate/quote to customer\",\n\t\tcategory: \"billing\",\n\t\tpriority: \"medium\",\n\t\tchannels: {\n\t\t\temail: {\n\t\t\t\tstatus: \"complete\",\n\t\t\t\ttemplatePath: \"/emails/templates/billing/estimate-sent.tsx\",\n\t\t\t\ttemplateComponent: \"EstimateSentEmail\",\n\t\t\t},\n\t\t},\n\t\ttestData: {\n\t\t\tcustomerName: \"Sarah Johnson\",\n\t\t\testimateNumber: \"EST-2025-001\",\n\t\t\testimateDate: \"2025-11-18\",\n\t\t\tvalidUntil: \"2025-12-18\",\n\t\t\ttotalAmount: 1250.0,\n\t\t\titems: [\n\t\t\t\t{ description: \"HVAC System Installation\", amount: 1000.0 },\n\t\t\t\t{ description: \"Thermostat Upgrade\", amount: 250.0 },\n\t\t\t],\n\t\t\tapproveUrl: \"https://app.stratos.com/estimates/EST-001/approve\",\n\t\t},\n\t},\n\n\t// ========================================\n\t// CUSTOMER ENGAGEMENT NOTIFICATIONS (6)\n\t// ========================================\n\t{\n\t\tid: \"customer-invoice\",\n\t\tname: \"Customer Invoice Notification\",\n\t\tdescription: \"Customer-facing invoice notification\",\n\t\tcategory: \"customer\",\n\t\tpriority: \"high\",\n\t\tchannels: {\n\t\t\temail: {\n\t\t\t\tstatus: \"complete\",\n\t\t\t\ttemplatePath: \"/emails/templates/customer/invoice-notification.tsx\",\n\t\t\t\ttemplateComponent: \"CustomerInvoiceEmail\",\n\t\t\t},\n\t\t},\n\t\ttestData: {\n\t\t\tcustomerName: \"Sarah Johnson\",\n\t\t\tcompanyName: \"Acme HVAC Services\",\n\t\t\tinvoiceNumber: \"INV-2025-001\",\n\t\t\ttotalAmount: 450.0,\n\t\t\tdueDate: \"2025-12-18\",\n\t\t\tviewUrl: \"https://app.stratos.com/customer/invoices/INV-001\",\n\t\t},\n\t},\n\t{\n\t\tid: \"customer-estimate\",\n\t\tname: \"Customer Estimate Notification\",\n\t\tdescription: \"Customer-facing estimate notification\",\n\t\tcategory: \"customer\",\n\t\tpriority: \"medium\",\n\t\tchannels: {\n\t\t\temail: {\n\t\t\t\tstatus: \"complete\",\n\t\t\t\ttemplatePath: \"/emails/templates/customer/estimate-notification.tsx\",\n\t\t\t\ttemplateComponent: \"CustomerEstimateEmail\",\n\t\t\t},\n\t\t},\n\t\ttestData: {\n\t\t\tcustomerName: \"Sarah Johnson\",\n\t\t\tcompanyName: \"Acme HVAC Services\",\n\t\t\testimateNumber: \"EST-2025-001\",\n\t\t\ttotalAmount: 1250.0,\n\t\t\tvalidUntil: \"2025-12-18\",\n\t\t\tviewUrl: \"https://app.stratos.com/customer/estimates/EST-001\",\n\t\t},\n\t},\n\t{\n\t\tid: \"customer-review-request\",\n\t\tname: \"Review Request\",\n\t\tdescription: \"Request customer review after service completion\",\n\t\tcategory: \"customer\",\n\t\tpriority: \"low\",\n\t\tchannels: {\n\t\t\temail: {\n\t\t\t\tstatus: \"complete\",\n\t\t\t\ttemplatePath: \"/emails/templates/customer/review-request.tsx\",\n\t\t\t\ttemplateComponent: \"ReviewRequestEmail\",\n\t\t\t},\n\t\t\tsms: {\n\t\t\t\tstatus: \"missing\",\n\t\t\t\ttemplateFunction: \"smsReviewRequest\",\n\t\t\t},\n\t\t},\n\t\ttestData: {\n\t\t\tcustomerName: \"Sarah Johnson\",\n\t\t\tcompanyName: \"Acme HVAC Services\",\n\t\t\ttechnicianName: \"Mike Smith\",\n\t\t\tserviceDate: \"2025-11-18\",\n\t\t\treviewUrl: \"https://app.stratos.com/review/abc123\",\n\t\t},\n\t},\n\t{\n\t\tid: \"customer-service-reminder\",\n\t\tname: \"Service Reminder\",\n\t\tdescription: \"Remind customer of upcoming maintenance\",\n\t\tcategory: \"customer\",\n\t\tpriority: \"low\",\n\t\tchannels: {\n\t\t\temail: {\n\t\t\t\tstatus: \"complete\",\n\t\t\t\ttemplatePath: \"/emails/templates/customer/service-reminder.tsx\",\n\t\t\t\ttemplateComponent: \"ServiceReminderEmail\",\n\t\t\t},\n\t\t\tsms: {\n\t\t\t\tstatus: \"missing\",\n\t\t\t\ttemplateFunction: \"smsServiceReminder\",\n\t\t\t},\n\t\t},\n\t\ttestData: {\n\t\t\tcustomerName: \"Sarah Johnson\",\n\t\t\tcompanyName: \"Acme HVAC Services\",\n\t\t\tserviceType: \"Annual HVAC Maintenance\",\n\t\t\tlastServiceDate: \"2024-11-18\",\n\t\t\tequipmentType: \"HVAC System\",\n\t\t\tscheduleUrl: \"https://app.stratos.com/schedule\",\n\t\t},\n\t},\n\t{\n\t\tid: \"customer-welcome\",\n\t\tname: \"Welcome New Customer\",\n\t\tdescription: \"Welcome email for new customers\",\n\t\tcategory: \"customer\",\n\t\tpriority: \"medium\",\n\t\tchannels: {\n\t\t\temail: {\n\t\t\t\tstatus: \"complete\",\n\t\t\t\ttemplatePath: \"/emails/templates/customer/welcome-customer.tsx\",\n\t\t\t\ttemplateComponent: \"WelcomeCustomerEmail\",\n\t\t\t},\n\t\t},\n\t\ttestData: {\n\t\t\tcustomerName: \"Sarah Johnson\",\n\t\t\tcompanyName: \"Acme HVAC Services\",\n\t\t\tsupportEmail: \"support@acmehvac.com\",\n\t\t\tsupportPhone: \"+1 (555) 123-4567\",\n\t\t\tportalUrl: \"https://app.stratos.com/customer/portal\",\n\t\t},\n\t},\n\t{\n\t\tid: \"customer-portal-invitation\",\n\t\tname: \"Customer Portal Invitation\",\n\t\tdescription: \"Invite customer to access customer portal\",\n\t\tcategory: \"customer\",\n\t\tpriority: \"medium\",\n\t\tchannels: {\n\t\t\temail: {\n\t\t\t\tstatus: \"complete\",\n\t\t\t\ttemplatePath: \"/emails/templates/customer/portal-invitation.tsx\",\n\t\t\t\ttemplateComponent: \"PortalInvitationEmail\",\n\t\t\t},\n\t\t},\n\t\ttestData: {\n\t\t\tcustomerName: \"Sarah Johnson\",\n\t\t\tcompanyName: \"Acme HVAC Services\",\n\t\t\tinvitationUrl: \"https://app.stratos.com/customer/accept/abc123\",\n\t\t\texpiresInDays: 7,\n\t\t},\n\t},\n\n\t// ========================================\n\t// TEAM NOTIFICATIONS (1)\n\t// ========================================\n\t{\n\t\tid: \"team-invitation\",\n\t\tname: \"Team Member Invitation\",\n\t\tdescription: \"Invite new team member to join company\",\n\t\tcategory: \"team\",\n\t\tpriority: \"high\",\n\t\tchannels: {\n\t\t\temail: {\n\t\t\t\tstatus: \"complete\",\n\t\t\t\ttemplatePath: \"/emails/templates/team/invitation.tsx\",\n\t\t\t\ttemplateComponent: \"TeamInvitationEmail\",\n\t\t\t},\n\t\t\tin_app: {\n\t\t\t\tstatus: \"complete\",\n\t\t\t\ttriggerFunction: \"notifyTeamMemberAdded\",\n\t\t\t},\n\t\t},\n\t\ttestData: {\n\t\t\tinviteeName: \"Alex Rodriguez\",\n\t\t\tinviterName: \"John Manager\",\n\t\t\tcompanyName: \"Acme HVAC Services\",\n\t\t\trole: \"Technician\",\n\t\t\tinvitationUrl: \"https://app.stratos.com/invite/accept/xyz789\",\n\t\t\texpiresInDays: 7,\n\t\t},\n\t},\n\n\t// ========================================\n\t// SYSTEM NOTIFICATIONS (1)\n\t// ========================================\n\t{\n\t\tid: \"system-verification-submitted\",\n\t\tname: \"Telnyx Verification Submitted\",\n\t\tdescription: \"Confirm 10DLC verification submission to Telnyx\",\n\t\tcategory: \"system\",\n\t\tpriority: \"medium\",\n\t\tchannels: {\n\t\t\temail: {\n\t\t\t\tstatus: \"complete\",\n\t\t\t\ttemplatePath: \"/emails/templates/onboarding/verification-submitted.tsx\",\n\t\t\t\ttemplateComponent: \"VerificationSubmittedEmail\",\n\t\t\t},\n\t\t\tin_app: {\n\t\t\t\tstatus: \"complete\",\n\t\t\t\ttriggerFunction: \"notifySystem\",\n\t\t\t},\n\t\t},\n\t\ttestData: {\n\t\t\tuserName: \"John Doe\",\n\t\t\tbusinessName: \"Acme HVAC Services\",\n\t\t\tsubmissionDate: new Date().toISOString(),\n\t\t\testimatedReviewTime: \"2-3 business days\",\n\t\t},\n\t},\n\n\t// ========================================\n\t// IN-APP ONLY NOTIFICATIONS (3)\n\t// ========================================\n\t{\n\t\tid: \"inapp-new-message\",\n\t\tname: \"New Message\",\n\t\tdescription: \"New customer message received\",\n\t\tcategory: \"system\",\n\t\tpriority: \"high\",\n\t\tchannels: {\n\t\t\tin_app: {\n\t\t\t\tstatus: \"complete\",\n\t\t\t\ttriggerFunction: \"notifyNewMessage\",\n\t\t\t},\n\t\t\tpush: {\n\t\t\t\tstatus: \"missing\",\n\t\t\t\tserviceFunction: \"pushNewMessage\",\n\t\t\t},\n\t\t},\n\t\ttestData: {\n\t\t\tsenderName: \"Sarah Johnson\",\n\t\t\tmessagePreview: \"Can we reschedule my appointment?\",\n\t\t\tconversationUrl: \"/dashboard/communications/messages/123\",\n\t\t},\n\t\tuserPreferenceKey: \"email_messages\",\n\t},\n\t{\n\t\tid: \"inapp-missed-call\",\n\t\tname: \"Missed Call\",\n\t\tdescription: \"Missed call from customer\",\n\t\tcategory: \"system\",\n\t\tpriority: \"medium\",\n\t\tchannels: {\n\t\t\tin_app: {\n\t\t\t\tstatus: \"complete\",\n\t\t\t\ttriggerFunction: \"notifyMissedCall\",\n\t\t\t},\n\t\t},\n\t\ttestData: {\n\t\t\tcallerName: \"Sarah Johnson\",\n\t\t\tcallerNumber: \"+1 (555) 987-6543\",\n\t\t\tcallTime: new Date().toISOString(),\n\t\t},\n\t},\n\t{\n\t\tid: \"inapp-team-assignment\",\n\t\tname: \"Team Assignment\",\n\t\tdescription: \"Assigned to a job or task\",\n\t\tcategory: \"team\",\n\t\tpriority: \"medium\",\n\t\tchannels: {\n\t\t\tin_app: {\n\t\t\t\tstatus: \"complete\",\n\t\t\t\ttriggerFunction: \"notifyTeamAssignment\",\n\t\t\t},\n\t\t\tpush: {\n\t\t\t\tstatus: \"missing\",\n\t\t\t\tserviceFunction: \"pushTeamAssignment\",\n\t\t\t},\n\t\t},\n\t\ttestData: {\n\t\t\tassignerName: \"John Manager\",\n\t\t\tjobType: \"HVAC Maintenance\",\n\t\t\tjobUrl: \"/dashboard/work/jobs/456\",\n\t\t\tscheduledDate: \"2025-12-01\",\n\t\t},\n\t},\n];\n\n/**\n * Get notification by ID\n */\nexport function getNotificationById(\n\tid: string,\n): NotificationDefinition | undefined {\n\treturn NOTIFICATION_REGISTRY.find((n) => n.id === id);\n}\n\n/**\n * Get notifications by category\n */\nexport function getNotificationsByCategory(\n\tcategory: NotificationDefinition[\"category\"],\n): NotificationDefinition[] {\n\treturn NOTIFICATION_REGISTRY.filter((n) => n.category === category);\n}\n\n/**\n * Get notifications by channel\n */\nexport function getNotificationsByChannel(\n\tchannel: NotificationChannel,\n): NotificationDefinition[] {\n\treturn NOTIFICATION_REGISTRY.filter((n) => n.channels[channel] !== undefined);\n}\n\n/**\n * Get implementation status summary\n */\nexport function getImplementationStats() {\n\tconst stats = {\n\t\ttotal: NOTIFICATION_REGISTRY.length,\n\t\tbyChannel: {\n\t\t\temail: { complete: 0, partial: 0, missing: 0, total: 0 },\n\t\t\tsms: { complete: 0, partial: 0, missing: 0, total: 0 },\n\t\t\tin_app: { complete: 0, partial: 0, missing: 0, total: 0 },\n\t\t\tpush: { complete: 0, partial: 0, missing: 0, total: 0 },\n\t\t},\n\t\tbyCategory: {} as Record<string, number>,\n\t};\n\n\tNOTIFICATION_REGISTRY.forEach((notification) => {\n\t\t// Count by category\n\t\tstats.byCategory[notification.category] =\n\t\t\t(stats.byCategory[notification.category] || 0) + 1;\n\n\t\t// Count by channel\n\t\t(Object.keys(notification.channels) as NotificationChannel[]).forEach(\n\t\t\t(channel) => {\n\t\t\t\tconst channelData = notification.channels[channel];\n\t\t\t\tif (channelData) {\n\t\t\t\t\tstats.byChannel[channel].total++;\n\t\t\t\t\tstats.byChannel[channel][channelData.status]++;\n\t\t\t\t}\n\t\t\t},\n\t\t);\n\t});\n\n\treturn stats;\n}\n\n/**\n * Get incomplete notifications (partial or missing implementations)\n */\nfunction getIncompleteNotifications(): NotificationDefinition[] {\n\treturn NOTIFICATION_REGISTRY.filter((notification) => {\n\t\treturn Object.values(notification.channels).some(\n\t\t\t(channel) =>\n\t\t\t\tchannel &&\n\t\t\t\t(channel.status === \"partial\" || channel.status === \"missing\"),\n\t\t);\n\t});\n}\n","/**\n * SMS Notification Templates\n *\n * Plain text message templates for SMS notifications via Telnyx.\n * All messages are under 160 characters for single-segment SMS when possible.\n *\n * Template functions accept data objects and return formatted SMS text.\n */\n\n/**\n * 1. Appointment Confirmation\n * Sent: Immediately after appointment is scheduled\n */\nfunction smsAppointmentConfirmation(data: {\n\tcustomerName: string;\n\tjobType: string;\n\tscheduledDate: string;\n\tscheduledTime: string;\n\ttechnicianName: string;\n\tconfirmationNumber: string;\n}): string {\n\treturn `Hi ${data.customerName}, your ${data.jobType} appointment is confirmed for ${data.scheduledDate} at ${data.scheduledTime} with ${data.technicianName}. Confirmation: ${data.confirmationNumber}`;\n}\n\n/**\n * 2. Appointment Reminder\n * Sent: 24 hours before appointment\n */\nfunction smsAppointmentReminder(data: {\n\tcustomerName: string;\n\tjobType: string;\n\tscheduledTime: string;\n\ttechnicianName: string;\n}): string {\n\treturn `Reminder: ${data.customerName}, your ${data.jobType} appointment is tomorrow at ${data.scheduledTime} with ${data.technicianName}. Reply CANCEL to reschedule.`;\n}\n\n/**\n * 3. Technician En Route\n * Sent: When technician starts heading to job site\n */\nfunction smsTechEnRoute(data: {\n\tcustomerName: string;\n\ttechnicianName: string;\n\testimatedArrival: string;\n\ttechnicianPhone?: string;\n}): string {\n\tconst phoneInfo = data.technicianPhone\n\t\t? ` Call ${data.technicianPhone} if needed.`\n\t\t: \"\";\n\treturn `${data.customerName}, ${data.technicianName} is on the way! ETA: ${data.estimatedArrival}.${phoneInfo}`;\n}\n\n/**\n * 4. Job Completion with Payment Link\n * Sent: After service is completed\n */\nfunction smsJobComplete(data: {\n\tcustomerName: string;\n\tjobType: string;\n\ttotalAmount?: number;\n\tpaymentUrl?: string;\n}): string {\n\tif (data.totalAmount && data.paymentUrl) {\n\t\treturn `${data.customerName}, your ${data.jobType} is complete! Total: $${data.totalAmount.toFixed(2)}. Pay now: ${data.paymentUrl}`;\n\t}\n\treturn `${data.customerName}, your ${data.jobType} service is complete! Thank you for choosing us.`;\n}\n\n/**\n * 5. Verification Code (2FA)\n * Sent: For two-factor authentication or email verification\n */\nfunction smsVerificationCode(data: {\n\tcode: string;\n\texpiresInMinutes: number;\n}): string {\n\treturn `Your verification code is: ${data.code}. This code expires in ${data.expiresInMinutes} minutes. Do not share this code.`;\n}\n\n/**\n * 6. Password Reset Code\n * Sent: For password reset verification\n */\nfunction smsPasswordResetCode(data: {\n\tcode: string;\n\texpiresInMinutes: number;\n}): string {\n\treturn `Your password reset code is: ${data.code}. This code expires in ${data.expiresInMinutes} minutes. If you didn't request this, please ignore.`;\n}\n\n/**\n * 7. Payment Reminder\n * Sent: 7 days after invoice is overdue\n */\nfunction smsPaymentReminder(data: {\n\tcustomerName: string;\n\tinvoiceNumber: string;\n\ttotalAmount: number;\n\tdaysOverdue: number;\n\tpaymentUrl: string;\n}): string {\n\treturn `${data.customerName}, invoice ${data.invoiceNumber} for $${data.totalAmount.toFixed(2)} is ${data.daysOverdue} days overdue. Pay now: ${data.paymentUrl}`;\n}\n\n/**\n * 8. Service Reminder\n * Sent: Annual maintenance reminder\n */\nfunction smsServiceReminder(data: {\n\tcustomerName: string;\n\tserviceType: string;\n\tequipmentType: string;\n\tscheduleUrl: string;\n}): string {\n\treturn `${data.customerName}, it's time for ${data.serviceType} on your ${data.equipmentType}. Schedule now: ${data.scheduleUrl}`;\n}\n\n/**\n * 9. Schedule Change Notification\n * Sent: When appointment is rescheduled or cancelled\n */\nfunction smsScheduleChange(data: {\n\tcustomerName: string;\n\tchangeType: \"rescheduled\" | \"cancelled\";\n\toriginalDate?: string;\n\tnewDate?: string;\n\tnewTime?: string;\n\treason?: string;\n}): string {\n\tif (data.changeType === \"cancelled\") {\n\t\treturn `${data.customerName}, your appointment on ${data.originalDate} has been cancelled. ${data.reason || \"Please call to reschedule.\"}`;\n\t}\n\n\treturn `${data.customerName}, your appointment has been rescheduled from ${data.originalDate} to ${data.newDate} at ${data.newTime}. ${data.reason || \"\"}`;\n}\n\n/**\n * 10. Review Request\n * Sent: 2-3 days after job completion\n */\nfunction smsReviewRequest(data: {\n\tcustomerName: string;\n\tcompanyName: string;\n\ttechnicianName: string;\n\treviewUrl: string;\n}): string {\n\treturn `Hi ${data.customerName}, how was your experience with ${data.technicianName} from ${data.companyName}? Leave a review: ${data.reviewUrl}`;\n}\n\n/**\n * 11. Urgent Alert\n * Sent: For emergency situations or critical updates\n */\nfunction smsUrgentAlert(data: {\n\tcustomerName: string;\n\tmessage: string;\n\tcontactNumber?: string;\n}): string {\n\tconst contactInfo = data.contactNumber\n\t\t? ` Call ${data.contactNumber} immediately.`\n\t\t: \"\";\n\treturn `URGENT: ${data.customerName}, ${data.message}${contactInfo}`;\n}\n\n/**\n * Helper: Get SMS character count\n * Single segment: 160 characters\n * Multi-segment: 153 characters per segment (with concatenation header)\n */\nfunction getSmsSegmentCount(message: string): number {\n\tconst length = message.length;\n\tif (length <= 160) return 1;\n\treturn Math.ceil(length / 153);\n}\n\n/**\n * Helper: Validate SMS message length\n * Returns true if message is within recommended limits\n */\nfunction validateSmsLength(message: string): {\n\tvalid: boolean;\n\tlength: number;\n\tsegments: number;\n\twarning?: string;\n} {\n\tconst length = message.length;\n\tconst segments = getSmsSegmentCount(message);\n\n\tif (length <= 160) {\n\t\treturn { valid: true, length, segments: 1 };\n\t}\n\n\tif (length <= 306) {\n\t\t// 2 segments\n\t\treturn {\n\t\t\tvalid: true,\n\t\t\tlength,\n\t\t\tsegments,\n\t\t\twarning: \"Message will be sent as 2 SMS segments\",\n\t\t};\n\t}\n\n\treturn {\n\t\tvalid: false,\n\t\tlength,\n\t\tsegments,\n\t\twarning: `Message is too long (${segments} segments). Consider shortening.`,\n\t};\n}\n\n/**\n * Helper: Shorten URLs using a URL shortener service\n * (Placeholder - implement with Bitly, TinyURL, or custom shortener)\n */\nasync function shortenUrl(longUrl: string): Promise<string> {\n\t// TODO: Implement URL shortening service integration\n\t// For now, return the original URL\n\treturn longUrl;\n}\n\n/**\n * SMS Template Test Data\n * Used for testing and previewing SMS templates\n */\nexport const SMS_TEST_DATA = {\n\tappointmentConfirmation: {\n\t\tcustomerName: \"Sarah Johnson\",\n\t\tjobType: \"HVAC Maintenance\",\n\t\tscheduledDate: \"Dec 1, 2025\",\n\t\tscheduledTime: \"2:00 PM\",\n\t\ttechnicianName: \"Mike Smith\",\n\t\tconfirmationNumber: \"JOB-2025-001\",\n\t},\n\tappointmentReminder: {\n\t\tcustomerName: \"Sarah\",\n\t\tjobType: \"HVAC service\",\n\t\tscheduledTime: \"2:00 PM\",\n\t\ttechnicianName: \"Mike\",\n\t},\n\ttechEnRoute: {\n\t\tcustomerName: \"Sarah\",\n\t\ttechnicianName: \"Mike\",\n\t\testimatedArrival: \"20 min\",\n\t\ttechnicianPhone: \"+1-555-123-4567\",\n\t},\n\tjobComplete: {\n\t\tcustomerName: \"Sarah\",\n\t\tjobType: \"HVAC maintenance\",\n\t\ttotalAmount: 450.0,\n\t\tpaymentUrl: \"https://pay.co/abc123\",\n\t},\n\tverificationCode: {\n\t\tcode: \"123456\",\n\t\texpiresInMinutes: 10,\n\t},\n\tpasswordResetCode: {\n\t\tcode: \"789012\",\n\t\texpiresInMinutes: 15,\n\t},\n\tpaymentReminder: {\n\t\tcustomerName: \"Sarah\",\n\t\tinvoiceNumber: \"INV-001\",\n\t\ttotalAmount: 450.0,\n\t\tdaysOverdue: 7,\n\t\tpaymentUrl: \"https://pay.co/inv001\",\n\t},\n\tserviceReminder: {\n\t\tcustomerName: \"Sarah\",\n\t\tserviceType: \"annual HVAC maintenance\",\n\t\tequipmentType: \"heating system\",\n\t\tscheduleUrl: \"https://book.co/abc\",\n\t},\n\tscheduleChange: {\n\t\tcustomerName: \"Sarah\",\n\t\tchangeType: \"rescheduled\" as const,\n\t\toriginalDate: \"Dec 1\",\n\t\tnewDate: \"Dec 3\",\n\t\tnewTime: \"10:00 AM\",\n\t\treason: \"Weather delay\",\n\t},\n\treviewRequest: {\n\t\tcustomerName: \"Sarah\",\n\t\tcompanyName: \"Acme HVAC\",\n\t\ttechnicianName: \"Mike\",\n\t\treviewUrl: \"https://review.co/abc\",\n\t},\n\turgentAlert: {\n\t\tcustomerName: \"Sarah\",\n\t\tmessage: \"Gas leak detected in your area. Please evacuate immediately.\",\n\t\tcontactNumber: \"911\",\n\t},\n};\n\n/**\n * Get SMS template function by ID\n */\nexport function getSmsTemplate(\n\ttemplateId: string,\n): ((data: any) => string) | null {\n\tconst templates: Record<string, (data: any) => string> = {\n\t\t\"appointment-confirmation\": smsAppointmentConfirmation,\n\t\t\"appointment-reminder\": smsAppointmentReminder,\n\t\t\"tech-en-route\": smsTechEnRoute,\n\t\t\"job-complete\": smsJobComplete,\n\t\t\"verification-code\": smsVerificationCode,\n\t\t\"password-reset-code\": smsPasswordResetCode,\n\t\t\"payment-reminder\": smsPaymentReminder,\n\t\t\"service-reminder\": smsServiceReminder,\n\t\t\"schedule-change\": smsScheduleChange,\n\t\t\"review-request\": smsReviewRequest,\n\t\t\"urgent-alert\": smsUrgentAlert,\n\t};\n\n\treturn templates[templateId] || null;\n}\n","/**\n * Notification Testing API\n *\n * Endpoint for sending test notifications from the notification testing dashboard.\n * Supports: Email, SMS, In-App, and Push notifications\n *\n * POST /api/notifications/test\n */\n\nimport { NextResponse } from \"next/server\";\nimport {\n\tsendEmailVerification,\n\tsendPasswordReset,\n\tsendWelcomeEmail,\n} from \"@/actions/emails\";\nimport { getNotificationById } from \"@/app/(dashboard)/dashboard/settings/notifications/testing/notification-registry\";\nimport {\n\tgetSmsTemplate,\n\tSMS_TEST_DATA,\n} from \"@/lib/notifications/sms-templates\";\nimport { createServiceSupabaseClient } from \"@/lib/supabase/service-client\";\nimport { sendSMS } from \"@/lib/telnyx/messaging\";\n\nexport async function POST(request: Request) {\n\ttry {\n\t\tconst body = await request.json();\n\t\tconst { notificationId, channel, recipient, testData } = body;\n\n\t\t// Validate inputs\n\t\tif (!notificationId || !channel || !recipient) {\n\t\t\treturn NextResponse.json(\n\t\t\t\t{\n\t\t\t\t\tsuccess: false,\n\t\t\t\t\terror: \"Missing required fields: notificationId, channel, recipient\",\n\t\t\t\t},\n\t\t\t\t{ status: 400 },\n\t\t\t);\n\t\t}\n\n\t\t// Get notification definition\n\t\tconst notification = getNotificationById(notificationId);\n\t\tif (!notification) {\n\t\t\treturn NextResponse.json(\n\t\t\t\t{ success: false, error: \"Notification not found\" },\n\t\t\t\t{ status: 404 },\n\t\t\t);\n\t\t}\n\n\t\t// Check if channel is implemented\n\t\tconst channelData = notification.channels[channel];\n\t\tif (!channelData) {\n\t\t\treturn NextResponse.json(\n\t\t\t\t{\n\t\t\t\t\tsuccess: false,\n\t\t\t\t\terror: `Channel ${channel} not available for this notification`,\n\t\t\t\t},\n\t\t\t\t{ status: 400 },\n\t\t\t);\n\t\t}\n\n\t\tif (channelData.status !== \"complete\") {\n\t\t\treturn NextResponse.json(\n\t\t\t\t{\n\t\t\t\t\tsuccess: false,\n\t\t\t\t\terror: `Channel ${channel} is not fully implemented (status: ${channelData.status})`,\n\t\t\t\t},\n\t\t\t\t{ status: 400 },\n\t\t\t);\n\t\t}\n\n\t\t// Use provided test data or default from registry\n\t\tconst emailProps = testData || notification.testData;\n\n\t\t// Send based on channel\n\t\tlet result;\n\n\t\tif (channel === \"email\") {\n\t\t\tresult = await sendTestEmail(notificationId, recipient, emailProps);\n\t\t} else if (channel === \"sms\") {\n\t\t\tresult = await sendTestSMS(notificationId, recipient, emailProps);\n\t\t} else if (channel === \"in_app\") {\n\t\t\tresult = await sendTestInApp(notificationId, recipient, emailProps);\n\t\t} else if (channel === \"push\") {\n\t\t\treturn NextResponse.json(\n\t\t\t\t{ success: false, error: \"Push notifications not yet implemented\" },\n\t\t\t\t{ status: 501 },\n\t\t\t);\n\t\t} else {\n\t\t\treturn NextResponse.json(\n\t\t\t\t{ success: false, error: `Unknown channel: ${channel}` },\n\t\t\t\t{ status: 400 },\n\t\t\t);\n\t\t}\n\n\t\tif (result.success) {\n\t\t\treturn NextResponse.json({\n\t\t\t\tsuccess: true,\n\t\t\t\tmessage: `Test ${channel} notification sent successfully to ${recipient}`,\n\t\t\t\tdata: result.data,\n\t\t\t});\n\t\t} else {\n\t\t\treturn NextResponse.json(\n\t\t\t\t{ success: false, error: result.error },\n\t\t\t\t{ status: 500 },\n\t\t\t);\n\t\t}\n\t} catch (error) {\n\t\tconsole.error(\"Error sending test notification:\", error);\n\t\treturn NextResponse.json(\n\t\t\t{\n\t\t\t\tsuccess: false,\n\t\t\t\terror:\n\t\t\t\t\terror instanceof Error ? error.message : \"Unknown error occurred\",\n\t\t\t},\n\t\t\t{ status: 500 },\n\t\t);\n\t}\n}\n\n/**\n * Send test email\n */\nasync function sendTestEmail(\n\tnotificationId: string,\n\trecipient: string,\n\tprops: any,\n) {\n\ttry {\n\t\tlet result;\n\n\t\tswitch (notificationId) {\n\t\t\tcase \"auth-welcome\":\n\t\t\t\tresult = await sendWelcomeEmail(recipient, {\n\t\t\t\t\tname: props.userName || \"Test User\",\n\t\t\t\t\tloginUrl: props.dashboardUrl || \"https://app.stratos.com/dashboard\",\n\t\t\t\t});\n\t\t\t\tbreak;\n\n\t\t\tcase \"auth-email-verification\":\n\t\t\t\tresult = await sendEmailVerification(recipient, {\n\t\t\t\t\tname: props.userName || \"Test User\",\n\t\t\t\t\tverificationUrl:\n\t\t\t\t\t\tprops.verificationUrl ||\n\t\t\t\t\t\t\"https://app.stratos.com/auth/verify?token=test123\",\n\t\t\t\t\texpiresInHours: props.expiresInHours || 24,\n\t\t\t\t});\n\t\t\t\tbreak;\n\n\t\t\tcase \"auth-password-reset\":\n\t\t\t\tresult = await sendPasswordReset(recipient, {\n\t\t\t\t\tname: props.userName || \"Test User\",\n\t\t\t\t\tresetUrl:\n\t\t\t\t\t\tprops.resetUrl ||\n\t\t\t\t\t\t\"https://app.stratos.com/auth/reset-password?token=test789\",\n\t\t\t\t\texpiresInMinutes: props.expiresInMinutes || 15,\n\t\t\t\t});\n\t\t\t\tbreak;\n\n\t\t\t// Add more email types here as needed\n\t\t\t// TODO: Implement remaining email templates\n\n\t\t\tdefault:\n\t\t\t\treturn {\n\t\t\t\t\tsuccess: false,\n\t\t\t\t\terror: `Email template for ${notificationId} not yet implemented in test API`,\n\t\t\t\t};\n\t\t}\n\n\t\treturn result;\n\t} catch (error) {\n\t\tconsole.error(\"Error sending test email:\", error);\n\t\treturn {\n\t\t\tsuccess: false,\n\t\t\terror:\n\t\t\t\terror instanceof Error ? error.message : \"Failed to send test email\",\n\t\t};\n\t}\n}\n\n/**\n * Send test SMS\n */\nasync function sendTestSMS(\n\tnotificationId: string,\n\trecipient: string,\n\tprops: any,\n) {\n\ttry {\n\t\t// Get SMS template function name from notification ID\n\t\tconst templateMap: Record<string, string> = {\n\t\t\t\"job-confirmation\": \"appointment-confirmation\",\n\t\t\t\"job-reminder\": \"appointment-reminder\",\n\t\t\t\"job-tech-enroute\": \"tech-en-route\",\n\t\t\t\"job-complete\": \"job-complete\",\n\t\t\t\"billing-payment-reminder\": \"payment-reminder\",\n\t\t\t\"customer-service-reminder\": \"service-reminder\",\n\t\t\t\"customer-review-request\": \"review-request\",\n\t\t};\n\n\t\tconst templateId = templateMap[notificationId];\n\t\tif (!templateId) {\n\t\t\treturn {\n\t\t\t\tsuccess: false,\n\t\t\t\terror: `SMS template for ${notificationId} not yet mapped`,\n\t\t\t};\n\t\t}\n\n\t\t// Get SMS template function\n\t\tconst template = getSmsTemplate(templateId);\n\t\tif (!template) {\n\t\t\treturn {\n\t\t\t\tsuccess: false,\n\t\t\t\terror: `SMS template ${templateId} not found`,\n\t\t\t};\n\t\t}\n\n\t\t// Generate SMS text\n\t\tconst message = template(props);\n\n\t\t// Send SMS via Telnyx\n\t\tconst result = await sendSMS({\n\t\t\tto: recipient,\n\t\t\ttext: message,\n\t\t\tfrom: process.env.TELNYX_PHONE_NUMBER || \"+15555555555\", // Use configured Telnyx number\n\t\t});\n\n\t\tif (result.success) {\n\t\t\treturn {\n\t\t\t\tsuccess: true,\n\t\t\t\tdata: { messageId: result.data?.id, message },\n\t\t\t};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\tsuccess: false,\n\t\t\t\terror: result.error || \"Failed to send SMS\",\n\t\t\t};\n\t\t}\n\t} catch (error) {\n\t\tconsole.error(\"Error sending test SMS:\", error);\n\t\treturn {\n\t\t\tsuccess: false,\n\t\t\terror: error instanceof Error ? error.message : \"Failed to send test SMS\",\n\t\t};\n\t}\n}\n\n/**\n * Send test in-app notification\n */\nasync function sendTestInApp(\n\tnotificationId: string,\n\trecipient: string,\n\tprops: any,\n) {\n\ttry {\n\t\tconst supabase = createServiceSupabaseClient();\n\n\t\t// Get user by ID or email\n\t\tlet userId = recipient;\n\t\tif (recipient.includes(\"@\")) {\n\t\t\t// Look up user by email\n\t\t\tconst { data: user, error: userError } = await supabase\n\t\t\t\t.from(\"user_metadata\")\n\t\t\t\t.select(\"user_id\")\n\t\t\t\t.eq(\"email\", recipient)\n\t\t\t\t.single();\n\n\t\t\tif (userError || !user) {\n\t\t\t\treturn {\n\t\t\t\t\tsuccess: false,\n\t\t\t\t\terror: \"User not found with email: \" + recipient,\n\t\t\t\t};\n\t\t\t}\n\t\t\tuserId = user.user_id;\n\t\t}\n\n\t\t// Create notification in database\n\t\tconst { data, error } = await supabase\n\t\t\t.from(\"notifications\")\n\t\t\t.insert({\n\t\t\t\tuser_id: userId,\n\t\t\t\tcompany_id: props.companyId || \"00000000-0000-0000-0000-000000000000\", // Use test company ID\n\t\t\t\ttype: props.type || \"message\",\n\t\t\t\tpriority: props.priority || \"medium\",\n\t\t\t\ttitle: props.title || \"Test Notification\",\n\t\t\t\tmessage:\n\t\t\t\t\tprops.message ||\n\t\t\t\t\t\"This is a test notification from the notification testing dashboard.\",\n\t\t\t\taction_url: props.action_url || null,\n\t\t\t\taction_label: props.action_label || null,\n\t\t\t\tmetadata: props.metadata || null,\n\t\t\t\tread: false,\n\t\t\t})\n\t\t\t.select()\n\t\t\t.single();\n\n\t\tif (error) {\n\t\t\tconsole.error(\"Error creating in-app notification:\", error);\n\t\t\treturn {\n\t\t\t\tsuccess: false,\n\t\t\t\terror: error.message,\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\tsuccess: true,\n\t\t\tdata: { notificationId: data.id },\n\t\t};\n\t} catch (error) {\n\t\tconsole.error(\"Error sending test in-app notification:\", error);\n\t\treturn {\n\t\t\tsuccess: false,\n\t\t\terror:\n\t\t\t\terror instanceof Error\n\t\t\t\t\t? error.message\n\t\t\t\t\t: \"Failed to send in-app notification\",\n\t\t};\n\t}\n}\n","import {\n  AppRouteRouteModule,\n  type AppRouteRouteHandlerContext,\n  type AppRouteRouteModuleOptions,\n} from '../../server/route-modules/app-route/module.compiled'\nimport { RouteKind } from '../../server/route-kind'\nimport { patchFetch as _patchFetch } from '../../server/lib/patch-fetch'\nimport type { IncomingMessage, ServerResponse } from 'node:http'\nimport { addRequestMeta, getRequestMeta } from '../../server/request-meta'\nimport { getTracer, type Span, SpanKind } from '../../server/lib/trace/tracer'\nimport { setReferenceManifestsSingleton } from '../../server/app-render/encryption-utils'\nimport { createServerModuleMap } from '../../server/app-render/action-utils'\nimport { normalizeAppPath } from '../../shared/lib/router/utils/app-paths'\nimport { NodeNextRequest, NodeNextResponse } from '../../server/base-http/node'\nimport {\n  NextRequestAdapter,\n  signalFromNodeResponse,\n} from '../../server/web/spec-extension/adapters/next-request'\nimport { BaseServerSpan } from '../../server/lib/trace/constants'\nimport { getRevalidateReason } from '../../server/instrumentation/utils'\nimport { sendResponse } from '../../server/send-response'\nimport {\n  fromNodeOutgoingHttpHeaders,\n  toNodeOutgoingHttpHeaders,\n} from '../../server/web/utils'\nimport { getCacheControlHeader } from '../../server/lib/cache-control'\nimport { INFINITE_CACHE, NEXT_CACHE_TAGS_HEADER } from '../../lib/constants'\nimport { NoFallbackError } from '../../shared/lib/no-fallback-error.external'\nimport {\n  CachedRouteKind,\n  type ResponseCacheEntry,\n  type ResponseGenerator,\n} from '../../server/response-cache'\n\nimport * as userland from 'VAR_USERLAND'\n\n// These are injected by the loader afterwards. This is injected as a variable\n// instead of a replacement because this could also be `undefined` instead of\n// an empty string.\ndeclare const nextConfigOutput: AppRouteRouteModuleOptions['nextConfigOutput']\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\n// INJECT:nextConfigOutput\n\nconst routeModule = new AppRouteRouteModule({\n  definition: {\n    kind: RouteKind.APP_ROUTE,\n    page: 'VAR_DEFINITION_PAGE',\n    pathname: 'VAR_DEFINITION_PATHNAME',\n    filename: 'VAR_DEFINITION_FILENAME',\n    bundlePath: 'VAR_DEFINITION_BUNDLE_PATH',\n  },\n  distDir: process.env.__NEXT_RELATIVE_DIST_DIR || '',\n  relativeProjectDir: process.env.__NEXT_RELATIVE_PROJECT_DIR || '',\n  resolvedPagePath: 'VAR_RESOLVED_PAGE_PATH',\n  nextConfigOutput,\n  userland,\n})\n\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule\n\nfunction patchFetch() {\n  return _patchFetch({\n    workAsyncStorage,\n    workUnitAsyncStorage,\n  })\n}\n\nexport {\n  routeModule,\n  workAsyncStorage,\n  workUnitAsyncStorage,\n  serverHooks,\n  patchFetch,\n}\n\nexport async function handler(\n  req: IncomingMessage,\n  res: ServerResponse,\n  ctx: {\n    waitUntil: (prom: Promise<void>) => void\n  }\n) {\n  if (routeModule.isDev) {\n    addRequestMeta(req, 'devRequestTimingInternalsEnd', process.hrtime.bigint())\n  }\n  let srcPage = 'VAR_DEFINITION_PAGE'\n\n  // turbopack doesn't normalize `/index` in the page name\n  // so we need to to process dynamic routes properly\n  // TODO: fix turbopack providing differing value from webpack\n  if (process.env.TURBOPACK) {\n    srcPage = srcPage.replace(/\\/index$/, '') || '/'\n  } else if (srcPage === '/index') {\n    // we always normalize /index specifically\n    srcPage = '/'\n  }\n  const multiZoneDraftMode = process.env\n    .__NEXT_MULTI_ZONE_DRAFT_MODE as any as boolean\n\n  const prepareResult = await routeModule.prepare(req, res, {\n    srcPage,\n    multiZoneDraftMode,\n  })\n\n  if (!prepareResult) {\n    res.statusCode = 400\n    res.end('Bad Request')\n    ctx.waitUntil?.(Promise.resolve())\n    return null\n  }\n\n  const {\n    buildId,\n    params,\n    nextConfig,\n    parsedUrl,\n    isDraftMode,\n    prerenderManifest,\n    routerServerContext,\n    isOnDemandRevalidate,\n    revalidateOnlyGenerated,\n    resolvedPathname,\n    clientReferenceManifest,\n    serverActionsManifest,\n  } = prepareResult\n\n  const normalizedSrcPage = normalizeAppPath(srcPage)\n\n  let isIsr = Boolean(\n    prerenderManifest.dynamicRoutes[normalizedSrcPage] ||\n      prerenderManifest.routes[resolvedPathname]\n  )\n\n  const render404 = async () => {\n    // TODO: should route-module itself handle rendering the 404\n    if (routerServerContext?.render404) {\n      await routerServerContext.render404(req, res, parsedUrl, false)\n    } else {\n      res.end('This page could not be found')\n    }\n    return null\n  }\n\n  if (isIsr && !isDraftMode) {\n    const isPrerendered = Boolean(prerenderManifest.routes[resolvedPathname])\n    const prerenderInfo = prerenderManifest.dynamicRoutes[normalizedSrcPage]\n\n    if (prerenderInfo) {\n      if (prerenderInfo.fallback === false && !isPrerendered) {\n        if (nextConfig.experimental.adapterPath) {\n          return await render404()\n        }\n        throw new NoFallbackError()\n      }\n    }\n  }\n\n  let cacheKey: string | null = null\n\n  if (isIsr && !routeModule.isDev && !isDraftMode) {\n    cacheKey = resolvedPathname\n    // ensure /index and / is normalized to one key\n    cacheKey = cacheKey === '/index' ? '/' : cacheKey\n  }\n\n  const supportsDynamicResponse: boolean =\n    // If we're in development, we always support dynamic HTML\n    routeModule.isDev === true ||\n    // If this is not SSG or does not have static paths, then it supports\n    // dynamic HTML.\n    !isIsr\n\n  // This is a revalidation request if the request is for a static\n  // page and it is not being resumed from a postponed render and\n  // it is not a dynamic RSC request then it is a revalidation\n  // request.\n  const isStaticGeneration = isIsr && !supportsDynamicResponse\n\n  // Before rendering (which initializes component tree modules), we have to\n  // set the reference manifests to our global store so Server Action's\n  // encryption util can access to them at the top level of the page module.\n  if (serverActionsManifest && clientReferenceManifest) {\n    setReferenceManifestsSingleton({\n      page: srcPage,\n      clientReferenceManifest,\n      serverActionsManifest,\n      serverModuleMap: createServerModuleMap({\n        serverActionsManifest,\n      }),\n    })\n  }\n\n  const method = req.method || 'GET'\n  const tracer = getTracer()\n  const activeSpan = tracer.getActiveScopeSpan()\n\n  const context: AppRouteRouteHandlerContext = {\n    params,\n    prerenderManifest,\n    renderOpts: {\n      experimental: {\n        authInterrupts: Boolean(nextConfig.experimental.authInterrupts),\n      },\n      cacheComponents: Boolean(nextConfig.cacheComponents),\n      supportsDynamicResponse,\n      incrementalCache: getRequestMeta(req, 'incrementalCache'),\n      cacheLifeProfiles: nextConfig.cacheLife,\n      waitUntil: ctx.waitUntil,\n      onClose: (cb) => {\n        res.on('close', cb)\n      },\n      onAfterTaskError: undefined,\n      onInstrumentationRequestError: (error, _request, errorContext) =>\n        routeModule.onRequestError(\n          req,\n          error,\n          errorContext,\n          routerServerContext\n        ),\n    },\n    sharedContext: {\n      buildId,\n    },\n  }\n  const nodeNextReq = new NodeNextRequest(req)\n  const nodeNextRes = new NodeNextResponse(res)\n\n  const nextReq = NextRequestAdapter.fromNodeNextRequest(\n    nodeNextReq,\n    signalFromNodeResponse(res)\n  )\n\n  try {\n    const invokeRouteModule = async (span?: Span) => {\n      return routeModule.handle(nextReq, context).finally(() => {\n        if (!span) return\n\n        span.setAttributes({\n          'http.status_code': res.statusCode,\n          'next.rsc': false,\n        })\n\n        const rootSpanAttributes = tracer.getRootSpanAttributes()\n        // We were unable to get attributes, probably OTEL is not enabled\n        if (!rootSpanAttributes) {\n          return\n        }\n\n        if (\n          rootSpanAttributes.get('next.span_type') !==\n          BaseServerSpan.handleRequest\n        ) {\n          console.warn(\n            `Unexpected root span type '${rootSpanAttributes.get(\n              'next.span_type'\n            )}'. Please report this Next.js issue https://github.com/vercel/next.js`\n          )\n          return\n        }\n\n        const route = rootSpanAttributes.get('next.route')\n        if (route) {\n          const name = `${method} ${route}`\n\n          span.setAttributes({\n            'next.route': route,\n            'http.route': route,\n            'next.span_name': name,\n          })\n          span.updateName(name)\n        } else {\n          span.updateName(`${method} ${srcPage}`)\n        }\n      })\n    }\n    const isMinimalMode = Boolean(\n      process.env.MINIMAL_MODE || getRequestMeta(req, 'minimalMode')\n    )\n\n    const handleResponse = async (currentSpan?: Span) => {\n      const responseGenerator: ResponseGenerator = async ({\n        previousCacheEntry,\n      }) => {\n        try {\n          if (\n            !isMinimalMode &&\n            isOnDemandRevalidate &&\n            revalidateOnlyGenerated &&\n            !previousCacheEntry\n          ) {\n            res.statusCode = 404\n            // on-demand revalidate always sets this header\n            res.setHeader('x-nextjs-cache', 'REVALIDATED')\n            res.end('This page could not be found')\n            return null\n          }\n\n          const response = await invokeRouteModule(currentSpan)\n\n          ;(req as any).fetchMetrics = (context.renderOpts as any).fetchMetrics\n          let pendingWaitUntil = context.renderOpts.pendingWaitUntil\n\n          // Attempt using provided waitUntil if available\n          // if it's not we fallback to sendResponse's handling\n          if (pendingWaitUntil) {\n            if (ctx.waitUntil) {\n              ctx.waitUntil(pendingWaitUntil)\n              pendingWaitUntil = undefined\n            }\n          }\n          const cacheTags = context.renderOpts.collectedTags\n\n          // If the request is for a static response, we can cache it so long\n          // as it's not edge.\n          if (isIsr) {\n            const blob = await response.blob()\n\n            // Copy the headers from the response.\n            const headers = toNodeOutgoingHttpHeaders(response.headers)\n\n            if (cacheTags) {\n              headers[NEXT_CACHE_TAGS_HEADER] = cacheTags\n            }\n\n            if (!headers['content-type'] && blob.type) {\n              headers['content-type'] = blob.type\n            }\n\n            const revalidate =\n              typeof context.renderOpts.collectedRevalidate === 'undefined' ||\n              context.renderOpts.collectedRevalidate >= INFINITE_CACHE\n                ? false\n                : context.renderOpts.collectedRevalidate\n\n            const expire =\n              typeof context.renderOpts.collectedExpire === 'undefined' ||\n              context.renderOpts.collectedExpire >= INFINITE_CACHE\n                ? undefined\n                : context.renderOpts.collectedExpire\n\n            // Create the cache entry for the response.\n            const cacheEntry: ResponseCacheEntry = {\n              value: {\n                kind: CachedRouteKind.APP_ROUTE,\n                status: response.status,\n                body: Buffer.from(await blob.arrayBuffer()),\n                headers,\n              },\n              cacheControl: { revalidate, expire },\n            }\n\n            return cacheEntry\n          } else {\n            // send response without caching if not ISR\n            await sendResponse(\n              nodeNextReq,\n              nodeNextRes,\n              response,\n              context.renderOpts.pendingWaitUntil\n            )\n            return null\n          }\n        } catch (err) {\n          // if this is a background revalidate we need to report\n          // the request error here as it won't be bubbled\n          if (previousCacheEntry?.isStale) {\n            await routeModule.onRequestError(\n              req,\n              err,\n              {\n                routerKind: 'App Router',\n                routePath: srcPage,\n                routeType: 'route',\n                revalidateReason: getRevalidateReason({\n                  isStaticGeneration,\n                  isOnDemandRevalidate,\n                }),\n              },\n              routerServerContext\n            )\n          }\n          throw err\n        }\n      }\n\n      const cacheEntry = await routeModule.handleResponse({\n        req,\n        nextConfig,\n        cacheKey,\n        routeKind: RouteKind.APP_ROUTE,\n        isFallback: false,\n        prerenderManifest,\n        isRoutePPREnabled: false,\n        isOnDemandRevalidate,\n        revalidateOnlyGenerated,\n        responseGenerator,\n        waitUntil: ctx.waitUntil,\n        isMinimalMode,\n      })\n\n      // we don't create a cacheEntry for ISR\n      if (!isIsr) {\n        return null\n      }\n\n      if (cacheEntry?.value?.kind !== CachedRouteKind.APP_ROUTE) {\n        throw new Error(\n          `Invariant: app-route received invalid cache entry ${cacheEntry?.value?.kind}`\n        )\n      }\n\n      if (!isMinimalMode) {\n        res.setHeader(\n          'x-nextjs-cache',\n          isOnDemandRevalidate\n            ? 'REVALIDATED'\n            : cacheEntry.isMiss\n              ? 'MISS'\n              : cacheEntry.isStale\n                ? 'STALE'\n                : 'HIT'\n        )\n      }\n\n      // Draft mode should never be cached\n      if (isDraftMode) {\n        res.setHeader(\n          'Cache-Control',\n          'private, no-cache, no-store, max-age=0, must-revalidate'\n        )\n      }\n\n      const headers = fromNodeOutgoingHttpHeaders(cacheEntry.value.headers)\n\n      if (!(isMinimalMode && isIsr)) {\n        headers.delete(NEXT_CACHE_TAGS_HEADER)\n      }\n\n      // If cache control is already set on the response we don't\n      // override it to allow users to customize it via next.config\n      if (\n        cacheEntry.cacheControl &&\n        !res.getHeader('Cache-Control') &&\n        !headers.get('Cache-Control')\n      ) {\n        headers.set(\n          'Cache-Control',\n          getCacheControlHeader(cacheEntry.cacheControl)\n        )\n      }\n\n      await sendResponse(\n        nodeNextReq,\n        nodeNextRes,\n        // @ts-expect-error - Argument of type 'Buffer<ArrayBufferLike>' is not assignable to parameter of type 'BodyInit | null | undefined'.\n        new Response(cacheEntry.value.body, {\n          headers,\n          status: cacheEntry.value.status || 200,\n        })\n      )\n      return null\n    }\n\n    // TODO: activeSpan code path is for when wrapped by\n    // next-server can be removed when this is no longer used\n    if (activeSpan) {\n      await handleResponse(activeSpan)\n    } else {\n      await tracer.withPropagatedContext(req.headers, () =>\n        tracer.trace(\n          BaseServerSpan.handleRequest,\n          {\n            spanName: `${method} ${srcPage}`,\n            kind: SpanKind.SERVER,\n            attributes: {\n              'http.method': method,\n              'http.target': req.url,\n            },\n          },\n          handleResponse\n        )\n      )\n    }\n  } catch (err) {\n    if (!(err instanceof NoFallbackError)) {\n      await routeModule.onRequestError(req, err, {\n        routerKind: 'App Router',\n        routePath: normalizedSrcPage,\n        routeType: 'route',\n        revalidateReason: getRevalidateReason({\n          isStaticGeneration,\n          isOnDemandRevalidate,\n        }),\n      })\n    }\n\n    // rethrow so that we can handle serving error page\n\n    // If this is during static generation, throw the error again.\n    if (isIsr) throw err\n\n    // Otherwise, send a 500 response.\n    await sendResponse(\n      nodeNextReq,\n      nodeNextRes,\n      new Response(null, { status: 500 })\n    )\n    return null\n  }\n}\n"],"names":["AppRouteRouteModule","RouteKind","patchFetch","_patchFetch","addRequestMeta","getRequestMeta","getTracer","SpanKind","setReferenceManifestsSingleton","createServerModuleMap","normalizeAppPath","NodeNextRequest","NodeNextResponse","NextRequestAdapter","signalFromNodeResponse","BaseServerSpan","getRevalidateReason","sendResponse","fromNodeOutgoingHttpHeaders","toNodeOutgoingHttpHeaders","getCacheControlHeader","INFINITE_CACHE","NEXT_CACHE_TAGS_HEADER","NoFallbackError","CachedRouteKind","userland","routeModule","definition","kind","APP_ROUTE","page","pathname","filename","bundlePath","distDir","process","env","__NEXT_RELATIVE_DIST_DIR","relativeProjectDir","__NEXT_RELATIVE_PROJECT_DIR","resolvedPagePath","nextConfigOutput","workAsyncStorage","workUnitAsyncStorage","serverHooks","handler","req","res","ctx","isDev","hrtime","bigint","srcPage","TURBOPACK","replace","multiZoneDraftMode","__NEXT_MULTI_ZONE_DRAFT_MODE","prepareResult","prepare","statusCode","end","waitUntil","Promise","resolve","buildId","params","nextConfig","parsedUrl","isDraftMode","prerenderManifest","routerServerContext","isOnDemandRevalidate","revalidateOnlyGenerated","resolvedPathname","clientReferenceManifest","serverActionsManifest","normalizedSrcPage","isIsr","Boolean","dynamicRoutes","routes","render404","isPrerendered","prerenderInfo","fallback","experimental","adapterPath","cacheKey","supportsDynamicResponse","isStaticGeneration","serverModuleMap","method","tracer","activeSpan","getActiveScopeSpan","context","renderOpts","authInterrupts","cacheComponents","incrementalCache","cacheLifeProfiles","cacheLife","onClose","cb","on","onAfterTaskError","undefined","onInstrumentationRequestError","error","_request","errorContext","onRequestError","sharedContext","nodeNextReq","nodeNextRes","nextReq","fromNodeNextRequest","invokeRouteModule","span","handle","finally","setAttributes","rootSpanAttributes","getRootSpanAttributes","get","handleRequest","console","warn","route","name","updateName","isMinimalMode","MINIMAL_MODE","handleResponse","currentSpan","cacheEntry","responseGenerator","previousCacheEntry","setHeader","response","fetchMetrics","pendingWaitUntil","cacheTags","collectedTags","blob","headers","type","revalidate","collectedRevalidate","expire","collectedExpire","value","status","body","Buffer","from","arrayBuffer","cacheControl","err","isStale","routerKind","routePath","routeType","revalidateReason","routeKind","isFallback","isRoutePPREnabled","Error","isMiss","delete","getHeader","set","Response","withPropagatedContext","trace","spanName","SERVER","attributes","url"],"mappings":"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","ignoreList":[22]}