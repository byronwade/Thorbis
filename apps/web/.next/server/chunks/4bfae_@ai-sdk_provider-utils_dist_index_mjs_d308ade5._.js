module.exports=[353344,424830,e=>{"use strict";let t;var r,a,s,n,i,o,u,d,l,c,h,p,f,m,y,v,g,_,b,k,x,w="vercel.ai.error",A=Symbol.for(w),T=class e extends Error{constructor({name:e,message:t,cause:r}){super(t),this[n]=!0,this.name=e,this.cause=r}static isInstance(t){return e.hasMarker(t,w)}static hasMarker(e,t){let r=Symbol.for(t);return null!=e&&"object"==typeof e&&r in e&&"boolean"==typeof e[r]&&!0===e[r]}};n=A;var S=T,Z="AI_APICallError",O=`vercel.ai.error.${Z}`,P=Symbol.for(O),E=class extends S{constructor({message:e,url:t,requestBodyValues:r,statusCode:a,responseHeaders:s,responseBody:n,cause:o,isRetryable:u=null!=a&&(408===a||409===a||429===a||a>=500),data:d}){super({name:Z,message:e,cause:o}),this[i]=!0,this.url=t,this.requestBodyValues=r,this.statusCode=a,this.responseHeaders=s,this.responseBody=n,this.isRetryable=u,this.data=d}static isInstance(e){return S.hasMarker(e,O)}};i=P;var I="AI_EmptyResponseBodyError",$=`vercel.ai.error.${I}`,N=Symbol.for($),C=class extends S{constructor({message:e="Empty response body"}={}){super({name:I,message:e}),this[o]=!0}static isInstance(e){return S.hasMarker(e,$)}};function j(e){return null==e?"unknown error":"string"==typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}o=N;var R="AI_InvalidArgumentError",M=`vercel.ai.error.${R}`,F=Symbol.for(M),L=class extends S{constructor({message:e,cause:t,argument:r}){super({name:R,message:e,cause:t}),this[u]=!0,this.argument=r}static isInstance(e){return S.hasMarker(e,M)}};u=F;var z="AI_InvalidPromptError",V=`vercel.ai.error.${z}`,D=Symbol.for(V),B=class extends S{constructor({prompt:e,message:t,cause:r}){super({name:z,message:`Invalid prompt: ${t}`,cause:r}),this[d]=!0,this.prompt=e}static isInstance(e){return S.hasMarker(e,V)}};d=D;var U="AI_InvalidResponseDataError",K=`vercel.ai.error.${U}`,q=Symbol.for(K),J=class extends S{constructor({data:e,message:t=`Invalid response data: ${JSON.stringify(e)}.`}){super({name:U,message:t}),this[l]=!0,this.data=e}static isInstance(e){return S.hasMarker(e,K)}};l=q;var W="AI_JSONParseError",H=`vercel.ai.error.${W}`,G=Symbol.for(H),Y=class extends S{constructor({text:e,cause:t}){super({name:W,message:`JSON parsing failed: Text: ${e}.
Error message: ${j(t)}`,cause:t}),this[c]=!0,this.text=e}static isInstance(e){return S.hasMarker(e,H)}};c=G;var X="AI_LoadAPIKeyError",Q=`vercel.ai.error.${X}`,ee=Symbol.for(Q),et=class extends S{constructor({message:e}){super({name:X,message:e}),this[h]=!0}static isInstance(e){return S.hasMarker(e,Q)}};h=ee;var er="AI_LoadSettingError",ea=`vercel.ai.error.${er}`,es=Symbol.for(ea),en=class extends S{constructor({message:e}){super({name:er,message:e}),this[p]=!0}static isInstance(e){return S.hasMarker(e,ea)}};p=es;var ei="AI_NoContentGeneratedError",eo=`vercel.ai.error.${ei}`,eu=Symbol.for(eo),ed=class extends S{constructor({message:e="No content generated."}={}){super({name:ei,message:e}),this[f]=!0}static isInstance(e){return S.hasMarker(e,eo)}};f=eu;var el="AI_NoSuchModelError",ec=`vercel.ai.error.${el}`,eh=Symbol.for(ec),ep=class extends S{constructor({errorName:e=el,modelId:t,modelType:r,message:a=`No such ${r}: ${t}`}){super({name:e,message:a}),this[m]=!0,this.modelId=t,this.modelType=r}static isInstance(e){return S.hasMarker(e,ec)}};m=eh;var ef="AI_TooManyEmbeddingValuesForCallError",em=`vercel.ai.error.${ef}`,ey=Symbol.for(em),ev=class extends S{constructor(e){super({name:ef,message:`Too many values for a single embedding call. The ${e.provider} model "${e.modelId}" can only embed up to ${e.maxEmbeddingsPerCall} values per call, but ${e.values.length} values were provided.`}),this[y]=!0,this.provider=e.provider,this.modelId=e.modelId,this.maxEmbeddingsPerCall=e.maxEmbeddingsPerCall,this.values=e.values}static isInstance(e){return S.hasMarker(e,em)}};y=ey;var eg="AI_TypeValidationError",e_=`vercel.ai.error.${eg}`,eb=Symbol.for(e_),ek=class e extends S{constructor({value:e,cause:t}){super({name:eg,message:`Type validation failed: Value: ${JSON.stringify(e)}.
Error message: ${j(t)}`,cause:t}),this[v]=!0,this.value=e}static isInstance(e){return S.hasMarker(e,e_)}static wrap({value:t,cause:r}){return e.isInstance(r)&&r.value===t?r:new e({value:t,cause:r})}};v=eb;var ex="AI_UnsupportedFunctionalityError",ew=`vercel.ai.error.${ex}`,eA=Symbol.for(ew),eT=class extends S{constructor({functionality:e,message:t=`'${e}' functionality not supported.`}){super({name:ex,message:t}),this[g]=!0,this.functionality=e}static isInstance(e){return S.hasMarker(e,ew)}};function eS(e){return null===e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e||(Array.isArray(e)?e.every(eS):"object"==typeof e&&Object.entries(e).every(([e,t])=>"string"==typeof e&&eS(t)))}function eZ(e){return Array.isArray(e)&&e.every(eS)}function eO(e){return null!=e&&"object"==typeof e&&Object.entries(e).every(([e,t])=>"string"==typeof e&&eS(t))}g=eA,e.s(["AISDKError",()=>S,"APICallError",()=>E,"EmptyResponseBodyError",()=>C,"InvalidArgumentError",()=>L,"InvalidPromptError",()=>B,"InvalidResponseDataError",()=>J,"JSONParseError",()=>Y,"LoadAPIKeyError",()=>et,"LoadSettingError",()=>en,"NoContentGeneratedError",()=>ed,"NoSuchModelError",()=>ep,"TooManyEmbeddingValuesForCallError",()=>ev,"TypeValidationError",()=>ek,"UnsupportedFunctionalityError",()=>eT,"getErrorMessage",()=>j,"isJSONArray",()=>eZ,"isJSONObject",()=>eO],424830);class eP extends Error{constructor(e,t){super(e),this.name="ParseError",this.type=t.type,this.field=t.field,this.value=t.value,this.line=t.line}}function eE(e){}class eI extends TransformStream{constructor({onError:e,onRetry:t,onComment:r}={}){let a;super({start(s){a=function(e){if("function"==typeof e)throw TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");let{onEvent:t=eE,onError:r=eE,onRetry:a=eE,onComment:s}=e,n="",i=!0,o,u="",d="";function l(e){if(""===e)return void(u.length>0&&t({id:o,event:d||void 0,data:u.endsWith(`
`)?u.slice(0,-1):u}),o=void 0,u="",d="");if(e.startsWith(":")){s&&s(e.slice(e.startsWith(": ")?2:1));return}let r=e.indexOf(":");if(-1!==r){let t=e.slice(0,r),a=" "===e[r+1]?2:1;c(t,e.slice(r+a),e);return}c(e,"",e)}function c(e,t,s){switch(e){case"event":d=t;break;case"data":u=`${u}${t}
`;break;case"id":o=t.includes("\0")?void 0:t;break;case"retry":/^\d+$/.test(t)?a(parseInt(t,10)):r(new eP(`Invalid \`retry\` value: "${t}"`,{type:"invalid-retry",value:t,line:s}));break;default:r(new eP(`Unknown field "${e.length>20?`${e.slice(0,20)}\u2026`:e}"`,{type:"unknown-field",field:e,value:t,line:s}))}}return{feed:function(e){let t=i?e.replace(/^\xEF\xBB\xBF/,""):e,[r,a]=function(e){let t=[],r="",a=0;for(;a<e.length;){let s=e.indexOf("\r",a),n=e.indexOf(`
`,a),i=-1;if(-1!==s&&-1!==n?i=Math.min(s,n):-1!==s?i=s===e.length-1?-1:s:-1!==n&&(i=n),-1===i){r=e.slice(a);break}{let r=e.slice(a,i);t.push(r),"\r"===e[(a=i+1)-1]&&e[a]===`
`&&a++}}return[t,r]}(`${n}${t}`);for(let e of r)l(e);n=a,i=!1},reset:function(e={}){n&&e.consume&&l(n),i=!0,o=void 0,u="",d="",n=""}}}({onEvent:e=>{s.enqueue(e)},onError(t){"terminate"===e?s.error(t):"function"==typeof e&&e(t)},onRetry:t,onComment:r})},transform(e){a.feed(e)}})}}var e$=e.i(821638),eN=e.i(405386);(r=_||(_={})).assertEqual=e=>{},r.assertIs=function(e){},r.assertNever=function(e){throw Error()},r.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},r.getValidEnumValues=e=>{let t=r.objectKeys(e).filter(t=>"number"!=typeof e[e[t]]),a={};for(let r of t)a[r]=e[r];return r.objectValues(a)},r.objectValues=e=>r.objectKeys(e).map(function(t){return e[t]}),r.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},r.find=(e,t)=>{for(let r of e)if(t(r))return r},r.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&Number.isFinite(e)&&Math.floor(e)===e,r.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},r.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,(b||(b={})).mergeShapes=(e,t)=>({...e,...t});let eC=_.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ej=e=>{switch(typeof e){case"undefined":return eC.undefined;case"string":return eC.string;case"number":return Number.isNaN(e)?eC.nan:eC.number;case"boolean":return eC.boolean;case"function":return eC.function;case"bigint":return eC.bigint;case"symbol":return eC.symbol;case"object":if(Array.isArray(e))return eC.array;if(null===e)return eC.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return eC.promise;if("undefined"!=typeof Map&&e instanceof Map)return eC.map;if("undefined"!=typeof Set&&e instanceof Set)return eC.set;if("undefined"!=typeof Date&&e instanceof Date)return eC.date;return eC.object;default:return eC.unknown}},eR=_.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class eM extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},r={_errors:[]},a=e=>{for(let s of e.issues)if("invalid_union"===s.code)s.unionErrors.map(a);else if("invalid_return_type"===s.code)a(s.returnTypeError);else if("invalid_arguments"===s.code)a(s.argumentsError);else if(0===s.path.length)r._errors.push(t(s));else{let e=r,a=0;for(;a<s.path.length;){let r=s.path[a];a===s.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(s))):e[r]=e[r]||{_errors:[]},e=e[r],a++}}};return a(this),r}static assert(e){if(!(e instanceof eM))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,_.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t=Object.create(null),r=[];for(let a of this.issues)if(a.path.length>0){let r=a.path[0];t[r]=t[r]||[],t[r].push(e(a))}else r.push(e(a));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}eM.create=e=>new eM(e);let eF=(e,t)=>{let r;switch(e.code){case eR.invalid_type:r=e.received===eC.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case eR.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,_.jsonStringifyReplacer)}`;break;case eR.unrecognized_keys:r=`Unrecognized key(s) in object: ${_.joinValues(e.keys,", ")}`;break;case eR.invalid_union:r="Invalid input";break;case eR.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${_.joinValues(e.options)}`;break;case eR.invalid_enum_value:r=`Invalid enum value. Expected ${_.joinValues(e.options)}, received '${e.received}'`;break;case eR.invalid_arguments:r="Invalid function arguments";break;case eR.invalid_return_type:r="Invalid function return type";break;case eR.invalid_date:r="Invalid date";break;case eR.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:_.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case eR.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type||"bigint"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case eR.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case eR.custom:r="Invalid input";break;case eR.invalid_intersection_types:r="Intersection results could not be merged";break;case eR.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case eR.not_finite:r="Number must be finite";break;default:r=t.defaultError,_.assertNever(e)}return{message:r}};(a=k||(k={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},a.toString=e=>"string"==typeof e?e:e?.message;let eL=e=>{let{data:t,path:r,errorMaps:a,issueData:s}=e,n=[...r,...s.path||[]],i={...s,path:n};if(void 0!==s.message)return{...s,path:n,message:s.message};let o="";for(let e of a.filter(e=>!!e).slice().reverse())o=e(i,{data:t,defaultError:o}).message;return{...s,path:n,message:o}};function ez(e,t){let r=eL({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,eF,void 0].filter(e=>!!e)});e.common.issues.push(r)}class eV{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let a of t){if("aborted"===a.status)return eD;"dirty"===a.status&&e.dirty(),r.push(a.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,a=await e.value;r.push({key:t,value:a})}return eV.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let a of t){let{key:t,value:s}=a;if("aborted"===t.status||"aborted"===s.status)return eD;"dirty"===t.status&&e.dirty(),"dirty"===s.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==s.value||a.alwaysSet)&&(r[t.value]=s.value)}return{status:e.value,value:r}}}let eD=Object.freeze({status:"aborted"}),eB=e=>({status:"dirty",value:e}),eU=e=>({status:"valid",value:e}),eK=e=>"undefined"!=typeof Promise&&e instanceof Promise;class eq{constructor(e,t,r,a){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=a}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let eJ=(e,t)=>{if("valid"===t.status)return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new eM(e.common.issues);return this._error=t,this._error}}};function eW(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:a,description:s}=e;if(t&&(r||a))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:s}:{errorMap:(t,s)=>{let{message:n}=e;return"invalid_enum_value"===t.code?{message:n??s.defaultError}:void 0===s.data?{message:n??a??s.defaultError}:"invalid_type"!==t.code?{message:s.defaultError}:{message:n??r??s.defaultError}},description:s}}class eH{get description(){return this._def.description}_getType(e){return ej(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:ej(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new eV,ctx:{common:e.parent.common,data:e.data,parsedType:ej(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(eK(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){let r={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ej(e)},a=this._parseSync({data:e,path:r.path,parent:r});return eJ(r,a)}"~validate"(e){let t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ej(e)};if(!this["~standard"].async)try{let r=this._parseSync({data:e,path:[],parent:t});return"valid"===r.status?{value:r.value}:{issues:t.common.issues}}catch(e){e?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(e=>"valid"===e.status?{value:e.value}:{issues:t.common.issues})}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ej(e)},a=this._parse({data:e,path:r.path,parent:r});return eJ(r,await (eK(a)?a:Promise.resolve(a)))}refine(e,t){return this._refinement((r,a)=>{let s=e(r),n=()=>a.addIssue({code:eR.custom,..."string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(r):t});return"undefined"!=typeof Promise&&s instanceof Promise?s.then(e=>!!e||(n(),!1)):!!s||(n(),!1)})}refinement(e,t){return this._refinement((r,a)=>!!e(r)||(a.addIssue("function"==typeof t?t(r,a):t),!1))}_refinement(e){return new t$({schema:this,typeName:x.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return tN.create(this,this._def)}nullable(){return tC.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return tm.create(this)}promise(){return tI.create(this,this._def)}or(e){return tv.create([this,e],this._def)}and(e){return tb.create(this,e,this._def)}transform(e){return new t$({...eW(this._def),schema:this,typeName:x.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new tj({...eW(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:x.ZodDefault})}brand(){return new tF({typeName:x.ZodBranded,type:this,...eW(this._def)})}catch(e){return new tR({...eW(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:x.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return tL.create(this,e)}readonly(){return tz.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let eG=/^c[^\s-]{8,}$/i,eY=/^[0-9a-z]+$/,eX=/^[0-9A-HJKMNP-TV-Z]{26}$/i,eQ=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,e0=/^[a-z0-9_-]{21}$/i,e1=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,e9=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,e4=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,e2=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,e5=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,e3=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,e6=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,e8=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,e7=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,te="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",tt=RegExp(`^${te}$`);function tr(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);let r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}class ta extends eH{_parse(e){var r,a,s,n;let i;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==eC.string){let t=this._getOrReturnCtx(e);return ez(t,{code:eR.invalid_type,expected:eC.string,received:t.parsedType}),eD}let o=new eV;for(let u of this._def.checks)if("min"===u.kind)e.data.length<u.value&&(ez(i=this._getOrReturnCtx(e,i),{code:eR.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),o.dirty());else if("max"===u.kind)e.data.length>u.value&&(ez(i=this._getOrReturnCtx(e,i),{code:eR.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),o.dirty());else if("length"===u.kind){let t=e.data.length>u.value,r=e.data.length<u.value;(t||r)&&(i=this._getOrReturnCtx(e,i),t?ez(i,{code:eR.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}):r&&ez(i,{code:eR.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}),o.dirty())}else if("email"===u.kind)e4.test(e.data)||(ez(i=this._getOrReturnCtx(e,i),{validation:"email",code:eR.invalid_string,message:u.message}),o.dirty());else if("emoji"===u.kind)t||(t=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),t.test(e.data)||(ez(i=this._getOrReturnCtx(e,i),{validation:"emoji",code:eR.invalid_string,message:u.message}),o.dirty());else if("uuid"===u.kind)eQ.test(e.data)||(ez(i=this._getOrReturnCtx(e,i),{validation:"uuid",code:eR.invalid_string,message:u.message}),o.dirty());else if("nanoid"===u.kind)e0.test(e.data)||(ez(i=this._getOrReturnCtx(e,i),{validation:"nanoid",code:eR.invalid_string,message:u.message}),o.dirty());else if("cuid"===u.kind)eG.test(e.data)||(ez(i=this._getOrReturnCtx(e,i),{validation:"cuid",code:eR.invalid_string,message:u.message}),o.dirty());else if("cuid2"===u.kind)eY.test(e.data)||(ez(i=this._getOrReturnCtx(e,i),{validation:"cuid2",code:eR.invalid_string,message:u.message}),o.dirty());else if("ulid"===u.kind)eX.test(e.data)||(ez(i=this._getOrReturnCtx(e,i),{validation:"ulid",code:eR.invalid_string,message:u.message}),o.dirty());else if("url"===u.kind)try{new URL(e.data)}catch{ez(i=this._getOrReturnCtx(e,i),{validation:"url",code:eR.invalid_string,message:u.message}),o.dirty()}else"regex"===u.kind?(u.regex.lastIndex=0,u.regex.test(e.data)||(ez(i=this._getOrReturnCtx(e,i),{validation:"regex",code:eR.invalid_string,message:u.message}),o.dirty())):"trim"===u.kind?e.data=e.data.trim():"includes"===u.kind?e.data.includes(u.value,u.position)||(ez(i=this._getOrReturnCtx(e,i),{code:eR.invalid_string,validation:{includes:u.value,position:u.position},message:u.message}),o.dirty()):"toLowerCase"===u.kind?e.data=e.data.toLowerCase():"toUpperCase"===u.kind?e.data=e.data.toUpperCase():"startsWith"===u.kind?e.data.startsWith(u.value)||(ez(i=this._getOrReturnCtx(e,i),{code:eR.invalid_string,validation:{startsWith:u.value},message:u.message}),o.dirty()):"endsWith"===u.kind?e.data.endsWith(u.value)||(ez(i=this._getOrReturnCtx(e,i),{code:eR.invalid_string,validation:{endsWith:u.value},message:u.message}),o.dirty()):"datetime"===u.kind?(function(e){let t=`${te}T${tr(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)})(u).test(e.data)||(ez(i=this._getOrReturnCtx(e,i),{code:eR.invalid_string,validation:"datetime",message:u.message}),o.dirty()):"date"===u.kind?tt.test(e.data)||(ez(i=this._getOrReturnCtx(e,i),{code:eR.invalid_string,validation:"date",message:u.message}),o.dirty()):"time"===u.kind?RegExp(`^${tr(u)}$`).test(e.data)||(ez(i=this._getOrReturnCtx(e,i),{code:eR.invalid_string,validation:"time",message:u.message}),o.dirty()):"duration"===u.kind?e9.test(e.data)||(ez(i=this._getOrReturnCtx(e,i),{validation:"duration",code:eR.invalid_string,message:u.message}),o.dirty()):"ip"===u.kind?(r=e.data,!(("v4"===(a=u.version)||!a)&&e2.test(r)||("v6"===a||!a)&&e3.test(r))&&1&&(ez(i=this._getOrReturnCtx(e,i),{validation:"ip",code:eR.invalid_string,message:u.message}),o.dirty())):"jwt"===u.kind?!function(e,t){if(!e1.test(e))return!1;try{let[r]=e.split(".");if(!r)return!1;let a=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(a));if("object"!=typeof s||null===s||"typ"in s&&s?.typ!=="JWT"||!s.alg||t&&s.alg!==t)return!1;return!0}catch{return!1}}(e.data,u.alg)&&(ez(i=this._getOrReturnCtx(e,i),{validation:"jwt",code:eR.invalid_string,message:u.message}),o.dirty()):"cidr"===u.kind?(s=e.data,!(("v4"===(n=u.version)||!n)&&e5.test(s)||("v6"===n||!n)&&e6.test(s))&&1&&(ez(i=this._getOrReturnCtx(e,i),{validation:"cidr",code:eR.invalid_string,message:u.message}),o.dirty())):"base64"===u.kind?e8.test(e.data)||(ez(i=this._getOrReturnCtx(e,i),{validation:"base64",code:eR.invalid_string,message:u.message}),o.dirty()):"base64url"===u.kind?e7.test(e.data)||(ez(i=this._getOrReturnCtx(e,i),{validation:"base64url",code:eR.invalid_string,message:u.message}),o.dirty()):_.assertNever(u);return{status:o.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:eR.invalid_string,...k.errToObj(r)})}_addCheck(e){return new ta({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...k.errToObj(e)})}url(e){return this._addCheck({kind:"url",...k.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...k.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...k.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...k.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...k.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...k.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...k.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...k.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...k.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...k.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...k.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...k.errToObj(e)})}datetime(e){return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...k.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===e?.precision?null:e?.precision,...k.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...k.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...k.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...k.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...k.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...k.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...k.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...k.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...k.errToObj(t)})}nonempty(e){return this.min(1,k.errToObj(e))}trim(){return new ta({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ta({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ta({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}ta.create=e=>new ta({checks:[],typeName:x.ZodString,coerce:e?.coerce??!1,...eW(e)});class ts extends eH{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==eC.number){let t=this._getOrReturnCtx(e);return ez(t,{code:eR.invalid_type,expected:eC.number,received:t.parsedType}),eD}let r=new eV;for(let a of this._def.checks)"int"===a.kind?_.isInteger(e.data)||(ez(t=this._getOrReturnCtx(e,t),{code:eR.invalid_type,expected:"integer",received:"float",message:a.message}),r.dirty()):"min"===a.kind?(a.inclusive?e.data<a.value:e.data<=a.value)&&(ez(t=this._getOrReturnCtx(e,t),{code:eR.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),r.dirty()):"max"===a.kind?(a.inclusive?e.data>a.value:e.data>=a.value)&&(ez(t=this._getOrReturnCtx(e,t),{code:eR.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),r.dirty()):"multipleOf"===a.kind?0!==function(e,t){let r=(e.toString().split(".")[1]||"").length,a=(t.toString().split(".")[1]||"").length,s=r>a?r:a;return Number.parseInt(e.toFixed(s).replace(".",""))%Number.parseInt(t.toFixed(s).replace(".",""))/10**s}(e.data,a.value)&&(ez(t=this._getOrReturnCtx(e,t),{code:eR.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):"finite"===a.kind?Number.isFinite(e.data)||(ez(t=this._getOrReturnCtx(e,t),{code:eR.not_finite,message:a.message}),r.dirty()):_.assertNever(a);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,k.toString(t))}gt(e,t){return this.setLimit("min",e,!1,k.toString(t))}lte(e,t){return this.setLimit("max",e,!0,k.toString(t))}lt(e,t){return this.setLimit("max",e,!1,k.toString(t))}setLimit(e,t,r,a){return new ts({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:k.toString(a)}]})}_addCheck(e){return new ts({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:k.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:k.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:k.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:k.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:k.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:k.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:k.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:k.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:k.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&_.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks)if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;else"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value);return Number.isFinite(t)&&Number.isFinite(e)}}ts.create=e=>new ts({checks:[],typeName:x.ZodNumber,coerce:e?.coerce||!1,...eW(e)});class tn extends eH{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==eC.bigint)return this._getInvalidInput(e);let r=new eV;for(let a of this._def.checks)"min"===a.kind?(a.inclusive?e.data<a.value:e.data<=a.value)&&(ez(t=this._getOrReturnCtx(e,t),{code:eR.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty()):"max"===a.kind?(a.inclusive?e.data>a.value:e.data>=a.value)&&(ez(t=this._getOrReturnCtx(e,t),{code:eR.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),r.dirty()):"multipleOf"===a.kind?e.data%a.value!==BigInt(0)&&(ez(t=this._getOrReturnCtx(e,t),{code:eR.not_multiple_of,multipleOf:a.value,message:a.message}),r.dirty()):_.assertNever(a);return{status:r.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return ez(t,{code:eR.invalid_type,expected:eC.bigint,received:t.parsedType}),eD}gte(e,t){return this.setLimit("min",e,!0,k.toString(t))}gt(e,t){return this.setLimit("min",e,!1,k.toString(t))}lte(e,t){return this.setLimit("max",e,!0,k.toString(t))}lt(e,t){return this.setLimit("max",e,!1,k.toString(t))}setLimit(e,t,r,a){return new tn({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:k.toString(a)}]})}_addCheck(e){return new tn({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:k.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:k.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:k.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:k.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:k.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}tn.create=e=>new tn({checks:[],typeName:x.ZodBigInt,coerce:e?.coerce??!1,...eW(e)});class ti extends eH{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==eC.boolean){let t=this._getOrReturnCtx(e);return ez(t,{code:eR.invalid_type,expected:eC.boolean,received:t.parsedType}),eD}return eU(e.data)}}ti.create=e=>new ti({typeName:x.ZodBoolean,coerce:e?.coerce||!1,...eW(e)});class to extends eH{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==eC.date){let t=this._getOrReturnCtx(e);return ez(t,{code:eR.invalid_type,expected:eC.date,received:t.parsedType}),eD}if(Number.isNaN(e.data.getTime()))return ez(this._getOrReturnCtx(e),{code:eR.invalid_date}),eD;let r=new eV;for(let a of this._def.checks)"min"===a.kind?e.data.getTime()<a.value&&(ez(t=this._getOrReturnCtx(e,t),{code:eR.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):"max"===a.kind?e.data.getTime()>a.value&&(ez(t=this._getOrReturnCtx(e,t),{code:eR.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):_.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new to({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:k.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:k.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}to.create=e=>new to({checks:[],coerce:e?.coerce||!1,typeName:x.ZodDate,...eW(e)});class tu extends eH{_parse(e){if(this._getType(e)!==eC.symbol){let t=this._getOrReturnCtx(e);return ez(t,{code:eR.invalid_type,expected:eC.symbol,received:t.parsedType}),eD}return eU(e.data)}}tu.create=e=>new tu({typeName:x.ZodSymbol,...eW(e)});class td extends eH{_parse(e){if(this._getType(e)!==eC.undefined){let t=this._getOrReturnCtx(e);return ez(t,{code:eR.invalid_type,expected:eC.undefined,received:t.parsedType}),eD}return eU(e.data)}}td.create=e=>new td({typeName:x.ZodUndefined,...eW(e)});class tl extends eH{_parse(e){if(this._getType(e)!==eC.null){let t=this._getOrReturnCtx(e);return ez(t,{code:eR.invalid_type,expected:eC.null,received:t.parsedType}),eD}return eU(e.data)}}tl.create=e=>new tl({typeName:x.ZodNull,...eW(e)});class tc extends eH{constructor(){super(...arguments),this._any=!0}_parse(e){return eU(e.data)}}tc.create=e=>new tc({typeName:x.ZodAny,...eW(e)});class th extends eH{constructor(){super(...arguments),this._unknown=!0}_parse(e){return eU(e.data)}}th.create=e=>new th({typeName:x.ZodUnknown,...eW(e)});class tp extends eH{_parse(e){let t=this._getOrReturnCtx(e);return ez(t,{code:eR.invalid_type,expected:eC.never,received:t.parsedType}),eD}}tp.create=e=>new tp({typeName:x.ZodNever,...eW(e)});class tf extends eH{_parse(e){if(this._getType(e)!==eC.undefined){let t=this._getOrReturnCtx(e);return ez(t,{code:eR.invalid_type,expected:eC.void,received:t.parsedType}),eD}return eU(e.data)}}tf.create=e=>new tf({typeName:x.ZodVoid,...eW(e)});class tm extends eH{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),a=this._def;if(t.parsedType!==eC.array)return ez(t,{code:eR.invalid_type,expected:eC.array,received:t.parsedType}),eD;if(null!==a.exactLength){let e=t.data.length>a.exactLength.value,s=t.data.length<a.exactLength.value;(e||s)&&(ez(t,{code:e?eR.too_big:eR.too_small,minimum:s?a.exactLength.value:void 0,maximum:e?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),r.dirty())}if(null!==a.minLength&&t.data.length<a.minLength.value&&(ez(t,{code:eR.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),r.dirty()),null!==a.maxLength&&t.data.length>a.maxLength.value&&(ez(t,{code:eR.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>a.type._parseAsync(new eq(t,e,t.path,r)))).then(e=>eV.mergeArray(r,e));let s=[...t.data].map((e,r)=>a.type._parseSync(new eq(t,e,t.path,r)));return eV.mergeArray(r,s)}get element(){return this._def.type}min(e,t){return new tm({...this._def,minLength:{value:e,message:k.toString(t)}})}max(e,t){return new tm({...this._def,maxLength:{value:e,message:k.toString(t)}})}length(e,t){return new tm({...this._def,exactLength:{value:e,message:k.toString(t)}})}nonempty(e){return this.min(1,e)}}tm.create=(e,t)=>new tm({type:e,minLength:null,maxLength:null,exactLength:null,typeName:x.ZodArray,...eW(t)});class ty extends eH{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=_.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==eC.object){let t=this._getOrReturnCtx(e);return ez(t,{code:eR.invalid_type,expected:eC.object,received:t.parsedType}),eD}let{status:t,ctx:r}=this._processInputParams(e),{shape:a,keys:s}=this._getCached(),n=[];if(!(this._def.catchall instanceof tp&&"strip"===this._def.unknownKeys))for(let e in r.data)s.includes(e)||n.push(e);let i=[];for(let e of s){let t=a[e],s=r.data[e];i.push({key:{status:"valid",value:e},value:t._parse(new eq(r,s,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof tp){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of n)i.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)n.length>0&&(ez(r,{code:eR.unrecognized_keys,keys:n}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of n){let a=r.data[t];i.push({key:{status:"valid",value:t},value:e._parse(new eq(r,a,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of i){let r=await t.key,a=await t.value;e.push({key:r,value:a,alwaysSet:t.alwaysSet})}return e}).then(e=>eV.mergeObjectSync(t,e)):eV.mergeObjectSync(t,i)}get shape(){return this._def.shape()}strict(e){return k.errToObj,new ty({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{let a=this._def.errorMap?.(t,r).message??r.defaultError;return"unrecognized_keys"===t.code?{message:k.errToObj(e).message??a}:{message:a}}}:{}})}strip(){return new ty({...this._def,unknownKeys:"strip"})}passthrough(){return new ty({...this._def,unknownKeys:"passthrough"})}extend(e){return new ty({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ty({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:x.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new ty({...this._def,catchall:e})}pick(e){let t={};for(let r of _.objectKeys(e))e[r]&&this.shape[r]&&(t[r]=this.shape[r]);return new ty({...this._def,shape:()=>t})}omit(e){let t={};for(let r of _.objectKeys(this.shape))e[r]||(t[r]=this.shape[r]);return new ty({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof ty){let r={};for(let a in t.shape){let s=t.shape[a];r[a]=tN.create(e(s))}return new ty({...t._def,shape:()=>r})}if(t instanceof tm)return new tm({...t._def,type:e(t.element)});if(t instanceof tN)return tN.create(e(t.unwrap()));if(t instanceof tC)return tC.create(e(t.unwrap()));if(t instanceof tk)return tk.create(t.items.map(t=>e(t)));else return t}(this)}partial(e){let t={};for(let r of _.objectKeys(this.shape)){let a=this.shape[r];e&&!e[r]?t[r]=a:t[r]=a.optional()}return new ty({...this._def,shape:()=>t})}required(e){let t={};for(let r of _.objectKeys(this.shape))if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof tN;)e=e._def.innerType;t[r]=e}return new ty({...this._def,shape:()=>t})}keyof(){return tO(_.objectKeys(this.shape))}}ty.create=(e,t)=>new ty({shape:()=>e,unknownKeys:"strip",catchall:tp.create(),typeName:x.ZodObject,...eW(t)}),ty.strictCreate=(e,t)=>new ty({shape:()=>e,unknownKeys:"strict",catchall:tp.create(),typeName:x.ZodObject,...eW(t)}),ty.lazycreate=(e,t)=>new ty({shape:e,unknownKeys:"strip",catchall:tp.create(),typeName:x.ZodObject,...eW(t)});class tv extends eH{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new eM(e.ctx.common.issues));return ez(t,{code:eR.invalid_union,unionErrors:r}),eD});{let e,a=[];for(let s of r){let r={...t,common:{...t.common,issues:[]},parent:null},n=s._parseSync({data:t.data,path:t.path,parent:r});if("valid"===n.status)return n;"dirty"!==n.status||e||(e={result:n,ctx:r}),r.common.issues.length&&a.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let s=a.map(e=>new eM(e));return ez(t,{code:eR.invalid_union,unionErrors:s}),eD}}get options(){return this._def.options}}tv.create=(e,t)=>new tv({options:e,typeName:x.ZodUnion,...eW(t)});let tg=e=>{if(e instanceof tS)return tg(e.schema);if(e instanceof t$)return tg(e.innerType());if(e instanceof tZ)return[e.value];if(e instanceof tP)return e.options;if(e instanceof tE)return _.objectValues(e.enum);else if(e instanceof tj)return tg(e._def.innerType);else if(e instanceof td)return[void 0];else if(e instanceof tl)return[null];else if(e instanceof tN)return[void 0,...tg(e.unwrap())];else if(e instanceof tC)return[null,...tg(e.unwrap())];else if(e instanceof tF)return tg(e.unwrap());else if(e instanceof tz)return tg(e.unwrap());else if(e instanceof tR)return tg(e._def.innerType);else return[]};class t_ extends eH{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==eC.object)return ez(t,{code:eR.invalid_type,expected:eC.object,received:t.parsedType}),eD;let r=this.discriminator,a=t.data[r],s=this.optionsMap.get(a);return s?t.common.async?s._parseAsync({data:t.data,path:t.path,parent:t}):s._parseSync({data:t.data,path:t.path,parent:t}):(ez(t,{code:eR.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),eD)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let a=new Map;for(let r of t){let t=tg(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let s of t){if(a.has(s))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(s)}`);a.set(s,r)}}return new t_({typeName:x.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:a,...eW(r)})}}class tb extends eH{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),a=(e,a)=>{if("aborted"===e.status||"aborted"===a.status)return eD;let s=function e(t,r){let a=ej(t),s=ej(r);if(t===r)return{valid:!0,data:t};if(a===eC.object&&s===eC.object){let a=_.objectKeys(r),s=_.objectKeys(t).filter(e=>-1!==a.indexOf(e)),n={...t,...r};for(let a of s){let s=e(t[a],r[a]);if(!s.valid)return{valid:!1};n[a]=s.data}return{valid:!0,data:n}}if(a===eC.array&&s===eC.array){if(t.length!==r.length)return{valid:!1};let a=[];for(let s=0;s<t.length;s++){let n=e(t[s],r[s]);if(!n.valid)return{valid:!1};a.push(n.data)}return{valid:!0,data:a}}if(a===eC.date&&s===eC.date&&+t==+r)return{valid:!0,data:t};return{valid:!1}}(e.value,a.value);return s.valid?(("dirty"===e.status||"dirty"===a.status)&&t.dirty(),{status:t.value,value:s.data}):(ez(r,{code:eR.invalid_intersection_types}),eD)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>a(e,t)):a(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}tb.create=(e,t,r)=>new tb({left:e,right:t,typeName:x.ZodIntersection,...eW(r)});class tk extends eH{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==eC.array)return ez(r,{code:eR.invalid_type,expected:eC.array,received:r.parsedType}),eD;if(r.data.length<this._def.items.length)return ez(r,{code:eR.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),eD;!this._def.rest&&r.data.length>this._def.items.length&&(ez(r,{code:eR.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let a=[...r.data].map((e,t)=>{let a=this._def.items[t]||this._def.rest;return a?a._parse(new eq(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(a).then(e=>eV.mergeArray(t,e)):eV.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new tk({...this._def,rest:e})}}tk.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new tk({items:e,typeName:x.ZodTuple,rest:null,...eW(t)})};class tx extends eH{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==eC.object)return ez(r,{code:eR.invalid_type,expected:eC.object,received:r.parsedType}),eD;let a=[],s=this._def.keyType,n=this._def.valueType;for(let e in r.data)a.push({key:s._parse(new eq(r,e,r.path,e)),value:n._parse(new eq(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?eV.mergeObjectAsync(t,a):eV.mergeObjectSync(t,a)}get element(){return this._def.valueType}static create(e,t,r){return new tx(t instanceof eH?{keyType:e,valueType:t,typeName:x.ZodRecord,...eW(r)}:{keyType:ta.create(),valueType:e,typeName:x.ZodRecord,...eW(t)})}}class tw extends eH{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==eC.map)return ez(r,{code:eR.invalid_type,expected:eC.map,received:r.parsedType}),eD;let a=this._def.keyType,s=this._def.valueType,n=[...r.data.entries()].map(([e,t],n)=>({key:a._parse(new eq(r,e,r.path,[n,"key"])),value:s._parse(new eq(r,t,r.path,[n,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of n){let a=await r.key,s=await r.value;if("aborted"===a.status||"aborted"===s.status)return eD;("dirty"===a.status||"dirty"===s.status)&&t.dirty(),e.set(a.value,s.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of n){let a=r.key,s=r.value;if("aborted"===a.status||"aborted"===s.status)return eD;("dirty"===a.status||"dirty"===s.status)&&t.dirty(),e.set(a.value,s.value)}return{status:t.value,value:e}}}}tw.create=(e,t,r)=>new tw({valueType:t,keyType:e,typeName:x.ZodMap,...eW(r)});class tA extends eH{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==eC.set)return ez(r,{code:eR.invalid_type,expected:eC.set,received:r.parsedType}),eD;let a=this._def;null!==a.minSize&&r.data.size<a.minSize.value&&(ez(r,{code:eR.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),t.dirty()),null!==a.maxSize&&r.data.size>a.maxSize.value&&(ez(r,{code:eR.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),t.dirty());let s=this._def.valueType;function n(e){let r=new Set;for(let a of e){if("aborted"===a.status)return eD;"dirty"===a.status&&t.dirty(),r.add(a.value)}return{status:t.value,value:r}}let i=[...r.data.values()].map((e,t)=>s._parse(new eq(r,e,r.path,t)));return r.common.async?Promise.all(i).then(e=>n(e)):n(i)}min(e,t){return new tA({...this._def,minSize:{value:e,message:k.toString(t)}})}max(e,t){return new tA({...this._def,maxSize:{value:e,message:k.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}tA.create=(e,t)=>new tA({valueType:e,minSize:null,maxSize:null,typeName:x.ZodSet,...eW(t)});class tT extends eH{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==eC.function)return ez(t,{code:eR.invalid_type,expected:eC.function,received:t.parsedType}),eD;function r(e,r){return eL({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,eF,eF].filter(e=>!!e),issueData:{code:eR.invalid_arguments,argumentsError:r}})}function a(e,r){return eL({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,eF,eF].filter(e=>!!e),issueData:{code:eR.invalid_return_type,returnTypeError:r}})}let s={errorMap:t.common.contextualErrorMap},n=t.data;if(this._def.returns instanceof tI){let e=this;return eU(async function(...t){let i=new eM([]),o=await e._def.args.parseAsync(t,s).catch(e=>{throw i.addIssue(r(t,e)),i}),u=await Reflect.apply(n,this,o);return await e._def.returns._def.type.parseAsync(u,s).catch(e=>{throw i.addIssue(a(u,e)),i})})}{let e=this;return eU(function(...t){let i=e._def.args.safeParse(t,s);if(!i.success)throw new eM([r(t,i.error)]);let o=Reflect.apply(n,this,i.data),u=e._def.returns.safeParse(o,s);if(!u.success)throw new eM([a(o,u.error)]);return u.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new tT({...this._def,args:tk.create(e).rest(th.create())})}returns(e){return new tT({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new tT({args:e||tk.create([]).rest(th.create()),returns:t||th.create(),typeName:x.ZodFunction,...eW(r)})}}class tS extends eH{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}tS.create=(e,t)=>new tS({getter:e,typeName:x.ZodLazy,...eW(t)});class tZ extends eH{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return ez(t,{received:t.data,code:eR.invalid_literal,expected:this._def.value}),eD}return{status:"valid",value:e.data}}get value(){return this._def.value}}function tO(e,t){return new tP({values:e,typeName:x.ZodEnum,...eW(t)})}tZ.create=(e,t)=>new tZ({value:e,typeName:x.ZodLiteral,...eW(t)});class tP extends eH{_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return ez(t,{expected:_.joinValues(r),received:t.parsedType,code:eR.invalid_type}),eD}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return ez(t,{received:t.data,code:eR.invalid_enum_value,options:r}),eD}return eU(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return tP.create(e,{...this._def,...t})}exclude(e,t=this._def){return tP.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}tP.create=tO;class tE extends eH{_parse(e){let t=_.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==eC.string&&r.parsedType!==eC.number){let e=_.objectValues(t);return ez(r,{expected:_.joinValues(e),received:r.parsedType,code:eR.invalid_type}),eD}if(this._cache||(this._cache=new Set(_.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){let e=_.objectValues(t);return ez(r,{received:r.data,code:eR.invalid_enum_value,options:e}),eD}return eU(e.data)}get enum(){return this._def.values}}tE.create=(e,t)=>new tE({values:e,typeName:x.ZodNativeEnum,...eW(t)});class tI extends eH{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==eC.promise&&!1===t.common.async?(ez(t,{code:eR.invalid_type,expected:eC.promise,received:t.parsedType}),eD):eU((t.parsedType===eC.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}tI.create=(e,t)=>new tI({type:e,typeName:x.ZodPromise,...eW(t)});class t$ extends eH{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===x.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),a=this._def.effect||null,s={addIssue:e=>{ez(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),"preprocess"===a.type){let e=a.transform(r.data,s);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return eD;let a=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===a.status?eD:"dirty"===a.status||"dirty"===t.value?eB(a.value):a});{if("aborted"===t.value)return eD;let a=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===a.status?eD:"dirty"===a.status||"dirty"===t.value?eB(a.value):a}}if("refinement"===a.type){let e=e=>{let t=a.refinement(e,s);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?eD:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===a.status?eD:("dirty"===a.status&&t.dirty(),e(a.value),{status:t.value,value:a.value})}}if("transform"===a.type)if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>"valid"!==e.status?eD:Promise.resolve(a.transform(e.value,s)).then(e=>({status:t.value,value:e})));else{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if("valid"!==e.status)return eD;let n=a.transform(e.value,s);if(n instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:n}}_.assertNever(a)}}t$.create=(e,t,r)=>new t$({schema:e,typeName:x.ZodEffects,effect:t,...eW(r)}),t$.createWithPreprocess=(e,t,r)=>new t$({schema:t,effect:{type:"preprocess",transform:e},typeName:x.ZodEffects,...eW(r)});class tN extends eH{_parse(e){return this._getType(e)===eC.undefined?eU(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}tN.create=(e,t)=>new tN({innerType:e,typeName:x.ZodOptional,...eW(t)});class tC extends eH{_parse(e){return this._getType(e)===eC.null?eU(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}tC.create=(e,t)=>new tC({innerType:e,typeName:x.ZodNullable,...eW(t)});class tj extends eH{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===eC.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}tj.create=(e,t)=>new tj({innerType:e,typeName:x.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...eW(t)});class tR extends eH{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},a=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return eK(a)?a.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new eM(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===a.status?a.value:this._def.catchValue({get error(){return new eM(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}tR.create=(e,t)=>new tR({innerType:e,typeName:x.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...eW(t)});class tM extends eH{_parse(e){if(this._getType(e)!==eC.nan){let t=this._getOrReturnCtx(e);return ez(t,{code:eR.invalid_type,expected:eC.nan,received:t.parsedType}),eD}return{status:"valid",value:e.data}}}tM.create=e=>new tM({typeName:x.ZodNaN,...eW(e)}),Symbol("zod_brand");class tF extends eH{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class tL extends eH{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?eD:"dirty"===e.status?(t.dirty(),eB(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?eD:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new tL({in:e,out:t,typeName:x.ZodPipeline})}}class tz extends eH{_parse(e){let t=this._def.innerType._parse(e),r=e=>("valid"===e.status&&(e.value=Object.freeze(e.value)),e);return eK(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function tV(...e){return e.reduce((e,t)=>({...e,...null!=t?t:{}}),{})}async function tD(e,t){if(null==e)return Promise.resolve();let r=null==t?void 0:t.abortSignal;return new Promise((t,a)=>{if(null==r?void 0:r.aborted)return void a(tB());let s=setTimeout(()=>{n(),t()},e),n=()=>{clearTimeout(s),null==r||r.removeEventListener("abort",i)},i=()=>{n(),a(tB())};null==r||r.addEventListener("abort",i)})}function tB(){return new DOMException("Delay was aborted","AbortError")}function tU(e){return Object.fromEntries([...e.headers])}tz.create=(e,t)=>new tz({innerType:e,typeName:x.ZodReadonly,...eW(t)}),ty.lazycreate,(s=x||(x={})).ZodString="ZodString",s.ZodNumber="ZodNumber",s.ZodNaN="ZodNaN",s.ZodBigInt="ZodBigInt",s.ZodBoolean="ZodBoolean",s.ZodDate="ZodDate",s.ZodSymbol="ZodSymbol",s.ZodUndefined="ZodUndefined",s.ZodNull="ZodNull",s.ZodAny="ZodAny",s.ZodUnknown="ZodUnknown",s.ZodNever="ZodNever",s.ZodVoid="ZodVoid",s.ZodArray="ZodArray",s.ZodObject="ZodObject",s.ZodUnion="ZodUnion",s.ZodDiscriminatedUnion="ZodDiscriminatedUnion",s.ZodIntersection="ZodIntersection",s.ZodTuple="ZodTuple",s.ZodRecord="ZodRecord",s.ZodMap="ZodMap",s.ZodSet="ZodSet",s.ZodFunction="ZodFunction",s.ZodLazy="ZodLazy",s.ZodLiteral="ZodLiteral",s.ZodEnum="ZodEnum",s.ZodEffects="ZodEffects",s.ZodNativeEnum="ZodNativeEnum",s.ZodOptional="ZodOptional",s.ZodNullable="ZodNullable",s.ZodDefault="ZodDefault",s.ZodCatch="ZodCatch",s.ZodPromise="ZodPromise",s.ZodBranded="ZodBranded",s.ZodPipeline="ZodPipeline",s.ZodReadonly="ZodReadonly",ta.create,ts.create,tM.create,tn.create,ti.create,to.create,tu.create,td.create,tl.create,tc.create,th.create,tp.create,tf.create,tm.create,ty.create,ty.strictCreate,tv.create,t_.create,tb.create,tk.create,tx.create,tw.create,tA.create,tT.create,tS.create,tZ.create,tP.create,tE.create,tI.create,t$.create,tN.create,tC.create,t$.createWithPreprocess,tL.create;var tK=({prefix:e,size:t=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:a="-"}={})=>{let s=()=>{let e=r.length,a=Array(t);for(let s=0;s<t;s++)a[s]=r[Math.random()*e|0];return a.join("")};if(null==e)return s;if(r.includes(a))throw new L({argument:"separator",message:`The separator "${a}" must not be part of the alphabet "${r}".`});return()=>`${e}${a}${s()}`},tq=tK();function tJ(e){return null==e?"unknown error":"string"==typeof e?e:e instanceof Error?e.message:JSON.stringify(e)}function tW(e){return(e instanceof Error||e instanceof DOMException)&&("AbortError"===e.name||"ResponseAborted"===e.name||"TimeoutError"===e.name)}var tH=["fetch failed","failed to fetch"];function tG({error:e,url:t,requestBodyValues:r}){if(tW(e))return e;if(e instanceof TypeError&&tH.includes(e.message.toLowerCase())){let a=e.cause;if(null!=a)return new E({message:`Cannot connect to API: ${a.message}`,cause:a,url:t,requestBodyValues:r,isRetryable:!0})}return e}function tY(e=globalThis){var t,r,a;return e.window?"runtime/browser":(null==(t=e.navigator)?void 0:t.userAgent)?`runtime/${e.navigator.userAgent.toLowerCase()}`:(null==(a=null==(r=e.process)?void 0:r.versions)?void 0:a.node)?`runtime/node.js/${e.process.version.substring(0)}`:e.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}function tX(e){if(null==e)return{};let t={};if(e instanceof Headers)e.forEach((e,r)=>{t[r.toLowerCase()]=e});else for(let[r,a]of(Array.isArray(e)||(e=Object.entries(e)),e))null!=a&&(t[r.toLowerCase()]=a);return t}function tQ(e,...t){let r=new Headers(tX(e)),a=r.get("user-agent")||"";return r.set("user-agent",[a,...t].filter(Boolean).join(" ")),Object.fromEntries(r.entries())}var t0="3.0.17",t1=()=>globalThis.fetch,t9=async({url:e,headers:t={},successfulResponseHandler:r,failedResponseHandler:a,abortSignal:s,fetch:n=t1()})=>{try{let i=await n(e,{method:"GET",headers:tQ(t,`ai-sdk/provider-utils/${t0}`,tY()),signal:s}),o=tU(i);if(!i.ok){let t;try{t=await a({response:i,url:e,requestBodyValues:{}})}catch(t){if(tW(t)||E.isInstance(t))throw t;throw new E({message:"Failed to process error response",cause:t,statusCode:i.status,url:e,responseHeaders:o,requestBodyValues:{}})}throw t.value}try{return await r({response:i,url:e,requestBodyValues:{}})}catch(t){if(t instanceof Error&&(tW(t)||E.isInstance(t)))throw t;throw new E({message:"Failed to process successful response",cause:t,statusCode:i.status,url:e,responseHeaders:o,requestBodyValues:{}})}}catch(t){throw tG({error:t,url:e,requestBodyValues:{}})}};function t4({mediaType:e,url:t,supportedUrls:r}){return t=t.toLowerCase(),e=e.toLowerCase(),Object.entries(r).map(([e,t])=>{let r=e.toLowerCase();return"*"===r||"*/*"===r?{mediaTypePrefix:"",regexes:t}:{mediaTypePrefix:r.replace(/\*/,""),regexes:t}}).filter(({mediaTypePrefix:t})=>e.startsWith(t)).flatMap(({regexes:e})=>e).some(e=>e.test(t))}function t2({apiKey:e,environmentVariableName:t,apiKeyParameterName:r="apiKey",description:a}){if("string"==typeof e)return e;if(null!=e)throw new et({message:`${a} API key must be a string.`});if("undefined"==typeof process)throw new et({message:`${a} API key is missing. Pass it using the '${r}' parameter. Environment variables is not supported in this environment.`});if(null==(e=process.env[t]))throw new et({message:`${a} API key is missing. Pass it using the '${r}' parameter or the ${t} environment variable.`});if("string"!=typeof e)throw new et({message:`${a} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}function t5({settingValue:e,environmentVariableName:t}){return"string"==typeof e?e:null!=e||"undefined"==typeof process?void 0:null!=(e=process.env[t])&&"string"==typeof e?e:void 0}function t3(e){var t;let[r,a=""]=e.toLowerCase().split("/");return null!=(t=({mpeg:"mp3","x-wav":"wav",opus:"ogg",mp4:"m4a","x-m4a":"m4a"})[a])?t:a}var t6=/"__proto__"\s*:/,t8=/"constructor"\s*:/;function t7(e){let t=JSON.parse(e);return null===t||"object"!=typeof t||!1===t6.test(e)&&!1===t8.test(e)?t:function(e){let t=[e];for(;t.length;){let e=t;for(let r of(t=[],e)){if(Object.prototype.hasOwnProperty.call(r,"__proto__")||Object.prototype.hasOwnProperty.call(r,"constructor")&&Object.prototype.hasOwnProperty.call(r.constructor,"prototype"))throw SyntaxError("Object contains forbidden prototype property");for(let e in r){let a=r[e];a&&"object"==typeof a&&t.push(a)}}}return e}(t)}function re(e){let{stackTraceLimit:t}=Error;try{Error.stackTraceLimit=0}catch(t){return t7(e)}try{return t7(e)}finally{Error.stackTraceLimit=t}}var rt=Symbol.for("vercel.ai.validator");function rr(e){let t;return()=>(null==t&&(t=e()),t)}async function ra({value:e,schema:t}){let r=await rs({value:e,schema:t});if(!r.success)throw ek.wrap({value:e,cause:r.error});return r.value}async function rs({value:e,schema:t}){var r;let a="object"==typeof t&&null!==t&&rt in t&&!0===t[rt]&&"validate"in t?t:"function"==typeof t?t():(r=t,{[rt]:!0,validate:async e=>{let t=await r["~standard"].validate(e);return null==t.issues?{success:!0,value:t.value}:{success:!1,error:new ek({value:e,cause:t.issues})}}});try{if(null==a.validate)return{success:!0,value:e,rawValue:e};let t=await a.validate(e);if(t.success)return{success:!0,value:t.value,rawValue:e};return{success:!1,error:ek.wrap({value:e,cause:t.error}),rawValue:e}}catch(t){return{success:!1,error:ek.wrap({value:e,cause:t}),rawValue:e}}}async function rn({text:e,schema:t}){try{let r=re(e);if(null==t)return r;return ra({value:r,schema:t})}catch(t){if(Y.isInstance(t)||ek.isInstance(t))throw t;throw new Y({text:e,cause:t})}}async function ri({text:e,schema:t}){try{let r=re(e);if(null==t)return{success:!0,value:r,rawValue:r};return await rs({value:r,schema:t})}catch(t){return{success:!1,error:Y.isInstance(t)?t:new Y({text:e,cause:t}),rawValue:void 0}}}function ro(e){try{return re(e),!0}catch(e){return!1}}function ru({stream:e,schema:t}){return e.pipeThrough(new TextDecoderStream).pipeThrough(new eI).pipeThrough(new TransformStream({async transform({data:e},r){"[DONE]"!==e&&r.enqueue(await ri({text:e,schema:t}))}}))}async function rd({provider:e,providerOptions:t,schema:r}){if((null==t?void 0:t[e])==null)return;let a=await rs({value:t[e],schema:r});if(!a.success)throw new L({argument:"providerOptions",message:`invalid ${e} provider options`,cause:a.error});return a.value}var rl=()=>globalThis.fetch,rc=async({url:e,headers:t,body:r,failedResponseHandler:a,successfulResponseHandler:s,abortSignal:n,fetch:i})=>rp({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(r),values:r},failedResponseHandler:a,successfulResponseHandler:s,abortSignal:n,fetch:i}),rh=async({url:e,headers:t,formData:r,failedResponseHandler:a,successfulResponseHandler:s,abortSignal:n,fetch:i})=>rp({url:e,headers:t,body:{content:r,values:Object.fromEntries(r.entries())},failedResponseHandler:a,successfulResponseHandler:s,abortSignal:n,fetch:i}),rp=async({url:e,headers:t={},body:r,successfulResponseHandler:a,failedResponseHandler:s,abortSignal:n,fetch:i=rl()})=>{try{let o=await i(e,{method:"POST",headers:tQ(t,`ai-sdk/provider-utils/${t0}`,tY()),body:r.content,signal:n}),u=tU(o);if(!o.ok){let t;try{t=await s({response:o,url:e,requestBodyValues:r.values})}catch(t){if(tW(t)||E.isInstance(t))throw t;throw new E({message:"Failed to process error response",cause:t,statusCode:o.status,url:e,responseHeaders:u,requestBodyValues:r.values})}throw t.value}try{return await a({response:o,url:e,requestBodyValues:r.values})}catch(t){if(t instanceof Error&&(tW(t)||E.isInstance(t)))throw t;throw new E({message:"Failed to process successful response",cause:t,statusCode:o.status,url:e,responseHeaders:u,requestBodyValues:r.values})}}catch(t){throw tG({error:t,url:e,requestBodyValues:r.values})}};function rf(e){return e}function rm(e){return{...e,type:"dynamic"}}function ry({id:e,name:t,inputSchema:r}){return({execute:a,outputSchema:s,toModelOutput:n,onInputStart:i,onInputDelta:o,onInputAvailable:u,...d})=>({type:"provider-defined",id:e,name:t,args:d,inputSchema:r,outputSchema:s,execute:a,toModelOutput:n,onInputStart:i,onInputDelta:o,onInputAvailable:u})}function rv({id:e,name:t,inputSchema:r,outputSchema:a}){return({execute:s,toModelOutput:n,onInputStart:i,onInputDelta:o,onInputAvailable:u,...d})=>({type:"provider-defined",id:e,name:t,args:d,inputSchema:r,outputSchema:a,execute:s,toModelOutput:n,onInputStart:i,onInputDelta:o,onInputAvailable:u})}async function rg(e){return"function"==typeof e&&(e=e()),Promise.resolve(e)}var r_=({errorSchema:e,errorToMessage:t,isRetryable:r})=>async({response:a,url:s,requestBodyValues:n})=>{let i=await a.text(),o=tU(a);if(""===i.trim())return{responseHeaders:o,value:new E({message:a.statusText,url:s,requestBodyValues:n,statusCode:a.status,responseHeaders:o,responseBody:i,isRetryable:null==r?void 0:r(a)})};try{let u=await rn({text:i,schema:e});return{responseHeaders:o,value:new E({message:t(u),url:s,requestBodyValues:n,statusCode:a.status,responseHeaders:o,responseBody:i,data:u,isRetryable:null==r?void 0:r(a,u)})}}catch(e){return{responseHeaders:o,value:new E({message:a.statusText,url:s,requestBodyValues:n,statusCode:a.status,responseHeaders:o,responseBody:i,isRetryable:null==r?void 0:r(a)})}}},rb=e=>async({response:t})=>{let r=tU(t);if(null==t.body)throw new C({});return{responseHeaders:r,value:ru({stream:t.body,schema:e})}},rk=e=>async({response:t,url:r,requestBodyValues:a})=>{let s=await t.text(),n=await ri({text:s,schema:e}),i=tU(t);if(!n.success)throw new E({message:"Invalid JSON response",cause:n.error,statusCode:t.status,responseHeaders:i,responseBody:s,url:r,requestBodyValues:a});return{responseHeaders:i,value:n.value,rawValue:n.rawValue}},rx=()=>async({response:e,url:t,requestBodyValues:r})=>{let a=tU(e);if(!e.body)throw new E({message:"Response body is empty",url:t,requestBodyValues:r,statusCode:e.status,responseHeaders:a,responseBody:void 0});try{let t=await e.arrayBuffer();return{responseHeaders:a,value:new Uint8Array(t)}}catch(s){throw new E({message:"Failed to read response as array buffer",url:t,requestBodyValues:r,statusCode:e.status,responseHeaders:a,responseBody:void 0,cause:s})}},rw=Symbol("Let zodToJsonSchema decide on which parser to use"),rA={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"};function rT(e,t){return rq(e.type._def,t)}var rS=void 0,rZ=/^[cC][^\s-]{8,}$/,rO=/^[0-9a-z]+$/,rP=/^[0-9A-HJKMNP-TV-Z]{26}$/,rE=/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,rI=()=>(void 0===rS&&(rS=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),rS),r$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,rN=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,rC=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,rj=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,rR=/^[a-zA-Z0-9_-]{21}$/,rM=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/;function rF(e,t){let r={type:"string"};if(e.checks)for(let a of e.checks)switch(a.kind){case"min":r.minLength="number"==typeof r.minLength?Math.max(r.minLength,a.value):a.value;break;case"max":r.maxLength="number"==typeof r.maxLength?Math.min(r.maxLength,a.value):a.value;break;case"email":switch(t.emailStrategy){case"format:email":rV(r,"email",a.message,t);break;case"format:idn-email":rV(r,"idn-email",a.message,t);break;case"pattern:zod":rD(r,rE,a.message,t)}break;case"url":rV(r,"uri",a.message,t);break;case"uuid":rV(r,"uuid",a.message,t);break;case"regex":rD(r,a.regex,a.message,t);break;case"cuid":rD(r,rZ,a.message,t);break;case"cuid2":rD(r,rO,a.message,t);break;case"startsWith":rD(r,RegExp(`^${rL(a.value,t)}`),a.message,t);break;case"endsWith":rD(r,RegExp(`${rL(a.value,t)}$`),a.message,t);break;case"datetime":rV(r,"date-time",a.message,t);break;case"date":rV(r,"date",a.message,t);break;case"time":rV(r,"time",a.message,t);break;case"duration":rV(r,"duration",a.message,t);break;case"length":r.minLength="number"==typeof r.minLength?Math.max(r.minLength,a.value):a.value,r.maxLength="number"==typeof r.maxLength?Math.min(r.maxLength,a.value):a.value;break;case"includes":rD(r,RegExp(rL(a.value,t)),a.message,t);break;case"ip":"v6"!==a.version&&rV(r,"ipv4",a.message,t),"v4"!==a.version&&rV(r,"ipv6",a.message,t);break;case"base64url":rD(r,rj,a.message,t);break;case"jwt":rD(r,rM,a.message,t);break;case"cidr":"v6"!==a.version&&rD(r,r$,a.message,t),"v4"!==a.version&&rD(r,rN,a.message,t);break;case"emoji":rD(r,rI(),a.message,t);break;case"ulid":rD(r,rP,a.message,t);break;case"base64":switch(t.base64Strategy){case"format:binary":rV(r,"binary",a.message,t);break;case"contentEncoding:base64":r.contentEncoding="base64";break;case"pattern:zod":rD(r,rC,a.message,t)}break;case"nanoid":rD(r,rR,a.message,t)}return r}function rL(e,t){return"escape"===t.patternStrategy?function(e){let t="";for(let r=0;r<e.length;r++)rz.has(e[r])||(t+="\\"),t+=e[r];return t}(e):e}var rz=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function rV(e,t,r,a){var s;e.format||(null==(s=e.anyOf)?void 0:s.some(e=>e.format))?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push({format:t,...r&&a.errorMessages&&{errorMessage:{format:r}}})):e.format=t}function rD(e,t,r,a){var s;e.pattern||(null==(s=e.allOf)?void 0:s.some(e=>e.pattern))?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push({pattern:rB(t,a),...r&&a.errorMessages&&{errorMessage:{pattern:r}}})):e.pattern=rB(t,a)}function rB(e,t){var r;if(!t.applyRegexFlags||!e.flags)return e.source;let a={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},s=a.i?e.source.toLowerCase():e.source,n="",i=!1,o=!1,u=!1;for(let e=0;e<s.length;e++){if(i){n+=s[e],i=!1;continue}if(a.i){if(o){if(s[e].match(/[a-z]/)){u?(n+=s[e],n+=`${s[e-2]}-${s[e]}`.toUpperCase(),u=!1):"-"===s[e+1]&&(null==(r=s[e+2])?void 0:r.match(/[a-z]/))?(n+=s[e],u=!0):n+=`${s[e]}${s[e].toUpperCase()}`;continue}}else if(s[e].match(/[a-z]/)){n+=`[${s[e]}${s[e].toUpperCase()}]`;continue}}if(a.m){if("^"===s[e]){n+=`(^|(?<=[\r
]))`;continue}else if("$"===s[e]){n+=`($|(?=[\r
]))`;continue}}if(a.s&&"."===s[e]){n+=o?`${s[e]}\r
`:`[${s[e]}\r
]`;continue}n+=s[e],"\\"===s[e]?i=!0:o&&"]"===s[e]?o=!1:o||"["!==s[e]||(o=!0)}try{new RegExp(n)}catch(r){return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return n}function rU(e,t){var r,a,s,n,i,o;let u={type:"object",additionalProperties:null!=(r=rq(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]}))?r:t.allowedAdditionalProperties};if((null==(a=e.keyType)?void 0:a._def.typeName)===x.ZodString&&(null==(s=e.keyType._def.checks)?void 0:s.length)){let{type:r,...a}=rF(e.keyType._def,t);return{...u,propertyNames:a}}if((null==(n=e.keyType)?void 0:n._def.typeName)===x.ZodEnum)return{...u,propertyNames:{enum:e.keyType._def.values}};if((null==(i=e.keyType)?void 0:i._def.typeName)===x.ZodBranded&&e.keyType._def.type._def.typeName===x.ZodString&&(null==(o=e.keyType._def.type._def.checks)?void 0:o.length)){let{type:r,...a}=rT(e.keyType._def,t);return{...u,propertyNames:a}}return u}var rK={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function rq(e,t,r=!1){var a;let s=t.seen.get(e);if(t.override){let n=null==(a=t.override)?void 0:a.call(t,e,t,s,r);if(n!==rw)return n}if(s&&!r){let e=rJ(s,t);if(void 0!==e)return e}let n={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,n);let i=((e,t,r)=>{var a,s,n,i,o,u;switch(t){case x.ZodString:return rF(e,r);case x.ZodNumber:let d={type:"number"};if(!e.checks)return d;for(let t of e.checks)switch(t.kind){case"int":d.type="integer";break;case"min":t.inclusive?d.minimum=t.value:d.exclusiveMinimum=t.value;break;case"max":t.inclusive?d.maximum=t.value:d.exclusiveMaximum=t.value;break;case"multipleOf":d.multipleOf=t.value}return d;case x.ZodObject:return function(e,t){let r={type:"object",properties:{}},a=[],s=e.shape();for(let e in s){let n=s[e];if(void 0===n||void 0===n._def)continue;let i=function(e){try{return e.isOptional()}catch(e){return!0}}(n),o=rq(n._def,{...t,currentPath:[...t.currentPath,"properties",e],propertyPath:[...t.currentPath,"properties",e]});void 0!==o&&(r.properties[e]=o,i||a.push(e))}a.length&&(r.required=a);let n=function(e,t){if("ZodNever"!==e.catchall._def.typeName)return rq(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return"strict"===t.removeAdditionalStrategy?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}(e,t);return void 0!==n&&(r.additionalProperties=n),r}(e,r);case x.ZodBigInt:let l={type:"integer",format:"int64"};if(!e.checks)return l;for(let t of e.checks)switch(t.kind){case"min":t.inclusive?l.minimum=t.value:l.exclusiveMinimum=t.value;break;case"max":t.inclusive?l.maximum=t.value:l.exclusiveMaximum=t.value;break;case"multipleOf":l.multipleOf=t.value}return l;case x.ZodBoolean:return{type:"boolean"};case x.ZodDate:return function e(t,r,a){let s=null!=a?a:r.dateStrategy;if(Array.isArray(s))return{anyOf:s.map((a,s)=>e(t,r,a))};switch(s){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":var n=t;let i={type:"integer",format:"unix-time"};for(let e of n.checks)switch(e.kind){case"min":i.minimum=e.value;break;case"max":i.maximum=e.value}return i}}(e,r);case x.ZodUndefined:return{not:{}};case x.ZodNull:return{type:"null"};case x.ZodArray:let c;return c={type:"array"},(null==(n=e.type)?void 0:n._def)&&(null==(o=null==(i=e.type)?void 0:i._def)?void 0:o.typeName)!==x.ZodAny&&(c.items=rq(e.type._def,{...r,currentPath:[...r.currentPath,"items"]})),e.minLength&&(c.minItems=e.minLength.value),e.maxLength&&(c.maxItems=e.maxLength.value),e.exactLength&&(c.minItems=e.exactLength.value,c.maxItems=e.exactLength.value),c;case x.ZodUnion:case x.ZodDiscriminatedUnion:let h,p=e.options instanceof Map?Array.from(e.options.values()):e.options;if(p.every(e=>e._def.typeName in rK&&(!e._def.checks||!e._def.checks.length))){let e=p.reduce((e,t)=>{let r=rK[t._def.typeName];return r&&!e.includes(r)?[...e,r]:e},[]);return{type:e.length>1?e:e[0]}}if(p.every(e=>"ZodLiteral"===e._def.typeName&&!e.description)){let e=p.reduce((e,t)=>{let r=typeof t._def.value;switch(r){case"string":case"number":case"boolean":return[...e,r];case"bigint":return[...e,"integer"];case"object":if(null===t._def.value)return[...e,"null"];default:return e}},[]);if(e.length===p.length){let t=e.filter((e,t,r)=>r.indexOf(e)===t);return{type:t.length>1?t:t[0],enum:p.reduce((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value],[])}}}else if(p.every(e=>"ZodEnum"===e._def.typeName))return{type:"string",enum:p.reduce((e,t)=>[...e,...t._def.values.filter(t=>!e.includes(t))],[])};return a=e,s=r,(h=(a.options instanceof Map?Array.from(a.options.values()):a.options).map((e,t)=>rq(e._def,{...s,currentPath:[...s.currentPath,"anyOf",`${t}`]})).filter(e=>!!e&&(!s.strictUnions||"object"==typeof e&&Object.keys(e).length>0))).length?{anyOf:h}:void 0;case x.ZodIntersection:let f,m;return f=[rq(e.left._def,{...r,currentPath:[...r.currentPath,"allOf","0"]}),rq(e.right._def,{...r,currentPath:[...r.currentPath,"allOf","1"]})].filter(e=>!!e),m=[],f.forEach(e=>{if((!("type"in e)||"string"!==e.type)&&"allOf"in e)m.push(...e.allOf);else{let t=e;if("additionalProperties"in e&&!1===e.additionalProperties){let{additionalProperties:r,...a}=e;t=a}m.push(t)}}),m.length?{allOf:m}:void 0;case x.ZodTuple:return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((e,t)=>rq(e._def,{...r,currentPath:[...r.currentPath,"items",`${t}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[]),additionalItems:rq(e.rest._def,{...r,currentPath:[...r.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((e,t)=>rq(e._def,{...r,currentPath:[...r.currentPath,"items",`${t}`]})).reduce((e,t)=>void 0===t?e:[...e,t],[])};case x.ZodRecord:return rU(e,r);case x.ZodLiteral:let y;return"bigint"!=(y=typeof e.value)&&"number"!==y&&"boolean"!==y&&"string"!==y?{type:Array.isArray(e.value)?"array":"object"}:{type:"bigint"===y?"integer":y,const:e.value};case x.ZodEnum:return{type:"string",enum:Array.from(e.values)};case x.ZodNativeEnum:let v,g,_;return v=e.values,{type:1===(_=Array.from(new Set((g=Object.keys(e.values).filter(e=>"number"!=typeof v[v[e]]).map(e=>v[e])).map(e=>typeof e)))).length?"string"===_[0]?"string":"number":["string","number"],enum:g};case x.ZodNullable:if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return{type:[rK[e.innerType._def.typeName],"null"]};let b=rq(e.innerType._def,{...r,currentPath:[...r.currentPath,"anyOf","0"]});return b&&{anyOf:[b,{type:"null"}]};case x.ZodOptional:if(r.currentPath.toString()===(null==(u=r.propertyPath)?void 0:u.toString()))return rq(e.innerType._def,r);let k=rq(e.innerType._def,{...r,currentPath:[...r.currentPath,"anyOf","1"]});return k?{anyOf:[{not:{}},k]}:{};case x.ZodMap:if("record"===r.mapStrategy)return rU(e,r);return{type:"array",maxItems:125,items:{type:"array",items:[rq(e.keyType._def,{...r,currentPath:[...r.currentPath,"items","items","0"]})||{},rq(e.valueType._def,{...r,currentPath:[...r.currentPath,"items","items","1"]})||{}],minItems:2,maxItems:2}};case x.ZodSet:let w;return w={type:"array",uniqueItems:!0,items:rq(e.valueType._def,{...r,currentPath:[...r.currentPath,"items"]})},e.minSize&&(w.minItems=e.minSize.value),e.maxSize&&(w.maxItems=e.maxSize.value),w;case x.ZodLazy:return()=>e.getter()._def;case x.ZodPromise:return rq(e.type._def,r);case x.ZodNaN:case x.ZodNever:return{not:{}};case x.ZodEffects:return"input"===r.effectStrategy?rq(e.schema._def,r):{};case x.ZodAny:case x.ZodUnknown:return{};case x.ZodDefault:return{...rq(e.innerType._def,r),default:e.defaultValue()};case x.ZodBranded:return rT(e,r);case x.ZodReadonly:case x.ZodCatch:return rq(e.innerType._def,r);case x.ZodPipeline:if("input"===r.pipeStrategy)return rq(e.in._def,r);if("output"===r.pipeStrategy)return rq(e.out._def,r);let A=rq(e.in._def,{...r,currentPath:[...r.currentPath,"allOf","0"]}),T=rq(e.out._def,{...r,currentPath:[...r.currentPath,"allOf",A?"1":"0"]});return{allOf:[A,T].filter(e=>void 0!==e)};case x.ZodFunction:case x.ZodVoid:case x.ZodSymbol:default:return}})(e,e.typeName,t),o="function"==typeof i?rq(i(),t):i;if(o&&rW(e,t,o),t.postProcess){let r=t.postProcess(o,e,t);return n.jsonSchema=o,r}return n.jsonSchema=o,o}var rJ=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:((e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")})(t.currentPath,e.path)};case"none":case"seen":if(e.path.length<t.currentPath.length&&e.path.every((e,r)=>t.currentPath[r]===e))return console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{};return"seen"===t.$refStrategy?{}:void 0}},rW=(e,t,r)=>(e.description&&(r.description=e.description),r);function rH(e,t){var r,a;let s;if("_zod"in e){let a;return a=null!=(r=null==t?void 0:t.useReferences)&&r,rX(()=>eN.toJSONSchema(e,{target:"draft-7",io:"output",reused:a?"ref":"inline"}),{validate:async t=>{let r=await e$.safeParseAsync(e,t);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}}})}return s=null!=(a=null==t?void 0:t.useReferences)&&a,rX(()=>((e,t)=>{var r;let a,s,n=(s=void 0!==(a="string"==typeof t?{...rA,name:t}:{...rA,...t}).name?[...a.basePath,a.definitionPath,a.name]:a.basePath,{...a,currentPath:s,propertyPath:void 0,seen:new Map(Object.entries(a.definitions).map(([e,t])=>[t._def,{def:t._def,path:[...a.basePath,a.definitionPath,e],jsonSchema:void 0}]))}),i="object"==typeof t&&t.definitions?Object.entries(t.definitions).reduce((e,[t,r])=>{var a;return{...e,[t]:null!=(a=rq(r._def,{...n,currentPath:[...n.basePath,n.definitionPath,t]},!0))?a:{}}},{}):void 0,o="string"==typeof t?t:(null==t?void 0:t.nameStrategy)==="title"||null==t?void 0:t.name,u=null!=(r=rq(e._def,void 0===o?n:{...n,currentPath:[...n.basePath,n.definitionPath,o]},!1))?r:{},d="object"==typeof t&&void 0!==t.name&&"title"===t.nameStrategy?t.name:void 0;void 0!==d&&(u.title=d);let l=void 0===o?i?{...u,[n.definitionPath]:i}:u:{$ref:[..."relative"===n.$refStrategy?[]:n.basePath,n.definitionPath,o].join("/"),[n.definitionPath]:{...i,[o]:u}};return l.$schema="http://json-schema.org/draft-07/schema#",l})(e,{$refStrategy:s?"root":"none"}),{validate:async t=>{let r=await e.safeParseAsync(t);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}}})}var rG=Symbol.for("vercel.ai.schema");function rY(e){let t;return()=>(null==t&&(t=e()),t)}function rX(e,{validate:t}={}){return{[rG]:!0,_type:void 0,[rt]:!0,get jsonSchema(){return"function"==typeof e&&(e=e()),e},validate:t}}function rQ(e){return null==e?rX({properties:{},additionalProperties:!1}):"object"==typeof e&&null!==e&&rG in e&&!0===e[rG]&&"jsonSchema"in e&&"validate"in e?e:"function"==typeof e?e():rH(e)}var{btoa:r0,atob:r1}=globalThis;function r9(e){let t=r1(e.replace(/-/g,"+").replace(/_/g,"/"));return Uint8Array.from(t,e=>e.codePointAt(0))}function r4(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCodePoint(e[r]);return r0(t)}function r2(e){return e instanceof Uint8Array?r4(e):e}function r5(e){return null==e?void 0:e.replace(/\/$/,"")}async function*r3({execute:e,input:t,options:r}){let a=e(t,r);if(null!=a&&"function"==typeof a[Symbol.asyncIterator]){let e;for await(let t of a)e=t,yield{type:"preliminary",output:t};yield{type:"final",output:e}}else yield{type:"final",output:await a}}e.s(["asSchema",()=>rQ,"combineHeaders",()=>tV,"convertBase64ToUint8Array",()=>r9,"convertToBase64",()=>r2,"convertUint8ArrayToBase64",()=>r4,"createBinaryResponseHandler",()=>rx,"createEventSourceResponseHandler",()=>rb,"createIdGenerator",()=>tK,"createJsonErrorResponseHandler",()=>r_,"createJsonResponseHandler",()=>rk,"createProviderDefinedToolFactory",()=>ry,"createProviderDefinedToolFactoryWithOutputSchema",()=>rv,"delay",()=>tD,"dynamicTool",()=>rm,"executeTool",()=>r3,"generateId",()=>tq,"getErrorMessage",()=>tJ,"getFromApi",()=>t9,"getRuntimeEnvironmentUserAgent",()=>tY,"isAbortError",()=>tW,"isParsableJson",()=>ro,"isUrlSupported",()=>t4,"jsonSchema",()=>rX,"lazySchema",()=>rY,"lazyValidator",()=>rr,"loadApiKey",()=>t2,"loadOptionalSetting",()=>t5,"mediaTypeToExtension",()=>t3,"normalizeHeaders",()=>tX,"parseJsonEventStream",()=>ru,"parseProviderOptions",()=>rd,"postFormDataToApi",()=>rh,"postJsonToApi",()=>rc,"resolve",()=>rg,"safeParseJSON",()=>ri,"safeValidateTypes",()=>rs,"tool",()=>rf,"validateTypes",()=>ra,"withUserAgentSuffix",()=>tQ,"withoutTrailingSlash",()=>r5,"zodSchema",()=>rH],353344)}];

//# sourceMappingURL=4bfae_%40ai-sdk_provider-utils_dist_index_mjs_d308ade5._.js.map