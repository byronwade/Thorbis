module.exports=[224361,(e,t,r)=>{t.exports=e.x("util",()=>require("util"))},254799,(e,t,r)=>{t.exports=e.x("crypto",()=>require("crypto"))},233405,(e,t,r)=>{t.exports=e.x("child_process",()=>require("child_process"))},427699,(e,t,r)=>{t.exports=e.x("events",()=>require("events"))},921517,(e,t,r)=>{t.exports=e.x("http",()=>require("http"))},524836,(e,t,r)=>{t.exports=e.x("https",()=>require("https"))},970661,e=>{"use strict";let t;var r=e.i(409197);let s=(t=process.env.STRIPE_SECRET_KEY)?new r.default(t,{apiVersion:"2025-10-29.clover",typescript:!0}):null;e.s(["stripe",0,s])},541881,e=>{"use strict";var t=e.i(970661);class r{config;constructor(e){this.config=e}getSupportedChannels(){return["online"]}async processPayment(e){if(!t.stripe)return{success:!1,status:"failed",error:"Stripe is not configured"};try{e.amount>1e5&&console.warn(`Stripe: High-value payment of ${e.amount} cents - verify this is platform billing, not contractor payment`);let r=await t.stripe.paymentIntents.create({amount:e.amount,currency:e.currency||"usd",customer:e.customerId,payment_method:e.paymentMethodId,confirm:!0,metadata:{company_id:this.config.companyId,invoice_id:e.invoiceId||"",channel:e.channel,...e.metadata},description:e.description});return{success:"succeeded"===r.status,transactionId:r.id,processorTransactionId:r.id,status:"succeeded"===r.status?"succeeded":"requires_action"===r.status?"requires_action":"processing",clientSecret:r.client_secret||void 0,processorMetadata:r}}catch(e){return{success:!1,status:"failed",error:e.message||"Payment processing failed",failureCode:e.code,failureMessage:e.message}}}async refundPayment(e){if(!t.stripe)return{success:!1,status:"failed",error:"Stripe is not configured"};try{let r=await t.stripe.refunds.create({payment_intent:e.transactionId,amount:e.amount,metadata:{reason:e.reason||"",...e.metadata}});return{success:"succeeded"===r.status,refundId:r.id,processorRefundId:r.id,status:"succeeded"===r.status?"succeeded":"processing"}}catch(e){return{success:!1,status:"failed",error:e.message||"Refund failed"}}}async getPaymentStatus(e){if(!t.stripe)throw Error("Stripe is not configured");let r=await t.stripe.paymentIntents.retrieve(e);return{status:r.status,amount:r.amount,metadata:r}}verifyWebhook(e,r){if(!t.stripe)return!1;try{if(!process.env.STRIPE_WEBHOOK_SECRET)return!1;return!0}catch(e){return!1}}}e.s(["StripeProcessor",()=>r])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__1df846e3._.js.map