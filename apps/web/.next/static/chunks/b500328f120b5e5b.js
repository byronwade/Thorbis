(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,672573,e=>{"use strict";let a=(0,e.i(383206).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["default",()=>a])},15751,e=>{"use strict";var a=e.i(672573);e.s(["MapPin",()=>a.default])},686787,e=>{"use strict";e.i(116233),e.s([])},330557,e=>{"use strict";let a=(0,e.i(383206).default)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);e.s(["default",()=>a])},181893,e=>{"use strict";var a=e.i(330557);e.s(["Zap",()=>a.default])},486882,e=>{"use strict";let a=(0,e.i(383206).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);e.s(["default",()=>a])},486506,e=>{"use strict";var a=e.i(486882);e.s(["ArrowRight",()=>a.default])},160973,e=>{"use strict";e.i(116233),e.s([])},789067,e=>{"use strict";e.i(116233),e.s([])},926991,e=>{"use strict";let a=(0,e.i(383206).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);e.s(["default",()=>a])},51866,e=>{"use strict";var a=e.i(926991);e.s(["ChevronLeft",()=>a.default])},172506,e=>{"use strict";var a=e.i(306929);e.s(["ArrowDown",()=>a.default])},698684,e=>{"use strict";let a=(0,e.i(383206).default)("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);e.s(["default",()=>a])},407205,e=>{"use strict";var a=e.i(698684);e.s(["ArrowUp",()=>a.default])},306929,e=>{"use strict";let a=(0,e.i(383206).default)("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);e.s(["default",()=>a])},573951,e=>{"use strict";let a=(0,e.i(383206).default)("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);e.s(["default",()=>a])},635709,e=>{"use strict";e.s(["TablePresets",0,{fullList:(e={})=>({variant:"full",enableSelection:e.enableSelection??!0,showRefresh:e.showRefresh??!1,showPagination:e.showPagination??!0,itemsPerPage:e.itemsPerPage??50,serverPagination:e.serverPagination??!1,serverSearch:e.serverSearch??!1,searchPlaceholder:e.searchPlaceholder??"Search...",entity:e.entity,noPadding:e.noPadding??!1}),compact:(e={})=>({variant:"compact",enableSelection:e.enableSelection??!1,showRefresh:e.showRefresh??!1,showPagination:e.showPagination??!0,itemsPerPage:e.itemsPerPage??20,serverPagination:e.serverPagination??!1,serverSearch:e.serverSearch??!1,searchPlaceholder:e.searchPlaceholder??"Search...",entity:e.entity,noPadding:e.noPadding??!1}),nested:(e={})=>({variant:"nested",enableSelection:e.enableSelection??!1,showRefresh:e.showRefresh??!1,showPagination:e.showPagination??!1,itemsPerPage:e.itemsPerPage??10,serverPagination:e.serverPagination??!1,serverSearch:e.serverSearch??!1,entity:e.entity,noPadding:e.noPadding??!0}),serverPaginated:(e={})=>({variant:"full",enableSelection:e.enableSelection??!0,showRefresh:e.showRefresh??!1,showPagination:e.showPagination??!0,itemsPerPage:e.itemsPerPage??50,serverPagination:!0,serverSearch:!0,searchPlaceholder:e.searchPlaceholder??"Search...",entity:e.entity,noPadding:e.noPadding??!1}),readOnly:(e={})=>({variant:e.itemsPerPage?"full":"compact",enableSelection:!1,showRefresh:!1,showPagination:e.showPagination??!!e.itemsPerPage,itemsPerPage:e.itemsPerPage??20,serverPagination:e.serverPagination??!1,serverSearch:!1,entity:e.entity,noPadding:e.noPadding??!1}),modal:(e={})=>({variant:"compact",enableSelection:e.enableSelection??!0,showRefresh:!1,showPagination:e.showPagination??!1,itemsPerPage:e.itemsPerPage??10,serverPagination:!1,serverSearch:!1,searchPlaceholder:e.searchPlaceholder??"Search...",noPadding:!0})}])},969249,e=>{"use strict";let a=(0,e.i(383206).default)("navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);e.s(["default",()=>a])},332845,e=>{"use strict";var a=e.i(969249);e.s(["Navigation",()=>a.default])},923225,e=>{"use strict";let a=(0,e.i(383206).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["default",()=>a])},630754,e=>{"use strict";var a=e.i(923225);e.s(["CheckCircle",()=>a.default])},321561,e=>{"use strict";let a=(0,e.i(383206).default)("loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);e.s(["default",()=>a])},794712,e=>{"use strict";var a=e.i(111043);e.i(116233);var t=e.i(363712),r=e.i(989239),s=e.i(818796),l=e.i(276389),i=e.i(630754),d=e.i(136764),n=e.i(606661),o=e.i(321561),o=o,c=e.i(559586),u=e.i(900007);function m(e){return({quoted:{className:"border-border/50 bg-background text-muted-foreground hover:bg-muted/50",label:"Quoted",icon:n.FileText,ariaLabel:"Job status: Quoted"},scheduled:{className:"border-blue-200 bg-blue-50 text-blue-700 hover:bg-blue-100 dark:border-blue-900 dark:bg-blue-950/50 dark:text-blue-400",label:"Scheduled",icon:l.Calendar,ariaLabel:"Job status: Scheduled"},in_progress:{className:"border-blue-500/50 bg-blue-500 text-white hover:bg-blue-600",label:"In Progress",icon:o.default,ariaLabel:"Job status: In Progress"},completed:{className:"border-green-500/50 bg-green-500 text-white hover:bg-green-600",label:"Completed",icon:i.CheckCircle,ariaLabel:"Job status: Completed"},cancelled:{className:"border-red-500/50 bg-red-500 text-white hover:bg-red-600",label:"Cancelled",icon:u.XCircle,ariaLabel:"Job status: Cancelled"}})[e]||{className:"border-border/50 bg-background text-muted-foreground",label:e.replace(/_/g," ")}}function x({status:e,type:l,priority:o,contractType:u,className:x,variant:g="outline"}){let h,b=(h=u?({service:{className:"border-blue-200/50 bg-blue-50/50 text-blue-700 dark:border-blue-900/50 dark:bg-blue-950/30 dark:text-blue-400",label:"Service"},maintenance:{className:"border-green-200/50 bg-green-50/50 text-green-700 dark:border-green-900/50 dark:bg-green-950/30 dark:text-green-400",label:"Maintenance"},custom:{className:"border-purple-200/50 bg-purple-50/50 text-purple-700 dark:border-purple-900/50 dark:bg-purple-950/30 dark:text-purple-400",label:"Custom"}})[u]||{className:"border-purple-200/50 bg-purple-50/50 text-purple-700 dark:border-purple-900/50 dark:bg-purple-950/30 dark:text-purple-400",label:u.replace(/_/g," ")}:o?({low:{className:"border-blue-200/50 bg-blue-50/50 text-blue-700 dark:border-blue-900/50 dark:bg-blue-950/30 dark:text-blue-400",label:"Low"},medium:{className:"border-yellow-200/50 bg-yellow-50/50 text-yellow-700 dark:border-yellow-900/50 dark:bg-yellow-950/30 dark:text-yellow-400",label:"Medium"},high:{className:"border-orange-200/50 bg-orange-50/50 text-orange-700 dark:border-orange-900/50 dark:bg-orange-950/30 dark:text-orange-400",label:"High"},urgent:{className:"border-red-200/50 bg-red-50/50 text-red-700 dark:border-red-900/50 dark:bg-red-950/30 dark:text-red-400",label:"Urgent"}})[o]||{className:"border-border/50 bg-background text-muted-foreground",label:o.replace(/_/g," ")}:"purchase_order"===l?({draft:{className:"border-border/50 bg-background text-muted-foreground hover:bg-muted/50",label:"Draft"},pending:{className:"border-yellow-200/50 bg-yellow-50/50 text-yellow-700 dark:border-yellow-900/50 dark:bg-yellow-950/30 dark:text-yellow-400",label:"Pending"},approved:{className:"border-green-500/50 bg-green-500 text-white hover:bg-green-600",label:"Approved"},partially_received:{className:"border-blue-200 bg-blue-50 text-blue-700 hover:bg-blue-100 dark:border-blue-900 dark:bg-blue-950/50 dark:text-blue-400",label:"Partially Received"},received:{className:"border-green-500/50 bg-green-500 text-white hover:bg-green-600",label:"Received"},cancelled:{className:"border-red-500/50 bg-red-500 text-white hover:bg-red-600",label:"Cancelled"}})[e]||{className:"border-border/50 bg-background text-muted-foreground",label:e.replace(/_/g," ")}:l?function(e,a){switch(a){case"job":return m(e);case"invoice":return({paid:{className:"border-green-500/30 bg-green-500 text-white hover:bg-green-600 shadow-sm",label:"Paid",icon:i.CheckCircle,ariaLabel:"Invoice status: Paid"},unpaid:{className:"border-yellow-200/50 bg-yellow-50/50 text-yellow-700 dark:border-yellow-900/50 dark:bg-yellow-950/30 dark:text-yellow-400 shadow-sm",label:"Unpaid",icon:d.Clock,ariaLabel:"Invoice status: Unpaid"},overdue:{className:"border-red-500/30 bg-red-500 text-white hover:bg-red-600 shadow-sm ring-1 ring-red-500/20",label:"Overdue",icon:s.AlertCircle,ariaLabel:"Invoice status: Overdue - requires immediate attention"},draft:{className:"border-border/50 bg-background text-muted-foreground hover:bg-muted/50 shadow-sm",label:"Draft",icon:n.FileText,ariaLabel:"Invoice status: Draft"},sent:{className:"border-blue-200/50 bg-blue-50 text-blue-700 hover:bg-blue-100 dark:border-blue-900 dark:bg-blue-950/50 dark:text-blue-400 shadow-sm",label:"Sent",icon:c.Mail,ariaLabel:"Invoice status: Sent"},pending:{className:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/20 dark:text-yellow-400 shadow-sm",label:"Pending",icon:d.Clock,ariaLabel:"Invoice status: Pending"}})[e]||{className:"border-border/50 bg-background text-muted-foreground shadow-sm",label:e.replace(/_/g," ")};case"estimate":return({accepted:{className:"bg-green-500 hover:bg-green-600 text-white",label:"Accepted"},sent:{className:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",label:"Sent"},draft:{className:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400",label:"Draft"},declined:{className:"bg-red-100 text-red-800 dark:bg-red-900/20 dark:text-red-400",label:"Declined"}})[e]||{className:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400",label:e.replace(/_/g," ")};case"contract":return({signed:{className:"border-green-500/50 bg-green-500 text-white hover:bg-green-600",label:"Signed"},sent:{className:"border-blue-200 bg-blue-50 text-blue-700 hover:bg-blue-100 dark:border-blue-900 dark:bg-blue-950/50 dark:text-blue-400",label:"Sent"},viewed:{className:"border-purple-200/50 bg-purple-50/50 text-purple-700 dark:border-purple-900/50 dark:bg-purple-950/30 dark:text-purple-400",label:"Viewed"},draft:{className:"border-border/50 bg-background text-muted-foreground hover:bg-muted/50",label:"Draft"},rejected:{className:"border-red-500/50 bg-red-500 text-white hover:bg-red-600",label:"Rejected"},expired:{className:"border-orange-200/50 bg-orange-50/50 text-orange-700 dark:border-orange-900/50 dark:bg-orange-950/30 dark:text-orange-400",label:"Expired"}})[e]||{className:"border-border/50 bg-background text-muted-foreground hover:bg-muted/50",label:e.replace(/_/g," ")};case"customer":return({active:{className:"bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400",label:"Active"},inactive:{className:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400",label:"Inactive"},prospect:{className:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",label:"Prospect"},lead:{className:"bg-blue-100 text-blue-800 dark:bg-blue-900/20 dark:text-blue-400",label:"Lead"}})[e]||{className:"bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400",label:e.replace(/_/g," ")};default:return{className:"border-border/50 bg-background text-muted-foreground",label:e.replace(/_/g," ")}}}(e,l):m(e)).icon;return(0,a.jsxs)(t.Badge,{className:(0,r.cn)("inline-flex items-center gap-1 px-2 py-0.5 text-[11px] font-medium transition-all duration-200",h.className,x),variant:g,"aria-label":h.ariaLabel||h.label,children:[b&&(0,a.jsx)(b,{className:"h-3 w-3","aria-hidden":"true"}),h.label]})}function g({status:e,className:t}){return(0,a.jsx)(x,{className:t,status:e,type:"job"})}function h({status:e,className:t}){return(0,a.jsx)(x,{className:t,status:e,type:"invoice"})}function b({status:e,className:t}){return(0,a.jsx)(x,{className:t,status:e,type:"estimate"})}function f({status:e,className:t}){return(0,a.jsx)(x,{className:t,status:e,type:"contract"})}function p({status:e,className:t}){return(0,a.jsx)(x,{className:t,status:e,type:"customer"})}function v({priority:e,className:t}){return(0,a.jsx)(x,{className:t,priority:e,status:""})}function j({type:e,className:t}){return(0,a.jsx)(x,{className:t,contractType:e,status:""})}e.s(["ContractStatusBadge",()=>f,"ContractTypeBadge",()=>j,"CustomerStatusBadge",()=>p,"EstimateStatusBadge",()=>b,"InvoiceStatusBadge",()=>h,"JobStatusBadge",()=>g,"PriorityBadge",()=>v,"StatusBadge",()=>x],794712)},6130,e=>{"use strict";e.i(116233),e.s([])},479515,e=>{"use strict";let a=(0,e.i(383206).default)("link-2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);e.s(["default",()=>a])},929294,e=>{"use strict";var a=e.i(479515);e.s(["Link2",()=>a.default])},510651,e=>{"use strict";let a=(0,e.i(383206).default)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["default",()=>a])},123891,e=>{"use strict";var a=e.i(510651);e.s(["ShieldCheck",()=>a.default])},281595,e=>{"use strict";let a=(0,e.i(383206).default)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);e.s(["default",()=>a])},133279,e=>{"use strict";var a=e.i(281595);e.s(["Camera",()=>a.default])},40616,e=>{"use strict";var a=e.i(552038),t=(0,a.createServerReference)("40d050abdabe2ee7293436c505c5f27b4408a2f27c",a.callServer,void 0,a.findSourceMapURL,"sendTextMessage");e.s(["sendTextMessage",()=>t])},103047,e=>{"use strict";let a=(0,e.i(383206).default)("sticky-note",[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]]);e.s(["default",()=>a])},79370,e=>{"use strict";var a=e.i(103047);e.s(["StickyNote",()=>a.default])},52573,e=>{"use strict";let a=(0,e.i(383206).default)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);e.s(["default",()=>a])},694288,e=>{"use strict";var a=e.i(52573);e.s(["Link",()=>a.default])},519131,e=>{"use strict";let a=(0,e.i(383206).default)("paperclip",[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]]);e.s(["default",()=>a])},233654,e=>{"use strict";var a=e.i(519131);e.s(["Paperclip",()=>a.default])},711448,e=>{"use strict";e.i(116233),e.s([])},305549,585506,e=>{"use strict";var a=e.i(111043),t=e.i(868422),r=e.i(227009);e.i(670258);var s=e.i(921251);e.i(711448);var l=e.i(157222);function i({activities:e}){return e&&0!==e.length?(0,a.jsx)(l.UnifiedAccordionContent,{children:(0,a.jsx)("div",{className:"max-h-96 space-y-3 overflow-y-auto",children:e.map(e=>(0,a.jsxs)("div",{className:"hover:bg-muted/50 flex gap-3 rounded-lg border p-3 transition-colors",children:[(0,a.jsxs)(s.Avatar,{className:"size-8 flex-shrink-0",children:[(0,a.jsx)(s.AvatarImage,{src:e.user?.avatar}),(0,a.jsx)(s.AvatarFallback,{children:e.user?.name?.charAt(0)||"?"})]}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("p",{className:"text-sm break-words",children:e.description}),(0,a.jsxs)("p",{className:"text-muted-foreground mt-1 text-xs",children:[e.user?.name," •"," ",(0,t.formatDistance)(new Date(e.created_at),new Date,{addSuffix:!0})]})]})]},e.id))})}):(0,a.jsx)(l.UnifiedAccordionContent,{children:(0,a.jsx)("div",{className:"flex h-32 items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(r.Activity,{className:"text-muted-foreground/50 mx-auto size-8"}),(0,a.jsx)("p",{className:"text-muted-foreground mt-2 text-sm",children:"No activity yet"})]})})})}e.s(["ActivityLogSection",()=>i],305549);var d=e.i(882896),n=e.i(606661),o=e.i(233654),c=e.i(371526),u=e.i(826463),m=e.i(970799);e.i(889265);var x=e.i(677607),g=e.i(51052);function h({attachments:e,entityType:t,entityId:r,onUpload:s}){let{toast:i}=(0,g.useToast)(),[h,b]=(0,m.useState)(!1),f=async e=>{let a=e.target.files;if(a&&0!==a.length){b(!0);try{s&&await s(a),i.success(`${a.length} file(s) uploaded successfully`)}catch(e){i.error("Failed to upload files")}finally{b(!1),e.target.value=""}}};return(0,a.jsx)(l.UnifiedAccordionContent,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[s&&(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{className:"hidden",disabled:h,id:"file-upload",multiple:!0,onChange:f,type:"file"}),(0,a.jsx)("label",{htmlFor:"file-upload",children:(0,a.jsx)(x.Button,{asChild:!0,className:"w-full cursor-pointer",disabled:h,size:"sm",variant:"outline",children:(0,a.jsx)("span",{children:h?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(u.Upload,{className:"mr-2 size-4 animate-pulse"}),"Uploading..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.Plus,{className:"mr-2 size-4"}),"Upload Files"]})})})})]}),e&&e.length>0?(0,a.jsx)("div",{className:"space-y-2",children:e.map(e=>(0,a.jsxs)("div",{className:"hover:bg-muted/50 flex items-center justify-between rounded-lg border p-3 transition-colors",children:[(0,a.jsxs)("div",{className:"flex min-w-0 flex-1 items-center gap-3",children:[(0,a.jsx)(n.FileText,{className:"text-muted-foreground size-4 flex-shrink-0"}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("p",{className:"truncate text-sm font-medium",children:e.original_file_name||e.file_name||"Untitled"}),(0,a.jsxs)("p",{className:"text-muted-foreground text-xs",children:[e.file_size?`${(e.file_size/1024).toFixed(1)} KB`:"",e.category&&` • ${e.category}`]})]})]}),(0,a.jsx)(x.Button,{asChild:!0,className:"flex-shrink-0",size:"sm",variant:"ghost",children:(0,a.jsx)("a",{download:!0,href:e.storage_url||e.url,rel:"noopener noreferrer",target:"_blank",children:(0,a.jsx)(d.Download,{className:"size-4"})})})]},e.id))}):(0,a.jsx)("div",{className:"flex h-32 items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(o.Paperclip,{className:"text-muted-foreground/50 mx-auto size-8"}),(0,a.jsx)("p",{className:"text-muted-foreground mt-2 text-sm",children:"No attachments yet"})]})})]})})}e.s(["AttachmentsSection",()=>h],585506)},821305,278633,e=>{"use strict";var a=e.i(111043),t=e.i(227009),r=e.i(606661),s=e.i(694288),l=e.i(233654),i=e.i(702948),d=e.i(152088);function n({header:e,customHeader:t,metadata:r,beforeContent:s,afterContent:l,children:i,className:n,contentGapClassName:o,statsBar:c}){let u=r??e?.metadata??[];return(0,a.jsxs)("div",{className:(0,d.cn)("flex w-full flex-col gap-4 pb-24 lg:gap-5",n),"data-detail-shell":"",children:[c,t??(e?(0,a.jsx)(m,{section:e}):null),u.length>0?(0,a.jsx)(x,{items:u}):null,s,i?(0,a.jsx)("div",{className:(0,d.cn)("flex flex-col gap-4",o),children:i}):null,l]})}let o={none:"p-0",sm:"p-4",md:"p-6",lg:"p-8"},c={default:"border border-border/60 bg-card shadow-sm",muted:"border border-border/60 bg-muted/40 shadow-sm",subtle:"border border-border/40 bg-card/80 shadow-sm",ghost:"border border-border/50 bg-transparent shadow-none"};function u({children:e,className:t,padding:r="md",variant:s="default"}){return(0,a.jsx)("section",{className:(0,d.cn)("rounded-xl",c[s],t),children:(0,a.jsx)("div",{className:(0,d.cn)("flex flex-col gap-4",o[r]),children:e})})}function m({section:e}){var t;let{breadcrumbs:r,leadingVisual:s,title:l,subtitle:i,description:d,badges:n,actions:o,secondaryActions:c}=e;return(0,a.jsxs)("header",{className:"flex flex-col gap-4 lg:gap-6",children:[r?(0,a.jsx)("div",{className:"text-muted-foreground text-sm",children:r}):null,(0,a.jsxs)("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between lg:gap-8",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)("div",{className:"flex flex-col gap-3",children:(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:gap-4",children:[s?(0,a.jsx)("div",{className:"flex items-center justify-center",children:s}):null,(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(t=l)?"string"==typeof t?(0,a.jsx)("h1",{className:"text-2xl font-semibold tracking-tight md:text-3xl",children:t}):(0,a.jsx)("div",{className:"text-2xl font-semibold tracking-tight md:text-3xl",children:t}):null,i?(0,a.jsx)("div",{className:"text-muted-foreground max-w-3xl text-sm md:text-base",children:i}):null]})]}),d?(0,a.jsx)("div",{className:"text-muted-foreground max-w-3xl text-sm",children:d}):null]})}),n&&n.length>0?(0,a.jsx)("div",{className:"flex flex-wrap items-center gap-2",children:n}):null]}),g(o,c)?(0,a.jsxs)("div",{className:"hidden flex-wrap items-center gap-2 lg:flex",children:[o?.map((e,t)=>(0,a.jsx)("span",{className:"inline-flex",children:e},t)),c?.map((e,t)=>(0,a.jsx)("span",{className:"inline-flex",children:e},`secondary-${t}`))]}):null]}),g(o,c)?(0,a.jsxs)("div",{className:"flex flex-col gap-2 lg:hidden",children:[o&&o.length>0?(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:o.map((e,t)=>(0,a.jsx)("span",{className:"flex-1",children:e},t))}):null,c&&c.length>0?(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:c.map((e,t)=>(0,a.jsx)("span",{className:"flex-1",children:e},`secondary-mobile-${t}`))}):null]}):null]})}function x({items:e}){return(0,a.jsx)("section",{className:"@xl-page:grid-cols-4 grid grid-cols-1 gap-4 md:grid-cols-2",children:e.map((e,t)=>(0,a.jsxs)("div",{className:"border-border/50 bg-card/60 flex flex-col gap-1 rounded-lg border px-4 py-3 shadow-sm",children:[(0,a.jsxs)("span",{className:"text-muted-foreground flex items-center gap-2 text-xs font-medium tracking-wide uppercase",children:[e.icon,e.label]}),(0,a.jsx)("div",{className:"text-foreground text-sm font-semibold",children:e.value}),e.helperText?(0,a.jsx)("span",{className:"text-muted-foreground text-xs",children:e.helperText}):null]},t))})}function g(e,a){return!!(e&&e.length>0||a&&a.length>0)}e.s(["DetailPageShell",()=>n,"DetailPageSurface",()=>u],278633);var h=e.i(305549),b=e.i(585506),f=e.i(868422),p=e.i(371526),v=e.i(970799);e.i(670258);var j=e.i(921251);e.i(889265);var y=e.i(677607);e.i(526120);var N=e.i(610120);e.i(711448);var k=e.i(157222),w=e.i(51052);function P({notes:e,entityType:t,entityId:s,onAddNote:l}){let{toast:i}=(0,w.useToast)(),[d,n]=(0,v.useState)(!1),[o,c]=(0,v.useState)(""),[u,m]=(0,v.useState)(!1),x=async()=>{if(l){if(!o.trim())return void i.error("Please enter a note");m(!0);try{await l(o),i.success("Note added successfully"),c(""),n(!1)}catch(e){i.error("Failed to add note")}finally{m(!1)}}};return(0,a.jsx)(k.UnifiedAccordionContent,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[l&&(d?(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(N.Textarea,{autoFocus:!0,onChange:e=>c(e.target.value),placeholder:"Enter your note...",rows:3,value:o}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(y.Button,{disabled:u,onClick:x,size:"sm",children:u?"Saving...":"Save Note"}),(0,a.jsx)(y.Button,{onClick:()=>{n(!1),c("")},size:"sm",variant:"outline",children:"Cancel"})]})]}):(0,a.jsxs)(y.Button,{className:"w-full",onClick:()=>n(!0),size:"sm",variant:"outline",children:[(0,a.jsx)(p.Plus,{className:"mr-2 size-4"}),"Add Note"]})),e&&e.length>0?(0,a.jsx)("div",{className:"space-y-3",children:e.map(e=>(0,a.jsx)("div",{className:"hover:bg-muted/50 rounded-lg border p-3 transition-colors",children:(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)(j.Avatar,{className:"size-8 flex-shrink-0",children:[(0,a.jsx)(j.AvatarImage,{src:e.user?.avatar}),(0,a.jsx)(j.AvatarFallback,{children:e.user?.name?.charAt(0)||"?"})]}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,a.jsx)("p",{className:"text-xs font-medium",children:e.user?.name}),(0,a.jsx)("p",{className:"text-muted-foreground text-xs",children:(0,f.formatDistance)(new Date(e.created_at),new Date,{addSuffix:!0})})]}),(0,a.jsx)("p",{className:"mt-1 text-sm break-words whitespace-pre-wrap",children:e.content||e.note})]})]})},e.id))}):(0,a.jsx)("div",{className:"flex h-32 items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(r.FileText,{className:"text-muted-foreground/50 mx-auto size-8"}),(0,a.jsx)("p",{className:"text-muted-foreground mt-2 text-sm",children:"No notes yet"})]})})]})})}var S=e.i(87912),C=e.i(176378);e.i(553153);var z=e.i(363712);function M({relatedItems:e}){return e&&0!==e.length?(0,a.jsx)(k.UnifiedAccordionContent,{children:(0,a.jsx)("div",{className:"space-y-2",children:e.map(e=>(0,a.jsxs)(C.default,{className:"group hover:bg-muted/50 flex items-center justify-between rounded-lg border p-3 transition-colors",href:e.href,children:[(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("p",{className:"truncate text-sm font-medium",children:e.title}),e.badge&&(0,a.jsx)(z.Badge,{className:"flex-shrink-0",variant:e.badge.variant||"default",children:e.badge.label})]}),e.subtitle&&(0,a.jsx)("p",{className:"text-muted-foreground truncate text-xs",children:e.subtitle})]}),(0,a.jsx)(S.ChevronRight,{className:"text-muted-foreground size-4 flex-shrink-0 transition-transform group-hover:translate-x-0.5"})]},e.id))})}):(0,a.jsx)(k.UnifiedAccordionContent,{children:(0,a.jsx)("div",{className:"flex h-32 items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(s.Link,{className:"text-muted-foreground/50 mx-auto size-8"}),(0,a.jsx)("p",{className:"text-muted-foreground mt-2 text-sm",children:"No related items"})]})})})}let T=(0,i.default)(()=>e.A(134181).then(e=>e.UnifiedAccordion),{loadableGenerated:{modules:[388024]},ssr:!1});function A({header:e,customHeader:i,customSections:o,activities:c=[],notes:m=[],attachments:x=[],relatedItems:g=[],showStandardSections:f={activities:!0,notes:!0,attachments:!0,relatedItems:!0},className:p,defaultOpenSection:v,beforeContent:j,afterContent:y,statsBar:N,contentGapClassName:k,surfacePadding:w="none",surfaceVariant:S="default",surfaceClassName:C,storageKey:z,enableReordering:A=!0}){let L=[];!1!==f.activities&&L.push({id:"activity-log",title:"Activity Log",icon:(0,a.jsx)(t.Activity,{className:"size-4"}),count:c.length,content:(0,a.jsx)(h.ActivityLogSection,{activities:c})}),!1!==f.notes&&L.push({id:"notes",title:"Notes",icon:(0,a.jsx)(r.FileText,{className:"size-4"}),count:m.length,content:(0,a.jsx)(P,{notes:m})}),!1!==f.attachments&&L.push({id:"attachments",title:"Attachments",icon:(0,a.jsx)(l.Paperclip,{className:"size-4"}),count:x.length,content:(0,a.jsx)(b.AttachmentsSection,{attachments:x})}),!1!==f.relatedItems&&g.length>0&&L.push({id:"related-items",title:"Related Items",icon:(0,a.jsx)(s.Link,{className:"size-4"}),count:g.length,content:(0,a.jsx)(M,{relatedItems:g})});let R=[...o||[],...L];return(0,a.jsx)(n,{afterContent:y,beforeContent:j,className:(0,d.cn)("w-full",p),contentGapClassName:k??"gap-4",customHeader:i,header:e,statsBar:N,children:(0,a.jsx)(u,{className:(0,d.cn)("overflow-hidden",C),padding:w,variant:S,children:(0,a.jsx)(T,{defaultOpenSection:v||R[0]?.id,enableReordering:A,sections:R,storageKey:z})})})}e.s(["DetailPageContentLayout",()=>A],821305)},235670,e=>{"use strict";e.i(116233),e.s([])},49718,307033,e=>{"use strict";var a=e.i(552038),t=(0,a.createServerReference)("70ff12ee81a60340f786414d0baa7af58484dd7488",a.callServer,void 0,a.findSourceMapURL,"updateEntityTags");e.s(["updateEntityTags",()=>t],49718);var r=e.i(111043),s=e.i(371526),l=e.i(540374),i=e.i(212409),d=e.i(904653),n=e.i(970799),o=e.i(995403);e.i(235670);var c=e.i(360648);e.i(889265);var u=e.i(677607);e.i(51478);var m=e.i(635613);e.i(149989);var x=e.i(880177);e.i(220474);var g=e.i(171056);e.i(868198);var h=e.i(798764),b=e.i(220168);let f=[{name:"Red",value:"red",class:"bg-red-100 text-red-700 border-red-200 dark:bg-red-900/20 dark:text-red-400 dark:border-red-900/30"},{name:"Orange",value:"orange",class:"bg-orange-100 text-orange-700 border-orange-200 dark:bg-orange-900/20 dark:text-orange-400 dark:border-orange-900/30"},{name:"Amber",value:"amber",class:"bg-amber-100 text-amber-700 border-amber-200 dark:bg-amber-900/20 dark:text-amber-400 dark:border-amber-900/30"},{name:"Yellow",value:"yellow",class:"bg-yellow-100 text-yellow-700 border-yellow-200 dark:bg-yellow-900/20 dark:text-yellow-400 dark:border-yellow-900/30"},{name:"Green",value:"green",class:"bg-green-100 text-green-700 border-green-200 dark:bg-green-900/20 dark:text-green-400 dark:border-green-900/30"},{name:"Emerald",value:"emerald",class:"bg-emerald-100 text-emerald-700 border-emerald-200 dark:bg-emerald-900/20 dark:text-emerald-400 dark:border-emerald-900/30"},{name:"Teal",value:"teal",class:"bg-teal-100 text-teal-700 border-teal-200 dark:bg-teal-900/20 dark:text-teal-400 dark:border-teal-900/30"},{name:"Blue",value:"blue",class:"bg-blue-100 text-blue-700 border-blue-200 dark:bg-blue-900/20 dark:text-blue-400 dark:border-blue-900/30"},{name:"Indigo",value:"indigo",class:"bg-indigo-100 text-indigo-700 border-indigo-200 dark:bg-indigo-900/20 dark:text-indigo-400 dark:border-indigo-900/30"},{name:"Purple",value:"purple",class:"bg-purple-100 text-purple-700 border-purple-200 dark:bg-purple-900/20 dark:text-purple-400 dark:border-purple-900/30"},{name:"Pink",value:"pink",class:"bg-pink-100 text-pink-700 border-pink-200 dark:bg-pink-900/20 dark:text-pink-400 dark:border-pink-900/30"},{name:"Gray",value:"gray",class:"bg-gray-100 text-gray-700 border-gray-200 dark:bg-gray-900/20 dark:text-gray-400 dark:border-gray-900/30"}],p=f.reduce((e,a)=>({...e,[a.value]:a.class}),{});function v({entityId:e,entityType:a,tags:t,onUpdateTags:v,readOnly:j=!1}){(0,d.useRouter)();let[y,N]=(0,n.useState)(!1),[k,w]=(0,n.useState)(""),[P,S]=(0,n.useState)("blue"),[C,z]=(0,n.useState)(!1),[M,T]=(0,n.useState)(null),A=e=>"string"==typeof e?e:e.label,L=async()=>{if(!k.trim())return void o.toast.error("Please enter a tag name");z(!0);try{let a={label:k.trim(),color:P},r=[...t,a],s=await v(e,r);s.success?(o.toast.success("Tag added"),N(!1),w(""),S("blue")):o.toast.error(s.error||"Failed to add tag")}catch(e){o.toast.error("Failed to add tag")}finally{z(!1)}},R=async a=>{try{let r=t.filter(e=>{let t=A(e),r=A(a);return t!==r}),s=await v(e,r);s.success?o.toast.success("Tag removed"):o.toast.error(s.error||"Failed to remove tag")}catch(e){o.toast.error("Failed to remove tag")}finally{T(null)}},F=f.find(e=>e.value===P);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[t.map((e,a)=>{let t=A(e),s="string"==typeof e?void 0:e.color,d=s&&p[s]?p[s]:p.blue;return(0,r.jsxs)("div",{className:`inline-flex items-center gap-1.5 rounded-full border px-3 py-1.5 text-sm font-medium transition-colors ${d}`,children:[(0,r.jsx)(l.Tag,{className:"size-3"}),(0,r.jsx)("span",{children:t}),!j&&(0,r.jsx)(u.Button,{className:"ml-1 size-4 p-0 hover:bg-black/10 dark:hover:bg-white/10",onClick:()=>T(e),size:"icon",variant:"ghost",children:(0,r.jsx)(i.X,{className:"size-3"})})]},`${t}-${a}`)}),!j&&(0,r.jsxs)(g.Popover,{onOpenChange:N,open:y,children:[(0,r.jsx)(g.PopoverTrigger,{asChild:!0,children:(0,r.jsxs)("button",{className:"border-border/60 bg-background hover:border-primary/50 hover:bg-primary/5 inline-flex items-center gap-1.5 rounded-full border border-dashed px-3 py-1.5 text-sm font-medium transition-colors",children:[(0,r.jsx)(s.Plus,{className:"size-3"}),(0,r.jsx)("span",{children:"Add Tag"})]})}),(0,r.jsx)(g.PopoverContent,{align:"start",className:"w-80",side:"bottom",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h4",{className:"text-sm font-semibold",children:"Create Custom Tag"}),(0,r.jsxs)("p",{className:"text-muted-foreground text-xs",children:["Add a custom tag for this ",a]})]}),(0,r.jsx)(b.StandardFormField,{label:"Tag Name",htmlFor:"tag-label",children:(0,r.jsx)(m.Input,{id:"tag-label",onChange:e=>w(e.target.value),onKeyDown:e=>{"Enter"===e.key&&L()},placeholder:"e.g., High Priority, VIP, etc.",value:k})}),(0,r.jsx)(b.StandardFormField,{label:"Color",htmlFor:"tag-color",children:(0,r.jsxs)(h.Select,{onValueChange:S,value:P,children:[(0,r.jsx)(h.SelectTrigger,{id:"tag-color",children:(0,r.jsx)(h.SelectValue,{children:F&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:`h-4 w-4 rounded-full ${F.class}`}),(0,r.jsx)("span",{children:F.name})]})})}),(0,r.jsx)(h.SelectContent,{children:f.map(e=>(0,r.jsx)(h.SelectItem,{value:e.value,children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:`h-4 w-4 rounded-full ${e.class}`}),(0,r.jsx)("span",{children:e.name})]})},e.value))})]})}),k&&(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(x.Label,{children:"Preview"}),(0,r.jsxs)("div",{className:`inline-flex items-center gap-1.5 rounded-full border px-3 py-1.5 text-sm font-medium ${F?.class}`,children:[(0,r.jsx)(l.Tag,{className:"size-3"}),(0,r.jsx)("span",{children:k})]})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(u.Button,{className:"flex-1",onClick:()=>N(!1),variant:"outline",children:"Cancel"}),(0,r.jsx)(u.Button,{className:"flex-1",disabled:C||!k.trim(),onClick:L,children:C?"Saving...":"Add Tag"})]})]})})]})]}),(0,r.jsx)(c.AlertDialog,{onOpenChange:()=>T(null),open:!!M,children:(0,r.jsxs)(c.AlertDialogContent,{children:[(0,r.jsxs)(c.AlertDialogHeader,{children:[(0,r.jsx)(c.AlertDialogTitle,{children:"Remove Tag"}),(0,r.jsxs)(c.AlertDialogDescription,{children:['Are you sure you want to remove the tag "',M?A(M):"",'"? This action cannot be undone.']})]}),(0,r.jsxs)(c.AlertDialogFooter,{children:[(0,r.jsx)(c.AlertDialogCancel,{children:"Cancel"}),(0,r.jsx)(c.AlertDialogAction,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:()=>M&&R(M),children:"Remove"})]})]})})]})}e.s(["EntityTags",()=>v],307033)},933234,e=>{"use strict";var a=e.i(970799);function t(e){(0,a.useEffect)(()=>{let a=a=>{if(!a.ctrlKey||a.shiftKey||a.altKey||a.metaKey)return;let t=e[a.key];t&&(a.preventDefault(),t())};return window.addEventListener("keydown",a),()=>{window.removeEventListener("keydown",a)}},[e])}e.s(["useSectionShortcuts",()=>t])},321369,e=>{"use strict";var a=e.i(155902);e.s(["UserMinus",()=>a.default])},568185,e=>{"use strict";let a=(0,e.i(383206).default)("chevrons-up-down",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);e.s(["default",()=>a])},390929,e=>{"use strict";var a=e.i(568185);e.s(["ChevronsUpDown",()=>a.default])},155902,e=>{"use strict";let a=(0,e.i(383206).default)("user-minus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);e.s(["default",()=>a])},113891,e=>{"use strict";let a=(0,e.i(383206).default)("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);e.s(["default",()=>a])},799296,e=>{"use strict";var a=e.i(113891);e.s(["UserX",()=>a.default])},535046,e=>{"use strict";var a=e.i(552038),t=(0,a.createServerReference)("40d4adefa21187fbf8ce66938d69116b0f76c43548",a.callServer,void 0,a.findSourceMapURL,"unlinkPaymentFromJob");e.s(["unlinkPaymentFromJob",()=>t])},608630,e=>{"use strict";var a=e.i(552038),t=(0,a.createServerReference)("403a81dea3436d2f9aa1f3bd091b670f166ecf43f5",a.callServer,void 0,a.findSourceMapURL,"unlinkInvoiceFromJob");e.s(["unlinkInvoiceFromJob",()=>t])},810481,e=>{"use strict";var a=e.i(552038),t=(0,a.createServerReference)("40f3ec53c0664a911f329a975c4b02ddbf55ef70c4",a.callServer,void 0,a.findSourceMapURL,"unlinkEstimateFromJob");e.s(["unlinkEstimateFromJob",()=>t])},874023,e=>{"use strict";let a=(0,e.i(383206).default)("flag",[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]]);e.s(["default",()=>a])},586870,e=>{"use strict";var a=e.i(874023);e.s(["Flag",()=>a.default])},363855,e=>{"use strict";let a=(0,e.i(383206).default)("link-2-off",[["path",{d:"M9 17H7A5 5 0 0 1 7 7",key:"10o201"}],["path",{d:"M15 7h2a5 5 0 0 1 4 8",key:"1d3206"}],["line",{x1:"8",x2:"12",y1:"12",y2:"12",key:"rvw6j4"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);e.s(["default",()=>a])},825893,e=>{"use strict";var a=e.i(363855);e.s(["Link2Off",()=>a.default])},456788,e=>{"use strict";let a=(0,e.i(383206).default)("route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);e.s(["default",()=>a])},44104,e=>{"use strict";let a=(0,e.i(383206).default)("store",[["path",{d:"M15 21v-5a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5",key:"slp6dd"}],["path",{d:"M17.774 10.31a1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.451 0 1.12 1.12 0 0 0-1.548 0 2.5 2.5 0 0 1-3.452 0 1.12 1.12 0 0 0-1.549 0 2.5 2.5 0 0 1-3.77-3.248l2.889-4.184A2 2 0 0 1 7 2h10a2 2 0 0 1 1.653.873l2.895 4.192a2.5 2.5 0 0 1-3.774 3.244",key:"o0xfot"}],["path",{d:"M4 10.95V19a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8.05",key:"wn3emo"}]]);e.s(["default",()=>a])},96881,e=>{"use strict";let a=(0,e.i(383206).default)("unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);e.s(["default",()=>a])},16927,214618,e=>{"use strict";var a=e.i(552038),t=(0,a.createServerReference)("70c4422bfad1179a11fcab9e7932fcf83e2c5a0958",a.callServer,void 0,a.findSourceMapURL,"assignCustomerToJob");e.s(["assignCustomerToJob",()=>t],16927);var r=(0,a.createServerReference)("4013f2d8e15e9f879b9243e34cbb744045fea3ab6f",a.callServer,void 0,a.findSourceMapURL,"removeCustomerFromJob");e.s(["removeCustomerFromJob",()=>r],214618)},905383,e=>{"use strict";var a=e.i(552038),t=(0,a.createServerReference)("6016b788b64107b06bd9f3b8d7ab9a318b65e38c27",a.callServer,void 0,a.findSourceMapURL,"updateJob");e.s(["updateJob",()=>t])},912952,e=>{"use strict";var a=e.i(552038),t=(0,a.createServerReference)("40d347232a1bdd45e08aefd1c04b02a94f66dfd261",a.callServer,void 0,a.findSourceMapURL,"completeJob");e.s(["completeJob",()=>t])},85878,e=>{"use strict";var a=e.i(552038),t=(0,a.createServerReference)("4009b5533bd04d9fad82f2e95351e90a25ffe05192",a.callServer,void 0,a.findSourceMapURL,"startJob");e.s(["startJob",()=>t])},883351,e=>{"use strict";var a=e.i(399168),t=e.i(781403),r=e.i(628140);let s={posts:[],selectedPost:null,isLoading:!1,error:null,filters:{}},l=(0,a.create)()((0,t.devtools)((0,r.immer)((e,a)=>({...s,setPosts:a=>e(e=>{e.posts=a,e.isLoading=!1,e.error=null},!1,"setPosts"),addPost:a=>e(e=>{e.posts.unshift(a)},!1,"addPost"),updatePost:(a,t)=>e(e=>{let r=e.posts.findIndex(e=>e.id===a);-1!==r&&(e.posts[r]={...e.posts[r],...t}),e.selectedPost?.id===a&&(e.selectedPost={...e.selectedPost,...t})},!1,"updatePost"),deletePost:a=>e(e=>{e.posts=e.posts.filter(e=>e.id!==a),e.selectedPost?.id===a&&(e.selectedPost=null)},!1,"deletePost"),setSelectedPost:a=>e(e=>{e.selectedPost=a},!1,"setSelectedPost"),setLoading:a=>e(e=>{e.isLoading=a},!1,"setLoading"),setError:a=>e(e=>{e.error=a,e.isLoading=!1},!1,"setError"),setFilters:a=>e(e=>{e.filters={...e.filters,...a}},!1,"setFilters"),clearFilters:()=>e(e=>{e.filters={}},!1,"clearFilters"),getFilteredPosts:()=>{let{posts:e,filters:t}=a(),r=[...e];return void 0!==t.published&&(r=r.filter(e=>("true"===String(e.published).toLowerCase()||!0===e.published)===t.published)),t.authorId&&(r=r.filter(e=>e.authorId===t.authorId)),r},reset:()=>e(s,!1,"reset")})),{name:"PostsStore"}));e.s(["postsSelectors",0,{posts:e=>e.posts,selectedPost:e=>e.selectedPost,isLoading:e=>e.isLoading,error:e=>e.error,filters:e=>e.filters,publishedPosts:e=>e.posts.filter(e=>"true"===String(e.published).toLowerCase()||!0===e.published),draftPosts:e=>e.posts.filter(e=>"true"!==String(e.published).toLowerCase()&&!0!==e.published)},"usePostsStore",0,l])},418488,e=>{"use strict";e.i(539900),e.i(592270),e.s([])},924880,e=>{"use strict";let a=(0,e.i(383206).default)("lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);e.s(["default",()=>a])},62538,e=>{"use strict";var a=e.i(924880);e.s(["Lightbulb",()=>a.default])},951801,e=>{"use strict";e.i(116233),e.s([])},435916,e=>{"use strict";let a=(0,e.i(383206).default)("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]]);e.s(["default",()=>a])},797566,e=>{"use strict";var a=e.i(435916);e.s(["Maximize2",()=>a.default])},555739,e=>{"use strict";var a=e.i(44104);e.s(["Store",()=>a.default])},520824,e=>{"use strict";var a=e.i(456788);e.s(["Route",()=>a.default])},258978,487236,e=>{"use strict";var a=e.i(111043),t=e.i(818796),r=e.i(486506),s=e.i(136764),l=e.i(641304),i=e.i(15751),d=e.i(160424),n=e.i(520824),o=e.i(970799);e.i(951801);var c=e.i(622608),u=e.i(152088);let m=e=>{if(!e)return{primary:"Address unavailable",secondary:""};let a=e.split(",").map(e=>e.trim());return{primary:a[0]??e,secondary:a.slice(1).join(", ")}};function x({property:e,className:x}){let[g,h]=(0,o.useState)(null),[b,f]=(0,o.useState)(!0),[p,v]=(0,o.useState)(null),[j,y]=(0,o.useState)(null),N=(0,o.useRef)(!1),k=(0,o.useCallback)(async()=>{if(!(e?.address&&e?.city&&e?.state))return void f(!1);f(!0),v(null);try{let a=(e=>{let a=new URLSearchParams;if(e.lat&&e.lon)a.set("destinationLat",e.lat.toString()),a.set("destinationLon",e.lon.toString());else{let t,r=(t=[e.city,e.state].filter(e=>"string"==typeof e&&e.trim().length>0).join(", "),[e.address,e.address2,t||void 0,e.zipCode??e.zip_code??void 0].filter(e=>"string"==typeof e&&e.trim().length>0).map(e=>e.trim()).join(", "));a.set("destination",r)}return a})(e),t=await fetch(`/api/travel-time?${a.toString()}`,{credentials:"same-origin"});if(!t.ok){let e=await t.json().catch(()=>({error:"Failed to fetch travel time"}));throw Error(e.error||"Failed to fetch travel time")}let r=await t.json();h(r),y(new Date),v(null)}catch(e){v(e instanceof Error?e.message:"Failed to fetch travel time"),h(null)}finally{f(!1)}},[e?.address,e?.address2,e?.city,e?.state,e?.zipCode,e?.zip_code,e?.lat,e?.lon]),w=(0,o.useRef)(k);if((0,o.useEffect)(()=>{w.current=k},[k]),(0,o.useEffect)(()=>{if(!e?.address)return void f(!1);if(!N.current){N.current=!0,w.current();let e=setInterval(()=>{w.current()},3e5);return()=>{clearInterval(e),N.current=!1}}},[]),!e?.address)return null;let P=e=>{let a=Math.floor(e/3600),t=Math.floor(e%3600/60);return a>0?`${a}h ${t}m`:`${t}m`},S=g?m(g.origin):null,C=g?m(g.destination):null;return b||p||!g?(0,a.jsxs)("div",{className:(0,u.cn)("bg-muted/50 flex h-7 items-center gap-2 rounded-md px-2.5 text-xs",x),children:[b&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.Loader2,{className:"text-muted-foreground h-3 w-3 animate-spin"}),(0,a.jsx)("span",{className:"text-muted-foreground",children:"Calculating..."})]}),p&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.AlertCircle,{className:"text-destructive h-3 w-3"}),(0,a.jsx)("span",{className:"text-destructive",children:"Travel time unavailable"})]}),!(p||g||b)&&(0,a.jsx)("span",{className:"text-muted-foreground",children:"No travel data"})]}):(0,a.jsxs)(c.HoverCard,{openDelay:200,children:[(0,a.jsx)(c.HoverCardTrigger,{asChild:!0,children:(0,a.jsxs)("div",{className:(0,u.cn)("bg-muted/50 hover:bg-muted flex h-7 cursor-help items-center gap-2 rounded-md px-2.5 text-xs transition-colors",x),children:[(0,a.jsx)(s.Clock,{className:"text-muted-foreground h-3 w-3"}),(0,a.jsx)("span",{className:"font-medium tabular-nums",children:P(g.duration)}),(0,a.jsx)("span",{className:"text-muted-foreground",children:"•"}),(0,a.jsx)(n.Route,{className:"text-muted-foreground h-3 w-3"}),(0,a.jsxs)("span",{className:"text-muted-foreground",children:[g.distance.toFixed(1)," mi"]}),(0,a.jsx)("button",{"aria-label":"Refresh travel time",className:"text-muted-foreground hover:text-foreground ml-auto flex items-center gap-1 transition",onClick:k,type:"button",children:(0,a.jsx)(d.RefreshCw,{className:"h-3 w-3"})})]})}),(0,a.jsx)(c.HoverCardContent,{align:"start",className:"w-80",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"bg-primary/10 flex h-8 w-8 items-center justify-center rounded-md",children:(0,a.jsx)(s.Clock,{className:"text-primary h-4 w-4"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-semibold",children:"Travel Time"}),(0,a.jsx)("div",{className:"text-muted-foreground text-xs",children:"From company HQ"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"border-border/50 bg-muted/20 rounded-lg border p-3",children:[(0,a.jsx)("div",{className:"text-muted-foreground text-[10px] font-medium tracking-wide uppercase",children:"Duration"}),(0,a.jsx)("div",{className:"text-foreground mt-1 text-2xl font-bold tabular-nums",children:P(g.duration)}),(0,a.jsx)("div",{className:"text-muted-foreground mt-0.5 text-xs",children:g.durationText})]}),(0,a.jsxs)("div",{className:"border-border/50 bg-muted/20 rounded-lg border p-3",children:[(0,a.jsx)("div",{className:"text-muted-foreground text-[10px] font-medium tracking-wide uppercase",children:"Distance"}),(0,a.jsxs)("div",{className:"text-foreground mt-1 text-2xl font-bold tabular-nums",children:[g.distance.toFixed(1)," mi"]}),(0,a.jsx)("div",{className:"text-muted-foreground mt-0.5 text-xs",children:g.distanceText})]})]}),(0,a.jsxs)("div",{className:"border-border/50 bg-muted/20 space-y-1.5 rounded-lg border p-3",children:[(0,a.jsxs)("div",{className:"text-muted-foreground flex items-center gap-1.5 text-[10px] font-medium tracking-wide uppercase",children:[(0,a.jsx)(n.Route,{className:"h-3 w-3"}),"Route"]}),(0,a.jsxs)("div",{className:"flex items-start gap-2 text-sm",children:[(0,a.jsx)(r.ArrowRight,{className:"text-muted-foreground mt-0.5 h-3.5 w-3.5 flex-shrink-0"}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("div",{className:"text-foreground font-medium",children:S?.primary}),S?.secondary&&(0,a.jsx)("div",{className:"text-muted-foreground text-xs",children:S.secondary})]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-2 text-sm",children:[(0,a.jsx)(i.MapPin,{className:"text-primary mt-0.5 h-3.5 w-3.5 flex-shrink-0"}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("div",{className:"text-foreground font-medium",children:C?.primary}),C?.secondary&&(0,a.jsx)("div",{className:"text-muted-foreground text-xs",children:C.secondary})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5 rounded-md bg-emerald-500/10 px-2 py-1",children:[(0,a.jsx)("span",{className:"inline-flex h-1.5 w-1.5 animate-pulse rounded-full bg-emerald-500"}),(0,a.jsx)("span",{className:"text-xs font-medium text-emerald-700 dark:text-emerald-400",children:"Live traffic data"})]}),j&&(0,a.jsxs)("div",{className:"text-muted-foreground text-xs",children:["Updated ",(e=>{if(!e)return null;let a=Math.round((e.getTime()-Date.now())/6e4),t=new Intl.RelativeTimeFormat("en",{numeric:"auto"});if(60>Math.abs(a))return t.format(a,"minute");let r=Math.round(a/60);if(24>Math.abs(r))return t.format(r,"hour");let s=Math.round(r/24);return t.format(s,"day")})(j)]})]})]})})]})}e.s(["TravelTime",()=>x],258978),e.i(313550);var g=e.i(133279),h=e.i(979731),b=e.i(797566),f=e.i(332845),p=e.i(555739);e.i(553153);var v=e.i(363712);e.i(889265);var j=e.i(677607);e.i(539870);var y=e.i(846358);e.i(160973);var N=e.i(871124);function k({property:e,nearbySuppliers:t=[]}){let[r,s]=(0,o.useState)(!1),[l,d]=(0,o.useState)("map"),n=[e.address,e.address2,`${e.city}, ${e.state} ${e.zip_code}`].filter(Boolean).join("\n"),c=encodeURIComponent([e.address,e.address2,e.city,e.state,e.zip_code].filter(Boolean).join(", ")),u=e.lat&&e.lon?`${e.lat},${e.lon}`:c,m=`https://www.google.com/maps/embed/v1/directions?key=AIzaSyCVKN0pddG230vvjT0EMP9sSIR31j1q2t0&origin=current+location&destination=${u}&mode=driving`,x=`https://www.google.com/maps/dir/?api=1&destination=${u}`,k=!!(e.lat&&e.lon),w=k?`https://www.google.com/maps/embed/v1/streetview?key=AIzaSyCVKN0pddG230vvjT0EMP9sSIR31j1q2t0&location=${e.lat},${e.lon}&heading=0&pitch=0&fov=90`:null,P=k?`https://www.google.com/maps/embed/v1/view?key=AIzaSyCVKN0pddG230vvjT0EMP9sSIR31j1q2t0&center=${e.lat},${e.lon}&zoom=18&maptype=satellite`:`https://www.google.com/maps/embed/v1/search?key=AIzaSyCVKN0pddG230vvjT0EMP9sSIR31j1q2t0&q=${c}&zoom=18&maptype=satellite`,S=e.lat&&e.lon?`https://earth.google.com/web/@${e.lat},${e.lon},0a,1000d,35y,0h,0t,0r`:`https://earth.google.com/web/search/${c}`;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"space-y-3 p-4 sm:p-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"mb-2 flex items-center justify-between",children:[(0,a.jsx)("div",{className:"text-muted-foreground text-xxs font-semibold tracking-wider uppercase",children:"Service Location"}),(0,a.jsx)(j.Button,{asChild:!0,className:"h-7 gap-1.5 px-2 text-xs",size:"sm",variant:"outline",children:(0,a.jsxs)("a",{href:x,rel:"noopener noreferrer",target:"_blank",children:[(0,a.jsx)(f.Navigation,{className:"size-3"}),"Open in Maps"]})})]}),(0,a.jsx)("div",{className:"text-foreground text-sm leading-relaxed whitespace-pre-line",children:n})]}),(0,a.jsxs)(N.Tabs,{className:"w-full",onValueChange:d,value:l,children:[(0,a.jsxs)(N.TabsList,{className:"grid h-9 w-full grid-cols-3",children:[(0,a.jsxs)(N.TabsTrigger,{className:"gap-1.5 text-xs",value:"map",children:[(0,a.jsx)(f.Navigation,{className:"size-3.5"}),"Map"]}),(0,a.jsxs)(N.TabsTrigger,{className:"gap-1.5 text-xs",disabled:!w,value:"street",children:[(0,a.jsx)(g.Camera,{className:"size-3.5"}),"Street"]}),(0,a.jsxs)(N.TabsTrigger,{className:"gap-1.5 text-xs",value:"earth",children:[(0,a.jsx)(h.Globe,{className:"size-3.5"}),"Earth"]})]}),(0,a.jsxs)(N.TabsContent,{className:"mt-3 space-y-3",value:"map",children:[(0,a.jsx)("div",{className:"group bg-muted relative overflow-hidden rounded-lg border",children:(0,a.jsxs)("div",{className:"relative h-[200px] w-full",children:[(0,a.jsx)("iframe",{className:"h-full w-full",frameBorder:"0",loading:"lazy",src:m,style:{border:0},title:"Property Map with Directions"}),(0,a.jsx)(j.Button,{className:"bg-card/90 hover:bg-card absolute top-2 right-2 h-8 w-8 shadow-md",onClick:()=>{d("map"),s(!0)},size:"icon",variant:"ghost",children:(0,a.jsx)(b.Maximize2,{className:"text-foreground h-4 w-4"})})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Shows route from your current location"}),t.length>0&&(0,a.jsxs)(v.Badge,{className:"gap-1",variant:"secondary",children:[(0,a.jsx)(p.Store,{className:"size-3"}),t.length," nearby"]})]})]}),(0,a.jsx)(N.TabsContent,{className:"mt-3 space-y-3",value:"street",children:w?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"group bg-muted relative overflow-hidden rounded-lg border",children:(0,a.jsxs)("div",{className:"relative h-[200px] w-full",children:[(0,a.jsx)("iframe",{className:"h-full w-full",frameBorder:"0",loading:"lazy",src:w,style:{border:0},title:"Property Street View"}),(0,a.jsx)(j.Button,{className:"bg-card/90 hover:bg-card absolute top-2 right-2 h-8 w-8 shadow-md",onClick:()=>{d("street"),s(!0)},size:"icon",variant:"ghost",children:(0,a.jsx)(b.Maximize2,{className:"text-foreground h-4 w-4"})})]})}),(0,a.jsx)("p",{className:"text-muted-foreground text-xs",children:"360° ground-level view of the property"})]}):(0,a.jsxs)("div",{className:"bg-muted/50 flex h-[200px] flex-col items-center justify-center rounded-lg border p-6 text-center",children:[(0,a.jsx)(g.Camera,{className:"text-muted-foreground mx-auto mb-3 size-10 opacity-30"}),(0,a.jsx)("p",{className:"text-foreground mb-1 text-sm font-medium",children:"Street View Unavailable"}),(0,a.jsx)("p",{className:"text-muted-foreground max-w-xs text-xs",children:"Add GPS coordinates (latitude/longitude) to the property to enable street-level imagery"})]})}),(0,a.jsxs)(N.TabsContent,{className:"mt-3 space-y-3",value:"earth",children:[(0,a.jsx)("div",{className:"group bg-muted relative overflow-hidden rounded-lg border",children:(0,a.jsxs)("div",{className:"relative h-[200px] w-full",children:[(0,a.jsx)("iframe",{className:"h-full w-full",frameBorder:"0",loading:"lazy",src:P,style:{border:0},title:"Satellite View"}),(0,a.jsx)(j.Button,{className:"bg-card/90 hover:bg-card absolute top-2 right-2 h-8 w-8 shadow-md",onClick:()=>{d("earth"),s(!0)},size:"icon",variant:"ghost",children:(0,a.jsx)(b.Maximize2,{className:"text-foreground h-4 w-4"})})]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Satellite imagery view"}),(0,a.jsx)(j.Button,{asChild:!0,className:"h-6 gap-1 px-2 text-xs",size:"sm",variant:"ghost",children:(0,a.jsxs)("a",{href:S,rel:"noopener noreferrer",target:"_blank",children:[(0,a.jsx)(h.Globe,{className:"size-3"}),"Open Google Earth"]})})]})]})]}),e.lat&&e.lon&&(0,a.jsx)("div",{className:"bg-muted/50 rounded-lg px-3 py-2",children:(0,a.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Coordinates:"}),(0,a.jsxs)("span",{className:"text-foreground font-mono font-medium",children:[e.lat.toFixed(4),", ",e.lon.toFixed(4)]})]})})]}),(0,a.jsx)(y.Dialog,{onOpenChange:s,open:r,children:(0,a.jsxs)(y.DialogContent,{className:"max-w-5xl p-0",children:[(0,a.jsxs)(y.DialogHeader,{className:"border-b px-6 py-4",children:[(0,a.jsxs)(y.DialogTitle,{className:"flex items-center gap-2",children:[(0,a.jsx)(i.MapPin,{className:"text-primary h-5 w-5"}),"Service Location"]}),(0,a.jsx)("div",{className:"text-muted-foreground mt-2 text-sm whitespace-pre-line",children:n})]}),(0,a.jsxs)(N.Tabs,{className:"w-full",onValueChange:d,value:l,children:[(0,a.jsx)("div",{className:"border-b px-6",children:(0,a.jsxs)(N.TabsList,{className:"h-10",children:[(0,a.jsxs)(N.TabsTrigger,{className:"gap-2",value:"map",children:[(0,a.jsx)(f.Navigation,{className:"size-4"}),"Map & Route"]}),(0,a.jsxs)(N.TabsTrigger,{className:"gap-2",disabled:!w,value:"street",children:[(0,a.jsx)(g.Camera,{className:"size-4"}),"Street View"]}),(0,a.jsxs)(N.TabsTrigger,{className:"gap-2",value:"earth",children:[(0,a.jsx)(h.Globe,{className:"size-4"}),"Satellite"]})]})}),(0,a.jsx)(N.TabsContent,{className:"m-0",value:"map",children:(0,a.jsx)("div",{className:"h-[600px] w-full",children:(0,a.jsx)("iframe",{className:"h-full w-full",frameBorder:"0",loading:"lazy",src:m,style:{border:0},title:"Property Map with Directions - Expanded"})})}),(0,a.jsx)(N.TabsContent,{className:"m-0",value:"street",children:w?(0,a.jsx)("div",{className:"h-[600px] w-full",children:(0,a.jsx)("iframe",{className:"h-full w-full",frameBorder:"0",loading:"lazy",src:w,style:{border:0},title:"Property Street View - Expanded"})}):(0,a.jsxs)("div",{className:"bg-muted/50 flex h-[600px] flex-col items-center justify-center p-12 text-center",children:[(0,a.jsx)(g.Camera,{className:"text-muted-foreground mx-auto mb-4 size-16 opacity-20"}),(0,a.jsx)("p",{className:"text-foreground mb-2 text-lg font-semibold",children:"Street View Unavailable"}),(0,a.jsx)("p",{className:"text-muted-foreground max-w-md text-sm",children:"Add GPS coordinates (latitude/longitude) to the property to enable street-level imagery"})]})}),(0,a.jsx)(N.TabsContent,{className:"m-0",value:"earth",children:(0,a.jsx)("div",{className:"h-[600px] w-full",children:(0,a.jsx)("iframe",{className:"h-full w-full",frameBorder:"0",loading:"lazy",src:P,style:{border:0},title:"Satellite View - Expanded"})})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between border-t px-6 py-4",children:[(0,a.jsx)("div",{className:"flex items-center gap-4 text-sm",children:e.lat&&e.lon&&(0,a.jsxs)("div",{className:"text-muted-foreground flex items-center gap-2",children:[(0,a.jsx)(i.MapPin,{className:"size-4"}),(0,a.jsxs)("span",{className:"font-mono text-xs",children:[e.lat.toFixed(6),", ",e.lon.toFixed(6)]})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(j.Button,{asChild:!0,className:"gap-2",size:"sm",variant:"outline",children:(0,a.jsxs)("a",{href:S,rel:"noopener noreferrer",target:"_blank",children:[(0,a.jsx)(h.Globe,{className:"size-4"}),"Open in Google Earth"]})}),(0,a.jsx)(j.Button,{asChild:!0,className:"gap-2",size:"sm",children:(0,a.jsxs)("a",{href:x,rel:"noopener noreferrer",target:"_blank",children:[(0,a.jsx)(f.Navigation,{className:"size-4"}),"Open in Google Maps"]})})]})]})]})})]})}e.s(["PropertyLocationVisual",()=>k],487236)},134181,e=>{e.v(a=>Promise.all(["static/chunks/6680116ea3e49da7.js"].map(a=>e.l(a))).then(()=>a(388024)))}]);