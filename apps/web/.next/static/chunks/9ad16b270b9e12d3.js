(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,306466,e=>{"use strict";let s=(0,e.i(383206).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["default",()=>s])},598870,e=>{"use strict";var s=e.i(306466);e.s(["Save",()=>s.default])},616291,e=>{"use strict";let s=(0,e.i(383206).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["default",()=>s])},664136,e=>{"use strict";var s=e.i(616291);e.s(["Edit",()=>s.default])},486882,e=>{"use strict";let s=(0,e.i(383206).default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);e.s(["default",()=>s])},486506,e=>{"use strict";var s=e.i(486882);e.s(["ArrowRight",()=>s.default])},224216,e=>{"use strict";let s=(0,e.i(383206).default)("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);e.s(["default",()=>s])},578154,e=>{"use strict";var s=e.i(224216);e.s(["Volume2",()=>s.default])},376112,e=>{"use strict";var s=e.i(111043),t=e.i(486506),a=e.i(136764),i=e.i(664136),r=e.i(747146),n=e.i(939397),l=e.i(224262),d=e.i(371526),c=e.i(598870),o=e.i(121085),m=e.i(532727),u=e.i(826463),x=e.i(202724),h=e.i(578154),p=e.i(970799);e.i(553153);var j=e.i(363712);e.i(889265);var g=e.i(677607);e.i(254851);var v=e.i(605278);e.i(539870);var N=e.i(846358);e.i(51478);var y=e.i(635613);e.i(149989);var f=e.i(880177);e.i(868198);var b=e.i(798764),C=e.i(220168);e.i(526120);var S=e.i(610120),k=e.i(152088);let z=[{value:"female-1",label:"Female - Professional"},{value:"male-1",label:"Male - Professional"},{value:"female-2",label:"Female - Friendly"},{value:"male-2",label:"Male - Friendly"}],O={id:"root",type:"greeting",name:"Main Menu",description:"Primary IVR menu",greeting:{type:"text-to-speech",content:"Thank you for calling. Please listen to the following options.",voice:"female-1"},keypressOptions:[{key:"1",label:"Sales",action:"transfer",destination:"",description:"Route to sales team"},{key:"2",label:"Support",action:"transfer",destination:"",description:"Route to support team"},{key:"0",label:"Operator",action:"transfer",destination:"",description:"Route to operator"}],timeout:10,timeoutAction:"repeat",maxRetries:3};function R(){let[e,r]=(0,p.useState)({id:"menu-1",name:"Main IVR Menu",description:"Primary customer-facing IVR menu",rootNode:O,nodes:[O]}),[d,o]=(0,p.useState)(null),[m,u]=(0,p.useState)(!1),[x,N]=(0,p.useState)(!1),y=e=>{r(s=>({...s,nodes:s.nodes.map(s=>s.id===e.id?e:s),rootNode:s.rootNode.id===e.id?e:s.rootNode})),o(e)};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(v.Card,{children:(0,s.jsx)(v.CardHeader,{children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(v.CardTitle,{className:"flex items-center gap-2",children:[(0,s.jsx)(n.Phone,{className:"size-5"}),e.name]}),(0,s.jsx)(v.CardDescription,{children:e.description})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(g.Button,{onClick:()=>N(!x),size:"sm",variant:"outline",children:[(0,s.jsx)(l.Play,{className:"mr-2 size-3"}),x?"Stop Test":"Test Menu"]}),(0,s.jsxs)(g.Button,{size:"sm",children:[(0,s.jsx)(c.Save,{className:"mr-2 size-3"}),"Save Menu"]})]})]})})}),x&&(0,s.jsxs)(v.Card,{className:"border-primary bg-primary dark:border-primary dark:bg-primary/20",children:[(0,s.jsxs)(v.CardHeader,{children:[(0,s.jsx)(v.CardTitle,{className:"text-primary dark:text-primary text-base",children:"Test Mode Active"}),(0,s.jsx)(v.CardDescription,{className:"text-primary dark:text-primary",children:"Simulate calling your IVR menu. Press keys to navigate."})]}),(0,s.jsx)(v.CardContent,{children:(0,s.jsxs)("div",{className:"bg-background rounded-lg border p-4",children:[(0,s.jsxs)("div",{className:"mb-3 flex items-center gap-2",children:[(0,s.jsx)(h.Volume2,{className:"size-4"}),(0,s.jsxs)("span",{className:"text-sm",children:['"',e.rootNode.greeting?.content,'"']})]}),(0,s.jsx)("div",{className:"grid grid-cols-3 gap-2",children:e.rootNode.keypressOptions.map(e=>(0,s.jsxs)(g.Button,{size:"sm",variant:"outline",children:[e.key," - ",e.label]},e.key))})]})})]}),(0,s.jsxs)(v.Card,{children:[(0,s.jsxs)(v.CardHeader,{children:[(0,s.jsx)(v.CardTitle,{className:"text-base",children:"Menu Flow"}),(0,s.jsx)(v.CardDescription,{children:"Visual representation of your IVR menu structure"})]}),(0,s.jsx)(v.CardContent,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(I,{isRoot:!0,node:e.rootNode,onEdit:()=>{o(e.rootNode),u(!0)}}),(0,s.jsxs)("div",{className:"ml-8 space-y-3 border-l-2 border-dashed pl-6",children:[e.rootNode.keypressOptions.map(e=>(0,s.jsx)("div",{className:"space-y-2",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)(j.Badge,{className:"font-mono",variant:"secondary",children:["Press ",e.key]}),(0,s.jsx)(t.ArrowRight,{className:"text-muted-foreground size-4"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("div",{className:"font-medium",children:e.label}),(0,s.jsxs)("div",{className:"text-muted-foreground text-sm",children:[T(e.action),e.destination&&` â†’ ${e.destination}`]})]}),(0,s.jsx)(g.Button,{onClick:()=>{},size:"sm",variant:"ghost",children:(0,s.jsx)(i.Edit,{className:"size-3"})})]})},e.key)),e.rootNode.timeout&&(0,s.jsxs)("div",{className:"flex items-center gap-3 opacity-60",children:[(0,s.jsxs)(j.Badge,{className:"gap-1",variant:"outline",children:[(0,s.jsx)(a.Clock,{className:"size-3"}),e.rootNode.timeout,"s timeout"]}),(0,s.jsx)(t.ArrowRight,{className:"text-muted-foreground size-4"}),(0,s.jsx)("div",{className:"text-muted-foreground text-sm",children:T(e.rootNode.timeoutAction||"repeat")})]})]})]})})]}),(0,s.jsxs)("div",{className:"grid gap-4 sm:grid-cols-3",children:[(0,s.jsx)(v.Card,{children:(0,s.jsxs)(v.CardContent,{className:"pt-6",children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:e.rootNode.keypressOptions.length}),(0,s.jsx)("div",{className:"text-muted-foreground text-sm",children:"Menu Options"})]})}),(0,s.jsx)(v.Card,{children:(0,s.jsxs)(v.CardContent,{className:"pt-6",children:[(0,s.jsxs)("div",{className:"text-2xl font-bold",children:[e.rootNode.timeout,"s"]}),(0,s.jsx)("div",{className:"text-muted-foreground text-sm",children:"Timeout"})]})}),(0,s.jsx)(v.Card,{children:(0,s.jsxs)(v.CardContent,{className:"pt-6",children:[(0,s.jsx)("div",{className:"text-2xl font-bold",children:e.rootNode.maxRetries}),(0,s.jsx)("div",{className:"text-muted-foreground text-sm",children:"Max Retries"})]})})]}),d&&(0,s.jsx)(M,{node:d,onAddKeypress:()=>{let e;y({...d,keypressOptions:[...d.keypressOptions,{key:(e=new Set(d.keypressOptions.map(e=>e.key)),["1","2","3","4","5","6","7","8","9","0","*","#"].find(s=>!e.has(s))||"1"),label:"New Option",action:"transfer",destination:""}]})},onOpenChange:u,onRemoveKeypress:e=>{y({...d,keypressOptions:d.keypressOptions.filter(s=>s.key!==e)})},onUpdate:y,open:m})]})}function I({node:e,isRoot:t,onEdit:a}){return(0,s.jsxs)(v.Card,{className:(0,k.cn)(t&&"border-primary"),children:[(0,s.jsx)(v.CardHeader,{className:"pb-3",children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"bg-muted rounded-lg border p-2",children:(()=>{switch(e.type){case"greeting":return(0,s.jsx)(h.Volume2,{className:"size-4"});case"menu":return(0,s.jsx)(n.Phone,{className:"size-4"});case"route":return(0,s.jsx)(x.Users,{className:"size-4"});case"voicemail":return(0,s.jsx)(r.MessageSquare,{className:"size-4"});default:return(0,s.jsx)(o.Settings,{className:"size-4"})}})()}),(0,s.jsxs)("div",{children:[(0,s.jsx)(v.CardTitle,{className:"text-base",children:e.name}),e.description&&(0,s.jsx)(v.CardDescription,{className:"text-xs",children:e.description})]})]}),(0,s.jsx)(g.Button,{onClick:a,size:"icon",variant:"ghost",children:(0,s.jsx)(i.Edit,{className:"size-4"})})]})}),(0,s.jsx)(v.CardContent,{children:e.greeting&&(0,s.jsxs)("div",{className:"bg-muted/50 rounded-lg p-3 text-sm",children:[(0,s.jsxs)("div",{className:"text-muted-foreground mb-1 flex items-center gap-2 text-xs",children:[(0,s.jsx)(h.Volume2,{className:"size-3"}),"text-to-speech"===e.greeting.type?"Text-to-Speech":"Audio File"]}),(0,s.jsx)("div",{className:"line-clamp-2",children:e.greeting.content})]})})]})}function M({node:e,open:t,onOpenChange:a,onUpdate:i,onAddKeypress:r,onRemoveKeypress:n}){let[l,c]=(0,p.useState)(e);return(0,s.jsx)(N.Dialog,{onOpenChange:a,open:t,children:(0,s.jsxs)(N.DialogContent,{className:"max-h-[90vh] max-w-2xl overflow-y-auto",children:[(0,s.jsxs)(N.DialogHeader,{children:[(0,s.jsxs)(N.DialogTitle,{children:["Edit IVR Node: ",e.name]}),(0,s.jsx)(N.DialogDescription,{children:"Configure the greeting, options, and behavior for this menu node"})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(C.StandardFormField,{label:"Node Name",htmlFor:"node-name",children:(0,s.jsx)(y.Input,{id:"node-name",onChange:e=>c({...l,name:e.target.value}),value:l.name})}),(0,s.jsx)(C.StandardFormField,{label:"Description (Optional)",htmlFor:"node-description",children:(0,s.jsx)(y.Input,{id:"node-description",onChange:e=>c({...l,description:e.target.value}),value:l.description||""})})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(f.Label,{children:"Greeting"}),(0,s.jsxs)(b.Select,{onValueChange:e=>c({...l,greeting:{...l.greeting,type:e}}),value:l.greeting?.type,children:[(0,s.jsx)(b.SelectTrigger,{children:(0,s.jsx)(b.SelectValue,{})}),(0,s.jsxs)(b.SelectContent,{children:[(0,s.jsx)(b.SelectItem,{value:"text-to-speech",children:"Text-to-Speech"}),(0,s.jsx)(b.SelectItem,{value:"audio-file",children:"Upload Audio File"})]})]}),l.greeting?.type==="text-to-speech"?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(S.Textarea,{onChange:e=>c({...l,greeting:{...l.greeting,content:e.target.value}}),placeholder:"Enter the greeting text...",rows:3,value:l.greeting.content}),(0,s.jsxs)(b.Select,{onValueChange:e=>c({...l,greeting:{...l.greeting,voice:e}}),value:l.greeting.voice,children:[(0,s.jsx)(b.SelectTrigger,{children:(0,s.jsx)(b.SelectValue,{placeholder:"Select voice"})}),(0,s.jsx)(b.SelectContent,{children:z.map(e=>(0,s.jsx)(b.SelectItem,{value:e.value,children:e.label},e.value))})]})]}):(0,s.jsxs)(g.Button,{className:"w-full",variant:"outline",children:[(0,s.jsx)(u.Upload,{className:"mr-2 size-4"}),"Upload Audio File (MP3, WAV)"]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(f.Label,{children:"Keypress Options"}),(0,s.jsxs)(g.Button,{onClick:r,size:"sm",variant:"outline",children:[(0,s.jsx)(d.Plus,{className:"mr-2 size-3"}),"Add Option"]})]}),(0,s.jsx)("div",{className:"space-y-3",children:l.keypressOptions.map((e,t)=>(0,s.jsx)(v.Card,{children:(0,s.jsx)(v.CardContent,{className:"pt-4",children:(0,s.jsxs)("div",{className:"grid gap-3",children:[(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f.Label,{children:"Key"}),(0,s.jsxs)(b.Select,{onValueChange:s=>{let a=[...l.keypressOptions];a[t]={...e,key:s},c({...l,keypressOptions:a})},value:e.key,children:[(0,s.jsx)(b.SelectTrigger,{children:(0,s.jsx)(b.SelectValue,{})}),(0,s.jsx)(b.SelectContent,{children:["0","1","2","3","4","5","6","7","8","9","*","#"].map(e=>(0,s.jsx)(b.SelectItem,{value:e,children:e},e))})]})]}),(0,s.jsxs)("div",{className:"col-span-2 space-y-2",children:[(0,s.jsx)(f.Label,{children:"Label"}),(0,s.jsx)(y.Input,{onChange:s=>{let a=[...l.keypressOptions];a[t]={...e,label:s.target.value},c({...l,keypressOptions:a})},value:e.label})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f.Label,{children:"Action"}),(0,s.jsxs)(b.Select,{onValueChange:s=>{let a=[...l.keypressOptions];a[t]={...e,action:s},c({...l,keypressOptions:a})},value:e.action,children:[(0,s.jsx)(b.SelectTrigger,{children:(0,s.jsx)(b.SelectValue,{})}),(0,s.jsxs)(b.SelectContent,{children:[(0,s.jsx)(b.SelectItem,{value:"transfer",children:"Transfer to Number"}),(0,s.jsx)(b.SelectItem,{value:"voicemail",children:"Send to Voicemail"}),(0,s.jsx)(b.SelectItem,{value:"submenu",children:"Go to Submenu"}),(0,s.jsx)(b.SelectItem,{value:"repeat",children:"Repeat Menu"}),(0,s.jsx)(b.SelectItem,{value:"hangup",children:"Hang Up"})]})]})]}),("transfer"===e.action||"submenu"===e.action)&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(f.Label,{children:"transfer"===e.action?"Phone Number":"Submenu"}),(0,s.jsx)(y.Input,{onChange:s=>{let a=[...l.keypressOptions];a[t]={...e,destination:s.target.value},c({...l,keypressOptions:a})},placeholder:"transfer"===e.action?"+1 (555) 123-4567":"Select submenu",value:e.destination||""})]})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsxs)(g.Button,{onClick:()=>n(e.key),size:"sm",variant:"ghost",children:[(0,s.jsx)(m.Trash2,{className:"mr-2 size-3"}),"Remove"]})})]})})},e.key))})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(f.Label,{children:"Advanced Settings"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsx)(C.StandardFormField,{label:"Timeout (seconds)",htmlFor:"timeout",children:(0,s.jsx)(y.Input,{id:"timeout",max:"60",min:"5",onChange:e=>c({...l,timeout:Number.parseInt(e.target.value,10)}),type:"number",value:l.timeout})}),(0,s.jsx)(C.StandardFormField,{label:"Max Retries",htmlFor:"maxRetries",children:(0,s.jsx)(y.Input,{id:"maxRetries",max:"10",min:"1",onChange:e=>c({...l,maxRetries:Number.parseInt(e.target.value,10)}),type:"number",value:l.maxRetries})})]}),(0,s.jsx)(C.StandardFormField,{label:"Timeout Action",htmlFor:"timeoutAction",children:(0,s.jsxs)(b.Select,{onValueChange:e=>c({...l,timeoutAction:e}),value:l.timeoutAction,children:[(0,s.jsx)(b.SelectTrigger,{id:"timeoutAction",children:(0,s.jsx)(b.SelectValue,{})}),(0,s.jsxs)(b.SelectContent,{children:[(0,s.jsx)(b.SelectItem,{value:"repeat",children:"Repeat Menu"}),(0,s.jsx)(b.SelectItem,{value:"voicemail",children:"Send to Voicemail"}),(0,s.jsx)(b.SelectItem,{value:"transfer",children:"Transfer to Operator"}),(0,s.jsx)(b.SelectItem,{value:"hangup",children:"Hang Up"})]})]})})]})]}),(0,s.jsxs)(N.DialogFooter,{children:[(0,s.jsx)(g.Button,{onClick:()=>a(!1),variant:"outline",children:"Cancel"}),(0,s.jsx)(g.Button,{onClick:()=>{i(l),a(!1)},children:"Save Changes"})]})]})})}function T(e){switch(e){case"transfer":return"Transfer Call";case"voicemail":return"Voicemail";case"submenu":return"Submenu";case"repeat":return"Repeat Menu";case"hangup":return"Hang Up";default:return e}}e.s(["IVRMenuBuilder",()=>R])}]);