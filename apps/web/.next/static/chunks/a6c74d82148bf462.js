(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,926991,e=>{"use strict";let r=(0,e.i(383206).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);e.s(["default",()=>r])},51866,e=>{"use strict";var r=e.i(926991);e.s(["ChevronLeft",()=>r.default])},172506,e=>{"use strict";var r=e.i(306929);e.s(["ArrowDown",()=>r.default])},698684,e=>{"use strict";let r=(0,e.i(383206).default)("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);e.s(["default",()=>r])},407205,e=>{"use strict";var r=e.i(698684);e.s(["ArrowUp",()=>r.default])},306929,e=>{"use strict";let r=(0,e.i(383206).default)("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);e.s(["default",()=>r])},573951,e=>{"use strict";let r=(0,e.i(383206).default)("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);e.s(["default",()=>r])},287156,e=>{"use strict";var r=e.i(111043),a=e.i(970799),t=e.i(151213);function s({section:e,table:s,kanban:i,fallback:n=null,forceView:o}){let l=(0,t.useWorkView)(e),c=(0,t.useSetWorkView)(e),d=o??l;return((0,a.useEffect)(()=>{o&&l!==o&&c(o)},[o]),"kanban"===d)?(0,r.jsx)(r.Fragment,{children:i??n}):(0,r.jsx)(r.Fragment,{children:s??n})}e.s(["WorkDataView",()=>s])},635709,e=>{"use strict";e.s(["TablePresets",0,{fullList:(e={})=>({variant:"full",enableSelection:e.enableSelection??!0,showRefresh:e.showRefresh??!1,showPagination:e.showPagination??!0,itemsPerPage:e.itemsPerPage??50,serverPagination:e.serverPagination??!1,serverSearch:e.serverSearch??!1,searchPlaceholder:e.searchPlaceholder??"Search...",entity:e.entity,noPadding:e.noPadding??!1}),compact:(e={})=>({variant:"compact",enableSelection:e.enableSelection??!1,showRefresh:e.showRefresh??!1,showPagination:e.showPagination??!0,itemsPerPage:e.itemsPerPage??20,serverPagination:e.serverPagination??!1,serverSearch:e.serverSearch??!1,searchPlaceholder:e.searchPlaceholder??"Search...",entity:e.entity,noPadding:e.noPadding??!1}),nested:(e={})=>({variant:"nested",enableSelection:e.enableSelection??!1,showRefresh:e.showRefresh??!1,showPagination:e.showPagination??!1,itemsPerPage:e.itemsPerPage??10,serverPagination:e.serverPagination??!1,serverSearch:e.serverSearch??!1,entity:e.entity,noPadding:e.noPadding??!0}),serverPaginated:(e={})=>({variant:"full",enableSelection:e.enableSelection??!0,showRefresh:e.showRefresh??!1,showPagination:e.showPagination??!0,itemsPerPage:e.itemsPerPage??50,serverPagination:!0,serverSearch:!0,searchPlaceholder:e.searchPlaceholder??"Search...",entity:e.entity,noPadding:e.noPadding??!1}),readOnly:(e={})=>({variant:e.itemsPerPage?"full":"compact",enableSelection:!1,showRefresh:!1,showPagination:e.showPagination??!!e.itemsPerPage,itemsPerPage:e.itemsPerPage??20,serverPagination:e.serverPagination??!1,serverSearch:!1,entity:e.entity,noPadding:e.noPadding??!1}),modal:(e={})=>({variant:"compact",enableSelection:e.enableSelection??!0,showRefresh:!1,showPagination:e.showPagination??!1,itemsPerPage:e.itemsPerPage??10,serverPagination:!1,serverSearch:!1,searchPlaceholder:e.searchPlaceholder??"Search...",noPadding:!0})}])},222121,750966,e=>{"use strict";e.i(116233),e.s([],222121);var r=e.i(904653),a=e.i(995403);function t({entityType:e,basePath:t}){let s=(0,r.useRouter)(),i={jobs:"job",invoices:"invoice",estimates:"estimate",payments:"payment",contracts:"contract",appointments:"appointment",equipment:"equipment","maintenance-plans":"maintenance plan","service-agreements":"service agreement","purchase-orders":"purchase order",properties:"property",customers:"customer"}[e]||e,n=t||`/dashboard/work/${e}`,o=async(e,r)=>{try{return await r(e),a.toast.success(`${e.length} ${i}s archived successfully`),s.refresh(),!0}catch(e){return console.error(`Failed to archive ${i}s:`,e),a.toast.error(`Failed to archive ${i}s`),!1}};return{handleRowClick:e=>{s.push(`${n}/${e}`)},handleArchive:async(e,r)=>{try{return await r(e),a.toast.success(`${i} archived successfully`),s.refresh(),!0}catch(e){return console.error(`Failed to archive ${i}:`,e),a.toast.error(`Failed to archive ${i}`),!1}},handleBulkArchive:o,handleRestore:async(e,r)=>{try{return await r(e),a.toast.success(`${i} restored successfully`),s.refresh(),!0}catch(e){return console.error(`Failed to restore ${i}:`,e),a.toast.error(`Failed to restore ${i}`),!1}},handleRefresh:()=>{s.refresh(),a.toast.success("Refreshed")},createSearchFilter:e=>(r,a)=>{let t=a.toLowerCase().trim();return!t||e.some(e=>{let a=r[e];return null!=a&&String(a).toLowerCase().includes(t)})},createBulkActions:e=>{let r=[];return e.archive&&r.push({label:"Archive Selected",onClick:r=>o(r,e.archive)}),e.export&&r.push({label:"Export Selected",onClick:async r=>{try{await e.export(r),a.toast.success(`Exported ${r.length} ${i}s`)}catch(e){a.toast.error("Failed to export")}}}),e.delete&&r.push({label:"Delete Selected",onClick:async r=>{try{await e.delete(r),a.toast.success(`Deleted ${r.length} ${i}s`),s.refresh()}catch(e){a.toast.error("Failed to delete")}}}),r},entityLabel:i}}e.s(["useTableActions",()=>t],750966)},829304,e=>{"use strict";function r(e){let r=(e?.status??"").toString().toLowerCase();return["bad","overdue","error","failed","rejected"].includes(r)?{isHighlighted:!0,highlightClass:"bg-destructive/10 text-destructive"}:["good","completed","success","ok","active","approved"].includes(r)?{isHighlighted:!0,highlightClass:"bg-success/10 text-success"}:{isHighlighted:!1,highlightClass:""}}e.s(["getRowHighlight",()=>r])},981879,e=>{"use strict";var r=e.i(111043),a=e.i(946672),t=e.i(263942),s=e.i(882896),i=e.i(559586),n=e.i(38614),o=e.i(311003),l=e.i(939397),c=e.i(176378),d=e.i(970799),h=e.i(552038),u=(0,h.createServerReference)("40daf684291cd5fbc5c66bf95d0f096873f4efeb57",h.callServer,void 0,h.findSourceMapURL,"archiveVendor");e.i(222121);var g=e.i(473485);e.i(553153);var m=e.i(363712);e.i(889265);var v=e.i(677607);e.i(244242);var f=e.i(563078),p=e.i(527756),w=e.i(750966),x=e.i(829304),P=e.i(635709);let b={active:{label:"Active",className:"bg-success text-success dark:bg-success/20 dark:text-success"},inactive:{label:"Inactive",className:"bg-muted text-foreground dark:bg-foreground/20 dark:text-muted-foreground"}},y={supplier:{label:"Supplier",className:"bg-primary text-primary dark:bg-primary/20 dark:text-primary"},distributor:{label:"Distributor",className:"bg-accent text-accent-foreground dark:bg-accent/20 dark:text-accent-foreground"},manufacturer:{label:"Manufacturer",className:"bg-warning text-warning dark:bg-warning/20 dark:text-warning"},service_provider:{label:"Service Provider",className:"bg-teal-100 text-teal-800 dark:bg-teal-900/20 dark:text-teal-400"},other:{label:"Other",className:"bg-muted text-foreground dark:bg-foreground/20 dark:text-muted-foreground"}};function k({vendors:e,itemsPerPage:h=50,basePath:k="/dashboard/inventory/vendors",toolbarActions:j}){let{handleRefresh:S}=(0,w.useTableActions)({entityType:"vendors"}),{openArchiveDialog:C,ArchiveDialogComponent:$}=(0,g.useArchiveDialog)({onConfirm:async e=>{(await u(e)).success&&S()},title:"Archive Vendor?",description:"This vendor will be archived and can be restored within 90 days."}),[N,A]=(0,d.useState)(new Set),{openArchiveDialog:D,ArchiveDialogComponent:R}=(0,g.useArchiveDialog)({onConfirm:async()=>{let e=0;for(let r of N)(await u(r)).success&&e++;e>0&&S()},title:`Archive ${N.size} Vendor(s)?`,description:`${N.size} vendor(s) will be archived and can be restored within 90 days.`}),M=[{key:"vendor_number",header:"Vendor #",width:"w-32",shrink:!0,render:e=>(0,r.jsx)(c.default,{className:"text-foreground text-xs leading-tight font-medium hover:underline",href:`${k}/${e.id}`,onClick:e=>e.stopPropagation(),children:e.vendor_number})},{key:"name",header:"Name",width:"flex-1",render:e=>(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)(c.default,{className:"text-foreground text-xs leading-tight font-medium hover:underline",href:`${k}/${e.id}`,onClick:e=>e.stopPropagation(),children:e.display_name||e.name}),e.category&&(0,r.jsx)(m.Badge,{className:`mt-1 w-fit ${y[e.category]?.className||y.other.className}`,variant:"outline",children:y[e.category]?.label||e.category})]})},{key:"contact",header:"Contact",width:"w-64",shrink:!0,hideOnMobile:!0,render:e=>(0,r.jsxs)("div",{className:"flex flex-col gap-1 text-xs",children:[e.email&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(i.Mail,{className:"text-muted-foreground h-3 w-3"}),(0,r.jsx)("a",{className:"text-primary hover:underline",href:`mailto:${e.email}`,onClick:e=>e.stopPropagation(),children:e.email})]}),e.phone&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(l.Phone,{className:"text-muted-foreground h-3 w-3"}),(0,r.jsx)("a",{className:"text-primary hover:underline",href:`tel:${e.phone}`,onClick:e=>e.stopPropagation(),children:e.phone})]}),!(e.email||e.phone)&&(0,r.jsx)("span",{className:"text-muted-foreground text-xs",children:"No contact info"})]})},{key:"status",header:"Status",width:"w-24",shrink:!0,align:"center",render:e=>{let a=b[e.status];return(0,r.jsx)(m.Badge,{className:a.className,variant:"outline",children:a.label})}},{key:"actions",header:"",width:"w-12",shrink:!0,align:"right",render:e=>(0,r.jsxs)(f.DropdownMenu,{children:[(0,r.jsx)(f.DropdownMenuTrigger,{asChild:!0,onClick:e=>e.stopPropagation(),children:(0,r.jsx)(v.Button,{size:"icon",variant:"ghost",children:(0,r.jsx)(n.MoreHorizontal,{className:"h-4 w-4"})})}),(0,r.jsxs)(f.DropdownMenuContent,{align:"end",children:[(0,r.jsx)(f.DropdownMenuLabel,{children:"Actions"}),(0,r.jsx)(f.DropdownMenuItem,{asChild:!0,children:(0,r.jsx)(c.default,{href:`${k}/${e.id}`,children:"View Details"})}),(0,r.jsx)(f.DropdownMenuItem,{asChild:!0,children:(0,r.jsx)(c.default,{href:`${k}/${e.id}/edit`,children:"Edit Vendor"})}),e.email&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.DropdownMenuSeparator,{}),(0,r.jsx)(f.DropdownMenuItem,{asChild:!0,children:(0,r.jsx)("a",{href:`mailto:${e.email}`,children:"Send Email"})})]}),(0,r.jsx)(f.DropdownMenuSeparator,{}),(0,r.jsx)(f.DropdownMenuItem,{asChild:!0,children:(0,r.jsx)(c.default,{href:`/dashboard/work/purchase-orders?vendorId=${e.id}`,children:"View Purchase Orders"})}),(0,r.jsx)(f.DropdownMenuSeparator,{}),(0,r.jsxs)(f.DropdownMenuItem,{className:"text-destructive",onClick:()=>{C(e.id)},children:[(0,r.jsx)(a.Archive,{className:"mr-2 size-4"}),"Archive Vendor"]})]})]})}],F=[{label:"Export Selected",icon:(0,r.jsx)(s.Download,{className:"size-4"}),onClick:e=>{}},{label:"Mark as Inactive",icon:(0,r.jsx)(o.Pause,{className:"size-4"}),onClick:e=>{},variant:"ghost"},{label:"Archive Selected",icon:(0,r.jsx)(a.Archive,{className:"h-4 w-4"}),variant:"destructive",onClick:async e=>{A(e),D("")}}];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.FullWidthDataTable,{...P.TablePresets.fullList(),bulkActions:F,columns:M,data:e,emptyAction:(0,r.jsx)(v.Button,{asChild:!0,children:(0,r.jsxs)(c.default,{href:`${k}/new`,children:[(0,r.jsx)(t.Building2,{className:"mr-2 size-4"}),"Add Vendor"]})}),emptyIcon:(0,r.jsx)(t.Building2,{className:"text-muted-foreground h-12 w-12"}),emptyMessage:"No vendors found. Create your first vendor to get started.",getItemId:e=>e.id,onRefresh:S,onRowClick:e=>{window.location.href=`${k}/${e.id}`},searchFilter:(e,r)=>[e.name,e.display_name,e.vendor_number,e.email,e.phone,e.category].filter(Boolean).join(" ").toLowerCase().includes(r),searchPlaceholder:"Search vendors by name, number, email...",toolbarActions:j,isHighlighted:e=>(0,x.getRowHighlight)(e).isHighlighted,getHighlightClass:e=>(0,x.getRowHighlight)(e).highlightClass}),(0,r.jsx)($,{}),(0,r.jsx)(R,{})]})}e.s(["VendorTable",()=>k],981879)}]);