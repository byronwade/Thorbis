(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,984886,e=>{"use strict";var t=e.i(111043),s=e.i(227009),a=e.i(263942),r=e.i(606661),n=e.i(929294),l=e.i(559586),d=e.i(233654),i=e.i(939397),c=e.i(371526),o=e.i(868106),m=e.i(598870),x=e.i(525551),h=e.i(697029),u=e.i(14435),p=e.i(176378),j=e.i(904653),g=e.i(970799),v=e.i(995403),f=e.i(49718),N=e.i(552038),y=(0,N.createServerReference)("60f211711a4857b14c6ccb39c4c0c2ce24e4c041d8",N.callServer,void 0,N.findSourceMapURL,"linkPurchaseOrderToVendor"),b=(0,N.createServerReference)("6075e05577a34dadec4fa74245313b68c48494dd08",N.callServer,void 0,N.findSourceMapURL,"updateVendor"),C=e.i(821305),_=e.i(307033);e.i(553153);var S=e.i(363712);e.i(889265);var w=e.i(677607);e.i(254851);var F=e.i(605278);e.i(733296);var k=e.i(993665);e.i(539870);var z=e.i(846358);e.i(51478);var I=e.i(635613);e.i(868198);var P=e.i(798764),D=e.i(220168);e.i(526120);var T=e.i(610120),L=e.i(871509);function O({entityData:e,metrics:N={},searchData:O={}}){let A=(0,j.useRouter)(),{vendor:B,purchaseOrders:V=[],activities:U=[],notes:R=[],attachments:H=[],contacts:E=[],relatedJobs:M=[]}=e,{availablePurchaseOrders:$=[],availableContacts:K=[]}=O,[G,Q]=(0,g.useState)(B),[W,q]=(0,g.useState)(!1),[J,Z]=(0,g.useState)(!1),[X,Y]=(0,g.useState)(!1),[ee,et]=(0,g.useState)(!1),[es,ea]=(0,g.useState)(!1),[er,en]=(0,g.useState)(!1),[el,ed]=(0,g.useState)(""),[ei,ec]=(0,g.useState)(""),[eo,em]=(0,g.useState)(!1),[ex,eh]=(0,g.useState)(Array.isArray(B.tags)?B.tags:[]),eu=async(e,t)=>{let s=await (0,f.updateEntityTags)("vendor",e,t);return s.success?(eh(t),v.toast.success("Tags updated")):v.toast.error(s.error||"Failed to update tags"),s},ep=(0,g.useCallback)((e,t)=>{Q(s=>({...s,[e]:t})),q(!0)},[]),ej=async e=>{em(!0);try{let t=await y(e,G.id);t.success?(v.toast.success("Purchase order linked successfully"),Y(!1),ed("")):v.toast.error(t.error||"Failed to link purchase order")}catch(e){v.toast.error("Failed to link purchase order")}finally{em(!1)}},eg=(0,g.useCallback)(async()=>{if(!W)return;Z(!0);let e={...G};try{let t=new FormData;t.append("name",G.name),t.append("display_name",G.display_name),t.append("vendor_number",G.vendor_number),G.email&&t.append("email",G.email),G.phone&&t.append("phone",G.phone),G.secondary_phone&&t.append("secondary_phone",G.secondary_phone),G.website&&t.append("website",G.website),G.address&&t.append("address",G.address),G.address2&&t.append("address2",G.address2),G.city&&t.append("city",G.city),G.state&&t.append("state",G.state),G.zip_code&&t.append("zip_code",G.zip_code),G.country&&t.append("country",G.country),G.tax_id&&t.append("tax_id",G.tax_id),G.payment_terms&&t.append("payment_terms",G.payment_terms),G.credit_limit&&t.append("credit_limit",(G.credit_limit/100).toString()),G.preferred_payment_method&&t.append("preferred_payment_method",G.preferred_payment_method),G.category&&t.append("category",G.category),t.append("status",G.status),G.notes&&t.append("notes",G.notes),G.internal_notes&&t.append("internal_notes",G.internal_notes);let s=await b(G.id,t);s.success?(v.toast.success("Vendor updated successfully"),q(!1)):(Q(e),q(!1),v.toast.error(s.error||"Failed to save changes"))}catch(t){Q(e),q(!1),v.toast.error("Failed to save changes")}finally{Z(!1)}},[G,W,A]);(0,g.useEffect)(()=>{let e=e=>{(e.metaKey||e.ctrlKey)&&"s"===e.key&&W&&(e.preventDefault(),eg())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[W,eg]);let ev=N.totalSpend||0,ef=N.openPOCount||0,eN=N.openPOValue||0,ey=N.averageOrderValue||0,eb=N.onTimeDeliveryRate||0,eC=[{id:"vendor-info",title:"Vendor Information",icon:(0,t.jsx)(a.Building2,{className:"size-4"}),actions:W?(0,t.jsxs)(S.Badge,{className:"bg-amber-100 text-amber-900 dark:bg-amber-500/20",variant:"outline",children:[(0,t.jsx)(m.Save,{className:"mr-1 size-3"}),"Unsaved"]}):void 0,content:(0,t.jsxs)("div",{className:"space-y-6 p-6",children:[(0,t.jsxs)(D.StandardFormRow,{cols:2,children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(D.StandardFormField,{label:"Vendor Name",htmlFor:"name",required:!0,children:(0,t.jsx)(I.Input,{id:"name",onChange:e=>ep("name",e.target.value),value:G.name||""})}),(0,t.jsx)(D.StandardFormField,{label:"Display Name",htmlFor:"display_name",children:(0,t.jsx)(I.Input,{id:"display_name",onChange:e=>ep("display_name",e.target.value),value:G.display_name||""})}),(0,t.jsx)(D.StandardFormField,{label:"Category",htmlFor:"category",children:(0,t.jsxs)(P.Select,{onValueChange:e=>ep("category",e),value:G.category||"",children:[(0,t.jsx)(P.SelectTrigger,{id:"category",children:(0,t.jsx)(P.SelectValue,{placeholder:"Select category"})}),(0,t.jsxs)(P.SelectContent,{children:[(0,t.jsx)(P.SelectItem,{value:"supplier",children:"Supplier"}),(0,t.jsx)(P.SelectItem,{value:"distributor",children:"Distributor"}),(0,t.jsx)(P.SelectItem,{value:"manufacturer",children:"Manufacturer"}),(0,t.jsx)(P.SelectItem,{value:"service_provider",children:"Service Provider"}),(0,t.jsx)(P.SelectItem,{value:"other",children:"Other"})]})]})}),(0,t.jsx)(D.StandardFormField,{label:"Status",htmlFor:"status",children:(0,t.jsxs)(P.Select,{onValueChange:e=>ep("status",e),value:G.status||"active",children:[(0,t.jsx)(P.SelectTrigger,{id:"status",children:(0,t.jsx)(P.SelectValue,{})}),(0,t.jsxs)(P.SelectContent,{children:[(0,t.jsx)(P.SelectItem,{value:"active",children:"Active"}),(0,t.jsx)(P.SelectItem,{value:"inactive",children:"Inactive"})]})]})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(D.StandardFormField,{label:"Email",htmlFor:"email",children:(0,t.jsx)(I.Input,{id:"email",onChange:e=>ep("email",e.target.value),type:"email",value:G.email||""})}),(0,t.jsx)(D.StandardFormField,{label:"Phone",htmlFor:"phone",children:(0,t.jsx)(I.Input,{id:"phone",onChange:e=>ep("phone",e.target.value),type:"tel",value:G.phone||""})}),(0,t.jsx)(D.StandardFormField,{label:"Secondary Phone",htmlFor:"secondary_phone",children:(0,t.jsx)(I.Input,{id:"secondary_phone",onChange:e=>ep("secondary_phone",e.target.value),type:"tel",value:G.secondary_phone||""})}),(0,t.jsx)(D.StandardFormField,{label:"Website",htmlFor:"website",children:(0,t.jsx)(I.Input,{id:"website",onChange:e=>ep("website",e.target.value),type:"url",value:G.website||""})})]})]}),(0,t.jsxs)("div",{className:"space-y-4 border-t pt-6",children:[(0,t.jsx)("h3",{className:"font-medium",children:"Address"}),(0,t.jsxs)(D.StandardFormRow,{cols:2,children:[(0,t.jsx)(D.StandardFormField,{label:"Street Address",htmlFor:"address",children:(0,t.jsx)(I.Input,{id:"address",onChange:e=>ep("address",e.target.value),value:G.address||""})}),(0,t.jsx)(D.StandardFormField,{label:"Address Line 2",htmlFor:"address2",children:(0,t.jsx)(I.Input,{id:"address2",onChange:e=>ep("address2",e.target.value),value:G.address2||""})}),(0,t.jsx)(D.StandardFormField,{label:"City",htmlFor:"city",children:(0,t.jsx)(I.Input,{id:"city",onChange:e=>ep("city",e.target.value),value:G.city||""})}),(0,t.jsx)(D.StandardFormField,{label:"State",htmlFor:"state",children:(0,t.jsx)(I.Input,{id:"state",onChange:e=>ep("state",e.target.value),value:G.state||""})}),(0,t.jsx)(D.StandardFormField,{label:"ZIP Code",htmlFor:"zip_code",children:(0,t.jsx)(I.Input,{id:"zip_code",onChange:e=>ep("zip_code",e.target.value),value:G.zip_code||""})}),(0,t.jsx)(D.StandardFormField,{label:"Country",htmlFor:"country",children:(0,t.jsx)(I.Input,{id:"country",onChange:e=>ep("country",e.target.value),value:G.country||"USA"})})]})]}),(0,t.jsxs)("div",{className:"space-y-4 border-t pt-6",children:[(0,t.jsx)("h3",{className:"font-medium",children:"Business Information"}),(0,t.jsxs)(D.StandardFormRow,{cols:2,children:[(0,t.jsx)(D.StandardFormField,{label:"Tax ID",htmlFor:"tax_id",children:(0,t.jsx)(I.Input,{id:"tax_id",onChange:e=>ep("tax_id",e.target.value),value:G.tax_id||""})}),(0,t.jsx)(D.StandardFormField,{label:"Payment Terms",htmlFor:"payment_terms",children:(0,t.jsxs)(P.Select,{onValueChange:e=>ep("payment_terms",e),value:G.payment_terms||"net_30",children:[(0,t.jsx)(P.SelectTrigger,{id:"payment_terms",children:(0,t.jsx)(P.SelectValue,{})}),(0,t.jsxs)(P.SelectContent,{children:[(0,t.jsx)(P.SelectItem,{value:"net_15",children:"Net 15"}),(0,t.jsx)(P.SelectItem,{value:"net_30",children:"Net 30"}),(0,t.jsx)(P.SelectItem,{value:"net_60",children:"Net 60"}),(0,t.jsx)(P.SelectItem,{value:"due_on_receipt",children:"Due on Receipt"}),(0,t.jsx)(P.SelectItem,{value:"custom",children:"Custom"})]})]})}),(0,t.jsx)(D.StandardFormField,{label:"Credit Limit",htmlFor:"credit_limit",children:(0,t.jsx)(I.Input,{id:"credit_limit",min:"0",onChange:e=>ep("credit_limit",Math.round(100*Number.parseFloat(e.target.value||"0"))),step:"0.01",type:"number",value:((G.credit_limit||0)/100).toFixed(2)})}),(0,t.jsx)(D.StandardFormField,{label:"Preferred Payment Method",htmlFor:"preferred_payment_method",children:(0,t.jsxs)(P.Select,{onValueChange:e=>ep("preferred_payment_method",e),value:G.preferred_payment_method||"",children:[(0,t.jsx)(P.SelectTrigger,{id:"preferred_payment_method",children:(0,t.jsx)(P.SelectValue,{placeholder:"Select method"})}),(0,t.jsxs)(P.SelectContent,{children:[(0,t.jsx)(P.SelectItem,{value:"check",children:"Check"}),(0,t.jsx)(P.SelectItem,{value:"ach",children:"ACH"}),(0,t.jsx)(P.SelectItem,{value:"credit_card",children:"Credit Card"}),(0,t.jsx)(P.SelectItem,{value:"wire",children:"Wire Transfer"})]})]})})]})]}),(0,t.jsxs)("div",{className:"space-y-4 border-t pt-6",children:[(0,t.jsx)(D.StandardFormField,{label:"Notes",htmlFor:"notes",description:"Customer-facing notes",children:(0,t.jsx)(T.Textarea,{id:"notes",onChange:e=>ep("notes",e.target.value),placeholder:"Customer-facing notes...",rows:3,value:G.notes||""})}),(0,t.jsx)(D.StandardFormField,{label:"Internal Notes",htmlFor:"internal_notes",description:"Private team notes",children:(0,t.jsx)(T.Textarea,{id:"internal_notes",onChange:e=>ep("internal_notes",e.target.value),placeholder:"Private team notes...",rows:3,value:G.internal_notes||""})})]}),W&&(0,t.jsx)("div",{className:"flex items-center justify-end gap-2 border-t pt-6",children:(0,t.jsx)(w.Button,{disabled:J,onClick:eg,size:"sm",children:J?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.Save,{className:"mr-2 size-4 animate-pulse"}),"Saving..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.Save,{className:"mr-2 size-4"}),"Save Changes (⌘S)"]})})})]})},{id:"purchase-orders",title:"Purchase Orders",icon:(0,t.jsx)(o.Receipt,{className:"size-4"}),count:V.length,actions:(0,t.jsxs)(w.Button,{onClick:()=>Y(!0),size:"sm",variant:"outline",children:[(0,t.jsx)(c.Plus,{className:"mr-2 size-3.5"}),"Link PO"]}),content:(0,t.jsx)("div",{className:"space-y-4 p-6",children:0===V.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,t.jsx)(o.Receipt,{className:"text-muted-foreground mb-4 size-12"}),(0,t.jsx)("p",{className:"text-muted-foreground text-sm",children:"No purchase orders yet"}),(0,t.jsx)(w.Button,{asChild:!0,className:"mt-4",size:"sm",variant:"outline",children:(0,t.jsx)(p.default,{href:`/dashboard/work/purchase-orders/new?vendorId=${G.id}`,children:"Create Purchase Order"})})]}):(0,t.jsx)("div",{className:"space-y-3",children:V.map(e=>(0,t.jsx)(p.default,{className:"hover:bg-muted/50 block rounded-lg border p-4 transition-colors",href:`/dashboard/work/purchase-orders/${e.id}`,children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("p",{className:"font-medium",children:e.po_number}),(0,t.jsx)(S.Badge,{variant:"outline",children:e.status})]}),(0,t.jsx)("p",{className:"text-muted-foreground text-sm",children:e.title}),e.expected_delivery&&(0,t.jsxs)("p",{className:"text-muted-foreground text-xs",children:["Expected: ",(0,L.formatDate)(e.expected_delivery)]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"font-medium",children:(0,L.formatCurrency)(e.total_amount)}),(0,t.jsx)("p",{className:"text-muted-foreground text-xs",children:(0,L.formatDate)(e.created_at)})]})]})},e.id))})})},{id:"performance",title:"Performance Metrics",icon:(0,t.jsx)(h.TrendingUp,{className:"size-4"}),content:(0,t.jsxs)("div",{className:"grid gap-4 p-6 md:grid-cols-2 lg:grid-cols-3",children:[(0,t.jsxs)(F.Card,{children:[(0,t.jsx)(F.CardHeader,{className:"pb-3",children:(0,t.jsx)(F.CardTitle,{className:"text-sm",children:"Total Spend"})}),(0,t.jsxs)(F.CardContent,{children:[(0,t.jsx)("p",{className:"text-2xl font-bold",children:(0,L.formatCurrency)(ev)}),(0,t.jsx)("p",{className:"text-muted-foreground text-xs",children:"All-time"})]})]}),(0,t.jsxs)(F.Card,{children:[(0,t.jsx)(F.CardHeader,{className:"pb-3",children:(0,t.jsx)(F.CardTitle,{className:"text-sm",children:"Open POs"})}),(0,t.jsxs)(F.CardContent,{children:[(0,t.jsx)("p",{className:"text-2xl font-bold",children:ef}),(0,t.jsxs)("p",{className:"text-muted-foreground text-xs",children:[(0,L.formatCurrency)(eN)," value"]})]})]}),(0,t.jsxs)(F.Card,{children:[(0,t.jsx)(F.CardHeader,{className:"pb-3",children:(0,t.jsx)(F.CardTitle,{className:"text-sm",children:"Avg Order Value"})}),(0,t.jsxs)(F.CardContent,{children:[(0,t.jsx)("p",{className:"text-2xl font-bold",children:(0,L.formatCurrency)(ey)}),(0,t.jsx)("p",{className:"text-muted-foreground text-xs",children:"Per purchase order"})]})]}),(0,t.jsxs)(F.Card,{children:[(0,t.jsx)(F.CardHeader,{className:"pb-3",children:(0,t.jsx)(F.CardTitle,{className:"text-sm",children:"Last Order"})}),(0,t.jsxs)(F.CardContent,{children:[(0,t.jsx)("p",{className:"text-2xl font-bold",children:N.lastOrderDate?(0,L.formatDate)(N.lastOrderDate,{preset:"short"}):"Never"}),(0,t.jsx)("p",{className:"text-muted-foreground text-xs",children:"Most recent PO"})]})]}),(0,t.jsxs)(F.Card,{children:[(0,t.jsx)(F.CardHeader,{className:"pb-3",children:(0,t.jsx)(F.CardTitle,{className:"text-sm",children:"On-Time Delivery"})}),(0,t.jsxs)(F.CardContent,{children:[(0,t.jsxs)("p",{className:"text-2xl font-bold",children:[eb,"%"]}),(0,t.jsx)("p",{className:"text-muted-foreground text-xs",children:"Delivery performance"})]})]}),(0,t.jsxs)(F.Card,{children:[(0,t.jsx)(F.CardHeader,{className:"pb-3",children:(0,t.jsx)(F.CardTitle,{className:"text-sm",children:"Orders (12mo)"})}),(0,t.jsxs)(F.CardContent,{children:[(0,t.jsx)("p",{className:"text-2xl font-bold",children:V.length}),(0,t.jsx)("p",{className:"text-muted-foreground text-xs",children:"Last 12 months"})]})]})]})},{id:"related-jobs",title:"Related Jobs",icon:(0,t.jsx)(x.ShoppingCart,{className:"size-4"}),count:M.length,content:(0,t.jsx)("div",{className:"space-y-4 p-6",children:0===M.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,t.jsx)(x.ShoppingCart,{className:"text-muted-foreground mb-4 size-12"}),(0,t.jsx)("p",{className:"text-muted-foreground text-sm",children:"No jobs linked to this vendor yet"})]}):(0,t.jsx)("div",{className:"space-y-3",children:M.map(e=>(0,t.jsx)(p.default,{className:"hover:bg-muted/50 block rounded-lg border p-4 transition-colors",href:`/dashboard/work/${e.id}`,children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("p",{className:"font-medium",children:e.job_number}),(0,t.jsx)(S.Badge,{variant:"outline",children:e.status})]}),(0,t.jsx)("p",{className:"text-muted-foreground text-sm",children:e.title})]}),(0,t.jsx)("p",{className:"text-muted-foreground text-xs",children:(0,L.formatDate)(e.created_at)})]})},e.id))})})},{id:"contacts",title:"Contacts",icon:(0,t.jsx)(u.User,{className:"size-4"}),count:E.length,actions:(0,t.jsxs)(w.Button,{onClick:()=>et(!0),size:"sm",variant:"outline",children:[(0,t.jsx)(c.Plus,{className:"mr-2 size-3.5"}),"Link Contact"]}),content:(0,t.jsx)("div",{className:"space-y-4 p-6",children:0===E.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,t.jsx)(u.User,{className:"text-muted-foreground mb-4 size-12"}),(0,t.jsx)("p",{className:"text-muted-foreground text-sm",children:"No contacts added yet"}),(0,t.jsx)(w.Button,{className:"mt-4",size:"sm",variant:"outline",children:"Add Contact"})]}):(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:E.map(e=>(0,t.jsxs)(F.Card,{children:[(0,t.jsxs)(F.CardHeader,{className:"pb-3",children:[(0,t.jsxs)(F.CardTitle,{className:"text-base",children:[e.first_name," ",e.last_name]}),e.title&&(0,t.jsx)("p",{className:"text-muted-foreground text-sm",children:e.title})]}),(0,t.jsxs)(F.CardContent,{className:"space-y-2",children:[e.email&&(0,t.jsxs)("a",{className:"text-primary flex items-center gap-2 text-sm hover:underline",href:`mailto:${e.email}`,children:[(0,t.jsx)(l.Mail,{className:"size-3"}),e.email]}),e.phone&&(0,t.jsxs)("a",{className:"text-primary flex items-center gap-2 text-sm hover:underline",href:`tel:${e.phone}`,children:[(0,t.jsx)(i.Phone,{className:"size-3"}),e.phone]})]})]},e.id))})})},{id:"notes",title:"Notes",icon:(0,t.jsx)(r.FileText,{className:"size-4"}),count:R.length,actions:(0,t.jsxs)(w.Button,{onClick:()=>ea(!0),size:"sm",variant:"outline",children:[(0,t.jsx)(c.Plus,{className:"mr-2 size-3.5"}),"Add Note"]}),content:(0,t.jsx)("div",{className:"space-y-4 p-6",children:0===R.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,t.jsx)(r.FileText,{className:"text-muted-foreground mb-4 size-12"}),(0,t.jsx)("p",{className:"text-muted-foreground text-sm",children:"No notes yet"})]}):(0,t.jsx)("div",{className:"space-y-3",children:R.map(e=>(0,t.jsxs)("div",{className:"rounded-lg border p-4",children:[(0,t.jsx)("p",{className:"text-sm",children:e.content}),(0,t.jsx)("p",{className:"text-muted-foreground mt-2 text-xs",children:(0,L.formatDate)(e.created_at)})]},e.id))})})},{id:"attachments",title:"Attachments",icon:(0,t.jsx)(d.Paperclip,{className:"size-4"}),count:H.length,actions:(0,t.jsxs)(w.Button,{onClick:()=>en(!0),size:"sm",variant:"outline",children:[(0,t.jsx)(c.Plus,{className:"mr-2 size-3.5"}),"Upload"]}),content:(0,t.jsx)("div",{className:"space-y-4 p-6",children:0===H.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,t.jsx)(d.Paperclip,{className:"text-muted-foreground mb-4 size-12"}),(0,t.jsx)("p",{className:"text-muted-foreground text-sm",children:"No attachments yet"})]}):(0,t.jsx)("div",{className:"space-y-3",children:H.map(e=>(0,t.jsxs)("div",{className:"rounded-lg border p-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:e.filename}),(0,t.jsx)("p",{className:"text-muted-foreground text-xs",children:(0,L.formatDate)(e.created_at)})]},e.id))})})},{id:"activity-log",title:"Activity Log",icon:(0,t.jsx)(s.Activity,{className:"size-4"}),count:U.length,content:(0,t.jsx)("div",{className:"space-y-4 p-6",children:0===U.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[(0,t.jsx)(s.Activity,{className:"text-muted-foreground mb-4 size-12"}),(0,t.jsx)("p",{className:"text-muted-foreground text-sm",children:"No activity yet"})]}):(0,t.jsx)("div",{className:"space-y-3",children:U.map(e=>(0,t.jsxs)("div",{className:"rounded-lg border p-4",children:[(0,t.jsx)("p",{className:"text-sm",children:e.action}),(0,t.jsx)("p",{className:"text-muted-foreground text-xs",children:(0,L.formatDate)(e.created_at)})]},e.id))})})}];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(C.DetailPageContentLayout,{customHeader:(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:G.display_name||G.name}),(0,t.jsx)(S.Badge,{variant:"active"===G.status?"default":"secondary",children:G.status})]}),(0,t.jsxs)("p",{className:"text-muted-foreground",children:[G.vendor_number," • ",G.category||"Vendor"]}),(0,t.jsx)(_.EntityTags,{entityId:G.id,entityType:"vendor",onUpdateTags:eu,tags:ex})]})}),customSections:eC,defaultOpenSection:"vendor-info",showStandardSections:{activities:!1,notes:!1,attachments:!1,relatedItems:!1},storageKey:"vendor-details"}),(0,t.jsxs)(k.CommandDialog,{onOpenChange:Y,open:X,children:[(0,t.jsx)(k.CommandInput,{onValueChange:ed,placeholder:"Search purchase orders by number, title, or amount...",value:el}),(0,t.jsxs)(k.CommandList,{children:[(0,t.jsx)(k.CommandEmpty,{children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-3 py-6",children:[(0,t.jsx)(o.Receipt,{className:"text-muted-foreground size-12"}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"No purchase orders found"}),(0,t.jsx)("p",{className:"text-muted-foreground text-xs",children:"Try a different search or create a new one"})]})]})}),(0,t.jsx)(k.CommandGroup,{heading:"Quick Actions",children:(0,t.jsx)(k.CommandItem,{asChild:!0,className:"p-0 hover:bg-transparent data-[selected=true]:bg-transparent",children:(0,t.jsxs)(p.default,{className:"flex w-full cursor-pointer items-center gap-3 rounded-2xl border border-emerald-500/30 bg-emerald-500/12 p-4 shadow-[0_12px_40px_rgba(0,0,0,0.35)] ring-1 ring-emerald-500/40 transition-all hover:border-emerald-500/60 hover:bg-emerald-500/18",href:`/dashboard/work/purchase-orders/new?vendorId=${G.id}`,onClick:()=>Y(!1),children:[(0,t.jsx)("div",{className:"flex size-9 shrink-0 items-center justify-center rounded-xl bg-emerald-500 shadow-lg shadow-emerald-500/40",children:(0,t.jsx)(c.Plus,{className:"size-4 text-white"})}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-sm font-semibold text-emerald-100",children:"Create New Purchase Order"}),(0,t.jsx)("span",{className:"text-xs text-emerald-100/70",children:"Start a new PO for this vendor"})]})]})})}),$.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(k.CommandSeparator,{}),(0,t.jsx)(k.CommandGroup,{heading:`Available Purchase Orders (${$.filter(e=>!el||e.po_number?.toLowerCase().includes(el.toLowerCase())||e.title?.toLowerCase().includes(el.toLowerCase())).length})`,children:$.filter(e=>!el||e.po_number?.toLowerCase().includes(el.toLowerCase())||e.title?.toLowerCase().includes(el.toLowerCase())).slice(0,8).map(e=>{let s={draft:"bg-slate-100 text-slate-700 dark:bg-slate-800 dark:text-slate-300",pending_approval:"bg-amber-100 text-amber-700 dark:bg-amber-900/30 dark:text-amber-400",approved:"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400",ordered:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",partially_received:"bg-violet-100 text-violet-700 dark:bg-violet-900/30 dark:text-violet-400"};return(0,t.jsx)(k.CommandItem,{className:"px-2 py-3",disabled:eo,onSelect:()=>ej(e.id),children:(0,t.jsxs)("div",{className:"flex w-full items-start gap-3",children:[(0,t.jsx)("div",{className:"flex size-10 shrink-0 items-center justify-center rounded-lg bg-gradient-to-br from-slate-100 to-slate-200 shadow-sm dark:from-slate-800 dark:to-slate-900",children:(0,t.jsx)(o.Receipt,{className:"size-5 text-slate-600 dark:text-slate-400"})}),(0,t.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col gap-1.5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"truncate text-sm leading-none font-semibold",children:e.po_number||e.title||"Untitled"}),(0,t.jsx)(S.Badge,{className:`shrink-0 px-2 py-0.5 text-[10px] leading-none font-medium ${s[e.status]||s.draft}`,variant:"outline",children:e.status?.replace(/_/g," ")})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-foreground text-sm font-semibold tabular-nums",children:(0,L.formatCurrency)(e.total_amount||0)}),(0,t.jsx)("span",{className:"text-muted-foreground",children:"•"}),(0,t.jsx)("span",{className:"text-muted-foreground text-xs",children:(0,L.formatDate)(e.created_at,{preset:"short"})})]})]}),(0,t.jsx)("div",{className:"text-muted-foreground flex shrink-0 items-center gap-1.5",children:(0,t.jsx)(n.Link2,{className:"size-4"})})]})},e.id)})})]})]})]}),(0,t.jsxs)(k.CommandDialog,{onOpenChange:et,open:ee,children:[(0,t.jsx)(k.CommandInput,{onValueChange:ec,placeholder:"Search contacts by name, email, or company...",value:ei}),(0,t.jsxs)(k.CommandList,{children:[(0,t.jsx)(k.CommandEmpty,{children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-3 py-6",children:[(0,t.jsx)(u.User,{className:"text-muted-foreground size-12"}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"No contacts found"}),(0,t.jsx)("p",{className:"text-muted-foreground text-xs",children:"Try a different search or create a new contact"})]})]})}),(0,t.jsx)(k.CommandGroup,{heading:"Quick Actions",children:(0,t.jsx)(k.CommandItem,{className:"p-0 hover:bg-transparent data-[selected=true]:bg-transparent",onSelect:()=>{v.toast.success("Contact creation coming soon"),et(!1)},children:(0,t.jsxs)("div",{className:"flex w-full cursor-pointer items-center gap-3 rounded-2xl border border-blue-500/30 bg-blue-500/12 p-4 shadow-[0_12px_40px_rgba(0,0,0,0.35)] ring-1 ring-blue-500/40 transition-all hover:border-blue-500/60 hover:bg-blue-500/18",children:[(0,t.jsx)("div",{className:"flex size-9 shrink-0 items-center justify-center rounded-xl bg-blue-500 shadow-lg shadow-blue-500/40",children:(0,t.jsx)(c.Plus,{className:"size-4 text-white"})}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-sm font-semibold text-blue-100",children:"Create New Contact"}),(0,t.jsx)("span",{className:"text-xs text-blue-100/70",children:"Add a new contact for this vendor"})]})]})})}),K.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(k.CommandSeparator,{}),(0,t.jsx)(k.CommandGroup,{heading:`Available Contacts (${K.filter(e=>!ei||e.name?.toLowerCase().includes(ei.toLowerCase())||e.email?.toLowerCase().includes(ei.toLowerCase())||e.company_name?.toLowerCase().includes(ei.toLowerCase())).length})`,children:K.filter(e=>!ei||e.name?.toLowerCase().includes(ei.toLowerCase())||e.email?.toLowerCase().includes(ei.toLowerCase())||e.company_name?.toLowerCase().includes(ei.toLowerCase())).slice(0,8).map(e=>(0,t.jsx)(k.CommandItem,{className:"px-2 py-3",onSelect:()=>{v.toast.success("Contact linking coming soon"),et(!1)},children:(0,t.jsxs)("div",{className:"flex w-full items-start gap-3",children:[(0,t.jsx)("div",{className:"flex size-10 shrink-0 items-center justify-center rounded-lg bg-gradient-to-br from-blue-100 to-blue-200 shadow-sm dark:from-blue-900/50 dark:to-blue-950",children:(0,t.jsx)(u.User,{className:"size-5 text-blue-600 dark:text-blue-400"})}),(0,t.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col gap-1.5",children:[(0,t.jsx)("span",{className:"truncate text-sm leading-none font-semibold",children:e.name}),(e.title||e.company_name)&&(0,t.jsxs)("div",{className:"text-muted-foreground flex items-center gap-1.5 text-xs",children:[e.title&&(0,t.jsx)("span",{className:"font-medium",children:e.title}),e.title&&e.company_name&&(0,t.jsx)("span",{children:"•"}),e.company_name&&(0,t.jsx)("span",{children:e.company_name})]}),e.email&&(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(l.Mail,{className:"text-muted-foreground size-3"}),(0,t.jsx)("span",{className:"text-muted-foreground truncate text-xs",children:e.email})]}),e.phone&&(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(i.Phone,{className:"text-muted-foreground size-3"}),(0,t.jsx)("span",{className:"text-muted-foreground text-xs",children:e.phone})]})]}),(0,t.jsx)("div",{className:"text-muted-foreground flex shrink-0 items-center gap-1.5",children:(0,t.jsx)(n.Link2,{className:"size-4"})})]})},e.id))})]})]})]}),(0,t.jsx)(z.Dialog,{onOpenChange:ea,open:es,children:(0,t.jsxs)(z.DialogContent,{children:[(0,t.jsxs)(z.DialogHeader,{children:[(0,t.jsx)(z.DialogTitle,{children:"Add Note"}),(0,t.jsx)(z.DialogDescription,{children:"Add a note about this vendor for your team."})]}),(0,t.jsx)("div",{className:"space-y-4 py-4",children:(0,t.jsx)(T.Textarea,{placeholder:"Enter note content...",rows:4})}),(0,t.jsxs)(z.DialogFooter,{children:[(0,t.jsx)(w.Button,{onClick:()=>ea(!1),variant:"outline",children:"Cancel"}),(0,t.jsxs)(w.Button,{onClick:()=>{v.toast.success("Note functionality coming soon"),ea(!1)},children:[(0,t.jsx)(m.Save,{className:"mr-2 size-4"}),"Save Note"]})]})]})}),(0,t.jsx)(z.Dialog,{onOpenChange:en,open:er,children:(0,t.jsxs)(z.DialogContent,{children:[(0,t.jsxs)(z.DialogHeader,{children:[(0,t.jsx)(z.DialogTitle,{children:"Upload Attachment"}),(0,t.jsx)(z.DialogDescription,{children:"Upload documents, contracts, or files related to this vendor."})]}),(0,t.jsx)("div",{className:"space-y-4 py-4",children:(0,t.jsxs)("div",{className:"rounded-2xl border border-dashed border-white/15 bg-zinc-900/70 p-10 text-center shadow-inner shadow-black/40 transition-colors hover:border-white/25 hover:bg-zinc-900/80",children:[(0,t.jsx)(d.Paperclip,{className:"mx-auto mb-4 size-12 text-zinc-400"}),(0,t.jsx)("p",{className:"text-sm text-zinc-300",children:"Drag and drop files here or click to browse"})]})}),(0,t.jsxs)(z.DialogFooter,{children:[(0,t.jsx)(w.Button,{onClick:()=>en(!1),variant:"outline",children:"Cancel"}),(0,t.jsx)(w.Button,{onClick:()=>{v.toast.success("Upload functionality coming soon"),en(!1)},children:"Upload"})]})]})})]})}e.s(["VendorPageContent",()=>O],984886)}]);