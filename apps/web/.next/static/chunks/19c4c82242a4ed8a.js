(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,254851,e=>{"use strict";e.i(116233),e.s([])},526120,e=>{"use strict";e.i(116233),e.s([])},49791,e=>{"use strict";var t=e.i(399168),s=e.i(628140);let r=[],i={chats:[],activeChatId:null,isLoading:!1,error:null},a=(0,t.create)()((0,s.immer)((e,t)=>({...i,createChat:(s="New Chat")=>{let r,i=t();do r=`chat-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;while(i.chats.some(e=>e.id===r))return e(e=>{e.chats.push({id:r,title:s,createdAt:new Date,messages:[]}),e.activeChatId=r}),r},deleteChat:t=>{e(e=>{let s=e.chats.findIndex(e=>e.id===t);-1!==s&&e.chats.splice(s,1),e.activeChatId===t&&(e.activeChatId=e.chats[0]?.id??null)})},setActiveChat:t=>{e(e=>{e.activeChatId=t})},updateChatTitle:(t,s)=>{e(e=>{let r=e.chats.find(e=>e.id===t);r&&(r.title=s)})},cleanupDuplicateChats:()=>{e(e=>{let t=new Set,s=[];for(let r of e.chats)t.has(r.id)||(t.add(r.id),s.push(r));e.chats=s,e.activeChatId&&!s.some(t=>t.id===e.activeChatId)&&(e.activeChatId=s[0]?.id??null)})},addMessage:(t,s)=>{e(e=>{let r=e.chats.find(e=>e.id===t);r&&r.messages.push(s)})},updateMessage:(t,s,r)=>{e(e=>{let i=e.chats.find(e=>e.id===t);if(i){let e=i.messages.find(e=>e.id===s);e&&(e.content=r)}})},deleteMessage:(t,s)=>{e(e=>{let r=e.chats.find(e=>e.id===t);if(r){let e=r.messages.findIndex(e=>e.id===s);-1!==e&&r.messages.splice(e,1)}})},clearMessages:t=>{e(e=>{let s=e.chats.find(e=>e.id===t);s&&(s.messages=[])})},setLoading:t=>{e(e=>{e.isLoading=t})},setError:t=>{e(e=>{e.error=t})},getActiveChat:()=>{let e=t();return e.chats.find(t=>t.id===e.activeChatId)??null},getChatMessages:e=>{let s=t().chats.find(t=>t.id===e);return s?.messages??[]},reset:()=>{e(i)}})));e.s(["chatSelectors",0,{chats:e=>e.chats,activeChat:e=>e.chats.find(t=>t.id===e.activeChatId)??null,activeChatId:e=>e.activeChatId,messages:e=>{let t=e.chats.find(t=>t.id===e.activeChatId);return t?.messages??r},isLoading:e=>e.isLoading,error:e=>e.error},"useChatStore",0,a])},948962,e=>{"use strict";var t=e.i(399168),s=e.i(781403);let r={entries:[],isRecording:!1,currentSpeaker:null,searchQuery:"",filteredEntries:[]},i=(0,t.create)()((0,s.devtools)((e,t)=>({...r,addEntry:t=>{let s={...t,id:`transcript-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,timestamp:Date.now(),isAnalyzing:!1};e(e=>{let t=[...e.entries,s];return{entries:t,filteredEntries:e.searchQuery?t.filter(t=>t.text.toLowerCase().includes(e.searchQuery.toLowerCase())):t}})},updateEntry:(t,s)=>{e(e=>{let r=e.entries.map(e=>e.id===t?{...e,...s}:e);return{entries:r,filteredEntries:e.searchQuery?r.filter(t=>t.text.toLowerCase().includes(e.searchQuery.toLowerCase())):r}})},markAsAnalyzing:e=>{t().updateEntry(e,{isAnalyzing:!0})},markAsAnalyzed:(e,s)=>{t().updateEntry(e,{isAnalyzing:!1,aiExtracted:s})},setCurrentSpeaker:t=>e({currentSpeaker:t}),setSearchQuery:t=>{e(e=>({searchQuery:t,filteredEntries:t?e.entries.filter(e=>e.text.toLowerCase().includes(t.toLowerCase())):e.entries}))},startRecording:()=>e({isRecording:!0}),stopRecording:()=>e({isRecording:!1}),clearTranscript:()=>e(r),exportTranscript:()=>{let{entries:e}=t();return JSON.stringify(e.map(e=>({speaker:e.speaker,text:e.text,timestamp:new Date(e.timestamp).toISOString(),aiExtracted:e.aiExtracted})),null,2)},getFullTranscript:()=>{let{entries:e}=t();return e.map(e=>{let t=new Date(e.timestamp).toLocaleTimeString(),s="csr"===e.speaker?"CSR":"Customer";return`[${t}] ${s}: ${e.text}`}).join("\n")}}),{name:"TranscriptStore"}));e.s(["useTranscriptStore",0,i])},883351,e=>{"use strict";var t=e.i(399168),s=e.i(781403),r=e.i(628140);let i={posts:[],selectedPost:null,isLoading:!1,error:null,filters:{}},a=(0,t.create)()((0,s.devtools)((0,r.immer)((e,t)=>({...i,setPosts:t=>e(e=>{e.posts=t,e.isLoading=!1,e.error=null},!1,"setPosts"),addPost:t=>e(e=>{e.posts.unshift(t)},!1,"addPost"),updatePost:(t,s)=>e(e=>{let r=e.posts.findIndex(e=>e.id===t);-1!==r&&(e.posts[r]={...e.posts[r],...s}),e.selectedPost?.id===t&&(e.selectedPost={...e.selectedPost,...s})},!1,"updatePost"),deletePost:t=>e(e=>{e.posts=e.posts.filter(e=>e.id!==t),e.selectedPost?.id===t&&(e.selectedPost=null)},!1,"deletePost"),setSelectedPost:t=>e(e=>{e.selectedPost=t},!1,"setSelectedPost"),setLoading:t=>e(e=>{e.isLoading=t},!1,"setLoading"),setError:t=>e(e=>{e.error=t,e.isLoading=!1},!1,"setError"),setFilters:t=>e(e=>{e.filters={...e.filters,...t}},!1,"setFilters"),clearFilters:()=>e(e=>{e.filters={}},!1,"clearFilters"),getFilteredPosts:()=>{let{posts:e,filters:s}=t(),r=[...e];return void 0!==s.published&&(r=r.filter(e=>("true"===String(e.published).toLowerCase()||!0===e.published)===s.published)),s.authorId&&(r=r.filter(e=>e.authorId===s.authorId)),r},reset:()=>e(i,!1,"reset")})),{name:"PostsStore"}));e.s(["postsSelectors",0,{posts:e=>e.posts,selectedPost:e=>e.selectedPost,isLoading:e=>e.isLoading,error:e=>e.error,filters:e=>e.filters,publishedPosts:e=>e.posts.filter(e=>"true"===String(e.published).toLowerCase()||!0===e.published),draftPosts:e=>e.posts.filter(e=>"true"!==String(e.published).toLowerCase()&&!0!==e.published)},"usePostsStore",0,a])},418488,e=>{"use strict";e.i(539900),e.i(592270),e.s([])},237294,e=>{"use strict";var t=e.i(552038),s=(0,t.createServerReference)("6013add076e3eaed7dc37e8b800ce977d5abb8d49a",t.callServer,void 0,t.findSourceMapURL,"getCustomerByPhone");e.s(["getCustomerByPhone",()=>s])},173030,241736,e=>{"use strict";var t=e.i(552038),s=(0,t.createServerReference)("404e47931374ad2a1b54bc11f357703790f6104530",t.callServer,void 0,t.findSourceMapURL,"startCallRecording");e.s(["startCallRecording",()=>s],173030);var r=(0,t.createServerReference)("40d5cc291162e2fd61245bdb851d5e8ed609e4ed19",t.callServer,void 0,t.findSourceMapURL,"stopCallRecording");e.s(["stopCallRecording",()=>r],241736)},7107,e=>{"use strict";var t=e.i(399168),s=e.i(781403);let r={popoverWidth:800,position:"default",cards:[{id:"call-controls",isVisible:!0,isCollapsed:!1,order:0},{id:"transcript",isVisible:!0,isCollapsed:!1,order:1},{id:"ai-autofill",isVisible:!0,isCollapsed:!1,order:2},{id:"customer-info",isVisible:!0,isCollapsed:!1,order:3},{id:"quick-actions",isVisible:!0,isCollapsed:!1,order:4},{id:"ai-analysis",isVisible:!0,isCollapsed:!1,order:5},{id:"notes",isVisible:!0,isCollapsed:!1,order:6},{id:"disposition",isVisible:!0,isCollapsed:!1,order:7},{id:"call-scripts",isVisible:!1,isCollapsed:!0,order:8},{id:"transfer",isVisible:!1,isCollapsed:!0,order:9}],layoutMode:"comfortable",showAIConfidence:!0,autoSaveNotes:!0,keyboardShortcutsEnabled:!0},i=(0,t.create)()((0,s.devtools)((0,s.persist)((e,t)=>({...r,setPopoverWidth:t=>{e({popoverWidth:Math.max(420,Math.min(1400,t))})},setPosition:t=>{e({position:t})},resetPosition:()=>{e({position:"default"})},setCardVisibility:(t,s)=>{e(e=>({cards:e.cards.map(e=>e.id===t?{...e,isVisible:s}:e)}))},setCardCollapsed:(t,s)=>{e(e=>({cards:e.cards.map(e=>e.id===t?{...e,isCollapsed:s}:e)}))},setCardOrder:(t,s)=>{e(e=>{let r=[...e.cards],i=r.findIndex(e=>e.id===t);if(-1===i)return e;let[a]=r.splice(i,1);return a.order=s,{cards:[...r.slice(0,s),a,...r.slice(s)].map((e,t)=>({...e,order:t}))}})},reorderCards:t=>{e(e=>({cards:e.cards.map(e=>{let s=t.indexOf(e.id);return -1!==s?{...e,order:s}:e}).sort((e,t)=>e.order-t.order)}))},toggleCard:t=>{e(e=>({cards:e.cards.map(e=>e.id===t?{...e,isCollapsed:!e.isCollapsed}:e)}))},setLayoutMode:t=>e({layoutMode:t}),setShowAIConfidence:t=>e({showAIConfidence:t}),setAutoSaveNotes:t=>e({autoSaveNotes:t}),setKeyboardShortcutsEnabled:t=>e({keyboardShortcutsEnabled:t}),resetToDefaults:()=>e(r),getVisibleCards:()=>{let{cards:e}=t();return e.filter(e=>e.isVisible).sort((e,t)=>e.order-t.order)}}),{name:"call-preferences-storage",partialize:e=>({popoverWidth:e.popoverWidth,position:e.position,cards:e.cards,layoutMode:e.layoutMode,showAIConfidence:e.showAIConfidence,autoSaveNotes:e.autoSaveNotes,keyboardShortcutsEnabled:e.keyboardShortcutsEnabled}),skipHydration:!0}),{name:"CallPreferencesStore"}));e.s(["useCallPreferencesStore",0,i])},146481,e=>{e.v(t=>Promise.all(["static/chunks/8c6ba01d2650c332.js","static/chunks/5d8b007b9e3ed0e3.js"].map(t=>e.l(t))).then(()=>t(77157)))},323616,e=>{e.v(t=>Promise.all(["static/chunks/e80c0f18ce207a50.js"].map(t=>e.l(t))).then(()=>t(586437)))},420165,e=>{e.v(t=>Promise.all(["static/chunks/6d598156d4a664d8.js"].map(t=>e.l(t))).then(()=>t(600539)))},416432,e=>{e.v(t=>Promise.all(["static/chunks/155bd80b7b15c07c.js"].map(t=>e.l(t))).then(()=>t(594306)))},309695,e=>{e.v(t=>Promise.all(["static/chunks/b0e87a8d2101ef01.js"].map(t=>e.l(t))).then(()=>t(88298)))},409020,e=>{e.v(t=>Promise.all(["static/chunks/be4f061917bb779e.js"].map(t=>e.l(t))).then(()=>t(584105)))},396931,e=>{e.v(e=>Promise.resolve().then(()=>e(830891)))}]);