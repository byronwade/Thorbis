(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,606892,e=>{"use strict";var s=e.i(111043),t=e.i(276389),a=e.i(852648),r=e.i(136764),i=e.i(982686),n=e.i(606661),l=e.i(747146),c=e.i(939397),d=e.i(287268),o=e.i(202724);e.i(254851);var m=e.i(605278),x=e.i(152088),u=e.i(8392);e.i(794747);var h=e.i(513990);function g({tooltip:e}){return(0,s.jsx)(h.TooltipProvider,{children:(0,s.jsxs)(h.Tooltip,{children:[(0,s.jsx)(h.TooltipTrigger,{asChild:!0,children:(0,s.jsx)(u.Info,{className:"text-muted-foreground hover:text-foreground size-3.5 cursor-help transition-colors"})}),(0,s.jsx)(h.TooltipContent,{className:"max-w-xs",children:(0,s.jsx)("p",{className:"text-xs",children:e})})]})})}function p({title:e,value:t,change:a,changeType:r="neutral",icon:i,description:n,tooltip:l}){return(0,s.jsxs)(m.Card,{className:"transition-all duration-200 hover:shadow-md",children:[(0,s.jsxs)(m.CardHeader,{className:"flex flex-row items-center justify-between space-y-0 pb-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(m.CardTitle,{className:"text-muted-foreground text-sm font-medium",children:e}),l&&(0,s.jsx)(g,{tooltip:l})]}),(0,s.jsx)("div",{className:"bg-muted/50 flex size-9 items-center justify-center rounded-lg",children:(0,s.jsx)(i,{className:"text-muted-foreground size-4"})})]}),(0,s.jsxs)(m.CardContent,{className:"space-y-2",children:[(0,s.jsx)("div",{className:"text-3xl font-bold tracking-tight",children:t}),(0,s.jsxs)("div",{className:"flex flex-col gap-0.5",children:[a&&(0,s.jsx)("p",{className:(0,x.cn)("text-xs font-medium","positive"===r&&"text-success dark:text-success","negative"===r&&"text-destructive dark:text-destructive","neutral"===r&&"text-muted-foreground","warning"===r&&"text-warning dark:text-warning"),children:a}),n&&(0,s.jsx)("p",{className:"text-muted-foreground text-xs",children:n})]})]})]})}function j({tooltip:e}){return(0,s.jsx)(h.TooltipProvider,{children:(0,s.jsxs)(h.Tooltip,{children:[(0,s.jsx)(h.TooltipTrigger,{children:(0,s.jsx)(u.Info,{className:"text-muted-foreground size-4"})}),(0,s.jsx)(h.TooltipContent,{className:"max-w-xs",children:(0,s.jsx)("p",{children:e})})]})})}function f({title:e,description:t,tooltip:a}){return(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:e}),t&&(0,s.jsx)("p",{className:"text-muted-foreground text-sm",children:t})]}),a&&(0,s.jsx)(j,{tooltip:a})]})}e.i(553153);var v=e.i(363712);e.i(889265);var N=e.i(677607);e.i(51478);var b=e.i(635613);function y(){let e=new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold tracking-tight",children:"Customer Service Hub"}),(0,s.jsx)(v.Badge,{className:"text-accent-foreground",variant:"outline",children:"CSR View"}),(0,s.jsxs)("div",{className:"border-border bg-muted/30 flex items-center gap-2 rounded-full border px-3 py-1",children:[(0,s.jsx)("div",{className:"bg-success size-2 animate-pulse rounded-full"}),(0,s.jsx)("span",{className:"text-muted-foreground text-xs font-medium",children:"Available"})]})]}),(0,s.jsx)("p",{className:"text-muted-foreground text-lg",children:e})]}),(0,s.jsx)(m.Card,{className:"border-primary bg-primary dark:border-primary dark:bg-primary/30",children:(0,s.jsx)(m.CardContent,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(d.Search,{className:"text-primary size-6"}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsx)(b.Input,{className:"h-12",placeholder:"Search customers by name, phone, or address...",type:"search"})}),(0,s.jsx)(N.Button,{size:"lg",children:"Search"}),(0,s.jsx)(N.Button,{size:"lg",variant:"outline",children:"New Customer"})]})})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,s.jsx)(p,{change:"88 total today",changeType:"positive",description:"Industry avg: 60-70%",icon:c.Phone,title:"Booking Rate",tooltip:"Percentage of inbound calls that were converted into scheduled appointments",value:"73.9%"}),(0,s.jsx)(p,{change:"12 booked from calls",changeType:"positive",icon:t.Calendar,title:"Appointments Today",tooltip:"Total number of appointments scheduled for today across all technicians",value:"15"}),(0,s.jsx)(p,{change:"Avg response: 18 sec",changeType:"positive",icon:r.Clock,title:"Calls Answered",tooltip:"Number of inbound customer calls you've handled today",value:"43"}),(0,s.jsx)(p,{change:"12 pending follow-ups",changeType:"neutral",icon:i.DollarSign,title:"Estimates Sent",tooltip:"Number of price quotes sent to customers today",value:"8"})]}),(0,s.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(f,{description:"Customers waiting for callback",title:"Call Queue",tooltip:"List of customers who requested callbacks or need follow-up calls"}),(0,s.jsx)(m.Card,{children:(0,s.jsxs)(m.CardContent,{className:"space-y-3 pt-6",children:[(0,s.jsxs)("div",{className:"border-destructive bg-destructive dark:border-destructive dark:bg-destructive/30 flex items-start gap-3 rounded-lg border-2 p-3",children:[(0,s.jsx)("div",{className:"bg-destructive flex size-10 flex-shrink-0 items-center justify-center rounded-full",children:(0,s.jsx)(c.Phone,{className:"size-5 text-white"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(v.Badge,{variant:"destructive",children:"URGENT"}),(0,s.jsx)("p",{className:"mt-1 text-sm font-bold",children:"Sarah Johnson"}),(0,s.jsx)("p",{className:"text-muted-foreground text-xs",children:"+1 (555) 123-4567 • Requested callback 2 hours ago"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-1 text-xs",children:"Reason: Emergency - No hot water"})]}),(0,s.jsx)(N.Button,{size:"sm",variant:"destructive",children:"Call Now"})]}),[{name:"Mike Davis",phone:"+1 (555) 234-5678",reason:"Quote ready for review",time:"45 min ago"},{name:"Lisa Chen",phone:"+1 (555) 345-6789",reason:"Schedule maintenance",time:"1 hour ago"},{name:"Tom Wilson",phone:"+1 (555) 456-7890",reason:"Parts arrived - reschedule",time:"2 hours ago"}].map((e,t)=>(0,s.jsxs)("div",{className:"bg-card flex items-start gap-3 rounded-lg border p-3",children:[(0,s.jsx)("div",{className:"bg-primary/10 flex size-10 flex-shrink-0 items-center justify-center rounded-full",children:(0,s.jsx)(c.Phone,{className:"text-primary size-5"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(v.Badge,{variant:"outline",children:"Pending"}),(0,s.jsx)("p",{className:"mt-1 text-sm font-bold",children:e.name}),(0,s.jsx)("p",{className:"text-muted-foreground text-xs",children:e.phone}),(0,s.jsxs)("p",{className:"text-muted-foreground mt-1 text-xs",children:[e.reason," • ",e.time]})]}),(0,s.jsx)(N.Button,{size:"sm",variant:"outline",children:"Call"})]},t))]})})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(f,{description:"Quotes waiting for customer approval",title:"Estimate Pipeline",tooltip:"Track estimates from creation to conversion"}),(0,s.jsx)(m.Card,{children:(0,s.jsxs)(m.CardContent,{className:"space-y-3 pt-6",children:[(0,s.jsxs)("div",{className:"border-success bg-success dark:border-success dark:bg-success/30 flex items-start gap-3 rounded-lg border p-3",children:[(0,s.jsx)("div",{className:"bg-success flex size-10 flex-shrink-0 items-center justify-center rounded-full",children:(0,s.jsx)(i.DollarSign,{className:"size-5 text-white"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(v.Badge,{className:"border-success text-success",variant:"outline",children:"High Value"}),(0,s.jsx)("p",{className:"mt-1 text-sm font-bold",children:"HVAC System Replacement"}),(0,s.jsx)("p",{className:"text-muted-foreground text-xs",children:"Bob Anderson • Sent 2 days ago"}),(0,s.jsx)("p",{className:"text-success mt-1 text-sm font-bold",children:"$8,500"})]}),(0,s.jsx)(N.Button,{size:"sm",variant:"outline",children:"Follow Up"})]}),[{service:"Water Heater Replacement",customer:"Emily Rogers",amount:"$1,200",age:"3 days"},{service:"AC Maintenance Plan",customer:"James Park",amount:"$450",age:"5 days"},{service:"Drain Line Repair",customer:"Maria Garcia",amount:"$680",age:"1 week"}].map((e,t)=>(0,s.jsxs)("div",{className:"bg-card flex items-start gap-3 rounded-lg border p-3",children:[(0,s.jsx)("div",{className:"bg-primary/10 flex size-10 flex-shrink-0 items-center justify-center rounded-full",children:(0,s.jsx)(n.FileText,{className:"text-primary size-5"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(v.Badge,{variant:"outline",children:"Pending"}),(0,s.jsx)("p",{className:"mt-1 text-sm font-bold",children:e.service}),(0,s.jsxs)("p",{className:"text-muted-foreground text-xs",children:[e.customer," • Sent ",e.age," ago"]}),(0,s.jsx)("p",{className:"mt-1 text-sm font-bold",children:e.amount})]}),(0,s.jsx)(N.Button,{size:"sm",variant:"outline",children:"Follow Up"})]},t))]})})]})]}),(0,s.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(f,{description:"Appointments scheduled for today",title:"Today's Bookings",tooltip:"All appointments you've scheduled for today"}),(0,s.jsx)(m.Card,{children:(0,s.jsx)(m.CardContent,{className:"space-y-3 pt-6",children:[{time:"9:00 AM",customer:"Sarah Johnson",service:"AC Repair",tech:"John Smith",status:"Confirmed"},{time:"11:00 AM",customer:"Mike Davis",service:"Water Heater",tech:"Dave Wilson",status:"Confirmed"},{time:"2:00 PM",customer:"Lisa Chen",service:"Furnace Check",tech:"Sarah Lee",status:"Pending"},{time:"4:00 PM",customer:"Tom Wilson",service:"Drain Cleaning",tech:"Mike Rodriguez",status:"Confirmed"}].map((e,a)=>(0,s.jsxs)("div",{className:"bg-card flex items-start gap-3 rounded-lg border p-3",children:[(0,s.jsx)("div",{className:"bg-primary/10 flex size-10 flex-shrink-0 items-center justify-center rounded-full",children:(0,s.jsx)(t.Calendar,{className:"text-primary size-5"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(v.Badge,{variant:"Confirmed"===e.status?"default":"outline",children:e.status}),(0,s.jsx)("span",{className:"text-muted-foreground text-xs",children:e.time})]}),(0,s.jsx)("p",{className:"mt-1 text-sm font-bold",children:e.customer}),(0,s.jsxs)("p",{className:"text-muted-foreground text-xs",children:[e.service," • Tech: ",e.tech]})]}),(0,s.jsx)(N.Button,{size:"sm",variant:"ghost",children:"Details"})]},a))})})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(f,{description:"Your performance today",title:"My Performance",tooltip:"Track your daily call handling and booking metrics"}),(0,s.jsx)(m.Card,{children:(0,s.jsxs)(m.CardContent,{className:"space-y-4 pt-6",children:[(0,s.jsxs)("div",{className:"bg-muted/50 rounded-lg border p-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(c.Phone,{className:"text-primary size-5"}),(0,s.jsx)("p",{className:"text-sm font-bold",children:"Call Statistics"})]}),(0,s.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground text-sm",children:"Calls Answered"}),(0,s.jsx)("span",{className:"font-bold",children:"43"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground text-sm",children:"Avg. Call Time"}),(0,s.jsx)("span",{className:"font-bold",children:"4:32"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground text-sm",children:"Missed Calls"}),(0,s.jsx)("span",{className:"font-bold",children:"2"})]})]})]}),(0,s.jsxs)("div",{className:"bg-muted/50 rounded-lg border p-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(t.Calendar,{className:"text-success size-5"}),(0,s.jsx)("p",{className:"text-sm font-bold",children:"Booking Statistics"})]}),(0,s.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground text-sm",children:"Appointments Booked"}),(0,s.jsx)("span",{className:"font-bold",children:"12"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground text-sm",children:"Conversion Rate"}),(0,s.jsx)("span",{className:"text-success font-bold",children:"73.9%"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground text-sm",children:"Avg. Booking Value"}),(0,s.jsx)("span",{className:"font-bold",children:"$485"})]})]})]}),(0,s.jsxs)("div",{className:"bg-muted/50 rounded-lg border p-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(n.FileText,{className:"text-accent-foreground size-5"}),(0,s.jsx)("p",{className:"text-sm font-bold",children:"Estimates"})]}),(0,s.jsxs)("div",{className:"mt-3 space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground text-sm",children:"Sent Today"}),(0,s.jsx)("span",{className:"font-bold",children:"8"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground text-sm",children:"Total Value"}),(0,s.jsx)("span",{className:"font-bold",children:"$12,400"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground text-sm",children:"Pending Review"}),(0,s.jsx)("span",{className:"text-warning font-bold",children:"12"})]})]})]}),(0,s.jsx)("div",{className:"bg-success dark:bg-success/30 rounded-lg border p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-bold",children:"Today's Achievement"}),(0,s.jsx)("p",{className:"text-muted-foreground text-xs",children:"You're exceeding targets!"})]}),(0,s.jsx)(v.Badge,{className:"border-success text-success",variant:"outline",children:"⭐ Top Performer"})]})})]})})]})]}),(0,s.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(f,{description:"Common tasks and shortcuts",title:"Quick Actions",tooltip:"Frequently used functions for customer service"}),(0,s.jsx)(m.Card,{children:(0,s.jsx)(m.CardContent,{className:"pt-6",children:(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,s.jsxs)(N.Button,{variant:"outline",children:[(0,s.jsx)(c.Phone,{className:"mr-2 size-4"}),"New Call"]}),(0,s.jsxs)(N.Button,{variant:"outline",children:[(0,s.jsx)(t.Calendar,{className:"mr-2 size-4"}),"Book Appointment"]}),(0,s.jsxs)(N.Button,{variant:"outline",children:[(0,s.jsx)(o.Users,{className:"mr-2 size-4"}),"Add Customer"]}),(0,s.jsxs)(N.Button,{variant:"outline",children:[(0,s.jsx)(n.FileText,{className:"mr-2 size-4"}),"Create Estimate"]}),(0,s.jsxs)(N.Button,{variant:"outline",children:[(0,s.jsx)(l.MessageSquare,{className:"mr-2 size-4"}),"Send SMS"]}),(0,s.jsxs)(N.Button,{variant:"outline",children:[(0,s.jsx)(a.CheckCircle2,{className:"mr-2 size-4"}),"Confirm Booking"]})]})})})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(f,{description:"Helpful scripts for common situations",title:"Call Scripts",tooltip:"Pre-written responses for consistent customer service"}),(0,s.jsx)(m.Card,{children:(0,s.jsx)(m.CardContent,{className:"space-y-3 pt-6",children:[{title:"Greeting Script",preview:"Thank you for calling! How can I help you today?"},{title:"Emergency Response",preview:"I understand this is urgent. Let me get you scheduled..."},{title:"Pricing Questions",preview:"Our standard service call is $89, which includes..."},{title:"Booking Confirmation",preview:"I have you scheduled for [time] on [date]..."}].map((e,t)=>(0,s.jsxs)("div",{className:"bg-card flex items-start gap-3 rounded-lg border p-3",children:[(0,s.jsx)(l.MessageSquare,{className:"text-primary mt-0.5 size-5"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm font-bold",children:e.title}),(0,s.jsx)("p",{className:"text-muted-foreground text-xs",children:e.preview})]}),(0,s.jsx)(N.Button,{size:"sm",variant:"ghost",children:"View"})]},t))})})]})]})]})}var w=e.i(818796),C=e.i(15751),k=e.i(332845),S=e.i(394669),S=S,T=e.i(181893);function B(){let e=new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold tracking-tight",children:"Dispatch Command Center"}),(0,s.jsx)(v.Badge,{className:"text-primary",variant:"outline",children:"Dispatcher View"}),(0,s.jsxs)("div",{className:"border-border bg-muted/30 flex items-center gap-2 rounded-full border px-3 py-1",children:[(0,s.jsx)("div",{className:"bg-success size-2 animate-pulse rounded-full"}),(0,s.jsx)("span",{className:"text-muted-foreground text-xs font-medium",children:"Live"})]})]}),(0,s.jsx)("p",{className:"text-muted-foreground text-lg",children:e})]}),(0,s.jsx)(m.Card,{className:"border-destructive bg-destructive dark:border-destructive dark:bg-destructive/30",children:(0,s.jsxs)(m.CardContent,{className:"flex items-center justify-between pt-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"bg-destructive flex size-10 items-center justify-center rounded-full",children:(0,s.jsx)(T.Zap,{className:"size-5 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-bold",children:"2 Emergency Jobs Waiting"}),(0,s.jsx)("p",{className:"text-muted-foreground text-xs",children:"Longest wait: 18 minutes"})]})]}),(0,s.jsxs)(N.Button,{size:"sm",variant:"destructive",children:[(0,s.jsx)(c.Phone,{className:"mr-2 size-4"}),"Dispatch Now"]})]})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,s.jsx)(p,{change:"2 emergency waiting",changeType:"negative",description:"Need immediate dispatch",icon:w.AlertCircle,title:"Unassigned Jobs",tooltip:"Jobs that have been created but not yet assigned to a technician. Dispatch these ASAP.",value:"8"}),(0,s.jsx)(p,{change:"7 available, 5 busy",changeType:"positive",icon:o.Users,title:"Technicians On Duty",tooltip:"Total number of technicians clocked in and working today",value:"12"}),(0,s.jsx)(p,{change:"Target: < 60 min",changeType:"positive",icon:r.Clock,title:"Avg. Response Time",tooltip:"Average time from customer call to technician arrival. Industry standard is 60-90 minutes.",value:"42 min"}),(0,s.jsx)(p,{change:"3 running late",changeType:"neutral",icon:C.MapPin,title:"Jobs in Progress",tooltip:"Number of jobs currently being worked on by technicians",value:"17"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(f,{description:"Real-time technician locations and status",title:"Technician Map",tooltip:"Live GPS tracking of all technicians. Click on a technician to see details or assign a job."}),(0,s.jsx)(m.Card,{className:"min-h-[400px]",children:(0,s.jsx)(m.CardContent,{className:"flex items-center justify-center pt-6",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(C.MapPin,{className:"text-muted-foreground mx-auto size-16"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-4 text-lg font-medium",children:"Interactive Map Component"}),(0,s.jsx)("p",{className:"text-muted-foreground text-sm",children:"Real-time GPS tracking with technician locations"})]})})})]}),(0,s.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(f,{description:"Jobs waiting for assignment",title:"Unassigned Jobs Queue",tooltip:"Drag and drop jobs to technicians or click Quick Assign"}),(0,s.jsx)(m.Card,{children:(0,s.jsxs)(m.CardContent,{className:"space-y-3 pt-6",children:[(0,s.jsxs)("div",{className:"border-destructive bg-destructive dark:border-destructive dark:bg-destructive/30 flex items-start gap-3 rounded-lg border-2 p-3",children:[(0,s.jsx)("div",{className:"bg-destructive flex size-10 flex-shrink-0 items-center justify-center rounded-full",children:(0,s.jsx)(T.Zap,{className:"size-5 text-white"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(v.Badge,{variant:"destructive",children:"EMERGENCY"}),(0,s.jsx)("span",{className:"text-muted-foreground text-xs",children:"18 min ago"})]}),(0,s.jsx)("p",{className:"mt-1 text-sm font-bold",children:"No Hot Water - Urgent"}),(0,s.jsx)("p",{className:"text-muted-foreground text-xs",children:"Sarah Johnson • 123 Main St • Water heater failure"})]}),(0,s.jsx)(N.Button,{size:"sm",variant:"destructive",children:"Dispatch"})]}),[{customer:"Mike Davis",address:"456 Oak Ave",issue:"AC not cooling",time:"32 min ago"},{customer:"Lisa Chen",address:"789 Pine St",issue:"Leaking faucet",time:"45 min ago"},{customer:"Tom Wilson",address:"321 Elm Dr",issue:"Furnace inspection",time:"1 hour ago"}].map((e,t)=>(0,s.jsxs)("div",{className:"bg-card flex items-start gap-3 rounded-lg border p-3",children:[(0,s.jsx)("div",{className:"bg-primary/10 flex size-10 flex-shrink-0 items-center justify-center rounded-full",children:(0,s.jsx)(S.default,{className:"text-primary size-5"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(v.Badge,{variant:"outline",children:"Standard"}),(0,s.jsx)("span",{className:"text-muted-foreground text-xs",children:e.time})]}),(0,s.jsx)("p",{className:"mt-1 text-sm font-bold",children:e.issue}),(0,s.jsxs)("p",{className:"text-muted-foreground text-xs",children:[e.customer," • ",e.address]})]}),(0,s.jsx)(N.Button,{size:"sm",variant:"outline",children:"Assign"})]},t))]})})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(f,{description:"Current status of all technicians",title:"Technician Status",tooltip:"Click on a technician to view their schedule or send them to a job"}),(0,s.jsx)(m.Card,{children:(0,s.jsxs)(m.CardContent,{className:"space-y-3 pt-6",children:[[{name:"John Smith",status:"available",location:"Near downtown"},{name:"Mike Rodriguez",status:"available",location:"West side"}].map((e,t)=>(0,s.jsxs)("div",{className:"border-success bg-success dark:border-success dark:bg-success/30 flex items-center gap-3 rounded-lg border p-3",children:[(0,s.jsx)("div",{className:"bg-success flex size-10 items-center justify-center rounded-full",children:(0,s.jsx)(o.Users,{className:"size-5 text-white"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm font-bold",children:e.name}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(v.Badge,{className:"border-success text-success",variant:"outline",children:"✓ Available"}),(0,s.jsx)("span",{className:"text-muted-foreground text-xs",children:e.location})]})]}),(0,s.jsx)(N.Button,{size:"sm",variant:"outline",children:"Assign Job"})]},t)),[{name:"Dave Wilson",status:"busy",job:"AC Repair",eta:"45 min"},{name:"Sarah Lee",status:"busy",job:"Water Heater",eta:"1.2 hrs"},{name:"Tom Brown",status:"busy",job:"Drain Cleaning",eta:"30 min"}].map((e,t)=>(0,s.jsxs)("div",{className:"bg-card flex items-center gap-3 rounded-lg border p-3",children:[(0,s.jsx)("div",{className:"bg-primary/10 flex size-10 items-center justify-center rounded-full",children:(0,s.jsx)(k.Navigation,{className:"text-primary size-5"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm font-bold",children:e.name}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(v.Badge,{className:"border-primary text-primary",variant:"outline",children:"On Job"}),(0,s.jsxs)("span",{className:"text-muted-foreground text-xs",children:[e.job," • ETA ",e.eta]})]})]}),(0,s.jsx)(N.Button,{size:"sm",variant:"ghost",children:"Details"})]},t)),(0,s.jsxs)("div",{className:"border-warning bg-warning dark:border-warning dark:bg-warning/30 flex items-center gap-3 rounded-lg border p-3",children:[(0,s.jsx)("div",{className:"bg-warning flex size-10 items-center justify-center rounded-full",children:(0,s.jsx)(r.Clock,{className:"size-5 text-white"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm font-bold",children:"Chris Martinez"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(v.Badge,{className:"border-warning text-warning",variant:"outline",children:"⚠ Running Late"}),(0,s.jsx)("span",{className:"text-muted-foreground text-xs",children:"25 min behind schedule"})]})]}),(0,s.jsx)(N.Button,{size:"sm",variant:"outline",children:"Call Tech"})]})]})})]})]}),(0,s.jsx)(m.Card,{className:"border-primary bg-primary dark:border-primary dark:bg-primary/30",children:(0,s.jsx)(m.CardContent,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(S.default,{className:"text-primary size-6"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-bold",children:"Quick Actions"}),(0,s.jsx)("p",{className:"text-muted-foreground text-xs",children:"Common dispatch operations"})]})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,s.jsxs)(N.Button,{size:"sm",variant:"outline",children:[(0,s.jsx)(c.Phone,{className:"mr-2 size-4"}),"New Customer Call"]}),(0,s.jsxs)(N.Button,{size:"sm",variant:"outline",children:[(0,s.jsx)(T.Zap,{className:"mr-2 size-4"}),"Emergency Dispatch"]}),(0,s.jsxs)(N.Button,{size:"sm",variant:"outline",children:[(0,s.jsx)(o.Users,{className:"mr-2 size-4"}),"Send Bulk SMS"]}),(0,s.jsxs)(N.Button,{size:"sm",variant:"outline",children:[(0,s.jsx)(C.MapPin,{className:"mr-2 size-4"}),"View All Routes"]})]})]})})})]})}var z=e.i(751139),P=e.i(60179),D=e.i(890841),M=e.i(175913),R=e.i(970799);let A=[{name:"Mike Johnson",jobs:6,revenue:2850,status:"on-job",avgDuration:45},{name:"Sarah Williams",jobs:5,revenue:3200,status:"traveling",avgDuration:52},{name:"James Davis",jobs:7,revenue:2450,status:"on-job",avgDuration:38},{name:"Emily Brown",jobs:4,revenue:1980,status:"available",avgDuration:48},{name:"Robert Garcia",jobs:6,revenue:2750,status:"on-job",avgDuration:42}],F={"on-job":"bg-primary",traveling:"bg-warning",available:"bg-success"},L={"on-job":"On Job",traveling:"Traveling",available:"Available"};function E(){let e=A.reduce((e,s)=>e+s.jobs,0),t=A.reduce((e,s)=>e+s.revenue,0);return(0,s.jsxs)(m.Card,{className:"gap-0 py-0",children:[(0,s.jsxs)(m.CardHeader,{className:"pt-4 pb-0",children:[(0,s.jsx)(m.CardTitle,{className:"text-base",children:"Team Performance"}),(0,s.jsxs)(m.CardDescription,{className:"text-xs",children:[e," jobs • $",(t/1e3).toFixed(1),"k revenue"]})]}),(0,s.jsx)(m.CardContent,{className:"pt-4 pb-4",children:(0,s.jsx)("div",{className:"space-y-2.5",children:A.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between rounded-lg border p-3 transition-all hover:shadow-sm",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm font-semibold",children:e.name}),(0,s.jsxs)("p",{className:"text-muted-foreground text-xs",children:[e.jobs," jobs • $",(e.revenue/1e3).toFixed(1),"k"]})]}),(0,s.jsx)(v.Badge,{className:`${F[e.status]} text-xs text-white`,variant:"secondary",children:L[e.status]})]},e.name))})})]})}e.i(116233);var _=e.i(90916);function I(){let e=new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold tracking-tight",children:"Operations Management"}),(0,s.jsx)(v.Badge,{className:"text-success",variant:"outline",children:"Manager View"})]}),(0,s.jsx)("p",{className:"text-muted-foreground text-lg",children:e})]}),(0,s.jsxs)(m.Card,{className:"border-destructive bg-destructive dark:border-destructive dark:bg-destructive/30",children:[(0,s.jsx)(m.CardHeader,{children:(0,s.jsxs)(m.CardTitle,{className:"text-destructive dark:text-destructive flex items-center gap-2",children:[(0,s.jsx)(z.AlertTriangle,{className:"size-5"}),"Customer Issues Requiring Attention"]})}),(0,s.jsxs)(m.CardContent,{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"border-destructive bg-card dark:border-destructive dark:bg-destructive/50 flex items-start gap-3 rounded-lg border p-3",children:[(0,s.jsx)(M.Star,{className:"text-destructive mt-0.5 size-4"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:"2-Star Review Posted (1 hour ago)"}),(0,s.jsx)("p",{className:"text-muted-foreground text-xs",children:'"Technician was rude" - Jane Smith - Needs immediate response'})]}),(0,s.jsx)(N.Button,{size:"sm",variant:"destructive",children:"Respond"})]}),(0,s.jsxs)("div",{className:"border-warning bg-card dark:border-warning dark:bg-warning/50 flex items-start gap-3 rounded-lg border p-3",children:[(0,s.jsx)(D.PhoneCall,{className:"text-warning mt-0.5 size-4"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:"Customer Called 3 Times Today"}),(0,s.jsx)("p",{className:"text-muted-foreground text-xs",children:"Bob Johnson - Job #4523 - Escalate to senior tech"})]}),(0,s.jsx)(N.Button,{size:"sm",variant:"outline",children:"Call Customer"})]}),(0,s.jsxs)("div",{className:"border-warning bg-card dark:border-warning dark:bg-warning/50 flex items-start gap-3 rounded-lg border p-3",children:[(0,s.jsx)(z.AlertTriangle,{className:"text-warning mt-0.5 size-4"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:"Callback: Parts Arrived"}),(0,s.jsx)("p",{className:"text-muted-foreground text-xs",children:"5 customers waiting for parts to arrive - schedule follow-up"})]}),(0,s.jsx)(N.Button,{size:"sm",variant:"outline",children:"Schedule Callbacks"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,s.jsx)(p,{change:"Target: 4.5+",changeType:"positive",description:"Based on 87 reviews this month",icon:M.Star,title:"Customer Satisfaction",tooltip:"Average customer rating from post-job surveys and online reviews",value:"4.8 ⭐"}),(0,s.jsx)(p,{change:"+8% vs last month",changeType:"positive",icon:o.Users,title:"Team Efficiency",tooltip:"Average jobs completed per technician per day. Higher = better productivity.",value:"5.2 jobs/day"}),(0,s.jsx)(p,{change:"Target: < 5%",changeType:"positive",icon:z.AlertTriangle,title:"Callback Rate",tooltip:"Percentage of jobs that require a return visit to fix issues. Lower is better.",value:"3.2%"}),(0,s.jsx)(p,{change:"12 pending estimates",changeType:"neutral",icon:i.DollarSign,title:"Estimate Conversion",tooltip:"Percentage of estimates that convert to paid jobs. Industry average is 60-70%.",value:"68%"})]}),(0,s.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(f,{description:"Revenue opportunities requiring action",title:"Follow-Up Queue",tooltip:"Pending estimates, maintenance renewals, and customer callbacks that could generate revenue"}),(0,s.jsx)(m.Card,{children:(0,s.jsxs)(m.CardContent,{className:"space-y-3 pt-6",children:[(0,s.jsxs)("div",{className:"border-success bg-success dark:border-success dark:bg-success/30 flex items-start gap-3 rounded-lg border p-3",children:[(0,s.jsx)("div",{className:"bg-success flex size-10 flex-shrink-0 items-center justify-center rounded-full",children:(0,s.jsx)(i.DollarSign,{className:"size-5 text-white"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(v.Badge,{className:"border-success text-success",variant:"outline",children:"High Value"}),(0,s.jsx)("span",{className:"text-success text-sm font-bold",children:"$32,400 potential"})]}),(0,s.jsx)("p",{className:"mt-1 text-sm font-bold",children:"12 Pending Estimates"}),(0,s.jsx)("p",{className:"text-muted-foreground text-xs",children:"Average age: 4 days • Convert now to hit monthly target"})]}),(0,s.jsx)(N.Button,{size:"sm",variant:"outline",children:"Review"})]}),(0,s.jsxs)("div",{className:"bg-card flex items-start gap-3 rounded-lg border p-3",children:[(0,s.jsx)("div",{className:"bg-primary/10 flex size-10 flex-shrink-0 items-center justify-center rounded-full",children:(0,s.jsx)(P.Package,{className:"text-primary size-5"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(v.Badge,{variant:"outline",children:"Recurring Revenue"}),(0,s.jsx)("p",{className:"mt-1 text-sm font-bold",children:"8 Maintenance Plans Expiring"}),(0,s.jsx)("p",{className:"text-muted-foreground text-xs",children:"Within 7 days • Auto-generate renewal calls"})]}),(0,s.jsx)(N.Button,{size:"sm",variant:"outline",children:"Send Reminders"})]}),(0,s.jsxs)("div",{className:"bg-card flex items-start gap-3 rounded-lg border p-3",children:[(0,s.jsx)("div",{className:"bg-accent/10 flex size-10 flex-shrink-0 items-center justify-center rounded-full",children:(0,s.jsx)(D.PhoneCall,{className:"text-accent-foreground size-5"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(v.Badge,{variant:"outline",children:"Pending Callbacks"}),(0,s.jsx)("p",{className:"mt-1 text-sm font-bold",children:"5 Customers Awaiting Parts"}),(0,s.jsx)("p",{className:"text-muted-foreground text-xs",children:"Parts arrived • Schedule completion visits"})]}),(0,s.jsx)(N.Button,{size:"sm",variant:"outline",children:"Schedule"})]}),(0,s.jsxs)("div",{className:"bg-card flex items-start gap-3 rounded-lg border p-3",children:[(0,s.jsx)("div",{className:"bg-warning/10 flex size-10 flex-shrink-0 items-center justify-center rounded-full",children:(0,s.jsx)(l.MessageSquare,{className:"text-warning size-5"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(v.Badge,{variant:"outline",children:"Ready to Send"}),(0,s.jsx)("p",{className:"mt-1 text-sm font-bold",children:"3 Quotes Finalized"}),(0,s.jsx)("p",{className:"text-muted-foreground text-xs",children:"Send to customers for approval"})]}),(0,s.jsx)(N.Button,{size:"sm",variant:"outline",children:"Send Quotes"})]})]})})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(f,{description:"Monitor and respond to customer feedback",title:"Customer Sentiment",tooltip:"Recent reviews and ratings from Google, Yelp, and post-job surveys"}),(0,s.jsx)(m.Card,{children:(0,s.jsxs)(m.CardContent,{className:"space-y-3 pt-6",children:[(0,s.jsxs)("div",{className:"border-destructive bg-destructive dark:border-destructive dark:bg-destructive/30 flex items-start gap-3 rounded-lg border-2 p-3",children:[(0,s.jsx)("div",{className:"bg-destructive flex size-10 flex-shrink-0 items-center justify-center rounded-full",children:(0,s.jsx)(M.Star,{className:"size-5 text-white"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(v.Badge,{variant:"destructive",children:"⚠ URGENT"}),(0,s.jsx)("span",{className:"text-muted-foreground text-xs",children:"1 hour ago"})]}),(0,s.jsx)("p",{className:"mt-1 text-sm font-bold",children:"2-Star Google Review"}),(0,s.jsx)("p",{className:"text-muted-foreground text-xs",children:'Jane Smith - "Tech was rude and rushed" - Respond immediately'})]}),(0,s.jsx)(N.Button,{size:"sm",variant:"destructive",children:"Respond"})]}),(0,s.jsxs)("div",{className:"border-warning bg-warning dark:border-warning dark:bg-warning/30 flex items-start gap-3 rounded-lg border p-3",children:[(0,s.jsx)("div",{className:"bg-warning flex size-10 flex-shrink-0 items-center justify-center rounded-full",children:(0,s.jsx)(M.Star,{className:"size-5 text-white"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(v.Badge,{className:"border-warning text-warning",variant:"outline",children:"Needs Response"}),(0,s.jsx)("span",{className:"text-muted-foreground text-xs",children:"2 days ago"})]}),(0,s.jsx)("p",{className:"mt-1 text-sm font-bold",children:"3-Star Yelp Review"}),(0,s.jsx)("p",{className:"text-muted-foreground text-xs",children:'Tom Wilson - "Job done but expensive" - Address pricing concern'})]}),(0,s.jsx)(N.Button,{size:"sm",variant:"outline",children:"Respond"})]}),[{customer:"Sarah Johnson",rating:5,comment:"Excellent service! Very professional",platform:"Google"},{customer:"Mike Davis",rating:5,comment:"Quick response and fair pricing",platform:"Facebook"}].map((e,t)=>(0,s.jsxs)("div",{className:"bg-card flex items-start gap-3 rounded-lg border p-3",children:[(0,s.jsx)("div",{className:"bg-success/10 flex size-10 flex-shrink-0 items-center justify-center rounded-full",children:(0,s.jsx)(M.Star,{className:"text-success size-5"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(v.Badge,{className:"border-success text-success",variant:"outline",children:["⭐ ",e.rating,"-Star"]}),(0,s.jsx)("span",{className:"text-muted-foreground text-xs",children:e.platform})]}),(0,s.jsx)("p",{className:"mt-1 text-sm font-bold",children:e.customer}),(0,s.jsxs)("p",{className:"text-muted-foreground text-xs",children:['"',e.comment,'"']})]}),(0,s.jsx)(N.Button,{size:"sm",variant:"ghost",children:"Share"})]},t))]})})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(f,{description:"Today's technician performance metrics",title:"Team Performance",tooltip:"Track which technicians are excelling and who needs coaching"}),(0,s.jsx)(R.Suspense,{fallback:(0,s.jsx)(_.TableSkeleton,{rows:5}),children:(0,s.jsx)(E,{})})]}),(0,s.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(f,{description:"Stock levels and reorder alerts",title:"Inventory Status",tooltip:"Monitor parts and materials to avoid job delays"}),(0,s.jsx)(m.Card,{children:(0,s.jsxs)(m.CardContent,{className:"space-y-3 pt-6",children:[(0,s.jsxs)("div",{className:"border-destructive bg-destructive dark:border-destructive dark:bg-destructive/30 flex items-start gap-3 rounded-lg border p-3",children:[(0,s.jsx)(P.Package,{className:"text-destructive mt-0.5 size-5"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(v.Badge,{variant:"destructive",children:"CRITICAL LOW"}),(0,s.jsx)("p",{className:"mt-1 text-sm font-bold",children:"40-Gallon Water Heaters"}),(0,s.jsx)("p",{className:"text-muted-foreground text-xs",children:"2 units left • 3 jobs scheduled this week"})]}),(0,s.jsx)(N.Button,{size:"sm",variant:"destructive",children:"Order Now"})]}),(0,s.jsxs)("div",{className:"border-warning bg-warning dark:border-warning dark:bg-warning/30 flex items-start gap-3 rounded-lg border p-3",children:[(0,s.jsx)(P.Package,{className:"text-warning mt-0.5 size-5"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(v.Badge,{className:"border-warning text-warning",variant:"outline",children:"Low Stock"}),(0,s.jsx)("p",{className:"mt-1 text-sm font-bold",children:'PEX Fittings - 1/2"'}),(0,s.jsx)("p",{className:"text-muted-foreground text-xs",children:"12 pieces left • Reorder soon"})]}),(0,s.jsx)(N.Button,{size:"sm",variant:"outline",children:"Add to Order"})]}),(0,s.jsxs)("div",{className:"bg-card flex items-start gap-3 rounded-lg border p-3",children:[(0,s.jsx)(o.Users,{className:"text-primary mt-0.5 size-5"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(v.Badge,{variant:"outline",children:"Truck Inventory"}),(0,s.jsx)("p",{className:"mt-1 text-sm font-bold",children:"Mike's Truck Needs Restock"}),(0,s.jsx)("p",{className:"text-muted-foreground text-xs",children:"Ran out of copper fittings - restock end of day"})]}),(0,s.jsx)(N.Button,{size:"sm",variant:"outline",children:"View List"})]})]})})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(f,{description:"Key operational indicators",title:"Operations Snapshot",tooltip:"Track important business metrics at a glance"}),(0,s.jsx)(m.Card,{children:(0,s.jsxs)(m.CardContent,{className:"space-y-4 pt-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-muted-foreground text-sm",children:"First-Call Resolution"}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:"87%"})]}),(0,s.jsx)(v.Badge,{className:"text-success",variant:"outline",children:"Above target (85%)"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-muted-foreground text-sm",children:"Avg. Job Duration"}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:"2.4 hrs"})]}),(0,s.jsx)(v.Badge,{className:"text-primary",variant:"outline",children:"On target"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-muted-foreground text-sm",children:"Parts Markup"}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:"42%"})]}),(0,s.jsx)(v.Badge,{className:"text-success",variant:"outline",children:"Healthy margin"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-muted-foreground text-sm",children:"Overtime Hours"}),(0,s.jsx)("p",{className:"text-2xl font-bold",children:"12 hrs"})]}),(0,s.jsx)(v.Badge,{className:"text-warning",variant:"outline",children:"Monitor closely"})]})]})})]})]})]})}var U=e.i(792467);e.i(287133);var $=e.i(120109),J=e.i(871509),O=e.i(721855);function W({data:e,renderedAt:t}){if(!e)return(0,s.jsx)("div",{className:"flex min-h-[400px] items-center justify-center",children:(0,s.jsx)("p",{className:"text-muted-foreground",children:"No dashboard data available"})});let a=t??Date.now(),r=e.analytics?.revenue??[],i=e.analytics?.jobs??[],n=e.analytics?.communications??[];return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("header",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("h1",{className:"text-3xl font-semibold tracking-tight md:text-4xl",children:"Account overview"}),(0,s.jsxs)(v.Badge,{className:"text-primary gap-1",variant:"outline",children:[(0,s.jsx)(O.Wifi,{className:"size-3.5"}),"Live"]})]}),(0,s.jsx)("p",{className:"text-muted-foreground text-sm md:text-base",children:"Real-time snapshot of your business performance."})]}),(0,s.jsxs)("div",{className:"text-muted-foreground flex items-center gap-2 text-xs md:text-sm",children:[(0,s.jsx)("span",{children:"Last updated"}),(0,s.jsx)($.Separator,{className:"h-4",orientation:"vertical"}),(0,s.jsxs)("span",{children:[(0,J.formatDateTime)(e.lastUpdated)," (",function(e,s=Date.now()){if(!e)return"";try{let t=new Intl.RelativeTimeFormat("en-US",{numeric:"auto"}),a=new Date(e).getTime(),r=Math.round((a-s)/6e4);if(60>Math.abs(r))return t.format(r,"minute");let i=Math.round(r/60);return t.format(i,"hour")}catch(r){let t=Math.round((new Date(e).getTime()-s)/6e4);if(60>Math.abs(t))return`${Math.abs(t)}m ago`;let a=Math.round(t/60);return`${Math.abs(a)}h ago`}}(e.lastUpdated,a),")"]})]})]}),(0,s.jsx)("div",{className:"grid grid-cols-1",children:(0,s.jsx)(U.MainChartCard,{title:"Revenue",data:r})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsx)(U.SmallChartCard,{title:"Jobs over time",data:i,type:"line",dataKey:"value",category:"jobs",color:"#3b82f6"}),(0,s.jsx)(U.SmallChartCard,{title:"Communications | Activity",data:n,type:"bar",dataKey:"value",category:"comms",color:"#10b981"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[(0,s.jsx)(U.MetricCard,{label:"Revenue Today",value:(0,J.formatCurrencyFromDollars)(e.metrics.revenueToday,{minimumFractionDigits:0,maximumFractionDigits:0}),change:8.5*(e.metrics.revenueToday>0),verified:!0}),(0,s.jsx)(U.MetricCard,{label:"Jobs Scheduled",value:e.metrics.jobsScheduledToday.toString(),change:5.2*(e.metrics.jobsScheduledToday>0),changeLabel:"vs yesterday"}),(0,s.jsx)(U.MetricCard,{label:"Active Jobs",value:e.metrics.jobsInProgress.toString(),change:3.1*(e.metrics.jobsInProgress>0),changeLabel:"currently active"}),(0,s.jsx)(U.MetricCard,{label:"Outstanding AR",value:(0,J.formatCurrencyFromDollars)(e.metrics.outstandingInvoicesAmount,{minimumFractionDigits:0,maximumFractionDigits:0}),change:e.metrics.overdueInvoicesCount>0?-2.5:1.2,changeLabel:`${e.metrics.overdueInvoicesCount} overdue`}),(0,s.jsx)(U.MetricCard,{label:"Comms Today",value:e.metrics.communicationsToday.toString(),change:4.3*(e.metrics.communicationsToday>5),changeLabel:"interactions"}),(0,s.jsx)(U.MetricCard,{label:"Avg Ticket",value:(0,J.formatCurrencyFromDollars)(e.metrics.averageTicket,{minimumFractionDigits:0,maximumFractionDigits:0}),change:1.5,changeLabel:"vs last month"}),(0,s.jsx)(U.MetricCard,{label:"Unassigned",value:e.metrics.unassignedJobs.toString(),change:e.metrics.unassignedJobs>0?-5:0,changeLabel:"jobs pending"}),(0,s.jsx)(U.MetricCard,{label:"Completed",value:e.metrics.jobsCompletedToday.toString(),change:12,changeLabel:"jobs today"}),(0,s.jsx)(U.MetricCard,{label:"Open Invoices",value:e.financial.openInvoices.length.toString(),change:-2,changeLabel:"pending payment"}),(0,s.jsx)(U.MetricCard,{label:"Team Active",value:"3",subValue:"/ 5",change:0,changeLabel:"technicians"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsx)(H,{jobs:e.operations.inProgress}),(0,s.jsx)(V,{schedule:e.schedule})]})]})}function H({jobs:e}){return(0,s.jsxs)("div",{className:"bg-card/50 border-border/50 backdrop-blur-sm rounded-xl border overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-4 md:p-6 border-b border-border/50 flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"font-semibold text-base md:text-lg",children:"Active Jobs"}),(0,s.jsxs)(v.Badge,{variant:"secondary",className:"bg-blue-500/10 text-blue-500 hover:bg-blue-500/20 border-0",children:[e.length," Active"]})]}),(0,s.jsx)("div",{className:"p-0",children:0===e.length?(0,s.jsx)("div",{className:"p-6 md:p-8 text-center text-muted-foreground text-sm",children:"No active jobs at the moment."}):(0,s.jsx)("div",{className:"divide-y divide-border/50",children:e.slice(0,5).map(e=>(0,s.jsxs)("div",{className:"p-3 md:p-4 hover:bg-muted/30 transition-colors flex flex-col sm:flex-row sm:items-center justify-between gap-2 sm:gap-4",children:[(0,s.jsxs)("div",{className:"space-y-1 min-w-0 flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,s.jsx)("span",{className:"font-medium text-sm truncate",children:e.title||`Job #${e.jobNumber}`}),(0,s.jsx)(v.Badge,{variant:"outline",className:"text-[10px] h-5 px-1.5 uppercase tracking-wider shrink-0",children:e.status?.replace(/_/g," ")})]}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground truncate",children:[e.customerName," • ",e.address]})]}),(0,s.jsxs)("div",{className:"text-left sm:text-right shrink-0",children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:(0,J.formatCurrencyFromDollars)(e.totalAmountCents/100,{minimumFractionDigits:0,maximumFractionDigits:0})}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:e.scheduledStart?(0,J.formatDateTime)(e.scheduledStart):"No time set"})]})]},e.id))})})]})}function V({schedule:e}){let t=Object.values(e.reduce((e,s)=>(s.technicianName&&(e[s.technicianName]={name:s.technicianName,status:"in_progress"===s.status?"Working":"Scheduled",currentJob:s.title,time:s.startTime}),e),{}));return(0,s.jsxs)("div",{className:"bg-card/50 border-border/50 backdrop-blur-sm rounded-xl border overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-4 md:p-6 border-b border-border/50 flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"font-semibold text-base md:text-lg",children:"Technician Status"}),(0,s.jsxs)(v.Badge,{variant:"secondary",className:"bg-green-500/10 text-green-500 hover:bg-green-500/20 border-0",children:[t.length," Scheduled"]})]}),(0,s.jsx)("div",{className:"p-0",children:0===t.length?(0,s.jsx)("div",{className:"p-6 md:p-8 text-center text-muted-foreground text-sm",children:"No technicians scheduled for today yet."}):(0,s.jsx)("div",{className:"divide-y divide-border/50",children:t.map((e,t)=>(0,s.jsxs)("div",{className:"p-3 md:p-4 hover:bg-muted/30 transition-colors flex items-center justify-between gap-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[(0,s.jsx)("div",{className:"h-9 w-9 md:h-8 md:w-8 rounded-full bg-primary/10 flex items-center justify-center text-xs font-medium text-primary shrink-0",children:e.name.split(" ").map(e=>e[0]).join("").substring(0,2)}),(0,s.jsxs)("div",{className:"space-y-0.5 min-w-0",children:[(0,s.jsx)("p",{className:"text-sm font-medium truncate",children:e.name}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground truncate",children:["Working"===e.status?"Currently at:":"Next up:"," ",e.currentJob]})]})]}),(0,s.jsx)("div",{className:"flex items-center gap-2 shrink-0",children:(0,s.jsx)(v.Badge,{variant:"outline",className:`text-[10px] h-5 px-1.5 uppercase tracking-wider ${"Working"===e.status?"bg-green-500/10 text-green-500 border-green-500/20":"bg-blue-500/10 text-blue-500 border-blue-500/20"}`,children:e.status})})]},t))})})]})}var G=e.i(697029),q=e.i(501651);function Q(){let e=new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold tracking-tight",children:"My Dashboard"}),(0,s.jsx)(v.Badge,{className:"text-warning",variant:"outline",children:"Technician View"}),(0,s.jsxs)("div",{className:"border-border bg-success/10 flex items-center gap-2 rounded-full border px-3 py-1",children:[(0,s.jsx)("div",{className:"bg-success size-2 rounded-full"}),(0,s.jsx)("span",{className:"text-success dark:text-success text-xs font-medium",children:"Clocked In"})]})]}),(0,s.jsx)("p",{className:"text-muted-foreground text-lg",children:e})]}),(0,s.jsx)(m.Card,{className:"border-primary bg-primary dark:border-primary dark:bg-primary/30",children:(0,s.jsx)(m.CardContent,{className:"pt-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"bg-primary flex size-12 items-center justify-center rounded-full",children:(0,s.jsx)(q.Wrench,{className:"size-6 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-lg font-bold",children:"Current Job in Progress"}),(0,s.jsx)("p",{className:"text-muted-foreground text-sm",children:"AC Repair - Sarah Johnson - 123 Main St"}),(0,s.jsx)("p",{className:"text-muted-foreground text-xs",children:"Started 45 minutes ago"})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(N.Button,{size:"sm",variant:"outline",children:"Update Status"}),(0,s.jsx)(N.Button,{size:"sm",variant:"default",children:"Complete Job"})]})]})})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,s.jsx)(p,{change:"+$240 vs yesterday",changeType:"positive",description:"Today's earnings",icon:i.DollarSign,title:"My Revenue Today",tooltip:"Total revenue you've generated from completed jobs today. This affects your commission.",value:"$3,240"}),(0,s.jsx)(p,{change:"1 in progress, 3 remaining",changeType:"positive",icon:a.CheckCircle2,title:"Jobs Completed",tooltip:"Number of jobs you've finished today out of your total scheduled jobs",value:"2 of 6"}),(0,s.jsx)(p,{change:"You're #2 on team",changeType:"positive",icon:G.TrendingUp,title:"Avg. Ticket Value",tooltip:"Your average revenue per job. Higher values mean better upselling.",value:"$540"}),(0,s.jsx)(p,{change:"100% perfect score!",changeType:"positive",icon:M.Star,title:"Customer Rating",tooltip:"Your average customer satisfaction rating from post-job surveys",value:"5.0 ⭐"})]}),(0,s.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(f,{description:"Your appointments for today",title:"My Schedule",tooltip:"Upcoming jobs assigned to you. Click on a job to view details or navigate."}),(0,s.jsx)(m.Card,{children:(0,s.jsxs)(m.CardContent,{className:"space-y-3 pt-6",children:[(0,s.jsxs)("div",{className:"border-primary bg-primary dark:border-primary dark:bg-primary/30 flex items-start gap-3 rounded-lg border-2 p-3",children:[(0,s.jsx)("div",{className:"bg-primary flex size-10 flex-shrink-0 items-center justify-center rounded-full",children:(0,s.jsx)(q.Wrench,{className:"size-5 text-white"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(v.Badge,{variant:"default",children:"IN PROGRESS"}),(0,s.jsx)("p",{className:"mt-1 text-sm font-bold",children:"9:00 AM - AC Not Cooling"}),(0,s.jsx)("p",{className:"text-muted-foreground text-xs",children:"Sarah Johnson • 123 Main St, Suite 200"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-1 text-xs",children:"Est. value: $420 • Started 45 min ago"})]}),(0,s.jsxs)(N.Button,{size:"sm",variant:"default",children:[(0,s.jsx)(k.Navigation,{className:"mr-2 size-4"}),"Navigate"]})]}),[{time:"11:30 AM",type:"Water Heater Replacement",customer:"Mike Davis",address:"456 Oak Ave",value:"$890",status:"Next"},{time:"2:00 PM",type:"Furnace Inspection",customer:"Lisa Chen",address:"789 Pine St",value:"$180",status:"Scheduled"},{time:"4:00 PM",type:"Drain Cleaning",customer:"Tom Wilson",address:"321 Elm Dr",value:"$240",status:"Scheduled"}].map((e,t)=>(0,s.jsxs)("div",{className:"bg-card flex items-start gap-3 rounded-lg border p-3",children:[(0,s.jsx)("div",{className:"bg-muted flex size-10 flex-shrink-0 items-center justify-center rounded-full",children:(0,s.jsx)(r.Clock,{className:"text-muted-foreground size-5"})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(v.Badge,{variant:"outline",children:e.status}),(0,s.jsxs)("p",{className:"mt-1 text-sm font-bold",children:[e.time," - ",e.type]}),(0,s.jsxs)("p",{className:"text-muted-foreground text-xs",children:[e.customer," • ",e.address]}),(0,s.jsxs)("p",{className:"text-muted-foreground mt-1 text-xs",children:["Est. value: ",e.value]})]}),(0,s.jsxs)(N.Button,{size:"sm",variant:"outline",children:[(0,s.jsx)(k.Navigation,{className:"mr-2 size-4"}),"Navigate"]})]},t))]})})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(f,{description:"How you're doing vs. the team",title:"My Performance",tooltip:"Your performance metrics compared to team averages"}),(0,s.jsx)(m.Card,{children:(0,s.jsxs)(m.CardContent,{className:"space-y-4 pt-6",children:[(0,s.jsxs)("div",{className:"bg-muted/50 rounded-lg border p-4",children:[(0,s.jsx)("p",{className:"text-sm font-bold",children:"This Week"}),(0,s.jsxs)("div",{className:"mt-3 space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground text-sm",children:"Total Revenue"}),(0,s.jsx)("span",{className:"text-success font-bold",children:"$12,840"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground text-sm",children:"Jobs Completed"}),(0,s.jsx)("span",{className:"font-bold",children:"24 jobs"})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground text-sm",children:"Avg. per Day"}),(0,s.jsx)("span",{className:"font-bold",children:"4.8 jobs"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:"Achievements"}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,s.jsx)(v.Badge,{className:"border-success text-success",variant:"outline",children:"⭐ Top Performer"}),(0,s.jsx)(v.Badge,{className:"border-primary text-primary",variant:"outline",children:"🎯 Target Met"}),(0,s.jsx)(v.Badge,{className:"border-border text-accent-foreground",variant:"outline",children:"💰 Highest Revenue"})]})]}),(0,s.jsx)("div",{className:"bg-success dark:bg-success/30 rounded-lg border p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-bold",children:"Team Ranking"}),(0,s.jsx)("p",{className:"text-muted-foreground text-xs",children:"Out of 12 technicians"})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("p",{className:"text-success text-3xl font-bold",children:"#2"}),(0,s.jsx)("p",{className:"text-success text-xs",children:"This week"})]})]})}),(0,s.jsx)("div",{className:"bg-primary dark:bg-primary/30 rounded-lg border p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-bold",children:"Estimated Commission"}),(0,s.jsx)("p",{className:"text-muted-foreground text-xs",children:"Based on this week"})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("p",{className:"text-primary text-2xl font-bold",children:"$1,284"}),(0,s.jsx)("p",{className:"text-primary text-xs",children:"10% of revenue"})]})]})})]})})]})]}),(0,s.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(f,{description:"Parts and materials on your truck",title:"My Truck Inventory",tooltip:"Track what's in your truck to know what jobs you can complete"}),(0,s.jsx)(m.Card,{children:(0,s.jsxs)(m.CardContent,{className:"space-y-3 pt-6",children:[(0,s.jsxs)("div",{className:"border-destructive bg-destructive dark:border-destructive dark:bg-destructive/30 flex items-start gap-3 rounded-lg border p-3",children:[(0,s.jsx)(w.AlertCircle,{className:"text-destructive mt-0.5 size-5"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(v.Badge,{variant:"destructive",children:"LOW STOCK"}),(0,s.jsx)("p",{className:"mt-1 text-sm font-bold",children:'PEX Fittings - 1/2"'}),(0,s.jsx)("p",{className:"text-muted-foreground text-xs",children:"Only 3 left • Restock needed"})]}),(0,s.jsx)(N.Button,{size:"sm",variant:"outline",children:"Request"})]}),[{item:"Water Heater - 40 gal",quantity:"2 units",status:"Good"},{item:'Copper Pipe - 3/4"',quantity:"50 ft",status:"Good"},{item:"Drain Snake",quantity:"1 unit",status:"Good"}].map((e,t)=>(0,s.jsxs)("div",{className:"bg-card flex items-center justify-between rounded-lg border p-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(P.Package,{className:"text-muted-foreground size-5"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:e.item}),(0,s.jsx)("p",{className:"text-muted-foreground text-xs",children:e.quantity})]})]}),(0,s.jsx)(v.Badge,{className:"text-success",variant:"outline",children:e.status})]},t)),(0,s.jsx)(N.Button,{className:"w-full",variant:"outline",children:"View Full Inventory"})]})})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(f,{description:"Common actions and time tracking",title:"Quick Actions",tooltip:"Frequently used functions for field work"}),(0,s.jsx)(m.Card,{children:(0,s.jsxs)(m.CardContent,{className:"space-y-4 pt-6",children:[(0,s.jsxs)("div",{className:"bg-muted/50 rounded-lg border p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-bold",children:"Time Tracking"}),(0,s.jsx)("p",{className:"text-muted-foreground text-xs",children:"Clocked in at 7:30 AM"})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("p",{className:"text-2xl font-bold",children:"4h 15m"}),(0,s.jsx)("p",{className:"text-muted-foreground text-xs",children:"Today"})]})]}),(0,s.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,s.jsx)(N.Button,{className:"flex-1",size:"sm",variant:"outline",children:"Start Break"}),(0,s.jsx)(N.Button,{className:"flex-1",size:"sm",variant:"outline",children:"Clock Out"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsxs)(N.Button,{size:"sm",variant:"outline",children:[(0,s.jsx)(q.Wrench,{className:"mr-2 size-4"}),"Update Job"]}),(0,s.jsxs)(N.Button,{size:"sm",variant:"outline",children:[(0,s.jsx)(C.MapPin,{className:"mr-2 size-4"}),"Next Job"]}),(0,s.jsxs)(N.Button,{size:"sm",variant:"outline",children:[(0,s.jsx)(P.Package,{className:"mr-2 size-4"}),"Order Parts"]}),(0,s.jsxs)(N.Button,{size:"sm",variant:"outline",children:[(0,s.jsx)(i.DollarSign,{className:"mr-2 size-4"}),"Create Invoice"]})]}),(0,s.jsxs)("div",{className:"bg-muted/50 rounded-lg border p-4",children:[(0,s.jsx)("p",{className:"text-sm font-bold",children:"Today's Notes"}),(0,s.jsxs)("p",{className:"text-muted-foreground mt-2 text-sm",children:["• Pick up parts from warehouse before 3 PM",(0,s.jsx)("br",{}),"• Mike Davis job may need water heater replacement",(0,s.jsx)("br",{}),"• Team meeting tomorrow at 8 AM"]})]}),(0,s.jsx)(N.Button,{className:"w-full",variant:"outline",children:"Contact Dispatcher"})]})})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)(f,{description:"What customers are saying about you",title:"Recent Customer Feedback",tooltip:"Customer reviews and ratings from your completed jobs"}),(0,s.jsx)(m.Card,{children:(0,s.jsx)(m.CardContent,{className:"grid grid-cols-1 gap-3 pt-6 md:grid-cols-2 lg:grid-cols-3",children:[{customer:"Sarah Johnson",rating:5,comment:"Excellent work! Very professional and thorough.",job:"AC Repair"},{customer:"Mike Davis",rating:5,comment:"Quick service and fair pricing. Highly recommend!",job:"Water Heater"},{customer:"Lisa Chen",rating:5,comment:"Great technician. Explained everything clearly.",job:"Furnace Check"}].map((e,t)=>(0,s.jsxs)("div",{className:"bg-success dark:bg-success/30 rounded-lg border p-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(M.Star,{className:"text-warning size-4"}),(0,s.jsxs)("span",{className:"text-sm font-bold",children:[e.rating,".0 ⭐"]}),(0,s.jsx)(v.Badge,{className:"ml-auto text-xs",variant:"outline",children:e.job})]}),(0,s.jsx)("p",{className:"mt-2 text-sm font-medium",children:e.customer}),(0,s.jsxs)("p",{className:"text-muted-foreground mt-1 text-xs",children:['"',e.comment,'"']})]},t))})})]})]})}var Y=e.i(592270),K=e.i(155742);function Z({dashboardData:e,renderedAt:t}){let a=(0,Y.useRoleStore)(e=>e.role);if((0,Y.useRoleStore)(e=>e.isLoading))return(0,s.jsx)("div",{className:"flex min-h-[400px] items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"border-primary mx-auto size-8 animate-spin rounded-full border-4 border-t-transparent"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-4 text-sm",children:"Loading dashboard..."})]})});switch(a){case K.USER_ROLES.OWNER:case K.USER_ROLES.ADMIN:return(0,s.jsx)(W,{data:e,renderedAt:t});case K.USER_ROLES.DISPATCHER:return(0,s.jsx)(B,{});case K.USER_ROLES.MANAGER:return(0,s.jsx)(I,{});case K.USER_ROLES.TECHNICIAN:return(0,s.jsx)(Q,{});case K.USER_ROLES.CSR:return(0,s.jsx)(y,{});default:return(0,s.jsx)(W,{data:e,renderedAt:t})}}e.s(["RoleBasedDashboard",()=>Z],606892)},671606,e=>{"use strict";var s=e.i(25588);e.s(["Pin",()=>s.default])},142821,e=>{"use strict";var s=e.i(111043),t=e.i(970799);e.i(889265);var a=e.i(677607);e.i(539870);var r=e.i(846358),i=e.i(606661),n=e.i(218074),l=e.i(507769),c=e.i(882896),d=e.i(969098),o=e.i(295358),o=o,m=e.i(554985),m=m,x=e.i(631242),u=e.i(797566),h=e.i(45834),g=e.i(152088);let p=["image/jpeg","image/png","image/gif","image/webp"],j=["application/pdf"],f=["application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","text/plain"],v=["application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"];function N({attachments:e,compact:N=!1}){let[b,y]=(0,t.useState)(null),[w,C]=(0,t.useState)(1),[k,S]=(0,t.useState)(0),T=(0,t.useCallback)(()=>{C(1),S(0)},[]),B=(0,t.useCallback)(e=>{T(),y(e)},[T]),z=(0,t.useCallback)(()=>{y(null),T()},[T]),P=(0,t.useCallback)(()=>{C(e=>Math.min(e+.25,3))},[]),D=(0,t.useCallback)(()=>{C(e=>Math.max(e-.25,.5))},[]),M=(0,t.useCallback)(()=>{S(e=>(e+90)%360)},[]),R=e.filter(e=>p.includes(e.file_type||"")),A=e.filter(e=>!p.includes(e.file_type||""));return 0===e.length?null:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"space-y-4",children:[R.length>0&&(0,s.jsxs)("div",{className:"space-y-2",children:[!N&&(0,s.jsx)("p",{className:"text-xs text-muted-foreground font-medium",children:"Images"}),(0,s.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:R.map(e=>(0,s.jsxs)("button",{className:"relative aspect-video rounded-lg overflow-hidden bg-muted group cursor-pointer hover:ring-2 hover:ring-primary/50 transition-all",onClick:()=>B(e),children:[(0,s.jsx)("img",{src:e.file_url,alt:e.file_name,className:"w-full h-full object-cover"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center",children:(0,s.jsx)(u.Maximize2,{className:"h-6 w-6 text-white opacity-0 group-hover:opacity-100 transition-opacity drop-shadow-lg"})}),!N&&(0,s.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-1.5 bg-gradient-to-t from-black/60 to-transparent",children:(0,s.jsx)("p",{className:"text-[10px] text-white truncate",children:e.file_name})})]},e.id))})]}),A.length>0&&(0,s.jsxs)("div",{className:"space-y-2",children:[!N&&R.length>0&&(0,s.jsx)("p",{className:"text-xs text-muted-foreground font-medium",children:"Documents"}),(0,s.jsx)("div",{className:"space-y-1.5",children:A.map(e=>{var t,r;let o=(t=e.file_type||"",p.includes(t)?n.Image:j.includes(t)?i.FileText:v.includes(t)?h.FileSpreadsheet:f.includes(t)?i.FileText:l.File),m=j.includes(e.file_type||"");return(0,s.jsxs)("div",{className:(0,g.cn)("flex items-center gap-3 p-2.5 rounded-lg bg-muted/50 hover:bg-muted transition-colors group",N&&"p-2"),children:[(0,s.jsx)("div",{className:(0,g.cn)("h-9 w-9 rounded-lg bg-background flex items-center justify-center shrink-0",N&&"h-8 w-8"),children:(0,s.jsx)(o,{className:(0,g.cn)("h-4 w-4 text-muted-foreground",m&&"text-red-500",e.file_type?.includes("spreadsheet")&&"text-green-500")})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:(0,g.cn)("text-sm font-medium truncate",N&&"text-xs"),children:e.file_name}),!N&&e.file_size&&(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:(r=e.file_size)<1024?`${r} B`:r<1048576?`${(r/1024).toFixed(1)} KB`:`${(r/1048576).toFixed(1)} MB`})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[m&&(0,s.jsx)(a.Button,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>B(e),title:"Preview",children:(0,s.jsx)(u.Maximize2,{className:"h-3.5 w-3.5"})}),(0,s.jsx)(a.Button,{variant:"ghost",size:"icon",className:"h-7 w-7",asChild:!0,title:"Open in new tab",children:(0,s.jsx)("a",{href:e.file_url,target:"_blank",rel:"noopener noreferrer",children:(0,s.jsx)(d.ExternalLink,{className:"h-3.5 w-3.5"})})}),(0,s.jsx)(a.Button,{variant:"ghost",size:"icon",className:"h-7 w-7",asChild:!0,title:"Download",children:(0,s.jsx)("a",{href:e.file_url,download:e.file_name,children:(0,s.jsx)(c.Download,{className:"h-3.5 w-3.5"})})})]})]},e.id)})})]})]}),(0,s.jsx)(r.Dialog,{open:!!b,onOpenChange:e=>!e&&z(),children:(0,s.jsxs)(r.DialogContent,{className:"max-w-4xl max-h-[90vh] p-0 overflow-hidden",children:[(0,s.jsx)(r.DialogHeader,{className:"p-4 pb-2 border-b",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(r.DialogTitle,{className:"text-base truncate pr-4",children:b?.file_name}),(0,s.jsxs)("div",{className:"flex items-center gap-1 shrink-0",children:[b&&p.includes(b.file_type||"")&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:D,title:"Zoom out",children:(0,s.jsx)(m.default,{className:"h-4 w-4"})}),(0,s.jsxs)("span",{className:"text-xs text-muted-foreground min-w-[3rem] text-center",children:[Math.round(100*w),"%"]}),(0,s.jsx)(a.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:P,title:"Zoom in",children:(0,s.jsx)(o.default,{className:"h-4 w-4"})}),(0,s.jsx)(a.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:M,title:"Rotate",children:(0,s.jsx)(x.RotateCw,{className:"h-4 w-4"})})]}),(0,s.jsx)(a.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",asChild:!0,title:"Download",children:(0,s.jsx)("a",{href:b?.file_url,download:b?.file_name,children:(0,s.jsx)(c.Download,{className:"h-4 w-4"})})}),(0,s.jsx)(a.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",asChild:!0,title:"Open in new tab",children:(0,s.jsx)("a",{href:b?.file_url,target:"_blank",rel:"noopener noreferrer",children:(0,s.jsx)(d.ExternalLink,{className:"h-4 w-4"})})})]})]})}),(0,s.jsxs)("div",{className:"flex-1 overflow-auto bg-muted/30 min-h-[60vh]",children:[b&&p.includes(b.file_type||"")&&(0,s.jsx)("div",{className:"w-full h-full flex items-center justify-center p-4 overflow-auto",children:(0,s.jsx)("img",{src:b.file_url,alt:b.file_name,className:"max-w-full transition-transform duration-200",style:{transform:`scale(${w}) rotate(${k}deg)`}})}),b&&j.includes(b.file_type||"")&&(0,s.jsx)("iframe",{src:`${b.file_url}#toolbar=1&navpanes=0`,className:"w-full h-[70vh] border-0",title:b.file_name})]})]})})]})}function b({attachments:e}){if(0===e.length)return null;let t=e.some(e=>p.includes(e.file_type||"")),a=e.some(e=>j.includes(e.file_type||"")),r=e.some(e=>!p.includes(e.file_type||"")&&!j.includes(e.file_type||""));return(0,s.jsxs)("div",{className:"flex items-center gap-1.5 text-muted-foreground",children:[t&&(0,s.jsx)(n.Image,{className:"h-3 w-3"}),a&&(0,s.jsx)(i.FileText,{className:"h-3 w-3 text-red-500/70"}),r&&(0,s.jsx)(l.File,{className:"h-3 w-3"}),(0,s.jsx)("span",{className:"text-xs",children:e.length})]})}e.s(["AttachmentIndicator",()=>b,"PinBoardFilePreview",()=>N],142821)},935474,e=>{"use strict";var s=e.i(111043),t=e.i(970799);e.i(553153);var a=e.i(363712);e.i(889265);var r=e.i(677607);e.i(254851);var i=e.i(605278);e.i(244242);var n=e.i(563078);e.i(539870);var l=e.i(846358),c=e.i(671606),d=e.i(38614),o=e.i(664136),m=e.i(532727),x=e.i(367571),u=e.i(552038),h=(0,u.createServerReference)("406fa38ca6dc131deb6b17173761702aef956ef128",u.callServer,void 0,u.findSourceMapURL,"togglePinBoardPostPin"),g=(0,u.createServerReference)("40f19de32ea7cf4c1fadaf0575d8264a11b2ac7b27",u.callServer,void 0,u.findSourceMapURL,"deletePinBoardPost"),p=(0,u.createServerReference)("4047974945f509c6c7d6e42c1e9dec95547fb145b0",u.callServer,void 0,u.findSourceMapURL,"markPostAsViewed"),j=e.i(581435),f=e.i(142821);let v={blue:"bg-blue-500/10 text-blue-500 border-blue-500/20",green:"bg-green-500/10 text-green-500 border-green-500/20",purple:"bg-purple-500/10 text-purple-500 border-purple-500/20",orange:"bg-orange-500/10 text-orange-500 border-orange-500/20",cyan:"bg-cyan-500/10 text-cyan-500 border-cyan-500/20",red:"bg-red-500/10 text-red-500 border-red-500/20",yellow:"bg-yellow-500/10 text-yellow-600 border-yellow-500/20"};function N({post:e,onEdit:u}){let[N,b]=(0,t.useState)(!1),[y,w]=(0,t.useState)(!1),C=e.category?.color&&v[e.category.color]||v.blue,k=async()=>{b(!0),await p(e.id)},S=async()=>{await h(e.id)},T=async()=>{confirm("Are you sure you want to delete this post?")&&(w(!0),await g(e.id),w(!1))},B=e.published_at?(0,j.formatDistanceToNow)(new Date(e.published_at),{addSuffix:!0}):(0,j.formatDistanceToNow)(new Date(e.created_at),{addSuffix:!0});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i.Card,{className:`group cursor-pointer hover:shadow-md transition-all ${e.is_pinned?"ring-1 ring-primary/20":""}`,onClick:k,children:[(0,s.jsxs)(i.CardHeader,{className:"pb-2",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[e.is_pinned&&(0,s.jsx)(c.Pin,{className:"h-3.5 w-3.5 text-primary shrink-0"}),e.category&&(0,s.jsx)(a.Badge,{variant:"outline",className:`text-[10px] shrink-0 ${C}`,children:e.category.name})]}),(0,s.jsx)(i.CardTitle,{className:"text-base line-clamp-2",children:e.title})]}),(0,s.jsxs)(n.DropdownMenu,{children:[(0,s.jsx)(n.DropdownMenuTrigger,{asChild:!0,children:(0,s.jsx)(r.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity shrink-0",onClick:e=>e.stopPropagation(),children:(0,s.jsx)(d.MoreHorizontal,{className:"h-4 w-4"})})}),(0,s.jsxs)(n.DropdownMenuContent,{align:"end",onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)(n.DropdownMenuItem,{onClick:k,children:[(0,s.jsx)(x.Eye,{className:"h-4 w-4 mr-2"}),"View"]}),(0,s.jsxs)(n.DropdownMenuItem,{onClick:u,children:[(0,s.jsx)(o.Edit,{className:"h-4 w-4 mr-2"}),"Edit"]}),(0,s.jsxs)(n.DropdownMenuItem,{onClick:S,children:[(0,s.jsx)(c.Pin,{className:"h-4 w-4 mr-2"}),e.is_pinned?"Unpin":"Pin to Top"]}),(0,s.jsx)(n.DropdownMenuSeparator,{}),(0,s.jsxs)(n.DropdownMenuItem,{className:"text-destructive focus:text-destructive",onClick:T,disabled:y,children:[(0,s.jsx)(m.Trash2,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]}),e.excerpt&&(0,s.jsx)(i.CardDescription,{className:"line-clamp-2 mt-1",children:e.excerpt})]}),(0,s.jsx)(i.CardContent,{className:"pt-0",children:(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[(0,s.jsx)("span",{children:B}),e.attachments&&e.attachments.length>0&&(0,s.jsx)(f.AttachmentIndicator,{attachments:e.attachments})]})})]}),(0,s.jsx)(l.Dialog,{open:N,onOpenChange:b,children:(0,s.jsxs)(l.DialogContent,{className:"max-w-2xl max-h-[80vh] overflow-hidden flex flex-col",children:[(0,s.jsxs)(l.DialogHeader,{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[e.is_pinned&&(0,s.jsx)(c.Pin,{className:"h-4 w-4 text-primary"}),e.category&&(0,s.jsx)(a.Badge,{variant:"outline",className:`text-xs ${C}`,children:e.category.name})]}),(0,s.jsx)(l.DialogTitle,{className:"text-xl",children:e.title}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:B})]}),(0,s.jsxs)("div",{className:"flex-1 overflow-y-auto space-y-4",children:[e.content?(0,s.jsx)("div",{className:"prose prose-sm dark:prose-invert max-w-none",dangerouslySetInnerHTML:{__html:e.content}}):(0,s.jsx)("p",{className:"text-muted-foreground italic",children:"No content"}),e.attachments&&e.attachments.length>0&&(0,s.jsx)("div",{className:"border-t pt-4",children:(0,s.jsx)(f.PinBoardFilePreview,{attachments:e.attachments})})]}),(0,s.jsxs)("div",{className:"flex items-center justify-end gap-2 pt-4 border-t",children:[(0,s.jsx)(r.Button,{variant:"outline",onClick:()=>b(!1),children:"Close"}),(0,s.jsxs)(r.Button,{onClick:()=>{b(!1),u()},children:[(0,s.jsx)(o.Edit,{className:"h-4 w-4 mr-2"}),"Edit"]})]})]})})]})}e.s(["PinBoardPostCard",()=>N],935474)},695398,e=>{"use strict";var s=e.i(111043),t=e.i(970799);e.i(889265);var a=e.i(677607);e.i(744662);var r=e.i(766667),i=e.i(826463),n=e.i(212409),l=e.i(606661),c=e.i(218074),d=e.i(507769),o=e.i(641304),m=e.i(818796),x=e.i(630754),u=e.i(152088);let h={"application/pdf":l.FileText,"image/jpeg":c.Image,"image/png":c.Image,"image/gif":c.Image,"image/webp":c.Image,"text/plain":l.FileText,"application/msword":l.FileText,"application/vnd.openxmlformats-officedocument.wordprocessingml.document":l.FileText},g=["application/pdf","image/jpeg","image/png","image/gif","image/webp","text/plain","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"];function p({files:e,onFilesChange:l,onUpload:c,disabled:p=!1,maxFiles:j=10}){let[f,v]=(0,t.useState)(!1),N=(0,t.useRef)(null),b=(0,t.useCallback)(async s=>{if(!s||p)return;let t=[],a=[];for(let r of Array.from(s)){if(e.length+t.length>=j){a.push(`Maximum ${j} files allowed`);break}if(!g.includes(r.type)){a.push(`${r.name}: File type not allowed`);continue}if(r.size>0x3200000){a.push(`${r.name}: File too large (max 50MB)`);continue}t.push(r)}for(let s of t){let t=`temp-${Date.now()}-${Math.random().toString(36).slice(2)}`;l([...e,{id:t,name:s.name,size:s.size,type:s.type,url:"",status:"uploading",progress:0}]);try{let e=setInterval(()=>{l(e=>e.map(e=>e.id===t&&e.progress<90?{...e,progress:e.progress+10}:e))},200),a=await c(s);clearInterval(e),a?l(e=>e.map(e=>e.id===t?{...e,id:a.id,url:a.url,status:"success",progress:100}:e)):l(e=>e.map(e=>e.id===t?{...e,status:"error",error:"Upload failed"}:e))}catch(e){l(s=>s.map(s=>s.id===t?{...s,status:"error",error:e instanceof Error?e.message:"Upload failed"}:s))}}},[e,l,c,p,j]),y=(0,t.useCallback)(e=>{e.preventDefault(),v(!1),b(e.dataTransfer.files)},[b]),w=(0,t.useCallback)(e=>{e.preventDefault(),v(!0)},[]),C=(0,t.useCallback)(e=>{e.preventDefault(),v(!1)},[]),k=(0,t.useCallback)(s=>{l(e.filter(e=>e.id!==s))},[e,l]);return(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:(0,u.cn)("relative border-2 border-dashed rounded-lg p-6 transition-colors cursor-pointer",f?"border-primary bg-primary/5":"border-muted-foreground/25 hover:border-primary/50",p&&"opacity-50 cursor-not-allowed"),onDrop:y,onDragOver:w,onDragLeave:C,onClick:()=>!p&&N.current?.click(),children:[(0,s.jsx)("input",{ref:N,type:"file",multiple:!0,accept:g.join(","),className:"hidden",onChange:e=>b(e.target.files),disabled:p}),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-2 text-center",children:[(0,s.jsx)("div",{className:"h-12 w-12 rounded-full bg-muted flex items-center justify-center",children:(0,s.jsx)(i.Upload,{className:"h-6 w-6 text-muted-foreground"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-sm",children:"Drop files here or click to upload"}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["PDF, images, Word, Excel up to 50MB (",e.length,"/",j," files)"]})]})]})]}),e.length>0&&(0,s.jsx)("div",{className:"space-y-2",children:e.map(e=>{var t;let i=h[e.type]||d.File;return(0,s.jsxs)("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50 group",children:[(0,s.jsx)("div",{className:"h-10 w-10 rounded-lg bg-background flex items-center justify-center shrink-0",children:(0,s.jsx)(i,{className:"h-5 w-5 text-muted-foreground"})}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("p",{className:"text-sm font-medium truncate",children:e.name}),"uploading"===e.status&&(0,s.jsx)(o.Loader2,{className:"h-3 w-3 animate-spin text-muted-foreground"}),"success"===e.status&&(0,s.jsx)(x.CheckCircle,{className:"h-3 w-3 text-green-500"}),"error"===e.status&&(0,s.jsx)(m.AlertCircle,{className:"h-3 w-3 text-destructive"})]}),"uploading"===e.status?(0,s.jsx)(r.Progress,{value:e.progress,className:"h-1 mt-1"}):"error"===e.status?(0,s.jsx)("p",{className:"text-xs text-destructive",children:e.error}):(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:(t=e.size)<1024?`${t} B`:t<1048576?`${(t/1024).toFixed(1)} KB`:`${(t/1048576).toFixed(1)} MB`})]}),(0,s.jsx)(a.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 opacity-0 group-hover:opacity-100 transition-opacity shrink-0",onClick:s=>{s.stopPropagation(),k(e.id)},children:(0,s.jsx)(n.X,{className:"h-4 w-4"})})]},e.id)})})]})}e.s(["PinBoardFileUpload",()=>p])},351802,e=>{"use strict";var s=e.i(111043),t=e.i(970799);e.i(889265);var a=e.i(677607);e.i(539870);var r=e.i(846358);e.i(51478);var i=e.i(635613);e.i(149989);var n=e.i(880177);e.i(526120);var l=e.i(610120);e.i(868198);var c=e.i(798764);e.i(223342);var d=e.i(395645);e.i(160973);var o=e.i(871124),m=e.i(641304),x=e.i(671606),u=e.i(606661),h=e.i(233654),g=e.i(552038),p=(0,g.createServerReference)("40dc77b5f9ca3202fa201ef81720e3cbace41ac8bc",g.callServer,void 0,g.findSourceMapURL,"createPinBoardPost"),j=(0,g.createServerReference)("60d423f9bdf26d134c4870cbc58040a267b22ce261",g.callServer,void 0,g.findSourceMapURL,"updatePinBoardPost"),f=(0,g.createServerReference)("40dde340a1ab28fdc9de8160ea41491ef22c26d9c8",g.callServer,void 0,g.findSourceMapURL,"uploadPinBoardFile"),v=(0,g.createServerReference)("6029f52d809220cbbca9b0eaa5cdbe24cbbc04f0bd",g.callServer,void 0,g.findSourceMapURL,"addPinBoardAttachment"),N=e.i(695398);function b({open:e,onOpenChange:g,post:b,categories:y}){let[w,C]=(0,t.useState)(!1),[k,S]=(0,t.useState)(null),[T,B]=(0,t.useState)("content"),[z,P]=(0,t.useState)(""),[D,M]=(0,t.useState)(""),[R,A]=(0,t.useState)(null),[F,L]=(0,t.useState)(!1),[E,_]=(0,t.useState)(!0),[I,U]=(0,t.useState)([]),[$,J]=(0,t.useState)([]);(0,t.useEffect)(()=>{e&&(b?(P(b.title),M(b.content||""),A(b.category_id),L(b.is_pinned),_(b.is_published),b.attachments&&b.attachments.length>0?U(b.attachments.map(e=>({id:e.id,name:e.file_name,size:e.file_size||0,type:e.file_type||"application/octet-stream",url:e.file_url,status:"success",progress:100}))):U([])):(P(""),M(""),A(null),L(!1),_(!0),U([])),J([]),S(null),B("content"))},[e,b]);let O=(0,t.useCallback)(async e=>{let s=new FormData;s.append("file",e),b?.id&&s.append("postId",b.id);let t=await f(s);if(t.success&&t.data)return{url:t.data.url,id:t.data.id};throw Error(t.error||"Upload failed")},[b?.id]),W=async e=>{e.preventDefault(),S(null),C(!0);try{let e,s={title:z,content:D,categoryId:R,isPinned:F,isPublished:E,priority:0},t=b?.id;if(b?e=await j(b.id,s):(e=await p(s)).success&&e.data&&(t=e.data.id),!e.success)return void S(e.error||"Failed to save post");if(!b&&t)for(let e of I.filter(e=>"success"===e.status))e.url&&!e.id.startsWith("temp-")||e.url&&await v(t,{fileName:e.name,fileType:e.type,fileSize:e.size,fileUrl:e.url});g(!1)}catch(e){S(e instanceof Error?e.message:"An error occurred")}finally{C(!1)}},H=I.filter(e=>"success"===e.status).length;return(0,s.jsx)(r.Dialog,{open:e,onOpenChange:g,children:(0,s.jsxs)(r.DialogContent,{className:"max-w-2xl max-h-[85vh] overflow-hidden flex flex-col",children:[(0,s.jsx)(r.DialogHeader,{children:(0,s.jsx)(r.DialogTitle,{children:b?"Edit Post":"Create New Post"})}),(0,s.jsxs)("form",{onSubmit:W,className:"flex flex-col flex-1 overflow-hidden",children:[k&&(0,s.jsx)("div",{className:"p-3 text-sm text-destructive bg-destructive/10 rounded-lg mb-4",children:k}),(0,s.jsxs)(o.Tabs,{value:T,onValueChange:B,className:"flex-1 flex flex-col overflow-hidden",children:[(0,s.jsxs)(o.TabsList,{className:"grid w-full grid-cols-2",children:[(0,s.jsxs)(o.TabsTrigger,{value:"content",className:"gap-2",children:[(0,s.jsx)(u.FileText,{className:"h-4 w-4"}),"Content"]}),(0,s.jsxs)(o.TabsTrigger,{value:"attachments",className:"gap-2",children:[(0,s.jsx)(h.Paperclip,{className:"h-4 w-4"}),"Attachments",H>0&&(0,s.jsx)("span",{className:"ml-1 text-xs bg-primary/20 px-1.5 py-0.5 rounded-full",children:H})]})]}),(0,s.jsxs)(o.TabsContent,{value:"content",className:"flex-1 overflow-y-auto space-y-4 mt-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(n.Label,{htmlFor:"title",children:"Title *"}),(0,s.jsx)(i.Input,{id:"title",value:z,onChange:e=>P(e.target.value),placeholder:"Enter post title...",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(n.Label,{htmlFor:"category",children:"Category"}),(0,s.jsxs)(c.Select,{value:R||"none",onValueChange:e=>A("none"===e?null:e),children:[(0,s.jsx)(c.SelectTrigger,{children:(0,s.jsx)(c.SelectValue,{placeholder:"Select a category"})}),(0,s.jsxs)(c.SelectContent,{children:[(0,s.jsx)(c.SelectItem,{value:"none",children:"No Category"}),y.map(e=>(0,s.jsx)(c.SelectItem,{value:e.id,children:e.name},e.id))]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(n.Label,{htmlFor:"content",children:"Content"}),(0,s.jsx)(l.Textarea,{id:"content",value:D,onChange:e=>M(e.target.value),placeholder:"Write your content here... (Supports basic HTML)",className:"min-h-[200px] font-mono text-sm"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:'Tip: Use basic HTML like <b>, <i>, <ul>, <li>, <a href="..."> for formatting.'})]}),(0,s.jsxs)("div",{className:"flex items-center gap-6 pt-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(d.Switch,{id:"pinned",checked:F,onCheckedChange:L}),(0,s.jsxs)(n.Label,{htmlFor:"pinned",className:"flex items-center gap-1.5 cursor-pointer",children:[(0,s.jsx)(x.Pin,{className:"h-3.5 w-3.5"}),"Pin to top"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(d.Switch,{id:"published",checked:E,onCheckedChange:_}),(0,s.jsx)(n.Label,{htmlFor:"published",className:"cursor-pointer",children:"Published"})]})]})]}),(0,s.jsx)(o.TabsContent,{value:"attachments",className:"flex-1 overflow-y-auto mt-4",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-medium mb-1",children:"Upload Files"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Add PDFs, images, Word documents, or spreadsheets to this post. Files will be viewable and downloadable by all team members."})]}),(0,s.jsx)(N.PinBoardFileUpload,{files:I,onFilesChange:U,onUpload:O,disabled:w})]})})]}),(0,s.jsxs)(r.DialogFooter,{className:"mt-4 pt-4 border-t",children:[(0,s.jsx)(a.Button,{type:"button",variant:"outline",onClick:()=>g(!1),disabled:w,children:"Cancel"}),(0,s.jsxs)(a.Button,{type:"submit",disabled:w||!z.trim(),children:[w&&(0,s.jsx)(m.Loader2,{className:"h-4 w-4 mr-2 animate-spin"}),b?"Update Post":"Create Post"]})]})]})]})})}e.s(["PinBoardEditorDialog",()=>b],351802)},103455,e=>{"use strict";var s=e.i(111043),t=e.i(970799);e.i(553153);var a=e.i(363712);e.i(889265);var r=e.i(677607);e.i(51478);var i=e.i(635613),n=e.i(671606),l=e.i(371526),c=e.i(287268),d=e.i(606661),o=e.i(202724),m=e.i(327149),x=e.i(639708),u=e.i(607384),h=e.i(585319),g=e.i(212409),p=e.i(935474),j=e.i(351802);let f={"file-text":d.FileText,users:o.Users,briefcase:m.Briefcase,megaphone:x.Megaphone,"graduation-cap":u.GraduationCap,folder:h.Folder},v={blue:"bg-blue-500/10 text-blue-500 hover:bg-blue-500/20 border-blue-500/20",green:"bg-green-500/10 text-green-500 hover:bg-green-500/20 border-green-500/20",purple:"bg-purple-500/10 text-purple-500 hover:bg-purple-500/20 border-purple-500/20",orange:"bg-orange-500/10 text-orange-500 hover:bg-orange-500/20 border-orange-500/20",cyan:"bg-cyan-500/10 text-cyan-500 hover:bg-cyan-500/20 border-cyan-500/20",red:"bg-red-500/10 text-red-500 hover:bg-red-500/20 border-red-500/20",yellow:"bg-yellow-500/10 text-yellow-600 hover:bg-yellow-500/20 border-yellow-500/20"};function N({categories:e,posts:o,categoryStats:m,companyId:x}){let[u,N]=(0,t.useState)(null),[b,y]=(0,t.useState)(""),[w,C]=(0,t.useState)(!1),[k,S]=(0,t.useState)(null),T=(0,t.useMemo)(()=>{let e=o;if(u&&(e=e.filter(e=>e.category?.slug===u)),b.trim()){let s=b.toLowerCase();e=e.filter(e=>e.title.toLowerCase().includes(s)||e.excerpt?.toLowerCase().includes(s)||e.content?.toLowerCase().includes(s))}return e},[o,u,b]),B=T.filter(e=>e.is_pinned),z=T.filter(e=>!e.is_pinned),P=()=>{S(null),C(!0)},D=e=>{S(e),C(!0)};return(0,s.jsxs)("div",{className:"bg-card/50 border-border/50 backdrop-blur-sm rounded-xl border overflow-hidden",children:[(0,s.jsxs)("div",{className:"p-6 border-b border-border/50",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"h-10 w-10 rounded-lg bg-primary/10 flex items-center justify-center",children:(0,s.jsx)(n.Pin,{className:"h-5 w-5 text-primary"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-xl font-semibold",children:"Content Portal"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"SOPs, resources, and company announcements"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(c.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,s.jsx)(i.Input,{placeholder:"Search posts...",value:b,onChange:e=>y(e.target.value),className:"pl-9 w-64"}),b&&(0,s.jsx)(r.Button,{variant:"ghost",size:"icon",className:"absolute right-1 top-1/2 -translate-y-1/2 h-6 w-6",onClick:()=>y(""),children:(0,s.jsx)(g.X,{className:"h-3 w-3"})})]}),(0,s.jsxs)(r.Button,{onClick:P,size:"sm",children:[(0,s.jsx)(l.Plus,{className:"h-4 w-4 mr-1"}),"New Post"]})]})]}),(0,s.jsx)("div",{className:"mt-4 -mx-2 px-2 overflow-x-auto",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 pb-2",children:[(0,s.jsxs)(r.Button,{variant:null===u?"default":"outline",size:"sm",onClick:()=>N(null),className:"shrink-0",children:["All",(0,s.jsx)(a.Badge,{variant:"secondary",className:"ml-2 h-5 px-1.5 text-[10px]",children:m.all||0})]}),e.map(e=>{let t=f[e.icon]||h.Folder,i=v[e.color]||v.blue,n=m[e.id]||0;return(0,s.jsxs)(r.Button,{variant:u===e.slug?"default":"outline",size:"sm",onClick:()=>N(e.slug),className:"shrink-0",children:[(0,s.jsx)(t,{className:"h-3.5 w-3.5 mr-1.5"}),e.name,n>0&&(0,s.jsx)(a.Badge,{variant:"secondary",className:`ml-2 h-5 px-1.5 text-[10px] ${u===e.slug?"":i}`,children:n})]},e.id)})]})})]}),(0,s.jsx)("div",{className:"p-6",children:0===T.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)("div",{className:"h-12 w-12 rounded-full bg-muted/50 flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)(d.FileText,{className:"h-6 w-6 text-muted-foreground"})}),(0,s.jsx)("h3",{className:"font-medium text-muted-foreground mb-1",children:b?"No results found":"No posts yet"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:b?"Try adjusting your search terms":"Create your first post to share with your team"}),!b&&(0,s.jsxs)(r.Button,{onClick:P,className:"mt-4",size:"sm",children:[(0,s.jsx)(l.Plus,{className:"h-4 w-4 mr-1"}),"Create First Post"]})]}):(0,s.jsxs)("div",{className:"space-y-6",children:[B.length>0&&(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[(0,s.jsx)(n.Pin,{className:"h-3.5 w-3.5"}),"Pinned"]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:B.map(e=>(0,s.jsx)(p.PinBoardPostCard,{post:e,onEdit:()=>D(e)},e.id))})]}),z.length>0&&(0,s.jsxs)("div",{className:"space-y-3",children:[B.length>0&&(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm font-medium text-muted-foreground",children:[(0,s.jsx)(d.FileText,{className:"h-3.5 w-3.5"}),"Recent"]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:z.map(e=>(0,s.jsx)(p.PinBoardPostCard,{post:e,onEdit:()=>D(e)},e.id))})]})]})}),(0,s.jsx)(j.PinBoardEditorDialog,{open:w,onOpenChange:C,post:k,categories:e})]})}e.s(["PinBoardContent",()=>N])}]);