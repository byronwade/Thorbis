(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,432716,e=>{"use strict";let r=(0,e.i(383206).default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["default",()=>r])},882525,e=>{"use strict";var r=e.i(432716);e.s(["Copy",()=>r.default])},616291,e=>{"use strict";let r=(0,e.i(383206).default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["default",()=>r])},664136,e=>{"use strict";var r=e.i(616291);e.s(["Edit",()=>r.default])},926991,e=>{"use strict";let r=(0,e.i(383206).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);e.s(["default",()=>r])},51866,e=>{"use strict";var r=e.i(926991);e.s(["ChevronLeft",()=>r.default])},172506,e=>{"use strict";var r=e.i(306929);e.s(["ArrowDown",()=>r.default])},698684,e=>{"use strict";let r=(0,e.i(383206).default)("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);e.s(["default",()=>r])},407205,e=>{"use strict";var r=e.i(698684);e.s(["ArrowUp",()=>r.default])},306929,e=>{"use strict";let r=(0,e.i(383206).default)("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);e.s(["default",()=>r])},573951,e=>{"use strict";let r=(0,e.i(383206).default)("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);e.s(["default",()=>r])},635709,e=>{"use strict";e.s(["TablePresets",0,{fullList:(e={})=>({variant:"full",enableSelection:e.enableSelection??!0,showRefresh:e.showRefresh??!1,showPagination:e.showPagination??!0,itemsPerPage:e.itemsPerPage??50,serverPagination:e.serverPagination??!1,serverSearch:e.serverSearch??!1,searchPlaceholder:e.searchPlaceholder??"Search...",entity:e.entity,noPadding:e.noPadding??!1}),compact:(e={})=>({variant:"compact",enableSelection:e.enableSelection??!1,showRefresh:e.showRefresh??!1,showPagination:e.showPagination??!0,itemsPerPage:e.itemsPerPage??20,serverPagination:e.serverPagination??!1,serverSearch:e.serverSearch??!1,searchPlaceholder:e.searchPlaceholder??"Search...",entity:e.entity,noPadding:e.noPadding??!1}),nested:(e={})=>({variant:"nested",enableSelection:e.enableSelection??!1,showRefresh:e.showRefresh??!1,showPagination:e.showPagination??!1,itemsPerPage:e.itemsPerPage??10,serverPagination:e.serverPagination??!1,serverSearch:e.serverSearch??!1,entity:e.entity,noPadding:e.noPadding??!0}),serverPaginated:(e={})=>({variant:"full",enableSelection:e.enableSelection??!0,showRefresh:e.showRefresh??!1,showPagination:e.showPagination??!0,itemsPerPage:e.itemsPerPage??50,serverPagination:!0,serverSearch:!0,searchPlaceholder:e.searchPlaceholder??"Search...",entity:e.entity,noPadding:e.noPadding??!1}),readOnly:(e={})=>({variant:e.itemsPerPage?"full":"compact",enableSelection:!1,showRefresh:!1,showPagination:e.showPagination??!!e.itemsPerPage,itemsPerPage:e.itemsPerPage??20,serverPagination:e.serverPagination??!1,serverSearch:!1,entity:e.entity,noPadding:e.noPadding??!1}),modal:(e={})=>({variant:"compact",enableSelection:e.enableSelection??!0,showRefresh:!1,showPagination:e.showPagination??!1,itemsPerPage:e.itemsPerPage??10,serverPagination:!1,serverSearch:!1,searchPlaceholder:e.searchPlaceholder??"Search...",noPadding:!0})}])},222121,750966,e=>{"use strict";e.i(116233),e.s([],222121);var r=e.i(904653),t=e.i(995403);function s({entityType:e,basePath:s}){let a=(0,r.useRouter)(),i={jobs:"job",invoices:"invoice",estimates:"estimate",payments:"payment",contracts:"contract",appointments:"appointment",equipment:"equipment","maintenance-plans":"maintenance plan","service-agreements":"service agreement","purchase-orders":"purchase order",properties:"property",customers:"customer"}[e]||e,n=s||`/dashboard/work/${e}`,o=async(e,r)=>{try{return await r(e),t.toast.success(`${e.length} ${i}s archived successfully`),a.refresh(),!0}catch(e){return console.error(`Failed to archive ${i}s:`,e),t.toast.error(`Failed to archive ${i}s`),!1}};return{handleRowClick:e=>{a.push(`${n}/${e}`)},handleArchive:async(e,r)=>{try{return await r(e),t.toast.success(`${i} archived successfully`),a.refresh(),!0}catch(e){return console.error(`Failed to archive ${i}:`,e),t.toast.error(`Failed to archive ${i}`),!1}},handleBulkArchive:o,handleRestore:async(e,r)=>{try{return await r(e),t.toast.success(`${i} restored successfully`),a.refresh(),!0}catch(e){return console.error(`Failed to restore ${i}:`,e),t.toast.error(`Failed to restore ${i}`),!1}},handleRefresh:()=>{a.refresh(),t.toast.success("Refreshed")},createSearchFilter:e=>(r,t)=>{let s=t.toLowerCase().trim();return!s||e.some(e=>{let t=r[e];return null!=t&&String(t).toLowerCase().includes(s)})},createBulkActions:e=>{let r=[];return e.archive&&r.push({label:"Archive Selected",onClick:r=>o(r,e.archive)}),e.export&&r.push({label:"Export Selected",onClick:async r=>{try{await e.export(r),t.toast.success(`Exported ${r.length} ${i}s`)}catch(e){t.toast.error("Failed to export")}}}),e.delete&&r.push({label:"Delete Selected",onClick:async r=>{try{await e.delete(r),t.toast.success(`Deleted ${r.length} ${i}s`),a.refresh()}catch(e){t.toast.error("Failed to delete")}}}),r},entityLabel:i}}e.s(["useTableActions",()=>s],750966)},800364,e=>{"use strict";let r=(0,e.i(383206).default)("box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);e.s(["default",()=>r])},922809,e=>{"use strict";var r=e.i(800364);e.s(["Box",()=>r.default])},313342,e=>{"use strict";var r=e.i(111043),t=e.i(946672),s=e.i(922809),a=e.i(882525),i=e.i(982686),n=e.i(664136),o=e.i(367571),l=e.i(38614),c=e.i(60179),d=e.i(697029),h=e.i(823167),m=e.i(176378),u=e.i(970799),x=e.i(552038),g=(0,x.createServerReference)("407b4c1fe4d280f59e21f5c9f74d7df6e4f134ef32",x.callServer,void 0,x.findSourceMapURL,"archivePriceBookItem");e.i(222121);var p=e.i(473485);e.i(553153);var f=e.i(363712);e.i(889265);var v=e.i(677607);e.i(244242);var b=e.i(563078),j=e.i(527756),w=e.i(750966),y=e.i(635709),k=e.i(871509),N=e.i(611532),P=e.i(152088);function C({items:e,itemsPerPage:x=50,onRefresh:C}){let S=(0,N.usePriceBookStore)(e=>e.itemTypeFilter),A=(0,N.usePriceBookStore)(e=>e.categoryFilter),M=(0,N.usePriceBookStore)(e=>e.getFilterSummary),{handleRefresh:T}=(0,w.useTableActions)({entityType:"price_book"}),{openArchiveDialog:$,ArchiveDialogComponent:B}=(0,p.useArchiveDialog)({onConfirm:async e=>{(await g(e)).success&&T()},title:"Archive Price Book Item?",description:"This item will be archived and can be restored within 90 days."}),[R,D]=(0,u.useState)(new Set),{openArchiveDialog:F,ArchiveDialogComponent:L}=(0,p.useArchiveDialog)({onConfirm:async()=>{let e=0;for(let r of R)(await g(r)).success&&e++;e>0&&T()},title:`Archive ${R.size} Item(s)?`,description:`${R.size} item(s) will be archived and can be restored within 90 days.`}),z=e.filter(e=>("all"===S||e.itemType===S)&&(!A.category||e.category===A.category&&(!A.subcategory||!!e.subcategory?.includes(A.subcategory)))&&!0),I=[{key:"image",header:"",width:"w-12",shrink:!0,hideOnMobile:!0,render:e=>(0,r.jsx)("div",{className:"bg-muted flex h-10 w-10 items-center justify-center overflow-hidden rounded-md border",children:e.imageUrl?(0,r.jsx)(h.default,{alt:e.name,className:"h-full w-full object-cover",src:e.imageUrl,width:40,height:40}):(0,r.jsx)(c.Package,{className:"text-muted-foreground h-4 w-4"})})},{key:"name",header:"Item Name",width:"flex-1",render:e=>(0,r.jsxs)("div",{className:"min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(m.default,{className:"text-foreground truncate text-xs leading-tight font-medium hover:underline",href:`/dashboard/work/pricebook/${e.id}`,onClick:e=>e.stopPropagation(),children:e.name}),e.priceTier&&"standard"!==e.priceTier&&(0,r.jsxs)("span",{className:"text-muted-foreground text-xs",children:["- ","good"===e.priceTier&&"Good","better"===e.priceTier&&"Better","best"===e.priceTier&&"Best"]})]}),(0,r.jsxs)("div",{className:"text-muted-foreground flex items-center gap-2 text-xs",children:[(0,r.jsxs)("span",{className:"truncate font-mono",children:["SKU: ",e.sku]}),(0,r.jsx)("span",{children:"•"}),(0,r.jsx)("span",{children:"service"===e.itemType?"Service":"material"===e.itemType?"Material":"Equipment"}),e.isFlatRate&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"•"}),(0,r.jsx)("span",{children:"Flat Rate"})]})]})]})},{key:"category",header:"Category",width:"w-48",shrink:!0,hideOnMobile:!0,render:e=>{let t=e.subcategory?`${e.category} › ${e.subcategory}`:e.category;return(0,r.jsx)("div",{className:"text-muted-foreground truncate text-xs",children:t})}},{key:"labor",header:"Labor",width:"w-20",shrink:!0,align:"right",hideOnMobile:!0,render:e=>"service"===e.itemType&&e.laborHours?(0,r.jsxs)("div",{className:"text-muted-foreground flex items-center gap-1 text-xs",children:[(0,r.jsx)("span",{className:"font-medium",children:e.laborHours}),(0,r.jsx)("span",{className:"text-xs",children:"hrs"})]}):(0,r.jsx)("div",{className:"text-muted-foreground text-xs",children:"—"})},{key:"cost",header:"Cost",width:"w-24",shrink:!0,align:"right",hideOnMobile:!0,render:e=>(0,r.jsx)("div",{className:"text-muted-foreground text-xs font-medium",children:(0,k.formatCurrency)(e.cost)})},{key:"price",header:"Price",width:"w-28",shrink:!0,align:"right",render:e=>(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"text-foreground text-xs font-semibold",children:(0,k.formatCurrency)(e.price)}),(0,r.jsx)("div",{className:"text-muted-foreground text-xs",children:e.unit})]})},{key:"markup",header:"Markup",width:"w-20",shrink:!0,align:"right",hideOnMobile:!0,render:e=>(0,r.jsxs)("div",{className:"text-success dark:text-success text-xs font-medium",children:[e.markupPercent,"%"]})},{key:"status",header:"Status",width:"w-24",shrink:!0,hideOnMobile:!0,render:e=>e.isActive?null:(0,r.jsx)(f.Badge,{className:(0,P.cn)("text-xs font-medium","border-border/50 bg-background text-muted-foreground"),variant:"outline",children:"Inactive"})},{key:"actions",header:"",width:"w-12",shrink:!0,align:"right",render:e=>(0,r.jsx)("div",{"data-no-row-click":!0,children:(0,r.jsxs)(b.DropdownMenu,{children:[(0,r.jsx)(b.DropdownMenuTrigger,{asChild:!0,children:(0,r.jsxs)(v.Button,{className:"h-8 w-8 p-0",variant:"ghost",children:[(0,r.jsx)("span",{className:"sr-only",children:"Open menu"}),(0,r.jsx)(l.MoreHorizontal,{className:"h-4 w-4"})]})}),(0,r.jsxs)(b.DropdownMenuContent,{align:"end",children:[(0,r.jsx)(b.DropdownMenuLabel,{children:"Actions"}),(0,r.jsx)(b.DropdownMenuItem,{asChild:!0,onClick:e=>e.stopPropagation(),children:(0,r.jsxs)(m.default,{href:`/dashboard/work/pricebook/${e.id}`,children:[(0,r.jsx)(o.Eye,{className:"mr-2 h-4 w-4"}),"View Details"]})}),(0,r.jsx)(b.DropdownMenuItem,{asChild:!0,onClick:e=>e.stopPropagation(),children:(0,r.jsxs)(m.default,{href:`/dashboard/work/pricebook/${e.id}/edit`,children:[(0,r.jsx)(n.Edit,{className:"mr-2 h-4 w-4"}),"Edit Item"]})}),(0,r.jsxs)(b.DropdownMenuItem,{onClick:e=>e.stopPropagation(),children:[(0,r.jsx)(a.Copy,{className:"mr-2 h-4 w-4"}),"Duplicate"]}),(0,r.jsx)(b.DropdownMenuSeparator,{}),(0,r.jsxs)(b.DropdownMenuItem,{className:"text-warning dark:text-warning",onClick:e=>e.stopPropagation(),children:[(0,r.jsx)(t.Archive,{className:"mr-2 h-4 w-4"}),e.isActive?"Deactivate":"Activate"]}),(0,r.jsxs)(b.DropdownMenuItem,{className:"text-destructive",onClick:()=>{$(e.id)},children:[(0,r.jsx)(t.Archive,{className:"mr-2 size-4"}),"Archive Item"]})]})]})})}],U=[{label:"Mass Price Update",icon:(0,r.jsx)(d.TrendingUp,{className:"h-4 w-4"}),onClick:()=>{}},{label:"Change Category",icon:(0,r.jsx)(c.Package,{className:"h-4 w-4"}),onClick:()=>{}},{label:"Bulk Export",icon:(0,r.jsx)(i.DollarSign,{className:"h-4 w-4"}),onClick:()=>{}},{label:"Archive Selected",icon:(0,r.jsx)(t.Archive,{className:"h-4 w-4"}),variant:"destructive",onClick:async e=>{D(e),F("")}}],E=M(),H="All Items"!==E?`No items found for: ${E}`:"No price book items found";return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex h-full flex-col",children:["All Items"!==E&&(0,r.jsx)("div",{className:"bg-muted/30 shrink-0 border-b px-6 py-3",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"text-muted-foreground text-xs",children:"Showing:"}),(0,r.jsx)(f.Badge,{className:"font-medium",variant:"secondary",children:E}),(0,r.jsxs)("span",{className:"text-muted-foreground text-xs",children:["(",z.length," ",1===z.length?"item":"items",")"]})]})}),(0,r.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,r.jsx)(j.FullWidthDataTable,{...y.TablePresets.fullList(),bulkActions:U,columns:I,data:z,emptyIcon:(0,r.jsx)(s.Box,{className:"text-muted-foreground h-8 w-8"}),emptyMessage:H,getItemId:e=>e.id,onRefresh:T,onRowClick:e=>{window.location.href=`/dashboard/work/pricebook/${e.id}`},searchFilter:(e,r)=>{let t=r.toLowerCase();return e.name.toLowerCase().includes(t)||e.sku.toLowerCase().includes(t)||e.category.toLowerCase().includes(t)||(e.subcategory?.toLowerCase()||"").includes(t)||(e.description?.toLowerCase()||"").includes(t)||(e.supplierName?.toLowerCase()||"").includes(t)||(e.tags?.some(e=>e.toLowerCase().includes(t))??!1)},searchPlaceholder:"Search by name, SKU, category, or tags...",showPagination:!0,showRefresh:!0})})]}),(0,r.jsx)(B,{}),(0,r.jsx)(L,{})]})}e.s(["PriceBookTable",()=>C],313342)},119523,e=>{"use strict";var r=e.i(970799),t=e.i(611532);function s({categoryPath:e}){let s=(0,t.usePriceBookStore)(e=>e.navigateToPath),a=(0,t.usePriceBookStore)(e=>e.navigationPath);return(0,r.useEffect)(()=>{a.length===e.length&&a.every((r,t)=>r===e[t])||s(e)},[e,a,s]),null}e.s(["CategoryNavigationSync",()=>s])},131969,e=>{"use strict";var r=e.i(111043),t=e.i(904653),s=e.i(313342),a=e.i(1911),i=e.i(611532),n=e.i(87912);e.i(254851);var o=e.i(605278),l=e.i(152088);function c({name:e,count:t,description:s,imageUrl:a,onClick:i,variant:c="default"}){let d=a&&"default"===c;return(0,r.jsxs)(o.Card,{className:(0,l.cn)("group relative h-40 cursor-pointer overflow-hidden transition-all hover:shadow-xl","add"===c?"hover:border-primary/50 border-dashed":"hover:border-primary/50"),onClick:i,children:[d?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-cover bg-center transition-transform duration-300 group-hover:scale-105",style:{backgroundImage:`url(${a})`}}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-black/60 via-black/50 to-black/70"})]}):(0,r.jsx)("div",{className:(0,l.cn)("absolute inset-0 bg-gradient-to-br transition-opacity","add"===c?"from-muted/50 to-muted/30":"from-primary/10 via-primary/5 to-background")}),(0,r.jsx)("div",{className:"relative flex h-full flex-col justify-end p-6",children:(0,r.jsxs)("div",{className:"flex items-end justify-between gap-4",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h3",{className:(0,l.cn)("mb-1 text-lg leading-tight font-semibold",d?"text-white":"text-foreground"),children:e}),s?(0,r.jsx)("p",{className:(0,l.cn)("text-sm",d?"text-white/80":"text-muted-foreground"),children:s}):"default"===c&&(0,r.jsxs)("p",{className:(0,l.cn)("text-sm",d?"text-white/80":"text-muted-foreground"),children:[t," ",1===t?"item":"items"]})]}),(0,r.jsx)(n.ChevronRight,{className:(0,l.cn)("size-6 shrink-0 transition-transform group-hover:translate-x-1",d?"text-white/80":"text-muted-foreground")})]})})]})}var d=e.i(60179),h=e.i(922809),m=e.i(664136),u=e.i(371526),x=e.i(501651),g=e.i(823167),p=e.i(176378);e.i(889265);var f=e.i(677607);let v={service:{icon:x.Wrench,label:"Service",color:"bg-primary/10 text-primary border-primary/20"},material:{icon:d.Package,label:"Material",color:"bg-accent/10 text-accent-foreground border-border/20"},equipment:{icon:h.Box,label:"Equipment",color:"bg-warning/10 text-warning border-warning/20"}};function b({item:e,onEdit:t,onAddToEstimate:s}){let a=v[e.itemType],i=a.icon;return(0,r.jsx)(o.Card,{className:"group relative overflow-hidden transition-all hover:shadow-lg",children:(0,r.jsxs)(p.default,{href:`/dashboard/work/pricebook/${e.id}`,children:[(0,r.jsxs)("div",{className:"bg-muted relative aspect-square w-full overflow-hidden",children:[e.imageUrl?(0,r.jsx)(g.default,{alt:e.name,className:"object-cover transition-transform group-hover:scale-105",fill:!0,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",src:e.imageUrl}):(0,r.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,r.jsx)(i,{className:"text-muted-foreground/30 h-16 w-16"})}),(0,r.jsxs)("div",{className:"absolute right-0 bottom-0 left-0 flex gap-2 bg-gradient-to-t from-black/60 to-transparent p-3 opacity-0 transition-opacity group-hover:opacity-100",children:[(0,r.jsxs)(f.Button,{className:"flex-1",onClick:r=>{r.preventDefault(),t?.(e.id)},size:"sm",variant:"secondary",children:[(0,r.jsx)(m.Edit,{className:"mr-1 size-3"}),"Edit"]}),(0,r.jsxs)(f.Button,{className:"flex-1",onClick:r=>{r.preventDefault(),s?.(e.id)},size:"sm",variant:"default",children:[(0,r.jsx)(u.Plus,{className:"mr-1 size-3"}),"Add"]})]})]}),(0,r.jsx)(o.CardHeader,{className:"space-y-1 p-4 pb-2",children:(0,r.jsx)("div",{className:"flex items-start justify-between gap-2",children:(0,r.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,r.jsxs)("h3",{className:"line-clamp-2 leading-tight font-medium",children:[e.name,e.priceTier&&"standard"!==e.priceTier&&(0,r.jsxs)("span",{className:"text-muted-foreground ml-2 text-xs font-normal",children:["- ","good"===e.priceTier&&"Good","better"===e.priceTier&&"Better","best"===e.priceTier&&"Best"]})]}),(0,r.jsxs)("div",{className:"text-muted-foreground flex items-center gap-2 text-xs",children:[(0,r.jsxs)("span",{children:["SKU: ",e.sku]}),(0,r.jsx)("span",{children:"•"}),(0,r.jsxs)("span",{className:"flex items-center gap-1",children:[(0,r.jsx)(i,{className:"size-3"}),a.label]}),e.isFlatRate&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"•"}),(0,r.jsx)("span",{children:"Flat Rate"})]})]})]})})}),(0,r.jsxs)(o.CardContent,{className:"p-4 pt-0",children:[(0,r.jsxs)("div",{className:"text-muted-foreground mb-2 flex flex-wrap gap-1 text-xs",children:[(0,r.jsx)("span",{children:e.category}),e.subcategory&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"›"}),(0,r.jsx)("span",{children:e.subcategory})]})]}),(0,r.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,r.jsxs)("span",{className:"text-2xl font-semibold",children:["$",e.price.toFixed(2)]}),e.cost&&e.cost<e.price&&(0,r.jsxs)("span",{className:"text-muted-foreground text-sm",children:["(",e.markupPercent,"% markup)"]})]}),"service"===e.itemType&&e.laborHours&&(0,r.jsxs)("div",{className:"text-muted-foreground mt-1 text-xs",children:[e.laborHours," ",1===e.laborHours?"hour":"hours"]}),e.unit&&"each"!==e.unit&&(0,r.jsxs)("div",{className:"text-muted-foreground mt-1 text-xs",children:["per ",e.unit]})]}),e.supplierName&&(0,r.jsx)(o.CardFooter,{className:"bg-muted/30 border-t p-3",children:(0,r.jsxs)("div",{className:"text-muted-foreground flex items-center gap-2 text-xs",children:[(0,r.jsx)(d.Package,{className:"size-3"}),(0,r.jsx)("span",{children:e.supplierName})]})})]})})}function j({items:e,isLoading:t=!1,emptyMessage:s="No items found",onEdit:a,onAddToEstimate:i}){return t?(0,r.jsx)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:Array.from({length:8}).map((e,t)=>(0,r.jsx)("div",{className:"bg-muted aspect-square animate-pulse rounded-lg"},t))}):0===e.length?(0,r.jsxs)("div",{className:"flex min-h-[400px] flex-col items-center justify-center rounded-lg border border-dashed p-8 text-center",children:[(0,r.jsx)(d.Package,{className:"text-muted-foreground/50 mb-4 h-12 w-12"}),(0,r.jsx)("h3",{className:"mb-2 text-lg font-semibold",children:s}),(0,r.jsx)("p",{className:"text-muted-foreground text-sm",children:"Try adjusting your filters or search term"})]}):(0,r.jsx)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:e.map(e=>(0,r.jsx)(b,{item:e,onAddToEstimate:i,onEdit:a},e.id))})}function w({items:e,categories:n=[],itemsPerPage:o=50}){let l=(0,t.useRouter)(),d=(0,i.usePriceBookStore)(e=>e.navigationPath),h=(0,i.usePriceBookStore)(e=>e.viewMode),m=(()=>{let e=n;for(let r of d){let t=e.find(e=>e.name===r);if(!t?.children)return[];e=t.children}return e})(),u=0===d.length?[]:e.filter(e=>{let r=e.subcategory?`${e.category} › ${e.subcategory}`.split(" › "):[e.category];return r.length===d.length&&d.every((e,t)=>r[t]===e)}),x=m.length>0,g=u.length>0;return(0,r.jsxs)(r.Fragment,{children:[x&&(0,r.jsx)("div",{className:"px-6 py-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:[m.map(e=>(0,r.jsx)(c,{count:e.count,imageUrl:e.imageUrl,name:e.name,onClick:()=>{let r=[...d,e.name],t=(0,a.buildCategoryUrl)(r);l.push(t)},variant:"default"},e.name)),(0,r.jsx)(c,{count:0,description:"Create a new category",name:0===d.length?"Add Category":"Add Subcategory",onClick:()=>{},variant:"add"})]})}),g&&("table"===h?(0,r.jsx)(s.PriceBookTable,{items:u,itemsPerPage:o}):(0,r.jsx)("div",{className:"px-6 py-6",children:(0,r.jsx)(j,{emptyMessage:"No items found in this category",items:u})})),!(x||g)&&d.length>0&&(0,r.jsx)("div",{className:"flex min-h-[calc(100vh-20rem)] items-center justify-center px-6 py-12",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"bg-muted mx-auto mb-4 flex size-16 items-center justify-center rounded-full",children:(0,r.jsx)("svg",{className:"text-muted-foreground size-8",fill:"none",stroke:"currentColor",strokeWidth:1.5,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,r.jsx)("h3",{className:"text-foreground mb-2 text-lg font-semibold",children:"No items yet"}),(0,r.jsx)("p",{className:"text-muted-foreground mx-auto mb-6 max-w-sm text-sm",children:"This category is empty. Start building your price book by adding items or creating subcategories."}),(0,r.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,r.jsxs)("button",{className:"bg-primary text-primary-foreground hover:bg-primary/90 inline-flex items-center gap-2 rounded-lg px-4 py-2 text-sm font-medium transition-colors",onClick:()=>{},children:[(0,r.jsx)("svg",{className:"size-4",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M12 4v16m8-8H4",strokeLinecap:"round",strokeLinejoin:"round"})}),"Add Item"]}),(0,r.jsxs)("button",{className:"border-border bg-background hover:bg-muted inline-flex items-center gap-2 rounded-lg border px-4 py-2 text-sm font-medium transition-colors",onClick:()=>{},children:[(0,r.jsx)("svg",{className:"size-4",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z",strokeLinecap:"round",strokeLinejoin:"round"})}),"Add Subcategory"]})]})]})})]})}e.s(["DrillDownView",()=>w],131969)}]);