(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,828957,e=>{"use strict";var t=e.i(111043),a=e.i(904653),s=e.i(278728),l=e.i(371526),r=e.i(176378),n=e.i(528347);e.i(889265);var i=e.i(677607);e.i(287133);var o=e.i(120109);function c(){return(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(n.ImportExportDropdownLazy,{dataType:"properties"}),(0,t.jsx)(o.Separator,{className:"h-6",orientation:"vertical"}),(0,t.jsx)(i.Button,{asChild:!0,className:"gap-2 font-medium",size:"sm",children:(0,t.jsxs)(r.default,{href:"/dashboard/work/properties/new",children:[(0,t.jsx)(l.Plus,{className:"size-4"}),"Add Property"]})})]})}var d=e.i(203032),u=e.i(524525),m=e.i(512710),h=e.i(148347),x=e.i(970799);e.i(553153);var v=e.i(363712);e.i(244242);var p=e.i(563078);e.i(51478);var j=e.i(635613);e.i(868198);var g=e.i(798764),b=e.i(220168),f=e.i(399168),S=e.i(781403);let N={archiveStatus:"active",status:"all",assignedTo:"",customerName:"",appointmentNumber:""},y=(0,f.create)()((0,S.persist)(e=>({filters:N,setFilters:t=>e(e=>({filters:{...e.filters,...t}})),resetFilters:()=>e({filters:N})}),{name:"appointments-filters",skipHydration:!0}));function C({activeCount:e,archivedCount:a,totalCount:s}){let l=y(e=>e.filters),r=y(e=>e.setFilters),n=y(e=>e.resetFilters),[c,d]=(0,x.useState)(l),[u,f]=(0,x.useState)(!1);(0,x.useEffect)(()=>{u&&d(l)},[u,l]);let S=Object.entries(l).filter(([e,t])=>"archiveStatus"===e?"active"!==t:"status"===e?"all"!==t:""!==t).length;return(0,t.jsxs)(p.DropdownMenu,{onOpenChange:f,open:u,children:[(0,t.jsx)(p.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsxs)(i.Button,{className:"relative",size:"sm",variant:"outline",children:[(0,t.jsx)(h.Filter,{className:"mr-2 size-4"}),"Filters",(0,t.jsx)(m.ChevronDown,{className:"ml-2 size-4"}),S>0&&(0,t.jsx)(v.Badge,{className:"ml-2 size-5 rounded-full p-0 text-xs",variant:"secondary",children:S})]})}),(0,t.jsx)(p.DropdownMenuContent,{align:"start",className:"w-80 p-4",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h4",{className:"text-sm font-semibold",children:"Filter Appointments"}),S>0&&(0,t.jsx)(i.Button,{className:"h-auto p-1 text-xs",onClick:()=>{n(),d(l)},size:"sm",variant:"ghost",children:"Clear All"})]}),(0,t.jsx)(o.Separator,{}),(0,t.jsx)(b.StandardFormField,{label:"Status",htmlFor:"filter-appointments-status",children:(0,t.jsxs)(g.Select,{onValueChange:e=>d({...c,archiveStatus:e}),value:c.archiveStatus,children:[(0,t.jsx)(g.SelectTrigger,{id:"filter-appointments-status",className:"h-9",children:(0,t.jsx)(g.SelectValue,{})}),(0,t.jsxs)(g.SelectContent,{children:[(0,t.jsxs)(g.SelectItem,{value:"active",children:["Active Only ",void 0!==e&&`(${e})`]}),(0,t.jsxs)(g.SelectItem,{value:"archived",children:["Archived Only"," ",void 0!==a&&`(${a})`]}),(0,t.jsxs)(g.SelectItem,{value:"all",children:["All Appointments"," ",void 0!==s&&`(${s})`]})]})]})}),(0,t.jsx)(b.StandardFormField,{label:"Appointment Status",htmlFor:"filter-appointments-appointment-status",children:(0,t.jsxs)(g.Select,{onValueChange:e=>d({...c,status:e}),value:c.status,children:[(0,t.jsx)(g.SelectTrigger,{id:"filter-appointments-appointment-status",className:"h-9",children:(0,t.jsx)(g.SelectValue,{placeholder:"All statuses"})}),(0,t.jsxs)(g.SelectContent,{children:[(0,t.jsx)(g.SelectItem,{value:"all",children:"All Statuses"}),(0,t.jsx)(g.SelectItem,{value:"scheduled",children:"Scheduled"}),(0,t.jsx)(g.SelectItem,{value:"confirmed",children:"Confirmed"}),(0,t.jsx)(g.SelectItem,{value:"in_progress",children:"In Progress"}),(0,t.jsx)(g.SelectItem,{value:"completed",children:"Completed"}),(0,t.jsx)(g.SelectItem,{value:"cancelled",children:"Cancelled"}),(0,t.jsx)(g.SelectItem,{value:"no_show",children:"No Show"})]})]})}),(0,t.jsx)(b.StandardFormField,{label:"Customer Name",htmlFor:"filter-appointments-customer-name",children:(0,t.jsx)(j.Input,{id:"filter-appointments-customer-name",className:"h-9",onChange:e=>d({...c,customerName:e.target.value}),placeholder:"Search by customer...",value:c.customerName})}),(0,t.jsx)(b.StandardFormField,{label:"Assigned To",htmlFor:"filter-appointments-assigned-to",children:(0,t.jsx)(j.Input,{id:"filter-appointments-assigned-to",className:"h-9",onChange:e=>d({...c,assignedTo:e.target.value}),placeholder:"Search by assigned person...",value:c.assignedTo})}),(0,t.jsx)(b.StandardFormField,{label:"Appointment Number",htmlFor:"filter-appointments-appointment-number",children:(0,t.jsx)(j.Input,{id:"filter-appointments-appointment-number",className:"h-9",onChange:e=>d({...c,appointmentNumber:e.target.value}),placeholder:"Search by number...",value:c.appointmentNumber})}),(0,t.jsx)(o.Separator,{}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(i.Button,{className:"flex-1",onClick:()=>f(!1),size:"sm",variant:"outline",children:"Cancel"}),(0,t.jsx)(i.Button,{className:"flex-1",onClick:()=>{r(c),f(!1)},size:"sm",children:"Apply Filters"})]})]})})]})}let F=[{key:"start_time",label:"Date & Time"},{key:"status",label:"Status"}],w=[{key:"customer",label:"Customer"},{key:"assigned_user",label:"Assigned To"}];function k({totalCount:e=0,activeCount:a,archivedCount:s}){return(0,t.jsx)(d.BaseToolbarActions,{beforePrimaryAction:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(C,{activeCount:a,archivedCount:s,totalCount:e}),(0,t.jsx)(u.ColumnVisibilityMenu,{columns:w,criticalColumns:F,entity:"appointments"})]}),importExportDataType:"appointments",primaryAction:{href:"/dashboard/work/appointments/new",label:"New Appointment"},viewSwitcherSection:void 0})}let I={archiveStatus:"active",status:"all",customerName:"",contractNumber:"",valueMin:"",valueMax:""},M=(0,f.create)()((0,S.persist)(e=>({filters:I,setFilters:t=>e(e=>({filters:{...e.filters,...t}})),resetFilters:()=>e({filters:I})}),{name:"contracts-filters",skipHydration:!0}));function A({activeCount:e,archivedCount:a,totalCount:s}){let l=M(e=>e.filters),r=M(e=>e.setFilters),n=M(e=>e.resetFilters),[c,d]=(0,x.useState)(l),[u,f]=(0,x.useState)(!1);(0,x.useEffect)(()=>{u&&d(l)},[u,l]);let S=Object.entries(l).filter(([e,t])=>"archiveStatus"===e?"active"!==t:"status"===e?"all"!==t:""!==t).length;return(0,t.jsxs)(p.DropdownMenu,{onOpenChange:f,open:u,children:[(0,t.jsx)(p.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsxs)(i.Button,{className:"relative",size:"sm",variant:"outline",children:[(0,t.jsx)(h.Filter,{className:"mr-2 size-4"}),"Filters",(0,t.jsx)(m.ChevronDown,{className:"ml-2 size-4"}),S>0&&(0,t.jsx)(v.Badge,{className:"ml-2 size-5 rounded-full p-0 text-xs",variant:"secondary",children:S})]})}),(0,t.jsx)(p.DropdownMenuContent,{align:"start",className:"w-80 p-4",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h4",{className:"text-sm font-semibold",children:"Filter Contracts"}),S>0&&(0,t.jsx)(i.Button,{className:"h-auto p-1 text-xs",onClick:()=>{n(),d(l)},size:"sm",variant:"ghost",children:"Clear All"})]}),(0,t.jsx)(o.Separator,{}),(0,t.jsx)(b.StandardFormField,{label:"Status",htmlFor:"filter-contracts-status",children:(0,t.jsxs)(g.Select,{onValueChange:e=>d({...c,archiveStatus:e}),value:c.archiveStatus,children:[(0,t.jsx)(g.SelectTrigger,{id:"filter-contracts-status",className:"h-9",children:(0,t.jsx)(g.SelectValue,{})}),(0,t.jsxs)(g.SelectContent,{children:[(0,t.jsxs)(g.SelectItem,{value:"active",children:["Active Only ",void 0!==e&&`(${e})`]}),(0,t.jsxs)(g.SelectItem,{value:"archived",children:["Archived Only"," ",void 0!==a&&`(${a})`]}),(0,t.jsxs)(g.SelectItem,{value:"all",children:["All Contracts ",void 0!==s&&`(${s})`]})]})]})}),(0,t.jsx)(b.StandardFormField,{label:"Contract Status",htmlFor:"filter-contracts-contract-status",children:(0,t.jsxs)(g.Select,{onValueChange:e=>d({...c,status:e}),value:c.status,children:[(0,t.jsx)(g.SelectTrigger,{id:"filter-contracts-contract-status",className:"h-9",children:(0,t.jsx)(g.SelectValue,{placeholder:"All statuses"})}),(0,t.jsxs)(g.SelectContent,{children:[(0,t.jsx)(g.SelectItem,{value:"all",children:"All Statuses"}),(0,t.jsx)(g.SelectItem,{value:"draft",children:"Draft"}),(0,t.jsx)(g.SelectItem,{value:"active",children:"Active"}),(0,t.jsx)(g.SelectItem,{value:"expired",children:"Expired"}),(0,t.jsx)(g.SelectItem,{value:"cancelled",children:"Cancelled"})]})]})}),(0,t.jsx)(b.StandardFormField,{label:"Customer Name",htmlFor:"filter-contracts-customer-name",children:(0,t.jsx)(j.Input,{id:"filter-contracts-customer-name",className:"h-9",onChange:e=>d({...c,customerName:e.target.value}),placeholder:"Search by customer...",value:c.customerName})}),(0,t.jsx)(b.StandardFormField,{label:"Contract Number",htmlFor:"filter-contracts-contract-number",children:(0,t.jsx)(j.Input,{id:"filter-contracts-contract-number",className:"h-9",onChange:e=>d({...c,contractNumber:e.target.value}),placeholder:"Search by number...",value:c.contractNumber})}),(0,t.jsx)(b.StandardFormField,{label:"Value Range",htmlFor:"filter-contracts-value-min",children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(j.Input,{id:"filter-contracts-value-min",className:"h-9",onChange:e=>d({...c,valueMin:e.target.value}),placeholder:"Min",type:"number",value:c.valueMin}),(0,t.jsx)(j.Input,{id:"filter-contracts-value-max",className:"h-9",onChange:e=>d({...c,valueMax:e.target.value}),placeholder:"Max",type:"number",value:c.valueMax})]})}),(0,t.jsx)(o.Separator,{}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(i.Button,{className:"flex-1",onClick:()=>f(!1),size:"sm",variant:"outline",children:"Cancel"}),(0,t.jsx)(i.Button,{className:"flex-1",onClick:()=>{r(c),f(!1)},size:"sm",children:"Apply Filters"})]})]})})]})}let T=[{key:"customer",label:"Customer"},{key:"status",label:"Status"}],D=[{key:"contractType",label:"Type"},{key:"signerName",label:"Signer"},{key:"date",label:"Created"},{key:"validUntil",label:"Valid Until"}];function B({totalCount:e=0,activeCount:a,archivedCount:s}){return(0,t.jsx)(d.BaseToolbarActions,{beforePrimaryAction:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(A,{activeCount:a,archivedCount:s,totalCount:e}),(0,t.jsx)(u.ColumnVisibilityMenu,{columns:D,criticalColumns:T,entity:"contracts"})]}),importExportDataType:"contracts",primaryAction:{href:"/dashboard/work/contracts/new",label:"New Contract"},viewSwitcherSection:void 0})}let z={archiveStatus:"active",status:"all",amountMin:"",amountMax:"",customerName:"",estimateNumber:""},P=(0,f.create)()((0,S.persist)(e=>({filters:z,setFilters:t=>e(e=>({filters:{...e.filters,...t}})),resetFilters:()=>e({filters:z})}),{name:"estimates-filters",skipHydration:!0}));function V({activeCount:e,archivedCount:a,totalCount:s}){let l=P(e=>e.filters),r=P(e=>e.setFilters),n=P(e=>e.resetFilters),[c,d]=(0,x.useState)(l),[u,f]=(0,x.useState)(!1);(0,x.useEffect)(()=>{u&&d(l)},[u,l]);let S=(0,x.useMemo)(()=>{let e=0;return"active"!==c.archiveStatus&&e++,"all"!==c.status&&e++,c.amountMin&&e++,c.amountMax&&e++,c.customerName&&e++,c.estimateNumber&&e++,e},[c]),N=(e,t)=>{d(a=>({...a,[e]:t}))};return(0,t.jsxs)(p.DropdownMenu,{onOpenChange:f,open:u,children:[(0,t.jsx)(p.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsxs)(i.Button,{className:"relative",size:"sm",variant:"outline",children:[(0,t.jsx)(h.Filter,{className:"size-4"}),(0,t.jsx)("span",{className:"ml-2",children:"Filters"}),S>0&&(0,t.jsx)(v.Badge,{className:"ml-2 h-5 w-5 justify-center p-0 text-xs",variant:"secondary",children:S}),(0,t.jsx)(m.ChevronDown,{className:"ml-1 size-3 opacity-50"})]})}),(0,t.jsxs)(p.DropdownMenuContent,{align:"end",className:"w-80",children:[(0,t.jsxs)(p.DropdownMenuLabel,{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"Filter Estimates"}),S>0&&(0,t.jsx)(i.Button,{className:"h-6 px-2 text-xs",onClick:()=>{n(),f(!1)},size:"sm",variant:"ghost",children:"Clear all"})]}),(0,t.jsx)(p.DropdownMenuSeparator,{}),(0,t.jsxs)("div",{className:"space-y-4 p-3",children:[(0,t.jsx)(b.StandardFormField,{label:"Archive Status",htmlFor:"filter-estimates-archive-status",children:(0,t.jsxs)(g.Select,{onValueChange:e=>N("archiveStatus",e),value:c.archiveStatus,children:[(0,t.jsx)(g.SelectTrigger,{id:"filter-estimates-archive-status",className:"h-9",children:(0,t.jsx)(g.SelectValue,{})}),(0,t.jsxs)(g.SelectContent,{children:[(0,t.jsxs)(g.SelectItem,{value:"active",children:["Active Only ",void 0!==e&&`(${e})`]}),(0,t.jsxs)(g.SelectItem,{value:"all",children:["All Estimates ",void 0!==s&&`(${s})`]}),(0,t.jsxs)(g.SelectItem,{value:"archived",children:["Archived Only"," ",void 0!==a&&`(${a})`]})]})]})}),(0,t.jsx)(o.Separator,{}),(0,t.jsx)(b.StandardFormField,{label:"Status",htmlFor:"filter-estimates-status",children:(0,t.jsxs)(g.Select,{onValueChange:e=>N("status",e),value:c.status,children:[(0,t.jsx)(g.SelectTrigger,{id:"filter-estimates-status",className:"h-9",children:(0,t.jsx)(g.SelectValue,{})}),(0,t.jsxs)(g.SelectContent,{children:[(0,t.jsx)(g.SelectItem,{value:"all",children:"All Statuses"}),(0,t.jsx)(g.SelectItem,{value:"draft",children:"Draft"}),(0,t.jsx)(g.SelectItem,{value:"sent",children:"Sent"}),(0,t.jsx)(g.SelectItem,{value:"accepted",children:"Accepted"}),(0,t.jsx)(g.SelectItem,{value:"rejected",children:"Rejected"}),(0,t.jsx)(g.SelectItem,{value:"expired",children:"Expired"})]})]})}),(0,t.jsx)(o.Separator,{}),(0,t.jsx)(b.StandardFormField,{label:"Amount Range",htmlFor:"filter-estimates-amount-min",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsx)(j.Input,{id:"filter-estimates-amount-min",className:"h-9",onChange:e=>N("amountMin",e.target.value),placeholder:"Min",type:"number",value:c.amountMin}),(0,t.jsx)(j.Input,{id:"filter-estimates-amount-max",className:"h-9",onChange:e=>N("amountMax",e.target.value),placeholder:"Max",type:"number",value:c.amountMax})]})}),(0,t.jsx)(o.Separator,{}),(0,t.jsx)(b.StandardFormField,{label:"Customer",htmlFor:"filter-estimates-customer-name",children:(0,t.jsx)(j.Input,{id:"filter-estimates-customer-name",className:"h-9",onChange:e=>N("customerName",e.target.value),placeholder:"Search by customer name...",type:"text",value:c.customerName})}),(0,t.jsx)(o.Separator,{}),(0,t.jsx)(b.StandardFormField,{label:"Estimate Number",htmlFor:"filter-estimates-estimate-number",children:(0,t.jsx)(j.Input,{id:"filter-estimates-estimate-number",className:"h-9",onChange:e=>N("estimateNumber",e.target.value),placeholder:"Search by estimate #...",type:"text",value:c.estimateNumber})})]}),(0,t.jsx)(p.DropdownMenuSeparator,{}),(0,t.jsxs)("div",{className:"flex gap-2 p-3",children:[(0,t.jsx)(i.Button,{className:"flex-1",onClick:()=>f(!1),size:"sm",variant:"outline",children:"Cancel"}),(0,t.jsx)(i.Button,{className:"flex-1",onClick:()=>{r(c),f(!1)},size:"sm",children:"Apply Filters"})]})]})]})}let O=[{key:"customer",label:"Customer"},{key:"amount",label:"Amount"},{key:"status",label:"Status"}],H=[{key:"date",label:"Date"},{key:"validUntil",label:"Valid Until"}];function E({totalCount:e=0,activeCount:a,archivedCount:s}){return(0,t.jsx)(d.BaseToolbarActions,{beforePrimaryAction:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(V,{activeCount:a,archivedCount:s,totalCount:e}),(0,t.jsx)(u.ColumnVisibilityMenu,{columns:H,criticalColumns:O,entity:"estimates"})]}),importExportDataType:"estimates",primaryAction:{href:"/dashboard/work/estimates/new",label:"New Estimate"},viewSwitcherSection:void 0})}var R=e.i(682236);function $({activeCount:e,archivedCount:a,totalCount:s}){let l=(0,R.useInvoiceFiltersStore)(e=>e.filters),r=(0,R.useInvoiceFiltersStore)(e=>e.setFilters),n=(0,R.useInvoiceFiltersStore)(e=>e.resetFilters),[c,d]=(0,x.useState)(l),[u,f]=(0,x.useState)(!1);(0,x.useEffect)(()=>{u&&d(l)},[u,l]);let S=(0,x.useMemo)(()=>{let e=0;return"active"!==c.archiveStatus&&e++,"all"!==c.status&&e++,c.amountMin&&e++,c.amountMax&&e++,c.customerName&&e++,c.invoiceNumber&&e++,e},[c]),N=(e,t)=>{d(a=>({...a,[e]:t}))};return(0,t.jsxs)(p.DropdownMenu,{onOpenChange:f,open:u,children:[(0,t.jsx)(p.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsxs)(i.Button,{className:"relative",size:"sm",variant:"outline",children:[(0,t.jsx)(h.Filter,{className:"size-4"}),(0,t.jsx)("span",{className:"ml-2",children:"Filters"}),S>0&&(0,t.jsx)(v.Badge,{className:"ml-2 h-5 w-5 justify-center p-0 text-xs",variant:"secondary",children:S}),(0,t.jsx)(m.ChevronDown,{className:"ml-1 size-3 opacity-50"})]})}),(0,t.jsxs)(p.DropdownMenuContent,{align:"end",className:"w-80",children:[(0,t.jsxs)(p.DropdownMenuLabel,{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"Filter Invoices"}),S>0&&(0,t.jsx)(i.Button,{className:"h-6 px-2 text-xs",onClick:()=>{n(),f(!1)},size:"sm",variant:"ghost",children:"Clear all"})]}),(0,t.jsx)(p.DropdownMenuSeparator,{}),(0,t.jsxs)("div",{className:"space-y-4 p-3",children:[(0,t.jsx)(b.StandardFormField,{label:"Archive Status",htmlFor:"filter-invoices-archive-status",children:(0,t.jsxs)(g.Select,{onValueChange:e=>N("archiveStatus",e),value:c.archiveStatus,children:[(0,t.jsx)(g.SelectTrigger,{id:"filter-invoices-archive-status",className:"h-9",children:(0,t.jsx)(g.SelectValue,{})}),(0,t.jsxs)(g.SelectContent,{children:[(0,t.jsxs)(g.SelectItem,{value:"active",children:["Active Only ",void 0!==e&&`(${e})`]}),(0,t.jsxs)(g.SelectItem,{value:"all",children:["All Invoices ",void 0!==s&&`(${s})`]}),(0,t.jsxs)(g.SelectItem,{value:"archived",children:["Archived Only"," ",void 0!==a&&`(${a})`]})]})]})}),(0,t.jsx)(o.Separator,{}),(0,t.jsx)(b.StandardFormField,{label:"Status",htmlFor:"filter-invoices-status",children:(0,t.jsxs)(g.Select,{onValueChange:e=>N("status",e),value:c.status,children:[(0,t.jsx)(g.SelectTrigger,{id:"filter-invoices-status",className:"h-9",children:(0,t.jsx)(g.SelectValue,{})}),(0,t.jsxs)(g.SelectContent,{children:[(0,t.jsx)(g.SelectItem,{value:"all",children:"All Statuses"}),(0,t.jsx)(g.SelectItem,{value:"draft",children:"Draft"}),(0,t.jsx)(g.SelectItem,{value:"pending",children:"Pending"}),(0,t.jsx)(g.SelectItem,{value:"paid",children:"Paid"}),(0,t.jsx)(g.SelectItem,{value:"overdue",children:"Overdue"})]})]})}),(0,t.jsx)(o.Separator,{}),(0,t.jsx)(b.StandardFormField,{label:"Amount Range",htmlFor:"filter-invoices-amount-min",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsx)("div",{children:(0,t.jsx)(j.Input,{id:"filter-invoices-amount-min",className:"h-9",onChange:e=>N("amountMin",e.target.value),placeholder:"Min",type:"number",value:c.amountMin})}),(0,t.jsx)("div",{children:(0,t.jsx)(j.Input,{id:"filter-invoices-amount-max",className:"h-9",onChange:e=>N("amountMax",e.target.value),placeholder:"Max",type:"number",value:c.amountMax})})]})}),(0,t.jsx)(o.Separator,{}),(0,t.jsx)(b.StandardFormField,{label:"Customer",htmlFor:"filter-invoices-customer-name",children:(0,t.jsx)(j.Input,{id:"filter-invoices-customer-name",className:"h-9",onChange:e=>N("customerName",e.target.value),placeholder:"Search by customer name...",type:"text",value:c.customerName})}),(0,t.jsx)(o.Separator,{}),(0,t.jsx)(b.StandardFormField,{label:"Invoice Number",htmlFor:"filter-invoices-invoice-number",children:(0,t.jsx)(j.Input,{id:"filter-invoices-invoice-number",className:"h-9",onChange:e=>N("invoiceNumber",e.target.value),placeholder:"Search by invoice #...",type:"text",value:c.invoiceNumber})})]}),(0,t.jsx)(p.DropdownMenuSeparator,{}),(0,t.jsxs)("div",{className:"flex gap-2 p-3",children:[(0,t.jsx)(i.Button,{className:"flex-1",onClick:()=>f(!1),size:"sm",variant:"outline",children:"Cancel"}),(0,t.jsx)(i.Button,{className:"flex-1",onClick:()=>{r(c),f(!1)},size:"sm",children:"Apply Filters"})]})]})]})}let L=[{key:"customer",label:"Customer"},{key:"amount",label:"Amount"},{key:"dueDate",label:"Due Date"},{key:"status",label:"Status"}],W=[{key:"date",label:"Date"}];function _({totalCount:e=0,activeCount:a,archivedCount:s}){return(0,t.jsx)(d.BaseToolbarActions,{beforePrimaryAction:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)($,{activeCount:a,archivedCount:s,totalCount:e}),(0,t.jsx)(u.ColumnVisibilityMenu,{columns:W,criticalColumns:L,entity:"invoices"})]}),importExportDataType:"invoices",primaryAction:{href:"/dashboard/invoices/create",label:"New Invoice"},viewSwitcherSection:void 0})}var q=e.i(412806),J=e.i(274220);let U=[{key:"customer",label:"Customer"},{key:"equipment",label:"Equipment"},{key:"frequency",label:"Frequency"},{key:"next_service",label:"Next Service"},{key:"status",label:"Status"}];function K({totalCount:e=0}){return(0,J.useArchiveStore)(e=>e.filters.maintenance_plans),(0,t.jsx)(d.BaseToolbarActions,{beforePrimaryAction:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(q.ArchiveFilterSelect,{activeCount:e,archivedCount:0,entity:"maintenance_plans",totalCount:e}),(0,t.jsx)(u.ColumnVisibilityMenu,{columns:U,entity:"maintenance_plans"})]}),importExportDataType:"maintenance-plans",primaryAction:{href:"/dashboard/work/maintenance-plans/new",label:"New Plan"}})}let G={archiveStatus:"active",status:"all",method:"all",amountMin:"",amountMax:"",customerName:"",referenceNumber:""},Q=(0,f.create)()((0,S.persist)(e=>({filters:G,setFilters:t=>e(e=>({filters:{...e.filters,...t}})),resetFilters:()=>e({filters:G})}),{name:"payments-filters",skipHydration:!0}));function X({activeCount:e,archivedCount:a,totalCount:s}){let l=Q(e=>e.filters),r=Q(e=>e.setFilters),n=Q(e=>e.resetFilters),[c,d]=(0,x.useState)(l),[u,f]=(0,x.useState)(!1);(0,x.useEffect)(()=>{u&&d(l)},[u,l]);let S=(0,x.useMemo)(()=>{let e=0;return"active"!==c.archiveStatus&&e++,"all"!==c.status&&e++,"all"!==c.method&&e++,c.amountMin&&e++,c.amountMax&&e++,c.customerName&&e++,c.referenceNumber&&e++,e},[c]),N=(e,t)=>{d(a=>({...a,[e]:t}))};return(0,t.jsxs)(p.DropdownMenu,{onOpenChange:f,open:u,children:[(0,t.jsx)(p.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsxs)(i.Button,{className:"relative",size:"sm",variant:"outline",children:[(0,t.jsx)(h.Filter,{className:"size-4"}),(0,t.jsx)("span",{className:"ml-2",children:"Filters"}),S>0&&(0,t.jsx)(v.Badge,{className:"ml-2 h-5 w-5 justify-center p-0 text-xs",variant:"secondary",children:S}),(0,t.jsx)(m.ChevronDown,{className:"ml-1 size-3 opacity-50"})]})}),(0,t.jsxs)(p.DropdownMenuContent,{align:"end",className:"w-80",children:[(0,t.jsxs)(p.DropdownMenuLabel,{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"Filter Payments"}),S>0&&(0,t.jsx)(i.Button,{className:"h-6 px-2 text-xs",onClick:()=>{n(),f(!1)},size:"sm",variant:"ghost",children:"Clear all"})]}),(0,t.jsx)(p.DropdownMenuSeparator,{}),(0,t.jsxs)("div",{className:"space-y-4 p-3",children:[(0,t.jsx)(b.StandardFormField,{label:"Archive Status",htmlFor:"filter-payments-archive-status",children:(0,t.jsxs)(g.Select,{onValueChange:e=>N("archiveStatus",e),value:c.archiveStatus,children:[(0,t.jsx)(g.SelectTrigger,{id:"filter-payments-archive-status",className:"h-9",children:(0,t.jsx)(g.SelectValue,{})}),(0,t.jsxs)(g.SelectContent,{children:[(0,t.jsxs)(g.SelectItem,{value:"active",children:["Active Only ",void 0!==e&&`(${e})`]}),(0,t.jsxs)(g.SelectItem,{value:"all",children:["All Payments ",void 0!==s&&`(${s})`]}),(0,t.jsxs)(g.SelectItem,{value:"archived",children:["Archived Only"," ",void 0!==a&&`(${a})`]})]})]})}),(0,t.jsx)(o.Separator,{}),(0,t.jsx)(b.StandardFormField,{label:"Status",htmlFor:"filter-payments-status",children:(0,t.jsxs)(g.Select,{onValueChange:e=>N("status",e),value:c.status,children:[(0,t.jsx)(g.SelectTrigger,{id:"filter-payments-status",className:"h-9",children:(0,t.jsx)(g.SelectValue,{})}),(0,t.jsxs)(g.SelectContent,{children:[(0,t.jsx)(g.SelectItem,{value:"all",children:"All Statuses"}),(0,t.jsx)(g.SelectItem,{value:"pending",children:"Pending"}),(0,t.jsx)(g.SelectItem,{value:"completed",children:"Completed"}),(0,t.jsx)(g.SelectItem,{value:"failed",children:"Failed"}),(0,t.jsx)(g.SelectItem,{value:"refunded",children:"Refunded"})]})]})}),(0,t.jsx)(o.Separator,{}),(0,t.jsx)(b.StandardFormField,{label:"Payment Method",htmlFor:"filter-payments-method",children:(0,t.jsxs)(g.Select,{onValueChange:e=>N("method",e),value:c.method,children:[(0,t.jsx)(g.SelectTrigger,{id:"filter-payments-method",className:"h-9",children:(0,t.jsx)(g.SelectValue,{})}),(0,t.jsxs)(g.SelectContent,{children:[(0,t.jsx)(g.SelectItem,{value:"all",children:"All Methods"}),(0,t.jsx)(g.SelectItem,{value:"cash",children:"Cash"}),(0,t.jsx)(g.SelectItem,{value:"check",children:"Check"}),(0,t.jsx)(g.SelectItem,{value:"card",children:"Card"}),(0,t.jsx)(g.SelectItem,{value:"ach",children:"ACH"}),(0,t.jsx)(g.SelectItem,{value:"other",children:"Other"})]})]})}),(0,t.jsx)(o.Separator,{}),(0,t.jsx)(b.StandardFormField,{label:"Amount Range",htmlFor:"filter-payments-amount-min",children:(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsx)(j.Input,{id:"filter-payments-amount-min",className:"h-9",onChange:e=>N("amountMin",e.target.value),placeholder:"Min",type:"number",value:c.amountMin}),(0,t.jsx)(j.Input,{id:"filter-payments-amount-max",className:"h-9",onChange:e=>N("amountMax",e.target.value),placeholder:"Max",type:"number",value:c.amountMax})]})}),(0,t.jsx)(o.Separator,{}),(0,t.jsx)(b.StandardFormField,{label:"Customer",htmlFor:"filter-payments-customer-name",children:(0,t.jsx)(j.Input,{id:"filter-payments-customer-name",className:"h-9",onChange:e=>N("customerName",e.target.value),placeholder:"Search by customer name...",type:"text",value:c.customerName})}),(0,t.jsx)(o.Separator,{}),(0,t.jsx)(b.StandardFormField,{label:"Reference Number",htmlFor:"filter-payments-reference-number",children:(0,t.jsx)(j.Input,{id:"filter-payments-reference-number",className:"h-9",onChange:e=>N("referenceNumber",e.target.value),placeholder:"Search by reference #...",type:"text",value:c.referenceNumber})})]}),(0,t.jsx)(p.DropdownMenuSeparator,{}),(0,t.jsxs)("div",{className:"flex gap-2 p-3",children:[(0,t.jsx)(i.Button,{className:"flex-1",onClick:()=>f(!1),size:"sm",variant:"outline",children:"Cancel"}),(0,t.jsx)(i.Button,{className:"flex-1",onClick:()=>{r(c),f(!1)},size:"sm",children:"Apply Filters"})]})]})]})}let Y=[{key:"customer",label:"Customer"},{key:"amount",label:"Amount"},{key:"status",label:"Status"}],Z=[{key:"payment_method",label:"Method"},{key:"processed_at",label:"Date"}];function ee({totalCount:e=0,activeCount:a,archivedCount:s}){return(0,t.jsx)(d.BaseToolbarActions,{beforePrimaryAction:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(X,{activeCount:a,archivedCount:s,totalCount:e}),(0,t.jsx)(u.ColumnVisibilityMenu,{columns:Z,criticalColumns:Y,entity:"payments"})]}),importExportDataType:"payments",primaryAction:{href:"/dashboard/work/payments/new",label:"Record Payment"},viewSwitcherSection:void 0})}var et=e.i(569398),ea=e.i(136764),es=e.i(982686),el=e.i(697029),er=e.i(202724);e.i(254851);var en=e.i(605278);e.i(539870);var ei=e.i(846358);e.i(149989);var eo=e.i(880177);e.i(223342);var ec=e.i(395645),ed=e.i(871509);let eu=[{id:"1",name:"Master Technician",rateType:"hourly",baseRate:7500,overtimeMultiplier:1.5,skillLevel:"master"},{id:"2",name:"Journey Technician",rateType:"hourly",baseRate:5500,overtimeMultiplier:1.5,skillLevel:"journey"},{id:"3",name:"Apprentice",rateType:"hourly",baseRate:3500,overtimeMultiplier:1.5,skillLevel:"apprentice"},{id:"4",name:"Helper",rateType:"hourly",baseRate:2500,overtimeMultiplier:1.5,skillLevel:"helper"}];function em({trigger:e,onAddLabor:a}){let[s,r]=(0,x.useState)(!1),[n,c]=(0,x.useState)(!1),[d,u]=(0,x.useState)(eu[0]?.id||""),[m,h]=(0,x.useState)("0"),[v,p]=(0,x.useState)("0"),[f,S]=(0,x.useState)("1"),[N,y]=(0,x.useState)(!1),[C,F]=(0,x.useState)("0"),[w,k]=(0,x.useState)("0");(0,x.useEffect)(()=>{r(!0)},[]);let[I,M]=(0,x.useState)("35"),[A,T]=(0,x.useState)("50"),[D,B]=(0,x.useState)(""),z=eu.find(e=>e.id===d),P=function(){if(!z)return{regularHours:0,overtimeHours:0,regularCost:0,overtimeCost:0,travelCost:0,subtotal:0,overhead:0,total:0,suggestedMarkup:0,suggestedPrice:0};let e=Number.parseFloat(m)||0,t=Number.parseFloat(v)||0,a=Number.parseFloat(f)||1,s=Number.parseFloat(C)||0,l=Number.parseFloat(w)||0,r=Number.parseFloat(I)||0,n=Number.parseFloat(A)||0,i=e+t/60,o=0,c=0;if(N){let e=Math.min(i,8),t=Math.max(i-8,0);o=e*a,c=t*a}else o=i*a,c=0;let d=o*z.baseRate,u=c*z.baseRate*z.overtimeMultiplier,h=(s+l/60)*z.baseRate*a,x=d+u+h,p=r/100*x,j=x+p,g=n/100*j;return{regularHours:o,overtimeHours:c,regularCost:d,overtimeCost:u,travelCost:h,subtotal:x,overhead:p,total:j,suggestedMarkup:g,suggestedPrice:j+g}}();return s?(0,t.jsxs)(ei.Dialog,{onOpenChange:c,open:n,children:[(0,t.jsx)(ei.DialogTrigger,{asChild:!0,children:e||(0,t.jsxs)(i.Button,{variant:"outline",children:[(0,t.jsx)(et.Calculator,{className:"mr-2 h-4 w-4"}),"Labor Calculator"]})}),(0,t.jsxs)(ei.DialogContent,{className:"max-h-[90vh] max-w-4xl overflow-y-auto",children:[(0,t.jsxs)(ei.DialogHeader,{children:[(0,t.jsxs)(ei.DialogTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(et.Calculator,{className:"h-5 w-5"}),"Labor Cost Calculator"]}),(0,t.jsx)(ei.DialogDescription,{children:"Calculate labor costs based on rates, time, and crew size. Results can be added to price book items."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(b.StandardFormField,{label:"Labor Rate",htmlFor:"laborRate",children:(0,t.jsxs)(g.Select,{onValueChange:u,value:d,children:[(0,t.jsx)(g.SelectTrigger,{id:"laborRate",children:(0,t.jsx)(g.SelectValue,{})}),(0,t.jsx)(g.SelectContent,{children:eu.map(e=>(0,t.jsxs)(g.SelectItem,{value:e.id,children:[e.name," - ",(0,ed.formatCurrency)(e.baseRate),"/hr"]},e.id))})]})}),(0,t.jsx)(b.StandardFormField,{label:(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)(ea.Clock,{className:"h-4 w-4"}),"Time Estimate (per worker)"]}),htmlFor:"time-estimate-hours",children:(0,t.jsxs)(b.StandardFormRow,{cols:2,children:[(0,t.jsx)(b.StandardFormField,{label:"Hours",htmlFor:"time-estimate-hours",children:(0,t.jsx)(j.Input,{id:"time-estimate-hours",max:"24",min:"0",onChange:e=>h(e.target.value),placeholder:"0",type:"number",value:m})}),(0,t.jsx)(b.StandardFormField,{label:"Minutes",htmlFor:"time-estimate-minutes",children:(0,t.jsx)(j.Input,{id:"time-estimate-minutes",max:"59",min:"0",onChange:e=>p(e.target.value),placeholder:"0",type:"number",value:v})})]})}),(0,t.jsx)(b.StandardFormField,{label:(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)(er.Users,{className:"h-4 w-4"}),"Number of Workers"]}),htmlFor:"numWorkers",children:(0,t.jsx)(j.Input,{id:"numWorkers",min:"1",onChange:e=>S(e.target.value),placeholder:"1",type:"number",value:f})}),(0,t.jsxs)("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[(0,t.jsxs)("div",{className:"space-y-0.5",children:[(0,t.jsx)(eo.Label,{htmlFor:"overtime",children:"Overtime Hours"}),(0,t.jsxs)("p",{className:"text-muted-foreground text-sm",children:["Apply ",z?.overtimeMultiplier,"x rate for hours over 8"]})]}),(0,t.jsx)(ec.Switch,{checked:N,id:"overtime",onCheckedChange:y})]}),(0,t.jsx)(b.StandardFormField,{label:"Travel Time (total)",htmlFor:"travel-time-hours",children:(0,t.jsxs)(b.StandardFormRow,{cols:2,children:[(0,t.jsx)(b.StandardFormField,{label:"Hours",htmlFor:"travel-time-hours",children:(0,t.jsx)(j.Input,{id:"travel-time-hours",max:"24",min:"0",onChange:e=>F(e.target.value),placeholder:"0",type:"number",value:C})}),(0,t.jsx)(b.StandardFormField,{label:"Minutes",htmlFor:"travel-time-minutes",children:(0,t.jsx)(j.Input,{id:"travel-time-minutes",max:"59",min:"0",onChange:e=>k(e.target.value),placeholder:"0",type:"number",value:w})})]})}),(0,t.jsx)(b.StandardFormField,{label:"Overhead / Burden (%)",htmlFor:"overhead",description:"Insurance, benefits, equipment, etc. (typically 25-40%)",children:(0,t.jsx)(j.Input,{id:"overhead",max:"100",min:"0",onChange:e=>M(e.target.value),placeholder:"35",type:"number",value:I})}),(0,t.jsx)(b.StandardFormField,{label:"Suggested Markup (%)",htmlFor:"markup",children:(0,t.jsx)(j.Input,{id:"markup",max:"200",min:"0",onChange:e=>T(e.target.value),placeholder:"50",type:"number",value:A})}),(0,t.jsx)(b.StandardFormField,{label:"Description",htmlFor:"description",description:"Optional",children:(0,t.jsx)(j.Input,{id:"description",onChange:e=>B(e.target.value),placeholder:"e.g., HVAC System Installation Labor",value:D})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(en.Card,{children:[(0,t.jsx)(en.CardHeader,{children:(0,t.jsxs)(en.CardTitle,{className:"flex items-center gap-2 text-base",children:[(0,t.jsx)(es.DollarSign,{className:"h-4 w-4"}),"Cost Breakdown"]})}),(0,t.jsxs)(en.CardContent,{className:"space-y-3",children:[P.regularHours>0&&(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsxs)("span",{className:"text-muted-foreground",children:["Regular Hours (",P.regularHours.toFixed(2)," hrs)"]}),(0,t.jsx)("span",{className:"font-medium",children:(0,ed.formatCurrency)(P.regularCost)})]}),P.overtimeHours>0&&(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsxs)("span",{className:"text-muted-foreground",children:["Overtime Hours (",P.overtimeHours.toFixed(2)," hrs @ ",z?.overtimeMultiplier,"x)"]}),(0,t.jsx)("span",{className:"font-medium",children:(0,ed.formatCurrency)(P.overtimeCost)})]}),P.travelCost>0&&(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Travel Time"}),(0,t.jsx)("span",{className:"font-medium",children:(0,ed.formatCurrency)(P.travelCost)})]}),(0,t.jsx)(o.Separator,{}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Subtotal (Labor)"}),(0,t.jsx)("span",{className:"font-medium",children:(0,ed.formatCurrency)(P.subtotal)})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsxs)("span",{className:"text-muted-foreground",children:["Overhead (",I,"%)"]}),(0,t.jsx)("span",{className:"font-medium",children:(0,ed.formatCurrency)(P.overhead)})]}),(0,t.jsx)(o.Separator,{}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"font-semibold",children:"Total Cost"}),(0,t.jsx)("span",{className:"text-lg font-bold",children:(0,ed.formatCurrency)(P.total)})]})]})]}),(0,t.jsxs)(en.Card,{className:"border-primary/20 bg-primary/5",children:[(0,t.jsx)(en.CardHeader,{children:(0,t.jsxs)(en.CardTitle,{className:"flex items-center gap-2 text-base",children:[(0,t.jsx)(el.TrendingUp,{className:"h-4 w-4"}),"Pricing Recommendation"]})}),(0,t.jsxs)(en.CardContent,{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,t.jsxs)("span",{className:"text-muted-foreground",children:["Markup (",A,"%)"]}),(0,t.jsx)("span",{className:"font-medium",children:(0,ed.formatCurrency)(P.suggestedMarkup)})]}),(0,t.jsx)(o.Separator,{}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"font-semibold",children:"Suggested Customer Price"}),(0,t.jsx)("span",{className:"text-primary text-xl font-bold",children:(0,ed.formatCurrency)(P.suggestedPrice)})]}),(0,t.jsx)("p",{className:"text-muted-foreground text-xs",children:"This is the recommended price to charge your customer, including all costs and markup."})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-center text-sm",children:[(0,t.jsxs)("div",{className:"bg-muted/50 rounded-lg border p-3",children:[(0,t.jsx)("div",{className:"text-muted-foreground font-medium",children:"Total Hours"}),(0,t.jsx)("div",{className:"text-lg font-semibold",children:(P.regularHours+P.overtimeHours).toFixed(2)})]}),(0,t.jsxs)("div",{className:"bg-muted/50 rounded-lg border p-3",children:[(0,t.jsx)("div",{className:"text-muted-foreground font-medium",children:"Profit Margin"}),(0,t.jsxs)("div",{className:"text-lg font-semibold",children:[P.total>0?(P.suggestedMarkup/P.total*100).toFixed(0):0,"%"]})]})]})]})]}),(0,t.jsxs)(ei.DialogFooter,{children:[(0,t.jsx)(i.Button,{onClick:()=>c(!1),variant:"outline",children:"Cancel"}),(0,t.jsxs)(i.Button,{onClick:function(){a&&a({...P,description:D||`${z?.name} - ${m}h ${v}m`}),c(!1),h("0"),p("0"),S("1"),y(!1),F("0"),k("0"),B("")},children:[(0,t.jsx)(l.Plus,{className:"mr-2 h-4 w-4"}),"Add to Price Book"]})]})]})]}):e||(0,t.jsxs)(i.Button,{disabled:!0,variant:"outline",children:[(0,t.jsx)(et.Calculator,{className:"mr-2 h-4 w-4"}),"Labor Calculator"]})}function eh(){return(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(em,{}),(0,t.jsx)(i.Button,{asChild:!0,size:"default",variant:"default",children:(0,t.jsxs)(r.default,{href:"/dashboard/work/pricebook/new",children:[(0,t.jsx)(l.Plus,{className:"mr-2 size-4"}),"Add Item"]})}),(0,t.jsx)(n.ImportExportDropdownLazy,{dataType:"pricebook"})]})}let ex={archiveStatus:"active",status:"all",vendorName:"",orderNumber:"",totalMin:"",totalMax:""},ev=(0,f.create)()((0,S.persist)(e=>({filters:ex,setFilters:t=>e(e=>({filters:{...e.filters,...t}})),resetFilters:()=>e({filters:ex})}),{name:"purchase-orders-filters",skipHydration:!0}));function ep({activeCount:e,archivedCount:a,totalCount:s}){let l=ev(e=>e.filters),r=ev(e=>e.setFilters),n=ev(e=>e.resetFilters),[c,d]=(0,x.useState)(l),[u,f]=(0,x.useState)(!1);(0,x.useEffect)(()=>{u&&d(l)},[u,l]);let S=Object.entries(l).filter(([e,t])=>"archiveStatus"===e?"active"!==t:"status"===e?"all"!==t:""!==t).length;return(0,t.jsxs)(p.DropdownMenu,{onOpenChange:f,open:u,children:[(0,t.jsx)(p.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsxs)(i.Button,{className:"relative",size:"sm",variant:"outline",children:[(0,t.jsx)(h.Filter,{className:"mr-2 size-4"}),"Filters",(0,t.jsx)(m.ChevronDown,{className:"ml-2 size-4"}),S>0&&(0,t.jsx)(v.Badge,{className:"ml-2 size-5 rounded-full p-0 text-xs",variant:"secondary",children:S})]})}),(0,t.jsx)(p.DropdownMenuContent,{align:"start",className:"w-80 p-4",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h4",{className:"text-sm font-semibold",children:"Filter Purchase Orders"}),S>0&&(0,t.jsx)(i.Button,{className:"h-auto p-1 text-xs",onClick:()=>{n(),d(l)},size:"sm",variant:"ghost",children:"Clear All"})]}),(0,t.jsx)(o.Separator,{}),(0,t.jsx)(b.StandardFormField,{label:"Status",htmlFor:"filter-po-status",children:(0,t.jsxs)(g.Select,{onValueChange:e=>d({...c,archiveStatus:e}),value:c.archiveStatus,children:[(0,t.jsx)(g.SelectTrigger,{id:"filter-po-status",className:"h-9",children:(0,t.jsx)(g.SelectValue,{})}),(0,t.jsxs)(g.SelectContent,{children:[(0,t.jsxs)(g.SelectItem,{value:"active",children:["Active Only ",void 0!==e&&`(${e})`]}),(0,t.jsxs)(g.SelectItem,{value:"archived",children:["Archived Only"," ",void 0!==a&&`(${a})`]}),(0,t.jsxs)(g.SelectItem,{value:"all",children:["All Purchase Orders"," ",void 0!==s&&`(${s})`]})]})]})}),(0,t.jsx)(b.StandardFormField,{label:"Order Status",htmlFor:"filter-po-order-status",children:(0,t.jsxs)(g.Select,{onValueChange:e=>d({...c,status:e}),value:c.status,children:[(0,t.jsx)(g.SelectTrigger,{id:"filter-po-order-status",className:"h-9",children:(0,t.jsx)(g.SelectValue,{placeholder:"All statuses"})}),(0,t.jsxs)(g.SelectContent,{children:[(0,t.jsx)(g.SelectItem,{value:"all",children:"All Statuses"}),(0,t.jsx)(g.SelectItem,{value:"draft",children:"Draft"}),(0,t.jsx)(g.SelectItem,{value:"pending",children:"Pending"}),(0,t.jsx)(g.SelectItem,{value:"ordered",children:"Ordered"}),(0,t.jsx)(g.SelectItem,{value:"received",children:"Received"}),(0,t.jsx)(g.SelectItem,{value:"cancelled",children:"Cancelled"})]})]})}),(0,t.jsx)(b.StandardFormField,{label:"Vendor Name",htmlFor:"filter-po-vendor",children:(0,t.jsx)(j.Input,{id:"filter-po-vendor",className:"h-9",onChange:e=>d({...c,vendorName:e.target.value}),placeholder:"Search by vendor...",value:c.vendorName})}),(0,t.jsx)(b.StandardFormField,{label:"Order Number",htmlFor:"filter-po-number",children:(0,t.jsx)(j.Input,{id:"filter-po-number",className:"h-9",onChange:e=>d({...c,orderNumber:e.target.value}),placeholder:"Search by number...",value:c.orderNumber})}),(0,t.jsx)(b.StandardFormField,{label:"Total Range",htmlFor:"filter-po-total-min",children:(0,t.jsxs)(b.StandardFormRow,{cols:2,children:[(0,t.jsx)(j.Input,{id:"filter-po-total-min",className:"h-9",onChange:e=>d({...c,totalMin:e.target.value}),placeholder:"Min",type:"number",value:c.totalMin}),(0,t.jsx)(j.Input,{id:"filter-po-total-max",className:"h-9",onChange:e=>d({...c,totalMax:e.target.value}),placeholder:"Max",type:"number",value:c.totalMax})]})}),(0,t.jsx)(o.Separator,{}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(i.Button,{className:"flex-1",onClick:()=>f(!1),size:"sm",variant:"outline",children:"Cancel"}),(0,t.jsx)(i.Button,{className:"flex-1",onClick:()=>{r(c),f(!1)},size:"sm",children:"Apply Filters"})]})]})})]})}let ej=[{key:"vendor",label:"Vendor"},{key:"totalAmount",label:"Amount"},{key:"status",label:"Status"}],eg=[{key:"priority",label:"Priority"},{key:"expectedDelivery",label:"Expected Delivery"}];function eb({totalCount:e=0,activeCount:a,archivedCount:s}){return(0,t.jsx)(d.BaseToolbarActions,{beforePrimaryAction:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(ep,{activeCount:a,archivedCount:s,totalCount:e}),(0,t.jsx)(u.ColumnVisibilityMenu,{columns:eg,criticalColumns:ej,entity:"purchase_orders"})]}),importExportDataType:"purchase-orders",primaryAction:{href:"/dashboard/work/purchase-orders/new",label:"New Purchase Order"},viewSwitcherSection:void 0})}let ef={archiveStatus:"active",status:"all",customerName:"",agreementNumber:"",valueMin:"",valueMax:""},eS=(0,f.create)()((0,S.persist)(e=>({filters:ef,setFilters:t=>e(e=>({filters:{...e.filters,...t}})),resetFilters:()=>e({filters:ef})}),{name:"service-agreements-filters",skipHydration:!0}));function eN({activeCount:e,archivedCount:a,totalCount:s}){let l=eS(e=>e.filters),r=eS(e=>e.setFilters),n=eS(e=>e.resetFilters),[c,d]=(0,x.useState)(l),[u,f]=(0,x.useState)(!1);(0,x.useEffect)(()=>{u&&d(l)},[u,l]);let S=Object.entries(l).filter(([e,t])=>"archiveStatus"===e?"active"!==t:"status"===e?"all"!==t:""!==t).length;return(0,t.jsxs)(p.DropdownMenu,{onOpenChange:f,open:u,children:[(0,t.jsx)(p.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsxs)(i.Button,{className:"relative",size:"sm",variant:"outline",children:[(0,t.jsx)(h.Filter,{className:"mr-2 size-4"}),"Filters",(0,t.jsx)(m.ChevronDown,{className:"ml-2 size-4"}),S>0&&(0,t.jsx)(v.Badge,{className:"ml-2 size-5 rounded-full p-0 text-xs",variant:"secondary",children:S})]})}),(0,t.jsx)(p.DropdownMenuContent,{align:"start",className:"w-80 p-4",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h4",{className:"text-sm font-semibold",children:"Filter Service Agreements"}),S>0&&(0,t.jsx)(i.Button,{className:"h-auto p-1 text-xs",onClick:()=>{n(),d(l)},size:"sm",variant:"ghost",children:"Clear All"})]}),(0,t.jsx)(o.Separator,{}),(0,t.jsx)(b.StandardFormField,{label:"Status",htmlFor:"filter-service-agreements-status",children:(0,t.jsxs)(g.Select,{onValueChange:e=>d({...c,archiveStatus:e}),value:c.archiveStatus,children:[(0,t.jsx)(g.SelectTrigger,{id:"filter-service-agreements-status",className:"h-9",children:(0,t.jsx)(g.SelectValue,{})}),(0,t.jsxs)(g.SelectContent,{children:[(0,t.jsxs)(g.SelectItem,{value:"active",children:["Active Only ",void 0!==e&&`(${e})`]}),(0,t.jsxs)(g.SelectItem,{value:"archived",children:["Archived Only"," ",void 0!==a&&`(${a})`]}),(0,t.jsxs)(g.SelectItem,{value:"all",children:["All Agreements ",void 0!==s&&`(${s})`]})]})]})}),(0,t.jsx)(b.StandardFormField,{label:"Agreement Status",htmlFor:"filter-service-agreements-agreement-status",children:(0,t.jsxs)(g.Select,{onValueChange:e=>d({...c,status:e}),value:c.status,children:[(0,t.jsx)(g.SelectTrigger,{id:"filter-service-agreements-agreement-status",className:"h-9",children:(0,t.jsx)(g.SelectValue,{placeholder:"All statuses"})}),(0,t.jsxs)(g.SelectContent,{children:[(0,t.jsx)(g.SelectItem,{value:"all",children:"All Statuses"}),(0,t.jsx)(g.SelectItem,{value:"draft",children:"Draft"}),(0,t.jsx)(g.SelectItem,{value:"active",children:"Active"}),(0,t.jsx)(g.SelectItem,{value:"expired",children:"Expired"}),(0,t.jsx)(g.SelectItem,{value:"cancelled",children:"Cancelled"})]})]})}),(0,t.jsx)(b.StandardFormField,{label:"Customer Name",htmlFor:"filter-service-agreements-customer-name",children:(0,t.jsx)(j.Input,{id:"filter-service-agreements-customer-name",className:"h-9",onChange:e=>d({...c,customerName:e.target.value}),placeholder:"Search by customer...",value:c.customerName})}),(0,t.jsx)(b.StandardFormField,{label:"Agreement Number",htmlFor:"filter-service-agreements-agreement-number",children:(0,t.jsx)(j.Input,{id:"filter-service-agreements-agreement-number",className:"h-9",onChange:e=>d({...c,agreementNumber:e.target.value}),placeholder:"Search by number...",value:c.agreementNumber})}),(0,t.jsx)(b.StandardFormField,{label:"Value Range",htmlFor:"filter-service-agreements-value-min",children:(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(j.Input,{id:"filter-service-agreements-value-min",className:"h-9",onChange:e=>d({...c,valueMin:e.target.value}),placeholder:"Min",type:"number",value:c.valueMin}),(0,t.jsx)(j.Input,{id:"filter-service-agreements-value-max",className:"h-9",onChange:e=>d({...c,valueMax:e.target.value}),placeholder:"Max",type:"number",value:c.valueMax})]})}),(0,t.jsx)(o.Separator,{}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(i.Button,{className:"flex-1",onClick:()=>f(!1),size:"sm",variant:"outline",children:"Cancel"}),(0,t.jsx)(i.Button,{className:"flex-1",onClick:()=>{r(c),f(!1)},size:"sm",children:"Apply Filters"})]})]})})]})}let ey=[{key:"status",label:"Status"}],eC=[{key:"startDate",label:"Start Date"},{key:"endDate",label:"End Date"},{key:"value",label:"Value"}];function eF({totalCount:e=0,activeCount:a,archivedCount:s}){return(0,t.jsx)(d.BaseToolbarActions,{beforePrimaryAction:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eN,{activeCount:a,archivedCount:s,totalCount:e}),(0,t.jsx)(u.ColumnVisibilityMenu,{columns:eC,criticalColumns:ey,entity:"service_agreements"})]}),importExportDataType:"service-agreements",primaryAction:{href:"/dashboard/work/service-agreements/new",label:"New Agreement"},viewSwitcherSection:void 0})}let ew={archiveStatus:"active",role:"all",status:"all",department:"",name:"",email:""},ek=(0,f.create)()((0,S.persist)(e=>({filters:ew,setFilters:t=>e(e=>({filters:{...e.filters,...t}})),resetFilters:()=>e({filters:ew})}),{name:"team-filters",skipHydration:!0}));function eI({activeCount:e,archivedCount:a,totalCount:s}){let l=ek(e=>e.filters),r=ek(e=>e.setFilters),n=ek(e=>e.resetFilters),[c,d]=(0,x.useState)(l),[u,f]=(0,x.useState)(!1);(0,x.useEffect)(()=>{u&&d(l)},[u,l]);let S=Object.entries(l).filter(([e,t])=>"archiveStatus"===e?"active"!==t:"role"===e||"status"===e?"all"!==t:""!==t).length;return(0,t.jsxs)(p.DropdownMenu,{onOpenChange:f,open:u,children:[(0,t.jsx)(p.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsxs)(i.Button,{className:"relative",size:"sm",variant:"outline",children:[(0,t.jsx)(h.Filter,{className:"mr-2 size-4"}),"Filters",(0,t.jsx)(m.ChevronDown,{className:"ml-2 size-4"}),S>0&&(0,t.jsx)(v.Badge,{className:"ml-2 size-5 rounded-full p-0 text-xs",variant:"secondary",children:S})]})}),(0,t.jsx)(p.DropdownMenuContent,{align:"start",className:"w-80 p-4",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h4",{className:"text-sm font-semibold",children:"Filter Team Members"}),S>0&&(0,t.jsx)(i.Button,{className:"h-auto p-1 text-xs",onClick:()=>{n(),d(l)},size:"sm",variant:"ghost",children:"Clear All"})]}),(0,t.jsx)(o.Separator,{}),(0,t.jsx)(b.StandardFormField,{label:"Status",htmlFor:"filter-team-status",children:(0,t.jsxs)(g.Select,{onValueChange:e=>d({...c,archiveStatus:e}),value:c.archiveStatus,children:[(0,t.jsx)(g.SelectTrigger,{id:"filter-team-status",className:"h-9",children:(0,t.jsx)(g.SelectValue,{})}),(0,t.jsxs)(g.SelectContent,{children:[(0,t.jsxs)(g.SelectItem,{value:"active",children:["Active Only ",void 0!==e&&`(${e})`]}),(0,t.jsxs)(g.SelectItem,{value:"archived",children:["Archived Only"," ",void 0!==a&&`(${a})`]}),(0,t.jsxs)(g.SelectItem,{value:"all",children:["All Members ",void 0!==s&&`(${s})`]})]})]})}),(0,t.jsx)(b.StandardFormField,{label:"Role",htmlFor:"filter-team-role",children:(0,t.jsxs)(g.Select,{onValueChange:e=>d({...c,role:e}),value:c.role,children:[(0,t.jsx)(g.SelectTrigger,{id:"filter-team-role",className:"h-9",children:(0,t.jsx)(g.SelectValue,{placeholder:"All roles"})}),(0,t.jsxs)(g.SelectContent,{children:[(0,t.jsx)(g.SelectItem,{value:"all",children:"All Roles"}),(0,t.jsx)(g.SelectItem,{value:"admin",children:"Admin"}),(0,t.jsx)(g.SelectItem,{value:"manager",children:"Manager"}),(0,t.jsx)(g.SelectItem,{value:"technician",children:"Technician"}),(0,t.jsx)(g.SelectItem,{value:"sales",children:"Sales"}),(0,t.jsx)(g.SelectItem,{value:"office_staff",children:"Office Staff"}),(0,t.jsx)(g.SelectItem,{value:"contractor",children:"Contractor"})]})]})}),(0,t.jsx)(b.StandardFormField,{label:"Member Status",htmlFor:"filter-team-member-status",children:(0,t.jsxs)(g.Select,{onValueChange:e=>d({...c,status:e}),value:c.status,children:[(0,t.jsx)(g.SelectTrigger,{id:"filter-team-member-status",className:"h-9",children:(0,t.jsx)(g.SelectValue,{placeholder:"All statuses"})}),(0,t.jsxs)(g.SelectContent,{children:[(0,t.jsx)(g.SelectItem,{value:"all",children:"All Statuses"}),(0,t.jsx)(g.SelectItem,{value:"active",children:"Active"}),(0,t.jsx)(g.SelectItem,{value:"inactive",children:"Inactive"}),(0,t.jsx)(g.SelectItem,{value:"on_leave",children:"On Leave"})]})]})}),(0,t.jsx)(b.StandardFormField,{label:"Member Name",htmlFor:"filter-team-member-name",children:(0,t.jsx)(j.Input,{id:"filter-team-member-name",className:"h-9",onChange:e=>d({...c,name:e.target.value}),placeholder:"Search by name...",value:c.name})}),(0,t.jsx)(b.StandardFormField,{label:"Email",htmlFor:"filter-team-email",children:(0,t.jsx)(j.Input,{id:"filter-team-email",className:"h-9",onChange:e=>d({...c,email:e.target.value}),placeholder:"Search by email...",value:c.email})}),(0,t.jsx)(b.StandardFormField,{label:"Department",htmlFor:"filter-team-department",children:(0,t.jsx)(j.Input,{id:"filter-team-department",className:"h-9",onChange:e=>d({...c,department:e.target.value}),placeholder:"Filter by department...",value:c.department})}),(0,t.jsx)(o.Separator,{}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(i.Button,{className:"flex-1",onClick:()=>f(!1),size:"sm",variant:"outline",children:"Cancel"}),(0,t.jsx)(i.Button,{className:"flex-1",onClick:()=>{r(c),f(!1)},size:"sm",children:"Apply Filters"})]})]})})]})}let eM=[{key:"role",label:"Role"},{key:"status",label:"Status"}],eA=[{key:"department",label:"Department"},{key:"jobTitle",label:"Job Title"},{key:"lastActive",label:"Last Active"}];function eT({totalCount:e=0,activeCount:a,archivedCount:s}){return(0,t.jsx)(d.BaseToolbarActions,{beforePrimaryAction:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eI,{activeCount:a,archivedCount:s,totalCount:e}),(0,t.jsx)(u.ColumnVisibilityMenu,{columns:eA,criticalColumns:eM,entity:"team_members"})]}),importExportDataType:"team",primaryAction:{href:"/dashboard/work/team/invite",label:"Invite Team Member"},viewSwitcherSection:void 0})}function eD(){return(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)(i.Button,{asChild:!0,size:"sm",children:(0,t.jsxs)(r.default,{href:"/dashboard/work/vendors/new",children:[(0,t.jsx)(l.Plus,{className:"mr-2 h-4 w-4"}),"Add Vendor"]})})})}var eB=e.i(935682),ez=e.i(732205);function eP({page:e}){let{stats:a,isLoading:s}=function(e){let[t,a]=(0,x.useState)([]),[s,l]=(0,x.useState)(!0);return(0,x.useEffect)(()=>{!async function(){l(!0);try{let t=await fetch(`/api/work-stats/${e}`);if(t.ok){let e=await t.json();a(e.stats||[])}}catch(t){console.error(`Failed to fetch stats for ${e}:`,t),a([])}finally{l(!1)}}()},[e]),{stats:t,isLoading:s}}(e);return s?(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)(eB.BarChart3,{className:"h-4 w-4 text-muted-foreground animate-pulse"}),(0,t.jsx)("div",{className:"h-4 w-8 animate-pulse rounded bg-muted"})]}):a&&0!==a.length?(0,t.jsx)(ez.ToolbarStatsButton,{stats:a}):null}let eV={archiveStatus:"active",status:"all",priority:"all",customerName:"",jobNumber:"",assignedTo:"",category:""},eO=(0,f.create)()((0,S.persist)(e=>({filters:eV,setFilters:t=>e(e=>({filters:{...e.filters,...t}})),resetFilters:()=>e({filters:eV})}),{name:"jobs-filters",skipHydration:!0}));function eH({activeCount:e,archivedCount:a,totalCount:s}){let l=eO(e=>e.filters),r=eO(e=>e.setFilters),n=eO(e=>e.resetFilters),[c,d]=(0,x.useState)(l),[u,f]=(0,x.useState)(!1);(0,x.useEffect)(()=>{u&&d(l)},[u,l]);let S=Object.entries(l).filter(([e,t])=>"archiveStatus"===e?"active"!==t:"status"===e||"priority"===e?"all"!==t:""!==t).length;return(0,t.jsxs)(p.DropdownMenu,{onOpenChange:f,open:u,children:[(0,t.jsx)(p.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsxs)(i.Button,{className:"relative",size:"sm",variant:"outline",children:[(0,t.jsx)(h.Filter,{className:"mr-2 size-4"}),"Filters",(0,t.jsx)(m.ChevronDown,{className:"ml-2 size-4"}),S>0&&(0,t.jsx)(v.Badge,{className:"ml-2 size-5 rounded-full p-0 text-xs",variant:"secondary",children:S})]})}),(0,t.jsx)(p.DropdownMenuContent,{align:"start",className:"w-80 p-4",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h4",{className:"text-sm font-semibold",children:"Filter Jobs"}),S>0&&(0,t.jsx)(i.Button,{className:"h-auto p-1 text-xs",onClick:()=>{n(),d(l)},size:"sm",variant:"ghost",children:"Clear All"})]}),(0,t.jsx)(o.Separator,{}),(0,t.jsx)(b.StandardFormField,{label:"Status",htmlFor:"filter-jobs-status",children:(0,t.jsxs)(g.Select,{onValueChange:e=>d({...c,archiveStatus:e}),value:c.archiveStatus,children:[(0,t.jsx)(g.SelectTrigger,{id:"filter-jobs-status",className:"h-9",children:(0,t.jsx)(g.SelectValue,{})}),(0,t.jsxs)(g.SelectContent,{children:[(0,t.jsxs)(g.SelectItem,{value:"active",children:["Active Only ",void 0!==e&&`(${e})`]}),(0,t.jsxs)(g.SelectItem,{value:"archived",children:["Archived Only"," ",void 0!==a&&`(${a})`]}),(0,t.jsxs)(g.SelectItem,{value:"all",children:["All Jobs ",void 0!==s&&`(${s})`]})]})]})}),(0,t.jsx)(b.StandardFormField,{label:"Job Status",htmlFor:"filter-jobs-job-status",children:(0,t.jsxs)(g.Select,{onValueChange:e=>d({...c,status:e}),value:c.status,children:[(0,t.jsx)(g.SelectTrigger,{id:"filter-jobs-job-status",className:"h-9",children:(0,t.jsx)(g.SelectValue,{placeholder:"All statuses"})}),(0,t.jsxs)(g.SelectContent,{children:[(0,t.jsx)(g.SelectItem,{value:"all",children:"All Statuses"}),(0,t.jsx)(g.SelectItem,{value:"scheduled",children:"Scheduled"}),(0,t.jsx)(g.SelectItem,{value:"in_progress",children:"In Progress"}),(0,t.jsx)(g.SelectItem,{value:"completed",children:"Completed"}),(0,t.jsx)(g.SelectItem,{value:"on_hold",children:"On Hold"}),(0,t.jsx)(g.SelectItem,{value:"cancelled",children:"Cancelled"})]})]})}),(0,t.jsx)(b.StandardFormField,{label:"Priority",htmlFor:"filter-jobs-priority",children:(0,t.jsxs)(g.Select,{onValueChange:e=>d({...c,priority:e}),value:c.priority,children:[(0,t.jsx)(g.SelectTrigger,{id:"filter-jobs-priority",className:"h-9",children:(0,t.jsx)(g.SelectValue,{placeholder:"All priorities"})}),(0,t.jsxs)(g.SelectContent,{children:[(0,t.jsx)(g.SelectItem,{value:"all",children:"All Priorities"}),(0,t.jsx)(g.SelectItem,{value:"low",children:"Low"}),(0,t.jsx)(g.SelectItem,{value:"medium",children:"Medium"}),(0,t.jsx)(g.SelectItem,{value:"high",children:"High"}),(0,t.jsx)(g.SelectItem,{value:"urgent",children:"Urgent"})]})]})}),(0,t.jsx)(b.StandardFormField,{label:"Customer Name",htmlFor:"filter-jobs-customer-name",children:(0,t.jsx)(j.Input,{id:"filter-jobs-customer-name",className:"h-9",onChange:e=>d({...c,customerName:e.target.value}),placeholder:"Search by customer...",value:c.customerName})}),(0,t.jsx)(b.StandardFormField,{label:"Assigned To",htmlFor:"filter-jobs-assigned-to",children:(0,t.jsx)(j.Input,{id:"filter-jobs-assigned-to",className:"h-9",onChange:e=>d({...c,assignedTo:e.target.value}),placeholder:"Search by assigned person...",value:c.assignedTo})}),(0,t.jsx)(b.StandardFormField,{label:"Job Number",htmlFor:"filter-jobs-job-number",children:(0,t.jsx)(j.Input,{id:"filter-jobs-job-number",className:"h-9",onChange:e=>d({...c,jobNumber:e.target.value}),placeholder:"Search by number...",value:c.jobNumber})}),(0,t.jsx)(b.StandardFormField,{label:"Category",htmlFor:"filter-jobs-category",children:(0,t.jsx)(j.Input,{id:"filter-jobs-category",className:"h-9",onChange:e=>d({...c,category:e.target.value}),placeholder:"Filter by category...",value:c.category})}),(0,t.jsx)(o.Separator,{}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(i.Button,{className:"flex-1",onClick:()=>f(!1),size:"sm",variant:"outline",children:"Cancel"}),(0,t.jsx)(i.Button,{className:"flex-1",onClick:()=>{r(c),f(!1)},size:"sm",children:"Apply Filters"})]})]})})]})}let eE=[{key:"status",label:"Status"},{key:"totalAmount",label:"Amount"}],eR=[{key:"priority",label:"Priority"},{key:"scheduledStart",label:"Scheduled"}];function e$({totalCount:e=0,activeCount:a,archivedCount:s}){return(0,t.jsx)(d.BaseToolbarActions,{beforePrimaryAction:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eH,{activeCount:a,archivedCount:s,totalCount:e}),(0,t.jsx)(u.ColumnVisibilityMenu,{columns:eR,criticalColumns:eE,entity:"jobs"})]}),importExportDataType:"jobs",primaryAction:{href:"/dashboard/work/new",label:"New Job"},viewSwitcherSection:void 0})}function eL({children:e}){let l=(0,a.usePathname)()??"",r={"/dashboard/work":{structure:{maxWidth:"full",padding:"none",gap:"none",fixedHeight:!0,variant:"default",background:"default",insetPadding:"none"},header:{show:!0},toolbar:{show:!0,title:"Job Flow",subtitle:"81 total jobs today",actions:(0,t.jsx)(e$,{})},sidebar:{show:!0,variant:"standard"}},"/dashboard/work/jobs":{structure:{maxWidth:"full",padding:"none",gap:"none",fixedHeight:!0,variant:"default",background:"default",insetPadding:"none"},header:{show:!0},toolbar:{show:!0,title:"Jobs",subtitle:"Manage customer jobs and service requests",statsMode:"button",stats:(0,t.jsx)(eP,{page:"jobs"}),actions:(0,t.jsx)(e$,{})},sidebar:{show:!0,variant:"standard"}},"/dashboard/work/invoices":{structure:{maxWidth:"full",padding:"none",gap:"none",fixedHeight:!0,variant:"default",background:"default",insetPadding:"none"},header:{show:!0},toolbar:{show:!0,title:"Invoices",subtitle:"Create, track, and manage customer invoices",statsMode:"button",stats:(0,t.jsx)(eP,{page:"invoices"}),actions:(0,t.jsx)(_,{})},sidebar:{show:!0,variant:"standard"}},"/dashboard/work/appointments":{structure:{maxWidth:"full",padding:"none",gap:"none",fixedHeight:!0,variant:"default",background:"default",insetPadding:"none"},header:{show:!0},toolbar:{show:!0,title:"Appointments",subtitle:"Manage customer appointments and schedules",statsMode:"button",stats:(0,t.jsx)(eP,{page:"appointments"}),actions:(0,t.jsx)(k,{})},sidebar:{show:!0,variant:"standard"}},"/dashboard/work/estimates":{structure:{maxWidth:"full",padding:"none",gap:"none",fixedHeight:!0,variant:"default",background:"default",insetPadding:"none"},header:{show:!0},toolbar:{show:!0,title:"Estimates",subtitle:"Create and manage project estimates and quotes",statsMode:"button",stats:(0,t.jsx)(eP,{page:"estimates"}),actions:(0,t.jsx)(E,{})},sidebar:{show:!0,variant:"standard"}},"/dashboard/work/payments":{structure:{maxWidth:"full",padding:"none",gap:"none",fixedHeight:!0,variant:"default",background:"default",insetPadding:"none"},header:{show:!0},toolbar:{show:!0,title:"Payments",subtitle:"Track and manage customer payments",statsMode:"button",stats:(0,t.jsx)(eP,{page:"payments"}),actions:(0,t.jsx)(ee,{})},sidebar:{show:!0,variant:"standard"}},"/dashboard/work/contracts":{structure:{maxWidth:"full",padding:"none",gap:"none",fixedHeight:!0,variant:"default",background:"default",insetPadding:"none"},header:{show:!0},toolbar:{show:!0,title:"Contracts",subtitle:"Create and manage digital contracts and agreements",statsMode:"button",stats:(0,t.jsx)(eP,{page:"contracts"}),actions:(0,t.jsx)(B,{})},sidebar:{show:!0,variant:"standard"}},"/dashboard/work/maintenance-plans":{structure:{maxWidth:"full",padding:"none",gap:"none",fixedHeight:!0,variant:"default",background:"default",insetPadding:"none"},header:{show:!0},toolbar:{show:!0,title:"Maintenance Plans",subtitle:"Manage recurring maintenance contracts and schedules",actions:(0,t.jsx)(K,{})},sidebar:{show:!0,variant:"standard"}},"/dashboard/work/service-agreements":{structure:{maxWidth:"full",padding:"none",gap:"none",fixedHeight:!0,variant:"default",background:"default",insetPadding:"none"},header:{show:!0},toolbar:{show:!0,title:"Service Agreements",subtitle:"Manage customer service contracts and warranties",actions:(0,t.jsx)(eF,{})},sidebar:{show:!0,variant:"standard"}},"/dashboard/work/vendors":{structure:{maxWidth:"full",padding:"none",gap:"none",fixedHeight:!0,variant:"default",background:"default",insetPadding:"none"},header:{show:!0},toolbar:{show:!0,title:"Vendors",subtitle:"Manage suppliers you can assign to purchase orders",statsMode:"button",stats:(0,t.jsx)(eP,{page:"vendors"}),actions:(0,t.jsx)(eD,{})},sidebar:{show:!0,variant:"standard"}},"/dashboard/work/pricebook":{structure:{maxWidth:"full",padding:"none",gap:"none",fixedHeight:!0,variant:"default",background:"default",insetPadding:"none"},header:{show:!0},toolbar:{show:!0,title:"Price Book",subtitle:"Manage your service catalog and pricing",actions:(0,t.jsx)(eh,{})},sidebar:{show:!0,variant:"standard"}},"/dashboard/work/team":{structure:{maxWidth:"full",padding:"none",gap:"none",fixedHeight:!0,variant:"default",background:"default",insetPadding:"none"},header:{show:!0},toolbar:{show:!0,title:"Team",subtitle:"Manage your team members and permissions",statsMode:"button",stats:(0,t.jsx)(eP,{page:"team"}),actions:(0,t.jsx)(eT,{})},sidebar:{show:!0,variant:"standard"}},"/dashboard/work/purchase-orders":{structure:{maxWidth:"full",padding:"none",gap:"none",fixedHeight:!0,variant:"default",background:"default",insetPadding:"none"},header:{show:!0},toolbar:{show:!0,title:"Purchase Orders",subtitle:"Manage purchase orders and inventory",statsMode:"button",stats:(0,t.jsx)(eP,{page:"purchase-orders"}),actions:(0,t.jsx)(eb,{})},sidebar:{show:!0,variant:"standard"}},"/dashboard/work/properties":{structure:{maxWidth:"full",padding:"none",gap:"none",fixedHeight:!0,variant:"default",background:"default",insetPadding:"none"},header:{show:!0},toolbar:{show:!0,title:"Properties",subtitle:"Manage customer properties and service locations",actions:(0,t.jsx)(c,{})},sidebar:{show:!0,variant:"standard"}},"/dashboard/work/materials":{structure:{maxWidth:"full",padding:"none",gap:"none",fixedHeight:!0,variant:"default",background:"default",insetPadding:"none"},header:{show:!0},toolbar:{show:!0,title:"Materials",subtitle:"Manage materials and supplies",statsMode:"button",stats:(0,t.jsx)(eP,{page:"materials"}),actions:(0,t.jsx)(e$,{})},sidebar:{show:!0,variant:"standard"}},"/dashboard/work/equipment":{structure:{maxWidth:"full",padding:"none",gap:"none",fixedHeight:!0,variant:"default",background:"default",insetPadding:"none"},header:{show:!0},toolbar:{show:!0,title:"Equipment",subtitle:"Manage company equipment and assets",statsMode:"button",stats:(0,t.jsx)(eP,{page:"equipment"}),actions:(0,t.jsx)(e$,{})},sidebar:{show:!0,variant:"standard"}}}[l];return r?(0,t.jsx)(s.SectionLayout,{config:r,pathname:l,children:e}):(0,t.jsx)(t.Fragment,{children:e})}e.s(["WorkSectionLayout",()=>eL],828957)}]);