(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,672573,e=>{"use strict";let a=(0,e.i(383206).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["default",()=>a])},15751,e=>{"use strict";var a=e.i(672573);e.s(["MapPin",()=>a.default])},432716,e=>{"use strict";let a=(0,e.i(383206).default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["default",()=>a])},882525,e=>{"use strict";var a=e.i(432716);e.s(["Copy",()=>a.default])},66763,e=>{"use strict";let a=(0,e.i(383206).default)("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);e.s(["default",()=>a])},604501,e=>{"use strict";var a=e.i(66763);e.s(["Truck",()=>a.default])},510651,e=>{"use strict";let a=(0,e.i(383206).default)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["default",()=>a])},123891,e=>{"use strict";var a=e.i(510651);e.s(["ShieldCheck",()=>a.default])},52573,e=>{"use strict";let a=(0,e.i(383206).default)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);e.s(["default",()=>a])},694288,e=>{"use strict";var a=e.i(52573);e.s(["Link",()=>a.default])},519131,e=>{"use strict";let a=(0,e.i(383206).default)("paperclip",[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]]);e.s(["default",()=>a])},233654,e=>{"use strict";var a=e.i(519131);e.s(["Paperclip",()=>a.default])},711448,e=>{"use strict";e.i(116233),e.s([])},305549,585506,e=>{"use strict";var a=e.i(111043),t=e.i(868422),s=e.i(227009);e.i(670258);var r=e.i(921251);e.i(711448);var l=e.i(157222);function i({activities:e}){return e&&0!==e.length?(0,a.jsx)(l.UnifiedAccordionContent,{children:(0,a.jsx)("div",{className:"max-h-96 space-y-3 overflow-y-auto",children:e.map(e=>(0,a.jsxs)("div",{className:"hover:bg-muted/50 flex gap-3 rounded-lg border p-3 transition-colors",children:[(0,a.jsxs)(r.Avatar,{className:"size-8 flex-shrink-0",children:[(0,a.jsx)(r.AvatarImage,{src:e.user?.avatar}),(0,a.jsx)(r.AvatarFallback,{children:e.user?.name?.charAt(0)||"?"})]}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("p",{className:"text-sm break-words",children:e.description}),(0,a.jsxs)("p",{className:"text-muted-foreground mt-1 text-xs",children:[e.user?.name," •"," ",(0,t.formatDistance)(new Date(e.created_at),new Date,{addSuffix:!0})]})]})]},e.id))})}):(0,a.jsx)(l.UnifiedAccordionContent,{children:(0,a.jsx)("div",{className:"flex h-32 items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(s.Activity,{className:"text-muted-foreground/50 mx-auto size-8"}),(0,a.jsx)("p",{className:"text-muted-foreground mt-2 text-sm",children:"No activity yet"})]})})})}e.s(["ActivityLogSection",()=>i],305549);var n=e.i(882896),d=e.i(606661),c=e.i(233654),o=e.i(371526),x=e.i(826463),u=e.i(970799);e.i(889265);var m=e.i(677607),h=e.i(51052);function g({attachments:e,entityType:t,entityId:s,onUpload:r}){let{toast:i}=(0,h.useToast)(),[g,f]=(0,u.useState)(!1),p=async e=>{let a=e.target.files;if(a&&0!==a.length){f(!0);try{r&&await r(a),i.success(`${a.length} file(s) uploaded successfully`)}catch(e){i.error("Failed to upload files")}finally{f(!1),e.target.value=""}}};return(0,a.jsx)(l.UnifiedAccordionContent,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[r&&(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{className:"hidden",disabled:g,id:"file-upload",multiple:!0,onChange:p,type:"file"}),(0,a.jsx)("label",{htmlFor:"file-upload",children:(0,a.jsx)(m.Button,{asChild:!0,className:"w-full cursor-pointer",disabled:g,size:"sm",variant:"outline",children:(0,a.jsx)("span",{children:g?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.Upload,{className:"mr-2 size-4 animate-pulse"}),"Uploading..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Plus,{className:"mr-2 size-4"}),"Upload Files"]})})})})]}),e&&e.length>0?(0,a.jsx)("div",{className:"space-y-2",children:e.map(e=>(0,a.jsxs)("div",{className:"hover:bg-muted/50 flex items-center justify-between rounded-lg border p-3 transition-colors",children:[(0,a.jsxs)("div",{className:"flex min-w-0 flex-1 items-center gap-3",children:[(0,a.jsx)(d.FileText,{className:"text-muted-foreground size-4 flex-shrink-0"}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("p",{className:"truncate text-sm font-medium",children:e.original_file_name||e.file_name||"Untitled"}),(0,a.jsxs)("p",{className:"text-muted-foreground text-xs",children:[e.file_size?`${(e.file_size/1024).toFixed(1)} KB`:"",e.category&&` • ${e.category}`]})]})]}),(0,a.jsx)(m.Button,{asChild:!0,className:"flex-shrink-0",size:"sm",variant:"ghost",children:(0,a.jsx)("a",{download:!0,href:e.storage_url||e.url,rel:"noopener noreferrer",target:"_blank",children:(0,a.jsx)(n.Download,{className:"size-4"})})})]},e.id))}):(0,a.jsx)("div",{className:"flex h-32 items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(c.Paperclip,{className:"text-muted-foreground/50 mx-auto size-8"}),(0,a.jsx)("p",{className:"text-muted-foreground mt-2 text-sm",children:"No attachments yet"})]})})]})})}e.s(["AttachmentsSection",()=>g],585506)},821305,278633,e=>{"use strict";var a=e.i(111043),t=e.i(227009),s=e.i(606661),r=e.i(694288),l=e.i(233654),i=e.i(702948),n=e.i(152088);function d({header:e,customHeader:t,metadata:s,beforeContent:r,afterContent:l,children:i,className:d,contentGapClassName:c,statsBar:o}){let x=s??e?.metadata??[];return(0,a.jsxs)("div",{className:(0,n.cn)("flex w-full flex-col gap-4 pb-24 lg:gap-5",d),"data-detail-shell":"",children:[o,t??(e?(0,a.jsx)(u,{section:e}):null),x.length>0?(0,a.jsx)(m,{items:x}):null,r,i?(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col gap-4",c),children:i}):null,l]})}let c={none:"p-0",sm:"p-4",md:"p-6",lg:"p-8"},o={default:"border border-border/60 bg-card shadow-sm",muted:"border border-border/60 bg-muted/40 shadow-sm",subtle:"border border-border/40 bg-card/80 shadow-sm",ghost:"border border-border/50 bg-transparent shadow-none"};function x({children:e,className:t,padding:s="md",variant:r="default"}){return(0,a.jsx)("section",{className:(0,n.cn)("rounded-xl",o[r],t),children:(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col gap-4",c[s]),children:e})})}function u({section:e}){var t;let{breadcrumbs:s,leadingVisual:r,title:l,subtitle:i,description:n,badges:d,actions:c,secondaryActions:o}=e;return(0,a.jsxs)("header",{className:"flex flex-col gap-4 lg:gap-6",children:[s?(0,a.jsx)("div",{className:"text-muted-foreground text-sm",children:s}):null,(0,a.jsxs)("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between lg:gap-8",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)("div",{className:"flex flex-col gap-3",children:(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:gap-4",children:[r?(0,a.jsx)("div",{className:"flex items-center justify-center",children:r}):null,(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(t=l)?"string"==typeof t?(0,a.jsx)("h1",{className:"text-2xl font-semibold tracking-tight md:text-3xl",children:t}):(0,a.jsx)("div",{className:"text-2xl font-semibold tracking-tight md:text-3xl",children:t}):null,i?(0,a.jsx)("div",{className:"text-muted-foreground max-w-3xl text-sm md:text-base",children:i}):null]})]}),n?(0,a.jsx)("div",{className:"text-muted-foreground max-w-3xl text-sm",children:n}):null]})}),d&&d.length>0?(0,a.jsx)("div",{className:"flex flex-wrap items-center gap-2",children:d}):null]}),h(c,o)?(0,a.jsxs)("div",{className:"hidden flex-wrap items-center gap-2 lg:flex",children:[c?.map((e,t)=>(0,a.jsx)("span",{className:"inline-flex",children:e},t)),o?.map((e,t)=>(0,a.jsx)("span",{className:"inline-flex",children:e},`secondary-${t}`))]}):null]}),h(c,o)?(0,a.jsxs)("div",{className:"flex flex-col gap-2 lg:hidden",children:[c&&c.length>0?(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:c.map((e,t)=>(0,a.jsx)("span",{className:"flex-1",children:e},t))}):null,o&&o.length>0?(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:o.map((e,t)=>(0,a.jsx)("span",{className:"flex-1",children:e},`secondary-mobile-${t}`))}):null]}):null]})}function m({items:e}){return(0,a.jsx)("section",{className:"@xl-page:grid-cols-4 grid grid-cols-1 gap-4 md:grid-cols-2",children:e.map((e,t)=>(0,a.jsxs)("div",{className:"border-border/50 bg-card/60 flex flex-col gap-1 rounded-lg border px-4 py-3 shadow-sm",children:[(0,a.jsxs)("span",{className:"text-muted-foreground flex items-center gap-2 text-xs font-medium tracking-wide uppercase",children:[e.icon,e.label]}),(0,a.jsx)("div",{className:"text-foreground text-sm font-semibold",children:e.value}),e.helperText?(0,a.jsx)("span",{className:"text-muted-foreground text-xs",children:e.helperText}):null]},t))})}function h(e,a){return!!(e&&e.length>0||a&&a.length>0)}e.s(["DetailPageShell",()=>d,"DetailPageSurface",()=>x],278633);var g=e.i(305549),f=e.i(585506),p=e.i(868422),v=e.i(371526),j=e.i(970799);e.i(670258);var b=e.i(921251);e.i(889265);var y=e.i(677607);e.i(526120);var N=e.i(610120);e.i(711448);var k=e.i(157222),w=e.i(51052);function A({notes:e,entityType:t,entityId:r,onAddNote:l}){let{toast:i}=(0,w.useToast)(),[n,d]=(0,j.useState)(!1),[c,o]=(0,j.useState)(""),[x,u]=(0,j.useState)(!1),m=async()=>{if(l){if(!c.trim())return void i.error("Please enter a note");u(!0);try{await l(c),i.success("Note added successfully"),o(""),d(!1)}catch(e){i.error("Failed to add note")}finally{u(!1)}}};return(0,a.jsx)(k.UnifiedAccordionContent,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[l&&(n?(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(N.Textarea,{autoFocus:!0,onChange:e=>o(e.target.value),placeholder:"Enter your note...",rows:3,value:c}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(y.Button,{disabled:x,onClick:m,size:"sm",children:x?"Saving...":"Save Note"}),(0,a.jsx)(y.Button,{onClick:()=>{d(!1),o("")},size:"sm",variant:"outline",children:"Cancel"})]})]}):(0,a.jsxs)(y.Button,{className:"w-full",onClick:()=>d(!0),size:"sm",variant:"outline",children:[(0,a.jsx)(v.Plus,{className:"mr-2 size-4"}),"Add Note"]})),e&&e.length>0?(0,a.jsx)("div",{className:"space-y-3",children:e.map(e=>(0,a.jsx)("div",{className:"hover:bg-muted/50 rounded-lg border p-3 transition-colors",children:(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsxs)(b.Avatar,{className:"size-8 flex-shrink-0",children:[(0,a.jsx)(b.AvatarImage,{src:e.user?.avatar}),(0,a.jsx)(b.AvatarFallback,{children:e.user?.name?.charAt(0)||"?"})]}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,a.jsx)("p",{className:"text-xs font-medium",children:e.user?.name}),(0,a.jsx)("p",{className:"text-muted-foreground text-xs",children:(0,p.formatDistance)(new Date(e.created_at),new Date,{addSuffix:!0})})]}),(0,a.jsx)("p",{className:"mt-1 text-sm break-words whitespace-pre-wrap",children:e.content||e.note})]})]})},e.id))}):(0,a.jsx)("div",{className:"flex h-32 items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(s.FileText,{className:"text-muted-foreground/50 mx-auto size-8"}),(0,a.jsx)("p",{className:"text-muted-foreground mt-2 text-sm",children:"No notes yet"})]})})]})})}var C=e.i(87912),S=e.i(176378);e.i(553153);var z=e.i(363712);function T({relatedItems:e}){return e&&0!==e.length?(0,a.jsx)(k.UnifiedAccordionContent,{children:(0,a.jsx)("div",{className:"space-y-2",children:e.map(e=>(0,a.jsxs)(S.default,{className:"group hover:bg-muted/50 flex items-center justify-between rounded-lg border p-3 transition-colors",href:e.href,children:[(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("p",{className:"truncate text-sm font-medium",children:e.title}),e.badge&&(0,a.jsx)(z.Badge,{className:"flex-shrink-0",variant:e.badge.variant||"default",children:e.badge.label})]}),e.subtitle&&(0,a.jsx)("p",{className:"text-muted-foreground truncate text-xs",children:e.subtitle})]}),(0,a.jsx)(C.ChevronRight,{className:"text-muted-foreground size-4 flex-shrink-0 transition-transform group-hover:translate-x-0.5"})]},e.id))})}):(0,a.jsx)(k.UnifiedAccordionContent,{children:(0,a.jsx)("div",{className:"flex h-32 items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(r.Link,{className:"text-muted-foreground/50 mx-auto size-8"}),(0,a.jsx)("p",{className:"text-muted-foreground mt-2 text-sm",children:"No related items"})]})})})}let F=(0,i.default)(()=>e.A(134181).then(e=>e.UnifiedAccordion),{loadableGenerated:{modules:[388024]},ssr:!1});function P({header:e,customHeader:i,customSections:c,activities:o=[],notes:u=[],attachments:m=[],relatedItems:h=[],showStandardSections:p={activities:!0,notes:!0,attachments:!0,relatedItems:!0},className:v,defaultOpenSection:j,beforeContent:b,afterContent:y,statsBar:N,contentGapClassName:k,surfacePadding:w="none",surfaceVariant:C="default",surfaceClassName:S,storageKey:z,enableReordering:P=!0}){let D=[];!1!==p.activities&&D.push({id:"activity-log",title:"Activity Log",icon:(0,a.jsx)(t.Activity,{className:"size-4"}),count:o.length,content:(0,a.jsx)(g.ActivityLogSection,{activities:o})}),!1!==p.notes&&D.push({id:"notes",title:"Notes",icon:(0,a.jsx)(s.FileText,{className:"size-4"}),count:u.length,content:(0,a.jsx)(A,{notes:u})}),!1!==p.attachments&&D.push({id:"attachments",title:"Attachments",icon:(0,a.jsx)(l.Paperclip,{className:"size-4"}),count:m.length,content:(0,a.jsx)(f.AttachmentsSection,{attachments:m})}),!1!==p.relatedItems&&h.length>0&&D.push({id:"related-items",title:"Related Items",icon:(0,a.jsx)(r.Link,{className:"size-4"}),count:h.length,content:(0,a.jsx)(T,{relatedItems:h})});let M=[...c||[],...D];return(0,a.jsx)(d,{afterContent:y,beforeContent:b,className:(0,n.cn)("w-full",v),contentGapClassName:k??"gap-4",customHeader:i,header:e,statsBar:N,children:(0,a.jsx)(x,{className:(0,n.cn)("overflow-hidden",S),padding:w,variant:C,children:(0,a.jsx)(F,{defaultOpenSection:j||M[0]?.id,enableReordering:P,sections:M,storageKey:z})})})}e.s(["DetailPageContentLayout",()=>P],821305)},235670,e=>{"use strict";e.i(116233),e.s([])},49718,307033,e=>{"use strict";var a=e.i(552038),t=(0,a.createServerReference)("70ff12ee81a60340f786414d0baa7af58484dd7488",a.callServer,void 0,a.findSourceMapURL,"updateEntityTags");e.s(["updateEntityTags",()=>t],49718);var s=e.i(111043),r=e.i(371526),l=e.i(540374),i=e.i(212409),n=e.i(904653),d=e.i(970799),c=e.i(995403);e.i(235670);var o=e.i(360648);e.i(889265);var x=e.i(677607);e.i(51478);var u=e.i(635613);e.i(149989);var m=e.i(880177);e.i(220474);var h=e.i(171056);e.i(868198);var g=e.i(798764),f=e.i(220168);let p=[{name:"Red",value:"red",class:"bg-red-100 text-red-700 border-red-200 dark:bg-red-900/20 dark:text-red-400 dark:border-red-900/30"},{name:"Orange",value:"orange",class:"bg-orange-100 text-orange-700 border-orange-200 dark:bg-orange-900/20 dark:text-orange-400 dark:border-orange-900/30"},{name:"Amber",value:"amber",class:"bg-amber-100 text-amber-700 border-amber-200 dark:bg-amber-900/20 dark:text-amber-400 dark:border-amber-900/30"},{name:"Yellow",value:"yellow",class:"bg-yellow-100 text-yellow-700 border-yellow-200 dark:bg-yellow-900/20 dark:text-yellow-400 dark:border-yellow-900/30"},{name:"Green",value:"green",class:"bg-green-100 text-green-700 border-green-200 dark:bg-green-900/20 dark:text-green-400 dark:border-green-900/30"},{name:"Emerald",value:"emerald",class:"bg-emerald-100 text-emerald-700 border-emerald-200 dark:bg-emerald-900/20 dark:text-emerald-400 dark:border-emerald-900/30"},{name:"Teal",value:"teal",class:"bg-teal-100 text-teal-700 border-teal-200 dark:bg-teal-900/20 dark:text-teal-400 dark:border-teal-900/30"},{name:"Blue",value:"blue",class:"bg-blue-100 text-blue-700 border-blue-200 dark:bg-blue-900/20 dark:text-blue-400 dark:border-blue-900/30"},{name:"Indigo",value:"indigo",class:"bg-indigo-100 text-indigo-700 border-indigo-200 dark:bg-indigo-900/20 dark:text-indigo-400 dark:border-indigo-900/30"},{name:"Purple",value:"purple",class:"bg-purple-100 text-purple-700 border-purple-200 dark:bg-purple-900/20 dark:text-purple-400 dark:border-purple-900/30"},{name:"Pink",value:"pink",class:"bg-pink-100 text-pink-700 border-pink-200 dark:bg-pink-900/20 dark:text-pink-400 dark:border-pink-900/30"},{name:"Gray",value:"gray",class:"bg-gray-100 text-gray-700 border-gray-200 dark:bg-gray-900/20 dark:text-gray-400 dark:border-gray-900/30"}],v=p.reduce((e,a)=>({...e,[a.value]:a.class}),{});function j({entityId:e,entityType:a,tags:t,onUpdateTags:j,readOnly:b=!1}){(0,n.useRouter)();let[y,N]=(0,d.useState)(!1),[k,w]=(0,d.useState)(""),[A,C]=(0,d.useState)("blue"),[S,z]=(0,d.useState)(!1),[T,F]=(0,d.useState)(null),P=e=>"string"==typeof e?e:e.label,D=async()=>{if(!k.trim())return void c.toast.error("Please enter a tag name");z(!0);try{let a={label:k.trim(),color:A},s=[...t,a],r=await j(e,s);r.success?(c.toast.success("Tag added"),N(!1),w(""),C("blue")):c.toast.error(r.error||"Failed to add tag")}catch(e){c.toast.error("Failed to add tag")}finally{z(!1)}},M=async a=>{try{let s=t.filter(e=>{let t=P(e),s=P(a);return t!==s}),r=await j(e,s);r.success?c.toast.success("Tag removed"):c.toast.error(r.error||"Failed to remove tag")}catch(e){c.toast.error("Failed to remove tag")}finally{F(null)}},L=p.find(e=>e.value===A);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[t.map((e,a)=>{let t=P(e),r="string"==typeof e?void 0:e.color,n=r&&v[r]?v[r]:v.blue;return(0,s.jsxs)("div",{className:`inline-flex items-center gap-1.5 rounded-full border px-3 py-1.5 text-sm font-medium transition-colors ${n}`,children:[(0,s.jsx)(l.Tag,{className:"size-3"}),(0,s.jsx)("span",{children:t}),!b&&(0,s.jsx)(x.Button,{className:"ml-1 size-4 p-0 hover:bg-black/10 dark:hover:bg-white/10",onClick:()=>F(e),size:"icon",variant:"ghost",children:(0,s.jsx)(i.X,{className:"size-3"})})]},`${t}-${a}`)}),!b&&(0,s.jsxs)(h.Popover,{onOpenChange:N,open:y,children:[(0,s.jsx)(h.PopoverTrigger,{asChild:!0,children:(0,s.jsxs)("button",{className:"border-border/60 bg-background hover:border-primary/50 hover:bg-primary/5 inline-flex items-center gap-1.5 rounded-full border border-dashed px-3 py-1.5 text-sm font-medium transition-colors",children:[(0,s.jsx)(r.Plus,{className:"size-3"}),(0,s.jsx)("span",{children:"Add Tag"})]})}),(0,s.jsx)(h.PopoverContent,{align:"start",className:"w-80",side:"bottom",children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"text-sm font-semibold",children:"Create Custom Tag"}),(0,s.jsxs)("p",{className:"text-muted-foreground text-xs",children:["Add a custom tag for this ",a]})]}),(0,s.jsx)(f.StandardFormField,{label:"Tag Name",htmlFor:"tag-label",children:(0,s.jsx)(u.Input,{id:"tag-label",onChange:e=>w(e.target.value),onKeyDown:e=>{"Enter"===e.key&&D()},placeholder:"e.g., High Priority, VIP, etc.",value:k})}),(0,s.jsx)(f.StandardFormField,{label:"Color",htmlFor:"tag-color",children:(0,s.jsxs)(g.Select,{onValueChange:C,value:A,children:[(0,s.jsx)(g.SelectTrigger,{id:"tag-color",children:(0,s.jsx)(g.SelectValue,{children:L&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:`h-4 w-4 rounded-full ${L.class}`}),(0,s.jsx)("span",{children:L.name})]})})}),(0,s.jsx)(g.SelectContent,{children:p.map(e=>(0,s.jsx)(g.SelectItem,{value:e.value,children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:`h-4 w-4 rounded-full ${e.class}`}),(0,s.jsx)("span",{children:e.name})]})},e.value))})]})}),k&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(m.Label,{children:"Preview"}),(0,s.jsxs)("div",{className:`inline-flex items-center gap-1.5 rounded-full border px-3 py-1.5 text-sm font-medium ${L?.class}`,children:[(0,s.jsx)(l.Tag,{className:"size-3"}),(0,s.jsx)("span",{children:k})]})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(x.Button,{className:"flex-1",onClick:()=>N(!1),variant:"outline",children:"Cancel"}),(0,s.jsx)(x.Button,{className:"flex-1",disabled:S||!k.trim(),onClick:D,children:S?"Saving...":"Add Tag"})]})]})})]})]}),(0,s.jsx)(o.AlertDialog,{onOpenChange:()=>F(null),open:!!T,children:(0,s.jsxs)(o.AlertDialogContent,{children:[(0,s.jsxs)(o.AlertDialogHeader,{children:[(0,s.jsx)(o.AlertDialogTitle,{children:"Remove Tag"}),(0,s.jsxs)(o.AlertDialogDescription,{children:['Are you sure you want to remove the tag "',T?P(T):"",'"? This action cannot be undone.']})]}),(0,s.jsxs)(o.AlertDialogFooter,{children:[(0,s.jsx)(o.AlertDialogCancel,{children:"Cancel"}),(0,s.jsx)(o.AlertDialogAction,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:()=>T&&M(T),children:"Remove"})]})]})})]})}e.s(["EntityTags",()=>j],307033)},933234,e=>{"use strict";var a=e.i(970799);function t(e){(0,a.useEffect)(()=>{let a=a=>{if(!a.ctrlKey||a.shiftKey||a.altKey||a.metaKey)return;let t=e[a.key];t&&(a.preventDefault(),t())};return window.addEventListener("keydown",a),()=>{window.removeEventListener("keydown",a)}},[e])}e.s(["useSectionShortcuts",()=>t])},957518,e=>{"use strict";let a=(0,e.i(383206).default)("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);e.s(["default",()=>a])},66774,e=>{"use strict";var a=e.i(957518);e.s(["ClipboardList",()=>a.default])},169820,e=>{"use strict";var a=e.i(552038),t=(0,a.createServerReference)("4046758ce012990c78916ef9c8dacc67e604f9aaa8",a.callServer,void 0,a.findSourceMapURL,"archiveEquipment");e.s(["archiveEquipment",()=>t])},438170,e=>{"use strict";let a=(0,e.i(383206).default)("fuel",[["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 4 0v-6.998a2 2 0 0 0-.59-1.42L18 5",key:"1wtuz0"}],["path",{d:"M14 21V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v16",key:"e09ifn"}],["path",{d:"M2 21h13",key:"1x0fut"}],["path",{d:"M3 9h11",key:"1p7c0w"}]]);e.s(["default",()=>a])},465151,e=>{"use strict";let a=(0,e.i(383206).default)("gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);e.s(["default",()=>a])},463529,e=>{"use strict";var a=e.i(465151);e.s(["Gauge",()=>a.default])},396987,e=>{"use strict";var a=e.i(111043),t=e.i(904653),s=e.i(970799),r=e.i(237833);function l({actions:e,children:l}){let i=(0,t.usePathname)()||"/dashboard",n=(0,r.useToolbarActionsStore)(e=>e.setActions),d=(0,r.useToolbarActionsStore)(e=>e.clearActions);return(0,s.useLayoutEffect)(()=>(e?n(i,e):d(i),()=>{d(i)}),[i,e,n,d]),(0,a.jsx)(a.Fragment,{children:l})}e.s(["ToolbarActionsProvider",()=>l])},134181,e=>{e.v(a=>Promise.all(["static/chunks/6680116ea3e49da7.js"].map(a=>e.l(a))).then(()=>a(388024)))}]);