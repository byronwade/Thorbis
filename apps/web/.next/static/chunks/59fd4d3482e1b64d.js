(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,52573,e=>{"use strict";let s=(0,e.i(383206).default)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);e.s(["default",()=>s])},694288,e=>{"use strict";var s=e.i(52573);e.s(["Link",()=>s.default])},519131,e=>{"use strict";let s=(0,e.i(383206).default)("paperclip",[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]]);e.s(["default",()=>s])},233654,e=>{"use strict";var s=e.i(519131);e.s(["Paperclip",()=>s.default])},711448,e=>{"use strict";e.i(116233),e.s([])},305549,585506,e=>{"use strict";var s=e.i(111043),t=e.i(868422),a=e.i(227009);e.i(670258);var l=e.i(921251);e.i(711448);var i=e.i(157222);function n({activities:e}){return e&&0!==e.length?(0,s.jsx)(i.UnifiedAccordionContent,{children:(0,s.jsx)("div",{className:"max-h-96 space-y-3 overflow-y-auto",children:e.map(e=>(0,s.jsxs)("div",{className:"hover:bg-muted/50 flex gap-3 rounded-lg border p-3 transition-colors",children:[(0,s.jsxs)(l.Avatar,{className:"size-8 flex-shrink-0",children:[(0,s.jsx)(l.AvatarImage,{src:e.user?.avatar}),(0,s.jsx)(l.AvatarFallback,{children:e.user?.name?.charAt(0)||"?"})]}),(0,s.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,s.jsx)("p",{className:"text-sm break-words",children:e.description}),(0,s.jsxs)("p",{className:"text-muted-foreground mt-1 text-xs",children:[e.user?.name," •"," ",(0,t.formatDistance)(new Date(e.created_at),new Date,{addSuffix:!0})]})]})]},e.id))})}):(0,s.jsx)(i.UnifiedAccordionContent,{children:(0,s.jsx)("div",{className:"flex h-32 items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(a.Activity,{className:"text-muted-foreground/50 mx-auto size-8"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-2 text-sm",children:"No activity yet"})]})})})}e.s(["ActivityLogSection",()=>n],305549);var r=e.i(882896),d=e.i(606661),c=e.i(233654),m=e.i(371526),x=e.i(826463),o=e.i(970799);e.i(889265);var u=e.i(677607),h=e.i(51052);function p({attachments:e,entityType:t,entityId:a,onUpload:l}){let{toast:n}=(0,h.useToast)(),[p,f]=(0,o.useState)(!1),j=async e=>{let s=e.target.files;if(s&&0!==s.length){f(!0);try{l&&await l(s),n.success(`${s.length} file(s) uploaded successfully`)}catch(e){n.error("Failed to upload files")}finally{f(!1),e.target.value=""}}};return(0,s.jsx)(i.UnifiedAccordionContent,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[l&&(0,s.jsxs)("div",{children:[(0,s.jsx)("input",{className:"hidden",disabled:p,id:"file-upload",multiple:!0,onChange:j,type:"file"}),(0,s.jsx)("label",{htmlFor:"file-upload",children:(0,s.jsx)(u.Button,{asChild:!0,className:"w-full cursor-pointer",disabled:p,size:"sm",variant:"outline",children:(0,s.jsx)("span",{children:p?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.Upload,{className:"mr-2 size-4 animate-pulse"}),"Uploading..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(m.Plus,{className:"mr-2 size-4"}),"Upload Files"]})})})})]}),e&&e.length>0?(0,s.jsx)("div",{className:"space-y-2",children:e.map(e=>(0,s.jsxs)("div",{className:"hover:bg-muted/50 flex items-center justify-between rounded-lg border p-3 transition-colors",children:[(0,s.jsxs)("div",{className:"flex min-w-0 flex-1 items-center gap-3",children:[(0,s.jsx)(d.FileText,{className:"text-muted-foreground size-4 flex-shrink-0"}),(0,s.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,s.jsx)("p",{className:"truncate text-sm font-medium",children:e.original_file_name||e.file_name||"Untitled"}),(0,s.jsxs)("p",{className:"text-muted-foreground text-xs",children:[e.file_size?`${(e.file_size/1024).toFixed(1)} KB`:"",e.category&&` • ${e.category}`]})]})]}),(0,s.jsx)(u.Button,{asChild:!0,className:"flex-shrink-0",size:"sm",variant:"ghost",children:(0,s.jsx)("a",{download:!0,href:e.storage_url||e.url,rel:"noopener noreferrer",target:"_blank",children:(0,s.jsx)(r.Download,{className:"size-4"})})})]},e.id))}):(0,s.jsx)("div",{className:"flex h-32 items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(c.Paperclip,{className:"text-muted-foreground/50 mx-auto size-8"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-2 text-sm",children:"No attachments yet"})]})})]})})}e.s(["AttachmentsSection",()=>p],585506)},821305,278633,e=>{"use strict";var s=e.i(111043),t=e.i(227009),a=e.i(606661),l=e.i(694288),i=e.i(233654),n=e.i(702948),r=e.i(152088);function d({header:e,customHeader:t,metadata:a,beforeContent:l,afterContent:i,children:n,className:d,contentGapClassName:c,statsBar:m}){let x=a??e?.metadata??[];return(0,s.jsxs)("div",{className:(0,r.cn)("flex w-full flex-col gap-4 pb-24 lg:gap-5",d),"data-detail-shell":"",children:[m,t??(e?(0,s.jsx)(o,{section:e}):null),x.length>0?(0,s.jsx)(u,{items:x}):null,l,n?(0,s.jsx)("div",{className:(0,r.cn)("flex flex-col gap-4",c),children:n}):null,i]})}let c={none:"p-0",sm:"p-4",md:"p-6",lg:"p-8"},m={default:"border border-border/60 bg-card shadow-sm",muted:"border border-border/60 bg-muted/40 shadow-sm",subtle:"border border-border/40 bg-card/80 shadow-sm",ghost:"border border-border/50 bg-transparent shadow-none"};function x({children:e,className:t,padding:a="md",variant:l="default"}){return(0,s.jsx)("section",{className:(0,r.cn)("rounded-xl",m[l],t),children:(0,s.jsx)("div",{className:(0,r.cn)("flex flex-col gap-4",c[a]),children:e})})}function o({section:e}){var t;let{breadcrumbs:a,leadingVisual:l,title:i,subtitle:n,description:r,badges:d,actions:c,secondaryActions:m}=e;return(0,s.jsxs)("header",{className:"flex flex-col gap-4 lg:gap-6",children:[a?(0,s.jsx)("div",{className:"text-muted-foreground text-sm",children:a}):null,(0,s.jsxs)("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between lg:gap-8",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,s.jsx)("div",{className:"flex flex-col gap-3",children:(0,s.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:gap-4",children:[l?(0,s.jsx)("div",{className:"flex items-center justify-center",children:l}):null,(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(t=i)?"string"==typeof t?(0,s.jsx)("h1",{className:"text-2xl font-semibold tracking-tight md:text-3xl",children:t}):(0,s.jsx)("div",{className:"text-2xl font-semibold tracking-tight md:text-3xl",children:t}):null,n?(0,s.jsx)("div",{className:"text-muted-foreground max-w-3xl text-sm md:text-base",children:n}):null]})]}),r?(0,s.jsx)("div",{className:"text-muted-foreground max-w-3xl text-sm",children:r}):null]})}),d&&d.length>0?(0,s.jsx)("div",{className:"flex flex-wrap items-center gap-2",children:d}):null]}),h(c,m)?(0,s.jsxs)("div",{className:"hidden flex-wrap items-center gap-2 lg:flex",children:[c?.map((e,t)=>(0,s.jsx)("span",{className:"inline-flex",children:e},t)),m?.map((e,t)=>(0,s.jsx)("span",{className:"inline-flex",children:e},`secondary-${t}`))]}):null]}),h(c,m)?(0,s.jsxs)("div",{className:"flex flex-col gap-2 lg:hidden",children:[c&&c.length>0?(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:c.map((e,t)=>(0,s.jsx)("span",{className:"flex-1",children:e},t))}):null,m&&m.length>0?(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:m.map((e,t)=>(0,s.jsx)("span",{className:"flex-1",children:e},`secondary-mobile-${t}`))}):null]}):null]})}function u({items:e}){return(0,s.jsx)("section",{className:"@xl-page:grid-cols-4 grid grid-cols-1 gap-4 md:grid-cols-2",children:e.map((e,t)=>(0,s.jsxs)("div",{className:"border-border/50 bg-card/60 flex flex-col gap-1 rounded-lg border px-4 py-3 shadow-sm",children:[(0,s.jsxs)("span",{className:"text-muted-foreground flex items-center gap-2 text-xs font-medium tracking-wide uppercase",children:[e.icon,e.label]}),(0,s.jsx)("div",{className:"text-foreground text-sm font-semibold",children:e.value}),e.helperText?(0,s.jsx)("span",{className:"text-muted-foreground text-xs",children:e.helperText}):null]},t))})}function h(e,s){return!!(e&&e.length>0||s&&s.length>0)}e.s(["DetailPageShell",()=>d,"DetailPageSurface",()=>x],278633);var p=e.i(305549),f=e.i(585506),j=e.i(868422),g=e.i(371526),v=e.i(970799);e.i(670258);var N=e.i(921251);e.i(889265);var b=e.i(677607);e.i(526120);var y=e.i(610120);e.i(711448);var w=e.i(157222),_=e.i(51052);function C({notes:e,entityType:t,entityId:l,onAddNote:i}){let{toast:n}=(0,_.useToast)(),[r,d]=(0,v.useState)(!1),[c,m]=(0,v.useState)(""),[x,o]=(0,v.useState)(!1),u=async()=>{if(i){if(!c.trim())return void n.error("Please enter a note");o(!0);try{await i(c),n.success("Note added successfully"),m(""),d(!1)}catch(e){n.error("Failed to add note")}finally{o(!1)}}};return(0,s.jsx)(w.UnifiedAccordionContent,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[i&&(r?(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(y.Textarea,{autoFocus:!0,onChange:e=>m(e.target.value),placeholder:"Enter your note...",rows:3,value:c}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(b.Button,{disabled:x,onClick:u,size:"sm",children:x?"Saving...":"Save Note"}),(0,s.jsx)(b.Button,{onClick:()=>{d(!1),m("")},size:"sm",variant:"outline",children:"Cancel"})]})]}):(0,s.jsxs)(b.Button,{className:"w-full",onClick:()=>d(!0),size:"sm",variant:"outline",children:[(0,s.jsx)(g.Plus,{className:"mr-2 size-4"}),"Add Note"]})),e&&e.length>0?(0,s.jsx)("div",{className:"space-y-3",children:e.map(e=>(0,s.jsx)("div",{className:"hover:bg-muted/50 rounded-lg border p-3 transition-colors",children:(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsxs)(N.Avatar,{className:"size-8 flex-shrink-0",children:[(0,s.jsx)(N.AvatarImage,{src:e.user?.avatar}),(0,s.jsx)(N.AvatarFallback,{children:e.user?.name?.charAt(0)||"?"})]}),(0,s.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,s.jsx)("p",{className:"text-xs font-medium",children:e.user?.name}),(0,s.jsx)("p",{className:"text-muted-foreground text-xs",children:(0,j.formatDistance)(new Date(e.created_at),new Date,{addSuffix:!0})})]}),(0,s.jsx)("p",{className:"mt-1 text-sm break-words whitespace-pre-wrap",children:e.content||e.note})]})]})},e.id))}):(0,s.jsx)("div",{className:"flex h-32 items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(a.FileText,{className:"text-muted-foreground/50 mx-auto size-8"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-2 text-sm",children:"No notes yet"})]})})]})})}var k=e.i(87912),A=e.i(176378);e.i(553153);var S=e.i(363712);function z({relatedItems:e}){return e&&0!==e.length?(0,s.jsx)(w.UnifiedAccordionContent,{children:(0,s.jsx)("div",{className:"space-y-2",children:e.map(e=>(0,s.jsxs)(A.default,{className:"group hover:bg-muted/50 flex items-center justify-between rounded-lg border p-3 transition-colors",href:e.href,children:[(0,s.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("p",{className:"truncate text-sm font-medium",children:e.title}),e.badge&&(0,s.jsx)(S.Badge,{className:"flex-shrink-0",variant:e.badge.variant||"default",children:e.badge.label})]}),e.subtitle&&(0,s.jsx)("p",{className:"text-muted-foreground truncate text-xs",children:e.subtitle})]}),(0,s.jsx)(k.ChevronRight,{className:"text-muted-foreground size-4 flex-shrink-0 transition-transform group-hover:translate-x-0.5"})]},e.id))})}):(0,s.jsx)(w.UnifiedAccordionContent,{children:(0,s.jsx)("div",{className:"flex h-32 items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(l.Link,{className:"text-muted-foreground/50 mx-auto size-8"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-2 text-sm",children:"No related items"})]})})})}let D=(0,n.default)(()=>e.A(134181).then(e=>e.UnifiedAccordion),{loadableGenerated:{modules:[388024]},ssr:!1});function U({header:e,customHeader:n,customSections:c,activities:m=[],notes:o=[],attachments:u=[],relatedItems:h=[],showStandardSections:j={activities:!0,notes:!0,attachments:!0,relatedItems:!0},className:g,defaultOpenSection:v,beforeContent:N,afterContent:b,statsBar:y,contentGapClassName:w,surfacePadding:_="none",surfaceVariant:k="default",surfaceClassName:A,storageKey:S,enableReordering:U=!0}){let $=[];!1!==j.activities&&$.push({id:"activity-log",title:"Activity Log",icon:(0,s.jsx)(t.Activity,{className:"size-4"}),count:m.length,content:(0,s.jsx)(p.ActivityLogSection,{activities:m})}),!1!==j.notes&&$.push({id:"notes",title:"Notes",icon:(0,s.jsx)(a.FileText,{className:"size-4"}),count:o.length,content:(0,s.jsx)(C,{notes:o})}),!1!==j.attachments&&$.push({id:"attachments",title:"Attachments",icon:(0,s.jsx)(i.Paperclip,{className:"size-4"}),count:u.length,content:(0,s.jsx)(f.AttachmentsSection,{attachments:u})}),!1!==j.relatedItems&&h.length>0&&$.push({id:"related-items",title:"Related Items",icon:(0,s.jsx)(l.Link,{className:"size-4"}),count:h.length,content:(0,s.jsx)(z,{relatedItems:h})});let L=[...c||[],...$];return(0,s.jsx)(d,{afterContent:b,beforeContent:N,className:(0,r.cn)("w-full",g),contentGapClassName:w??"gap-4",customHeader:n,header:e,statsBar:y,children:(0,s.jsx)(x,{className:(0,r.cn)("overflow-hidden",A),padding:_,variant:k,children:(0,s.jsx)(D,{defaultOpenSection:v||L[0]?.id,enableReordering:U,sections:L,storageKey:S})})})}e.s(["DetailPageContentLayout",()=>U],821305)},213075,e=>{"use strict";let s=(0,e.i(383206).default)("receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);e.s(["default",()=>s])},868106,e=>{"use strict";var s=e.i(213075);e.s(["Receipt",()=>s.default])},404769,e=>{"use strict";var s=e.i(111043),t=e.i(276389),a=e.i(852648),l=e.i(982686),i=e.i(60179),n=e.i(868106),r=e.i(14435),d=e.i(501651),c=e.i(176378),m=e.i(970799),x=e.i(821305);e.i(553153);var o=e.i(363712);e.i(889265);var u=e.i(677607);e.i(51478);var h=e.i(635613);e.i(149989);var p=e.i(880177);e.i(711448);var f=e.i(157222);function j(e){return null==e?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e/100)}function g({entityData:e}){var g;let v,{plan:N,customer:b,property:y,equipment:w=[],generatedJobs:_=[],scheduledAppointments:C=[],generatedInvoices:k=[],notes:A=[],activities:S=[],attachments:z=[]}=e,D=N.included_services?"string"==typeof N.included_services?JSON.parse(N.included_services):N.included_services:[],U=[(g=N.status||"draft",v=({draft:{className:"bg-muted text-foreground dark:bg-foreground/20 dark:text-muted-foreground",label:"Draft"},active:{className:"bg-success text-white",label:"Active"},paused:{className:"bg-warning text-white",label:"Paused"},cancelled:{className:"bg-destructive text-white",label:"Cancelled"},expired:{className:"bg-warning text-white",label:"Expired"},completed:{className:"bg-primary text-white",label:"Completed"}})[g]||{className:"bg-muted text-foreground",label:g},(0,s.jsx)(o.Badge,{className:v.className,variant:"outline",children:v.label},"status")),(0,s.jsx)(o.Badge,{variant:"outline",children:N.type||"preventive"},"type")],$=(0,s.jsx)("div",{className:"w-full px-2 sm:px-0",children:(0,s.jsx)("div",{className:"bg-muted/50 rounded-md shadow-sm",children:(0,s.jsxs)("div",{className:"flex flex-col gap-4 p-4 sm:p-6",children:[(0,s.jsx)("div",{className:"flex flex-col gap-6 sm:flex-row sm:items-start sm:justify-between",children:(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsx)("div",{className:"flex flex-wrap items-center gap-2",children:U}),(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("h1",{className:"text-2xl font-semibold sm:text-3xl",children:N.name||`Plan ${N.plan_number||N.id.slice(0,8)}`}),(0,s.jsx)("p",{className:"text-muted-foreground text-sm sm:text-base",children:j(N.price)})]})]})}),b&&(0,s.jsx)("div",{className:"flex flex-wrap items-center gap-3",children:(0,s.jsxs)(c.default,{className:"border-border/60 bg-background hover:border-primary/50 hover:bg-primary/5 inline-flex items-center gap-2 rounded-full border px-4 py-2 text-sm font-medium transition-colors",href:`/dashboard/customers/${b.id}`,children:[(0,s.jsx)(r.User,{className:"size-4"}),b.display_name||`${b.first_name||""} ${b.last_name||""}`.trim()||"Unknown Customer"]})})]})})}),L=(0,m.useMemo)(()=>{let e=[{id:"service-schedule",title:"Service Schedule",icon:(0,s.jsx)(t.Calendar,{className:"size-4"}),defaultOpen:!0,content:(0,s.jsx)(f.UnifiedAccordionContent,{children:(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(p.Label,{children:"Frequency"}),(0,s.jsx)(h.Input,{readOnly:!0,value:N.frequency||"annually"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(p.Label,{children:"Visits Per Term"}),(0,s.jsx)(h.Input,{readOnly:!0,value:N.visits_per_term||1})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(p.Label,{children:"Start Date"}),(0,s.jsx)(h.Input,{readOnly:!0,value:N.start_date?new Date(N.start_date).toLocaleDateString():"N/A"})]}),N.end_date&&(0,s.jsxs)("div",{children:[(0,s.jsx)(p.Label,{children:"End Date"}),(0,s.jsx)(h.Input,{readOnly:!0,value:new Date(N.end_date).toLocaleDateString()})]}),N.next_service_due&&(0,s.jsxs)("div",{children:[(0,s.jsx)(p.Label,{children:"Next Service Due"}),(0,s.jsx)(h.Input,{readOnly:!0,value:new Date(N.next_service_due).toLocaleDateString()})]}),N.last_service_date&&(0,s.jsxs)("div",{children:[(0,s.jsx)(p.Label,{children:"Last Service"}),(0,s.jsx)(h.Input,{readOnly:!0,value:new Date(N.last_service_date).toLocaleDateString()})]})]})})}];return D.length>0&&e.push({id:"included-services",title:"Included Services",icon:(0,s.jsx)(d.Wrench,{className:"size-4"}),count:D.length,content:(0,s.jsx)(f.UnifiedAccordionContent,{children:(0,s.jsx)("div",{className:"space-y-2",children:D.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center gap-2 rounded-lg border p-3",children:[(0,s.jsx)(a.CheckCircle2,{className:"text-success size-4"}),(0,s.jsx)("span",{className:"text-sm",children:e.name||e.description||e})]},t))})})}),w.length>0&&e.push({id:"equipment",title:"Equipment",icon:(0,s.jsx)(i.Package,{className:"size-4"}),count:w.length,content:(0,s.jsx)(f.UnifiedAccordionContent,{children:(0,s.jsx)("div",{className:"space-y-2",children:w.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between rounded-lg border p-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-medium",children:e.name||e.equipment_number}),(0,s.jsxs)("p",{className:"text-muted-foreground text-xs",children:[e.manufacturer," ",e.model]})]}),(0,s.jsx)(u.Button,{asChild:!0,size:"sm",variant:"ghost",children:(0,s.jsx)(c.default,{href:`/dashboard/work/equipment/${e.id}`,children:"View"})})]},e.id))})})}),e.push({id:"billing",title:"Billing",icon:(0,s.jsx)(l.DollarSign,{className:"size-4"}),content:(0,s.jsx)(f.UnifiedAccordionContent,{children:(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(p.Label,{children:"Price"}),(0,s.jsx)(h.Input,{readOnly:!0,value:j(N.price)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(p.Label,{children:"Billing Frequency"}),(0,s.jsx)(h.Input,{readOnly:!0,value:N.billing_frequency||"annually"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(p.Label,{children:"Taxable"}),(0,s.jsx)(h.Input,{readOnly:!0,value:N.taxable?"Yes":"No"})]}),N.renewal_type&&(0,s.jsxs)("div",{children:[(0,s.jsx)(p.Label,{children:"Renewal Type"}),(0,s.jsx)(h.Input,{readOnly:!0,value:N.renewal_type})]})]})})}),b&&e.push({id:"customer-details",title:"Customer Details",icon:(0,s.jsx)(r.User,{className:"size-4"}),content:(0,s.jsx)(f.UnifiedAccordionContent,{children:(0,s.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-start md:justify-between",children:[(0,s.jsxs)("div",{className:"grid flex-1 gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(p.Label,{children:"Name"}),(0,s.jsx)("p",{className:"text-sm",children:b.display_name||`${b.first_name||""} ${b.last_name||""}`.trim()||"Unknown"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(p.Label,{children:"Email"}),(0,s.jsx)("p",{className:"text-sm",children:b.email||"N/A"})]})]}),(0,s.jsx)(u.Button,{asChild:!0,size:"sm",variant:"ghost",children:(0,s.jsx)(c.default,{href:`/dashboard/customers/${b.id}`,children:"View Full Profile"})})]})})}),_.length>0&&e.push({id:"generated-jobs",title:"Generated Jobs",icon:(0,s.jsx)(d.Wrench,{className:"size-4"}),count:_.length,content:(0,s.jsxs)(f.UnifiedAccordionContent,{className:"p-0",children:[(0,s.jsx)("div",{className:"text-muted-foreground border-b px-6 py-4 text-sm",children:"Jobs created from this maintenance plan."}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-muted/50 border-b",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Job #"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Title"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Property"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Status"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Completed"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Actions"})]})}),(0,s.jsx)("tbody",{children:_.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-muted/30 border-b",children:[(0,s.jsxs)("td",{className:"px-6 py-4 text-sm",children:["#",e.job_number]}),(0,s.jsx)("td",{className:"px-6 py-4 text-sm font-medium",children:e.title}),(0,s.jsx)("td",{className:"px-6 py-4 text-sm",children:e.property?.name||e.property?.address||"-"}),(0,s.jsx)("td",{className:"px-6 py-4 text-sm",children:(0,s.jsx)(o.Badge,{variant:"outline",children:e.status})}),(0,s.jsx)("td",{className:"px-6 py-4 text-sm",children:e.completed_at?new Date(e.completed_at).toLocaleDateString():"-"}),(0,s.jsx)("td",{className:"px-6 py-4 text-sm",children:(0,s.jsx)(c.default,{className:"text-primary hover:underline",href:`/dashboard/work/${e.id}`,children:"View"})})]},e.id))})]})})]})}),C.length>0&&e.push({id:"scheduled-appointments",title:"Upcoming Appointments",icon:(0,s.jsx)(t.Calendar,{className:"size-4"}),count:C.length,content:(0,s.jsxs)(f.UnifiedAccordionContent,{className:"p-0",children:[(0,s.jsx)("div",{className:"text-muted-foreground border-b px-6 py-4 text-sm",children:"Scheduled maintenance appointments for equipment covered by this plan."}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-muted/50 border-b",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Date & Time"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Job"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Property"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Status"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Actions"})]})}),(0,s.jsx)("tbody",{children:C.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-muted/30 border-b",children:[(0,s.jsx)("td",{className:"px-6 py-4 text-sm",children:new Date(e.scheduled_start).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"})}),(0,s.jsx)("td",{className:"px-6 py-4 text-sm",children:e.job?`#${e.job.job_number}`:"-"}),(0,s.jsx)("td",{className:"px-6 py-4 text-sm",children:e.property?.name||e.property?.address||"-"}),(0,s.jsx)("td",{className:"px-6 py-4 text-sm",children:(0,s.jsx)(o.Badge,{variant:"outline",children:e.status})}),(0,s.jsx)("td",{className:"px-6 py-4 text-sm",children:(0,s.jsx)(c.default,{className:"text-primary hover:underline",href:`/dashboard/appointments/${e.id}`,children:"View"})})]},e.id))})]})})]})}),k.length>0&&e.push({id:"generated-invoices",title:"Generated Invoices",icon:(0,s.jsx)(n.Receipt,{className:"size-4"}),count:k.length,content:(0,s.jsxs)(f.UnifiedAccordionContent,{className:"p-0",children:[(0,s.jsx)("div",{className:"text-muted-foreground border-b px-6 py-4 text-sm",children:"Invoices created from maintenance work under this plan."}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-muted/50 border-b",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Invoice #"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Date"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Total"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Status"}),(0,s.jsx)("th",{className:"px-6 py-3 text-left text-sm font-medium",children:"Actions"})]})}),(0,s.jsx)("tbody",{children:k.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-muted/30 border-b",children:[(0,s.jsxs)("td",{className:"px-6 py-4 text-sm",children:["#",e.invoice_number||e.id.slice(0,8)]}),(0,s.jsx)("td",{className:"px-6 py-4 text-sm",children:new Date(e.created_at).toLocaleDateString()}),(0,s.jsx)("td",{className:"px-6 py-4 text-sm font-medium",children:j(e.total_amount)}),(0,s.jsx)("td",{className:"px-6 py-4 text-sm",children:(0,s.jsx)(o.Badge,{variant:"paid"===e.status?"default":"outline",children:e.status})}),(0,s.jsx)("td",{className:"px-6 py-4 text-sm",children:(0,s.jsx)(c.default,{className:"text-primary hover:underline",href:`/dashboard/work/invoices/${e.id}`,children:"View"})})]},e.id))})]})})]})}),e},[N,b,w,_,C,k,D]),P=(0,m.useMemo)(()=>{let e=[];return b&&e.push({id:`customer-${b.id}`,type:"customer",title:b.display_name||`${b.first_name||""} ${b.last_name||""}`.trim()||"Unknown Customer",subtitle:b.email||b.phone||void 0,href:`/dashboard/customers/${b.id}`}),y&&e.push({id:`property-${y.id}`,type:"property",title:y.address||y.name||"Property",subtitle:`${y.city||""}, ${y.state||""}`.trim()||void 0,href:`/dashboard/work/properties/${y.id}`}),w.forEach(s=>{e.push({id:`equipment-${s.id}`,type:"equipment",title:s.name||s.equipment_number,subtitle:`${s.manufacturer||""} ${s.model||""}`.trim()||void 0,href:`/dashboard/work/equipment/${s.id}`})}),e},[b,y,w]);return(0,s.jsx)(x.DetailPageContentLayout,{activities:S,attachments:z,customHeader:$,customSections:L,defaultOpenSection:"service-schedule",notes:A,relatedItems:P,showStandardSections:{activities:!0,notes:!0,attachments:!0,relatedItems:!0}})}e.s(["MaintenancePlanPageContent",()=>g])},134181,e=>{e.v(s=>Promise.all(["static/chunks/6680116ea3e49da7.js"].map(s=>e.l(s))).then(()=>s(388024)))}]);