(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,254851,e=>{"use strict";e.i(116233),e.s([])},624608,e=>{"use strict";let t=(0,e.i(383206).default)("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);e.s(["default",()=>t])},186287,e=>{"use strict";var t=e.i(624608);e.s(["PieChart",()=>t.default])},911802,e=>{"use strict";let t=(0,e.i(383206).default)("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);e.s(["default",()=>t])},68599,e=>{"use strict";var t=e.i(911802);e.s(["Hash",()=>t.default])},69569,e=>{"use strict";var t=e.i(399168),a=e.i(781403);let r={customReports:[{id:"1",title:"Q1 2025 Revenue Deep Dive",href:"/dashboard/reporting/custom/q1-2025-revenue",description:"Comprehensive revenue analysis for Q1 2025",createdAt:new Date("2025-01-15"),updatedAt:new Date("2025-01-15")},{id:"2",title:"Top 10 Customers Analysis",href:"/dashboard/reporting/custom/top-10-customers",description:"Performance analysis of top 10 customers",createdAt:new Date("2025-01-20"),updatedAt:new Date("2025-01-20")},{id:"3",title:"Service Call Response Times",href:"/dashboard/reporting/custom/response-times",description:"Response time metrics across all service calls",createdAt:new Date("2025-01-22"),updatedAt:new Date("2025-01-22")}],activeReportId:null,isCreatingReport:!1},s=(0,t.create)()((0,a.devtools)((0,a.persist)((e,t)=>({...r,setCustomReports:t=>e({customReports:t}),addCustomReport:t=>{let a={...t,id:`custom-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,createdAt:new Date,updatedAt:new Date};e(e=>({customReports:[...e.customReports,a]}))},updateCustomReport:(t,a)=>{e(e=>({customReports:e.customReports.map(e=>e.id===t?{...e,...a,updatedAt:new Date}:e)}))},deleteCustomReport:t=>{e(e=>({customReports:e.customReports.filter(e=>e.id!==t),activeReportId:e.activeReportId===t?null:e.activeReportId}))},setActiveReport:t=>e({activeReportId:t}),setIsCreatingReport:t=>e({isCreatingReport:t}),reset:()=>e(r)}),{name:"reporting-storage",partialize:e=>({customReports:e.customReports}),skipHydration:!0}),{name:"ReportingStore"}));e.s(["reportingSelectors",0,{customReports:e=>e.customReports,activeReportId:e=>e.activeReportId,isCreatingReport:e=>e.isCreatingReport,getReportById:e=>t=>t.customReports.find(t=>t.id===e)},"useReportingStore",0,s])},84425,e=>{"use strict";let t=(0,e.i(383206).default)("inbox",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);e.s(["default",()=>t])},782193,e=>{"use strict";var t=e.i(84425);e.s(["Inbox",()=>t.default])},708227,e=>{"use strict";let t=(0,e.i(383206).default)("calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);e.s(["default",()=>t])},569398,e=>{"use strict";var t=e.i(708227);e.s(["Calculator",()=>t.default])},938615,e=>{"use strict";e.i(116233),e.s([])},585319,e=>{"use strict";var t=e.i(582754);e.s(["Folder",()=>t.default])},724657,e=>{"use strict";var t=e.i(109840);e.s(["Grid3x3",()=>t.default])},855242,e=>{"use strict";var t=e.i(552038),a=(0,t.createServerReference)("0006f7bd89b72f0836ec7bf4db73019f1b32e6c24a",t.callServer,void 0,t.findSourceMapURL,"getSmsFolderCountsAction");e.s(["getSmsFolderCountsAction",()=>a])},158166,e=>{"use strict";let t=(0,e.i(383206).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["default",()=>t])},512710,e=>{"use strict";var t=e.i(158166);e.s(["ChevronDown",()=>t.default])},722573,e=>{"use strict";var t=e.i(552038),a=(0,t.createServerReference)("404a3266e0319dbd8c24fec80bb69ecfe029d2a768",t.callServer,void 0,t.findSourceMapURL,"searchVendors");e.s(["searchVendors",()=>a])},912368,e=>{"use strict";let t=(0,e.i(383206).default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);e.s(["default",()=>t])},154115,e=>{"use strict";var t=e.i(912368);e.s(["Send",()=>t.default])},302324,e=>{"use strict";var t=e.i(552038),a=(0,t.createServerReference)("60193685409a9d118f1b364e14ecf57d05fa5638a9",t.callServer,void 0,t.findSourceMapURL,"searchCustomers");e.s(["searchCustomers",()=>a])},742854,e=>{"use strict";e.i(116233),e.s([])},49791,e=>{"use strict";var t=e.i(399168),a=e.i(628140);let r=[],s={chats:[],activeChatId:null,isLoading:!1,error:null},l=(0,t.create)()((0,a.immer)((e,t)=>({...s,createChat:(a="New Chat")=>{let r,s=t();do r=`chat-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;while(s.chats.some(e=>e.id===r))return e(e=>{e.chats.push({id:r,title:a,createdAt:new Date,messages:[]}),e.activeChatId=r}),r},deleteChat:t=>{e(e=>{let a=e.chats.findIndex(e=>e.id===t);-1!==a&&e.chats.splice(a,1),e.activeChatId===t&&(e.activeChatId=e.chats[0]?.id??null)})},setActiveChat:t=>{e(e=>{e.activeChatId=t})},updateChatTitle:(t,a)=>{e(e=>{let r=e.chats.find(e=>e.id===t);r&&(r.title=a)})},cleanupDuplicateChats:()=>{e(e=>{let t=new Set,a=[];for(let r of e.chats)t.has(r.id)||(t.add(r.id),a.push(r));e.chats=a,e.activeChatId&&!a.some(t=>t.id===e.activeChatId)&&(e.activeChatId=a[0]?.id??null)})},addMessage:(t,a)=>{e(e=>{let r=e.chats.find(e=>e.id===t);r&&r.messages.push(a)})},updateMessage:(t,a,r)=>{e(e=>{let s=e.chats.find(e=>e.id===t);if(s){let e=s.messages.find(e=>e.id===a);e&&(e.content=r)}})},deleteMessage:(t,a)=>{e(e=>{let r=e.chats.find(e=>e.id===t);if(r){let e=r.messages.findIndex(e=>e.id===a);-1!==e&&r.messages.splice(e,1)}})},clearMessages:t=>{e(e=>{let a=e.chats.find(e=>e.id===t);a&&(a.messages=[])})},setLoading:t=>{e(e=>{e.isLoading=t})},setError:t=>{e(e=>{e.error=t})},getActiveChat:()=>{let e=t();return e.chats.find(t=>t.id===e.activeChatId)??null},getChatMessages:e=>{let a=t().chats.find(t=>t.id===e);return a?.messages??[]},reset:()=>{e(s)}})));e.s(["chatSelectors",0,{chats:e=>e.chats,activeChat:e=>e.chats.find(t=>t.id===e.activeChatId)??null,activeChatId:e=>e.activeChatId,messages:e=>{let t=e.chats.find(t=>t.id===e.activeChatId);return t?.messages??r},isLoading:e=>e.isLoading,error:e=>e.error},"useChatStore",0,l])},450842,e=>{"use strict";let t=(0,e.i(383206).default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);e.s(["default",()=>t])},8392,e=>{"use strict";var t=e.i(450842);e.s(["Info",()=>t.default])},340401,e=>{"use strict";let t=(0,e.i(383206).default)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);e.s(["default",()=>t])},979731,e=>{"use strict";var t=e.i(340401);e.s(["Globe",()=>t.default])},86011,e=>{"use strict";let t=(0,e.i(383206).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["default",()=>t])},287268,e=>{"use strict";var t=e.i(86011);e.s(["Search",()=>t.default])},167618,e=>{"use strict";let t=(0,e.i(383206).default)("archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);e.s(["default",()=>t])},946672,e=>{"use strict";var t=e.i(167618);e.s(["Archive",()=>t.default])},112698,e=>{"use strict";let t=(0,e.i(383206).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["default",()=>t])},367571,e=>{"use strict";var t=e.i(112698);e.s(["Eye",()=>t.default])},784494,e=>{"use strict";let t=(0,e.i(383206).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["default",()=>t])},697029,e=>{"use strict";var t=e.i(784494);e.s(["TrendingUp",()=>t.default])},50409,e=>{"use strict";let t=(0,e.i(383206).default)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);e.s(["default",()=>t])},60179,e=>{"use strict";var t=e.i(50409);e.s(["Package",()=>t.default])},40498,e=>{"use strict";let t=(0,e.i(383206).default)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);e.s(["default",()=>t])},582754,e=>{"use strict";let t=(0,e.i(383206).default)("folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);e.s(["default",()=>t])},109840,e=>{"use strict";let t=(0,e.i(383206).default)("grid-3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);e.s(["default",()=>t])},665826,e=>{"use strict";let t=(0,e.i(383206).default)("palette",[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]]);e.s(["default",()=>t])},117840,e=>{"use strict";let t=(0,e.i(383206).default)("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);e.s(["default",()=>t])},555888,e=>{"use strict";let t=(0,e.i(383206).default)("at-sign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]);e.s(["default",()=>t])},560027,e=>{"use strict";let t=(0,e.i(383206).default)("file-chart-column-increasing",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 18v-2",key:"qcmpov"}],["path",{d:"M12 18v-4",key:"q1q25u"}],["path",{d:"M16 18v-6",key:"15y0np"}]]);e.s(["default",()=>t])},320611,703089,e=>{"use strict";var t=e.i(383206);let a=(0,t.default)("blocks",[["path",{d:"M10 22V7a1 1 0 0 0-1-1H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-5a1 1 0 0 0-1-1H2",key:"1ah6g2"}],["rect",{x:"14",y:"2",width:"8",height:"8",rx:"1",key:"88lufb"}]]);e.s(["default",()=>a],320611);let r=(0,t.default)("circle-dollar-sign",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]]);e.s(["default",()=>r],703089)},611532,e=>{"use strict";var t=e.i(399168),a=e.i(781403);let r={search:"",categories:[],itemTypes:[],statusFilter:"all",supplierFilter:[],priceRange:{min:null,max:null},marginRange:{min:null,max:null}},s={viewMode:"table",selectedItemIds:[],navigationPath:[],filters:r,itemTypeFilter:"all",categoryFilter:{category:null,subcategory:null},suppliers:[{name:"ferguson",displayName:"Ferguson Enterprises",status:"disconnected",lastSyncAt:null,itemsImported:0,errorMessage:null,apiEnabled:!1},{name:"fastenal",displayName:"Fastenal",status:"disconnected",lastSyncAt:null,itemsImported:0,errorMessage:null,apiEnabled:!1},{name:"grainger",displayName:"Grainger",status:"disconnected",lastSyncAt:null,itemsImported:0,errorMessage:null,apiEnabled:!1},{name:"hdsupply",displayName:"HD Supply",status:"disconnected",lastSyncAt:null,itemsImported:0,errorMessage:null,apiEnabled:!1},{name:"pace",displayName:"Pace Supply",status:"disconnected",lastSyncAt:null,itemsImported:0,errorMessage:null,apiEnabled:!1},{name:"winsupply",displayName:"Winsupply",status:"disconnected",lastSyncAt:null,itemsImported:0,errorMessage:null,apiEnabled:!1}],sidebarCollapsed:!1,activeSection:null},l=(0,t.create)()((0,a.devtools)((0,a.persist)((e,t)=>({...s,setViewMode:t=>e({viewMode:t}),toggleSelection:t=>e(e=>({selectedItemIds:e.selectedItemIds.includes(t)?e.selectedItemIds.filter(e=>e!==t):[...e.selectedItemIds,t]})),selectAll:t=>e({selectedItemIds:t}),clearSelection:()=>e({selectedItemIds:[]}),navigateTo:t=>e(e=>({navigationPath:[...e.navigationPath,t]})),navigateToPath:t=>e({navigationPath:t}),navigateBack:()=>e(e=>({navigationPath:e.navigationPath.slice(0,-1)})),navigateToRoot:()=>e({navigationPath:[]}),getCurrentLevel:()=>{let e=t();return e.navigationPath.length>0?e.navigationPath.at(-1):null},isAtRoot:()=>0===t().navigationPath.length,setSearch:t=>e(e=>({filters:{...e.filters,search:t}})),setCategories:t=>e(e=>({filters:{...e.filters,categories:t}})),setItemTypes:t=>e(e=>({filters:{...e.filters,itemTypes:t}})),setStatusFilter:t=>e(e=>({filters:{...e.filters,statusFilter:t}})),setSupplierFilter:t=>e(e=>({filters:{...e.filters,supplierFilter:t}})),setPriceRange:(t,a)=>e(e=>({filters:{...e.filters,priceRange:{min:t,max:a}}})),setMarginRange:(t,a)=>e(e=>({filters:{...e.filters,marginRange:{min:t,max:a}}})),resetFilters:()=>e({filters:r}),setItemTypeFilter:t=>e({itemTypeFilter:t}),setCategoryFilter:(t,a=null)=>e({categoryFilter:{category:t,subcategory:a}}),clearAllFilters:()=>e({itemTypeFilter:"all",categoryFilter:{category:null,subcategory:null},filters:r}),hasActiveFilters:()=>{let e=t();return"all"!==e.itemTypeFilter||null!==e.categoryFilter.category||""!==e.filters.search},getFilterSummary:()=>{let e=t(),a=[];return"all"!==e.itemTypeFilter&&a.push(e.itemTypeFilter),e.categoryFilter.subcategory?a.push(`${e.categoryFilter.category} › ${e.categoryFilter.subcategory}`):e.categoryFilter.category&&a.push(e.categoryFilter.category),e.filters.search&&a.push(`"${e.filters.search}"`),a.length>0?a.join(" • "):"All Items"},updateSupplierStatus:(t,a)=>e(e=>({suppliers:e.suppliers.map(e=>e.name===t?{...e,...a}:e)})),syncSupplier:async e=>{t().updateSupplierStatus(e,{status:"syncing"});try{await new Promise(e=>setTimeout(e,2e3)),t().updateSupplierStatus(e,{status:"connected",lastSyncAt:new Date,errorMessage:null})}catch(a){t().updateSupplierStatus(e,{status:"error",errorMessage:a instanceof Error?a.message:"Sync failed"})}},toggleSidebar:()=>e(e=>({sidebarCollapsed:!e.sidebarCollapsed})),setActiveSection:t=>e({activeSection:t}),reset:()=>e(s)}),{name:"pricebook-storage",partialize:e=>({viewMode:e.viewMode,navigationPath:e.navigationPath,filters:e.filters,sidebarCollapsed:e.sidebarCollapsed}),skipHydration:!0}),{name:"PriceBookStore"}));e.s(["usePriceBookStore",0,l])},1911,e=>{"use strict";function t(e){return e.toLowerCase().replace(/\s+/g,"-")}function a(e){return 0===e.length?"/dashboard/work/pricebook":`/dashboard/work/pricebook/c/${e.map(t).join("/")}`}e.s(["buildCategoryUrl",()=>a])},149989,e=>{"use strict";e.i(116233),e.s([])},526120,e=>{"use strict";e.i(116233),e.s([])},199491,e=>{"use strict";let t=(0,e.i(383206).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);e.s(["default",()=>t])},826463,e=>{"use strict";var t=e.i(199491);e.s(["Upload",()=>t.default])},497490,e=>{"use strict";let t=(0,e.i(383206).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);e.s(["default",()=>t])},882896,e=>{"use strict";var t=e.i(497490);e.s(["Download",()=>t.default])},737038,667062,e=>{"use strict";function t(e){return t=>{let a=(e?Math[e]:Math.trunc)(t);return 0===a?0:a}}e.s(["getRoundingMethod",()=>t],737038);var a=e.i(516467);function r(e,t){return(0,a.toDate)(e)-(0,a.toDate)(t)}e.s(["differenceInMilliseconds",()=>r],667062)},868422,e=>{"use strict";var t=e.i(238153),a=e.i(492421),r=e.i(632713),s=e.i(539392),l=e.i(516467);function i(e,t){let a=(0,l.toDate)(e)-(0,l.toDate)(t);return a<0?-1:a>0?1:a}var n=e.i(511518),o=e.i(731285),d=e.i(936765),c=e.i(737038),u=e.i(667062);function m(e,m,p){let h,y,f=(0,a.getDefaultOptions)(),g=p?.locale??f.locale??t.defaultLocale,x=i(e,m);if(isNaN(x))throw RangeError("Invalid time value");let b=Object.assign({},p,{addSuffix:p?.addSuffix,comparison:x}),[v,C]=(0,s.normalizeDates)(p?.in,...x>0?[m,e]:[e,m]),j=(y=(0,u.differenceInMilliseconds)(C,v)/1e3,(0,c.getRoundingMethod)(void 0)(y)),S=Math.round((j-((0,r.getTimezoneOffsetInMilliseconds)(C)-(0,r.getTimezoneOffsetInMilliseconds)(v))/1e3)/60);if(S<2)if(p?.includeSeconds)if(j<5)return g.formatDistance("lessThanXSeconds",5,b);else if(j<10)return g.formatDistance("lessThanXSeconds",10,b);else if(j<20)return g.formatDistance("lessThanXSeconds",20,b);else if(j<40)return g.formatDistance("halfAMinute",0,b);else if(j<60)return g.formatDistance("lessThanXMinutes",1,b);else return g.formatDistance("xMinutes",1,b);else if(0===S)return g.formatDistance("lessThanXMinutes",1,b);else return g.formatDistance("xMinutes",S,b);if(S<45)return g.formatDistance("xMinutes",S,b);if(S<90)return g.formatDistance("aboutXHours",1,b);if(S<n.minutesInDay){let e=Math.round(S/60);return g.formatDistance("aboutXHours",e,b)}if(S<2520)return g.formatDistance("xDays",1,b);else if(S<n.minutesInMonth){let e=Math.round(S/n.minutesInDay);return g.formatDistance("xDays",e,b)}else if(S<2*n.minutesInMonth)return h=Math.round(S/n.minutesInMonth),g.formatDistance("aboutXMonths",h,b);if((h=function(e,t,a){var r;let n,c,[u,m,p]=(0,s.normalizeDates)(void 0,e,e,t),h=i(m,p),y=Math.abs((0,o.differenceInCalendarMonths)(m,p));if(y<1)return 0;1===m.getMonth()&&m.getDate()>27&&m.setDate(30),m.setMonth(m.getMonth()-h*y);let f=i(m,p)===-h;+(n=(0,l.toDate)(u,void 0),r=void 0,(c=(0,l.toDate)(n,r?.in)).setHours(23,59,59,999),c)==+(0,d.endOfMonth)(n,void 0)&&1===y&&1===i(u,p)&&(f=!1);let g=h*(y-f);return 0===g?0:g}(C,v))<12){let e=Math.round(S/n.minutesInMonth);return g.formatDistance("xMonths",e,b)}{let e=h%12,t=Math.trunc(h/12);return e<3?g.formatDistance("aboutXYears",t,b):e<9?g.formatDistance("overXYears",t,b):g.formatDistance("almostXYears",t+1,b)}}e.s(["formatDistance",()=>m],868422)},667722,e=>{"use strict";let t=(0,e.i(383206).default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);e.s(["default",()=>t])},227009,e=>{"use strict";var t=e.i(667722);e.s(["Activity",()=>t.default])},220168,e=>{"use strict";var t=e.i(111043);e.i(116233);var a=e.i(880177),r=e.i(989239);function s({label:e,htmlFor:s,error:l,description:i,required:n,children:o,className:d}){return(0,t.jsxs)("div",{className:(0,r.cn)("space-y-2",d),"data-slot":"form-field",children:[e&&(0,t.jsxs)(a.Label,{htmlFor:s,className:(0,r.cn)(l&&"text-destructive"),"data-error":!!l,children:[e,n&&(0,t.jsx)("span",{className:"text-destructive ml-1","aria-label":"required",children:"*"})]}),o,i&&!l&&(0,t.jsx)("p",{className:"text-muted-foreground text-[0.8rem] leading-relaxed",children:i}),l&&(0,t.jsx)("p",{className:"text-destructive text-[0.8rem] font-medium",role:"alert",children:l})]})}function l({children:e,cols:a=2,className:s}){return(0,t.jsx)("div",{className:(0,r.cn)("grid gap-4",{"sm:grid-cols-2":2===a,"sm:grid-cols-2 lg:grid-cols-3":3===a,"sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":4===a},s),children:e})}e.s(["StandardFormField",()=>s,"StandardFormRow",()=>l])},146798,e=>{"use strict";let t=(0,e.i(399168).create)((e,t)=>({stats:{},setStats:(t,a)=>e(e=>({stats:{...e.stats,[t]:a}})),getStats:e=>t().stats[e],clearStats:t=>e(e=>{let{[t]:a,...r}=e.stats;return{stats:r}})}));e.s(["useToolbarStatsStore",0,t])},250954,e=>{"use strict";var t=e.i(487122);function a(e){return(0,t.constructFrom)(e,Date.now())}e.s(["constructNow",()=>a])},581435,e=>{"use strict";var t=e.i(250954),a=e.i(868422);function r(e,r){return(0,a.formatDistance)(e,(0,t.constructNow)(e),r)}e.s(["formatDistanceToNow",()=>r])},507769,e=>{"use strict";var t=e.i(848914);e.s(["File",()=>t.default])},218074,e=>{"use strict";var t=e.i(905501);e.s(["Image",()=>t.default])},848914,e=>{"use strict";let t=(0,e.i(383206).default)("file",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}]]);e.s(["default",()=>t])},616955,e=>{"use strict";let t=(0,e.i(383206).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["default",()=>t])},910685,e=>{"use strict";var t=e.i(616955);e.s(["ArrowLeft",()=>t.default])},930195,e=>{"use strict";let t=(0,e.i(383206).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);e.s(["default",()=>t])},175913,e=>{"use strict";var t=e.i(930195);e.s(["Star",()=>t.default])},905501,e=>{"use strict";let t=(0,e.i(383206).default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);e.s(["default",()=>t])},871509,e=>{"use strict";function t(e,a={}){let{minimumFractionDigits:r=0,maximumFractionDigits:s=a.decimals??2,showZero:l=!0,decimals:i}=a,n=void 0!==i?i:s,o=void 0!==i?i:r;return null==e?l?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(0):"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:o,maximumFractionDigits:n}).format(e/100)}function a(e,t={}){let{minimumFractionDigits:r=0,maximumFractionDigits:s=t.decimals??2,showZero:l=!0,decimals:i}=t,n=void 0!==i?i:s,o=void 0!==i?i:r;return null==e||Number.isNaN(e)?l?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(0):"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:o,maximumFractionDigits:n}).format(e)}function r(e,t={}){let a;if(!e)return"—";let s="number"==typeof e||"string"==typeof e?new Date(e):e;if(Number.isNaN(s.getTime()))return"—";let l="table";"string"==typeof t?l=t||"table":(l=t.preset||"table",a=t.custom);let i=a||({short:{month:"short",day:"numeric",year:"numeric"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"},table:{month:"short",day:"numeric",year:"numeric"},time:{hour:"numeric",minute:"2-digit",hour12:!0},datetime:{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}})[l];return new Intl.DateTimeFormat("en-US",i).format(s)}function s(e){return r(e,{preset:"datetime"})}function l(e,t){if(!e)return"—";let a="number"==typeof e||"string"==typeof e?new Date(e):e;if(Number.isNaN(a.getTime()))return"—";if(!t)return r(a,{preset:"short"});let s="number"==typeof t||"string"==typeof t?new Date(t):t;if(Number.isNaN(s.getTime())||a.getFullYear()===s.getFullYear()&&a.getMonth()===s.getMonth()&&a.getDate()===s.getDate())return r(a,{preset:"short"});let l=new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(a),i=new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(s);return`${l} → ${i}`}e.s(["formatCurrency",()=>t,"formatCurrencyFromDollars",()=>a,"formatDate",()=>r,"formatDateRange",()=>l,"formatDateTime",()=>s])},477551,855292,104160,e=>{"use strict";var t=e.i(111043),a=e.i(230902);e.i(553153);var r=e.i(363712);function s(e,s,l){let i=s.split(".").reduce((e,t)=>e?.[t],e);if(null==i||""===i)return(0,t.jsx)("span",{className:"text-muted-foreground text-xs",children:"—"});switch(l){case"date":return(0,t.jsx)("span",{className:"text-xs",children:function(e){if(!e)return"—";try{let t=new Date(e);if(Number.isNaN(t.getTime()))return"—";return(0,a.format)(t,"MMM d, yyyy h:mm a")}catch{return"—"}}(i)});case"currency":return(0,t.jsx)("span",{className:"font-mono text-xs tabular-nums",children:function(e){if(null==e||""===e)return"—";let t=Number(e);return Number.isNaN(t)?"—":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t)}(i)});case"number":return(0,t.jsx)("span",{className:"font-mono text-xs tabular-nums",children:function(e){if(null==e||""===e)return"—";let t=Number(e);return Number.isNaN(t)?"—":new Intl.NumberFormat("en-US").format(t)}(i)});case"badge":if("boolean"==typeof i)return(0,t.jsx)(r.Badge,{variant:i?"default":"secondary",children:i?"Yes":"No"});return(0,t.jsx)(r.Badge,{className:"capitalize",variant:"outline",children:String(i).replace(/_/g," ")});default:{let e=String(i),a=e.length>50?`${e.slice(0,50)}...`:e;return(0,t.jsx)("span",{className:"text-xs",title:e,children:a})}}}function l(e){switch(e){case"sm":return"w-32";case"md":return"w-48";case"lg":return"w-64";case"xl":return"w-96";default:return"flex-1"}}e.s(["getColumnWidthClass",()=>l,"renderCustomColumn",()=>s],477551);var i=e.i(399168),n=e.i(781403);let o={columns:{}},d=(0,i.create)()((0,n.persist)((e,t)=>({...o,addColumn:(t,a)=>e(e=>({columns:{...e.columns,[t]:[...e.columns[t]||[],a]}})),removeColumn:(t,a)=>e(e=>({columns:{...e.columns,[t]:(e.columns[t]||[]).filter(e=>e.id!==a)}})),updateColumn:(t,a,r)=>e(e=>({columns:{...e.columns,[t]:(e.columns[t]||[]).map(e=>e.id===a?{...e,...r}:e)}})),reorderColumns:(t,a,r)=>e(e=>{let s=[...e.columns[t]||[]],[l]=s.splice(a,1);return s.splice(r,0,l),{columns:{...e.columns,[t]:s}}}),getColumns:e=>t().columns[e]||[],clearEntity:t=>e(e=>{let{[t]:a,...r}=e.columns;return{columns:r}}),clearAll:()=>e({columns:{}})}),{name:"custom-columns-storage",skipHydration:!0,version:1}));e.s(["useCustomColumnsStore",0,d],855292);let c={entities:{},columnOrder:{}},u=(0,i.create)()((0,n.persist)((e,t)=>({...c,setColumnVisibility:(t,a,r)=>e(e=>({entities:{...e.entities,[t]:{...e.entities[t],[a]:r}}})),toggleColumn:(e,a)=>{let r=t().isColumnVisible(e,a);t().setColumnVisibility(e,a,!r)},showAllColumns:(t,a)=>e(e=>({entities:{...e.entities,[t]:a.reduce((e,t)=>(e[t]=!0,e),{})}})),hideAllColumns:(t,a)=>e(e=>({entities:{...e.entities,[t]:a.reduce((e,t)=>(e[t]=!1,e),{})}})),isColumnVisible:(e,a)=>{let r=t();return r.entities[e]?.[a]??!0},getVisibleColumns:e=>Object.entries(t().entities[e]||{}).filter(([,e])=>e).map(([e])=>e),setColumnOrder:(t,a)=>e(e=>({columnOrder:{...e.columnOrder,[t]:a}})),getColumnOrder:e=>t().columnOrder[e],reorderColumn:(e,a,r)=>{let s=t().columnOrder[e];if(!s)return;let l=[...s],[i]=l.splice(a,1);l.splice(r,0,i),t().setColumnOrder(e,l)},resetColumnOrder:t=>e(e=>{let{[t]:a,...r}=e.columnOrder;return{columnOrder:r}}),resetEntity:t=>e(e=>{let{[t]:a,...r}=e.entities,{[t]:s,...l}=e.columnOrder;return{entities:r,columnOrder:l}}),initializeEntity:(a,r)=>{let s=t();s.entities[a]||e(e=>({entities:{...e.entities,[a]:r.reduce((e,t)=>(e[t]=!0,e),{})}})),s.columnOrder[a]||t().setColumnOrder(a,r)}}),{name:"datatable-columns-storage",skipHydration:!0,version:2}));e.s(["useDataTableColumnsStore",0,u],104160)},274220,e=>{"use strict";var t=e.i(399168),a=e.i(781403);let r={team_members:"active",customers:"active",jobs:"active",equipment:"active",materials:"active",payments:"active",invoices:"active",estimates:"active",contracts:"active",purchase_orders:"active",service_agreements:"active",maintenance_plans:"active",appointments:"active",properties:"active"},s=(0,t.create)()((0,a.devtools)((0,a.persist)((e,t)=>({filters:{...r},setFilter:(t,a)=>e(e=>({filters:{...e.filters,[t]:a}})),getFilter:e=>t().filters[e]||"active",resetFilter:t=>e(e=>({filters:{...e.filters,[t]:"active"}})),resetAllFilters:()=>e({filters:{...r}})}),{name:"archive-filters",skipHydration:!0,partialize:e=>({filters:e.filters})}),{name:"ArchiveStore"}));e.s(["useArchiveStore",0,s])},920312,e=>{"use strict";let t=(0,e.i(383206).default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);e.s(["default",()=>t])},148347,e=>{"use strict";var t=e.i(920312);e.s(["Filter",()=>t.default])},413336,e=>{"use strict";let t=(0,e.i(383206).default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);e.s(["default",()=>t])},269588,e=>{"use strict";var t=e.i(413336);e.s(["EyeOff",()=>t.default])},926624,e=>{"use strict";let t=(0,e.i(383206).default)("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]]);e.s(["default",()=>t])},623380,e=>{"use strict";var t=e.i(926624);e.s(["List",()=>t.default])},528347,e=>{"use strict";var t=e.i(111043),a=e.i(848475),r=e.i(702948);e.i(889265);var s=e.i(677607);let l=(0,r.default)(()=>e.A(34124).then(e=>({default:e.ImportExportDropdown})),{loadableGenerated:{modules:[726597]},loading:()=>(0,t.jsx)(s.Button,{variant:"ghost",size:"icon",disabled:!0,children:(0,t.jsx)(a.MoreVertical,{className:"size-4"})}),ssr:!1});function i(e){return(0,t.jsx)(l,{...e})}e.s(["ImportExportDropdownLazy",()=>i])},682236,e=>{"use strict";var t=e.i(399168),a=e.i(781403);let r={archiveStatus:"active",status:"all",amountMin:"",amountMax:"",customerName:"",invoiceNumber:""},s=(0,t.create)()((0,a.persist)(e=>({filters:r,setFilters:t=>e(e=>({filters:{...e.filters,...t}})),resetFilters:()=>e({filters:r})}),{name:"invoice-filters",skipHydration:!0}));e.s(["useInvoiceFiltersStore",0,s])},412806,792728,e=>{"use strict";var t=e.i(111043),a=e.i(946672),r=e.i(79254);e.i(116233);var s=e.i(677607),l=e.i(563078),i=e.i(274220);let n=[{value:"active",label:"Active Only"},{value:"archived",label:"Archived Only"},{value:"all",label:"All Items"}];function o(e){return e?"opacity-50 bg-muted/30 hover:bg-muted/40 text-muted-foreground":""}function d(e){return null!=e}function c(e,t){switch(t){case"active":return e.filter(e=>!d(e.archived_at));case"archived":return e.filter(e=>d(e.archived_at));default:return e}}function u({entity:e,activeCount:o,archivedCount:d,totalCount:c,onFilterChange:u}){let m=(0,i.useArchiveStore)(t=>t.filters[e]),p=(0,i.useArchiveStore)(e=>e.setFilter),h=n.find(e=>e.value===m)?.label||"Active Only";return(0,t.jsxs)(l.DropdownMenu,{children:[(0,t.jsx)(l.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsxs)(s.Button,{size:"sm",variant:"outline",children:[(0,t.jsx)(a.Archive,{className:"size-4"}),(0,t.jsx)("span",{className:"ml-2",children:h})]})}),(0,t.jsxs)(l.DropdownMenuContent,{align:"end",className:"w-56",children:[(0,t.jsx)(l.DropdownMenuLabel,{children:"Show Items"}),(0,t.jsx)(l.DropdownMenuSeparator,{}),n.map(a=>{let s=m===a.value,i=(e=>{switch(e){case"active":return o;case"archived":return d;case"all":return c;default:return}})(a.value);return(0,t.jsxs)(l.DropdownMenuItem,{className:"flex items-center justify-between",onClick:()=>{var t;p(e,t=a.value),u?.(t)},children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[s&&(0,t.jsx)(r.Check,{className:"size-4"}),(0,t.jsx)("span",{className:s?"font-medium":"",children:a.label})]}),void 0!==i&&(0,t.jsx)("span",{className:"text-muted-foreground text-xs",children:i})]},a.value)})]})]})}e.s(["ARCHIVE_FILTER_OPTIONS",0,n,"filterByArchiveStatus",()=>c,"getArchivedRowClassName",()=>o,"isItemArchived",()=>d],792728),e.s(["ArchiveFilterSelect",()=>u],412806)},278728,e=>{"use strict";var t=e.i(111043),a=e.i(279148),r=e.i(100946),s=e.i(179689),l=e.i(168233),i=e.i(24079),n=e.i(152088);let o={invoice:a.InvoiceOptionsSidebar,pricebook:l.PriceBookSidebar};function d({children:e,config:a,pathname:l}){let{structure:d,toolbar:c,sidebar:u,rightSidebar:m}=a,p="full"===d.maxWidth?"w-full":`mx-auto w-full max-w-${d.maxWidth}`,h={none:"",sm:"p-4",md:"p-6",lg:"p-8"}[d.padding||"none"],y={none:"",sm:"gap-4",md:"gap-6",lg:"gap-8"}[d.gap||"none"],f="full"===d.maxWidth,g=d.variant??"default",x={default:"bg-background",muted:"bg-muted/50",card:"bg-card"},b=x[d.background||"default"]??x.default,v=(0,n.cn)("relative w-full",b,"detail"===g&&"flex flex-col gap-0"),C={none:"pt-4",sm:"pt-6",md:"pt-8",lg:"pt-10"}[d.padding||"none"]??"pt-4",j=(0,n.cn)("flex w-full flex-1 flex-col overflow-y-auto",y,h,"detail"===g&&"pb-24","detail"===g?(0,n.cn)("px-0",C):void 0),S=m?.component&&o[m.component];return(0,t.jsx)(i.SidebarProvider,{defaultOpen:!0,style:u.customConfig?.width?{"--sidebar-width":u.customConfig.width}:void 0,children:(0,t.jsxs)("div",{className:"fixed inset-0 top-14 flex w-full overflow-hidden","data-dashboard-layout":!0,"data-pathname":l,children:[u.show&&(0,t.jsx)(r.AppSidebar,{pathname:l}),(0,t.jsxs)(i.SidebarInset,{className:v,"data-has-right-sidebar":m?.show?"true":void 0,"data-layout-variant":g,children:[c.show&&(0,t.jsx)(s.AppToolbar,{config:c,pathname:l,scope:"layout",showLeftSidebar:u.show,showRightSidebar:m?.show}),f?(0,t.jsx)("main",{className:j,children:e}):(0,t.jsx)("main",{className:j,children:(0,t.jsx)("div",{className:p,children:e})})]}),m?.show&&S&&(0,t.jsx)("div",{className:(0,n.cn)("hidden","border-l","border-border/50","bg-muted/20","xl:flex","xl:w-80"),children:(0,t.jsx)(S,{})})]})})}e.s(["SectionLayout",()=>d])},59431,e=>{"use strict";let t=(0,e.i(383206).default)("square-kanban",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 7v7",key:"1x2jlm"}],["path",{d:"M12 7v4",key:"xawao1"}],["path",{d:"M16 7v9",key:"1hp2iy"}]]);e.s(["default",()=>t])},980621,e=>{"use strict";let t=(0,e.i(383206).default)("columns-2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);e.s(["default",()=>t])},203032,524525,e=>{"use strict";var t=e.i(111043),a=e.i(371526),r=e.i(176378),s=e.i(528347);e.i(116233);var l=e.i(677607),i=e.i(59431),i=i,n=e.i(623380),o=e.i(970799);e.i(889265),e.i(794747);var d=e.i(513990),c=e.i(151213),u=e.i(152088);function m({section:e,className:a,disabledModes:r}){let s,m=(0,c.useWorkView)(e),p=(0,c.useSetWorkView)(e),h=(0,o.useCallback)(e=>()=>p(e),[p]),y=e=>r?.[e]?.reason!==void 0;return(0,t.jsx)(d.TooltipProvider,{children:(0,t.jsxs)("div",{className:(0,u.cn)("border-border/60 bg-background/80 flex h-7 items-center gap-0.5 rounded-md border p-0.5",a),children:[(0,t.jsxs)(d.Tooltip,{delayDuration:150,children:[(0,t.jsx)(d.TooltipTrigger,{asChild:!0,children:(0,t.jsxs)(l.Button,{"aria-pressed":"table"===m,className:(0,u.cn)("h-6 w-7 p-0","table"===m&&"bg-accent"),onClick:h("table"),size:"sm",type:"button",variant:"ghost",children:[(0,t.jsx)(n.List,{className:"size-3.5"}),(0,t.jsx)("span",{className:"sr-only",children:"Table view"})]})}),(0,t.jsx)(d.TooltipContent,{children:"Table view"})]}),(0,t.jsxs)(d.Tooltip,{delayDuration:150,children:[(0,t.jsx)(d.TooltipTrigger,{asChild:!0,children:(0,t.jsxs)(l.Button,{"aria-pressed":"kanban"===m,className:(0,u.cn)("h-6 w-7 p-0","kanban"===m&&"bg-accent",y("kanban")&&"opacity-60"),disabled:y("kanban"),onClick:h("kanban"),size:"sm",type:"button",variant:"ghost",children:[(0,t.jsx)(i.default,{className:"size-3.5"}),(0,t.jsx)("span",{className:"sr-only",children:"Kanban view"})]})}),(0,t.jsx)(d.TooltipContent,{children:(s="kanban",r?.[s]?.reason??"Kanban board")})]})]})})}function p({viewSwitcherSection:e,primaryAction:i,importExportDataType:n,children:o,beforePrimaryAction:d,afterPrimaryAction:c}){return(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[e&&(0,t.jsx)(m,{section:e}),d,i&&(0,t.jsx)(l.Button,{asChild:!0,className:"font-medium",size:"sm",variant:"default",children:(0,t.jsxs)(r.default,{href:i.href,children:[i.icon||(0,t.jsx)(a.Plus,{className:"size-4"}),(0,t.jsx)("span",{children:i.label})]})}),c,n&&(0,t.jsx)(s.ImportExportDropdownLazy,{dataType:n}),o]})}e.s(["BaseToolbarActions",()=>p],203032);var h=e.i(980621),h=h,y=e.i(367571),f=e.i(269588),g=e.i(532727),x=e.i(563078),b=e.i(1414),v=e.i(846358),C=e.i(635613),j=e.i(880177),S=e.i(798764),k=e.i(220168),w=e.i(477551),M=e.i(855292);function N({open:e,onOpenChange:a,entity:r}){let s=(0,M.useCustomColumnsStore)(e=>e.addColumn),i={appointments:[{path:"appointment_number",label:"Appointment Number",type:"string",recommended:"text"},{path:"title",label:"Title",type:"string",recommended:"text"},{path:"description",label:"Description",type:"string",recommended:"text"},{path:"status",label:"Status",type:"string",recommended:"badge"},{path:"priority",label:"Priority",type:"string",recommended:"badge"},{path:"type",label:"Type",type:"string",recommended:"badge"},{path:"scheduled_start",label:"Scheduled Start",type:"date",recommended:"date"},{path:"scheduled_end",label:"Scheduled End",type:"date",recommended:"date"},{path:"actual_start",label:"Actual Start",type:"date",recommended:"date"},{path:"actual_end",label:"Actual End",type:"date",recommended:"date"},{path:"duration_minutes",label:"Duration (minutes)",type:"number",recommended:"number"},{path:"travel_time_minutes",label:"Travel Time (minutes)",type:"number",recommended:"number"},{path:"confirmation_sent",label:"Confirmation Sent",type:"boolean",recommended:"badge"},{path:"reminder_sent",label:"Reminder Sent",type:"boolean",recommended:"badge"},{path:"cancellation_reason",label:"Cancellation Reason",type:"string",recommended:"text"},{path:"notes",label:"Notes",type:"string",recommended:"text"},{path:"created_at",label:"Created At",type:"date",recommended:"date"},{path:"updated_at",label:"Updated At",type:"date",recommended:"date"},{path:"customer.first_name",label:"Customer First Name",type:"relation",recommended:"text"},{path:"customer.last_name",label:"Customer Last Name",type:"relation",recommended:"text"},{path:"customer.email",label:"Customer Email",type:"relation",recommended:"text"},{path:"customer.phone",label:"Customer Phone",type:"relation",recommended:"text"},{path:"customer.company_name",label:"Customer Company",type:"relation",recommended:"text"},{path:"assigned_user.name",label:"Assigned Technician",type:"relation",recommended:"text"},{path:"assigned_user.email",label:"Technician Email",type:"relation",recommended:"text"},{path:"property.address",label:"Property Address",type:"relation",recommended:"text"},{path:"property.city",label:"Property City",type:"relation",recommended:"text"},{path:"property.state",label:"Property State",type:"relation",recommended:"text"},{path:"property.zip_code",label:"Property Zip",type:"relation",recommended:"text"},{path:"job.job_number",label:"Job Number",type:"relation",recommended:"text"},{path:"job.title",label:"Job Title",type:"relation",recommended:"text"},{path:"job.status",label:"Job Status",type:"relation",recommended:"badge"}],jobs:[{path:"job_number",label:"Job Number",type:"string"},{path:"title",label:"Title",type:"string"},{path:"description",label:"Description",type:"string",recommended:"text"},{path:"status",label:"Status",type:"string",recommended:"badge"},{path:"priority",label:"Priority",type:"string",recommended:"badge"},{path:"job_type",label:"Job Type",type:"string",recommended:"badge"},{path:"scheduled_start",label:"Scheduled Start",type:"date",recommended:"date"},{path:"scheduled_end",label:"Scheduled End",type:"date",recommended:"date"},{path:"actual_start",label:"Actual Start",type:"date",recommended:"date"},{path:"actual_end",label:"Actual End",type:"date",recommended:"date"},{path:"total_cost",label:"Total Cost",type:"number",recommended:"currency"},{path:"labor_cost",label:"Labor Cost",type:"number",recommended:"currency"},{path:"material_cost",label:"Material Cost",type:"number",recommended:"currency"},{path:"customer.first_name",label:"Customer First Name",type:"relation"},{path:"customer.last_name",label:"Customer Last Name",type:"relation"},{path:"customer.email",label:"Customer Email",type:"relation"},{path:"customer.phone",label:"Customer Phone",type:"relation"},{path:"property.address",label:"Property Address",type:"relation"},{path:"property.city",label:"Property City",type:"relation"},{path:"property.state",label:"Property State",type:"relation"},{path:"created_at",label:"Created At",type:"date",recommended:"date"},{path:"updated_at",label:"Updated At",type:"date",recommended:"date"}],customers:[{path:"first_name",label:"First Name",type:"string"},{path:"last_name",label:"Last Name",type:"string"},{path:"display_name",label:"Display Name",type:"string"},{path:"email",label:"Email",type:"string"},{path:"phone",label:"Phone",type:"string"},{path:"company_name",label:"Company Name",type:"string"},{path:"customer_type",label:"Type",type:"string"},{path:"status",label:"Status",type:"string",recommended:"badge"},{path:"address",label:"Address",type:"string"},{path:"city",label:"City",type:"string"},{path:"state",label:"State",type:"string"},{path:"zip_code",label:"Zip Code",type:"string"},{path:"created_at",label:"Created At",type:"date",recommended:"date"},{path:"updated_at",label:"Updated At",type:"date",recommended:"date"}],invoices:[{path:"invoice_number",label:"Invoice Number",type:"string"},{path:"status",label:"Status",type:"string",recommended:"badge"},{path:"issue_date",label:"Issue Date",type:"date",recommended:"date"},{path:"due_date",label:"Due Date",type:"date",recommended:"date"},{path:"subtotal",label:"Subtotal",type:"number",recommended:"currency"},{path:"tax_amount",label:"Tax Amount",type:"number",recommended:"currency"},{path:"total_amount",label:"Total Amount",type:"number",recommended:"currency"},{path:"balance_due",label:"Balance Due",type:"number",recommended:"currency"},{path:"customer.first_name",label:"Customer First Name",type:"relation"},{path:"customer.last_name",label:"Customer Last Name",type:"relation"},{path:"customer.email",label:"Customer Email",type:"relation"},{path:"created_at",label:"Created At",type:"date",recommended:"date"}],equipment:[{path:"equipment_number",label:"Equipment Number",type:"string"},{path:"name",label:"Name",type:"string"},{path:"type",label:"Type",type:"string",recommended:"badge"},{path:"manufacturer",label:"Manufacturer",type:"string"},{path:"model",label:"Model",type:"string"},{path:"serial_number",label:"Serial Number",type:"string"},{path:"category",label:"Category",type:"string"},{path:"location",label:"Location",type:"string"},{path:"status",label:"Status",type:"string",recommended:"badge"},{path:"install_date",label:"Install Date",type:"date",recommended:"date"},{path:"warranty_expires",label:"Warranty Expires",type:"date",recommended:"date"},{path:"customer.first_name",label:"Customer First Name",type:"relation"},{path:"customer.last_name",label:"Customer Last Name",type:"relation"},{path:"property.address",label:"Property Address",type:"relation"},{path:"created_at",label:"Created At",type:"date",recommended:"date"}]}[r]||[],[n,d]=(0,o.useState)(null),[c,u]=(0,o.useState)(""),[m,p]=(0,o.useState)("auto"),[h,y]=(0,o.useState)("text"),[f,g]=(0,o.useState)(!0);return(0,t.jsx)(v.Dialog,{onOpenChange:a,open:e,children:(0,t.jsxs)(v.DialogContent,{className:"sm:max-w-2xl",children:[(0,t.jsxs)(v.DialogHeader,{children:[(0,t.jsx)(v.DialogTitle,{children:"Add Custom Column"}),(0,t.jsx)(v.DialogDescription,{children:"Select a database field to add as a custom column to your table. The column will appear after existing columns."})]}),(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsx)(k.StandardFormField,{label:"Database Field",htmlFor:"field",children:(0,t.jsxs)(S.Select,{onValueChange:e=>{let t=i.find(t=>t.path===e);t&&(d(t),u(t.label),y(t.recommended||"text"))},value:n?.path||"",children:[(0,t.jsx)(S.SelectTrigger,{className:"w-full",id:"field",children:(0,t.jsx)(S.SelectValue,{placeholder:"Select a field..."})}),(0,t.jsx)(S.SelectContent,{className:"max-h-[300px]",children:i.map(e=>(0,t.jsxs)(S.SelectItem,{value:e.path,children:[e.label," ",(0,t.jsxs)("span",{className:"text-muted-foreground text-xs",children:["(",e.path,")"]})]},e.path))})]})}),(0,t.jsx)(k.StandardFormField,{label:"Column Label",htmlFor:"label",children:(0,t.jsx)(C.Input,{id:"label",onChange:e=>u(e.target.value),placeholder:"Enter column label...",value:c})}),(0,t.jsx)(k.StandardFormField,{label:"Column Width",htmlFor:"width",children:(0,t.jsxs)(S.Select,{onValueChange:p,value:m,children:[(0,t.jsx)(S.SelectTrigger,{id:"width",children:(0,t.jsx)(S.SelectValue,{})}),(0,t.jsxs)(S.SelectContent,{children:[(0,t.jsx)(S.SelectItem,{value:"auto",children:"Auto (Flexible)"}),(0,t.jsx)(S.SelectItem,{value:"sm",children:"Small (128px)"}),(0,t.jsx)(S.SelectItem,{value:"md",children:"Medium (192px)"}),(0,t.jsx)(S.SelectItem,{value:"lg",children:"Large (256px)"}),(0,t.jsx)(S.SelectItem,{value:"xl",children:"X-Large (384px)"})]})]})}),(0,t.jsx)(k.StandardFormField,{label:"Format",htmlFor:"format",children:(0,t.jsxs)(S.Select,{onValueChange:e=>y(e),value:h,children:[(0,t.jsx)(S.SelectTrigger,{id:"format",children:(0,t.jsx)(S.SelectValue,{})}),(0,t.jsxs)(S.SelectContent,{children:[(0,t.jsx)(S.SelectItem,{value:"text",children:"Text"}),(0,t.jsx)(S.SelectItem,{value:"date",children:"Date/Time"}),(0,t.jsx)(S.SelectItem,{value:"currency",children:"Currency"}),(0,t.jsx)(S.SelectItem,{value:"number",children:"Number"}),(0,t.jsx)(S.SelectItem,{value:"badge",children:"Badge"})]})]})}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(b.Checkbox,{checked:f,id:"sortable",onCheckedChange:e=>g(!0===e)}),(0,t.jsx)(j.Label,{className:"cursor-pointer text-sm font-normal",htmlFor:"sortable",children:"Enable sorting for this column"})]}),n&&(0,t.jsxs)("div",{className:"bg-muted/30 space-y-2 rounded-lg border p-4",children:[(0,t.jsx)(j.Label,{children:"Preview"}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"text-muted-foreground text-xs font-semibold",children:[c||n.label,":"]}),(0,t.jsx)("div",{children:(0,w.renderCustomColumn)({string:"Sample Text",number:12345,date:"2024-01-15T10:30:00.000Z",boolean:!0,relation:"Related Value"},n.type,h)})]})]})]}),(0,t.jsxs)(v.DialogFooter,{children:[(0,t.jsx)(l.Button,{onClick:()=>a(!1),variant:"outline",children:"Cancel"}),(0,t.jsx)(l.Button,{disabled:!(n&&c.trim()),onClick:()=>{n&&(s(r,{id:`custom-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,fieldPath:n.path,label:c,width:m,format:h,sortable:f}),d(null),u(""),p("auto"),y("text"),g(!0),a(!1))},children:"Add Column"})]})]})})}var D=e.i(104160);function I({entity:e,columns:r,criticalColumns:s=[],trigger:i}){let[n,d]=(0,o.useState)(!1),[c,u]=(0,o.useState)(!1);(0,o.useEffect)(()=>{d(!0)},[]);let m=(0,D.useDataTableColumnsStore)(e=>e.isColumnVisible),p=(0,D.useDataTableColumnsStore)(e=>e.toggleColumn),b=(0,D.useDataTableColumnsStore)(e=>e.showAllColumns),v=(0,D.useDataTableColumnsStore)(e=>e.hideAllColumns),C=(0,D.useDataTableColumnsStore)(e=>e.resetEntity),j=(0,D.useDataTableColumnsStore)(t=>e?t.entities[e]:null),S=(0,M.useCustomColumnsStore)(e=>e.columns),k=(0,M.useCustomColumnsStore)(e=>e.removeColumn),w=(0,o.useMemo)(()=>S[e]||[],[S,e]),I=(0,o.useMemo)(()=>r.filter(t=>m(e,t.key)).length,[r,e,m]),A=I===r.length,F=0===I;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(x.DropdownMenu,{children:[(0,t.jsx)(x.DropdownMenuTrigger,{asChild:!0,children:i||(0,t.jsxs)(l.Button,{size:"sm",variant:"outline",children:[(0,t.jsx)(h.default,{className:"mr-2 h-4 w-4"}),"Columns",n&&I<r.length&&(0,t.jsxs)("span",{className:"text-muted-foreground ml-1.5 text-xs",children:["(",I,"/",r.length,")"]})]})}),(0,t.jsxs)(x.DropdownMenuContent,{align:"end",className:"w-64",children:[(0,t.jsxs)(x.DropdownMenuLabel,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"Optional Columns"}),n&&r.length>0&&(0,t.jsxs)("span",{className:"text-muted-foreground text-xs font-normal",children:[I,"/",r.length]})]}),(0,t.jsx)("p",{className:"text-muted-foreground mt-1 text-xs leading-tight font-normal",children:"Critical columns are always visible"})]}),(0,t.jsx)(x.DropdownMenuSeparator,{}),(0,t.jsx)("div",{className:"px-2 py-1",children:(0,t.jsxs)(l.Button,{className:"w-full justify-start text-xs",onClick:()=>u(!0),size:"sm",variant:"outline",children:[(0,t.jsx)(a.Plus,{className:"mr-2 h-3.5 w-3.5"}),"Add Custom Column"]})}),(0,t.jsx)(x.DropdownMenuSeparator,{}),r.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-1 px-2 py-1",children:[(0,t.jsxs)(l.Button,{className:"h-7 text-xs",disabled:A,onClick:()=>b(e,r.map(e=>e.key)),size:"sm",variant:"ghost",children:[(0,t.jsx)(y.Eye,{className:"mr-1.5 h-3 w-3"}),"Show All"]}),(0,t.jsxs)(l.Button,{className:"h-7 text-xs",disabled:F,onClick:()=>v(e,r.map(e=>e.key)),size:"sm",variant:"ghost",children:[(0,t.jsx)(f.EyeOff,{className:"mr-1.5 h-3 w-3"}),"Hide All"]})]}),(0,t.jsx)("div",{className:"px-2 pb-1",children:(0,t.jsx)(l.Button,{className:"h-7 w-full text-xs",onClick:()=>{C(e),b(e,r.map(e=>e.key))},size:"sm",variant:"ghost",children:"Reset to Default"})}),(0,t.jsx)(x.DropdownMenuSeparator,{})]}),s.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"px-2 py-2",children:[(0,t.jsx)("div",{className:"text-muted-foreground mb-2 text-xs font-medium",children:"Always Visible (Critical)"}),s.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-2 rounded-sm px-2 py-1.5 text-sm",children:[(0,t.jsx)("div",{className:"border-primary bg-primary flex h-4 w-4 items-center justify-center rounded-sm border",children:(0,t.jsx)("svg",{className:"text-primary-foreground h-3 w-3",fill:"none",stroke:"currentColor",strokeWidth:3,viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M5 13l4 4L19 7",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,t.jsx)("span",{className:"text-sm font-medium",children:e.label}),(0,t.jsx)("span",{className:"text-muted-foreground ml-auto text-xs",children:"Always"})]},e.key))]}),(0,t.jsx)(x.DropdownMenuSeparator,{})]}),0===r.length&&0===s.length&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"text-muted-foreground px-2 py-3 text-center text-xs",children:"No columns available to customize."}),(0,t.jsx)(x.DropdownMenuSeparator,{})]}),r.length>0&&(0,t.jsxs)(t.Fragment,{children:[s.length>0&&(0,t.jsx)("div",{className:"text-muted-foreground px-2 pt-1 pb-2 text-xs font-medium",children:"Optional Columns"}),(0,t.jsxs)("div",{className:"max-h-[300px] overflow-y-auto",children:[n&&r.map(a=>{let r=j?.[a.key]??!0;return(0,t.jsx)(x.DropdownMenuCheckboxItem,{checked:r,className:"cursor-pointer",onCheckedChange:()=>p(e,a.key),children:(0,t.jsx)("span",{className:r?"font-medium":"text-muted-foreground",children:a.label})},`${a.key}-${r}`)}),w&&w.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.DropdownMenuSeparator,{}),(0,t.jsx)(x.DropdownMenuLabel,{className:"text-muted-foreground text-xs",children:"Custom Columns"}),n&&w.map(a=>{let r=j?.[a.id]??!0;return(0,t.jsxs)("div",{className:"group relative",children:[(0,t.jsx)(x.DropdownMenuCheckboxItem,{checked:r,className:"cursor-pointer pr-8",onCheckedChange:()=>p(e,a.id),children:(0,t.jsx)("span",{className:r?"font-medium":"text-muted-foreground",children:a.label})}),(0,t.jsx)(l.Button,{className:"absolute top-1/2 right-2 h-5 w-5 -translate-y-1/2 opacity-0 transition-opacity group-hover:opacity-100",onClick:t=>{t.stopPropagation(),k(e,a.id)},size:"icon",variant:"ghost",children:(0,t.jsx)(g.Trash2,{className:"text-destructive h-3 w-3"})})]},`${a.id}-${r}`)})]})]})]})]})]}),(0,t.jsx)(N,{entity:e,onOpenChange:u,open:c})]})}e.s(["ColumnVisibilityMenu",()=>I],524525)},146481,e=>{e.v(t=>Promise.all(["static/chunks/8c81ba466c9ade33.js","static/chunks/5d8b007b9e3ed0e3.js"].map(t=>e.l(t))).then(()=>t(77157)))},34124,e=>{e.v(t=>Promise.all(["static/chunks/8b1a2236fa6e484c.js"].map(t=>e.l(t))).then(()=>t(726597)))}]);