(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,432716,e=>{"use strict";let t=(0,e.i(383206).default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["default",()=>t])},882525,e=>{"use strict";var t=e.i(432716);e.s(["Copy",()=>t.default])},430876,e=>{"use strict";var t=e.i(111043),r=e.i(970799);e.i(116233);var a=e.i(363712),s=e.i(999),n=e.i(691225),o=e.i(913532),i=e.i(605278),l=e.i(375308),d=e.i(989239);let c=(0,r.createContext)(null),u=(0,r.createContext)(null),m="kanban-column-";function b(e,t,r){let a=Object.fromEntries(e.map(e=>[e.id,[]]));return t.reduce((e,t)=>{let a=r(t);return e[a]||(e[a]=[]),e[a]=[...e[a],t],e},a)}function x({columns:e,data:a,onDataChange:o,onItemMove:l,getColumnId:u,children:x,className:p,pointerSensorOptions:g,renderDragOverlay:h}){let f=(0,r.useCallback)(u??(e=>e.columnId),[]),[j,C]=(0,r.useState)(()=>b(e,a,f)),[v,y]=(0,r.useState)(null),k=(0,r.useRef)(e);(0,r.useEffect)(()=>{k.current=e},[e]),(0,r.useEffect)(()=>{C(b(e,a,f))},[e,a,f]);let N=(0,s.useSensors)((0,s.useSensor)(s.PointerSensor,{activationConstraint:{distance:6},...g}),(0,s.useSensor)(s.KeyboardSensor,{coordinateGetter:n.sortableKeyboardCoordinates})),w=(0,r.useCallback)(e=>{for(let t of k.current){let r=j[t.id]??[],a=r.findIndex(t=>t.id===e);if(-1!==a)return{columnId:t.id,item:r[a],index:a}}return null},[j]),I=(0,r.useCallback)(e=>{let t=w(e.active.id);t&&y({item:t.item,columnId:t.columnId})},[w]),S=(0,r.useCallback)(e=>{var t;let{active:r,over:a}=e;if(y(null),!a)return;let s=w(r.id);if(!s)return;let n=null,i=null;if("string"==typeof a.id&&a.id.startsWith(m))i=(j[n=a.id.replace(m,"")]??[]).length;else{let e=w(a.id);e&&(n=e.columnId,i=(j[e.columnId]??[]).findIndex(t=>t.id===e.item.id))}if(null===n||null===i||n===s.columnId&&i===s.index)return;let d=Object.fromEntries(Object.entries(j).map(([e,t])=>[e,t.slice()])),c=d[s.columnId]??[],[u]=c.splice(s.index,1);d[s.columnId]=c;let b=d[n]??[],x=s.columnId===n&&s.index<i?i-1:i,p={...u,columnId:n};b.splice(x,0,p),d[n]=b,C(d);let g=(t=k.current,t.flatMap(e=>d[e.id]??[]));o?.(g),l&&l({item:p,fromColumnId:s.columnId,toColumnId:n,toIndex:x})},[w,j,o,l]),T=(0,r.useMemo)(()=>({columns:e,getItems:e=>j[e]??[],findItem:w,activeItem:v}),[e,j,w,v]);return(0,t.jsx)(c.Provider,{value:T,children:(0,t.jsxs)(s.DndContext,{collisionDetection:s.closestCorners,onDragCancel:()=>y(null),onDragEnd:S,onDragStart:I,sensors:N,children:[(0,t.jsx)("div",{className:(0,d.cn)("flex w-full gap-4 overflow-x-auto px-6 py-4 md:px-8 lg:px-10",p),children:x}),(0,t.jsx)(s.DragOverlay,{children:v?h?h(v.item):(0,t.jsx)(i.Card,{className:"border-border/70 bg-background/95 w-[280px] max-w-[320px] border p-3 shadow-lg",children:(0,t.jsx)("p",{className:"text-sm font-medium",children:String(v.item.id)})}):null})]})})}function p({column:e,children:r,className:a}){return(0,t.jsx)(u.Provider,{value:e,children:(0,t.jsx)("section",{"aria-label":`${e.name} column`,className:(0,d.cn)("kanban-column border-border/60 from-background via-background/60 to-muted/40 flex h-full min-w-[320px] flex-1 flex-col rounded-2xl border bg-gradient-to-b shadow-sm ring-1 ring-black/5 backdrop-blur-sm transition hover:shadow-md",a),children:r})})}function g({children:e,className:r}){return(0,t.jsx)("header",{className:(0,d.cn)("bg-background/90 sticky top-0 z-10 flex items-center justify-between gap-2 rounded-t-2xl px-4 py-3 backdrop-blur-sm",r),children:e})}function h({columnId:e,children:a,emptyState:o,className:i,height:u="28rem"}){let{getItems:b}=function(){let e=(0,r.useContext)(c);if(!e)throw Error("useKanbanContext must be used within a KanbanProvider");return e}(),x=b(e),{setNodeRef:p,isOver:g}=(0,s.useDroppable)({id:`${m}${e}`});return(0,t.jsx)(n.SortableContext,{items:x.map(e=>e.id),strategy:n.verticalListSortingStrategy,children:(0,t.jsx)(l.ScrollArea,{className:"kanban-scroll flex-1",children:(0,t.jsxs)("div",{className:(0,d.cn)("kanban-column-cards bg-muted/30 flex min-h-[120px] flex-col gap-3 rounded-2xl p-3 transition",g&&"ring-primary/60 ring-2 ring-offset-2",i),"data-drop-state":g?"active":"inactive",ref:p,style:{minHeight:u},children:[0===x.length&&o,x.map((e,t)=>a(e,t))]})})})}function f({itemId:e,children:r,className:a}){let{attributes:s,listeners:l,setNodeRef:c,transform:u,transition:m,isDragging:b}=(0,n.useSortable)({id:e}),x={transform:o.CSS.Transform.toString(u),transition:m};return(0,t.jsx)(i.Card,{className:(0,d.cn)("border-border/70 bg-background/95 focus-visible:ring-ring grid gap-3 rounded-xl border p-4 text-left shadow-sm ring-0 transition-all outline-none hover:-translate-y-0.5 hover:shadow-md focus-visible:ring-2",b&&"border-primary/60 scale-[1.01] opacity-80 shadow-lg",a),"data-dragging":b?"":void 0,ref:c,style:x,...l,...s,children:r})}function j({data:e,columns:s,mapToKanbanItem:n,updateEntityStatus:o,renderCard:i,renderDragOverlay:l,calculateColumnMeta:d,onItemMove:c,entityName:u="items",emptyStateMessage:m,showTotals:b=!1,formatTotal:j}){let[C,v]=(0,r.useState)(()=>e.map(n)),y=d||((e,t)=>({count:t.filter(t=>t.columnId===e).length})),k=(0,r.useMemo)(()=>{let e={};return s.forEach(t=>{e[t.id]=y(t.id,C)}),e},[s,C,y]),N=(0,r.useMemo)(()=>s.map(e=>({id:e.id,name:e.name,accentColor:e.accentColor})),[s]),w=m||(e=>`No ${u} in ${e}`);return(0,t.jsx)(x,{className:"pb-4",columns:N,data:C,onDataChange:e=>{o?v(e.map(e=>({...e,entity:o(e.entity,e.columnId)}))):v(e)},onItemMove:c,renderDragOverlay:l||(e=>(0,t.jsx)("div",{className:"border-border/70 bg-background/95 w-[280px] rounded-xl border p-4 shadow-lg",children:i(e)})),children:s.map(e=>{let r=k[e.id]??{count:0};return(0,t.jsxs)(p,{className:"min-h-[300px] flex-1",column:N.find(t=>t.id===e.id),children:[(0,t.jsx)(g,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{"aria-hidden":"true",className:"h-2.5 w-2.5 rounded-full",style:{backgroundColor:e.accentColor}}),(0,t.jsx)("span",{className:"text-foreground text-sm font-semibold",children:e.name}),(0,t.jsxs)(a.Badge,{className:"bg-muted text-muted-foreground rounded-full px-2 py-0 text-xs font-medium",variant:"secondary",children:[r.count," ",u]}),b&&void 0!==r.total&&j&&(0,t.jsx)("span",{className:"text-muted-foreground text-xs",children:j(r.total)}),b&&void 0!==r.value&&j&&(0,t.jsx)("span",{className:"text-muted-foreground text-xs",children:j(r.value)})]})}),(0,t.jsx)(h,{className:"min-h-[200px]",columnId:e.id,emptyState:(0,t.jsx)("div",{className:"border-border/60 bg-background/60 text-muted-foreground rounded-xl border border-dashed p-4 text-center text-xs",children:w(e.name)}),children:e=>(0,t.jsx)(f,{itemId:e.id,children:i(e)},e.id)})]},e.id)})})}e.s(["EntityKanban",()=>j],430876)},32357,e=>{"use strict";let t=(0,e.i(383206).default)("car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);e.s(["default",()=>t])},757799,e=>{"use strict";var t=e.i(32357);e.s(["Car",()=>t.default])},745372,e=>{"use strict";var t=e.i(111043),r=e.i(212409),a=e.i(970799);e.i(670258);var s=e.i(921251),n=e.i(152088);function o({assignment:e,onRemove:o,size:i="sm"}){let[l,d]=(0,a.useState)(!1);return(0,t.jsxs)("div",{className:"relative",onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:[(0,t.jsxs)(s.Avatar,{className:(0,n.cn)("md"===i?"size-8":"size-6","border-card border-2 transition-all",l&&"ring-primary ring-2"),title:e.displayName,children:[e.avatar&&(0,t.jsx)("img",{alt:e.displayName,className:"size-full object-cover",src:e.avatar}),(0,t.jsx)(s.AvatarFallback,{className:(0,n.cn)("bg-muted text-foreground font-bold","md"===i?"text-[10px]":"text-[8px]"),children:e.displayName.split(" ").map(e=>e[0]).join("").toUpperCase()})]}),l&&o&&(0,t.jsx)("button",{className:"bg-destructive text-destructive-foreground absolute -top-1 -right-1 flex size-4 items-center justify-center rounded-full shadow-md transition-transform hover:scale-110",onClick:e=>{e.stopPropagation(),o()},title:"Remove from job",children:(0,t.jsx)(r.X,{className:"size-3"})})]})}function i({assignments:e,maxVisible:r=3,onRemove:s,onAddMember:n,size:i="sm",jobId:l}){let[d,c]=(0,a.useState)(!1),u=d?e:e.slice(0,r),m=e.length-r;return(0,t.jsxs)("div",{className:"flex shrink-0 items-center gap-1","data-job-id":l,children:[(0,t.jsxs)("div",{className:"flex -space-x-1.5",children:[u.map((e,r)=>(0,t.jsx)(o,{assignment:e,onRemove:s?()=>s(e.technicianId||""):void 0,size:i},r)),!d&&m>0&&(0,t.jsxs)("button",{className:"border-card bg-muted text-muted-foreground hover:bg-muted/80 hover:ring-primary flex size-6 items-center justify-center rounded-full border-2 text-[8px] font-bold transition-all hover:ring-2",onClick:e=>{e.stopPropagation(),c(!0)},title:`Show ${m} more`,children:["+",m]})]}),n&&(0,t.jsx)("button",{className:"border-muted-foreground/30 bg-muted/50 text-muted-foreground hover:border-primary hover:bg-primary/10 hover:text-primary flex size-6 items-center justify-center rounded-full border-2 border-dashed transition-all",onClick:e=>{e.stopPropagation(),n()},title:"Add team member",children:(0,t.jsx)("span",{className:"relative flex items-center justify-center text-base leading-none font-bold",style:{top:"-1px"},children:"+"})})]})}e.s(["TeamAvatarGroup",()=>i])},470735,e=>{"use strict";var t=e.i(111043),r=e.i(230902),a=e.i(327149),s=e.i(276389),n=e.i(757799),o=e.i(79254),i=e.i(272014),l=e.i(136764),d=e.i(969098),c=e.i(952521),u=e.i(15751),m=e.i(939397),b=e.i(224262),x=e.i(371526),p=e.i(287268),g=e.i(154115),h=e.i(121085),f=e.i(175913),j=e.i(202724),C=e.i(501651),v=e.i(181893),y=e.i(176378),k=e.i(970799),N=e.i(995403),w=e.i(694486),I=e.i(607126),S=e.i(113444),T=e.i(234461),z=e.i(988969);e.i(889265);var A=e.i(677607),P=e.i(430876),M=e.i(373915),D=e.i(339215);e.i(794747);var E=e.i(513990),K=e.i(826997),U=e.i(152088),B=e.i(745372);let O=[{id:"unassigned",name:"Unscheduled",accentColor:"#EF4444"},{id:"scheduled",name:"Scheduled",accentColor:"#3B82F6"},{id:"dispatched",name:"Dispatched",accentColor:"#0EA5E9"},{id:"arrived",name:"Arrived",accentColor:"#34D399"},{id:"in-progress",name:"In Progress",accentColor:"#F59E0B"},{id:"closed",name:"Closed",accentColor:"#10B981"},{id:"completed",name:"Completed",accentColor:"#059669"},{id:"cancelled",name:"Cancelled",accentColor:"#94A3B8"}],$=new Map(O.map(e=>[e.id,e.name])),F="scheduled",R={emergency:{borderColor:"border-l-red-500",bgColor:"bg-red-500/10",icon:v.Zap,label:"Emergency"},repair:{borderColor:"border-l-orange-500",bgColor:"bg-orange-500/10",icon:C.Wrench,label:"Repair"},installation:{borderColor:"border-l-green-500",bgColor:"bg-green-500/10",icon:c.HardHat,label:"Installation"},maintenance:{borderColor:"border-l-blue-500",bgColor:"bg-blue-500/10",icon:h.Settings,label:"Maintenance"},premium_maintenance:{borderColor:"border-l-violet-500",bgColor:"bg-violet-500/10",icon:f.Star,label:"Premium"},inspection:{borderColor:"border-l-cyan-500",bgColor:"bg-cyan-500/10",icon:p.Search,label:"Inspection"},service:{borderColor:"border-l-sky-500",bgColor:"bg-sky-500/10",icon:i.ClipboardCheck,label:"Service"},service_call:{borderColor:"border-l-teal-500",bgColor:"bg-teal-500/10",icon:m.Phone,label:"Service Call"},estimate:{borderColor:"border-l-amber-500",bgColor:"bg-amber-500/10",icon:i.ClipboardCheck,label:"Estimate"},callback:{borderColor:"border-l-pink-500",bgColor:"bg-pink-500/10",icon:m.Phone,label:"Callback"},other:{borderColor:"border-l-slate-400",bgColor:"bg-slate-400/10",icon:i.ClipboardCheck,label:"Other"},default:{borderColor:"border-l-slate-400",bgColor:"bg-slate-400/10",icon:i.ClipboardCheck,label:"Job"}},J=e=>(e.jobType?R[e.jobType]:R.default)||R.default,H={job:{icon:a.Briefcase,label:"Job",bgColor:"bg-blue-500/10",textColor:"text-blue-600 dark:text-blue-400",borderStyle:"border-solid"},meeting:{icon:j.Users,label:"Meeting",bgColor:"bg-purple-500/10",textColor:"text-purple-600 dark:text-purple-400",borderStyle:"border-dashed"},event:{icon:s.Calendar,label:"Event",bgColor:"bg-emerald-500/10",textColor:"text-emerald-600 dark:text-emerald-400",borderStyle:"border-dotted"}};function L({item:e}){let a,i,c,m,{entity:x}=e,[p,h]=(0,k.useTransition)(),f=x.startTime instanceof Date?x.startTime:new Date(x.startTime),j=x.endTime instanceof Date?x.endTime:new Date(x.endTime),C=(0,k.useCallback)(e=>{e.stopPropagation(),x.jobId&&h(async()=>{let e=await (0,z.dispatchAppointment)(x.jobId);e.success?N.toast.success("Job dispatched"):N.toast.error(e.error||"Failed to dispatch")})},[x.jobId]),v=(0,k.useCallback)(e=>{e.stopPropagation(),x.jobId&&h(async()=>{let e=await (0,w.arriveAppointment)(x.jobId);e.success?N.toast.success("Marked as arrived"):N.toast.error(e.error||"Failed to update")})},[x.jobId]),I=(0,k.useCallback)(e=>{e.stopPropagation(),x.jobId&&h(async()=>{let e=await (0,T.completeAppointment)(x.jobId);e.success?N.toast.success("Job completed"):N.toast.error(e.error||"Failed to complete")})},[x.jobId]),S=(()=>{if(!x.jobId)return null;switch(x.status){case"scheduled":return{icon:g.Send,label:"Dispatch",onClick:C,className:"bg-blue-500 hover:bg-blue-600 text-white"};case"dispatched":return{icon:n.Car,label:"Arrive",onClick:v,className:"bg-sky-500 hover:bg-sky-600 text-white"};case"arrived":return{icon:b.Play,label:"Start",onClick:I,className:"bg-emerald-500 hover:bg-emerald-600 text-white"};case"in-progress":return{icon:o.Check,label:"Done",onClick:I,className:"bg-amber-500 hover:bg-amber-600 text-white"};default:return null}})(),A=H[x.appointmentCategory||"job"];return(0,t.jsx)(E.TooltipProvider,{children:(0,t.jsx)(D.ScheduleJobContextMenu,{job:x,children:(0,t.jsxs)("div",{className:(0,U.cn)("group relative -m-4 flex flex-col gap-2 rounded-xl border-l-4 p-4",(a=J(x),`border-l-4 ${a.borderColor}`),A.borderStyle),children:[(0,t.jsxs)("div",{className:"absolute top-3 right-3 flex items-center gap-1.5",children:[S&&(0,t.jsxs)(E.Tooltip,{children:[(0,t.jsx)(E.TooltipTrigger,{asChild:!0,children:(0,t.jsx)("button",{type:"button",onClick:S.onClick,disabled:p,className:(0,U.cn)("flex size-6 items-center justify-center rounded-md opacity-0 transition-all group-hover:opacity-100","focus:outline-none focus:ring-2 focus:ring-offset-1",S.className,p&&"cursor-wait opacity-50"),children:p?(0,t.jsx)("div",{className:"size-3 animate-spin rounded-full border-2 border-white border-t-transparent"}):(0,t.jsx)(S.icon,{className:"size-3"})})}),(0,t.jsx)(E.TooltipContent,{side:"top",className:"text-xs",children:S.label})]}),x.jobId&&(0,t.jsxs)(E.Tooltip,{children:[(0,t.jsx)(E.TooltipTrigger,{asChild:!0,children:(0,t.jsx)(y.default,{href:`/dashboard/work/${x.jobId}`,onClick:e=>e.stopPropagation(),className:"flex size-6 items-center justify-center rounded-md bg-slate-100 opacity-0 transition-all hover:bg-slate-200 group-hover:opacity-100 dark:bg-slate-800 dark:hover:bg-slate-700",children:(0,t.jsx)(d.ExternalLink,{className:"size-3 text-slate-600 dark:text-slate-400"})})}),(0,t.jsx)(E.TooltipContent,{side:"top",className:"text-xs",children:"View Details"})]}),(0,t.jsx)("div",{className:(0,U.cn)("size-2 rounded-full",(e=>{switch(e){case"scheduled":return"bg-blue-500";case"dispatched":return"bg-sky-500";case"arrived":return"bg-emerald-400";case"in-progress":return"bg-amber-500 animate-pulse";case"closed":case"completed":return"bg-emerald-600";case"cancelled":return"bg-slate-400";default:return"bg-slate-500"}})(x.status))})]}),(0,t.jsxs)("div",{className:"flex items-start gap-2 pr-16",children:[(i=A.icon,(0,t.jsxs)(E.Tooltip,{children:[(0,t.jsx)(E.TooltipTrigger,{asChild:!0,children:(0,t.jsx)("div",{className:(0,U.cn)("mt-0.5 flex size-4 shrink-0 items-center justify-center rounded-sm",A.bgColor),children:(0,t.jsx)(i,{className:(0,U.cn)("size-2.5",A.textColor)})})}),(0,t.jsx)(E.TooltipContent,{side:"top",className:"text-xs",children:A.label})]})),(m=(c=J(x)).icon,(0,t.jsxs)(E.Tooltip,{children:[(0,t.jsx)(E.TooltipTrigger,{asChild:!0,children:(0,t.jsx)("div",{className:(0,U.cn)("mt-0.5 flex size-5 shrink-0 items-center justify-center rounded",c.bgColor),children:(0,t.jsx)(m,{className:(0,U.cn)("size-3",c.borderColor.replace("border-l-","text-"))})})}),(0,t.jsx)(E.TooltipContent,{side:"top",className:"text-xs",children:c.label})]})),(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsx)("h3",{className:"text-foreground truncate text-sm leading-tight font-semibold",children:x.customer?.name||"Unknown Customer"}),(0,t.jsx)("p",{className:"text-muted-foreground truncate text-xs",children:x.title})]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsxs)("div",{className:"text-muted-foreground flex items-center gap-1.5 text-xs",children:[(0,t.jsx)(l.Clock,{className:"size-3 shrink-0"}),(0,t.jsxs)("span",{className:"truncate",children:[(0,r.format)(f,"h:mm a")," - ",(0,r.format)(j,"h:mm a")]})]}),(0,t.jsxs)("div",{className:"text-muted-foreground flex items-center gap-1.5 text-xs",children:[(0,t.jsx)(s.Calendar,{className:"size-3 shrink-0"}),(0,t.jsx)("span",{className:"truncate",children:(0,r.format)(f,"MMM d, yyyy")})]})]}),x.location?.address?.street&&(0,t.jsxs)("div",{className:"text-muted-foreground flex items-center gap-1.5 text-xs",children:[(0,t.jsx)(u.MapPin,{className:"size-3 shrink-0"}),(0,t.jsx)("span",{className:"truncate",children:x.location.address.street})]}),x.assignments.length>0&&(0,t.jsx)("div",{className:"border-t pt-2",children:(0,t.jsx)(B.TeamAvatarGroup,{assignments:x.assignments,jobId:x.id,maxVisible:3,size:"sm"})})]})})})}function V(){let{getAllJobs:r,isLoading:a}=(0,K.useSchedule)(),[s,n]=(0,k.useTransition)(),[o,i]=(0,k.useState)(!1),l=r(),d=async({item:t,fromColumnId:r,toColumnId:a})=>{r===a||n(()=>{(async()=>{let r={success:!1,error:"Unknown status"};if("unassigned"===a){let{unassignAppointment:a}=await e.A(646739);(r=await a(t.entity.id)).success&&N.toast.success("Appointment unscheduled");return}switch(a){case"dispatched":r=await (0,z.dispatchAppointment)(t.entity.id);break;case"arrived":r=await (0,w.arriveAppointment)(t.entity.id);break;case"closed":r=await (0,S.closeAppointment)(t.entity.id);break;case"completed":r=await (0,T.completeAppointment)(t.entity.id);break;case"cancelled":r=await (0,I.cancelAppointment)(t.entity.id);break;default:r={success:!1,error:"Status change not supported"}}if(!r.success)return N.toast.error("Unable to move appointment",{description:r.error});N.toast.success(`Appointment moved to ${$.get(a)}`)})()})};return a?(0,t.jsx)("div",{className:"flex h-full w-full items-center justify-center",children:(0,t.jsx)("div",{className:"text-muted-foreground",children:"Loading schedule..."})}):(0,t.jsxs)("div",{className:"relative h-full overflow-auto",children:[(0,t.jsx)(P.EntityKanban,{calculateColumnMeta:(e,t)=>({count:t.filter(t=>t.columnId===e).length}),columns:O,data:l,entityName:"appointments",mapToKanbanItem:e=>{var t;return{id:e.id,columnId:(t=e.status,e.technicianId?t&&$.has(t)?t:F:"unassigned"),entity:e}},onItemMove:d,renderCard:e=>(0,t.jsx)(L,{item:e}),updateEntityStatus:(e,t)=>"unassigned"===t?{...e,isUnassigned:!0}:{...e,status:t,isUnassigned:!1}}),(0,t.jsx)(E.TooltipProvider,{children:(0,t.jsxs)(E.Tooltip,{children:[(0,t.jsx)(E.TooltipTrigger,{asChild:!0,children:(0,t.jsx)(A.Button,{size:"icon",className:"fixed bottom-6 right-6 z-50 size-12 rounded-full shadow-lg",onClick:()=>i(!0),children:(0,t.jsx)(x.Plus,{className:"size-5"})})}),(0,t.jsx)(E.TooltipContent,{side:"left",children:"Create Appointment"})]})}),(0,t.jsx)(M.QuickAppointmentDialog,{open:o,onOpenChange:i,onSuccess:()=>{i(!1),N.toast.success("Appointment created")}})]})}e.s(["KanbanView",()=>V])},823591,e=>{e.n(e.i(470735))},646739,e=>{e.v(t=>Promise.all(["static/chunks/da6608adcc81defe.js"].map(t=>e.l(t))).then(()=>t(199978)))}]);