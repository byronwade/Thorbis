(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,221999,e=>{"use strict";let t=(0,e.i(383206).default)("calendar-days",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);e.s(["default",()=>t])},560149,e=>{"use strict";var t=e.i(221999);e.s(["CalendarDays",()=>t.default])},686804,e=>{"use strict";let t=(0,e.i(383206).default)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);e.s(["default",()=>t])},550652,e=>{"use strict";var t=e.i(686804);e.s(["ArrowUpRight",()=>t.default])},926991,e=>{"use strict";let t=(0,e.i(383206).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);e.s(["default",()=>t])},51866,e=>{"use strict";var t=e.i(926991);e.s(["ChevronLeft",()=>t.default])},172506,e=>{"use strict";var t=e.i(306929);e.s(["ArrowDown",()=>t.default])},698684,e=>{"use strict";let t=(0,e.i(383206).default)("arrow-up",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);e.s(["default",()=>t])},407205,e=>{"use strict";var t=e.i(698684);e.s(["ArrowUp",()=>t.default])},306929,e=>{"use strict";let t=(0,e.i(383206).default)("arrow-down",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);e.s(["default",()=>t])},573951,e=>{"use strict";let t=(0,e.i(383206).default)("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);e.s(["default",()=>t])},287156,e=>{"use strict";var t=e.i(111043),r=e.i(970799),a=e.i(151213);function s({section:e,table:s,kanban:n,fallback:i=null,forceView:l}){let d=(0,a.useWorkView)(e),o=(0,a.useSetWorkView)(e),c=l??d;return((0,r.useEffect)(()=>{l&&d!==l&&o(l)},[l]),"kanban"===c)?(0,t.jsx)(t.Fragment,{children:n??i}):(0,t.jsx)(t.Fragment,{children:s??i})}e.s(["WorkDataView",()=>s])},430876,e=>{"use strict";var t=e.i(111043),r=e.i(970799);e.i(116233);var a=e.i(363712),s=e.i(999),n=e.i(691225),i=e.i(913532),l=e.i(605278),d=e.i(375308),o=e.i(989239);let c=(0,r.createContext)(null),u=(0,r.createContext)(null),m="kanban-column-";function h(e,t,r){let a=Object.fromEntries(e.map(e=>[e.id,[]]));return t.reduce((e,t)=>{let a=r(t);return e[a]||(e[a]=[]),e[a]=[...e[a],t],e},a)}function x({columns:e,data:a,onDataChange:i,onItemMove:d,getColumnId:u,children:x,className:p,pointerSensorOptions:g,renderDragOverlay:b}){let f=(0,r.useCallback)(u??(e=>e.columnId),[]),[v,y]=(0,r.useState)(()=>h(e,a,f)),[k,w]=(0,r.useState)(null),j=(0,r.useRef)(e);(0,r.useEffect)(()=>{j.current=e},[e]),(0,r.useEffect)(()=>{y(h(e,a,f))},[e,a,f]);let N=(0,s.useSensors)((0,s.useSensor)(s.PointerSensor,{activationConstraint:{distance:6},...g}),(0,s.useSensor)(s.KeyboardSensor,{coordinateGetter:n.sortableKeyboardCoordinates})),C=(0,r.useCallback)(e=>{for(let t of j.current){let r=v[t.id]??[],a=r.findIndex(t=>t.id===e);if(-1!==a)return{columnId:t.id,item:r[a],index:a}}return null},[v]),M=(0,r.useCallback)(e=>{let t=C(e.active.id);t&&w({item:t.item,columnId:t.columnId})},[C]),I=(0,r.useCallback)(e=>{var t;let{active:r,over:a}=e;if(w(null),!a)return;let s=C(r.id);if(!s)return;let n=null,l=null;if("string"==typeof a.id&&a.id.startsWith(m))l=(v[n=a.id.replace(m,"")]??[]).length;else{let e=C(a.id);e&&(n=e.columnId,l=(v[e.columnId]??[]).findIndex(t=>t.id===e.item.id))}if(null===n||null===l||n===s.columnId&&l===s.index)return;let o=Object.fromEntries(Object.entries(v).map(([e,t])=>[e,t.slice()])),c=o[s.columnId]??[],[u]=c.splice(s.index,1);o[s.columnId]=c;let h=o[n]??[],x=s.columnId===n&&s.index<l?l-1:l,p={...u,columnId:n};h.splice(x,0,p),o[n]=h,y(o);let g=(t=j.current,t.flatMap(e=>o[e.id]??[]));i?.(g),d&&d({item:p,fromColumnId:s.columnId,toColumnId:n,toIndex:x})},[C,v,i,d]),D=(0,r.useMemo)(()=>({columns:e,getItems:e=>v[e]??[],findItem:C,activeItem:k}),[e,v,C,k]);return(0,t.jsx)(c.Provider,{value:D,children:(0,t.jsxs)(s.DndContext,{collisionDetection:s.closestCorners,onDragCancel:()=>w(null),onDragEnd:I,onDragStart:M,sensors:N,children:[(0,t.jsx)("div",{className:(0,o.cn)("flex w-full gap-4 overflow-x-auto px-6 py-4 md:px-8 lg:px-10",p),children:x}),(0,t.jsx)(s.DragOverlay,{children:k?b?b(k.item):(0,t.jsx)(l.Card,{className:"border-border/70 bg-background/95 w-[280px] max-w-[320px] border p-3 shadow-lg",children:(0,t.jsx)("p",{className:"text-sm font-medium",children:String(k.item.id)})}):null})]})})}function p({column:e,children:r,className:a}){return(0,t.jsx)(u.Provider,{value:e,children:(0,t.jsx)("section",{"aria-label":`${e.name} column`,className:(0,o.cn)("kanban-column border-border/60 from-background via-background/60 to-muted/40 flex h-full min-w-[320px] flex-1 flex-col rounded-2xl border bg-gradient-to-b shadow-sm ring-1 ring-black/5 backdrop-blur-sm transition hover:shadow-md",a),children:r})})}function g({children:e,className:r}){return(0,t.jsx)("header",{className:(0,o.cn)("bg-background/90 sticky top-0 z-10 flex items-center justify-between gap-2 rounded-t-2xl px-4 py-3 backdrop-blur-sm",r),children:e})}function b({columnId:e,children:a,emptyState:i,className:l,height:u="28rem"}){let{getItems:h}=function(){let e=(0,r.useContext)(c);if(!e)throw Error("useKanbanContext must be used within a KanbanProvider");return e}(),x=h(e),{setNodeRef:p,isOver:g}=(0,s.useDroppable)({id:`${m}${e}`});return(0,t.jsx)(n.SortableContext,{items:x.map(e=>e.id),strategy:n.verticalListSortingStrategy,children:(0,t.jsx)(d.ScrollArea,{className:"kanban-scroll flex-1",children:(0,t.jsxs)("div",{className:(0,o.cn)("kanban-column-cards bg-muted/30 flex min-h-[120px] flex-col gap-3 rounded-2xl p-3 transition",g&&"ring-primary/60 ring-2 ring-offset-2",l),"data-drop-state":g?"active":"inactive",ref:p,style:{minHeight:u},children:[0===x.length&&i,x.map((e,t)=>a(e,t))]})})})}function f({itemId:e,children:r,className:a}){let{attributes:s,listeners:d,setNodeRef:c,transform:u,transition:m,isDragging:h}=(0,n.useSortable)({id:e}),x={transform:i.CSS.Transform.toString(u),transition:m};return(0,t.jsx)(l.Card,{className:(0,o.cn)("border-border/70 bg-background/95 focus-visible:ring-ring grid gap-3 rounded-xl border p-4 text-left shadow-sm ring-0 transition-all outline-none hover:-translate-y-0.5 hover:shadow-md focus-visible:ring-2",h&&"border-primary/60 scale-[1.01] opacity-80 shadow-lg",a),"data-dragging":h?"":void 0,ref:c,style:x,...d,...s,children:r})}function v({data:e,columns:s,mapToKanbanItem:n,updateEntityStatus:i,renderCard:l,renderDragOverlay:d,calculateColumnMeta:o,onItemMove:c,entityName:u="items",emptyStateMessage:m,showTotals:h=!1,formatTotal:v}){let[y,k]=(0,r.useState)(()=>e.map(n)),w=o||((e,t)=>({count:t.filter(t=>t.columnId===e).length})),j=(0,r.useMemo)(()=>{let e={};return s.forEach(t=>{e[t.id]=w(t.id,y)}),e},[s,y,w]),N=(0,r.useMemo)(()=>s.map(e=>({id:e.id,name:e.name,accentColor:e.accentColor})),[s]),C=m||(e=>`No ${u} in ${e}`);return(0,t.jsx)(x,{className:"pb-4",columns:N,data:y,onDataChange:e=>{i?k(e.map(e=>({...e,entity:i(e.entity,e.columnId)}))):k(e)},onItemMove:c,renderDragOverlay:d||(e=>(0,t.jsx)("div",{className:"border-border/70 bg-background/95 w-[280px] rounded-xl border p-4 shadow-lg",children:l(e)})),children:s.map(e=>{let r=j[e.id]??{count:0};return(0,t.jsxs)(p,{className:"min-h-[300px] flex-1",column:N.find(t=>t.id===e.id),children:[(0,t.jsx)(g,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{"aria-hidden":"true",className:"h-2.5 w-2.5 rounded-full",style:{backgroundColor:e.accentColor}}),(0,t.jsx)("span",{className:"text-foreground text-sm font-semibold",children:e.name}),(0,t.jsxs)(a.Badge,{className:"bg-muted text-muted-foreground rounded-full px-2 py-0 text-xs font-medium",variant:"secondary",children:[r.count," ",u]}),h&&void 0!==r.total&&v&&(0,t.jsx)("span",{className:"text-muted-foreground text-xs",children:v(r.total)}),h&&void 0!==r.value&&v&&(0,t.jsx)("span",{className:"text-muted-foreground text-xs",children:v(r.value)})]})}),(0,t.jsx)(b,{className:"min-h-[200px]",columnId:e.id,emptyState:(0,t.jsx)("div",{className:"border-border/60 bg-background/60 text-muted-foreground rounded-xl border border-dashed p-4 text-center text-xs",children:C(e.name)}),children:e=>(0,t.jsx)(f,{itemId:e.id,children:l(e)},e.id)})]},e.id)})})}e.s(["EntityKanban",()=>v],430876)},850753,e=>{"use strict";let t=(0,e.i(383206).default)("package-check",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);e.s(["default",()=>t])},996206,e=>{"use strict";let t=(0,e.i(383206).default)("warehouse",[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);e.s(["default",()=>t])},889869,e=>{"use strict";let t=(0,e.i(383206).default)("package-x",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["path",{d:"m17 13 5 5m-5 0 5-5",key:"im3w4b"}]]);e.s(["default",()=>t])},826866,e=>{"use strict";var t=e.i(850753);e.s(["PackageCheck",()=>t.default])},880107,e=>{"use strict";var t=e.i(111043),r=e.i(550652),a=e.i(560149),s=e.i(826866),n=e.i(996206),n=n,i=e.i(176378);e.i(553153);var l=e.i(363712);e.i(889265);var d=e.i(677607),o=e.i(430876),c=e.i(152088);let u=[{id:"draft",name:"Draft",accentColor:"#6B7280"},{id:"pending_approval",name:"Pending Approval",accentColor:"#F59E0B"},{id:"approved",name:"Approved",accentColor:"#22C55E"},{id:"ordered",name:"Ordered",accentColor:"#2563EB"},{id:"partially_received",name:"Partially Received",accentColor:"#9333EA"},{id:"received",name:"Received",accentColor:"#16A34A"},{id:"cancelled",name:"Cancelled",accentColor:"#EF4444"}],m=new Map(u.map(e=>[e.id,e.name])),h={low:{label:"Low",className:"bg-primary text-primary"},normal:{label:"Normal",className:"bg-muted text-muted-foreground"},high:{label:"High",className:"bg-warning text-warning"},urgent:{label:"Urgent",className:"bg-destructive text-destructive"}},x=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"});function p({orders:e}){return(0,t.jsx)(o.EntityKanban,{calculateColumnMeta:(e,t)=>{let r=t.filter(t=>t.columnId===e),a=r.reduce((e,t)=>e+t.entity.totalAmount,0);return{count:r.length,total:a}},columns:u,data:e,entityName:"POs",formatTotal:e=>x.format(e/100),mapToKanbanItem:e=>({id:e.id,columnId:e.status,entity:e,order:e}),renderCard:e=>(0,t.jsx)(g,{item:{...e,order:e.entity}}),renderDragOverlay:e=>(0,t.jsx)("div",{className:"border-border/70 bg-background/95 w-[280px] rounded-xl border p-4 shadow-lg",children:(0,t.jsx)(g,{item:{...e,order:e.entity}})}),showTotals:!0,updateEntityStatus:(e,t)=>({...e,status:t})})}function g({item:e}){let{order:o,columnId:u}=e,p=h[o.priority];return(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("div",{className:"flex items-start justify-between gap-3",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-muted-foreground text-xs font-semibold tracking-wide uppercase",children:o.poNumber}),(0,t.jsx)("h3",{className:"text-foreground text-sm font-semibold",children:o.title}),(0,t.jsx)("p",{className:"text-muted-foreground text-xs",children:o.vendor}),(0,t.jsxs)("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[(0,t.jsx)(l.Badge,{className:(0,c.cn)("text-xs","cancelled"===u&&"bg-destructive/10 text-destructive",("approved"===u||"received"===u)&&"bg-primary/10 text-primary"),variant:"cancelled"===u?"destructive":"approved"===u||"received"===u?"secondary":"outline",children:m.get(u)??u}),(0,t.jsx)(l.Badge,{className:(0,c.cn)("text-xs",p.className),variant:"outline",children:p.label}),o.autoGenerated&&(0,t.jsx)(l.Badge,{className:"bg-secondary/20 text-secondary-foreground/80",variant:"secondary",children:"Auto-generated"})]})]})}),(0,t.jsxs)("div",{className:"text-muted-foreground space-y-2 text-xs",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(n.default,{className:"text-primary size-4"}),(0,t.jsx)("span",{className:"text-foreground font-medium",children:o.requestedBy})]}),o.jobNumber&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(s.PackageCheck,{className:"text-primary size-4"}),(0,t.jsx)("span",{children:o.jobNumber})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(a.CalendarDays,{className:"text-primary size-4"}),(0,t.jsxs)("span",{children:[o.createdAt,o.expectedDelivery&&` → ${o.expectedDelivery}`]})]})]}),(0,t.jsxs)("div",{className:"text-muted-foreground flex items-center justify-between pt-2 text-xs",children:[(0,t.jsx)("span",{children:"Total"}),(0,t.jsx)("span",{className:"text-foreground font-semibold",children:x.format(o.totalAmount/100)})]}),(0,t.jsx)(d.Button,{asChild:!0,className:"text-primary w-full justify-between text-xs",size:"sm",variant:"ghost",children:(0,t.jsxs)(i.default,{href:`/dashboard/work/purchase-orders/${o.id}`,children:["View purchase order",(0,t.jsx)(r.ArrowUpRight,{className:"size-3.5"})]})})]})}e.s(["PurchaseOrdersKanban",()=>p],880107)},553099,e=>{"use strict";var t=e.i(111043),r=e.i(946672),a=e.i(852648),s=e.i(136764),n=e.i(882896),i=e.i(38614),l=e.i(60179),d=e.i(826866),o=e.i(889869),o=o,c=e.i(176378);e.i(553153);var u=e.i(363712);e.i(889265);var m=e.i(677607);e.i(244242);var h=e.i(563078),x=e.i(527756),p=e.i(871509),g=e.i(274220);let b={draft:{label:"Draft",className:"bg-muted text-foreground dark:bg-foreground/20 dark:text-muted-foreground",Icon:l.Package},pending_approval:{label:"Pending Approval",className:"bg-warning text-warning dark:bg-warning/20 dark:text-warning",Icon:s.Clock},approved:{label:"Approved",className:"bg-success hover:bg-success text-white",Icon:a.CheckCircle2},ordered:{label:"Ordered",className:"bg-primary text-primary dark:bg-primary/20 dark:text-primary",Icon:l.Package},partially_received:{label:"Partially Received",className:"bg-accent text-accent-foreground dark:bg-accent/20 dark:text-accent-foreground",Icon:d.PackageCheck},received:{label:"Received",className:"bg-success hover:bg-success text-white",Icon:d.PackageCheck},cancelled:{label:"Cancelled",className:"bg-destructive text-destructive dark:bg-destructive/20 dark:text-destructive",Icon:o.default}},f={low:{label:"Low",className:"text-primary"},normal:{label:"Normal",className:"text-muted-foreground"},high:{label:"High",className:"text-warning"},urgent:{label:"Urgent",className:"text-destructive"}};function v({orders:e,itemsPerPage:s=50,currentPage:v=1,totalCount:y}){let k=(0,g.useArchiveStore)(e=>e.filters.purchase_orders),w=e.filter(e=>{let t=!!(e.archived_at||e.deleted_at);return"active"===k?!t:"archived"!==k||t}),j=[{key:"poNumber",header:"PO Number",width:"w-32",shrink:!0,sortable:!0,render:e=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(c.default,{className:"text-foreground hover:text-primary text-sm font-medium transition-colors hover:underline",href:`/dashboard/work/purchase-orders/${e.id}`,onClick:e=>e.stopPropagation(),children:e.poNumber}),e.autoGenerated&&(0,t.jsx)(u.Badge,{className:"text-xs font-medium",variant:"outline",children:"Auto"})]})},{key:"vendor",header:"Vendor",width:"w-36",shrink:!0,sortable:!0,hideable:!1,render:e=>(0,t.jsx)("span",{className:"text-foreground text-sm",children:e.vendor})},{key:"title",header:"Title",width:"flex-1",sortable:!0,render:e=>(0,t.jsxs)(c.default,{className:"block min-w-0",href:`/dashboard/work/purchase-orders/${e.id}`,onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("div",{className:"text-foreground truncate text-sm leading-tight font-medium hover:underline",children:e.title}),e.jobNumber&&(0,t.jsxs)("div",{className:"text-muted-foreground mt-0.5 truncate text-xs leading-tight",children:["Job: ",e.jobNumber]})]})},{key:"priority",header:"Priority",width:"w-24",shrink:!0,hideOnMobile:!0,sortable:!0,hideable:!0,render:e=>(0,t.jsx)("span",{className:`text-sm font-medium ${f[e.priority].className}`,children:f[e.priority].label})},{key:"totalAmount",header:"Amount",width:"w-28",shrink:!0,align:"right",sortable:!0,hideable:!1,render:e=>(0,t.jsx)("span",{className:"font-semibold tabular-nums",children:(0,p.formatCurrency)(e.totalAmount)})},{key:"expectedDelivery",header:"Expected",width:"w-28",sortable:!0,shrink:!0,hideOnMobile:!0,hideable:!0,render:e=>(0,t.jsx)("span",{className:"text-muted-foreground text-sm tabular-nums",children:e.expectedDelivery||"—"})},{key:"status",header:"Status",width:"w-40",shrink:!0,sortable:!0,hideable:!1,render:e=>{let r=b[e.status];return(0,t.jsx)(u.Badge,{className:`text-xs font-medium ${r?.className||""}`,variant:"outline",children:r?.label||e.status})}},{key:"actions",header:"",width:"w-10",shrink:!0,render:e=>(0,t.jsx)("div",{"data-no-row-click":!0,children:(0,t.jsxs)(h.DropdownMenu,{children:[(0,t.jsx)(h.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsx)(m.Button,{size:"icon",variant:"ghost",children:(0,t.jsx)(i.MoreHorizontal,{className:"size-4"})})}),(0,t.jsxs)(h.DropdownMenuContent,{align:"end",children:[(0,t.jsx)(h.DropdownMenuLabel,{children:"Actions"}),(0,t.jsx)(h.DropdownMenuSeparator,{}),"pending_approval"===e.status&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(h.DropdownMenuItem,{children:[(0,t.jsx)(a.CheckCircle2,{className:"mr-2 size-4"}),"Approve"]}),(0,t.jsxs)(h.DropdownMenuItem,{className:"text-destructive",children:[(0,t.jsx)(o.default,{className:"mr-2 size-4"}),"Reject"]}),(0,t.jsx)(h.DropdownMenuSeparator,{})]}),"approved"===e.status&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(h.DropdownMenuItem,{children:[(0,t.jsx)(l.Package,{className:"mr-2 size-4"}),"Mark as Ordered"]}),(0,t.jsx)(h.DropdownMenuSeparator,{})]}),("ordered"===e.status||"partially_received"===e.status)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(h.DropdownMenuItem,{children:[(0,t.jsx)(d.PackageCheck,{className:"mr-2 size-4"}),"Mark as Received"]}),(0,t.jsx)(h.DropdownMenuSeparator,{})]}),(0,t.jsxs)(h.DropdownMenuItem,{children:[(0,t.jsx)(n.Download,{className:"mr-2 size-4"}),"Download PDF"]}),(0,t.jsx)(h.DropdownMenuSeparator,{}),(0,t.jsxs)(h.DropdownMenuItem,{children:[(0,t.jsx)(r.Archive,{className:"mr-2 size-4"}),"Archive PO"]})]})]})})}],N=[{label:"Approve",icon:(0,t.jsx)(a.CheckCircle2,{className:"h-4 w-4"}),onClick:()=>{}},{label:"Export",icon:(0,t.jsx)(n.Download,{className:"h-4 w-4"}),onClick:()=>{}},{label:"Archive",icon:(0,t.jsx)(r.Archive,{className:"h-4 w-4"}),variant:"destructive",onClick:()=>{}}];return(0,t.jsx)(x.FullWidthDataTable,{bulkActions:N,columns:j,data:w,emptyIcon:(0,t.jsx)(l.Package,{className:"text-muted-foreground mx-auto h-12 w-12"}),emptyMessage:"No purchase orders found",enableSelection:!0,entity:"purchase_orders",getHighlightClass:()=>"bg-warning/30 dark:bg-warning/10",getItemId:e=>e.id,isArchived:e=>!!(e.archived_at||e.deleted_at),isHighlighted:e=>"pending_approval"===e.status,itemsPerPage:s,currentPageFromServer:v,serverPagination:!0,onRefresh:()=>{window.location.reload()},onRowClick:e=>{window.location.href=`/dashboard/work/purchase-orders/${e.id}`},searchFilter:(e,t)=>{let r=t.toLowerCase();return e.poNumber.toLowerCase().includes(r)||e.vendor.toLowerCase().includes(r)||e.title.toLowerCase().includes(r)||e.jobNumber?.toLowerCase().includes(r)||e.status.toLowerCase().includes(r)},searchPlaceholder:"Search by PO number, vendor, title, job, or status...",showArchived:"active"!==k,showRefresh:!1,totalCount:y??w.length})}e.s(["PurchaseOrdersTable",()=>v],553099)}]);