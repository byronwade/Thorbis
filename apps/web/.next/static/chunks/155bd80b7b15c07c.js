(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,497490,e=>{"use strict";let t=(0,e.i(383206).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);e.s(["default",()=>t])},882896,e=>{"use strict";var t=e.i(497490);e.s(["Download",()=>t.default])},86011,e=>{"use strict";let t=(0,e.i(383206).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["default",()=>t])},287268,e=>{"use strict";var t=e.i(86011);e.s(["Search",()=>t.default])},711448,e=>{"use strict";e.i(116233),e.s([])},432716,e=>{"use strict";let t=(0,e.i(383206).default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["default",()=>t])},882525,e=>{"use strict";var t=e.i(432716);e.s(["Copy",()=>t.default])},142328,e=>{"use strict";var t=e.i(111043),s=e.i(882525),r=e.i(882896),a=e.i(747146),i=e.i(287268),c=e.i(142642),n=e.i(970799);e.i(889265);var l=e.i(677607);e.i(51478);var d=e.i(635613);e.i(254978);var o=e.i(375308);e.i(711448);var x=e.i(157222),u=e.i(948962);function m(){let e=(0,u.useTranscriptStore)(e=>e.filteredEntries.length>0?e.filteredEntries:e.entries),m=(0,u.useTranscriptStore)(e=>e.searchQuery),p=(0,u.useTranscriptStore)(e=>e.setSearchQuery),h=(0,u.useTranscriptStore)(e=>e.isRecording),g=(0,u.useTranscriptStore)(e=>e.exportTranscript),f=(0,u.useTranscriptStore)(e=>e.getFullTranscript),[j,v]=(0,n.useState)(!0),b=(0,n.useRef)(null);(0,n.useEffect)(()=>{j&&b.current&&(b.current.scrollTop=b.current.scrollHeight)},[j]);let N=async()=>{let e=f();await navigator.clipboard.writeText(e)},y=[{id:"transcript",title:"Live Transcript",icon:(0,t.jsx)(a.MessageSquare,{className:"h-4 w-4"}),count:e.length,actions:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[h&&(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("div",{className:"bg-destructive size-2 animate-pulse rounded-full"}),(0,t.jsx)("span",{className:"text-muted-foreground text-xs",children:"Recording"})]}),(0,t.jsx)(l.Button,{className:"h-8 px-2",onClick:N,size:"sm",title:"Copy transcript",variant:"ghost",children:(0,t.jsx)(s.Copy,{className:"size-3.5"})}),(0,t.jsx)(l.Button,{className:"h-8 px-2",onClick:()=>{let e=new Blob([g()],{type:"application/json"}),t=URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download=`transcript-${new Date().toISOString()}.json`,s.click(),URL.revokeObjectURL(t)},size:"sm",title:"Export transcript",variant:"ghost",children:(0,t.jsx)(r.Download,{className:"size-3.5"})})]}),content:(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("div",{className:"border-border border-b p-3",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(i.Search,{className:"text-muted-foreground absolute top-1/2 left-3 size-4 -translate-y-1/2"}),(0,t.jsx)(d.Input,{className:"bg-card h-9 pl-9 text-sm",onChange:e=>p(e.target.value),placeholder:"Search transcript...",type:"text",value:m})]})}),(0,t.jsx)("div",{className:"h-[calc(100vh-28rem)] space-y-3 overflow-y-auto p-4",onScroll:()=>{if(b.current){let{scrollTop:e,scrollHeight:t,clientHeight:s}=b.current;v(t-e-s<50)}},ref:b,children:0===e.length?(0,t.jsxs)("div",{className:"flex h-full flex-col items-center justify-center text-center",children:[(0,t.jsx)("div",{className:"bg-foreground rounded-full p-4",children:(0,t.jsx)(c.Sparkles,{className:"text-muted-foreground size-8"})}),(0,t.jsx)("p",{className:"text-muted-foreground mt-4 text-sm font-medium",children:"No transcript yet"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-1 text-xs",children:"Transcript will appear here during the call"})]}):e.map(e=>(0,t.jsxs)("div",{className:`rounded-lg p-3 ${"csr"===e.speaker?"border-primary/30 bg-primary/20 border":"border-border/50 bg-foreground/50 border"}`,children:[(0,t.jsxs)("div",{className:"mb-1.5 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:`text-xs font-semibold ${"csr"===e.speaker?"text-primary":"text-muted-foreground"}`,children:"csr"===e.speaker?"CSR":"Customer"}),e.isAnalyzing&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("div",{className:"bg-warning size-1 animate-pulse rounded-full"}),(0,t.jsx)("span",{className:"text-warning text-xxs",children:"AI Analyzing..."})]})]}),(0,t.jsx)("span",{className:"text-muted-foreground font-mono text-xxs",children:new Date(e.timestamp).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"})})]}),(0,t.jsx)("p",{className:"text-muted-foreground text-sm leading-relaxed",children:e.text}),e.aiExtracted&&(0,t.jsxs)("div",{className:"border-border mt-2 space-y-1 border-t pt-2",children:[e.aiExtracted.customerInfo&&(0,t.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.aiExtracted.customerInfo.name&&(0,t.jsxs)("span",{className:"bg-success/30 text-success rounded px-2 py-0.5 text-xxs",children:["Name: ",e.aiExtracted.customerInfo.name]}),e.aiExtracted.customerInfo.email&&(0,t.jsxs)("span",{className:"bg-success/30 text-success rounded px-2 py-0.5 text-xxs",children:["Email: ",e.aiExtracted.customerInfo.email]})]}),e.aiExtracted.issueCategories&&e.aiExtracted.issueCategories.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:e.aiExtracted.issueCategories.map(e=>(0,t.jsx)("span",{className:"bg-warning/30 text-warning rounded px-2 py-0.5 text-xxs",children:e},e))}),e.aiExtracted.sentiment&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsxs)("span",{className:`rounded px-2 py-0.5 text-xxs ${"positive"===e.aiExtracted.sentiment?"bg-success/30 text-success":"negative"===e.aiExtracted.sentiment?"bg-destructive/30 text-destructive":"bg-foreground/30 text-muted-foreground"}`,children:["Sentiment: ",e.aiExtracted.sentiment]}),void 0!==e.aiExtracted.confidence&&(0,t.jsxs)("span",{className:"text-muted-foreground font-mono text-xxs",children:[Math.round(e.aiExtracted.confidence),"%"]})]})]})]},e.id))}),!j&&e.length>0&&(0,t.jsx)("div",{className:"border-border bg-card border-t p-2 text-center",children:(0,t.jsx)("button",{className:"text-primary hover:text-primary text-xs",onClick:()=>v(!0),type:"button",children:"↓ New messages below • Click to auto-scroll"})})]})}];return(0,t.jsx)(o.ScrollArea,{className:"h-full",children:(0,t.jsx)("div",{className:"flex flex-col gap-4 p-4",children:(0,t.jsx)("section",{className:"border-border/60 bg-card overflow-hidden rounded-xl border shadow-sm",children:(0,t.jsx)("div",{className:"flex flex-col gap-4 p-0",children:(0,t.jsx)(x.UnifiedAccordion,{defaultOpenSection:"transcript",enableReordering:!1,sections:y,storageKey:"call-window-transcript-panel"})})})})})}e.s(["TranscriptPanel",()=>m])},594306,e=>{e.n(e.i(142328))}]);