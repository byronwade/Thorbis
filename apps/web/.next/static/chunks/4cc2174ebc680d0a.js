(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,672573,e=>{"use strict";let t=(0,e.i(383206).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);e.s(["default",()=>t])},15751,e=>{"use strict";var t=e.i(672573);e.s(["MapPin",()=>t.default])},784494,e=>{"use strict";let t=(0,e.i(383206).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);e.s(["default",()=>t])},697029,e=>{"use strict";var t=e.i(784494);e.s(["TrendingUp",()=>t.default])},149989,e=>{"use strict";e.i(116233),e.s([])},526120,e=>{"use strict";e.i(116233),e.s([])},199491,e=>{"use strict";let t=(0,e.i(383206).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);e.s(["default",()=>t])},826463,e=>{"use strict";var t=e.i(199491);e.s(["Upload",()=>t.default])},737038,667062,e=>{"use strict";function t(e){return t=>{let s=(e?Math[e]:Math.trunc)(t);return 0===s?0:s}}e.s(["getRoundingMethod",()=>t],737038);var s=e.i(516467);function a(e,t){return(0,s.toDate)(e)-(0,s.toDate)(t)}e.s(["differenceInMilliseconds",()=>a],667062)},868422,e=>{"use strict";var t=e.i(238153),s=e.i(492421),a=e.i(632713),i=e.i(539392),r=e.i(516467);function n(e,t){let s=(0,r.toDate)(e)-(0,r.toDate)(t);return s<0?-1:s>0?1:s}var l=e.i(511518),c=e.i(731285),d=e.i(936765),o=e.i(737038),u=e.i(667062);function m(e,m,x){let f,h,g=(0,s.getDefaultOptions)(),p=x?.locale??g.locale??t.defaultLocale,v=n(e,m);if(isNaN(v))throw RangeError("Invalid time value");let y=Object.assign({},x,{addSuffix:x?.addSuffix,comparison:v}),[j,N]=(0,i.normalizeDates)(x?.in,...v>0?[m,e]:[e,m]),b=(h=(0,u.differenceInMilliseconds)(N,j)/1e3,(0,o.getRoundingMethod)(void 0)(h)),k=Math.round((b-((0,a.getTimezoneOffsetInMilliseconds)(N)-(0,a.getTimezoneOffsetInMilliseconds)(j))/1e3)/60);if(k<2)if(x?.includeSeconds)if(b<5)return p.formatDistance("lessThanXSeconds",5,y);else if(b<10)return p.formatDistance("lessThanXSeconds",10,y);else if(b<20)return p.formatDistance("lessThanXSeconds",20,y);else if(b<40)return p.formatDistance("halfAMinute",0,y);else if(b<60)return p.formatDistance("lessThanXMinutes",1,y);else return p.formatDistance("xMinutes",1,y);else if(0===k)return p.formatDistance("lessThanXMinutes",1,y);else return p.formatDistance("xMinutes",k,y);if(k<45)return p.formatDistance("xMinutes",k,y);if(k<90)return p.formatDistance("aboutXHours",1,y);if(k<l.minutesInDay){let e=Math.round(k/60);return p.formatDistance("aboutXHours",e,y)}if(k<2520)return p.formatDistance("xDays",1,y);else if(k<l.minutesInMonth){let e=Math.round(k/l.minutesInDay);return p.formatDistance("xDays",e,y)}else if(k<2*l.minutesInMonth)return f=Math.round(k/l.minutesInMonth),p.formatDistance("aboutXMonths",f,y);if((f=function(e,t,s){var a;let l,o,[u,m,x]=(0,i.normalizeDates)(void 0,e,e,t),f=n(m,x),h=Math.abs((0,c.differenceInCalendarMonths)(m,x));if(h<1)return 0;1===m.getMonth()&&m.getDate()>27&&m.setDate(30),m.setMonth(m.getMonth()-f*h);let g=n(m,x)===-f;+(l=(0,r.toDate)(u,void 0),a=void 0,(o=(0,r.toDate)(l,a?.in)).setHours(23,59,59,999),o)==+(0,d.endOfMonth)(l,void 0)&&1===h&&1===n(u,x)&&(g=!1);let p=f*(h-g);return 0===p?0:p}(N,j))<12){let e=Math.round(k/l.minutesInMonth);return p.formatDistance("xMonths",e,y)}{let e=f%12,t=Math.trunc(f/12);return e<3?p.formatDistance("aboutXYears",t,y):e<9?p.formatDistance("overXYears",t,y):p.formatDistance("almostXYears",t+1,y)}}e.s(["formatDistance",()=>m],868422)},667722,e=>{"use strict";let t=(0,e.i(383206).default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);e.s(["default",()=>t])},227009,e=>{"use strict";var t=e.i(667722);e.s(["Activity",()=>t.default])},220168,e=>{"use strict";var t=e.i(111043);e.i(116233);var s=e.i(880177),a=e.i(989239);function i({label:e,htmlFor:i,error:r,description:n,required:l,children:c,className:d}){return(0,t.jsxs)("div",{className:(0,a.cn)("space-y-2",d),"data-slot":"form-field",children:[e&&(0,t.jsxs)(s.Label,{htmlFor:i,className:(0,a.cn)(r&&"text-destructive"),"data-error":!!r,children:[e,l&&(0,t.jsx)("span",{className:"text-destructive ml-1","aria-label":"required",children:"*"})]}),c,n&&!r&&(0,t.jsx)("p",{className:"text-muted-foreground text-[0.8rem] leading-relaxed",children:n}),r&&(0,t.jsx)("p",{className:"text-destructive text-[0.8rem] font-medium",role:"alert",children:r})]})}function r({children:e,cols:s=2,className:i}){return(0,t.jsx)("div",{className:(0,a.cn)("grid gap-4",{"sm:grid-cols-2":2===s,"sm:grid-cols-2 lg:grid-cols-3":3===s,"sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":4===s},i),children:e})}e.s(["StandardFormField",()=>i,"StandardFormRow",()=>r])},146798,e=>{"use strict";let t=(0,e.i(399168).create)((e,t)=>({stats:{},setStats:(t,s)=>e(e=>({stats:{...e.stats,[t]:s}})),getStats:e=>t().stats[e],clearStats:t=>e(e=>{let{[t]:s,...a}=e.stats;return{stats:a}})}));e.s(["useToolbarStatsStore",0,t])},497490,e=>{"use strict";let t=(0,e.i(383206).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);e.s(["default",()=>t])},882896,e=>{"use strict";var t=e.i(497490);e.s(["Download",()=>t.default])},167618,e=>{"use strict";let t=(0,e.i(383206).default)("archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);e.s(["default",()=>t])},946672,e=>{"use strict";var t=e.i(167618);e.s(["Archive",()=>t.default])},883018,e=>{"use strict";let t=(0,e.i(383206).default)("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);e.s(["default",()=>t])},848475,e=>{"use strict";var t=e.i(883018);e.s(["MoreVertical",()=>t.default])},237833,e=>{"use strict";let t=(0,e.i(399168).create)(e=>({actions:{},setActions:(t,s)=>e(e=>({actions:{...e.actions,[t]:s}})),clearActions:t=>e(e=>{let s={...e.actions};return delete s[t],{actions:s}}),clearAll:()=>e({actions:{}})}));e.s(["useToolbarActionsStore",0,t])},871509,e=>{"use strict";function t(e,s={}){let{minimumFractionDigits:a=0,maximumFractionDigits:i=s.decimals??2,showZero:r=!0,decimals:n}=s,l=void 0!==n?n:i,c=void 0!==n?n:a;return null==e?r?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(0):"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:c,maximumFractionDigits:l}).format(e/100)}function s(e,t={}){let{minimumFractionDigits:a=0,maximumFractionDigits:i=t.decimals??2,showZero:r=!0,decimals:n}=t,l=void 0!==n?n:i,c=void 0!==n?n:a;return null==e||Number.isNaN(e)?r?new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(0):"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:c,maximumFractionDigits:l}).format(e)}function a(e,t={}){let s;if(!e)return"—";let i="number"==typeof e||"string"==typeof e?new Date(e):e;if(Number.isNaN(i.getTime()))return"—";let r="table";"string"==typeof t?r=t||"table":(r=t.preset||"table",s=t.custom);let n=s||({short:{month:"short",day:"numeric",year:"numeric"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"},table:{month:"short",day:"numeric",year:"numeric"},time:{hour:"numeric",minute:"2-digit",hour12:!0},datetime:{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}})[r];return new Intl.DateTimeFormat("en-US",n).format(i)}function i(e){return a(e,{preset:"datetime"})}function r(e,t){if(!e)return"—";let s="number"==typeof e||"string"==typeof e?new Date(e):e;if(Number.isNaN(s.getTime()))return"—";if(!t)return a(s,{preset:"short"});let i="number"==typeof t||"string"==typeof t?new Date(t):t;if(Number.isNaN(i.getTime())||s.getFullYear()===i.getFullYear()&&s.getMonth()===i.getMonth()&&s.getDate()===i.getDate())return a(s,{preset:"short"});let r=new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric"}).format(s),n=new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric"}).format(i);return`${r} → ${n}`}e.s(["formatCurrency",()=>t,"formatCurrencyFromDollars",()=>s,"formatDate",()=>a,"formatDateRange",()=>r,"formatDateTime",()=>i])},306466,e=>{"use strict";let t=(0,e.i(383206).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["default",()=>t])},598870,e=>{"use strict";var t=e.i(306466);e.s(["Save",()=>t.default])},52573,e=>{"use strict";let t=(0,e.i(383206).default)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);e.s(["default",()=>t])},694288,e=>{"use strict";var t=e.i(52573);e.s(["Link",()=>t.default])},519131,e=>{"use strict";let t=(0,e.i(383206).default)("paperclip",[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]]);e.s(["default",()=>t])},233654,e=>{"use strict";var t=e.i(519131);e.s(["Paperclip",()=>t.default])},711448,e=>{"use strict";e.i(116233),e.s([])},305549,585506,e=>{"use strict";var t=e.i(111043),s=e.i(868422),a=e.i(227009);e.i(670258);var i=e.i(921251);e.i(711448);var r=e.i(157222);function n({activities:e}){return e&&0!==e.length?(0,t.jsx)(r.UnifiedAccordionContent,{children:(0,t.jsx)("div",{className:"max-h-96 space-y-3 overflow-y-auto",children:e.map(e=>(0,t.jsxs)("div",{className:"hover:bg-muted/50 flex gap-3 rounded-lg border p-3 transition-colors",children:[(0,t.jsxs)(i.Avatar,{className:"size-8 flex-shrink-0",children:[(0,t.jsx)(i.AvatarImage,{src:e.user?.avatar}),(0,t.jsx)(i.AvatarFallback,{children:e.user?.name?.charAt(0)||"?"})]}),(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsx)("p",{className:"text-sm break-words",children:e.description}),(0,t.jsxs)("p",{className:"text-muted-foreground mt-1 text-xs",children:[e.user?.name," •"," ",(0,s.formatDistance)(new Date(e.created_at),new Date,{addSuffix:!0})]})]})]},e.id))})}):(0,t.jsx)(r.UnifiedAccordionContent,{children:(0,t.jsx)("div",{className:"flex h-32 items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(a.Activity,{className:"text-muted-foreground/50 mx-auto size-8"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-2 text-sm",children:"No activity yet"})]})})})}e.s(["ActivityLogSection",()=>n],305549);var l=e.i(882896),c=e.i(606661),d=e.i(233654),o=e.i(371526),u=e.i(826463),m=e.i(970799);e.i(889265);var x=e.i(677607),f=e.i(51052);function h({attachments:e,entityType:s,entityId:a,onUpload:i}){let{toast:n}=(0,f.useToast)(),[h,g]=(0,m.useState)(!1),p=async e=>{let t=e.target.files;if(t&&0!==t.length){g(!0);try{i&&await i(t),n.success(`${t.length} file(s) uploaded successfully`)}catch(e){n.error("Failed to upload files")}finally{g(!1),e.target.value=""}}};return(0,t.jsx)(r.UnifiedAccordionContent,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[i&&(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{className:"hidden",disabled:h,id:"file-upload",multiple:!0,onChange:p,type:"file"}),(0,t.jsx)("label",{htmlFor:"file-upload",children:(0,t.jsx)(x.Button,{asChild:!0,className:"w-full cursor-pointer",disabled:h,size:"sm",variant:"outline",children:(0,t.jsx)("span",{children:h?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.Upload,{className:"mr-2 size-4 animate-pulse"}),"Uploading..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.Plus,{className:"mr-2 size-4"}),"Upload Files"]})})})})]}),e&&e.length>0?(0,t.jsx)("div",{className:"space-y-2",children:e.map(e=>(0,t.jsxs)("div",{className:"hover:bg-muted/50 flex items-center justify-between rounded-lg border p-3 transition-colors",children:[(0,t.jsxs)("div",{className:"flex min-w-0 flex-1 items-center gap-3",children:[(0,t.jsx)(c.FileText,{className:"text-muted-foreground size-4 flex-shrink-0"}),(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsx)("p",{className:"truncate text-sm font-medium",children:e.original_file_name||e.file_name||"Untitled"}),(0,t.jsxs)("p",{className:"text-muted-foreground text-xs",children:[e.file_size?`${(e.file_size/1024).toFixed(1)} KB`:"",e.category&&` • ${e.category}`]})]})]}),(0,t.jsx)(x.Button,{asChild:!0,className:"flex-shrink-0",size:"sm",variant:"ghost",children:(0,t.jsx)("a",{download:!0,href:e.storage_url||e.url,rel:"noopener noreferrer",target:"_blank",children:(0,t.jsx)(l.Download,{className:"size-4"})})})]},e.id))}):(0,t.jsx)("div",{className:"flex h-32 items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(d.Paperclip,{className:"text-muted-foreground/50 mx-auto size-8"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-2 text-sm",children:"No attachments yet"})]})})]})})}e.s(["AttachmentsSection",()=>h],585506)},821305,278633,e=>{"use strict";var t=e.i(111043),s=e.i(227009),a=e.i(606661),i=e.i(694288),r=e.i(233654),n=e.i(702948),l=e.i(152088);function c({header:e,customHeader:s,metadata:a,beforeContent:i,afterContent:r,children:n,className:c,contentGapClassName:d,statsBar:o}){let u=a??e?.metadata??[];return(0,t.jsxs)("div",{className:(0,l.cn)("flex w-full flex-col gap-4 pb-24 lg:gap-5",c),"data-detail-shell":"",children:[o,s??(e?(0,t.jsx)(m,{section:e}):null),u.length>0?(0,t.jsx)(x,{items:u}):null,i,n?(0,t.jsx)("div",{className:(0,l.cn)("flex flex-col gap-4",d),children:n}):null,r]})}let d={none:"p-0",sm:"p-4",md:"p-6",lg:"p-8"},o={default:"border border-border/60 bg-card shadow-sm",muted:"border border-border/60 bg-muted/40 shadow-sm",subtle:"border border-border/40 bg-card/80 shadow-sm",ghost:"border border-border/50 bg-transparent shadow-none"};function u({children:e,className:s,padding:a="md",variant:i="default"}){return(0,t.jsx)("section",{className:(0,l.cn)("rounded-xl",o[i],s),children:(0,t.jsx)("div",{className:(0,l.cn)("flex flex-col gap-4",d[a]),children:e})})}function m({section:e}){var s;let{breadcrumbs:a,leadingVisual:i,title:r,subtitle:n,description:l,badges:c,actions:d,secondaryActions:o}=e;return(0,t.jsxs)("header",{className:"flex flex-col gap-4 lg:gap-6",children:[a?(0,t.jsx)("div",{className:"text-muted-foreground text-sm",children:a}):null,(0,t.jsxs)("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between lg:gap-8",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsx)("div",{className:"flex flex-col gap-3",children:(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:gap-4",children:[i?(0,t.jsx)("div",{className:"flex items-center justify-center",children:i}):null,(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(s=r)?"string"==typeof s?(0,t.jsx)("h1",{className:"text-2xl font-semibold tracking-tight md:text-3xl",children:s}):(0,t.jsx)("div",{className:"text-2xl font-semibold tracking-tight md:text-3xl",children:s}):null,n?(0,t.jsx)("div",{className:"text-muted-foreground max-w-3xl text-sm md:text-base",children:n}):null]})]}),l?(0,t.jsx)("div",{className:"text-muted-foreground max-w-3xl text-sm",children:l}):null]})}),c&&c.length>0?(0,t.jsx)("div",{className:"flex flex-wrap items-center gap-2",children:c}):null]}),f(d,o)?(0,t.jsxs)("div",{className:"hidden flex-wrap items-center gap-2 lg:flex",children:[d?.map((e,s)=>(0,t.jsx)("span",{className:"inline-flex",children:e},s)),o?.map((e,s)=>(0,t.jsx)("span",{className:"inline-flex",children:e},`secondary-${s}`))]}):null]}),f(d,o)?(0,t.jsxs)("div",{className:"flex flex-col gap-2 lg:hidden",children:[d&&d.length>0?(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:d.map((e,s)=>(0,t.jsx)("span",{className:"flex-1",children:e},s))}):null,o&&o.length>0?(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:o.map((e,s)=>(0,t.jsx)("span",{className:"flex-1",children:e},`secondary-mobile-${s}`))}):null]}):null]})}function x({items:e}){return(0,t.jsx)("section",{className:"@xl-page:grid-cols-4 grid grid-cols-1 gap-4 md:grid-cols-2",children:e.map((e,s)=>(0,t.jsxs)("div",{className:"border-border/50 bg-card/60 flex flex-col gap-1 rounded-lg border px-4 py-3 shadow-sm",children:[(0,t.jsxs)("span",{className:"text-muted-foreground flex items-center gap-2 text-xs font-medium tracking-wide uppercase",children:[e.icon,e.label]}),(0,t.jsx)("div",{className:"text-foreground text-sm font-semibold",children:e.value}),e.helperText?(0,t.jsx)("span",{className:"text-muted-foreground text-xs",children:e.helperText}):null]},s))})}function f(e,t){return!!(e&&e.length>0||t&&t.length>0)}e.s(["DetailPageShell",()=>c,"DetailPageSurface",()=>u],278633);var h=e.i(305549),g=e.i(585506),p=e.i(868422),v=e.i(371526),y=e.i(970799);e.i(670258);var j=e.i(921251);e.i(889265);var N=e.i(677607);e.i(526120);var b=e.i(610120);e.i(711448);var k=e.i(157222),D=e.i(51052);function w({notes:e,entityType:s,entityId:i,onAddNote:r}){let{toast:n}=(0,D.useToast)(),[l,c]=(0,y.useState)(!1),[d,o]=(0,y.useState)(""),[u,m]=(0,y.useState)(!1),x=async()=>{if(r){if(!d.trim())return void n.error("Please enter a note");m(!0);try{await r(d),n.success("Note added successfully"),o(""),c(!1)}catch(e){n.error("Failed to add note")}finally{m(!1)}}};return(0,t.jsx)(k.UnifiedAccordionContent,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[r&&(l?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(b.Textarea,{autoFocus:!0,onChange:e=>o(e.target.value),placeholder:"Enter your note...",rows:3,value:d}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(N.Button,{disabled:u,onClick:x,size:"sm",children:u?"Saving...":"Save Note"}),(0,t.jsx)(N.Button,{onClick:()=>{c(!1),o("")},size:"sm",variant:"outline",children:"Cancel"})]})]}):(0,t.jsxs)(N.Button,{className:"w-full",onClick:()=>c(!0),size:"sm",variant:"outline",children:[(0,t.jsx)(v.Plus,{className:"mr-2 size-4"}),"Add Note"]})),e&&e.length>0?(0,t.jsx)("div",{className:"space-y-3",children:e.map(e=>(0,t.jsx)("div",{className:"hover:bg-muted/50 rounded-lg border p-3 transition-colors",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)(j.Avatar,{className:"size-8 flex-shrink-0",children:[(0,t.jsx)(j.AvatarImage,{src:e.user?.avatar}),(0,t.jsx)(j.AvatarFallback,{children:e.user?.name?.charAt(0)||"?"})]}),(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsx)("p",{className:"text-xs font-medium",children:e.user?.name}),(0,t.jsx)("p",{className:"text-muted-foreground text-xs",children:(0,p.formatDistance)(new Date(e.created_at),new Date,{addSuffix:!0})})]}),(0,t.jsx)("p",{className:"mt-1 text-sm break-words whitespace-pre-wrap",children:e.content||e.note})]})]})},e.id))}):(0,t.jsx)("div",{className:"flex h-32 items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(a.FileText,{className:"text-muted-foreground/50 mx-auto size-8"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-2 text-sm",children:"No notes yet"})]})})]})})}var M=e.i(87912),S=e.i(176378);e.i(553153);var F=e.i(363712);function A({relatedItems:e}){return e&&0!==e.length?(0,t.jsx)(k.UnifiedAccordionContent,{children:(0,t.jsx)("div",{className:"space-y-2",children:e.map(e=>(0,t.jsxs)(S.default,{className:"group hover:bg-muted/50 flex items-center justify-between rounded-lg border p-3 transition-colors",href:e.href,children:[(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("p",{className:"truncate text-sm font-medium",children:e.title}),e.badge&&(0,t.jsx)(F.Badge,{className:"flex-shrink-0",variant:e.badge.variant||"default",children:e.badge.label})]}),e.subtitle&&(0,t.jsx)("p",{className:"text-muted-foreground truncate text-xs",children:e.subtitle})]}),(0,t.jsx)(M.ChevronRight,{className:"text-muted-foreground size-4 flex-shrink-0 transition-transform group-hover:translate-x-0.5"})]},e.id))})}):(0,t.jsx)(k.UnifiedAccordionContent,{children:(0,t.jsx)("div",{className:"flex h-32 items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(i.Link,{className:"text-muted-foreground/50 mx-auto size-8"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-2 text-sm",children:"No related items"})]})})})}let T=(0,n.default)(()=>e.A(134181).then(e=>e.UnifiedAccordion),{loadableGenerated:{modules:[388024]},ssr:!1});function z({header:e,customHeader:n,customSections:d,activities:o=[],notes:m=[],attachments:x=[],relatedItems:f=[],showStandardSections:p={activities:!0,notes:!0,attachments:!0,relatedItems:!0},className:v,defaultOpenSection:y,beforeContent:j,afterContent:N,statsBar:b,contentGapClassName:k,surfacePadding:D="none",surfaceVariant:M="default",surfaceClassName:S,storageKey:F,enableReordering:z=!0}){let U=[];!1!==p.activities&&U.push({id:"activity-log",title:"Activity Log",icon:(0,t.jsx)(s.Activity,{className:"size-4"}),count:o.length,content:(0,t.jsx)(h.ActivityLogSection,{activities:o})}),!1!==p.notes&&U.push({id:"notes",title:"Notes",icon:(0,t.jsx)(a.FileText,{className:"size-4"}),count:m.length,content:(0,t.jsx)(w,{notes:m})}),!1!==p.attachments&&U.push({id:"attachments",title:"Attachments",icon:(0,t.jsx)(r.Paperclip,{className:"size-4"}),count:x.length,content:(0,t.jsx)(g.AttachmentsSection,{attachments:x})}),!1!==p.relatedItems&&f.length>0&&U.push({id:"related-items",title:"Related Items",icon:(0,t.jsx)(i.Link,{className:"size-4"}),count:f.length,content:(0,t.jsx)(A,{relatedItems:f})});let C=[...d||[],...U];return(0,t.jsx)(c,{afterContent:N,beforeContent:j,className:(0,l.cn)("w-full",v),contentGapClassName:k??"gap-4",customHeader:n,header:e,statsBar:b,children:(0,t.jsx)(u,{className:(0,l.cn)("overflow-hidden",S),padding:D,variant:M,children:(0,t.jsx)(T,{defaultOpenSection:y||C[0]?.id,enableReordering:z,sections:C,storageKey:F})})})}e.s(["DetailPageContentLayout",()=>z],821305)},431111,e=>{"use strict";var t=e.i(111043),s=e.i(904653),a=e.i(970799),i=e.i(146798);function r({stats:e,children:r}){let n=(0,s.usePathname)()||"/dashboard",l=(0,i.useToolbarStatsStore)(e=>e.setStats),c=(0,i.useToolbarStatsStore)(e=>e.clearStats);return(0,a.useLayoutEffect)(()=>(e?l(n,e):c(n),()=>{c(n)}),[n,e,l,c]),(0,t.jsx)(t.Fragment,{children:r})}e.s(["ToolbarStatsProvider",()=>r])},415872,e=>{"use strict";let t=(0,e.i(383206).default)("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);e.s(["default",()=>t])},613240,e=>{"use strict";var t=e.i(415872);e.s(["Printer",()=>t.default])},748887,e=>{"use strict";let t=(0,e.i(383206).default)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);e.s(["default",()=>t])},614726,e=>{"use strict";var t=e.i(748887);e.s(["Share2",()=>t.default])},6130,e=>{"use strict";e.i(116233),e.s([])},120053,e=>{"use strict";let t=(0,e.i(383206).default)("user-cog",[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);e.s(["default",()=>t])},123331,e=>{"use strict";var t=e.i(120053);e.s(["UserCog",()=>t.default])},148580,e=>{"use strict";let t=(0,e.i(383206).default)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);e.s(["default",()=>t])},134181,e=>{e.v(t=>Promise.all(["static/chunks/6680116ea3e49da7.js"].map(t=>e.l(t))).then(()=>t(388024)))}]);