(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,408719,e=>{"use strict";var t=e.i(111043),s=e.i(970799),r=e.i(24079);function a({children:e}){let a=s.default.Children.toArray(e),l=a[0],i=a.slice(1);return(0,t.jsxs)(r.SidebarProvider,{children:[(0,t.jsxs)(r.Sidebar,{collapsible:"offcanvas",variant:"sidebar",children:[l,(0,t.jsx)(r.SidebarRail,{})]}),(0,t.jsx)(r.SidebarInset,{children:(0,t.jsxs)("div",{className:"flex h-full flex-col",children:[(0,t.jsxs)("div",{className:"flex h-16 shrink-0 items-center gap-2 border-b px-4 md:hidden",children:[(0,t.jsx)(r.SidebarTrigger,{}),(0,t.jsx)("span",{className:"font-semibold",children:"Knowledge Base"})]}),(0,t.jsx)("div",{className:"flex-1 overflow-auto",children:i})]})})]})}e.s(["KBSidebarProvider",()=>a])},898590,e=>{"use strict";var t=e.i(111043),s=e.i(641304),r=e.i(287268),a=e.i(904653),l=e.i(970799),i=e.i(552038),c=(0,i.createServerReference)("60301b0c2049c37f7b265049269699f6d4a7a33d92",i.callServer,void 0,i.findSourceMapURL,"searchKBArticles");e.i(889265);var n=e.i(677607);e.i(51478);var d=e.i(635613),o=e.i(152088);function u({className:e,placeholder:i="Search knowledge base...",showButton:u=!0}){let[m,x]=(0,l.useState)(""),[f,h]=(0,l.useState)([]),[v,p]=(0,l.useState)(!1),[b,g]=(0,l.useState)(!1),j=(0,a.useRouter)(),S=(0,l.useRef)(null),N=(0,l.useRef)(null);(0,l.useEffect)(()=>{let e=e=>{S.current&&!S.current.contains(e.target)&&g(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,l.useEffect)(()=>{if(!m.trim()){h([]),g(!1);return}let e=setTimeout(async()=>{p(!0);let e=await c(m,{limit:5});e.success&&e.articles&&(h(e.articles),g(!0)),p(!1)},300);return()=>clearTimeout(e)},[m]);let y=e=>{e.preventDefault(),m.trim()&&(j.push(`/kb/search?q=${encodeURIComponent(m)}`),g(!1))};return(0,t.jsx)("div",{className:(0,o.cn)("relative w-full",e),ref:S,children:(0,t.jsxs)("form",{className:"flex gap-2",onSubmit:y,children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(r.Search,{className:"text-muted-foreground absolute top-1/2 left-3 size-4 -translate-y-1/2"}),(0,t.jsx)(d.Input,{className:"pl-10",onChange:e=>x(e.target.value),onFocus:()=>m.trim()&&g(!0),placeholder:i,ref:N,type:"search",value:m}),v&&(0,t.jsx)(s.Loader2,{className:"text-muted-foreground absolute top-1/2 right-3 size-4 -translate-y-1/2 animate-spin"})]}),u&&(0,t.jsx)(n.Button,{disabled:!m.trim()||v,type:"submit",children:"Search"}),b&&f.length>0&&(0,t.jsx)("div",{className:"bg-card absolute top-full z-50 mt-2 w-full rounded-lg border shadow-lg",children:(0,t.jsxs)("div",{className:"max-h-96 space-y-1 overflow-y-auto p-2",children:[f.map(e=>(0,t.jsxs)("button",{className:"hover:bg-accent w-full rounded-md px-3 py-2 text-left text-sm transition-colors",onClick:()=>{var t,s;return t=e.category.slug,s=e.slug,void(j.push(`/kb/${t}/${s}`),g(!1),x(""))},type:"button",children:[(0,t.jsx)("div",{className:"font-medium",children:e.title}),e.excerpt&&(0,t.jsx)("div",{className:"text-muted-foreground line-clamp-1 text-xs",children:e.excerpt}),(0,t.jsx)("div",{className:"text-muted-foreground text-xs",children:e.category.title})]},e.id)),(0,t.jsx)("div",{className:"border-t pt-2",children:(0,t.jsxs)("button",{className:"text-primary hover:bg-accent w-full rounded-md px-3 py-2 text-left text-sm font-medium",onClick:y,type:"button",children:['View all results for "',m,'"']})})]})})]})})}e.s(["KBSearch",()=>u],898590)}]);