(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,497490,e=>{"use strict";let t=(0,e.i(383206).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);e.s(["default",()=>t])},882896,e=>{"use strict";var t=e.i(497490);e.s(["Download",()=>t.default])},415872,e=>{"use strict";let t=(0,e.i(383206).default)("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);e.s(["default",()=>t])},613240,e=>{"use strict";var t=e.i(415872);e.s(["Printer",()=>t.default])},785535,e=>{"use strict";var t=e.i(552038),r=(0,t.createServerReference)("6067d7e3bdcea75f232f20fb719a821b334980ce3b",t.callServer,void 0,t.findSourceMapURL,"exportReportToCSV");e.s(["exportReportToCSV",()=>r])},638896,e=>{"use strict";var t=e.i(111043),r=e.i(970799);e.i(889265);var o=e.i(677607);e.i(244242);var a=e.i(563078),s=e.i(882896),i=e.i(45834),n=e.i(606661),d=e.i(641304),c=e.i(613240),l=e.i(785535),p=e.i(995403);let u={revenue:"Revenue Report",jobs:"Jobs Performance Report",financial:"Financial Report",team:"Team Leaderboard Report",customers:"Customer Analytics Report"};function h({reportType:e,days:h=90}){let[m,x]=(0,r.useState)(!1),v=async()=>{x(!0);try{let t=await (0,l.exportReportToCSV)(e,h);if(!t.success||!t.data)return void p.toast.error(t.error||"Failed to export report");let r=new Blob([t.data],{type:"text/csv;charset=utf-8;"}),o=URL.createObjectURL(r),a=document.createElement("a");a.href=o,a.download=t.filename||`${e}-report.csv`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(o),p.toast.success("Report exported successfully")}catch(e){console.error("Export error:",e),p.toast.error("Failed to export report")}finally{x(!1)}},w=()=>{let t=u[e],r=new Date().toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),o=document.title;document.title=`${t} - ${r}`,window.print(),document.title=o,p.toast.success("Print dialog opened - select 'Save as PDF' to export")};return(0,t.jsxs)(a.DropdownMenu,{children:[(0,t.jsx)(a.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsxs)(o.Button,{variant:"outline",size:"sm",disabled:m,children:[m?(0,t.jsx)(d.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):(0,t.jsx)(s.Download,{className:"mr-2 h-4 w-4"}),"Export"]})}),(0,t.jsxs)(a.DropdownMenuContent,{align:"end",children:[(0,t.jsxs)(a.DropdownMenuItem,{onClick:v,disabled:m,children:[(0,t.jsx)(i.FileSpreadsheet,{className:"mr-2 h-4 w-4"}),"Export as CSV"]}),(0,t.jsx)(a.DropdownMenuSeparator,{}),(0,t.jsxs)(a.DropdownMenuItem,{onClick:w,children:[(0,t.jsx)(n.FileText,{className:"mr-2 h-4 w-4"}),"Export as PDF"]}),(0,t.jsxs)(a.DropdownMenuItem,{onClick:w,children:[(0,t.jsx)(c.Printer,{className:"mr-2 h-4 w-4"}),"Print Report"]})]})]})}e.s(["ExportButton",()=>h])}]);