{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/byronwade/Stratos/apps/web/src/components/layout/skip-link.tsx"],"sourcesContent":["\"use client\";\n\n/**\n * SkipLink - Accessibility helper for keyboard navigation\n *\n * Allows keyboard users to skip directly to main content,\n * bypassing navigation and header elements.\n * Meets WCAG 2.1 Success Criterion 2.4.1 (Bypass Blocks)\n */\nexport function SkipLink() {\n\treturn (\n\t\t<a\n\t\t\thref=\"#main-content\"\n\t\t\tclassName=\"sr-only focus:not-sr-only focus:fixed focus:top-4 focus:left-4 focus:z-[9999] focus:rounded-md focus:bg-primary focus:px-4 focus:py-2 focus:text-primary-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:transition-all\"\n\t\t>\n\t\t\tSkip to main content\n\t\t</a>\n\t);\n}\n"],"names":[],"mappings":";;;;;AAAA;;AASO,SAAS;IACf,qBACC,qZAAC;QACA,MAAK;QACL,WAAU;kBACV;;;;;;AAIH"}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":["file:///Users/byronwade/Stratos/apps/web/src/lib/analytics/client.ts"],"sourcesContent":["/**\n * Vercel Analytics Client\n *\n * Client-side analytics tracking using Vercel Analytics.\n * Provides type-safe event tracking with automatic error handling.\n */\n\n\"use client\";\n\nimport { track } from \"@vercel/analytics\";\nimport type { AnalyticsEvent } from \"./types\";\n\n/**\n * Serialize properties to ensure they're compatible with Vercel Analytics\n */\nfunction serializeProperties(\n\tproperties?: Record<string, unknown>,\n): Record<string, string | number | boolean> | undefined {\n\tif (!properties) {\n\t\treturn;\n\t}\n\n\tconst serialized: Record<string, string | number | boolean> = {};\n\n\tfor (const [key, value] of Object.entries(properties)) {\n\t\tif (value === null || value === undefined) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (\n\t\t\ttypeof value === \"string\" ||\n\t\t\ttypeof value === \"number\" ||\n\t\t\ttypeof value === \"boolean\"\n\t\t) {\n\t\t\tserialized[key] = value;\n\t\t} else if (typeof value === \"object\") {\n\t\t\t// Serialize nested objects to JSON strings\n\t\t\ttry {\n\t\t\t\tserialized[key] = JSON.stringify(value);\n\t\t\t} catch {\n\t\t\t\t// Skip if can't serialize\n\t\t\t}\n\t\t}\n\t}\n\n\treturn serialized;\n}\n\n/**\n * Track an analytics event\n *\n * @example\n * trackEvent({\n *   name: \"job.created\",\n *   properties: {\n *     jobId: \"job-123\",\n *     customerId: \"cust-456\",\n *     estimatedValue: 5000\n *   }\n * });\n */\nexport function trackEvent(event: AnalyticsEvent): void {\n\ttry {\n\t\t// Extract event name and properties\n\t\tconst { name, properties } = event;\n\n\t\t// Serialize properties to ensure compatibility\n\t\tconst serializedProperties = serializeProperties(properties);\n\n\t\t// Track with Vercel Analytics\n\t\ttrack(name, serializedProperties);\n\t} catch {\n\t\t// Silently fail - analytics should never break the app\n\t\t// Errors are swallowed to prevent analytics from breaking user experience\n\t}\n}\n\n/**\n * Track multiple events in batch\n */\nfunction trackEvents(events: AnalyticsEvent[]): void {\n\tfor (const event of events) {\n\t\ttrackEvent(event);\n\t}\n}\n\n/**\n * Track a page view\n */\nexport function trackPageView(path: string, title?: string): void {\n\ttrackEvent({\n\t\tname: \"page.viewed\",\n\t\tproperties: {\n\t\t\tpath,\n\t\t\ttitle,\n\t\t\treferrer: typeof window !== \"undefined\" ? document.referrer : undefined,\n\t\t},\n\t});\n}\n\n/**\n * Track a custom event with type safety\n */\nexport function trackCustomEvent(\n\tname: string,\n\tproperties?: Record<string, unknown>,\n): void {\n\ttrackEvent({\n\t\tname: name as AnalyticsEvent[\"name\"],\n\t\tproperties,\n\t} as AnalyticsEvent);\n}\n"],"names":[],"mappings":"AAAA;;;;;CAKC;;;;;;;;AAID;AAFA;;AAKA;;CAEC,GACD,SAAS,oBACR,UAAoC;IAEpC,IAAI,CAAC,YAAY;QAChB;IACD;IAEA,MAAM,aAAwD,CAAC;IAE/D,KAAK,MAAM,CAAC,KAAK,MAAM,IAAI,OAAO,OAAO,CAAC,YAAa;QACtD,IAAI,UAAU,QAAQ,UAAU,WAAW;YAC1C;QACD;QAEA,IACC,OAAO,UAAU,YACjB,OAAO,UAAU,YACjB,OAAO,UAAU,WAChB;YACD,UAAU,CAAC,IAAI,GAAG;QACnB,OAAO,IAAI,OAAO,UAAU,UAAU;YACrC,2CAA2C;YAC3C,IAAI;gBACH,UAAU,CAAC,IAAI,GAAG,KAAK,SAAS,CAAC;YAClC,EAAE,OAAM;YACP,0BAA0B;YAC3B;QACD;IACD;IAEA,OAAO;AACR;AAeO,SAAS,WAAW,KAAqB;IAC/C,IAAI;QACH,oCAAoC;QACpC,MAAM,EAAE,IAAI,EAAE,UAAU,EAAE,GAAG;QAE7B,+CAA+C;QAC/C,MAAM,uBAAuB,oBAAoB;QAEjD,8BAA8B;QAC9B,IAAA,sYAAK,EAAC,MAAM;IACb,EAAE,OAAM;IACP,uDAAuD;IACvD,0EAA0E;IAC3E;AACD;AAEA;;CAEC,GACD,SAAS,YAAY,MAAwB;IAC5C,KAAK,MAAM,SAAS,OAAQ;QAC3B,WAAW;IACZ;AACD;AAKO,SAAS,cAAc,IAAY,EAAE,KAAc;IACzD,WAAW;QACV,MAAM;QACN,YAAY;YACX;YACA;YACA,UAAU,sCAAgC,0BAAoB;QAC/D;IACD;AACD;AAKO,SAAS,iBACf,IAAY,EACZ,UAAoC;IAEpC,WAAW;QACV,MAAM;QACN;IACD;AACD"}},
    {"offset": {"line": 130, "column": 0}, "map": {"version":3,"sources":["file:///Users/byronwade/Stratos/apps/web/src/lib/analytics/hooks.ts"],"sourcesContent":["/**\n * React Hooks for Analytics\n *\n * Easy-to-use hooks for tracking events in React components.\n */\n\n\"use client\";\n\nimport { usePathname } from \"next/navigation\";\nimport { useCallback, useEffect } from \"react\";\nimport { trackEvent, trackPageView } from \"./client\";\nimport type { AnalyticsEvent } from \"./types\";\n\n/**\n * Hook for tracking analytics events\n *\n * @example\n * const { track } = useAnalytics();\n *\n * track({\n *   name: \"job.created\",\n *   properties: { jobId: \"123\" }\n * });\n */\nexport function useAnalytics() {\n\tconst track = useCallback((event: AnalyticsEvent) => {\n\t\ttrackEvent(event);\n\t}, []);\n\n\treturn { track };\n}\n\n/**\n * Hook that automatically tracks page views\n *\n * @example\n * usePageView(); // Automatically tracks page views on route changes\n */\nexport function usePageView(): void {\n\tconst pathname = usePathname();\n\n\tuseEffect(() => {\n\t\tif (pathname) {\n\t\t\ttrackPageView(pathname, document.title);\n\t\t}\n\t}, [pathname]);\n}\n\n/**\n * Hook for tracking form events\n *\n * @example\n * const { trackFormStart, trackFormSubmit, trackFormAbandon } = useFormTracking(\"signup\");\n *\n * useEffect(() => {\n *   trackFormStart();\n *   return () => trackFormAbandon();\n * }, []);\n *\n * const handleSubmit = () => {\n *   trackFormSubmit({ success: true });\n * };\n */\nfunction useFormTracking(formType: string) {\n\tconst track = useCallback((event: AnalyticsEvent) => {\n\t\ttrackEvent(event);\n\t}, []);\n\n\tconst trackFormStart = useCallback(() => {\n\t\ttrack({\n\t\t\tname: \"form.started\",\n\t\t\tproperties: { formType },\n\t\t});\n\t}, [formType, track]);\n\n\tconst trackFormSubmit = useCallback(\n\t\t(properties?: { success?: boolean; errorCount?: number }) => {\n\t\t\ttrack({\n\t\t\t\tname: \"form.submitted\",\n\t\t\t\tproperties: {\n\t\t\t\t\tformType,\n\t\t\t\t\t...properties,\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t\t[formType, track],\n\t);\n\n\tconst trackFormAbandon = useCallback(\n\t\t(properties?: { fieldsCompleted?: number; totalFields?: number }) => {\n\t\t\ttrack({\n\t\t\t\tname: \"form.abandoned\",\n\t\t\t\tproperties: {\n\t\t\t\t\tformType,\n\t\t\t\t\t...properties,\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t\t[formType, track],\n\t);\n\n\tconst trackFieldFocus = useCallback(\n\t\t(fieldName: string) => {\n\t\t\ttrack({\n\t\t\t\tname: \"form.field_focused\",\n\t\t\t\tproperties: {\n\t\t\t\t\tformType,\n\t\t\t\t\tfieldName,\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t\t[formType, track],\n\t);\n\n\tconst trackValidationError = useCallback(\n\t\t(fieldName: string, errorType: string) => {\n\t\t\ttrack({\n\t\t\t\tname: \"form.validation_error\",\n\t\t\t\tproperties: {\n\t\t\t\t\tformType,\n\t\t\t\t\tfieldName,\n\t\t\t\t\terrorType,\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t\t[formType, track],\n\t);\n\n\treturn {\n\t\ttrackFormStart,\n\t\ttrackFormSubmit,\n\t\ttrackFormAbandon,\n\t\ttrackFieldFocus,\n\t\ttrackValidationError,\n\t};\n}\n\n/**\n * Hook for tracking feature usage\n *\n * @example\n * const { trackFeatureUse } = useFeatureTracking();\n *\n * trackFeatureUse(\"bulk_edit\", { itemCount: 10 });\n */\nexport function useFeatureTracking() {\n\tconst track = useCallback((event: AnalyticsEvent) => {\n\t\ttrackEvent(event);\n\t}, []);\n\n\tconst trackFeatureUse = useCallback(\n\t\t(\n\t\t\tfeatureName: string,\n\t\t\tproperties?: {\n\t\t\t\tfirstTime?: boolean;\n\t\t\t\tcontext?: string;\n\t\t\t},\n\t\t) => {\n\t\t\ttrack({\n\t\t\t\tname: \"feature.used\",\n\t\t\t\tproperties: {\n\t\t\t\t\tfeatureName,\n\t\t\t\t\t...properties,\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t\t[track],\n\t);\n\n\tconst trackFeatureDiscovery = useCallback(\n\t\t(\n\t\t\tfeatureName: string,\n\t\t\tsource: \"tooltip\" | \"tour\" | \"notification\" | \"search\",\n\t\t) => {\n\t\t\ttrack({\n\t\t\t\tname: \"feature.discovered\",\n\t\t\t\tproperties: {\n\t\t\t\t\tfeatureName,\n\t\t\t\t\tsource,\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t\t[track],\n\t);\n\n\treturn {\n\t\ttrackFeatureUse,\n\t\ttrackFeatureDiscovery,\n\t};\n}\n\n/**\n * Hook for tracking UI interactions\n *\n * @example\n * const { trackModalOpen, trackModalClose } = useUITracking();\n *\n * trackModalOpen(\"job-details\");\n */\nfunction useUITracking() {\n\tconst track = useCallback((event: AnalyticsEvent) => {\n\t\ttrackEvent(event);\n\t}, []);\n\n\tconst trackModalOpen = useCallback(\n\t\t(modalType: string, trigger?: string) => {\n\t\t\ttrack({\n\t\t\t\tname: \"ui.modal_opened\",\n\t\t\t\tproperties: {\n\t\t\t\t\tmodalType,\n\t\t\t\t\ttrigger,\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t\t[track],\n\t);\n\n\tconst trackModalClose = useCallback(\n\t\t(\n\t\t\tmodalType: string,\n\t\t\taction: \"submit\" | \"cancel\" | \"dismiss\",\n\t\t\tduration?: number,\n\t\t) => {\n\t\t\ttrack({\n\t\t\t\tname: \"ui.modal_closed\",\n\t\t\t\tproperties: {\n\t\t\t\t\tmodalType,\n\t\t\t\t\taction,\n\t\t\t\t\tduration,\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t\t[track],\n\t);\n\n\tconst trackTabSwitch = useCallback(\n\t\t(tabName: string, section?: string) => {\n\t\t\ttrack({\n\t\t\t\tname: \"ui.tab_switched\",\n\t\t\t\tproperties: {\n\t\t\t\t\ttabName,\n\t\t\t\t\tsection,\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t\t[track],\n\t);\n\n\treturn {\n\t\ttrackModalOpen,\n\t\ttrackModalClose,\n\t\ttrackTabSwitch,\n\t};\n}\n"],"names":[],"mappings":"AAAA;;;;CAIC;;;;;;;;AAID;AACA;AACA;AAJA;;;;AAkBO,SAAS;IACf,MAAM,QAAQ,IAAA,2XAAW,EAAC,CAAC;QAC1B,IAAA,8JAAU,EAAC;IACZ,GAAG,EAAE;IAEL,OAAO;QAAE;IAAM;AAChB;AAQO,SAAS;IACf,MAAM,WAAW,IAAA,wTAAW;IAE5B,IAAA,yXAAS,EAAC;QACT,IAAI,UAAU;YACb,IAAA,iKAAa,EAAC,UAAU,SAAS,KAAK;QACvC;IACD,GAAG;QAAC;KAAS;AACd;AAEA;;;;;;;;;;;;;;CAcC,GACD,SAAS,gBAAgB,QAAgB;IACxC,MAAM,QAAQ,IAAA,2XAAW,EAAC,CAAC;QAC1B,IAAA,8JAAU,EAAC;IACZ,GAAG,EAAE;IAEL,MAAM,iBAAiB,IAAA,2XAAW,EAAC;QAClC,MAAM;YACL,MAAM;YACN,YAAY;gBAAE;YAAS;QACxB;IACD,GAAG;QAAC;QAAU;KAAM;IAEpB,MAAM,kBAAkB,IAAA,2XAAW,EAClC,CAAC;QACA,MAAM;YACL,MAAM;YACN,YAAY;gBACX;gBACA,GAAG,UAAU;YACd;QACD;IACD,GACA;QAAC;QAAU;KAAM;IAGlB,MAAM,mBAAmB,IAAA,2XAAW,EACnC,CAAC;QACA,MAAM;YACL,MAAM;YACN,YAAY;gBACX;gBACA,GAAG,UAAU;YACd;QACD;IACD,GACA;QAAC;QAAU;KAAM;IAGlB,MAAM,kBAAkB,IAAA,2XAAW,EAClC,CAAC;QACA,MAAM;YACL,MAAM;YACN,YAAY;gBACX;gBACA;YACD;QACD;IACD,GACA;QAAC;QAAU;KAAM;IAGlB,MAAM,uBAAuB,IAAA,2XAAW,EACvC,CAAC,WAAmB;QACnB,MAAM;YACL,MAAM;YACN,YAAY;gBACX;gBACA;gBACA;YACD;QACD;IACD,GACA;QAAC;QAAU;KAAM;IAGlB,OAAO;QACN;QACA;QACA;QACA;QACA;IACD;AACD;AAUO,SAAS;IACf,MAAM,QAAQ,IAAA,2XAAW,EAAC,CAAC;QAC1B,IAAA,8JAAU,EAAC;IACZ,GAAG,EAAE;IAEL,MAAM,kBAAkB,IAAA,2XAAW,EAClC,CACC,aACA;QAKA,MAAM;YACL,MAAM;YACN,YAAY;gBACX;gBACA,GAAG,UAAU;YACd;QACD;IACD,GACA;QAAC;KAAM;IAGR,MAAM,wBAAwB,IAAA,2XAAW,EACxC,CACC,aACA;QAEA,MAAM;YACL,MAAM;YACN,YAAY;gBACX;gBACA;YACD;QACD;IACD,GACA;QAAC;KAAM;IAGR,OAAO;QACN;QACA;IACD;AACD;AAEA;;;;;;;CAOC,GACD,SAAS;IACR,MAAM,QAAQ,IAAA,2XAAW,EAAC,CAAC;QAC1B,IAAA,8JAAU,EAAC;IACZ,GAAG,EAAE;IAEL,MAAM,iBAAiB,IAAA,2XAAW,EACjC,CAAC,WAAmB;QACnB,MAAM;YACL,MAAM;YACN,YAAY;gBACX;gBACA;YACD;QACD;IACD,GACA;QAAC;KAAM;IAGR,MAAM,kBAAkB,IAAA,2XAAW,EAClC,CACC,WACA,QACA;QAEA,MAAM;YACL,MAAM;YACN,YAAY;gBACX;gBACA;gBACA;YACD;QACD;IACD,GACA;QAAC;KAAM;IAGR,MAAM,iBAAiB,IAAA,2XAAW,EACjC,CAAC,SAAiB;QACjB,MAAM;YACL,MAAM;YACN,YAAY;gBACX;gBACA;YACD;QACD;IACD,GACA;QAAC;KAAM;IAGR,OAAO;QACN;QACA;QACA;IACD;AACD"}},
    {"offset": {"line": 339, "column": 0}, "map": {"version":3,"sources":["file:///Users/byronwade/Stratos/apps/web/src/components/providers/analytics-provider.tsx"],"sourcesContent":["/**\n * Analytics Provider\n *\n * Provides automatic page view tracking and analytics context.\n * Should be added to the root layout.\n */\n\n\"use client\";\n\nimport { usePageView } from \"@/lib/analytics/hooks\";\n\nexport function AnalyticsProvider({ children }: { children: React.ReactNode }) {\n\t// Automatically track page views\n\tusePageView();\n\n\treturn <>{children}</>;\n}\n"],"names":[],"mappings":"AAAA;;;;;CAKC;;;;;AAID;AAFA;;;AAIO,SAAS,kBAAkB,EAAE,QAAQ,EAAiC;IAC5E,iCAAiC;IACjC,IAAA,8JAAW;IAEX,qBAAO;kBAAG;;AACX"}},
    {"offset": {"line": 364, "column": 0}, "map": {"version":3,"sources":["file:///Users/byronwade/Stratos/apps/web/src/components/providers/theme-provider.tsx"],"sourcesContent":["\"use client\";\n\nimport type { ThemeProviderProps } from \"next-themes\";\nimport { ThemeProvider as NextThemesProvider } from \"next-themes\";\n\nexport function ThemeProvider({ children, ...props }: ThemeProviderProps) {\n\treturn (\n\t\t<NextThemesProvider\n\t\t\tattribute=\"class\"\n\t\t\tdefaultTheme=\"dark\"\n\t\t\tdisableTransitionOnChange\n\t\t\tenableSystem\n\t\t\t{...props}\n\t\t>\n\t\t\t{children}\n\t\t</NextThemesProvider>\n\t);\n}\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAKO,SAAS,cAAc,EAAE,QAAQ,EAAE,GAAG,OAA2B;IACvE,qBACC,qZAAC,ySAAkB;QAClB,WAAU;QACV,cAAa;QACb,yBAAyB;QACzB,YAAY;QACX,GAAG,KAAK;kBAER;;;;;;AAGJ"}},
    {"offset": {"line": 391, "column": 0}, "map": {"version":3,"sources":["file:///Users/byronwade/Stratos/apps/web/src/components/providers/toast-provider.tsx"],"sourcesContent":["\"use client\";\n\n/**\n * Toast Provider - Sonner Toast Notifications\n *\n * Provides toast notifications across the entire application.\n * Automatically themed to match the current theme (light/dark).\n */\n\nimport { useTheme } from \"next-themes\";\nimport { Toaster } from \"sonner\";\n\nexport function ToastProvider() {\n\tconst { theme } = useTheme();\n\n\treturn (\n\t\t<Toaster\n\t\t\tcloseButton\n\t\t\texpand={false}\n\t\t\toffset=\"72px\"\n\t\t\tposition=\"top-right\"\n\t\t\trichColors\n\t\t\ttheme={theme === \"dark\" ? \"dark\" : \"light\"}\n\t\t\ttoastOptions={{\n\t\t\t\tclassNames: {\n\t\t\t\t\ttoast:\n\t\t\t\t\t\t\"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg\",\n\t\t\t\t\tdescription: \"group-[.toast]:text-muted-foreground\",\n\t\t\t\t\tactionButton:\n\t\t\t\t\t\t\"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground\",\n\t\t\t\t\tcancelButton:\n\t\t\t\t\t\t\"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground\",\n\t\t\t\t},\n\t\t\t}}\n\t\t/>\n\t);\n}\n"],"names":[],"mappings":";;;;;AAEA;;;;;CAKC,GAED;AACA;AAVA;;;;AAYO,SAAS;IACf,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,oSAAQ;IAE1B,qBACC,qZAAC,mRAAO;QACP,WAAW;QACX,QAAQ;QACR,QAAO;QACP,UAAS;QACT,UAAU;QACV,OAAO,UAAU,SAAS,SAAS;QACnC,cAAc;YACb,YAAY;gBACX,OACC;gBACD,aAAa;gBACb,cACC;gBACD,cACC;YACF;QACD;;;;;;AAGH"}},
    {"offset": {"line": 434, "column": 0}, "map": {"version":3,"sources":["file:///Users/byronwade/Stratos/apps/web/src/types/roles.ts"],"sourcesContent":["/**\n * Role Type Definitions\n *\n * Defines all user roles in the system with their permissions and capabilities\n */\n\nexport const USER_ROLES = {\n\tOWNER: \"owner\",\n\tDISPATCHER: \"dispatcher\",\n\tMANAGER: \"manager\",\n\tTECHNICIAN: \"technician\",\n\tCSR: \"csr\", // Customer Service Representative\n\tADMIN: \"admin\",\n} as const;\n\nexport type UserRole = (typeof USER_ROLES)[keyof typeof USER_ROLES];\n\nexport type RoleConfig = {\n\tid: UserRole;\n\tlabel: string;\n\tdescription: string;\n\tcolor: string;\n\tpermissions: string[];\n\tdashboardFeatures: string[];\n};\n\nconst ROLE_CONFIGS: Record<UserRole, RoleConfig> = {\n\t[USER_ROLES.OWNER]: {\n\t\tid: \"owner\",\n\t\tlabel: \"Owner\",\n\t\tdescription:\n\t\t\t\"Full system access with focus on business financials and growth\",\n\t\tcolor: \"purple\",\n\t\tpermissions: [\"*\"],\n\t\tdashboardFeatures: [\n\t\t\t\"financial-overview\",\n\t\t\t\"profit-margins\",\n\t\t\t\"cash-flow\",\n\t\t\t\"business-growth\",\n\t\t\t\"payroll-overview\",\n\t\t\t\"all-reports\",\n\t\t],\n\t},\n\t[USER_ROLES.DISPATCHER]: {\n\t\tid: \"dispatcher\",\n\t\tlabel: \"Dispatcher\",\n\t\tdescription:\n\t\t\t\"Manage technician schedules, job assignments, and real-time operations\",\n\t\tcolor: \"blue\",\n\t\tpermissions: [\n\t\t\t\"view-schedule\",\n\t\t\t\"manage-assignments\",\n\t\t\t\"view-technicians\",\n\t\t\t\"dispatch-jobs\",\n\t\t\t\"view-customers\",\n\t\t],\n\t\tdashboardFeatures: [\n\t\t\t\"dispatch-map\",\n\t\t\t\"technician-locations\",\n\t\t\t\"unassigned-jobs\",\n\t\t\t\"emergency-queue\",\n\t\t\t\"quick-dispatch\",\n\t\t\t\"tech-status\",\n\t\t],\n\t},\n\t[USER_ROLES.MANAGER]: {\n\t\tid: \"manager\",\n\t\tlabel: \"Manager\",\n\t\tdescription:\n\t\t\t\"Oversee team performance, customer satisfaction, and operations\",\n\t\tcolor: \"green\",\n\t\tpermissions: [\n\t\t\t\"view-reports\",\n\t\t\t\"manage-team\",\n\t\t\t\"view-customers\",\n\t\t\t\"handle-escalations\",\n\t\t\t\"view-financials\",\n\t\t],\n\t\tdashboardFeatures: [\n\t\t\t\"team-performance\",\n\t\t\t\"customer-satisfaction\",\n\t\t\t\"callback-queue\",\n\t\t\t\"review-alerts\",\n\t\t\t\"kpi-tracking\",\n\t\t\t\"inventory-management\",\n\t\t],\n\t},\n\t[USER_ROLES.TECHNICIAN]: {\n\t\tid: \"technician\",\n\t\tlabel: \"Technician\",\n\t\tdescription:\n\t\t\t\"View assigned jobs, update job status, and track personal performance\",\n\t\tcolor: \"orange\",\n\t\tpermissions: [\n\t\t\t\"view-my-schedule\",\n\t\t\t\"update-job-status\",\n\t\t\t\"view-job-details\",\n\t\t\t\"upload-photos\",\n\t\t\t\"create-invoices\",\n\t\t],\n\t\tdashboardFeatures: [\n\t\t\t\"my-schedule\",\n\t\t\t\"active-job\",\n\t\t\t\"my-earnings\",\n\t\t\t\"my-performance\",\n\t\t\t\"parts-inventory\",\n\t\t\t\"time-tracking\",\n\t\t],\n\t},\n\t[USER_ROLES.CSR]: {\n\t\tid: \"csr\",\n\t\tlabel: \"Customer Service Rep\",\n\t\tdescription:\n\t\t\t\"Handle customer calls, schedule appointments, and manage customer relationships\",\n\t\tcolor: \"pink\",\n\t\tpermissions: [\n\t\t\t\"view-customers\",\n\t\t\t\"create-jobs\",\n\t\t\t\"schedule-appointments\",\n\t\t\t\"view-schedule\",\n\t\t\t\"send-communications\",\n\t\t],\n\t\tdashboardFeatures: [\n\t\t\t\"call-queue\",\n\t\t\t\"booking-calendar\",\n\t\t\t\"customer-search\",\n\t\t\t\"follow-up-queue\",\n\t\t\t\"estimate-pipeline\",\n\t\t\t\"call-scripts\",\n\t\t],\n\t},\n\t[USER_ROLES.ADMIN]: {\n\t\tid: \"admin\",\n\t\tlabel: \"Admin\",\n\t\tdescription: \"System administration and configuration\",\n\t\tcolor: \"red\",\n\t\tpermissions: [\"*\"],\n\t\tdashboardFeatures: [\n\t\t\t\"system-settings\",\n\t\t\t\"user-management\",\n\t\t\t\"integrations\",\n\t\t\t\"audit-logs\",\n\t\t],\n\t},\n};\n\nfunction getRoleConfig(role: UserRole): RoleConfig {\n\treturn ROLE_CONFIGS[role];\n}\n\nfunction hasPermission(role: UserRole, permission: string): boolean {\n\tconst config = getRoleConfig(role);\n\treturn (\n\t\tconfig.permissions.includes(\"*\") || config.permissions.includes(permission)\n\t);\n}\n"],"names":[],"mappings":"AAAA;;;;CAIC;;;;AAEM,MAAM,aAAa;IACzB,OAAO;IACP,YAAY;IACZ,SAAS;IACT,YAAY;IACZ,KAAK;IACL,OAAO;AACR;AAaA,MAAM,eAA6C;IAClD,CAAC,WAAW,KAAK,CAAC,EAAE;QACnB,IAAI;QACJ,OAAO;QACP,aACC;QACD,OAAO;QACP,aAAa;YAAC;SAAI;QAClB,mBAAmB;YAClB;YACA;YACA;YACA;YACA;YACA;SACA;IACF;IACA,CAAC,WAAW,UAAU,CAAC,EAAE;QACxB,IAAI;QACJ,OAAO;QACP,aACC;QACD,OAAO;QACP,aAAa;YACZ;YACA;YACA;YACA;YACA;SACA;QACD,mBAAmB;YAClB;YACA;YACA;YACA;YACA;YACA;SACA;IACF;IACA,CAAC,WAAW,OAAO,CAAC,EAAE;QACrB,IAAI;QACJ,OAAO;QACP,aACC;QACD,OAAO;QACP,aAAa;YACZ;YACA;YACA;YACA;YACA;SACA;QACD,mBAAmB;YAClB;YACA;YACA;YACA;YACA;YACA;SACA;IACF;IACA,CAAC,WAAW,UAAU,CAAC,EAAE;QACxB,IAAI;QACJ,OAAO;QACP,aACC;QACD,OAAO;QACP,aAAa;YACZ;YACA;YACA;YACA;YACA;SACA;QACD,mBAAmB;YAClB;YACA;YACA;YACA;YACA;YACA;SACA;IACF;IACA,CAAC,WAAW,GAAG,CAAC,EAAE;QACjB,IAAI;QACJ,OAAO;QACP,aACC;QACD,OAAO;QACP,aAAa;YACZ;YACA;YACA;YACA;YACA;SACA;QACD,mBAAmB;YAClB;YACA;YACA;YACA;YACA;YACA;SACA;IACF;IACA,CAAC,WAAW,KAAK,CAAC,EAAE;QACnB,IAAI;QACJ,OAAO;QACP,aAAa;QACb,OAAO;QACP,aAAa;YAAC;SAAI;QAClB,mBAAmB;YAClB;YACA;YACA;YACA;SACA;IACF;AACD;AAEA,SAAS,cAAc,IAAc;IACpC,OAAO,YAAY,CAAC,KAAK;AAC1B;AAEA,SAAS,cAAc,IAAc,EAAE,UAAkB;IACxD,MAAM,SAAS,cAAc;IAC7B,OACC,OAAO,WAAW,CAAC,QAAQ,CAAC,QAAQ,OAAO,WAAW,CAAC,QAAQ,CAAC;AAElE"}},
    {"offset": {"line": 579, "column": 0}, "map": {"version":3,"sources":["file:///Users/byronwade/Stratos/apps/web/src/lib/stores/role-store.ts"],"sourcesContent":["/**\n * Role Store - Zustand State Management\n *\n * Performance optimizations:\n * - Lightweight state management with Zustand\n * - No provider wrapper needed\n * - Automatic localStorage persistence for development mode\n * - Selective subscriptions prevent unnecessary re-renders\n *\n * Manages user role state with two modes:\n * 1. Development: localStorage override for testing different roles\n * 2. Production: Fetches actual role from database\n *\n * The store checks localStorage first (dev mode), then falls back to DB role.\n */\n\nimport { create } from \"zustand\";\nimport { devtools, persist } from \"zustand/middleware\";\nimport type { UserRole } from \"@/types/roles\";\nimport { USER_ROLES } from \"@/types/roles\";\n\ntype RoleStore = {\n\trole: UserRole;\n\tisLoading: boolean;\n\tisDevelopmentOverride: boolean; // True if using dev mode override\n\tactualRole: UserRole | null; // Role from database\n\tsetRole: (role: UserRole) => void;\n\tsetActualRole: (role: UserRole | null) => void;\n\tclearDevelopmentOverride: () => void;\n\treset: () => void;\n};\n\nconst initialState = {\n\trole: USER_ROLES.OWNER as UserRole,\n\tisLoading: false,\n\tisDevelopmentOverride: false,\n\tactualRole: null,\n};\n\n/**\n * Check if we're in development mode\n */\nconst isDevelopment = process.env.NODE_ENV === \"development\";\n\nexport const useRoleStore = create<RoleStore>()(\n\tdevtools(\n\t\tpersist(\n\t\t\t(set, get) => ({\n\t\t\t\t...initialState,\n\n\t\t\t\t/**\n\t\t\t\t * Set role (development mode override)\n\t\t\t\t * This is used by the development settings page\n\t\t\t\t */\n\t\t\t\tsetRole: (role) =>\n\t\t\t\t\tset({\n\t\t\t\t\t\trole,\n\t\t\t\t\t\tisDevelopmentOverride: true,\n\t\t\t\t\t}),\n\n\t\t\t\t/**\n\t\t\t\t * Set actual role from database\n\t\t\t\t * This is set when fetching user's real role\n\t\t\t\t */\n\t\t\t\tsetActualRole: (actualRole) => {\n\t\t\t\t\tconst state = get();\n\n\t\t\t\t\t// If no development override, use actual role\n\t\t\t\t\tif (state.isDevelopmentOverride && isDevelopment) {\n\t\t\t\t\t\t// Keep development override but store actual role\n\t\t\t\t\t\tset({ actualRole });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tset({\n\t\t\t\t\t\t\tactualRole,\n\t\t\t\t\t\t\trole: actualRole || USER_ROLES.OWNER,\n\t\t\t\t\t\t\tisDevelopmentOverride: false,\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t/**\n\t\t\t\t * Clear development override and use actual role\n\t\t\t\t */\n\t\t\t\tclearDevelopmentOverride: () => {\n\t\t\t\t\tconst state = get();\n\t\t\t\t\tset({\n\t\t\t\t\t\trole: state.actualRole || USER_ROLES.OWNER,\n\t\t\t\t\t\tisDevelopmentOverride: false,\n\t\t\t\t\t});\n\t\t\t\t},\n\n\t\t\t\treset: () => set(initialState),\n\t\t\t}),\n\t\t\t{\n\t\t\t\tname: \"thorbis_dev_role\", // localStorage key\n\t\t\t\tskipHydration: true, // CRITICAL: Prevents hydration mismatch with Next.js 16\n\t\t\t\tpartialize: (state) => ({\n\t\t\t\t\t// Only persist in development mode\n\t\t\t\t\trole: isDevelopment ? state.role : undefined,\n\t\t\t\t\tisDevelopmentOverride: isDevelopment\n\t\t\t\t\t\t? state.isDevelopmentOverride\n\t\t\t\t\t\t: false,\n\t\t\t\t}),\n\t\t\t},\n\t\t),\n\t\t{ name: \"RoleStore\" }, // DevTools name\n\t),\n);\n\n/**\n * Hook to initialize role from database\n * Call this in layout or auth wrapper to sync role\n *\n * @example\n * ```typescript\n * // In layout or auth provider\n * import { initializeRoleFromDatabase } from '@/lib/stores/role-store';\n *\n * useEffect(() => {\n *   initializeRoleFromDatabase();\n * }, []);\n * ```\n */\nasync function initializeRoleFromDatabase() {\n\ttry {\n\t\t// Import dynamically to avoid circular dependencies\n\t\tconst { getCurrentUserRole } = await import(\"@/actions/roles\");\n\n\t\tconst result = await getCurrentUserRole();\n\n\t\tif (result.success && result.data) {\n\t\t\tuseRoleStore.getState().setActualRole(result.data);\n\t\t}\n\t} catch (_error) {}\n}\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;CAcC;;;;AAED;AACA;AAEA;;;;AAaA,MAAM,eAAe;IACpB,MAAM,kJAAU,CAAC,KAAK;IACtB,WAAW;IACX,uBAAuB;IACvB,YAAY;AACb;AAEA;;CAEC,GACD,MAAM,gBAAgB,oDAAyB;AAExC,MAAM,eAAe,IAAA,4VAAM,IACjC,IAAA,mWAAQ,EACP,IAAA,kWAAO,EACN,CAAC,KAAK,MAAQ,CAAC;QACd,GAAG,YAAY;QAEf;;;KAGC,GACD,SAAS,CAAC,OACT,IAAI;gBACH;gBACA,uBAAuB;YACxB;QAED;;;KAGC,GACD,eAAe,CAAC;YACf,MAAM,QAAQ;YAEd,8CAA8C;YAC9C,IAAI,MAAM,qBAAqB,IAAI,eAAe;gBACjD,kDAAkD;gBAClD,IAAI;oBAAE;gBAAW;YAClB,OAAO;gBACN,IAAI;oBACH;oBACA,MAAM,cAAc,kJAAU,CAAC,KAAK;oBACpC,uBAAuB;gBACxB;YACD;QACD;QAEA;;KAEC,GACD,0BAA0B;YACzB,MAAM,QAAQ;YACd,IAAI;gBACH,MAAM,MAAM,UAAU,IAAI,kJAAU,CAAC,KAAK;gBAC1C,uBAAuB;YACxB;QACD;QAEA,OAAO,IAAM,IAAI;IAClB,CAAC,GACD;IACC,MAAM;IACN,eAAe;IACf,YAAY,CAAC,QAAU,CAAC;YACvB,mCAAmC;YACnC,MAAM,uCAAgB,MAAM,IAAI,GAAG;YACnC,uBAAuB,uCACpB,MAAM,qBAAqB,GAC3B;QACJ,CAAC;AACF,IAED;IAAE,MAAM;AAAY;AAItB;;;;;;;;;;;;;CAaC,GACD,eAAe;IACd,IAAI;QACH,oDAAoD;QACpD,MAAM,EAAE,kBAAkB,EAAE,GAAG;QAE/B,MAAM,SAAS,MAAM;QAErB,IAAI,OAAO,OAAO,IAAI,OAAO,IAAI,EAAE;YAClC,aAAa,QAAQ,GAAG,aAAa,CAAC,OAAO,IAAI;QAClD;IACD,EAAE,OAAO,QAAQ,CAAC;AACnB"}},
    {"offset": {"line": 688, "column": 0}, "map": {"version":3,"sources":["file:///Users/byronwade/Stratos/apps/web/src/lib/stores/schedule-view-store.ts"],"sourcesContent":["/**\n * Schedule View Store - Zustand State Management\n * Optimized for timeline-only view with performant infinite scroll\n */\n\nimport { create } from \"zustand\";\nimport { devtools, persist } from \"zustand/middleware\";\n\ntype TimelineViewMode = \"day\" | \"week\" | \"month\" | \"list\" | \"map\";\ntype TimelineZoomLevel = 15 | 30 | 60;\n\n// Buffer configuration for infinite scroll (PERFORMANCE TUNED)\nconst BUFFER_DAYS_BEFORE = 3; // Initial days to load before current date\nconst BUFFER_DAYS_AFTER = 3; // Initial days to load after current date\nconst EXTEND_DAYS = 3; // Days to add when extending buffer (reduces state updates)\nconst MAX_BUFFER_DAYS = 14; // Maximum buffer size before trimming (prevents memory bloat)\n\ntype ScheduleViewStore = {\n\tviewMode: TimelineViewMode;\n\tcurrentDate: Date;\n\tzoomLevel: TimelineZoomLevel;\n\tshowTravelTime: boolean;\n\tshowCapacity: boolean;\n\t// Infinite scroll buffer state\n\tbufferStartDate: Date;\n\tbufferEndDate: Date;\n\tsetViewMode: (mode: TimelineViewMode) => void;\n\tsetCurrentDate: (date: Date) => void;\n\tsetZoomLevel: (level: TimelineZoomLevel) => void;\n\ttoggleTravelTime: () => void;\n\ttoggleCapacity: () => void;\n\tgoToToday: () => void;\n\tnavigatePrevious: () => void;\n\tnavigateNext: () => void;\n\t// Buffer management for infinite scroll\n\textendBufferLeft: () => void;\n\textendBufferRight: () => void;\n\ttrimBuffer: (centerDate: Date) => void;\n\tresetBuffer: () => void;\n\treset: () => void;\n};\n\n// Detect mobile viewport and set default view accordingly\n// List view is more mobile-friendly than day view\nconst getDefaultViewMode = (): TimelineViewMode => {\n\tif (typeof window === \"undefined\") return \"day\"; // SSR fallback\n\treturn window.innerWidth < 768 ? \"list\" : \"day\";\n};\n\n// Helper to create buffer dates around a center date\nconst createBufferDates = (centerDate: Date) => {\n\tconst start = new Date(centerDate);\n\tstart.setDate(start.getDate() - BUFFER_DAYS_BEFORE);\n\tstart.setHours(0, 0, 0, 0);\n\n\tconst end = new Date(centerDate);\n\tend.setDate(end.getDate() + BUFFER_DAYS_AFTER);\n\tend.setHours(23, 59, 59, 999);\n\n\treturn { bufferStartDate: start, bufferEndDate: end };\n};\n\nconst now = new Date();\nconst { bufferStartDate, bufferEndDate } = createBufferDates(now);\n\nconst initialState = {\n\tviewMode: getDefaultViewMode(),\n\tcurrentDate: new Date(),\n\tzoomLevel: 30 as TimelineZoomLevel, // 30-minute intervals default\n\tshowTravelTime: true,\n\tshowCapacity: true,\n\tbufferStartDate,\n\tbufferEndDate,\n};\n\nexport const useScheduleViewStore = create<ScheduleViewStore>()(\n\tdevtools(\n\t\tpersist(\n\t\t\t(set, get) => ({\n\t\t\t\t...initialState,\n\n\t\t\t\tsetViewMode: (mode) => set({ viewMode: mode }),\n\n\t\t\t\tsetCurrentDate: (date) => {\n\t\t\t\t\t// Update buffer when current date changes\n\t\t\t\t\tconst { bufferStartDate, bufferEndDate } = createBufferDates(date);\n\t\t\t\t\tset({ currentDate: date, bufferStartDate, bufferEndDate });\n\t\t\t\t},\n\n\t\t\t\tsetZoomLevel: (level) => set({ zoomLevel: level }),\n\n\t\t\t\ttoggleTravelTime: () =>\n\t\t\t\t\tset((state) => ({ showTravelTime: !state.showTravelTime })),\n\n\t\t\t\ttoggleCapacity: () =>\n\t\t\t\t\tset((state) => ({ showCapacity: !state.showCapacity })),\n\n\t\t\t\tgoToToday: () => {\n\t\t\t\t\tconst today = new Date();\n\t\t\t\t\tconst { bufferStartDate, bufferEndDate } = createBufferDates(today);\n\t\t\t\t\tset({ currentDate: today, bufferStartDate, bufferEndDate });\n\t\t\t\t},\n\n\t\t\t\tnavigatePrevious: () => {\n\t\t\t\t\tconst { currentDate, viewMode } = get();\n\t\t\t\t\tconst newDate = new Date(currentDate);\n\t\t\t\t\tif (viewMode === \"day\" || viewMode === \"list\") {\n\t\t\t\t\t\tnewDate.setDate(newDate.getDate() - 1);\n\t\t\t\t\t} else if (viewMode === \"week\") {\n\t\t\t\t\t\tnewDate.setDate(newDate.getDate() - 7);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnewDate.setMonth(newDate.getMonth() - 1);\n\t\t\t\t\t}\n\t\t\t\t\tconst { bufferStartDate, bufferEndDate } = createBufferDates(newDate);\n\t\t\t\t\tset({ currentDate: newDate, bufferStartDate, bufferEndDate });\n\t\t\t\t},\n\n\t\t\t\tnavigateNext: () => {\n\t\t\t\t\tconst { currentDate, viewMode } = get();\n\t\t\t\t\tconst newDate = new Date(currentDate);\n\t\t\t\t\tif (viewMode === \"day\" || viewMode === \"list\") {\n\t\t\t\t\t\tnewDate.setDate(newDate.getDate() + 1);\n\t\t\t\t\t} else if (viewMode === \"week\") {\n\t\t\t\t\t\tnewDate.setDate(newDate.getDate() + 7);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnewDate.setMonth(newDate.getMonth() + 1);\n\t\t\t\t\t}\n\t\t\t\t\tconst { bufferStartDate, bufferEndDate } = createBufferDates(newDate);\n\t\t\t\t\tset({ currentDate: newDate, bufferStartDate, bufferEndDate });\n\t\t\t\t},\n\n\t\t\t\t// Extend buffer to the left (earlier dates) for infinite scroll\n\t\t\t\t// Extends by EXTEND_DAYS at once to reduce state update frequency\n\t\t\t\textendBufferLeft: () => {\n\t\t\t\t\tconst { bufferStartDate, bufferEndDate } = get();\n\t\t\t\t\tconst newStart = new Date(bufferStartDate);\n\t\t\t\t\tnewStart.setDate(newStart.getDate() - EXTEND_DAYS);\n\n\t\t\t\t\t// Check if buffer would exceed max size, trim from right if so\n\t\t\t\t\tconst totalDays = Math.ceil((bufferEndDate.getTime() - newStart.getTime()) / (1000 * 60 * 60 * 24));\n\t\t\t\t\tif (totalDays > MAX_BUFFER_DAYS) {\n\t\t\t\t\t\tconst newEnd = new Date(bufferEndDate);\n\t\t\t\t\t\tnewEnd.setDate(newEnd.getDate() - (totalDays - MAX_BUFFER_DAYS));\n\t\t\t\t\t\tset({ bufferStartDate: newStart, bufferEndDate: newEnd });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tset({ bufferStartDate: newStart });\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t// Extend buffer to the right (later dates) for infinite scroll\n\t\t\t\t// Extends by EXTEND_DAYS at once to reduce state update frequency\n\t\t\t\textendBufferRight: () => {\n\t\t\t\t\tconst { bufferStartDate, bufferEndDate } = get();\n\t\t\t\t\tconst newEnd = new Date(bufferEndDate);\n\t\t\t\t\tnewEnd.setDate(newEnd.getDate() + EXTEND_DAYS);\n\n\t\t\t\t\t// Check if buffer would exceed max size, trim from left if so\n\t\t\t\t\tconst totalDays = Math.ceil((newEnd.getTime() - bufferStartDate.getTime()) / (1000 * 60 * 60 * 24));\n\t\t\t\t\tif (totalDays > MAX_BUFFER_DAYS) {\n\t\t\t\t\t\tconst newStart = new Date(bufferStartDate);\n\t\t\t\t\t\tnewStart.setDate(newStart.getDate() + (totalDays - MAX_BUFFER_DAYS));\n\t\t\t\t\t\tset({ bufferStartDate: newStart, bufferEndDate: newEnd });\n\t\t\t\t\t} else {\n\t\t\t\t\t\tset({ bufferEndDate: newEnd });\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t// Trim buffer to MAX_BUFFER_DAYS centered around the given date\n\t\t\t\ttrimBuffer: (centerDate: Date) => {\n\t\t\t\t\tconst { bufferStartDate, bufferEndDate } = get();\n\t\t\t\t\tconst totalDays = Math.ceil((bufferEndDate.getTime() - bufferStartDate.getTime()) / (1000 * 60 * 60 * 24));\n\n\t\t\t\t\tif (totalDays <= MAX_BUFFER_DAYS) return;\n\n\t\t\t\t\tconst halfMax = Math.floor(MAX_BUFFER_DAYS / 2);\n\t\t\t\t\tconst newStart = new Date(centerDate);\n\t\t\t\t\tnewStart.setDate(newStart.getDate() - halfMax);\n\t\t\t\t\tnewStart.setHours(0, 0, 0, 0);\n\n\t\t\t\t\tconst newEnd = new Date(centerDate);\n\t\t\t\t\tnewEnd.setDate(newEnd.getDate() + halfMax);\n\t\t\t\t\tnewEnd.setHours(23, 59, 59, 999);\n\n\t\t\t\t\tset({ bufferStartDate: newStart, bufferEndDate: newEnd });\n\t\t\t\t},\n\n\t\t\t\t// Reset buffer to default around current date\n\t\t\t\tresetBuffer: () => {\n\t\t\t\t\tconst { currentDate } = get();\n\t\t\t\t\tconst { bufferStartDate, bufferEndDate } = createBufferDates(currentDate);\n\t\t\t\t\tset({ bufferStartDate, bufferEndDate });\n\t\t\t\t},\n\n\t\t\t\treset: () => set(initialState),\n\t\t\t}),\n\t\t\t{\n\t\t\t\tname: \"schedule-view-store\",\n\t\t\t\tskipHydration: true, // CRITICAL: Prevents hydration mismatch with Next.js 16\n\t\t\t\t// Don't persist buffer dates - they should be recalculated on load\n\t\t\t\tpartialize: (state) => ({\n\t\t\t\t\tviewMode: state.viewMode,\n\t\t\t\t\tcurrentDate: state.currentDate,\n\t\t\t\t\tzoomLevel: state.zoomLevel,\n\t\t\t\t\tshowTravelTime: state.showTravelTime,\n\t\t\t\t\tshowCapacity: state.showCapacity,\n\t\t\t\t}),\n\t\t\t},\n\t\t),\n\t\t{ name: \"ScheduleViewStore\" },\n\t),\n);\n\n// Export types\nexport type { TimelineViewMode, TimelineZoomLevel };\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 888, "column": 0}, "map": {"version":3,"sources":["file:///Users/byronwade/Stratos/apps/web/src/lib/stores/sidebar-state-store.ts"],"sourcesContent":["/**\n * Sidebar State Store - Zustand State Management\n *\n * Performance optimizations:\n * - Lightweight state management with Zustand\n * - No provider wrapper needed\n * - Page-specific sidebar state for tailored UX\n * - Persists preferences per route in localStorage\n *\n * This store manages both LEFT and RIGHT sidebar open/closed state on a per-page basis.\n * Each route can have its own sidebar states, allowing users to:\n * - Close sidebar on schedule page for more calendar space\n * - Keep sidebar open on settings for easy navigation\n * - Toggle right sidebar on invoice/pricebook pages\n * - Customize workspace per context\n */\n\nimport { create } from \"zustand\";\nimport { devtools, persist } from \"zustand/middleware\";\n\n// ============================================================================\n// Types and Definitions\n// ============================================================================\n\n/**\n * Sidebar state per page/route\n * Key: route path (e.g., \"/dashboard/work/invoices\")\n * Value: boolean (true = open, false = closed)\n */\ntype SidebarStates = Record<string, boolean>;\n\ntype SidebarStateStore = {\n\t// Left sidebar state per route\n\tsidebarStates: SidebarStates;\n\n\t// Right sidebar state per route\n\trightSidebarStates: SidebarStates;\n\n\t// Left sidebar methods\n\tgetSidebarState: (route: string) => boolean;\n\tsetSidebarState: (route: string, isOpen: boolean) => void;\n\ttoggleSidebarState: (route: string) => void;\n\n\t// Right sidebar methods\n\tgetRightSidebarState: (route: string, defaultOpen?: boolean) => boolean;\n\tsetRightSidebarState: (route: string, isOpen: boolean) => void;\n\ttoggleRightSidebarState: (route: string) => void;\n\n\t// Reset methods\n\tresetAllStates: () => void;\n\tresetRouteState: (route: string) => void;\n};\n\n// ============================================================================\n// Initial State\n// ============================================================================\n\nconst initialState = {\n\tsidebarStates: {},\n\trightSidebarStates: {},\n};\n\n// ============================================================================\n// Create Store\n// ============================================================================\n\nexport const useSidebarStateStore = create<SidebarStateStore>()(\n\tdevtools(\n\t\tpersist(\n\t\t\t(set, get) => ({\n\t\t\t\t...initialState,\n\n\t\t\t\t// Left sidebar methods\n\t\t\t\tgetSidebarState: (route) => {\n\t\t\t\t\tconst states = get().sidebarStates;\n\t\t\t\t\t// Default to true (open) if not set\n\t\t\t\t\treturn states[route] ?? true;\n\t\t\t\t},\n\n\t\t\t\tsetSidebarState: (route, isOpen) => {\n\t\t\t\t\tset((state) => ({\n\t\t\t\t\t\tsidebarStates: {\n\t\t\t\t\t\t\t...state.sidebarStates,\n\t\t\t\t\t\t\t[route]: isOpen,\n\t\t\t\t\t\t},\n\t\t\t\t\t}));\n\t\t\t\t},\n\n\t\t\t\ttoggleSidebarState: (route) => {\n\t\t\t\t\tconst currentState = get().getSidebarState(route);\n\t\t\t\t\tget().setSidebarState(route, !currentState);\n\t\t\t\t},\n\n\t\t\t\t// Right sidebar methods\n\t\t\t\tgetRightSidebarState: (route, defaultOpen = true) => {\n\t\t\t\t\tconst states = get().rightSidebarStates;\n\t\t\t\t\t// Default to true (open) if not set, unless specified otherwise\n\t\t\t\t\treturn states[route] ?? defaultOpen;\n\t\t\t\t},\n\n\t\t\t\tsetRightSidebarState: (route, isOpen) => {\n\t\t\t\t\tset((state) => ({\n\t\t\t\t\t\trightSidebarStates: {\n\t\t\t\t\t\t\t...state.rightSidebarStates,\n\t\t\t\t\t\t\t[route]: isOpen,\n\t\t\t\t\t\t},\n\t\t\t\t\t}));\n\t\t\t\t},\n\n\t\t\t\ttoggleRightSidebarState: (route) => {\n\t\t\t\t\tconst currentState = get().getRightSidebarState(route);\n\t\t\t\t\tget().setRightSidebarState(route, !currentState);\n\t\t\t\t},\n\n\t\t\t\t// Reset methods\n\t\t\t\tresetAllStates: () => {\n\t\t\t\t\tset({ sidebarStates: {}, rightSidebarStates: {} });\n\t\t\t\t},\n\n\t\t\t\tresetRouteState: (route) => {\n\t\t\t\t\tset((state) => {\n\t\t\t\t\t\tconst newLeftStates = { ...state.sidebarStates };\n\t\t\t\t\t\tconst newRightStates = { ...state.rightSidebarStates };\n\t\t\t\t\t\tdelete newLeftStates[route];\n\t\t\t\t\t\tdelete newRightStates[route];\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tsidebarStates: newLeftStates,\n\t\t\t\t\t\t\trightSidebarStates: newRightStates,\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t},\n\t\t\t}),\n\t\t\t{\n\t\t\t\tname: \"sidebar-state-storage\",\n\t\t\t\t// Persist both left and right sidebar states\n\t\t\t\tpartialize: (state) => ({\n\t\t\t\t\tsidebarStates: state.sidebarStates,\n\t\t\t\t\trightSidebarStates: state.rightSidebarStates,\n\t\t\t\t}),\n\t\t\t\t// PERFORMANCE: Skip hydration to prevent SSR mismatches\n\t\t\t\t// Allows Next.js to generate static pages without Zustand errors\n\t\t\t\tskipHydration: true,\n\t\t\t},\n\t\t),\n\t\t{ name: \"SidebarStateStore\" },\n\t),\n);\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;CAeC;;;;AAED;AACA;;;AAmCA,+EAA+E;AAC/E,gBAAgB;AAChB,+EAA+E;AAE/E,MAAM,eAAe;IACpB,eAAe,CAAC;IAChB,oBAAoB,CAAC;AACtB;AAMO,MAAM,uBAAuB,IAAA,4VAAM,IACzC,IAAA,mWAAQ,EACP,IAAA,kWAAO,EACN,CAAC,KAAK,MAAQ,CAAC;QACd,GAAG,YAAY;QAEf,uBAAuB;QACvB,iBAAiB,CAAC;YACjB,MAAM,SAAS,MAAM,aAAa;YAClC,oCAAoC;YACpC,OAAO,MAAM,CAAC,MAAM,IAAI;QACzB;QAEA,iBAAiB,CAAC,OAAO;YACxB,IAAI,CAAC,QAAU,CAAC;oBACf,eAAe;wBACd,GAAG,MAAM,aAAa;wBACtB,CAAC,MAAM,EAAE;oBACV;gBACD,CAAC;QACF;QAEA,oBAAoB,CAAC;YACpB,MAAM,eAAe,MAAM,eAAe,CAAC;YAC3C,MAAM,eAAe,CAAC,OAAO,CAAC;QAC/B;QAEA,wBAAwB;QACxB,sBAAsB,CAAC,OAAO,cAAc,IAAI;YAC/C,MAAM,SAAS,MAAM,kBAAkB;YACvC,gEAAgE;YAChE,OAAO,MAAM,CAAC,MAAM,IAAI;QACzB;QAEA,sBAAsB,CAAC,OAAO;YAC7B,IAAI,CAAC,QAAU,CAAC;oBACf,oBAAoB;wBACnB,GAAG,MAAM,kBAAkB;wBAC3B,CAAC,MAAM,EAAE;oBACV;gBACD,CAAC;QACF;QAEA,yBAAyB,CAAC;YACzB,MAAM,eAAe,MAAM,oBAAoB,CAAC;YAChD,MAAM,oBAAoB,CAAC,OAAO,CAAC;QACpC;QAEA,gBAAgB;QAChB,gBAAgB;YACf,IAAI;gBAAE,eAAe,CAAC;gBAAG,oBAAoB,CAAC;YAAE;QACjD;QAEA,iBAAiB,CAAC;YACjB,IAAI,CAAC;gBACJ,MAAM,gBAAgB;oBAAE,GAAG,MAAM,aAAa;gBAAC;gBAC/C,MAAM,iBAAiB;oBAAE,GAAG,MAAM,kBAAkB;gBAAC;gBACrD,OAAO,aAAa,CAAC,MAAM;gBAC3B,OAAO,cAAc,CAAC,MAAM;gBAC5B,OAAO;oBACN,eAAe;oBACf,oBAAoB;gBACrB;YACD;QACD;IACD,CAAC,GACD;IACC,MAAM;IACN,6CAA6C;IAC7C,YAAY,CAAC,QAAU,CAAC;YACvB,eAAe,MAAM,aAAa;YAClC,oBAAoB,MAAM,kBAAkB;QAC7C,CAAC;IACD,wDAAwD;IACxD,iEAAiE;IACjE,eAAe;AAChB,IAED;IAAE,MAAM;AAAoB"}},
    {"offset": {"line": 996, "column": 0}, "map": {"version":3,"sources":["file:///Users/byronwade/Stratos/apps/web/src/lib/stores/ui-store.ts"],"sourcesContent":["import { create } from \"zustand\";\nimport { devtools, persist } from \"zustand/middleware\";\nimport { immer } from \"zustand/middleware/immer\";\n\n/**\n * Modal state\n */\ntype ModalState = {\n\tisOpen: boolean;\n\ttype: string | null;\n\tdata?: unknown;\n};\n\n/**\n * Participant type\n */\ntype Participant = {\n\tid: string;\n\tname: string;\n\tavatar?: string;\n\tisMuted: boolean;\n\tisVideoEnabled: boolean;\n\tisSpeaking: boolean;\n\tisScreenSharing: boolean;\n};\n\n/**\n * Call state\n */\ntype CallState = {\n\tstatus: \"idle\" | \"incoming\" | \"active\" | \"ended\";\n\tcaller: {\n\t\tnumber: string;\n\t\tname: string;\n\t\tavatar?: string;\n\t} | null;\n\tstartTime: number | null;\n\tisMuted: boolean;\n\tisOnHold: boolean;\n\tisRecording: boolean;\n\tvideoStatus: \"off\" | \"requesting\" | \"ringing\" | \"connected\" | \"declined\";\n\tisLocalVideoEnabled: boolean;\n\tisRemoteVideoEnabled: boolean;\n\n\t// Customer data\n\tcustomerId: string | null;\n\tcustomerData: unknown;\n\n\t// Call metadata\n\tcallControlId: string | null;\n\tcallSessionId: string | null;\n\tdirection: \"inbound\" | \"outbound\";\n\n\t// Telnyx state\n\ttelnyxCallState: \"idle\" | \"connecting\" | \"ringing\" | \"active\" | \"ended\";\n\ttelnyxError: string | null;\n\n\t// Enhanced features\n\tisScreenSharing: boolean;\n\tconnectionQuality: \"excellent\" | \"good\" | \"poor\";\n\thasVirtualBackground: boolean;\n\treactions: Array<{\n\t\tid: string;\n\t\ttype: \"thumbs-up\" | \"clap\" | \"heart\" | \"tada\";\n\t\ttimestamp: number;\n\t}>;\n\tchatMessages: Array<{\n\t\tid: string;\n\t\tsender: \"me\" | \"them\";\n\t\tmessage: string;\n\t\ttimestamp: number;\n\t}>;\n\tparticipants: Participant[];\n\tmeetingLink: string;\n};\n\n/**\n * UI store state\n * Note: Theme management moved to next-themes provider\n */\ntype UIState = {\n\tsidebarOpen: boolean;\n\tmodals: Record<string, ModalState>;\n\tnotifications: Array<{\n\t\tid: string;\n\t\ttype: \"success\" | \"error\" | \"info\" | \"warning\";\n\t\tmessage: string;\n\t\tduration?: number;\n\t}>;\n\tcall: CallState;\n};\n\n/**\n * UI store actions\n * Note: setTheme removed - use next-themes' useTheme hook instead\n */\ntype UIActions = {\n\ttoggleSidebar: () => void;\n\tsetSidebarOpen: (open: boolean) => void;\n\topenModal: (type: string, data?: unknown) => void;\n\tcloseModal: (type: string) => void;\n\taddNotification: (\n\t\tnotification: Omit<UIState[\"notifications\"][0], \"id\">,\n\t) => void;\n\tremoveNotification: (id: string) => void;\n\t// Call actions\n\tsetIncomingCall: (caller: CallState[\"caller\"]) => void;\n\tanswerCall: () => void;\n\tendCall: () => void;\n\ttoggleMute: () => void;\n\ttoggleHold: () => void;\n\ttoggleRecording: () => void;\n\t// Video actions\n\trequestVideo: () => void;\n\tacceptVideo: () => void;\n\tdeclineVideo: () => void;\n\tendVideo: () => void;\n\ttoggleLocalVideo: () => void;\n\t// Enhanced features\n\ttoggleScreenShare: () => void;\n\ttoggleVirtualBackground: () => void;\n\taddReaction: (type: CallState[\"reactions\"][0][\"type\"]) => void;\n\tclearReactions: () => void;\n\tsendChatMessage: (message: string) => void;\n\tclearChat: () => void;\n\tsetConnectionQuality: (quality: CallState[\"connectionQuality\"]) => void;\n\t// Customer data actions\n\tsetCustomerData: (data: unknown) => void;\n\tclearCustomerData: () => void;\n\t// Telnyx state actions\n\tsetTelnyxCallState: (state: CallState[\"telnyxCallState\"]) => void;\n\tsetTelnyxError: (error: string | null) => void;\n\tsetCallMetadata: (metadata: {\n\t\tcallControlId: string;\n\t\tcallSessionId: string;\n\t\tdirection: \"inbound\" | \"outbound\";\n\t}) => void;\n\treset: () => void;\n};\n\n/**\n * Complete UI store\n */\nexport type UIStore = UIState & UIActions;\n\n/**\n * Initial state\n */\nconst initialState: UIState = {\n\tsidebarOpen: true,\n\tmodals: {},\n\tnotifications: [],\n\tcall: {\n\t\tstatus: \"idle\",\n\t\tcaller: null,\n\t\tstartTime: null,\n\t\tisMuted: false,\n\t\tisOnHold: false,\n\t\tisRecording: false,\n\t\tvideoStatus: \"off\",\n\t\tisLocalVideoEnabled: false,\n\t\tisRemoteVideoEnabled: false,\n\t\tcustomerId: null,\n\t\tcustomerData: null,\n\t\tcallControlId: null,\n\t\tcallSessionId: null,\n\t\tdirection: \"inbound\",\n\t\ttelnyxCallState: \"idle\",\n\t\ttelnyxError: null,\n\t\tisScreenSharing: false,\n\t\tconnectionQuality: \"excellent\",\n\t\thasVirtualBackground: false,\n\t\treactions: [],\n\t\tchatMessages: [],\n\t\tparticipants: [],\n\t\tmeetingLink: \"https://meet.thorbis.app/abc-defg-hij\",\n\t},\n};\n\n/**\n * UI store - manages application UI state\n *\n * @example\n * ```tsx\n * import { useUIStore } from \"@/lib/stores/ui-store\";\n * import { useTheme } from \"next-themes\";\n *\n * function Header() {\n *   const { sidebarOpen, toggleSidebar } = useUIStore();\n *   const { theme, setTheme } = useTheme();\n *\n *   return (\n *     <header>\n *       <button onClick={toggleSidebar}>Toggle</button>\n *       <button onClick={() => setTheme(\"dark\")}>Dark</button>\n *     </header>\n *   );\n * }\n * ```\n */\nexport const useUIStore = create<UIStore>()(\n\tdevtools(\n\t\tpersist(\n\t\t\timmer((set) => ({\n\t\t\t\t...initialState,\n\n\t\t\t\ttoggleSidebar: () =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.sidebarOpen = !state.sidebarOpen;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"toggleSidebar\",\n\t\t\t\t\t),\n\n\t\t\t\tsetSidebarOpen: (open) =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.sidebarOpen = open;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"setSidebarOpen\",\n\t\t\t\t\t),\n\n\t\t\t\topenModal: (type, data) =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.modals[type] = {\n\t\t\t\t\t\t\t\tisOpen: true,\n\t\t\t\t\t\t\t\ttype,\n\t\t\t\t\t\t\t\tdata,\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"openModal\",\n\t\t\t\t\t),\n\n\t\t\t\tcloseModal: (type) =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tif (state.modals[type]) {\n\t\t\t\t\t\t\t\tstate.modals[type].isOpen = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"closeModal\",\n\t\t\t\t\t),\n\n\t\t\t\taddNotification: (notification) =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tconst id = crypto.randomUUID();\n\t\t\t\t\t\t\tstate.notifications.push({ ...notification, id });\n\n\t\t\t\t\t\t\t// Auto-remove after duration\n\t\t\t\t\t\t\tif (notification.duration) {\n\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\tset(\n\t\t\t\t\t\t\t\t\t\t(currentState) => {\n\t\t\t\t\t\t\t\t\t\t\tcurrentState.notifications =\n\t\t\t\t\t\t\t\t\t\t\t\tcurrentState.notifications.filter((n) => n.id !== id);\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\t\t\t\t\"autoRemoveNotification\",\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}, notification.duration);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"addNotification\",\n\t\t\t\t\t),\n\n\t\t\t\tremoveNotification: (id) =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.notifications = state.notifications.filter(\n\t\t\t\t\t\t\t\t(n) => n.id !== id,\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"removeNotification\",\n\t\t\t\t\t),\n\n\t\t\t\t// Call actions\n\t\t\t\tsetIncomingCall: (caller) =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.call.caller = caller;\n\t\t\t\t\t\t\tstate.call.status = \"incoming\";\n\t\t\t\t\t\t\tstate.call.startTime = Date.now();\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"setIncomingCall\",\n\t\t\t\t\t),\n\n\t\t\t\tanswerCall: () =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tif (state.call.status === \"incoming\") {\n\t\t\t\t\t\t\t\tstate.call.status = \"active\";\n\t\t\t\t\t\t\t\tstate.call.startTime = Date.now();\n\t\t\t\t\t\t\t\t// Add mock participants for testing\n\t\t\t\t\t\t\t\tstate.call.participants = [\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: \"1\",\n\t\t\t\t\t\t\t\t\t\tname: \"Sarah Johnson\",\n\t\t\t\t\t\t\t\t\t\tskipHydration: true, // CRITICAL: Prevents hydration mismatch with Next.js 16\n\t\t\t\t\t\t\t\t\t\tisMuted: false,\n\t\t\t\t\t\t\t\t\t\tisVideoEnabled: true,\n\t\t\t\t\t\t\t\t\t\tisSpeaking: true,\n\t\t\t\t\t\t\t\t\t\tisScreenSharing: false,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: \"2\",\n\t\t\t\t\t\t\t\t\t\tname: \"Michael Chen\",\n\t\t\t\t\t\t\t\t\t\tskipHydration: true, // CRITICAL: Prevents hydration mismatch with Next.js 16\n\t\t\t\t\t\t\t\t\t\tisMuted: false,\n\t\t\t\t\t\t\t\t\t\tisVideoEnabled: true,\n\t\t\t\t\t\t\t\t\t\tisSpeaking: false,\n\t\t\t\t\t\t\t\t\t\tisScreenSharing: false,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: \"3\",\n\t\t\t\t\t\t\t\t\t\tname: \"Emily Rodriguez\",\n\t\t\t\t\t\t\t\t\t\tskipHydration: true, // CRITICAL: Prevents hydration mismatch with Next.js 16\n\t\t\t\t\t\t\t\t\t\tisMuted: true,\n\t\t\t\t\t\t\t\t\t\tisVideoEnabled: false,\n\t\t\t\t\t\t\t\t\t\tisSpeaking: false,\n\t\t\t\t\t\t\t\t\t\tisScreenSharing: false,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: \"4\",\n\t\t\t\t\t\t\t\t\t\tname: \"David Kim\",\n\t\t\t\t\t\t\t\t\t\tskipHydration: true, // CRITICAL: Prevents hydration mismatch with Next.js 16\n\t\t\t\t\t\t\t\t\t\tisMuted: false,\n\t\t\t\t\t\t\t\t\t\tisVideoEnabled: true,\n\t\t\t\t\t\t\t\t\t\tisSpeaking: false,\n\t\t\t\t\t\t\t\t\t\tisScreenSharing: false,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: \"5\",\n\t\t\t\t\t\t\t\t\t\tname: \"Lisa Anderson\",\n\t\t\t\t\t\t\t\t\t\tskipHydration: true, // CRITICAL: Prevents hydration mismatch with Next.js 16\n\t\t\t\t\t\t\t\t\t\tisMuted: false,\n\t\t\t\t\t\t\t\t\t\tisVideoEnabled: true,\n\t\t\t\t\t\t\t\t\t\tisSpeaking: false,\n\t\t\t\t\t\t\t\t\t\tisScreenSharing: false,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: \"6\",\n\t\t\t\t\t\t\t\t\t\tname: \"James Wilson\",\n\t\t\t\t\t\t\t\t\t\tskipHydration: true, // CRITICAL: Prevents hydration mismatch with Next.js 16\n\t\t\t\t\t\t\t\t\t\tisMuted: true,\n\t\t\t\t\t\t\t\t\t\tisVideoEnabled: true,\n\t\t\t\t\t\t\t\t\t\tisSpeaking: false,\n\t\t\t\t\t\t\t\t\t\tisScreenSharing: false,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: \"7\",\n\t\t\t\t\t\t\t\t\t\tname: \"Maria Garcia\",\n\t\t\t\t\t\t\t\t\t\tskipHydration: true, // CRITICAL: Prevents hydration mismatch with Next.js 16\n\t\t\t\t\t\t\t\t\t\tisMuted: false,\n\t\t\t\t\t\t\t\t\t\tisVideoEnabled: false,\n\t\t\t\t\t\t\t\t\t\tisSpeaking: false,\n\t\t\t\t\t\t\t\t\t\tisScreenSharing: false,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: \"8\",\n\t\t\t\t\t\t\t\t\t\tname: \"Robert Taylor\",\n\t\t\t\t\t\t\t\t\t\tskipHydration: true, // CRITICAL: Prevents hydration mismatch with Next.js 16\n\t\t\t\t\t\t\t\t\t\tisMuted: false,\n\t\t\t\t\t\t\t\t\t\tisVideoEnabled: true,\n\t\t\t\t\t\t\t\t\t\tisSpeaking: false,\n\t\t\t\t\t\t\t\t\t\tisScreenSharing: false,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tid: \"9\",\n\t\t\t\t\t\t\t\t\t\tname: \"Jennifer Lee\",\n\t\t\t\t\t\t\t\t\t\tskipHydration: true, // CRITICAL: Prevents hydration mismatch with Next.js 16\n\t\t\t\t\t\t\t\t\t\tisMuted: false,\n\t\t\t\t\t\t\t\t\t\tisVideoEnabled: true,\n\t\t\t\t\t\t\t\t\t\tisSpeaking: false,\n\t\t\t\t\t\t\t\t\t\tisScreenSharing: false,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"answerCall\",\n\t\t\t\t\t),\n\n\t\t\t\tendCall: () =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.call.status = \"ended\";\n\t\t\t\t\t\t\tstate.call.caller = null;\n\t\t\t\t\t\t\tstate.call.startTime = null;\n\t\t\t\t\t\t\tstate.call.isMuted = false;\n\t\t\t\t\t\t\tstate.call.isOnHold = false;\n\t\t\t\t\t\t\tstate.call.isRecording = false;\n\t\t\t\t\t\t\tstate.call.videoStatus = \"off\";\n\t\t\t\t\t\t\tstate.call.isLocalVideoEnabled = false;\n\t\t\t\t\t\t\tstate.call.isRemoteVideoEnabled = false;\n\t\t\t\t\t\t\tstate.call.isScreenSharing = false;\n\t\t\t\t\t\t\tstate.call.connectionQuality = \"excellent\";\n\t\t\t\t\t\t\tstate.call.hasVirtualBackground = false;\n\t\t\t\t\t\t\tstate.call.reactions = [];\n\t\t\t\t\t\t\tstate.call.chatMessages = [];\n\t\t\t\t\t\t\tstate.call.participants = [];\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"endCall\",\n\t\t\t\t\t),\n\n\t\t\t\ttoggleMute: () =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.call.isMuted = !state.call.isMuted;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"toggleMute\",\n\t\t\t\t\t),\n\n\t\t\t\ttoggleHold: () =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.call.isOnHold = !state.call.isOnHold;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"toggleHold\",\n\t\t\t\t\t),\n\n\t\t\t\ttoggleRecording: () =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.call.isRecording = !state.call.isRecording;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"toggleRecording\",\n\t\t\t\t\t),\n\n\t\t\t\t// Video actions\n\t\t\t\trequestVideo: () =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.call.videoStatus = \"requesting\";\n\t\t\t\t\t\t\tstate.call.isLocalVideoEnabled = true;\n\t\t\t\t\t\t\t// Simulate other party seeing the request\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tset(\n\t\t\t\t\t\t\t\t\t(currentState) => {\n\t\t\t\t\t\t\t\t\t\tif (currentState.call.videoStatus === \"requesting\") {\n\t\t\t\t\t\t\t\t\t\t\tcurrentState.call.videoStatus = \"ringing\";\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\t\t\t\"videoRinging\",\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t// Auto-accept after 3 seconds for demo\n\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\tset(\n\t\t\t\t\t\t\t\t\t\t(currentState) => {\n\t\t\t\t\t\t\t\t\t\t\tif (currentState.call.videoStatus === \"ringing\") {\n\t\t\t\t\t\t\t\t\t\t\t\tcurrentState.call.videoStatus = \"connected\";\n\t\t\t\t\t\t\t\t\t\t\t\tcurrentState.call.isRemoteVideoEnabled = true;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\t\t\t\t\"videoAutoAccept\",\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}, 3000);\n\t\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"requestVideo\",\n\t\t\t\t\t),\n\n\t\t\t\tacceptVideo: () =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.call.videoStatus = \"connected\";\n\t\t\t\t\t\t\tstate.call.isLocalVideoEnabled = true;\n\t\t\t\t\t\t\tstate.call.isRemoteVideoEnabled = true;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"acceptVideo\",\n\t\t\t\t\t),\n\n\t\t\t\tdeclineVideo: () =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.call.videoStatus = \"declined\";\n\t\t\t\t\t\t\tstate.call.isLocalVideoEnabled = false;\n\t\t\t\t\t\t\tstate.call.isRemoteVideoEnabled = false;\n\t\t\t\t\t\t\t// Reset to off after 2 seconds\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tset(\n\t\t\t\t\t\t\t\t\t(currentState) => {\n\t\t\t\t\t\t\t\t\t\tcurrentState.call.videoStatus = \"off\";\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\t\t\t\"videoResetAfterDecline\",\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}, 2000);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"declineVideo\",\n\t\t\t\t\t),\n\n\t\t\t\tendVideo: () =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.call.videoStatus = \"off\";\n\t\t\t\t\t\t\tstate.call.isLocalVideoEnabled = false;\n\t\t\t\t\t\t\tstate.call.isRemoteVideoEnabled = false;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"endVideo\",\n\t\t\t\t\t),\n\n\t\t\t\ttoggleLocalVideo: () =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.call.isLocalVideoEnabled = !state.call.isLocalVideoEnabled;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"toggleLocalVideo\",\n\t\t\t\t\t),\n\n\t\t\t\t// Enhanced feature actions\n\t\t\t\ttoggleScreenShare: () =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.call.isScreenSharing = !state.call.isScreenSharing;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"toggleScreenShare\",\n\t\t\t\t\t),\n\n\t\t\t\ttoggleVirtualBackground: () =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.call.hasVirtualBackground =\n\t\t\t\t\t\t\t\t!state.call.hasVirtualBackground;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"toggleVirtualBackground\",\n\t\t\t\t\t),\n\n\t\t\t\taddReaction: (type) =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tconst reaction = {\n\t\t\t\t\t\t\t\tid: Math.random().toString(36).slice(2, 9),\n\t\t\t\t\t\t\t\ttype,\n\t\t\t\t\t\t\t\ttimestamp: Date.now(),\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tstate.call.reactions.push(reaction);\n\t\t\t\t\t\t\t// Auto-remove reaction after 3 seconds\n\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\tset(\n\t\t\t\t\t\t\t\t\t(currentState) => {\n\t\t\t\t\t\t\t\t\t\tconst index = currentState.call.reactions.findIndex(\n\t\t\t\t\t\t\t\t\t\t\t(r) => r.id === reaction.id,\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\tif (index !== -1) {\n\t\t\t\t\t\t\t\t\t\t\tcurrentState.call.reactions.splice(index, 1);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\t\t\t\"removeReaction\",\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}, 3000);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"addReaction\",\n\t\t\t\t\t),\n\n\t\t\t\tclearReactions: () =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.call.reactions = [];\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"clearReactions\",\n\t\t\t\t\t),\n\n\t\t\t\tsendChatMessage: (message) =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.call.chatMessages.push({\n\t\t\t\t\t\t\t\tid: Math.random().toString(36).slice(2, 9),\n\t\t\t\t\t\t\t\tsender: \"me\",\n\t\t\t\t\t\t\t\tmessage,\n\t\t\t\t\t\t\t\ttimestamp: Date.now(),\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"sendChatMessage\",\n\t\t\t\t\t),\n\n\t\t\t\tclearChat: () =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.call.chatMessages = [];\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"clearChat\",\n\t\t\t\t\t),\n\n\t\t\t\tsetConnectionQuality: (quality) =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.call.connectionQuality = quality;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"setConnectionQuality\",\n\t\t\t\t\t),\n\n\t\t\t\t// Customer data actions\n\t\t\t\tsetCustomerData: (data) =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.call.customerData = data;\n\t\t\t\t\t\t\tconst customer =\n\t\t\t\t\t\t\t\t(data as { customer?: { id?: string | null } } | null)\n\t\t\t\t\t\t\t\t\t?.customer ?? null;\n\t\t\t\t\t\t\tstate.call.customerId = customer?.id || null;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"setCustomerData\",\n\t\t\t\t\t),\n\n\t\t\t\tclearCustomerData: () =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.call.customerData = null;\n\t\t\t\t\t\t\tstate.call.customerId = null;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"clearCustomerData\",\n\t\t\t\t\t),\n\n\t\t\t\t// Telnyx state actions\n\t\t\t\tsetTelnyxCallState: (telnyxState) =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.call.telnyxCallState = telnyxState;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"setTelnyxCallState\",\n\t\t\t\t\t),\n\n\t\t\t\tsetTelnyxError: (error) =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.call.telnyxError = error;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"setTelnyxError\",\n\t\t\t\t\t),\n\n\t\t\t\tsetCallMetadata: (metadata) =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.call.callControlId = metadata.callControlId;\n\t\t\t\t\t\t\tstate.call.callSessionId = metadata.callSessionId;\n\t\t\t\t\t\t\tstate.call.direction = metadata.direction;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"setCallMetadata\",\n\t\t\t\t\t),\n\n\t\t\t\treset: () => set(initialState, false, \"reset\"),\n\t\t\t})),\n\t\t\t{\n\t\t\t\tname: \"ui-store\",\n\t\t\t\tskipHydration: true, // CRITICAL: Prevents hydration mismatch with Next.js 16\n\t\t\t\tpartialize: (state) => ({\n\t\t\t\t\tsidebarOpen: state.sidebarOpen,\n\t\t\t\t}),\n\t\t\t},\n\t\t),\n\t\t{ name: \"UIStore\" },\n\t),\n);\n\n/**\n * Selectors for optimized component re-renders\n * Note: theme selector removed - use next-themes' useTheme hook instead\n */\nexport const uiSelectors = {\n\tsidebarOpen: (state: UIStore) => state.sidebarOpen,\n\tmodals: (state: UIStore) => state.modals,\n\tnotifications: (state: UIStore) => state.notifications,\n\tgetModal: (type: string) => (state: UIStore) => state.modals[type],\n\tcall: (state: UIStore) => state.call,\n\tcallStatus: (state: UIStore) => state.call.status,\n\tcaller: (state: UIStore) => state.call.caller,\n};\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1332, "column": 0}, "map": {"version":3,"sources":["file:///Users/byronwade/Stratos/apps/web/src/lib/stores/user-store.ts"],"sourcesContent":["import { create } from \"zustand\";\nimport { devtools, persist } from \"zustand/middleware\";\nimport { immer } from \"zustand/middleware/immer\";\nimport type { User } from \"@/lib/db/schema\";\n\n/**\n * User store state\n */\ntype UserState = {\n\tuser: User | null;\n\tisAuthenticated: boolean;\n\tisLoading: boolean;\n};\n\n/**\n * User store actions\n */\ntype UserActions = {\n\tsetUser: (user: User | null) => void;\n\tupdateUser: (updates: Partial<User>) => void;\n\tlogout: () => void;\n\tsetLoading: (loading: boolean) => void;\n\treset: () => void;\n};\n\n/**\n * Complete user store\n */\nexport type UserStore = UserState & UserActions;\n\n/**\n * Initial state\n */\nconst initialState: UserState = {\n\tuser: null,\n\tisAuthenticated: false,\n\tisLoading: true,\n};\n\n/**\n * User store - manages authentication state\n *\n * @example\n * ```tsx\n * import { useUserStore } from \"@/lib/stores/user-store\";\n *\n * function Profile() {\n *   const { user, isAuthenticated } = useUserStore();\n *   const setUser = useUserStore((state) => state.setUser);\n *\n *   if (!isAuthenticated) return <Login />;\n *   return <div>Hello {user.name}</div>;\n * }\n * ```\n */\nexport const useUserStore = create<UserStore>()(\n\tdevtools(\n\t\tpersist(\n\t\t\timmer((set) => ({\n\t\t\t\t...initialState,\n\n\t\t\t\tsetUser: (user) =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.user = user;\n\t\t\t\t\t\t\tstate.isAuthenticated = !!user;\n\t\t\t\t\t\t\tstate.isLoading = false;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"setUser\",\n\t\t\t\t\t),\n\n\t\t\t\tupdateUser: (updates) =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tif (state.user) {\n\t\t\t\t\t\t\t\tstate.user = { ...state.user, ...updates };\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"updateUser\",\n\t\t\t\t\t),\n\n\t\t\t\tlogout: () =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.user = null;\n\t\t\t\t\t\t\tstate.isAuthenticated = false;\n\t\t\t\t\t\t\tstate.isLoading = false;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"logout\",\n\t\t\t\t\t),\n\n\t\t\t\tsetLoading: (loading) =>\n\t\t\t\t\tset(\n\t\t\t\t\t\t(state) => {\n\t\t\t\t\t\t\tstate.isLoading = loading;\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfalse,\n\t\t\t\t\t\t\"setLoading\",\n\t\t\t\t\t),\n\n\t\t\t\treset: () => set(initialState, false, \"reset\"),\n\t\t\t})),\n\t\t\t{\n\t\t\t\tname: \"user-store\",\n\t\t\t\tskipHydration: true, // CRITICAL: Prevents hydration mismatch with Next.js 16\n\t\t\t\tpartialize: (state) => ({\n\t\t\t\t\tuser: state.user,\n\t\t\t\t\tisAuthenticated: state.isAuthenticated,\n\t\t\t\t}),\n\t\t\t},\n\t\t),\n\t\t{ name: \"UserStore\" },\n\t),\n);\n\n/**\n * Selectors for optimized component re-renders\n */\nexport const userSelectors = {\n\tuser: (state: UserStore) => state.user,\n\tisAuthenticated: (state: UserStore) => state.isAuthenticated,\n\tisLoading: (state: UserStore) => state.isLoading,\n};\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;;;;AA4BA;;CAEC,GACD,MAAM,eAA0B;IAC/B,MAAM;IACN,iBAAiB;IACjB,WAAW;AACZ;AAkBO,MAAM,eAAe,IAAA,4VAAM,IACjC,IAAA,mWAAQ,EACP,IAAA,kWAAO,EACN,IAAA,yWAAK,EAAC,CAAC,MAAQ,CAAC;QACf,GAAG,YAAY;QAEf,SAAS,CAAC,OACT,IACC,CAAC;gBACA,MAAM,IAAI,GAAG;gBACb,MAAM,eAAe,GAAG,CAAC,CAAC;gBAC1B,MAAM,SAAS,GAAG;YACnB,GACA,OACA;QAGF,YAAY,CAAC,UACZ,IACC,CAAC;gBACA,IAAI,MAAM,IAAI,EAAE;oBACf,MAAM,IAAI,GAAG;wBAAE,GAAG,MAAM,IAAI;wBAAE,GAAG,OAAO;oBAAC;gBAC1C;YACD,GACA,OACA;QAGF,QAAQ,IACP,IACC,CAAC;gBACA,MAAM,IAAI,GAAG;gBACb,MAAM,eAAe,GAAG;gBACxB,MAAM,SAAS,GAAG;YACnB,GACA,OACA;QAGF,YAAY,CAAC,UACZ,IACC,CAAC;gBACA,MAAM,SAAS,GAAG;YACnB,GACA,OACA;QAGF,OAAO,IAAM,IAAI,cAAc,OAAO;IACvC,CAAC,IACD;IACC,MAAM;IACN,eAAe;IACf,YAAY,CAAC,QAAU,CAAC;YACvB,MAAM,MAAM,IAAI;YAChB,iBAAiB,MAAM,eAAe;QACvC,CAAC;AACF,IAED;IAAE,MAAM;AAAY;AAOf,MAAM,gBAAgB;IAC5B,MAAM,CAAC,QAAqB,MAAM,IAAI;IACtC,iBAAiB,CAAC,QAAqB,MAAM,eAAe;IAC5D,WAAW,CAAC,QAAqB,MAAM,SAAS;AACjD"}},
    {"offset": {"line": 1394, "column": 0}, "map": {"version":3,"sources":["file:///Users/byronwade/Stratos/apps/web/src/lib/stores/view-store.ts"],"sourcesContent":["import { create } from \"zustand\";\nimport { devtools, persist } from \"zustand/middleware\";\n\nexport type ZoomLevel = number; // 5 - 500 (percentage)\n\nexport type ViewFilters = {\n\ttechnicianIds: string[];\n\tstatuses: Array<\"scheduled\" | \"in-progress\" | \"completed\" | \"cancelled\">;\n\tpriorities: Array<\"low\" | \"medium\" | \"high\" | \"urgent\">;\n\tsearchQuery: string;\n};\n\ntype ViewState = {\n\t// Zoom and timeline\n\tzoom: ZoomLevel;\n\tcurrentDate: Date;\n\n\t// Filters\n\tfilters: ViewFilters;\n\n\t// UI State\n\tsidebarCollapsed: boolean;\n\tshowCompletedJobs: boolean;\n\tshowConflicts: boolean;\n\tshowTravelTime: boolean;\n\n\t// View preferences\n\tworkingHoursStart: number; // 0-23 (hour)\n\tworkingHoursEnd: number; // 0-23 (hour)\n\n\t// Actions - Zoom\n\tsetZoom: (zoom: ZoomLevel) => void;\n\tzoomIn: () => void;\n\tzoomOut: () => void;\n\tresetZoom: () => void;\n\n\t// Actions - Navigation\n\tsetCurrentDate: (date: Date) => void;\n\tgoToToday: () => void;\n\tgoToDate: (date: Date) => void;\n\tnavigateDays: (days: number) => void;\n\n\t// Actions - Filters\n\tsetFilters: (filters: Partial<ViewFilters>) => void;\n\tresetFilters: () => void;\n\ttoggleTechnicianFilter: (technicianId: string) => void;\n\tsetSearchQuery: (query: string) => void;\n\n\t// Actions - UI\n\ttoggleSidebar: () => void;\n\tsetSidebarCollapsed: (collapsed: boolean) => void;\n\ttoggleCompletedJobs: () => void;\n\ttoggleConflicts: () => void;\n\ttoggleTravelTime: () => void;\n\n\t// Actions - Working hours\n\tsetWorkingHours: (start: number, end: number) => void;\n\n\t// Helpers\n\tgetVisibleTimeRange: () => { start: Date; end: Date };\n\tisFiltered: () => boolean;\n};\n\nconst defaultFilters: ViewFilters = {\n\ttechnicianIds: [],\n\tstatuses: [],\n\tpriorities: [],\n\tsearchQuery: \"\",\n};\n\nexport const useViewStore = create<ViewState>()(\n\tdevtools(\n\t\tpersist(\n\t\t\t(set, get) => ({\n\t\t\t\t// Initial state\n\t\t\t\tzoom: 100,\n\t\t\t\tcurrentDate: new Date(),\n\t\t\t\tfilters: defaultFilters,\n\t\t\t\tsidebarCollapsed: false,\n\t\t\t\tshowCompletedJobs: true,\n\t\t\t\tshowConflicts: true,\n\t\t\t\tshowTravelTime: false,\n\t\t\t\tworkingHoursStart: 7, // 7 AM\n\t\t\t\tworkingHoursEnd: 19, // 7 PM\n\n\t\t\t\t// Zoom actions\n\t\t\t\tsetZoom: (zoom) => {\n\t\t\t\t\tconst clampedZoom = Math.max(5, Math.min(500, zoom));\n\t\t\t\t\tset({ zoom: clampedZoom });\n\t\t\t\t},\n\n\t\t\t\tzoomIn: () => {\n\t\t\t\t\tconst currentZoom = get().zoom;\n\t\t\t\t\tconst newZoom = Math.min(500, currentZoom * 1.2);\n\t\t\t\t\tset({ zoom: newZoom });\n\t\t\t\t},\n\n\t\t\t\tzoomOut: () => {\n\t\t\t\t\tconst currentZoom = get().zoom;\n\t\t\t\t\tconst newZoom = Math.max(5, currentZoom / 1.2);\n\t\t\t\t\tset({ zoom: newZoom });\n\t\t\t\t},\n\n\t\t\t\tresetZoom: () => set({ zoom: 100 }),\n\n\t\t\t\t// Navigation actions\n\t\t\t\tsetCurrentDate: (date) => set({ currentDate: date }),\n\n\t\t\t\tgoToToday: () => set({ currentDate: new Date() }),\n\n\t\t\t\tgoToDate: (date) => set({ currentDate: date }),\n\n\t\t\t\tnavigateDays: (days) => {\n\t\t\t\t\tconst current = get().currentDate;\n\t\t\t\t\tconst newDate = new Date(current);\n\t\t\t\t\tnewDate.setDate(newDate.getDate() + days);\n\t\t\t\t\tset({ currentDate: newDate });\n\t\t\t\t},\n\n\t\t\t\t// Filter actions\n\t\t\t\tsetFilters: (updates) => {\n\t\t\t\t\tset((state) => ({\n\t\t\t\t\t\tfilters: { ...state.filters, ...updates },\n\t\t\t\t\t}));\n\t\t\t\t},\n\n\t\t\t\tresetFilters: () => set({ filters: defaultFilters }),\n\n\t\t\t\ttoggleTechnicianFilter: (technicianId) => {\n\t\t\t\t\tset((state) => {\n\t\t\t\t\t\tconst current = state.filters.technicianIds;\n\t\t\t\t\t\tconst updated = current.includes(technicianId)\n\t\t\t\t\t\t\t? current.filter((id) => id !== technicianId)\n\t\t\t\t\t\t\t: [...current, technicianId];\n\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\tfilters: {\n\t\t\t\t\t\t\t\t...state.filters,\n\t\t\t\t\t\t\t\ttechnicianIds: updated,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t};\n\t\t\t\t\t});\n\t\t\t\t},\n\n\t\t\t\tsetSearchQuery: (query) => {\n\t\t\t\t\tset((state) => ({\n\t\t\t\t\t\tfilters: {\n\t\t\t\t\t\t\t...state.filters,\n\t\t\t\t\t\t\tsearchQuery: query,\n\t\t\t\t\t\t},\n\t\t\t\t\t}));\n\t\t\t\t},\n\n\t\t\t\t// UI actions\n\t\t\t\ttoggleSidebar: () => {\n\t\t\t\t\tset((state) => ({ sidebarCollapsed: !state.sidebarCollapsed }));\n\t\t\t\t},\n\n\t\t\t\tsetSidebarCollapsed: (collapsed) =>\n\t\t\t\t\tset({ sidebarCollapsed: collapsed }),\n\n\t\t\t\ttoggleCompletedJobs: () => {\n\t\t\t\t\tset((state) => ({ showCompletedJobs: !state.showCompletedJobs }));\n\t\t\t\t},\n\n\t\t\t\ttoggleConflicts: () => {\n\t\t\t\t\tset((state) => ({ showConflicts: !state.showConflicts }));\n\t\t\t\t},\n\n\t\t\t\ttoggleTravelTime: () => {\n\t\t\t\t\tset((state) => ({ showTravelTime: !state.showTravelTime }));\n\t\t\t\t},\n\n\t\t\t\t// Working hours\n\t\t\t\tsetWorkingHours: (start, end) => {\n\t\t\t\t\tset({\n\t\t\t\t\t\tworkingHoursStart: Math.max(0, Math.min(23, start)),\n\t\t\t\t\t\tworkingHoursEnd: Math.max(0, Math.min(23, end)),\n\t\t\t\t\t});\n\t\t\t\t},\n\n\t\t\t\t// Helpers\n\t\t\t\tgetVisibleTimeRange: () => {\n\t\t\t\t\tconst { currentDate, zoom } = get();\n\n\t\t\t\t\t// Calculate visible range based on zoom level\n\t\t\t\t\t// Lower zoom = more days visible, higher zoom = fewer days/more hours\n\t\t\t\t\tlet daysVisible: number;\n\n\t\t\t\t\tif (zoom < 50) {\n\t\t\t\t\t\tdaysVisible = 90; // ~3 months\n\t\t\t\t\t} else if (zoom < 100) {\n\t\t\t\t\t\tdaysVisible = 30; // 1 month\n\t\t\t\t\t} else if (zoom < 200) {\n\t\t\t\t\t\tdaysVisible = 7; // 1 week\n\t\t\t\t\t} else if (zoom < 400) {\n\t\t\t\t\t\tdaysVisible = 1; // 1 day (hourly view)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdaysVisible = 0.5; // Half day (detailed hourly)\n\t\t\t\t\t}\n\n\t\t\t\t\tconst start = new Date(currentDate);\n\t\t\t\t\tstart.setDate(start.getDate() - Math.floor(daysVisible / 2));\n\t\t\t\t\tstart.setHours(0, 0, 0, 0);\n\n\t\t\t\t\tconst end = new Date(currentDate);\n\t\t\t\t\tend.setDate(end.getDate() + Math.ceil(daysVisible / 2));\n\t\t\t\t\tend.setHours(23, 59, 59, 999);\n\n\t\t\t\t\treturn { start, end };\n\t\t\t\t},\n\n\t\t\t\tisFiltered: () => {\n\t\t\t\t\tconst { filters } = get();\n\t\t\t\t\treturn (\n\t\t\t\t\t\tfilters.technicianIds.length > 0 ||\n\t\t\t\t\t\tfilters.statuses.length > 0 ||\n\t\t\t\t\t\tfilters.priorities.length > 0 ||\n\t\t\t\t\t\tfilters.searchQuery.trim() !== \"\"\n\t\t\t\t\t);\n\t\t\t\t},\n\t\t\t}),\n\t\t\t{\n\t\t\t\tname: \"view-storage\",\n\t\t\t\tskipHydration: true, // CRITICAL: Prevents hydration mismatch with Next.js 16\n\t\t\t\tpartialize: (state) => ({\n\t\t\t\t\tzoom: state.zoom,\n\t\t\t\t\tsidebarCollapsed: state.sidebarCollapsed,\n\t\t\t\t\tshowCompletedJobs: state.showCompletedJobs,\n\t\t\t\t\tshowConflicts: state.showConflicts,\n\t\t\t\t\tshowTravelTime: state.showTravelTime,\n\t\t\t\t\tworkingHoursStart: state.workingHoursStart,\n\t\t\t\t\tworkingHoursEnd: state.workingHoursEnd,\n\t\t\t\t}),\n\t\t\t},\n\t\t),\n\t),\n);\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1576, "column": 0}, "map": {"version":3,"sources":["file:///Users/byronwade/Stratos/apps/web/src/lib/stores/work-view-store.ts"],"sourcesContent":["import { create } from \"zustand\";\nimport { devtools, persist } from \"zustand/middleware\";\n\nexport type WorkSection =\n\t| \"jobs\"\n\t| \"appointments\"\n\t| \"payments\"\n\t| \"estimates\"\n\t| \"invoices\"\n\t| \"contracts\"\n\t| \"maintenancePlans\"\n\t| \"materials\"\n\t| \"purchaseOrders\"\n\t| \"serviceAgreements\"\n\t| \"equipment\"\n\t| \"teams\"\n\t| \"customers\"\n\t| \"vendors\";\n\nexport type WorkViewMode = \"table\" | \"kanban\";\n\ntype WorkViewState = {\n\tviews: Record<WorkSection, WorkViewMode>;\n\tsetView: (section: WorkSection, mode: WorkViewMode) => void;\n\tgetView: (section: WorkSection) => WorkViewMode;\n\treset: () => void;\n};\n\nconst defaultViews: Record<WorkSection, WorkViewMode> = {\n\tjobs: \"table\",\n\tappointments: \"table\",\n\tpayments: \"table\",\n\testimates: \"table\",\n\tinvoices: \"table\",\n\tcontracts: \"table\",\n\tmaintenancePlans: \"table\",\n\tmaterials: \"table\",\n\tpurchaseOrders: \"table\",\n\tserviceAgreements: \"table\",\n\tequipment: \"table\",\n\tteams: \"table\",\n\tcustomers: \"table\",\n\tvendors: \"table\",\n};\n\nfunction createInitialState(): WorkViewState {\n\treturn {\n\t\tviews: { ...defaultViews },\n\t\tsetView: () => {},\n\t\tgetView: () => \"table\",\n\t\treset: () => {},\n\t};\n}\n\nexport const useWorkViewStore = create<WorkViewState>()(\n\tdevtools(\n\t\tpersist(\n\t\t\t(set, get) => ({\n\t\t\t\t...createInitialState(),\n\t\t\t\tsetView: (section, mode) =>\n\t\t\t\t\tset((state) => ({\n\t\t\t\t\t\tviews: {\n\t\t\t\t\t\t\t...state.views,\n\t\t\t\t\t\t\t[section]: mode,\n\t\t\t\t\t\t},\n\t\t\t\t\t})),\n\t\t\t\tgetView: (section) => get().views[section] ?? \"table\",\n\t\t\t\treset: () => set({ views: { ...defaultViews } }),\n\t\t\t}),\n\t\t\t{\n\t\t\t\tname: \"work-view-preferences\",\n\t\t\t\tpartialize: (state) => ({\n\t\t\t\t\tviews: state.views,\n\t\t\t\t}),\n\t\t\t\tskipHydration: true, // CRITICAL: Prevents hydration mismatch with Next.js 16 Server Components\n\t\t\t},\n\t\t),\n\t\t{ name: \"WorkViewStore\" },\n\t),\n);\n\nexport function useWorkView(section: WorkSection): WorkViewMode {\n\treturn useWorkViewStore((state) => state.views[section] ?? \"table\");\n}\n\nexport function useSetWorkView(section: WorkSection) {\n\tconst setView = useWorkViewStore((state) => state.setView);\n\treturn (mode: WorkViewMode) => setView(section, mode);\n}\n"],"names":[],"mappings":";;;;;;;;AAAA;AACA;;;AA2BA,MAAM,eAAkD;IACvD,MAAM;IACN,cAAc;IACd,UAAU;IACV,WAAW;IACX,UAAU;IACV,WAAW;IACX,kBAAkB;IAClB,WAAW;IACX,gBAAgB;IAChB,mBAAmB;IACnB,WAAW;IACX,OAAO;IACP,WAAW;IACX,SAAS;AACV;AAEA,SAAS;IACR,OAAO;QACN,OAAO;YAAE,GAAG,YAAY;QAAC;QACzB,SAAS,KAAO;QAChB,SAAS,IAAM;QACf,OAAO,KAAO;IACf;AACD;AAEO,MAAM,mBAAmB,IAAA,4VAAM,IACrC,IAAA,mWAAQ,EACP,IAAA,kWAAO,EACN,CAAC,KAAK,MAAQ,CAAC;QACd,GAAG,oBAAoB;QACvB,SAAS,CAAC,SAAS,OAClB,IAAI,CAAC,QAAU,CAAC;oBACf,OAAO;wBACN,GAAG,MAAM,KAAK;wBACd,CAAC,QAAQ,EAAE;oBACZ;gBACD,CAAC;QACF,SAAS,CAAC,UAAY,MAAM,KAAK,CAAC,QAAQ,IAAI;QAC9C,OAAO,IAAM,IAAI;gBAAE,OAAO;oBAAE,GAAG,YAAY;gBAAC;YAAE;IAC/C,CAAC,GACD;IACC,MAAM;IACN,YAAY,CAAC,QAAU,CAAC;YACvB,OAAO,MAAM,KAAK;QACnB,CAAC;IACD,eAAe;AAChB,IAED;IAAE,MAAM;AAAgB;AAInB,SAAS,YAAY,OAAoB;IAC/C,OAAO,iBAAiB,CAAC,QAAU,MAAM,KAAK,CAAC,QAAQ,IAAI;AAC5D;AAEO,SAAS,eAAe,OAAoB;IAClD,MAAM,UAAU,iBAAiB,CAAC,QAAU,MAAM,OAAO;IACzD,OAAO,CAAC,OAAuB,QAAQ,SAAS;AACjD"}},
    {"offset": {"line": 1648, "column": 0}, "map": {"version":3,"sources":["file:///Users/byronwade/Stratos/apps/web/src/components/providers/zustand-hydration.tsx"],"sourcesContent":["\"use client\";\n\n/**\n * Zustand Hydration Provider\n *\n * CRITICAL FIX for Next.js 16 + Zustand persist hydration issues.\n *\n * Problem:\n * - Zustand persist was auto-rehydrating during Next.js Server Component hydration\n * - This caused hydration mismatches\n * - Next.js 16's cacheComponents detected mismatches and triggered continuous POST requests\n * - Result: Infinite loop of revalidation (50+ POST requests per page load)\n *\n * Solution:\n * - All Zustand stores now have `skipHydration: true`\n * - This component manually rehydrates AFTER Next.js hydration completes\n * - Prevents hydration mismatches and infinite loops\n *\n * References:\n * - https://github.com/pmndrs/zustand/issues/938\n * - https://docs.pmnd.rs/zustand/integrations/persisting-store-data#hydration-and-asynchronous-storages\n */\n\nimport { useEffect, useRef } from \"react\";\nimport { useRoleStore } from \"@/lib/stores/role-store\";\nimport { useScheduleViewStore } from \"@/lib/stores/schedule-view-store\";\nimport { useSidebarStateStore } from \"@/lib/stores/sidebar-state-store\";\nimport { useUIStore } from \"@/lib/stores/ui-store\";\nimport { useUserStore } from \"@/lib/stores/user-store\";\nimport { useViewStore } from \"@/lib/stores/view-store\";\nimport { useWorkViewStore } from \"@/lib/stores/work-view-store\";\n\n// Global flag to ensure hydration only happens ONCE per session\nlet hasHydrated = false;\n\nexport function ZustandHydration() {\n\tconst hasRun = useRef(false);\n\n\tuseEffect(() => {\n\t\t// CRITICAL: Only hydrate ONCE globally, never on re-mounts or navigations\n\t\tif (hasRun.current || hasHydrated) {\n\t\t\treturn;\n\t\t}\n\n\t\thasRun.current = true;\n\t\thasHydrated = true;\n\n\t\t// Manually rehydrate all persisted stores AFTER Next.js hydration completes\n\t\t// This happens once on client mount, preventing hydration mismatches\n\n\t\t// View/UI stores\n\t\tuseWorkViewStore.persist.rehydrate();\n\t\tuseScheduleViewStore.persist.rehydrate();\n\t\tuseViewStore.persist.rehydrate();\n\t\tuseSidebarStateStore.persist.rehydrate();\n\t\tuseUIStore.persist.rehydrate();\n\t\tuseUserStore.persist.rehydrate();\n\t\tuseRoleStore.persist.rehydrate(); // CRITICAL: Dashboard depends on this\n\n\t\t// Filter stores rehydrate automatically (less critical for hydration)\n\t\t// Add more stores here if needed\n\t}, []);\n\n\treturn null; // This component renders nothing\n}\n"],"names":[],"mappings":";;;;AAEA;;;;;;;;;;;;;;;;;;;CAmBC,GAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9BA;;;;;;;;;AAgCA,gEAAgE;AAChE,IAAI,cAAc;AAEX,SAAS;IACf,MAAM,SAAS,IAAA,sXAAM,EAAC;IAEtB,IAAA,yXAAS,EAAC;QACT,0EAA0E;QAC1E,IAAI,OAAO,OAAO,IAAI,aAAa;YAClC;QACD;QAEA,OAAO,OAAO,GAAG;QACjB,cAAc;QAEd,4EAA4E;QAC5E,qEAAqE;QAErE,iBAAiB;QACjB,gLAAgB,CAAC,OAAO,CAAC,SAAS;QAClC,wLAAoB,CAAC,OAAO,CAAC,SAAS;QACtC,oKAAY,CAAC,OAAO,CAAC,SAAS;QAC9B,wLAAoB,CAAC,OAAO,CAAC,SAAS;QACtC,gKAAU,CAAC,OAAO,CAAC,SAAS;QAC5B,oKAAY,CAAC,OAAO,CAAC,SAAS;QAC9B,oKAAY,CAAC,OAAO,CAAC,SAAS,IAAI,sCAAsC;IAExE,sEAAsE;IACtE,iCAAiC;IAClC,GAAG,EAAE;IAEL,OAAO,MAAM,iCAAiC;AAC/C"}}]
}