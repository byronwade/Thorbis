{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/byronwade/Stratos/apps/web/src/hooks/use-mobile.ts"],"sourcesContent":["import * as React from \"react\";\n\nconst MOBILE_BREAKPOINT = 768;\n\nexport function useIsMobile() {\n\tconst [isMobile, setIsMobile] = React.useState<boolean | undefined>(\n\t\tundefined,\n\t);\n\n\tReact.useEffect(() => {\n\t\tconst mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`);\n\t\tconst onChange = () => {\n\t\t\tsetIsMobile(window.innerWidth < MOBILE_BREAKPOINT);\n\t\t};\n\t\tmql.addEventListener(\"change\", onChange);\n\t\tsetIsMobile(window.innerWidth < MOBILE_BREAKPOINT);\n\t\treturn () => mql.removeEventListener(\"change\", onChange);\n\t}, []);\n\n\treturn !!isMobile;\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,oBAAoB;AAEnB,SAAS;IACf,MAAM,CAAC,UAAU,YAAY,GAAG,wXAAc,CAC7C;IAGD,yXAAe,CAAC;QACf,MAAM,MAAM,OAAO,UAAU,CAAC,CAAC,YAAY,EAAE,oBAAoB,EAAE,GAAG,CAAC;QACvE,MAAM,WAAW;YAChB,YAAY,OAAO,UAAU,GAAG;QACjC;QACA,IAAI,gBAAgB,CAAC,UAAU;QAC/B,YAAY,OAAO,UAAU,GAAG;QAChC,OAAO,IAAM,IAAI,mBAAmB,CAAC,UAAU;IAChD,GAAG,EAAE;IAEL,OAAO,CAAC,CAAC;AACV"}},
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/byronwade/Stratos/apps/web/src/hooks/use-sidebar-scroll.ts"],"sourcesContent":["\"use client\";\n\n/**\n * useSidebarScroll - Preserve sidebar scroll position across navigation\n *\n * Automatically saves and restores sidebar scroll position when navigating\n * between pages, providing a better UX by maintaining scroll context.\n *\n * Features:\n * - Saves scroll position before navigation\n * - Restores scroll position on mount\n * - Uses sessionStorage (persists during session)\n * - Debounced scroll saves (performance)\n * - Per-pathname scroll positions\n *\n * Usage:\n * ```tsx\n * function AppSidebar() {\n *   const scrollRef = useSidebarScroll();\n *   return (\n *     <SidebarContent ref={scrollRef}>\n *       ...\n *     </SidebarContent>\n *   );\n * }\n * ```\n */\n\nimport { usePathname } from \"next/navigation\";\nimport { useEffect, useRef } from \"react\";\n\nconst STORAGE_KEY = \"sidebar-scroll-positions\";\nconst DEBOUNCE_MS = 150;\n\n/**\n * Hook to preserve sidebar scroll position across navigation\n *\n * @returns Ref to attach to scrollable sidebar element\n */\nexport function useSidebarScroll<T extends HTMLElement = HTMLDivElement>() {\n\tconst scrollRef = useRef<T>(null);\n\tconst pathname = usePathname();\n\tconst scrollTimeoutRef = useRef<NodeJS.Timeout>();\n\n\t// Restore scroll position on mount/pathname change\n\tuseEffect(() => {\n\t\tconst element = scrollRef.current;\n\t\tif (!element || !pathname) return;\n\n\t\t// Small delay to ensure DOM is ready\n\t\tconst timeoutId = setTimeout(() => {\n\t\t\ttry {\n\t\t\t\tconst stored = sessionStorage.getItem(STORAGE_KEY);\n\t\t\t\tif (stored) {\n\t\t\t\t\tconst positions = JSON.parse(stored) as Record<string, number>;\n\t\t\t\t\tconst savedPosition = positions[pathname];\n\n\t\t\t\t\tif (savedPosition !== undefined) {\n\t\t\t\t\t\telement.scrollTop = savedPosition;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Failed to restore sidebar scroll position:\", error);\n\t\t\t}\n\t\t}, 50);\n\n\t\treturn () => clearTimeout(timeoutId);\n\t}, [pathname]);\n\n\t// Save scroll position on scroll (debounced)\n\tuseEffect(() => {\n\t\tconst element = scrollRef.current;\n\t\tif (!element || !pathname) return;\n\n\t\tconst handleScroll = () => {\n\t\t\t// Clear existing timeout\n\t\t\tif (scrollTimeoutRef.current) {\n\t\t\t\tclearTimeout(scrollTimeoutRef.current);\n\t\t\t}\n\n\t\t\t// Debounce scroll saves\n\t\t\tscrollTimeoutRef.current = setTimeout(() => {\n\t\t\t\ttry {\n\t\t\t\t\tconst stored = sessionStorage.getItem(STORAGE_KEY);\n\t\t\t\t\tconst positions = stored ? JSON.parse(stored) : {};\n\n\t\t\t\t\tpositions[pathname] = element.scrollTop;\n\n\t\t\t\t\tsessionStorage.setItem(STORAGE_KEY, JSON.stringify(positions));\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error(\"Failed to save sidebar scroll position:\", error);\n\t\t\t\t}\n\t\t\t}, DEBOUNCE_MS);\n\t\t};\n\n\t\telement.addEventListener(\"scroll\", handleScroll, { passive: true });\n\n\t\treturn () => {\n\t\t\telement.removeEventListener(\"scroll\", handleScroll);\n\t\t\tif (scrollTimeoutRef.current) {\n\t\t\t\tclearTimeout(scrollTimeoutRef.current);\n\t\t\t}\n\t\t};\n\t}, [pathname]);\n\n\t// Save scroll position before unmount\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tconst element = scrollRef.current;\n\t\t\tif (!element || !pathname) return;\n\n\t\t\ttry {\n\t\t\t\tconst stored = sessionStorage.getItem(STORAGE_KEY);\n\t\t\t\tconst positions = stored ? JSON.parse(stored) : {};\n\n\t\t\t\tpositions[pathname] = element.scrollTop;\n\n\t\t\t\tsessionStorage.setItem(STORAGE_KEY, JSON.stringify(positions));\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Failed to save sidebar scroll position on unmount:\", error);\n\t\t\t}\n\t\t};\n\t}, [pathname]);\n\n\treturn scrollRef;\n}\n"],"names":[],"mappings":";;;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;CAwBC,GAED;AACA;AA7BA;;;AA+BA,MAAM,cAAc;AACpB,MAAM,cAAc;AAOb,SAAS;IACf,MAAM,YAAY,IAAA,sXAAM,EAAI;IAC5B,MAAM,WAAW,IAAA,wTAAW;IAC5B,MAAM,mBAAmB,IAAA,sXAAM;IAE/B,mDAAmD;IACnD,IAAA,yXAAS,EAAC;QACT,MAAM,UAAU,UAAU,OAAO;QACjC,IAAI,CAAC,WAAW,CAAC,UAAU;QAE3B,qCAAqC;QACrC,MAAM,YAAY,WAAW;YAC5B,IAAI;gBACH,MAAM,SAAS,eAAe,OAAO,CAAC;gBACtC,IAAI,QAAQ;oBACX,MAAM,YAAY,KAAK,KAAK,CAAC;oBAC7B,MAAM,gBAAgB,SAAS,CAAC,SAAS;oBAEzC,IAAI,kBAAkB,WAAW;wBAChC,QAAQ,SAAS,GAAG;oBACrB;gBACD;YACD,EAAE,OAAO,OAAO;gBACf,QAAQ,KAAK,CAAC,8CAA8C;YAC7D;QACD,GAAG;QAEH,OAAO,IAAM,aAAa;IAC3B,GAAG;QAAC;KAAS;IAEb,6CAA6C;IAC7C,IAAA,yXAAS,EAAC;QACT,MAAM,UAAU,UAAU,OAAO;QACjC,IAAI,CAAC,WAAW,CAAC,UAAU;QAE3B,MAAM,eAAe;YACpB,yBAAyB;YACzB,IAAI,iBAAiB,OAAO,EAAE;gBAC7B,aAAa,iBAAiB,OAAO;YACtC;YAEA,wBAAwB;YACxB,iBAAiB,OAAO,GAAG,WAAW;gBACrC,IAAI;oBACH,MAAM,SAAS,eAAe,OAAO,CAAC;oBACtC,MAAM,YAAY,SAAS,KAAK,KAAK,CAAC,UAAU,CAAC;oBAEjD,SAAS,CAAC,SAAS,GAAG,QAAQ,SAAS;oBAEvC,eAAe,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;gBACpD,EAAE,OAAO,OAAO;oBACf,QAAQ,KAAK,CAAC,2CAA2C;gBAC1D;YACD,GAAG;QACJ;QAEA,QAAQ,gBAAgB,CAAC,UAAU,cAAc;YAAE,SAAS;QAAK;QAEjE,OAAO;YACN,QAAQ,mBAAmB,CAAC,UAAU;YACtC,IAAI,iBAAiB,OAAO,EAAE;gBAC7B,aAAa,iBAAiB,OAAO;YACtC;QACD;IACD,GAAG;QAAC;KAAS;IAEb,sCAAsC;IACtC,IAAA,yXAAS,EAAC;QACT,OAAO;YACN,MAAM,UAAU,UAAU,OAAO;YACjC,IAAI,CAAC,WAAW,CAAC,UAAU;YAE3B,IAAI;gBACH,MAAM,SAAS,eAAe,OAAO,CAAC;gBACtC,MAAM,YAAY,SAAS,KAAK,KAAK,CAAC,UAAU,CAAC;gBAEjD,SAAS,CAAC,SAAS,GAAG,QAAQ,SAAS;gBAEvC,eAAe,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;YACpD,EAAE,OAAO,OAAO;gBACf,QAAQ,KAAK,CAAC,sDAAsD;YACrE;QACD;IACD,GAAG;QAAC;KAAS;IAEb,OAAO;AACR"}}]
}