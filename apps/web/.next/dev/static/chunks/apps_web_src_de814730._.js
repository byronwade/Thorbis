(globalThis.TURBOPACK || (globalThis.TURBOPACK = [])).push([typeof document === "object" ? document.currentScript : undefined,
"[project]/apps/web/src/actions/data:9172bf [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"400039e7a7c330743dd05d571e0e32d4d4c8a51996":"arriveAppointment"},"apps/web/src/actions/schedule-assignments.ts",""] */ __turbopack_context__.s([
    "arriveAppointment",
    ()=>arriveAppointment
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var arriveAppointment = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("400039e7a7c330743dd05d571e0e32d4d4c8a51996", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "arriveAppointment"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vc2NoZWR1bGUtYXNzaWdubWVudHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc2VydmVyXCI7XG5cbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gXCJAL2xpYi9zdXBhYmFzZS9zZXJ2ZXJcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFzc2lnbkpvYlRvVGVjaG5pY2lhbihcblx0X2pvYklkOiBzdHJpbmcsXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0dGVjaG5pY2lhbklkOiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHQvLyBGaXJzdCBjaGVjayBpZiB0aGUgc2NoZWR1bGUgZXhpc3RzIGFuZCBnZXQgY3VycmVudCBhc3NpZ25tZW50XG5cdFx0Y29uc3QgeyBkYXRhOiBleGlzdGluZ1NjaGVkdWxlLCBlcnJvcjogY2hlY2tFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQuc2VsZWN0KFwiaWQsIGFzc2lnbmVkX3RvXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0aWYgKGNoZWNrRXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgU2NoZWR1bGUgY2hlY2sgZmFpbGVkOiAke2NoZWNrRXJyb3IubWVzc2FnZX1gKTtcblx0XHR9XG5cblx0XHRpZiAoIWV4aXN0aW5nU2NoZWR1bGUpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIlNjaGVkdWxlIG5vdCBmb3VuZFwiKTtcblx0XHR9XG5cblx0XHQvLyBVcGRhdGUgdGhlIHNjaGVkdWxlJ3MgYXNzaWduZWRfdG8gZmllbGRcblx0XHRjb25zdCB7IGRhdGE6IHVwZGF0ZWRTY2hlZHVsZSwgZXJyb3I6IHNjaGVkdWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7IGFzc2lnbmVkX3RvOiB0ZWNobmljaWFuSWQgfSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChzY2hlZHVsZUVycm9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYFNjaGVkdWxlIHVwZGF0ZSBmYWlsZWQ6ICR7c2NoZWR1bGVFcnJvci5tZXNzYWdlfWApO1xuXHRcdH1cblxuXHRcdC8vIERvbid0IHJldmFsaWRhdGUgaW1tZWRpYXRlbHkgLSBsZXQgdGhlIG9wdGltaXN0aWMgdXBkYXRlIHNob3dcblx0XHQvLyByZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvc2NoZWR1bGVcIik7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogdXBkYXRlZFNjaGVkdWxlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gYXNzaWduIGpvYlwiLFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUFwcG9pbnRtZW50VGltZXMoXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0c3RhcnRUaW1lOiBEYXRlLFxuXHRlbmRUaW1lOiBEYXRlLFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgZHVyYXRpb24gPSBNYXRoLnJvdW5kKFxuXHRcdFx0KGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSxcblx0XHQpO1xuXG5cdFx0Ly8gRm9ybWF0IGFzIGxvY2FsIGRhdGV0aW1lIHN0cmluZyBXSVRIT1VUIHRpbWV6b25lIGNvbnZlcnNpb25cblx0XHQvLyBHZXQgeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWludXRlIGZyb20gdGhlIERhdGUgb2JqZWN0IGRpcmVjdGx5XG5cdFx0Y29uc3QgZm9ybWF0TG9jYWxEYXRlVGltZSA9IChkYXRlOiBEYXRlKSA9PiB7XG5cdFx0XHRjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0Y29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBob3VyID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgbWludXRlID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBzZWNvbmQgPSBTdHJpbmcoZGF0ZS5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX0gJHtob3VyfToke21pbnV0ZX06JHtzZWNvbmR9YDtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3RhcnRTdHIgPSBmb3JtYXRMb2NhbERhdGVUaW1lKHN0YXJ0VGltZSk7XG5cdFx0Y29uc3QgZW5kU3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShlbmRUaW1lKTtcblxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXJ0X3RpbWU6IHN0YXJ0U3RyLFxuXHRcdFx0XHRlbmRfdGltZTogZW5kU3RyLFxuXHRcdFx0XHRkdXJhdGlvbixcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gRG9uJ3QgcmV2YWxpZGF0ZSBpbW1lZGlhdGVseSAtIGxldCB0aGUgb3B0aW1pc3RpYyB1cGRhdGUgc2hvd1xuXHRcdC8vIHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9zY2hlZHVsZVwiKTtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gdXBkYXRlIHRpbWVzXCIsXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2FuY2VsQXBwb2ludG1lbnQoc2NoZWR1bGVJZDogc3RyaW5nLCByZWFzb24/OiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gQ2FuY2VsIGFwcG9pbnRtZW50IC0gdW5zY2hlZHVsZSBpdCAocmVtb3ZlIGFzc2lnbmVkX3RvKVxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIixcblx0XHRcdFx0YXNzaWduZWRfdG86IG51bGwsIC8vIFVuYXNzaWduIHRlY2huaWNpYW5cblx0XHRcdFx0Y2FuY2VsbGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG5cdFx0XHRcdGNhbmNlbGxlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0Y2FuY2VsbGF0aW9uX3JlYXNvbjogcmVhc29uIHx8IG51bGwsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgc2NoZWR1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byBjYW5jZWwgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjYW5jZWxKb2JBbmRBcHBvaW50bWVudChcblx0c2NoZWR1bGVJZDogc3RyaW5nLFxuXHRqb2JJZDogc3RyaW5nLFxuXHRyZWFzb24/OiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG5cdFx0Ly8gQ2FuY2VsIHRoZSBhcHBvaW50bWVudFxuXHRcdGNvbnN0IHsgZXJyb3I6IHNjaGVkdWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIixcblx0XHRcdFx0YXNzaWduZWRfdG86IG51bGwsXG5cdFx0XHRcdGNhbmNlbGxlZF9hdDogbm93LFxuXHRcdFx0XHRjYW5jZWxsZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHRcdGNhbmNlbGxhdGlvbl9yZWFzb246IHJlYXNvbiB8fCBudWxsLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKHNjaGVkdWxlRXJyb3IpIHtcblx0XHRcdHRocm93IHNjaGVkdWxlRXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gQWxzbyBjYW5jZWwgdGhlIGpvYiBpZiBpdCBleGlzdHNcblx0XHRpZiAoam9iSWQpIHtcblx0XHRcdGNvbnN0IHsgZXJyb3I6IGpvYkVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0XHQuZnJvbShcImpvYnNcIilcblx0XHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdFx0c3RhdHVzOiBcImNhbmNlbGxlZFwiLFxuXHRcdFx0XHRcdGNhbmNlbGxlZF9hdDogbm93LFxuXHRcdFx0XHRcdGNhbmNlbGxlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0XHRjYW5jZWxsYXRpb25fcmVhc29uOiByZWFzb24gfHwgbnVsbCxcblx0XHRcdFx0fSlcblx0XHRcdFx0LmVxKFwiaWRcIiwgam9iSWQpO1xuXG5cdFx0XHRpZiAoam9iRXJyb3IpIHtcblx0XHRcdFx0dGhyb3cgam9iRXJyb3I7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byBjYW5jZWwgam9iIGFuZCBhcHBvaW50bWVudFwiLFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFyY2hpdmVBcHBvaW50bWVudChzY2hlZHVsZUlkOiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRhcmNoaXZlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIGFyY2hpdmUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb21wbGV0ZUFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG5cdGlmICghc3VwYWJhc2UpIHtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRGF0YWJhc2Ugbm90IGF2YWlsYWJsZVwiIH07XG5cdH1cblxuXHR0cnkge1xuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblxuXHRcdGlmICghdXNlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vdCBhdXRoZW50aWNhdGVkXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRzdGF0dXM6IFwiY29tcGxldGVkXCIsXG5cdFx0XHRcdGFjdHVhbF9lbmRfdGltZTogbm93LFxuXHRcdFx0XHRjb21wbGV0ZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgc2NoZWR1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gY29tcGxldGUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbnR5cGUgRGlzcGF0Y2hTdGF0dXMgPSBcImRpc3BhdGNoZWRcIiB8IFwiYXJyaXZlZFwiIHwgXCJjbG9zZWRcIjtcblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlU2NoZWR1bGVTdGF0dXMoXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0c3RhdHVzOiBEaXNwYXRjaFN0YXR1cyxcblx0ZXh0cmFVcGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9LFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblx0XHRjb25zdCB1cGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHtcblx0XHRcdHN0YXR1cyxcblx0XHRcdHVwZGF0ZWRfYXQ6IG5vdyxcblx0XHRcdC4uLmV4dHJhVXBkYXRlcyxcblx0XHR9O1xuXG5cdFx0aWYgKHN0YXR1cyA9PT0gXCJjbG9zZWRcIikge1xuXHRcdFx0dXBkYXRlcy5jb21wbGV0ZWRfYnkgPSB1c2VyLmlkO1xuXHRcdFx0dXBkYXRlcy5hY3R1YWxfZW5kX3RpbWUgPSB1cGRhdGVzLmFjdHVhbF9lbmRfdGltZSA/PyBub3c7XG5cdFx0fVxuXG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHVwZGF0ZXMpXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBgRmFpbGVkIHRvIHVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMgdG8gJHtzdGF0dXN9YCxcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkaXNwYXRjaEFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRyZXR1cm4gdXBkYXRlU2NoZWR1bGVTdGF0dXMoc2NoZWR1bGVJZCwgXCJkaXNwYXRjaGVkXCIpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXJyaXZlQXBwb2ludG1lbnQoc2NoZWR1bGVJZDogc3RyaW5nKSB7XG5cdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblx0cmV0dXJuIHVwZGF0ZVNjaGVkdWxlU3RhdHVzKHNjaGVkdWxlSWQsIFwiYXJyaXZlZFwiLCB7XG5cdFx0YWN0dWFsX3N0YXJ0X3RpbWU6IG5vdyxcblx0fSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbG9zZUFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cdHJldHVybiB1cGRhdGVTY2hlZHVsZVN0YXR1cyhzY2hlZHVsZUlkLCBcImNsb3NlZFwiLCB7XG5cdFx0YWN0dWFsX2VuZF90aW1lOiBub3csXG5cdH0pO1xufVxuXG4vKipcbiAqIE1vdmUgYW4gZXhpc3RpbmcgYXBwb2ludG1lbnQgdG8gYSBuZXcgdGVjaG5pY2lhbiBhbmQvb3IgdGltZSBzbG90XG4gKiBCYXRjaGVzIGJvdGggb3BlcmF0aW9ucyBpbiBhIHNpbmdsZSBkYXRhYmFzZSBjYWxsIGZvciBwZXJmb3JtYW5jZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbW92ZUFwcG9pbnRtZW50KFxuXHRzY2hlZHVsZUlkOiBzdHJpbmcsXG5cdHRlY2huaWNpYW5JZDogc3RyaW5nLFxuXHRzdGFydFRpbWU6IERhdGUsXG5cdGVuZFRpbWU6IERhdGUsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCBkdXJhdGlvbiA9IE1hdGgucm91bmQoXG5cdFx0XHQoZW5kVGltZS5nZXRUaW1lKCkgLSBzdGFydFRpbWUuZ2V0VGltZSgpKSAvICgxMDAwICogNjApLFxuXHRcdCk7XG5cblx0XHQvLyBGb3JtYXQgYXMgbG9jYWwgZGF0ZXRpbWUgc3RyaW5nIFdJVEhPVVQgdGltZXpvbmUgY29udmVyc2lvblxuXHRcdGNvbnN0IGZvcm1hdExvY2FsRGF0ZVRpbWUgPSAoZGF0ZTogRGF0ZSkgPT4ge1xuXHRcdFx0Y29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcblx0XHRcdGNvbnN0IG1vbnRoID0gU3RyaW5nKGRhdGUuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGNvbnN0IGRheSA9IFN0cmluZyhkYXRlLmdldERhdGUoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgaG91ciA9IFN0cmluZyhkYXRlLmdldEhvdXJzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGNvbnN0IG1pbnV0ZSA9IFN0cmluZyhkYXRlLmdldE1pbnV0ZXMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3Qgc2Vjb25kID0gU3RyaW5nKGRhdGUuZ2V0U2Vjb25kcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRyZXR1cm4gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9ICR7aG91cn06JHttaW51dGV9OiR7c2Vjb25kfWA7XG5cdFx0fTtcblxuXHRcdGNvbnN0IHN0YXJ0U3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShzdGFydFRpbWUpO1xuXHRcdGNvbnN0IGVuZFN0ciA9IGZvcm1hdExvY2FsRGF0ZVRpbWUoZW5kVGltZSk7XG5cblx0XHQvLyBTaW5nbGUgYXRvbWljIHVwZGF0ZSBmb3IgYm90aCBhc3NpZ25tZW50IGFuZCB0aW1lc1xuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdGFzc2lnbmVkX3RvOiB0ZWNobmljaWFuSWQsXG5cdFx0XHRcdHN0YXJ0X3RpbWU6IHN0YXJ0U3RyLFxuXHRcdFx0XHRlbmRfdGltZTogZW5kU3RyLFxuXHRcdFx0XHRkdXJhdGlvbixcblx0XHRcdFx0dXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiRmFpbGVkIHRvIG1vdmUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogQXNzaWduIGFuIHVuYXNzaWduZWQgam9iIHRvIGEgdGVjaG5pY2lhbiB3aXRoIGEgc3BlY2lmaWMgdGltZSBzbG90XG4gKiBVc2VkIHdoZW4gZHJhZ2dpbmcgZnJvbSB1bmFzc2lnbmVkIHBhbmVsIHRvIGEgdGVjaG5pY2lhbiBsYW5lXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhc3NpZ25OZXdBcHBvaW50bWVudChcblx0c2NoZWR1bGVJZDogc3RyaW5nLFxuXHR0ZWNobmljaWFuSWQ6IHN0cmluZyxcblx0c3RhcnRUaW1lOiBEYXRlLFxuXHRlbmRUaW1lOiBEYXRlLFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgZHVyYXRpb24gPSBNYXRoLnJvdW5kKFxuXHRcdFx0KGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSxcblx0XHQpO1xuXG5cdFx0Y29uc3QgZm9ybWF0TG9jYWxEYXRlVGltZSA9IChkYXRlOiBEYXRlKSA9PiB7XG5cdFx0XHRjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0Y29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBob3VyID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgbWludXRlID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBzZWNvbmQgPSBTdHJpbmcoZGF0ZS5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX0gJHtob3VyfToke21pbnV0ZX06JHtzZWNvbmR9YDtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3RhcnRTdHIgPSBmb3JtYXRMb2NhbERhdGVUaW1lKHN0YXJ0VGltZSk7XG5cdFx0Y29uc3QgZW5kU3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShlbmRUaW1lKTtcblxuXHRcdC8vIFNpbmdsZSBhdG9taWMgdXBkYXRlIGZvciBhc3NpZ25tZW50XG5cdFx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHtcblx0XHRcdFx0YXNzaWduZWRfdG86IHRlY2huaWNpYW5JZCxcblx0XHRcdFx0c3RhcnRfdGltZTogc3RhcnRTdHIsXG5cdFx0XHRcdGVuZF90aW1lOiBlbmRTdHIsXG5cdFx0XHRcdGR1cmF0aW9uLFxuXHRcdFx0XHRzdGF0dXM6IFwic2NoZWR1bGVkXCIsXG5cdFx0XHRcdHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKVxuXHRcdFx0LnNlbGVjdCgpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGEgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gYXNzaWduIGFwcG9pbnRtZW50XCIsXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdW5hc3NpZ25BcHBvaW50bWVudChzY2hlZHVsZUlkOiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRhc3NpZ25lZF90bzogbnVsbCxcblx0XHRcdFx0dXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIG1vdmUgYXBwb2ludG1lbnQgdG8gVW5zY2hlZHVsZWRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogU2VuZCBcIk9uIE15IFdheVwiIFNNUyBub3RpZmljYXRpb24gdG8gY3VzdG9tZXJcbiAqIEluY2x1ZGVzIHRlY2huaWNpYW4gbmFtZSBhbmQgZXN0aW1hdGVkIGFycml2YWwgdGltZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZE9uTXlXYXlOb3RpZmljYXRpb24oXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0dGVjaG5pY2lhbk5hbWU6IHN0cmluZyxcblx0Y3VzdG9tZXJQaG9uZTogc3RyaW5nLFxuXHRkZXN0aW5hdGlvbkFkZHJlc3M/OiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHQvLyBHZXQgdXNlciBhbmQgY29tcGFueSBpbmZvXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBjb21wYW55J3MgVGVsbnl4IHNldHRpbmdzIGZvciB0aGUgZnJvbSBudW1iZXJcblx0XHRjb25zdCB7IGRhdGE6IG1lbWJlcnNoaXAgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfbWVtYmVyc2hpcHNcIilcblx0XHRcdC5zZWxlY3QoXCJjb21wYW55X2lkXCIpXG5cdFx0XHQuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpXG5cdFx0XHQuZXEoXCJzdGF0dXNcIiwgXCJhY3RpdmVcIilcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghbWVtYmVyc2hpcD8uY29tcGFueV9pZCkge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIGFjdGl2ZSBjb21wYW55IG1lbWJlcnNoaXBcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IHsgZGF0YTogdGVsbnl4U2V0dGluZ3MgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfdGVsbnl4X3NldHRpbmdzXCIpXG5cdFx0XHQuc2VsZWN0KFwicGhvbmVfbnVtYmVyLCBzdGF0dXNcIilcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgbWVtYmVyc2hpcC5jb21wYW55X2lkKVxuXHRcdFx0LmVxKFwic3RhdHVzXCIsIFwicmVhZHlcIilcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghdGVsbnl4U2V0dGluZ3M/LnBob25lX251bWJlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIHBob25lIG51bWJlciBjb25maWd1cmVkIGZvciBTTVNcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBjb21wYW55IG5hbWUgZm9yIHRoZSBtZXNzYWdlXG5cdFx0Y29uc3QgeyBkYXRhOiBjb21wYW55IH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjb21wYW5pZXNcIilcblx0XHRcdC5zZWxlY3QoXCJuYW1lXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBtZW1iZXJzaGlwLmNvbXBhbnlfaWQpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHQvLyBCdWlsZCB0aGUgXCJPbiBNeSBXYXlcIiBtZXNzYWdlXG5cdFx0bGV0IG1lc3NhZ2UgPSBgSGkhICR7dGVjaG5pY2lhbk5hbWV9IGZyb20gJHtjb21wYW55Py5uYW1lIHx8IFwieW91ciBzZXJ2aWNlIHByb3ZpZGVyXCJ9IGlzIG9uIHRoZSB3YXkgdG8geW91ciBhcHBvaW50bWVudC5gO1xuXG5cdFx0Ly8gVHJ5IHRvIGdldCB0cmF2ZWwgdGltZSBlc3RpbWF0ZSBpZiB3ZSBoYXZlIGEgZGVzdGluYXRpb25cblx0XHRpZiAoZGVzdGluYXRpb25BZGRyZXNzKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCBiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBQX1VSTCB8fCBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMFwiO1xuXHRcdFx0XHRjb25zdCB0cmF2ZWxSZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0XHRcdGAke2Jhc2VVcmx9L2FwaS90cmF2ZWwtdGltZT9kZXN0aW5hdGlvbj0ke2VuY29kZVVSSUNvbXBvbmVudChkZXN0aW5hdGlvbkFkZHJlc3MpfWAsXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0aGVhZGVyczoge1xuXHRcdFx0XHRcdFx0XHRDb29raWU6IGBzYi1hY2Nlc3MtdG9rZW49JHt1c2VyLmlkfWAsIC8vIFBhc3MgYXV0aCBjb250ZXh0XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0aWYgKHRyYXZlbFJlc3BvbnNlLm9rKSB7XG5cdFx0XHRcdFx0Y29uc3QgdHJhdmVsRGF0YSA9IGF3YWl0IHRyYXZlbFJlc3BvbnNlLmpzb24oKTtcblx0XHRcdFx0XHRpZiAodHJhdmVsRGF0YS5kdXJhdGlvblRleHQpIHtcblx0XHRcdFx0XHRcdG1lc3NhZ2UgKz0gYCBFc3RpbWF0ZWQgYXJyaXZhbDogJHt0cmF2ZWxEYXRhLmR1cmF0aW9uVGV4dH0uYDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHQvLyBUcmF2ZWwgdGltZSBmZXRjaCBmYWlsZWQgLSBjb250aW51ZSB3aXRob3V0IGl0XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0bWVzc2FnZSArPSBcIiBXZSdsbCBzZWUgeW91IHNvb24hXCI7XG5cblx0XHQvLyBTZW5kIHRoZSBTTVMgdmlhIFRlbG55eFxuXHRcdGNvbnN0IHsgc2VuZFNNUyB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvdGVsbnl4L21lc3NhZ2luZ1wiKTtcblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kU01TKHtcblx0XHRcdHRvOiBjdXN0b21lclBob25lLFxuXHRcdFx0ZnJvbTogdGVsbnl4U2V0dGluZ3MucGhvbmVfbnVtYmVyLFxuXHRcdFx0dGV4dDogbWVzc2FnZSxcblx0XHR9KTtcblxuXHRcdGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gc2VuZCBTTVNcIiB9O1xuXHRcdH1cblxuXHRcdC8vIFVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMgdG8gZGlzcGF0Y2hlZFxuXHRcdGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJkaXNwYXRjaGVkXCIsXG5cdFx0XHRcdGRpc3BhdGNoZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0bWVzc2FnZTogXCJPbiBNeSBXYXkgbm90aWZpY2F0aW9uIHNlbnQgc3VjY2Vzc2Z1bGx5XCIsXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gc2VuZCBPbiBNeSBXYXkgbm90aWZpY2F0aW9uXCIsXG5cdFx0fTtcblx0fVxufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJ1VEErVnNCIn0=
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:7ac4ae [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"606578cdf7250e905f11d3f7a32b103d788ec7a30d":"cancelAppointment"},"apps/web/src/actions/schedule-assignments.ts",""] */ __turbopack_context__.s([
    "cancelAppointment",
    ()=>cancelAppointment
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var cancelAppointment = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("606578cdf7250e905f11d3f7a32b103d788ec7a30d", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "cancelAppointment"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vc2NoZWR1bGUtYXNzaWdubWVudHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc2VydmVyXCI7XG5cbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gXCJAL2xpYi9zdXBhYmFzZS9zZXJ2ZXJcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFzc2lnbkpvYlRvVGVjaG5pY2lhbihcblx0X2pvYklkOiBzdHJpbmcsXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0dGVjaG5pY2lhbklkOiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHQvLyBGaXJzdCBjaGVjayBpZiB0aGUgc2NoZWR1bGUgZXhpc3RzIGFuZCBnZXQgY3VycmVudCBhc3NpZ25tZW50XG5cdFx0Y29uc3QgeyBkYXRhOiBleGlzdGluZ1NjaGVkdWxlLCBlcnJvcjogY2hlY2tFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQuc2VsZWN0KFwiaWQsIGFzc2lnbmVkX3RvXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0aWYgKGNoZWNrRXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgU2NoZWR1bGUgY2hlY2sgZmFpbGVkOiAke2NoZWNrRXJyb3IubWVzc2FnZX1gKTtcblx0XHR9XG5cblx0XHRpZiAoIWV4aXN0aW5nU2NoZWR1bGUpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIlNjaGVkdWxlIG5vdCBmb3VuZFwiKTtcblx0XHR9XG5cblx0XHQvLyBVcGRhdGUgdGhlIHNjaGVkdWxlJ3MgYXNzaWduZWRfdG8gZmllbGRcblx0XHRjb25zdCB7IGRhdGE6IHVwZGF0ZWRTY2hlZHVsZSwgZXJyb3I6IHNjaGVkdWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7IGFzc2lnbmVkX3RvOiB0ZWNobmljaWFuSWQgfSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChzY2hlZHVsZUVycm9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYFNjaGVkdWxlIHVwZGF0ZSBmYWlsZWQ6ICR7c2NoZWR1bGVFcnJvci5tZXNzYWdlfWApO1xuXHRcdH1cblxuXHRcdC8vIERvbid0IHJldmFsaWRhdGUgaW1tZWRpYXRlbHkgLSBsZXQgdGhlIG9wdGltaXN0aWMgdXBkYXRlIHNob3dcblx0XHQvLyByZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvc2NoZWR1bGVcIik7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogdXBkYXRlZFNjaGVkdWxlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gYXNzaWduIGpvYlwiLFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUFwcG9pbnRtZW50VGltZXMoXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0c3RhcnRUaW1lOiBEYXRlLFxuXHRlbmRUaW1lOiBEYXRlLFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgZHVyYXRpb24gPSBNYXRoLnJvdW5kKFxuXHRcdFx0KGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSxcblx0XHQpO1xuXG5cdFx0Ly8gRm9ybWF0IGFzIGxvY2FsIGRhdGV0aW1lIHN0cmluZyBXSVRIT1VUIHRpbWV6b25lIGNvbnZlcnNpb25cblx0XHQvLyBHZXQgeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWludXRlIGZyb20gdGhlIERhdGUgb2JqZWN0IGRpcmVjdGx5XG5cdFx0Y29uc3QgZm9ybWF0TG9jYWxEYXRlVGltZSA9IChkYXRlOiBEYXRlKSA9PiB7XG5cdFx0XHRjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0Y29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBob3VyID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgbWludXRlID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBzZWNvbmQgPSBTdHJpbmcoZGF0ZS5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX0gJHtob3VyfToke21pbnV0ZX06JHtzZWNvbmR9YDtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3RhcnRTdHIgPSBmb3JtYXRMb2NhbERhdGVUaW1lKHN0YXJ0VGltZSk7XG5cdFx0Y29uc3QgZW5kU3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShlbmRUaW1lKTtcblxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXJ0X3RpbWU6IHN0YXJ0U3RyLFxuXHRcdFx0XHRlbmRfdGltZTogZW5kU3RyLFxuXHRcdFx0XHRkdXJhdGlvbixcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gRG9uJ3QgcmV2YWxpZGF0ZSBpbW1lZGlhdGVseSAtIGxldCB0aGUgb3B0aW1pc3RpYyB1cGRhdGUgc2hvd1xuXHRcdC8vIHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9zY2hlZHVsZVwiKTtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gdXBkYXRlIHRpbWVzXCIsXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2FuY2VsQXBwb2ludG1lbnQoc2NoZWR1bGVJZDogc3RyaW5nLCByZWFzb24/OiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gQ2FuY2VsIGFwcG9pbnRtZW50IC0gdW5zY2hlZHVsZSBpdCAocmVtb3ZlIGFzc2lnbmVkX3RvKVxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIixcblx0XHRcdFx0YXNzaWduZWRfdG86IG51bGwsIC8vIFVuYXNzaWduIHRlY2huaWNpYW5cblx0XHRcdFx0Y2FuY2VsbGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG5cdFx0XHRcdGNhbmNlbGxlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0Y2FuY2VsbGF0aW9uX3JlYXNvbjogcmVhc29uIHx8IG51bGwsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgc2NoZWR1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byBjYW5jZWwgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjYW5jZWxKb2JBbmRBcHBvaW50bWVudChcblx0c2NoZWR1bGVJZDogc3RyaW5nLFxuXHRqb2JJZDogc3RyaW5nLFxuXHRyZWFzb24/OiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG5cdFx0Ly8gQ2FuY2VsIHRoZSBhcHBvaW50bWVudFxuXHRcdGNvbnN0IHsgZXJyb3I6IHNjaGVkdWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIixcblx0XHRcdFx0YXNzaWduZWRfdG86IG51bGwsXG5cdFx0XHRcdGNhbmNlbGxlZF9hdDogbm93LFxuXHRcdFx0XHRjYW5jZWxsZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHRcdGNhbmNlbGxhdGlvbl9yZWFzb246IHJlYXNvbiB8fCBudWxsLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKHNjaGVkdWxlRXJyb3IpIHtcblx0XHRcdHRocm93IHNjaGVkdWxlRXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gQWxzbyBjYW5jZWwgdGhlIGpvYiBpZiBpdCBleGlzdHNcblx0XHRpZiAoam9iSWQpIHtcblx0XHRcdGNvbnN0IHsgZXJyb3I6IGpvYkVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0XHQuZnJvbShcImpvYnNcIilcblx0XHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdFx0c3RhdHVzOiBcImNhbmNlbGxlZFwiLFxuXHRcdFx0XHRcdGNhbmNlbGxlZF9hdDogbm93LFxuXHRcdFx0XHRcdGNhbmNlbGxlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0XHRjYW5jZWxsYXRpb25fcmVhc29uOiByZWFzb24gfHwgbnVsbCxcblx0XHRcdFx0fSlcblx0XHRcdFx0LmVxKFwiaWRcIiwgam9iSWQpO1xuXG5cdFx0XHRpZiAoam9iRXJyb3IpIHtcblx0XHRcdFx0dGhyb3cgam9iRXJyb3I7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byBjYW5jZWwgam9iIGFuZCBhcHBvaW50bWVudFwiLFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFyY2hpdmVBcHBvaW50bWVudChzY2hlZHVsZUlkOiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRhcmNoaXZlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIGFyY2hpdmUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb21wbGV0ZUFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG5cdGlmICghc3VwYWJhc2UpIHtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRGF0YWJhc2Ugbm90IGF2YWlsYWJsZVwiIH07XG5cdH1cblxuXHR0cnkge1xuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblxuXHRcdGlmICghdXNlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vdCBhdXRoZW50aWNhdGVkXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRzdGF0dXM6IFwiY29tcGxldGVkXCIsXG5cdFx0XHRcdGFjdHVhbF9lbmRfdGltZTogbm93LFxuXHRcdFx0XHRjb21wbGV0ZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgc2NoZWR1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gY29tcGxldGUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbnR5cGUgRGlzcGF0Y2hTdGF0dXMgPSBcImRpc3BhdGNoZWRcIiB8IFwiYXJyaXZlZFwiIHwgXCJjbG9zZWRcIjtcblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlU2NoZWR1bGVTdGF0dXMoXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0c3RhdHVzOiBEaXNwYXRjaFN0YXR1cyxcblx0ZXh0cmFVcGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9LFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblx0XHRjb25zdCB1cGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHtcblx0XHRcdHN0YXR1cyxcblx0XHRcdHVwZGF0ZWRfYXQ6IG5vdyxcblx0XHRcdC4uLmV4dHJhVXBkYXRlcyxcblx0XHR9O1xuXG5cdFx0aWYgKHN0YXR1cyA9PT0gXCJjbG9zZWRcIikge1xuXHRcdFx0dXBkYXRlcy5jb21wbGV0ZWRfYnkgPSB1c2VyLmlkO1xuXHRcdFx0dXBkYXRlcy5hY3R1YWxfZW5kX3RpbWUgPSB1cGRhdGVzLmFjdHVhbF9lbmRfdGltZSA/PyBub3c7XG5cdFx0fVxuXG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHVwZGF0ZXMpXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBgRmFpbGVkIHRvIHVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMgdG8gJHtzdGF0dXN9YCxcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkaXNwYXRjaEFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRyZXR1cm4gdXBkYXRlU2NoZWR1bGVTdGF0dXMoc2NoZWR1bGVJZCwgXCJkaXNwYXRjaGVkXCIpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXJyaXZlQXBwb2ludG1lbnQoc2NoZWR1bGVJZDogc3RyaW5nKSB7XG5cdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblx0cmV0dXJuIHVwZGF0ZVNjaGVkdWxlU3RhdHVzKHNjaGVkdWxlSWQsIFwiYXJyaXZlZFwiLCB7XG5cdFx0YWN0dWFsX3N0YXJ0X3RpbWU6IG5vdyxcblx0fSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbG9zZUFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cdHJldHVybiB1cGRhdGVTY2hlZHVsZVN0YXR1cyhzY2hlZHVsZUlkLCBcImNsb3NlZFwiLCB7XG5cdFx0YWN0dWFsX2VuZF90aW1lOiBub3csXG5cdH0pO1xufVxuXG4vKipcbiAqIE1vdmUgYW4gZXhpc3RpbmcgYXBwb2ludG1lbnQgdG8gYSBuZXcgdGVjaG5pY2lhbiBhbmQvb3IgdGltZSBzbG90XG4gKiBCYXRjaGVzIGJvdGggb3BlcmF0aW9ucyBpbiBhIHNpbmdsZSBkYXRhYmFzZSBjYWxsIGZvciBwZXJmb3JtYW5jZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbW92ZUFwcG9pbnRtZW50KFxuXHRzY2hlZHVsZUlkOiBzdHJpbmcsXG5cdHRlY2huaWNpYW5JZDogc3RyaW5nLFxuXHRzdGFydFRpbWU6IERhdGUsXG5cdGVuZFRpbWU6IERhdGUsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCBkdXJhdGlvbiA9IE1hdGgucm91bmQoXG5cdFx0XHQoZW5kVGltZS5nZXRUaW1lKCkgLSBzdGFydFRpbWUuZ2V0VGltZSgpKSAvICgxMDAwICogNjApLFxuXHRcdCk7XG5cblx0XHQvLyBGb3JtYXQgYXMgbG9jYWwgZGF0ZXRpbWUgc3RyaW5nIFdJVEhPVVQgdGltZXpvbmUgY29udmVyc2lvblxuXHRcdGNvbnN0IGZvcm1hdExvY2FsRGF0ZVRpbWUgPSAoZGF0ZTogRGF0ZSkgPT4ge1xuXHRcdFx0Y29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcblx0XHRcdGNvbnN0IG1vbnRoID0gU3RyaW5nKGRhdGUuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGNvbnN0IGRheSA9IFN0cmluZyhkYXRlLmdldERhdGUoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgaG91ciA9IFN0cmluZyhkYXRlLmdldEhvdXJzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGNvbnN0IG1pbnV0ZSA9IFN0cmluZyhkYXRlLmdldE1pbnV0ZXMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3Qgc2Vjb25kID0gU3RyaW5nKGRhdGUuZ2V0U2Vjb25kcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRyZXR1cm4gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9ICR7aG91cn06JHttaW51dGV9OiR7c2Vjb25kfWA7XG5cdFx0fTtcblxuXHRcdGNvbnN0IHN0YXJ0U3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShzdGFydFRpbWUpO1xuXHRcdGNvbnN0IGVuZFN0ciA9IGZvcm1hdExvY2FsRGF0ZVRpbWUoZW5kVGltZSk7XG5cblx0XHQvLyBTaW5nbGUgYXRvbWljIHVwZGF0ZSBmb3IgYm90aCBhc3NpZ25tZW50IGFuZCB0aW1lc1xuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdGFzc2lnbmVkX3RvOiB0ZWNobmljaWFuSWQsXG5cdFx0XHRcdHN0YXJ0X3RpbWU6IHN0YXJ0U3RyLFxuXHRcdFx0XHRlbmRfdGltZTogZW5kU3RyLFxuXHRcdFx0XHRkdXJhdGlvbixcblx0XHRcdFx0dXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiRmFpbGVkIHRvIG1vdmUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogQXNzaWduIGFuIHVuYXNzaWduZWQgam9iIHRvIGEgdGVjaG5pY2lhbiB3aXRoIGEgc3BlY2lmaWMgdGltZSBzbG90XG4gKiBVc2VkIHdoZW4gZHJhZ2dpbmcgZnJvbSB1bmFzc2lnbmVkIHBhbmVsIHRvIGEgdGVjaG5pY2lhbiBsYW5lXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhc3NpZ25OZXdBcHBvaW50bWVudChcblx0c2NoZWR1bGVJZDogc3RyaW5nLFxuXHR0ZWNobmljaWFuSWQ6IHN0cmluZyxcblx0c3RhcnRUaW1lOiBEYXRlLFxuXHRlbmRUaW1lOiBEYXRlLFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgZHVyYXRpb24gPSBNYXRoLnJvdW5kKFxuXHRcdFx0KGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSxcblx0XHQpO1xuXG5cdFx0Y29uc3QgZm9ybWF0TG9jYWxEYXRlVGltZSA9IChkYXRlOiBEYXRlKSA9PiB7XG5cdFx0XHRjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0Y29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBob3VyID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgbWludXRlID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBzZWNvbmQgPSBTdHJpbmcoZGF0ZS5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX0gJHtob3VyfToke21pbnV0ZX06JHtzZWNvbmR9YDtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3RhcnRTdHIgPSBmb3JtYXRMb2NhbERhdGVUaW1lKHN0YXJ0VGltZSk7XG5cdFx0Y29uc3QgZW5kU3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShlbmRUaW1lKTtcblxuXHRcdC8vIFNpbmdsZSBhdG9taWMgdXBkYXRlIGZvciBhc3NpZ25tZW50XG5cdFx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHtcblx0XHRcdFx0YXNzaWduZWRfdG86IHRlY2huaWNpYW5JZCxcblx0XHRcdFx0c3RhcnRfdGltZTogc3RhcnRTdHIsXG5cdFx0XHRcdGVuZF90aW1lOiBlbmRTdHIsXG5cdFx0XHRcdGR1cmF0aW9uLFxuXHRcdFx0XHRzdGF0dXM6IFwic2NoZWR1bGVkXCIsXG5cdFx0XHRcdHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKVxuXHRcdFx0LnNlbGVjdCgpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGEgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gYXNzaWduIGFwcG9pbnRtZW50XCIsXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdW5hc3NpZ25BcHBvaW50bWVudChzY2hlZHVsZUlkOiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRhc3NpZ25lZF90bzogbnVsbCxcblx0XHRcdFx0dXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIG1vdmUgYXBwb2ludG1lbnQgdG8gVW5zY2hlZHVsZWRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogU2VuZCBcIk9uIE15IFdheVwiIFNNUyBub3RpZmljYXRpb24gdG8gY3VzdG9tZXJcbiAqIEluY2x1ZGVzIHRlY2huaWNpYW4gbmFtZSBhbmQgZXN0aW1hdGVkIGFycml2YWwgdGltZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZE9uTXlXYXlOb3RpZmljYXRpb24oXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0dGVjaG5pY2lhbk5hbWU6IHN0cmluZyxcblx0Y3VzdG9tZXJQaG9uZTogc3RyaW5nLFxuXHRkZXN0aW5hdGlvbkFkZHJlc3M/OiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHQvLyBHZXQgdXNlciBhbmQgY29tcGFueSBpbmZvXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBjb21wYW55J3MgVGVsbnl4IHNldHRpbmdzIGZvciB0aGUgZnJvbSBudW1iZXJcblx0XHRjb25zdCB7IGRhdGE6IG1lbWJlcnNoaXAgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfbWVtYmVyc2hpcHNcIilcblx0XHRcdC5zZWxlY3QoXCJjb21wYW55X2lkXCIpXG5cdFx0XHQuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpXG5cdFx0XHQuZXEoXCJzdGF0dXNcIiwgXCJhY3RpdmVcIilcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghbWVtYmVyc2hpcD8uY29tcGFueV9pZCkge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIGFjdGl2ZSBjb21wYW55IG1lbWJlcnNoaXBcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IHsgZGF0YTogdGVsbnl4U2V0dGluZ3MgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfdGVsbnl4X3NldHRpbmdzXCIpXG5cdFx0XHQuc2VsZWN0KFwicGhvbmVfbnVtYmVyLCBzdGF0dXNcIilcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgbWVtYmVyc2hpcC5jb21wYW55X2lkKVxuXHRcdFx0LmVxKFwic3RhdHVzXCIsIFwicmVhZHlcIilcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghdGVsbnl4U2V0dGluZ3M/LnBob25lX251bWJlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIHBob25lIG51bWJlciBjb25maWd1cmVkIGZvciBTTVNcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBjb21wYW55IG5hbWUgZm9yIHRoZSBtZXNzYWdlXG5cdFx0Y29uc3QgeyBkYXRhOiBjb21wYW55IH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjb21wYW5pZXNcIilcblx0XHRcdC5zZWxlY3QoXCJuYW1lXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBtZW1iZXJzaGlwLmNvbXBhbnlfaWQpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHQvLyBCdWlsZCB0aGUgXCJPbiBNeSBXYXlcIiBtZXNzYWdlXG5cdFx0bGV0IG1lc3NhZ2UgPSBgSGkhICR7dGVjaG5pY2lhbk5hbWV9IGZyb20gJHtjb21wYW55Py5uYW1lIHx8IFwieW91ciBzZXJ2aWNlIHByb3ZpZGVyXCJ9IGlzIG9uIHRoZSB3YXkgdG8geW91ciBhcHBvaW50bWVudC5gO1xuXG5cdFx0Ly8gVHJ5IHRvIGdldCB0cmF2ZWwgdGltZSBlc3RpbWF0ZSBpZiB3ZSBoYXZlIGEgZGVzdGluYXRpb25cblx0XHRpZiAoZGVzdGluYXRpb25BZGRyZXNzKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCBiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBQX1VSTCB8fCBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMFwiO1xuXHRcdFx0XHRjb25zdCB0cmF2ZWxSZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0XHRcdGAke2Jhc2VVcmx9L2FwaS90cmF2ZWwtdGltZT9kZXN0aW5hdGlvbj0ke2VuY29kZVVSSUNvbXBvbmVudChkZXN0aW5hdGlvbkFkZHJlc3MpfWAsXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0aGVhZGVyczoge1xuXHRcdFx0XHRcdFx0XHRDb29raWU6IGBzYi1hY2Nlc3MtdG9rZW49JHt1c2VyLmlkfWAsIC8vIFBhc3MgYXV0aCBjb250ZXh0XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0aWYgKHRyYXZlbFJlc3BvbnNlLm9rKSB7XG5cdFx0XHRcdFx0Y29uc3QgdHJhdmVsRGF0YSA9IGF3YWl0IHRyYXZlbFJlc3BvbnNlLmpzb24oKTtcblx0XHRcdFx0XHRpZiAodHJhdmVsRGF0YS5kdXJhdGlvblRleHQpIHtcblx0XHRcdFx0XHRcdG1lc3NhZ2UgKz0gYCBFc3RpbWF0ZWQgYXJyaXZhbDogJHt0cmF2ZWxEYXRhLmR1cmF0aW9uVGV4dH0uYDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHQvLyBUcmF2ZWwgdGltZSBmZXRjaCBmYWlsZWQgLSBjb250aW51ZSB3aXRob3V0IGl0XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0bWVzc2FnZSArPSBcIiBXZSdsbCBzZWUgeW91IHNvb24hXCI7XG5cblx0XHQvLyBTZW5kIHRoZSBTTVMgdmlhIFRlbG55eFxuXHRcdGNvbnN0IHsgc2VuZFNNUyB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvdGVsbnl4L21lc3NhZ2luZ1wiKTtcblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kU01TKHtcblx0XHRcdHRvOiBjdXN0b21lclBob25lLFxuXHRcdFx0ZnJvbTogdGVsbnl4U2V0dGluZ3MucGhvbmVfbnVtYmVyLFxuXHRcdFx0dGV4dDogbWVzc2FnZSxcblx0XHR9KTtcblxuXHRcdGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gc2VuZCBTTVNcIiB9O1xuXHRcdH1cblxuXHRcdC8vIFVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMgdG8gZGlzcGF0Y2hlZFxuXHRcdGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJkaXNwYXRjaGVkXCIsXG5cdFx0XHRcdGRpc3BhdGNoZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0bWVzc2FnZTogXCJPbiBNeSBXYXkgbm90aWZpY2F0aW9uIHNlbnQgc3VjY2Vzc2Z1bGx5XCIsXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gc2VuZCBPbiBNeSBXYXkgbm90aWZpY2F0aW9uXCIsXG5cdFx0fTtcblx0fVxufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJ1VEE2R3NCIn0=
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:c144d7 [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"405645e6df1983c34b10006ca5db8d7c163a9d8022":"closeAppointment"},"apps/web/src/actions/schedule-assignments.ts",""] */ __turbopack_context__.s([
    "closeAppointment",
    ()=>closeAppointment
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var closeAppointment = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("405645e6df1983c34b10006ca5db8d7c163a9d8022", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "closeAppointment"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vc2NoZWR1bGUtYXNzaWdubWVudHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc2VydmVyXCI7XG5cbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gXCJAL2xpYi9zdXBhYmFzZS9zZXJ2ZXJcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFzc2lnbkpvYlRvVGVjaG5pY2lhbihcblx0X2pvYklkOiBzdHJpbmcsXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0dGVjaG5pY2lhbklkOiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHQvLyBGaXJzdCBjaGVjayBpZiB0aGUgc2NoZWR1bGUgZXhpc3RzIGFuZCBnZXQgY3VycmVudCBhc3NpZ25tZW50XG5cdFx0Y29uc3QgeyBkYXRhOiBleGlzdGluZ1NjaGVkdWxlLCBlcnJvcjogY2hlY2tFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQuc2VsZWN0KFwiaWQsIGFzc2lnbmVkX3RvXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0aWYgKGNoZWNrRXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgU2NoZWR1bGUgY2hlY2sgZmFpbGVkOiAke2NoZWNrRXJyb3IubWVzc2FnZX1gKTtcblx0XHR9XG5cblx0XHRpZiAoIWV4aXN0aW5nU2NoZWR1bGUpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIlNjaGVkdWxlIG5vdCBmb3VuZFwiKTtcblx0XHR9XG5cblx0XHQvLyBVcGRhdGUgdGhlIHNjaGVkdWxlJ3MgYXNzaWduZWRfdG8gZmllbGRcblx0XHRjb25zdCB7IGRhdGE6IHVwZGF0ZWRTY2hlZHVsZSwgZXJyb3I6IHNjaGVkdWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7IGFzc2lnbmVkX3RvOiB0ZWNobmljaWFuSWQgfSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChzY2hlZHVsZUVycm9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYFNjaGVkdWxlIHVwZGF0ZSBmYWlsZWQ6ICR7c2NoZWR1bGVFcnJvci5tZXNzYWdlfWApO1xuXHRcdH1cblxuXHRcdC8vIERvbid0IHJldmFsaWRhdGUgaW1tZWRpYXRlbHkgLSBsZXQgdGhlIG9wdGltaXN0aWMgdXBkYXRlIHNob3dcblx0XHQvLyByZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvc2NoZWR1bGVcIik7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogdXBkYXRlZFNjaGVkdWxlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gYXNzaWduIGpvYlwiLFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUFwcG9pbnRtZW50VGltZXMoXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0c3RhcnRUaW1lOiBEYXRlLFxuXHRlbmRUaW1lOiBEYXRlLFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgZHVyYXRpb24gPSBNYXRoLnJvdW5kKFxuXHRcdFx0KGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSxcblx0XHQpO1xuXG5cdFx0Ly8gRm9ybWF0IGFzIGxvY2FsIGRhdGV0aW1lIHN0cmluZyBXSVRIT1VUIHRpbWV6b25lIGNvbnZlcnNpb25cblx0XHQvLyBHZXQgeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWludXRlIGZyb20gdGhlIERhdGUgb2JqZWN0IGRpcmVjdGx5XG5cdFx0Y29uc3QgZm9ybWF0TG9jYWxEYXRlVGltZSA9IChkYXRlOiBEYXRlKSA9PiB7XG5cdFx0XHRjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0Y29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBob3VyID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgbWludXRlID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBzZWNvbmQgPSBTdHJpbmcoZGF0ZS5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX0gJHtob3VyfToke21pbnV0ZX06JHtzZWNvbmR9YDtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3RhcnRTdHIgPSBmb3JtYXRMb2NhbERhdGVUaW1lKHN0YXJ0VGltZSk7XG5cdFx0Y29uc3QgZW5kU3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShlbmRUaW1lKTtcblxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXJ0X3RpbWU6IHN0YXJ0U3RyLFxuXHRcdFx0XHRlbmRfdGltZTogZW5kU3RyLFxuXHRcdFx0XHRkdXJhdGlvbixcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gRG9uJ3QgcmV2YWxpZGF0ZSBpbW1lZGlhdGVseSAtIGxldCB0aGUgb3B0aW1pc3RpYyB1cGRhdGUgc2hvd1xuXHRcdC8vIHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9zY2hlZHVsZVwiKTtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gdXBkYXRlIHRpbWVzXCIsXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2FuY2VsQXBwb2ludG1lbnQoc2NoZWR1bGVJZDogc3RyaW5nLCByZWFzb24/OiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gQ2FuY2VsIGFwcG9pbnRtZW50IC0gdW5zY2hlZHVsZSBpdCAocmVtb3ZlIGFzc2lnbmVkX3RvKVxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIixcblx0XHRcdFx0YXNzaWduZWRfdG86IG51bGwsIC8vIFVuYXNzaWduIHRlY2huaWNpYW5cblx0XHRcdFx0Y2FuY2VsbGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG5cdFx0XHRcdGNhbmNlbGxlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0Y2FuY2VsbGF0aW9uX3JlYXNvbjogcmVhc29uIHx8IG51bGwsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgc2NoZWR1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byBjYW5jZWwgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjYW5jZWxKb2JBbmRBcHBvaW50bWVudChcblx0c2NoZWR1bGVJZDogc3RyaW5nLFxuXHRqb2JJZDogc3RyaW5nLFxuXHRyZWFzb24/OiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG5cdFx0Ly8gQ2FuY2VsIHRoZSBhcHBvaW50bWVudFxuXHRcdGNvbnN0IHsgZXJyb3I6IHNjaGVkdWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIixcblx0XHRcdFx0YXNzaWduZWRfdG86IG51bGwsXG5cdFx0XHRcdGNhbmNlbGxlZF9hdDogbm93LFxuXHRcdFx0XHRjYW5jZWxsZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHRcdGNhbmNlbGxhdGlvbl9yZWFzb246IHJlYXNvbiB8fCBudWxsLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKHNjaGVkdWxlRXJyb3IpIHtcblx0XHRcdHRocm93IHNjaGVkdWxlRXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gQWxzbyBjYW5jZWwgdGhlIGpvYiBpZiBpdCBleGlzdHNcblx0XHRpZiAoam9iSWQpIHtcblx0XHRcdGNvbnN0IHsgZXJyb3I6IGpvYkVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0XHQuZnJvbShcImpvYnNcIilcblx0XHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdFx0c3RhdHVzOiBcImNhbmNlbGxlZFwiLFxuXHRcdFx0XHRcdGNhbmNlbGxlZF9hdDogbm93LFxuXHRcdFx0XHRcdGNhbmNlbGxlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0XHRjYW5jZWxsYXRpb25fcmVhc29uOiByZWFzb24gfHwgbnVsbCxcblx0XHRcdFx0fSlcblx0XHRcdFx0LmVxKFwiaWRcIiwgam9iSWQpO1xuXG5cdFx0XHRpZiAoam9iRXJyb3IpIHtcblx0XHRcdFx0dGhyb3cgam9iRXJyb3I7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byBjYW5jZWwgam9iIGFuZCBhcHBvaW50bWVudFwiLFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFyY2hpdmVBcHBvaW50bWVudChzY2hlZHVsZUlkOiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRhcmNoaXZlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIGFyY2hpdmUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb21wbGV0ZUFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG5cdGlmICghc3VwYWJhc2UpIHtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRGF0YWJhc2Ugbm90IGF2YWlsYWJsZVwiIH07XG5cdH1cblxuXHR0cnkge1xuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblxuXHRcdGlmICghdXNlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vdCBhdXRoZW50aWNhdGVkXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRzdGF0dXM6IFwiY29tcGxldGVkXCIsXG5cdFx0XHRcdGFjdHVhbF9lbmRfdGltZTogbm93LFxuXHRcdFx0XHRjb21wbGV0ZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgc2NoZWR1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gY29tcGxldGUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbnR5cGUgRGlzcGF0Y2hTdGF0dXMgPSBcImRpc3BhdGNoZWRcIiB8IFwiYXJyaXZlZFwiIHwgXCJjbG9zZWRcIjtcblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlU2NoZWR1bGVTdGF0dXMoXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0c3RhdHVzOiBEaXNwYXRjaFN0YXR1cyxcblx0ZXh0cmFVcGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9LFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblx0XHRjb25zdCB1cGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHtcblx0XHRcdHN0YXR1cyxcblx0XHRcdHVwZGF0ZWRfYXQ6IG5vdyxcblx0XHRcdC4uLmV4dHJhVXBkYXRlcyxcblx0XHR9O1xuXG5cdFx0aWYgKHN0YXR1cyA9PT0gXCJjbG9zZWRcIikge1xuXHRcdFx0dXBkYXRlcy5jb21wbGV0ZWRfYnkgPSB1c2VyLmlkO1xuXHRcdFx0dXBkYXRlcy5hY3R1YWxfZW5kX3RpbWUgPSB1cGRhdGVzLmFjdHVhbF9lbmRfdGltZSA/PyBub3c7XG5cdFx0fVxuXG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHVwZGF0ZXMpXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBgRmFpbGVkIHRvIHVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMgdG8gJHtzdGF0dXN9YCxcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkaXNwYXRjaEFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRyZXR1cm4gdXBkYXRlU2NoZWR1bGVTdGF0dXMoc2NoZWR1bGVJZCwgXCJkaXNwYXRjaGVkXCIpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXJyaXZlQXBwb2ludG1lbnQoc2NoZWR1bGVJZDogc3RyaW5nKSB7XG5cdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblx0cmV0dXJuIHVwZGF0ZVNjaGVkdWxlU3RhdHVzKHNjaGVkdWxlSWQsIFwiYXJyaXZlZFwiLCB7XG5cdFx0YWN0dWFsX3N0YXJ0X3RpbWU6IG5vdyxcblx0fSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbG9zZUFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cdHJldHVybiB1cGRhdGVTY2hlZHVsZVN0YXR1cyhzY2hlZHVsZUlkLCBcImNsb3NlZFwiLCB7XG5cdFx0YWN0dWFsX2VuZF90aW1lOiBub3csXG5cdH0pO1xufVxuXG4vKipcbiAqIE1vdmUgYW4gZXhpc3RpbmcgYXBwb2ludG1lbnQgdG8gYSBuZXcgdGVjaG5pY2lhbiBhbmQvb3IgdGltZSBzbG90XG4gKiBCYXRjaGVzIGJvdGggb3BlcmF0aW9ucyBpbiBhIHNpbmdsZSBkYXRhYmFzZSBjYWxsIGZvciBwZXJmb3JtYW5jZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbW92ZUFwcG9pbnRtZW50KFxuXHRzY2hlZHVsZUlkOiBzdHJpbmcsXG5cdHRlY2huaWNpYW5JZDogc3RyaW5nLFxuXHRzdGFydFRpbWU6IERhdGUsXG5cdGVuZFRpbWU6IERhdGUsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCBkdXJhdGlvbiA9IE1hdGgucm91bmQoXG5cdFx0XHQoZW5kVGltZS5nZXRUaW1lKCkgLSBzdGFydFRpbWUuZ2V0VGltZSgpKSAvICgxMDAwICogNjApLFxuXHRcdCk7XG5cblx0XHQvLyBGb3JtYXQgYXMgbG9jYWwgZGF0ZXRpbWUgc3RyaW5nIFdJVEhPVVQgdGltZXpvbmUgY29udmVyc2lvblxuXHRcdGNvbnN0IGZvcm1hdExvY2FsRGF0ZVRpbWUgPSAoZGF0ZTogRGF0ZSkgPT4ge1xuXHRcdFx0Y29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcblx0XHRcdGNvbnN0IG1vbnRoID0gU3RyaW5nKGRhdGUuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGNvbnN0IGRheSA9IFN0cmluZyhkYXRlLmdldERhdGUoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgaG91ciA9IFN0cmluZyhkYXRlLmdldEhvdXJzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGNvbnN0IG1pbnV0ZSA9IFN0cmluZyhkYXRlLmdldE1pbnV0ZXMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3Qgc2Vjb25kID0gU3RyaW5nKGRhdGUuZ2V0U2Vjb25kcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRyZXR1cm4gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9ICR7aG91cn06JHttaW51dGV9OiR7c2Vjb25kfWA7XG5cdFx0fTtcblxuXHRcdGNvbnN0IHN0YXJ0U3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShzdGFydFRpbWUpO1xuXHRcdGNvbnN0IGVuZFN0ciA9IGZvcm1hdExvY2FsRGF0ZVRpbWUoZW5kVGltZSk7XG5cblx0XHQvLyBTaW5nbGUgYXRvbWljIHVwZGF0ZSBmb3IgYm90aCBhc3NpZ25tZW50IGFuZCB0aW1lc1xuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdGFzc2lnbmVkX3RvOiB0ZWNobmljaWFuSWQsXG5cdFx0XHRcdHN0YXJ0X3RpbWU6IHN0YXJ0U3RyLFxuXHRcdFx0XHRlbmRfdGltZTogZW5kU3RyLFxuXHRcdFx0XHRkdXJhdGlvbixcblx0XHRcdFx0dXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiRmFpbGVkIHRvIG1vdmUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogQXNzaWduIGFuIHVuYXNzaWduZWQgam9iIHRvIGEgdGVjaG5pY2lhbiB3aXRoIGEgc3BlY2lmaWMgdGltZSBzbG90XG4gKiBVc2VkIHdoZW4gZHJhZ2dpbmcgZnJvbSB1bmFzc2lnbmVkIHBhbmVsIHRvIGEgdGVjaG5pY2lhbiBsYW5lXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhc3NpZ25OZXdBcHBvaW50bWVudChcblx0c2NoZWR1bGVJZDogc3RyaW5nLFxuXHR0ZWNobmljaWFuSWQ6IHN0cmluZyxcblx0c3RhcnRUaW1lOiBEYXRlLFxuXHRlbmRUaW1lOiBEYXRlLFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgZHVyYXRpb24gPSBNYXRoLnJvdW5kKFxuXHRcdFx0KGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSxcblx0XHQpO1xuXG5cdFx0Y29uc3QgZm9ybWF0TG9jYWxEYXRlVGltZSA9IChkYXRlOiBEYXRlKSA9PiB7XG5cdFx0XHRjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0Y29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBob3VyID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgbWludXRlID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBzZWNvbmQgPSBTdHJpbmcoZGF0ZS5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX0gJHtob3VyfToke21pbnV0ZX06JHtzZWNvbmR9YDtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3RhcnRTdHIgPSBmb3JtYXRMb2NhbERhdGVUaW1lKHN0YXJ0VGltZSk7XG5cdFx0Y29uc3QgZW5kU3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShlbmRUaW1lKTtcblxuXHRcdC8vIFNpbmdsZSBhdG9taWMgdXBkYXRlIGZvciBhc3NpZ25tZW50XG5cdFx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHtcblx0XHRcdFx0YXNzaWduZWRfdG86IHRlY2huaWNpYW5JZCxcblx0XHRcdFx0c3RhcnRfdGltZTogc3RhcnRTdHIsXG5cdFx0XHRcdGVuZF90aW1lOiBlbmRTdHIsXG5cdFx0XHRcdGR1cmF0aW9uLFxuXHRcdFx0XHRzdGF0dXM6IFwic2NoZWR1bGVkXCIsXG5cdFx0XHRcdHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKVxuXHRcdFx0LnNlbGVjdCgpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGEgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gYXNzaWduIGFwcG9pbnRtZW50XCIsXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdW5hc3NpZ25BcHBvaW50bWVudChzY2hlZHVsZUlkOiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRhc3NpZ25lZF90bzogbnVsbCxcblx0XHRcdFx0dXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIG1vdmUgYXBwb2ludG1lbnQgdG8gVW5zY2hlZHVsZWRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogU2VuZCBcIk9uIE15IFdheVwiIFNNUyBub3RpZmljYXRpb24gdG8gY3VzdG9tZXJcbiAqIEluY2x1ZGVzIHRlY2huaWNpYW4gbmFtZSBhbmQgZXN0aW1hdGVkIGFycml2YWwgdGltZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZE9uTXlXYXlOb3RpZmljYXRpb24oXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0dGVjaG5pY2lhbk5hbWU6IHN0cmluZyxcblx0Y3VzdG9tZXJQaG9uZTogc3RyaW5nLFxuXHRkZXN0aW5hdGlvbkFkZHJlc3M/OiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHQvLyBHZXQgdXNlciBhbmQgY29tcGFueSBpbmZvXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBjb21wYW55J3MgVGVsbnl4IHNldHRpbmdzIGZvciB0aGUgZnJvbSBudW1iZXJcblx0XHRjb25zdCB7IGRhdGE6IG1lbWJlcnNoaXAgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfbWVtYmVyc2hpcHNcIilcblx0XHRcdC5zZWxlY3QoXCJjb21wYW55X2lkXCIpXG5cdFx0XHQuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpXG5cdFx0XHQuZXEoXCJzdGF0dXNcIiwgXCJhY3RpdmVcIilcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghbWVtYmVyc2hpcD8uY29tcGFueV9pZCkge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIGFjdGl2ZSBjb21wYW55IG1lbWJlcnNoaXBcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IHsgZGF0YTogdGVsbnl4U2V0dGluZ3MgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfdGVsbnl4X3NldHRpbmdzXCIpXG5cdFx0XHQuc2VsZWN0KFwicGhvbmVfbnVtYmVyLCBzdGF0dXNcIilcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgbWVtYmVyc2hpcC5jb21wYW55X2lkKVxuXHRcdFx0LmVxKFwic3RhdHVzXCIsIFwicmVhZHlcIilcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghdGVsbnl4U2V0dGluZ3M/LnBob25lX251bWJlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIHBob25lIG51bWJlciBjb25maWd1cmVkIGZvciBTTVNcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBjb21wYW55IG5hbWUgZm9yIHRoZSBtZXNzYWdlXG5cdFx0Y29uc3QgeyBkYXRhOiBjb21wYW55IH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjb21wYW5pZXNcIilcblx0XHRcdC5zZWxlY3QoXCJuYW1lXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBtZW1iZXJzaGlwLmNvbXBhbnlfaWQpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHQvLyBCdWlsZCB0aGUgXCJPbiBNeSBXYXlcIiBtZXNzYWdlXG5cdFx0bGV0IG1lc3NhZ2UgPSBgSGkhICR7dGVjaG5pY2lhbk5hbWV9IGZyb20gJHtjb21wYW55Py5uYW1lIHx8IFwieW91ciBzZXJ2aWNlIHByb3ZpZGVyXCJ9IGlzIG9uIHRoZSB3YXkgdG8geW91ciBhcHBvaW50bWVudC5gO1xuXG5cdFx0Ly8gVHJ5IHRvIGdldCB0cmF2ZWwgdGltZSBlc3RpbWF0ZSBpZiB3ZSBoYXZlIGEgZGVzdGluYXRpb25cblx0XHRpZiAoZGVzdGluYXRpb25BZGRyZXNzKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCBiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBQX1VSTCB8fCBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMFwiO1xuXHRcdFx0XHRjb25zdCB0cmF2ZWxSZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0XHRcdGAke2Jhc2VVcmx9L2FwaS90cmF2ZWwtdGltZT9kZXN0aW5hdGlvbj0ke2VuY29kZVVSSUNvbXBvbmVudChkZXN0aW5hdGlvbkFkZHJlc3MpfWAsXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0aGVhZGVyczoge1xuXHRcdFx0XHRcdFx0XHRDb29raWU6IGBzYi1hY2Nlc3MtdG9rZW49JHt1c2VyLmlkfWAsIC8vIFBhc3MgYXV0aCBjb250ZXh0XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0aWYgKHRyYXZlbFJlc3BvbnNlLm9rKSB7XG5cdFx0XHRcdFx0Y29uc3QgdHJhdmVsRGF0YSA9IGF3YWl0IHRyYXZlbFJlc3BvbnNlLmpzb24oKTtcblx0XHRcdFx0XHRpZiAodHJhdmVsRGF0YS5kdXJhdGlvblRleHQpIHtcblx0XHRcdFx0XHRcdG1lc3NhZ2UgKz0gYCBFc3RpbWF0ZWQgYXJyaXZhbDogJHt0cmF2ZWxEYXRhLmR1cmF0aW9uVGV4dH0uYDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHQvLyBUcmF2ZWwgdGltZSBmZXRjaCBmYWlsZWQgLSBjb250aW51ZSB3aXRob3V0IGl0XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0bWVzc2FnZSArPSBcIiBXZSdsbCBzZWUgeW91IHNvb24hXCI7XG5cblx0XHQvLyBTZW5kIHRoZSBTTVMgdmlhIFRlbG55eFxuXHRcdGNvbnN0IHsgc2VuZFNNUyB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvdGVsbnl4L21lc3NhZ2luZ1wiKTtcblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kU01TKHtcblx0XHRcdHRvOiBjdXN0b21lclBob25lLFxuXHRcdFx0ZnJvbTogdGVsbnl4U2V0dGluZ3MucGhvbmVfbnVtYmVyLFxuXHRcdFx0dGV4dDogbWVzc2FnZSxcblx0XHR9KTtcblxuXHRcdGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gc2VuZCBTTVNcIiB9O1xuXHRcdH1cblxuXHRcdC8vIFVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMgdG8gZGlzcGF0Y2hlZFxuXHRcdGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJkaXNwYXRjaGVkXCIsXG5cdFx0XHRcdGRpc3BhdGNoZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0bWVzc2FnZTogXCJPbiBNeSBXYXkgbm90aWZpY2F0aW9uIHNlbnQgc3VjY2Vzc2Z1bGx5XCIsXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gc2VuZCBPbiBNeSBXYXkgbm90aWZpY2F0aW9uXCIsXG5cdFx0fTtcblx0fVxufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJzVEFzV3NCIn0=
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:a1731c [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"404f9cd9abeb38c3a5544ae22951126eedee6a341e":"completeAppointment"},"apps/web/src/actions/schedule-assignments.ts",""] */ __turbopack_context__.s([
    "completeAppointment",
    ()=>completeAppointment
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var completeAppointment = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("404f9cd9abeb38c3a5544ae22951126eedee6a341e", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "completeAppointment"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vc2NoZWR1bGUtYXNzaWdubWVudHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc2VydmVyXCI7XG5cbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gXCJAL2xpYi9zdXBhYmFzZS9zZXJ2ZXJcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFzc2lnbkpvYlRvVGVjaG5pY2lhbihcblx0X2pvYklkOiBzdHJpbmcsXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0dGVjaG5pY2lhbklkOiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHQvLyBGaXJzdCBjaGVjayBpZiB0aGUgc2NoZWR1bGUgZXhpc3RzIGFuZCBnZXQgY3VycmVudCBhc3NpZ25tZW50XG5cdFx0Y29uc3QgeyBkYXRhOiBleGlzdGluZ1NjaGVkdWxlLCBlcnJvcjogY2hlY2tFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQuc2VsZWN0KFwiaWQsIGFzc2lnbmVkX3RvXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0aWYgKGNoZWNrRXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgU2NoZWR1bGUgY2hlY2sgZmFpbGVkOiAke2NoZWNrRXJyb3IubWVzc2FnZX1gKTtcblx0XHR9XG5cblx0XHRpZiAoIWV4aXN0aW5nU2NoZWR1bGUpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIlNjaGVkdWxlIG5vdCBmb3VuZFwiKTtcblx0XHR9XG5cblx0XHQvLyBVcGRhdGUgdGhlIHNjaGVkdWxlJ3MgYXNzaWduZWRfdG8gZmllbGRcblx0XHRjb25zdCB7IGRhdGE6IHVwZGF0ZWRTY2hlZHVsZSwgZXJyb3I6IHNjaGVkdWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7IGFzc2lnbmVkX3RvOiB0ZWNobmljaWFuSWQgfSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChzY2hlZHVsZUVycm9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYFNjaGVkdWxlIHVwZGF0ZSBmYWlsZWQ6ICR7c2NoZWR1bGVFcnJvci5tZXNzYWdlfWApO1xuXHRcdH1cblxuXHRcdC8vIERvbid0IHJldmFsaWRhdGUgaW1tZWRpYXRlbHkgLSBsZXQgdGhlIG9wdGltaXN0aWMgdXBkYXRlIHNob3dcblx0XHQvLyByZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvc2NoZWR1bGVcIik7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogdXBkYXRlZFNjaGVkdWxlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gYXNzaWduIGpvYlwiLFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUFwcG9pbnRtZW50VGltZXMoXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0c3RhcnRUaW1lOiBEYXRlLFxuXHRlbmRUaW1lOiBEYXRlLFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgZHVyYXRpb24gPSBNYXRoLnJvdW5kKFxuXHRcdFx0KGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSxcblx0XHQpO1xuXG5cdFx0Ly8gRm9ybWF0IGFzIGxvY2FsIGRhdGV0aW1lIHN0cmluZyBXSVRIT1VUIHRpbWV6b25lIGNvbnZlcnNpb25cblx0XHQvLyBHZXQgeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWludXRlIGZyb20gdGhlIERhdGUgb2JqZWN0IGRpcmVjdGx5XG5cdFx0Y29uc3QgZm9ybWF0TG9jYWxEYXRlVGltZSA9IChkYXRlOiBEYXRlKSA9PiB7XG5cdFx0XHRjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0Y29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBob3VyID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgbWludXRlID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBzZWNvbmQgPSBTdHJpbmcoZGF0ZS5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX0gJHtob3VyfToke21pbnV0ZX06JHtzZWNvbmR9YDtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3RhcnRTdHIgPSBmb3JtYXRMb2NhbERhdGVUaW1lKHN0YXJ0VGltZSk7XG5cdFx0Y29uc3QgZW5kU3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShlbmRUaW1lKTtcblxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXJ0X3RpbWU6IHN0YXJ0U3RyLFxuXHRcdFx0XHRlbmRfdGltZTogZW5kU3RyLFxuXHRcdFx0XHRkdXJhdGlvbixcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gRG9uJ3QgcmV2YWxpZGF0ZSBpbW1lZGlhdGVseSAtIGxldCB0aGUgb3B0aW1pc3RpYyB1cGRhdGUgc2hvd1xuXHRcdC8vIHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9zY2hlZHVsZVwiKTtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gdXBkYXRlIHRpbWVzXCIsXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2FuY2VsQXBwb2ludG1lbnQoc2NoZWR1bGVJZDogc3RyaW5nLCByZWFzb24/OiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gQ2FuY2VsIGFwcG9pbnRtZW50IC0gdW5zY2hlZHVsZSBpdCAocmVtb3ZlIGFzc2lnbmVkX3RvKVxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIixcblx0XHRcdFx0YXNzaWduZWRfdG86IG51bGwsIC8vIFVuYXNzaWduIHRlY2huaWNpYW5cblx0XHRcdFx0Y2FuY2VsbGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG5cdFx0XHRcdGNhbmNlbGxlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0Y2FuY2VsbGF0aW9uX3JlYXNvbjogcmVhc29uIHx8IG51bGwsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgc2NoZWR1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byBjYW5jZWwgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjYW5jZWxKb2JBbmRBcHBvaW50bWVudChcblx0c2NoZWR1bGVJZDogc3RyaW5nLFxuXHRqb2JJZDogc3RyaW5nLFxuXHRyZWFzb24/OiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG5cdFx0Ly8gQ2FuY2VsIHRoZSBhcHBvaW50bWVudFxuXHRcdGNvbnN0IHsgZXJyb3I6IHNjaGVkdWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIixcblx0XHRcdFx0YXNzaWduZWRfdG86IG51bGwsXG5cdFx0XHRcdGNhbmNlbGxlZF9hdDogbm93LFxuXHRcdFx0XHRjYW5jZWxsZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHRcdGNhbmNlbGxhdGlvbl9yZWFzb246IHJlYXNvbiB8fCBudWxsLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKHNjaGVkdWxlRXJyb3IpIHtcblx0XHRcdHRocm93IHNjaGVkdWxlRXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gQWxzbyBjYW5jZWwgdGhlIGpvYiBpZiBpdCBleGlzdHNcblx0XHRpZiAoam9iSWQpIHtcblx0XHRcdGNvbnN0IHsgZXJyb3I6IGpvYkVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0XHQuZnJvbShcImpvYnNcIilcblx0XHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdFx0c3RhdHVzOiBcImNhbmNlbGxlZFwiLFxuXHRcdFx0XHRcdGNhbmNlbGxlZF9hdDogbm93LFxuXHRcdFx0XHRcdGNhbmNlbGxlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0XHRjYW5jZWxsYXRpb25fcmVhc29uOiByZWFzb24gfHwgbnVsbCxcblx0XHRcdFx0fSlcblx0XHRcdFx0LmVxKFwiaWRcIiwgam9iSWQpO1xuXG5cdFx0XHRpZiAoam9iRXJyb3IpIHtcblx0XHRcdFx0dGhyb3cgam9iRXJyb3I7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byBjYW5jZWwgam9iIGFuZCBhcHBvaW50bWVudFwiLFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFyY2hpdmVBcHBvaW50bWVudChzY2hlZHVsZUlkOiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRhcmNoaXZlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIGFyY2hpdmUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb21wbGV0ZUFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG5cdGlmICghc3VwYWJhc2UpIHtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRGF0YWJhc2Ugbm90IGF2YWlsYWJsZVwiIH07XG5cdH1cblxuXHR0cnkge1xuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblxuXHRcdGlmICghdXNlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vdCBhdXRoZW50aWNhdGVkXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRzdGF0dXM6IFwiY29tcGxldGVkXCIsXG5cdFx0XHRcdGFjdHVhbF9lbmRfdGltZTogbm93LFxuXHRcdFx0XHRjb21wbGV0ZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgc2NoZWR1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gY29tcGxldGUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbnR5cGUgRGlzcGF0Y2hTdGF0dXMgPSBcImRpc3BhdGNoZWRcIiB8IFwiYXJyaXZlZFwiIHwgXCJjbG9zZWRcIjtcblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlU2NoZWR1bGVTdGF0dXMoXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0c3RhdHVzOiBEaXNwYXRjaFN0YXR1cyxcblx0ZXh0cmFVcGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9LFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblx0XHRjb25zdCB1cGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHtcblx0XHRcdHN0YXR1cyxcblx0XHRcdHVwZGF0ZWRfYXQ6IG5vdyxcblx0XHRcdC4uLmV4dHJhVXBkYXRlcyxcblx0XHR9O1xuXG5cdFx0aWYgKHN0YXR1cyA9PT0gXCJjbG9zZWRcIikge1xuXHRcdFx0dXBkYXRlcy5jb21wbGV0ZWRfYnkgPSB1c2VyLmlkO1xuXHRcdFx0dXBkYXRlcy5hY3R1YWxfZW5kX3RpbWUgPSB1cGRhdGVzLmFjdHVhbF9lbmRfdGltZSA/PyBub3c7XG5cdFx0fVxuXG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHVwZGF0ZXMpXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBgRmFpbGVkIHRvIHVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMgdG8gJHtzdGF0dXN9YCxcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkaXNwYXRjaEFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRyZXR1cm4gdXBkYXRlU2NoZWR1bGVTdGF0dXMoc2NoZWR1bGVJZCwgXCJkaXNwYXRjaGVkXCIpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXJyaXZlQXBwb2ludG1lbnQoc2NoZWR1bGVJZDogc3RyaW5nKSB7XG5cdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblx0cmV0dXJuIHVwZGF0ZVNjaGVkdWxlU3RhdHVzKHNjaGVkdWxlSWQsIFwiYXJyaXZlZFwiLCB7XG5cdFx0YWN0dWFsX3N0YXJ0X3RpbWU6IG5vdyxcblx0fSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbG9zZUFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cdHJldHVybiB1cGRhdGVTY2hlZHVsZVN0YXR1cyhzY2hlZHVsZUlkLCBcImNsb3NlZFwiLCB7XG5cdFx0YWN0dWFsX2VuZF90aW1lOiBub3csXG5cdH0pO1xufVxuXG4vKipcbiAqIE1vdmUgYW4gZXhpc3RpbmcgYXBwb2ludG1lbnQgdG8gYSBuZXcgdGVjaG5pY2lhbiBhbmQvb3IgdGltZSBzbG90XG4gKiBCYXRjaGVzIGJvdGggb3BlcmF0aW9ucyBpbiBhIHNpbmdsZSBkYXRhYmFzZSBjYWxsIGZvciBwZXJmb3JtYW5jZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbW92ZUFwcG9pbnRtZW50KFxuXHRzY2hlZHVsZUlkOiBzdHJpbmcsXG5cdHRlY2huaWNpYW5JZDogc3RyaW5nLFxuXHRzdGFydFRpbWU6IERhdGUsXG5cdGVuZFRpbWU6IERhdGUsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCBkdXJhdGlvbiA9IE1hdGgucm91bmQoXG5cdFx0XHQoZW5kVGltZS5nZXRUaW1lKCkgLSBzdGFydFRpbWUuZ2V0VGltZSgpKSAvICgxMDAwICogNjApLFxuXHRcdCk7XG5cblx0XHQvLyBGb3JtYXQgYXMgbG9jYWwgZGF0ZXRpbWUgc3RyaW5nIFdJVEhPVVQgdGltZXpvbmUgY29udmVyc2lvblxuXHRcdGNvbnN0IGZvcm1hdExvY2FsRGF0ZVRpbWUgPSAoZGF0ZTogRGF0ZSkgPT4ge1xuXHRcdFx0Y29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcblx0XHRcdGNvbnN0IG1vbnRoID0gU3RyaW5nKGRhdGUuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGNvbnN0IGRheSA9IFN0cmluZyhkYXRlLmdldERhdGUoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgaG91ciA9IFN0cmluZyhkYXRlLmdldEhvdXJzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGNvbnN0IG1pbnV0ZSA9IFN0cmluZyhkYXRlLmdldE1pbnV0ZXMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3Qgc2Vjb25kID0gU3RyaW5nKGRhdGUuZ2V0U2Vjb25kcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRyZXR1cm4gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9ICR7aG91cn06JHttaW51dGV9OiR7c2Vjb25kfWA7XG5cdFx0fTtcblxuXHRcdGNvbnN0IHN0YXJ0U3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShzdGFydFRpbWUpO1xuXHRcdGNvbnN0IGVuZFN0ciA9IGZvcm1hdExvY2FsRGF0ZVRpbWUoZW5kVGltZSk7XG5cblx0XHQvLyBTaW5nbGUgYXRvbWljIHVwZGF0ZSBmb3IgYm90aCBhc3NpZ25tZW50IGFuZCB0aW1lc1xuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdGFzc2lnbmVkX3RvOiB0ZWNobmljaWFuSWQsXG5cdFx0XHRcdHN0YXJ0X3RpbWU6IHN0YXJ0U3RyLFxuXHRcdFx0XHRlbmRfdGltZTogZW5kU3RyLFxuXHRcdFx0XHRkdXJhdGlvbixcblx0XHRcdFx0dXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiRmFpbGVkIHRvIG1vdmUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogQXNzaWduIGFuIHVuYXNzaWduZWQgam9iIHRvIGEgdGVjaG5pY2lhbiB3aXRoIGEgc3BlY2lmaWMgdGltZSBzbG90XG4gKiBVc2VkIHdoZW4gZHJhZ2dpbmcgZnJvbSB1bmFzc2lnbmVkIHBhbmVsIHRvIGEgdGVjaG5pY2lhbiBsYW5lXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhc3NpZ25OZXdBcHBvaW50bWVudChcblx0c2NoZWR1bGVJZDogc3RyaW5nLFxuXHR0ZWNobmljaWFuSWQ6IHN0cmluZyxcblx0c3RhcnRUaW1lOiBEYXRlLFxuXHRlbmRUaW1lOiBEYXRlLFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgZHVyYXRpb24gPSBNYXRoLnJvdW5kKFxuXHRcdFx0KGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSxcblx0XHQpO1xuXG5cdFx0Y29uc3QgZm9ybWF0TG9jYWxEYXRlVGltZSA9IChkYXRlOiBEYXRlKSA9PiB7XG5cdFx0XHRjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0Y29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBob3VyID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgbWludXRlID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBzZWNvbmQgPSBTdHJpbmcoZGF0ZS5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX0gJHtob3VyfToke21pbnV0ZX06JHtzZWNvbmR9YDtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3RhcnRTdHIgPSBmb3JtYXRMb2NhbERhdGVUaW1lKHN0YXJ0VGltZSk7XG5cdFx0Y29uc3QgZW5kU3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShlbmRUaW1lKTtcblxuXHRcdC8vIFNpbmdsZSBhdG9taWMgdXBkYXRlIGZvciBhc3NpZ25tZW50XG5cdFx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHtcblx0XHRcdFx0YXNzaWduZWRfdG86IHRlY2huaWNpYW5JZCxcblx0XHRcdFx0c3RhcnRfdGltZTogc3RhcnRTdHIsXG5cdFx0XHRcdGVuZF90aW1lOiBlbmRTdHIsXG5cdFx0XHRcdGR1cmF0aW9uLFxuXHRcdFx0XHRzdGF0dXM6IFwic2NoZWR1bGVkXCIsXG5cdFx0XHRcdHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKVxuXHRcdFx0LnNlbGVjdCgpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGEgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gYXNzaWduIGFwcG9pbnRtZW50XCIsXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdW5hc3NpZ25BcHBvaW50bWVudChzY2hlZHVsZUlkOiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRhc3NpZ25lZF90bzogbnVsbCxcblx0XHRcdFx0dXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIG1vdmUgYXBwb2ludG1lbnQgdG8gVW5zY2hlZHVsZWRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogU2VuZCBcIk9uIE15IFdheVwiIFNNUyBub3RpZmljYXRpb24gdG8gY3VzdG9tZXJcbiAqIEluY2x1ZGVzIHRlY2huaWNpYW4gbmFtZSBhbmQgZXN0aW1hdGVkIGFycml2YWwgdGltZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZE9uTXlXYXlOb3RpZmljYXRpb24oXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0dGVjaG5pY2lhbk5hbWU6IHN0cmluZyxcblx0Y3VzdG9tZXJQaG9uZTogc3RyaW5nLFxuXHRkZXN0aW5hdGlvbkFkZHJlc3M/OiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHQvLyBHZXQgdXNlciBhbmQgY29tcGFueSBpbmZvXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBjb21wYW55J3MgVGVsbnl4IHNldHRpbmdzIGZvciB0aGUgZnJvbSBudW1iZXJcblx0XHRjb25zdCB7IGRhdGE6IG1lbWJlcnNoaXAgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfbWVtYmVyc2hpcHNcIilcblx0XHRcdC5zZWxlY3QoXCJjb21wYW55X2lkXCIpXG5cdFx0XHQuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpXG5cdFx0XHQuZXEoXCJzdGF0dXNcIiwgXCJhY3RpdmVcIilcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghbWVtYmVyc2hpcD8uY29tcGFueV9pZCkge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIGFjdGl2ZSBjb21wYW55IG1lbWJlcnNoaXBcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IHsgZGF0YTogdGVsbnl4U2V0dGluZ3MgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfdGVsbnl4X3NldHRpbmdzXCIpXG5cdFx0XHQuc2VsZWN0KFwicGhvbmVfbnVtYmVyLCBzdGF0dXNcIilcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgbWVtYmVyc2hpcC5jb21wYW55X2lkKVxuXHRcdFx0LmVxKFwic3RhdHVzXCIsIFwicmVhZHlcIilcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghdGVsbnl4U2V0dGluZ3M/LnBob25lX251bWJlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIHBob25lIG51bWJlciBjb25maWd1cmVkIGZvciBTTVNcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBjb21wYW55IG5hbWUgZm9yIHRoZSBtZXNzYWdlXG5cdFx0Y29uc3QgeyBkYXRhOiBjb21wYW55IH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjb21wYW5pZXNcIilcblx0XHRcdC5zZWxlY3QoXCJuYW1lXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBtZW1iZXJzaGlwLmNvbXBhbnlfaWQpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHQvLyBCdWlsZCB0aGUgXCJPbiBNeSBXYXlcIiBtZXNzYWdlXG5cdFx0bGV0IG1lc3NhZ2UgPSBgSGkhICR7dGVjaG5pY2lhbk5hbWV9IGZyb20gJHtjb21wYW55Py5uYW1lIHx8IFwieW91ciBzZXJ2aWNlIHByb3ZpZGVyXCJ9IGlzIG9uIHRoZSB3YXkgdG8geW91ciBhcHBvaW50bWVudC5gO1xuXG5cdFx0Ly8gVHJ5IHRvIGdldCB0cmF2ZWwgdGltZSBlc3RpbWF0ZSBpZiB3ZSBoYXZlIGEgZGVzdGluYXRpb25cblx0XHRpZiAoZGVzdGluYXRpb25BZGRyZXNzKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCBiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBQX1VSTCB8fCBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMFwiO1xuXHRcdFx0XHRjb25zdCB0cmF2ZWxSZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0XHRcdGAke2Jhc2VVcmx9L2FwaS90cmF2ZWwtdGltZT9kZXN0aW5hdGlvbj0ke2VuY29kZVVSSUNvbXBvbmVudChkZXN0aW5hdGlvbkFkZHJlc3MpfWAsXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0aGVhZGVyczoge1xuXHRcdFx0XHRcdFx0XHRDb29raWU6IGBzYi1hY2Nlc3MtdG9rZW49JHt1c2VyLmlkfWAsIC8vIFBhc3MgYXV0aCBjb250ZXh0XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0aWYgKHRyYXZlbFJlc3BvbnNlLm9rKSB7XG5cdFx0XHRcdFx0Y29uc3QgdHJhdmVsRGF0YSA9IGF3YWl0IHRyYXZlbFJlc3BvbnNlLmpzb24oKTtcblx0XHRcdFx0XHRpZiAodHJhdmVsRGF0YS5kdXJhdGlvblRleHQpIHtcblx0XHRcdFx0XHRcdG1lc3NhZ2UgKz0gYCBFc3RpbWF0ZWQgYXJyaXZhbDogJHt0cmF2ZWxEYXRhLmR1cmF0aW9uVGV4dH0uYDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHQvLyBUcmF2ZWwgdGltZSBmZXRjaCBmYWlsZWQgLSBjb250aW51ZSB3aXRob3V0IGl0XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0bWVzc2FnZSArPSBcIiBXZSdsbCBzZWUgeW91IHNvb24hXCI7XG5cblx0XHQvLyBTZW5kIHRoZSBTTVMgdmlhIFRlbG55eFxuXHRcdGNvbnN0IHsgc2VuZFNNUyB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvdGVsbnl4L21lc3NhZ2luZ1wiKTtcblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kU01TKHtcblx0XHRcdHRvOiBjdXN0b21lclBob25lLFxuXHRcdFx0ZnJvbTogdGVsbnl4U2V0dGluZ3MucGhvbmVfbnVtYmVyLFxuXHRcdFx0dGV4dDogbWVzc2FnZSxcblx0XHR9KTtcblxuXHRcdGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gc2VuZCBTTVNcIiB9O1xuXHRcdH1cblxuXHRcdC8vIFVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMgdG8gZGlzcGF0Y2hlZFxuXHRcdGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJkaXNwYXRjaGVkXCIsXG5cdFx0XHRcdGRpc3BhdGNoZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0bWVzc2FnZTogXCJPbiBNeSBXYXkgbm90aWZpY2F0aW9uIHNlbnQgc3VjY2Vzc2Z1bGx5XCIsXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gc2VuZCBPbiBNeSBXYXkgbm90aWZpY2F0aW9uXCIsXG5cdFx0fTtcblx0fVxufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJ5VEF5UHNCIn0=
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:06ff41 [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"40940211ec0e3e051ede54e28f158fbb78e431e54c":"dispatchAppointment"},"apps/web/src/actions/schedule-assignments.ts",""] */ __turbopack_context__.s([
    "dispatchAppointment",
    ()=>dispatchAppointment
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var dispatchAppointment = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("40940211ec0e3e051ede54e28f158fbb78e431e54c", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "dispatchAppointment"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vc2NoZWR1bGUtYXNzaWdubWVudHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc2VydmVyXCI7XG5cbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gXCJAL2xpYi9zdXBhYmFzZS9zZXJ2ZXJcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFzc2lnbkpvYlRvVGVjaG5pY2lhbihcblx0X2pvYklkOiBzdHJpbmcsXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0dGVjaG5pY2lhbklkOiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHQvLyBGaXJzdCBjaGVjayBpZiB0aGUgc2NoZWR1bGUgZXhpc3RzIGFuZCBnZXQgY3VycmVudCBhc3NpZ25tZW50XG5cdFx0Y29uc3QgeyBkYXRhOiBleGlzdGluZ1NjaGVkdWxlLCBlcnJvcjogY2hlY2tFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQuc2VsZWN0KFwiaWQsIGFzc2lnbmVkX3RvXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0aWYgKGNoZWNrRXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgU2NoZWR1bGUgY2hlY2sgZmFpbGVkOiAke2NoZWNrRXJyb3IubWVzc2FnZX1gKTtcblx0XHR9XG5cblx0XHRpZiAoIWV4aXN0aW5nU2NoZWR1bGUpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIlNjaGVkdWxlIG5vdCBmb3VuZFwiKTtcblx0XHR9XG5cblx0XHQvLyBVcGRhdGUgdGhlIHNjaGVkdWxlJ3MgYXNzaWduZWRfdG8gZmllbGRcblx0XHRjb25zdCB7IGRhdGE6IHVwZGF0ZWRTY2hlZHVsZSwgZXJyb3I6IHNjaGVkdWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7IGFzc2lnbmVkX3RvOiB0ZWNobmljaWFuSWQgfSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChzY2hlZHVsZUVycm9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYFNjaGVkdWxlIHVwZGF0ZSBmYWlsZWQ6ICR7c2NoZWR1bGVFcnJvci5tZXNzYWdlfWApO1xuXHRcdH1cblxuXHRcdC8vIERvbid0IHJldmFsaWRhdGUgaW1tZWRpYXRlbHkgLSBsZXQgdGhlIG9wdGltaXN0aWMgdXBkYXRlIHNob3dcblx0XHQvLyByZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvc2NoZWR1bGVcIik7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogdXBkYXRlZFNjaGVkdWxlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gYXNzaWduIGpvYlwiLFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUFwcG9pbnRtZW50VGltZXMoXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0c3RhcnRUaW1lOiBEYXRlLFxuXHRlbmRUaW1lOiBEYXRlLFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgZHVyYXRpb24gPSBNYXRoLnJvdW5kKFxuXHRcdFx0KGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSxcblx0XHQpO1xuXG5cdFx0Ly8gRm9ybWF0IGFzIGxvY2FsIGRhdGV0aW1lIHN0cmluZyBXSVRIT1VUIHRpbWV6b25lIGNvbnZlcnNpb25cblx0XHQvLyBHZXQgeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWludXRlIGZyb20gdGhlIERhdGUgb2JqZWN0IGRpcmVjdGx5XG5cdFx0Y29uc3QgZm9ybWF0TG9jYWxEYXRlVGltZSA9IChkYXRlOiBEYXRlKSA9PiB7XG5cdFx0XHRjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0Y29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBob3VyID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgbWludXRlID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBzZWNvbmQgPSBTdHJpbmcoZGF0ZS5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX0gJHtob3VyfToke21pbnV0ZX06JHtzZWNvbmR9YDtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3RhcnRTdHIgPSBmb3JtYXRMb2NhbERhdGVUaW1lKHN0YXJ0VGltZSk7XG5cdFx0Y29uc3QgZW5kU3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShlbmRUaW1lKTtcblxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXJ0X3RpbWU6IHN0YXJ0U3RyLFxuXHRcdFx0XHRlbmRfdGltZTogZW5kU3RyLFxuXHRcdFx0XHRkdXJhdGlvbixcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gRG9uJ3QgcmV2YWxpZGF0ZSBpbW1lZGlhdGVseSAtIGxldCB0aGUgb3B0aW1pc3RpYyB1cGRhdGUgc2hvd1xuXHRcdC8vIHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9zY2hlZHVsZVwiKTtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gdXBkYXRlIHRpbWVzXCIsXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2FuY2VsQXBwb2ludG1lbnQoc2NoZWR1bGVJZDogc3RyaW5nLCByZWFzb24/OiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gQ2FuY2VsIGFwcG9pbnRtZW50IC0gdW5zY2hlZHVsZSBpdCAocmVtb3ZlIGFzc2lnbmVkX3RvKVxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIixcblx0XHRcdFx0YXNzaWduZWRfdG86IG51bGwsIC8vIFVuYXNzaWduIHRlY2huaWNpYW5cblx0XHRcdFx0Y2FuY2VsbGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG5cdFx0XHRcdGNhbmNlbGxlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0Y2FuY2VsbGF0aW9uX3JlYXNvbjogcmVhc29uIHx8IG51bGwsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgc2NoZWR1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byBjYW5jZWwgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjYW5jZWxKb2JBbmRBcHBvaW50bWVudChcblx0c2NoZWR1bGVJZDogc3RyaW5nLFxuXHRqb2JJZDogc3RyaW5nLFxuXHRyZWFzb24/OiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG5cdFx0Ly8gQ2FuY2VsIHRoZSBhcHBvaW50bWVudFxuXHRcdGNvbnN0IHsgZXJyb3I6IHNjaGVkdWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIixcblx0XHRcdFx0YXNzaWduZWRfdG86IG51bGwsXG5cdFx0XHRcdGNhbmNlbGxlZF9hdDogbm93LFxuXHRcdFx0XHRjYW5jZWxsZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHRcdGNhbmNlbGxhdGlvbl9yZWFzb246IHJlYXNvbiB8fCBudWxsLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKHNjaGVkdWxlRXJyb3IpIHtcblx0XHRcdHRocm93IHNjaGVkdWxlRXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gQWxzbyBjYW5jZWwgdGhlIGpvYiBpZiBpdCBleGlzdHNcblx0XHRpZiAoam9iSWQpIHtcblx0XHRcdGNvbnN0IHsgZXJyb3I6IGpvYkVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0XHQuZnJvbShcImpvYnNcIilcblx0XHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdFx0c3RhdHVzOiBcImNhbmNlbGxlZFwiLFxuXHRcdFx0XHRcdGNhbmNlbGxlZF9hdDogbm93LFxuXHRcdFx0XHRcdGNhbmNlbGxlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0XHRjYW5jZWxsYXRpb25fcmVhc29uOiByZWFzb24gfHwgbnVsbCxcblx0XHRcdFx0fSlcblx0XHRcdFx0LmVxKFwiaWRcIiwgam9iSWQpO1xuXG5cdFx0XHRpZiAoam9iRXJyb3IpIHtcblx0XHRcdFx0dGhyb3cgam9iRXJyb3I7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byBjYW5jZWwgam9iIGFuZCBhcHBvaW50bWVudFwiLFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFyY2hpdmVBcHBvaW50bWVudChzY2hlZHVsZUlkOiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRhcmNoaXZlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIGFyY2hpdmUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb21wbGV0ZUFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG5cdGlmICghc3VwYWJhc2UpIHtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRGF0YWJhc2Ugbm90IGF2YWlsYWJsZVwiIH07XG5cdH1cblxuXHR0cnkge1xuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblxuXHRcdGlmICghdXNlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vdCBhdXRoZW50aWNhdGVkXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRzdGF0dXM6IFwiY29tcGxldGVkXCIsXG5cdFx0XHRcdGFjdHVhbF9lbmRfdGltZTogbm93LFxuXHRcdFx0XHRjb21wbGV0ZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgc2NoZWR1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gY29tcGxldGUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbnR5cGUgRGlzcGF0Y2hTdGF0dXMgPSBcImRpc3BhdGNoZWRcIiB8IFwiYXJyaXZlZFwiIHwgXCJjbG9zZWRcIjtcblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlU2NoZWR1bGVTdGF0dXMoXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0c3RhdHVzOiBEaXNwYXRjaFN0YXR1cyxcblx0ZXh0cmFVcGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9LFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblx0XHRjb25zdCB1cGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHtcblx0XHRcdHN0YXR1cyxcblx0XHRcdHVwZGF0ZWRfYXQ6IG5vdyxcblx0XHRcdC4uLmV4dHJhVXBkYXRlcyxcblx0XHR9O1xuXG5cdFx0aWYgKHN0YXR1cyA9PT0gXCJjbG9zZWRcIikge1xuXHRcdFx0dXBkYXRlcy5jb21wbGV0ZWRfYnkgPSB1c2VyLmlkO1xuXHRcdFx0dXBkYXRlcy5hY3R1YWxfZW5kX3RpbWUgPSB1cGRhdGVzLmFjdHVhbF9lbmRfdGltZSA/PyBub3c7XG5cdFx0fVxuXG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHVwZGF0ZXMpXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBgRmFpbGVkIHRvIHVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMgdG8gJHtzdGF0dXN9YCxcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkaXNwYXRjaEFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRyZXR1cm4gdXBkYXRlU2NoZWR1bGVTdGF0dXMoc2NoZWR1bGVJZCwgXCJkaXNwYXRjaGVkXCIpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXJyaXZlQXBwb2ludG1lbnQoc2NoZWR1bGVJZDogc3RyaW5nKSB7XG5cdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblx0cmV0dXJuIHVwZGF0ZVNjaGVkdWxlU3RhdHVzKHNjaGVkdWxlSWQsIFwiYXJyaXZlZFwiLCB7XG5cdFx0YWN0dWFsX3N0YXJ0X3RpbWU6IG5vdyxcblx0fSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbG9zZUFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cdHJldHVybiB1cGRhdGVTY2hlZHVsZVN0YXR1cyhzY2hlZHVsZUlkLCBcImNsb3NlZFwiLCB7XG5cdFx0YWN0dWFsX2VuZF90aW1lOiBub3csXG5cdH0pO1xufVxuXG4vKipcbiAqIE1vdmUgYW4gZXhpc3RpbmcgYXBwb2ludG1lbnQgdG8gYSBuZXcgdGVjaG5pY2lhbiBhbmQvb3IgdGltZSBzbG90XG4gKiBCYXRjaGVzIGJvdGggb3BlcmF0aW9ucyBpbiBhIHNpbmdsZSBkYXRhYmFzZSBjYWxsIGZvciBwZXJmb3JtYW5jZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbW92ZUFwcG9pbnRtZW50KFxuXHRzY2hlZHVsZUlkOiBzdHJpbmcsXG5cdHRlY2huaWNpYW5JZDogc3RyaW5nLFxuXHRzdGFydFRpbWU6IERhdGUsXG5cdGVuZFRpbWU6IERhdGUsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCBkdXJhdGlvbiA9IE1hdGgucm91bmQoXG5cdFx0XHQoZW5kVGltZS5nZXRUaW1lKCkgLSBzdGFydFRpbWUuZ2V0VGltZSgpKSAvICgxMDAwICogNjApLFxuXHRcdCk7XG5cblx0XHQvLyBGb3JtYXQgYXMgbG9jYWwgZGF0ZXRpbWUgc3RyaW5nIFdJVEhPVVQgdGltZXpvbmUgY29udmVyc2lvblxuXHRcdGNvbnN0IGZvcm1hdExvY2FsRGF0ZVRpbWUgPSAoZGF0ZTogRGF0ZSkgPT4ge1xuXHRcdFx0Y29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcblx0XHRcdGNvbnN0IG1vbnRoID0gU3RyaW5nKGRhdGUuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGNvbnN0IGRheSA9IFN0cmluZyhkYXRlLmdldERhdGUoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgaG91ciA9IFN0cmluZyhkYXRlLmdldEhvdXJzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGNvbnN0IG1pbnV0ZSA9IFN0cmluZyhkYXRlLmdldE1pbnV0ZXMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3Qgc2Vjb25kID0gU3RyaW5nKGRhdGUuZ2V0U2Vjb25kcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRyZXR1cm4gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9ICR7aG91cn06JHttaW51dGV9OiR7c2Vjb25kfWA7XG5cdFx0fTtcblxuXHRcdGNvbnN0IHN0YXJ0U3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShzdGFydFRpbWUpO1xuXHRcdGNvbnN0IGVuZFN0ciA9IGZvcm1hdExvY2FsRGF0ZVRpbWUoZW5kVGltZSk7XG5cblx0XHQvLyBTaW5nbGUgYXRvbWljIHVwZGF0ZSBmb3IgYm90aCBhc3NpZ25tZW50IGFuZCB0aW1lc1xuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdGFzc2lnbmVkX3RvOiB0ZWNobmljaWFuSWQsXG5cdFx0XHRcdHN0YXJ0X3RpbWU6IHN0YXJ0U3RyLFxuXHRcdFx0XHRlbmRfdGltZTogZW5kU3RyLFxuXHRcdFx0XHRkdXJhdGlvbixcblx0XHRcdFx0dXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiRmFpbGVkIHRvIG1vdmUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogQXNzaWduIGFuIHVuYXNzaWduZWQgam9iIHRvIGEgdGVjaG5pY2lhbiB3aXRoIGEgc3BlY2lmaWMgdGltZSBzbG90XG4gKiBVc2VkIHdoZW4gZHJhZ2dpbmcgZnJvbSB1bmFzc2lnbmVkIHBhbmVsIHRvIGEgdGVjaG5pY2lhbiBsYW5lXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhc3NpZ25OZXdBcHBvaW50bWVudChcblx0c2NoZWR1bGVJZDogc3RyaW5nLFxuXHR0ZWNobmljaWFuSWQ6IHN0cmluZyxcblx0c3RhcnRUaW1lOiBEYXRlLFxuXHRlbmRUaW1lOiBEYXRlLFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgZHVyYXRpb24gPSBNYXRoLnJvdW5kKFxuXHRcdFx0KGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSxcblx0XHQpO1xuXG5cdFx0Y29uc3QgZm9ybWF0TG9jYWxEYXRlVGltZSA9IChkYXRlOiBEYXRlKSA9PiB7XG5cdFx0XHRjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0Y29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBob3VyID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgbWludXRlID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBzZWNvbmQgPSBTdHJpbmcoZGF0ZS5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX0gJHtob3VyfToke21pbnV0ZX06JHtzZWNvbmR9YDtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3RhcnRTdHIgPSBmb3JtYXRMb2NhbERhdGVUaW1lKHN0YXJ0VGltZSk7XG5cdFx0Y29uc3QgZW5kU3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShlbmRUaW1lKTtcblxuXHRcdC8vIFNpbmdsZSBhdG9taWMgdXBkYXRlIGZvciBhc3NpZ25tZW50XG5cdFx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHtcblx0XHRcdFx0YXNzaWduZWRfdG86IHRlY2huaWNpYW5JZCxcblx0XHRcdFx0c3RhcnRfdGltZTogc3RhcnRTdHIsXG5cdFx0XHRcdGVuZF90aW1lOiBlbmRTdHIsXG5cdFx0XHRcdGR1cmF0aW9uLFxuXHRcdFx0XHRzdGF0dXM6IFwic2NoZWR1bGVkXCIsXG5cdFx0XHRcdHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKVxuXHRcdFx0LnNlbGVjdCgpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGEgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gYXNzaWduIGFwcG9pbnRtZW50XCIsXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdW5hc3NpZ25BcHBvaW50bWVudChzY2hlZHVsZUlkOiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRhc3NpZ25lZF90bzogbnVsbCxcblx0XHRcdFx0dXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIG1vdmUgYXBwb2ludG1lbnQgdG8gVW5zY2hlZHVsZWRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogU2VuZCBcIk9uIE15IFdheVwiIFNNUyBub3RpZmljYXRpb24gdG8gY3VzdG9tZXJcbiAqIEluY2x1ZGVzIHRlY2huaWNpYW4gbmFtZSBhbmQgZXN0aW1hdGVkIGFycml2YWwgdGltZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZE9uTXlXYXlOb3RpZmljYXRpb24oXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0dGVjaG5pY2lhbk5hbWU6IHN0cmluZyxcblx0Y3VzdG9tZXJQaG9uZTogc3RyaW5nLFxuXHRkZXN0aW5hdGlvbkFkZHJlc3M/OiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHQvLyBHZXQgdXNlciBhbmQgY29tcGFueSBpbmZvXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBjb21wYW55J3MgVGVsbnl4IHNldHRpbmdzIGZvciB0aGUgZnJvbSBudW1iZXJcblx0XHRjb25zdCB7IGRhdGE6IG1lbWJlcnNoaXAgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfbWVtYmVyc2hpcHNcIilcblx0XHRcdC5zZWxlY3QoXCJjb21wYW55X2lkXCIpXG5cdFx0XHQuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpXG5cdFx0XHQuZXEoXCJzdGF0dXNcIiwgXCJhY3RpdmVcIilcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghbWVtYmVyc2hpcD8uY29tcGFueV9pZCkge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIGFjdGl2ZSBjb21wYW55IG1lbWJlcnNoaXBcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IHsgZGF0YTogdGVsbnl4U2V0dGluZ3MgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfdGVsbnl4X3NldHRpbmdzXCIpXG5cdFx0XHQuc2VsZWN0KFwicGhvbmVfbnVtYmVyLCBzdGF0dXNcIilcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgbWVtYmVyc2hpcC5jb21wYW55X2lkKVxuXHRcdFx0LmVxKFwic3RhdHVzXCIsIFwicmVhZHlcIilcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghdGVsbnl4U2V0dGluZ3M/LnBob25lX251bWJlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIHBob25lIG51bWJlciBjb25maWd1cmVkIGZvciBTTVNcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBjb21wYW55IG5hbWUgZm9yIHRoZSBtZXNzYWdlXG5cdFx0Y29uc3QgeyBkYXRhOiBjb21wYW55IH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjb21wYW5pZXNcIilcblx0XHRcdC5zZWxlY3QoXCJuYW1lXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBtZW1iZXJzaGlwLmNvbXBhbnlfaWQpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHQvLyBCdWlsZCB0aGUgXCJPbiBNeSBXYXlcIiBtZXNzYWdlXG5cdFx0bGV0IG1lc3NhZ2UgPSBgSGkhICR7dGVjaG5pY2lhbk5hbWV9IGZyb20gJHtjb21wYW55Py5uYW1lIHx8IFwieW91ciBzZXJ2aWNlIHByb3ZpZGVyXCJ9IGlzIG9uIHRoZSB3YXkgdG8geW91ciBhcHBvaW50bWVudC5gO1xuXG5cdFx0Ly8gVHJ5IHRvIGdldCB0cmF2ZWwgdGltZSBlc3RpbWF0ZSBpZiB3ZSBoYXZlIGEgZGVzdGluYXRpb25cblx0XHRpZiAoZGVzdGluYXRpb25BZGRyZXNzKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCBiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBQX1VSTCB8fCBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMFwiO1xuXHRcdFx0XHRjb25zdCB0cmF2ZWxSZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0XHRcdGAke2Jhc2VVcmx9L2FwaS90cmF2ZWwtdGltZT9kZXN0aW5hdGlvbj0ke2VuY29kZVVSSUNvbXBvbmVudChkZXN0aW5hdGlvbkFkZHJlc3MpfWAsXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0aGVhZGVyczoge1xuXHRcdFx0XHRcdFx0XHRDb29raWU6IGBzYi1hY2Nlc3MtdG9rZW49JHt1c2VyLmlkfWAsIC8vIFBhc3MgYXV0aCBjb250ZXh0XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0aWYgKHRyYXZlbFJlc3BvbnNlLm9rKSB7XG5cdFx0XHRcdFx0Y29uc3QgdHJhdmVsRGF0YSA9IGF3YWl0IHRyYXZlbFJlc3BvbnNlLmpzb24oKTtcblx0XHRcdFx0XHRpZiAodHJhdmVsRGF0YS5kdXJhdGlvblRleHQpIHtcblx0XHRcdFx0XHRcdG1lc3NhZ2UgKz0gYCBFc3RpbWF0ZWQgYXJyaXZhbDogJHt0cmF2ZWxEYXRhLmR1cmF0aW9uVGV4dH0uYDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHQvLyBUcmF2ZWwgdGltZSBmZXRjaCBmYWlsZWQgLSBjb250aW51ZSB3aXRob3V0IGl0XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0bWVzc2FnZSArPSBcIiBXZSdsbCBzZWUgeW91IHNvb24hXCI7XG5cblx0XHQvLyBTZW5kIHRoZSBTTVMgdmlhIFRlbG55eFxuXHRcdGNvbnN0IHsgc2VuZFNNUyB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvdGVsbnl4L21lc3NhZ2luZ1wiKTtcblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kU01TKHtcblx0XHRcdHRvOiBjdXN0b21lclBob25lLFxuXHRcdFx0ZnJvbTogdGVsbnl4U2V0dGluZ3MucGhvbmVfbnVtYmVyLFxuXHRcdFx0dGV4dDogbWVzc2FnZSxcblx0XHR9KTtcblxuXHRcdGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gc2VuZCBTTVNcIiB9O1xuXHRcdH1cblxuXHRcdC8vIFVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMgdG8gZGlzcGF0Y2hlZFxuXHRcdGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJkaXNwYXRjaGVkXCIsXG5cdFx0XHRcdGRpc3BhdGNoZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0bWVzc2FnZTogXCJPbiBNeSBXYXkgbm90aWZpY2F0aW9uIHNlbnQgc3VjY2Vzc2Z1bGx5XCIsXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gc2VuZCBPbiBNeSBXYXkgbm90aWZpY2F0aW9uXCIsXG5cdFx0fTtcblx0fVxufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJ5VEEyVnNCIn0=
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/components/ui/shadcn-io/kanban/index.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "KanbanBoard",
    ()=>KanbanBoard,
    "KanbanCard",
    ()=>KanbanCard,
    "KanbanCards",
    ()=>KanbanCards,
    "KanbanHeader",
    ()=>KanbanHeader,
    "KanbanProvider",
    ()=>KanbanProvider
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$dnd$2d$kit$2b$core$40$6$2e$3$2e$1_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f40$dnd$2d$kit$2f$core$2f$dist$2f$core$2e$esm$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/@dnd-kit+core@6.3.1_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/@dnd-kit/core/dist/core.esm.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$dnd$2d$kit$2b$sortable$40$10$2e$0$2e$0_$40$dnd$2d$kit$2b$core$40$6$2e$3$2e$1_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f40$dnd$2d$kit$2f$sortable$2f$dist$2f$sortable$2e$esm$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/@dnd-kit+sortable@10.0.0_@dnd-kit+core@6.3.1_react-dom@19.2.0_react@19.2.0__react@19.2.0__react@19.2.0/node_modules/@dnd-kit/sortable/dist/sortable.esm.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$dnd$2d$kit$2b$utilities$40$3$2e$2$2e$2_react$40$19$2e$2$2e$0$2f$node_modules$2f40$dnd$2d$kit$2f$utilities$2f$dist$2f$utilities$2e$esm$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/@dnd-kit+utilities@3.2.2_react@19.2.0/node_modules/@dnd-kit/utilities/dist/utilities.esm.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$index$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/packages/ui/src/index.ts [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$card$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/src/card.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$scroll$2d$area$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/src/scroll-area.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/src/utils.ts [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature(), _s1 = __turbopack_context__.k.signature(), _s2 = __turbopack_context__.k.signature(), _s3 = __turbopack_context__.k.signature(), _s4 = __turbopack_context__.k.signature();
"use client";
;
;
;
;
;
const KanbanContext = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createContext"])(null);
const KanbanColumnContext = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createContext"])(null);
const COLUMN_DROPPABLE_PREFIX = "kanban-column-";
function buildState(columns, data, getColumnId) {
    const initialState = Object.fromEntries(columns.map((column)=>[
            column.id,
            []
        ]));
    return data.reduce((state, item)=>{
        const columnId = getColumnId(item);
        if (!state[columnId]) {
            state[columnId] = [];
        }
        state[columnId] = [
            ...state[columnId],
            item
        ];
        return state;
    }, initialState);
}
function flattenState(columns, state) {
    return columns.flatMap((column)=>state[column.id] ?? []);
}
function cloneState(state) {
    return Object.fromEntries(Object.entries(state).map(([columnId, items])=>[
            columnId,
            items.slice()
        ]));
}
function KanbanProvider({ columns, data, onDataChange, onItemMove, getColumnId, children, className, pointerSensorOptions, renderDragOverlay }) {
    _s();
    const columnIdGetter = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])(getColumnId ?? ({
        "KanbanProvider.useCallback[columnIdGetter]": (item)=>item.columnId
    })["KanbanProvider.useCallback[columnIdGetter]"], []);
    const [itemsByColumn, setItemsByColumn] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])({
        "KanbanProvider.useState": ()=>buildState(columns, data, columnIdGetter)
    }["KanbanProvider.useState"]);
    const [activeItem, setActiveItem] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    const latestColumnsRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRef"])(columns);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "KanbanProvider.useEffect": ()=>{
            latestColumnsRef.current = columns;
        }
    }["KanbanProvider.useEffect"], [
        columns
    ]);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "KanbanProvider.useEffect": ()=>{
            setItemsByColumn(buildState(columns, data, columnIdGetter));
        }
    }["KanbanProvider.useEffect"], [
        columns,
        data,
        columnIdGetter
    ]);
    const sensors = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$dnd$2d$kit$2b$core$40$6$2e$3$2e$1_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f40$dnd$2d$kit$2f$core$2f$dist$2f$core$2e$esm$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useSensors"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$dnd$2d$kit$2b$core$40$6$2e$3$2e$1_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f40$dnd$2d$kit$2f$core$2f$dist$2f$core$2e$esm$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useSensor"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$dnd$2d$kit$2b$core$40$6$2e$3$2e$1_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f40$dnd$2d$kit$2f$core$2f$dist$2f$core$2e$esm$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PointerSensor"], {
        activationConstraint: {
            distance: 6
        },
        ...pointerSensorOptions
    }), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$dnd$2d$kit$2b$core$40$6$2e$3$2e$1_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f40$dnd$2d$kit$2f$core$2f$dist$2f$core$2e$esm$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useSensor"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$dnd$2d$kit$2b$core$40$6$2e$3$2e$1_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f40$dnd$2d$kit$2f$core$2f$dist$2f$core$2e$esm$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["KeyboardSensor"], {
        coordinateGetter: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$dnd$2d$kit$2b$sortable$40$10$2e$0$2e$0_$40$dnd$2d$kit$2b$core$40$6$2e$3$2e$1_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f40$dnd$2d$kit$2f$sortable$2f$dist$2f$sortable$2e$esm$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["sortableKeyboardCoordinates"]
    }));
    const findItem = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "KanbanProvider.useCallback[findItem]": (id)=>{
            for (const column of latestColumnsRef.current){
                const items = itemsByColumn[column.id] ?? [];
                const index = items.findIndex({
                    "KanbanProvider.useCallback[findItem].index": (item)=>item.id === id
                }["KanbanProvider.useCallback[findItem].index"]);
                if (index !== -1) {
                    return {
                        columnId: column.id,
                        item: items[index],
                        index
                    };
                }
            }
            return null;
        }
    }["KanbanProvider.useCallback[findItem]"], [
        itemsByColumn
    ]);
    const handleDragStart = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "KanbanProvider.useCallback[handleDragStart]": (event)=>{
            const result = findItem(event.active.id);
            if (result) {
                setActiveItem({
                    item: result.item,
                    columnId: result.columnId
                });
            }
        }
    }["KanbanProvider.useCallback[handleDragStart]"], [
        findItem
    ]);
    const handleDragEnd = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "KanbanProvider.useCallback[handleDragEnd]": (event)=>{
            const { active, over } = event;
            setActiveItem(null);
            if (!over) {
                return;
            }
            const origin = findItem(active.id);
            if (!origin) {
                return;
            }
            let destinationColumnId = null;
            let destinationIndex = null;
            if (typeof over.id === "string" && over.id.startsWith(COLUMN_DROPPABLE_PREFIX)) {
                destinationColumnId = over.id.replace(COLUMN_DROPPABLE_PREFIX, "");
                destinationIndex = (itemsByColumn[destinationColumnId] ?? []).length;
            } else {
                const destination = findItem(over.id);
                if (destination) {
                    destinationColumnId = destination.columnId;
                    const columnItems = itemsByColumn[destination.columnId] ?? [];
                    destinationIndex = columnItems.findIndex({
                        "KanbanProvider.useCallback[handleDragEnd]": (item)=>item.id === destination.item.id
                    }["KanbanProvider.useCallback[handleDragEnd]"]);
                }
            }
            if (destinationColumnId === null || destinationIndex === null || destinationColumnId === origin.columnId && destinationIndex === origin.index) {
                return;
            }
            const updatedState = cloneState(itemsByColumn);
            const originItems = updatedState[origin.columnId] ?? [];
            const [movedItem] = originItems.splice(origin.index, 1);
            updatedState[origin.columnId] = originItems;
            const destinationItems = updatedState[destinationColumnId] ?? [];
            const insertIndex = origin.columnId === destinationColumnId && origin.index < destinationIndex ? destinationIndex - 1 : destinationIndex;
            const updatedItem = {
                ...movedItem,
                columnId: destinationColumnId
            };
            destinationItems.splice(insertIndex, 0, updatedItem);
            updatedState[destinationColumnId] = destinationItems;
            setItemsByColumn(updatedState);
            const flattened = flattenState(latestColumnsRef.current, updatedState);
            onDataChange?.(flattened);
            if (onItemMove) {
                onItemMove({
                    item: updatedItem,
                    fromColumnId: origin.columnId,
                    toColumnId: destinationColumnId,
                    toIndex: insertIndex
                });
            }
        }
    }["KanbanProvider.useCallback[handleDragEnd]"], [
        findItem,
        itemsByColumn,
        onDataChange,
        onItemMove
    ]);
    const contextValue = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMemo"])({
        "KanbanProvider.useMemo[contextValue]": ()=>({
                columns,
                getItems: ({
                    "KanbanProvider.useMemo[contextValue]": (columnId)=>itemsByColumn[columnId] ?? []
                })["KanbanProvider.useMemo[contextValue]"],
                findItem,
                activeItem
            })
    }["KanbanProvider.useMemo[contextValue]"], [
        columns,
        itemsByColumn,
        findItem,
        activeItem
    ]);
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(KanbanContext.Provider, {
        value: contextValue,
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$dnd$2d$kit$2b$core$40$6$2e$3$2e$1_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f40$dnd$2d$kit$2f$core$2f$dist$2f$core$2e$esm$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DndContext"], {
            collisionDetection: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$dnd$2d$kit$2b$core$40$6$2e$3$2e$1_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f40$dnd$2d$kit$2f$core$2f$dist$2f$core$2e$esm$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["closestCorners"],
            onDragCancel: ()=>setActiveItem(null),
            onDragEnd: handleDragEnd,
            onDragStart: handleDragStart,
            sensors: sensors,
            children: [
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("flex w-full gap-4 overflow-x-auto px-6 py-4 md:px-8 lg:px-10", className),
                    children: children
                }, void 0, false, {
                    fileName: "[project]/apps/web/src/components/ui/shadcn-io/kanban/index.tsx",
                    lineNumber: 289,
                    columnNumber: 5
                }, this),
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$dnd$2d$kit$2b$core$40$6$2e$3$2e$1_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f40$dnd$2d$kit$2f$core$2f$dist$2f$core$2e$esm$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DragOverlay"], {
                    children: activeItem ? renderDragOverlay ? renderDragOverlay(activeItem.item) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$card$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Card"], {
                        className: "border-border/70 bg-background/95 w-[280px] max-w-[320px] border p-3 shadow-lg",
                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                            className: "text-sm font-medium",
                            children: String(activeItem.item.id)
                        }, void 0, false, {
                            fileName: "[project]/apps/web/src/components/ui/shadcn-io/kanban/index.tsx",
                            lineNumber: 303,
                            columnNumber: 9
                        }, this)
                    }, void 0, false, {
                        fileName: "[project]/apps/web/src/components/ui/shadcn-io/kanban/index.tsx",
                        lineNumber: 302,
                        columnNumber: 8
                    }, this) : null
                }, void 0, false, {
                    fileName: "[project]/apps/web/src/components/ui/shadcn-io/kanban/index.tsx",
                    lineNumber: 297,
                    columnNumber: 5
                }, this)
            ]
        }, void 0, true, {
            fileName: "[project]/apps/web/src/components/ui/shadcn-io/kanban/index.tsx",
            lineNumber: 282,
            columnNumber: 4
        }, this)
    }, void 0, false, {
        fileName: "[project]/apps/web/src/components/ui/shadcn-io/kanban/index.tsx",
        lineNumber: 279,
        columnNumber: 3
    }, this);
}
_s(KanbanProvider, "bO3ReVOge3wnFF5raaX4Mis6Fjs=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$dnd$2d$kit$2b$core$40$6$2e$3$2e$1_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f40$dnd$2d$kit$2f$core$2f$dist$2f$core$2e$esm$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useSensors"]
    ];
});
_c = KanbanProvider;
function useKanbanContext() {
    _s1();
    const context = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useContext"])(KanbanContext);
    if (!context) {
        throw new Error("useKanbanContext must be used within a KanbanProvider");
    }
    return context;
}
_s1(useKanbanContext, "b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=");
function KanbanBoard({ column, children, className }) {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(KanbanColumnContext.Provider, {
        value: column,
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("section", {
            "aria-label": `${column.name} column`,
            className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("kanban-column border-border/60 from-background via-background/60 to-muted/40 flex h-full min-w-[320px] flex-1 flex-col rounded-2xl border bg-gradient-to-b shadow-sm ring-1 ring-black/5 backdrop-blur-sm transition hover:shadow-md", className),
            children: children
        }, void 0, false, {
            fileName: "[project]/apps/web/src/components/ui/shadcn-io/kanban/index.tsx",
            lineNumber: 334,
            columnNumber: 4
        }, this)
    }, void 0, false, {
        fileName: "[project]/apps/web/src/components/ui/shadcn-io/kanban/index.tsx",
        lineNumber: 333,
        columnNumber: 3
    }, this);
}
_c1 = KanbanBoard;
function KanbanHeader({ children, className }) {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("header", {
        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("bg-background/90 sticky top-0 z-10 flex items-center justify-between gap-2 rounded-t-2xl px-4 py-3 backdrop-blur-sm", className),
        children: children
    }, void 0, false, {
        fileName: "[project]/apps/web/src/components/ui/shadcn-io/kanban/index.tsx",
        lineNumber: 354,
        columnNumber: 3
    }, this);
}
_c2 = KanbanHeader;
function KanbanCards({ columnId, children, emptyState, className, height = "28rem" }) {
    _s2();
    const { getItems } = useKanbanContext();
    const items = getItems(columnId);
    const { setNodeRef, isOver } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$dnd$2d$kit$2b$core$40$6$2e$3$2e$1_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f40$dnd$2d$kit$2f$core$2f$dist$2f$core$2e$esm$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useDroppable"])({
        id: `${COLUMN_DROPPABLE_PREFIX}${columnId}`
    });
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$dnd$2d$kit$2b$sortable$40$10$2e$0$2e$0_$40$dnd$2d$kit$2b$core$40$6$2e$3$2e$1_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f40$dnd$2d$kit$2f$sortable$2f$dist$2f$sortable$2e$esm$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SortableContext"], {
        items: items.map((item)=>item.id),
        strategy: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$dnd$2d$kit$2b$sortable$40$10$2e$0$2e$0_$40$dnd$2d$kit$2b$core$40$6$2e$3$2e$1_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f40$dnd$2d$kit$2f$sortable$2f$dist$2f$sortable$2e$esm$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["verticalListSortingStrategy"],
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$scroll$2d$area$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ScrollArea"], {
            className: "kanban-scroll flex-1",
            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("kanban-column-cards bg-muted/30 flex min-h-[120px] flex-col gap-3 rounded-2xl p-3 transition", isOver && "ring-primary/60 ring-2 ring-offset-2", className),
                "data-drop-state": isOver ? "active" : "inactive",
                ref: setNodeRef,
                style: {
                    minHeight: height
                },
                children: [
                    items.length === 0 && emptyState,
                    items.map((item, index)=>children(item, index))
                ]
            }, void 0, true, {
                fileName: "[project]/apps/web/src/components/ui/shadcn-io/kanban/index.tsx",
                lineNumber: 392,
                columnNumber: 5
            }, this)
        }, void 0, false, {
            fileName: "[project]/apps/web/src/components/ui/shadcn-io/kanban/index.tsx",
            lineNumber: 391,
            columnNumber: 4
        }, this)
    }, void 0, false, {
        fileName: "[project]/apps/web/src/components/ui/shadcn-io/kanban/index.tsx",
        lineNumber: 387,
        columnNumber: 3
    }, this);
}
_s2(KanbanCards, "T/7Qwu5+pMeKQl8aSu159J/7Hr4=", false, function() {
    return [
        useKanbanContext,
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$dnd$2d$kit$2b$core$40$6$2e$3$2e$1_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f40$dnd$2d$kit$2f$core$2f$dist$2f$core$2e$esm$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useDroppable"]
    ];
});
_c3 = KanbanCards;
function KanbanCard({ itemId, children, className }) {
    _s3();
    const { attributes, listeners, setNodeRef, transform, transition, isDragging } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$dnd$2d$kit$2b$sortable$40$10$2e$0$2e$0_$40$dnd$2d$kit$2b$core$40$6$2e$3$2e$1_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f40$dnd$2d$kit$2f$sortable$2f$dist$2f$sortable$2e$esm$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useSortable"])({
        id: itemId
    });
    const style = {
        transform: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$dnd$2d$kit$2b$utilities$40$3$2e$2$2e$2_react$40$19$2e$2$2e$0$2f$node_modules$2f40$dnd$2d$kit$2f$utilities$2f$dist$2f$utilities$2e$esm$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CSS"].Transform.toString(transform),
        transition
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$card$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Card"], {
        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("border-border/70 bg-background/95 focus-visible:ring-ring grid gap-3 rounded-xl border p-4 text-left shadow-sm ring-0 transition-all outline-none hover:-translate-y-0.5 hover:shadow-md focus-visible:ring-2", isDragging && "border-primary/60 scale-[1.01] opacity-80 shadow-lg", className),
        "data-dragging": isDragging ? "" : undefined,
        ref: setNodeRef,
        style: style,
        ...listeners,
        ...attributes,
        children: children
    }, void 0, false, {
        fileName: "[project]/apps/web/src/components/ui/shadcn-io/kanban/index.tsx",
        lineNumber: 434,
        columnNumber: 3
    }, this);
}
_s3(KanbanCard, "CZ7HDIjQQstuf9c/qxzneGZm/KM=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$dnd$2d$kit$2b$sortable$40$10$2e$0$2e$0_$40$dnd$2d$kit$2b$core$40$6$2e$3$2e$1_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f40$dnd$2d$kit$2f$sortable$2f$dist$2f$sortable$2e$esm$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useSortable"]
    ];
});
_c4 = KanbanCard;
function useKanbanColumn() {
    _s4();
    const context = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useContext"])(KanbanColumnContext);
    if (!context) {
        throw new Error("useKanbanColumn must be used within a KanbanBoard");
    }
    return context;
}
_s4(useKanbanColumn, "b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=");
var _c, _c1, _c2, _c3, _c4;
__turbopack_context__.k.register(_c, "KanbanProvider");
__turbopack_context__.k.register(_c1, "KanbanBoard");
__turbopack_context__.k.register(_c2, "KanbanHeader");
__turbopack_context__.k.register(_c3, "KanbanCards");
__turbopack_context__.k.register(_c4, "KanbanCard");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/components/ui/entity-kanban.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/**
 * EntityKanban - Generic Kanban Component
 *
 * Reusable kanban board component that handles common kanban logic.
 * Replaces individual kanban components (JobsKanban, InvoicesKanban, etc.)
 *
 * Features:
 * - Column definitions with status mapping
 * - Drag and drop functionality
 * - Column metadata (counts, totals)
 * - Custom card rendering
 * - Optional status change handler
 */ __turbopack_context__.s([
    "EntityKanban",
    ()=>EntityKanban
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$index$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/packages/ui/src/index.ts [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$badge$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/src/badge.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ui$2f$shadcn$2d$io$2f$kanban$2f$index$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/src/components/ui/shadcn-io/kanban/index.tsx [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
"use client";
;
;
;
function EntityKanban({ data, columns, mapToKanbanItem, updateEntityStatus, renderCard, renderDragOverlay, calculateColumnMeta, onItemMove, entityName = "items", emptyStateMessage, showTotals = false, formatTotal }) {
    _s();
    const [items, setItems] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])({
        "EntityKanban.useState": ()=>data.map(mapToKanbanItem)
    }["EntityKanban.useState"]);
    // DO NOT sync prop changes - causes infinite re-render loop with array/function props
    // Initial state is set from props, updates come from drag-and-drop handlers
    const handleDataChange = (next)=>{
        if (updateEntityStatus) {
            setItems(next.map((item)=>({
                    ...item,
                    entity: updateEntityStatus(item.entity, item.columnId)
                })));
        } else {
            setItems(next);
        }
    };
    const defaultCalculateColumnMeta = (columnId, items)=>{
        const columnItems = items.filter((item)=>item.columnId === columnId);
        return {
            count: columnItems.length
        };
    };
    const getColumnMeta = calculateColumnMeta || defaultCalculateColumnMeta;
    const columnMetaMap = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMemo"])({
        "EntityKanban.useMemo[columnMetaMap]": ()=>{
            const meta = {};
            columns.forEach({
                "EntityKanban.useMemo[columnMetaMap]": (column)=>{
                    meta[column.id] = getColumnMeta(column.id, items);
                }
            }["EntityKanban.useMemo[columnMetaMap]"]);
            return meta;
        }
    }["EntityKanban.useMemo[columnMetaMap]"], [
        columns,
        items,
        getColumnMeta
    ]);
    const kanbanColumns = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMemo"])({
        "EntityKanban.useMemo[kanbanColumns]": ()=>columns.map({
                "EntityKanban.useMemo[kanbanColumns]": (col)=>({
                        id: col.id,
                        name: col.name,
                        accentColor: col.accentColor
                    })
            }["EntityKanban.useMemo[kanbanColumns]"])
    }["EntityKanban.useMemo[kanbanColumns]"], [
        columns
    ]);
    const defaultEmptyState = (columnName)=>`No ${entityName} in ${columnName}`;
    const getEmptyStateMessage = emptyStateMessage || defaultEmptyState;
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ui$2f$shadcn$2d$io$2f$kanban$2f$index$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["KanbanProvider"], {
        className: "pb-4",
        columns: kanbanColumns,
        data: items,
        onDataChange: handleDataChange,
        onItemMove: onItemMove,
        renderDragOverlay: renderDragOverlay || ((item)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "border-border/70 bg-background/95 w-[280px] rounded-xl border p-4 shadow-lg",
                children: renderCard(item)
            }, void 0, false, {
                fileName: "[project]/apps/web/src/components/ui/entity-kanban.tsx",
                lineNumber: 162,
                columnNumber: 6
            }, void 0)),
        children: columns.map((column)=>{
            const meta = columnMetaMap[column.id] ?? {
                count: 0
            };
            return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ui$2f$shadcn$2d$io$2f$kanban$2f$index$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["KanbanBoard"], {
                className: "min-h-[300px] flex-1",
                column: kanbanColumns.find((c)=>c.id === column.id),
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ui$2f$shadcn$2d$io$2f$kanban$2f$index$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["KanbanHeader"], {
                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "flex items-center gap-2",
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                    "aria-hidden": "true",
                                    className: "h-2.5 w-2.5 rounded-full",
                                    style: {
                                        backgroundColor: column.accentColor
                                    }
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/src/components/ui/entity-kanban.tsx",
                                    lineNumber: 178,
                                    columnNumber: 9
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                    className: "text-foreground text-sm font-semibold",
                                    children: column.name
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/src/components/ui/entity-kanban.tsx",
                                    lineNumber: 183,
                                    columnNumber: 9
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$badge$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Badge"], {
                                    className: "bg-muted text-muted-foreground rounded-full px-2 py-0 text-xs font-medium",
                                    variant: "secondary",
                                    children: [
                                        meta.count,
                                        " ",
                                        entityName
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/apps/web/src/components/ui/entity-kanban.tsx",
                                    lineNumber: 186,
                                    columnNumber: 9
                                }, this),
                                showTotals && meta.total !== undefined && formatTotal && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                    className: "text-muted-foreground text-xs",
                                    children: formatTotal(meta.total)
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/src/components/ui/entity-kanban.tsx",
                                    lineNumber: 193,
                                    columnNumber: 10
                                }, this),
                                showTotals && meta.value !== undefined && formatTotal && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                    className: "text-muted-foreground text-xs",
                                    children: formatTotal(meta.value)
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/src/components/ui/entity-kanban.tsx",
                                    lineNumber: 198,
                                    columnNumber: 10
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/apps/web/src/components/ui/entity-kanban.tsx",
                            lineNumber: 177,
                            columnNumber: 8
                        }, this)
                    }, void 0, false, {
                        fileName: "[project]/apps/web/src/components/ui/entity-kanban.tsx",
                        lineNumber: 176,
                        columnNumber: 7
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ui$2f$shadcn$2d$io$2f$kanban$2f$index$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["KanbanCards"], {
                        className: "min-h-[200px]",
                        columnId: column.id,
                        emptyState: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "border-border/60 bg-background/60 text-muted-foreground rounded-xl border border-dashed p-4 text-center text-xs",
                            children: getEmptyStateMessage(column.name)
                        }, void 0, false, {
                            fileName: "[project]/apps/web/src/components/ui/entity-kanban.tsx",
                            lineNumber: 208,
                            columnNumber: 9
                        }, void 0),
                        children: (item)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ui$2f$shadcn$2d$io$2f$kanban$2f$index$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["KanbanCard"], {
                                itemId: item.id,
                                children: renderCard(item)
                            }, item.id, false, {
                                fileName: "[project]/apps/web/src/components/ui/entity-kanban.tsx",
                                lineNumber: 214,
                                columnNumber: 9
                            }, this)
                    }, void 0, false, {
                        fileName: "[project]/apps/web/src/components/ui/entity-kanban.tsx",
                        lineNumber: 204,
                        columnNumber: 7
                    }, this)
                ]
            }, column.id, true, {
                fileName: "[project]/apps/web/src/components/ui/entity-kanban.tsx",
                lineNumber: 171,
                columnNumber: 6
            }, this);
        })
    }, void 0, false, {
        fileName: "[project]/apps/web/src/components/ui/entity-kanban.tsx",
        lineNumber: 153,
        columnNumber: 3
    }, this);
}
_s(EntityKanban, "U8DyxEG0w56y/33fgzOm0TTdroE=");
_c = EntityKanban;
var _c;
__turbopack_context__.k.register(_c, "EntityKanban");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:181103 [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"401e76a8087631691f7ec36839ee72d94471c73491":"createAppointment"},"apps/web/src/actions/appointments.ts",""] */ __turbopack_context__.s([
    "createAppointment",
    ()=>createAppointment
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var createAppointment = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("401e76a8087631691f7ec36839ee72d94471c73491", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "createAppointment"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vYXBwb2ludG1lbnRzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQXBwb2ludG1lbnRzIFNlcnZlciBBY3Rpb25zXG4gKlxuICogSGFuZGxlcyBhcHBvaW50bWVudCBzY2hlZHVsaW5nIGFuZCBtYW5hZ2VtZW50IHdpdGggY29tcHJlaGVuc2l2ZSBDUlVEIG9wZXJhdGlvbnMsXG4gKiBzdGF0dXMgdHJhbnNpdGlvbnMsIHJlbWluZGVycywgYW5kIHRlYW0gYXNzaWdubWVudCBsb2dpYy5cbiAqL1xuXG5cInVzZSBzZXJ2ZXJcIjtcblxuaW1wb3J0IHsgcmV2YWxpZGF0ZVBhdGggfSBmcm9tIFwibmV4dC9jYWNoZVwiO1xuaW1wb3J0IHsgeiB9IGZyb20gXCJ6b2RcIjtcbmltcG9ydCB7IGdldEFjdGl2ZUNvbXBhbnlJZCB9IGZyb20gXCJAL2xpYi9hdXRoL2NvbXBhbnktY29udGV4dFwiO1xuaW1wb3J0IHsgQWN0aW9uRXJyb3IsIEVSUk9SX0NPREVTIH0gZnJvbSBcIkAvbGliL2Vycm9ycy9hY3Rpb24tZXJyb3JcIjtcbmltcG9ydCB7XG5cdHR5cGUgQWN0aW9uUmVzdWx0LFxuXHRhc3NlcnRBdXRoZW50aWNhdGVkLFxuXHRhc3NlcnRFeGlzdHMsXG5cdHdpdGhFcnJvckhhbmRsaW5nLFxufSBmcm9tIFwiQC9saWIvZXJyb3JzL3dpdGgtZXJyb3ItaGFuZGxpbmdcIjtcbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gXCJAL2xpYi9zdXBhYmFzZS9zZXJ2ZXJcIjtcblxudHlwZSBTdXBhYmFzZVNlcnZlckNsaWVudCA9IEV4Y2x1ZGU8XG5cdEF3YWl0ZWQ8UmV0dXJuVHlwZTx0eXBlb2YgY3JlYXRlQ2xpZW50Pj4sXG5cdG51bGxcbj47XG5cbmNvbnN0IEFQUE9JTlRNRU5UX05VTUJFUl9SRUdFWCA9IC9BUFQtKFxcZCspLztcbmNvbnN0IEFQUE9JTlRNRU5UX05VTUJFUl9MRU5HVEggPSA2O1xuY29uc3QgTUlMTElTRUNPTkRTX1BFUl9NSU5VVEUgPSA2MF8wMDA7XG5jb25zdCBERUZBVUxUX1NFQVJDSF9MSU1JVCA9IDUwO1xuY29uc3QgREVGQVVMVF9TRUFSQ0hfT0ZGU0VUID0gMDtcblxuY29uc3QgZ2V0U3VwYWJhc2VTZXJ2ZXJDbGllbnQgPSBhc3luYyAoKTogUHJvbWlzZTxTdXBhYmFzZVNlcnZlckNsaWVudD4gPT4ge1xuXHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XCJEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZFwiLFxuXHRcdFx0RVJST1JfQ09ERVMuREJfQ09OTkVDVElPTl9FUlJPUixcblx0XHQpO1xuXHR9XG5cdHJldHVybiBzdXBhYmFzZSBhcyBTdXBhYmFzZVNlcnZlckNsaWVudDtcbn07XG5cbi8vIFZhbGlkYXRpb24gU2NoZW1hc1xuY29uc3QgY3JlYXRlQXBwb2ludG1lbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG5cdGN1c3RvbWVySWQ6IHouc3RyaW5nKCkudXVpZChcIkludmFsaWQgY3VzdG9tZXIgSURcIiksXG5cdHByb3BlcnR5SWQ6IHouc3RyaW5nKCkudXVpZChcIkludmFsaWQgcHJvcGVydHkgSURcIikub3B0aW9uYWwoKSxcblx0am9iSWQ6IHouc3RyaW5nKCkudXVpZChcIkludmFsaWQgam9iIElEXCIpLm9wdGlvbmFsKCksXG5cdGFzc2lnbmVkVG86IHouc3RyaW5nKCkudXVpZChcIkludmFsaWQgdXNlciBJRFwiKS5vcHRpb25hbCgpLFxuXHR0aXRsZTogei5zdHJpbmcoKS5taW4oMSwgXCJBcHBvaW50bWVudCB0aXRsZSBpcyByZXF1aXJlZFwiKSxcblx0ZGVzY3JpcHRpb246IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcblx0Y2F0ZWdvcnk6IHpcblx0XHQuZW51bShbXG5cdFx0XHRcImpvYl9hcHBvaW50bWVudFwiLFxuXHRcdFx0XCJlc3RpbWF0ZV9hcHBvaW50bWVudFwiLFxuXHRcdFx0XCJldmVudFwiLFxuXHRcdFx0XCJtZWV0aW5nXCIsXG5cdFx0XHRcImZvbGxvd191cFwiLFxuXHRcdFx0XCJyZWN1cnJpbmdfc2VydmljZVwiLFxuXHRcdF0pXG5cdFx0LmRlZmF1bHQoXCJqb2JfYXBwb2ludG1lbnRcIiksXG5cdHR5cGU6IHpcblx0XHQuZW51bShbXG5cdFx0XHRcInNlcnZpY2VfY2FsbFwiLFxuXHRcdFx0XCJpbnN0YWxsYXRpb25cIixcblx0XHRcdFwibWFpbnRlbmFuY2VcIixcblx0XHRcdFwiaW5zcGVjdGlvblwiLFxuXHRcdFx0XCJyZXBhaXJcIixcblx0XHRcdFwiZXN0aW1hdGVcIixcblx0XHRcdFwiZm9sbG93X3VwXCIsXG5cdFx0XHRcIndpbnRlcml6YXRpb25cIixcblx0XHRcdFwiZW1lcmdlbmN5XCIsXG5cdFx0XSlcblx0XHQub3B0aW9uYWwoKSxcblx0cHJpb3JpdHk6IHouZW51bShbXCJsb3dcIiwgXCJub3JtYWxcIiwgXCJoaWdoXCIsIFwidXJnZW50XCJdKS5kZWZhdWx0KFwibm9ybWFsXCIpLFxuXHRzY2hlZHVsZWRTdGFydDogei5zdHJpbmcoKS5taW4oMSwgXCJTdGFydCB0aW1lIGlzIHJlcXVpcmVkXCIpLFxuXHRzY2hlZHVsZWRFbmQ6IHouc3RyaW5nKCkubWluKDEsIFwiRW5kIHRpbWUgaXMgcmVxdWlyZWRcIiksXG5cdG5vdGVzOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG5cdHRyYXZlbFRpbWVNaW51dGVzOiB6Lm51bWJlcigpLmludCgpLm1pbigwKS5vcHRpb25hbCgpLFxufSk7XG5cbmNvbnN0IHVwZGF0ZUFwcG9pbnRtZW50U2NoZW1hID0gei5vYmplY3Qoe1xuXHR0aXRsZTogei5zdHJpbmcoKS5taW4oMSwgXCJBcHBvaW50bWVudCB0aXRsZSBpcyByZXF1aXJlZFwiKS5vcHRpb25hbCgpLFxuXHRkZXNjcmlwdGlvbjogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuXHRzdGF0dXM6IHpcblx0XHQuZW51bShbXG5cdFx0XHRcInNjaGVkdWxlZFwiLFxuXHRcdFx0XCJjb25maXJtZWRcIixcblx0XHRcdFwiaW5fcHJvZ3Jlc3NcIixcblx0XHRcdFwiY29tcGxldGVkXCIsXG5cdFx0XHRcImNhbmNlbGxlZFwiLFxuXHRcdFx0XCJub19zaG93XCIsXG5cdFx0XHRcInJlc2NoZWR1bGVkXCIsXG5cdFx0XSlcblx0XHQub3B0aW9uYWwoKSxcblx0dHlwZTogelxuXHRcdC5lbnVtKFtcblx0XHRcdFwic2VydmljZVwiLFxuXHRcdFx0XCJjb25zdWx0YXRpb25cIixcblx0XHRcdFwiZXN0aW1hdGVcIixcblx0XHRcdFwiZm9sbG93X3VwXCIsXG5cdFx0XHRcIm1haW50ZW5hbmNlXCIsXG5cdFx0XHRcImVtZXJnZW5jeVwiLFxuXHRcdFx0XCJpbnNwZWN0aW9uXCIsXG5cdFx0XSlcblx0XHQub3B0aW9uYWwoKSxcblx0cHJpb3JpdHk6IHouZW51bShbXCJsb3dcIiwgXCJub3JtYWxcIiwgXCJoaWdoXCIsIFwidXJnZW50XCJdKS5vcHRpb25hbCgpLFxuXHRzY2hlZHVsZWRTdGFydDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuXHRzY2hlZHVsZWRFbmQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcblx0YWN0dWFsU3RhcnQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcblx0YWN0dWFsRW5kOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG5cdGFzc2lnbmVkVG86IHouc3RyaW5nKCkudXVpZChcIkludmFsaWQgdXNlciBJRFwiKS5vcHRpb25hbCgpLm51bGxhYmxlKCksXG5cdG5vdGVzOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG5cdGNhbmNlbGxhdGlvblJlYXNvbjogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxufSk7XG5cbmNvbnN0IHJlc2NoZWR1bGVBcHBvaW50bWVudFNjaGVtYSA9IHoub2JqZWN0KHtcblx0c2NoZWR1bGVkU3RhcnQ6IHouc3RyaW5nKCkubWluKDEsIFwiU3RhcnQgdGltZSBpcyByZXF1aXJlZFwiKSxcblx0c2NoZWR1bGVkRW5kOiB6LnN0cmluZygpLm1pbigxLCBcIkVuZCB0aW1lIGlzIHJlcXVpcmVkXCIpLFxuXHRyZWFzb246IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbn0pO1xuXG4vKipcbiAqIEdlbmVyYXRlIHVuaXF1ZSBhcHBvaW50bWVudCBudW1iZXIgdXNpbmcgZGF0YWJhc2UgZnVuY3Rpb25cbiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVBcHBvaW50bWVudE51bWJlcihcblx0c3VwYWJhc2U6IFN1cGFiYXNlU2VydmVyQ2xpZW50LFxuXHRjb21wYW55SWQ6IHN0cmluZyxcbik6IFByb21pc2U8c3RyaW5nPiB7XG5cdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnJwYyhcImdlbmVyYXRlX2FwcG9pbnRtZW50X251bWJlclwiLCB7XG5cdFx0cF9jb21wYW55X2lkOiBjb21wYW55SWQsXG5cdH0pO1xuXG5cdGlmIChlcnJvciB8fCAhZGF0YSkge1xuXHRcdC8vIEZhbGxiYWNrIHRvIG1hbnVhbCBnZW5lcmF0aW9uXG5cdFx0Y29uc3QgeyBkYXRhOiBsYXRlc3RBcHBvaW50bWVudCB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQuc2VsZWN0KFwiYXBwb2ludG1lbnRfbnVtYmVyXCIpXG5cdFx0XHQuZXEoXCJjb21wYW55X2lkXCIsIGNvbXBhbnlJZClcblx0XHRcdC5vcmRlcihcImNyZWF0ZWRfYXRcIiwgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXG5cdFx0XHQubGltaXQoMSlcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghbGF0ZXN0QXBwb2ludG1lbnQpIHtcblx0XHRcdHJldHVybiBcIkFQVC0wMDAwMDFcIjtcblx0XHR9XG5cblx0XHRjb25zdCBtYXRjaCA9IGxhdGVzdEFwcG9pbnRtZW50LmFwcG9pbnRtZW50X251bWJlci5tYXRjaChcblx0XHRcdEFQUE9JTlRNRU5UX05VTUJFUl9SRUdFWCxcblx0XHQpO1xuXHRcdGlmIChtYXRjaCkge1xuXHRcdFx0Y29uc3QgbmV4dE51bWJlciA9IE51bWJlci5wYXJzZUludChtYXRjaFsxXSwgMTApICsgMTtcblx0XHRcdHJldHVybiBgQVBULSR7bmV4dE51bWJlci50b1N0cmluZygpLnBhZFN0YXJ0KEFQUE9JTlRNRU5UX05VTUJFUl9MRU5HVEgsIFwiMFwiKX1gO1xuXHRcdH1cblxuXHRcdHJldHVybiBgQVBULSR7RGF0ZS5ub3coKS50b1N0cmluZygpLnNsaWNlKC1BUFBPSU5UTUVOVF9OVU1CRVJfTEVOR1RIKX1gO1xuXHR9XG5cblx0cmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlIGR1cmF0aW9uIGluIG1pbnV0ZXMgYmV0d2VlbiB0d28gZGF0ZXNcbiAqL1xuZnVuY3Rpb24gY2FsY3VsYXRlRHVyYXRpb24oc3RhcnQ6IHN0cmluZywgZW5kOiBzdHJpbmcpOiBudW1iZXIge1xuXHRjb25zdCBzdGFydERhdGUgPSBuZXcgRGF0ZShzdGFydCk7XG5cdGNvbnN0IGVuZERhdGUgPSBuZXcgRGF0ZShlbmQpO1xuXHRyZXR1cm4gTWF0aC5yb3VuZChcblx0XHQoZW5kRGF0ZS5nZXRUaW1lKCkgLSBzdGFydERhdGUuZ2V0VGltZSgpKSAvIE1JTExJU0VDT05EU19QRVJfTUlOVVRFLFxuXHQpO1xufVxuXG4vKipcbiAqIFZhbGlkYXRlIGFwcG9pbnRtZW50IHRpbWVzXG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlQXBwb2ludG1lbnRUaW1lcyhzdGFydDogc3RyaW5nLCBlbmQ6IHN0cmluZyk6IHZvaWQge1xuXHRjb25zdCBzdGFydERhdGUgPSBuZXcgRGF0ZShzdGFydCk7XG5cdGNvbnN0IGVuZERhdGUgPSBuZXcgRGF0ZShlbmQpO1xuXG5cdGlmIChlbmREYXRlIDw9IHN0YXJ0RGF0ZSkge1xuXHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFwiRW5kIHRpbWUgbXVzdCBiZSBhZnRlciBzdGFydCB0aW1lXCIsXG5cdFx0XHRFUlJPUl9DT0RFUy5WQUxJREFUSU9OX0ZBSUxFRCxcblx0XHQpO1xuXHR9XG5cblx0aWYgKHN0YXJ0RGF0ZSA8IG5ldyBEYXRlKCkpIHtcblx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcIkNhbm5vdCBzY2hlZHVsZSBhcHBvaW50bWVudHMgaW4gdGhlIHBhc3RcIixcblx0XHRcdEVSUk9SX0NPREVTLlZBTElEQVRJT05fRkFJTEVELFxuXHRcdCk7XG5cdH1cbn1cblxuY29uc3QgZXh0cmFjdEZvcm1WYWx1ZXMgPSAoXG5cdGZvcm1EYXRhOiBGb3JtRGF0YSxcblx0ZmllbGRzOiBzdHJpbmdbXSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0+IHtcblx0Y29uc3QgcmVzdWx0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXHRmb3IgKGNvbnN0IGZpZWxkIG9mIGZpZWxkcykge1xuXHRcdGNvbnN0IHZhbHVlID0gZm9ybURhdGEuZ2V0KGZpZWxkKTtcblx0XHRpZiAodmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSAhPT0gXCJcIikge1xuXHRcdFx0cmVzdWx0W2ZpZWxkXSA9IHZhbHVlO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufTtcblxuY29uc3QgYnVpbGRVcGRhdGVQYXlsb2FkID0gKFxuXHRkYXRhOiB6LmluZmVyPHR5cGVvZiB1cGRhdGVBcHBvaW50bWVudFNjaGVtYT4sXG5cdGR1cmF0aW9uPzogbnVtYmVyLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPT4ge1xuXHRjb25zdCB1cGRhdGVEYXRhOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHsgLi4uZGF0YSB9O1xuXHRpZiAoZHVyYXRpb24pIHtcblx0XHR1cGRhdGVEYXRhLmR1cmF0aW9uX21pbnV0ZXMgPSBkdXJhdGlvbjtcblx0fVxuXG5cdGlmIChkYXRhLmFjdHVhbFN0YXJ0ICYmIGRhdGEuYWN0dWFsRW5kKSB7XG5cdFx0dXBkYXRlRGF0YS5hY3R1YWxfZHVyYXRpb25fbWludXRlcyA9IGNhbGN1bGF0ZUR1cmF0aW9uKFxuXHRcdFx0ZGF0YS5hY3R1YWxTdGFydCxcblx0XHRcdGRhdGEuYWN0dWFsRW5kLFxuXHRcdCk7XG5cdH1cblxuXHRyZXR1cm4gdXBkYXRlRGF0YTtcbn07XG5cbmNvbnN0IHRvU25ha2VDYXNlUmVjb3JkID0gKGRhdGE6IFJlY29yZDxzdHJpbmcsIHVua25vd24+KSA9PiB7XG5cdGNvbnN0IHJlc3VsdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblx0Zm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZGF0YSkpIHtcblx0XHRjb25zdCBzbmFrZUtleSA9IGtleS5yZXBsYWNlKC8oW0EtWl0pL2csIFwiXyQxXCIpLnRvTG93ZXJDYXNlKCk7XG5cdFx0cmVzdWx0W3NuYWtlS2V5XSA9IHZhbHVlO1xuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBhcHBvaW50bWVudFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlQXBwb2ludG1lbnQoXG5cdGZvcm1EYXRhOiBGb3JtRGF0YSxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PHN0cmluZz4+IHtcblx0cmV0dXJuIGF3YWl0IHdpdGhFcnJvckhhbmRsaW5nKGFzeW5jICgpID0+IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGdldFN1cGFiYXNlU2VydmVyQ2xpZW50KCk7XG5cblx0XHQvLyBHZXQgY3VycmVudCB1c2VyXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXHRcdGFzc2VydEF1dGhlbnRpY2F0ZWQodXNlcj8uaWQpO1xuXG5cdFx0Ly8gR2V0IHVzZXIncyBjb21wYW55XG5cdFx0Y29uc3QgY29tcGFueUlkID0gYXdhaXQgZ2V0QWN0aXZlQ29tcGFueUlkKCk7XG5cdFx0YXNzZXJ0RXhpc3RzKGNvbXBhbnlJZCwgXCJDb21wYW55IG5vdCBmb3VuZCBmb3IgdXNlclwiKTtcblxuXHRcdC8vIFBhcnNlIGFuZCB2YWxpZGF0ZSBmb3JtIGRhdGFcblx0XHRjb25zdCByYXdEYXRhID0ge1xuXHRcdFx0Y3VzdG9tZXJJZDogZm9ybURhdGEuZ2V0KFwiY3VzdG9tZXJJZFwiKSBhcyBzdHJpbmcsXG5cdFx0XHRwcm9wZXJ0eUlkOiAoZm9ybURhdGEuZ2V0KFwicHJvcGVydHlJZFwiKSBhcyBzdHJpbmcpIHx8IHVuZGVmaW5lZCxcblx0XHRcdGpvYklkOiAoZm9ybURhdGEuZ2V0KFwiam9iSWRcIikgYXMgc3RyaW5nKSB8fCB1bmRlZmluZWQsXG5cdFx0XHRhc3NpZ25lZFRvOiAoZm9ybURhdGEuZ2V0KFwiYXNzaWduZWRUb1wiKSBhcyBzdHJpbmcpIHx8IHVuZGVmaW5lZCxcblx0XHRcdHRpdGxlOiBmb3JtRGF0YS5nZXQoXCJ0aXRsZVwiKSBhcyBzdHJpbmcsXG5cdFx0XHRkZXNjcmlwdGlvbjogKGZvcm1EYXRhLmdldChcImRlc2NyaXB0aW9uXCIpIGFzIHN0cmluZykgfHwgdW5kZWZpbmVkLFxuXHRcdFx0Y2F0ZWdvcnk6IChmb3JtRGF0YS5nZXQoXCJjYXRlZ29yeVwiKSBhcyBzdHJpbmcpIHx8IFwiam9iX2FwcG9pbnRtZW50XCIsXG5cdFx0XHR0eXBlOiAoZm9ybURhdGEuZ2V0KFwidHlwZVwiKSBhcyBzdHJpbmcpIHx8IHVuZGVmaW5lZCxcblx0XHRcdHByaW9yaXR5OiAoZm9ybURhdGEuZ2V0KFwicHJpb3JpdHlcIikgYXMgc3RyaW5nKSB8fCBcIm5vcm1hbFwiLFxuXHRcdFx0c2NoZWR1bGVkU3RhcnQ6IGZvcm1EYXRhLmdldChcInNjaGVkdWxlZFN0YXJ0XCIpIGFzIHN0cmluZyxcblx0XHRcdHNjaGVkdWxlZEVuZDogZm9ybURhdGEuZ2V0KFwic2NoZWR1bGVkRW5kXCIpIGFzIHN0cmluZyxcblx0XHRcdG5vdGVzOiAoZm9ybURhdGEuZ2V0KFwibm90ZXNcIikgYXMgc3RyaW5nKSB8fCB1bmRlZmluZWQsXG5cdFx0XHR0cmF2ZWxUaW1lTWludXRlczogZm9ybURhdGEuZ2V0KFwidHJhdmVsVGltZU1pbnV0ZXNcIilcblx0XHRcdFx0PyBOdW1iZXIucGFyc2VJbnQoZm9ybURhdGEuZ2V0KFwidHJhdmVsVGltZU1pbnV0ZXNcIikgYXMgc3RyaW5nLCAxMClcblx0XHRcdFx0OiB1bmRlZmluZWQsXG5cdFx0fTtcblxuXHRcdGNvbnN0IHZhbGlkYXRlZERhdGEgPSBjcmVhdGVBcHBvaW50bWVudFNjaGVtYS5wYXJzZShyYXdEYXRhKTtcblxuXHRcdC8vIFZhbGlkYXRlIGFwcG9pbnRtZW50IHRpbWVzXG5cdFx0dmFsaWRhdGVBcHBvaW50bWVudFRpbWVzKFxuXHRcdFx0dmFsaWRhdGVkRGF0YS5zY2hlZHVsZWRTdGFydCxcblx0XHRcdHZhbGlkYXRlZERhdGEuc2NoZWR1bGVkRW5kLFxuXHRcdCk7XG5cblx0XHQvLyBDYWxjdWxhdGUgZHVyYXRpb25cblx0XHRjb25zdCBkdXJhdGlvbiA9IGNhbGN1bGF0ZUR1cmF0aW9uKFxuXHRcdFx0dmFsaWRhdGVkRGF0YS5zY2hlZHVsZWRTdGFydCxcblx0XHRcdHZhbGlkYXRlZERhdGEuc2NoZWR1bGVkRW5kLFxuXHRcdCk7XG5cblx0XHQvLyBHZW5lcmF0ZSBhcHBvaW50bWVudCBudW1iZXJcblx0XHRjb25zdCBhcHBvaW50bWVudE51bWJlciA9IGF3YWl0IGdlbmVyYXRlQXBwb2ludG1lbnROdW1iZXIoXG5cdFx0XHRzdXBhYmFzZSxcblx0XHRcdGNvbXBhbnlJZCxcblx0XHQpO1xuXG5cdFx0Ly8gQ3JlYXRlIGFwcG9pbnRtZW50XG5cdFx0Y29uc3QgeyBkYXRhOiBhcHBvaW50bWVudCwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0Lmluc2VydCh7XG5cdFx0XHRcdGNvbXBhbnlfaWQ6IGNvbXBhbnlJZCxcblx0XHRcdFx0Y3VzdG9tZXJfaWQ6IHZhbGlkYXRlZERhdGEuY3VzdG9tZXJJZCxcblx0XHRcdFx0cHJvcGVydHlfaWQ6IHZhbGlkYXRlZERhdGEucHJvcGVydHlJZCxcblx0XHRcdFx0am9iX2lkOiB2YWxpZGF0ZWREYXRhLmpvYklkLFxuXHRcdFx0XHRhc3NpZ25lZF90bzogdmFsaWRhdGVkRGF0YS5hc3NpZ25lZFRvLFxuXHRcdFx0XHRhcHBvaW50bWVudF9udW1iZXI6IGFwcG9pbnRtZW50TnVtYmVyLFxuXHRcdFx0XHR0aXRsZTogdmFsaWRhdGVkRGF0YS50aXRsZSxcblx0XHRcdFx0ZGVzY3JpcHRpb246IHZhbGlkYXRlZERhdGEuZGVzY3JpcHRpb24sXG5cdFx0XHRcdGNhdGVnb3J5OiB2YWxpZGF0ZWREYXRhLmNhdGVnb3J5LFxuXHRcdFx0XHR0eXBlOiB2YWxpZGF0ZWREYXRhLnR5cGUsXG5cdFx0XHRcdHByaW9yaXR5OiB2YWxpZGF0ZWREYXRhLnByaW9yaXR5LFxuXHRcdFx0XHRzY2hlZHVsZWRfc3RhcnQ6IHZhbGlkYXRlZERhdGEuc2NoZWR1bGVkU3RhcnQsXG5cdFx0XHRcdHNjaGVkdWxlZF9lbmQ6IHZhbGlkYXRlZERhdGEuc2NoZWR1bGVkRW5kLFxuXHRcdFx0XHRkdXJhdGlvbl9taW51dGVzOiBkdXJhdGlvbixcblx0XHRcdFx0bm90ZXM6IHZhbGlkYXRlZERhdGEubm90ZXMsXG5cdFx0XHRcdHRyYXZlbF90aW1lX21pbnV0ZXM6IHZhbGlkYXRlZERhdGEudHJhdmVsVGltZU1pbnV0ZXMsXG5cdFx0XHRcdHN0YXR1czogXCJzY2hlZHVsZWRcIixcblx0XHRcdFx0Y3JlYXRlZF9ieTogdXNlci5pZCxcblx0XHRcdH0pXG5cdFx0XHQuc2VsZWN0KFwiaWRcIilcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRgRmFpbGVkIHRvIGNyZWF0ZSBhcHBvaW50bWVudDogJHtlcnJvci5tZXNzYWdlfWAsXG5cdFx0XHRcdEVSUk9SX0NPREVTLkRCX1FVRVJZX0VSUk9SLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyBSZXZhbGlkYXRlIHJlbGV2YW50IHBhdGhzXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL3dvcmsvYXBwb2ludG1lbnRzXCIpO1xuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9zY2hlZHVsZVwiKTtcblx0XHRpZiAodmFsaWRhdGVkRGF0YS5qb2JJZCkge1xuXHRcdFx0cmV2YWxpZGF0ZVBhdGgoYC9kYXNoYm9hcmQvd29yay8ke3ZhbGlkYXRlZERhdGEuam9iSWR9YCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGFwcG9pbnRtZW50LmlkO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBVcGRhdGUgYW4gZXhpc3RpbmcgYXBwb2ludG1lbnRcbiAqL1xuYXN5bmMgZnVuY3Rpb24gdXBkYXRlQXBwb2ludG1lbnQoXG5cdGFwcG9pbnRtZW50SWQ6IHN0cmluZyxcblx0Zm9ybURhdGE6IEZvcm1EYXRhLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8Ym9vbGVhbj4+IHtcblx0cmV0dXJuIGF3YWl0IHdpdGhFcnJvckhhbmRsaW5nKGFzeW5jICgpID0+IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGdldFN1cGFiYXNlU2VydmVyQ2xpZW50KCk7XG5cblx0XHQvLyBHZXQgY3VycmVudCB1c2VyXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXHRcdGFzc2VydEF1dGhlbnRpY2F0ZWQodXNlcj8uaWQpO1xuXG5cdFx0Ly8gR2V0IHVzZXIncyBjb21wYW55XG5cdFx0Y29uc3QgY29tcGFueUlkID0gYXdhaXQgZ2V0QWN0aXZlQ29tcGFueUlkKCk7XG5cdFx0YXNzZXJ0RXhpc3RzKGNvbXBhbnlJZCwgXCJDb21wYW55IG5vdCBmb3VuZCBmb3IgdXNlclwiKTtcblxuXHRcdC8vIFZlcmlmeSBhcHBvaW50bWVudCBleGlzdHMgYW5kIGJlbG9uZ3MgdG8gY29tcGFueVxuXHRcdGNvbnN0IHsgZGF0YTogZXhpc3RpbmdBcHBvaW50bWVudCwgZXJyb3I6IGZldGNoRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnNlbGVjdChcImlkLCBjb21wYW55X2lkLCBzdGF0dXMsIHNjaGVkdWxlZF9zdGFydCwgc2NoZWR1bGVkX2VuZCwgam9iX2lkXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBhcHBvaW50bWVudElkKVxuXHRcdFx0LmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoZmV0Y2hFcnJvciB8fCAhZXhpc3RpbmdBcHBvaW50bWVudCkge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRcIkFwcG9pbnRtZW50IG5vdCBmb3VuZFwiLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9SRUNPUkRfTk9UX0ZPVU5ELFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyBQYXJzZSBhbmQgdmFsaWRhdGUgZm9ybSBkYXRhXG5cdFx0Y29uc3QgcmF3RGF0YSA9IGV4dHJhY3RGb3JtVmFsdWVzKGZvcm1EYXRhLCBbXG5cdFx0XHRcInRpdGxlXCIsXG5cdFx0XHRcImRlc2NyaXB0aW9uXCIsXG5cdFx0XHRcInN0YXR1c1wiLFxuXHRcdFx0XCJ0eXBlXCIsXG5cdFx0XHRcInByaW9yaXR5XCIsXG5cdFx0XHRcInNjaGVkdWxlZFN0YXJ0XCIsXG5cdFx0XHRcInNjaGVkdWxlZEVuZFwiLFxuXHRcdFx0XCJhY3R1YWxTdGFydFwiLFxuXHRcdFx0XCJhY3R1YWxFbmRcIixcblx0XHRcdFwiYXNzaWduZWRUb1wiLFxuXHRcdFx0XCJub3Rlc1wiLFxuXHRcdFx0XCJjYW5jZWxsYXRpb25SZWFzb25cIixcblx0XHRdKTtcblxuXHRcdGNvbnN0IHZhbGlkYXRlZERhdGEgPSB1cGRhdGVBcHBvaW50bWVudFNjaGVtYS5wYXJzZShyYXdEYXRhKTtcblxuXHRcdC8vIFZhbGlkYXRlIHRpbWVzIGlmIGJvdGggYXJlIHByb3ZpZGVkXG5cdFx0aWYgKHZhbGlkYXRlZERhdGEuc2NoZWR1bGVkU3RhcnQgJiYgdmFsaWRhdGVkRGF0YS5zY2hlZHVsZWRFbmQpIHtcblx0XHRcdHZhbGlkYXRlQXBwb2ludG1lbnRUaW1lcyhcblx0XHRcdFx0dmFsaWRhdGVkRGF0YS5zY2hlZHVsZWRTdGFydCxcblx0XHRcdFx0dmFsaWRhdGVkRGF0YS5zY2hlZHVsZWRFbmQsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdC8vIENhbGN1bGF0ZSBuZXcgZHVyYXRpb24gaWYgdGltZXMgY2hhbmdlZFxuXHRcdGxldCBkdXJhdGlvbjogbnVtYmVyIHwgdW5kZWZpbmVkO1xuXHRcdGlmICh2YWxpZGF0ZWREYXRhLnNjaGVkdWxlZFN0YXJ0ICYmIHZhbGlkYXRlZERhdGEuc2NoZWR1bGVkRW5kKSB7XG5cdFx0XHRkdXJhdGlvbiA9IGNhbGN1bGF0ZUR1cmF0aW9uKFxuXHRcdFx0XHR2YWxpZGF0ZWREYXRhLnNjaGVkdWxlZFN0YXJ0LFxuXHRcdFx0XHR2YWxpZGF0ZWREYXRhLnNjaGVkdWxlZEVuZCxcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Ly8gQnVpbGQgdXBkYXRlIG9iamVjdFxuXHRcdGNvbnN0IHVwZGF0ZURhdGEgPSBidWlsZFVwZGF0ZVBheWxvYWQodmFsaWRhdGVkRGF0YSwgZHVyYXRpb24pO1xuXHRcdGNvbnN0IGRiVXBkYXRlRGF0YSA9IHRvU25ha2VDYXNlUmVjb3JkKHVwZGF0ZURhdGEpO1xuXG5cdFx0Ly8gVXBkYXRlIGFwcG9pbnRtZW50XG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKGRiVXBkYXRlRGF0YSlcblx0XHRcdC5lcShcImlkXCIsIGFwcG9pbnRtZW50SWQpXG5cdFx0XHQuZXEoXCJjb21wYW55X2lkXCIsIGNvbXBhbnlJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0YEZhaWxlZCB0byB1cGRhdGUgYXBwb2ludG1lbnQ6ICR7ZXJyb3IubWVzc2FnZX1gLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9RVUVSWV9FUlJPUixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Ly8gUmV2YWxpZGF0ZSByZWxldmFudCBwYXRoc1xuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC93b3JrL2FwcG9pbnRtZW50c1wiKTtcblx0XHRyZXZhbGlkYXRlUGF0aChgL2Rhc2hib2FyZC93b3JrL2FwcG9pbnRtZW50cy8ke2FwcG9pbnRtZW50SWR9YCk7XG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL3NjaGVkdWxlXCIpO1xuXHRcdGlmIChleGlzdGluZ0FwcG9pbnRtZW50LmpvYl9pZCkge1xuXHRcdFx0cmV2YWxpZGF0ZVBhdGgoYC9kYXNoYm9hcmQvd29yay8ke2V4aXN0aW5nQXBwb2ludG1lbnQuam9iX2lkfWApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBSZXNjaGVkdWxlIGFuIGFwcG9pbnRtZW50XG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHJlc2NoZWR1bGVBcHBvaW50bWVudChcblx0YXBwb2ludG1lbnRJZDogc3RyaW5nLFxuXHRmb3JtRGF0YTogRm9ybURhdGEsXG4pOiBQcm9taXNlPEFjdGlvblJlc3VsdDxib29sZWFuPj4ge1xuXHRyZXR1cm4gYXdhaXQgd2l0aEVycm9ySGFuZGxpbmcoYXN5bmMgKCkgPT4ge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgZ2V0U3VwYWJhc2VTZXJ2ZXJDbGllbnQoKTtcblxuXHRcdC8vIEdldCBjdXJyZW50IHVzZXJcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cdFx0YXNzZXJ0QXV0aGVudGljYXRlZCh1c2VyPy5pZCk7XG5cblx0XHQvLyBHZXQgdXNlcidzIGNvbXBhbnlcblx0XHRjb25zdCBjb21wYW55SWQgPSBhd2FpdCBnZXRBY3RpdmVDb21wYW55SWQoKTtcblx0XHRhc3NlcnRFeGlzdHMoY29tcGFueUlkLCBcIkNvbXBhbnkgbm90IGZvdW5kIGZvciB1c2VyXCIpO1xuXG5cdFx0Ly8gUGFyc2UgYW5kIHZhbGlkYXRlIGZvcm0gZGF0YVxuXHRcdGNvbnN0IHJhd0RhdGEgPSB7XG5cdFx0XHRzY2hlZHVsZWRTdGFydDogZm9ybURhdGEuZ2V0KFwic2NoZWR1bGVkU3RhcnRcIikgYXMgc3RyaW5nLFxuXHRcdFx0c2NoZWR1bGVkRW5kOiBmb3JtRGF0YS5nZXQoXCJzY2hlZHVsZWRFbmRcIikgYXMgc3RyaW5nLFxuXHRcdFx0cmVhc29uOiAoZm9ybURhdGEuZ2V0KFwicmVhc29uXCIpIGFzIHN0cmluZykgfHwgdW5kZWZpbmVkLFxuXHRcdH07XG5cblx0XHRjb25zdCB2YWxpZGF0ZWREYXRhID0gcmVzY2hlZHVsZUFwcG9pbnRtZW50U2NoZW1hLnBhcnNlKHJhd0RhdGEpO1xuXG5cdFx0Ly8gVmFsaWRhdGUgYXBwb2ludG1lbnQgdGltZXNcblx0XHR2YWxpZGF0ZUFwcG9pbnRtZW50VGltZXMoXG5cdFx0XHR2YWxpZGF0ZWREYXRhLnNjaGVkdWxlZFN0YXJ0LFxuXHRcdFx0dmFsaWRhdGVkRGF0YS5zY2hlZHVsZWRFbmQsXG5cdFx0KTtcblxuXHRcdC8vIENhbGN1bGF0ZSBuZXcgZHVyYXRpb25cblx0XHRjb25zdCBkdXJhdGlvbiA9IGNhbGN1bGF0ZUR1cmF0aW9uKFxuXHRcdFx0dmFsaWRhdGVkRGF0YS5zY2hlZHVsZWRTdGFydCxcblx0XHRcdHZhbGlkYXRlZERhdGEuc2NoZWR1bGVkRW5kLFxuXHRcdCk7XG5cblx0XHQvLyBVcGRhdGUgYXBwb2ludG1lbnQgd2l0aCByZXNjaGVkdWxlZCBzdGF0dXNcblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRzY2hlZHVsZWRfc3RhcnQ6IHZhbGlkYXRlZERhdGEuc2NoZWR1bGVkU3RhcnQsXG5cdFx0XHRcdHNjaGVkdWxlZF9lbmQ6IHZhbGlkYXRlZERhdGEuc2NoZWR1bGVkRW5kLFxuXHRcdFx0XHRkdXJhdGlvbl9taW51dGVzOiBkdXJhdGlvbixcblx0XHRcdFx0c3RhdHVzOiBcInJlc2NoZWR1bGVkXCIsXG5cdFx0XHRcdG5vdGVzOiB2YWxpZGF0ZWREYXRhLnJlYXNvblxuXHRcdFx0XHRcdD8gYFJlc2NoZWR1bGVkOiAke3ZhbGlkYXRlZERhdGEucmVhc29ufWBcblx0XHRcdFx0XHQ6IHVuZGVmaW5lZCxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBhcHBvaW50bWVudElkKVxuXHRcdFx0LmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdGBGYWlsZWQgdG8gcmVzY2hlZHVsZSBhcHBvaW50bWVudDogJHtlcnJvci5tZXNzYWdlfWAsXG5cdFx0XHRcdEVSUk9SX0NPREVTLkRCX1FVRVJZX0VSUk9SLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyBSZXZhbGlkYXRlIHJlbGV2YW50IHBhdGhzXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL3dvcmsvYXBwb2ludG1lbnRzXCIpO1xuXHRcdHJldmFsaWRhdGVQYXRoKGAvZGFzaGJvYXJkL3dvcmsvYXBwb2ludG1lbnRzLyR7YXBwb2ludG1lbnRJZH1gKTtcblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvc2NoZWR1bGVcIik7XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSk7XG59XG5cbi8qKlxuICogQ2FuY2VsIGFuIGFwcG9pbnRtZW50XG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGNhbmNlbEFwcG9pbnRtZW50KFxuXHRhcHBvaW50bWVudElkOiBzdHJpbmcsXG5cdHJlYXNvbj86IHN0cmluZyxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PGJvb2xlYW4+PiB7XG5cdHJldHVybiBhd2FpdCB3aXRoRXJyb3JIYW5kbGluZyhhc3luYyAoKSA9PiB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBnZXRTdXBhYmFzZVNlcnZlckNsaWVudCgpO1xuXG5cdFx0Ly8gR2V0IGN1cnJlbnQgdXNlclxuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblx0XHRhc3NlcnRBdXRoZW50aWNhdGVkKHVzZXI/LmlkKTtcblxuXHRcdC8vIEdldCB1c2VyJ3MgY29tcGFueVxuXHRcdGNvbnN0IGNvbXBhbnlJZCA9IGF3YWl0IGdldEFjdGl2ZUNvbXBhbnlJZCgpO1xuXHRcdGFzc2VydEV4aXN0cyhjb21wYW55SWQsIFwiQ29tcGFueSBub3QgZm91bmQgZm9yIHVzZXJcIik7XG5cblx0XHQvLyBVcGRhdGUgYXBwb2ludG1lbnQgc3RhdHVzIHRvIGNhbmNlbGxlZFxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIixcblx0XHRcdFx0Y2FuY2VsbGF0aW9uX3JlYXNvbjogcmVhc29uLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIGFwcG9pbnRtZW50SWQpXG5cdFx0XHQuZXEoXCJjb21wYW55X2lkXCIsIGNvbXBhbnlJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0YEZhaWxlZCB0byBjYW5jZWwgYXBwb2ludG1lbnQ6ICR7ZXJyb3IubWVzc2FnZX1gLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9RVUVSWV9FUlJPUixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Ly8gUmV2YWxpZGF0ZSByZWxldmFudCBwYXRoc1xuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC93b3JrL2FwcG9pbnRtZW50c1wiKTtcblx0XHRyZXZhbGlkYXRlUGF0aChgL2Rhc2hib2FyZC93b3JrL2FwcG9pbnRtZW50cy8ke2FwcG9pbnRtZW50SWR9YCk7XG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL3NjaGVkdWxlXCIpO1xuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH0pO1xufVxuXG4vKipcbiAqIENvbXBsZXRlIGFuIGFwcG9pbnRtZW50XG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGNvbXBsZXRlQXBwb2ludG1lbnQoXG5cdGFwcG9pbnRtZW50SWQ6IHN0cmluZyxcblx0YWN0dWFsRW5kPzogc3RyaW5nLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8Ym9vbGVhbj4+IHtcblx0cmV0dXJuIGF3YWl0IHdpdGhFcnJvckhhbmRsaW5nKGFzeW5jICgpID0+IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGdldFN1cGFiYXNlU2VydmVyQ2xpZW50KCk7XG5cblx0XHQvLyBHZXQgY3VycmVudCB1c2VyXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXHRcdGFzc2VydEF1dGhlbnRpY2F0ZWQodXNlcj8uaWQpO1xuXG5cdFx0Ly8gR2V0IHVzZXIncyBjb21wYW55XG5cdFx0Y29uc3QgY29tcGFueUlkID0gYXdhaXQgZ2V0QWN0aXZlQ29tcGFueUlkKCk7XG5cdFx0YXNzZXJ0RXhpc3RzKGNvbXBhbnlJZCwgXCJDb21wYW55IG5vdCBmb3VuZCBmb3IgdXNlclwiKTtcblxuXHRcdC8vIFVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMgdG8gY29tcGxldGVkXG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHtcblx0XHRcdFx0c3RhdHVzOiBcImNvbXBsZXRlZFwiLFxuXHRcdFx0XHRhY3R1YWxfZW5kOiBhY3R1YWxFbmQgfHwgbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIGFwcG9pbnRtZW50SWQpXG5cdFx0XHQuZXEoXCJjb21wYW55X2lkXCIsIGNvbXBhbnlJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0YEZhaWxlZCB0byBjb21wbGV0ZSBhcHBvaW50bWVudDogJHtlcnJvci5tZXNzYWdlfWAsXG5cdFx0XHRcdEVSUk9SX0NPREVTLkRCX1FVRVJZX0VSUk9SLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyBSZXZhbGlkYXRlIHJlbGV2YW50IHBhdGhzXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL3dvcmsvYXBwb2ludG1lbnRzXCIpO1xuXHRcdHJldmFsaWRhdGVQYXRoKGAvZGFzaGJvYXJkL3dvcmsvYXBwb2ludG1lbnRzLyR7YXBwb2ludG1lbnRJZH1gKTtcblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvc2NoZWR1bGVcIik7XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSk7XG59XG5cbi8qKlxuICogQXJjaGl2ZSBhbiBhcHBvaW50bWVudCAoc29mdCBkZWxldGUpXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhcmNoaXZlQXBwb2ludG1lbnQoXG5cdGFwcG9pbnRtZW50SWQ6IHN0cmluZyxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PGJvb2xlYW4+PiB7XG5cdHJldHVybiBhd2FpdCB3aXRoRXJyb3JIYW5kbGluZyhhc3luYyAoKSA9PiB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBnZXRTdXBhYmFzZVNlcnZlckNsaWVudCgpO1xuXG5cdFx0Ly8gR2V0IGN1cnJlbnQgdXNlclxuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblx0XHRhc3NlcnRBdXRoZW50aWNhdGVkKHVzZXI/LmlkKTtcblxuXHRcdC8vIEdldCB1c2VyJ3MgY29tcGFueVxuXHRcdGNvbnN0IGNvbXBhbnlJZCA9IGF3YWl0IGdldEFjdGl2ZUNvbXBhbnlJZCgpO1xuXHRcdGFzc2VydEV4aXN0cyhjb21wYW55SWQsIFwiQ29tcGFueSBub3QgZm91bmQgZm9yIHVzZXJcIik7XG5cblx0XHQvLyBBcmNoaXZlIGFwcG9pbnRtZW50IChzb2Z0IGRlbGV0ZSlcblx0XHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRhcmNoaXZlZF9hdDogbm93LFxuXHRcdFx0XHRkZWxldGVkX2F0OiBub3csXG5cdFx0XHRcdGRlbGV0ZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIiwgLy8gTWFyayBhcyBjYW5jZWxsZWQgd2hlbiBhcmNoaXZlZFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIGFwcG9pbnRtZW50SWQpXG5cdFx0XHQuZXEoXCJjb21wYW55X2lkXCIsIGNvbXBhbnlJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0YEZhaWxlZCB0byBhcmNoaXZlIGFwcG9pbnRtZW50OiAke2Vycm9yLm1lc3NhZ2V9YCxcblx0XHRcdFx0RVJST1JfQ09ERVMuREJfUVVFUllfRVJST1IsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBEZWxldGUgYW4gYXBwb2ludG1lbnQgKGhhcmQgZGVsZXRlKVxuICovXG5hc3luYyBmdW5jdGlvbiBkZWxldGVBcHBvaW50bWVudChcblx0YXBwb2ludG1lbnRJZDogc3RyaW5nLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8Ym9vbGVhbj4+IHtcblx0cmV0dXJuIGF3YWl0IHdpdGhFcnJvckhhbmRsaW5nKGFzeW5jICgpID0+IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGdldFN1cGFiYXNlU2VydmVyQ2xpZW50KCk7XG5cblx0XHQvLyBHZXQgY3VycmVudCB1c2VyXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXHRcdGFzc2VydEF1dGhlbnRpY2F0ZWQodXNlcj8uaWQpO1xuXG5cdFx0Ly8gR2V0IHVzZXIncyBjb21wYW55XG5cdFx0Y29uc3QgY29tcGFueUlkID0gYXdhaXQgZ2V0QWN0aXZlQ29tcGFueUlkKCk7XG5cdFx0YXNzZXJ0RXhpc3RzKGNvbXBhbnlJZCwgXCJDb21wYW55IG5vdCBmb3VuZCBmb3IgdXNlclwiKTtcblxuXHRcdC8vIERlbGV0ZSBhcHBvaW50bWVudFxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LmRlbGV0ZSgpXG5cdFx0XHQuZXEoXCJpZFwiLCBhcHBvaW50bWVudElkKVxuXHRcdFx0LmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdGBGYWlsZWQgdG8gZGVsZXRlIGFwcG9pbnRtZW50OiAke2Vycm9yLm1lc3NhZ2V9YCxcblx0XHRcdFx0RVJST1JfQ09ERVMuREJfUVVFUllfRVJST1IsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdC8vIFJldmFsaWRhdGUgcmVsZXZhbnQgcGF0aHNcblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvd29yay9hcHBvaW50bWVudHNcIik7XG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL3NjaGVkdWxlXCIpO1xuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH0pO1xufVxuXG4vKipcbiAqIFNlYXJjaCBhcHBvaW50bWVudHNcbiAqL1xuYXN5bmMgZnVuY3Rpb24gc2VhcmNoQXBwb2ludG1lbnRzKFxuXHRzZWFyY2hRdWVyeTogc3RyaW5nLFxuXHRvcHRpb25zPzoge1xuXHRcdGxpbWl0PzogbnVtYmVyO1xuXHRcdG9mZnNldD86IG51bWJlcjtcblx0fSxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PFJlY29yZDxzdHJpbmcsIHVua25vd24+W10+PiB7XG5cdHJldHVybiBhd2FpdCB3aXRoRXJyb3JIYW5kbGluZyhhc3luYyAoKSA9PiB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBnZXRTdXBhYmFzZVNlcnZlckNsaWVudCgpO1xuXG5cdFx0Ly8gR2V0IGN1cnJlbnQgdXNlclxuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblx0XHRhc3NlcnRBdXRoZW50aWNhdGVkKHVzZXI/LmlkKTtcblxuXHRcdC8vIEdldCB1c2VyJ3MgY29tcGFueVxuXHRcdGNvbnN0IGNvbXBhbnlJZCA9IGF3YWl0IGdldEFjdGl2ZUNvbXBhbnlJZCgpO1xuXHRcdGFzc2VydEV4aXN0cyhjb21wYW55SWQsIFwiQ29tcGFueSBub3QgZm91bmQgZm9yIHVzZXJcIik7XG5cblx0XHQvLyBVc2UgdGhlIFJQQyBmdW5jdGlvbiBmb3IgcmFua2VkIHNlYXJjaFxuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnJwYyhcInNlYXJjaF9hcHBvaW50bWVudHNfcmFua2VkXCIsIHtcblx0XHRcdHBfY29tcGFueV9pZDogY29tcGFueUlkLFxuXHRcdFx0cF9zZWFyY2hfcXVlcnk6IHNlYXJjaFF1ZXJ5LFxuXHRcdFx0cF9saW1pdDogb3B0aW9ucz8ubGltaXQgPz8gREVGQVVMVF9TRUFSQ0hfTElNSVQsXG5cdFx0XHRwX29mZnNldDogb3B0aW9ucz8ub2Zmc2V0ID8/IERFRkFVTFRfU0VBUkNIX09GRlNFVCxcblx0XHR9KTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRgU2VhcmNoIGZhaWxlZDogJHtlcnJvci5tZXNzYWdlfWAsXG5cdFx0XHRcdEVSUk9SX0NPREVTLkRCX1FVRVJZX0VSUk9SLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gKGRhdGEgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj5bXSkgfHwgW107XG5cdH0pO1xufVxuXG4vKipcbiAqIFVubGluayBhcHBvaW50bWVudCBmcm9tIGpvYlxuICogUmVtb3ZlcyB0aGUgam9iIGFzc29jaWF0aW9uIChzZXRzIGpvYl9pZCB0byBOVUxMKVxuICogQmlkaXJlY3Rpb25hbCBvcGVyYXRpb24gLSB1cGRhdGVzIGJvdGggYXBwb2ludG1lbnQgYW5kIGpvYiB2aWV3c1xuICovXG5hc3luYyBmdW5jdGlvbiB1bmxpbmtTY2hlZHVsZUZyb21Kb2IoXG5cdGFwcG9pbnRtZW50SWQ6IHN0cmluZyxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PHZvaWQ+PiB7XG5cdHJldHVybiBhd2FpdCB3aXRoRXJyb3JIYW5kbGluZyhhc3luYyAoKSA9PiB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBnZXRTdXBhYmFzZVNlcnZlckNsaWVudCgpO1xuXG5cdFx0Ly8gR2V0IGN1cnJlbnQgdXNlclxuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblx0XHRhc3NlcnRBdXRoZW50aWNhdGVkKHVzZXI/LmlkKTtcblxuXHRcdC8vIEdldCB1c2VyJ3MgY29tcGFueVxuXHRcdGNvbnN0IGNvbXBhbnlJZCA9IGF3YWl0IGdldEFjdGl2ZUNvbXBhbnlJZCgpO1xuXHRcdGFzc2VydEV4aXN0cyhjb21wYW55SWQsIFwiQ29tcGFueSBub3QgZm91bmQgZm9yIHVzZXJcIik7XG5cblx0XHQvLyBHZXQgY3VycmVudCBhcHBvaW50bWVudCB0byB2ZXJpZnkgZXhpc3RzIGFuZCBnZXQgam9iX2lkIGZvciByZXZhbGlkYXRpb25cblx0XHRjb25zdCB7IGRhdGE6IGFwcG9pbnRtZW50LCBlcnJvcjogZmV0Y2hFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQuc2VsZWN0KFwiaWQsIGpvYl9pZFwiKVxuXHRcdFx0LmVxKFwiaWRcIiwgYXBwb2ludG1lbnRJZClcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgY29tcGFueUlkKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0aWYgKGZldGNoRXJyb3IgfHwgIWFwcG9pbnRtZW50KSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdFwiQXBwb2ludG1lbnQgbm90IGZvdW5kXCIsXG5cdFx0XHRcdEVSUk9SX0NPREVTLkRCX1JFQ09SRF9OT1RfRk9VTkQsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGNvbnN0IHByZXZpb3VzSm9iSWQgPSBhcHBvaW50bWVudC5qb2JfaWQ7XG5cblx0XHQvLyBVbmxpbmsgYXBwb2ludG1lbnQgZnJvbSBqb2IgKHNldCBqb2JfaWQgdG8gTlVMTClcblx0XHRjb25zdCB7IGVycm9yOiB1bmxpbmtFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHsgam9iX2lkOiBudWxsIH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBhcHBvaW50bWVudElkKVxuXHRcdFx0LmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpO1xuXG5cdFx0aWYgKHVubGlua0Vycm9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdFwiRmFpbGVkIHRvIHVubGluayBhcHBvaW50bWVudCBmcm9tIGpvYlwiLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9RVUVSWV9FUlJPUixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Ly8gUmV2YWxpZGF0ZSBib3RoIHBhZ2VzXG5cdFx0cmV2YWxpZGF0ZVBhdGgoYC9kYXNoYm9hcmQvd29yay9hcHBvaW50bWVudHMvJHthcHBvaW50bWVudElkfWApO1xuXHRcdGlmIChwcmV2aW91c0pvYklkKSB7XG5cdFx0XHRyZXZhbGlkYXRlUGF0aChgL2Rhc2hib2FyZC93b3JrLyR7cHJldmlvdXNKb2JJZH1gKTtcblx0XHR9XG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL3dvcmsvYXBwb2ludG1lbnRzXCIpO1xuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9zY2hlZHVsZVwiKTtcblx0fSk7XG59XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IitTQStPc0IifQ==
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/lib/utils/customer-display.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/**
 * Customer Display Utilities
 *
 * Unified logic for displaying customer information consistently across the application.
 * This prevents inconsistent customer name display and provides fallback logic.
 */ __turbopack_context__.s([
    "getCustomerContactDisplay",
    ()=>getCustomerContactDisplay,
    "getCustomerDisplayName",
    ()=>getCustomerDisplayName,
    "getCustomerInitials",
    ()=>getCustomerInitials,
    "getCustomerSortName",
    ()=>getCustomerSortName,
    "hasCustomerName",
    ()=>hasCustomerName
]);
function getCustomerDisplayName(customer, fallbackEmail) {
    if (!customer) {
        return fallbackEmail || "Unknown Customer";
    }
    // Priority 1: Explicit display name
    if (customer.display_name) {
        return customer.display_name;
    }
    // Priority 2: Full name (first + last)
    const firstName = customer.first_name?.trim();
    const lastName = customer.last_name?.trim();
    if (firstName && lastName) {
        return `${firstName} ${lastName}`;
    }
    // Priority 3: Either first or last name
    if (firstName) return firstName;
    if (lastName) return lastName;
    // Priority 4: Company name (for business customers)
    if (customer.company_name) {
        return customer.company_name;
    }
    // Priority 5: Email from customer record
    if (customer.email) {
        return customer.email;
    }
    // Priority 6: Fallback email provided
    if (fallbackEmail) {
        return fallbackEmail;
    }
    // Ultimate fallback
    return "Unknown Customer";
}
function getCustomerInitials(customer) {
    if (!customer) return "?";
    const displayName = getCustomerDisplayName(customer);
    // Split by spaces and take first letter of each word
    const words = displayName.split(/\s+/).filter(Boolean);
    if (words.length >= 2) {
        return (words[0][0] + words[1][0]).toUpperCase();
    }
    if (words.length === 1 && words[0].length >= 2) {
        return words[0].slice(0, 2).toUpperCase();
    }
    if (words.length === 1) {
        return words[0][0].toUpperCase();
    }
    return "?";
}
function getCustomerContactDisplay(customer) {
    if (!customer) return "Unknown Customer";
    const lines = [
        getCustomerDisplayName(customer)
    ];
    if (customer.email) {
        lines.push(customer.email);
    }
    if (customer.phone) {
        lines.push(customer.phone);
    }
    return lines.join("\n");
}
function hasCustomerName(customer) {
    if (!customer) return false;
    return !!(customer.display_name || customer.first_name || customer.last_name || customer.company_name);
}
function getCustomerSortName(customer) {
    if (!customer) return "zzz_unknown"; // Sort unknowns to end
    // If only last name, use it
    if (customer.last_name && !customer.first_name) {
        return customer.last_name;
    }
    // If only first name, use it
    if (customer.first_name && !customer.last_name) {
        return customer.first_name;
    }
    // If both names, use "Last, First" format
    if (customer.first_name && customer.last_name) {
        return `${customer.last_name}, ${customer.first_name}`;
    }
    // Otherwise use display name logic
    return getCustomerDisplayName(customer);
}
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/components/customers/customer-autocomplete.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "CustomerAutocomplete",
    ()=>CustomerAutocomplete
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
/**
 * CustomerAutocomplete Component
 *
 * Reusable autocomplete for customer selection in forms.
 * Features:
 * - Instant search with debouncing
 * - Shows customer details (email, phone, company)
 * - Recent customers quick access
 * - Create new customer option
 * - react-hook-form compatible
 * - Keyboard navigation (arrows, enter, escape)
 */ var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$1db406__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/apps/web/src/actions/data:1db406 [app-client] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ui$2f$avatar$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/web/src/components/ui/avatar.tsx [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$avatar$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/src/avatar.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/web/src/components/ui/button.tsx [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/src/button.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ui$2f$command$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/web/src/components/ui/command.tsx [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$command$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/src/command.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ui$2f$popover$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/web/src/components/ui/popover.tsx [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$popover$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/src/popover.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ui$2f$scroll$2d$area$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/web/src/components/ui/scroll-area.tsx [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$scroll$2d$area$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/src/scroll-area.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/src/lib/utils.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2f$customer$2d$display$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/src/lib/utils/customer-display.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$building$2d$2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Building2$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/building-2.js [app-client] (ecmascript) <export default as Building2>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Check$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/check.js [app-client] (ecmascript) <export default as Check>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$chevrons$2d$up$2d$down$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__ChevronsUpDown$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/chevrons-up-down.js [app-client] (ecmascript) <export default as ChevronsUpDown>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$loader$2d$circle$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Loader2$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/loader-circle.js [app-client] (ecmascript) <export default as Loader2>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$mail$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Mail$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/mail.js [app-client] (ecmascript) <export default as Mail>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$phone$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Phone$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/phone.js [app-client] (ecmascript) <export default as Phone>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$plus$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Plus$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/plus.js [app-client] (ecmascript) <export default as Plus>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$search$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Search$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/search.js [app-client] (ecmascript) <export default as Search>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$user$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__User$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/user.js [app-client] (ecmascript) <export default as User>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
"use client";
;
;
;
;
;
;
;
;
;
;
function CustomerAutocomplete({ value, onChange, placeholder = "Search for customer...", className, showRecent = true, recentCustomers = [], showCreateNew = true, onCreateNew, disabled = false, label, error = false, errorMessage }) {
    _s();
    const [open, setOpen] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [search, setSearch] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])("");
    const [customers, setCustomers] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])([]);
    const [loading, setLoading] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [selectedCustomer, setSelectedCustomer] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    // Debounced search
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "CustomerAutocomplete.useEffect": ()=>{
            if (search.trim().length < 2) {
                setCustomers([]);
                setLoading(false);
                return;
            }
            setLoading(true);
            const timeoutId = setTimeout({
                "CustomerAutocomplete.useEffect.timeoutId": async ()=>{
                    try {
                        const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$1db406__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["searchCustomers"])(search, {
                            limit: 10
                        });
                        if (result.success && result.data) {
                            const customerArray = Array.isArray(result.data) ? result.data : [
                                result.data
                            ];
                            setCustomers(customerArray);
                        } else {
                            setCustomers([]);
                        }
                    } catch (error) {
                        console.error("Customer search error:", error);
                        setCustomers([]);
                    } finally{
                        setLoading(false);
                    }
                }
            }["CustomerAutocomplete.useEffect.timeoutId"], 300);
            return ({
                "CustomerAutocomplete.useEffect": ()=>clearTimeout(timeoutId)
            })["CustomerAutocomplete.useEffect"];
        }
    }["CustomerAutocomplete.useEffect"], [
        search
    ]);
    // Handle customer selection
    const handleSelectCustomer = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "CustomerAutocomplete.useCallback[handleSelectCustomer]": (customer)=>{
            setSelectedCustomer(customer);
            onChange(customer.id, customer);
            setOpen(false);
            setSearch("");
        }
    }["CustomerAutocomplete.useCallback[handleSelectCustomer]"], [
        onChange
    ]);
    // Clear selection
    const handleClear = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "CustomerAutocomplete.useCallback[handleClear]": ()=>{
            setSelectedCustomer(null);
            onChange(null, null);
            setSearch("");
        }
    }["CustomerAutocomplete.useCallback[handleClear]"], [
        onChange
    ]);
    // Get display name for selected customer
    const displayName = selectedCustomer ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2f$customer$2d$display$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getCustomerDisplayName"])(selectedCustomer) : placeholder;
    // Combine recent and search results (deduplicate by ID)
    const allCustomers = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMemo"])({
        "CustomerAutocomplete.useMemo[allCustomers]": ()=>{
            const customerMap = new Map();
            // Add search results first (higher priority)
            customers.forEach({
                "CustomerAutocomplete.useMemo[allCustomers]": (c)=>customerMap.set(c.id, c)
            }["CustomerAutocomplete.useMemo[allCustomers]"]);
            // Add recent customers if no search
            if (search.trim().length < 2 && showRecent) {
                recentCustomers.forEach({
                    "CustomerAutocomplete.useMemo[allCustomers]": (c)=>customerMap.set(c.id, c)
                }["CustomerAutocomplete.useMemo[allCustomers]"]);
            }
            return Array.from(customerMap.values());
        }
    }["CustomerAutocomplete.useMemo[allCustomers]"], [
        customers,
        recentCustomers,
        search,
        showRecent
    ]);
    // Customer list item component
    const CustomerListItem = ({ customer })=>{
        const name = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2f$customer$2d$display$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getCustomerDisplayName"])(customer);
        const initials = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2f$customer$2d$display$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["getCustomerInitials"])(customer);
        const isSelected = value === customer.id;
        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$command$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CommandItem"], {
            value: customer.id,
            onSelect: ()=>handleSelectCustomer(customer),
            className: "flex items-center gap-3 px-3 py-2.5 cursor-pointer",
            children: [
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$avatar$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Avatar"], {
                    className: "h-8 w-8 shrink-0",
                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$avatar$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AvatarFallback"], {
                        className: "text-xs font-semibold",
                        children: initials
                    }, void 0, false, {
                        fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
                        lineNumber: 194,
                        columnNumber: 6
                    }, this)
                }, void 0, false, {
                    fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
                    lineNumber: 193,
                    columnNumber: 5
                }, this),
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "flex-1 min-w-0",
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                            className: "font-medium text-sm truncate",
                            children: name
                        }, void 0, false, {
                            fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
                            lineNumber: 200,
                            columnNumber: 6
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "flex items-center gap-2 text-xs text-muted-foreground",
                            children: [
                                customer.email && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                    className: "flex items-center gap-1 truncate",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$mail$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Mail$3e$__["Mail"], {
                                            className: "h-3 w-3 shrink-0"
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
                                            lineNumber: 204,
                                            columnNumber: 9
                                        }, this),
                                        customer.email
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
                                    lineNumber: 203,
                                    columnNumber: 8
                                }, this),
                                customer.phone && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                    className: "flex items-center gap-1",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$phone$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Phone$3e$__["Phone"], {
                                            className: "h-3 w-3 shrink-0"
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
                                            lineNumber: 210,
                                            columnNumber: 9
                                        }, this),
                                        customer.phone
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
                                    lineNumber: 209,
                                    columnNumber: 8
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
                            lineNumber: 201,
                            columnNumber: 6
                        }, this),
                        customer.company_name && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                            className: "text-xs text-muted-foreground flex items-center gap-1 mt-0.5",
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$building$2d$2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Building2$3e$__["Building2"], {
                                    className: "h-3 w-3 shrink-0"
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
                                    lineNumber: 217,
                                    columnNumber: 8
                                }, this),
                                customer.company_name
                            ]
                        }, void 0, true, {
                            fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
                            lineNumber: 216,
                            columnNumber: 7
                        }, this)
                    ]
                }, void 0, true, {
                    fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
                    lineNumber: 199,
                    columnNumber: 5
                }, this),
                isSelected && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Check$3e$__["Check"], {
                    className: "h-4 w-4 text-primary shrink-0"
                }, void 0, false, {
                    fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
                    lineNumber: 224,
                    columnNumber: 6
                }, this)
            ]
        }, customer.id, true, {
            fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
            lineNumber: 187,
            columnNumber: 4
        }, this);
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("flex flex-col gap-1.5", className),
        children: [
            label && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                className: "text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",
                children: label
            }, void 0, false, {
                fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
                lineNumber: 233,
                columnNumber: 5
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$popover$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Popover"], {
                open: open,
                onOpenChange: setOpen,
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$popover$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PopoverTrigger"], {
                        asChild: true,
                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Button"], {
                            variant: "outline",
                            role: "combobox",
                            "aria-expanded": open,
                            disabled: disabled,
                            className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("w-full justify-between", !selectedCustomer && "text-muted-foreground", error && "border-destructive focus-visible:ring-destructive"),
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                    className: "flex items-center gap-2 truncate",
                                    children: selectedCustomer ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Fragment"], {
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$user$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__User$3e$__["User"], {
                                                className: "h-4 w-4 shrink-0"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
                                                lineNumber: 254,
                                                columnNumber: 10
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                className: "truncate",
                                                children: displayName
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
                                                lineNumber: 255,
                                                columnNumber: 10
                                            }, this)
                                        ]
                                    }, void 0, true) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Fragment"], {
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$search$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Search$3e$__["Search"], {
                                                className: "h-4 w-4 shrink-0"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
                                                lineNumber: 259,
                                                columnNumber: 10
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                children: placeholder
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
                                                lineNumber: 260,
                                                columnNumber: 10
                                            }, this)
                                        ]
                                    }, void 0, true)
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
                                    lineNumber: 251,
                                    columnNumber: 7
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$chevrons$2d$up$2d$down$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__ChevronsUpDown$3e$__["ChevronsUpDown"], {
                                    className: "ml-2 h-4 w-4 shrink-0 opacity-50"
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
                                    lineNumber: 264,
                                    columnNumber: 7
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
                            lineNumber: 240,
                            columnNumber: 6
                        }, this)
                    }, void 0, false, {
                        fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
                        lineNumber: 239,
                        columnNumber: 5
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$popover$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PopoverContent"], {
                        className: "w-[400px] p-0",
                        align: "start",
                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$command$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Command"], {
                            shouldFilter: false,
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$command$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CommandInput"], {
                                    placeholder: "Search customers...",
                                    value: search,
                                    onValueChange: setSearch
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
                                    lineNumber: 270,
                                    columnNumber: 7
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$command$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CommandList"], {
                                    children: loading ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "flex items-center justify-center py-6",
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$loader$2d$circle$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Loader2$3e$__["Loader2"], {
                                            className: "h-5 w-5 animate-spin text-muted-foreground"
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
                                            lineNumber: 279,
                                            columnNumber: 10
                                        }, this)
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
                                        lineNumber: 278,
                                        columnNumber: 9
                                    }, this) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Fragment"], {
                                        children: [
                                            allCustomers.length > 0 ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$command$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CommandGroup"], {
                                                heading: search.trim().length >= 2 ? "Search Results" : showRecent && recentCustomers.length > 0 ? "Recent Customers" : "All Customers",
                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$scroll$2d$area$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ScrollArea"], {
                                                    className: "max-h-[300px]",
                                                    children: allCustomers.map((customer)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(CustomerListItem, {
                                                            customer: customer
                                                        }, customer.id, false, {
                                                            fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
                                                            lineNumber: 296,
                                                            columnNumber: 14
                                                        }, this))
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
                                                    lineNumber: 294,
                                                    columnNumber: 12
                                                }, this)
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
                                                lineNumber: 285,
                                                columnNumber: 11
                                            }, this) : search.trim().length >= 2 ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$command$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CommandEmpty"], {
                                                children: "No customers found."
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
                                                lineNumber: 301,
                                                columnNumber: 11
                                            }, this) : showRecent && recentCustomers.length === 0 ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$command$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CommandEmpty"], {
                                                children: "Start typing to search for customers..."
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
                                                lineNumber: 303,
                                                columnNumber: 11
                                            }, this) : null,
                                            showCreateNew && onCreateNew && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Fragment"], {
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$command$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CommandSeparator"], {}, void 0, false, {
                                                        fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
                                                        lineNumber: 309,
                                                        columnNumber: 12
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$command$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CommandGroup"], {
                                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$command$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CommandItem"], {
                                                            onSelect: ()=>{
                                                                setOpen(false);
                                                                onCreateNew();
                                                            },
                                                            className: "flex items-center gap-2 px-3 py-2.5 cursor-pointer text-primary",
                                                            children: [
                                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$plus$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Plus$3e$__["Plus"], {
                                                                    className: "h-4 w-4"
                                                                }, void 0, false, {
                                                                    fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
                                                                    lineNumber: 318,
                                                                    columnNumber: 14
                                                                }, this),
                                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                                    className: "font-medium",
                                                                    children: "Create New Customer"
                                                                }, void 0, false, {
                                                                    fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
                                                                    lineNumber: 319,
                                                                    columnNumber: 14
                                                                }, this)
                                                            ]
                                                        }, void 0, true, {
                                                            fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
                                                            lineNumber: 311,
                                                            columnNumber: 13
                                                        }, this)
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
                                                        lineNumber: 310,
                                                        columnNumber: 12
                                                    }, this)
                                                ]
                                            }, void 0, true)
                                        ]
                                    }, void 0, true)
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
                                    lineNumber: 276,
                                    columnNumber: 7
                                }, this),
                                selectedCustomer && !disabled && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "border-t p-2",
                                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Button"], {
                                        variant: "ghost",
                                        size: "sm",
                                        onClick: handleClear,
                                        className: "w-full text-muted-foreground hover:text-destructive",
                                        children: "Clear Selection"
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
                                        lineNumber: 331,
                                        columnNumber: 9
                                    }, this)
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
                                    lineNumber: 330,
                                    columnNumber: 8
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
                            lineNumber: 269,
                            columnNumber: 6
                        }, this)
                    }, void 0, false, {
                        fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
                        lineNumber: 268,
                        columnNumber: 5
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
                lineNumber: 238,
                columnNumber: 4
            }, this),
            error && errorMessage && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                className: "text-sm text-destructive",
                children: errorMessage
            }, void 0, false, {
                fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
                lineNumber: 346,
                columnNumber: 5
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/apps/web/src/components/customers/customer-autocomplete.tsx",
        lineNumber: 231,
        columnNumber: 3
    }, this);
}
_s(CustomerAutocomplete, "2+Y8k1JGqk33yLXYU/8gk9e6A04=");
_c = CustomerAutocomplete;
var _c;
__turbopack_context__.k.register(_c, "CustomerAutocomplete");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "QuickAppointmentDialog",
    ()=>QuickAppointmentDialog
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
/**
 * QuickAppointmentDialog Component
 *
 * A streamlined dialog for quickly creating appointments from the dispatch map.
 * Triggered by clicking on the map canvas.
 *
 * Features:
 * - Pre-fills location from map click coordinates
 * - Customer autocomplete with nearby customer suggestions
 * - Technician assignment
 * - Date/time picker with smart defaults
 * - Job type/priority selection
 */ var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$181103__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/apps/web/src/actions/data:181103 [app-client] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$customers$2f$customer$2d$autocomplete$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/src/components/customers/customer-autocomplete.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/web/src/components/ui/button.tsx [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/src/button.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ui$2f$dialog$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/web/src/components/ui/dialog.tsx [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$dialog$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/src/dialog.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ui$2f$input$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/web/src/components/ui/input.tsx [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$input$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/src/input.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ui$2f$label$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/web/src/components/ui/label.tsx [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$label$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/src/label.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ui$2f$select$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/web/src/components/ui/select.tsx [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$select$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/src/select.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ui$2f$textarea$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/web/src/components/ui/textarea.tsx [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$textarea$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/src/textarea.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/src/lib/utils.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$triangle$2d$alert$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__AlertTriangle$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/triangle-alert.js [app-client] (ecmascript) <export default as AlertTriangle>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$calendar$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Calendar$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/calendar.js [app-client] (ecmascript) <export default as Calendar>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$clock$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Clock$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/clock.js [app-client] (ecmascript) <export default as Clock>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$loader$2d$circle$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Loader2$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/loader-circle.js [app-client] (ecmascript) <export default as Loader2>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$map$2d$pin$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__MapPin$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/map-pin.js [app-client] (ecmascript) <export default as MapPin>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$user$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__User$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/user.js [app-client] (ecmascript) <export default as User>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$wrench$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Wrench$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/wrench.js [app-client] (ecmascript) <export default as Wrench>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$date$2d$fns$40$4$2e$1$2e$0$2f$node_modules$2f$date$2d$fns$2f$format$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/format.js [app-client] (ecmascript) <locals>");
;
var _s = __turbopack_context__.k.signature();
"use client";
;
;
;
;
;
;
;
;
;
;
;
;
// Job types matching the backend schema
// Valid types: service_call, installation, maintenance, inspection, repair, estimate, follow_up, winterization, emergency
const JOB_TYPES = [
    {
        value: "emergency",
        label: "Emergency / Urgent",
        color: "text-red-500"
    },
    {
        value: "follow_up",
        label: "Callback / Follow Up",
        color: "text-orange-500"
    },
    {
        value: "maintenance",
        label: "Maintenance / Recurring",
        color: "text-purple-500"
    },
    {
        value: "installation",
        label: "Install / New Work",
        color: "text-green-500"
    },
    {
        value: "service_call",
        label: "Service Call",
        color: "text-blue-500"
    },
    {
        value: "inspection",
        label: "Inspection",
        color: "text-slate-500"
    },
    {
        value: "estimate",
        label: "Estimate",
        color: "text-amber-500"
    },
    {
        value: "repair",
        label: "Repair",
        color: "text-cyan-500"
    },
    {
        value: "winterization",
        label: "Winterization",
        color: "text-indigo-500"
    }
];
const PRIORITIES = [
    {
        value: "low",
        label: "Low",
        color: "text-slate-500"
    },
    {
        value: "normal",
        label: "Normal",
        color: "text-blue-500"
    },
    {
        value: "high",
        label: "High",
        color: "text-orange-500"
    },
    {
        value: "urgent",
        label: "Urgent",
        color: "text-red-500"
    }
];
const DURATIONS = [
    {
        value: 30,
        label: "30 min"
    },
    {
        value: 60,
        label: "1 hour"
    },
    {
        value: 90,
        label: "1.5 hours"
    },
    {
        value: 120,
        label: "2 hours"
    },
    {
        value: 180,
        label: "3 hours"
    },
    {
        value: 240,
        label: "4 hours"
    },
    {
        value: 480,
        label: "Full day"
    }
];
function QuickAppointmentDialog({ open, onOpenChange, location, technicians = [], nearbyCustomers = [], onSuccess, onCreateCustomer, defaultTechnicianId, defaultDateTime, defaultDuration }) {
    _s();
    const [isPending, startTransition] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTransition"])();
    const [error, setError] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    // Form state
    const [selectedCustomer, setSelectedCustomer] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    const [customerId, setCustomerId] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    const [title, setTitle] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])("");
    const [jobType, setJobType] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])("service_call");
    const [priority, setPriority] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])("normal");
    const [technicianId, setTechnicianId] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])("");
    const [duration, setDuration] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(60);
    const [notes, setNotes] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])("");
    // Apply defaults when dialog opens
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "QuickAppointmentDialog.useEffect": ()=>{
            if (open) {
                if (defaultTechnicianId) {
                    setTechnicianId(defaultTechnicianId);
                }
                if (defaultDateTime) {
                    // Ensure the time is not in the past (server rejects past appointments)
                    const now = new Date();
                    let adjustedTime = defaultDateTime;
                    if (defaultDateTime < now) {
                        // Move to the same time slot tomorrow, or next available hour if today
                        adjustedTime = new Date();
                        adjustedTime.setMinutes(0, 0, 0);
                        adjustedTime.setHours(adjustedTime.getHours() + 1);
                    }
                    setScheduledStart((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$date$2d$fns$40$4$2e$1$2e$0$2f$node_modules$2f$date$2d$fns$2f$format$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["format"])(adjustedTime, "yyyy-MM-dd'T'HH:mm"));
                }
                if (defaultDuration) {
                    // Snap to nearest valid duration option
                    const validDurations = [
                        30,
                        60,
                        90,
                        120,
                        180,
                        240,
                        480
                    ];
                    const closest = validDurations.reduce({
                        "QuickAppointmentDialog.useEffect.closest": (prev, curr)=>Math.abs(curr - defaultDuration) < Math.abs(prev - defaultDuration) ? curr : prev
                    }["QuickAppointmentDialog.useEffect.closest"]);
                    setDuration(closest);
                }
            }
        }
    }["QuickAppointmentDialog.useEffect"], [
        open,
        defaultTechnicianId,
        defaultDateTime,
        defaultDuration
    ]);
    // Date/time - default to next available slot (next hour)
    const getDefaultDateTime = ()=>{
        const now = new Date();
        now.setMinutes(0, 0, 0);
        now.setHours(now.getHours() + 1);
        return now.toISOString().slice(0, 16);
    };
    const [scheduledStart, setScheduledStart] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(getDefaultDateTime());
    // Calculate end time based on duration
    const getScheduledEnd = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "QuickAppointmentDialog.useCallback[getScheduledEnd]": ()=>{
            const start = new Date(scheduledStart);
            start.setMinutes(start.getMinutes() + duration);
            return start.toISOString();
        }
    }["QuickAppointmentDialog.useCallback[getScheduledEnd]"], [
        scheduledStart,
        duration
    ]);
    // Handle customer selection
    const handleCustomerChange = (id, customer)=>{
        setCustomerId(id);
        setSelectedCustomer(customer);
        // Auto-fill title if empty
        if (customer && !title) {
            const customerName = customer.display_name || `${customer.first_name || ""} ${customer.last_name || ""}`.trim() || customer.company_name || "Customer";
            setTitle(`Service call - ${customerName}`);
        }
    };
    // Reset form
    const resetForm = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "QuickAppointmentDialog.useCallback[resetForm]": ()=>{
            setSelectedCustomer(null);
            setCustomerId(null);
            setTitle("");
            setJobType("service_call");
            setPriority("normal");
            setTechnicianId("");
            setDuration(60);
            setNotes("");
            setScheduledStart(getDefaultDateTime());
            setError(null);
        }
    }["QuickAppointmentDialog.useCallback[resetForm]"], []);
    // Handle close
    const handleOpenChange = (newOpen)=>{
        if (!newOpen) {
            resetForm();
        }
        onOpenChange(newOpen);
    };
    // Handle form submission
    const handleSubmit = async (e)=>{
        e.preventDefault();
        setError(null);
        if (!customerId) {
            setError("Please select a customer");
            return;
        }
        if (!title.trim()) {
            setError("Please enter a title");
            return;
        }
        startTransition(async ()=>{
            try {
                const formData = new FormData();
                formData.set("customerId", customerId);
                formData.set("title", title.trim());
                formData.set("scheduledStart", new Date(scheduledStart).toISOString());
                formData.set("scheduledEnd", getScheduledEnd());
                formData.set("type", jobType);
                formData.set("priority", priority);
                formData.set("category", "job_appointment");
                if (technicianId && technicianId !== "unassigned") {
                    formData.set("assignedTo", technicianId);
                }
                if (notes.trim()) {
                    formData.set("notes", notes.trim());
                }
                // Add location info to notes if available
                if (location?.address) {
                    const existingNotes = notes.trim();
                    const locationNote = `Location: ${location.address}`;
                    formData.set("notes", existingNotes ? `${existingNotes}\n\n${locationNote}` : locationNote);
                }
                const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$181103__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["createAppointment"])(formData);
                if (result.success && result.data) {
                    onSuccess?.(result.data);
                    handleOpenChange(false);
                } else {
                    setError(result.error || "Failed to create appointment");
                }
            } catch (err) {
                console.error("Failed to create appointment:", err);
                setError("An unexpected error occurred");
            }
        });
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$dialog$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Dialog"], {
        open: open,
        onOpenChange: handleOpenChange,
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$dialog$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DialogContent"], {
            className: "sm:max-w-[500px]",
            children: [
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$dialog$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DialogHeader"], {
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$dialog$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DialogTitle"], {
                            className: "flex items-center gap-2",
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$calendar$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Calendar$3e$__["Calendar"], {
                                    className: "h-5 w-5 text-primary"
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                    lineNumber: 276,
                                    columnNumber: 7
                                }, this),
                                "Quick Appointment"
                            ]
                        }, void 0, true, {
                            fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                            lineNumber: 275,
                            columnNumber: 6
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$dialog$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DialogDescription"], {
                            children: location?.address ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "flex items-center gap-1 text-sm",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$map$2d$pin$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__MapPin$3e$__["MapPin"], {
                                        className: "h-3.5 w-3.5"
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                        lineNumber: 282,
                                        columnNumber: 9
                                    }, this),
                                    location.address
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                lineNumber: 281,
                                columnNumber: 8
                            }, this) : "Create a new appointment from the dispatch map"
                        }, void 0, false, {
                            fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                            lineNumber: 279,
                            columnNumber: 6
                        }, this)
                    ]
                }, void 0, true, {
                    fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                    lineNumber: 274,
                    columnNumber: 5
                }, this),
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("form", {
                    onSubmit: handleSubmit,
                    className: "space-y-4",
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "space-y-2",
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$label$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Label"], {
                                    htmlFor: "customer",
                                    children: "Customer *"
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                    lineNumber: 294,
                                    columnNumber: 7
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$customers$2f$customer$2d$autocomplete$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CustomerAutocomplete"], {
                                    value: customerId,
                                    onChange: handleCustomerChange,
                                    placeholder: "Search or select customer...",
                                    showCreateNew: true,
                                    onCreateNew: onCreateCustomer,
                                    showRecent: true,
                                    recentCustomers: nearbyCustomers,
                                    error: error?.includes("customer")
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                    lineNumber: 295,
                                    columnNumber: 7
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                            lineNumber: 293,
                            columnNumber: 6
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "space-y-2",
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$label$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Label"], {
                                    htmlFor: "title",
                                    children: "Title *"
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                    lineNumber: 309,
                                    columnNumber: 7
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$input$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Input"], {
                                    id: "title",
                                    value: title,
                                    onChange: (e)=>setTitle(e.target.value),
                                    placeholder: "e.g., AC Repair, Plumbing Inspection",
                                    className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])(error?.includes("title") && "border-destructive")
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                    lineNumber: 310,
                                    columnNumber: 7
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                            lineNumber: 308,
                            columnNumber: 6
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "grid grid-cols-2 gap-4",
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "space-y-2",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$label$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Label"], {
                                            htmlFor: "jobType",
                                            children: "Job Type"
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                            lineNumber: 322,
                                            columnNumber: 8
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$select$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Select"], {
                                            value: jobType,
                                            onValueChange: setJobType,
                                            children: [
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$select$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SelectTrigger"], {
                                                    id: "jobType",
                                                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$select$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SelectValue"], {}, void 0, false, {
                                                        fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                                        lineNumber: 325,
                                                        columnNumber: 10
                                                    }, this)
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                                    lineNumber: 324,
                                                    columnNumber: 9
                                                }, this),
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$select$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SelectContent"], {
                                                    children: JOB_TYPES.map((type)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$select$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SelectItem"], {
                                                            value: type.value,
                                                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                                className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("flex items-center gap-2", type.color),
                                                                children: [
                                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$wrench$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Wrench$3e$__["Wrench"], {
                                                                        className: "h-3.5 w-3.5"
                                                                    }, void 0, false, {
                                                                        fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                                                        lineNumber: 331,
                                                                        columnNumber: 13
                                                                    }, this),
                                                                    type.label
                                                                ]
                                                            }, void 0, true, {
                                                                fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                                                lineNumber: 330,
                                                                columnNumber: 12
                                                            }, this)
                                                        }, type.value, false, {
                                                            fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                                            lineNumber: 329,
                                                            columnNumber: 11
                                                        }, this))
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                                    lineNumber: 327,
                                                    columnNumber: 9
                                                }, this)
                                            ]
                                        }, void 0, true, {
                                            fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                            lineNumber: 323,
                                            columnNumber: 8
                                        }, this)
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                    lineNumber: 321,
                                    columnNumber: 7
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "space-y-2",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$label$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Label"], {
                                            htmlFor: "priority",
                                            children: "Priority"
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                            lineNumber: 341,
                                            columnNumber: 8
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$select$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Select"], {
                                            value: priority,
                                            onValueChange: setPriority,
                                            children: [
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$select$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SelectTrigger"], {
                                                    id: "priority",
                                                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$select$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SelectValue"], {}, void 0, false, {
                                                        fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                                        lineNumber: 344,
                                                        columnNumber: 10
                                                    }, this)
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                                    lineNumber: 343,
                                                    columnNumber: 9
                                                }, this),
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$select$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SelectContent"], {
                                                    children: PRIORITIES.map((p)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$select$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SelectItem"], {
                                                            value: p.value,
                                                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                                className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("flex items-center gap-2", p.color),
                                                                children: [
                                                                    p.value === "urgent" && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$triangle$2d$alert$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__AlertTriangle$3e$__["AlertTriangle"], {
                                                                        className: "h-3.5 w-3.5"
                                                                    }, void 0, false, {
                                                                        fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                                                        lineNumber: 350,
                                                                        columnNumber: 38
                                                                    }, this),
                                                                    p.label
                                                                ]
                                                            }, void 0, true, {
                                                                fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                                                lineNumber: 349,
                                                                columnNumber: 12
                                                            }, this)
                                                        }, p.value, false, {
                                                            fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                                            lineNumber: 348,
                                                            columnNumber: 11
                                                        }, this))
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                                    lineNumber: 346,
                                                    columnNumber: 9
                                                }, this)
                                            ]
                                        }, void 0, true, {
                                            fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                            lineNumber: 342,
                                            columnNumber: 8
                                        }, this)
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                    lineNumber: 340,
                                    columnNumber: 7
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                            lineNumber: 320,
                            columnNumber: 6
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "grid grid-cols-2 gap-4",
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "space-y-2",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$label$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Label"], {
                                            htmlFor: "scheduledStart",
                                            children: "Date & Time"
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                            lineNumber: 363,
                                            columnNumber: 8
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                            className: "relative",
                                            children: [
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$clock$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Clock$3e$__["Clock"], {
                                                    className: "absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                                    lineNumber: 365,
                                                    columnNumber: 9
                                                }, this),
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$input$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Input"], {
                                                    id: "scheduledStart",
                                                    type: "datetime-local",
                                                    value: scheduledStart,
                                                    onChange: (e)=>setScheduledStart(e.target.value),
                                                    className: "pl-9"
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                                    lineNumber: 366,
                                                    columnNumber: 9
                                                }, this)
                                            ]
                                        }, void 0, true, {
                                            fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                            lineNumber: 364,
                                            columnNumber: 8
                                        }, this)
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                    lineNumber: 362,
                                    columnNumber: 7
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "space-y-2",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$label$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Label"], {
                                            htmlFor: "duration",
                                            children: "Duration"
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                            lineNumber: 377,
                                            columnNumber: 8
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$select$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Select"], {
                                            value: duration.toString(),
                                            onValueChange: (v)=>setDuration(Number(v)),
                                            children: [
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$select$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SelectTrigger"], {
                                                    id: "duration",
                                                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$select$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SelectValue"], {}, void 0, false, {
                                                        fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                                        lineNumber: 380,
                                                        columnNumber: 10
                                                    }, this)
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                                    lineNumber: 379,
                                                    columnNumber: 9
                                                }, this),
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$select$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SelectContent"], {
                                                    children: DURATIONS.map((d)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$select$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SelectItem"], {
                                                            value: d.value.toString(),
                                                            children: d.label
                                                        }, d.value, false, {
                                                            fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                                            lineNumber: 384,
                                                            columnNumber: 11
                                                        }, this))
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                                    lineNumber: 382,
                                                    columnNumber: 9
                                                }, this)
                                            ]
                                        }, void 0, true, {
                                            fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                            lineNumber: 378,
                                            columnNumber: 8
                                        }, this)
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                    lineNumber: 376,
                                    columnNumber: 7
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                            lineNumber: 361,
                            columnNumber: 6
                        }, this),
                        technicians.length > 0 && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "space-y-2",
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$label$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Label"], {
                                    htmlFor: "technician",
                                    children: "Assign Technician"
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                    lineNumber: 396,
                                    columnNumber: 8
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$select$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Select"], {
                                    value: technicianId,
                                    onValueChange: setTechnicianId,
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$select$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SelectTrigger"], {
                                            id: "technician",
                                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$select$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SelectValue"], {
                                                placeholder: "Select technician (optional)"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                                lineNumber: 399,
                                                columnNumber: 10
                                            }, this)
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                            lineNumber: 398,
                                            columnNumber: 9
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$select$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SelectContent"], {
                                            children: [
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$select$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SelectItem"], {
                                                    value: "unassigned",
                                                    children: "Unassigned"
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                                    lineNumber: 402,
                                                    columnNumber: 10
                                                }, this),
                                                technicians.map((tech)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$select$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SelectItem"], {
                                                        value: tech.id,
                                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                            className: "flex items-center gap-2",
                                                            children: [
                                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$user$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__User$3e$__["User"], {
                                                                    className: "h-3.5 w-3.5"
                                                                }, void 0, false, {
                                                                    fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                                                    lineNumber: 406,
                                                                    columnNumber: 13
                                                                }, this),
                                                                tech.name
                                                            ]
                                                        }, void 0, true, {
                                                            fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                                            lineNumber: 405,
                                                            columnNumber: 12
                                                        }, this)
                                                    }, tech.id, false, {
                                                        fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                                        lineNumber: 404,
                                                        columnNumber: 11
                                                    }, this))
                                            ]
                                        }, void 0, true, {
                                            fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                            lineNumber: 401,
                                            columnNumber: 9
                                        }, this)
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                    lineNumber: 397,
                                    columnNumber: 8
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                            lineNumber: 395,
                            columnNumber: 7
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "space-y-2",
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$label$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Label"], {
                                    htmlFor: "notes",
                                    children: "Notes"
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                    lineNumber: 418,
                                    columnNumber: 7
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$textarea$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Textarea"], {
                                    id: "notes",
                                    value: notes,
                                    onChange: (e)=>setNotes(e.target.value),
                                    placeholder: "Additional notes or instructions...",
                                    rows: 2
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                    lineNumber: 419,
                                    columnNumber: 7
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                            lineNumber: 417,
                            columnNumber: 6
                        }, this),
                        error && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "rounded-md bg-destructive/10 p-3 text-sm text-destructive",
                            children: error
                        }, void 0, false, {
                            fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                            lineNumber: 430,
                            columnNumber: 7
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$dialog$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DialogFooter"], {
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Button"], {
                                    type: "button",
                                    variant: "outline",
                                    onClick: ()=>handleOpenChange(false),
                                    disabled: isPending,
                                    children: "Cancel"
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                    lineNumber: 436,
                                    columnNumber: 7
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Button"], {
                                    type: "submit",
                                    disabled: isPending || !customerId,
                                    children: isPending ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Fragment"], {
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$loader$2d$circle$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Loader2$3e$__["Loader2"], {
                                                className: "mr-2 h-4 w-4 animate-spin"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                                lineNumber: 447,
                                                columnNumber: 10
                                            }, this),
                                            "Creating..."
                                        ]
                                    }, void 0, true) : "Create Appointment"
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                                    lineNumber: 444,
                                    columnNumber: 7
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                            lineNumber: 435,
                            columnNumber: 6
                        }, this)
                    ]
                }, void 0, true, {
                    fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
                    lineNumber: 291,
                    columnNumber: 5
                }, this)
            ]
        }, void 0, true, {
            fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
            lineNumber: 273,
            columnNumber: 4
        }, this)
    }, void 0, false, {
        fileName: "[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx",
        lineNumber: 272,
        columnNumber: 3
    }, this);
}
_s(QuickAppointmentDialog, "CxbTCyKN3eNpNh4rY5633Y6qiMQ=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTransition"]
    ];
});
_c = QuickAppointmentDialog;
var _c;
__turbopack_context__.k.register(_c, "QuickAppointmentDialog");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:1cbe4f [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"40705afccdaf61ea93aab5e1df330e4942a03722e6":"archiveAppointment"},"apps/web/src/actions/schedule-assignments.ts",""] */ __turbopack_context__.s([
    "archiveAppointment",
    ()=>archiveAppointment
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var archiveAppointment = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("40705afccdaf61ea93aab5e1df330e4942a03722e6", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "archiveAppointment"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vc2NoZWR1bGUtYXNzaWdubWVudHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc2VydmVyXCI7XG5cbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gXCJAL2xpYi9zdXBhYmFzZS9zZXJ2ZXJcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFzc2lnbkpvYlRvVGVjaG5pY2lhbihcblx0X2pvYklkOiBzdHJpbmcsXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0dGVjaG5pY2lhbklkOiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHQvLyBGaXJzdCBjaGVjayBpZiB0aGUgc2NoZWR1bGUgZXhpc3RzIGFuZCBnZXQgY3VycmVudCBhc3NpZ25tZW50XG5cdFx0Y29uc3QgeyBkYXRhOiBleGlzdGluZ1NjaGVkdWxlLCBlcnJvcjogY2hlY2tFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQuc2VsZWN0KFwiaWQsIGFzc2lnbmVkX3RvXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0aWYgKGNoZWNrRXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgU2NoZWR1bGUgY2hlY2sgZmFpbGVkOiAke2NoZWNrRXJyb3IubWVzc2FnZX1gKTtcblx0XHR9XG5cblx0XHRpZiAoIWV4aXN0aW5nU2NoZWR1bGUpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIlNjaGVkdWxlIG5vdCBmb3VuZFwiKTtcblx0XHR9XG5cblx0XHQvLyBVcGRhdGUgdGhlIHNjaGVkdWxlJ3MgYXNzaWduZWRfdG8gZmllbGRcblx0XHRjb25zdCB7IGRhdGE6IHVwZGF0ZWRTY2hlZHVsZSwgZXJyb3I6IHNjaGVkdWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7IGFzc2lnbmVkX3RvOiB0ZWNobmljaWFuSWQgfSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChzY2hlZHVsZUVycm9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYFNjaGVkdWxlIHVwZGF0ZSBmYWlsZWQ6ICR7c2NoZWR1bGVFcnJvci5tZXNzYWdlfWApO1xuXHRcdH1cblxuXHRcdC8vIERvbid0IHJldmFsaWRhdGUgaW1tZWRpYXRlbHkgLSBsZXQgdGhlIG9wdGltaXN0aWMgdXBkYXRlIHNob3dcblx0XHQvLyByZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvc2NoZWR1bGVcIik7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogdXBkYXRlZFNjaGVkdWxlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gYXNzaWduIGpvYlwiLFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUFwcG9pbnRtZW50VGltZXMoXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0c3RhcnRUaW1lOiBEYXRlLFxuXHRlbmRUaW1lOiBEYXRlLFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgZHVyYXRpb24gPSBNYXRoLnJvdW5kKFxuXHRcdFx0KGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSxcblx0XHQpO1xuXG5cdFx0Ly8gRm9ybWF0IGFzIGxvY2FsIGRhdGV0aW1lIHN0cmluZyBXSVRIT1VUIHRpbWV6b25lIGNvbnZlcnNpb25cblx0XHQvLyBHZXQgeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWludXRlIGZyb20gdGhlIERhdGUgb2JqZWN0IGRpcmVjdGx5XG5cdFx0Y29uc3QgZm9ybWF0TG9jYWxEYXRlVGltZSA9IChkYXRlOiBEYXRlKSA9PiB7XG5cdFx0XHRjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0Y29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBob3VyID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgbWludXRlID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBzZWNvbmQgPSBTdHJpbmcoZGF0ZS5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX0gJHtob3VyfToke21pbnV0ZX06JHtzZWNvbmR9YDtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3RhcnRTdHIgPSBmb3JtYXRMb2NhbERhdGVUaW1lKHN0YXJ0VGltZSk7XG5cdFx0Y29uc3QgZW5kU3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShlbmRUaW1lKTtcblxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXJ0X3RpbWU6IHN0YXJ0U3RyLFxuXHRcdFx0XHRlbmRfdGltZTogZW5kU3RyLFxuXHRcdFx0XHRkdXJhdGlvbixcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gRG9uJ3QgcmV2YWxpZGF0ZSBpbW1lZGlhdGVseSAtIGxldCB0aGUgb3B0aW1pc3RpYyB1cGRhdGUgc2hvd1xuXHRcdC8vIHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9zY2hlZHVsZVwiKTtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gdXBkYXRlIHRpbWVzXCIsXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2FuY2VsQXBwb2ludG1lbnQoc2NoZWR1bGVJZDogc3RyaW5nLCByZWFzb24/OiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gQ2FuY2VsIGFwcG9pbnRtZW50IC0gdW5zY2hlZHVsZSBpdCAocmVtb3ZlIGFzc2lnbmVkX3RvKVxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIixcblx0XHRcdFx0YXNzaWduZWRfdG86IG51bGwsIC8vIFVuYXNzaWduIHRlY2huaWNpYW5cblx0XHRcdFx0Y2FuY2VsbGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG5cdFx0XHRcdGNhbmNlbGxlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0Y2FuY2VsbGF0aW9uX3JlYXNvbjogcmVhc29uIHx8IG51bGwsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgc2NoZWR1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byBjYW5jZWwgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjYW5jZWxKb2JBbmRBcHBvaW50bWVudChcblx0c2NoZWR1bGVJZDogc3RyaW5nLFxuXHRqb2JJZDogc3RyaW5nLFxuXHRyZWFzb24/OiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG5cdFx0Ly8gQ2FuY2VsIHRoZSBhcHBvaW50bWVudFxuXHRcdGNvbnN0IHsgZXJyb3I6IHNjaGVkdWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIixcblx0XHRcdFx0YXNzaWduZWRfdG86IG51bGwsXG5cdFx0XHRcdGNhbmNlbGxlZF9hdDogbm93LFxuXHRcdFx0XHRjYW5jZWxsZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHRcdGNhbmNlbGxhdGlvbl9yZWFzb246IHJlYXNvbiB8fCBudWxsLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKHNjaGVkdWxlRXJyb3IpIHtcblx0XHRcdHRocm93IHNjaGVkdWxlRXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gQWxzbyBjYW5jZWwgdGhlIGpvYiBpZiBpdCBleGlzdHNcblx0XHRpZiAoam9iSWQpIHtcblx0XHRcdGNvbnN0IHsgZXJyb3I6IGpvYkVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0XHQuZnJvbShcImpvYnNcIilcblx0XHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdFx0c3RhdHVzOiBcImNhbmNlbGxlZFwiLFxuXHRcdFx0XHRcdGNhbmNlbGxlZF9hdDogbm93LFxuXHRcdFx0XHRcdGNhbmNlbGxlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0XHRjYW5jZWxsYXRpb25fcmVhc29uOiByZWFzb24gfHwgbnVsbCxcblx0XHRcdFx0fSlcblx0XHRcdFx0LmVxKFwiaWRcIiwgam9iSWQpO1xuXG5cdFx0XHRpZiAoam9iRXJyb3IpIHtcblx0XHRcdFx0dGhyb3cgam9iRXJyb3I7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byBjYW5jZWwgam9iIGFuZCBhcHBvaW50bWVudFwiLFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFyY2hpdmVBcHBvaW50bWVudChzY2hlZHVsZUlkOiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRhcmNoaXZlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIGFyY2hpdmUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb21wbGV0ZUFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG5cdGlmICghc3VwYWJhc2UpIHtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRGF0YWJhc2Ugbm90IGF2YWlsYWJsZVwiIH07XG5cdH1cblxuXHR0cnkge1xuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblxuXHRcdGlmICghdXNlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vdCBhdXRoZW50aWNhdGVkXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRzdGF0dXM6IFwiY29tcGxldGVkXCIsXG5cdFx0XHRcdGFjdHVhbF9lbmRfdGltZTogbm93LFxuXHRcdFx0XHRjb21wbGV0ZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgc2NoZWR1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gY29tcGxldGUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbnR5cGUgRGlzcGF0Y2hTdGF0dXMgPSBcImRpc3BhdGNoZWRcIiB8IFwiYXJyaXZlZFwiIHwgXCJjbG9zZWRcIjtcblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlU2NoZWR1bGVTdGF0dXMoXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0c3RhdHVzOiBEaXNwYXRjaFN0YXR1cyxcblx0ZXh0cmFVcGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9LFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblx0XHRjb25zdCB1cGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHtcblx0XHRcdHN0YXR1cyxcblx0XHRcdHVwZGF0ZWRfYXQ6IG5vdyxcblx0XHRcdC4uLmV4dHJhVXBkYXRlcyxcblx0XHR9O1xuXG5cdFx0aWYgKHN0YXR1cyA9PT0gXCJjbG9zZWRcIikge1xuXHRcdFx0dXBkYXRlcy5jb21wbGV0ZWRfYnkgPSB1c2VyLmlkO1xuXHRcdFx0dXBkYXRlcy5hY3R1YWxfZW5kX3RpbWUgPSB1cGRhdGVzLmFjdHVhbF9lbmRfdGltZSA/PyBub3c7XG5cdFx0fVxuXG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHVwZGF0ZXMpXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBgRmFpbGVkIHRvIHVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMgdG8gJHtzdGF0dXN9YCxcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkaXNwYXRjaEFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRyZXR1cm4gdXBkYXRlU2NoZWR1bGVTdGF0dXMoc2NoZWR1bGVJZCwgXCJkaXNwYXRjaGVkXCIpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXJyaXZlQXBwb2ludG1lbnQoc2NoZWR1bGVJZDogc3RyaW5nKSB7XG5cdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblx0cmV0dXJuIHVwZGF0ZVNjaGVkdWxlU3RhdHVzKHNjaGVkdWxlSWQsIFwiYXJyaXZlZFwiLCB7XG5cdFx0YWN0dWFsX3N0YXJ0X3RpbWU6IG5vdyxcblx0fSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbG9zZUFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cdHJldHVybiB1cGRhdGVTY2hlZHVsZVN0YXR1cyhzY2hlZHVsZUlkLCBcImNsb3NlZFwiLCB7XG5cdFx0YWN0dWFsX2VuZF90aW1lOiBub3csXG5cdH0pO1xufVxuXG4vKipcbiAqIE1vdmUgYW4gZXhpc3RpbmcgYXBwb2ludG1lbnQgdG8gYSBuZXcgdGVjaG5pY2lhbiBhbmQvb3IgdGltZSBzbG90XG4gKiBCYXRjaGVzIGJvdGggb3BlcmF0aW9ucyBpbiBhIHNpbmdsZSBkYXRhYmFzZSBjYWxsIGZvciBwZXJmb3JtYW5jZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbW92ZUFwcG9pbnRtZW50KFxuXHRzY2hlZHVsZUlkOiBzdHJpbmcsXG5cdHRlY2huaWNpYW5JZDogc3RyaW5nLFxuXHRzdGFydFRpbWU6IERhdGUsXG5cdGVuZFRpbWU6IERhdGUsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCBkdXJhdGlvbiA9IE1hdGgucm91bmQoXG5cdFx0XHQoZW5kVGltZS5nZXRUaW1lKCkgLSBzdGFydFRpbWUuZ2V0VGltZSgpKSAvICgxMDAwICogNjApLFxuXHRcdCk7XG5cblx0XHQvLyBGb3JtYXQgYXMgbG9jYWwgZGF0ZXRpbWUgc3RyaW5nIFdJVEhPVVQgdGltZXpvbmUgY29udmVyc2lvblxuXHRcdGNvbnN0IGZvcm1hdExvY2FsRGF0ZVRpbWUgPSAoZGF0ZTogRGF0ZSkgPT4ge1xuXHRcdFx0Y29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcblx0XHRcdGNvbnN0IG1vbnRoID0gU3RyaW5nKGRhdGUuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGNvbnN0IGRheSA9IFN0cmluZyhkYXRlLmdldERhdGUoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgaG91ciA9IFN0cmluZyhkYXRlLmdldEhvdXJzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGNvbnN0IG1pbnV0ZSA9IFN0cmluZyhkYXRlLmdldE1pbnV0ZXMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3Qgc2Vjb25kID0gU3RyaW5nKGRhdGUuZ2V0U2Vjb25kcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRyZXR1cm4gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9ICR7aG91cn06JHttaW51dGV9OiR7c2Vjb25kfWA7XG5cdFx0fTtcblxuXHRcdGNvbnN0IHN0YXJ0U3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShzdGFydFRpbWUpO1xuXHRcdGNvbnN0IGVuZFN0ciA9IGZvcm1hdExvY2FsRGF0ZVRpbWUoZW5kVGltZSk7XG5cblx0XHQvLyBTaW5nbGUgYXRvbWljIHVwZGF0ZSBmb3IgYm90aCBhc3NpZ25tZW50IGFuZCB0aW1lc1xuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdGFzc2lnbmVkX3RvOiB0ZWNobmljaWFuSWQsXG5cdFx0XHRcdHN0YXJ0X3RpbWU6IHN0YXJ0U3RyLFxuXHRcdFx0XHRlbmRfdGltZTogZW5kU3RyLFxuXHRcdFx0XHRkdXJhdGlvbixcblx0XHRcdFx0dXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiRmFpbGVkIHRvIG1vdmUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogQXNzaWduIGFuIHVuYXNzaWduZWQgam9iIHRvIGEgdGVjaG5pY2lhbiB3aXRoIGEgc3BlY2lmaWMgdGltZSBzbG90XG4gKiBVc2VkIHdoZW4gZHJhZ2dpbmcgZnJvbSB1bmFzc2lnbmVkIHBhbmVsIHRvIGEgdGVjaG5pY2lhbiBsYW5lXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhc3NpZ25OZXdBcHBvaW50bWVudChcblx0c2NoZWR1bGVJZDogc3RyaW5nLFxuXHR0ZWNobmljaWFuSWQ6IHN0cmluZyxcblx0c3RhcnRUaW1lOiBEYXRlLFxuXHRlbmRUaW1lOiBEYXRlLFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgZHVyYXRpb24gPSBNYXRoLnJvdW5kKFxuXHRcdFx0KGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSxcblx0XHQpO1xuXG5cdFx0Y29uc3QgZm9ybWF0TG9jYWxEYXRlVGltZSA9IChkYXRlOiBEYXRlKSA9PiB7XG5cdFx0XHRjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0Y29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBob3VyID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgbWludXRlID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBzZWNvbmQgPSBTdHJpbmcoZGF0ZS5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX0gJHtob3VyfToke21pbnV0ZX06JHtzZWNvbmR9YDtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3RhcnRTdHIgPSBmb3JtYXRMb2NhbERhdGVUaW1lKHN0YXJ0VGltZSk7XG5cdFx0Y29uc3QgZW5kU3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShlbmRUaW1lKTtcblxuXHRcdC8vIFNpbmdsZSBhdG9taWMgdXBkYXRlIGZvciBhc3NpZ25tZW50XG5cdFx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHtcblx0XHRcdFx0YXNzaWduZWRfdG86IHRlY2huaWNpYW5JZCxcblx0XHRcdFx0c3RhcnRfdGltZTogc3RhcnRTdHIsXG5cdFx0XHRcdGVuZF90aW1lOiBlbmRTdHIsXG5cdFx0XHRcdGR1cmF0aW9uLFxuXHRcdFx0XHRzdGF0dXM6IFwic2NoZWR1bGVkXCIsXG5cdFx0XHRcdHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKVxuXHRcdFx0LnNlbGVjdCgpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGEgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gYXNzaWduIGFwcG9pbnRtZW50XCIsXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdW5hc3NpZ25BcHBvaW50bWVudChzY2hlZHVsZUlkOiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRhc3NpZ25lZF90bzogbnVsbCxcblx0XHRcdFx0dXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIG1vdmUgYXBwb2ludG1lbnQgdG8gVW5zY2hlZHVsZWRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogU2VuZCBcIk9uIE15IFdheVwiIFNNUyBub3RpZmljYXRpb24gdG8gY3VzdG9tZXJcbiAqIEluY2x1ZGVzIHRlY2huaWNpYW4gbmFtZSBhbmQgZXN0aW1hdGVkIGFycml2YWwgdGltZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZE9uTXlXYXlOb3RpZmljYXRpb24oXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0dGVjaG5pY2lhbk5hbWU6IHN0cmluZyxcblx0Y3VzdG9tZXJQaG9uZTogc3RyaW5nLFxuXHRkZXN0aW5hdGlvbkFkZHJlc3M/OiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHQvLyBHZXQgdXNlciBhbmQgY29tcGFueSBpbmZvXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBjb21wYW55J3MgVGVsbnl4IHNldHRpbmdzIGZvciB0aGUgZnJvbSBudW1iZXJcblx0XHRjb25zdCB7IGRhdGE6IG1lbWJlcnNoaXAgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfbWVtYmVyc2hpcHNcIilcblx0XHRcdC5zZWxlY3QoXCJjb21wYW55X2lkXCIpXG5cdFx0XHQuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpXG5cdFx0XHQuZXEoXCJzdGF0dXNcIiwgXCJhY3RpdmVcIilcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghbWVtYmVyc2hpcD8uY29tcGFueV9pZCkge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIGFjdGl2ZSBjb21wYW55IG1lbWJlcnNoaXBcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IHsgZGF0YTogdGVsbnl4U2V0dGluZ3MgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfdGVsbnl4X3NldHRpbmdzXCIpXG5cdFx0XHQuc2VsZWN0KFwicGhvbmVfbnVtYmVyLCBzdGF0dXNcIilcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgbWVtYmVyc2hpcC5jb21wYW55X2lkKVxuXHRcdFx0LmVxKFwic3RhdHVzXCIsIFwicmVhZHlcIilcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghdGVsbnl4U2V0dGluZ3M/LnBob25lX251bWJlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIHBob25lIG51bWJlciBjb25maWd1cmVkIGZvciBTTVNcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBjb21wYW55IG5hbWUgZm9yIHRoZSBtZXNzYWdlXG5cdFx0Y29uc3QgeyBkYXRhOiBjb21wYW55IH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjb21wYW5pZXNcIilcblx0XHRcdC5zZWxlY3QoXCJuYW1lXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBtZW1iZXJzaGlwLmNvbXBhbnlfaWQpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHQvLyBCdWlsZCB0aGUgXCJPbiBNeSBXYXlcIiBtZXNzYWdlXG5cdFx0bGV0IG1lc3NhZ2UgPSBgSGkhICR7dGVjaG5pY2lhbk5hbWV9IGZyb20gJHtjb21wYW55Py5uYW1lIHx8IFwieW91ciBzZXJ2aWNlIHByb3ZpZGVyXCJ9IGlzIG9uIHRoZSB3YXkgdG8geW91ciBhcHBvaW50bWVudC5gO1xuXG5cdFx0Ly8gVHJ5IHRvIGdldCB0cmF2ZWwgdGltZSBlc3RpbWF0ZSBpZiB3ZSBoYXZlIGEgZGVzdGluYXRpb25cblx0XHRpZiAoZGVzdGluYXRpb25BZGRyZXNzKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCBiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBQX1VSTCB8fCBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMFwiO1xuXHRcdFx0XHRjb25zdCB0cmF2ZWxSZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0XHRcdGAke2Jhc2VVcmx9L2FwaS90cmF2ZWwtdGltZT9kZXN0aW5hdGlvbj0ke2VuY29kZVVSSUNvbXBvbmVudChkZXN0aW5hdGlvbkFkZHJlc3MpfWAsXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0aGVhZGVyczoge1xuXHRcdFx0XHRcdFx0XHRDb29raWU6IGBzYi1hY2Nlc3MtdG9rZW49JHt1c2VyLmlkfWAsIC8vIFBhc3MgYXV0aCBjb250ZXh0XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0aWYgKHRyYXZlbFJlc3BvbnNlLm9rKSB7XG5cdFx0XHRcdFx0Y29uc3QgdHJhdmVsRGF0YSA9IGF3YWl0IHRyYXZlbFJlc3BvbnNlLmpzb24oKTtcblx0XHRcdFx0XHRpZiAodHJhdmVsRGF0YS5kdXJhdGlvblRleHQpIHtcblx0XHRcdFx0XHRcdG1lc3NhZ2UgKz0gYCBFc3RpbWF0ZWQgYXJyaXZhbDogJHt0cmF2ZWxEYXRhLmR1cmF0aW9uVGV4dH0uYDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHQvLyBUcmF2ZWwgdGltZSBmZXRjaCBmYWlsZWQgLSBjb250aW51ZSB3aXRob3V0IGl0XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0bWVzc2FnZSArPSBcIiBXZSdsbCBzZWUgeW91IHNvb24hXCI7XG5cblx0XHQvLyBTZW5kIHRoZSBTTVMgdmlhIFRlbG55eFxuXHRcdGNvbnN0IHsgc2VuZFNNUyB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvdGVsbnl4L21lc3NhZ2luZ1wiKTtcblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kU01TKHtcblx0XHRcdHRvOiBjdXN0b21lclBob25lLFxuXHRcdFx0ZnJvbTogdGVsbnl4U2V0dGluZ3MucGhvbmVfbnVtYmVyLFxuXHRcdFx0dGV4dDogbWVzc2FnZSxcblx0XHR9KTtcblxuXHRcdGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gc2VuZCBTTVNcIiB9O1xuXHRcdH1cblxuXHRcdC8vIFVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMgdG8gZGlzcGF0Y2hlZFxuXHRcdGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJkaXNwYXRjaGVkXCIsXG5cdFx0XHRcdGRpc3BhdGNoZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0bWVzc2FnZTogXCJPbiBNeSBXYXkgbm90aWZpY2F0aW9uIHNlbnQgc3VjY2Vzc2Z1bGx5XCIsXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gc2VuZCBPbiBNeSBXYXkgbm90aWZpY2F0aW9uXCIsXG5cdFx0fTtcblx0fVxufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJ3VEEwTnNCIn0=
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:95a531 [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"700f463a333f637198b74fa1dc1e44cbf8498ce5ff":"cancelJobAndAppointment"},"apps/web/src/actions/schedule-assignments.ts",""] */ __turbopack_context__.s([
    "cancelJobAndAppointment",
    ()=>cancelJobAndAppointment
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var cancelJobAndAppointment = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("700f463a333f637198b74fa1dc1e44cbf8498ce5ff", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "cancelJobAndAppointment"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vc2NoZWR1bGUtYXNzaWdubWVudHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc2VydmVyXCI7XG5cbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gXCJAL2xpYi9zdXBhYmFzZS9zZXJ2ZXJcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFzc2lnbkpvYlRvVGVjaG5pY2lhbihcblx0X2pvYklkOiBzdHJpbmcsXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0dGVjaG5pY2lhbklkOiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHQvLyBGaXJzdCBjaGVjayBpZiB0aGUgc2NoZWR1bGUgZXhpc3RzIGFuZCBnZXQgY3VycmVudCBhc3NpZ25tZW50XG5cdFx0Y29uc3QgeyBkYXRhOiBleGlzdGluZ1NjaGVkdWxlLCBlcnJvcjogY2hlY2tFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQuc2VsZWN0KFwiaWQsIGFzc2lnbmVkX3RvXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0aWYgKGNoZWNrRXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgU2NoZWR1bGUgY2hlY2sgZmFpbGVkOiAke2NoZWNrRXJyb3IubWVzc2FnZX1gKTtcblx0XHR9XG5cblx0XHRpZiAoIWV4aXN0aW5nU2NoZWR1bGUpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIlNjaGVkdWxlIG5vdCBmb3VuZFwiKTtcblx0XHR9XG5cblx0XHQvLyBVcGRhdGUgdGhlIHNjaGVkdWxlJ3MgYXNzaWduZWRfdG8gZmllbGRcblx0XHRjb25zdCB7IGRhdGE6IHVwZGF0ZWRTY2hlZHVsZSwgZXJyb3I6IHNjaGVkdWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7IGFzc2lnbmVkX3RvOiB0ZWNobmljaWFuSWQgfSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChzY2hlZHVsZUVycm9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYFNjaGVkdWxlIHVwZGF0ZSBmYWlsZWQ6ICR7c2NoZWR1bGVFcnJvci5tZXNzYWdlfWApO1xuXHRcdH1cblxuXHRcdC8vIERvbid0IHJldmFsaWRhdGUgaW1tZWRpYXRlbHkgLSBsZXQgdGhlIG9wdGltaXN0aWMgdXBkYXRlIHNob3dcblx0XHQvLyByZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvc2NoZWR1bGVcIik7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogdXBkYXRlZFNjaGVkdWxlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gYXNzaWduIGpvYlwiLFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUFwcG9pbnRtZW50VGltZXMoXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0c3RhcnRUaW1lOiBEYXRlLFxuXHRlbmRUaW1lOiBEYXRlLFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgZHVyYXRpb24gPSBNYXRoLnJvdW5kKFxuXHRcdFx0KGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSxcblx0XHQpO1xuXG5cdFx0Ly8gRm9ybWF0IGFzIGxvY2FsIGRhdGV0aW1lIHN0cmluZyBXSVRIT1VUIHRpbWV6b25lIGNvbnZlcnNpb25cblx0XHQvLyBHZXQgeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWludXRlIGZyb20gdGhlIERhdGUgb2JqZWN0IGRpcmVjdGx5XG5cdFx0Y29uc3QgZm9ybWF0TG9jYWxEYXRlVGltZSA9IChkYXRlOiBEYXRlKSA9PiB7XG5cdFx0XHRjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0Y29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBob3VyID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgbWludXRlID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBzZWNvbmQgPSBTdHJpbmcoZGF0ZS5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX0gJHtob3VyfToke21pbnV0ZX06JHtzZWNvbmR9YDtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3RhcnRTdHIgPSBmb3JtYXRMb2NhbERhdGVUaW1lKHN0YXJ0VGltZSk7XG5cdFx0Y29uc3QgZW5kU3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShlbmRUaW1lKTtcblxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXJ0X3RpbWU6IHN0YXJ0U3RyLFxuXHRcdFx0XHRlbmRfdGltZTogZW5kU3RyLFxuXHRcdFx0XHRkdXJhdGlvbixcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gRG9uJ3QgcmV2YWxpZGF0ZSBpbW1lZGlhdGVseSAtIGxldCB0aGUgb3B0aW1pc3RpYyB1cGRhdGUgc2hvd1xuXHRcdC8vIHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9zY2hlZHVsZVwiKTtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gdXBkYXRlIHRpbWVzXCIsXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2FuY2VsQXBwb2ludG1lbnQoc2NoZWR1bGVJZDogc3RyaW5nLCByZWFzb24/OiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gQ2FuY2VsIGFwcG9pbnRtZW50IC0gdW5zY2hlZHVsZSBpdCAocmVtb3ZlIGFzc2lnbmVkX3RvKVxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIixcblx0XHRcdFx0YXNzaWduZWRfdG86IG51bGwsIC8vIFVuYXNzaWduIHRlY2huaWNpYW5cblx0XHRcdFx0Y2FuY2VsbGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG5cdFx0XHRcdGNhbmNlbGxlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0Y2FuY2VsbGF0aW9uX3JlYXNvbjogcmVhc29uIHx8IG51bGwsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgc2NoZWR1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byBjYW5jZWwgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjYW5jZWxKb2JBbmRBcHBvaW50bWVudChcblx0c2NoZWR1bGVJZDogc3RyaW5nLFxuXHRqb2JJZDogc3RyaW5nLFxuXHRyZWFzb24/OiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG5cdFx0Ly8gQ2FuY2VsIHRoZSBhcHBvaW50bWVudFxuXHRcdGNvbnN0IHsgZXJyb3I6IHNjaGVkdWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIixcblx0XHRcdFx0YXNzaWduZWRfdG86IG51bGwsXG5cdFx0XHRcdGNhbmNlbGxlZF9hdDogbm93LFxuXHRcdFx0XHRjYW5jZWxsZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHRcdGNhbmNlbGxhdGlvbl9yZWFzb246IHJlYXNvbiB8fCBudWxsLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKHNjaGVkdWxlRXJyb3IpIHtcblx0XHRcdHRocm93IHNjaGVkdWxlRXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gQWxzbyBjYW5jZWwgdGhlIGpvYiBpZiBpdCBleGlzdHNcblx0XHRpZiAoam9iSWQpIHtcblx0XHRcdGNvbnN0IHsgZXJyb3I6IGpvYkVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0XHQuZnJvbShcImpvYnNcIilcblx0XHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdFx0c3RhdHVzOiBcImNhbmNlbGxlZFwiLFxuXHRcdFx0XHRcdGNhbmNlbGxlZF9hdDogbm93LFxuXHRcdFx0XHRcdGNhbmNlbGxlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0XHRjYW5jZWxsYXRpb25fcmVhc29uOiByZWFzb24gfHwgbnVsbCxcblx0XHRcdFx0fSlcblx0XHRcdFx0LmVxKFwiaWRcIiwgam9iSWQpO1xuXG5cdFx0XHRpZiAoam9iRXJyb3IpIHtcblx0XHRcdFx0dGhyb3cgam9iRXJyb3I7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byBjYW5jZWwgam9iIGFuZCBhcHBvaW50bWVudFwiLFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFyY2hpdmVBcHBvaW50bWVudChzY2hlZHVsZUlkOiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRhcmNoaXZlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIGFyY2hpdmUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb21wbGV0ZUFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG5cdGlmICghc3VwYWJhc2UpIHtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRGF0YWJhc2Ugbm90IGF2YWlsYWJsZVwiIH07XG5cdH1cblxuXHR0cnkge1xuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblxuXHRcdGlmICghdXNlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vdCBhdXRoZW50aWNhdGVkXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRzdGF0dXM6IFwiY29tcGxldGVkXCIsXG5cdFx0XHRcdGFjdHVhbF9lbmRfdGltZTogbm93LFxuXHRcdFx0XHRjb21wbGV0ZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgc2NoZWR1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gY29tcGxldGUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbnR5cGUgRGlzcGF0Y2hTdGF0dXMgPSBcImRpc3BhdGNoZWRcIiB8IFwiYXJyaXZlZFwiIHwgXCJjbG9zZWRcIjtcblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlU2NoZWR1bGVTdGF0dXMoXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0c3RhdHVzOiBEaXNwYXRjaFN0YXR1cyxcblx0ZXh0cmFVcGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9LFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblx0XHRjb25zdCB1cGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHtcblx0XHRcdHN0YXR1cyxcblx0XHRcdHVwZGF0ZWRfYXQ6IG5vdyxcblx0XHRcdC4uLmV4dHJhVXBkYXRlcyxcblx0XHR9O1xuXG5cdFx0aWYgKHN0YXR1cyA9PT0gXCJjbG9zZWRcIikge1xuXHRcdFx0dXBkYXRlcy5jb21wbGV0ZWRfYnkgPSB1c2VyLmlkO1xuXHRcdFx0dXBkYXRlcy5hY3R1YWxfZW5kX3RpbWUgPSB1cGRhdGVzLmFjdHVhbF9lbmRfdGltZSA/PyBub3c7XG5cdFx0fVxuXG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHVwZGF0ZXMpXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBgRmFpbGVkIHRvIHVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMgdG8gJHtzdGF0dXN9YCxcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkaXNwYXRjaEFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRyZXR1cm4gdXBkYXRlU2NoZWR1bGVTdGF0dXMoc2NoZWR1bGVJZCwgXCJkaXNwYXRjaGVkXCIpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXJyaXZlQXBwb2ludG1lbnQoc2NoZWR1bGVJZDogc3RyaW5nKSB7XG5cdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblx0cmV0dXJuIHVwZGF0ZVNjaGVkdWxlU3RhdHVzKHNjaGVkdWxlSWQsIFwiYXJyaXZlZFwiLCB7XG5cdFx0YWN0dWFsX3N0YXJ0X3RpbWU6IG5vdyxcblx0fSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbG9zZUFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cdHJldHVybiB1cGRhdGVTY2hlZHVsZVN0YXR1cyhzY2hlZHVsZUlkLCBcImNsb3NlZFwiLCB7XG5cdFx0YWN0dWFsX2VuZF90aW1lOiBub3csXG5cdH0pO1xufVxuXG4vKipcbiAqIE1vdmUgYW4gZXhpc3RpbmcgYXBwb2ludG1lbnQgdG8gYSBuZXcgdGVjaG5pY2lhbiBhbmQvb3IgdGltZSBzbG90XG4gKiBCYXRjaGVzIGJvdGggb3BlcmF0aW9ucyBpbiBhIHNpbmdsZSBkYXRhYmFzZSBjYWxsIGZvciBwZXJmb3JtYW5jZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbW92ZUFwcG9pbnRtZW50KFxuXHRzY2hlZHVsZUlkOiBzdHJpbmcsXG5cdHRlY2huaWNpYW5JZDogc3RyaW5nLFxuXHRzdGFydFRpbWU6IERhdGUsXG5cdGVuZFRpbWU6IERhdGUsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCBkdXJhdGlvbiA9IE1hdGgucm91bmQoXG5cdFx0XHQoZW5kVGltZS5nZXRUaW1lKCkgLSBzdGFydFRpbWUuZ2V0VGltZSgpKSAvICgxMDAwICogNjApLFxuXHRcdCk7XG5cblx0XHQvLyBGb3JtYXQgYXMgbG9jYWwgZGF0ZXRpbWUgc3RyaW5nIFdJVEhPVVQgdGltZXpvbmUgY29udmVyc2lvblxuXHRcdGNvbnN0IGZvcm1hdExvY2FsRGF0ZVRpbWUgPSAoZGF0ZTogRGF0ZSkgPT4ge1xuXHRcdFx0Y29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcblx0XHRcdGNvbnN0IG1vbnRoID0gU3RyaW5nKGRhdGUuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGNvbnN0IGRheSA9IFN0cmluZyhkYXRlLmdldERhdGUoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgaG91ciA9IFN0cmluZyhkYXRlLmdldEhvdXJzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGNvbnN0IG1pbnV0ZSA9IFN0cmluZyhkYXRlLmdldE1pbnV0ZXMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3Qgc2Vjb25kID0gU3RyaW5nKGRhdGUuZ2V0U2Vjb25kcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRyZXR1cm4gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9ICR7aG91cn06JHttaW51dGV9OiR7c2Vjb25kfWA7XG5cdFx0fTtcblxuXHRcdGNvbnN0IHN0YXJ0U3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShzdGFydFRpbWUpO1xuXHRcdGNvbnN0IGVuZFN0ciA9IGZvcm1hdExvY2FsRGF0ZVRpbWUoZW5kVGltZSk7XG5cblx0XHQvLyBTaW5nbGUgYXRvbWljIHVwZGF0ZSBmb3IgYm90aCBhc3NpZ25tZW50IGFuZCB0aW1lc1xuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdGFzc2lnbmVkX3RvOiB0ZWNobmljaWFuSWQsXG5cdFx0XHRcdHN0YXJ0X3RpbWU6IHN0YXJ0U3RyLFxuXHRcdFx0XHRlbmRfdGltZTogZW5kU3RyLFxuXHRcdFx0XHRkdXJhdGlvbixcblx0XHRcdFx0dXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiRmFpbGVkIHRvIG1vdmUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogQXNzaWduIGFuIHVuYXNzaWduZWQgam9iIHRvIGEgdGVjaG5pY2lhbiB3aXRoIGEgc3BlY2lmaWMgdGltZSBzbG90XG4gKiBVc2VkIHdoZW4gZHJhZ2dpbmcgZnJvbSB1bmFzc2lnbmVkIHBhbmVsIHRvIGEgdGVjaG5pY2lhbiBsYW5lXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhc3NpZ25OZXdBcHBvaW50bWVudChcblx0c2NoZWR1bGVJZDogc3RyaW5nLFxuXHR0ZWNobmljaWFuSWQ6IHN0cmluZyxcblx0c3RhcnRUaW1lOiBEYXRlLFxuXHRlbmRUaW1lOiBEYXRlLFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgZHVyYXRpb24gPSBNYXRoLnJvdW5kKFxuXHRcdFx0KGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSxcblx0XHQpO1xuXG5cdFx0Y29uc3QgZm9ybWF0TG9jYWxEYXRlVGltZSA9IChkYXRlOiBEYXRlKSA9PiB7XG5cdFx0XHRjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0Y29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBob3VyID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgbWludXRlID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBzZWNvbmQgPSBTdHJpbmcoZGF0ZS5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX0gJHtob3VyfToke21pbnV0ZX06JHtzZWNvbmR9YDtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3RhcnRTdHIgPSBmb3JtYXRMb2NhbERhdGVUaW1lKHN0YXJ0VGltZSk7XG5cdFx0Y29uc3QgZW5kU3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShlbmRUaW1lKTtcblxuXHRcdC8vIFNpbmdsZSBhdG9taWMgdXBkYXRlIGZvciBhc3NpZ25tZW50XG5cdFx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHtcblx0XHRcdFx0YXNzaWduZWRfdG86IHRlY2huaWNpYW5JZCxcblx0XHRcdFx0c3RhcnRfdGltZTogc3RhcnRTdHIsXG5cdFx0XHRcdGVuZF90aW1lOiBlbmRTdHIsXG5cdFx0XHRcdGR1cmF0aW9uLFxuXHRcdFx0XHRzdGF0dXM6IFwic2NoZWR1bGVkXCIsXG5cdFx0XHRcdHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKVxuXHRcdFx0LnNlbGVjdCgpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGEgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gYXNzaWduIGFwcG9pbnRtZW50XCIsXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdW5hc3NpZ25BcHBvaW50bWVudChzY2hlZHVsZUlkOiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRhc3NpZ25lZF90bzogbnVsbCxcblx0XHRcdFx0dXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIG1vdmUgYXBwb2ludG1lbnQgdG8gVW5zY2hlZHVsZWRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogU2VuZCBcIk9uIE15IFdheVwiIFNNUyBub3RpZmljYXRpb24gdG8gY3VzdG9tZXJcbiAqIEluY2x1ZGVzIHRlY2huaWNpYW4gbmFtZSBhbmQgZXN0aW1hdGVkIGFycml2YWwgdGltZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZE9uTXlXYXlOb3RpZmljYXRpb24oXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0dGVjaG5pY2lhbk5hbWU6IHN0cmluZyxcblx0Y3VzdG9tZXJQaG9uZTogc3RyaW5nLFxuXHRkZXN0aW5hdGlvbkFkZHJlc3M/OiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHQvLyBHZXQgdXNlciBhbmQgY29tcGFueSBpbmZvXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBjb21wYW55J3MgVGVsbnl4IHNldHRpbmdzIGZvciB0aGUgZnJvbSBudW1iZXJcblx0XHRjb25zdCB7IGRhdGE6IG1lbWJlcnNoaXAgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfbWVtYmVyc2hpcHNcIilcblx0XHRcdC5zZWxlY3QoXCJjb21wYW55X2lkXCIpXG5cdFx0XHQuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpXG5cdFx0XHQuZXEoXCJzdGF0dXNcIiwgXCJhY3RpdmVcIilcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghbWVtYmVyc2hpcD8uY29tcGFueV9pZCkge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIGFjdGl2ZSBjb21wYW55IG1lbWJlcnNoaXBcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IHsgZGF0YTogdGVsbnl4U2V0dGluZ3MgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfdGVsbnl4X3NldHRpbmdzXCIpXG5cdFx0XHQuc2VsZWN0KFwicGhvbmVfbnVtYmVyLCBzdGF0dXNcIilcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgbWVtYmVyc2hpcC5jb21wYW55X2lkKVxuXHRcdFx0LmVxKFwic3RhdHVzXCIsIFwicmVhZHlcIilcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghdGVsbnl4U2V0dGluZ3M/LnBob25lX251bWJlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIHBob25lIG51bWJlciBjb25maWd1cmVkIGZvciBTTVNcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBjb21wYW55IG5hbWUgZm9yIHRoZSBtZXNzYWdlXG5cdFx0Y29uc3QgeyBkYXRhOiBjb21wYW55IH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjb21wYW5pZXNcIilcblx0XHRcdC5zZWxlY3QoXCJuYW1lXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBtZW1iZXJzaGlwLmNvbXBhbnlfaWQpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHQvLyBCdWlsZCB0aGUgXCJPbiBNeSBXYXlcIiBtZXNzYWdlXG5cdFx0bGV0IG1lc3NhZ2UgPSBgSGkhICR7dGVjaG5pY2lhbk5hbWV9IGZyb20gJHtjb21wYW55Py5uYW1lIHx8IFwieW91ciBzZXJ2aWNlIHByb3ZpZGVyXCJ9IGlzIG9uIHRoZSB3YXkgdG8geW91ciBhcHBvaW50bWVudC5gO1xuXG5cdFx0Ly8gVHJ5IHRvIGdldCB0cmF2ZWwgdGltZSBlc3RpbWF0ZSBpZiB3ZSBoYXZlIGEgZGVzdGluYXRpb25cblx0XHRpZiAoZGVzdGluYXRpb25BZGRyZXNzKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCBiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBQX1VSTCB8fCBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMFwiO1xuXHRcdFx0XHRjb25zdCB0cmF2ZWxSZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0XHRcdGAke2Jhc2VVcmx9L2FwaS90cmF2ZWwtdGltZT9kZXN0aW5hdGlvbj0ke2VuY29kZVVSSUNvbXBvbmVudChkZXN0aW5hdGlvbkFkZHJlc3MpfWAsXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0aGVhZGVyczoge1xuXHRcdFx0XHRcdFx0XHRDb29raWU6IGBzYi1hY2Nlc3MtdG9rZW49JHt1c2VyLmlkfWAsIC8vIFBhc3MgYXV0aCBjb250ZXh0XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0aWYgKHRyYXZlbFJlc3BvbnNlLm9rKSB7XG5cdFx0XHRcdFx0Y29uc3QgdHJhdmVsRGF0YSA9IGF3YWl0IHRyYXZlbFJlc3BvbnNlLmpzb24oKTtcblx0XHRcdFx0XHRpZiAodHJhdmVsRGF0YS5kdXJhdGlvblRleHQpIHtcblx0XHRcdFx0XHRcdG1lc3NhZ2UgKz0gYCBFc3RpbWF0ZWQgYXJyaXZhbDogJHt0cmF2ZWxEYXRhLmR1cmF0aW9uVGV4dH0uYDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHQvLyBUcmF2ZWwgdGltZSBmZXRjaCBmYWlsZWQgLSBjb250aW51ZSB3aXRob3V0IGl0XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0bWVzc2FnZSArPSBcIiBXZSdsbCBzZWUgeW91IHNvb24hXCI7XG5cblx0XHQvLyBTZW5kIHRoZSBTTVMgdmlhIFRlbG55eFxuXHRcdGNvbnN0IHsgc2VuZFNNUyB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvdGVsbnl4L21lc3NhZ2luZ1wiKTtcblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kU01TKHtcblx0XHRcdHRvOiBjdXN0b21lclBob25lLFxuXHRcdFx0ZnJvbTogdGVsbnl4U2V0dGluZ3MucGhvbmVfbnVtYmVyLFxuXHRcdFx0dGV4dDogbWVzc2FnZSxcblx0XHR9KTtcblxuXHRcdGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gc2VuZCBTTVNcIiB9O1xuXHRcdH1cblxuXHRcdC8vIFVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMgdG8gZGlzcGF0Y2hlZFxuXHRcdGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJkaXNwYXRjaGVkXCIsXG5cdFx0XHRcdGRpc3BhdGNoZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0bWVzc2FnZTogXCJPbiBNeSBXYXkgbm90aWZpY2F0aW9uIHNlbnQgc3VjY2Vzc2Z1bGx5XCIsXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gc2VuZCBPbiBNeSBXYXkgbm90aWZpY2F0aW9uXCIsXG5cdFx0fTtcblx0fVxufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI2VEF1SnNCIn0=
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:4f33a2 [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"7801ac5aea367d1da5c49d91d55f438a37887718ea":"sendOnMyWayNotification"},"apps/web/src/actions/schedule-assignments.ts",""] */ __turbopack_context__.s([
    "sendOnMyWayNotification",
    ()=>sendOnMyWayNotification
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var sendOnMyWayNotification = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("7801ac5aea367d1da5c49d91d55f438a37887718ea", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "sendOnMyWayNotification"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vc2NoZWR1bGUtYXNzaWdubWVudHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc2VydmVyXCI7XG5cbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gXCJAL2xpYi9zdXBhYmFzZS9zZXJ2ZXJcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFzc2lnbkpvYlRvVGVjaG5pY2lhbihcblx0X2pvYklkOiBzdHJpbmcsXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0dGVjaG5pY2lhbklkOiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHQvLyBGaXJzdCBjaGVjayBpZiB0aGUgc2NoZWR1bGUgZXhpc3RzIGFuZCBnZXQgY3VycmVudCBhc3NpZ25tZW50XG5cdFx0Y29uc3QgeyBkYXRhOiBleGlzdGluZ1NjaGVkdWxlLCBlcnJvcjogY2hlY2tFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQuc2VsZWN0KFwiaWQsIGFzc2lnbmVkX3RvXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0aWYgKGNoZWNrRXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgU2NoZWR1bGUgY2hlY2sgZmFpbGVkOiAke2NoZWNrRXJyb3IubWVzc2FnZX1gKTtcblx0XHR9XG5cblx0XHRpZiAoIWV4aXN0aW5nU2NoZWR1bGUpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIlNjaGVkdWxlIG5vdCBmb3VuZFwiKTtcblx0XHR9XG5cblx0XHQvLyBVcGRhdGUgdGhlIHNjaGVkdWxlJ3MgYXNzaWduZWRfdG8gZmllbGRcblx0XHRjb25zdCB7IGRhdGE6IHVwZGF0ZWRTY2hlZHVsZSwgZXJyb3I6IHNjaGVkdWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7IGFzc2lnbmVkX3RvOiB0ZWNobmljaWFuSWQgfSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChzY2hlZHVsZUVycm9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYFNjaGVkdWxlIHVwZGF0ZSBmYWlsZWQ6ICR7c2NoZWR1bGVFcnJvci5tZXNzYWdlfWApO1xuXHRcdH1cblxuXHRcdC8vIERvbid0IHJldmFsaWRhdGUgaW1tZWRpYXRlbHkgLSBsZXQgdGhlIG9wdGltaXN0aWMgdXBkYXRlIHNob3dcblx0XHQvLyByZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvc2NoZWR1bGVcIik7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogdXBkYXRlZFNjaGVkdWxlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gYXNzaWduIGpvYlwiLFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUFwcG9pbnRtZW50VGltZXMoXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0c3RhcnRUaW1lOiBEYXRlLFxuXHRlbmRUaW1lOiBEYXRlLFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgZHVyYXRpb24gPSBNYXRoLnJvdW5kKFxuXHRcdFx0KGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSxcblx0XHQpO1xuXG5cdFx0Ly8gRm9ybWF0IGFzIGxvY2FsIGRhdGV0aW1lIHN0cmluZyBXSVRIT1VUIHRpbWV6b25lIGNvbnZlcnNpb25cblx0XHQvLyBHZXQgeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWludXRlIGZyb20gdGhlIERhdGUgb2JqZWN0IGRpcmVjdGx5XG5cdFx0Y29uc3QgZm9ybWF0TG9jYWxEYXRlVGltZSA9IChkYXRlOiBEYXRlKSA9PiB7XG5cdFx0XHRjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0Y29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBob3VyID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgbWludXRlID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBzZWNvbmQgPSBTdHJpbmcoZGF0ZS5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX0gJHtob3VyfToke21pbnV0ZX06JHtzZWNvbmR9YDtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3RhcnRTdHIgPSBmb3JtYXRMb2NhbERhdGVUaW1lKHN0YXJ0VGltZSk7XG5cdFx0Y29uc3QgZW5kU3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShlbmRUaW1lKTtcblxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXJ0X3RpbWU6IHN0YXJ0U3RyLFxuXHRcdFx0XHRlbmRfdGltZTogZW5kU3RyLFxuXHRcdFx0XHRkdXJhdGlvbixcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gRG9uJ3QgcmV2YWxpZGF0ZSBpbW1lZGlhdGVseSAtIGxldCB0aGUgb3B0aW1pc3RpYyB1cGRhdGUgc2hvd1xuXHRcdC8vIHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9zY2hlZHVsZVwiKTtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gdXBkYXRlIHRpbWVzXCIsXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2FuY2VsQXBwb2ludG1lbnQoc2NoZWR1bGVJZDogc3RyaW5nLCByZWFzb24/OiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gQ2FuY2VsIGFwcG9pbnRtZW50IC0gdW5zY2hlZHVsZSBpdCAocmVtb3ZlIGFzc2lnbmVkX3RvKVxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIixcblx0XHRcdFx0YXNzaWduZWRfdG86IG51bGwsIC8vIFVuYXNzaWduIHRlY2huaWNpYW5cblx0XHRcdFx0Y2FuY2VsbGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG5cdFx0XHRcdGNhbmNlbGxlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0Y2FuY2VsbGF0aW9uX3JlYXNvbjogcmVhc29uIHx8IG51bGwsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgc2NoZWR1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byBjYW5jZWwgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjYW5jZWxKb2JBbmRBcHBvaW50bWVudChcblx0c2NoZWR1bGVJZDogc3RyaW5nLFxuXHRqb2JJZDogc3RyaW5nLFxuXHRyZWFzb24/OiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG5cdFx0Ly8gQ2FuY2VsIHRoZSBhcHBvaW50bWVudFxuXHRcdGNvbnN0IHsgZXJyb3I6IHNjaGVkdWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIixcblx0XHRcdFx0YXNzaWduZWRfdG86IG51bGwsXG5cdFx0XHRcdGNhbmNlbGxlZF9hdDogbm93LFxuXHRcdFx0XHRjYW5jZWxsZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHRcdGNhbmNlbGxhdGlvbl9yZWFzb246IHJlYXNvbiB8fCBudWxsLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKHNjaGVkdWxlRXJyb3IpIHtcblx0XHRcdHRocm93IHNjaGVkdWxlRXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gQWxzbyBjYW5jZWwgdGhlIGpvYiBpZiBpdCBleGlzdHNcblx0XHRpZiAoam9iSWQpIHtcblx0XHRcdGNvbnN0IHsgZXJyb3I6IGpvYkVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0XHQuZnJvbShcImpvYnNcIilcblx0XHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdFx0c3RhdHVzOiBcImNhbmNlbGxlZFwiLFxuXHRcdFx0XHRcdGNhbmNlbGxlZF9hdDogbm93LFxuXHRcdFx0XHRcdGNhbmNlbGxlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0XHRjYW5jZWxsYXRpb25fcmVhc29uOiByZWFzb24gfHwgbnVsbCxcblx0XHRcdFx0fSlcblx0XHRcdFx0LmVxKFwiaWRcIiwgam9iSWQpO1xuXG5cdFx0XHRpZiAoam9iRXJyb3IpIHtcblx0XHRcdFx0dGhyb3cgam9iRXJyb3I7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byBjYW5jZWwgam9iIGFuZCBhcHBvaW50bWVudFwiLFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFyY2hpdmVBcHBvaW50bWVudChzY2hlZHVsZUlkOiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRhcmNoaXZlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIGFyY2hpdmUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb21wbGV0ZUFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG5cdGlmICghc3VwYWJhc2UpIHtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRGF0YWJhc2Ugbm90IGF2YWlsYWJsZVwiIH07XG5cdH1cblxuXHR0cnkge1xuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblxuXHRcdGlmICghdXNlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vdCBhdXRoZW50aWNhdGVkXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRzdGF0dXM6IFwiY29tcGxldGVkXCIsXG5cdFx0XHRcdGFjdHVhbF9lbmRfdGltZTogbm93LFxuXHRcdFx0XHRjb21wbGV0ZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgc2NoZWR1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gY29tcGxldGUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbnR5cGUgRGlzcGF0Y2hTdGF0dXMgPSBcImRpc3BhdGNoZWRcIiB8IFwiYXJyaXZlZFwiIHwgXCJjbG9zZWRcIjtcblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlU2NoZWR1bGVTdGF0dXMoXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0c3RhdHVzOiBEaXNwYXRjaFN0YXR1cyxcblx0ZXh0cmFVcGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9LFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblx0XHRjb25zdCB1cGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHtcblx0XHRcdHN0YXR1cyxcblx0XHRcdHVwZGF0ZWRfYXQ6IG5vdyxcblx0XHRcdC4uLmV4dHJhVXBkYXRlcyxcblx0XHR9O1xuXG5cdFx0aWYgKHN0YXR1cyA9PT0gXCJjbG9zZWRcIikge1xuXHRcdFx0dXBkYXRlcy5jb21wbGV0ZWRfYnkgPSB1c2VyLmlkO1xuXHRcdFx0dXBkYXRlcy5hY3R1YWxfZW5kX3RpbWUgPSB1cGRhdGVzLmFjdHVhbF9lbmRfdGltZSA/PyBub3c7XG5cdFx0fVxuXG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHVwZGF0ZXMpXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBgRmFpbGVkIHRvIHVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMgdG8gJHtzdGF0dXN9YCxcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkaXNwYXRjaEFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRyZXR1cm4gdXBkYXRlU2NoZWR1bGVTdGF0dXMoc2NoZWR1bGVJZCwgXCJkaXNwYXRjaGVkXCIpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXJyaXZlQXBwb2ludG1lbnQoc2NoZWR1bGVJZDogc3RyaW5nKSB7XG5cdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblx0cmV0dXJuIHVwZGF0ZVNjaGVkdWxlU3RhdHVzKHNjaGVkdWxlSWQsIFwiYXJyaXZlZFwiLCB7XG5cdFx0YWN0dWFsX3N0YXJ0X3RpbWU6IG5vdyxcblx0fSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbG9zZUFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cdHJldHVybiB1cGRhdGVTY2hlZHVsZVN0YXR1cyhzY2hlZHVsZUlkLCBcImNsb3NlZFwiLCB7XG5cdFx0YWN0dWFsX2VuZF90aW1lOiBub3csXG5cdH0pO1xufVxuXG4vKipcbiAqIE1vdmUgYW4gZXhpc3RpbmcgYXBwb2ludG1lbnQgdG8gYSBuZXcgdGVjaG5pY2lhbiBhbmQvb3IgdGltZSBzbG90XG4gKiBCYXRjaGVzIGJvdGggb3BlcmF0aW9ucyBpbiBhIHNpbmdsZSBkYXRhYmFzZSBjYWxsIGZvciBwZXJmb3JtYW5jZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbW92ZUFwcG9pbnRtZW50KFxuXHRzY2hlZHVsZUlkOiBzdHJpbmcsXG5cdHRlY2huaWNpYW5JZDogc3RyaW5nLFxuXHRzdGFydFRpbWU6IERhdGUsXG5cdGVuZFRpbWU6IERhdGUsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCBkdXJhdGlvbiA9IE1hdGgucm91bmQoXG5cdFx0XHQoZW5kVGltZS5nZXRUaW1lKCkgLSBzdGFydFRpbWUuZ2V0VGltZSgpKSAvICgxMDAwICogNjApLFxuXHRcdCk7XG5cblx0XHQvLyBGb3JtYXQgYXMgbG9jYWwgZGF0ZXRpbWUgc3RyaW5nIFdJVEhPVVQgdGltZXpvbmUgY29udmVyc2lvblxuXHRcdGNvbnN0IGZvcm1hdExvY2FsRGF0ZVRpbWUgPSAoZGF0ZTogRGF0ZSkgPT4ge1xuXHRcdFx0Y29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcblx0XHRcdGNvbnN0IG1vbnRoID0gU3RyaW5nKGRhdGUuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGNvbnN0IGRheSA9IFN0cmluZyhkYXRlLmdldERhdGUoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgaG91ciA9IFN0cmluZyhkYXRlLmdldEhvdXJzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGNvbnN0IG1pbnV0ZSA9IFN0cmluZyhkYXRlLmdldE1pbnV0ZXMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3Qgc2Vjb25kID0gU3RyaW5nKGRhdGUuZ2V0U2Vjb25kcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRyZXR1cm4gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9ICR7aG91cn06JHttaW51dGV9OiR7c2Vjb25kfWA7XG5cdFx0fTtcblxuXHRcdGNvbnN0IHN0YXJ0U3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShzdGFydFRpbWUpO1xuXHRcdGNvbnN0IGVuZFN0ciA9IGZvcm1hdExvY2FsRGF0ZVRpbWUoZW5kVGltZSk7XG5cblx0XHQvLyBTaW5nbGUgYXRvbWljIHVwZGF0ZSBmb3IgYm90aCBhc3NpZ25tZW50IGFuZCB0aW1lc1xuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdGFzc2lnbmVkX3RvOiB0ZWNobmljaWFuSWQsXG5cdFx0XHRcdHN0YXJ0X3RpbWU6IHN0YXJ0U3RyLFxuXHRcdFx0XHRlbmRfdGltZTogZW5kU3RyLFxuXHRcdFx0XHRkdXJhdGlvbixcblx0XHRcdFx0dXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiRmFpbGVkIHRvIG1vdmUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogQXNzaWduIGFuIHVuYXNzaWduZWQgam9iIHRvIGEgdGVjaG5pY2lhbiB3aXRoIGEgc3BlY2lmaWMgdGltZSBzbG90XG4gKiBVc2VkIHdoZW4gZHJhZ2dpbmcgZnJvbSB1bmFzc2lnbmVkIHBhbmVsIHRvIGEgdGVjaG5pY2lhbiBsYW5lXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhc3NpZ25OZXdBcHBvaW50bWVudChcblx0c2NoZWR1bGVJZDogc3RyaW5nLFxuXHR0ZWNobmljaWFuSWQ6IHN0cmluZyxcblx0c3RhcnRUaW1lOiBEYXRlLFxuXHRlbmRUaW1lOiBEYXRlLFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgZHVyYXRpb24gPSBNYXRoLnJvdW5kKFxuXHRcdFx0KGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSxcblx0XHQpO1xuXG5cdFx0Y29uc3QgZm9ybWF0TG9jYWxEYXRlVGltZSA9IChkYXRlOiBEYXRlKSA9PiB7XG5cdFx0XHRjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0Y29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBob3VyID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgbWludXRlID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBzZWNvbmQgPSBTdHJpbmcoZGF0ZS5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX0gJHtob3VyfToke21pbnV0ZX06JHtzZWNvbmR9YDtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3RhcnRTdHIgPSBmb3JtYXRMb2NhbERhdGVUaW1lKHN0YXJ0VGltZSk7XG5cdFx0Y29uc3QgZW5kU3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShlbmRUaW1lKTtcblxuXHRcdC8vIFNpbmdsZSBhdG9taWMgdXBkYXRlIGZvciBhc3NpZ25tZW50XG5cdFx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHtcblx0XHRcdFx0YXNzaWduZWRfdG86IHRlY2huaWNpYW5JZCxcblx0XHRcdFx0c3RhcnRfdGltZTogc3RhcnRTdHIsXG5cdFx0XHRcdGVuZF90aW1lOiBlbmRTdHIsXG5cdFx0XHRcdGR1cmF0aW9uLFxuXHRcdFx0XHRzdGF0dXM6IFwic2NoZWR1bGVkXCIsXG5cdFx0XHRcdHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKVxuXHRcdFx0LnNlbGVjdCgpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGEgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gYXNzaWduIGFwcG9pbnRtZW50XCIsXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdW5hc3NpZ25BcHBvaW50bWVudChzY2hlZHVsZUlkOiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRhc3NpZ25lZF90bzogbnVsbCxcblx0XHRcdFx0dXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIG1vdmUgYXBwb2ludG1lbnQgdG8gVW5zY2hlZHVsZWRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogU2VuZCBcIk9uIE15IFdheVwiIFNNUyBub3RpZmljYXRpb24gdG8gY3VzdG9tZXJcbiAqIEluY2x1ZGVzIHRlY2huaWNpYW4gbmFtZSBhbmQgZXN0aW1hdGVkIGFycml2YWwgdGltZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZE9uTXlXYXlOb3RpZmljYXRpb24oXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0dGVjaG5pY2lhbk5hbWU6IHN0cmluZyxcblx0Y3VzdG9tZXJQaG9uZTogc3RyaW5nLFxuXHRkZXN0aW5hdGlvbkFkZHJlc3M/OiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHQvLyBHZXQgdXNlciBhbmQgY29tcGFueSBpbmZvXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBjb21wYW55J3MgVGVsbnl4IHNldHRpbmdzIGZvciB0aGUgZnJvbSBudW1iZXJcblx0XHRjb25zdCB7IGRhdGE6IG1lbWJlcnNoaXAgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfbWVtYmVyc2hpcHNcIilcblx0XHRcdC5zZWxlY3QoXCJjb21wYW55X2lkXCIpXG5cdFx0XHQuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpXG5cdFx0XHQuZXEoXCJzdGF0dXNcIiwgXCJhY3RpdmVcIilcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghbWVtYmVyc2hpcD8uY29tcGFueV9pZCkge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIGFjdGl2ZSBjb21wYW55IG1lbWJlcnNoaXBcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IHsgZGF0YTogdGVsbnl4U2V0dGluZ3MgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfdGVsbnl4X3NldHRpbmdzXCIpXG5cdFx0XHQuc2VsZWN0KFwicGhvbmVfbnVtYmVyLCBzdGF0dXNcIilcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgbWVtYmVyc2hpcC5jb21wYW55X2lkKVxuXHRcdFx0LmVxKFwic3RhdHVzXCIsIFwicmVhZHlcIilcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghdGVsbnl4U2V0dGluZ3M/LnBob25lX251bWJlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIHBob25lIG51bWJlciBjb25maWd1cmVkIGZvciBTTVNcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBjb21wYW55IG5hbWUgZm9yIHRoZSBtZXNzYWdlXG5cdFx0Y29uc3QgeyBkYXRhOiBjb21wYW55IH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjb21wYW5pZXNcIilcblx0XHRcdC5zZWxlY3QoXCJuYW1lXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBtZW1iZXJzaGlwLmNvbXBhbnlfaWQpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHQvLyBCdWlsZCB0aGUgXCJPbiBNeSBXYXlcIiBtZXNzYWdlXG5cdFx0bGV0IG1lc3NhZ2UgPSBgSGkhICR7dGVjaG5pY2lhbk5hbWV9IGZyb20gJHtjb21wYW55Py5uYW1lIHx8IFwieW91ciBzZXJ2aWNlIHByb3ZpZGVyXCJ9IGlzIG9uIHRoZSB3YXkgdG8geW91ciBhcHBvaW50bWVudC5gO1xuXG5cdFx0Ly8gVHJ5IHRvIGdldCB0cmF2ZWwgdGltZSBlc3RpbWF0ZSBpZiB3ZSBoYXZlIGEgZGVzdGluYXRpb25cblx0XHRpZiAoZGVzdGluYXRpb25BZGRyZXNzKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCBiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBQX1VSTCB8fCBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMFwiO1xuXHRcdFx0XHRjb25zdCB0cmF2ZWxSZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0XHRcdGAke2Jhc2VVcmx9L2FwaS90cmF2ZWwtdGltZT9kZXN0aW5hdGlvbj0ke2VuY29kZVVSSUNvbXBvbmVudChkZXN0aW5hdGlvbkFkZHJlc3MpfWAsXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0aGVhZGVyczoge1xuXHRcdFx0XHRcdFx0XHRDb29raWU6IGBzYi1hY2Nlc3MtdG9rZW49JHt1c2VyLmlkfWAsIC8vIFBhc3MgYXV0aCBjb250ZXh0XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0aWYgKHRyYXZlbFJlc3BvbnNlLm9rKSB7XG5cdFx0XHRcdFx0Y29uc3QgdHJhdmVsRGF0YSA9IGF3YWl0IHRyYXZlbFJlc3BvbnNlLmpzb24oKTtcblx0XHRcdFx0XHRpZiAodHJhdmVsRGF0YS5kdXJhdGlvblRleHQpIHtcblx0XHRcdFx0XHRcdG1lc3NhZ2UgKz0gYCBFc3RpbWF0ZWQgYXJyaXZhbDogJHt0cmF2ZWxEYXRhLmR1cmF0aW9uVGV4dH0uYDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHQvLyBUcmF2ZWwgdGltZSBmZXRjaCBmYWlsZWQgLSBjb250aW51ZSB3aXRob3V0IGl0XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0bWVzc2FnZSArPSBcIiBXZSdsbCBzZWUgeW91IHNvb24hXCI7XG5cblx0XHQvLyBTZW5kIHRoZSBTTVMgdmlhIFRlbG55eFxuXHRcdGNvbnN0IHsgc2VuZFNNUyB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvdGVsbnl4L21lc3NhZ2luZ1wiKTtcblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kU01TKHtcblx0XHRcdHRvOiBjdXN0b21lclBob25lLFxuXHRcdFx0ZnJvbTogdGVsbnl4U2V0dGluZ3MucGhvbmVfbnVtYmVyLFxuXHRcdFx0dGV4dDogbWVzc2FnZSxcblx0XHR9KTtcblxuXHRcdGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gc2VuZCBTTVNcIiB9O1xuXHRcdH1cblxuXHRcdC8vIFVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMgdG8gZGlzcGF0Y2hlZFxuXHRcdGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJkaXNwYXRjaGVkXCIsXG5cdFx0XHRcdGRpc3BhdGNoZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0bWVzc2FnZTogXCJPbiBNeSBXYXkgbm90aWZpY2F0aW9uIHNlbnQgc3VjY2Vzc2Z1bGx5XCIsXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gc2VuZCBPbiBNeSBXYXkgbm90aWZpY2F0aW9uXCIsXG5cdFx0fTtcblx0fVxufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI2VEFpaEJzQiJ9
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:ddf154 [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"4015a7cdb65e79d03132ce791ef81d9a76c1c91602":"unassignAppointment"},"apps/web/src/actions/schedule-assignments.ts",""] */ __turbopack_context__.s([
    "unassignAppointment",
    ()=>unassignAppointment
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var unassignAppointment = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("4015a7cdb65e79d03132ce791ef81d9a76c1c91602", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "unassignAppointment"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vc2NoZWR1bGUtYXNzaWdubWVudHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc2VydmVyXCI7XG5cbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gXCJAL2xpYi9zdXBhYmFzZS9zZXJ2ZXJcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFzc2lnbkpvYlRvVGVjaG5pY2lhbihcblx0X2pvYklkOiBzdHJpbmcsXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0dGVjaG5pY2lhbklkOiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHQvLyBGaXJzdCBjaGVjayBpZiB0aGUgc2NoZWR1bGUgZXhpc3RzIGFuZCBnZXQgY3VycmVudCBhc3NpZ25tZW50XG5cdFx0Y29uc3QgeyBkYXRhOiBleGlzdGluZ1NjaGVkdWxlLCBlcnJvcjogY2hlY2tFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQuc2VsZWN0KFwiaWQsIGFzc2lnbmVkX3RvXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0aWYgKGNoZWNrRXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgU2NoZWR1bGUgY2hlY2sgZmFpbGVkOiAke2NoZWNrRXJyb3IubWVzc2FnZX1gKTtcblx0XHR9XG5cblx0XHRpZiAoIWV4aXN0aW5nU2NoZWR1bGUpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIlNjaGVkdWxlIG5vdCBmb3VuZFwiKTtcblx0XHR9XG5cblx0XHQvLyBVcGRhdGUgdGhlIHNjaGVkdWxlJ3MgYXNzaWduZWRfdG8gZmllbGRcblx0XHRjb25zdCB7IGRhdGE6IHVwZGF0ZWRTY2hlZHVsZSwgZXJyb3I6IHNjaGVkdWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7IGFzc2lnbmVkX3RvOiB0ZWNobmljaWFuSWQgfSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChzY2hlZHVsZUVycm9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYFNjaGVkdWxlIHVwZGF0ZSBmYWlsZWQ6ICR7c2NoZWR1bGVFcnJvci5tZXNzYWdlfWApO1xuXHRcdH1cblxuXHRcdC8vIERvbid0IHJldmFsaWRhdGUgaW1tZWRpYXRlbHkgLSBsZXQgdGhlIG9wdGltaXN0aWMgdXBkYXRlIHNob3dcblx0XHQvLyByZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvc2NoZWR1bGVcIik7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogdXBkYXRlZFNjaGVkdWxlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gYXNzaWduIGpvYlwiLFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUFwcG9pbnRtZW50VGltZXMoXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0c3RhcnRUaW1lOiBEYXRlLFxuXHRlbmRUaW1lOiBEYXRlLFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgZHVyYXRpb24gPSBNYXRoLnJvdW5kKFxuXHRcdFx0KGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSxcblx0XHQpO1xuXG5cdFx0Ly8gRm9ybWF0IGFzIGxvY2FsIGRhdGV0aW1lIHN0cmluZyBXSVRIT1VUIHRpbWV6b25lIGNvbnZlcnNpb25cblx0XHQvLyBHZXQgeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWludXRlIGZyb20gdGhlIERhdGUgb2JqZWN0IGRpcmVjdGx5XG5cdFx0Y29uc3QgZm9ybWF0TG9jYWxEYXRlVGltZSA9IChkYXRlOiBEYXRlKSA9PiB7XG5cdFx0XHRjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0Y29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBob3VyID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgbWludXRlID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBzZWNvbmQgPSBTdHJpbmcoZGF0ZS5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX0gJHtob3VyfToke21pbnV0ZX06JHtzZWNvbmR9YDtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3RhcnRTdHIgPSBmb3JtYXRMb2NhbERhdGVUaW1lKHN0YXJ0VGltZSk7XG5cdFx0Y29uc3QgZW5kU3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShlbmRUaW1lKTtcblxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXJ0X3RpbWU6IHN0YXJ0U3RyLFxuXHRcdFx0XHRlbmRfdGltZTogZW5kU3RyLFxuXHRcdFx0XHRkdXJhdGlvbixcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gRG9uJ3QgcmV2YWxpZGF0ZSBpbW1lZGlhdGVseSAtIGxldCB0aGUgb3B0aW1pc3RpYyB1cGRhdGUgc2hvd1xuXHRcdC8vIHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9zY2hlZHVsZVwiKTtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gdXBkYXRlIHRpbWVzXCIsXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2FuY2VsQXBwb2ludG1lbnQoc2NoZWR1bGVJZDogc3RyaW5nLCByZWFzb24/OiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gQ2FuY2VsIGFwcG9pbnRtZW50IC0gdW5zY2hlZHVsZSBpdCAocmVtb3ZlIGFzc2lnbmVkX3RvKVxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIixcblx0XHRcdFx0YXNzaWduZWRfdG86IG51bGwsIC8vIFVuYXNzaWduIHRlY2huaWNpYW5cblx0XHRcdFx0Y2FuY2VsbGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG5cdFx0XHRcdGNhbmNlbGxlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0Y2FuY2VsbGF0aW9uX3JlYXNvbjogcmVhc29uIHx8IG51bGwsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgc2NoZWR1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byBjYW5jZWwgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjYW5jZWxKb2JBbmRBcHBvaW50bWVudChcblx0c2NoZWR1bGVJZDogc3RyaW5nLFxuXHRqb2JJZDogc3RyaW5nLFxuXHRyZWFzb24/OiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG5cdFx0Ly8gQ2FuY2VsIHRoZSBhcHBvaW50bWVudFxuXHRcdGNvbnN0IHsgZXJyb3I6IHNjaGVkdWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIixcblx0XHRcdFx0YXNzaWduZWRfdG86IG51bGwsXG5cdFx0XHRcdGNhbmNlbGxlZF9hdDogbm93LFxuXHRcdFx0XHRjYW5jZWxsZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHRcdGNhbmNlbGxhdGlvbl9yZWFzb246IHJlYXNvbiB8fCBudWxsLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKHNjaGVkdWxlRXJyb3IpIHtcblx0XHRcdHRocm93IHNjaGVkdWxlRXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gQWxzbyBjYW5jZWwgdGhlIGpvYiBpZiBpdCBleGlzdHNcblx0XHRpZiAoam9iSWQpIHtcblx0XHRcdGNvbnN0IHsgZXJyb3I6IGpvYkVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0XHQuZnJvbShcImpvYnNcIilcblx0XHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdFx0c3RhdHVzOiBcImNhbmNlbGxlZFwiLFxuXHRcdFx0XHRcdGNhbmNlbGxlZF9hdDogbm93LFxuXHRcdFx0XHRcdGNhbmNlbGxlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0XHRjYW5jZWxsYXRpb25fcmVhc29uOiByZWFzb24gfHwgbnVsbCxcblx0XHRcdFx0fSlcblx0XHRcdFx0LmVxKFwiaWRcIiwgam9iSWQpO1xuXG5cdFx0XHRpZiAoam9iRXJyb3IpIHtcblx0XHRcdFx0dGhyb3cgam9iRXJyb3I7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byBjYW5jZWwgam9iIGFuZCBhcHBvaW50bWVudFwiLFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFyY2hpdmVBcHBvaW50bWVudChzY2hlZHVsZUlkOiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRhcmNoaXZlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIGFyY2hpdmUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb21wbGV0ZUFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG5cdGlmICghc3VwYWJhc2UpIHtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRGF0YWJhc2Ugbm90IGF2YWlsYWJsZVwiIH07XG5cdH1cblxuXHR0cnkge1xuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblxuXHRcdGlmICghdXNlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vdCBhdXRoZW50aWNhdGVkXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRzdGF0dXM6IFwiY29tcGxldGVkXCIsXG5cdFx0XHRcdGFjdHVhbF9lbmRfdGltZTogbm93LFxuXHRcdFx0XHRjb21wbGV0ZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgc2NoZWR1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gY29tcGxldGUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbnR5cGUgRGlzcGF0Y2hTdGF0dXMgPSBcImRpc3BhdGNoZWRcIiB8IFwiYXJyaXZlZFwiIHwgXCJjbG9zZWRcIjtcblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlU2NoZWR1bGVTdGF0dXMoXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0c3RhdHVzOiBEaXNwYXRjaFN0YXR1cyxcblx0ZXh0cmFVcGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9LFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblx0XHRjb25zdCB1cGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHtcblx0XHRcdHN0YXR1cyxcblx0XHRcdHVwZGF0ZWRfYXQ6IG5vdyxcblx0XHRcdC4uLmV4dHJhVXBkYXRlcyxcblx0XHR9O1xuXG5cdFx0aWYgKHN0YXR1cyA9PT0gXCJjbG9zZWRcIikge1xuXHRcdFx0dXBkYXRlcy5jb21wbGV0ZWRfYnkgPSB1c2VyLmlkO1xuXHRcdFx0dXBkYXRlcy5hY3R1YWxfZW5kX3RpbWUgPSB1cGRhdGVzLmFjdHVhbF9lbmRfdGltZSA/PyBub3c7XG5cdFx0fVxuXG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHVwZGF0ZXMpXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBgRmFpbGVkIHRvIHVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMgdG8gJHtzdGF0dXN9YCxcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkaXNwYXRjaEFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRyZXR1cm4gdXBkYXRlU2NoZWR1bGVTdGF0dXMoc2NoZWR1bGVJZCwgXCJkaXNwYXRjaGVkXCIpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXJyaXZlQXBwb2ludG1lbnQoc2NoZWR1bGVJZDogc3RyaW5nKSB7XG5cdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblx0cmV0dXJuIHVwZGF0ZVNjaGVkdWxlU3RhdHVzKHNjaGVkdWxlSWQsIFwiYXJyaXZlZFwiLCB7XG5cdFx0YWN0dWFsX3N0YXJ0X3RpbWU6IG5vdyxcblx0fSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbG9zZUFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cdHJldHVybiB1cGRhdGVTY2hlZHVsZVN0YXR1cyhzY2hlZHVsZUlkLCBcImNsb3NlZFwiLCB7XG5cdFx0YWN0dWFsX2VuZF90aW1lOiBub3csXG5cdH0pO1xufVxuXG4vKipcbiAqIE1vdmUgYW4gZXhpc3RpbmcgYXBwb2ludG1lbnQgdG8gYSBuZXcgdGVjaG5pY2lhbiBhbmQvb3IgdGltZSBzbG90XG4gKiBCYXRjaGVzIGJvdGggb3BlcmF0aW9ucyBpbiBhIHNpbmdsZSBkYXRhYmFzZSBjYWxsIGZvciBwZXJmb3JtYW5jZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbW92ZUFwcG9pbnRtZW50KFxuXHRzY2hlZHVsZUlkOiBzdHJpbmcsXG5cdHRlY2huaWNpYW5JZDogc3RyaW5nLFxuXHRzdGFydFRpbWU6IERhdGUsXG5cdGVuZFRpbWU6IERhdGUsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCBkdXJhdGlvbiA9IE1hdGgucm91bmQoXG5cdFx0XHQoZW5kVGltZS5nZXRUaW1lKCkgLSBzdGFydFRpbWUuZ2V0VGltZSgpKSAvICgxMDAwICogNjApLFxuXHRcdCk7XG5cblx0XHQvLyBGb3JtYXQgYXMgbG9jYWwgZGF0ZXRpbWUgc3RyaW5nIFdJVEhPVVQgdGltZXpvbmUgY29udmVyc2lvblxuXHRcdGNvbnN0IGZvcm1hdExvY2FsRGF0ZVRpbWUgPSAoZGF0ZTogRGF0ZSkgPT4ge1xuXHRcdFx0Y29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcblx0XHRcdGNvbnN0IG1vbnRoID0gU3RyaW5nKGRhdGUuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGNvbnN0IGRheSA9IFN0cmluZyhkYXRlLmdldERhdGUoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgaG91ciA9IFN0cmluZyhkYXRlLmdldEhvdXJzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGNvbnN0IG1pbnV0ZSA9IFN0cmluZyhkYXRlLmdldE1pbnV0ZXMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3Qgc2Vjb25kID0gU3RyaW5nKGRhdGUuZ2V0U2Vjb25kcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRyZXR1cm4gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9ICR7aG91cn06JHttaW51dGV9OiR7c2Vjb25kfWA7XG5cdFx0fTtcblxuXHRcdGNvbnN0IHN0YXJ0U3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShzdGFydFRpbWUpO1xuXHRcdGNvbnN0IGVuZFN0ciA9IGZvcm1hdExvY2FsRGF0ZVRpbWUoZW5kVGltZSk7XG5cblx0XHQvLyBTaW5nbGUgYXRvbWljIHVwZGF0ZSBmb3IgYm90aCBhc3NpZ25tZW50IGFuZCB0aW1lc1xuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdGFzc2lnbmVkX3RvOiB0ZWNobmljaWFuSWQsXG5cdFx0XHRcdHN0YXJ0X3RpbWU6IHN0YXJ0U3RyLFxuXHRcdFx0XHRlbmRfdGltZTogZW5kU3RyLFxuXHRcdFx0XHRkdXJhdGlvbixcblx0XHRcdFx0dXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiRmFpbGVkIHRvIG1vdmUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogQXNzaWduIGFuIHVuYXNzaWduZWQgam9iIHRvIGEgdGVjaG5pY2lhbiB3aXRoIGEgc3BlY2lmaWMgdGltZSBzbG90XG4gKiBVc2VkIHdoZW4gZHJhZ2dpbmcgZnJvbSB1bmFzc2lnbmVkIHBhbmVsIHRvIGEgdGVjaG5pY2lhbiBsYW5lXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhc3NpZ25OZXdBcHBvaW50bWVudChcblx0c2NoZWR1bGVJZDogc3RyaW5nLFxuXHR0ZWNobmljaWFuSWQ6IHN0cmluZyxcblx0c3RhcnRUaW1lOiBEYXRlLFxuXHRlbmRUaW1lOiBEYXRlLFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgZHVyYXRpb24gPSBNYXRoLnJvdW5kKFxuXHRcdFx0KGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSxcblx0XHQpO1xuXG5cdFx0Y29uc3QgZm9ybWF0TG9jYWxEYXRlVGltZSA9IChkYXRlOiBEYXRlKSA9PiB7XG5cdFx0XHRjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0Y29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBob3VyID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgbWludXRlID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBzZWNvbmQgPSBTdHJpbmcoZGF0ZS5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX0gJHtob3VyfToke21pbnV0ZX06JHtzZWNvbmR9YDtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3RhcnRTdHIgPSBmb3JtYXRMb2NhbERhdGVUaW1lKHN0YXJ0VGltZSk7XG5cdFx0Y29uc3QgZW5kU3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShlbmRUaW1lKTtcblxuXHRcdC8vIFNpbmdsZSBhdG9taWMgdXBkYXRlIGZvciBhc3NpZ25tZW50XG5cdFx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHtcblx0XHRcdFx0YXNzaWduZWRfdG86IHRlY2huaWNpYW5JZCxcblx0XHRcdFx0c3RhcnRfdGltZTogc3RhcnRTdHIsXG5cdFx0XHRcdGVuZF90aW1lOiBlbmRTdHIsXG5cdFx0XHRcdGR1cmF0aW9uLFxuXHRcdFx0XHRzdGF0dXM6IFwic2NoZWR1bGVkXCIsXG5cdFx0XHRcdHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKVxuXHRcdFx0LnNlbGVjdCgpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGEgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gYXNzaWduIGFwcG9pbnRtZW50XCIsXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdW5hc3NpZ25BcHBvaW50bWVudChzY2hlZHVsZUlkOiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRhc3NpZ25lZF90bzogbnVsbCxcblx0XHRcdFx0dXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIG1vdmUgYXBwb2ludG1lbnQgdG8gVW5zY2hlZHVsZWRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogU2VuZCBcIk9uIE15IFdheVwiIFNNUyBub3RpZmljYXRpb24gdG8gY3VzdG9tZXJcbiAqIEluY2x1ZGVzIHRlY2huaWNpYW4gbmFtZSBhbmQgZXN0aW1hdGVkIGFycml2YWwgdGltZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZE9uTXlXYXlOb3RpZmljYXRpb24oXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0dGVjaG5pY2lhbk5hbWU6IHN0cmluZyxcblx0Y3VzdG9tZXJQaG9uZTogc3RyaW5nLFxuXHRkZXN0aW5hdGlvbkFkZHJlc3M/OiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHQvLyBHZXQgdXNlciBhbmQgY29tcGFueSBpbmZvXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBjb21wYW55J3MgVGVsbnl4IHNldHRpbmdzIGZvciB0aGUgZnJvbSBudW1iZXJcblx0XHRjb25zdCB7IGRhdGE6IG1lbWJlcnNoaXAgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfbWVtYmVyc2hpcHNcIilcblx0XHRcdC5zZWxlY3QoXCJjb21wYW55X2lkXCIpXG5cdFx0XHQuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpXG5cdFx0XHQuZXEoXCJzdGF0dXNcIiwgXCJhY3RpdmVcIilcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghbWVtYmVyc2hpcD8uY29tcGFueV9pZCkge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIGFjdGl2ZSBjb21wYW55IG1lbWJlcnNoaXBcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IHsgZGF0YTogdGVsbnl4U2V0dGluZ3MgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfdGVsbnl4X3NldHRpbmdzXCIpXG5cdFx0XHQuc2VsZWN0KFwicGhvbmVfbnVtYmVyLCBzdGF0dXNcIilcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgbWVtYmVyc2hpcC5jb21wYW55X2lkKVxuXHRcdFx0LmVxKFwic3RhdHVzXCIsIFwicmVhZHlcIilcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghdGVsbnl4U2V0dGluZ3M/LnBob25lX251bWJlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIHBob25lIG51bWJlciBjb25maWd1cmVkIGZvciBTTVNcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBjb21wYW55IG5hbWUgZm9yIHRoZSBtZXNzYWdlXG5cdFx0Y29uc3QgeyBkYXRhOiBjb21wYW55IH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjb21wYW5pZXNcIilcblx0XHRcdC5zZWxlY3QoXCJuYW1lXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBtZW1iZXJzaGlwLmNvbXBhbnlfaWQpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHQvLyBCdWlsZCB0aGUgXCJPbiBNeSBXYXlcIiBtZXNzYWdlXG5cdFx0bGV0IG1lc3NhZ2UgPSBgSGkhICR7dGVjaG5pY2lhbk5hbWV9IGZyb20gJHtjb21wYW55Py5uYW1lIHx8IFwieW91ciBzZXJ2aWNlIHByb3ZpZGVyXCJ9IGlzIG9uIHRoZSB3YXkgdG8geW91ciBhcHBvaW50bWVudC5gO1xuXG5cdFx0Ly8gVHJ5IHRvIGdldCB0cmF2ZWwgdGltZSBlc3RpbWF0ZSBpZiB3ZSBoYXZlIGEgZGVzdGluYXRpb25cblx0XHRpZiAoZGVzdGluYXRpb25BZGRyZXNzKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCBiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBQX1VSTCB8fCBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMFwiO1xuXHRcdFx0XHRjb25zdCB0cmF2ZWxSZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0XHRcdGAke2Jhc2VVcmx9L2FwaS90cmF2ZWwtdGltZT9kZXN0aW5hdGlvbj0ke2VuY29kZVVSSUNvbXBvbmVudChkZXN0aW5hdGlvbkFkZHJlc3MpfWAsXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0aGVhZGVyczoge1xuXHRcdFx0XHRcdFx0XHRDb29raWU6IGBzYi1hY2Nlc3MtdG9rZW49JHt1c2VyLmlkfWAsIC8vIFBhc3MgYXV0aCBjb250ZXh0XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0aWYgKHRyYXZlbFJlc3BvbnNlLm9rKSB7XG5cdFx0XHRcdFx0Y29uc3QgdHJhdmVsRGF0YSA9IGF3YWl0IHRyYXZlbFJlc3BvbnNlLmpzb24oKTtcblx0XHRcdFx0XHRpZiAodHJhdmVsRGF0YS5kdXJhdGlvblRleHQpIHtcblx0XHRcdFx0XHRcdG1lc3NhZ2UgKz0gYCBFc3RpbWF0ZWQgYXJyaXZhbDogJHt0cmF2ZWxEYXRhLmR1cmF0aW9uVGV4dH0uYDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHQvLyBUcmF2ZWwgdGltZSBmZXRjaCBmYWlsZWQgLSBjb250aW51ZSB3aXRob3V0IGl0XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0bWVzc2FnZSArPSBcIiBXZSdsbCBzZWUgeW91IHNvb24hXCI7XG5cblx0XHQvLyBTZW5kIHRoZSBTTVMgdmlhIFRlbG55eFxuXHRcdGNvbnN0IHsgc2VuZFNNUyB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvdGVsbnl4L21lc3NhZ2luZ1wiKTtcblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kU01TKHtcblx0XHRcdHRvOiBjdXN0b21lclBob25lLFxuXHRcdFx0ZnJvbTogdGVsbnl4U2V0dGluZ3MucGhvbmVfbnVtYmVyLFxuXHRcdFx0dGV4dDogbWVzc2FnZSxcblx0XHR9KTtcblxuXHRcdGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gc2VuZCBTTVNcIiB9O1xuXHRcdH1cblxuXHRcdC8vIFVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMgdG8gZGlzcGF0Y2hlZFxuXHRcdGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJkaXNwYXRjaGVkXCIsXG5cdFx0XHRcdGRpc3BhdGNoZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0bWVzc2FnZTogXCJPbiBNeSBXYXkgbm90aWZpY2F0aW9uIHNlbnQgc3VjY2Vzc2Z1bGx5XCIsXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gc2VuZCBPbiBNeSBXYXkgbm90aWZpY2F0aW9uXCIsXG5cdFx0fTtcblx0fVxufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJ5VEE2ZXNCIn0=
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/components/ui/context-menu.tsx [app-client] (ecmascript) <locals>", ((__turbopack_context__) => {
"use strict";

// Re-export from @stratos/ui package
__turbopack_context__.s([]);
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$index$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/packages/ui/src/index.ts [app-client] (ecmascript) <locals>");
;
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "ScheduleJobContextMenu",
    ()=>ScheduleJobContextMenu
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/navigation.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$sonner$40$2$2e$0$2e$7_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/sonner@2.0.7_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/sonner/dist/index.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$archive$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Archive$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/archive.js [app-client] (ecmascript) <export default as Archive>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$calendar$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Calendar$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/calendar.js [app-client] (ecmascript) <export default as Calendar>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$circle$2d$check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__CheckCircle2$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/circle-check.js [app-client] (ecmascript) <export default as CheckCircle2>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$copy$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Copy$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/copy.js [app-client] (ecmascript) <export default as Copy>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$external$2d$link$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__ExternalLink$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/external-link.js [app-client] (ecmascript) <export default as ExternalLink>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$map$2d$pin$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__MapPin$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/map-pin.js [app-client] (ecmascript) <export default as MapPin>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$message$2d$square$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__MessageSquare$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/message-square.js [app-client] (ecmascript) <export default as MessageSquare>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$ellipsis$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__MoreHorizontal$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/ellipsis.js [app-client] (ecmascript) <export default as MoreHorizontal>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Navigation$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/navigation.js [app-client] (ecmascript) <export default as Navigation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$phone$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Phone$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/phone.js [app-client] (ecmascript) <export default as Phone>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$send$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Send$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/send.js [app-client] (ecmascript) <export default as Send>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$trash$2d$2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Trash2$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/trash-2.js [app-client] (ecmascript) <export default as Trash2>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$truck$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Truck$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/truck.js [app-client] (ecmascript) <export default as Truck>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$user$2d$check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__UserCheck$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/user-check.js [app-client] (ecmascript) <export default as UserCheck>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$user$2d$minus$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__UserMinus$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/user-minus.js [app-client] (ecmascript) <export default as UserMinus>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$circle$2d$x$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__XCircle$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/circle-x.js [app-client] (ecmascript) <export default as XCircle>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$1cbe4f__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/apps/web/src/actions/data:1cbe4f [app-client] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$9172bf__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/apps/web/src/actions/data:9172bf [app-client] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$7ac4ae__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/apps/web/src/actions/data:7ac4ae [app-client] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$95a531__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/apps/web/src/actions/data:95a531 [app-client] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$c144d7__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/apps/web/src/actions/data:c144d7 [app-client] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$a1731c__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/apps/web/src/actions/data:a1731c [app-client] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$06ff41__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/apps/web/src/actions/data:06ff41 [app-client] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$4f33a2__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/apps/web/src/actions/data:4f33a2 [app-client] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$ddf154__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/apps/web/src/actions/data:ddf154 [app-client] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ui$2f$context$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/web/src/components/ui/context-menu.tsx [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$context$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/src/context-menu.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/src/lib/utils.ts [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
"use client";
;
;
;
;
;
;
// Status workflow order for visual display
const STATUS_ORDER = [
    "scheduled",
    "dispatched",
    "arrived",
    "in-progress",
    "closed",
    "completed"
];
// Get current status step for progress indicator
function getStatusStep(status) {
    const idx = STATUS_ORDER.indexOf(status);
    return idx === -1 ? 0 : idx;
}
function ScheduleJobContextMenu({ job, children, onOpenChange }) {
    _s();
    const router = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRouter"])();
    const currentStep = getStatusStep(job.status);
    const isCancelled = job.status === "cancelled";
    const isClosed = job.status === "closed" || job.status === "completed";
    const handleAction = async (action, actionFn, ...args)=>{
        const toastId = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$sonner$40$2$2e$0$2e$7_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].loading(`${action}...`);
        const result = await actionFn(job.id, ...args);
        if (result.success) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$sonner$40$2$2e$0$2e$7_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].success(`${action} successful`, {
                id: toastId
            });
        } else {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$sonner$40$2$2e$0$2e$7_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error(result.error || `Failed to ${action.toLowerCase()}`, {
                id: toastId
            });
        }
    };
    const handleSendOnMyWay = async ()=>{
        if (!job.customer?.phone) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$sonner$40$2$2e$0$2e$7_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error("Customer has no phone number");
            return;
        }
        const techName = job.assignments[0]?.displayName || "Your technician";
        const address = job.location?.address ? `${job.location.address.street}, ${job.location.address.city}, ${job.location.address.state}` : undefined;
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$sonner$40$2$2e$0$2e$7_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].loading("Sending On My Way notification...");
        const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$4f33a2__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["sendOnMyWayNotification"])(job.id, techName, job.customer.phone, address);
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$sonner$40$2$2e$0$2e$7_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].dismiss();
        if (result.success) {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$sonner$40$2$2e$0$2e$7_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].success("On My Way notification sent!");
        } else {
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$sonner$40$2$2e$0$2e$7_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error(result.error || "Failed to send notification");
        }
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$context$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ContextMenu"], {
        onOpenChange: onOpenChange,
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$context$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ContextMenuTrigger"], {
                asChild: true,
                children: children
            }, void 0, false, {
                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                lineNumber: 121,
                columnNumber: 4
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$context$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ContextMenuContent"], {
                className: "w-64",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "px-2 py-2 border-b mb-1",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "flex items-center gap-2",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("size-2 rounded-full shrink-0", job.status === "scheduled" && "bg-blue-500", job.status === "dispatched" && "bg-sky-500", job.status === "arrived" && "bg-emerald-400", job.status === "in-progress" && "bg-amber-500 animate-pulse", job.status === "closed" && "bg-emerald-600", job.status === "completed" && "bg-emerald-600", job.status === "cancelled" && "bg-slate-400")
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                        lineNumber: 127,
                                        columnNumber: 7
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        className: "text-sm font-semibold truncate flex-1",
                                        children: job.customer?.name || "Unknown Customer"
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                        lineNumber: 139,
                                        columnNumber: 7
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                lineNumber: 126,
                                columnNumber: 6
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                className: "text-xs text-muted-foreground mt-0.5 truncate pl-4",
                                children: job.title
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                lineNumber: 143,
                                columnNumber: 6
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                        lineNumber: 125,
                        columnNumber: 5
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$context$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ContextMenuLabel"], {
                        className: "text-xs text-muted-foreground font-normal",
                        children: "View"
                    }, void 0, false, {
                        fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                        lineNumber: 149,
                        columnNumber: 5
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$context$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ContextMenuItem"], {
                        disabled: !job.jobId,
                        onClick: ()=>{
                            if (job.jobId) {
                                router.push(`/dashboard/work/${job.jobId}`);
                            }
                        },
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$external$2d$link$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__ExternalLink$3e$__["ExternalLink"], {
                                className: "size-4"
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                lineNumber: 160,
                                columnNumber: 6
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                children: "View Job Details"
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                lineNumber: 161,
                                columnNumber: 6
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$context$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ContextMenuShortcut"], {
                                children: "O"
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                lineNumber: 162,
                                columnNumber: 6
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                        lineNumber: 152,
                        columnNumber: 5
                    }, this),
                    job.location?.address && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$context$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ContextMenuItem"], {
                        onClick: ()=>{
                            const address = `${job.location?.address?.street}, ${job.location?.address?.city}, ${job.location?.address?.state}`;
                            window.open(`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(address)}`, "_blank");
                        },
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Navigation$3e$__["Navigation"], {
                                className: "size-4"
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                lineNumber: 175,
                                columnNumber: 7
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                children: "Open in Maps"
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                lineNumber: 176,
                                columnNumber: 7
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                        lineNumber: 166,
                        columnNumber: 6
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$context$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ContextMenuSeparator"], {}, void 0, false, {
                        fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                        lineNumber: 180,
                        columnNumber: 5
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$context$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ContextMenuLabel"], {
                        className: "text-xs text-muted-foreground font-normal",
                        children: "Update Status"
                    }, void 0, false, {
                        fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                        lineNumber: 183,
                        columnNumber: 5
                    }, this),
                    !isCancelled && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "px-2 py-1.5 mb-1",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "flex items-center gap-0.5",
                                children: STATUS_ORDER.slice(0, -1).map((status, idx)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "flex items-center flex-1",
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                            className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("h-1 flex-1 rounded-full transition-colors", idx < currentStep ? "bg-emerald-500" : idx === currentStep ? "bg-blue-500" : "bg-muted")
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                            lineNumber: 193,
                                            columnNumber: 10
                                        }, this)
                                    }, status, false, {
                                        fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                        lineNumber: 192,
                                        columnNumber: 9
                                    }, this))
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                lineNumber: 190,
                                columnNumber: 7
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                className: "text-[10px] text-muted-foreground mt-1 text-center capitalize",
                                children: [
                                    "Current: ",
                                    job.status.replace("-", " ")
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                lineNumber: 206,
                                columnNumber: 7
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                        lineNumber: 189,
                        columnNumber: 6
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$context$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ContextMenuItem"], {
                        disabled: currentStep >= 1 || isCancelled,
                        onClick: ()=>handleAction("Dispatching", __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$06ff41__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["dispatchAppointment"]),
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$truck$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Truck$3e$__["Truck"], {
                                className: "size-4"
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                lineNumber: 216,
                                columnNumber: 6
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                children: "Mark Dispatched"
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                lineNumber: 217,
                                columnNumber: 6
                            }, this),
                            currentStep >= 1 && !isCancelled && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$circle$2d$check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__CheckCircle2$3e$__["CheckCircle2"], {
                                className: "size-3.5 text-emerald-500 ml-auto"
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                lineNumber: 219,
                                columnNumber: 7
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                        lineNumber: 212,
                        columnNumber: 5
                    }, this),
                    job.customer?.phone && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$context$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ContextMenuItem"], {
                        disabled: currentStep >= 2 || isCancelled,
                        onClick: handleSendOnMyWay,
                        className: "text-sky-600 dark:text-sky-400",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$send$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Send$3e$__["Send"], {
                                className: "size-4"
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                lineNumber: 229,
                                columnNumber: 7
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                children: 'Send "On My Way" SMS'
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                lineNumber: 230,
                                columnNumber: 7
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                        lineNumber: 224,
                        columnNumber: 6
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$context$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ContextMenuItem"], {
                        disabled: currentStep >= 2 || isCancelled,
                        onClick: ()=>handleAction("Marking arrived", __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$9172bf__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["arriveAppointment"]),
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$map$2d$pin$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__MapPin$3e$__["MapPin"], {
                                className: "size-4"
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                lineNumber: 238,
                                columnNumber: 6
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                children: "Mark Arrived"
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                lineNumber: 239,
                                columnNumber: 6
                            }, this),
                            currentStep >= 2 && !isCancelled && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$circle$2d$check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__CheckCircle2$3e$__["CheckCircle2"], {
                                className: "size-3.5 text-emerald-500 ml-auto"
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                lineNumber: 241,
                                columnNumber: 7
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                        lineNumber: 234,
                        columnNumber: 5
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$context$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ContextMenuItem"], {
                        disabled: currentStep >= 4 || isCancelled,
                        onClick: ()=>handleAction("Closing", __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$c144d7__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["closeAppointment"]),
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$user$2d$check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__UserCheck$3e$__["UserCheck"], {
                                className: "size-4"
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                lineNumber: 249,
                                columnNumber: 6
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                children: "Mark Closed"
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                lineNumber: 250,
                                columnNumber: 6
                            }, this),
                            currentStep >= 4 && !isCancelled && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$circle$2d$check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__CheckCircle2$3e$__["CheckCircle2"], {
                                className: "size-3.5 text-emerald-500 ml-auto"
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                lineNumber: 252,
                                columnNumber: 7
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                        lineNumber: 245,
                        columnNumber: 5
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$context$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ContextMenuItem"], {
                        disabled: isClosed || isCancelled,
                        onClick: ()=>handleAction("Completing", __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$a1731c__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["completeAppointment"]),
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$circle$2d$check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__CheckCircle2$3e$__["CheckCircle2"], {
                                className: "size-4"
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                lineNumber: 260,
                                columnNumber: 6
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                children: "Mark Complete"
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                lineNumber: 261,
                                columnNumber: 6
                            }, this),
                            job.status === "completed" && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$circle$2d$check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__CheckCircle2$3e$__["CheckCircle2"], {
                                className: "size-3.5 text-emerald-500 ml-auto"
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                lineNumber: 263,
                                columnNumber: 7
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                        lineNumber: 256,
                        columnNumber: 5
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$context$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ContextMenuSeparator"], {}, void 0, false, {
                        fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                        lineNumber: 267,
                        columnNumber: 5
                    }, this),
                    (job.customer?.phone || job.customer?.email) && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Fragment"], {
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$context$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ContextMenuSub"], {
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$context$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ContextMenuSubTrigger"], {
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$message$2d$square$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__MessageSquare$3e$__["MessageSquare"], {
                                                className: "size-4"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                                lineNumber: 274,
                                                columnNumber: 9
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                children: "Contact Customer"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                                lineNumber: 275,
                                                columnNumber: 9
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                        lineNumber: 273,
                                        columnNumber: 8
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$context$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ContextMenuSubContent"], {
                                        className: "w-48",
                                        children: [
                                            job.customer?.phone && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$context$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ContextMenuItem"], {
                                                onClick: ()=>{
                                                    window.location.href = `tel:${job.customer?.phone}`;
                                                },
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$phone$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Phone$3e$__["Phone"], {
                                                        className: "size-4"
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                                        lineNumber: 284,
                                                        columnNumber: 11
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                        children: [
                                                            "Call ",
                                                            job.customer.phone
                                                        ]
                                                    }, void 0, true, {
                                                        fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                                        lineNumber: 285,
                                                        columnNumber: 11
                                                    }, this)
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                                lineNumber: 279,
                                                columnNumber: 10
                                            }, this),
                                            job.customer?.phone && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$context$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ContextMenuItem"], {
                                                onClick: ()=>{
                                                    window.location.href = `sms:${job.customer?.phone}`;
                                                },
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$message$2d$square$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__MessageSquare$3e$__["MessageSquare"], {
                                                        className: "size-4"
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                                        lineNumber: 294,
                                                        columnNumber: 11
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                        children: "Send SMS"
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                                        lineNumber: 295,
                                                        columnNumber: 11
                                                    }, this)
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                                lineNumber: 289,
                                                columnNumber: 10
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                        lineNumber: 277,
                                        columnNumber: 8
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                lineNumber: 272,
                                columnNumber: 7
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$context$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ContextMenuSeparator"], {}, void 0, false, {
                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                lineNumber: 300,
                                columnNumber: 7
                            }, this)
                        ]
                    }, void 0, true),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$context$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ContextMenuLabel"], {
                        className: "text-xs text-muted-foreground font-normal",
                        children: "Schedule"
                    }, void 0, false, {
                        fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                        lineNumber: 305,
                        columnNumber: 5
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$context$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ContextMenuItem"], {
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$calendar$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Calendar$3e$__["Calendar"], {
                                className: "size-4"
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                lineNumber: 310,
                                columnNumber: 6
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                children: "Reschedule"
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                lineNumber: 311,
                                columnNumber: 6
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$context$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ContextMenuShortcut"], {
                                children: "R"
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                lineNumber: 312,
                                columnNumber: 6
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                        lineNumber: 309,
                        columnNumber: 5
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$context$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ContextMenuItem"], {
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$copy$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Copy$3e$__["Copy"], {
                                className: "size-4"
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                lineNumber: 316,
                                columnNumber: 6
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                children: "Duplicate"
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                lineNumber: 317,
                                columnNumber: 6
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$context$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ContextMenuShortcut"], {
                                children: "D"
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                lineNumber: 318,
                                columnNumber: 6
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                        lineNumber: 315,
                        columnNumber: 5
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$context$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ContextMenuItem"], {
                        onClick: ()=>handleAction("Moving to Unscheduled", __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$ddf154__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["unassignAppointment"]),
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$user$2d$minus$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__UserMinus$3e$__["UserMinus"], {
                                className: "size-4"
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                lineNumber: 324,
                                columnNumber: 6
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                children: "Move to Unscheduled"
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                lineNumber: 325,
                                columnNumber: 6
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                        lineNumber: 321,
                        columnNumber: 5
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$context$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ContextMenuSeparator"], {}, void 0, false, {
                        fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                        lineNumber: 328,
                        columnNumber: 5
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$context$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ContextMenuSub"], {
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$context$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ContextMenuSubTrigger"], {
                                className: "text-destructive focus:text-destructive",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$ellipsis$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__MoreHorizontal$3e$__["MoreHorizontal"], {
                                        className: "size-4"
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                        lineNumber: 333,
                                        columnNumber: 7
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        children: "More Actions"
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                        lineNumber: 334,
                                        columnNumber: 7
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                lineNumber: 332,
                                columnNumber: 6
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$context$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ContextMenuSubContent"], {
                                className: "w-56",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$context$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ContextMenuItem"], {
                                        className: "text-orange-600 focus:text-orange-600 dark:text-orange-400 dark:focus:text-orange-400",
                                        disabled: isCancelled,
                                        onClick: ()=>handleAction("Cancelling appointment", __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$7ac4ae__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["cancelAppointment"]),
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$circle$2d$x$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__XCircle$3e$__["XCircle"], {
                                                className: "size-4"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                                lineNumber: 344,
                                                columnNumber: 8
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                children: "Cancel Appointment Only"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                                lineNumber: 345,
                                                columnNumber: 8
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                        lineNumber: 337,
                                        columnNumber: 7
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$context$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ContextMenuItem"], {
                                        variant: "destructive",
                                        disabled: isCancelled || !job.jobId,
                                        onClick: ()=>handleAction("Cancelling job & appointment", (scheduleId)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$95a531__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["cancelJobAndAppointment"])(scheduleId, job.jobId ?? "")),
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$trash$2d$2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Trash2$3e$__["Trash2"], {
                                                className: "size-4"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                                lineNumber: 357,
                                                columnNumber: 8
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                children: "Cancel Job & Appointment"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                                lineNumber: 358,
                                                columnNumber: 8
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                        lineNumber: 348,
                                        columnNumber: 7
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$context$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ContextMenuSeparator"], {}, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                        lineNumber: 361,
                                        columnNumber: 7
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$context$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ContextMenuItem"], {
                                        variant: "destructive",
                                        onClick: ()=>handleAction("Archiving", __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$1cbe4f__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["archiveAppointment"]),
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$archive$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Archive$3e$__["Archive"], {
                                                className: "size-4"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                                lineNumber: 367,
                                                columnNumber: 8
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                children: "Archive"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                                lineNumber: 368,
                                                columnNumber: 8
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                        lineNumber: 363,
                                        columnNumber: 7
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                                lineNumber: 336,
                                columnNumber: 6
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                        lineNumber: 331,
                        columnNumber: 5
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
                lineNumber: 123,
                columnNumber: 4
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx",
        lineNumber: 120,
        columnNumber: 3
    }, this);
}
_s(ScheduleJobContextMenu, "fN7XvhJ+p5oE6+Xlo0NJmXpxjC8=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRouter"]
    ];
});
_c = ScheduleJobContextMenu;
var _c;
__turbopack_context__.k.register(_c, "ScheduleJobContextMenu");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/lib/schedule-utils.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "endOfDay",
    ()=>endOfDay,
    "filterJobs",
    ()=>filterJobs,
    "sortJobsByStartTime",
    ()=>sortJobsByStartTime,
    "startOfDay",
    ()=>startOfDay
]);
/**
 * Utilities for schedule management
 */ // ============================================
// CONFLICT DETECTION
// ============================================
function hasTimeConflict(job1Start, job1End, job2Start, job2End) {
    const start1 = job1Start instanceof Date ? job1Start : new Date(job1Start);
    const end1 = job1End instanceof Date ? job1End : new Date(job1End);
    const start2 = job2Start instanceof Date ? job2Start : new Date(job2Start);
    const end2 = job2End instanceof Date ? job2End : new Date(job2End);
    return start1 >= start2 && start1 < end2 || end1 > start2 && end1 <= end2 || start1 <= start2 && end1 >= end2;
}
function findConflictingJobs(jobs, technicianId, startTime, endTime, excludeJobId) {
    return jobs.filter((job)=>{
        if (excludeJobId && job.id === excludeJobId) {
            return false;
        }
        if (!jobHasTechnician(job, technicianId)) {
            return false;
        }
        return hasTimeConflict(startTime, endTime, job.startTime, job.endTime);
    });
}
// ============================================
// MIGRATION UTILITIES
// ============================================
function legacyJobToJob(legacy, technicianId) {
    const today = new Date();
    today.setHours(0, 0, 0, 0);
    // Parse time strings
    const [startHour, startMin] = legacy.startTime.split(":").map(Number);
    const [endHour, endMin] = legacy.endTime.split(":").map(Number);
    const startTime = new Date(today);
    startTime.setHours(startHour, startMin, 0, 0);
    const endTime = new Date(today);
    endTime.setHours(endHour, endMin, 0, 0);
    // Create address and location
    const address = {
        street: legacy.address,
        city: "",
        state: "",
        zip: "",
        country: "USA"
    };
    const location = {
        address,
        coordinates: {
            lat: legacy.lat,
            lng: legacy.lng
        }
    };
    // Create customer
    const customer = {
        id: `customer-${legacy.customer.toLowerCase().replace(/\s+/g, "-")}`,
        name: legacy.customer,
        location,
        createdAt: new Date(),
        updatedAt: new Date()
    };
    // Calculate estimated duration in minutes
    const estimatedDuration = legacy.estimatedDuration ? Number.parseFloat(legacy.estimatedDuration.replace(/[^\d.]/g, "")) * 60 : undefined;
    const assignments = technicianId ? [
        {
            technicianId,
            teamMemberId: undefined,
            displayName: "Technician",
            avatar: null,
            role: "primary",
            status: "available",
            isActive: true
        }
    ] : [];
    return {
        id: legacy.id,
        technicianId,
        assignments,
        isUnassigned: assignments.length === 0,
        title: legacy.title,
        description: legacy.description,
        customer,
        location,
        startTime,
        endTime,
        status: legacy.status,
        priority: legacy.priority,
        metadata: {
            estimatedDuration
        },
        createdAt: new Date(),
        updatedAt: new Date()
    };
}
// ============================================
// TIME CALCULATIONS
// ============================================
function calculateDuration(startTime, endTime) {
    const start = startTime instanceof Date ? startTime : new Date(startTime);
    const end = endTime instanceof Date ? endTime : new Date(endTime);
    return Math.round((end.getTime() - start.getTime()) / (1000 * 60)); // minutes
}
function formatDuration(minutes) {
    if (minutes < 60) {
        return `${minutes}m`;
    }
    const hours = Math.floor(minutes / 60);
    const mins = minutes % 60;
    return mins > 0 ? `${hours}h ${mins}m` : `${hours}h`;
}
function addMinutes(date, minutes) {
    return new Date(date.getTime() + minutes * 60 * 1000);
}
// ============================================
// WORK HOURS CALCULATIONS
// ============================================
function calculateWorkload(jobs, technicianSchedule, date) {
    const dayStart = new Date(date);
    dayStart.setHours(technicianSchedule.availableHours.start, 0, 0, 0);
    const dayEnd = new Date(date);
    dayEnd.setHours(technicianSchedule.availableHours.end, 0, 0, 0);
    const availableMinutes = calculateDuration(dayStart, dayEnd);
    // Calculate total job duration for this day
    const totalMinutes = jobs.reduce((sum, job)=>{
        // Check if job is on this date
        if (job.startTime.toDateString() === date.toDateString() || job.endTime.toDateString() === date.toDateString()) {
            return sum + calculateDuration(job.startTime, job.endTime);
        }
        return sum;
    }, 0);
    const utilizationRate = availableMinutes > 0 ? totalMinutes / availableMinutes * 100 : 0;
    return {
        totalMinutes,
        availableMinutes,
        utilizationRate: Math.min(utilizationRate, 100)
    };
}
// ============================================
// DATE UTILITIES
// ============================================
function isSameDay(date1, date2) {
    return date1.getFullYear() === date2.getFullYear() && date1.getMonth() === date2.getMonth() && date1.getDate() === date2.getDate();
}
function isToday(date) {
    return isSameDay(date, new Date());
}
function startOfDay(date) {
    const result = new Date(date);
    result.setHours(0, 0, 0, 0);
    return result;
}
function endOfDay(date) {
    const result = new Date(date);
    result.setHours(23, 59, 59, 999);
    return result;
}
// ============================================
// RECURRING JOBS
// ============================================
function generateRecurringJobInstances(baseJob, startDate, endDate) {
    if (!baseJob.recurrence) {
        return [
            baseJob
        ];
    }
    const instances = [];
    const { frequency, interval, count, endDate: recurrenceEndDate } = baseJob.recurrence;
    const currentDate = new Date(baseJob.startTime);
    let instanceCount = 0;
    while(currentDate <= endDate){
        if (currentDate >= startDate) {
            // Calculate job duration
            const duration = calculateDuration(baseJob.startTime, baseJob.endTime);
            // Create new instance
            const instance = {
                ...baseJob,
                id: `${baseJob.id}-instance-${instanceCount}`,
                parentJobId: baseJob.id,
                startTime: new Date(currentDate),
                endTime: addMinutes(new Date(currentDate), duration)
            };
            instances.push(instance);
        }
        // Move to next occurrence
        instanceCount++;
        if (count && instanceCount >= count) {
            break;
        }
        if (recurrenceEndDate && currentDate >= recurrenceEndDate) {
            break;
        }
        switch(frequency){
            case "daily":
                currentDate.setDate(currentDate.getDate() + interval);
                break;
            case "weekly":
                currentDate.setDate(currentDate.getDate() + interval * 7);
                break;
            case "monthly":
                currentDate.setMonth(currentDate.getMonth() + interval);
                break;
            case "yearly":
                currentDate.setFullYear(currentDate.getFullYear() + interval);
                break;
        }
    }
    return instances;
}
function filterJobs(jobs, filters) {
    return jobs.filter((job)=>{
        // Filter by technician
        if (filters.technicianIds && filters.technicianIds.length > 0 && !filters.technicianIds.some((technicianId)=>jobHasTechnician(job, technicianId))) {
            return false;
        }
        // Filter by status
        if (filters.statuses && filters.statuses.length > 0 && !filters.statuses.includes(job.status)) {
            return false;
        }
        // Filter by priority
        if (filters.priorities && filters.priorities.length > 0 && !filters.priorities.includes(job.priority)) {
            return false;
        }
        // Filter by search query
        if (filters.searchQuery && filters.searchQuery.trim() !== "") {
            const query = filters.searchQuery.toLowerCase();
            const matchesTitle = job.title.toLowerCase().includes(query);
            const matchesCustomer = job.customer.name.toLowerCase().includes(query);
            const matchesDescription = job.description?.toLowerCase().includes(query);
            if (!(matchesTitle || matchesCustomer || matchesDescription)) {
                return false;
            }
        }
        return true;
    });
}
function sortJobsByStartTime(jobs) {
    return [
        ...jobs
    ].sort((a, b)=>{
        // Ensure dates are Date objects
        const aTime = a.startTime instanceof Date ? a.startTime : new Date(a.startTime);
        const bTime = b.startTime instanceof Date ? b.startTime : new Date(b.startTime);
        return aTime.getTime() - bTime.getTime();
    });
}
function sortTechniciansByName(technicians) {
    return [
        ...technicians
    ].sort((a, b)=>a.name.localeCompare(b.name));
}
// ============================================
// VALIDATION
// ============================================
function validateJobTimes(startTime, endTime) {
    if (startTime >= endTime) {
        return {
            valid: false,
            error: "End time must be after start time"
        };
    }
    const duration = calculateDuration(startTime, endTime);
    if (duration < 15) {
        return {
            valid: false,
            error: "Job must be at least 15 minutes long"
        };
    }
    return {
        valid: true
    };
}
function validateJob(job) {
    const errors = [];
    if (!job.title || job.title.trim() === "") {
        errors.push("Title is required");
    }
    const hasTechnician = !!job.technicianId || job.assignments?.some((assignment)=>assignment.technicianId);
    if (!hasTechnician) {
        errors.push("Technician must be assigned");
    }
    if (!job.startTime) {
        errors.push("Start time is required");
    }
    if (!job.endTime) {
        errors.push("End time is required");
    }
    if (job.startTime && job.endTime) {
        const timeValidation = validateJobTimes(job.startTime, job.endTime);
        if (!timeValidation.valid) {
            errors.push(timeValidation.error);
        }
    }
    return {
        valid: errors.length === 0,
        errors
    };
}
function jobHasTechnician(job, technicianId) {
    if (job.technicianId === technicianId) {
        return true;
    }
    return job.assignments.some((assignment)=>assignment.technicianId === technicianId);
}
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/hooks/use-schedule.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "useSchedule",
    ()=>useSchedule,
    "useScheduleRealtime",
    ()=>useScheduleRealtime
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$schedule$2d$data$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/src/lib/schedule-data.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$schedule$2d$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/src/lib/schedule-utils.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/src/lib/stores/schedule-store.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$view$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/src/lib/stores/view-store.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$database$2f$src$2f$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/database/src/client.ts [app-client] (ecmascript)");
var _s = __turbopack_context__.k.signature(), _s1 = __turbopack_context__.k.signature(), _s2 = __turbopack_context__.k.signature();
;
;
;
;
;
;
function useSchedule() {
    _s();
    // Use granular selectors to avoid closure issues
    const isLoading = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"])({
        "useSchedule.useScheduleStore[isLoading]": (state)=>state.isLoading
    }["useSchedule.useScheduleStore[isLoading]"]);
    const error = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"])({
        "useSchedule.useScheduleStore[error]": (state)=>state.error
    }["useSchedule.useScheduleStore[error]"]);
    const lastSync = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"])({
        "useSchedule.useScheduleStore[lastSync]": (state)=>state.lastSync
    }["useSchedule.useScheduleStore[lastSync]"]);
    const jobs = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"])({
        "useSchedule.useScheduleStore[jobs]": (state)=>state.jobs
    }["useSchedule.useScheduleStore[jobs]"]);
    const technicians = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"])({
        "useSchedule.useScheduleStore[technicians]": (state)=>state.technicians
    }["useSchedule.useScheduleStore[technicians]"]);
    const selectedJobId = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"])({
        "useSchedule.useScheduleStore[selectedJobId]": (state)=>state.selectedJobId
    }["useSchedule.useScheduleStore[selectedJobId]"]);
    const selectedTechnicianId = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"])({
        "useSchedule.useScheduleStore[selectedTechnicianId]": (state)=>state.selectedTechnicianId
    }["useSchedule.useScheduleStore[selectedTechnicianId]"]);
    const lastFetchedRange = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"])({
        "useSchedule.useScheduleStore[lastFetchedRange]": (state)=>state.lastFetchedRange
    }["useSchedule.useScheduleStore[lastFetchedRange]"]);
    const storeCompanyId = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"])({
        "useSchedule.useScheduleStore[storeCompanyId]": (state)=>state.companyId
    }["useSchedule.useScheduleStore[storeCompanyId]"]);
    const unassignedHasMore = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"])({
        "useSchedule.useScheduleStore[unassignedHasMore]": (state)=>state.unassignedHasMore
    }["useSchedule.useScheduleStore[unassignedHasMore]"]);
    const unassignedSearch = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"])({
        "useSchedule.useScheduleStore[unassignedSearch]": (state)=>state.unassignedSearch
    }["useSchedule.useScheduleStore[unassignedSearch]"]);
    const isLoadingUnassigned = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"])({
        "useSchedule.useScheduleStore[isLoadingUnassigned]": (state)=>state.isLoadingUnassigned
    }["useSchedule.useScheduleStore[isLoadingUnassigned]"]);
    const unassignedTotalCount = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"])({
        "useSchedule.useScheduleStore[unassignedTotalCount]": (state)=>state.unassignedTotalCount
    }["useSchedule.useScheduleStore[unassignedTotalCount]"]);
    // Get actions
    const setLoading = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"])({
        "useSchedule.useScheduleStore[setLoading]": (state)=>state.setLoading
    }["useSchedule.useScheduleStore[setLoading]"]);
    const setError = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"])({
        "useSchedule.useScheduleStore[setError]": (state)=>state.setError
    }["useSchedule.useScheduleStore[setError]"]);
    const setJobs = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"])({
        "useSchedule.useScheduleStore[setJobs]": (state)=>state.setJobs
    }["useSchedule.useScheduleStore[setJobs]"]);
    const setTechnicians = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"])({
        "useSchedule.useScheduleStore[setTechnicians]": (state)=>state.setTechnicians
    }["useSchedule.useScheduleStore[setTechnicians]"]);
    const selectJob = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"])({
        "useSchedule.useScheduleStore[selectJob]": (state)=>state.selectJob
    }["useSchedule.useScheduleStore[selectJob]"]);
    const selectTechnician = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"])({
        "useSchedule.useScheduleStore[selectTechnician]": (state)=>state.selectTechnician
    }["useSchedule.useScheduleStore[selectTechnician]"]);
    const addJob = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"])({
        "useSchedule.useScheduleStore[addJob]": (state)=>state.addJob
    }["useSchedule.useScheduleStore[addJob]"]);
    const updateJob = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"])({
        "useSchedule.useScheduleStore[updateJob]": (state)=>state.updateJob
    }["useSchedule.useScheduleStore[updateJob]"]);
    const moveJob = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"])({
        "useSchedule.useScheduleStore[moveJob]": (state)=>state.moveJob
    }["useSchedule.useScheduleStore[moveJob]"]);
    const deleteJob = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"])({
        "useSchedule.useScheduleStore[deleteJob]": (state)=>state.deleteJob
    }["useSchedule.useScheduleStore[deleteJob]"]);
    const duplicateJob = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"])({
        "useSchedule.useScheduleStore[duplicateJob]": (state)=>state.duplicateJob
    }["useSchedule.useScheduleStore[duplicateJob]"]);
    const getJobById = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"])({
        "useSchedule.useScheduleStore[getJobById]": (state)=>state.getJobById
    }["useSchedule.useScheduleStore[getJobById]"]);
    const syncWithServer = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"])({
        "useSchedule.useScheduleStore[syncWithServer]": (state)=>state.syncWithServer
    }["useSchedule.useScheduleStore[syncWithServer]"]);
    const setLastSync = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"])({
        "useSchedule.useScheduleStore[setLastSync]": (state)=>state.setLastSync
    }["useSchedule.useScheduleStore[setLastSync]"]);
    const setCompanyId = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"])({
        "useSchedule.useScheduleStore[setCompanyId]": (state)=>state.setCompanyId
    }["useSchedule.useScheduleStore[setCompanyId]"]);
    const setLastFetchedRange = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"])({
        "useSchedule.useScheduleStore[setLastFetchedRange]": (state)=>state.setLastFetchedRange
    }["useSchedule.useScheduleStore[setLastFetchedRange]"]);
    const setUnassignedMeta = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"])({
        "useSchedule.useScheduleStore[setUnassignedMeta]": (state)=>state.setUnassignedMeta
    }["useSchedule.useScheduleStore[setUnassignedMeta]"]);
    const getUnassignedJobsFromStore = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"])({
        "useSchedule.useScheduleStore[getUnassignedJobsFromStore]": (state)=>state.getUnassignedJobs
    }["useSchedule.useScheduleStore[getUnassignedJobsFromStore]"]);
    const getJobsGroupedByTechnicianFromStore = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"])({
        "useSchedule.useScheduleStore[getJobsGroupedByTechnicianFromStore]": (state)=>state.getJobsGroupedByTechnician
    }["useSchedule.useScheduleStore[getJobsGroupedByTechnicianFromStore]"]);
    const loadMoreUnassignedJobs = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"])({
        "useSchedule.useScheduleStore[loadMoreUnassignedJobs]": (state)=>state.loadMoreUnassignedJobs
    }["useSchedule.useScheduleStore[loadMoreUnassignedJobs]"]);
    // Get view store values with selectors to avoid re-renders
    const filters = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$view$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useViewStore"])({
        "useSchedule.useViewStore[filters]": (state)=>state.filters
    }["useSchedule.useViewStore[filters]"]);
    const showCompletedJobs = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$view$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useViewStore"])({
        "useSchedule.useViewStore[showCompletedJobs]": (state)=>state.showCompletedJobs
    }["useSchedule.useViewStore[showCompletedJobs]"]);
    const _currentDate = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$view$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useViewStore"])({
        "useSchedule.useViewStore[_currentDate]": (state)=>state.currentDate
    }["useSchedule.useViewStore[_currentDate]"]);
    const _zoom = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$view$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useViewStore"])({
        "useSchedule.useViewStore[_zoom]": (state)=>state.zoom
    }["useSchedule.useViewStore[_zoom]"]);
    // Calculate visible time range once
    const visibleTimeRange = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMemo"])({
        "useSchedule.useMemo[visibleTimeRange]": ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$view$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useViewStore"].getState().getVisibleTimeRange()
    }["useSchedule.useMemo[visibleTimeRange]"], []);
    const rangeStart = visibleTimeRange.start.getTime();
    const rangeEnd = visibleTimeRange.end.getTime();
    const companyIdRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRef"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"].getState().companyId);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "useSchedule.useEffect": ()=>{
            companyIdRef.current = storeCompanyId;
        }
    }["useSchedule.useEffect"], [
        storeCompanyId
    ]);
    const jobCount = jobs.size;
    const hasCoverage = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMemo"])({
        "useSchedule.useMemo[hasCoverage]": ()=>{
            if (!lastFetchedRange || jobCount === 0) {
                return false;
            }
            const fetchedStart = lastFetchedRange.start.getTime();
            const fetchedEnd = lastFetchedRange.end.getTime();
            return fetchedStart <= rangeStart && fetchedEnd >= rangeEnd;
        }
    }["useSchedule.useMemo[hasCoverage]"], [
        jobCount,
        lastFetchedRange,
        rangeEnd,
        rangeStart
    ]);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "useSchedule.useEffect": ()=>{
            let isMounted = true;
            if (hasCoverage && companyIdRef.current) {
                return ({
                    "useSchedule.useEffect": ()=>{
                        isMounted = false;
                    }
                })["useSchedule.useEffect"];
            }
            const loadData = {
                "useSchedule.useEffect.loadData": async ()=>{
                    setLoading(true);
                    setError(null);
                    try {
                        const supabase = (0, __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$database$2f$src$2f$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createClient"])();
                        if (!supabase) {
                            throw new Error("Database connection not available");
                        }
                        const { data: { user }, error: authError } = await supabase.auth.getUser();
                        if (authError) {
                            throw authError;
                        }
                        if (!user) {
                            throw new Error("User session not found");
                        }
                        let companyId = companyIdRef.current;
                        if (!companyId) {
                            const { data: membership, error: membershipError } = await supabase.from("company_memberships").select("company_id").eq("user_id", user.id).eq("status", "active").order("joined_at", {
                                ascending: false,
                                nullsFirst: false
                            }).limit(1).maybeSingle();
                            if (membershipError) {
                                throw membershipError;
                            }
                            if (!membership?.company_id) {
                                throw new Error("No active company membership found");
                            }
                            companyId = membership.company_id;
                            companyIdRef.current = companyId;
                            setCompanyId(companyId);
                        }
                        if (!companyId) {
                            throw new Error("Unable to resolve company context for schedule data");
                        }
                        const { jobs: convertedJobs, technicians: convertedTechnicians, unassignedMeta } = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$schedule$2d$data$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["fetchScheduleData"])({
                            supabase,
                            companyId,
                            range: {
                                start: new Date(rangeStart),
                                end: new Date(rangeEnd)
                            }
                        });
                        if (!isMounted) {
                            return;
                        }
                        setTechnicians(convertedTechnicians);
                        setJobs(convertedJobs);
                        const fetchedRange = {
                            start: new Date(rangeStart),
                            end: new Date(rangeEnd)
                        };
                        setTechnicians(convertedTechnicians);
                        setJobs(convertedJobs);
                        const unassignedCount = convertedJobs.filter({
                            "useSchedule.useEffect.loadData": (job)=>job.isUnassigned
                        }["useSchedule.useEffect.loadData"]).length;
                        setUnassignedMeta(unassignedMeta, unassignedCount);
                        setLastSync(new Date());
                        setLastFetchedRange(fetchedRange);
                    } catch (error) {
                        if (!isMounted) {
                            return;
                        }
                        const errorMessage = error instanceof Error ? error.message : typeof error === "object" && error !== null && "message" in error ? String(error.message) : "Unknown error";
                        setError(errorMessage);
                    } finally{
                        if (isMounted) {
                            setLoading(false);
                        }
                    }
                }
            }["useSchedule.useEffect.loadData"];
            loadData();
            return ({
                "useSchedule.useEffect": ()=>{
                    isMounted = false;
                }
            })["useSchedule.useEffect"];
        }
    }["useSchedule.useEffect"], [
        hasCoverage,
        rangeEnd,
        rangeStart,
        setCompanyId,
        setLastFetchedRange,
        setError,
        setJobs,
        setLastSync,
        setLoading,
        setTechnicians
    ]);
    // Get filtered and sorted jobs - MEMOIZED
    const filteredJobs = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMemo"])({
        "useSchedule.useMemo[filteredJobs]": ()=>{
            const allJobs = Array.from(jobs.values());
            // Apply view filters
            const filtered = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$schedule$2d$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["filterJobs"])(allJobs, {
                technicianIds: filters.technicianIds,
                statuses: filters.statuses,
                priorities: filters.priorities,
                searchQuery: filters.searchQuery
            });
            // Filter by completed jobs visibility
            const visible = showCompletedJobs ? filtered : filtered.filter({
                "useSchedule.useMemo[filteredJobs]": (job)=>job.status !== "completed"
            }["useSchedule.useMemo[filteredJobs]"]);
            // Sort by start time
            return (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$schedule$2d$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["sortJobsByStartTime"])(visible);
        }
    }["useSchedule.useMemo[filteredJobs]"], [
        jobs,
        filters,
        showCompletedJobs
    ]);
    // Get filtered technicians - MEMOIZED
    const filteredTechnicians = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMemo"])({
        "useSchedule.useMemo[filteredTechnicians]": ()=>{
            const allTechnicians = Array.from(technicians.values());
            // If technician filter is active, only show filtered technicians
            if (filters.technicianIds.length > 0) {
                return allTechnicians.filter({
                    "useSchedule.useMemo[filteredTechnicians]": (tech)=>filters.technicianIds.includes(tech.id)
                }["useSchedule.useMemo[filteredTechnicians]"]);
            }
            return allTechnicians;
        }
    }["useSchedule.useMemo[filteredTechnicians]"], [
        technicians,
        filters.technicianIds
    ]);
    // Pre-index jobs by technician ID for O(1) lookups instead of O(n) filter
    const jobsByTechnicianId = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMemo"])({
        "useSchedule.useMemo[jobsByTechnicianId]": ()=>{
            const map = new Map();
            for (const job of filteredJobs){
                const techId = job.technicianId;
                if (techId) {
                    const existing = map.get(techId);
                    if (existing) {
                        existing.push(job);
                    } else {
                        map.set(techId, [
                            job
                        ]);
                    }
                }
            }
            return map;
        }
    }["useSchedule.useMemo[jobsByTechnicianId]"], [
        filteredJobs
    ]);
    // Get jobs for a specific technician - now O(1) lookup
    const getJobsForTechnician = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useSchedule.useCallback[getJobsForTechnician]": (technicianId)=>jobsByTechnicianId.get(technicianId) ?? []
    }["useSchedule.useCallback[getJobsForTechnician]"], [
        jobsByTechnicianId
    ]);
    // Get jobs within visible time range - MEMOIZED
    const visibleJobs = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMemo"])({
        "useSchedule.useMemo[visibleJobs]": ()=>{
            const { start, end } = visibleTimeRange;
            return filteredJobs.filter({
                "useSchedule.useMemo[visibleJobs]": (job)=>{
                    // Job overlaps with visible range
                    return job.startTime <= end && job.endTime >= start;
                }
            }["useSchedule.useMemo[visibleJobs]"]);
        }
    }["useSchedule.useMemo[visibleJobs]"], [
        filteredJobs,
        visibleTimeRange
    ]);
    // Get all jobs (unfiltered)
    const getAllJobs = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useSchedule.useCallback[getAllJobs]": ()=>Array.from(jobs.values())
    }["useSchedule.useCallback[getAllJobs]"], [
        jobs
    ]);
    return {
        // State
        isLoading,
        error,
        lastSync,
        // Data
        technicians: filteredTechnicians,
        jobs: filteredJobs,
        visibleJobs,
        // Selection
        selectedJobId,
        selectedTechnicianId,
        selectedJob: selectedJobId ? getJobById(selectedJobId) : null,
        // Actions
        getJobsForTechnician,
        getAllJobs,
        selectJob,
        selectTechnician,
        getUnassignedJobs: getUnassignedJobsFromStore,
        getJobsGroupedByTechnician: getJobsGroupedByTechnicianFromStore,
        unassignedHasMore,
        unassignedSearch,
        isLoadingUnassigned,
        unassignedTotalCount,
        loadMoreUnassignedJobs,
        // Mutations
        addJob,
        updateJob,
        moveJob,
        deleteJob,
        duplicateJob,
        // Sync
        refresh: syncWithServer
    };
}
_s(useSchedule, "Nf94IDSuKiZvhhSHEAVZdP4ajRc=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$view$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useViewStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$view$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useViewStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$view$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useViewStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$view$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useViewStore"]
    ];
});
function useScheduleRealtime() {
    _s1();
    const companyId = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"])({
        "useScheduleRealtime.useScheduleStore[companyId]": (state)=>state.companyId
    }["useScheduleRealtime.useScheduleStore[companyId]"]);
    const updateJob = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"])({
        "useScheduleRealtime.useScheduleStore[updateJob]": (state)=>state.updateJob
    }["useScheduleRealtime.useScheduleStore[updateJob]"]);
    const deleteJob = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"])({
        "useScheduleRealtime.useScheduleStore[deleteJob]": (state)=>state.deleteJob
    }["useScheduleRealtime.useScheduleStore[deleteJob]"]);
    const addJob = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"])({
        "useScheduleRealtime.useScheduleStore[addJob]": (state)=>state.addJob
    }["useScheduleRealtime.useScheduleStore[addJob]"]);
    const getJobById = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"])({
        "useScheduleRealtime.useScheduleStore[getJobById]": (state)=>state.getJobById
    }["useScheduleRealtime.useScheduleStore[getJobById]"]);
    const syncWithServer = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"])({
        "useScheduleRealtime.useScheduleStore[syncWithServer]": (state)=>state.syncWithServer
    }["useScheduleRealtime.useScheduleStore[syncWithServer]"]);
    const lastSync = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"])({
        "useScheduleRealtime.useScheduleStore[lastSync]": (state)=>state.lastSync
    }["useScheduleRealtime.useScheduleStore[lastSync]"]);
    const [isConnected, setIsConnected] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [connectionError, setConnectionError] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "useScheduleRealtime.useEffect": ()=>{
            if (!companyId) {
                return;
            }
            const supabase = (0, __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$database$2f$src$2f$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createClient"])();
            if (!supabase) {
                setConnectionError("Database connection not available");
                return;
            }
            const channelName = `schedule-realtime-${companyId}`;
            const channel = supabase.channel(channelName).on("postgres_changes", {
                event: "*",
                schema: "public",
                table: "appointments",
                filter: `company_id=eq.${companyId}`
            }, {
                "useScheduleRealtime.useEffect.channel": async (payload)=>{
                    const { eventType, new: newRecord, old: oldRecord } = payload;
                    switch(eventType){
                        case "DELETE":
                            {
                                // Remove job from store
                                const jobId = oldRecord?.id;
                                if (jobId) {
                                    deleteJob(jobId);
                                }
                                break;
                            }
                        case "UPDATE":
                            {
                                // For updates, try to merge changes into existing job
                                const record = newRecord;
                                const jobId = record.id;
                                if (!jobId) break;
                                const existingJob = getJobById(jobId);
                                if (existingJob) {
                                    // Merge updates into existing job
                                    const updates = {};
                                    if (record.title !== undefined) {
                                        updates.title = record.title;
                                    }
                                    if (record.description !== undefined) {
                                        updates.description = record.description;
                                    }
                                    if (record.status !== undefined) {
                                        updates.status = mapStatus(record.status);
                                    }
                                    if (record.start_time !== undefined) {
                                        updates.startTime = new Date(record.start_time);
                                    }
                                    if (record.end_time !== undefined) {
                                        updates.endTime = new Date(record.end_time);
                                    }
                                    if (record.assigned_to !== undefined) {
                                        // Assignment changed - need to handle technician change
                                        if (record.assigned_to === null) {
                                            updates.isUnassigned = true;
                                            updates.technicianId = "";
                                            updates.assignments = [];
                                        } else {
                                            updates.isUnassigned = false;
                                            updates.technicianId = record.assigned_to;
                                        }
                                    }
                                    if (Object.keys(updates).length > 0) {
                                        updateJob(jobId, updates);
                                    }
                                } else {
                                    // Job not in store - fetch fresh data
                                    await syncWithServer();
                                }
                                break;
                            }
                        case "INSERT":
                            {
                                // For new jobs, we need full data with joins
                                // Trigger a sync to get complete job with customer/property data
                                await syncWithServer();
                                break;
                            }
                    }
                }
            }["useScheduleRealtime.useEffect.channel"]).subscribe({
                "useScheduleRealtime.useEffect.channel": (status)=>{
                    if (status === "SUBSCRIBED") {
                        setIsConnected(true);
                        setConnectionError(null);
                    } else if (status === "CHANNEL_ERROR") {
                        setIsConnected(false);
                        setConnectionError("Failed to connect to real-time updates");
                    } else if (status === "CLOSED") {
                        setIsConnected(false);
                    }
                }
            }["useScheduleRealtime.useEffect.channel"]);
            return ({
                "useScheduleRealtime.useEffect": ()=>{
                    supabase.removeChannel(channel);
                    setIsConnected(false);
                }
            })["useScheduleRealtime.useEffect"];
        }
    }["useScheduleRealtime.useEffect"], [
        companyId,
        updateJob,
        deleteJob,
        addJob,
        getJobById,
        syncWithServer
    ]);
    return {
        isConnected,
        connectionError,
        lastUpdate: lastSync
    };
}
_s1(useScheduleRealtime, "HPBur0oPbFLBbow3OiBMrQtI8xA=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$schedule$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useScheduleStore"]
    ];
});
// Helper to map database status to Job status
function mapStatus(status) {
    const normalized = status?.toLowerCase() ?? "scheduled";
    switch(normalized){
        case "scheduled":
        case "dispatched":
        case "arrived":
        case "closed":
        case "cancelled":
            return normalized;
        case "in-progress":
        case "in_progress":
        case "inprogress":
            return "in-progress";
        case "completed":
        case "complete":
        case "done":
            return "completed";
        default:
            return "scheduled";
    }
}
/**
 * Hook for schedule statistics
 */ function useScheduleStats() {
    _s2();
    const { technicians, jobs, visibleJobs } = useSchedule();
    const stats = {
        totalTechnicians: technicians.length,
        totalJobs: jobs.length,
        visibleJobs: visibleJobs.length,
        scheduledJobs: jobs.filter((j)=>j.status === "scheduled").length,
        inProgressJobs: jobs.filter((j)=>j.status === "in-progress").length,
        completedJobs: jobs.filter((j)=>j.status === "completed").length,
        cancelledJobs: jobs.filter((j)=>j.status === "cancelled").length,
        urgentJobs: jobs.filter((j)=>j.priority === "urgent").length
    };
    return stats;
}
_s2(useScheduleStats, "6DayUr8FYM0FhUbE6F4DrrvBes4=", false, function() {
    return [
        useSchedule
    ];
});
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/components/schedule/team-avatar-manager.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "TeamAvatarGroup",
    ()=>TeamAvatarGroup
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$x$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__X$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/x.js [app-client] (ecmascript) <export default as X>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ui$2f$avatar$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/web/src/components/ui/avatar.tsx [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$avatar$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/src/avatar.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/src/lib/utils.ts [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature(), _s1 = __turbopack_context__.k.signature();
"use client";
;
;
;
;
function TeamAvatar({ assignment, onRemove, size = "sm" }) {
    _s();
    const [isHovered, setIsHovered] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const sizeClasses = size === "md" ? "size-8" : "size-6";
    const textSize = size === "md" ? "text-[10px]" : "text-[8px]";
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "relative",
        onMouseEnter: ()=>setIsHovered(true),
        onMouseLeave: ()=>setIsHovered(false),
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$avatar$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Avatar"], {
                className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])(sizeClasses, "border-card border-2 transition-all", isHovered && "ring-primary ring-2"),
                title: assignment.displayName,
                children: [
                    assignment.avatar && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("img", {
                        alt: assignment.displayName,
                        className: "size-full object-cover",
                        src: assignment.avatar
                    }, void 0, false, {
                        fileName: "[project]/apps/web/src/components/schedule/team-avatar-manager.tsx",
                        lineNumber: 38,
                        columnNumber: 6
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$avatar$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AvatarFallback"], {
                        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("bg-muted text-foreground font-bold", textSize),
                        children: assignment.displayName.split(" ").map((n)=>n[0]).join("").toUpperCase()
                    }, void 0, false, {
                        fileName: "[project]/apps/web/src/components/schedule/team-avatar-manager.tsx",
                        lineNumber: 44,
                        columnNumber: 5
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/apps/web/src/components/schedule/team-avatar-manager.tsx",
                lineNumber: 29,
                columnNumber: 4
            }, this),
            isHovered && onRemove && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                className: "bg-destructive text-destructive-foreground absolute -top-1 -right-1 flex size-4 items-center justify-center rounded-full shadow-md transition-transform hover:scale-110",
                onClick: (e)=>{
                    e.stopPropagation();
                    onRemove();
                },
                title: "Remove from job",
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$x$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__X$3e$__["X"], {
                    className: "size-3"
                }, void 0, false, {
                    fileName: "[project]/apps/web/src/components/schedule/team-avatar-manager.tsx",
                    lineNumber: 65,
                    columnNumber: 6
                }, this)
            }, void 0, false, {
                fileName: "[project]/apps/web/src/components/schedule/team-avatar-manager.tsx",
                lineNumber: 57,
                columnNumber: 5
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/apps/web/src/components/schedule/team-avatar-manager.tsx",
        lineNumber: 24,
        columnNumber: 3
    }, this);
}
_s(TeamAvatar, "FPQn8a98tPjpohC7NUYORQR8GJE=");
_c = TeamAvatar;
function TeamAvatarGroup({ assignments, maxVisible = 3, onRemove, onAddMember, size = "sm", jobId }) {
    _s1();
    const [showAll, setShowAll] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const visibleAssignments = showAll ? assignments : assignments.slice(0, maxVisible);
    const remainingCount = assignments.length - maxVisible;
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "flex shrink-0 items-center gap-1",
        "data-job-id": jobId,
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex -space-x-1.5",
                children: [
                    visibleAssignments.map((assignment, idx)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(TeamAvatar, {
                            assignment: assignment,
                            onRemove: onRemove ? ()=>onRemove(assignment.technicianId || "") : undefined,
                            size: size
                        }, idx, false, {
                            fileName: "[project]/apps/web/src/components/schedule/team-avatar-manager.tsx",
                            lineNumber: 97,
                            columnNumber: 6
                        }, this)),
                    !showAll && remainingCount > 0 && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                        className: "border-card bg-muted text-muted-foreground hover:bg-muted/80 hover:ring-primary flex size-6 items-center justify-center rounded-full border-2 text-[8px] font-bold transition-all hover:ring-2",
                        onClick: (e)=>{
                            e.stopPropagation();
                            setShowAll(true);
                        },
                        title: `Show ${remainingCount} more`,
                        children: [
                            "+",
                            remainingCount
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/src/components/schedule/team-avatar-manager.tsx",
                        lineNumber: 110,
                        columnNumber: 6
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/apps/web/src/components/schedule/team-avatar-manager.tsx",
                lineNumber: 95,
                columnNumber: 4
            }, this),
            onAddMember && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                className: "border-muted-foreground/30 bg-muted/50 text-muted-foreground hover:border-primary hover:bg-primary/10 hover:text-primary flex size-6 items-center justify-center rounded-full border-2 border-dashed transition-all",
                onClick: (e)=>{
                    e.stopPropagation();
                    onAddMember();
                },
                title: "Add team member",
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                    className: "relative flex items-center justify-center text-base leading-none font-bold",
                    style: {
                        top: "-1px"
                    },
                    children: "+"
                }, void 0, false, {
                    fileName: "[project]/apps/web/src/components/schedule/team-avatar-manager.tsx",
                    lineNumber: 133,
                    columnNumber: 6
                }, this)
            }, void 0, false, {
                fileName: "[project]/apps/web/src/components/schedule/team-avatar-manager.tsx",
                lineNumber: 125,
                columnNumber: 5
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/apps/web/src/components/schedule/team-avatar-manager.tsx",
        lineNumber: 94,
        columnNumber: 3
    }, this);
}
_s1(TeamAvatarGroup, "XC0nqMp5RnZIWkiCcJL//MdTvak=");
_c1 = TeamAvatarGroup;
var _c, _c1;
__turbopack_context__.k.register(_c, "TeamAvatar");
__turbopack_context__.k.register(_c1, "TeamAvatarGroup");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/components/schedule/kanban-view.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "KanbanView",
    ()=>KanbanView
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$date$2d$fns$40$4$2e$1$2e$0$2f$node_modules$2f$date$2d$fns$2f$format$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/format.js [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$briefcase$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Briefcase$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/briefcase.js [app-client] (ecmascript) <export default as Briefcase>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$calendar$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Calendar$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/calendar.js [app-client] (ecmascript) <export default as Calendar>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$car$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Car$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/car.js [app-client] (ecmascript) <export default as Car>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Check$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/check.js [app-client] (ecmascript) <export default as Check>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$clipboard$2d$check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__ClipboardCheck$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/clipboard-check.js [app-client] (ecmascript) <export default as ClipboardCheck>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$clock$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Clock$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/clock.js [app-client] (ecmascript) <export default as Clock>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$external$2d$link$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__ExternalLink$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/external-link.js [app-client] (ecmascript) <export default as ExternalLink>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$hard$2d$hat$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__HardHat$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/hard-hat.js [app-client] (ecmascript) <export default as HardHat>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$map$2d$pin$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__MapPin$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/map-pin.js [app-client] (ecmascript) <export default as MapPin>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$phone$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Phone$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/phone.js [app-client] (ecmascript) <export default as Phone>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$play$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Play$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/play.js [app-client] (ecmascript) <export default as Play>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$plus$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Plus$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/plus.js [app-client] (ecmascript) <export default as Plus>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$search$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Search$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/search.js [app-client] (ecmascript) <export default as Search>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$send$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Send$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/send.js [app-client] (ecmascript) <export default as Send>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$settings$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Settings$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/settings.js [app-client] (ecmascript) <export default as Settings>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$star$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Star$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/star.js [app-client] (ecmascript) <export default as Star>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$users$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Users$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/users.js [app-client] (ecmascript) <export default as Users>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$wrench$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Wrench$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/wrench.js [app-client] (ecmascript) <export default as Wrench>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$zap$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Zap$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/zap.js [app-client] (ecmascript) <export default as Zap>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$client$2f$app$2d$dir$2f$link$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/client/app-dir/link.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$sonner$40$2$2e$0$2e$7_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/sonner@2.0.7_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/sonner/dist/index.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$9172bf__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/apps/web/src/actions/data:9172bf [app-client] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$7ac4ae__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/apps/web/src/actions/data:7ac4ae [app-client] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$c144d7__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/apps/web/src/actions/data:c144d7 [app-client] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$a1731c__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/apps/web/src/actions/data:a1731c [app-client] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$06ff41__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/apps/web/src/actions/data:06ff41 [app-client] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/web/src/components/ui/button.tsx [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/src/button.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ui$2f$entity$2d$kanban$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/src/components/ui/entity-kanban.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$schedule$2f$quick$2d$appointment$2d$dialog$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/src/components/schedule/quick-appointment-dialog.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$schedule$2f$schedule$2d$job$2d$context$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/src/components/schedule/schedule-job-context-menu.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ui$2f$tooltip$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/web/src/components/ui/tooltip.tsx [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$tooltip$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/src/tooltip.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$hooks$2f$use$2d$schedule$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/src/hooks/use-schedule.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/src/lib/utils.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$schedule$2f$team$2d$avatar$2d$manager$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/src/components/schedule/team-avatar-manager.tsx [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature(), _s1 = __turbopack_context__.k.signature();
"use client";
;
;
;
;
;
;
;
;
;
;
;
;
;
;
const SCHEDULE_STATUS_COLUMNS = [
    {
        id: "unassigned",
        name: "Unscheduled",
        accentColor: "#EF4444"
    },
    {
        id: "scheduled",
        name: "Scheduled",
        accentColor: "#3B82F6"
    },
    {
        id: "dispatched",
        name: "Dispatched",
        accentColor: "#0EA5E9"
    },
    {
        id: "arrived",
        name: "Arrived",
        accentColor: "#34D399"
    },
    {
        id: "in-progress",
        name: "In Progress",
        accentColor: "#F59E0B"
    },
    {
        id: "closed",
        name: "Closed",
        accentColor: "#10B981"
    },
    {
        id: "completed",
        name: "Completed",
        accentColor: "#059669"
    },
    {
        id: "cancelled",
        name: "Cancelled",
        accentColor: "#94A3B8"
    }
];
const COLUMN_LABEL = new Map(SCHEDULE_STATUS_COLUMNS.map((column)=>[
        column.id,
        column.name
    ]));
const DEFAULT_STATUS = "scheduled";
function resolveStatus(status, technicianId) {
    // If no technician assigned, it's unscheduled
    if (!technicianId) {
        return "unassigned";
    }
    if (!status) {
        return DEFAULT_STATUS;
    }
    const normalized = status;
    return COLUMN_LABEL.has(normalized) ? normalized : DEFAULT_STATUS;
}
const JOB_TYPE_CONFIG = {
    emergency: {
        borderColor: "border-l-red-500",
        bgColor: "bg-red-500/10",
        icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$zap$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Zap$3e$__["Zap"],
        label: "Emergency"
    },
    repair: {
        borderColor: "border-l-orange-500",
        bgColor: "bg-orange-500/10",
        icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$wrench$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Wrench$3e$__["Wrench"],
        label: "Repair"
    },
    installation: {
        borderColor: "border-l-green-500",
        bgColor: "bg-green-500/10",
        icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$hard$2d$hat$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__HardHat$3e$__["HardHat"],
        label: "Installation"
    },
    maintenance: {
        borderColor: "border-l-blue-500",
        bgColor: "bg-blue-500/10",
        icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$settings$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Settings$3e$__["Settings"],
        label: "Maintenance"
    },
    premium_maintenance: {
        borderColor: "border-l-violet-500",
        bgColor: "bg-violet-500/10",
        icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$star$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Star$3e$__["Star"],
        label: "Premium"
    },
    inspection: {
        borderColor: "border-l-cyan-500",
        bgColor: "bg-cyan-500/10",
        icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$search$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Search$3e$__["Search"],
        label: "Inspection"
    },
    service: {
        borderColor: "border-l-sky-500",
        bgColor: "bg-sky-500/10",
        icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$clipboard$2d$check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__ClipboardCheck$3e$__["ClipboardCheck"],
        label: "Service"
    },
    service_call: {
        borderColor: "border-l-teal-500",
        bgColor: "bg-teal-500/10",
        icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$phone$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Phone$3e$__["Phone"],
        label: "Service Call"
    },
    estimate: {
        borderColor: "border-l-amber-500",
        bgColor: "bg-amber-500/10",
        icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$clipboard$2d$check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__ClipboardCheck$3e$__["ClipboardCheck"],
        label: "Estimate"
    },
    callback: {
        borderColor: "border-l-pink-500",
        bgColor: "bg-pink-500/10",
        icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$phone$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Phone$3e$__["Phone"],
        label: "Callback"
    },
    other: {
        borderColor: "border-l-slate-400",
        bgColor: "bg-slate-400/10",
        icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$clipboard$2d$check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__ClipboardCheck$3e$__["ClipboardCheck"],
        label: "Other"
    },
    default: {
        borderColor: "border-l-slate-400",
        bgColor: "bg-slate-400/10",
        icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$clipboard$2d$check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__ClipboardCheck$3e$__["ClipboardCheck"],
        label: "Job"
    }
};
const getJobTypeConfig = (job)=>{
    const config = job.jobType ? JOB_TYPE_CONFIG[job.jobType] : JOB_TYPE_CONFIG.default;
    return config || JOB_TYPE_CONFIG.default;
};
const getJobTypeColor = (job)=>{
    const config = getJobTypeConfig(job);
    return `border-l-4 ${config.borderColor}`;
};
const APPOINTMENT_CATEGORY_CONFIG = {
    job: {
        icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$briefcase$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Briefcase$3e$__["Briefcase"],
        label: "Job",
        bgColor: "bg-blue-500/10",
        textColor: "text-blue-600 dark:text-blue-400",
        borderStyle: "border-solid"
    },
    meeting: {
        icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$users$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Users$3e$__["Users"],
        label: "Meeting",
        bgColor: "bg-purple-500/10",
        textColor: "text-purple-600 dark:text-purple-400",
        borderStyle: "border-dashed"
    },
    event: {
        icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$calendar$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Calendar$3e$__["Calendar"],
        label: "Event",
        bgColor: "bg-emerald-500/10",
        textColor: "text-emerald-600 dark:text-emerald-400",
        borderStyle: "border-dotted"
    }
};
const getAppointmentCategoryConfig = (job)=>{
    const category = job.appointmentCategory || "job";
    return APPOINTMENT_CATEGORY_CONFIG[category];
};
// Job status color mapping (same as timeline view)
const getStatusColor = (status)=>{
    switch(status){
        case "scheduled":
            return "bg-blue-500";
        case "dispatched":
            return "bg-sky-500";
        case "arrived":
            return "bg-emerald-400";
        case "in-progress":
            return "bg-amber-500 animate-pulse";
        case "closed":
            return "bg-emerald-600";
        case "completed":
            return "bg-emerald-600";
        case "cancelled":
            return "bg-slate-400";
        default:
            return "bg-slate-500";
    }
};
function JobCard({ item }) {
    _s();
    const { entity: job } = item;
    const [isPending, startTransition] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTransition"])();
    const startTime = job.startTime instanceof Date ? job.startTime : new Date(job.startTime);
    const endTime = job.endTime instanceof Date ? job.endTime : new Date(job.endTime);
    // Quick action handlers
    const handleDispatch = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "JobCard.useCallback[handleDispatch]": (e)=>{
            e.stopPropagation();
            if (!job.jobId) return;
            startTransition({
                "JobCard.useCallback[handleDispatch]": async ()=>{
                    const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$06ff41__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["dispatchAppointment"])(job.jobId);
                    if (result.success) {
                        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$sonner$40$2$2e$0$2e$7_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].success("Job dispatched");
                    } else {
                        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$sonner$40$2$2e$0$2e$7_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error(result.error || "Failed to dispatch");
                    }
                }
            }["JobCard.useCallback[handleDispatch]"]);
        }
    }["JobCard.useCallback[handleDispatch]"], [
        job.jobId
    ]);
    const handleArrive = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "JobCard.useCallback[handleArrive]": (e)=>{
            e.stopPropagation();
            if (!job.jobId) return;
            startTransition({
                "JobCard.useCallback[handleArrive]": async ()=>{
                    const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$9172bf__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["arriveAppointment"])(job.jobId);
                    if (result.success) {
                        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$sonner$40$2$2e$0$2e$7_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].success("Marked as arrived");
                    } else {
                        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$sonner$40$2$2e$0$2e$7_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error(result.error || "Failed to update");
                    }
                }
            }["JobCard.useCallback[handleArrive]"]);
        }
    }["JobCard.useCallback[handleArrive]"], [
        job.jobId
    ]);
    const handleComplete = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "JobCard.useCallback[handleComplete]": (e)=>{
            e.stopPropagation();
            if (!job.jobId) return;
            startTransition({
                "JobCard.useCallback[handleComplete]": async ()=>{
                    const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$a1731c__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["completeAppointment"])(job.jobId);
                    if (result.success) {
                        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$sonner$40$2$2e$0$2e$7_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].success("Job completed");
                    } else {
                        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$sonner$40$2$2e$0$2e$7_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error(result.error || "Failed to complete");
                    }
                }
            }["JobCard.useCallback[handleComplete]"]);
        }
    }["JobCard.useCallback[handleComplete]"], [
        job.jobId
    ]);
    // Determine which quick action to show based on status
    const getQuickAction = ()=>{
        if (!job.jobId) return null;
        switch(job.status){
            case "scheduled":
                return {
                    icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$send$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Send$3e$__["Send"],
                    label: "Dispatch",
                    onClick: handleDispatch,
                    className: "bg-blue-500 hover:bg-blue-600 text-white"
                };
            case "dispatched":
                return {
                    icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$car$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Car$3e$__["Car"],
                    label: "Arrive",
                    onClick: handleArrive,
                    className: "bg-sky-500 hover:bg-sky-600 text-white"
                };
            case "arrived":
                return {
                    icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$play$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Play$3e$__["Play"],
                    label: "Start",
                    onClick: handleComplete,
                    className: "bg-emerald-500 hover:bg-emerald-600 text-white"
                };
            case "in-progress":
                return {
                    icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Check$3e$__["Check"],
                    label: "Done",
                    onClick: handleComplete,
                    className: "bg-amber-500 hover:bg-amber-600 text-white"
                };
            default:
                return null;
        }
    };
    const quickAction = getQuickAction();
    const categoryConfig = getAppointmentCategoryConfig(job);
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$tooltip$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TooltipProvider"], {
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$schedule$2f$schedule$2d$job$2d$context$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ScheduleJobContextMenu"], {
            job: job,
            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("group relative -m-4 flex flex-col gap-2 rounded-xl border-l-4 p-4", getJobTypeColor(job), categoryConfig.borderStyle),
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "absolute top-3 right-3 flex items-center gap-1.5",
                        children: [
                            quickAction && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$tooltip$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Tooltip"], {
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$tooltip$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TooltipTrigger"], {
                                        asChild: true,
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                            type: "button",
                                            onClick: quickAction.onClick,
                                            disabled: isPending,
                                            className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("flex size-6 items-center justify-center rounded-md opacity-0 transition-all group-hover:opacity-100", "focus:outline-none focus:ring-2 focus:ring-offset-1", quickAction.className, isPending && "cursor-wait opacity-50"),
                                            children: isPending ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: "size-3 animate-spin rounded-full border-2 border-white border-t-transparent"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                                                lineNumber: 385,
                                                columnNumber: 12
                                            }, this) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(quickAction.icon, {
                                                className: "size-3"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                                                lineNumber: 387,
                                                columnNumber: 12
                                            }, this)
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                                            lineNumber: 373,
                                            columnNumber: 10
                                        }, this)
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                                        lineNumber: 372,
                                        columnNumber: 9
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$tooltip$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TooltipContent"], {
                                        side: "top",
                                        className: "text-xs",
                                        children: quickAction.label
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                                        lineNumber: 391,
                                        columnNumber: 9
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                                lineNumber: 371,
                                columnNumber: 8
                            }, this),
                            job.jobId && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$tooltip$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Tooltip"], {
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$tooltip$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TooltipTrigger"], {
                                        asChild: true,
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$client$2f$app$2d$dir$2f$link$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                                            href: `/dashboard/work/${job.jobId}`,
                                            onClick: (e)=>e.stopPropagation(),
                                            className: "flex size-6 items-center justify-center rounded-md bg-slate-100 opacity-0 transition-all hover:bg-slate-200 group-hover:opacity-100 dark:bg-slate-800 dark:hover:bg-slate-700",
                                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$external$2d$link$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__ExternalLink$3e$__["ExternalLink"], {
                                                className: "size-3 text-slate-600 dark:text-slate-400"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                                                lineNumber: 406,
                                                columnNumber: 11
                                            }, this)
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                                            lineNumber: 401,
                                            columnNumber: 10
                                        }, this)
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                                        lineNumber: 400,
                                        columnNumber: 9
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$tooltip$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TooltipContent"], {
                                        side: "top",
                                        className: "text-xs",
                                        children: "View Details"
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                                        lineNumber: 409,
                                        columnNumber: 9
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                                lineNumber: 399,
                                columnNumber: 8
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("size-2 rounded-full", getStatusColor(job.status))
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                                lineNumber: 416,
                                columnNumber: 7
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                        lineNumber: 368,
                        columnNumber: 6
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex items-start gap-2 pr-16",
                        children: [
                            (()=>{
                                const CategoryIcon = categoryConfig.icon;
                                return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$tooltip$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Tooltip"], {
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$tooltip$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TooltipTrigger"], {
                                            asChild: true,
                                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("mt-0.5 flex size-4 shrink-0 items-center justify-center rounded-sm", categoryConfig.bgColor),
                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(CategoryIcon, {
                                                    className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("size-2.5", categoryConfig.textColor)
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                                                    lineNumber: 430,
                                                    columnNumber: 12
                                                }, this)
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                                                lineNumber: 429,
                                                columnNumber: 11
                                            }, this)
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                                            lineNumber: 428,
                                            columnNumber: 10
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$tooltip$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TooltipContent"], {
                                            side: "top",
                                            className: "text-xs",
                                            children: categoryConfig.label
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                                            lineNumber: 433,
                                            columnNumber: 10
                                        }, this)
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                                    lineNumber: 427,
                                    columnNumber: 9
                                }, this);
                            })(),
                            (()=>{
                                const typeConfig = getJobTypeConfig(job);
                                const TypeIcon = typeConfig.icon;
                                return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$tooltip$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Tooltip"], {
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$tooltip$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TooltipTrigger"], {
                                            asChild: true,
                                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("mt-0.5 flex size-5 shrink-0 items-center justify-center rounded", typeConfig.bgColor),
                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(TypeIcon, {
                                                    className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("size-3", typeConfig.borderColor.replace("border-l-", "text-"))
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                                                    lineNumber: 447,
                                                    columnNumber: 12
                                                }, this)
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                                                lineNumber: 446,
                                                columnNumber: 11
                                            }, this)
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                                            lineNumber: 445,
                                            columnNumber: 10
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$tooltip$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TooltipContent"], {
                                            side: "top",
                                            className: "text-xs",
                                            children: typeConfig.label
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                                            lineNumber: 450,
                                            columnNumber: 10
                                        }, this)
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                                    lineNumber: 444,
                                    columnNumber: 9
                                }, this);
                            })(),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "min-w-0 flex-1",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("h3", {
                                        className: "text-foreground truncate text-sm leading-tight font-semibold",
                                        children: job.customer?.name || "Unknown Customer"
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                                        lineNumber: 457,
                                        columnNumber: 8
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                        className: "text-muted-foreground truncate text-xs",
                                        children: job.title
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                                        lineNumber: 460,
                                        columnNumber: 8
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                                lineNumber: 456,
                                columnNumber: 7
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                        lineNumber: 422,
                        columnNumber: 6
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex flex-col gap-1",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "text-muted-foreground flex items-center gap-1.5 text-xs",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$clock$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Clock$3e$__["Clock"], {
                                        className: "size-3 shrink-0"
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                                        lineNumber: 467,
                                        columnNumber: 8
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        className: "truncate",
                                        children: [
                                            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$date$2d$fns$40$4$2e$1$2e$0$2f$node_modules$2f$date$2d$fns$2f$format$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["format"])(startTime, "h:mm a"),
                                            " - ",
                                            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$date$2d$fns$40$4$2e$1$2e$0$2f$node_modules$2f$date$2d$fns$2f$format$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["format"])(endTime, "h:mm a")
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                                        lineNumber: 468,
                                        columnNumber: 8
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                                lineNumber: 466,
                                columnNumber: 7
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "text-muted-foreground flex items-center gap-1.5 text-xs",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$calendar$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Calendar$3e$__["Calendar"], {
                                        className: "size-3 shrink-0"
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                                        lineNumber: 473,
                                        columnNumber: 8
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        className: "truncate",
                                        children: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$date$2d$fns$40$4$2e$1$2e$0$2f$node_modules$2f$date$2d$fns$2f$format$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__["format"])(startTime, "MMM d, yyyy")
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                                        lineNumber: 474,
                                        columnNumber: 8
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                                lineNumber: 472,
                                columnNumber: 7
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                        lineNumber: 465,
                        columnNumber: 6
                    }, this),
                    job.location?.address?.street && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "text-muted-foreground flex items-center gap-1.5 text-xs",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$map$2d$pin$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__MapPin$3e$__["MapPin"], {
                                className: "size-3 shrink-0"
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                                lineNumber: 481,
                                columnNumber: 8
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "truncate",
                                children: job.location.address.street
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                                lineNumber: 482,
                                columnNumber: 8
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                        lineNumber: 480,
                        columnNumber: 7
                    }, this),
                    job.assignments.length > 0 && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "border-t pt-2",
                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$schedule$2f$team$2d$avatar$2d$manager$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TeamAvatarGroup"], {
                            assignments: job.assignments,
                            jobId: job.id,
                            maxVisible: 3,
                            size: "sm"
                        }, void 0, false, {
                            fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                            lineNumber: 489,
                            columnNumber: 8
                        }, this)
                    }, void 0, false, {
                        fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                        lineNumber: 488,
                        columnNumber: 7
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                lineNumber: 360,
                columnNumber: 5
            }, this)
        }, void 0, false, {
            fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
            lineNumber: 359,
            columnNumber: 4
        }, this)
    }, void 0, false, {
        fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
        lineNumber: 358,
        columnNumber: 3
    }, this);
}
_s(JobCard, "qrV/WrHrMuiH7BDtLI/xrtEpxZ8=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTransition"]
    ];
});
_c = JobCard;
function KanbanView() {
    _s1();
    const { getAllJobs, isLoading } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$hooks$2f$use$2d$schedule$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useSchedule"])();
    const [_isPending, startTransition] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTransition"])();
    const [showQuickAppointment, setShowQuickAppointment] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const jobs = getAllJobs();
    const handleItemMove = async ({ item, fromColumnId, toColumnId })=>{
        if (fromColumnId === toColumnId) {
            return;
        }
        const jobItem = item;
        startTransition(()=>{
            void (async ()=>{
                let result = {
                    success: false,
                    error: "Unknown status"
                };
                // Handle moving to/from unassigned
                if (toColumnId === "unassigned") {
                    // Moving to unassigned - unassign the job
                    const { unassignAppointment } = await __turbopack_context__.A("[project]/apps/web/src/actions/schedule-assignments.ts [app-client] (ecmascript, async loader)");
                    result = await unassignAppointment(jobItem.entity.id);
                    if (result.success) {
                        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$sonner$40$2$2e$0$2e$7_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].success("Appointment unscheduled");
                    }
                    return;
                }
                const newStatus = toColumnId;
                // Call appropriate action based on new status
                switch(newStatus){
                    case "dispatched":
                        result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$06ff41__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["dispatchAppointment"])(jobItem.entity.id);
                        break;
                    case "arrived":
                        result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$9172bf__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["arriveAppointment"])(jobItem.entity.id);
                        break;
                    case "closed":
                        result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$c144d7__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["closeAppointment"])(jobItem.entity.id);
                        break;
                    case "completed":
                        result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$a1731c__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["completeAppointment"])(jobItem.entity.id);
                        break;
                    case "cancelled":
                        result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$7ac4ae__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["cancelAppointment"])(jobItem.entity.id);
                        break;
                    default:
                        // For "scheduled" and "in-progress", we'd need new actions
                        result = {
                            success: false,
                            error: "Status change not supported"
                        };
                }
                if (!result.success) {
                    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$sonner$40$2$2e$0$2e$7_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error("Unable to move appointment", {
                        description: result.error
                    });
                    return;
                }
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$sonner$40$2$2e$0$2e$7_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].success(`Appointment moved to ${COLUMN_LABEL.get(newStatus)}`);
            })();
        });
    };
    if (isLoading) {
        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            className: "flex h-full w-full items-center justify-center",
            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "text-muted-foreground",
                children: "Loading schedule..."
            }, void 0, false, {
                fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                lineNumber: 580,
                columnNumber: 5
            }, this)
        }, void 0, false, {
            fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
            lineNumber: 579,
            columnNumber: 4
        }, this);
    }
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "relative h-full overflow-auto",
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ui$2f$entity$2d$kanban$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["EntityKanban"], {
                calculateColumnMeta: (columnId, items)=>{
                    const columnItems = items.filter((item)=>item.columnId === columnId);
                    return {
                        count: columnItems.length
                    };
                },
                columns: SCHEDULE_STATUS_COLUMNS,
                data: jobs,
                entityName: "appointments",
                mapToKanbanItem: (job)=>({
                        id: job.id,
                        columnId: resolveStatus(job.status, job.technicianId),
                        entity: job
                    }),
                onItemMove: handleItemMove,
                renderCard: (item)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(JobCard, {
                        item: item
                    }, void 0, false, {
                        fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                        lineNumber: 603,
                        columnNumber: 27
                    }, void 0),
                updateEntityStatus: (job, newStatus)=>newStatus === "unassigned" ? {
                        ...job,
                        isUnassigned: true
                    } : {
                        ...job,
                        status: newStatus,
                        isUnassigned: false
                    }
            }, void 0, false, {
                fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                lineNumber: 587,
                columnNumber: 4
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$tooltip$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TooltipProvider"], {
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$tooltip$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Tooltip"], {
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$tooltip$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TooltipTrigger"], {
                            asChild: true,
                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Button"], {
                                size: "icon",
                                className: "fixed bottom-6 right-6 z-50 size-12 rounded-full shadow-lg",
                                onClick: ()=>setShowQuickAppointment(true),
                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$plus$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Plus$3e$__["Plus"], {
                                    className: "size-5"
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                                    lineNumber: 627,
                                    columnNumber: 8
                                }, this)
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                                lineNumber: 622,
                                columnNumber: 7
                            }, this)
                        }, void 0, false, {
                            fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                            lineNumber: 621,
                            columnNumber: 6
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$tooltip$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TooltipContent"], {
                            side: "left",
                            children: "Create Appointment"
                        }, void 0, false, {
                            fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                            lineNumber: 630,
                            columnNumber: 6
                        }, this)
                    ]
                }, void 0, true, {
                    fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                    lineNumber: 620,
                    columnNumber: 5
                }, this)
            }, void 0, false, {
                fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                lineNumber: 619,
                columnNumber: 4
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$schedule$2f$quick$2d$appointment$2d$dialog$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["QuickAppointmentDialog"], {
                open: showQuickAppointment,
                onOpenChange: setShowQuickAppointment,
                onSuccess: ()=>{
                    setShowQuickAppointment(false);
                    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$sonner$40$2$2e$0$2e$7_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].success("Appointment created");
                }
            }, void 0, false, {
                fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
                lineNumber: 637,
                columnNumber: 4
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/apps/web/src/components/schedule/kanban-view.tsx",
        lineNumber: 586,
        columnNumber: 3
    }, this);
}
_s1(KanbanView, "Pxd0OGD35bfMAZFKDltrUarXg74=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$hooks$2f$use$2d$schedule$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useSchedule"],
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTransition"]
    ];
});
_c1 = KanbanView;
var _c, _c1;
__turbopack_context__.k.register(_c, "JobCard");
__turbopack_context__.k.register(_c1, "KanbanView");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/components/schedule/kanban-view.tsx [app-client] (ecmascript, next/dynamic entry)", ((__turbopack_context__) => {

__turbopack_context__.n(__turbopack_context__.i("[project]/apps/web/src/components/schedule/kanban-view.tsx [app-client] (ecmascript)"));
}),
]);

//# sourceMappingURL=apps_web_src_de814730._.js.map