(globalThis.TURBOPACK || (globalThis.TURBOPACK = [])).push([typeof document === "object" ? document.currentScript : undefined,
"[project]/apps/web/src/actions/data:ed6a5a [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"409fd913f4a9df89acb91012593a14f1e8b4179ca8":"deleteNotification"},"apps/web/src/actions/notifications.ts",""] */ __turbopack_context__.s([
    "deleteNotification",
    ()=>deleteNotification
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var deleteNotification = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("409fd913f4a9df89acb91012593a14f1e8b4179ca8", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "deleteNotification"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vbm90aWZpY2F0aW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzZXJ2ZXJcIjtcblxuLyoqXG4gKiBOb3RpZmljYXRpb25zIFNlcnZlciBBY3Rpb25zXG4gKlxuICogU2VydmVyLXNpZGUgb3BlcmF0aW9ucyBmb3IgdGhlIG5vdGlmaWNhdGlvbnMgc3lzdGVtIGluY2x1ZGluZzpcbiAqIC0gRmV0Y2hpbmcgbm90aWZpY2F0aW9ucyB3aXRoIGZpbHRlcmluZyBhbmQgcGFnaW5hdGlvblxuICogLSBDcmVhdGluZyBuZXcgbm90aWZpY2F0aW9uc1xuICogLSBNYXJraW5nIG5vdGlmaWNhdGlvbnMgYXMgcmVhZC91bnJlYWRcbiAqIC0gRGVsZXRpbmcgbm90aWZpY2F0aW9uc1xuICogLSBNYW5hZ2luZyBub3RpZmljYXRpb24gcHJlZmVyZW5jZXNcbiAqXG4gKiBQZXJmb3JtYW5jZSBvcHRpbWl6YXRpb25zOlxuICogLSBTZXJ2ZXItc2lkZSBkYXRhIGZldGNoaW5nIGFuZCB2YWxpZGF0aW9uXG4gKiAtIEVmZmljaWVudCBkYXRhYmFzZSBxdWVyaWVzIHdpdGggcHJvcGVyIGluZGV4ZXNcbiAqIC0gUkxTIHBvbGljaWVzIGZvciBzZWN1cml0eVxuICogLSBab2QgdmFsaWRhdGlvbiBmb3IgYWxsIGlucHV0c1xuICovXG5cbmltcG9ydCB7IHJldmFsaWRhdGVQYXRoIH0gZnJvbSBcIm5leHQvY2FjaGVcIjtcbmltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG5pbXBvcnQge1xuXHR0eXBlIENyZWF0ZU5vdGlmaWNhdGlvbklucHV0LFxuXHRDcmVhdGVOb3RpZmljYXRpb25TY2hlbWEsXG5cdHR5cGUgR2V0Tm90aWZpY2F0aW9uc0lucHV0LFxuXHRHZXROb3RpZmljYXRpb25zU2NoZW1hLFxuXHR0eXBlIE5vdGlmaWNhdGlvblByZWZlcmVuY2UsXG5cdE5vdGlmaWNhdGlvblByZWZlcmVuY2VTY2hlbWEsXG59IGZyb20gXCJAL2xpYi9ub3RpZmljYXRpb25zL3R5cGVzXCI7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tIFwiQC9saWIvc3VwYWJhc2Uvc2VydmVyXCI7XG5cbi8vIE5PVEU6IFR5cGUgcmUtZXhwb3J0cyByZW1vdmVkIHRvIGNvbXBseSB3aXRoIE5leHQuanMgMTYgXCJ1c2Ugc2VydmVyXCIgcmVzdHJpY3Rpb25zXG4vLyBJbXBvcnQgdHlwZXMgZGlyZWN0bHkgZnJvbSBAL2xpYi9ub3RpZmljYXRpb25zL3R5cGVzIGluc3RlYWRcblxuY29uc3QgVXBkYXRlTm90aWZpY2F0aW9uUHJlZmVyZW5jZXNTY2hlbWEgPSB6LmFycmF5KFxuXHROb3RpZmljYXRpb25QcmVmZXJlbmNlU2NoZW1hLFxuKTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gSGVscGVyIEZ1bmN0aW9uc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIEdldCBhdXRoZW50aWNhdGVkIHVzZXIgYW5kIGNvbXBhbnkgY29udGV4dFxuICovXG5hc3luYyBmdW5jdGlvbiBnZXRBdXRoQ29udGV4dCgpOiBQcm9taXNlPHtcblx0dXNlcklkOiBzdHJpbmc7XG5cdGNvbXBhbnlJZDogc3RyaW5nO1xuXHRzdXBhYmFzZTogTm9uTnVsbGFibGU8QXdhaXRlZDxSZXR1cm5UeXBlPHR5cGVvZiBjcmVhdGVDbGllbnQ+Pj47XG59PiB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIlN1cGFiYXNlIGNsaWVudCBub3QgY29uZmlndXJlZFwiKTtcblx0fVxuXG5cdGNvbnN0IHtcblx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHRlcnJvcjogYXV0aEVycm9yLFxuXHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0aWYgKGF1dGhFcnJvciB8fCAhdXNlcikge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIk5vdCBhdXRoZW50aWNhdGVkXCIpO1xuXHR9XG5cblx0Ly8gR2V0IHVzZXIncyBhY3RpdmUgY29tcGFueSBmcm9tIHRlYW1fbWVtYmVyc1xuXHRjb25zdCB7IGRhdGE6IHRlYW1NZW1iZXIsIGVycm9yOiB0ZWFtRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0LmZyb20oXCJjb21wYW55X21lbWJlcnNoaXBzXCIpXG5cdFx0LnNlbGVjdChcImNvbXBhbnlfaWRcIilcblx0XHQuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpXG5cdFx0LmVxKFwic3RhdHVzXCIsIFwiYWN0aXZlXCIpXG5cdFx0Lm1heWJlU2luZ2xlKCk7XG5cblx0aWYgKHRlYW1FcnJvcikge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBmZXRjaCB1c2VyIGNvbXBhbnlcIik7XG5cdH1cblxuXHRpZiAoIXRlYW1NZW1iZXIpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJObyBhY3RpdmUgY29tcGFueSBmb3VuZFwiKTtcblx0fVxuXG5cdHJldHVybiB7XG5cdFx0dXNlcklkOiB1c2VyLmlkLFxuXHRcdGNvbXBhbnlJZDogdGVhbU1lbWJlci5jb21wYW55X2lkLFxuXHRcdHN1cGFiYXNlLFxuXHR9O1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBOb3RpZmljYXRpb24gQ1JVRCBPcGVyYXRpb25zXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogR2V0IG5vdGlmaWNhdGlvbnMgZm9yIHRoZSBjdXJyZW50IHVzZXJcbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyAtIEZpbHRlcmluZyBhbmQgcGFnaW5hdGlvbiBvcHRpb25zXG4gKiBAcmV0dXJucyBBcnJheSBvZiBub3RpZmljYXRpb25zIGFuZCB0b3RhbCBjb3VudFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Tm90aWZpY2F0aW9ucyhcblx0b3B0aW9ucz86IFBhcnRpYWw8R2V0Tm90aWZpY2F0aW9uc0lucHV0Pixcbikge1xuXHR0cnkge1xuXHRcdC8vIE5vdGlmaWNhdGlvbnMgYXJlIHVzZXItc3BlY2lmaWMsIG5vdCBjb21wYW55LXNwZWNpZmljXG5cdFx0Ly8gU28gd2UgZG9uJ3QgbmVlZCB0aGUgZnVsbCBhdXRoIGNvbnRleHQgd2l0aCBjb21wYW55XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIlN1cGFiYXNlIGNsaWVudCBub3QgY29uZmlndXJlZFwiKTtcblx0XHR9XG5cblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHRcdGVycm9yOiBhdXRoRXJyb3IsXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKGF1dGhFcnJvciB8fCAhdXNlcikge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiTm90IGF1dGhlbnRpY2F0ZWRcIik7XG5cdFx0fVxuXG5cdFx0Y29uc3QgdXNlcklkID0gdXNlci5pZDtcblxuXHRcdC8vIFZhbGlkYXRlIGlucHV0XG5cdFx0Y29uc3QgdmFsaWRhdGVkT3B0aW9ucyA9IEdldE5vdGlmaWNhdGlvbnNTY2hlbWEucGFyc2Uob3B0aW9ucyB8fCB7fSk7XG5cblx0XHQvLyBCdWlsZCBxdWVyeVxuXHRcdGxldCBxdWVyeSA9IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcIm5vdGlmaWNhdGlvbnNcIilcblx0XHRcdC5zZWxlY3QoXCIqXCIsIHsgY291bnQ6IFwiZXhhY3RcIiB9KVxuXHRcdFx0LmVxKFwidXNlcl9pZFwiLCB1c2VySWQpXG5cdFx0XHQub3JkZXIoXCJjcmVhdGVkX2F0XCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcblxuXHRcdC8vIEFwcGx5IGZpbHRlcnNcblx0XHRpZiAodmFsaWRhdGVkT3B0aW9ucy51bnJlYWRPbmx5KSB7XG5cdFx0XHRxdWVyeSA9IHF1ZXJ5LmVxKFwicmVhZFwiLCBmYWxzZSk7XG5cdFx0fVxuXG5cdFx0aWYgKHZhbGlkYXRlZE9wdGlvbnMudHlwZSkge1xuXHRcdFx0cXVlcnkgPSBxdWVyeS5lcShcInR5cGVcIiwgdmFsaWRhdGVkT3B0aW9ucy50eXBlKTtcblx0XHR9XG5cblx0XHRpZiAodmFsaWRhdGVkT3B0aW9ucy5wcmlvcml0eSkge1xuXHRcdFx0cXVlcnkgPSBxdWVyeS5lcShcInByaW9yaXR5XCIsIHZhbGlkYXRlZE9wdGlvbnMucHJpb3JpdHkpO1xuXHRcdH1cblxuXHRcdC8vIEFwcGx5IHBhZ2luYXRpb25cblx0XHRxdWVyeSA9IHF1ZXJ5LnJhbmdlKFxuXHRcdFx0dmFsaWRhdGVkT3B0aW9ucy5vZmZzZXQsXG5cdFx0XHR2YWxpZGF0ZWRPcHRpb25zLm9mZnNldCArIHZhbGlkYXRlZE9wdGlvbnMubGltaXQgLSAxLFxuXHRcdCk7XG5cblx0XHRjb25zdCB7IGRhdGEsIGVycm9yLCBjb3VudCB9ID0gYXdhaXQgcXVlcnk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogXCJGYWlsZWQgdG8gZmV0Y2ggbm90aWZpY2F0aW9uc1wiLFxuXHRcdFx0XHRkYXRhOiBbXSxcblx0XHRcdFx0Y291bnQ6IDAsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0ZGF0YTogZGF0YSB8fCBbXSxcblx0XHRcdGNvdW50OiBjb3VudCB8fCAwLFxuXHRcdH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0aWYgKGVycm9yIGluc3RhbmNlb2Ygei5ab2RFcnJvcikge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOiBlcnJvci5pc3N1ZXNbMF0/Lm1lc3NhZ2UgfHwgXCJWYWxpZGF0aW9uIGVycm9yXCIsXG5cdFx0XHRcdGRhdGE6IFtdLFxuXHRcdFx0XHRjb3VudDogMCxcblx0XHRcdH07XG5cdFx0fVxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiQW4gZXJyb3Igb2NjdXJyZWRcIixcblx0XHRcdGRhdGE6IFtdLFxuXHRcdFx0Y291bnQ6IDAsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIEdldCB1bnJlYWQgbm90aWZpY2F0aW9uIGNvdW50IGZvciB0aGUgY3VycmVudCB1c2VyXG4gKlxuICogQHJldHVybnMgTnVtYmVyIG9mIHVucmVhZCBub3RpZmljYXRpb25zXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldFVucmVhZENvdW50KCkge1xuXHR0cnkge1xuXHRcdGNvbnN0IHsgdXNlcklkLCBzdXBhYmFzZSB9ID0gYXdhaXQgZ2V0QXV0aENvbnRleHQoKTtcblxuXHRcdC8vIFVzZSB0aGUgZGF0YWJhc2UgZnVuY3Rpb24gZm9yIG9wdGltaXplZCBjb3VudGluZ1xuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnJwYyhcblx0XHRcdFwiZ2V0X3VucmVhZF9ub3RpZmljYXRpb25fY291bnRcIixcblx0XHRcdHtcblx0XHRcdFx0cF91c2VyX2lkOiB1c2VySWQsXG5cdFx0XHR9LFxuXHRcdCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogXCJGYWlsZWQgdG8gZmV0Y2ggdW5yZWFkIGNvdW50XCIsXG5cdFx0XHRcdGNvdW50OiAwLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBjb3VudDogZGF0YSB8fCAwIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJBbiBlcnJvciBvY2N1cnJlZFwiLFxuXHRcdFx0Y291bnQ6IDAsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBub3RpZmljYXRpb25cbiAqXG4gKiBAcGFyYW0gaW5wdXQgLSBOb3RpZmljYXRpb24gZGF0YVxuICogQHJldHVybnMgQ3JlYXRlZCBub3RpZmljYXRpb25cbiAqL1xuYXN5bmMgZnVuY3Rpb24gY3JlYXRlTm90aWZpY2F0aW9uKGlucHV0OiBDcmVhdGVOb3RpZmljYXRpb25JbnB1dCkge1xuXHR0cnkge1xuXHRcdGNvbnN0IHsgc3VwYWJhc2UgfSA9IGF3YWl0IGdldEF1dGhDb250ZXh0KCk7XG5cblx0XHQvLyBWYWxpZGF0ZSBpbnB1dFxuXHRcdGNvbnN0IHZhbGlkYXRlZERhdGEgPSBDcmVhdGVOb3RpZmljYXRpb25TY2hlbWEucGFyc2UoaW5wdXQpO1xuXG5cdFx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwibm90aWZpY2F0aW9uc1wiKVxuXHRcdFx0Lmluc2VydCh7XG5cdFx0XHRcdHVzZXJfaWQ6IHZhbGlkYXRlZERhdGEudXNlcklkLFxuXHRcdFx0XHRjb21wYW55X2lkOiB2YWxpZGF0ZWREYXRhLmNvbXBhbnlJZCxcblx0XHRcdFx0dHlwZTogdmFsaWRhdGVkRGF0YS50eXBlLFxuXHRcdFx0XHRwcmlvcml0eTogdmFsaWRhdGVkRGF0YS5wcmlvcml0eSxcblx0XHRcdFx0dGl0bGU6IHZhbGlkYXRlZERhdGEudGl0bGUsXG5cdFx0XHRcdG1lc3NhZ2U6IHZhbGlkYXRlZERhdGEubWVzc2FnZSxcblx0XHRcdFx0YWN0aW9uX3VybDogdmFsaWRhdGVkRGF0YS5hY3Rpb25VcmwsXG5cdFx0XHRcdGFjdGlvbl9sYWJlbDogdmFsaWRhdGVkRGF0YS5hY3Rpb25MYWJlbCxcblx0XHRcdFx0bWV0YWRhdGE6IHZhbGlkYXRlZERhdGEubWV0YWRhdGEgfHwge30sXG5cdFx0XHR9KVxuXHRcdFx0LnNlbGVjdCgpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gY3JlYXRlIG5vdGlmaWNhdGlvblwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gUmV2YWxpZGF0ZSBwYXRocyB3aGVyZSBub3RpZmljYXRpb25zIGFwcGVhclxuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZFwiKTtcblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvbm90aWZpY2F0aW9uc1wiKTtcblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGEgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRpZiAoZXJyb3IgaW5zdGFuY2VvZiB6LlpvZEVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGVycm9yLmlzc3Vlc1swXT8ubWVzc2FnZSB8fCBcIlZhbGlkYXRpb24gZXJyb3JcIixcblx0XHRcdH07XG5cdFx0fVxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiQW4gZXJyb3Igb2NjdXJyZWRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogTWFyayBhIG5vdGlmaWNhdGlvbiBhcyByZWFkXG4gKlxuICogQHBhcmFtIG5vdGlmaWNhdGlvbklkIC0gSUQgb2YgdGhlIG5vdGlmaWNhdGlvbiB0byBtYXJrIGFzIHJlYWRcbiAqIEByZXR1cm5zIFN1Y2Nlc3Mgc3RhdHVzXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBtYXJrQXNSZWFkKG5vdGlmaWNhdGlvbklkOiBzdHJpbmcpIHtcblx0dHJ5IHtcblx0XHRjb25zdCB7IHVzZXJJZCwgc3VwYWJhc2UgfSA9IGF3YWl0IGdldEF1dGhDb250ZXh0KCk7XG5cblx0XHQvLyBWYWxpZGF0ZSBVVUlEXG5cdFx0Y29uc3QgaWRTY2hlbWEgPSB6LnN0cmluZygpLnV1aWQoXCJJbnZhbGlkIG5vdGlmaWNhdGlvbiBJRFwiKTtcblx0XHRjb25zdCB2YWxpZGF0ZWRJZCA9IGlkU2NoZW1hLnBhcnNlKG5vdGlmaWNhdGlvbklkKTtcblxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcIm5vdGlmaWNhdGlvbnNcIilcblx0XHRcdC51cGRhdGUoeyByZWFkOiB0cnVlIH0pXG5cdFx0XHQuZXEoXCJpZFwiLCB2YWxpZGF0ZWRJZClcblx0XHRcdC5lcShcInVzZXJfaWRcIiwgdXNlcklkKTsgLy8gRW5zdXJlIHVzZXIgb3ducyB0aGUgbm90aWZpY2F0aW9uXG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gbWFyayBub3RpZmljYXRpb24gYXMgcmVhZFwiIH07XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkXCIpO1xuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9ub3RpZmljYXRpb25zXCIpO1xuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGlmIChlcnJvciBpbnN0YW5jZW9mIHouWm9kRXJyb3IpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogZXJyb3IuaXNzdWVzWzBdPy5tZXNzYWdlIHx8IFwiVmFsaWRhdGlvbiBlcnJvclwiLFxuXHRcdFx0fTtcblx0XHR9XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJBbiBlcnJvciBvY2N1cnJlZFwiLFxuXHRcdH07XG5cdH1cbn1cblxuLyoqXG4gKiBNYXJrIGFsbCBub3RpZmljYXRpb25zIGFzIHJlYWQgZm9yIHRoZSBjdXJyZW50IHVzZXJcbiAqXG4gKiBAcmV0dXJucyBOdW1iZXIgb2Ygbm90aWZpY2F0aW9ucyBtYXJrZWQgYXMgcmVhZFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbWFya0FsbEFzUmVhZCgpIHtcblx0dHJ5IHtcblx0XHRjb25zdCB7IHVzZXJJZCwgc3VwYWJhc2UgfSA9IGF3YWl0IGdldEF1dGhDb250ZXh0KCk7XG5cblx0XHQvLyBVc2UgdGhlIGRhdGFiYXNlIGZ1bmN0aW9uIGZvciBidWxrIG9wZXJhdGlvblxuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnJwYyhcIm1hcmtfYWxsX25vdGlmaWNhdGlvbnNfcmVhZFwiLCB7XG5cdFx0XHRwX3VzZXJfaWQ6IHVzZXJJZCxcblx0XHR9KTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOiBcIkZhaWxlZCB0byBtYXJrIGFsbCBub3RpZmljYXRpb25zIGFzIHJlYWRcIixcblx0XHRcdFx0Y291bnQ6IDAsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZFwiKTtcblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvbm90aWZpY2F0aW9uc1wiKTtcblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGNvdW50OiBkYXRhIHx8IDAgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkFuIGVycm9yIG9jY3VycmVkXCIsXG5cdFx0XHRjb3VudDogMCxcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogTWFyayBhIG5vdGlmaWNhdGlvbiBhcyB1bnJlYWRcbiAqXG4gKiBAcGFyYW0gbm90aWZpY2F0aW9uSWQgLSBJRCBvZiB0aGUgbm90aWZpY2F0aW9uIHRvIG1hcmsgYXMgdW5yZWFkXG4gKiBAcmV0dXJucyBTdWNjZXNzIHN0YXR1c1xuICovXG5hc3luYyBmdW5jdGlvbiBtYXJrQXNVbnJlYWQobm90aWZpY2F0aW9uSWQ6IHN0cmluZykge1xuXHR0cnkge1xuXHRcdGNvbnN0IHsgdXNlcklkLCBzdXBhYmFzZSB9ID0gYXdhaXQgZ2V0QXV0aENvbnRleHQoKTtcblxuXHRcdC8vIFZhbGlkYXRlIFVVSURcblx0XHRjb25zdCBpZFNjaGVtYSA9IHouc3RyaW5nKCkudXVpZChcIkludmFsaWQgbm90aWZpY2F0aW9uIElEXCIpO1xuXHRcdGNvbnN0IHZhbGlkYXRlZElkID0gaWRTY2hlbWEucGFyc2Uobm90aWZpY2F0aW9uSWQpO1xuXG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwibm90aWZpY2F0aW9uc1wiKVxuXHRcdFx0LnVwZGF0ZSh7IHJlYWQ6IGZhbHNlIH0pXG5cdFx0XHQuZXEoXCJpZFwiLCB2YWxpZGF0ZWRJZClcblx0XHRcdC5lcShcInVzZXJfaWRcIiwgdXNlcklkKTsgLy8gRW5zdXJlIHVzZXIgb3ducyB0aGUgbm90aWZpY2F0aW9uXG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gbWFyayBub3RpZmljYXRpb24gYXMgdW5yZWFkXCIgfTtcblx0XHR9XG5cblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmRcIik7XG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL25vdGlmaWNhdGlvbnNcIik7XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0aWYgKGVycm9yIGluc3RhbmNlb2Ygei5ab2RFcnJvcikge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOiBlcnJvci5pc3N1ZXNbMF0/Lm1lc3NhZ2UgfHwgXCJWYWxpZGF0aW9uIGVycm9yXCIsXG5cdFx0XHR9O1xuXHRcdH1cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkFuIGVycm9yIG9jY3VycmVkXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIERlbGV0ZSBhIG5vdGlmaWNhdGlvblxuICpcbiAqIEBwYXJhbSBub3RpZmljYXRpb25JZCAtIElEIG9mIHRoZSBub3RpZmljYXRpb24gdG8gZGVsZXRlXG4gKiBAcmV0dXJucyBTdWNjZXNzIHN0YXR1c1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbklkOiBzdHJpbmcpIHtcblx0dHJ5IHtcblx0XHRjb25zdCB7IHVzZXJJZCwgc3VwYWJhc2UgfSA9IGF3YWl0IGdldEF1dGhDb250ZXh0KCk7XG5cblx0XHQvLyBWYWxpZGF0ZSBVVUlEXG5cdFx0Y29uc3QgaWRTY2hlbWEgPSB6LnN0cmluZygpLnV1aWQoXCJJbnZhbGlkIG5vdGlmaWNhdGlvbiBJRFwiKTtcblx0XHRjb25zdCB2YWxpZGF0ZWRJZCA9IGlkU2NoZW1hLnBhcnNlKG5vdGlmaWNhdGlvbklkKTtcblxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcIm5vdGlmaWNhdGlvbnNcIilcblx0XHRcdC5kZWxldGUoKVxuXHRcdFx0LmVxKFwiaWRcIiwgdmFsaWRhdGVkSWQpXG5cdFx0XHQuZXEoXCJ1c2VyX2lkXCIsIHVzZXJJZCk7IC8vIEVuc3VyZSB1c2VyIG93bnMgdGhlIG5vdGlmaWNhdGlvblxuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRmFpbGVkIHRvIGRlbGV0ZSBub3RpZmljYXRpb25cIiB9O1xuXHRcdH1cblxuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZFwiKTtcblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvbm90aWZpY2F0aW9uc1wiKTtcblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRpZiAoZXJyb3IgaW5zdGFuY2VvZiB6LlpvZEVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGVycm9yLmlzc3Vlc1swXT8ubWVzc2FnZSB8fCBcIlZhbGlkYXRpb24gZXJyb3JcIixcblx0XHRcdH07XG5cdFx0fVxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiQW4gZXJyb3Igb2NjdXJyZWRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIE5vdGlmaWNhdGlvbiBQcmVmZXJlbmNlcyBPcGVyYXRpb25zXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogR2V0IG5vdGlmaWNhdGlvbiBwcmVmZXJlbmNlcyBmb3IgdGhlIGN1cnJlbnQgdXNlclxuICpcbiAqIEByZXR1cm5zIEFycmF5IG9mIG5vdGlmaWNhdGlvbiBwcmVmZXJlbmNlc1xuICovXG5hc3luYyBmdW5jdGlvbiBnZXROb3RpZmljYXRpb25QcmVmZXJlbmNlcygpIHtcblx0dHJ5IHtcblx0XHRjb25zdCB7IHVzZXJJZCwgY29tcGFueUlkLCBzdXBhYmFzZSB9ID0gYXdhaXQgZ2V0QXV0aENvbnRleHQoKTtcblxuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcIm5vdGlmaWNhdGlvbl9wcmVmZXJlbmNlc1wiKVxuXHRcdFx0LnNlbGVjdChcIipcIilcblx0XHRcdC5lcShcInVzZXJfaWRcIiwgdXNlcklkKVxuXHRcdFx0LmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IFwiRmFpbGVkIHRvIGZldGNoIG5vdGlmaWNhdGlvbiBwcmVmZXJlbmNlc1wiLFxuXHRcdFx0XHRkYXRhOiBbXSxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogZGF0YSB8fCBbXSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiQW4gZXJyb3Igb2NjdXJyZWRcIixcblx0XHRcdGRhdGE6IFtdLFxuXHRcdH07XG5cdH1cbn1cblxuLyoqXG4gKiBVcGRhdGUgbm90aWZpY2F0aW9uIHByZWZlcmVuY2VzIGZvciB0aGUgY3VycmVudCB1c2VyXG4gKlxuICogQHBhcmFtIHByZWZlcmVuY2VzIC0gQXJyYXkgb2Ygbm90aWZpY2F0aW9uIHByZWZlcmVuY2Ugc2V0dGluZ3NcbiAqIEByZXR1cm5zIFN1Y2Nlc3Mgc3RhdHVzXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZU5vdGlmaWNhdGlvblByZWZlcmVuY2VzKFxuXHRwcmVmZXJlbmNlczogTm90aWZpY2F0aW9uUHJlZmVyZW5jZVtdLFxuKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgeyB1c2VySWQsIGNvbXBhbnlJZCwgc3VwYWJhc2UgfSA9IGF3YWl0IGdldEF1dGhDb250ZXh0KCk7XG5cblx0XHQvLyBWYWxpZGF0ZSBpbnB1dFxuXHRcdGNvbnN0IHZhbGlkYXRlZFByZWZlcmVuY2VzID1cblx0XHRcdFVwZGF0ZU5vdGlmaWNhdGlvblByZWZlcmVuY2VzU2NoZW1hLnBhcnNlKHByZWZlcmVuY2VzKTtcblxuXHRcdC8vIERlbGV0ZSBleGlzdGluZyBwcmVmZXJlbmNlc1xuXHRcdGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcIm5vdGlmaWNhdGlvbl9wcmVmZXJlbmNlc1wiKVxuXHRcdFx0LmRlbGV0ZSgpXG5cdFx0XHQuZXEoXCJ1c2VyX2lkXCIsIHVzZXJJZClcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgY29tcGFueUlkKTtcblxuXHRcdC8vIEluc2VydCBuZXcgcHJlZmVyZW5jZXNcblx0XHRjb25zdCBwcmVmZXJlbmNlc1RvSW5zZXJ0ID0gdmFsaWRhdGVkUHJlZmVyZW5jZXMubWFwKChwcmVmKSA9PiAoe1xuXHRcdFx0dXNlcl9pZDogdXNlcklkLFxuXHRcdFx0Y29tcGFueV9pZDogY29tcGFueUlkLFxuXHRcdFx0Y2hhbm5lbDogcHJlZi5jaGFubmVsLFxuXHRcdFx0ZXZlbnRfdHlwZTogcHJlZi5ldmVudFR5cGUsXG5cdFx0XHRlbmFibGVkOiBwcmVmLmVuYWJsZWQsXG5cdFx0fSkpO1xuXG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwibm90aWZpY2F0aW9uX3ByZWZlcmVuY2VzXCIpXG5cdFx0XHQuaW5zZXJ0KHByZWZlcmVuY2VzVG9JbnNlcnQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IFwiRmFpbGVkIHRvIHVwZGF0ZSBub3RpZmljYXRpb24gcHJlZmVyZW5jZXNcIixcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL3NldHRpbmdzL3Byb2ZpbGUvbm90aWZpY2F0aW9uc1wiKTtcblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRpZiAoZXJyb3IgaW5zdGFuY2VvZiB6LlpvZEVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGVycm9yLmlzc3Vlc1swXT8ubWVzc2FnZSB8fCBcIlZhbGlkYXRpb24gZXJyb3JcIixcblx0XHRcdH07XG5cdFx0fVxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiQW4gZXJyb3Igb2NjdXJyZWRcIixcblx0XHR9O1xuXHR9XG59XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6ImlUQTRZc0IifQ==
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:1e3961 [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"0038f75aa39d15eb18c5c68052266488d280f74485":"markAllAsRead"},"apps/web/src/actions/notifications.ts",""] */ __turbopack_context__.s([
    "markAllAsRead",
    ()=>markAllAsRead
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var markAllAsRead = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("0038f75aa39d15eb18c5c68052266488d280f74485", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "markAllAsRead"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vbm90aWZpY2F0aW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzZXJ2ZXJcIjtcblxuLyoqXG4gKiBOb3RpZmljYXRpb25zIFNlcnZlciBBY3Rpb25zXG4gKlxuICogU2VydmVyLXNpZGUgb3BlcmF0aW9ucyBmb3IgdGhlIG5vdGlmaWNhdGlvbnMgc3lzdGVtIGluY2x1ZGluZzpcbiAqIC0gRmV0Y2hpbmcgbm90aWZpY2F0aW9ucyB3aXRoIGZpbHRlcmluZyBhbmQgcGFnaW5hdGlvblxuICogLSBDcmVhdGluZyBuZXcgbm90aWZpY2F0aW9uc1xuICogLSBNYXJraW5nIG5vdGlmaWNhdGlvbnMgYXMgcmVhZC91bnJlYWRcbiAqIC0gRGVsZXRpbmcgbm90aWZpY2F0aW9uc1xuICogLSBNYW5hZ2luZyBub3RpZmljYXRpb24gcHJlZmVyZW5jZXNcbiAqXG4gKiBQZXJmb3JtYW5jZSBvcHRpbWl6YXRpb25zOlxuICogLSBTZXJ2ZXItc2lkZSBkYXRhIGZldGNoaW5nIGFuZCB2YWxpZGF0aW9uXG4gKiAtIEVmZmljaWVudCBkYXRhYmFzZSBxdWVyaWVzIHdpdGggcHJvcGVyIGluZGV4ZXNcbiAqIC0gUkxTIHBvbGljaWVzIGZvciBzZWN1cml0eVxuICogLSBab2QgdmFsaWRhdGlvbiBmb3IgYWxsIGlucHV0c1xuICovXG5cbmltcG9ydCB7IHJldmFsaWRhdGVQYXRoIH0gZnJvbSBcIm5leHQvY2FjaGVcIjtcbmltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG5pbXBvcnQge1xuXHR0eXBlIENyZWF0ZU5vdGlmaWNhdGlvbklucHV0LFxuXHRDcmVhdGVOb3RpZmljYXRpb25TY2hlbWEsXG5cdHR5cGUgR2V0Tm90aWZpY2F0aW9uc0lucHV0LFxuXHRHZXROb3RpZmljYXRpb25zU2NoZW1hLFxuXHR0eXBlIE5vdGlmaWNhdGlvblByZWZlcmVuY2UsXG5cdE5vdGlmaWNhdGlvblByZWZlcmVuY2VTY2hlbWEsXG59IGZyb20gXCJAL2xpYi9ub3RpZmljYXRpb25zL3R5cGVzXCI7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tIFwiQC9saWIvc3VwYWJhc2Uvc2VydmVyXCI7XG5cbi8vIE5PVEU6IFR5cGUgcmUtZXhwb3J0cyByZW1vdmVkIHRvIGNvbXBseSB3aXRoIE5leHQuanMgMTYgXCJ1c2Ugc2VydmVyXCIgcmVzdHJpY3Rpb25zXG4vLyBJbXBvcnQgdHlwZXMgZGlyZWN0bHkgZnJvbSBAL2xpYi9ub3RpZmljYXRpb25zL3R5cGVzIGluc3RlYWRcblxuY29uc3QgVXBkYXRlTm90aWZpY2F0aW9uUHJlZmVyZW5jZXNTY2hlbWEgPSB6LmFycmF5KFxuXHROb3RpZmljYXRpb25QcmVmZXJlbmNlU2NoZW1hLFxuKTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gSGVscGVyIEZ1bmN0aW9uc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIEdldCBhdXRoZW50aWNhdGVkIHVzZXIgYW5kIGNvbXBhbnkgY29udGV4dFxuICovXG5hc3luYyBmdW5jdGlvbiBnZXRBdXRoQ29udGV4dCgpOiBQcm9taXNlPHtcblx0dXNlcklkOiBzdHJpbmc7XG5cdGNvbXBhbnlJZDogc3RyaW5nO1xuXHRzdXBhYmFzZTogTm9uTnVsbGFibGU8QXdhaXRlZDxSZXR1cm5UeXBlPHR5cGVvZiBjcmVhdGVDbGllbnQ+Pj47XG59PiB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIlN1cGFiYXNlIGNsaWVudCBub3QgY29uZmlndXJlZFwiKTtcblx0fVxuXG5cdGNvbnN0IHtcblx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHRlcnJvcjogYXV0aEVycm9yLFxuXHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0aWYgKGF1dGhFcnJvciB8fCAhdXNlcikge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIk5vdCBhdXRoZW50aWNhdGVkXCIpO1xuXHR9XG5cblx0Ly8gR2V0IHVzZXIncyBhY3RpdmUgY29tcGFueSBmcm9tIHRlYW1fbWVtYmVyc1xuXHRjb25zdCB7IGRhdGE6IHRlYW1NZW1iZXIsIGVycm9yOiB0ZWFtRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0LmZyb20oXCJjb21wYW55X21lbWJlcnNoaXBzXCIpXG5cdFx0LnNlbGVjdChcImNvbXBhbnlfaWRcIilcblx0XHQuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpXG5cdFx0LmVxKFwic3RhdHVzXCIsIFwiYWN0aXZlXCIpXG5cdFx0Lm1heWJlU2luZ2xlKCk7XG5cblx0aWYgKHRlYW1FcnJvcikge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBmZXRjaCB1c2VyIGNvbXBhbnlcIik7XG5cdH1cblxuXHRpZiAoIXRlYW1NZW1iZXIpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJObyBhY3RpdmUgY29tcGFueSBmb3VuZFwiKTtcblx0fVxuXG5cdHJldHVybiB7XG5cdFx0dXNlcklkOiB1c2VyLmlkLFxuXHRcdGNvbXBhbnlJZDogdGVhbU1lbWJlci5jb21wYW55X2lkLFxuXHRcdHN1cGFiYXNlLFxuXHR9O1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBOb3RpZmljYXRpb24gQ1JVRCBPcGVyYXRpb25zXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogR2V0IG5vdGlmaWNhdGlvbnMgZm9yIHRoZSBjdXJyZW50IHVzZXJcbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyAtIEZpbHRlcmluZyBhbmQgcGFnaW5hdGlvbiBvcHRpb25zXG4gKiBAcmV0dXJucyBBcnJheSBvZiBub3RpZmljYXRpb25zIGFuZCB0b3RhbCBjb3VudFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Tm90aWZpY2F0aW9ucyhcblx0b3B0aW9ucz86IFBhcnRpYWw8R2V0Tm90aWZpY2F0aW9uc0lucHV0Pixcbikge1xuXHR0cnkge1xuXHRcdC8vIE5vdGlmaWNhdGlvbnMgYXJlIHVzZXItc3BlY2lmaWMsIG5vdCBjb21wYW55LXNwZWNpZmljXG5cdFx0Ly8gU28gd2UgZG9uJ3QgbmVlZCB0aGUgZnVsbCBhdXRoIGNvbnRleHQgd2l0aCBjb21wYW55XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIlN1cGFiYXNlIGNsaWVudCBub3QgY29uZmlndXJlZFwiKTtcblx0XHR9XG5cblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHRcdGVycm9yOiBhdXRoRXJyb3IsXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKGF1dGhFcnJvciB8fCAhdXNlcikge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiTm90IGF1dGhlbnRpY2F0ZWRcIik7XG5cdFx0fVxuXG5cdFx0Y29uc3QgdXNlcklkID0gdXNlci5pZDtcblxuXHRcdC8vIFZhbGlkYXRlIGlucHV0XG5cdFx0Y29uc3QgdmFsaWRhdGVkT3B0aW9ucyA9IEdldE5vdGlmaWNhdGlvbnNTY2hlbWEucGFyc2Uob3B0aW9ucyB8fCB7fSk7XG5cblx0XHQvLyBCdWlsZCBxdWVyeVxuXHRcdGxldCBxdWVyeSA9IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcIm5vdGlmaWNhdGlvbnNcIilcblx0XHRcdC5zZWxlY3QoXCIqXCIsIHsgY291bnQ6IFwiZXhhY3RcIiB9KVxuXHRcdFx0LmVxKFwidXNlcl9pZFwiLCB1c2VySWQpXG5cdFx0XHQub3JkZXIoXCJjcmVhdGVkX2F0XCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcblxuXHRcdC8vIEFwcGx5IGZpbHRlcnNcblx0XHRpZiAodmFsaWRhdGVkT3B0aW9ucy51bnJlYWRPbmx5KSB7XG5cdFx0XHRxdWVyeSA9IHF1ZXJ5LmVxKFwicmVhZFwiLCBmYWxzZSk7XG5cdFx0fVxuXG5cdFx0aWYgKHZhbGlkYXRlZE9wdGlvbnMudHlwZSkge1xuXHRcdFx0cXVlcnkgPSBxdWVyeS5lcShcInR5cGVcIiwgdmFsaWRhdGVkT3B0aW9ucy50eXBlKTtcblx0XHR9XG5cblx0XHRpZiAodmFsaWRhdGVkT3B0aW9ucy5wcmlvcml0eSkge1xuXHRcdFx0cXVlcnkgPSBxdWVyeS5lcShcInByaW9yaXR5XCIsIHZhbGlkYXRlZE9wdGlvbnMucHJpb3JpdHkpO1xuXHRcdH1cblxuXHRcdC8vIEFwcGx5IHBhZ2luYXRpb25cblx0XHRxdWVyeSA9IHF1ZXJ5LnJhbmdlKFxuXHRcdFx0dmFsaWRhdGVkT3B0aW9ucy5vZmZzZXQsXG5cdFx0XHR2YWxpZGF0ZWRPcHRpb25zLm9mZnNldCArIHZhbGlkYXRlZE9wdGlvbnMubGltaXQgLSAxLFxuXHRcdCk7XG5cblx0XHRjb25zdCB7IGRhdGEsIGVycm9yLCBjb3VudCB9ID0gYXdhaXQgcXVlcnk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogXCJGYWlsZWQgdG8gZmV0Y2ggbm90aWZpY2F0aW9uc1wiLFxuXHRcdFx0XHRkYXRhOiBbXSxcblx0XHRcdFx0Y291bnQ6IDAsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0ZGF0YTogZGF0YSB8fCBbXSxcblx0XHRcdGNvdW50OiBjb3VudCB8fCAwLFxuXHRcdH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0aWYgKGVycm9yIGluc3RhbmNlb2Ygei5ab2RFcnJvcikge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOiBlcnJvci5pc3N1ZXNbMF0/Lm1lc3NhZ2UgfHwgXCJWYWxpZGF0aW9uIGVycm9yXCIsXG5cdFx0XHRcdGRhdGE6IFtdLFxuXHRcdFx0XHRjb3VudDogMCxcblx0XHRcdH07XG5cdFx0fVxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiQW4gZXJyb3Igb2NjdXJyZWRcIixcblx0XHRcdGRhdGE6IFtdLFxuXHRcdFx0Y291bnQ6IDAsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIEdldCB1bnJlYWQgbm90aWZpY2F0aW9uIGNvdW50IGZvciB0aGUgY3VycmVudCB1c2VyXG4gKlxuICogQHJldHVybnMgTnVtYmVyIG9mIHVucmVhZCBub3RpZmljYXRpb25zXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldFVucmVhZENvdW50KCkge1xuXHR0cnkge1xuXHRcdGNvbnN0IHsgdXNlcklkLCBzdXBhYmFzZSB9ID0gYXdhaXQgZ2V0QXV0aENvbnRleHQoKTtcblxuXHRcdC8vIFVzZSB0aGUgZGF0YWJhc2UgZnVuY3Rpb24gZm9yIG9wdGltaXplZCBjb3VudGluZ1xuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnJwYyhcblx0XHRcdFwiZ2V0X3VucmVhZF9ub3RpZmljYXRpb25fY291bnRcIixcblx0XHRcdHtcblx0XHRcdFx0cF91c2VyX2lkOiB1c2VySWQsXG5cdFx0XHR9LFxuXHRcdCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogXCJGYWlsZWQgdG8gZmV0Y2ggdW5yZWFkIGNvdW50XCIsXG5cdFx0XHRcdGNvdW50OiAwLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBjb3VudDogZGF0YSB8fCAwIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJBbiBlcnJvciBvY2N1cnJlZFwiLFxuXHRcdFx0Y291bnQ6IDAsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBub3RpZmljYXRpb25cbiAqXG4gKiBAcGFyYW0gaW5wdXQgLSBOb3RpZmljYXRpb24gZGF0YVxuICogQHJldHVybnMgQ3JlYXRlZCBub3RpZmljYXRpb25cbiAqL1xuYXN5bmMgZnVuY3Rpb24gY3JlYXRlTm90aWZpY2F0aW9uKGlucHV0OiBDcmVhdGVOb3RpZmljYXRpb25JbnB1dCkge1xuXHR0cnkge1xuXHRcdGNvbnN0IHsgc3VwYWJhc2UgfSA9IGF3YWl0IGdldEF1dGhDb250ZXh0KCk7XG5cblx0XHQvLyBWYWxpZGF0ZSBpbnB1dFxuXHRcdGNvbnN0IHZhbGlkYXRlZERhdGEgPSBDcmVhdGVOb3RpZmljYXRpb25TY2hlbWEucGFyc2UoaW5wdXQpO1xuXG5cdFx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwibm90aWZpY2F0aW9uc1wiKVxuXHRcdFx0Lmluc2VydCh7XG5cdFx0XHRcdHVzZXJfaWQ6IHZhbGlkYXRlZERhdGEudXNlcklkLFxuXHRcdFx0XHRjb21wYW55X2lkOiB2YWxpZGF0ZWREYXRhLmNvbXBhbnlJZCxcblx0XHRcdFx0dHlwZTogdmFsaWRhdGVkRGF0YS50eXBlLFxuXHRcdFx0XHRwcmlvcml0eTogdmFsaWRhdGVkRGF0YS5wcmlvcml0eSxcblx0XHRcdFx0dGl0bGU6IHZhbGlkYXRlZERhdGEudGl0bGUsXG5cdFx0XHRcdG1lc3NhZ2U6IHZhbGlkYXRlZERhdGEubWVzc2FnZSxcblx0XHRcdFx0YWN0aW9uX3VybDogdmFsaWRhdGVkRGF0YS5hY3Rpb25VcmwsXG5cdFx0XHRcdGFjdGlvbl9sYWJlbDogdmFsaWRhdGVkRGF0YS5hY3Rpb25MYWJlbCxcblx0XHRcdFx0bWV0YWRhdGE6IHZhbGlkYXRlZERhdGEubWV0YWRhdGEgfHwge30sXG5cdFx0XHR9KVxuXHRcdFx0LnNlbGVjdCgpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gY3JlYXRlIG5vdGlmaWNhdGlvblwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gUmV2YWxpZGF0ZSBwYXRocyB3aGVyZSBub3RpZmljYXRpb25zIGFwcGVhclxuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZFwiKTtcblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvbm90aWZpY2F0aW9uc1wiKTtcblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGEgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRpZiAoZXJyb3IgaW5zdGFuY2VvZiB6LlpvZEVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGVycm9yLmlzc3Vlc1swXT8ubWVzc2FnZSB8fCBcIlZhbGlkYXRpb24gZXJyb3JcIixcblx0XHRcdH07XG5cdFx0fVxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiQW4gZXJyb3Igb2NjdXJyZWRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogTWFyayBhIG5vdGlmaWNhdGlvbiBhcyByZWFkXG4gKlxuICogQHBhcmFtIG5vdGlmaWNhdGlvbklkIC0gSUQgb2YgdGhlIG5vdGlmaWNhdGlvbiB0byBtYXJrIGFzIHJlYWRcbiAqIEByZXR1cm5zIFN1Y2Nlc3Mgc3RhdHVzXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBtYXJrQXNSZWFkKG5vdGlmaWNhdGlvbklkOiBzdHJpbmcpIHtcblx0dHJ5IHtcblx0XHRjb25zdCB7IHVzZXJJZCwgc3VwYWJhc2UgfSA9IGF3YWl0IGdldEF1dGhDb250ZXh0KCk7XG5cblx0XHQvLyBWYWxpZGF0ZSBVVUlEXG5cdFx0Y29uc3QgaWRTY2hlbWEgPSB6LnN0cmluZygpLnV1aWQoXCJJbnZhbGlkIG5vdGlmaWNhdGlvbiBJRFwiKTtcblx0XHRjb25zdCB2YWxpZGF0ZWRJZCA9IGlkU2NoZW1hLnBhcnNlKG5vdGlmaWNhdGlvbklkKTtcblxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcIm5vdGlmaWNhdGlvbnNcIilcblx0XHRcdC51cGRhdGUoeyByZWFkOiB0cnVlIH0pXG5cdFx0XHQuZXEoXCJpZFwiLCB2YWxpZGF0ZWRJZClcblx0XHRcdC5lcShcInVzZXJfaWRcIiwgdXNlcklkKTsgLy8gRW5zdXJlIHVzZXIgb3ducyB0aGUgbm90aWZpY2F0aW9uXG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gbWFyayBub3RpZmljYXRpb24gYXMgcmVhZFwiIH07XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkXCIpO1xuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9ub3RpZmljYXRpb25zXCIpO1xuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGlmIChlcnJvciBpbnN0YW5jZW9mIHouWm9kRXJyb3IpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogZXJyb3IuaXNzdWVzWzBdPy5tZXNzYWdlIHx8IFwiVmFsaWRhdGlvbiBlcnJvclwiLFxuXHRcdFx0fTtcblx0XHR9XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJBbiBlcnJvciBvY2N1cnJlZFwiLFxuXHRcdH07XG5cdH1cbn1cblxuLyoqXG4gKiBNYXJrIGFsbCBub3RpZmljYXRpb25zIGFzIHJlYWQgZm9yIHRoZSBjdXJyZW50IHVzZXJcbiAqXG4gKiBAcmV0dXJucyBOdW1iZXIgb2Ygbm90aWZpY2F0aW9ucyBtYXJrZWQgYXMgcmVhZFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbWFya0FsbEFzUmVhZCgpIHtcblx0dHJ5IHtcblx0XHRjb25zdCB7IHVzZXJJZCwgc3VwYWJhc2UgfSA9IGF3YWl0IGdldEF1dGhDb250ZXh0KCk7XG5cblx0XHQvLyBVc2UgdGhlIGRhdGFiYXNlIGZ1bmN0aW9uIGZvciBidWxrIG9wZXJhdGlvblxuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnJwYyhcIm1hcmtfYWxsX25vdGlmaWNhdGlvbnNfcmVhZFwiLCB7XG5cdFx0XHRwX3VzZXJfaWQ6IHVzZXJJZCxcblx0XHR9KTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOiBcIkZhaWxlZCB0byBtYXJrIGFsbCBub3RpZmljYXRpb25zIGFzIHJlYWRcIixcblx0XHRcdFx0Y291bnQ6IDAsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZFwiKTtcblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvbm90aWZpY2F0aW9uc1wiKTtcblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGNvdW50OiBkYXRhIHx8IDAgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkFuIGVycm9yIG9jY3VycmVkXCIsXG5cdFx0XHRjb3VudDogMCxcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogTWFyayBhIG5vdGlmaWNhdGlvbiBhcyB1bnJlYWRcbiAqXG4gKiBAcGFyYW0gbm90aWZpY2F0aW9uSWQgLSBJRCBvZiB0aGUgbm90aWZpY2F0aW9uIHRvIG1hcmsgYXMgdW5yZWFkXG4gKiBAcmV0dXJucyBTdWNjZXNzIHN0YXR1c1xuICovXG5hc3luYyBmdW5jdGlvbiBtYXJrQXNVbnJlYWQobm90aWZpY2F0aW9uSWQ6IHN0cmluZykge1xuXHR0cnkge1xuXHRcdGNvbnN0IHsgdXNlcklkLCBzdXBhYmFzZSB9ID0gYXdhaXQgZ2V0QXV0aENvbnRleHQoKTtcblxuXHRcdC8vIFZhbGlkYXRlIFVVSURcblx0XHRjb25zdCBpZFNjaGVtYSA9IHouc3RyaW5nKCkudXVpZChcIkludmFsaWQgbm90aWZpY2F0aW9uIElEXCIpO1xuXHRcdGNvbnN0IHZhbGlkYXRlZElkID0gaWRTY2hlbWEucGFyc2Uobm90aWZpY2F0aW9uSWQpO1xuXG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwibm90aWZpY2F0aW9uc1wiKVxuXHRcdFx0LnVwZGF0ZSh7IHJlYWQ6IGZhbHNlIH0pXG5cdFx0XHQuZXEoXCJpZFwiLCB2YWxpZGF0ZWRJZClcblx0XHRcdC5lcShcInVzZXJfaWRcIiwgdXNlcklkKTsgLy8gRW5zdXJlIHVzZXIgb3ducyB0aGUgbm90aWZpY2F0aW9uXG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gbWFyayBub3RpZmljYXRpb24gYXMgdW5yZWFkXCIgfTtcblx0XHR9XG5cblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmRcIik7XG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL25vdGlmaWNhdGlvbnNcIik7XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0aWYgKGVycm9yIGluc3RhbmNlb2Ygei5ab2RFcnJvcikge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOiBlcnJvci5pc3N1ZXNbMF0/Lm1lc3NhZ2UgfHwgXCJWYWxpZGF0aW9uIGVycm9yXCIsXG5cdFx0XHR9O1xuXHRcdH1cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkFuIGVycm9yIG9jY3VycmVkXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIERlbGV0ZSBhIG5vdGlmaWNhdGlvblxuICpcbiAqIEBwYXJhbSBub3RpZmljYXRpb25JZCAtIElEIG9mIHRoZSBub3RpZmljYXRpb24gdG8gZGVsZXRlXG4gKiBAcmV0dXJucyBTdWNjZXNzIHN0YXR1c1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbklkOiBzdHJpbmcpIHtcblx0dHJ5IHtcblx0XHRjb25zdCB7IHVzZXJJZCwgc3VwYWJhc2UgfSA9IGF3YWl0IGdldEF1dGhDb250ZXh0KCk7XG5cblx0XHQvLyBWYWxpZGF0ZSBVVUlEXG5cdFx0Y29uc3QgaWRTY2hlbWEgPSB6LnN0cmluZygpLnV1aWQoXCJJbnZhbGlkIG5vdGlmaWNhdGlvbiBJRFwiKTtcblx0XHRjb25zdCB2YWxpZGF0ZWRJZCA9IGlkU2NoZW1hLnBhcnNlKG5vdGlmaWNhdGlvbklkKTtcblxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcIm5vdGlmaWNhdGlvbnNcIilcblx0XHRcdC5kZWxldGUoKVxuXHRcdFx0LmVxKFwiaWRcIiwgdmFsaWRhdGVkSWQpXG5cdFx0XHQuZXEoXCJ1c2VyX2lkXCIsIHVzZXJJZCk7IC8vIEVuc3VyZSB1c2VyIG93bnMgdGhlIG5vdGlmaWNhdGlvblxuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRmFpbGVkIHRvIGRlbGV0ZSBub3RpZmljYXRpb25cIiB9O1xuXHRcdH1cblxuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZFwiKTtcblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvbm90aWZpY2F0aW9uc1wiKTtcblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRpZiAoZXJyb3IgaW5zdGFuY2VvZiB6LlpvZEVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGVycm9yLmlzc3Vlc1swXT8ubWVzc2FnZSB8fCBcIlZhbGlkYXRpb24gZXJyb3JcIixcblx0XHRcdH07XG5cdFx0fVxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiQW4gZXJyb3Igb2NjdXJyZWRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIE5vdGlmaWNhdGlvbiBQcmVmZXJlbmNlcyBPcGVyYXRpb25zXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogR2V0IG5vdGlmaWNhdGlvbiBwcmVmZXJlbmNlcyBmb3IgdGhlIGN1cnJlbnQgdXNlclxuICpcbiAqIEByZXR1cm5zIEFycmF5IG9mIG5vdGlmaWNhdGlvbiBwcmVmZXJlbmNlc1xuICovXG5hc3luYyBmdW5jdGlvbiBnZXROb3RpZmljYXRpb25QcmVmZXJlbmNlcygpIHtcblx0dHJ5IHtcblx0XHRjb25zdCB7IHVzZXJJZCwgY29tcGFueUlkLCBzdXBhYmFzZSB9ID0gYXdhaXQgZ2V0QXV0aENvbnRleHQoKTtcblxuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcIm5vdGlmaWNhdGlvbl9wcmVmZXJlbmNlc1wiKVxuXHRcdFx0LnNlbGVjdChcIipcIilcblx0XHRcdC5lcShcInVzZXJfaWRcIiwgdXNlcklkKVxuXHRcdFx0LmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IFwiRmFpbGVkIHRvIGZldGNoIG5vdGlmaWNhdGlvbiBwcmVmZXJlbmNlc1wiLFxuXHRcdFx0XHRkYXRhOiBbXSxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogZGF0YSB8fCBbXSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiQW4gZXJyb3Igb2NjdXJyZWRcIixcblx0XHRcdGRhdGE6IFtdLFxuXHRcdH07XG5cdH1cbn1cblxuLyoqXG4gKiBVcGRhdGUgbm90aWZpY2F0aW9uIHByZWZlcmVuY2VzIGZvciB0aGUgY3VycmVudCB1c2VyXG4gKlxuICogQHBhcmFtIHByZWZlcmVuY2VzIC0gQXJyYXkgb2Ygbm90aWZpY2F0aW9uIHByZWZlcmVuY2Ugc2V0dGluZ3NcbiAqIEByZXR1cm5zIFN1Y2Nlc3Mgc3RhdHVzXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZU5vdGlmaWNhdGlvblByZWZlcmVuY2VzKFxuXHRwcmVmZXJlbmNlczogTm90aWZpY2F0aW9uUHJlZmVyZW5jZVtdLFxuKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgeyB1c2VySWQsIGNvbXBhbnlJZCwgc3VwYWJhc2UgfSA9IGF3YWl0IGdldEF1dGhDb250ZXh0KCk7XG5cblx0XHQvLyBWYWxpZGF0ZSBpbnB1dFxuXHRcdGNvbnN0IHZhbGlkYXRlZFByZWZlcmVuY2VzID1cblx0XHRcdFVwZGF0ZU5vdGlmaWNhdGlvblByZWZlcmVuY2VzU2NoZW1hLnBhcnNlKHByZWZlcmVuY2VzKTtcblxuXHRcdC8vIERlbGV0ZSBleGlzdGluZyBwcmVmZXJlbmNlc1xuXHRcdGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcIm5vdGlmaWNhdGlvbl9wcmVmZXJlbmNlc1wiKVxuXHRcdFx0LmRlbGV0ZSgpXG5cdFx0XHQuZXEoXCJ1c2VyX2lkXCIsIHVzZXJJZClcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgY29tcGFueUlkKTtcblxuXHRcdC8vIEluc2VydCBuZXcgcHJlZmVyZW5jZXNcblx0XHRjb25zdCBwcmVmZXJlbmNlc1RvSW5zZXJ0ID0gdmFsaWRhdGVkUHJlZmVyZW5jZXMubWFwKChwcmVmKSA9PiAoe1xuXHRcdFx0dXNlcl9pZDogdXNlcklkLFxuXHRcdFx0Y29tcGFueV9pZDogY29tcGFueUlkLFxuXHRcdFx0Y2hhbm5lbDogcHJlZi5jaGFubmVsLFxuXHRcdFx0ZXZlbnRfdHlwZTogcHJlZi5ldmVudFR5cGUsXG5cdFx0XHRlbmFibGVkOiBwcmVmLmVuYWJsZWQsXG5cdFx0fSkpO1xuXG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwibm90aWZpY2F0aW9uX3ByZWZlcmVuY2VzXCIpXG5cdFx0XHQuaW5zZXJ0KHByZWZlcmVuY2VzVG9JbnNlcnQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IFwiRmFpbGVkIHRvIHVwZGF0ZSBub3RpZmljYXRpb24gcHJlZmVyZW5jZXNcIixcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL3NldHRpbmdzL3Byb2ZpbGUvbm90aWZpY2F0aW9uc1wiKTtcblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRpZiAoZXJyb3IgaW5zdGFuY2VvZiB6LlpvZEVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGVycm9yLmlzc3Vlc1swXT8ubWVzc2FnZSB8fCBcIlZhbGlkYXRpb24gZXJyb3JcIixcblx0XHRcdH07XG5cdFx0fVxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiQW4gZXJyb3Igb2NjdXJyZWRcIixcblx0XHR9O1xuXHR9XG59XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjRTQThUc0IifQ==
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:0a86c9 [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"40c2b4df5c915e0d2dea73d2b793e09f294ca0427f":"markAsRead"},"apps/web/src/actions/notifications.ts",""] */ __turbopack_context__.s([
    "markAsRead",
    ()=>markAsRead
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var markAsRead = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("40c2b4df5c915e0d2dea73d2b793e09f294ca0427f", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "markAsRead"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vbm90aWZpY2F0aW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzZXJ2ZXJcIjtcblxuLyoqXG4gKiBOb3RpZmljYXRpb25zIFNlcnZlciBBY3Rpb25zXG4gKlxuICogU2VydmVyLXNpZGUgb3BlcmF0aW9ucyBmb3IgdGhlIG5vdGlmaWNhdGlvbnMgc3lzdGVtIGluY2x1ZGluZzpcbiAqIC0gRmV0Y2hpbmcgbm90aWZpY2F0aW9ucyB3aXRoIGZpbHRlcmluZyBhbmQgcGFnaW5hdGlvblxuICogLSBDcmVhdGluZyBuZXcgbm90aWZpY2F0aW9uc1xuICogLSBNYXJraW5nIG5vdGlmaWNhdGlvbnMgYXMgcmVhZC91bnJlYWRcbiAqIC0gRGVsZXRpbmcgbm90aWZpY2F0aW9uc1xuICogLSBNYW5hZ2luZyBub3RpZmljYXRpb24gcHJlZmVyZW5jZXNcbiAqXG4gKiBQZXJmb3JtYW5jZSBvcHRpbWl6YXRpb25zOlxuICogLSBTZXJ2ZXItc2lkZSBkYXRhIGZldGNoaW5nIGFuZCB2YWxpZGF0aW9uXG4gKiAtIEVmZmljaWVudCBkYXRhYmFzZSBxdWVyaWVzIHdpdGggcHJvcGVyIGluZGV4ZXNcbiAqIC0gUkxTIHBvbGljaWVzIGZvciBzZWN1cml0eVxuICogLSBab2QgdmFsaWRhdGlvbiBmb3IgYWxsIGlucHV0c1xuICovXG5cbmltcG9ydCB7IHJldmFsaWRhdGVQYXRoIH0gZnJvbSBcIm5leHQvY2FjaGVcIjtcbmltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG5pbXBvcnQge1xuXHR0eXBlIENyZWF0ZU5vdGlmaWNhdGlvbklucHV0LFxuXHRDcmVhdGVOb3RpZmljYXRpb25TY2hlbWEsXG5cdHR5cGUgR2V0Tm90aWZpY2F0aW9uc0lucHV0LFxuXHRHZXROb3RpZmljYXRpb25zU2NoZW1hLFxuXHR0eXBlIE5vdGlmaWNhdGlvblByZWZlcmVuY2UsXG5cdE5vdGlmaWNhdGlvblByZWZlcmVuY2VTY2hlbWEsXG59IGZyb20gXCJAL2xpYi9ub3RpZmljYXRpb25zL3R5cGVzXCI7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tIFwiQC9saWIvc3VwYWJhc2Uvc2VydmVyXCI7XG5cbi8vIE5PVEU6IFR5cGUgcmUtZXhwb3J0cyByZW1vdmVkIHRvIGNvbXBseSB3aXRoIE5leHQuanMgMTYgXCJ1c2Ugc2VydmVyXCIgcmVzdHJpY3Rpb25zXG4vLyBJbXBvcnQgdHlwZXMgZGlyZWN0bHkgZnJvbSBAL2xpYi9ub3RpZmljYXRpb25zL3R5cGVzIGluc3RlYWRcblxuY29uc3QgVXBkYXRlTm90aWZpY2F0aW9uUHJlZmVyZW5jZXNTY2hlbWEgPSB6LmFycmF5KFxuXHROb3RpZmljYXRpb25QcmVmZXJlbmNlU2NoZW1hLFxuKTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gSGVscGVyIEZ1bmN0aW9uc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIEdldCBhdXRoZW50aWNhdGVkIHVzZXIgYW5kIGNvbXBhbnkgY29udGV4dFxuICovXG5hc3luYyBmdW5jdGlvbiBnZXRBdXRoQ29udGV4dCgpOiBQcm9taXNlPHtcblx0dXNlcklkOiBzdHJpbmc7XG5cdGNvbXBhbnlJZDogc3RyaW5nO1xuXHRzdXBhYmFzZTogTm9uTnVsbGFibGU8QXdhaXRlZDxSZXR1cm5UeXBlPHR5cGVvZiBjcmVhdGVDbGllbnQ+Pj47XG59PiB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIlN1cGFiYXNlIGNsaWVudCBub3QgY29uZmlndXJlZFwiKTtcblx0fVxuXG5cdGNvbnN0IHtcblx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHRlcnJvcjogYXV0aEVycm9yLFxuXHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0aWYgKGF1dGhFcnJvciB8fCAhdXNlcikge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIk5vdCBhdXRoZW50aWNhdGVkXCIpO1xuXHR9XG5cblx0Ly8gR2V0IHVzZXIncyBhY3RpdmUgY29tcGFueSBmcm9tIHRlYW1fbWVtYmVyc1xuXHRjb25zdCB7IGRhdGE6IHRlYW1NZW1iZXIsIGVycm9yOiB0ZWFtRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0LmZyb20oXCJjb21wYW55X21lbWJlcnNoaXBzXCIpXG5cdFx0LnNlbGVjdChcImNvbXBhbnlfaWRcIilcblx0XHQuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpXG5cdFx0LmVxKFwic3RhdHVzXCIsIFwiYWN0aXZlXCIpXG5cdFx0Lm1heWJlU2luZ2xlKCk7XG5cblx0aWYgKHRlYW1FcnJvcikge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBmZXRjaCB1c2VyIGNvbXBhbnlcIik7XG5cdH1cblxuXHRpZiAoIXRlYW1NZW1iZXIpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJObyBhY3RpdmUgY29tcGFueSBmb3VuZFwiKTtcblx0fVxuXG5cdHJldHVybiB7XG5cdFx0dXNlcklkOiB1c2VyLmlkLFxuXHRcdGNvbXBhbnlJZDogdGVhbU1lbWJlci5jb21wYW55X2lkLFxuXHRcdHN1cGFiYXNlLFxuXHR9O1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBOb3RpZmljYXRpb24gQ1JVRCBPcGVyYXRpb25zXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogR2V0IG5vdGlmaWNhdGlvbnMgZm9yIHRoZSBjdXJyZW50IHVzZXJcbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyAtIEZpbHRlcmluZyBhbmQgcGFnaW5hdGlvbiBvcHRpb25zXG4gKiBAcmV0dXJucyBBcnJheSBvZiBub3RpZmljYXRpb25zIGFuZCB0b3RhbCBjb3VudFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Tm90aWZpY2F0aW9ucyhcblx0b3B0aW9ucz86IFBhcnRpYWw8R2V0Tm90aWZpY2F0aW9uc0lucHV0Pixcbikge1xuXHR0cnkge1xuXHRcdC8vIE5vdGlmaWNhdGlvbnMgYXJlIHVzZXItc3BlY2lmaWMsIG5vdCBjb21wYW55LXNwZWNpZmljXG5cdFx0Ly8gU28gd2UgZG9uJ3QgbmVlZCB0aGUgZnVsbCBhdXRoIGNvbnRleHQgd2l0aCBjb21wYW55XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIlN1cGFiYXNlIGNsaWVudCBub3QgY29uZmlndXJlZFwiKTtcblx0XHR9XG5cblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHRcdGVycm9yOiBhdXRoRXJyb3IsXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKGF1dGhFcnJvciB8fCAhdXNlcikge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiTm90IGF1dGhlbnRpY2F0ZWRcIik7XG5cdFx0fVxuXG5cdFx0Y29uc3QgdXNlcklkID0gdXNlci5pZDtcblxuXHRcdC8vIFZhbGlkYXRlIGlucHV0XG5cdFx0Y29uc3QgdmFsaWRhdGVkT3B0aW9ucyA9IEdldE5vdGlmaWNhdGlvbnNTY2hlbWEucGFyc2Uob3B0aW9ucyB8fCB7fSk7XG5cblx0XHQvLyBCdWlsZCBxdWVyeVxuXHRcdGxldCBxdWVyeSA9IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcIm5vdGlmaWNhdGlvbnNcIilcblx0XHRcdC5zZWxlY3QoXCIqXCIsIHsgY291bnQ6IFwiZXhhY3RcIiB9KVxuXHRcdFx0LmVxKFwidXNlcl9pZFwiLCB1c2VySWQpXG5cdFx0XHQub3JkZXIoXCJjcmVhdGVkX2F0XCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcblxuXHRcdC8vIEFwcGx5IGZpbHRlcnNcblx0XHRpZiAodmFsaWRhdGVkT3B0aW9ucy51bnJlYWRPbmx5KSB7XG5cdFx0XHRxdWVyeSA9IHF1ZXJ5LmVxKFwicmVhZFwiLCBmYWxzZSk7XG5cdFx0fVxuXG5cdFx0aWYgKHZhbGlkYXRlZE9wdGlvbnMudHlwZSkge1xuXHRcdFx0cXVlcnkgPSBxdWVyeS5lcShcInR5cGVcIiwgdmFsaWRhdGVkT3B0aW9ucy50eXBlKTtcblx0XHR9XG5cblx0XHRpZiAodmFsaWRhdGVkT3B0aW9ucy5wcmlvcml0eSkge1xuXHRcdFx0cXVlcnkgPSBxdWVyeS5lcShcInByaW9yaXR5XCIsIHZhbGlkYXRlZE9wdGlvbnMucHJpb3JpdHkpO1xuXHRcdH1cblxuXHRcdC8vIEFwcGx5IHBhZ2luYXRpb25cblx0XHRxdWVyeSA9IHF1ZXJ5LnJhbmdlKFxuXHRcdFx0dmFsaWRhdGVkT3B0aW9ucy5vZmZzZXQsXG5cdFx0XHR2YWxpZGF0ZWRPcHRpb25zLm9mZnNldCArIHZhbGlkYXRlZE9wdGlvbnMubGltaXQgLSAxLFxuXHRcdCk7XG5cblx0XHRjb25zdCB7IGRhdGEsIGVycm9yLCBjb3VudCB9ID0gYXdhaXQgcXVlcnk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogXCJGYWlsZWQgdG8gZmV0Y2ggbm90aWZpY2F0aW9uc1wiLFxuXHRcdFx0XHRkYXRhOiBbXSxcblx0XHRcdFx0Y291bnQ6IDAsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0ZGF0YTogZGF0YSB8fCBbXSxcblx0XHRcdGNvdW50OiBjb3VudCB8fCAwLFxuXHRcdH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0aWYgKGVycm9yIGluc3RhbmNlb2Ygei5ab2RFcnJvcikge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOiBlcnJvci5pc3N1ZXNbMF0/Lm1lc3NhZ2UgfHwgXCJWYWxpZGF0aW9uIGVycm9yXCIsXG5cdFx0XHRcdGRhdGE6IFtdLFxuXHRcdFx0XHRjb3VudDogMCxcblx0XHRcdH07XG5cdFx0fVxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiQW4gZXJyb3Igb2NjdXJyZWRcIixcblx0XHRcdGRhdGE6IFtdLFxuXHRcdFx0Y291bnQ6IDAsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIEdldCB1bnJlYWQgbm90aWZpY2F0aW9uIGNvdW50IGZvciB0aGUgY3VycmVudCB1c2VyXG4gKlxuICogQHJldHVybnMgTnVtYmVyIG9mIHVucmVhZCBub3RpZmljYXRpb25zXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldFVucmVhZENvdW50KCkge1xuXHR0cnkge1xuXHRcdGNvbnN0IHsgdXNlcklkLCBzdXBhYmFzZSB9ID0gYXdhaXQgZ2V0QXV0aENvbnRleHQoKTtcblxuXHRcdC8vIFVzZSB0aGUgZGF0YWJhc2UgZnVuY3Rpb24gZm9yIG9wdGltaXplZCBjb3VudGluZ1xuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnJwYyhcblx0XHRcdFwiZ2V0X3VucmVhZF9ub3RpZmljYXRpb25fY291bnRcIixcblx0XHRcdHtcblx0XHRcdFx0cF91c2VyX2lkOiB1c2VySWQsXG5cdFx0XHR9LFxuXHRcdCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogXCJGYWlsZWQgdG8gZmV0Y2ggdW5yZWFkIGNvdW50XCIsXG5cdFx0XHRcdGNvdW50OiAwLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBjb3VudDogZGF0YSB8fCAwIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJBbiBlcnJvciBvY2N1cnJlZFwiLFxuXHRcdFx0Y291bnQ6IDAsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBub3RpZmljYXRpb25cbiAqXG4gKiBAcGFyYW0gaW5wdXQgLSBOb3RpZmljYXRpb24gZGF0YVxuICogQHJldHVybnMgQ3JlYXRlZCBub3RpZmljYXRpb25cbiAqL1xuYXN5bmMgZnVuY3Rpb24gY3JlYXRlTm90aWZpY2F0aW9uKGlucHV0OiBDcmVhdGVOb3RpZmljYXRpb25JbnB1dCkge1xuXHR0cnkge1xuXHRcdGNvbnN0IHsgc3VwYWJhc2UgfSA9IGF3YWl0IGdldEF1dGhDb250ZXh0KCk7XG5cblx0XHQvLyBWYWxpZGF0ZSBpbnB1dFxuXHRcdGNvbnN0IHZhbGlkYXRlZERhdGEgPSBDcmVhdGVOb3RpZmljYXRpb25TY2hlbWEucGFyc2UoaW5wdXQpO1xuXG5cdFx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwibm90aWZpY2F0aW9uc1wiKVxuXHRcdFx0Lmluc2VydCh7XG5cdFx0XHRcdHVzZXJfaWQ6IHZhbGlkYXRlZERhdGEudXNlcklkLFxuXHRcdFx0XHRjb21wYW55X2lkOiB2YWxpZGF0ZWREYXRhLmNvbXBhbnlJZCxcblx0XHRcdFx0dHlwZTogdmFsaWRhdGVkRGF0YS50eXBlLFxuXHRcdFx0XHRwcmlvcml0eTogdmFsaWRhdGVkRGF0YS5wcmlvcml0eSxcblx0XHRcdFx0dGl0bGU6IHZhbGlkYXRlZERhdGEudGl0bGUsXG5cdFx0XHRcdG1lc3NhZ2U6IHZhbGlkYXRlZERhdGEubWVzc2FnZSxcblx0XHRcdFx0YWN0aW9uX3VybDogdmFsaWRhdGVkRGF0YS5hY3Rpb25VcmwsXG5cdFx0XHRcdGFjdGlvbl9sYWJlbDogdmFsaWRhdGVkRGF0YS5hY3Rpb25MYWJlbCxcblx0XHRcdFx0bWV0YWRhdGE6IHZhbGlkYXRlZERhdGEubWV0YWRhdGEgfHwge30sXG5cdFx0XHR9KVxuXHRcdFx0LnNlbGVjdCgpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gY3JlYXRlIG5vdGlmaWNhdGlvblwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gUmV2YWxpZGF0ZSBwYXRocyB3aGVyZSBub3RpZmljYXRpb25zIGFwcGVhclxuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZFwiKTtcblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvbm90aWZpY2F0aW9uc1wiKTtcblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGEgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRpZiAoZXJyb3IgaW5zdGFuY2VvZiB6LlpvZEVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGVycm9yLmlzc3Vlc1swXT8ubWVzc2FnZSB8fCBcIlZhbGlkYXRpb24gZXJyb3JcIixcblx0XHRcdH07XG5cdFx0fVxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiQW4gZXJyb3Igb2NjdXJyZWRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogTWFyayBhIG5vdGlmaWNhdGlvbiBhcyByZWFkXG4gKlxuICogQHBhcmFtIG5vdGlmaWNhdGlvbklkIC0gSUQgb2YgdGhlIG5vdGlmaWNhdGlvbiB0byBtYXJrIGFzIHJlYWRcbiAqIEByZXR1cm5zIFN1Y2Nlc3Mgc3RhdHVzXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBtYXJrQXNSZWFkKG5vdGlmaWNhdGlvbklkOiBzdHJpbmcpIHtcblx0dHJ5IHtcblx0XHRjb25zdCB7IHVzZXJJZCwgc3VwYWJhc2UgfSA9IGF3YWl0IGdldEF1dGhDb250ZXh0KCk7XG5cblx0XHQvLyBWYWxpZGF0ZSBVVUlEXG5cdFx0Y29uc3QgaWRTY2hlbWEgPSB6LnN0cmluZygpLnV1aWQoXCJJbnZhbGlkIG5vdGlmaWNhdGlvbiBJRFwiKTtcblx0XHRjb25zdCB2YWxpZGF0ZWRJZCA9IGlkU2NoZW1hLnBhcnNlKG5vdGlmaWNhdGlvbklkKTtcblxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcIm5vdGlmaWNhdGlvbnNcIilcblx0XHRcdC51cGRhdGUoeyByZWFkOiB0cnVlIH0pXG5cdFx0XHQuZXEoXCJpZFwiLCB2YWxpZGF0ZWRJZClcblx0XHRcdC5lcShcInVzZXJfaWRcIiwgdXNlcklkKTsgLy8gRW5zdXJlIHVzZXIgb3ducyB0aGUgbm90aWZpY2F0aW9uXG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gbWFyayBub3RpZmljYXRpb24gYXMgcmVhZFwiIH07XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkXCIpO1xuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9ub3RpZmljYXRpb25zXCIpO1xuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGlmIChlcnJvciBpbnN0YW5jZW9mIHouWm9kRXJyb3IpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogZXJyb3IuaXNzdWVzWzBdPy5tZXNzYWdlIHx8IFwiVmFsaWRhdGlvbiBlcnJvclwiLFxuXHRcdFx0fTtcblx0XHR9XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJBbiBlcnJvciBvY2N1cnJlZFwiLFxuXHRcdH07XG5cdH1cbn1cblxuLyoqXG4gKiBNYXJrIGFsbCBub3RpZmljYXRpb25zIGFzIHJlYWQgZm9yIHRoZSBjdXJyZW50IHVzZXJcbiAqXG4gKiBAcmV0dXJucyBOdW1iZXIgb2Ygbm90aWZpY2F0aW9ucyBtYXJrZWQgYXMgcmVhZFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbWFya0FsbEFzUmVhZCgpIHtcblx0dHJ5IHtcblx0XHRjb25zdCB7IHVzZXJJZCwgc3VwYWJhc2UgfSA9IGF3YWl0IGdldEF1dGhDb250ZXh0KCk7XG5cblx0XHQvLyBVc2UgdGhlIGRhdGFiYXNlIGZ1bmN0aW9uIGZvciBidWxrIG9wZXJhdGlvblxuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnJwYyhcIm1hcmtfYWxsX25vdGlmaWNhdGlvbnNfcmVhZFwiLCB7XG5cdFx0XHRwX3VzZXJfaWQ6IHVzZXJJZCxcblx0XHR9KTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOiBcIkZhaWxlZCB0byBtYXJrIGFsbCBub3RpZmljYXRpb25zIGFzIHJlYWRcIixcblx0XHRcdFx0Y291bnQ6IDAsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZFwiKTtcblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvbm90aWZpY2F0aW9uc1wiKTtcblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGNvdW50OiBkYXRhIHx8IDAgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkFuIGVycm9yIG9jY3VycmVkXCIsXG5cdFx0XHRjb3VudDogMCxcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogTWFyayBhIG5vdGlmaWNhdGlvbiBhcyB1bnJlYWRcbiAqXG4gKiBAcGFyYW0gbm90aWZpY2F0aW9uSWQgLSBJRCBvZiB0aGUgbm90aWZpY2F0aW9uIHRvIG1hcmsgYXMgdW5yZWFkXG4gKiBAcmV0dXJucyBTdWNjZXNzIHN0YXR1c1xuICovXG5hc3luYyBmdW5jdGlvbiBtYXJrQXNVbnJlYWQobm90aWZpY2F0aW9uSWQ6IHN0cmluZykge1xuXHR0cnkge1xuXHRcdGNvbnN0IHsgdXNlcklkLCBzdXBhYmFzZSB9ID0gYXdhaXQgZ2V0QXV0aENvbnRleHQoKTtcblxuXHRcdC8vIFZhbGlkYXRlIFVVSURcblx0XHRjb25zdCBpZFNjaGVtYSA9IHouc3RyaW5nKCkudXVpZChcIkludmFsaWQgbm90aWZpY2F0aW9uIElEXCIpO1xuXHRcdGNvbnN0IHZhbGlkYXRlZElkID0gaWRTY2hlbWEucGFyc2Uobm90aWZpY2F0aW9uSWQpO1xuXG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwibm90aWZpY2F0aW9uc1wiKVxuXHRcdFx0LnVwZGF0ZSh7IHJlYWQ6IGZhbHNlIH0pXG5cdFx0XHQuZXEoXCJpZFwiLCB2YWxpZGF0ZWRJZClcblx0XHRcdC5lcShcInVzZXJfaWRcIiwgdXNlcklkKTsgLy8gRW5zdXJlIHVzZXIgb3ducyB0aGUgbm90aWZpY2F0aW9uXG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gbWFyayBub3RpZmljYXRpb24gYXMgdW5yZWFkXCIgfTtcblx0XHR9XG5cblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmRcIik7XG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL25vdGlmaWNhdGlvbnNcIik7XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0aWYgKGVycm9yIGluc3RhbmNlb2Ygei5ab2RFcnJvcikge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOiBlcnJvci5pc3N1ZXNbMF0/Lm1lc3NhZ2UgfHwgXCJWYWxpZGF0aW9uIGVycm9yXCIsXG5cdFx0XHR9O1xuXHRcdH1cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkFuIGVycm9yIG9jY3VycmVkXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIERlbGV0ZSBhIG5vdGlmaWNhdGlvblxuICpcbiAqIEBwYXJhbSBub3RpZmljYXRpb25JZCAtIElEIG9mIHRoZSBub3RpZmljYXRpb24gdG8gZGVsZXRlXG4gKiBAcmV0dXJucyBTdWNjZXNzIHN0YXR1c1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbklkOiBzdHJpbmcpIHtcblx0dHJ5IHtcblx0XHRjb25zdCB7IHVzZXJJZCwgc3VwYWJhc2UgfSA9IGF3YWl0IGdldEF1dGhDb250ZXh0KCk7XG5cblx0XHQvLyBWYWxpZGF0ZSBVVUlEXG5cdFx0Y29uc3QgaWRTY2hlbWEgPSB6LnN0cmluZygpLnV1aWQoXCJJbnZhbGlkIG5vdGlmaWNhdGlvbiBJRFwiKTtcblx0XHRjb25zdCB2YWxpZGF0ZWRJZCA9IGlkU2NoZW1hLnBhcnNlKG5vdGlmaWNhdGlvbklkKTtcblxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcIm5vdGlmaWNhdGlvbnNcIilcblx0XHRcdC5kZWxldGUoKVxuXHRcdFx0LmVxKFwiaWRcIiwgdmFsaWRhdGVkSWQpXG5cdFx0XHQuZXEoXCJ1c2VyX2lkXCIsIHVzZXJJZCk7IC8vIEVuc3VyZSB1c2VyIG93bnMgdGhlIG5vdGlmaWNhdGlvblxuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRmFpbGVkIHRvIGRlbGV0ZSBub3RpZmljYXRpb25cIiB9O1xuXHRcdH1cblxuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZFwiKTtcblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvbm90aWZpY2F0aW9uc1wiKTtcblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRpZiAoZXJyb3IgaW5zdGFuY2VvZiB6LlpvZEVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGVycm9yLmlzc3Vlc1swXT8ubWVzc2FnZSB8fCBcIlZhbGlkYXRpb24gZXJyb3JcIixcblx0XHRcdH07XG5cdFx0fVxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiQW4gZXJyb3Igb2NjdXJyZWRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIE5vdGlmaWNhdGlvbiBQcmVmZXJlbmNlcyBPcGVyYXRpb25zXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogR2V0IG5vdGlmaWNhdGlvbiBwcmVmZXJlbmNlcyBmb3IgdGhlIGN1cnJlbnQgdXNlclxuICpcbiAqIEByZXR1cm5zIEFycmF5IG9mIG5vdGlmaWNhdGlvbiBwcmVmZXJlbmNlc1xuICovXG5hc3luYyBmdW5jdGlvbiBnZXROb3RpZmljYXRpb25QcmVmZXJlbmNlcygpIHtcblx0dHJ5IHtcblx0XHRjb25zdCB7IHVzZXJJZCwgY29tcGFueUlkLCBzdXBhYmFzZSB9ID0gYXdhaXQgZ2V0QXV0aENvbnRleHQoKTtcblxuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcIm5vdGlmaWNhdGlvbl9wcmVmZXJlbmNlc1wiKVxuXHRcdFx0LnNlbGVjdChcIipcIilcblx0XHRcdC5lcShcInVzZXJfaWRcIiwgdXNlcklkKVxuXHRcdFx0LmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IFwiRmFpbGVkIHRvIGZldGNoIG5vdGlmaWNhdGlvbiBwcmVmZXJlbmNlc1wiLFxuXHRcdFx0XHRkYXRhOiBbXSxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogZGF0YSB8fCBbXSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiQW4gZXJyb3Igb2NjdXJyZWRcIixcblx0XHRcdGRhdGE6IFtdLFxuXHRcdH07XG5cdH1cbn1cblxuLyoqXG4gKiBVcGRhdGUgbm90aWZpY2F0aW9uIHByZWZlcmVuY2VzIGZvciB0aGUgY3VycmVudCB1c2VyXG4gKlxuICogQHBhcmFtIHByZWZlcmVuY2VzIC0gQXJyYXkgb2Ygbm90aWZpY2F0aW9uIHByZWZlcmVuY2Ugc2V0dGluZ3NcbiAqIEByZXR1cm5zIFN1Y2Nlc3Mgc3RhdHVzXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZU5vdGlmaWNhdGlvblByZWZlcmVuY2VzKFxuXHRwcmVmZXJlbmNlczogTm90aWZpY2F0aW9uUHJlZmVyZW5jZVtdLFxuKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgeyB1c2VySWQsIGNvbXBhbnlJZCwgc3VwYWJhc2UgfSA9IGF3YWl0IGdldEF1dGhDb250ZXh0KCk7XG5cblx0XHQvLyBWYWxpZGF0ZSBpbnB1dFxuXHRcdGNvbnN0IHZhbGlkYXRlZFByZWZlcmVuY2VzID1cblx0XHRcdFVwZGF0ZU5vdGlmaWNhdGlvblByZWZlcmVuY2VzU2NoZW1hLnBhcnNlKHByZWZlcmVuY2VzKTtcblxuXHRcdC8vIERlbGV0ZSBleGlzdGluZyBwcmVmZXJlbmNlc1xuXHRcdGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcIm5vdGlmaWNhdGlvbl9wcmVmZXJlbmNlc1wiKVxuXHRcdFx0LmRlbGV0ZSgpXG5cdFx0XHQuZXEoXCJ1c2VyX2lkXCIsIHVzZXJJZClcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgY29tcGFueUlkKTtcblxuXHRcdC8vIEluc2VydCBuZXcgcHJlZmVyZW5jZXNcblx0XHRjb25zdCBwcmVmZXJlbmNlc1RvSW5zZXJ0ID0gdmFsaWRhdGVkUHJlZmVyZW5jZXMubWFwKChwcmVmKSA9PiAoe1xuXHRcdFx0dXNlcl9pZDogdXNlcklkLFxuXHRcdFx0Y29tcGFueV9pZDogY29tcGFueUlkLFxuXHRcdFx0Y2hhbm5lbDogcHJlZi5jaGFubmVsLFxuXHRcdFx0ZXZlbnRfdHlwZTogcHJlZi5ldmVudFR5cGUsXG5cdFx0XHRlbmFibGVkOiBwcmVmLmVuYWJsZWQsXG5cdFx0fSkpO1xuXG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwibm90aWZpY2F0aW9uX3ByZWZlcmVuY2VzXCIpXG5cdFx0XHQuaW5zZXJ0KHByZWZlcmVuY2VzVG9JbnNlcnQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IFwiRmFpbGVkIHRvIHVwZGF0ZSBub3RpZmljYXRpb24gcHJlZmVyZW5jZXNcIixcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL3NldHRpbmdzL3Byb2ZpbGUvbm90aWZpY2F0aW9uc1wiKTtcblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRpZiAoZXJyb3IgaW5zdGFuY2VvZiB6LlpvZEVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGVycm9yLmlzc3Vlc1swXT8ubWVzc2FnZSB8fCBcIlZhbGlkYXRpb24gZXJyb3JcIixcblx0XHRcdH07XG5cdFx0fVxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiQW4gZXJyb3Igb2NjdXJyZWRcIixcblx0XHR9O1xuXHR9XG59XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6InlTQXFSc0IifQ==
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:0d28fa [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"4035496a233e28ec394eae2146957ccf9f344cb802":"makeCall"},"apps/web/src/actions/telnyx.ts",""] */ __turbopack_context__.s([
    "makeCall",
    ()=>makeCall
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var makeCall = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("4035496a233e28ec394eae2146957ccf9f344cb802", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "makeCall"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vdGVsbnl4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGVsbnl4IFNlcnZlciBBY3Rpb25zXG4gKlxuICogU2VydmVyLXNpZGUgYWN0aW9ucyBmb3IgVGVsbnl4IFZvSVAgb3BlcmF0aW9uczpcbiAqIC0gUGhvbmUgbnVtYmVyIG1hbmFnZW1lbnRcbiAqIC0gQ2FsbCBvcGVyYXRpb25zXG4gKiAtIFNNUyBvcGVyYXRpb25zXG4gKiAtIFZvaWNlbWFpbCBvcGVyYXRpb25zXG4gKlxuICogQWxsIGFjdGlvbnMgaW5jbHVkZSBwcm9wZXIgYXV0aGVudGljYXRpb24gYW5kIGF1dGhvcml6YXRpb24gY2hlY2tzLlxuICovXG5cblwidXNlIHNlcnZlclwiO1xuXG5pbXBvcnQgdHlwZSB7IFN1cGFiYXNlQ2xpZW50IH0gZnJvbSBcIkBzdXBhYmFzZS9zdXBhYmFzZS1qc1wiO1xuaW1wb3J0IHsgcmV2YWxpZGF0ZVBhdGggfSBmcm9tIFwibmV4dC9jYWNoZVwiO1xuaW1wb3J0IHsgaGVhZGVycyB9IGZyb20gXCJuZXh0L2hlYWRlcnNcIjtcbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gXCJAL2xpYi9zdXBhYmFzZS9zZXJ2ZXJcIjtcbmltcG9ydCB7XG5cdGFuc3dlckNhbGwsXG5cdGhhbmd1cENhbGwsXG5cdGluaXRpYXRlQ2FsbCxcblx0cmVqZWN0Q2FsbCxcblx0c3RhcnRSZWNvcmRpbmcsXG5cdHN0b3BSZWNvcmRpbmcsXG59IGZyb20gXCJAL2xpYi90ZWxueXgvY2FsbHNcIjtcbmltcG9ydCB7IFRFTE5ZWF9DT05GSUcgfSBmcm9tIFwiQC9saWIvdGVsbnl4L2NsaWVudFwiO1xuaW1wb3J0IHtcblx0dmFsaWRhdGVDYWxsQ29uZmlnLFxuXHR2YWxpZGF0ZVNtc0NvbmZpZyxcbn0gZnJvbSBcIkAvbGliL3RlbG55eC9jb25maWctdmFsaWRhdG9yXCI7XG5pbXBvcnQgeyB2ZXJpZnlDb25uZWN0aW9uIH0gZnJvbSBcIkAvbGliL3RlbG55eC9jb25uZWN0aW9uLXNldHVwXCI7XG5pbXBvcnQgeyBmb3JtYXRQaG9uZU51bWJlciwgc2VuZE1NUywgc2VuZFNNUyB9IGZyb20gXCJAL2xpYi90ZWxueXgvbWVzc2FnaW5nXCI7XG5pbXBvcnQgeyB2ZXJpZnlNZXNzYWdpbmdQcm9maWxlIH0gZnJvbSBcIkAvbGliL3RlbG55eC9tZXNzYWdpbmctcHJvZmlsZS1zZXR1cFwiO1xuaW1wb3J0IHtcblx0dHlwZSBOdW1iZXJGZWF0dXJlLFxuXHR0eXBlIE51bWJlclR5cGUsXG5cdHB1cmNoYXNlTnVtYmVyLFxuXHRyZWxlYXNlTnVtYmVyLFxuXHRzZWFyY2hBdmFpbGFibGVOdW1iZXJzLFxufSBmcm9tIFwiQC9saWIvdGVsbnl4L251bWJlcnNcIjtcbmltcG9ydCB7XG5cdHZlcmlmeVNtc0NhcGFiaWxpdHksXG5cdHZlcmlmeVZvaWNlQ2FwYWJpbGl0eSxcbn0gZnJvbSBcIkAvbGliL3RlbG55eC9waG9uZS1udW1iZXItc2V0dXBcIjtcbmltcG9ydCB7XG5cdHR5cGUgQ29tcGFueVRlbG55eFNldHRpbmdzUm93LFxuXHRlbnN1cmVDb21wYW55VGVsbnl4U2V0dXAsXG5cdGZldGNoQ29tcGFueVRlbG55eFNldHRpbmdzLFxufSBmcm9tIFwiQC9saWIvdGVsbnl4L3Byb3Zpc2lvbi1jb21wYW55XCI7XG5pbXBvcnQgdHlwZSB7IERhdGFiYXNlLCBKc29uIH0gZnJvbSBcIkAvdHlwZXMvc3VwYWJhc2VcIjtcbmltcG9ydCB7IGVuc3VyZU1lc3NhZ2luZ0NhbXBhaWduIH0gZnJvbSBcIi4vbWVzc2FnaW5nLWJyYW5kaW5nXCI7XG5cbnR5cGUgVHlwZWRTdXBhYmFzZUNsaWVudCA9IFN1cGFiYXNlQ2xpZW50PERhdGFiYXNlPjtcblxuZnVuY3Rpb24gbm9ybWFsaXplUGhvbmVOdW1iZXIocGhvbmVOdW1iZXI6IHN0cmluZyk6IHN0cmluZyB7XG5cdHJldHVybiBmb3JtYXRQaG9uZU51bWJlcihwaG9uZU51bWJlcik7XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RBcmVhQ29kZShwaG9uZU51bWJlcjogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCB7XG5cdGNvbnN0IGRpZ2l0cyA9IHBob25lTnVtYmVyLnJlcGxhY2UoL1xcRC9nLCBcIlwiKTtcblx0aWYgKGRpZ2l0cy5sZW5ndGggPT09IDExICYmIGRpZ2l0cy5zdGFydHNXaXRoKFwiMVwiKSkge1xuXHRcdHJldHVybiBkaWdpdHMuc2xpY2UoMSwgNCk7XG5cdH1cblx0aWYgKGRpZ2l0cy5sZW5ndGggPT09IDEwKSB7XG5cdFx0cmV0dXJuIGRpZ2l0cy5zbGljZSgwLCAzKTtcblx0fVxuXHRyZXR1cm4gbnVsbDtcbn1cblxuY29uc3QgREVGQVVMVF9NRVNTQUdJTkdfUFJPRklMRV9JRCA9XG5cdHByb2Nlc3MuZW52LlRFTE5ZWF9ERUZBVUxUX01FU1NBR0lOR19QUk9GSUxFX0lEIHx8XG5cdHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1RFTE5ZWF9NRVNTQUdJTkdfUFJPRklMRV9JRCB8fFxuXHRcIlwiO1xuXG5jb25zdCBERUZBVUxUX1BIT05FX05VTUJFUl9GRUFUVVJFUzogSnNvbiA9IFtcInZvaWNlXCIsIFwic21zXCIsIFwibW1zXCJdO1xuXG5mdW5jdGlvbiBmb3JtYXREaXNwbGF5UGhvbmVOdW1iZXIocGhvbmVOdW1iZXI6IHN0cmluZyk6IHN0cmluZyB7XG5cdGNvbnN0IGRpZ2l0cyA9IHBob25lTnVtYmVyLnJlcGxhY2UoL1xcRC9nLCBcIlwiKTtcblx0aWYgKGRpZ2l0cy5sZW5ndGggPT09IDExICYmIGRpZ2l0cy5zdGFydHNXaXRoKFwiMVwiKSkge1xuXHRcdHJldHVybiBgKzEgKCR7ZGlnaXRzLnNsaWNlKDEsIDQpfSkgJHtkaWdpdHMuc2xpY2UoNCwgNyl9LSR7ZGlnaXRzLnNsaWNlKDcpfWA7XG5cdH1cblx0aWYgKGRpZ2l0cy5sZW5ndGggPT09IDEwKSB7XG5cdFx0cmV0dXJuIGAoJHtkaWdpdHMuc2xpY2UoMCwgMyl9KSAke2RpZ2l0cy5zbGljZSgzLCA2KX0tJHtkaWdpdHMuc2xpY2UoNil9YDtcblx0fVxuXHRyZXR1cm4gcGhvbmVOdW1iZXI7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldENvbXBhbnlUZWxueXhTZXR0aW5ncyhcblx0c3VwYWJhc2U6IFR5cGVkU3VwYWJhc2VDbGllbnQsXG5cdGNvbXBhbnlJZDogc3RyaW5nIHwgbnVsbCxcbik6IFByb21pc2U8Q29tcGFueVRlbG55eFNldHRpbmdzUm93IHwgbnVsbD4ge1xuXHRpZiAoIWNvbXBhbnlJZCkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0Y29uc3QgZXhpc3RpbmcgPSBhd2FpdCBmZXRjaENvbXBhbnlUZWxueXhTZXR0aW5ncyhzdXBhYmFzZSwgY29tcGFueUlkKTtcblx0aWYgKGV4aXN0aW5nICYmIGV4aXN0aW5nLnN0YXR1cyA9PT0gXCJyZWFkeVwiKSB7XG5cdFx0cmV0dXJuIGV4aXN0aW5nO1xuXHR9XG5cblx0Y29uc3QgcHJvdmlzaW9uUmVzdWx0ID0gYXdhaXQgZW5zdXJlQ29tcGFueVRlbG55eFNldHVwKHtcblx0XHRjb21wYW55SWQsXG5cdFx0c3VwYWJhc2UsXG5cdH0pO1xuXG5cdGlmICghcHJvdmlzaW9uUmVzdWx0LnN1Y2Nlc3MpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdHJldHVybiBwcm92aXNpb25SZXN1bHQuc2V0dGluZ3MgPz8gbnVsbDtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplQmFzZVVybCh1cmw6IHN0cmluZyk6IHN0cmluZyB7XG5cdGNvbnN0IHRyaW1tZWQgPSB1cmwudHJpbSgpLnJlcGxhY2UoL1xcLyskLywgXCJcIik7XG5cdGlmICgvXmh0dHBzPzpcXC9cXC8vaS50ZXN0KHRyaW1tZWQpKSB7XG5cdFx0aWYgKC9eaHR0cDpcXC9cXC8vaS50ZXN0KHRyaW1tZWQpICYmICFpc0xvY2FsVXJsKHRyaW1tZWQpKSB7XG5cdFx0XHRyZXR1cm4gdHJpbW1lZC5yZXBsYWNlKC9eaHR0cDpcXC9cXC8vaSwgXCJodHRwczovL1wiKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRyaW1tZWQ7XG5cdH1cblx0cmV0dXJuIGBodHRwczovLyR7dHJpbW1lZH1gO1xufVxuXG5mdW5jdGlvbiBpc0xvY2FsVXJsKHVybDogc3RyaW5nKTogYm9vbGVhbiB7XG5cdGNvbnN0IGxvd2VyZWQgPSB1cmwudG9Mb3dlckNhc2UoKTtcblx0cmV0dXJuIChcblx0XHRsb3dlcmVkLmluY2x1ZGVzKFwibG9jYWxob3N0XCIpIHx8XG5cdFx0bG93ZXJlZC5pbmNsdWRlcyhcIjEyNy4wLjAuMVwiKSB8fFxuXHRcdGxvd2VyZWQuaW5jbHVkZXMoXCIwLjAuMC4wXCIpIHx8XG5cdFx0bG93ZXJlZC5lbmRzV2l0aChcIi5sb2NhbFwiKSB8fFxuXHRcdGxvd2VyZWQuaW5jbHVkZXMoXCI6Ly9sb2NhbFwiKVxuXHQpO1xufVxuXG5mdW5jdGlvbiBzaG91bGRVc2VVcmwodXJsOiBzdHJpbmcpOiBib29sZWFuIHtcblx0aWYgKCF1cmwpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0Y29uc3QgdHJpbW1lZCA9IHVybC50cmltKCk7XG5cdGlmICghdHJpbW1lZCkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXHRjb25zdCBpc0hvc3RlZFByb2R1Y3Rpb24gPVxuXHRcdChwcm9jZXNzLmVudi5WRVJDRUwgPT09IFwiMVwiICYmIHByb2Nlc3MuZW52LlZFUkNFTF9FTlYgPT09IFwicHJvZHVjdGlvblwiKSB8fFxuXHRcdHByb2Nlc3MuZW52LkRFUExPWU1FTlRfRU5WID09PSBcInByb2R1Y3Rpb25cIjtcblxuXHRpZiAoaXNIb3N0ZWRQcm9kdWN0aW9uICYmIGlzTG9jYWxVcmwodHJpbW1lZCkpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRyZXR1cm4gdHJ1ZTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0QmFzZUFwcFVybCgpOiBQcm9taXNlPHN0cmluZyB8IHVuZGVmaW5lZD4ge1xuXHRjb25zdCBjYW5kaWRhdGVzID0gW1xuXHRcdHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NJVEVfVVJMLFxuXHRcdHByb2Nlc3MuZW52LlNJVEVfVVJMLFxuXHRcdHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQUF9VUkwsXG5cdFx0cHJvY2Vzcy5lbnYuQVBQX1VSTCxcblx0XTtcblx0Zm9yIChjb25zdCBjYW5kaWRhdGUgb2YgY2FuZGlkYXRlcykge1xuXHRcdGlmIChjYW5kaWRhdGUgJiYgc2hvdWxkVXNlVXJsKGNhbmRpZGF0ZSkpIHtcblx0XHRcdHJldHVybiBub3JtYWxpemVCYXNlVXJsKGNhbmRpZGF0ZSk7XG5cdFx0fVxuXHR9XG5cblx0Y29uc3QgdmVyY2VsVXJsID0gcHJvY2Vzcy5lbnYuVkVSQ0VMX1VSTDtcblx0aWYgKHZlcmNlbFVybCAmJiBzaG91bGRVc2VVcmwodmVyY2VsVXJsKSkge1xuXHRcdHJldHVybiBub3JtYWxpemVCYXNlVXJsKFxuXHRcdFx0dmVyY2VsVXJsLnN0YXJ0c1dpdGgoXCJodHRwXCIpID8gdmVyY2VsVXJsIDogYGh0dHBzOi8vJHt2ZXJjZWxVcmx9YCxcblx0XHQpO1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCBoZHJzID0gYXdhaXQgaGVhZGVycygpO1xuXHRcdGNvbnN0IG9yaWdpbiA9IGhkcnMuZ2V0KFwib3JpZ2luXCIpO1xuXHRcdGlmIChvcmlnaW4gJiYgc2hvdWxkVXNlVXJsKG9yaWdpbikpIHtcblx0XHRcdHJldHVybiBub3JtYWxpemVCYXNlVXJsKG9yaWdpbik7XG5cdFx0fVxuXHRcdGNvbnN0IGhvc3QgPSBoZHJzLmdldChcImhvc3RcIik7XG5cdFx0aWYgKGhvc3QgJiYgc2hvdWxkVXNlVXJsKGhvc3QpKSB7XG5cdFx0XHRjb25zdCBwcm90b2NvbCA9IGhvc3QuaW5jbHVkZXMoXCJsb2NhbGhvc3RcIikgPyBcImh0dHBcIiA6IFwiaHR0cHNcIjtcblx0XHRcdHJldHVybiBub3JtYWxpemVCYXNlVXJsKGAke3Byb3RvY29sfTovLyR7aG9zdH1gKTtcblx0XHR9XG5cdH0gY2F0Y2gge1xuXHRcdC8vIGhlYWRlcnMoKSBub3QgYXZhaWxhYmxlIG91dHNpZGUgb2YgYSByZXF1ZXN0IGNvbnRleHRcblx0fVxuXG5cdHJldHVybiB1bmRlZmluZWQ7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGJ1aWxkQWJzb2x1dGVVcmwocGF0aDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+IHtcblx0Y29uc3QgYmFzZSA9IGF3YWl0IGdldEJhc2VBcHBVcmwoKTtcblx0aWYgKCFiYXNlKSB7XG5cdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0fVxuXHRjb25zdCBub3JtYWxpemVkUGF0aCA9IHBhdGguc3RhcnRzV2l0aChcIi9cIikgPyBwYXRoIDogYC8ke3BhdGh9YDtcblx0cmV0dXJuIGAke2Jhc2V9JHtub3JtYWxpemVkUGF0aH1gO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRUZWxueXhXZWJob29rVXJsKFxuXHRjb21wYW55SWQ/OiBzdHJpbmcsXG4pOiBQcm9taXNlPHN0cmluZyB8IHVuZGVmaW5lZD4ge1xuXHRpZiAoY29tcGFueUlkKSB7XG5cdFx0cmV0dXJuIGJ1aWxkQWJzb2x1dGVVcmwoYC9hcGkvd2ViaG9va3MvdGVsbnl4P2NvbXBhbnk9JHtjb21wYW55SWR9YCk7XG5cdH1cblx0cmV0dXJuIGJ1aWxkQWJzb2x1dGVVcmwoXCIvYXBpL3dlYmhvb2tzL3RlbG55eFwiKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0UGhvbmVOdW1iZXJJZChcblx0c3VwYWJhc2U6IFR5cGVkU3VwYWJhc2VDbGllbnQsXG5cdHBob25lTnVtYmVyOiBzdHJpbmcsXG4pOiBQcm9taXNlPHN0cmluZyB8IG51bGw+IHtcblx0Y29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVBob25lTnVtYmVyKHBob25lTnVtYmVyKTtcblx0Y29uc3QgeyBkYXRhIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdC5mcm9tKFwicGhvbmVfbnVtYmVyc1wiKVxuXHRcdC5zZWxlY3QoXCJpZFwiKVxuXHRcdC5lcShcInBob25lX251bWJlclwiLCBub3JtYWxpemVkKVxuXHRcdC5pcyhcImRlbGV0ZWRfYXRcIiwgbnVsbClcblx0XHQubWF5YmVTaW5nbGUoKTtcblxuXHRyZXR1cm4gZGF0YT8uaWQgPz8gbnVsbDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZW5zdXJlUGhvbmVOdW1iZXJSZWNvcmRFeGlzdHMoXG5cdHN1cGFiYXNlOiBUeXBlZFN1cGFiYXNlQ2xpZW50LFxuXHRjb21wYW55SWQ6IHN0cmluZyxcblx0cGhvbmVOdW1iZXI6IHN0cmluZyB8IG51bGwsXG4pOiBQcm9taXNlPHZvaWQ+IHtcblx0aWYgKCFwaG9uZU51bWJlcikge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVQaG9uZU51bWJlcihwaG9uZU51bWJlcik7XG5cdGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHQuZnJvbShcInBob25lX251bWJlcnNcIilcblx0XHQuc2VsZWN0KFwiaWRcIilcblx0XHQuZXEoXCJjb21wYW55X2lkXCIsIGNvbXBhbnlJZClcblx0XHQuZXEoXCJwaG9uZV9udW1iZXJcIiwgbm9ybWFsaXplZClcblx0XHQubGltaXQoMSk7XG5cblx0aWYgKGRhdGEgJiYgZGF0YS5sZW5ndGggPiAwKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0YXdhaXQgc3VwYWJhc2UuZnJvbShcInBob25lX251bWJlcnNcIikuaW5zZXJ0KHtcblx0XHRjb21wYW55X2lkOiBjb21wYW55SWQsXG5cdFx0cGhvbmVfbnVtYmVyOiBub3JtYWxpemVkLFxuXHRcdGZvcm1hdHRlZF9udW1iZXI6IGZvcm1hdERpc3BsYXlQaG9uZU51bWJlcihub3JtYWxpemVkKSxcblx0XHRjb3VudHJ5X2NvZGU6IFwiVVNcIixcblx0XHRhcmVhX2NvZGU6IGV4dHJhY3RBcmVhQ29kZShub3JtYWxpemVkKSxcblx0XHRudW1iZXJfdHlwZTogXCJsb2NhbFwiLFxuXHRcdHN0YXR1czogXCJhY3RpdmVcIixcblx0XHRmZWF0dXJlczogREVGQVVMVF9QSE9ORV9OVU1CRVJfRkVBVFVSRVMsXG5cdH0pO1xufVxuXG5hc3luYyBmdW5jdGlvbiByZXNvbHZlT3V0Ym91bmRQaG9uZU51bWJlcihcblx0c3VwYWJhc2U6IFR5cGVkU3VwYWJhc2VDbGllbnQsXG5cdGNvbXBhbnlJZDogc3RyaW5nLFxuXHRleHBsaWNpdEZyb20/OiBzdHJpbmcgfCBudWxsLFxuXHRkZWZhdWx0TnVtYmVyPzogc3RyaW5nIHwgbnVsbCxcbik6IFByb21pc2U8c3RyaW5nIHwgbnVsbD4ge1xuXHRpZiAoZXhwbGljaXRGcm9tKSB7XG5cdFx0cmV0dXJuIG5vcm1hbGl6ZVBob25lTnVtYmVyKGV4cGxpY2l0RnJvbSk7XG5cdH1cblxuXHRjb25zdCBub3JtYWxpemVkRGVmYXVsdCA9IGRlZmF1bHROdW1iZXJcblx0XHQ/IG5vcm1hbGl6ZVBob25lTnVtYmVyKGRlZmF1bHROdW1iZXIpXG5cdFx0OiBudWxsO1xuXG5cdHRyeSB7XG5cdFx0Y29uc3QgeyBkYXRhIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJwaG9uZV9udW1iZXJzXCIpXG5cdFx0XHQuc2VsZWN0KFwicGhvbmVfbnVtYmVyLCBudW1iZXJfdHlwZVwiKVxuXHRcdFx0LmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpXG5cdFx0XHQuZXEoXCJzdGF0dXNcIiwgXCJhY3RpdmVcIik7XG5cblx0XHRpZiAoZGF0YSAmJiBkYXRhLmxlbmd0aCA+IDApIHtcblx0XHRcdGNvbnN0IHRvbGxGcmVlID0gZGF0YS5maW5kKChuKSA9PiBuLm51bWJlcl90eXBlID09PSBcInRvbGwtZnJlZVwiKTtcblx0XHRcdGlmICh0b2xsRnJlZSkge1xuXHRcdFx0XHRyZXR1cm4gbm9ybWFsaXplUGhvbmVOdW1iZXIodG9sbEZyZWUucGhvbmVfbnVtYmVyKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKG5vcm1hbGl6ZWREZWZhdWx0KSB7XG5cdFx0XHRcdGNvbnN0IGRlZmF1bHRFeGlzdHMgPSBkYXRhLnNvbWUoXG5cdFx0XHRcdFx0KG4pID0+IG5vcm1hbGl6ZVBob25lTnVtYmVyKG4ucGhvbmVfbnVtYmVyKSA9PT0gbm9ybWFsaXplZERlZmF1bHQsXG5cdFx0XHRcdCk7XG5cdFx0XHRcdGlmIChkZWZhdWx0RXhpc3RzKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG5vcm1hbGl6ZWREZWZhdWx0O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBub3JtYWxpemVQaG9uZU51bWJlcihkYXRhWzBdLnBob25lX251bWJlcik7XG5cdFx0fVxuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUud2Fybihcblx0XHRcdFwiRmFpbGVkIHRvIGxvYWQgY29tcGFueSBwaG9uZSBudW1iZXJzIGZvciBvdXRib3VuZCBzZWxlY3Rpb246XCIsXG5cdFx0XHRlcnJvcixcblx0XHQpO1xuXHR9XG5cblx0cmV0dXJuIG5vcm1hbGl6ZWREZWZhdWx0O1xufVxuXG5hc3luYyBmdW5jdGlvbiBtZXJnZVByb3ZpZGVyTWV0YWRhdGEoXG5cdHN1cGFiYXNlOiBUeXBlZFN1cGFiYXNlQ2xpZW50LFxuXHRjb21tdW5pY2F0aW9uSWQ6IHN0cmluZyxcblx0cGF0Y2g6IFJlY29yZDxzdHJpbmcsIEpzb24+LFxuKTogUHJvbWlzZTx2b2lkPiB7XG5cdGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHQuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG5cdFx0LnNlbGVjdChcInByb3ZpZGVyX21ldGFkYXRhXCIpXG5cdFx0LmVxKFwiaWRcIiwgY29tbXVuaWNhdGlvbklkKVxuXHRcdC5tYXliZVNpbmdsZSgpO1xuXG5cdGNvbnN0IGN1cnJlbnRNZXRhZGF0YSA9XG5cdFx0KGRhdGE/LnByb3ZpZGVyX21ldGFkYXRhIGFzIFJlY29yZDxzdHJpbmcsIEpzb24+IHwgbnVsbCkgPz8ge307XG5cdGNvbnN0IG1lcmdlZE1ldGFkYXRhOiBSZWNvcmQ8c3RyaW5nLCBKc29uPiA9IHtcblx0XHQuLi5jdXJyZW50TWV0YWRhdGEsXG5cdFx0Li4ucGF0Y2gsXG5cdH07XG5cblx0YXdhaXQgc3VwYWJhc2Vcblx0XHQuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG5cdFx0LnVwZGF0ZSh7XG5cdFx0XHRwcm92aWRlcl9tZXRhZGF0YTogbWVyZ2VkTWV0YWRhdGEsXG5cdFx0fSlcblx0XHQuZXEoXCJpZFwiLCBjb21tdW5pY2F0aW9uSWQpO1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBQSE9ORSBOVU1CRVIgTUFOQUdFTUVOVCBBQ1RJT05TXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogU2VhcmNoIGZvciBhdmFpbGFibGUgcGhvbmUgbnVtYmVycyB0byBwdXJjaGFzZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VhcmNoUGhvbmVOdW1iZXJzKHBhcmFtczoge1xuXHRhcmVhQ29kZT86IHN0cmluZztcblx0bnVtYmVyVHlwZT86IE51bWJlclR5cGU7XG5cdGZlYXR1cmVzPzogTnVtYmVyRmVhdHVyZVtdO1xuXHRsaW1pdD86IG51bWJlcjtcbn0pIHtcblx0dHJ5IHtcblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBzZWFyY2hBdmFpbGFibGVOdW1iZXJzKHtcblx0XHRcdGNvdW50cnlDb2RlOiBcIlVTXCIsXG5cdFx0XHRhcmVhQ29kZTogcGFyYW1zLmFyZWFDb2RlLFxuXHRcdFx0bnVtYmVyVHlwZTogcGFyYW1zLm51bWJlclR5cGUsXG5cdFx0XHRmZWF0dXJlczogcGFyYW1zLmZlYXR1cmVzLFxuXHRcdFx0bGltaXQ6IHBhcmFtcy5saW1pdCB8fCAxMCxcblx0XHR9KTtcblxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIHNlYXJjaCBwaG9uZSBudW1iZXJzXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIFB1cmNoYXNlIGEgcGhvbmUgbnVtYmVyIGFuZCBhc3NvY2lhdGUgaXQgd2l0aCB0aGUgY3VycmVudCBjb21wYW55XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwdXJjaGFzZVBob25lTnVtYmVyKHBhcmFtczoge1xuXHRwaG9uZU51bWJlcjogc3RyaW5nO1xuXHRjb21wYW55SWQ6IHN0cmluZztcblx0YmlsbGluZ0dyb3VwSWQ/OiBzdHJpbmc7XG59KSB7XG5cdHRyeSB7XG5cdFx0Ly8gVmFsaWRhdGUgY29uZmlndXJhdGlvblxuXHRcdGNvbnN0IHNtc0NvbmZpZyA9IGF3YWl0IHZhbGlkYXRlU21zQ29uZmlnKCk7XG5cdFx0Y29uc3QgY2FsbENvbmZpZyA9IHZhbGlkYXRlQ2FsbENvbmZpZygpO1xuXHRcdGlmICghc21zQ29uZmlnLnZhbGlkIHx8ICFjYWxsQ29uZmlnLnZhbGlkKSB7XG5cdFx0XHRsZXQgZXJyb3JNZXNzYWdlID1cblx0XHRcdFx0XCJUZWxueXggY29uZmlndXJhdGlvbiBpcyBpbmNvbXBsZXRlLiBQbGVhc2UgY29uZmlndXJlIGFsbCByZXF1aXJlZCBlbnZpcm9ubWVudCB2YXJpYWJsZXMuXCI7XG5cblx0XHRcdC8vIElmIHdlIGhhdmUgYSBzdWdnZXN0ZWQgcHJvZmlsZSBJRCwgaW5jbHVkZSBpdCBpbiB0aGUgZXJyb3Jcblx0XHRcdGlmIChzbXNDb25maWcuc3VnZ2VzdGVkUHJvZmlsZUlkKSB7XG5cdFx0XHRcdGVycm9yTWVzc2FnZSArPSBgIEZvdW5kIG1lc3NhZ2luZyBwcm9maWxlIFwiJHtzbXNDb25maWcuc3VnZ2VzdGVkUHJvZmlsZUlkfVwiIGluIHlvdXIgVGVsbnl4IGFjY291bnQuIFNldCBURUxOWVhfREVGQVVMVF9NRVNTQUdJTkdfUFJPRklMRV9JRD0ke3Ntc0NvbmZpZy5zdWdnZXN0ZWRQcm9maWxlSWR9IHRvIHVzZSBpdC5gO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGVycm9yTWVzc2FnZSxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiU2VydmljZSB1bmF2YWlsYWJsZVwiIH07XG5cdFx0fVxuXG5cdFx0Y29uc3Qgbm9ybWFsaXplZFBob25lTnVtYmVyID0gbm9ybWFsaXplUGhvbmVOdW1iZXIocGFyYW1zLnBob25lTnVtYmVyKTtcblx0XHRjb25zdCBmb3JtYXR0ZWROdW1iZXIgPSBmb3JtYXREaXNwbGF5UGhvbmVOdW1iZXIobm9ybWFsaXplZFBob25lTnVtYmVyKTtcblx0XHRjb25zdCBhcmVhQ29kZSA9IGV4dHJhY3RBcmVhQ29kZShub3JtYWxpemVkUGhvbmVOdW1iZXIpO1xuXG5cdFx0Ly8gUHVyY2hhc2UgbnVtYmVyIGZyb20gVGVsbnl4XG5cdFx0Y29uc3QgbWVzc2FnaW5nUHJvZmlsZUlkID0gREVGQVVMVF9NRVNTQUdJTkdfUFJPRklMRV9JRCB8fCB1bmRlZmluZWQ7XG5cblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBwdXJjaGFzZU51bWJlcih7XG5cdFx0XHRwaG9uZU51bWJlcjogbm9ybWFsaXplZFBob25lTnVtYmVyLFxuXHRcdFx0Y29ubmVjdGlvbklkOiBURUxOWVhfQ09ORklHLmNvbm5lY3Rpb25JZCxcblx0XHRcdG1lc3NhZ2luZ1Byb2ZpbGVJZCxcblx0XHRcdGJpbGxpbmdHcm91cElkOiBwYXJhbXMuYmlsbGluZ0dyb3VwSWQsXG5cdFx0XHRjdXN0b21lclJlZmVyZW5jZTogYGNvbXBhbnlfJHtwYXJhbXMuY29tcGFueUlkfWAsXG5cdFx0fSk7XG5cblx0XHRpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH1cblxuXHRcdC8vIFN0b3JlIGluIGRhdGFiYXNlXG5cdFx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwicGhvbmVfbnVtYmVyc1wiKVxuXHRcdFx0Lmluc2VydCh7XG5cdFx0XHRcdGNvbXBhbnlfaWQ6IHBhcmFtcy5jb21wYW55SWQsXG5cdFx0XHRcdHRlbG55eF9waG9uZV9udW1iZXJfaWQ6IHJlc3VsdC5vcmRlcklkLFxuXHRcdFx0XHR0ZWxueXhfY29ubmVjdGlvbl9pZDogVEVMTllYX0NPTkZJRy5jb25uZWN0aW9uSWQsXG5cdFx0XHRcdHBob25lX251bWJlcjogbm9ybWFsaXplZFBob25lTnVtYmVyLFxuXHRcdFx0XHRmb3JtYXR0ZWRfbnVtYmVyOiBmb3JtYXR0ZWROdW1iZXIsXG5cdFx0XHRcdGNvdW50cnlfY29kZTogXCJVU1wiLFxuXHRcdFx0XHRhcmVhX2NvZGU6IGFyZWFDb2RlLFxuXHRcdFx0XHRudW1iZXJfdHlwZTogXCJsb2NhbFwiLFxuXHRcdFx0XHRmZWF0dXJlczogW1widm9pY2VcIiwgXCJzbXNcIl0sXG5cdFx0XHRcdHN0YXR1czogXCJwZW5kaW5nXCIsXG5cdFx0XHR9KVxuXHRcdFx0LnNlbGVjdCgpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9zZXR0aW5ncy9jb21tdW5pY2F0aW9ucy9waG9uZS1udW1iZXJzXCIpO1xuXG5cdFx0dHJ5IHtcblx0XHRcdGF3YWl0IGVuc3VyZU1lc3NhZ2luZ0NhbXBhaWduKFxuXHRcdFx0XHRwYXJhbXMuY29tcGFueUlkLFxuXHRcdFx0XHR7IGlkOiBkYXRhLmlkLCBlMTY0OiBub3JtYWxpemVkUGhvbmVOdW1iZXIgfSxcblx0XHRcdFx0eyBzdXBhYmFzZSB9LFxuXHRcdFx0KTtcblx0XHR9IGNhdGNoIChfY2FtcGFpZ25FcnJvcikge31cblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0ZGF0YSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byBwdXJjaGFzZSBwaG9uZSBudW1iZXJcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogR2V0IGFsbCBwaG9uZSBudW1iZXJzIGZvciBhIGNvbXBhbnlcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENvbXBhbnlQaG9uZU51bWJlcnMoY29tcGFueUlkOiBzdHJpbmcpIHtcblx0dHJ5IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJTZXJ2aWNlIHVuYXZhaWxhYmxlXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJwaG9uZV9udW1iZXJzXCIpXG5cdFx0XHQuc2VsZWN0KFwiKlwiKVxuXHRcdFx0LmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpXG5cdFx0XHQuaXMoXCJkZWxldGVkX2F0XCIsIG51bGwpXG5cdFx0XHQub3JkZXIoXCJjcmVhdGVkX2F0XCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IHRydWUsXG5cdFx0XHRkYXRhOiBkYXRhIHx8IFtdLFxuXHRcdH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gZ2V0IHBob25lIG51bWJlcnNcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogVXBkYXRlIHBob25lIG51bWJlciBjb25maWd1cmF0aW9uXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVBob25lTnVtYmVyKHBhcmFtczoge1xuXHRwaG9uZU51bWJlcklkOiBzdHJpbmc7XG5cdHJvdXRpbmdSdWxlSWQ/OiBzdHJpbmc7XG5cdGZvcndhcmRUb051bWJlcj86IHN0cmluZztcblx0dm9pY2VtYWlsRW5hYmxlZD86IGJvb2xlYW47XG59KSB7XG5cdHRyeSB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiU2VydmljZSB1bmF2YWlsYWJsZVwiIH07XG5cdFx0fVxuXG5cdFx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwicGhvbmVfbnVtYmVyc1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdGNhbGxfcm91dGluZ19ydWxlX2lkOiBwYXJhbXMucm91dGluZ1J1bGVJZCxcblx0XHRcdFx0Zm9yd2FyZF90b19udW1iZXI6IHBhcmFtcy5mb3J3YXJkVG9OdW1iZXIsXG5cdFx0XHRcdHZvaWNlbWFpbF9lbmFibGVkOiBwYXJhbXMudm9pY2VtYWlsRW5hYmxlZCxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBwYXJhbXMucGhvbmVOdW1iZXJJZClcblx0XHRcdC5zZWxlY3QoKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvc2V0dGluZ3MvY29tbXVuaWNhdGlvbnMvcGhvbmUtbnVtYmVyc1wiKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0ZGF0YSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byB1cGRhdGUgcGhvbmUgbnVtYmVyXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIFJlbGVhc2UgKGRlbGV0ZSkgYSBwaG9uZSBudW1iZXJcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZGVsZXRlUGhvbmVOdW1iZXIocGhvbmVOdW1iZXJJZDogc3RyaW5nKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiU2VydmljZSB1bmF2YWlsYWJsZVwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gR2V0IHBob25lIG51bWJlciBkZXRhaWxzXG5cdFx0Y29uc3QgeyBkYXRhOiBwaG9uZU51bWJlciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwicGhvbmVfbnVtYmVyc1wiKVxuXHRcdFx0LnNlbGVjdChcIipcIilcblx0XHRcdC5lcShcImlkXCIsIHBob25lTnVtYmVySWQpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoIXBob25lTnVtYmVyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiUGhvbmUgbnVtYmVyIG5vdCBmb3VuZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gUmVsZWFzZSBmcm9tIFRlbG55eCBpZiB3ZSBoYXZlIHRoZSBJRFxuXHRcdGlmIChwaG9uZU51bWJlci50ZWxueXhfcGhvbmVfbnVtYmVyX2lkKSB7XG5cdFx0XHRhd2FpdCByZWxlYXNlTnVtYmVyKHBob25lTnVtYmVyLnRlbG55eF9waG9uZV9udW1iZXJfaWQpO1xuXHRcdH1cblxuXHRcdC8vIFNvZnQgZGVsZXRlIGluIGRhdGFiYXNlXG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwicGhvbmVfbnVtYmVyc1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdGRlbGV0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdFx0c3RhdHVzOiBcImRlbGV0ZWRcIixcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBwaG9uZU51bWJlcklkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL3NldHRpbmdzL2NvbW11bmljYXRpb25zL3Bob25lLW51bWJlcnNcIik7XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIGRlbGV0ZSBwaG9uZSBudW1iZXJcIixcblx0XHR9O1xuXHR9XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIENBTEwgT1BFUkFUSU9OUyBBQ1RJT05TXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogSW5pdGlhdGUgYW4gb3V0Ym91bmQgY2FsbFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbWFrZUNhbGwocGFyYW1zOiB7XG5cdHRvOiBzdHJpbmc7XG5cdGZyb206IHN0cmluZztcblx0Y29tcGFueUlkOiBzdHJpbmc7XG5cdGN1c3RvbWVySWQ/OiBzdHJpbmc7XG5cdGpvYklkPzogc3RyaW5nO1xuXHRwcm9wZXJ0eUlkPzogc3RyaW5nO1xuXHRpbnZvaWNlSWQ/OiBzdHJpbmc7XG5cdGVzdGltYXRlSWQ/OiBzdHJpbmc7XG59KSB7XG5cdHRyeSB7XG5cdFx0Y29uc29sZS5sb2coXCLwn5OeIG1ha2VDYWxsIGNhbGxlZCB3aXRoIHBhcmFtczpcIiwgcGFyYW1zKTtcblxuXHRcdGNvbnN0IGNhbGxDb25maWcgPSB2YWxpZGF0ZUNhbGxDb25maWcoKTtcblx0XHRjb25zb2xlLmxvZyhcIvCflI0gQ2FsbCBjb25maWcgdmFsaWRhdGlvbjpcIiwgY2FsbENvbmZpZyk7XG5cdFx0aWYgKCFjYWxsQ29uZmlnLnZhbGlkKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGNhbGxDb25maWcuZXJyb3IgfHwgXCJDYWxsIGNvbmZpZ3VyYXRpb24gaXMgaW52YWxpZFwiLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJTZXJ2aWNlIHVuYXZhaWxhYmxlXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCBjb21wYW55U2V0dGluZ3MgPSBhd2FpdCBnZXRDb21wYW55VGVsbnl4U2V0dGluZ3MoXG5cdFx0XHRzdXBhYmFzZSxcblx0XHRcdHBhcmFtcy5jb21wYW55SWQsXG5cdFx0KTtcblxuXHRcdGF3YWl0IGVuc3VyZVBob25lTnVtYmVyUmVjb3JkRXhpc3RzKFxuXHRcdFx0c3VwYWJhc2UsXG5cdFx0XHRwYXJhbXMuY29tcGFueUlkLFxuXHRcdFx0Y29tcGFueVNldHRpbmdzPy5kZWZhdWx0X291dGJvdW5kX251bWJlciB8fCBudWxsLFxuXHRcdCk7XG5cblx0XHRjb25zdCBjb25uZWN0aW9uT3ZlcnJpZGUgPVxuXHRcdFx0Y29tcGFueVNldHRpbmdzPy5jYWxsX2NvbnRyb2xfYXBwbGljYXRpb25faWQgfHxcblx0XHRcdFRFTE5ZWF9DT05GSUcuY29ubmVjdGlvbklkO1xuXHRcdGNvbnN0IGZyb21BZGRyZXNzID0gYXdhaXQgcmVzb2x2ZU91dGJvdW5kUGhvbmVOdW1iZXIoXG5cdFx0XHRzdXBhYmFzZSxcblx0XHRcdHBhcmFtcy5jb21wYW55SWQsXG5cdFx0XHRwYXJhbXMuZnJvbSxcblx0XHRcdGNvbXBhbnlTZXR0aW5ncz8uZGVmYXVsdF9vdXRib3VuZF9udW1iZXIgfHwgbnVsbCxcblx0XHQpO1xuXG5cdFx0aWYgKCFjb25uZWN0aW9uT3ZlcnJpZGUpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogXCJObyBUZWxueXggY29ubmVjdGlvbiBjb25maWd1cmVkIGZvciB0aGlzIGNvbXBhbnkuXCIsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGlmICghZnJvbUFkZHJlc3MpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjpcblx0XHRcdFx0XHRcIkNvbXBhbnkgZG9lcyBub3QgaGF2ZSBhIGRlZmF1bHQgb3V0Ym91bmQgcGhvbmUgbnVtYmVyIGNvbmZpZ3VyZWQuIFBsZWFzZSBwcm92aXNpb24gbnVtYmVycyBmaXJzdC5cIixcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gVEVNUDogU2tpcCBjb25uZWN0aW9uIHZlcmlmaWNhdGlvbiAtIExldmVsIDIgcmVxdWlyZWQgZm9yIEFQSSBhY2Nlc3Ncblx0XHQvLyBjb25zdCBjb25uZWN0aW9uU3RhdHVzID0gYXdhaXQgdmVyaWZ5Q29ubmVjdGlvbihjb25uZWN0aW9uT3ZlcnJpZGUpO1xuXHRcdC8vIGlmIChjb25uZWN0aW9uU3RhdHVzLm5lZWRzRml4KSB7XG5cdFx0Ly8gXHRyZXR1cm4ge1xuXHRcdC8vIFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHQvLyBcdFx0ZXJyb3I6IGBDb25uZWN0aW9uIGNvbmZpZ3VyYXRpb24gaXNzdWU6ICR7Y29ubmVjdGlvblN0YXR1cy5pc3N1ZXMuam9pbihcIiwgXCIpfS4gUnVuIGZpeENvbm5lY3Rpb24oKSB0byBhdXRvLWZpeC5gLFxuXHRcdC8vIFx0fTtcblx0XHQvLyB9XG5cblx0XHRjb25zdCB0b0FkZHJlc3MgPSBub3JtYWxpemVQaG9uZU51bWJlcihwYXJhbXMudG8pO1xuXG5cdFx0Ly8gVEVNUDogU2tpcCB2b2ljZSBjYXBhYmlsaXR5IGNoZWNrIC0gTGV2ZWwgMiByZXF1aXJlZCBmb3IgQVBJIGFjY2Vzc1xuXHRcdC8vIGNvbnN0IHZvaWNlQ2FwYWJpbGl0eSA9IGF3YWl0IHZlcmlmeVZvaWNlQ2FwYWJpbGl0eShmcm9tQWRkcmVzcyk7XG5cdFx0Ly8gaWYgKCF2b2ljZUNhcGFiaWxpdHkuaGFzVm9pY2UpIHtcblx0XHQvLyBcdHJldHVybiB7XG5cdFx0Ly8gXHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdC8vIFx0XHRlcnJvcjpcblx0XHQvLyBcdFx0XHR2b2ljZUNhcGFiaWxpdHkuZXJyb3IgfHwgXCJQaG9uZSBudW1iZXIgZG9lcyBub3Qgc3VwcG9ydCB2b2ljZSBjYWxsc1wiLFxuXHRcdC8vIFx0fTtcblx0XHQvLyB9XG5cblx0XHRjb25zdCB0ZWxueXhXZWJob29rVXJsID0gYXdhaXQgZ2V0VGVsbnl4V2ViaG9va1VybChwYXJhbXMuY29tcGFueUlkKTtcblx0XHRjb25zb2xlLmxvZyhcIvCflJcgV2ViaG9vayBVUkw6XCIsIHRlbG55eFdlYmhvb2tVcmwpO1xuXHRcdGlmICghdGVsbnl4V2ViaG9va1VybCkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOlxuXHRcdFx0XHRcdFwiU2l0ZSBVUkwgaXMgbm90IGNvbmZpZ3VyZWQuIFNldCBORVhUX1BVQkxJQ19TSVRFX1VSTCBvciBTSVRFX1VSTCB0byBhIHB1YmxpYyBodHRwcyBkb21haW4uXCIsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGNvbnNvbGUubG9nKFwi8J+TpCBJbml0aWF0aW5nIGNhbGw6XCIsIHtcblx0XHRcdHRvOiB0b0FkZHJlc3MsXG5cdFx0XHRmcm9tOiBmcm9tQWRkcmVzcyxcblx0XHRcdGNvbm5lY3Rpb25JZDogY29ubmVjdGlvbk92ZXJyaWRlLFxuXHRcdFx0d2ViaG9va1VybDogdGVsbnl4V2ViaG9va1VybCxcblx0XHR9KTtcblxuXHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IGluaXRpYXRlQ2FsbCh7XG5cdFx0XHR0bzogdG9BZGRyZXNzLFxuXHRcdFx0ZnJvbTogZnJvbUFkZHJlc3MsXG5cdFx0XHRjb25uZWN0aW9uSWQ6IGNvbm5lY3Rpb25PdmVycmlkZSxcblx0XHRcdHdlYmhvb2tVcmw6IHRlbG55eFdlYmhvb2tVcmwsXG5cdFx0XHRhbnN3ZXJpbmdNYWNoaW5lRGV0ZWN0aW9uOiBcInByZW1pdW1cIixcblx0XHR9KTtcblxuXHRcdGNvbnNvbGUubG9nKFwi8J+TpSBUZWxueXggQVBJIHJlc3BvbnNlOlwiLCByZXN1bHQpO1xuXG5cdFx0aWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9XG5cblx0XHRjb25zdCBwaG9uZU51bWJlcklkID0gYXdhaXQgZ2V0UGhvbmVOdW1iZXJJZChzdXBhYmFzZSwgZnJvbUFkZHJlc3MpO1xuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG5cdFx0XHQuaW5zZXJ0KHtcblx0XHRcdFx0Y29tcGFueV9pZDogY29tcGFueUlkLFxuXHRcdFx0XHRjdXN0b21lcl9pZDogcGFyYW1zLmN1c3RvbWVySWQsXG5cdFx0XHRcdGpvYl9pZDogcGFyYW1zLmpvYklkID8/IG51bGwsXG5cdFx0XHRcdHByb3BlcnR5X2lkOiBwYXJhbXMucHJvcGVydHlJZCA/PyBudWxsLFxuXHRcdFx0XHRpbnZvaWNlX2lkOiBwYXJhbXMuaW52b2ljZUlkID8/IG51bGwsXG5cdFx0XHRcdGVzdGltYXRlX2lkOiBwYXJhbXMuZXN0aW1hdGVJZCA/PyBudWxsLFxuXHRcdFx0XHR0eXBlOiBcInBob25lXCIsXG5cdFx0XHRcdGNoYW5uZWw6IFwidGVsbnl4XCIsXG5cdFx0XHRcdGRpcmVjdGlvbjogXCJvdXRib3VuZFwiLFxuXHRcdFx0XHRmcm9tX2FkZHJlc3M6IGZyb21BZGRyZXNzLFxuXHRcdFx0XHR0b19hZGRyZXNzOiB0b0FkZHJlc3MsXG5cdFx0XHRcdGJvZHk6IFwiXCIsXG5cdFx0XHRcdHN0YXR1czogXCJxdWV1ZWRcIixcblx0XHRcdFx0cHJpb3JpdHk6IFwibm9ybWFsXCIsXG5cdFx0XHRcdHBob25lX251bWJlcl9pZDogcGhvbmVOdW1iZXJJZCxcblx0XHRcdFx0aXNfYXJjaGl2ZWQ6IGZhbHNlLFxuXHRcdFx0XHRpc19hdXRvbWF0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRpc19pbnRlcm5hbDogZmFsc2UsXG5cdFx0XHRcdGlzX3RocmVhZF9zdGFydGVyOiB0cnVlLFxuXHRcdFx0XHR0ZWxueXhfY2FsbF9jb250cm9sX2lkOiByZXN1bHQuY2FsbENvbnRyb2xJZCxcblx0XHRcdFx0dGVsbnl4X2NhbGxfc2Vzc2lvbl9pZDogcmVzdWx0LmNhbGxTZXNzaW9uSWQsXG5cdFx0XHR9KVxuXHRcdFx0LnNlbGVjdCgpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdGNvbnNvbGUubG9nKFwi4pyFIENhbGwgY3JlYXRlZCBzdWNjZXNzZnVsbHk6XCIsIHtcblx0XHRcdGNhbGxDb250cm9sSWQ6IHJlc3VsdC5jYWxsQ29udHJvbElkLFxuXHRcdFx0Y29tbXVuaWNhdGlvbklkOiBkYXRhLmlkLFxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IHRydWUsXG5cdFx0XHRjYWxsQ29udHJvbElkOiByZXN1bHQuY2FsbENvbnRyb2xJZCxcblx0XHRcdGRhdGEsXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRjb25zb2xlLmVycm9yKFwi4p2MIG1ha2VDYWxsIGVycm9yOlwiLCBlcnJvcik7XG5cdFx0Y29uc29sZS5lcnJvcihcIkVycm9yIGRldGFpbHM6XCIsIHtcblx0XHRcdG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKSxcblx0XHRcdHN0YWNrOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3Iuc3RhY2sgOiB1bmRlZmluZWQsXG5cdFx0fSk7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gbWFrZSBjYWxsXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIEFuc3dlciBhbiBpbmNvbWluZyBjYWxsXG4vKipcbiAqIEFuc3dlciBhbiBpbmNvbWluZyBjYWxsXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGFjY2VwdENhbGwoY2FsbENvbnRyb2xJZDogc3RyaW5nKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgdGVsbnl4V2ViaG9va1VybCA9IGF3YWl0IGdldFRlbG55eFdlYmhvb2tVcmwoKTtcblx0XHRpZiAoIXRlbG55eFdlYmhvb2tVcmwpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjpcblx0XHRcdFx0XHRcIlNpdGUgVVJMIGlzIG5vdCBjb25maWd1cmVkLiBTZXQgTkVYVF9QVUJMSUNfU0lURV9VUkwgb3IgU0lURV9VUkwgdG8gYSBwdWJsaWMgaHR0cHMgZG9tYWluLlwiLFxuXHRcdFx0fTtcblx0XHR9XG5cdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgYW5zd2VyQ2FsbCh7XG5cdFx0XHRjYWxsQ29udHJvbElkLFxuXHRcdFx0d2ViaG9va1VybDogdGVsbnl4V2ViaG9va1VybCxcblx0XHR9KTtcblxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gYW5zd2VyIGNhbGxcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogUmVqZWN0IGFuIGluY29taW5nIGNhbGxcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZGVjbGluZUNhbGwoY2FsbENvbnRyb2xJZDogc3RyaW5nKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgcmVqZWN0Q2FsbCh7XG5cdFx0XHRjYWxsQ29udHJvbElkLFxuXHRcdFx0Y2F1c2U6IFwiQ0FMTF9SRUpFQ1RFRFwiLFxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byByZWplY3QgY2FsbFwiLFxuXHRcdH07XG5cdH1cbn1cblxuLyoqXG4gKiBFbmQgYW4gYWN0aXZlIGNhbGxcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZW5kQ2FsbChjYWxsQ29udHJvbElkOiBzdHJpbmcpIHtcblx0dHJ5IHtcblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBoYW5ndXBDYWxsKHsgY2FsbENvbnRyb2xJZCB9KTtcblxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gZW5kIGNhbGxcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogU3RhcnQgcmVjb3JkaW5nIGEgY2FsbFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc3RhcnRDYWxsUmVjb3JkaW5nKGNhbGxDb250cm9sSWQ6IHN0cmluZykge1xuXHR0cnkge1xuXHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IHN0YXJ0UmVjb3JkaW5nKHtcblx0XHRcdGNhbGxDb250cm9sSWQsXG5cdFx0XHRmb3JtYXQ6IFwibXAzXCIsXG5cdFx0XHRjaGFubmVsczogXCJzaW5nbGVcIixcblx0XHR9KTtcblxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gc3RhcnQgcmVjb3JkaW5nXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIFN0b3AgcmVjb3JkaW5nIGEgY2FsbFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc3RvcENhbGxSZWNvcmRpbmcoY2FsbENvbnRyb2xJZDogc3RyaW5nKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgc3RvcFJlY29yZGluZyh7IGNhbGxDb250cm9sSWQgfSk7XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiRmFpbGVkIHRvIHN0b3AgcmVjb3JkaW5nXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIFRyYW5zZmVyIGFuIGFjdGl2ZSBjYWxsIHRvIGFub3RoZXIgbnVtYmVyXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0cmFuc2ZlckFjdGl2ZUNhbGwocGFyYW1zOiB7XG5cdGNhbGxDb250cm9sSWQ6IHN0cmluZztcblx0dG86IHN0cmluZztcblx0ZnJvbTogc3RyaW5nO1xufSkge1xuXHR0cnkge1xuXHRcdGNvbnN0IHsgdHJhbnNmZXJDYWxsIH0gPSBhd2FpdCBpbXBvcnQoXCJAL2xpYi90ZWxueXgvY2FsbHNcIik7XG5cdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgdHJhbnNmZXJDYWxsKHtcblx0XHRcdGNhbGxDb250cm9sSWQ6IHBhcmFtcy5jYWxsQ29udHJvbElkLFxuXHRcdFx0dG86IHBhcmFtcy50byxcblx0XHRcdGZyb206IHBhcmFtcy5mcm9tLFxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byB0cmFuc2ZlciBjYWxsXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIFRyYW5zY3JpYmUgYSBjYWxsIHJlY29yZGluZyB1c2luZyBBc3NlbWJseUFJXG4gKlxuICogU3VibWl0cyB0aGUgcmVjb3JkaW5nIFVSTCB0byBBc3NlbWJseUFJIGZvciBwb3N0LWNhbGwgdHJhbnNjcmlwdGlvbi5cbiAqIEFzc2VtYmx5QUkgd2lsbCBwcm9jZXNzIHRoZSBhdWRpbyBhbmQgc2VuZCB0aGUgdHJhbnNjcmlwdCB2aWEgd2ViaG9vay5cbiAqXG4gKiBAcGFyYW0gcmVjb3JkaW5nVXJsIC0gVVJMIG9mIHRoZSBjYWxsIHJlY29yZGluZyAoZnJvbSBUZWxueXgpXG4gKiBAcGFyYW0gY29tbXVuaWNhdGlvbklkIC0gRGF0YWJhc2UgSUQgb2YgdGhlIGNvbW11bmljYXRpb24gcmVjb3JkXG4gKiBAcmV0dXJucyBTdWNjZXNzL2Vycm9yIHJlc3BvbnNlIHdpdGggdHJhbnNjcmlwdGlvbiBqb2IgSURcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRyYW5zY3JpYmVDYWxsUmVjb3JkaW5nKHBhcmFtczoge1xuXHRyZWNvcmRpbmdVcmw6IHN0cmluZztcblx0Y29tbXVuaWNhdGlvbklkOiBzdHJpbmc7XG59KSB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgeyBzdWJtaXRUcmFuc2NyaXB0aW9uIH0gPSBhd2FpdCBpbXBvcnQoXCJAL2xpYi9hc3NlbWJseWFpL2NsaWVudFwiKTtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJTZXJ2aWNlIHVuYXZhaWxhYmxlXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCB3ZWJob29rVXJsID0gYXdhaXQgYnVpbGRBYnNvbHV0ZVVybChcIi9hcGkvd2ViaG9va3MvYXNzZW1ibHlhaVwiKTtcblx0XHRpZiAoIXdlYmhvb2tVcmwpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjpcblx0XHRcdFx0XHRcIlNpdGUgVVJMIGlzIG5vdCBjb25maWd1cmVkLiBTZXQgTkVYVF9QVUJMSUNfU0lURV9VUkwgb3IgU0lURV9VUkwuXCIsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdC8vIFN1Ym1pdCB0byBBc3NlbWJseUFJXG5cdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgc3VibWl0VHJhbnNjcmlwdGlvbih7XG5cdFx0XHRhdWRpb191cmw6IHBhcmFtcy5yZWNvcmRpbmdVcmwsXG5cdFx0XHRzcGVha2VyX2xhYmVsczogdHJ1ZSwgLy8gRW5hYmxlIHNwZWFrZXIgZGlhcml6YXRpb25cblx0XHRcdHdlYmhvb2tfdXJsOiB3ZWJob29rVXJsLFxuXHRcdH0pO1xuXG5cdFx0aWYgKCEocmVzdWx0LnN1Y2Nlc3MgJiYgcmVzdWx0LmRhdGEpKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IHJlc3VsdC5lcnJvciB8fCBcIkZhaWxlZCB0byBzdWJtaXQgdHJhbnNjcmlwdGlvblwiLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBTdG9yZSB0cmFuc2NyaXB0aW9uIGpvYiBJRCBpbiBkYXRhYmFzZVxuXHRcdGF3YWl0IG1lcmdlUHJvdmlkZXJNZXRhZGF0YShzdXBhYmFzZSwgcGFyYW1zLmNvbW11bmljYXRpb25JZCwge1xuXHRcdFx0YXNzZW1ibHlhaV90cmFuc2NyaXB0aW9uX2lkOiByZXN1bHQuZGF0YS5pZCxcblx0XHRcdGFzc2VtYmx5YWlfc3RhdHVzOiByZXN1bHQuZGF0YS5zdGF0dXMsXG5cdFx0fSk7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdHRyYW5zY3JpcHRpb25JZDogcmVzdWx0LmRhdGEuaWQsXG5cdFx0XHRzdGF0dXM6IHJlc3VsdC5kYXRhLnN0YXR1cyxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byB0cmFuc2NyaWJlIHJlY29yZGluZ1wiLFxuXHRcdH07XG5cdH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU01TIE9QRVJBVElPTlMgQUNUSU9OU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIFNlbmQgYW4gU01TIG1lc3NhZ2VcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRUZXh0TWVzc2FnZShwYXJhbXM6IHtcblx0dG86IHN0cmluZztcblx0ZnJvbTogc3RyaW5nO1xuXHR0ZXh0OiBzdHJpbmc7XG5cdGNvbXBhbnlJZD86IHN0cmluZzsgLy8gT3B0aW9uYWwgLSB3aWxsIGJlIGZldGNoZWQgaWYgbm90IHByb3ZpZGVkXG5cdGN1c3RvbWVySWQ/OiBzdHJpbmc7XG5cdGpvYklkPzogc3RyaW5nO1xuXHRpbnZvaWNlSWQ/OiBzdHJpbmc7XG5cdGVzdGltYXRlSWQ/OiBzdHJpbmc7XG59KSB7XG5cdHRyeSB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKFwi4p2MIFN1cGFiYXNlIGNsaWVudCB1bmF2YWlsYWJsZVwiKTtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJTZXJ2aWNlIHVuYXZhaWxhYmxlXCIgfTtcblx0XHR9XG5cblx0XHQvLyBHZXQgY29tcGFueSBJRCBpZiBub3QgcHJvdmlkZWRcblx0XHRsZXQgY29tcGFueUlkID0gcGFyYW1zLmNvbXBhbnlJZDtcblx0XHRpZiAoIWNvbXBhbnlJZCkge1xuXHRcdFx0Y29uc3QgeyBnZXRBY3RpdmVDb21wYW55SWQgfSA9IGF3YWl0IGltcG9ydChcIkAvbGliL2F1dGgvY29tcGFueS1jb250ZXh0XCIpO1xuXHRcdFx0Y29tcGFueUlkID0gYXdhaXQgZ2V0QWN0aXZlQ29tcGFueUlkKCk7XG5cdFx0XHRpZiAoIWNvbXBhbnlJZCkge1xuXHRcdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm8gYWN0aXZlIGNvbXBhbnkgZm91bmRcIiB9O1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGNvbnNvbGUubG9nKFwi8J+TsSBTTVMgU2VuZCBSZXF1ZXN0OlwiLCB7XG5cdFx0XHR0bzogcGFyYW1zLnRvLFxuXHRcdFx0ZnJvbTogcGFyYW1zLmZyb20sXG5cdFx0XHRjb21wYW55SWQsXG5cdFx0fSk7XG5cblx0XHRjb25zdCBjb21wYW55U2V0dGluZ3MgPSBhd2FpdCBnZXRDb21wYW55VGVsbnl4U2V0dGluZ3MoXG5cdFx0XHRzdXBhYmFzZSxcblx0XHRcdGNvbXBhbnlJZCxcblx0XHQpO1xuXHRcdGlmICghY29tcGFueVNldHRpbmdzKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKFwi4p2MIENvbXBhbnkgc2V0dGluZ3Mgbm90IGZvdW5kXCIpO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOlxuXHRcdFx0XHRcdFwiVW5hYmxlIHRvIHByb3Zpc2lvbiBUZWxueXggcmVzb3VyY2VzIGZvciB0aGlzIGNvbXBhbnkuIFBsZWFzZSB2ZXJpZnkgdGhlIGNvbXBhbnkncyBvbmJvYXJkaW5nIGlzIGNvbXBsZXRlIGFuZCB0cnkgYWdhaW4uXCIsXG5cdFx0XHR9O1xuXHRcdH1cblx0XHRjb25zb2xlLmxvZyhcIuKchSBDb21wYW55IHNldHRpbmdzIGxvYWRlZDpcIiwge1xuXHRcdFx0bWVzc2FnaW5nUHJvZmlsZUlkOiBjb21wYW55U2V0dGluZ3MubWVzc2FnaW5nX3Byb2ZpbGVfaWQsXG5cdFx0XHRkZWZhdWx0TnVtYmVyOiBjb21wYW55U2V0dGluZ3MuZGVmYXVsdF9vdXRib3VuZF9udW1iZXIsXG5cdFx0fSk7XG5cblx0XHRhd2FpdCBlbnN1cmVQaG9uZU51bWJlclJlY29yZEV4aXN0cyhcblx0XHRcdHN1cGFiYXNlLFxuXHRcdFx0Y29tcGFueUlkLFxuXHRcdFx0Y29tcGFueVNldHRpbmdzLmRlZmF1bHRfb3V0Ym91bmRfbnVtYmVyLFxuXHRcdCk7XG5cblx0XHRjb25zdCBzbXNDb25maWcgPSBhd2FpdCB2YWxpZGF0ZVNtc0NvbmZpZygpO1xuXHRcdGlmICghc21zQ29uZmlnLnZhbGlkICYmICFjb21wYW55U2V0dGluZ3M/Lm1lc3NhZ2luZ19wcm9maWxlX2lkKSB7XG5cdFx0XHRsZXQgZXJyb3JNZXNzYWdlID0gc21zQ29uZmlnLmVycm9yIHx8IFwiU01TIGNvbmZpZ3VyYXRpb24gaXMgaW52YWxpZFwiO1xuXHRcdFx0aWYgKHNtc0NvbmZpZy5zdWdnZXN0ZWRQcm9maWxlSWQpIHtcblx0XHRcdFx0ZXJyb3JNZXNzYWdlICs9IGAgRm91bmQgbWVzc2FnaW5nIHByb2ZpbGUgXCIke3Ntc0NvbmZpZy5zdWdnZXN0ZWRQcm9maWxlSWR9XCIgaW4geW91ciBUZWxueXggYWNjb3VudC4gU2V0IFRFTE5ZWF9ERUZBVUxUX01FU1NBR0lOR19QUk9GSUxFX0lEPSR7c21zQ29uZmlnLnN1Z2dlc3RlZFByb2ZpbGVJZH0gb3IgcHJvdmlzaW9uIGNvbXBhbnktc3BlY2lmaWMgc2V0dGluZ3MuYDtcblx0XHRcdH1cblx0XHRcdGNvbnNvbGUuZXJyb3IoXCLinYwgU01TIGNvbmZpZyBpbnZhbGlkOlwiLCBlcnJvck1lc3NhZ2UpO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOiBlcnJvck1lc3NhZ2UsXG5cdFx0XHR9O1xuXHRcdH1cblx0XHRjb25zb2xlLmxvZyhcIuKchSBTTVMgY29uZmlnIHZhbGlkXCIpO1xuXG5cdFx0Y29uc3QgbWVzc2FnaW5nUHJvZmlsZUlkID1cblx0XHRcdGNvbXBhbnlTZXR0aW5ncz8ubWVzc2FnaW5nX3Byb2ZpbGVfaWQgfHwgREVGQVVMVF9NRVNTQUdJTkdfUFJPRklMRV9JRDtcblx0XHRpZiAoIW1lc3NhZ2luZ1Byb2ZpbGVJZCkge1xuXHRcdFx0Y29uc29sZS5lcnJvcihcIuKdjCBObyBtZXNzYWdpbmcgcHJvZmlsZSBJRFwiKTtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjpcblx0XHRcdFx0XHRcIk1lc3NhZ2luZyBwcm9maWxlIGlzIG5vdCBjb25maWd1cmVkIGZvciB0aGlzIGNvbXBhbnkuIFBsZWFzZSBwcm92aXNpb24gY29tbXVuaWNhdGlvbnMgYmVmb3JlIHNlbmRpbmcgU01TLlwiLFxuXHRcdFx0fTtcblx0XHR9XG5cdFx0Y29uc29sZS5sb2coXCLinIUgVXNpbmcgbWVzc2FnaW5nIHByb2ZpbGU6XCIsIG1lc3NhZ2luZ1Byb2ZpbGVJZCk7XG5cblx0XHRpZiAobWVzc2FnaW5nUHJvZmlsZUlkKSB7XG5cdFx0XHRjb25zdCBtZXNzYWdpbmdQcm9maWxlU3RhdHVzID1cblx0XHRcdFx0YXdhaXQgdmVyaWZ5TWVzc2FnaW5nUHJvZmlsZShtZXNzYWdpbmdQcm9maWxlSWQpO1xuXHRcdFx0aWYgKG1lc3NhZ2luZ1Byb2ZpbGVTdGF0dXMubmVlZHNGaXgpIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihcblx0XHRcdFx0XHRcIuKdjCBNZXNzYWdpbmcgcHJvZmlsZSBuZWVkcyBmaXg6XCIsXG5cdFx0XHRcdFx0bWVzc2FnaW5nUHJvZmlsZVN0YXR1cy5pc3N1ZXMsXG5cdFx0XHRcdCk7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdFx0ZXJyb3I6IGBNZXNzYWdpbmcgcHJvZmlsZSBjb25maWd1cmF0aW9uIGlzc3VlOiAke21lc3NhZ2luZ1Byb2ZpbGVTdGF0dXMuaXNzdWVzLmpvaW4oXCIsIFwiKX0uIFJ1biBmaXhNZXNzYWdpbmdQcm9maWxlKCkgb3IgcmVwcm92aXNpb24gdGhlIGNvbXBhbnkuYCxcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHRcdGNvbnNvbGUubG9nKFwi4pyFIE1lc3NhZ2luZyBwcm9maWxlIHZlcmlmaWVkXCIpO1xuXHRcdH1cblxuXHRcdGNvbnN0IGZyb21BZGRyZXNzID0gYXdhaXQgcmVzb2x2ZU91dGJvdW5kUGhvbmVOdW1iZXIoXG5cdFx0XHRzdXBhYmFzZSxcblx0XHRcdGNvbXBhbnlJZCxcblx0XHRcdHBhcmFtcy5mcm9tLFxuXHRcdFx0Y29tcGFueVNldHRpbmdzLmRlZmF1bHRfb3V0Ym91bmRfbnVtYmVyLFxuXHRcdCk7XG5cdFx0aWYgKCFmcm9tQWRkcmVzcykge1xuXHRcdFx0Y29uc29sZS5lcnJvcihcIuKdjCBObyBmcm9tIG51bWJlciBhdmFpbGFibGVcIik7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6XG5cdFx0XHRcdFx0XCJDb21wYW55IGRvZXMgbm90IGhhdmUgYSBkZWZhdWx0IG91dGJvdW5kIHBob25lIG51bWJlciBjb25maWd1cmVkLiBQbGVhc2UgcHJvdmlzaW9uIG51bWJlcnMgZmlyc3QuXCIsXG5cdFx0XHR9O1xuXHRcdH1cblx0XHRjb25zdCB0b0FkZHJlc3MgPSBub3JtYWxpemVQaG9uZU51bWJlcihwYXJhbXMudG8pO1xuXHRcdGNvbnNvbGUubG9nKFwi4pyFIFBob25lIG51bWJlcnMgbm9ybWFsaXplZDpcIiwge1xuXHRcdFx0ZnJvbTogZnJvbUFkZHJlc3MsXG5cdFx0XHR0bzogdG9BZGRyZXNzLFxuXHRcdH0pO1xuXG5cdFx0Ly8gVmVyaWZ5IHBob25lIG51bWJlciBoYXMgU01TIGNhcGFiaWxpdHlcblx0XHRjb25zb2xlLmxvZyhcIvCflI0gVmVyaWZ5aW5nIFNNUyBjYXBhYmlsaXR5IGZvcjpcIiwgZnJvbUFkZHJlc3MpO1xuXHRcdGNvbnN0IHNtc0NhcGFiaWxpdHkgPSBhd2FpdCB2ZXJpZnlTbXNDYXBhYmlsaXR5KGZyb21BZGRyZXNzKTtcblx0XHRpZiAoIXNtc0NhcGFiaWxpdHkuaGFzU21zKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKFwi4p2MIFNNUyBjYXBhYmlsaXR5IGNoZWNrIGZhaWxlZDpcIiwgc21zQ2FwYWJpbGl0eS5lcnJvcik7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IHNtc0NhcGFiaWxpdHkuZXJyb3IgfHwgXCJQaG9uZSBudW1iZXIgZG9lcyBub3Qgc3VwcG9ydCBTTVNcIixcblx0XHRcdH07XG5cdFx0fVxuXHRcdGNvbnNvbGUubG9nKFwi4pyFIFNNUyBjYXBhYmlsaXR5IHZlcmlmaWVkXCIpO1xuXG5cdFx0Y29uc3Qgd2ViaG9va1VybCA9IGF3YWl0IGdldFRlbG55eFdlYmhvb2tVcmwoY29tcGFueUlkKTtcblx0XHRpZiAoIXdlYmhvb2tVcmwpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoXCLinYwgTm8gd2ViaG9vayBVUkxcIik7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6XG5cdFx0XHRcdFx0XCJTaXRlIFVSTCBpcyBub3QgY29uZmlndXJlZC4gU2V0IE5FWFRfUFVCTElDX1NJVEVfVVJMIG9yIFNJVEVfVVJMIHRvIGEgcHVibGljIGh0dHBzIGRvbWFpbi5cIixcblx0XHRcdH07XG5cdFx0fVxuXHRcdGNvbnNvbGUubG9nKFwi4pyFIFdlYmhvb2sgVVJMOlwiLCB3ZWJob29rVXJsKTtcblxuXHRcdC8vIFNlbmQgU01TIHZpYSBUZWxueXhcblx0XHRjb25zb2xlLmxvZyhcIvCfk6QgU2VuZGluZyBTTVMgdmlhIFRlbG55eCBBUEkuLi5cIik7XG5cdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgc2VuZFNNUyh7XG5cdFx0XHR0bzogdG9BZGRyZXNzLFxuXHRcdFx0ZnJvbTogZnJvbUFkZHJlc3MsXG5cdFx0XHR0ZXh0OiBwYXJhbXMudGV4dCxcblx0XHRcdHdlYmhvb2tVcmwsXG5cdFx0XHRtZXNzYWdpbmdQcm9maWxlSWQsXG5cdFx0fSk7XG5cblx0XHRpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKFwi4p2MIFRlbG55eCBBUEkgZmFpbGVkOlwiLCByZXN1bHQuZXJyb3IpO1xuXG5cdFx0XHQvLyBDaGVjayBpZiBlcnJvciBpcyAxMERMQyByZWdpc3RyYXRpb24gcmVxdWlyZWRcblx0XHRcdGlmIChcblx0XHRcdFx0cmVzdWx0LmVycm9yICYmXG5cdFx0XHRcdChyZXN1bHQuZXJyb3IuaW5jbHVkZXMoXCIxMERMQ1wiKSB8fFxuXHRcdFx0XHRcdHJlc3VsdC5lcnJvci5pbmNsdWRlcyhcIk5vdCAxMERMQyByZWdpc3RlcmVkXCIpIHx8XG5cdFx0XHRcdFx0cmVzdWx0LmVycm9yLmluY2x1ZGVzKFwiQTJQXCIpKVxuXHRcdFx0KSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKFxuXHRcdFx0XHRcdFwi8J+UhCBEZXRlY3RlZCAxMERMQyByZWdpc3RyYXRpb24gcmVxdWlyZWQsIGF0dGVtcHRpbmcgYXV0by1yZWdpc3RyYXRpb24uLi5cIixcblx0XHRcdFx0KTtcblxuXHRcdFx0XHQvLyBJbXBvcnQgMTBETEMgcmVnaXN0cmF0aW9uIGZ1bmN0aW9uXG5cdFx0XHRcdGNvbnN0IHsgcmVnaXN0ZXJDb21wYW55Rm9yMTBETEMgfSA9IGF3YWl0IGltcG9ydChcblx0XHRcdFx0XHRcIkAvYWN0aW9ucy90ZW4tZGxjLXJlZ2lzdHJhdGlvblwiXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0Y29uc3QgcmVnaXN0cmF0aW9uUmVzdWx0ID0gYXdhaXQgcmVnaXN0ZXJDb21wYW55Rm9yMTBETEMoXG5cdFx0XHRcdFx0Y29tcGFueUlkLFxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdGlmIChyZWdpc3RyYXRpb25SZXN1bHQuc3VjY2Vzcykge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKFwi4pyFIDEwRExDIHJlZ2lzdHJhdGlvbiBzdWNjZXNzZnVsLCByZXRyeWluZyBTTVMgc2VuZC4uLlwiKTtcblxuXHRcdFx0XHRcdC8vIFJldHJ5IHRoZSBTTVMgc2VuZCBub3cgdGhhdCAxMERMQyBpcyByZWdpc3RlcmVkXG5cdFx0XHRcdFx0Y29uc3QgcmV0cnlSZXN1bHQgPSBhd2FpdCBzZW5kU01TKHtcblx0XHRcdFx0XHRcdHRvOiB0b0FkZHJlc3MsXG5cdFx0XHRcdFx0XHRmcm9tOiBmcm9tQWRkcmVzcyxcblx0XHRcdFx0XHRcdHRleHQ6IHBhcmFtcy50ZXh0LFxuXHRcdFx0XHRcdFx0d2ViaG9va1VybCxcblx0XHRcdFx0XHRcdG1lc3NhZ2luZ1Byb2ZpbGVJZCxcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdGlmICghcmV0cnlSZXN1bHQuc3VjY2Vzcykge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdGVycm9yOiBgMTBETEMgcmVnaXN0cmF0aW9uIGNvbXBsZXRlZCBidXQgU01TIHN0aWxsIGZhaWxlZDogJHtyZXRyeVJlc3VsdC5lcnJvcn0uIFRoZSBjYW1wYWlnbiBtYXkgbmVlZCBhZGRpdGlvbmFsIGFwcHJvdmFsIHRpbWUuYCxcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gVXBkYXRlIHJlc3VsdCB3aXRoIHJldHJ5IHN1Y2Nlc3Ncblx0XHRcdFx0XHRyZXN1bHQuc3VjY2VzcyA9IHRydWU7XG5cdFx0XHRcdFx0cmVzdWx0Lm1lc3NhZ2VJZCA9IHJldHJ5UmVzdWx0Lm1lc3NhZ2VJZDtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIuKchSBTTVMgcmV0cnkgc3VjY2Vzc2Z1bCBhZnRlciAxMERMQyByZWdpc3RyYXRpb25cIik7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRcdFx0ZXJyb3I6IGAxMERMQyByZWdpc3RyYXRpb24gZmFpbGVkOiAke3JlZ2lzdHJhdGlvblJlc3VsdC5lcnJvcn0uIE9yaWdpbmFsIGVycm9yOiAke3Jlc3VsdC5lcnJvcn1gLFxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGNvbnNvbGUubG9nKFwi4pyFIFRlbG55eCBBUEkgc3VjY2VzczpcIiwgcmVzdWx0Lm1lc3NhZ2VJZCk7XG5cblx0XHQvLyBDcmVhdGUgY29tbXVuaWNhdGlvbiByZWNvcmRcblx0XHRjb25zb2xlLmxvZyhcIvCfkr4gQ3JlYXRpbmcgY29tbXVuaWNhdGlvbiByZWNvcmQgaW4gZGF0YWJhc2UuLi5cIik7XG5cdFx0Y29uc3QgcGhvbmVOdW1iZXJJZCA9IGF3YWl0IGdldFBob25lTnVtYmVySWQoc3VwYWJhc2UsIGZyb21BZGRyZXNzKTtcblx0XHRjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjb21tdW5pY2F0aW9uc1wiKVxuXHRcdFx0Lmluc2VydCh7XG5cdFx0XHRcdGNvbXBhbnlfaWQ6IGNvbXBhbnlJZCxcblx0XHRcdFx0Y3VzdG9tZXJfaWQ6IHBhcmFtcy5jdXN0b21lcklkLFxuXHRcdFx0XHRqb2JfaWQ6IHBhcmFtcy5qb2JJZCA/PyBudWxsLFxuXHRcdFx0XHRpbnZvaWNlX2lkOiBwYXJhbXMuaW52b2ljZUlkID8/IG51bGwsXG5cdFx0XHRcdGVzdGltYXRlX2lkOiBwYXJhbXMuZXN0aW1hdGVJZCA/PyBudWxsLFxuXHRcdFx0XHR0eXBlOiBcInNtc1wiLFxuXHRcdFx0XHRjaGFubmVsOiBcInRlbG55eFwiLFxuXHRcdFx0XHRkaXJlY3Rpb246IFwib3V0Ym91bmRcIixcblx0XHRcdFx0ZnJvbV9hZGRyZXNzOiBmcm9tQWRkcmVzcyxcblx0XHRcdFx0dG9fYWRkcmVzczogdG9BZGRyZXNzLFxuXHRcdFx0XHRib2R5OiBwYXJhbXMudGV4dCxcblx0XHRcdFx0c3RhdHVzOiBcInF1ZXVlZFwiLFxuXHRcdFx0XHRwcmlvcml0eTogXCJub3JtYWxcIixcblx0XHRcdFx0cGhvbmVfbnVtYmVyX2lkOiBwaG9uZU51bWJlcklkLFxuXHRcdFx0XHRpc19hcmNoaXZlZDogZmFsc2UsXG5cdFx0XHRcdGlzX2F1dG9tYXRlZDogZmFsc2UsXG5cdFx0XHRcdGlzX2ludGVybmFsOiBmYWxzZSxcblx0XHRcdFx0aXNfdGhyZWFkX3N0YXJ0ZXI6IHRydWUsXG5cdFx0XHRcdHRlbG55eF9tZXNzYWdlX2lkOiByZXN1bHQubWVzc2FnZUlkLFxuXHRcdFx0fSlcblx0XHRcdC5zZWxlY3QoKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvY29tbXVuaWNhdGlvblwiKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0bWVzc2FnZUlkOiByZXN1bHQubWVzc2FnZUlkLFxuXHRcdFx0ZGF0YSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoXCJTTVMgc2VuZCBlcnJvcjpcIiwgZXJyb3IpO1xuXHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBkZXRhaWxzOlwiLCB7XG5cdFx0XHRtZXNzYWdlOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvciksXG5cdFx0XHRzdGFjazogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLnN0YWNrIDogdW5kZWZpbmVkLFxuXHRcdFx0dHlwZTogdHlwZW9mIGVycm9yLFxuXHRcdFx0c3RyaW5naWZpZWQ6IEpTT04uc3RyaW5naWZ5KGVycm9yLCBudWxsLCAyKSxcblx0XHR9KTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogYEZhaWxlZCB0byBzZW5kIFNNUzogJHtTdHJpbmcoZXJyb3IpfWAsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIFNlbmQgYW4gTU1TIG1lc3NhZ2Ugd2l0aCBtZWRpYVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZE1NU01lc3NhZ2UocGFyYW1zOiB7XG5cdHRvOiBzdHJpbmc7XG5cdGZyb206IHN0cmluZztcblx0dGV4dD86IHN0cmluZztcblx0bWVkaWFVcmxzOiBzdHJpbmdbXTtcblx0Y29tcGFueUlkPzogc3RyaW5nOyAvLyBPcHRpb25hbCAtIHdpbGwgYmUgZmV0Y2hlZCBpZiBub3QgcHJvdmlkZWRcblx0Y3VzdG9tZXJJZD86IHN0cmluZztcblx0am9iSWQ/OiBzdHJpbmc7XG5cdHByb3BlcnR5SWQ/OiBzdHJpbmc7XG5cdGludm9pY2VJZD86IHN0cmluZztcblx0ZXN0aW1hdGVJZD86IHN0cmluZztcbn0pIHtcblx0dHJ5IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJTZXJ2aWNlIHVuYXZhaWxhYmxlXCIgfTtcblx0XHR9XG5cblx0XHQvLyBHZXQgY29tcGFueSBJRCBpZiBub3QgcHJvdmlkZWRcblx0XHRsZXQgY29tcGFueUlkID0gcGFyYW1zLmNvbXBhbnlJZDtcblx0XHRpZiAoIWNvbXBhbnlJZCkge1xuXHRcdFx0Y29uc3QgeyBnZXRBY3RpdmVDb21wYW55SWQgfSA9IGF3YWl0IGltcG9ydChcIkAvbGliL2F1dGgvY29tcGFueS1jb250ZXh0XCIpO1xuXHRcdFx0Y29tcGFueUlkID0gYXdhaXQgZ2V0QWN0aXZlQ29tcGFueUlkKCk7XG5cdFx0XHRpZiAoIWNvbXBhbnlJZCkge1xuXHRcdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm8gYWN0aXZlIGNvbXBhbnkgZm91bmRcIiB9O1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGNvbnN0IGNvbXBhbnlTZXR0aW5ncyA9IGF3YWl0IGdldENvbXBhbnlUZWxueXhTZXR0aW5ncyhcblx0XHRcdHN1cGFiYXNlLFxuXHRcdFx0Y29tcGFueUlkLFxuXHRcdCk7XG5cdFx0aWYgKCFjb21wYW55U2V0dGluZ3MpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjpcblx0XHRcdFx0XHRcIlVuYWJsZSB0byBwcm92aXNpb24gVGVsbnl4IHJlc291cmNlcyBmb3IgdGhpcyBjb21wYW55LiBQbGVhc2UgdmVyaWZ5IG9uYm9hcmRpbmcgaXMgY29tcGxldGUuXCIsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGF3YWl0IGVuc3VyZVBob25lTnVtYmVyUmVjb3JkRXhpc3RzKFxuXHRcdFx0c3VwYWJhc2UsXG5cdFx0XHRjb21wYW55SWQsXG5cdFx0XHRjb21wYW55U2V0dGluZ3MuZGVmYXVsdF9vdXRib3VuZF9udW1iZXIsXG5cdFx0KTtcblxuXHRcdGNvbnN0IHNtc0NvbmZpZyA9IGF3YWl0IHZhbGlkYXRlU21zQ29uZmlnKCk7XG5cdFx0aWYgKCFzbXNDb25maWcudmFsaWQgJiYgIWNvbXBhbnlTZXR0aW5ncy5tZXNzYWdpbmdfcHJvZmlsZV9pZCkge1xuXHRcdFx0bGV0IGVycm9yTWVzc2FnZSA9IHNtc0NvbmZpZy5lcnJvciB8fCBcIlNNUyBjb25maWd1cmF0aW9uIGlzIGludmFsaWRcIjtcblx0XHRcdGlmIChzbXNDb25maWcuc3VnZ2VzdGVkUHJvZmlsZUlkKSB7XG5cdFx0XHRcdGVycm9yTWVzc2FnZSArPSBgIEZvdW5kIG1lc3NhZ2luZyBwcm9maWxlIFwiJHtzbXNDb25maWcuc3VnZ2VzdGVkUHJvZmlsZUlkfVwiIGluIHlvdXIgVGVsbnl4IGFjY291bnQuIFNldCBURUxOWVhfREVGQVVMVF9NRVNTQUdJTkdfUFJPRklMRV9JRD0ke3Ntc0NvbmZpZy5zdWdnZXN0ZWRQcm9maWxlSWR9IG9yIHJlcHJvdmlzaW9uIHRoZSBjb21wYW55LmA7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGVycm9yTWVzc2FnZSxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Y29uc3QgbWVzc2FnaW5nUHJvZmlsZUlkID1cblx0XHRcdGNvbXBhbnlTZXR0aW5ncy5tZXNzYWdpbmdfcHJvZmlsZV9pZCB8fCBERUZBVUxUX01FU1NBR0lOR19QUk9GSUxFX0lEO1xuXHRcdGlmICghbWVzc2FnaW5nUHJvZmlsZUlkKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6XG5cdFx0XHRcdFx0XCJNZXNzYWdpbmcgcHJvZmlsZSBpcyBub3QgY29uZmlndXJlZCBmb3IgdGhpcyBjb21wYW55LiBQbGVhc2UgcHJvdmlzaW9uIGNvbW11bmljYXRpb25zIGJlZm9yZSBzZW5kaW5nIE1NUy5cIixcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Y29uc3QgZnJvbUFkZHJlc3MgPSBhd2FpdCByZXNvbHZlT3V0Ym91bmRQaG9uZU51bWJlcihcblx0XHRcdHN1cGFiYXNlLFxuXHRcdFx0Y29tcGFueUlkLFxuXHRcdFx0cGFyYW1zLmZyb20sXG5cdFx0XHRjb21wYW55U2V0dGluZ3MuZGVmYXVsdF9vdXRib3VuZF9udW1iZXIsXG5cdFx0KTtcblx0XHRpZiAoIWZyb21BZGRyZXNzKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6XG5cdFx0XHRcdFx0XCJDb21wYW55IGRvZXMgbm90IGhhdmUgYSBkZWZhdWx0IG91dGJvdW5kIHBob25lIG51bWJlciBjb25maWd1cmVkLlwiLFxuXHRcdFx0fTtcblx0XHR9XG5cdFx0Y29uc3QgdG9BZGRyZXNzID0gbm9ybWFsaXplUGhvbmVOdW1iZXIocGFyYW1zLnRvKTtcblxuXHRcdGNvbnN0IHdlYmhvb2tVcmwgPSBhd2FpdCBnZXRUZWxueXhXZWJob29rVXJsKGNvbXBhbnlJZCk7XG5cdFx0aWYgKCF3ZWJob29rVXJsKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6XG5cdFx0XHRcdFx0XCJTaXRlIFVSTCBpcyBub3QgY29uZmlndXJlZC4gU2V0IE5FWFRfUFVCTElDX1NJVEVfVVJMIG9yIFNJVEVfVVJMIHRvIGEgcHVibGljIGh0dHBzIGRvbWFpbi5cIixcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKG1lc3NhZ2luZ1Byb2ZpbGVJZCkge1xuXHRcdFx0Y29uc3QgbWVzc2FnaW5nUHJvZmlsZVN0YXR1cyA9XG5cdFx0XHRcdGF3YWl0IHZlcmlmeU1lc3NhZ2luZ1Byb2ZpbGUobWVzc2FnaW5nUHJvZmlsZUlkKTtcblx0XHRcdGlmIChtZXNzYWdpbmdQcm9maWxlU3RhdHVzLm5lZWRzRml4KSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdFx0ZXJyb3I6IGBNZXNzYWdpbmcgcHJvZmlsZSBjb25maWd1cmF0aW9uIGlzc3VlOiAke21lc3NhZ2luZ1Byb2ZpbGVTdGF0dXMuaXNzdWVzLmpvaW4oXCIsIFwiKX0uIFJ1biBmaXhNZXNzYWdpbmdQcm9maWxlKCkgb3IgcmVwcm92aXNpb24gdGhlIGNvbXBhbnkuYCxcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRjb25zdCBzbXNDYXBhYmlsaXR5ID0gYXdhaXQgdmVyaWZ5U21zQ2FwYWJpbGl0eShmcm9tQWRkcmVzcyk7XG5cdFx0aWYgKCFzbXNDYXBhYmlsaXR5Lmhhc1Ntcykge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOiBzbXNDYXBhYmlsaXR5LmVycm9yIHx8IFwiUGhvbmUgbnVtYmVyIGRvZXMgbm90IHN1cHBvcnQgU01TL01NU1wiLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kTU1TKHtcblx0XHRcdHRvOiB0b0FkZHJlc3MsXG5cdFx0XHRmcm9tOiBmcm9tQWRkcmVzcyxcblx0XHRcdHRleHQ6IHBhcmFtcy50ZXh0LFxuXHRcdFx0bWVkaWFVcmxzOiBwYXJhbXMubWVkaWFVcmxzLFxuXHRcdFx0d2ViaG9va1VybCxcblx0XHRcdG1lc3NhZ2luZ1Byb2ZpbGVJZCxcblx0XHR9KTtcblxuXHRcdGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fVxuXG5cdFx0Y29uc3QgcGhvbmVOdW1iZXJJZCA9IGF3YWl0IGdldFBob25lTnVtYmVySWQoc3VwYWJhc2UsIGZyb21BZGRyZXNzKTtcblx0XHRjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjb21tdW5pY2F0aW9uc1wiKVxuXHRcdFx0Lmluc2VydCh7XG5cdFx0XHRcdGNvbXBhbnlfaWQ6IGNvbXBhbnlJZCxcblx0XHRcdFx0Y3VzdG9tZXJfaWQ6IHBhcmFtcy5jdXN0b21lcklkLFxuXHRcdFx0XHRqb2JfaWQ6IHBhcmFtcy5qb2JJZCA/PyBudWxsLFxuXHRcdFx0XHRwcm9wZXJ0eV9pZDogcGFyYW1zLnByb3BlcnR5SWQgPz8gbnVsbCxcblx0XHRcdFx0aW52b2ljZV9pZDogcGFyYW1zLmludm9pY2VJZCA/PyBudWxsLFxuXHRcdFx0XHRlc3RpbWF0ZV9pZDogcGFyYW1zLmVzdGltYXRlSWQgPz8gbnVsbCxcblx0XHRcdFx0dHlwZTogXCJzbXNcIixcblx0XHRcdFx0Y2hhbm5lbDogXCJ0ZWxueXhcIixcblx0XHRcdFx0ZGlyZWN0aW9uOiBcIm91dGJvdW5kXCIsXG5cdFx0XHRcdGZyb21fYWRkcmVzczogZnJvbUFkZHJlc3MsXG5cdFx0XHRcdHRvX2FkZHJlc3M6IHRvQWRkcmVzcyxcblx0XHRcdFx0Ym9keTogcGFyYW1zLnRleHQgfHwgXCJcIixcblx0XHRcdFx0YXR0YWNobWVudHM6IHBhcmFtcy5tZWRpYVVybHMubWFwKCh1cmwpID0+ICh7IHVybCwgdHlwZTogXCJpbWFnZVwiIH0pKSxcblx0XHRcdFx0YXR0YWNobWVudF9jb3VudDogcGFyYW1zLm1lZGlhVXJscy5sZW5ndGgsXG5cdFx0XHRcdHN0YXR1czogXCJxdWV1ZWRcIixcblx0XHRcdFx0cHJpb3JpdHk6IFwibm9ybWFsXCIsXG5cdFx0XHRcdHBob25lX251bWJlcl9pZDogcGhvbmVOdW1iZXJJZCxcblx0XHRcdFx0aXNfYXJjaGl2ZWQ6IGZhbHNlLFxuXHRcdFx0XHRpc19hdXRvbWF0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRpc19pbnRlcm5hbDogZmFsc2UsXG5cdFx0XHRcdGlzX3RocmVhZF9zdGFydGVyOiB0cnVlLFxuXHRcdFx0XHR0ZWxueXhfbWVzc2FnZV9pZDogcmVzdWx0Lm1lc3NhZ2VJZCxcblx0XHRcdH0pXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL2NvbW11bmljYXRpb25cIik7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdG1lc3NhZ2VJZDogcmVzdWx0Lm1lc3NhZ2VJZCxcblx0XHRcdGRhdGEsXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byBzZW5kIE1NU1wiLFxuXHRcdH07XG5cdH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gV0VCUlRDIE9QRVJBVElPTlMgQUNUSU9OU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIEdlbmVyYXRlIFdlYlJUQyBjcmVkZW50aWFscyBmb3IgYnJvd3NlciBjYWxsaW5nXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRXZWJSVENDcmVkZW50aWFscygpIHtcblx0dHJ5IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJTZXJ2aWNlIHVuYXZhaWxhYmxlXCIgfTtcblx0XHR9XG5cblx0XHQvLyBHZXQgY3VycmVudCB1c2VyXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0XHRlcnJvcjogdXNlckVycm9yLFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblx0XHRpZiAodXNlckVycm9yIHx8ICF1c2VyKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IFwiVXNlciBub3QgYXV0aGVudGljYXRlZFwiLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBPUFRJT04gMTogVXNlIHN0YXRpYyBjcmVkZW50aWFscyBmcm9tIGVudmlyb25tZW50IChyZWNvbW1lbmRlZCBmb3IgcHJvZHVjdGlvbilcblx0XHRjb25zdCBzdGF0aWNVc2VybmFtZSA9IHByb2Nlc3MuZW52LlRFTE5ZWF9XRUJSVENfVVNFUk5BTUU7XG5cdFx0Y29uc3Qgc3RhdGljUGFzc3dvcmQgPSBwcm9jZXNzLmVudi5URUxOWVhfV0VCUlRDX1BBU1NXT1JEO1xuXG5cdFx0aWYgKHN0YXRpY1VzZXJuYW1lICYmIHN0YXRpY1Bhc3N3b3JkKSB7XG5cdFx0XHRjb25zdCBjcmVkZW50aWFsID0ge1xuXHRcdFx0XHR1c2VybmFtZTogc3RhdGljVXNlcm5hbWUsXG5cdFx0XHRcdHBhc3N3b3JkOiBzdGF0aWNQYXNzd29yZCxcblx0XHRcdFx0ZXhwaXJlc19hdDogRGF0ZS5ub3coKSArIDg2XzQwMCAqIDEwMDAsIC8vIDI0IGhvdXJzIGZyb20gbm93XG5cdFx0XHRcdHJlYWxtOiBcInNpcC50ZWxueXguY29tXCIsXG5cdFx0XHRcdHNpcF91cmk6IGBzaXA6JHtzdGF0aWNVc2VybmFtZX1Ac2lwLnRlbG55eC5jb21gLFxuXHRcdFx0XHRzdHVuX3NlcnZlcnM6IFtcblx0XHRcdFx0XHRcInN0dW46c3R1bi50ZWxueXguY29tOjM0NzhcIixcblx0XHRcdFx0XHRcInN0dW46c3R1bi50ZWxueXguY29tOjM0NzlcIixcblx0XHRcdFx0XSxcblx0XHRcdFx0dHVybl9zZXJ2ZXJzOiBbXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0dXJsczogW1xuXHRcdFx0XHRcdFx0XHRcInR1cm46dHVybi50ZWxueXguY29tOjM0Nzg/dHJhbnNwb3J0PXVkcFwiLFxuXHRcdFx0XHRcdFx0XHRcInR1cm46dHVybi50ZWxueXguY29tOjM0Nzg/dHJhbnNwb3J0PXRjcFwiLFxuXHRcdFx0XHRcdFx0XSxcblx0XHRcdFx0XHRcdHVzZXJuYW1lOiBzdGF0aWNVc2VybmFtZSxcblx0XHRcdFx0XHRcdGNyZWRlbnRpYWw6IHN0YXRpY1Bhc3N3b3JkLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdF0sXG5cdFx0XHR9O1xuXG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0XHRjcmVkZW50aWFsLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRjb25zdCB7IGdlbmVyYXRlV2ViUlRDVG9rZW4gfSA9IGF3YWl0IGltcG9ydChcIkAvbGliL3RlbG55eC93ZWJydGNcIik7XG5cdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgZ2VuZXJhdGVXZWJSVENUb2tlbih7XG5cdFx0XHR1c2VybmFtZTogdXNlci5lbWFpbCB8fCB1c2VyLmlkLFxuXHRcdFx0dHRsOiA4Nl80MDAsIC8vIDI0IGhvdXJzXG5cdFx0fSk7XG5cblx0XHRpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0Y3JlZGVudGlhbDogcmVzdWx0LmNyZWRlbnRpYWwsXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gZ2V0IFdlYlJUQyBjcmVkZW50aWFsc1wiLFxuXHRcdH07XG5cdH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gVk9JQ0VNQUlMIE9QRVJBVElPTlMgQUNUSU9OU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIEdldCBhbGwgdm9pY2VtYWlscyBmb3IgYSBjb21wYW55XG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldFZvaWNlbWFpbHMoY29tcGFueUlkOiBzdHJpbmcpIHtcblx0dHJ5IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJTZXJ2aWNlIHVuYXZhaWxhYmxlXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJ2b2ljZW1haWxzXCIpXG5cdFx0XHQuc2VsZWN0KFxuXHRcdFx0XHRgXG4gICAgICAgICosXG4gICAgICAgIGN1c3RvbWVyOmN1c3RvbWVycyhpZCwgZmlyc3RfbmFtZSwgbGFzdF9uYW1lLCBlbWFpbCwgcGhvbmUpLFxuICAgICAgICBwaG9uZV9udW1iZXI6cGhvbmVfbnVtYmVycyhwaG9uZV9udW1iZXIsIGZvcm1hdHRlZF9udW1iZXIpXG4gICAgICBgLFxuXHRcdFx0KVxuXHRcdFx0LmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpXG5cdFx0XHQuaXMoXCJkZWxldGVkX2F0XCIsIG51bGwpXG5cdFx0XHQub3JkZXIoXCJyZWNlaXZlZF9hdFwiLCB7IGFzY2VuZGluZzogZmFsc2UgfSk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0ZGF0YTogZGF0YSB8fCBbXSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiRmFpbGVkIHRvIGdldCB2b2ljZW1haWxzXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIE1hcmsgdm9pY2VtYWlsIGFzIHJlYWRcbiAqL1xuYXN5bmMgZnVuY3Rpb24gbWFya1ZvaWNlbWFpbEFzUmVhZCh2b2ljZW1haWxJZDogc3RyaW5nLCB1c2VySWQ6IHN0cmluZykge1xuXHR0cnkge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cdFx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlNlcnZpY2UgdW5hdmFpbGFibGVcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcInZvaWNlbWFpbHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRpc19yZWFkOiB0cnVlLFxuXHRcdFx0XHRyZWFkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG5cdFx0XHRcdHJlYWRfYnk6IHVzZXJJZCxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCB2b2ljZW1haWxJZClcblx0XHRcdC5zZWxlY3QoKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvY29tbXVuaWNhdGlvblwiKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0ZGF0YSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byBtYXJrIHZvaWNlbWFpbCBhcyByZWFkXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIERlbGV0ZSB2b2ljZW1haWxcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZGVsZXRlVm9pY2VtYWlsKHZvaWNlbWFpbElkOiBzdHJpbmcsIHVzZXJJZDogc3RyaW5nKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiU2VydmljZSB1bmF2YWlsYWJsZVwiIH07XG5cdFx0fVxuXG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwidm9pY2VtYWlsc1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdGRlbGV0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdFx0ZGVsZXRlZF9ieTogdXNlcklkLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHZvaWNlbWFpbElkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL2NvbW11bmljYXRpb25cIik7XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gZGVsZXRlIHZvaWNlbWFpbFwiLFxuXHRcdH07XG5cdH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gQ0FMTCBST1VUSU5HIFJVTEVTIEFDVElPTlNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBHZXQgYWxsIGNhbGwgcm91dGluZyBydWxlcyBmb3IgYSBjb21wYW55XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDYWxsUm91dGluZ1J1bGVzKGNvbXBhbnlJZDogc3RyaW5nKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiU2VydmljZSB1bmF2YWlsYWJsZVwiIH07XG5cdFx0fVxuXG5cdFx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiY2FsbF9yb3V0aW5nX3J1bGVzXCIpXG5cdFx0XHQuc2VsZWN0KFxuXHRcdFx0XHRgXG4gICAgICAgICosXG4gICAgICAgIGNyZWF0ZWRfYnlfdXNlcjp1c2VycyFjYWxsX3JvdXRpbmdfcnVsZXNfY3JlYXRlZF9ieV9ma2V5KGlkLCBuYW1lLCBlbWFpbCksXG4gICAgICAgIGZvcndhcmRfdG9fdXNlcjp1c2VycyFjYWxsX3JvdXRpbmdfcnVsZXNfZm9yd2FyZF90b191c2VyX2lkX2ZrZXkoaWQsIG5hbWUsIGVtYWlsKVxuICAgICAgYCxcblx0XHRcdClcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgY29tcGFueUlkKVxuXHRcdFx0LmlzKFwiZGVsZXRlZF9hdFwiLCBudWxsKVxuXHRcdFx0Lm9yZGVyKFwicHJpb3JpdHlcIiwgeyBhc2NlbmRpbmc6IGZhbHNlIH0pO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdGRhdGE6IGRhdGEgfHwgW10sXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gZ2V0IGNhbGwgcm91dGluZyBydWxlc1wiLFxuXHRcdH07XG5cdH1cbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgY2FsbCByb3V0aW5nIHJ1bGVcbiAqL1xuYXN5bmMgZnVuY3Rpb24gY3JlYXRlQ2FsbFJvdXRpbmdSdWxlKHBhcmFtczoge1xuXHRjb21wYW55SWQ6IHN0cmluZztcblx0dXNlcklkOiBzdHJpbmc7XG5cdG5hbWU6IHN0cmluZztcblx0ZGVzY3JpcHRpb24/OiBzdHJpbmc7XG5cdHJvdXRpbmdUeXBlOlxuXHRcdHwgXCJkaXJlY3RcIlxuXHRcdHwgXCJyb3VuZF9yb2JpblwiXG5cdFx0fCBcIml2clwiXG5cdFx0fCBcImJ1c2luZXNzX2hvdXJzXCJcblx0XHR8IFwiY29uZGl0aW9uYWxcIjtcblx0cHJpb3JpdHk/OiBudW1iZXI7XG5cdGJ1c2luZXNzSG91cnM/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblx0dGltZXpvbmU/OiBzdHJpbmc7XG5cdGFmdGVySG91cnNBY3Rpb24/OiBcInZvaWNlbWFpbFwiIHwgXCJmb3J3YXJkXCIgfCBcImhhbmd1cFwiO1xuXHRhZnRlckhvdXJzRm9yd2FyZFRvPzogc3RyaW5nO1xuXHR0ZWFtTWVtYmVycz86IHN0cmluZ1tdO1xuXHRyaW5nVGltZW91dD86IG51bWJlcjtcblx0aXZyTWVudT86IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuXHRpdnJHcmVldGluZ1VybD86IHN0cmluZztcblx0Zm9yd2FyZFRvTnVtYmVyPzogc3RyaW5nO1xuXHRmb3J3YXJkVG9Vc2VySWQ/OiBzdHJpbmc7XG5cdGVuYWJsZVZvaWNlbWFpbD86IGJvb2xlYW47XG5cdHZvaWNlbWFpbEdyZWV0aW5nVXJsPzogc3RyaW5nO1xuXHR2b2ljZW1haWxUcmFuc2NyaXB0aW9uRW5hYmxlZD86IGJvb2xlYW47XG5cdHZvaWNlbWFpbEVtYWlsTm90aWZpY2F0aW9ucz86IGJvb2xlYW47XG5cdHJlY29yZENhbGxzPzogYm9vbGVhbjtcbn0pIHtcblx0dHJ5IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJTZXJ2aWNlIHVuYXZhaWxhYmxlXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjYWxsX3JvdXRpbmdfcnVsZXNcIilcblx0XHRcdC5pbnNlcnQoe1xuXHRcdFx0XHRjb21wYW55X2lkOiBwYXJhbXMuY29tcGFueUlkLFxuXHRcdFx0XHRjcmVhdGVkX2J5OiBwYXJhbXMudXNlcklkLFxuXHRcdFx0XHRuYW1lOiBwYXJhbXMubmFtZSxcblx0XHRcdFx0ZGVzY3JpcHRpb246IHBhcmFtcy5kZXNjcmlwdGlvbixcblx0XHRcdFx0cm91dGluZ190eXBlOiBwYXJhbXMucm91dGluZ1R5cGUsXG5cdFx0XHRcdHByaW9yaXR5OiBwYXJhbXMucHJpb3JpdHkgfHwgMCxcblx0XHRcdFx0YnVzaW5lc3NfaG91cnM6IHBhcmFtcy5idXNpbmVzc0hvdXJzLFxuXHRcdFx0XHR0aW1lem9uZTogcGFyYW1zLnRpbWV6b25lIHx8IFwiQW1lcmljYS9Mb3NfQW5nZWxlc1wiLFxuXHRcdFx0XHRhZnRlcl9ob3Vyc19hY3Rpb246IHBhcmFtcy5hZnRlckhvdXJzQWN0aW9uLFxuXHRcdFx0XHRhZnRlcl9ob3Vyc19mb3J3YXJkX3RvOiBwYXJhbXMuYWZ0ZXJIb3Vyc0ZvcndhcmRUbyxcblx0XHRcdFx0dGVhbV9tZW1iZXJzOiBwYXJhbXMudGVhbU1lbWJlcnMsXG5cdFx0XHRcdHJpbmdfdGltZW91dDogcGFyYW1zLnJpbmdUaW1lb3V0IHx8IDIwLFxuXHRcdFx0XHRpdnJfbWVudTogcGFyYW1zLml2ck1lbnUsXG5cdFx0XHRcdGl2cl9ncmVldGluZ191cmw6IHBhcmFtcy5pdnJHcmVldGluZ1VybCxcblx0XHRcdFx0Zm9yd2FyZF90b19udW1iZXI6IHBhcmFtcy5mb3J3YXJkVG9OdW1iZXIsXG5cdFx0XHRcdGZvcndhcmRfdG9fdXNlcl9pZDogcGFyYW1zLmZvcndhcmRUb1VzZXJJZCxcblx0XHRcdFx0ZW5hYmxlX3ZvaWNlbWFpbDogcGFyYW1zLmVuYWJsZVZvaWNlbWFpbCAhPT0gZmFsc2UsXG5cdFx0XHRcdHZvaWNlbWFpbF9ncmVldGluZ191cmw6IHBhcmFtcy52b2ljZW1haWxHcmVldGluZ1VybCxcblx0XHRcdFx0dm9pY2VtYWlsX3RyYW5zY3JpcHRpb25fZW5hYmxlZDpcblx0XHRcdFx0XHRwYXJhbXMudm9pY2VtYWlsVHJhbnNjcmlwdGlvbkVuYWJsZWQgIT09IGZhbHNlLFxuXHRcdFx0XHR2b2ljZW1haWxfZW1haWxfbm90aWZpY2F0aW9uczpcblx0XHRcdFx0XHRwYXJhbXMudm9pY2VtYWlsRW1haWxOb3RpZmljYXRpb25zICE9PSBmYWxzZSxcblx0XHRcdFx0cmVjb3JkX2NhbGxzOiBwYXJhbXMucmVjb3JkQ2FsbHMsXG5cdFx0XHRcdGlzX2FjdGl2ZTogdHJ1ZSxcblx0XHRcdH0pXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL3NldHRpbmdzL2NvbW11bmljYXRpb25zL2NhbGwtcm91dGluZ1wiKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0ZGF0YSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byBjcmVhdGUgY2FsbCByb3V0aW5nIHJ1bGVcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogVXBkYXRlIGFuIGV4aXN0aW5nIGNhbGwgcm91dGluZyBydWxlXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVDYWxsUm91dGluZ1J1bGUocGFyYW1zOiB7XG5cdHJ1bGVJZDogc3RyaW5nO1xuXHRuYW1lPzogc3RyaW5nO1xuXHRkZXNjcmlwdGlvbj86IHN0cmluZztcblx0cHJpb3JpdHk/OiBudW1iZXI7XG5cdGJ1c2luZXNzSG91cnM/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblx0dGltZXpvbmU/OiBzdHJpbmc7XG5cdGFmdGVySG91cnNBY3Rpb24/OiBcInZvaWNlbWFpbFwiIHwgXCJmb3J3YXJkXCIgfCBcImhhbmd1cFwiO1xuXHRhZnRlckhvdXJzRm9yd2FyZFRvPzogc3RyaW5nO1xuXHR0ZWFtTWVtYmVycz86IHN0cmluZ1tdO1xuXHRyaW5nVGltZW91dD86IG51bWJlcjtcblx0aXZyTWVudT86IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuXHRpdnJHcmVldGluZ1VybD86IHN0cmluZztcblx0Zm9yd2FyZFRvTnVtYmVyPzogc3RyaW5nO1xuXHRmb3J3YXJkVG9Vc2VySWQ/OiBzdHJpbmc7XG5cdGVuYWJsZVZvaWNlbWFpbD86IGJvb2xlYW47XG5cdHZvaWNlbWFpbEdyZWV0aW5nVXJsPzogc3RyaW5nO1xuXHR2b2ljZW1haWxUcmFuc2NyaXB0aW9uRW5hYmxlZD86IGJvb2xlYW47XG5cdHZvaWNlbWFpbEVtYWlsTm90aWZpY2F0aW9ucz86IGJvb2xlYW47XG5cdHJlY29yZENhbGxzPzogYm9vbGVhbjtcblx0aXNBY3RpdmU/OiBib29sZWFuO1xufSkge1xuXHR0cnkge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cdFx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlNlcnZpY2UgdW5hdmFpbGFibGVcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IHVwZGF0ZURhdGE6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cblx0XHRpZiAocGFyYW1zLm5hbWUgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dXBkYXRlRGF0YS5uYW1lID0gcGFyYW1zLm5hbWU7XG5cdFx0fVxuXHRcdGlmIChwYXJhbXMuZGVzY3JpcHRpb24gIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dXBkYXRlRGF0YS5kZXNjcmlwdGlvbiA9IHBhcmFtcy5kZXNjcmlwdGlvbjtcblx0XHR9XG5cdFx0aWYgKHBhcmFtcy5wcmlvcml0eSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR1cGRhdGVEYXRhLnByaW9yaXR5ID0gcGFyYW1zLnByaW9yaXR5O1xuXHRcdH1cblx0XHRpZiAocGFyYW1zLmJ1c2luZXNzSG91cnMgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dXBkYXRlRGF0YS5idXNpbmVzc19ob3VycyA9IHBhcmFtcy5idXNpbmVzc0hvdXJzO1xuXHRcdH1cblx0XHRpZiAocGFyYW1zLnRpbWV6b25lICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdHVwZGF0ZURhdGEudGltZXpvbmUgPSBwYXJhbXMudGltZXpvbmU7XG5cdFx0fVxuXHRcdGlmIChwYXJhbXMuYWZ0ZXJIb3Vyc0FjdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR1cGRhdGVEYXRhLmFmdGVyX2hvdXJzX2FjdGlvbiA9IHBhcmFtcy5hZnRlckhvdXJzQWN0aW9uO1xuXHRcdH1cblx0XHRpZiAocGFyYW1zLmFmdGVySG91cnNGb3J3YXJkVG8gIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dXBkYXRlRGF0YS5hZnRlcl9ob3Vyc19mb3J3YXJkX3RvID0gcGFyYW1zLmFmdGVySG91cnNGb3J3YXJkVG87XG5cdFx0fVxuXHRcdGlmIChwYXJhbXMudGVhbU1lbWJlcnMgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dXBkYXRlRGF0YS50ZWFtX21lbWJlcnMgPSBwYXJhbXMudGVhbU1lbWJlcnM7XG5cdFx0fVxuXHRcdGlmIChwYXJhbXMucmluZ1RpbWVvdXQgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dXBkYXRlRGF0YS5yaW5nX3RpbWVvdXQgPSBwYXJhbXMucmluZ1RpbWVvdXQ7XG5cdFx0fVxuXHRcdGlmIChwYXJhbXMuaXZyTWVudSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR1cGRhdGVEYXRhLml2cl9tZW51ID0gcGFyYW1zLml2ck1lbnU7XG5cdFx0fVxuXHRcdGlmIChwYXJhbXMuaXZyR3JlZXRpbmdVcmwgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dXBkYXRlRGF0YS5pdnJfZ3JlZXRpbmdfdXJsID0gcGFyYW1zLml2ckdyZWV0aW5nVXJsO1xuXHRcdH1cblx0XHRpZiAocGFyYW1zLmZvcndhcmRUb051bWJlciAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR1cGRhdGVEYXRhLmZvcndhcmRfdG9fbnVtYmVyID0gcGFyYW1zLmZvcndhcmRUb051bWJlcjtcblx0XHR9XG5cdFx0aWYgKHBhcmFtcy5mb3J3YXJkVG9Vc2VySWQgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dXBkYXRlRGF0YS5mb3J3YXJkX3RvX3VzZXJfaWQgPSBwYXJhbXMuZm9yd2FyZFRvVXNlcklkO1xuXHRcdH1cblx0XHRpZiAocGFyYW1zLmVuYWJsZVZvaWNlbWFpbCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR1cGRhdGVEYXRhLmVuYWJsZV92b2ljZW1haWwgPSBwYXJhbXMuZW5hYmxlVm9pY2VtYWlsO1xuXHRcdH1cblx0XHRpZiAocGFyYW1zLnZvaWNlbWFpbEdyZWV0aW5nVXJsICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdHVwZGF0ZURhdGEudm9pY2VtYWlsX2dyZWV0aW5nX3VybCA9IHBhcmFtcy52b2ljZW1haWxHcmVldGluZ1VybDtcblx0XHR9XG5cdFx0aWYgKHBhcmFtcy52b2ljZW1haWxUcmFuc2NyaXB0aW9uRW5hYmxlZCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR1cGRhdGVEYXRhLnZvaWNlbWFpbF90cmFuc2NyaXB0aW9uX2VuYWJsZWQgPVxuXHRcdFx0XHRwYXJhbXMudm9pY2VtYWlsVHJhbnNjcmlwdGlvbkVuYWJsZWQ7XG5cdFx0fVxuXHRcdGlmIChwYXJhbXMudm9pY2VtYWlsRW1haWxOb3RpZmljYXRpb25zICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdHVwZGF0ZURhdGEudm9pY2VtYWlsX2VtYWlsX25vdGlmaWNhdGlvbnMgPVxuXHRcdFx0XHRwYXJhbXMudm9pY2VtYWlsRW1haWxOb3RpZmljYXRpb25zO1xuXHRcdH1cblx0XHRpZiAocGFyYW1zLnJlY29yZENhbGxzICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdHVwZGF0ZURhdGEucmVjb3JkX2NhbGxzID0gcGFyYW1zLnJlY29yZENhbGxzO1xuXHRcdH1cblx0XHRpZiAocGFyYW1zLmlzQWN0aXZlICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdHVwZGF0ZURhdGEuaXNfYWN0aXZlID0gcGFyYW1zLmlzQWN0aXZlO1xuXHRcdH1cblxuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNhbGxfcm91dGluZ19ydWxlc1wiKVxuXHRcdFx0LnVwZGF0ZSh1cGRhdGVEYXRhKVxuXHRcdFx0LmVxKFwiaWRcIiwgcGFyYW1zLnJ1bGVJZClcblx0XHRcdC5zZWxlY3QoKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvc2V0dGluZ3MvY29tbXVuaWNhdGlvbnMvY2FsbC1yb3V0aW5nXCIpO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IHRydWUsXG5cdFx0XHRkYXRhLFxuXHRcdH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIHVwZGF0ZSBjYWxsIHJvdXRpbmcgcnVsZVwiLFxuXHRcdH07XG5cdH1cbn1cblxuLyoqXG4gKiBEZWxldGUgYSBjYWxsIHJvdXRpbmcgcnVsZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlQ2FsbFJvdXRpbmdSdWxlKHJ1bGVJZDogc3RyaW5nLCB1c2VySWQ6IHN0cmluZykge1xuXHR0cnkge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cdFx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlNlcnZpY2UgdW5hdmFpbGFibGVcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNhbGxfcm91dGluZ19ydWxlc1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdGRlbGV0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdFx0ZGVsZXRlZF9ieTogdXNlcklkLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHJ1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9zZXR0aW5ncy9jb21tdW5pY2F0aW9ucy9jYWxsLXJvdXRpbmdcIik7XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIGRlbGV0ZSBjYWxsIHJvdXRpbmcgcnVsZVwiLFxuXHRcdH07XG5cdH1cbn1cblxuLyoqXG4gKiBUb2dnbGUgY2FsbCByb3V0aW5nIHJ1bGUgYWN0aXZlIHN0YXR1c1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdG9nZ2xlQ2FsbFJvdXRpbmdSdWxlKHJ1bGVJZDogc3RyaW5nLCBpc0FjdGl2ZTogYm9vbGVhbikge1xuXHR0cnkge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cdFx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlNlcnZpY2UgdW5hdmFpbGFibGVcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNhbGxfcm91dGluZ19ydWxlc1wiKVxuXHRcdFx0LnVwZGF0ZSh7IGlzX2FjdGl2ZTogaXNBY3RpdmUgfSlcblx0XHRcdC5lcShcImlkXCIsIHJ1bGVJZClcblx0XHRcdC5zZWxlY3QoKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvc2V0dGluZ3MvY29tbXVuaWNhdGlvbnMvY2FsbC1yb3V0aW5nXCIpO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IHRydWUsXG5cdFx0XHRkYXRhLFxuXHRcdH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIHRvZ2dsZSBjYWxsIHJvdXRpbmcgcnVsZVwiLFxuXHRcdH07XG5cdH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gUEhPTkUgTlVNQkVSIFVTQUdFIFNUQVRJU1RJQ1MgQUNUSU9OU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIEdldCB1c2FnZSBzdGF0aXN0aWNzIGZvciBhIHBob25lIG51bWJlclxuICovXG5hc3luYyBmdW5jdGlvbiBnZXRQaG9uZU51bWJlclVzYWdlU3RhdHMoXG5cdHBob25lTnVtYmVySWQ6IHN0cmluZyxcblx0ZGF5cyA9IDMwLFxuKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiU2VydmljZSB1bmF2YWlsYWJsZVwiIH07XG5cdFx0fVxuXG5cdFx0Y29uc3Qgc3RhcnREYXRlID0gbmV3IERhdGUoKTtcblx0XHRzdGFydERhdGUuc2V0RGF0ZShzdGFydERhdGUuZ2V0RGF0ZSgpIC0gZGF5cyk7XG5cblx0XHQvLyBHZXQgY2FsbCBzdGF0aXN0aWNzXG5cdFx0Y29uc3QgeyBkYXRhOiBjYWxsU3RhdHMsIGVycm9yOiBjYWxsRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG5cdFx0XHQuc2VsZWN0KFwidHlwZSwgZGlyZWN0aW9uLCBzdGF0dXMsIGNhbGxfZHVyYXRpb24sIGNyZWF0ZWRfYXRcIilcblx0XHRcdC5lcShcInR5cGVcIiwgXCJwaG9uZVwiKVxuXHRcdFx0LmVxKFwicGhvbmVfbnVtYmVyX2lkXCIsIHBob25lTnVtYmVySWQpXG5cdFx0XHQuZ3RlKFwiY3JlYXRlZF9hdFwiLCBzdGFydERhdGUudG9JU09TdHJpbmcoKSk7XG5cblx0XHRpZiAoY2FsbEVycm9yKSB7XG5cdFx0XHR0aHJvdyBjYWxsRXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gR2V0IFNNUyBzdGF0aXN0aWNzXG5cdFx0Y29uc3QgeyBkYXRhOiBzbXNTdGF0cywgZXJyb3I6IHNtc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjb21tdW5pY2F0aW9uc1wiKVxuXHRcdFx0LnNlbGVjdChcInR5cGUsIGRpcmVjdGlvbiwgc3RhdHVzLCBjcmVhdGVkX2F0XCIpXG5cdFx0XHQuZXEoXCJ0eXBlXCIsIFwic21zXCIpXG5cdFx0XHQuZXEoXCJwaG9uZV9udW1iZXJfaWRcIiwgcGhvbmVOdW1iZXJJZClcblx0XHRcdC5ndGUoXCJjcmVhdGVkX2F0XCIsIHN0YXJ0RGF0ZS50b0lTT1N0cmluZygpKTtcblxuXHRcdGlmIChzbXNFcnJvcikge1xuXHRcdFx0dGhyb3cgc21zRXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gQ2FsY3VsYXRlIGFnZ3JlZ2F0ZXNcblx0XHRjb25zdCBjYWxscyA9IGNhbGxTdGF0cyB8fCBbXTtcblx0XHRjb25zdCBzbXMgPSBzbXNTdGF0cyB8fCBbXTtcblxuXHRcdGNvbnN0IGluY29taW5nQ2FsbHMgPSBjYWxscy5maWx0ZXIoKGMpID0+IGMuZGlyZWN0aW9uID09PSBcImluYm91bmRcIikubGVuZ3RoO1xuXHRcdGNvbnN0IG91dGdvaW5nQ2FsbHMgPSBjYWxscy5maWx0ZXIoXG5cdFx0XHQoYykgPT4gYy5kaXJlY3Rpb24gPT09IFwib3V0Ym91bmRcIixcblx0XHQpLmxlbmd0aDtcblx0XHRjb25zdCB0b3RhbENhbGxEdXJhdGlvbiA9IGNhbGxzLnJlZHVjZShcblx0XHRcdChzdW0sIGMpID0+IHN1bSArIChjLmNhbGxfZHVyYXRpb24gfHwgMCksXG5cdFx0XHQwLFxuXHRcdCk7XG5cdFx0Y29uc3QgaW5jb21pbmdTbXMgPSBzbXMuZmlsdGVyKChzKSA9PiBzLmRpcmVjdGlvbiA9PT0gXCJpbmJvdW5kXCIpLmxlbmd0aDtcblx0XHRjb25zdCBvdXRnb2luZ1NtcyA9IHNtcy5maWx0ZXIoKHMpID0+IHMuZGlyZWN0aW9uID09PSBcIm91dGJvdW5kXCIpLmxlbmd0aDtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHRpbmNvbWluZ0NhbGxzLFxuXHRcdFx0XHRvdXRnb2luZ0NhbGxzLFxuXHRcdFx0XHR0b3RhbENhbGxzOiBpbmNvbWluZ0NhbGxzICsgb3V0Z29pbmdDYWxscyxcblx0XHRcdFx0dG90YWxDYWxsRHVyYXRpb24sXG5cdFx0XHRcdGluY29taW5nU21zLFxuXHRcdFx0XHRvdXRnb2luZ1Ntcyxcblx0XHRcdFx0dG90YWxTbXM6IGluY29taW5nU21zICsgb3V0Z29pbmdTbXMsXG5cdFx0XHRcdGRhaWx5U3RhdHM6IGFnZ3JlZ2F0ZURhaWx5U3RhdHMoWy4uLmNhbGxzLCAuLi5zbXNdLCBkYXlzKSxcblx0XHRcdH0sXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gZ2V0IHVzYWdlIHN0YXRpc3RpY3NcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogR2V0IGNvbXBhbnktd2lkZSB1c2FnZSBzdGF0aXN0aWNzXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldENvbXBhbnlVc2FnZVN0YXRzKGNvbXBhbnlJZDogc3RyaW5nLCBkYXlzID0gMzApIHtcblx0dHJ5IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJTZXJ2aWNlIHVuYXZhaWxhYmxlXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCBzdGFydERhdGUgPSBuZXcgRGF0ZSgpO1xuXHRcdHN0YXJ0RGF0ZS5zZXREYXRlKHN0YXJ0RGF0ZS5nZXREYXRlKCkgLSBkYXlzKTtcblxuXHRcdC8vIEdldCBhbGwgY29tbXVuaWNhdGlvbnMgZm9yIHRoZSBjb21wYW55XG5cdFx0Y29uc3QgeyBkYXRhOiBjb21tdW5pY2F0aW9ucywgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG5cdFx0XHQuc2VsZWN0KFwidHlwZSwgZGlyZWN0aW9uLCBzdGF0dXMsIGNhbGxfZHVyYXRpb24sIGNyZWF0ZWRfYXRcIilcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgY29tcGFueUlkKVxuXHRcdFx0LmluKFwidHlwZVwiLCBbXCJwaG9uZVwiLCBcInNtc1wiXSlcblx0XHRcdC5ndGUoXCJjcmVhdGVkX2F0XCIsIHN0YXJ0RGF0ZS50b0lTT1N0cmluZygpKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0Y29uc3QgaXRlbXMgPSBjb21tdW5pY2F0aW9ucyB8fCBbXTtcblx0XHRjb25zdCBjYWxscyA9IGl0ZW1zLmZpbHRlcigoaSkgPT4gaS50eXBlID09PSBcInBob25lXCIpO1xuXHRcdGNvbnN0IHNtcyA9IGl0ZW1zLmZpbHRlcigoaSkgPT4gaS50eXBlID09PSBcInNtc1wiKTtcblxuXHRcdGNvbnN0IGluY29taW5nQ2FsbHMgPSBjYWxscy5maWx0ZXIoKGMpID0+IGMuZGlyZWN0aW9uID09PSBcImluYm91bmRcIikubGVuZ3RoO1xuXHRcdGNvbnN0IG91dGdvaW5nQ2FsbHMgPSBjYWxscy5maWx0ZXIoXG5cdFx0XHQoYykgPT4gYy5kaXJlY3Rpb24gPT09IFwib3V0Ym91bmRcIixcblx0XHQpLmxlbmd0aDtcblx0XHRjb25zdCB0b3RhbENhbGxEdXJhdGlvbiA9IGNhbGxzLnJlZHVjZShcblx0XHRcdChzdW0sIGMpID0+IHN1bSArIChjLmNhbGxfZHVyYXRpb24gfHwgMCksXG5cdFx0XHQwLFxuXHRcdCk7XG5cdFx0Y29uc3QgaW5jb21pbmdTbXMgPSBzbXMuZmlsdGVyKChzKSA9PiBzLmRpcmVjdGlvbiA9PT0gXCJpbmJvdW5kXCIpLmxlbmd0aDtcblx0XHRjb25zdCBvdXRnb2luZ1NtcyA9IHNtcy5maWx0ZXIoKHMpID0+IHMuZGlyZWN0aW9uID09PSBcIm91dGJvdW5kXCIpLmxlbmd0aDtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHRpbmNvbWluZ0NhbGxzLFxuXHRcdFx0XHRvdXRnb2luZ0NhbGxzLFxuXHRcdFx0XHR0b3RhbENhbGxzOiBpbmNvbWluZ0NhbGxzICsgb3V0Z29pbmdDYWxscyxcblx0XHRcdFx0dG90YWxDYWxsRHVyYXRpb24sXG5cdFx0XHRcdGF2ZXJhZ2VDYWxsRHVyYXRpb246XG5cdFx0XHRcdFx0Y2FsbHMubGVuZ3RoID4gMCA/IHRvdGFsQ2FsbER1cmF0aW9uIC8gY2FsbHMubGVuZ3RoIDogMCxcblx0XHRcdFx0aW5jb21pbmdTbXMsXG5cdFx0XHRcdG91dGdvaW5nU21zLFxuXHRcdFx0XHR0b3RhbFNtczogaW5jb21pbmdTbXMgKyBvdXRnb2luZ1Ntcyxcblx0XHRcdFx0ZGFpbHlTdGF0czogYWdncmVnYXRlRGFpbHlTdGF0cyhpdGVtcywgZGF5cyksXG5cdFx0XHR9LFxuXHRcdH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIGdldCB1c2FnZSBzdGF0aXN0aWNzXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0byBhZ2dyZWdhdGUgZGFpbHkgc3RhdGlzdGljc1xuICovXG5mdW5jdGlvbiBhZ2dyZWdhdGVEYWlseVN0YXRzKFxuXHRpdGVtczogQXJyYXk8eyBjcmVhdGVkX2F0OiBzdHJpbmc7IHR5cGU6IHN0cmluZzsgY2FsbF9kdXJhdGlvbj86IG51bWJlciB9Pixcblx0ZGF5czogbnVtYmVyLFxuKSB7XG5cdGNvbnN0IGRhaWx5U3RhdHM6IFJlY29yZDxcblx0XHRzdHJpbmcsXG5cdFx0eyBkYXRlOiBzdHJpbmc7IGNhbGxzOiBudW1iZXI7IHNtczogbnVtYmVyOyBkdXJhdGlvbjogbnVtYmVyIH1cblx0PiA9IHt9O1xuXG5cdC8vIEluaXRpYWxpemUgYWxsIGRheXNcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBkYXlzOyBpKyspIHtcblx0XHRjb25zdCBkYXRlID0gbmV3IERhdGUoKTtcblx0XHRkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgLSBpKTtcblx0XHRjb25zdCBkYXRlU3RyID0gZGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KFwiVFwiKVswXTtcblx0XHRkYWlseVN0YXRzW2RhdGVTdHJdID0geyBkYXRlOiBkYXRlU3RyLCBjYWxsczogMCwgc21zOiAwLCBkdXJhdGlvbjogMCB9O1xuXHR9XG5cblx0Ly8gQWdncmVnYXRlIGRhdGFcblx0aXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuXHRcdGNvbnN0IGRhdGVTdHIgPSBpdGVtLmNyZWF0ZWRfYXQuc3BsaXQoXCJUXCIpWzBdO1xuXHRcdGlmIChkYWlseVN0YXRzW2RhdGVTdHJdKSB7XG5cdFx0XHRpZiAoaXRlbS50eXBlID09PSBcInBob25lXCIpIHtcblx0XHRcdFx0ZGFpbHlTdGF0c1tkYXRlU3RyXS5jYWxscyArPSAxO1xuXHRcdFx0XHRkYWlseVN0YXRzW2RhdGVTdHJdLmR1cmF0aW9uICs9IGl0ZW0uY2FsbF9kdXJhdGlvbiB8fCAwO1xuXHRcdFx0fSBlbHNlIGlmIChpdGVtLnR5cGUgPT09IFwic21zXCIpIHtcblx0XHRcdFx0ZGFpbHlTdGF0c1tkYXRlU3RyXS5zbXMgKz0gMTtcblx0XHRcdH1cblx0XHR9XG5cdH0pO1xuXG5cdHJldHVybiBPYmplY3QudmFsdWVzKGRhaWx5U3RhdHMpLnNvcnQoKGEsIGIpID0+IGEuZGF0ZS5sb2NhbGVDb21wYXJlKGIuZGF0ZSkpO1xufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJnU0E2bEJzQiJ9
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:d7d068 [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"004241027febea2f30c3534c791cf4abf0b187afa3":"getWebRTCCredentials"},"apps/web/src/actions/telnyx.ts",""] */ __turbopack_context__.s([
    "getWebRTCCredentials",
    ()=>getWebRTCCredentials
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var getWebRTCCredentials = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("004241027febea2f30c3534c791cf4abf0b187afa3", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "getWebRTCCredentials"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vdGVsbnl4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGVsbnl4IFNlcnZlciBBY3Rpb25zXG4gKlxuICogU2VydmVyLXNpZGUgYWN0aW9ucyBmb3IgVGVsbnl4IFZvSVAgb3BlcmF0aW9uczpcbiAqIC0gUGhvbmUgbnVtYmVyIG1hbmFnZW1lbnRcbiAqIC0gQ2FsbCBvcGVyYXRpb25zXG4gKiAtIFNNUyBvcGVyYXRpb25zXG4gKiAtIFZvaWNlbWFpbCBvcGVyYXRpb25zXG4gKlxuICogQWxsIGFjdGlvbnMgaW5jbHVkZSBwcm9wZXIgYXV0aGVudGljYXRpb24gYW5kIGF1dGhvcml6YXRpb24gY2hlY2tzLlxuICovXG5cblwidXNlIHNlcnZlclwiO1xuXG5pbXBvcnQgdHlwZSB7IFN1cGFiYXNlQ2xpZW50IH0gZnJvbSBcIkBzdXBhYmFzZS9zdXBhYmFzZS1qc1wiO1xuaW1wb3J0IHsgcmV2YWxpZGF0ZVBhdGggfSBmcm9tIFwibmV4dC9jYWNoZVwiO1xuaW1wb3J0IHsgaGVhZGVycyB9IGZyb20gXCJuZXh0L2hlYWRlcnNcIjtcbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gXCJAL2xpYi9zdXBhYmFzZS9zZXJ2ZXJcIjtcbmltcG9ydCB7XG5cdGFuc3dlckNhbGwsXG5cdGhhbmd1cENhbGwsXG5cdGluaXRpYXRlQ2FsbCxcblx0cmVqZWN0Q2FsbCxcblx0c3RhcnRSZWNvcmRpbmcsXG5cdHN0b3BSZWNvcmRpbmcsXG59IGZyb20gXCJAL2xpYi90ZWxueXgvY2FsbHNcIjtcbmltcG9ydCB7IFRFTE5ZWF9DT05GSUcgfSBmcm9tIFwiQC9saWIvdGVsbnl4L2NsaWVudFwiO1xuaW1wb3J0IHtcblx0dmFsaWRhdGVDYWxsQ29uZmlnLFxuXHR2YWxpZGF0ZVNtc0NvbmZpZyxcbn0gZnJvbSBcIkAvbGliL3RlbG55eC9jb25maWctdmFsaWRhdG9yXCI7XG5pbXBvcnQgeyB2ZXJpZnlDb25uZWN0aW9uIH0gZnJvbSBcIkAvbGliL3RlbG55eC9jb25uZWN0aW9uLXNldHVwXCI7XG5pbXBvcnQgeyBmb3JtYXRQaG9uZU51bWJlciwgc2VuZE1NUywgc2VuZFNNUyB9IGZyb20gXCJAL2xpYi90ZWxueXgvbWVzc2FnaW5nXCI7XG5pbXBvcnQgeyB2ZXJpZnlNZXNzYWdpbmdQcm9maWxlIH0gZnJvbSBcIkAvbGliL3RlbG55eC9tZXNzYWdpbmctcHJvZmlsZS1zZXR1cFwiO1xuaW1wb3J0IHtcblx0dHlwZSBOdW1iZXJGZWF0dXJlLFxuXHR0eXBlIE51bWJlclR5cGUsXG5cdHB1cmNoYXNlTnVtYmVyLFxuXHRyZWxlYXNlTnVtYmVyLFxuXHRzZWFyY2hBdmFpbGFibGVOdW1iZXJzLFxufSBmcm9tIFwiQC9saWIvdGVsbnl4L251bWJlcnNcIjtcbmltcG9ydCB7XG5cdHZlcmlmeVNtc0NhcGFiaWxpdHksXG5cdHZlcmlmeVZvaWNlQ2FwYWJpbGl0eSxcbn0gZnJvbSBcIkAvbGliL3RlbG55eC9waG9uZS1udW1iZXItc2V0dXBcIjtcbmltcG9ydCB7XG5cdHR5cGUgQ29tcGFueVRlbG55eFNldHRpbmdzUm93LFxuXHRlbnN1cmVDb21wYW55VGVsbnl4U2V0dXAsXG5cdGZldGNoQ29tcGFueVRlbG55eFNldHRpbmdzLFxufSBmcm9tIFwiQC9saWIvdGVsbnl4L3Byb3Zpc2lvbi1jb21wYW55XCI7XG5pbXBvcnQgdHlwZSB7IERhdGFiYXNlLCBKc29uIH0gZnJvbSBcIkAvdHlwZXMvc3VwYWJhc2VcIjtcbmltcG9ydCB7IGVuc3VyZU1lc3NhZ2luZ0NhbXBhaWduIH0gZnJvbSBcIi4vbWVzc2FnaW5nLWJyYW5kaW5nXCI7XG5cbnR5cGUgVHlwZWRTdXBhYmFzZUNsaWVudCA9IFN1cGFiYXNlQ2xpZW50PERhdGFiYXNlPjtcblxuZnVuY3Rpb24gbm9ybWFsaXplUGhvbmVOdW1iZXIocGhvbmVOdW1iZXI6IHN0cmluZyk6IHN0cmluZyB7XG5cdHJldHVybiBmb3JtYXRQaG9uZU51bWJlcihwaG9uZU51bWJlcik7XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RBcmVhQ29kZShwaG9uZU51bWJlcjogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCB7XG5cdGNvbnN0IGRpZ2l0cyA9IHBob25lTnVtYmVyLnJlcGxhY2UoL1xcRC9nLCBcIlwiKTtcblx0aWYgKGRpZ2l0cy5sZW5ndGggPT09IDExICYmIGRpZ2l0cy5zdGFydHNXaXRoKFwiMVwiKSkge1xuXHRcdHJldHVybiBkaWdpdHMuc2xpY2UoMSwgNCk7XG5cdH1cblx0aWYgKGRpZ2l0cy5sZW5ndGggPT09IDEwKSB7XG5cdFx0cmV0dXJuIGRpZ2l0cy5zbGljZSgwLCAzKTtcblx0fVxuXHRyZXR1cm4gbnVsbDtcbn1cblxuY29uc3QgREVGQVVMVF9NRVNTQUdJTkdfUFJPRklMRV9JRCA9XG5cdHByb2Nlc3MuZW52LlRFTE5ZWF9ERUZBVUxUX01FU1NBR0lOR19QUk9GSUxFX0lEIHx8XG5cdHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1RFTE5ZWF9NRVNTQUdJTkdfUFJPRklMRV9JRCB8fFxuXHRcIlwiO1xuXG5jb25zdCBERUZBVUxUX1BIT05FX05VTUJFUl9GRUFUVVJFUzogSnNvbiA9IFtcInZvaWNlXCIsIFwic21zXCIsIFwibW1zXCJdO1xuXG5mdW5jdGlvbiBmb3JtYXREaXNwbGF5UGhvbmVOdW1iZXIocGhvbmVOdW1iZXI6IHN0cmluZyk6IHN0cmluZyB7XG5cdGNvbnN0IGRpZ2l0cyA9IHBob25lTnVtYmVyLnJlcGxhY2UoL1xcRC9nLCBcIlwiKTtcblx0aWYgKGRpZ2l0cy5sZW5ndGggPT09IDExICYmIGRpZ2l0cy5zdGFydHNXaXRoKFwiMVwiKSkge1xuXHRcdHJldHVybiBgKzEgKCR7ZGlnaXRzLnNsaWNlKDEsIDQpfSkgJHtkaWdpdHMuc2xpY2UoNCwgNyl9LSR7ZGlnaXRzLnNsaWNlKDcpfWA7XG5cdH1cblx0aWYgKGRpZ2l0cy5sZW5ndGggPT09IDEwKSB7XG5cdFx0cmV0dXJuIGAoJHtkaWdpdHMuc2xpY2UoMCwgMyl9KSAke2RpZ2l0cy5zbGljZSgzLCA2KX0tJHtkaWdpdHMuc2xpY2UoNil9YDtcblx0fVxuXHRyZXR1cm4gcGhvbmVOdW1iZXI7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldENvbXBhbnlUZWxueXhTZXR0aW5ncyhcblx0c3VwYWJhc2U6IFR5cGVkU3VwYWJhc2VDbGllbnQsXG5cdGNvbXBhbnlJZDogc3RyaW5nIHwgbnVsbCxcbik6IFByb21pc2U8Q29tcGFueVRlbG55eFNldHRpbmdzUm93IHwgbnVsbD4ge1xuXHRpZiAoIWNvbXBhbnlJZCkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0Y29uc3QgZXhpc3RpbmcgPSBhd2FpdCBmZXRjaENvbXBhbnlUZWxueXhTZXR0aW5ncyhzdXBhYmFzZSwgY29tcGFueUlkKTtcblx0aWYgKGV4aXN0aW5nICYmIGV4aXN0aW5nLnN0YXR1cyA9PT0gXCJyZWFkeVwiKSB7XG5cdFx0cmV0dXJuIGV4aXN0aW5nO1xuXHR9XG5cblx0Y29uc3QgcHJvdmlzaW9uUmVzdWx0ID0gYXdhaXQgZW5zdXJlQ29tcGFueVRlbG55eFNldHVwKHtcblx0XHRjb21wYW55SWQsXG5cdFx0c3VwYWJhc2UsXG5cdH0pO1xuXG5cdGlmICghcHJvdmlzaW9uUmVzdWx0LnN1Y2Nlc3MpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdHJldHVybiBwcm92aXNpb25SZXN1bHQuc2V0dGluZ3MgPz8gbnVsbDtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplQmFzZVVybCh1cmw6IHN0cmluZyk6IHN0cmluZyB7XG5cdGNvbnN0IHRyaW1tZWQgPSB1cmwudHJpbSgpLnJlcGxhY2UoL1xcLyskLywgXCJcIik7XG5cdGlmICgvXmh0dHBzPzpcXC9cXC8vaS50ZXN0KHRyaW1tZWQpKSB7XG5cdFx0aWYgKC9eaHR0cDpcXC9cXC8vaS50ZXN0KHRyaW1tZWQpICYmICFpc0xvY2FsVXJsKHRyaW1tZWQpKSB7XG5cdFx0XHRyZXR1cm4gdHJpbW1lZC5yZXBsYWNlKC9eaHR0cDpcXC9cXC8vaSwgXCJodHRwczovL1wiKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRyaW1tZWQ7XG5cdH1cblx0cmV0dXJuIGBodHRwczovLyR7dHJpbW1lZH1gO1xufVxuXG5mdW5jdGlvbiBpc0xvY2FsVXJsKHVybDogc3RyaW5nKTogYm9vbGVhbiB7XG5cdGNvbnN0IGxvd2VyZWQgPSB1cmwudG9Mb3dlckNhc2UoKTtcblx0cmV0dXJuIChcblx0XHRsb3dlcmVkLmluY2x1ZGVzKFwibG9jYWxob3N0XCIpIHx8XG5cdFx0bG93ZXJlZC5pbmNsdWRlcyhcIjEyNy4wLjAuMVwiKSB8fFxuXHRcdGxvd2VyZWQuaW5jbHVkZXMoXCIwLjAuMC4wXCIpIHx8XG5cdFx0bG93ZXJlZC5lbmRzV2l0aChcIi5sb2NhbFwiKSB8fFxuXHRcdGxvd2VyZWQuaW5jbHVkZXMoXCI6Ly9sb2NhbFwiKVxuXHQpO1xufVxuXG5mdW5jdGlvbiBzaG91bGRVc2VVcmwodXJsOiBzdHJpbmcpOiBib29sZWFuIHtcblx0aWYgKCF1cmwpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0Y29uc3QgdHJpbW1lZCA9IHVybC50cmltKCk7XG5cdGlmICghdHJpbW1lZCkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXHRjb25zdCBpc0hvc3RlZFByb2R1Y3Rpb24gPVxuXHRcdChwcm9jZXNzLmVudi5WRVJDRUwgPT09IFwiMVwiICYmIHByb2Nlc3MuZW52LlZFUkNFTF9FTlYgPT09IFwicHJvZHVjdGlvblwiKSB8fFxuXHRcdHByb2Nlc3MuZW52LkRFUExPWU1FTlRfRU5WID09PSBcInByb2R1Y3Rpb25cIjtcblxuXHRpZiAoaXNIb3N0ZWRQcm9kdWN0aW9uICYmIGlzTG9jYWxVcmwodHJpbW1lZCkpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRyZXR1cm4gdHJ1ZTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0QmFzZUFwcFVybCgpOiBQcm9taXNlPHN0cmluZyB8IHVuZGVmaW5lZD4ge1xuXHRjb25zdCBjYW5kaWRhdGVzID0gW1xuXHRcdHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NJVEVfVVJMLFxuXHRcdHByb2Nlc3MuZW52LlNJVEVfVVJMLFxuXHRcdHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQUF9VUkwsXG5cdFx0cHJvY2Vzcy5lbnYuQVBQX1VSTCxcblx0XTtcblx0Zm9yIChjb25zdCBjYW5kaWRhdGUgb2YgY2FuZGlkYXRlcykge1xuXHRcdGlmIChjYW5kaWRhdGUgJiYgc2hvdWxkVXNlVXJsKGNhbmRpZGF0ZSkpIHtcblx0XHRcdHJldHVybiBub3JtYWxpemVCYXNlVXJsKGNhbmRpZGF0ZSk7XG5cdFx0fVxuXHR9XG5cblx0Y29uc3QgdmVyY2VsVXJsID0gcHJvY2Vzcy5lbnYuVkVSQ0VMX1VSTDtcblx0aWYgKHZlcmNlbFVybCAmJiBzaG91bGRVc2VVcmwodmVyY2VsVXJsKSkge1xuXHRcdHJldHVybiBub3JtYWxpemVCYXNlVXJsKFxuXHRcdFx0dmVyY2VsVXJsLnN0YXJ0c1dpdGgoXCJodHRwXCIpID8gdmVyY2VsVXJsIDogYGh0dHBzOi8vJHt2ZXJjZWxVcmx9YCxcblx0XHQpO1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCBoZHJzID0gYXdhaXQgaGVhZGVycygpO1xuXHRcdGNvbnN0IG9yaWdpbiA9IGhkcnMuZ2V0KFwib3JpZ2luXCIpO1xuXHRcdGlmIChvcmlnaW4gJiYgc2hvdWxkVXNlVXJsKG9yaWdpbikpIHtcblx0XHRcdHJldHVybiBub3JtYWxpemVCYXNlVXJsKG9yaWdpbik7XG5cdFx0fVxuXHRcdGNvbnN0IGhvc3QgPSBoZHJzLmdldChcImhvc3RcIik7XG5cdFx0aWYgKGhvc3QgJiYgc2hvdWxkVXNlVXJsKGhvc3QpKSB7XG5cdFx0XHRjb25zdCBwcm90b2NvbCA9IGhvc3QuaW5jbHVkZXMoXCJsb2NhbGhvc3RcIikgPyBcImh0dHBcIiA6IFwiaHR0cHNcIjtcblx0XHRcdHJldHVybiBub3JtYWxpemVCYXNlVXJsKGAke3Byb3RvY29sfTovLyR7aG9zdH1gKTtcblx0XHR9XG5cdH0gY2F0Y2gge1xuXHRcdC8vIGhlYWRlcnMoKSBub3QgYXZhaWxhYmxlIG91dHNpZGUgb2YgYSByZXF1ZXN0IGNvbnRleHRcblx0fVxuXG5cdHJldHVybiB1bmRlZmluZWQ7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGJ1aWxkQWJzb2x1dGVVcmwocGF0aDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+IHtcblx0Y29uc3QgYmFzZSA9IGF3YWl0IGdldEJhc2VBcHBVcmwoKTtcblx0aWYgKCFiYXNlKSB7XG5cdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0fVxuXHRjb25zdCBub3JtYWxpemVkUGF0aCA9IHBhdGguc3RhcnRzV2l0aChcIi9cIikgPyBwYXRoIDogYC8ke3BhdGh9YDtcblx0cmV0dXJuIGAke2Jhc2V9JHtub3JtYWxpemVkUGF0aH1gO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRUZWxueXhXZWJob29rVXJsKFxuXHRjb21wYW55SWQ/OiBzdHJpbmcsXG4pOiBQcm9taXNlPHN0cmluZyB8IHVuZGVmaW5lZD4ge1xuXHRpZiAoY29tcGFueUlkKSB7XG5cdFx0cmV0dXJuIGJ1aWxkQWJzb2x1dGVVcmwoYC9hcGkvd2ViaG9va3MvdGVsbnl4P2NvbXBhbnk9JHtjb21wYW55SWR9YCk7XG5cdH1cblx0cmV0dXJuIGJ1aWxkQWJzb2x1dGVVcmwoXCIvYXBpL3dlYmhvb2tzL3RlbG55eFwiKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0UGhvbmVOdW1iZXJJZChcblx0c3VwYWJhc2U6IFR5cGVkU3VwYWJhc2VDbGllbnQsXG5cdHBob25lTnVtYmVyOiBzdHJpbmcsXG4pOiBQcm9taXNlPHN0cmluZyB8IG51bGw+IHtcblx0Y29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVBob25lTnVtYmVyKHBob25lTnVtYmVyKTtcblx0Y29uc3QgeyBkYXRhIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdC5mcm9tKFwicGhvbmVfbnVtYmVyc1wiKVxuXHRcdC5zZWxlY3QoXCJpZFwiKVxuXHRcdC5lcShcInBob25lX251bWJlclwiLCBub3JtYWxpemVkKVxuXHRcdC5pcyhcImRlbGV0ZWRfYXRcIiwgbnVsbClcblx0XHQubWF5YmVTaW5nbGUoKTtcblxuXHRyZXR1cm4gZGF0YT8uaWQgPz8gbnVsbDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZW5zdXJlUGhvbmVOdW1iZXJSZWNvcmRFeGlzdHMoXG5cdHN1cGFiYXNlOiBUeXBlZFN1cGFiYXNlQ2xpZW50LFxuXHRjb21wYW55SWQ6IHN0cmluZyxcblx0cGhvbmVOdW1iZXI6IHN0cmluZyB8IG51bGwsXG4pOiBQcm9taXNlPHZvaWQ+IHtcblx0aWYgKCFwaG9uZU51bWJlcikge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVQaG9uZU51bWJlcihwaG9uZU51bWJlcik7XG5cdGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHQuZnJvbShcInBob25lX251bWJlcnNcIilcblx0XHQuc2VsZWN0KFwiaWRcIilcblx0XHQuZXEoXCJjb21wYW55X2lkXCIsIGNvbXBhbnlJZClcblx0XHQuZXEoXCJwaG9uZV9udW1iZXJcIiwgbm9ybWFsaXplZClcblx0XHQubGltaXQoMSk7XG5cblx0aWYgKGRhdGEgJiYgZGF0YS5sZW5ndGggPiAwKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0YXdhaXQgc3VwYWJhc2UuZnJvbShcInBob25lX251bWJlcnNcIikuaW5zZXJ0KHtcblx0XHRjb21wYW55X2lkOiBjb21wYW55SWQsXG5cdFx0cGhvbmVfbnVtYmVyOiBub3JtYWxpemVkLFxuXHRcdGZvcm1hdHRlZF9udW1iZXI6IGZvcm1hdERpc3BsYXlQaG9uZU51bWJlcihub3JtYWxpemVkKSxcblx0XHRjb3VudHJ5X2NvZGU6IFwiVVNcIixcblx0XHRhcmVhX2NvZGU6IGV4dHJhY3RBcmVhQ29kZShub3JtYWxpemVkKSxcblx0XHRudW1iZXJfdHlwZTogXCJsb2NhbFwiLFxuXHRcdHN0YXR1czogXCJhY3RpdmVcIixcblx0XHRmZWF0dXJlczogREVGQVVMVF9QSE9ORV9OVU1CRVJfRkVBVFVSRVMsXG5cdH0pO1xufVxuXG5hc3luYyBmdW5jdGlvbiByZXNvbHZlT3V0Ym91bmRQaG9uZU51bWJlcihcblx0c3VwYWJhc2U6IFR5cGVkU3VwYWJhc2VDbGllbnQsXG5cdGNvbXBhbnlJZDogc3RyaW5nLFxuXHRleHBsaWNpdEZyb20/OiBzdHJpbmcgfCBudWxsLFxuXHRkZWZhdWx0TnVtYmVyPzogc3RyaW5nIHwgbnVsbCxcbik6IFByb21pc2U8c3RyaW5nIHwgbnVsbD4ge1xuXHRpZiAoZXhwbGljaXRGcm9tKSB7XG5cdFx0cmV0dXJuIG5vcm1hbGl6ZVBob25lTnVtYmVyKGV4cGxpY2l0RnJvbSk7XG5cdH1cblxuXHRjb25zdCBub3JtYWxpemVkRGVmYXVsdCA9IGRlZmF1bHROdW1iZXJcblx0XHQ/IG5vcm1hbGl6ZVBob25lTnVtYmVyKGRlZmF1bHROdW1iZXIpXG5cdFx0OiBudWxsO1xuXG5cdHRyeSB7XG5cdFx0Y29uc3QgeyBkYXRhIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJwaG9uZV9udW1iZXJzXCIpXG5cdFx0XHQuc2VsZWN0KFwicGhvbmVfbnVtYmVyLCBudW1iZXJfdHlwZVwiKVxuXHRcdFx0LmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpXG5cdFx0XHQuZXEoXCJzdGF0dXNcIiwgXCJhY3RpdmVcIik7XG5cblx0XHRpZiAoZGF0YSAmJiBkYXRhLmxlbmd0aCA+IDApIHtcblx0XHRcdGNvbnN0IHRvbGxGcmVlID0gZGF0YS5maW5kKChuKSA9PiBuLm51bWJlcl90eXBlID09PSBcInRvbGwtZnJlZVwiKTtcblx0XHRcdGlmICh0b2xsRnJlZSkge1xuXHRcdFx0XHRyZXR1cm4gbm9ybWFsaXplUGhvbmVOdW1iZXIodG9sbEZyZWUucGhvbmVfbnVtYmVyKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKG5vcm1hbGl6ZWREZWZhdWx0KSB7XG5cdFx0XHRcdGNvbnN0IGRlZmF1bHRFeGlzdHMgPSBkYXRhLnNvbWUoXG5cdFx0XHRcdFx0KG4pID0+IG5vcm1hbGl6ZVBob25lTnVtYmVyKG4ucGhvbmVfbnVtYmVyKSA9PT0gbm9ybWFsaXplZERlZmF1bHQsXG5cdFx0XHRcdCk7XG5cdFx0XHRcdGlmIChkZWZhdWx0RXhpc3RzKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG5vcm1hbGl6ZWREZWZhdWx0O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBub3JtYWxpemVQaG9uZU51bWJlcihkYXRhWzBdLnBob25lX251bWJlcik7XG5cdFx0fVxuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUud2Fybihcblx0XHRcdFwiRmFpbGVkIHRvIGxvYWQgY29tcGFueSBwaG9uZSBudW1iZXJzIGZvciBvdXRib3VuZCBzZWxlY3Rpb246XCIsXG5cdFx0XHRlcnJvcixcblx0XHQpO1xuXHR9XG5cblx0cmV0dXJuIG5vcm1hbGl6ZWREZWZhdWx0O1xufVxuXG5hc3luYyBmdW5jdGlvbiBtZXJnZVByb3ZpZGVyTWV0YWRhdGEoXG5cdHN1cGFiYXNlOiBUeXBlZFN1cGFiYXNlQ2xpZW50LFxuXHRjb21tdW5pY2F0aW9uSWQ6IHN0cmluZyxcblx0cGF0Y2g6IFJlY29yZDxzdHJpbmcsIEpzb24+LFxuKTogUHJvbWlzZTx2b2lkPiB7XG5cdGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHQuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG5cdFx0LnNlbGVjdChcInByb3ZpZGVyX21ldGFkYXRhXCIpXG5cdFx0LmVxKFwiaWRcIiwgY29tbXVuaWNhdGlvbklkKVxuXHRcdC5tYXliZVNpbmdsZSgpO1xuXG5cdGNvbnN0IGN1cnJlbnRNZXRhZGF0YSA9XG5cdFx0KGRhdGE/LnByb3ZpZGVyX21ldGFkYXRhIGFzIFJlY29yZDxzdHJpbmcsIEpzb24+IHwgbnVsbCkgPz8ge307XG5cdGNvbnN0IG1lcmdlZE1ldGFkYXRhOiBSZWNvcmQ8c3RyaW5nLCBKc29uPiA9IHtcblx0XHQuLi5jdXJyZW50TWV0YWRhdGEsXG5cdFx0Li4ucGF0Y2gsXG5cdH07XG5cblx0YXdhaXQgc3VwYWJhc2Vcblx0XHQuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG5cdFx0LnVwZGF0ZSh7XG5cdFx0XHRwcm92aWRlcl9tZXRhZGF0YTogbWVyZ2VkTWV0YWRhdGEsXG5cdFx0fSlcblx0XHQuZXEoXCJpZFwiLCBjb21tdW5pY2F0aW9uSWQpO1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBQSE9ORSBOVU1CRVIgTUFOQUdFTUVOVCBBQ1RJT05TXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogU2VhcmNoIGZvciBhdmFpbGFibGUgcGhvbmUgbnVtYmVycyB0byBwdXJjaGFzZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VhcmNoUGhvbmVOdW1iZXJzKHBhcmFtczoge1xuXHRhcmVhQ29kZT86IHN0cmluZztcblx0bnVtYmVyVHlwZT86IE51bWJlclR5cGU7XG5cdGZlYXR1cmVzPzogTnVtYmVyRmVhdHVyZVtdO1xuXHRsaW1pdD86IG51bWJlcjtcbn0pIHtcblx0dHJ5IHtcblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBzZWFyY2hBdmFpbGFibGVOdW1iZXJzKHtcblx0XHRcdGNvdW50cnlDb2RlOiBcIlVTXCIsXG5cdFx0XHRhcmVhQ29kZTogcGFyYW1zLmFyZWFDb2RlLFxuXHRcdFx0bnVtYmVyVHlwZTogcGFyYW1zLm51bWJlclR5cGUsXG5cdFx0XHRmZWF0dXJlczogcGFyYW1zLmZlYXR1cmVzLFxuXHRcdFx0bGltaXQ6IHBhcmFtcy5saW1pdCB8fCAxMCxcblx0XHR9KTtcblxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIHNlYXJjaCBwaG9uZSBudW1iZXJzXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIFB1cmNoYXNlIGEgcGhvbmUgbnVtYmVyIGFuZCBhc3NvY2lhdGUgaXQgd2l0aCB0aGUgY3VycmVudCBjb21wYW55XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwdXJjaGFzZVBob25lTnVtYmVyKHBhcmFtczoge1xuXHRwaG9uZU51bWJlcjogc3RyaW5nO1xuXHRjb21wYW55SWQ6IHN0cmluZztcblx0YmlsbGluZ0dyb3VwSWQ/OiBzdHJpbmc7XG59KSB7XG5cdHRyeSB7XG5cdFx0Ly8gVmFsaWRhdGUgY29uZmlndXJhdGlvblxuXHRcdGNvbnN0IHNtc0NvbmZpZyA9IGF3YWl0IHZhbGlkYXRlU21zQ29uZmlnKCk7XG5cdFx0Y29uc3QgY2FsbENvbmZpZyA9IHZhbGlkYXRlQ2FsbENvbmZpZygpO1xuXHRcdGlmICghc21zQ29uZmlnLnZhbGlkIHx8ICFjYWxsQ29uZmlnLnZhbGlkKSB7XG5cdFx0XHRsZXQgZXJyb3JNZXNzYWdlID1cblx0XHRcdFx0XCJUZWxueXggY29uZmlndXJhdGlvbiBpcyBpbmNvbXBsZXRlLiBQbGVhc2UgY29uZmlndXJlIGFsbCByZXF1aXJlZCBlbnZpcm9ubWVudCB2YXJpYWJsZXMuXCI7XG5cblx0XHRcdC8vIElmIHdlIGhhdmUgYSBzdWdnZXN0ZWQgcHJvZmlsZSBJRCwgaW5jbHVkZSBpdCBpbiB0aGUgZXJyb3Jcblx0XHRcdGlmIChzbXNDb25maWcuc3VnZ2VzdGVkUHJvZmlsZUlkKSB7XG5cdFx0XHRcdGVycm9yTWVzc2FnZSArPSBgIEZvdW5kIG1lc3NhZ2luZyBwcm9maWxlIFwiJHtzbXNDb25maWcuc3VnZ2VzdGVkUHJvZmlsZUlkfVwiIGluIHlvdXIgVGVsbnl4IGFjY291bnQuIFNldCBURUxOWVhfREVGQVVMVF9NRVNTQUdJTkdfUFJPRklMRV9JRD0ke3Ntc0NvbmZpZy5zdWdnZXN0ZWRQcm9maWxlSWR9IHRvIHVzZSBpdC5gO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGVycm9yTWVzc2FnZSxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiU2VydmljZSB1bmF2YWlsYWJsZVwiIH07XG5cdFx0fVxuXG5cdFx0Y29uc3Qgbm9ybWFsaXplZFBob25lTnVtYmVyID0gbm9ybWFsaXplUGhvbmVOdW1iZXIocGFyYW1zLnBob25lTnVtYmVyKTtcblx0XHRjb25zdCBmb3JtYXR0ZWROdW1iZXIgPSBmb3JtYXREaXNwbGF5UGhvbmVOdW1iZXIobm9ybWFsaXplZFBob25lTnVtYmVyKTtcblx0XHRjb25zdCBhcmVhQ29kZSA9IGV4dHJhY3RBcmVhQ29kZShub3JtYWxpemVkUGhvbmVOdW1iZXIpO1xuXG5cdFx0Ly8gUHVyY2hhc2UgbnVtYmVyIGZyb20gVGVsbnl4XG5cdFx0Y29uc3QgbWVzc2FnaW5nUHJvZmlsZUlkID0gREVGQVVMVF9NRVNTQUdJTkdfUFJPRklMRV9JRCB8fCB1bmRlZmluZWQ7XG5cblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBwdXJjaGFzZU51bWJlcih7XG5cdFx0XHRwaG9uZU51bWJlcjogbm9ybWFsaXplZFBob25lTnVtYmVyLFxuXHRcdFx0Y29ubmVjdGlvbklkOiBURUxOWVhfQ09ORklHLmNvbm5lY3Rpb25JZCxcblx0XHRcdG1lc3NhZ2luZ1Byb2ZpbGVJZCxcblx0XHRcdGJpbGxpbmdHcm91cElkOiBwYXJhbXMuYmlsbGluZ0dyb3VwSWQsXG5cdFx0XHRjdXN0b21lclJlZmVyZW5jZTogYGNvbXBhbnlfJHtwYXJhbXMuY29tcGFueUlkfWAsXG5cdFx0fSk7XG5cblx0XHRpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH1cblxuXHRcdC8vIFN0b3JlIGluIGRhdGFiYXNlXG5cdFx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwicGhvbmVfbnVtYmVyc1wiKVxuXHRcdFx0Lmluc2VydCh7XG5cdFx0XHRcdGNvbXBhbnlfaWQ6IHBhcmFtcy5jb21wYW55SWQsXG5cdFx0XHRcdHRlbG55eF9waG9uZV9udW1iZXJfaWQ6IHJlc3VsdC5vcmRlcklkLFxuXHRcdFx0XHR0ZWxueXhfY29ubmVjdGlvbl9pZDogVEVMTllYX0NPTkZJRy5jb25uZWN0aW9uSWQsXG5cdFx0XHRcdHBob25lX251bWJlcjogbm9ybWFsaXplZFBob25lTnVtYmVyLFxuXHRcdFx0XHRmb3JtYXR0ZWRfbnVtYmVyOiBmb3JtYXR0ZWROdW1iZXIsXG5cdFx0XHRcdGNvdW50cnlfY29kZTogXCJVU1wiLFxuXHRcdFx0XHRhcmVhX2NvZGU6IGFyZWFDb2RlLFxuXHRcdFx0XHRudW1iZXJfdHlwZTogXCJsb2NhbFwiLFxuXHRcdFx0XHRmZWF0dXJlczogW1widm9pY2VcIiwgXCJzbXNcIl0sXG5cdFx0XHRcdHN0YXR1czogXCJwZW5kaW5nXCIsXG5cdFx0XHR9KVxuXHRcdFx0LnNlbGVjdCgpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9zZXR0aW5ncy9jb21tdW5pY2F0aW9ucy9waG9uZS1udW1iZXJzXCIpO1xuXG5cdFx0dHJ5IHtcblx0XHRcdGF3YWl0IGVuc3VyZU1lc3NhZ2luZ0NhbXBhaWduKFxuXHRcdFx0XHRwYXJhbXMuY29tcGFueUlkLFxuXHRcdFx0XHR7IGlkOiBkYXRhLmlkLCBlMTY0OiBub3JtYWxpemVkUGhvbmVOdW1iZXIgfSxcblx0XHRcdFx0eyBzdXBhYmFzZSB9LFxuXHRcdFx0KTtcblx0XHR9IGNhdGNoIChfY2FtcGFpZ25FcnJvcikge31cblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0ZGF0YSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byBwdXJjaGFzZSBwaG9uZSBudW1iZXJcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogR2V0IGFsbCBwaG9uZSBudW1iZXJzIGZvciBhIGNvbXBhbnlcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENvbXBhbnlQaG9uZU51bWJlcnMoY29tcGFueUlkOiBzdHJpbmcpIHtcblx0dHJ5IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJTZXJ2aWNlIHVuYXZhaWxhYmxlXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJwaG9uZV9udW1iZXJzXCIpXG5cdFx0XHQuc2VsZWN0KFwiKlwiKVxuXHRcdFx0LmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpXG5cdFx0XHQuaXMoXCJkZWxldGVkX2F0XCIsIG51bGwpXG5cdFx0XHQub3JkZXIoXCJjcmVhdGVkX2F0XCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IHRydWUsXG5cdFx0XHRkYXRhOiBkYXRhIHx8IFtdLFxuXHRcdH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gZ2V0IHBob25lIG51bWJlcnNcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogVXBkYXRlIHBob25lIG51bWJlciBjb25maWd1cmF0aW9uXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVBob25lTnVtYmVyKHBhcmFtczoge1xuXHRwaG9uZU51bWJlcklkOiBzdHJpbmc7XG5cdHJvdXRpbmdSdWxlSWQ/OiBzdHJpbmc7XG5cdGZvcndhcmRUb051bWJlcj86IHN0cmluZztcblx0dm9pY2VtYWlsRW5hYmxlZD86IGJvb2xlYW47XG59KSB7XG5cdHRyeSB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiU2VydmljZSB1bmF2YWlsYWJsZVwiIH07XG5cdFx0fVxuXG5cdFx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwicGhvbmVfbnVtYmVyc1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdGNhbGxfcm91dGluZ19ydWxlX2lkOiBwYXJhbXMucm91dGluZ1J1bGVJZCxcblx0XHRcdFx0Zm9yd2FyZF90b19udW1iZXI6IHBhcmFtcy5mb3J3YXJkVG9OdW1iZXIsXG5cdFx0XHRcdHZvaWNlbWFpbF9lbmFibGVkOiBwYXJhbXMudm9pY2VtYWlsRW5hYmxlZCxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBwYXJhbXMucGhvbmVOdW1iZXJJZClcblx0XHRcdC5zZWxlY3QoKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvc2V0dGluZ3MvY29tbXVuaWNhdGlvbnMvcGhvbmUtbnVtYmVyc1wiKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0ZGF0YSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byB1cGRhdGUgcGhvbmUgbnVtYmVyXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIFJlbGVhc2UgKGRlbGV0ZSkgYSBwaG9uZSBudW1iZXJcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZGVsZXRlUGhvbmVOdW1iZXIocGhvbmVOdW1iZXJJZDogc3RyaW5nKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiU2VydmljZSB1bmF2YWlsYWJsZVwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gR2V0IHBob25lIG51bWJlciBkZXRhaWxzXG5cdFx0Y29uc3QgeyBkYXRhOiBwaG9uZU51bWJlciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwicGhvbmVfbnVtYmVyc1wiKVxuXHRcdFx0LnNlbGVjdChcIipcIilcblx0XHRcdC5lcShcImlkXCIsIHBob25lTnVtYmVySWQpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoIXBob25lTnVtYmVyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiUGhvbmUgbnVtYmVyIG5vdCBmb3VuZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gUmVsZWFzZSBmcm9tIFRlbG55eCBpZiB3ZSBoYXZlIHRoZSBJRFxuXHRcdGlmIChwaG9uZU51bWJlci50ZWxueXhfcGhvbmVfbnVtYmVyX2lkKSB7XG5cdFx0XHRhd2FpdCByZWxlYXNlTnVtYmVyKHBob25lTnVtYmVyLnRlbG55eF9waG9uZV9udW1iZXJfaWQpO1xuXHRcdH1cblxuXHRcdC8vIFNvZnQgZGVsZXRlIGluIGRhdGFiYXNlXG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwicGhvbmVfbnVtYmVyc1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdGRlbGV0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdFx0c3RhdHVzOiBcImRlbGV0ZWRcIixcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBwaG9uZU51bWJlcklkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL3NldHRpbmdzL2NvbW11bmljYXRpb25zL3Bob25lLW51bWJlcnNcIik7XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIGRlbGV0ZSBwaG9uZSBudW1iZXJcIixcblx0XHR9O1xuXHR9XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIENBTEwgT1BFUkFUSU9OUyBBQ1RJT05TXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogSW5pdGlhdGUgYW4gb3V0Ym91bmQgY2FsbFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbWFrZUNhbGwocGFyYW1zOiB7XG5cdHRvOiBzdHJpbmc7XG5cdGZyb206IHN0cmluZztcblx0Y29tcGFueUlkOiBzdHJpbmc7XG5cdGN1c3RvbWVySWQ/OiBzdHJpbmc7XG5cdGpvYklkPzogc3RyaW5nO1xuXHRwcm9wZXJ0eUlkPzogc3RyaW5nO1xuXHRpbnZvaWNlSWQ/OiBzdHJpbmc7XG5cdGVzdGltYXRlSWQ/OiBzdHJpbmc7XG59KSB7XG5cdHRyeSB7XG5cdFx0Y29uc29sZS5sb2coXCLwn5OeIG1ha2VDYWxsIGNhbGxlZCB3aXRoIHBhcmFtczpcIiwgcGFyYW1zKTtcblxuXHRcdGNvbnN0IGNhbGxDb25maWcgPSB2YWxpZGF0ZUNhbGxDb25maWcoKTtcblx0XHRjb25zb2xlLmxvZyhcIvCflI0gQ2FsbCBjb25maWcgdmFsaWRhdGlvbjpcIiwgY2FsbENvbmZpZyk7XG5cdFx0aWYgKCFjYWxsQ29uZmlnLnZhbGlkKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGNhbGxDb25maWcuZXJyb3IgfHwgXCJDYWxsIGNvbmZpZ3VyYXRpb24gaXMgaW52YWxpZFwiLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJTZXJ2aWNlIHVuYXZhaWxhYmxlXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCBjb21wYW55U2V0dGluZ3MgPSBhd2FpdCBnZXRDb21wYW55VGVsbnl4U2V0dGluZ3MoXG5cdFx0XHRzdXBhYmFzZSxcblx0XHRcdHBhcmFtcy5jb21wYW55SWQsXG5cdFx0KTtcblxuXHRcdGF3YWl0IGVuc3VyZVBob25lTnVtYmVyUmVjb3JkRXhpc3RzKFxuXHRcdFx0c3VwYWJhc2UsXG5cdFx0XHRwYXJhbXMuY29tcGFueUlkLFxuXHRcdFx0Y29tcGFueVNldHRpbmdzPy5kZWZhdWx0X291dGJvdW5kX251bWJlciB8fCBudWxsLFxuXHRcdCk7XG5cblx0XHRjb25zdCBjb25uZWN0aW9uT3ZlcnJpZGUgPVxuXHRcdFx0Y29tcGFueVNldHRpbmdzPy5jYWxsX2NvbnRyb2xfYXBwbGljYXRpb25faWQgfHxcblx0XHRcdFRFTE5ZWF9DT05GSUcuY29ubmVjdGlvbklkO1xuXHRcdGNvbnN0IGZyb21BZGRyZXNzID0gYXdhaXQgcmVzb2x2ZU91dGJvdW5kUGhvbmVOdW1iZXIoXG5cdFx0XHRzdXBhYmFzZSxcblx0XHRcdHBhcmFtcy5jb21wYW55SWQsXG5cdFx0XHRwYXJhbXMuZnJvbSxcblx0XHRcdGNvbXBhbnlTZXR0aW5ncz8uZGVmYXVsdF9vdXRib3VuZF9udW1iZXIgfHwgbnVsbCxcblx0XHQpO1xuXG5cdFx0aWYgKCFjb25uZWN0aW9uT3ZlcnJpZGUpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogXCJObyBUZWxueXggY29ubmVjdGlvbiBjb25maWd1cmVkIGZvciB0aGlzIGNvbXBhbnkuXCIsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGlmICghZnJvbUFkZHJlc3MpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjpcblx0XHRcdFx0XHRcIkNvbXBhbnkgZG9lcyBub3QgaGF2ZSBhIGRlZmF1bHQgb3V0Ym91bmQgcGhvbmUgbnVtYmVyIGNvbmZpZ3VyZWQuIFBsZWFzZSBwcm92aXNpb24gbnVtYmVycyBmaXJzdC5cIixcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gVEVNUDogU2tpcCBjb25uZWN0aW9uIHZlcmlmaWNhdGlvbiAtIExldmVsIDIgcmVxdWlyZWQgZm9yIEFQSSBhY2Nlc3Ncblx0XHQvLyBjb25zdCBjb25uZWN0aW9uU3RhdHVzID0gYXdhaXQgdmVyaWZ5Q29ubmVjdGlvbihjb25uZWN0aW9uT3ZlcnJpZGUpO1xuXHRcdC8vIGlmIChjb25uZWN0aW9uU3RhdHVzLm5lZWRzRml4KSB7XG5cdFx0Ly8gXHRyZXR1cm4ge1xuXHRcdC8vIFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHQvLyBcdFx0ZXJyb3I6IGBDb25uZWN0aW9uIGNvbmZpZ3VyYXRpb24gaXNzdWU6ICR7Y29ubmVjdGlvblN0YXR1cy5pc3N1ZXMuam9pbihcIiwgXCIpfS4gUnVuIGZpeENvbm5lY3Rpb24oKSB0byBhdXRvLWZpeC5gLFxuXHRcdC8vIFx0fTtcblx0XHQvLyB9XG5cblx0XHRjb25zdCB0b0FkZHJlc3MgPSBub3JtYWxpemVQaG9uZU51bWJlcihwYXJhbXMudG8pO1xuXG5cdFx0Ly8gVEVNUDogU2tpcCB2b2ljZSBjYXBhYmlsaXR5IGNoZWNrIC0gTGV2ZWwgMiByZXF1aXJlZCBmb3IgQVBJIGFjY2Vzc1xuXHRcdC8vIGNvbnN0IHZvaWNlQ2FwYWJpbGl0eSA9IGF3YWl0IHZlcmlmeVZvaWNlQ2FwYWJpbGl0eShmcm9tQWRkcmVzcyk7XG5cdFx0Ly8gaWYgKCF2b2ljZUNhcGFiaWxpdHkuaGFzVm9pY2UpIHtcblx0XHQvLyBcdHJldHVybiB7XG5cdFx0Ly8gXHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdC8vIFx0XHRlcnJvcjpcblx0XHQvLyBcdFx0XHR2b2ljZUNhcGFiaWxpdHkuZXJyb3IgfHwgXCJQaG9uZSBudW1iZXIgZG9lcyBub3Qgc3VwcG9ydCB2b2ljZSBjYWxsc1wiLFxuXHRcdC8vIFx0fTtcblx0XHQvLyB9XG5cblx0XHRjb25zdCB0ZWxueXhXZWJob29rVXJsID0gYXdhaXQgZ2V0VGVsbnl4V2ViaG9va1VybChwYXJhbXMuY29tcGFueUlkKTtcblx0XHRjb25zb2xlLmxvZyhcIvCflJcgV2ViaG9vayBVUkw6XCIsIHRlbG55eFdlYmhvb2tVcmwpO1xuXHRcdGlmICghdGVsbnl4V2ViaG9va1VybCkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOlxuXHRcdFx0XHRcdFwiU2l0ZSBVUkwgaXMgbm90IGNvbmZpZ3VyZWQuIFNldCBORVhUX1BVQkxJQ19TSVRFX1VSTCBvciBTSVRFX1VSTCB0byBhIHB1YmxpYyBodHRwcyBkb21haW4uXCIsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGNvbnNvbGUubG9nKFwi8J+TpCBJbml0aWF0aW5nIGNhbGw6XCIsIHtcblx0XHRcdHRvOiB0b0FkZHJlc3MsXG5cdFx0XHRmcm9tOiBmcm9tQWRkcmVzcyxcblx0XHRcdGNvbm5lY3Rpb25JZDogY29ubmVjdGlvbk92ZXJyaWRlLFxuXHRcdFx0d2ViaG9va1VybDogdGVsbnl4V2ViaG9va1VybCxcblx0XHR9KTtcblxuXHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IGluaXRpYXRlQ2FsbCh7XG5cdFx0XHR0bzogdG9BZGRyZXNzLFxuXHRcdFx0ZnJvbTogZnJvbUFkZHJlc3MsXG5cdFx0XHRjb25uZWN0aW9uSWQ6IGNvbm5lY3Rpb25PdmVycmlkZSxcblx0XHRcdHdlYmhvb2tVcmw6IHRlbG55eFdlYmhvb2tVcmwsXG5cdFx0XHRhbnN3ZXJpbmdNYWNoaW5lRGV0ZWN0aW9uOiBcInByZW1pdW1cIixcblx0XHR9KTtcblxuXHRcdGNvbnNvbGUubG9nKFwi8J+TpSBUZWxueXggQVBJIHJlc3BvbnNlOlwiLCByZXN1bHQpO1xuXG5cdFx0aWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9XG5cblx0XHRjb25zdCBwaG9uZU51bWJlcklkID0gYXdhaXQgZ2V0UGhvbmVOdW1iZXJJZChzdXBhYmFzZSwgZnJvbUFkZHJlc3MpO1xuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG5cdFx0XHQuaW5zZXJ0KHtcblx0XHRcdFx0Y29tcGFueV9pZDogY29tcGFueUlkLFxuXHRcdFx0XHRjdXN0b21lcl9pZDogcGFyYW1zLmN1c3RvbWVySWQsXG5cdFx0XHRcdGpvYl9pZDogcGFyYW1zLmpvYklkID8/IG51bGwsXG5cdFx0XHRcdHByb3BlcnR5X2lkOiBwYXJhbXMucHJvcGVydHlJZCA/PyBudWxsLFxuXHRcdFx0XHRpbnZvaWNlX2lkOiBwYXJhbXMuaW52b2ljZUlkID8/IG51bGwsXG5cdFx0XHRcdGVzdGltYXRlX2lkOiBwYXJhbXMuZXN0aW1hdGVJZCA/PyBudWxsLFxuXHRcdFx0XHR0eXBlOiBcInBob25lXCIsXG5cdFx0XHRcdGNoYW5uZWw6IFwidGVsbnl4XCIsXG5cdFx0XHRcdGRpcmVjdGlvbjogXCJvdXRib3VuZFwiLFxuXHRcdFx0XHRmcm9tX2FkZHJlc3M6IGZyb21BZGRyZXNzLFxuXHRcdFx0XHR0b19hZGRyZXNzOiB0b0FkZHJlc3MsXG5cdFx0XHRcdGJvZHk6IFwiXCIsXG5cdFx0XHRcdHN0YXR1czogXCJxdWV1ZWRcIixcblx0XHRcdFx0cHJpb3JpdHk6IFwibm9ybWFsXCIsXG5cdFx0XHRcdHBob25lX251bWJlcl9pZDogcGhvbmVOdW1iZXJJZCxcblx0XHRcdFx0aXNfYXJjaGl2ZWQ6IGZhbHNlLFxuXHRcdFx0XHRpc19hdXRvbWF0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRpc19pbnRlcm5hbDogZmFsc2UsXG5cdFx0XHRcdGlzX3RocmVhZF9zdGFydGVyOiB0cnVlLFxuXHRcdFx0XHR0ZWxueXhfY2FsbF9jb250cm9sX2lkOiByZXN1bHQuY2FsbENvbnRyb2xJZCxcblx0XHRcdFx0dGVsbnl4X2NhbGxfc2Vzc2lvbl9pZDogcmVzdWx0LmNhbGxTZXNzaW9uSWQsXG5cdFx0XHR9KVxuXHRcdFx0LnNlbGVjdCgpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdGNvbnNvbGUubG9nKFwi4pyFIENhbGwgY3JlYXRlZCBzdWNjZXNzZnVsbHk6XCIsIHtcblx0XHRcdGNhbGxDb250cm9sSWQ6IHJlc3VsdC5jYWxsQ29udHJvbElkLFxuXHRcdFx0Y29tbXVuaWNhdGlvbklkOiBkYXRhLmlkLFxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IHRydWUsXG5cdFx0XHRjYWxsQ29udHJvbElkOiByZXN1bHQuY2FsbENvbnRyb2xJZCxcblx0XHRcdGRhdGEsXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRjb25zb2xlLmVycm9yKFwi4p2MIG1ha2VDYWxsIGVycm9yOlwiLCBlcnJvcik7XG5cdFx0Y29uc29sZS5lcnJvcihcIkVycm9yIGRldGFpbHM6XCIsIHtcblx0XHRcdG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKSxcblx0XHRcdHN0YWNrOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3Iuc3RhY2sgOiB1bmRlZmluZWQsXG5cdFx0fSk7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gbWFrZSBjYWxsXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIEFuc3dlciBhbiBpbmNvbWluZyBjYWxsXG4vKipcbiAqIEFuc3dlciBhbiBpbmNvbWluZyBjYWxsXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGFjY2VwdENhbGwoY2FsbENvbnRyb2xJZDogc3RyaW5nKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgdGVsbnl4V2ViaG9va1VybCA9IGF3YWl0IGdldFRlbG55eFdlYmhvb2tVcmwoKTtcblx0XHRpZiAoIXRlbG55eFdlYmhvb2tVcmwpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjpcblx0XHRcdFx0XHRcIlNpdGUgVVJMIGlzIG5vdCBjb25maWd1cmVkLiBTZXQgTkVYVF9QVUJMSUNfU0lURV9VUkwgb3IgU0lURV9VUkwgdG8gYSBwdWJsaWMgaHR0cHMgZG9tYWluLlwiLFxuXHRcdFx0fTtcblx0XHR9XG5cdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgYW5zd2VyQ2FsbCh7XG5cdFx0XHRjYWxsQ29udHJvbElkLFxuXHRcdFx0d2ViaG9va1VybDogdGVsbnl4V2ViaG9va1VybCxcblx0XHR9KTtcblxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gYW5zd2VyIGNhbGxcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogUmVqZWN0IGFuIGluY29taW5nIGNhbGxcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZGVjbGluZUNhbGwoY2FsbENvbnRyb2xJZDogc3RyaW5nKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgcmVqZWN0Q2FsbCh7XG5cdFx0XHRjYWxsQ29udHJvbElkLFxuXHRcdFx0Y2F1c2U6IFwiQ0FMTF9SRUpFQ1RFRFwiLFxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byByZWplY3QgY2FsbFwiLFxuXHRcdH07XG5cdH1cbn1cblxuLyoqXG4gKiBFbmQgYW4gYWN0aXZlIGNhbGxcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZW5kQ2FsbChjYWxsQ29udHJvbElkOiBzdHJpbmcpIHtcblx0dHJ5IHtcblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBoYW5ndXBDYWxsKHsgY2FsbENvbnRyb2xJZCB9KTtcblxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gZW5kIGNhbGxcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogU3RhcnQgcmVjb3JkaW5nIGEgY2FsbFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc3RhcnRDYWxsUmVjb3JkaW5nKGNhbGxDb250cm9sSWQ6IHN0cmluZykge1xuXHR0cnkge1xuXHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IHN0YXJ0UmVjb3JkaW5nKHtcblx0XHRcdGNhbGxDb250cm9sSWQsXG5cdFx0XHRmb3JtYXQ6IFwibXAzXCIsXG5cdFx0XHRjaGFubmVsczogXCJzaW5nbGVcIixcblx0XHR9KTtcblxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gc3RhcnQgcmVjb3JkaW5nXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIFN0b3AgcmVjb3JkaW5nIGEgY2FsbFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc3RvcENhbGxSZWNvcmRpbmcoY2FsbENvbnRyb2xJZDogc3RyaW5nKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgc3RvcFJlY29yZGluZyh7IGNhbGxDb250cm9sSWQgfSk7XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiRmFpbGVkIHRvIHN0b3AgcmVjb3JkaW5nXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIFRyYW5zZmVyIGFuIGFjdGl2ZSBjYWxsIHRvIGFub3RoZXIgbnVtYmVyXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0cmFuc2ZlckFjdGl2ZUNhbGwocGFyYW1zOiB7XG5cdGNhbGxDb250cm9sSWQ6IHN0cmluZztcblx0dG86IHN0cmluZztcblx0ZnJvbTogc3RyaW5nO1xufSkge1xuXHR0cnkge1xuXHRcdGNvbnN0IHsgdHJhbnNmZXJDYWxsIH0gPSBhd2FpdCBpbXBvcnQoXCJAL2xpYi90ZWxueXgvY2FsbHNcIik7XG5cdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgdHJhbnNmZXJDYWxsKHtcblx0XHRcdGNhbGxDb250cm9sSWQ6IHBhcmFtcy5jYWxsQ29udHJvbElkLFxuXHRcdFx0dG86IHBhcmFtcy50byxcblx0XHRcdGZyb206IHBhcmFtcy5mcm9tLFxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byB0cmFuc2ZlciBjYWxsXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIFRyYW5zY3JpYmUgYSBjYWxsIHJlY29yZGluZyB1c2luZyBBc3NlbWJseUFJXG4gKlxuICogU3VibWl0cyB0aGUgcmVjb3JkaW5nIFVSTCB0byBBc3NlbWJseUFJIGZvciBwb3N0LWNhbGwgdHJhbnNjcmlwdGlvbi5cbiAqIEFzc2VtYmx5QUkgd2lsbCBwcm9jZXNzIHRoZSBhdWRpbyBhbmQgc2VuZCB0aGUgdHJhbnNjcmlwdCB2aWEgd2ViaG9vay5cbiAqXG4gKiBAcGFyYW0gcmVjb3JkaW5nVXJsIC0gVVJMIG9mIHRoZSBjYWxsIHJlY29yZGluZyAoZnJvbSBUZWxueXgpXG4gKiBAcGFyYW0gY29tbXVuaWNhdGlvbklkIC0gRGF0YWJhc2UgSUQgb2YgdGhlIGNvbW11bmljYXRpb24gcmVjb3JkXG4gKiBAcmV0dXJucyBTdWNjZXNzL2Vycm9yIHJlc3BvbnNlIHdpdGggdHJhbnNjcmlwdGlvbiBqb2IgSURcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRyYW5zY3JpYmVDYWxsUmVjb3JkaW5nKHBhcmFtczoge1xuXHRyZWNvcmRpbmdVcmw6IHN0cmluZztcblx0Y29tbXVuaWNhdGlvbklkOiBzdHJpbmc7XG59KSB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgeyBzdWJtaXRUcmFuc2NyaXB0aW9uIH0gPSBhd2FpdCBpbXBvcnQoXCJAL2xpYi9hc3NlbWJseWFpL2NsaWVudFwiKTtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJTZXJ2aWNlIHVuYXZhaWxhYmxlXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCB3ZWJob29rVXJsID0gYXdhaXQgYnVpbGRBYnNvbHV0ZVVybChcIi9hcGkvd2ViaG9va3MvYXNzZW1ibHlhaVwiKTtcblx0XHRpZiAoIXdlYmhvb2tVcmwpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjpcblx0XHRcdFx0XHRcIlNpdGUgVVJMIGlzIG5vdCBjb25maWd1cmVkLiBTZXQgTkVYVF9QVUJMSUNfU0lURV9VUkwgb3IgU0lURV9VUkwuXCIsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdC8vIFN1Ym1pdCB0byBBc3NlbWJseUFJXG5cdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgc3VibWl0VHJhbnNjcmlwdGlvbih7XG5cdFx0XHRhdWRpb191cmw6IHBhcmFtcy5yZWNvcmRpbmdVcmwsXG5cdFx0XHRzcGVha2VyX2xhYmVsczogdHJ1ZSwgLy8gRW5hYmxlIHNwZWFrZXIgZGlhcml6YXRpb25cblx0XHRcdHdlYmhvb2tfdXJsOiB3ZWJob29rVXJsLFxuXHRcdH0pO1xuXG5cdFx0aWYgKCEocmVzdWx0LnN1Y2Nlc3MgJiYgcmVzdWx0LmRhdGEpKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IHJlc3VsdC5lcnJvciB8fCBcIkZhaWxlZCB0byBzdWJtaXQgdHJhbnNjcmlwdGlvblwiLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBTdG9yZSB0cmFuc2NyaXB0aW9uIGpvYiBJRCBpbiBkYXRhYmFzZVxuXHRcdGF3YWl0IG1lcmdlUHJvdmlkZXJNZXRhZGF0YShzdXBhYmFzZSwgcGFyYW1zLmNvbW11bmljYXRpb25JZCwge1xuXHRcdFx0YXNzZW1ibHlhaV90cmFuc2NyaXB0aW9uX2lkOiByZXN1bHQuZGF0YS5pZCxcblx0XHRcdGFzc2VtYmx5YWlfc3RhdHVzOiByZXN1bHQuZGF0YS5zdGF0dXMsXG5cdFx0fSk7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdHRyYW5zY3JpcHRpb25JZDogcmVzdWx0LmRhdGEuaWQsXG5cdFx0XHRzdGF0dXM6IHJlc3VsdC5kYXRhLnN0YXR1cyxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byB0cmFuc2NyaWJlIHJlY29yZGluZ1wiLFxuXHRcdH07XG5cdH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU01TIE9QRVJBVElPTlMgQUNUSU9OU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIFNlbmQgYW4gU01TIG1lc3NhZ2VcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRUZXh0TWVzc2FnZShwYXJhbXM6IHtcblx0dG86IHN0cmluZztcblx0ZnJvbTogc3RyaW5nO1xuXHR0ZXh0OiBzdHJpbmc7XG5cdGNvbXBhbnlJZD86IHN0cmluZzsgLy8gT3B0aW9uYWwgLSB3aWxsIGJlIGZldGNoZWQgaWYgbm90IHByb3ZpZGVkXG5cdGN1c3RvbWVySWQ/OiBzdHJpbmc7XG5cdGpvYklkPzogc3RyaW5nO1xuXHRpbnZvaWNlSWQ/OiBzdHJpbmc7XG5cdGVzdGltYXRlSWQ/OiBzdHJpbmc7XG59KSB7XG5cdHRyeSB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKFwi4p2MIFN1cGFiYXNlIGNsaWVudCB1bmF2YWlsYWJsZVwiKTtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJTZXJ2aWNlIHVuYXZhaWxhYmxlXCIgfTtcblx0XHR9XG5cblx0XHQvLyBHZXQgY29tcGFueSBJRCBpZiBub3QgcHJvdmlkZWRcblx0XHRsZXQgY29tcGFueUlkID0gcGFyYW1zLmNvbXBhbnlJZDtcblx0XHRpZiAoIWNvbXBhbnlJZCkge1xuXHRcdFx0Y29uc3QgeyBnZXRBY3RpdmVDb21wYW55SWQgfSA9IGF3YWl0IGltcG9ydChcIkAvbGliL2F1dGgvY29tcGFueS1jb250ZXh0XCIpO1xuXHRcdFx0Y29tcGFueUlkID0gYXdhaXQgZ2V0QWN0aXZlQ29tcGFueUlkKCk7XG5cdFx0XHRpZiAoIWNvbXBhbnlJZCkge1xuXHRcdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm8gYWN0aXZlIGNvbXBhbnkgZm91bmRcIiB9O1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGNvbnNvbGUubG9nKFwi8J+TsSBTTVMgU2VuZCBSZXF1ZXN0OlwiLCB7XG5cdFx0XHR0bzogcGFyYW1zLnRvLFxuXHRcdFx0ZnJvbTogcGFyYW1zLmZyb20sXG5cdFx0XHRjb21wYW55SWQsXG5cdFx0fSk7XG5cblx0XHRjb25zdCBjb21wYW55U2V0dGluZ3MgPSBhd2FpdCBnZXRDb21wYW55VGVsbnl4U2V0dGluZ3MoXG5cdFx0XHRzdXBhYmFzZSxcblx0XHRcdGNvbXBhbnlJZCxcblx0XHQpO1xuXHRcdGlmICghY29tcGFueVNldHRpbmdzKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKFwi4p2MIENvbXBhbnkgc2V0dGluZ3Mgbm90IGZvdW5kXCIpO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOlxuXHRcdFx0XHRcdFwiVW5hYmxlIHRvIHByb3Zpc2lvbiBUZWxueXggcmVzb3VyY2VzIGZvciB0aGlzIGNvbXBhbnkuIFBsZWFzZSB2ZXJpZnkgdGhlIGNvbXBhbnkncyBvbmJvYXJkaW5nIGlzIGNvbXBsZXRlIGFuZCB0cnkgYWdhaW4uXCIsXG5cdFx0XHR9O1xuXHRcdH1cblx0XHRjb25zb2xlLmxvZyhcIuKchSBDb21wYW55IHNldHRpbmdzIGxvYWRlZDpcIiwge1xuXHRcdFx0bWVzc2FnaW5nUHJvZmlsZUlkOiBjb21wYW55U2V0dGluZ3MubWVzc2FnaW5nX3Byb2ZpbGVfaWQsXG5cdFx0XHRkZWZhdWx0TnVtYmVyOiBjb21wYW55U2V0dGluZ3MuZGVmYXVsdF9vdXRib3VuZF9udW1iZXIsXG5cdFx0fSk7XG5cblx0XHRhd2FpdCBlbnN1cmVQaG9uZU51bWJlclJlY29yZEV4aXN0cyhcblx0XHRcdHN1cGFiYXNlLFxuXHRcdFx0Y29tcGFueUlkLFxuXHRcdFx0Y29tcGFueVNldHRpbmdzLmRlZmF1bHRfb3V0Ym91bmRfbnVtYmVyLFxuXHRcdCk7XG5cblx0XHRjb25zdCBzbXNDb25maWcgPSBhd2FpdCB2YWxpZGF0ZVNtc0NvbmZpZygpO1xuXHRcdGlmICghc21zQ29uZmlnLnZhbGlkICYmICFjb21wYW55U2V0dGluZ3M/Lm1lc3NhZ2luZ19wcm9maWxlX2lkKSB7XG5cdFx0XHRsZXQgZXJyb3JNZXNzYWdlID0gc21zQ29uZmlnLmVycm9yIHx8IFwiU01TIGNvbmZpZ3VyYXRpb24gaXMgaW52YWxpZFwiO1xuXHRcdFx0aWYgKHNtc0NvbmZpZy5zdWdnZXN0ZWRQcm9maWxlSWQpIHtcblx0XHRcdFx0ZXJyb3JNZXNzYWdlICs9IGAgRm91bmQgbWVzc2FnaW5nIHByb2ZpbGUgXCIke3Ntc0NvbmZpZy5zdWdnZXN0ZWRQcm9maWxlSWR9XCIgaW4geW91ciBUZWxueXggYWNjb3VudC4gU2V0IFRFTE5ZWF9ERUZBVUxUX01FU1NBR0lOR19QUk9GSUxFX0lEPSR7c21zQ29uZmlnLnN1Z2dlc3RlZFByb2ZpbGVJZH0gb3IgcHJvdmlzaW9uIGNvbXBhbnktc3BlY2lmaWMgc2V0dGluZ3MuYDtcblx0XHRcdH1cblx0XHRcdGNvbnNvbGUuZXJyb3IoXCLinYwgU01TIGNvbmZpZyBpbnZhbGlkOlwiLCBlcnJvck1lc3NhZ2UpO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOiBlcnJvck1lc3NhZ2UsXG5cdFx0XHR9O1xuXHRcdH1cblx0XHRjb25zb2xlLmxvZyhcIuKchSBTTVMgY29uZmlnIHZhbGlkXCIpO1xuXG5cdFx0Y29uc3QgbWVzc2FnaW5nUHJvZmlsZUlkID1cblx0XHRcdGNvbXBhbnlTZXR0aW5ncz8ubWVzc2FnaW5nX3Byb2ZpbGVfaWQgfHwgREVGQVVMVF9NRVNTQUdJTkdfUFJPRklMRV9JRDtcblx0XHRpZiAoIW1lc3NhZ2luZ1Byb2ZpbGVJZCkge1xuXHRcdFx0Y29uc29sZS5lcnJvcihcIuKdjCBObyBtZXNzYWdpbmcgcHJvZmlsZSBJRFwiKTtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjpcblx0XHRcdFx0XHRcIk1lc3NhZ2luZyBwcm9maWxlIGlzIG5vdCBjb25maWd1cmVkIGZvciB0aGlzIGNvbXBhbnkuIFBsZWFzZSBwcm92aXNpb24gY29tbXVuaWNhdGlvbnMgYmVmb3JlIHNlbmRpbmcgU01TLlwiLFxuXHRcdFx0fTtcblx0XHR9XG5cdFx0Y29uc29sZS5sb2coXCLinIUgVXNpbmcgbWVzc2FnaW5nIHByb2ZpbGU6XCIsIG1lc3NhZ2luZ1Byb2ZpbGVJZCk7XG5cblx0XHRpZiAobWVzc2FnaW5nUHJvZmlsZUlkKSB7XG5cdFx0XHRjb25zdCBtZXNzYWdpbmdQcm9maWxlU3RhdHVzID1cblx0XHRcdFx0YXdhaXQgdmVyaWZ5TWVzc2FnaW5nUHJvZmlsZShtZXNzYWdpbmdQcm9maWxlSWQpO1xuXHRcdFx0aWYgKG1lc3NhZ2luZ1Byb2ZpbGVTdGF0dXMubmVlZHNGaXgpIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihcblx0XHRcdFx0XHRcIuKdjCBNZXNzYWdpbmcgcHJvZmlsZSBuZWVkcyBmaXg6XCIsXG5cdFx0XHRcdFx0bWVzc2FnaW5nUHJvZmlsZVN0YXR1cy5pc3N1ZXMsXG5cdFx0XHRcdCk7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdFx0ZXJyb3I6IGBNZXNzYWdpbmcgcHJvZmlsZSBjb25maWd1cmF0aW9uIGlzc3VlOiAke21lc3NhZ2luZ1Byb2ZpbGVTdGF0dXMuaXNzdWVzLmpvaW4oXCIsIFwiKX0uIFJ1biBmaXhNZXNzYWdpbmdQcm9maWxlKCkgb3IgcmVwcm92aXNpb24gdGhlIGNvbXBhbnkuYCxcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHRcdGNvbnNvbGUubG9nKFwi4pyFIE1lc3NhZ2luZyBwcm9maWxlIHZlcmlmaWVkXCIpO1xuXHRcdH1cblxuXHRcdGNvbnN0IGZyb21BZGRyZXNzID0gYXdhaXQgcmVzb2x2ZU91dGJvdW5kUGhvbmVOdW1iZXIoXG5cdFx0XHRzdXBhYmFzZSxcblx0XHRcdGNvbXBhbnlJZCxcblx0XHRcdHBhcmFtcy5mcm9tLFxuXHRcdFx0Y29tcGFueVNldHRpbmdzLmRlZmF1bHRfb3V0Ym91bmRfbnVtYmVyLFxuXHRcdCk7XG5cdFx0aWYgKCFmcm9tQWRkcmVzcykge1xuXHRcdFx0Y29uc29sZS5lcnJvcihcIuKdjCBObyBmcm9tIG51bWJlciBhdmFpbGFibGVcIik7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6XG5cdFx0XHRcdFx0XCJDb21wYW55IGRvZXMgbm90IGhhdmUgYSBkZWZhdWx0IG91dGJvdW5kIHBob25lIG51bWJlciBjb25maWd1cmVkLiBQbGVhc2UgcHJvdmlzaW9uIG51bWJlcnMgZmlyc3QuXCIsXG5cdFx0XHR9O1xuXHRcdH1cblx0XHRjb25zdCB0b0FkZHJlc3MgPSBub3JtYWxpemVQaG9uZU51bWJlcihwYXJhbXMudG8pO1xuXHRcdGNvbnNvbGUubG9nKFwi4pyFIFBob25lIG51bWJlcnMgbm9ybWFsaXplZDpcIiwge1xuXHRcdFx0ZnJvbTogZnJvbUFkZHJlc3MsXG5cdFx0XHR0bzogdG9BZGRyZXNzLFxuXHRcdH0pO1xuXG5cdFx0Ly8gVmVyaWZ5IHBob25lIG51bWJlciBoYXMgU01TIGNhcGFiaWxpdHlcblx0XHRjb25zb2xlLmxvZyhcIvCflI0gVmVyaWZ5aW5nIFNNUyBjYXBhYmlsaXR5IGZvcjpcIiwgZnJvbUFkZHJlc3MpO1xuXHRcdGNvbnN0IHNtc0NhcGFiaWxpdHkgPSBhd2FpdCB2ZXJpZnlTbXNDYXBhYmlsaXR5KGZyb21BZGRyZXNzKTtcblx0XHRpZiAoIXNtc0NhcGFiaWxpdHkuaGFzU21zKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKFwi4p2MIFNNUyBjYXBhYmlsaXR5IGNoZWNrIGZhaWxlZDpcIiwgc21zQ2FwYWJpbGl0eS5lcnJvcik7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IHNtc0NhcGFiaWxpdHkuZXJyb3IgfHwgXCJQaG9uZSBudW1iZXIgZG9lcyBub3Qgc3VwcG9ydCBTTVNcIixcblx0XHRcdH07XG5cdFx0fVxuXHRcdGNvbnNvbGUubG9nKFwi4pyFIFNNUyBjYXBhYmlsaXR5IHZlcmlmaWVkXCIpO1xuXG5cdFx0Y29uc3Qgd2ViaG9va1VybCA9IGF3YWl0IGdldFRlbG55eFdlYmhvb2tVcmwoY29tcGFueUlkKTtcblx0XHRpZiAoIXdlYmhvb2tVcmwpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoXCLinYwgTm8gd2ViaG9vayBVUkxcIik7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6XG5cdFx0XHRcdFx0XCJTaXRlIFVSTCBpcyBub3QgY29uZmlndXJlZC4gU2V0IE5FWFRfUFVCTElDX1NJVEVfVVJMIG9yIFNJVEVfVVJMIHRvIGEgcHVibGljIGh0dHBzIGRvbWFpbi5cIixcblx0XHRcdH07XG5cdFx0fVxuXHRcdGNvbnNvbGUubG9nKFwi4pyFIFdlYmhvb2sgVVJMOlwiLCB3ZWJob29rVXJsKTtcblxuXHRcdC8vIFNlbmQgU01TIHZpYSBUZWxueXhcblx0XHRjb25zb2xlLmxvZyhcIvCfk6QgU2VuZGluZyBTTVMgdmlhIFRlbG55eCBBUEkuLi5cIik7XG5cdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgc2VuZFNNUyh7XG5cdFx0XHR0bzogdG9BZGRyZXNzLFxuXHRcdFx0ZnJvbTogZnJvbUFkZHJlc3MsXG5cdFx0XHR0ZXh0OiBwYXJhbXMudGV4dCxcblx0XHRcdHdlYmhvb2tVcmwsXG5cdFx0XHRtZXNzYWdpbmdQcm9maWxlSWQsXG5cdFx0fSk7XG5cblx0XHRpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKFwi4p2MIFRlbG55eCBBUEkgZmFpbGVkOlwiLCByZXN1bHQuZXJyb3IpO1xuXG5cdFx0XHQvLyBDaGVjayBpZiBlcnJvciBpcyAxMERMQyByZWdpc3RyYXRpb24gcmVxdWlyZWRcblx0XHRcdGlmIChcblx0XHRcdFx0cmVzdWx0LmVycm9yICYmXG5cdFx0XHRcdChyZXN1bHQuZXJyb3IuaW5jbHVkZXMoXCIxMERMQ1wiKSB8fFxuXHRcdFx0XHRcdHJlc3VsdC5lcnJvci5pbmNsdWRlcyhcIk5vdCAxMERMQyByZWdpc3RlcmVkXCIpIHx8XG5cdFx0XHRcdFx0cmVzdWx0LmVycm9yLmluY2x1ZGVzKFwiQTJQXCIpKVxuXHRcdFx0KSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKFxuXHRcdFx0XHRcdFwi8J+UhCBEZXRlY3RlZCAxMERMQyByZWdpc3RyYXRpb24gcmVxdWlyZWQsIGF0dGVtcHRpbmcgYXV0by1yZWdpc3RyYXRpb24uLi5cIixcblx0XHRcdFx0KTtcblxuXHRcdFx0XHQvLyBJbXBvcnQgMTBETEMgcmVnaXN0cmF0aW9uIGZ1bmN0aW9uXG5cdFx0XHRcdGNvbnN0IHsgcmVnaXN0ZXJDb21wYW55Rm9yMTBETEMgfSA9IGF3YWl0IGltcG9ydChcblx0XHRcdFx0XHRcIkAvYWN0aW9ucy90ZW4tZGxjLXJlZ2lzdHJhdGlvblwiXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0Y29uc3QgcmVnaXN0cmF0aW9uUmVzdWx0ID0gYXdhaXQgcmVnaXN0ZXJDb21wYW55Rm9yMTBETEMoXG5cdFx0XHRcdFx0Y29tcGFueUlkLFxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdGlmIChyZWdpc3RyYXRpb25SZXN1bHQuc3VjY2Vzcykge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKFwi4pyFIDEwRExDIHJlZ2lzdHJhdGlvbiBzdWNjZXNzZnVsLCByZXRyeWluZyBTTVMgc2VuZC4uLlwiKTtcblxuXHRcdFx0XHRcdC8vIFJldHJ5IHRoZSBTTVMgc2VuZCBub3cgdGhhdCAxMERMQyBpcyByZWdpc3RlcmVkXG5cdFx0XHRcdFx0Y29uc3QgcmV0cnlSZXN1bHQgPSBhd2FpdCBzZW5kU01TKHtcblx0XHRcdFx0XHRcdHRvOiB0b0FkZHJlc3MsXG5cdFx0XHRcdFx0XHRmcm9tOiBmcm9tQWRkcmVzcyxcblx0XHRcdFx0XHRcdHRleHQ6IHBhcmFtcy50ZXh0LFxuXHRcdFx0XHRcdFx0d2ViaG9va1VybCxcblx0XHRcdFx0XHRcdG1lc3NhZ2luZ1Byb2ZpbGVJZCxcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdGlmICghcmV0cnlSZXN1bHQuc3VjY2Vzcykge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdGVycm9yOiBgMTBETEMgcmVnaXN0cmF0aW9uIGNvbXBsZXRlZCBidXQgU01TIHN0aWxsIGZhaWxlZDogJHtyZXRyeVJlc3VsdC5lcnJvcn0uIFRoZSBjYW1wYWlnbiBtYXkgbmVlZCBhZGRpdGlvbmFsIGFwcHJvdmFsIHRpbWUuYCxcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gVXBkYXRlIHJlc3VsdCB3aXRoIHJldHJ5IHN1Y2Nlc3Ncblx0XHRcdFx0XHRyZXN1bHQuc3VjY2VzcyA9IHRydWU7XG5cdFx0XHRcdFx0cmVzdWx0Lm1lc3NhZ2VJZCA9IHJldHJ5UmVzdWx0Lm1lc3NhZ2VJZDtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIuKchSBTTVMgcmV0cnkgc3VjY2Vzc2Z1bCBhZnRlciAxMERMQyByZWdpc3RyYXRpb25cIik7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRcdFx0ZXJyb3I6IGAxMERMQyByZWdpc3RyYXRpb24gZmFpbGVkOiAke3JlZ2lzdHJhdGlvblJlc3VsdC5lcnJvcn0uIE9yaWdpbmFsIGVycm9yOiAke3Jlc3VsdC5lcnJvcn1gLFxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGNvbnNvbGUubG9nKFwi4pyFIFRlbG55eCBBUEkgc3VjY2VzczpcIiwgcmVzdWx0Lm1lc3NhZ2VJZCk7XG5cblx0XHQvLyBDcmVhdGUgY29tbXVuaWNhdGlvbiByZWNvcmRcblx0XHRjb25zb2xlLmxvZyhcIvCfkr4gQ3JlYXRpbmcgY29tbXVuaWNhdGlvbiByZWNvcmQgaW4gZGF0YWJhc2UuLi5cIik7XG5cdFx0Y29uc3QgcGhvbmVOdW1iZXJJZCA9IGF3YWl0IGdldFBob25lTnVtYmVySWQoc3VwYWJhc2UsIGZyb21BZGRyZXNzKTtcblx0XHRjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjb21tdW5pY2F0aW9uc1wiKVxuXHRcdFx0Lmluc2VydCh7XG5cdFx0XHRcdGNvbXBhbnlfaWQ6IGNvbXBhbnlJZCxcblx0XHRcdFx0Y3VzdG9tZXJfaWQ6IHBhcmFtcy5jdXN0b21lcklkLFxuXHRcdFx0XHRqb2JfaWQ6IHBhcmFtcy5qb2JJZCA/PyBudWxsLFxuXHRcdFx0XHRpbnZvaWNlX2lkOiBwYXJhbXMuaW52b2ljZUlkID8/IG51bGwsXG5cdFx0XHRcdGVzdGltYXRlX2lkOiBwYXJhbXMuZXN0aW1hdGVJZCA/PyBudWxsLFxuXHRcdFx0XHR0eXBlOiBcInNtc1wiLFxuXHRcdFx0XHRjaGFubmVsOiBcInRlbG55eFwiLFxuXHRcdFx0XHRkaXJlY3Rpb246IFwib3V0Ym91bmRcIixcblx0XHRcdFx0ZnJvbV9hZGRyZXNzOiBmcm9tQWRkcmVzcyxcblx0XHRcdFx0dG9fYWRkcmVzczogdG9BZGRyZXNzLFxuXHRcdFx0XHRib2R5OiBwYXJhbXMudGV4dCxcblx0XHRcdFx0c3RhdHVzOiBcInF1ZXVlZFwiLFxuXHRcdFx0XHRwcmlvcml0eTogXCJub3JtYWxcIixcblx0XHRcdFx0cGhvbmVfbnVtYmVyX2lkOiBwaG9uZU51bWJlcklkLFxuXHRcdFx0XHRpc19hcmNoaXZlZDogZmFsc2UsXG5cdFx0XHRcdGlzX2F1dG9tYXRlZDogZmFsc2UsXG5cdFx0XHRcdGlzX2ludGVybmFsOiBmYWxzZSxcblx0XHRcdFx0aXNfdGhyZWFkX3N0YXJ0ZXI6IHRydWUsXG5cdFx0XHRcdHRlbG55eF9tZXNzYWdlX2lkOiByZXN1bHQubWVzc2FnZUlkLFxuXHRcdFx0fSlcblx0XHRcdC5zZWxlY3QoKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvY29tbXVuaWNhdGlvblwiKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0bWVzc2FnZUlkOiByZXN1bHQubWVzc2FnZUlkLFxuXHRcdFx0ZGF0YSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoXCJTTVMgc2VuZCBlcnJvcjpcIiwgZXJyb3IpO1xuXHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBkZXRhaWxzOlwiLCB7XG5cdFx0XHRtZXNzYWdlOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvciksXG5cdFx0XHRzdGFjazogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLnN0YWNrIDogdW5kZWZpbmVkLFxuXHRcdFx0dHlwZTogdHlwZW9mIGVycm9yLFxuXHRcdFx0c3RyaW5naWZpZWQ6IEpTT04uc3RyaW5naWZ5KGVycm9yLCBudWxsLCAyKSxcblx0XHR9KTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogYEZhaWxlZCB0byBzZW5kIFNNUzogJHtTdHJpbmcoZXJyb3IpfWAsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIFNlbmQgYW4gTU1TIG1lc3NhZ2Ugd2l0aCBtZWRpYVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZE1NU01lc3NhZ2UocGFyYW1zOiB7XG5cdHRvOiBzdHJpbmc7XG5cdGZyb206IHN0cmluZztcblx0dGV4dD86IHN0cmluZztcblx0bWVkaWFVcmxzOiBzdHJpbmdbXTtcblx0Y29tcGFueUlkPzogc3RyaW5nOyAvLyBPcHRpb25hbCAtIHdpbGwgYmUgZmV0Y2hlZCBpZiBub3QgcHJvdmlkZWRcblx0Y3VzdG9tZXJJZD86IHN0cmluZztcblx0am9iSWQ/OiBzdHJpbmc7XG5cdHByb3BlcnR5SWQ/OiBzdHJpbmc7XG5cdGludm9pY2VJZD86IHN0cmluZztcblx0ZXN0aW1hdGVJZD86IHN0cmluZztcbn0pIHtcblx0dHJ5IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJTZXJ2aWNlIHVuYXZhaWxhYmxlXCIgfTtcblx0XHR9XG5cblx0XHQvLyBHZXQgY29tcGFueSBJRCBpZiBub3QgcHJvdmlkZWRcblx0XHRsZXQgY29tcGFueUlkID0gcGFyYW1zLmNvbXBhbnlJZDtcblx0XHRpZiAoIWNvbXBhbnlJZCkge1xuXHRcdFx0Y29uc3QgeyBnZXRBY3RpdmVDb21wYW55SWQgfSA9IGF3YWl0IGltcG9ydChcIkAvbGliL2F1dGgvY29tcGFueS1jb250ZXh0XCIpO1xuXHRcdFx0Y29tcGFueUlkID0gYXdhaXQgZ2V0QWN0aXZlQ29tcGFueUlkKCk7XG5cdFx0XHRpZiAoIWNvbXBhbnlJZCkge1xuXHRcdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm8gYWN0aXZlIGNvbXBhbnkgZm91bmRcIiB9O1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGNvbnN0IGNvbXBhbnlTZXR0aW5ncyA9IGF3YWl0IGdldENvbXBhbnlUZWxueXhTZXR0aW5ncyhcblx0XHRcdHN1cGFiYXNlLFxuXHRcdFx0Y29tcGFueUlkLFxuXHRcdCk7XG5cdFx0aWYgKCFjb21wYW55U2V0dGluZ3MpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjpcblx0XHRcdFx0XHRcIlVuYWJsZSB0byBwcm92aXNpb24gVGVsbnl4IHJlc291cmNlcyBmb3IgdGhpcyBjb21wYW55LiBQbGVhc2UgdmVyaWZ5IG9uYm9hcmRpbmcgaXMgY29tcGxldGUuXCIsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGF3YWl0IGVuc3VyZVBob25lTnVtYmVyUmVjb3JkRXhpc3RzKFxuXHRcdFx0c3VwYWJhc2UsXG5cdFx0XHRjb21wYW55SWQsXG5cdFx0XHRjb21wYW55U2V0dGluZ3MuZGVmYXVsdF9vdXRib3VuZF9udW1iZXIsXG5cdFx0KTtcblxuXHRcdGNvbnN0IHNtc0NvbmZpZyA9IGF3YWl0IHZhbGlkYXRlU21zQ29uZmlnKCk7XG5cdFx0aWYgKCFzbXNDb25maWcudmFsaWQgJiYgIWNvbXBhbnlTZXR0aW5ncy5tZXNzYWdpbmdfcHJvZmlsZV9pZCkge1xuXHRcdFx0bGV0IGVycm9yTWVzc2FnZSA9IHNtc0NvbmZpZy5lcnJvciB8fCBcIlNNUyBjb25maWd1cmF0aW9uIGlzIGludmFsaWRcIjtcblx0XHRcdGlmIChzbXNDb25maWcuc3VnZ2VzdGVkUHJvZmlsZUlkKSB7XG5cdFx0XHRcdGVycm9yTWVzc2FnZSArPSBgIEZvdW5kIG1lc3NhZ2luZyBwcm9maWxlIFwiJHtzbXNDb25maWcuc3VnZ2VzdGVkUHJvZmlsZUlkfVwiIGluIHlvdXIgVGVsbnl4IGFjY291bnQuIFNldCBURUxOWVhfREVGQVVMVF9NRVNTQUdJTkdfUFJPRklMRV9JRD0ke3Ntc0NvbmZpZy5zdWdnZXN0ZWRQcm9maWxlSWR9IG9yIHJlcHJvdmlzaW9uIHRoZSBjb21wYW55LmA7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGVycm9yTWVzc2FnZSxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Y29uc3QgbWVzc2FnaW5nUHJvZmlsZUlkID1cblx0XHRcdGNvbXBhbnlTZXR0aW5ncy5tZXNzYWdpbmdfcHJvZmlsZV9pZCB8fCBERUZBVUxUX01FU1NBR0lOR19QUk9GSUxFX0lEO1xuXHRcdGlmICghbWVzc2FnaW5nUHJvZmlsZUlkKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6XG5cdFx0XHRcdFx0XCJNZXNzYWdpbmcgcHJvZmlsZSBpcyBub3QgY29uZmlndXJlZCBmb3IgdGhpcyBjb21wYW55LiBQbGVhc2UgcHJvdmlzaW9uIGNvbW11bmljYXRpb25zIGJlZm9yZSBzZW5kaW5nIE1NUy5cIixcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Y29uc3QgZnJvbUFkZHJlc3MgPSBhd2FpdCByZXNvbHZlT3V0Ym91bmRQaG9uZU51bWJlcihcblx0XHRcdHN1cGFiYXNlLFxuXHRcdFx0Y29tcGFueUlkLFxuXHRcdFx0cGFyYW1zLmZyb20sXG5cdFx0XHRjb21wYW55U2V0dGluZ3MuZGVmYXVsdF9vdXRib3VuZF9udW1iZXIsXG5cdFx0KTtcblx0XHRpZiAoIWZyb21BZGRyZXNzKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6XG5cdFx0XHRcdFx0XCJDb21wYW55IGRvZXMgbm90IGhhdmUgYSBkZWZhdWx0IG91dGJvdW5kIHBob25lIG51bWJlciBjb25maWd1cmVkLlwiLFxuXHRcdFx0fTtcblx0XHR9XG5cdFx0Y29uc3QgdG9BZGRyZXNzID0gbm9ybWFsaXplUGhvbmVOdW1iZXIocGFyYW1zLnRvKTtcblxuXHRcdGNvbnN0IHdlYmhvb2tVcmwgPSBhd2FpdCBnZXRUZWxueXhXZWJob29rVXJsKGNvbXBhbnlJZCk7XG5cdFx0aWYgKCF3ZWJob29rVXJsKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6XG5cdFx0XHRcdFx0XCJTaXRlIFVSTCBpcyBub3QgY29uZmlndXJlZC4gU2V0IE5FWFRfUFVCTElDX1NJVEVfVVJMIG9yIFNJVEVfVVJMIHRvIGEgcHVibGljIGh0dHBzIGRvbWFpbi5cIixcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKG1lc3NhZ2luZ1Byb2ZpbGVJZCkge1xuXHRcdFx0Y29uc3QgbWVzc2FnaW5nUHJvZmlsZVN0YXR1cyA9XG5cdFx0XHRcdGF3YWl0IHZlcmlmeU1lc3NhZ2luZ1Byb2ZpbGUobWVzc2FnaW5nUHJvZmlsZUlkKTtcblx0XHRcdGlmIChtZXNzYWdpbmdQcm9maWxlU3RhdHVzLm5lZWRzRml4KSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdFx0ZXJyb3I6IGBNZXNzYWdpbmcgcHJvZmlsZSBjb25maWd1cmF0aW9uIGlzc3VlOiAke21lc3NhZ2luZ1Byb2ZpbGVTdGF0dXMuaXNzdWVzLmpvaW4oXCIsIFwiKX0uIFJ1biBmaXhNZXNzYWdpbmdQcm9maWxlKCkgb3IgcmVwcm92aXNpb24gdGhlIGNvbXBhbnkuYCxcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRjb25zdCBzbXNDYXBhYmlsaXR5ID0gYXdhaXQgdmVyaWZ5U21zQ2FwYWJpbGl0eShmcm9tQWRkcmVzcyk7XG5cdFx0aWYgKCFzbXNDYXBhYmlsaXR5Lmhhc1Ntcykge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOiBzbXNDYXBhYmlsaXR5LmVycm9yIHx8IFwiUGhvbmUgbnVtYmVyIGRvZXMgbm90IHN1cHBvcnQgU01TL01NU1wiLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kTU1TKHtcblx0XHRcdHRvOiB0b0FkZHJlc3MsXG5cdFx0XHRmcm9tOiBmcm9tQWRkcmVzcyxcblx0XHRcdHRleHQ6IHBhcmFtcy50ZXh0LFxuXHRcdFx0bWVkaWFVcmxzOiBwYXJhbXMubWVkaWFVcmxzLFxuXHRcdFx0d2ViaG9va1VybCxcblx0XHRcdG1lc3NhZ2luZ1Byb2ZpbGVJZCxcblx0XHR9KTtcblxuXHRcdGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fVxuXG5cdFx0Y29uc3QgcGhvbmVOdW1iZXJJZCA9IGF3YWl0IGdldFBob25lTnVtYmVySWQoc3VwYWJhc2UsIGZyb21BZGRyZXNzKTtcblx0XHRjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjb21tdW5pY2F0aW9uc1wiKVxuXHRcdFx0Lmluc2VydCh7XG5cdFx0XHRcdGNvbXBhbnlfaWQ6IGNvbXBhbnlJZCxcblx0XHRcdFx0Y3VzdG9tZXJfaWQ6IHBhcmFtcy5jdXN0b21lcklkLFxuXHRcdFx0XHRqb2JfaWQ6IHBhcmFtcy5qb2JJZCA/PyBudWxsLFxuXHRcdFx0XHRwcm9wZXJ0eV9pZDogcGFyYW1zLnByb3BlcnR5SWQgPz8gbnVsbCxcblx0XHRcdFx0aW52b2ljZV9pZDogcGFyYW1zLmludm9pY2VJZCA/PyBudWxsLFxuXHRcdFx0XHRlc3RpbWF0ZV9pZDogcGFyYW1zLmVzdGltYXRlSWQgPz8gbnVsbCxcblx0XHRcdFx0dHlwZTogXCJzbXNcIixcblx0XHRcdFx0Y2hhbm5lbDogXCJ0ZWxueXhcIixcblx0XHRcdFx0ZGlyZWN0aW9uOiBcIm91dGJvdW5kXCIsXG5cdFx0XHRcdGZyb21fYWRkcmVzczogZnJvbUFkZHJlc3MsXG5cdFx0XHRcdHRvX2FkZHJlc3M6IHRvQWRkcmVzcyxcblx0XHRcdFx0Ym9keTogcGFyYW1zLnRleHQgfHwgXCJcIixcblx0XHRcdFx0YXR0YWNobWVudHM6IHBhcmFtcy5tZWRpYVVybHMubWFwKCh1cmwpID0+ICh7IHVybCwgdHlwZTogXCJpbWFnZVwiIH0pKSxcblx0XHRcdFx0YXR0YWNobWVudF9jb3VudDogcGFyYW1zLm1lZGlhVXJscy5sZW5ndGgsXG5cdFx0XHRcdHN0YXR1czogXCJxdWV1ZWRcIixcblx0XHRcdFx0cHJpb3JpdHk6IFwibm9ybWFsXCIsXG5cdFx0XHRcdHBob25lX251bWJlcl9pZDogcGhvbmVOdW1iZXJJZCxcblx0XHRcdFx0aXNfYXJjaGl2ZWQ6IGZhbHNlLFxuXHRcdFx0XHRpc19hdXRvbWF0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRpc19pbnRlcm5hbDogZmFsc2UsXG5cdFx0XHRcdGlzX3RocmVhZF9zdGFydGVyOiB0cnVlLFxuXHRcdFx0XHR0ZWxueXhfbWVzc2FnZV9pZDogcmVzdWx0Lm1lc3NhZ2VJZCxcblx0XHRcdH0pXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL2NvbW11bmljYXRpb25cIik7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdG1lc3NhZ2VJZDogcmVzdWx0Lm1lc3NhZ2VJZCxcblx0XHRcdGRhdGEsXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byBzZW5kIE1NU1wiLFxuXHRcdH07XG5cdH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gV0VCUlRDIE9QRVJBVElPTlMgQUNUSU9OU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIEdlbmVyYXRlIFdlYlJUQyBjcmVkZW50aWFscyBmb3IgYnJvd3NlciBjYWxsaW5nXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRXZWJSVENDcmVkZW50aWFscygpIHtcblx0dHJ5IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJTZXJ2aWNlIHVuYXZhaWxhYmxlXCIgfTtcblx0XHR9XG5cblx0XHQvLyBHZXQgY3VycmVudCB1c2VyXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0XHRlcnJvcjogdXNlckVycm9yLFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblx0XHRpZiAodXNlckVycm9yIHx8ICF1c2VyKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IFwiVXNlciBub3QgYXV0aGVudGljYXRlZFwiLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBPUFRJT04gMTogVXNlIHN0YXRpYyBjcmVkZW50aWFscyBmcm9tIGVudmlyb25tZW50IChyZWNvbW1lbmRlZCBmb3IgcHJvZHVjdGlvbilcblx0XHRjb25zdCBzdGF0aWNVc2VybmFtZSA9IHByb2Nlc3MuZW52LlRFTE5ZWF9XRUJSVENfVVNFUk5BTUU7XG5cdFx0Y29uc3Qgc3RhdGljUGFzc3dvcmQgPSBwcm9jZXNzLmVudi5URUxOWVhfV0VCUlRDX1BBU1NXT1JEO1xuXG5cdFx0aWYgKHN0YXRpY1VzZXJuYW1lICYmIHN0YXRpY1Bhc3N3b3JkKSB7XG5cdFx0XHRjb25zdCBjcmVkZW50aWFsID0ge1xuXHRcdFx0XHR1c2VybmFtZTogc3RhdGljVXNlcm5hbWUsXG5cdFx0XHRcdHBhc3N3b3JkOiBzdGF0aWNQYXNzd29yZCxcblx0XHRcdFx0ZXhwaXJlc19hdDogRGF0ZS5ub3coKSArIDg2XzQwMCAqIDEwMDAsIC8vIDI0IGhvdXJzIGZyb20gbm93XG5cdFx0XHRcdHJlYWxtOiBcInNpcC50ZWxueXguY29tXCIsXG5cdFx0XHRcdHNpcF91cmk6IGBzaXA6JHtzdGF0aWNVc2VybmFtZX1Ac2lwLnRlbG55eC5jb21gLFxuXHRcdFx0XHRzdHVuX3NlcnZlcnM6IFtcblx0XHRcdFx0XHRcInN0dW46c3R1bi50ZWxueXguY29tOjM0NzhcIixcblx0XHRcdFx0XHRcInN0dW46c3R1bi50ZWxueXguY29tOjM0NzlcIixcblx0XHRcdFx0XSxcblx0XHRcdFx0dHVybl9zZXJ2ZXJzOiBbXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0dXJsczogW1xuXHRcdFx0XHRcdFx0XHRcInR1cm46dHVybi50ZWxueXguY29tOjM0Nzg/dHJhbnNwb3J0PXVkcFwiLFxuXHRcdFx0XHRcdFx0XHRcInR1cm46dHVybi50ZWxueXguY29tOjM0Nzg/dHJhbnNwb3J0PXRjcFwiLFxuXHRcdFx0XHRcdFx0XSxcblx0XHRcdFx0XHRcdHVzZXJuYW1lOiBzdGF0aWNVc2VybmFtZSxcblx0XHRcdFx0XHRcdGNyZWRlbnRpYWw6IHN0YXRpY1Bhc3N3b3JkLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdF0sXG5cdFx0XHR9O1xuXG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0XHRjcmVkZW50aWFsLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRjb25zdCB7IGdlbmVyYXRlV2ViUlRDVG9rZW4gfSA9IGF3YWl0IGltcG9ydChcIkAvbGliL3RlbG55eC93ZWJydGNcIik7XG5cdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgZ2VuZXJhdGVXZWJSVENUb2tlbih7XG5cdFx0XHR1c2VybmFtZTogdXNlci5lbWFpbCB8fCB1c2VyLmlkLFxuXHRcdFx0dHRsOiA4Nl80MDAsIC8vIDI0IGhvdXJzXG5cdFx0fSk7XG5cblx0XHRpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0Y3JlZGVudGlhbDogcmVzdWx0LmNyZWRlbnRpYWwsXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gZ2V0IFdlYlJUQyBjcmVkZW50aWFsc1wiLFxuXHRcdH07XG5cdH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gVk9JQ0VNQUlMIE9QRVJBVElPTlMgQUNUSU9OU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIEdldCBhbGwgdm9pY2VtYWlscyBmb3IgYSBjb21wYW55XG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldFZvaWNlbWFpbHMoY29tcGFueUlkOiBzdHJpbmcpIHtcblx0dHJ5IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJTZXJ2aWNlIHVuYXZhaWxhYmxlXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJ2b2ljZW1haWxzXCIpXG5cdFx0XHQuc2VsZWN0KFxuXHRcdFx0XHRgXG4gICAgICAgICosXG4gICAgICAgIGN1c3RvbWVyOmN1c3RvbWVycyhpZCwgZmlyc3RfbmFtZSwgbGFzdF9uYW1lLCBlbWFpbCwgcGhvbmUpLFxuICAgICAgICBwaG9uZV9udW1iZXI6cGhvbmVfbnVtYmVycyhwaG9uZV9udW1iZXIsIGZvcm1hdHRlZF9udW1iZXIpXG4gICAgICBgLFxuXHRcdFx0KVxuXHRcdFx0LmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpXG5cdFx0XHQuaXMoXCJkZWxldGVkX2F0XCIsIG51bGwpXG5cdFx0XHQub3JkZXIoXCJyZWNlaXZlZF9hdFwiLCB7IGFzY2VuZGluZzogZmFsc2UgfSk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0ZGF0YTogZGF0YSB8fCBbXSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiRmFpbGVkIHRvIGdldCB2b2ljZW1haWxzXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIE1hcmsgdm9pY2VtYWlsIGFzIHJlYWRcbiAqL1xuYXN5bmMgZnVuY3Rpb24gbWFya1ZvaWNlbWFpbEFzUmVhZCh2b2ljZW1haWxJZDogc3RyaW5nLCB1c2VySWQ6IHN0cmluZykge1xuXHR0cnkge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cdFx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlNlcnZpY2UgdW5hdmFpbGFibGVcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcInZvaWNlbWFpbHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRpc19yZWFkOiB0cnVlLFxuXHRcdFx0XHRyZWFkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG5cdFx0XHRcdHJlYWRfYnk6IHVzZXJJZCxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCB2b2ljZW1haWxJZClcblx0XHRcdC5zZWxlY3QoKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvY29tbXVuaWNhdGlvblwiKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0ZGF0YSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byBtYXJrIHZvaWNlbWFpbCBhcyByZWFkXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIERlbGV0ZSB2b2ljZW1haWxcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZGVsZXRlVm9pY2VtYWlsKHZvaWNlbWFpbElkOiBzdHJpbmcsIHVzZXJJZDogc3RyaW5nKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiU2VydmljZSB1bmF2YWlsYWJsZVwiIH07XG5cdFx0fVxuXG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwidm9pY2VtYWlsc1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdGRlbGV0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdFx0ZGVsZXRlZF9ieTogdXNlcklkLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHZvaWNlbWFpbElkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL2NvbW11bmljYXRpb25cIik7XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gZGVsZXRlIHZvaWNlbWFpbFwiLFxuXHRcdH07XG5cdH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gQ0FMTCBST1VUSU5HIFJVTEVTIEFDVElPTlNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBHZXQgYWxsIGNhbGwgcm91dGluZyBydWxlcyBmb3IgYSBjb21wYW55XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDYWxsUm91dGluZ1J1bGVzKGNvbXBhbnlJZDogc3RyaW5nKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiU2VydmljZSB1bmF2YWlsYWJsZVwiIH07XG5cdFx0fVxuXG5cdFx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiY2FsbF9yb3V0aW5nX3J1bGVzXCIpXG5cdFx0XHQuc2VsZWN0KFxuXHRcdFx0XHRgXG4gICAgICAgICosXG4gICAgICAgIGNyZWF0ZWRfYnlfdXNlcjp1c2VycyFjYWxsX3JvdXRpbmdfcnVsZXNfY3JlYXRlZF9ieV9ma2V5KGlkLCBuYW1lLCBlbWFpbCksXG4gICAgICAgIGZvcndhcmRfdG9fdXNlcjp1c2VycyFjYWxsX3JvdXRpbmdfcnVsZXNfZm9yd2FyZF90b191c2VyX2lkX2ZrZXkoaWQsIG5hbWUsIGVtYWlsKVxuICAgICAgYCxcblx0XHRcdClcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgY29tcGFueUlkKVxuXHRcdFx0LmlzKFwiZGVsZXRlZF9hdFwiLCBudWxsKVxuXHRcdFx0Lm9yZGVyKFwicHJpb3JpdHlcIiwgeyBhc2NlbmRpbmc6IGZhbHNlIH0pO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdGRhdGE6IGRhdGEgfHwgW10sXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gZ2V0IGNhbGwgcm91dGluZyBydWxlc1wiLFxuXHRcdH07XG5cdH1cbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgY2FsbCByb3V0aW5nIHJ1bGVcbiAqL1xuYXN5bmMgZnVuY3Rpb24gY3JlYXRlQ2FsbFJvdXRpbmdSdWxlKHBhcmFtczoge1xuXHRjb21wYW55SWQ6IHN0cmluZztcblx0dXNlcklkOiBzdHJpbmc7XG5cdG5hbWU6IHN0cmluZztcblx0ZGVzY3JpcHRpb24/OiBzdHJpbmc7XG5cdHJvdXRpbmdUeXBlOlxuXHRcdHwgXCJkaXJlY3RcIlxuXHRcdHwgXCJyb3VuZF9yb2JpblwiXG5cdFx0fCBcIml2clwiXG5cdFx0fCBcImJ1c2luZXNzX2hvdXJzXCJcblx0XHR8IFwiY29uZGl0aW9uYWxcIjtcblx0cHJpb3JpdHk/OiBudW1iZXI7XG5cdGJ1c2luZXNzSG91cnM/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblx0dGltZXpvbmU/OiBzdHJpbmc7XG5cdGFmdGVySG91cnNBY3Rpb24/OiBcInZvaWNlbWFpbFwiIHwgXCJmb3J3YXJkXCIgfCBcImhhbmd1cFwiO1xuXHRhZnRlckhvdXJzRm9yd2FyZFRvPzogc3RyaW5nO1xuXHR0ZWFtTWVtYmVycz86IHN0cmluZ1tdO1xuXHRyaW5nVGltZW91dD86IG51bWJlcjtcblx0aXZyTWVudT86IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuXHRpdnJHcmVldGluZ1VybD86IHN0cmluZztcblx0Zm9yd2FyZFRvTnVtYmVyPzogc3RyaW5nO1xuXHRmb3J3YXJkVG9Vc2VySWQ/OiBzdHJpbmc7XG5cdGVuYWJsZVZvaWNlbWFpbD86IGJvb2xlYW47XG5cdHZvaWNlbWFpbEdyZWV0aW5nVXJsPzogc3RyaW5nO1xuXHR2b2ljZW1haWxUcmFuc2NyaXB0aW9uRW5hYmxlZD86IGJvb2xlYW47XG5cdHZvaWNlbWFpbEVtYWlsTm90aWZpY2F0aW9ucz86IGJvb2xlYW47XG5cdHJlY29yZENhbGxzPzogYm9vbGVhbjtcbn0pIHtcblx0dHJ5IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJTZXJ2aWNlIHVuYXZhaWxhYmxlXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjYWxsX3JvdXRpbmdfcnVsZXNcIilcblx0XHRcdC5pbnNlcnQoe1xuXHRcdFx0XHRjb21wYW55X2lkOiBwYXJhbXMuY29tcGFueUlkLFxuXHRcdFx0XHRjcmVhdGVkX2J5OiBwYXJhbXMudXNlcklkLFxuXHRcdFx0XHRuYW1lOiBwYXJhbXMubmFtZSxcblx0XHRcdFx0ZGVzY3JpcHRpb246IHBhcmFtcy5kZXNjcmlwdGlvbixcblx0XHRcdFx0cm91dGluZ190eXBlOiBwYXJhbXMucm91dGluZ1R5cGUsXG5cdFx0XHRcdHByaW9yaXR5OiBwYXJhbXMucHJpb3JpdHkgfHwgMCxcblx0XHRcdFx0YnVzaW5lc3NfaG91cnM6IHBhcmFtcy5idXNpbmVzc0hvdXJzLFxuXHRcdFx0XHR0aW1lem9uZTogcGFyYW1zLnRpbWV6b25lIHx8IFwiQW1lcmljYS9Mb3NfQW5nZWxlc1wiLFxuXHRcdFx0XHRhZnRlcl9ob3Vyc19hY3Rpb246IHBhcmFtcy5hZnRlckhvdXJzQWN0aW9uLFxuXHRcdFx0XHRhZnRlcl9ob3Vyc19mb3J3YXJkX3RvOiBwYXJhbXMuYWZ0ZXJIb3Vyc0ZvcndhcmRUbyxcblx0XHRcdFx0dGVhbV9tZW1iZXJzOiBwYXJhbXMudGVhbU1lbWJlcnMsXG5cdFx0XHRcdHJpbmdfdGltZW91dDogcGFyYW1zLnJpbmdUaW1lb3V0IHx8IDIwLFxuXHRcdFx0XHRpdnJfbWVudTogcGFyYW1zLml2ck1lbnUsXG5cdFx0XHRcdGl2cl9ncmVldGluZ191cmw6IHBhcmFtcy5pdnJHcmVldGluZ1VybCxcblx0XHRcdFx0Zm9yd2FyZF90b19udW1iZXI6IHBhcmFtcy5mb3J3YXJkVG9OdW1iZXIsXG5cdFx0XHRcdGZvcndhcmRfdG9fdXNlcl9pZDogcGFyYW1zLmZvcndhcmRUb1VzZXJJZCxcblx0XHRcdFx0ZW5hYmxlX3ZvaWNlbWFpbDogcGFyYW1zLmVuYWJsZVZvaWNlbWFpbCAhPT0gZmFsc2UsXG5cdFx0XHRcdHZvaWNlbWFpbF9ncmVldGluZ191cmw6IHBhcmFtcy52b2ljZW1haWxHcmVldGluZ1VybCxcblx0XHRcdFx0dm9pY2VtYWlsX3RyYW5zY3JpcHRpb25fZW5hYmxlZDpcblx0XHRcdFx0XHRwYXJhbXMudm9pY2VtYWlsVHJhbnNjcmlwdGlvbkVuYWJsZWQgIT09IGZhbHNlLFxuXHRcdFx0XHR2b2ljZW1haWxfZW1haWxfbm90aWZpY2F0aW9uczpcblx0XHRcdFx0XHRwYXJhbXMudm9pY2VtYWlsRW1haWxOb3RpZmljYXRpb25zICE9PSBmYWxzZSxcblx0XHRcdFx0cmVjb3JkX2NhbGxzOiBwYXJhbXMucmVjb3JkQ2FsbHMsXG5cdFx0XHRcdGlzX2FjdGl2ZTogdHJ1ZSxcblx0XHRcdH0pXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL3NldHRpbmdzL2NvbW11bmljYXRpb25zL2NhbGwtcm91dGluZ1wiKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0ZGF0YSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byBjcmVhdGUgY2FsbCByb3V0aW5nIHJ1bGVcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogVXBkYXRlIGFuIGV4aXN0aW5nIGNhbGwgcm91dGluZyBydWxlXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVDYWxsUm91dGluZ1J1bGUocGFyYW1zOiB7XG5cdHJ1bGVJZDogc3RyaW5nO1xuXHRuYW1lPzogc3RyaW5nO1xuXHRkZXNjcmlwdGlvbj86IHN0cmluZztcblx0cHJpb3JpdHk/OiBudW1iZXI7XG5cdGJ1c2luZXNzSG91cnM/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblx0dGltZXpvbmU/OiBzdHJpbmc7XG5cdGFmdGVySG91cnNBY3Rpb24/OiBcInZvaWNlbWFpbFwiIHwgXCJmb3J3YXJkXCIgfCBcImhhbmd1cFwiO1xuXHRhZnRlckhvdXJzRm9yd2FyZFRvPzogc3RyaW5nO1xuXHR0ZWFtTWVtYmVycz86IHN0cmluZ1tdO1xuXHRyaW5nVGltZW91dD86IG51bWJlcjtcblx0aXZyTWVudT86IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuXHRpdnJHcmVldGluZ1VybD86IHN0cmluZztcblx0Zm9yd2FyZFRvTnVtYmVyPzogc3RyaW5nO1xuXHRmb3J3YXJkVG9Vc2VySWQ/OiBzdHJpbmc7XG5cdGVuYWJsZVZvaWNlbWFpbD86IGJvb2xlYW47XG5cdHZvaWNlbWFpbEdyZWV0aW5nVXJsPzogc3RyaW5nO1xuXHR2b2ljZW1haWxUcmFuc2NyaXB0aW9uRW5hYmxlZD86IGJvb2xlYW47XG5cdHZvaWNlbWFpbEVtYWlsTm90aWZpY2F0aW9ucz86IGJvb2xlYW47XG5cdHJlY29yZENhbGxzPzogYm9vbGVhbjtcblx0aXNBY3RpdmU/OiBib29sZWFuO1xufSkge1xuXHR0cnkge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cdFx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlNlcnZpY2UgdW5hdmFpbGFibGVcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IHVwZGF0ZURhdGE6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cblx0XHRpZiAocGFyYW1zLm5hbWUgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dXBkYXRlRGF0YS5uYW1lID0gcGFyYW1zLm5hbWU7XG5cdFx0fVxuXHRcdGlmIChwYXJhbXMuZGVzY3JpcHRpb24gIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dXBkYXRlRGF0YS5kZXNjcmlwdGlvbiA9IHBhcmFtcy5kZXNjcmlwdGlvbjtcblx0XHR9XG5cdFx0aWYgKHBhcmFtcy5wcmlvcml0eSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR1cGRhdGVEYXRhLnByaW9yaXR5ID0gcGFyYW1zLnByaW9yaXR5O1xuXHRcdH1cblx0XHRpZiAocGFyYW1zLmJ1c2luZXNzSG91cnMgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dXBkYXRlRGF0YS5idXNpbmVzc19ob3VycyA9IHBhcmFtcy5idXNpbmVzc0hvdXJzO1xuXHRcdH1cblx0XHRpZiAocGFyYW1zLnRpbWV6b25lICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdHVwZGF0ZURhdGEudGltZXpvbmUgPSBwYXJhbXMudGltZXpvbmU7XG5cdFx0fVxuXHRcdGlmIChwYXJhbXMuYWZ0ZXJIb3Vyc0FjdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR1cGRhdGVEYXRhLmFmdGVyX2hvdXJzX2FjdGlvbiA9IHBhcmFtcy5hZnRlckhvdXJzQWN0aW9uO1xuXHRcdH1cblx0XHRpZiAocGFyYW1zLmFmdGVySG91cnNGb3J3YXJkVG8gIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dXBkYXRlRGF0YS5hZnRlcl9ob3Vyc19mb3J3YXJkX3RvID0gcGFyYW1zLmFmdGVySG91cnNGb3J3YXJkVG87XG5cdFx0fVxuXHRcdGlmIChwYXJhbXMudGVhbU1lbWJlcnMgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dXBkYXRlRGF0YS50ZWFtX21lbWJlcnMgPSBwYXJhbXMudGVhbU1lbWJlcnM7XG5cdFx0fVxuXHRcdGlmIChwYXJhbXMucmluZ1RpbWVvdXQgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dXBkYXRlRGF0YS5yaW5nX3RpbWVvdXQgPSBwYXJhbXMucmluZ1RpbWVvdXQ7XG5cdFx0fVxuXHRcdGlmIChwYXJhbXMuaXZyTWVudSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR1cGRhdGVEYXRhLml2cl9tZW51ID0gcGFyYW1zLml2ck1lbnU7XG5cdFx0fVxuXHRcdGlmIChwYXJhbXMuaXZyR3JlZXRpbmdVcmwgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dXBkYXRlRGF0YS5pdnJfZ3JlZXRpbmdfdXJsID0gcGFyYW1zLml2ckdyZWV0aW5nVXJsO1xuXHRcdH1cblx0XHRpZiAocGFyYW1zLmZvcndhcmRUb051bWJlciAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR1cGRhdGVEYXRhLmZvcndhcmRfdG9fbnVtYmVyID0gcGFyYW1zLmZvcndhcmRUb051bWJlcjtcblx0XHR9XG5cdFx0aWYgKHBhcmFtcy5mb3J3YXJkVG9Vc2VySWQgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dXBkYXRlRGF0YS5mb3J3YXJkX3RvX3VzZXJfaWQgPSBwYXJhbXMuZm9yd2FyZFRvVXNlcklkO1xuXHRcdH1cblx0XHRpZiAocGFyYW1zLmVuYWJsZVZvaWNlbWFpbCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR1cGRhdGVEYXRhLmVuYWJsZV92b2ljZW1haWwgPSBwYXJhbXMuZW5hYmxlVm9pY2VtYWlsO1xuXHRcdH1cblx0XHRpZiAocGFyYW1zLnZvaWNlbWFpbEdyZWV0aW5nVXJsICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdHVwZGF0ZURhdGEudm9pY2VtYWlsX2dyZWV0aW5nX3VybCA9IHBhcmFtcy52b2ljZW1haWxHcmVldGluZ1VybDtcblx0XHR9XG5cdFx0aWYgKHBhcmFtcy52b2ljZW1haWxUcmFuc2NyaXB0aW9uRW5hYmxlZCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR1cGRhdGVEYXRhLnZvaWNlbWFpbF90cmFuc2NyaXB0aW9uX2VuYWJsZWQgPVxuXHRcdFx0XHRwYXJhbXMudm9pY2VtYWlsVHJhbnNjcmlwdGlvbkVuYWJsZWQ7XG5cdFx0fVxuXHRcdGlmIChwYXJhbXMudm9pY2VtYWlsRW1haWxOb3RpZmljYXRpb25zICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdHVwZGF0ZURhdGEudm9pY2VtYWlsX2VtYWlsX25vdGlmaWNhdGlvbnMgPVxuXHRcdFx0XHRwYXJhbXMudm9pY2VtYWlsRW1haWxOb3RpZmljYXRpb25zO1xuXHRcdH1cblx0XHRpZiAocGFyYW1zLnJlY29yZENhbGxzICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdHVwZGF0ZURhdGEucmVjb3JkX2NhbGxzID0gcGFyYW1zLnJlY29yZENhbGxzO1xuXHRcdH1cblx0XHRpZiAocGFyYW1zLmlzQWN0aXZlICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdHVwZGF0ZURhdGEuaXNfYWN0aXZlID0gcGFyYW1zLmlzQWN0aXZlO1xuXHRcdH1cblxuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNhbGxfcm91dGluZ19ydWxlc1wiKVxuXHRcdFx0LnVwZGF0ZSh1cGRhdGVEYXRhKVxuXHRcdFx0LmVxKFwiaWRcIiwgcGFyYW1zLnJ1bGVJZClcblx0XHRcdC5zZWxlY3QoKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvc2V0dGluZ3MvY29tbXVuaWNhdGlvbnMvY2FsbC1yb3V0aW5nXCIpO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IHRydWUsXG5cdFx0XHRkYXRhLFxuXHRcdH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIHVwZGF0ZSBjYWxsIHJvdXRpbmcgcnVsZVwiLFxuXHRcdH07XG5cdH1cbn1cblxuLyoqXG4gKiBEZWxldGUgYSBjYWxsIHJvdXRpbmcgcnVsZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlQ2FsbFJvdXRpbmdSdWxlKHJ1bGVJZDogc3RyaW5nLCB1c2VySWQ6IHN0cmluZykge1xuXHR0cnkge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cdFx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlNlcnZpY2UgdW5hdmFpbGFibGVcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNhbGxfcm91dGluZ19ydWxlc1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdGRlbGV0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdFx0ZGVsZXRlZF9ieTogdXNlcklkLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHJ1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9zZXR0aW5ncy9jb21tdW5pY2F0aW9ucy9jYWxsLXJvdXRpbmdcIik7XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIGRlbGV0ZSBjYWxsIHJvdXRpbmcgcnVsZVwiLFxuXHRcdH07XG5cdH1cbn1cblxuLyoqXG4gKiBUb2dnbGUgY2FsbCByb3V0aW5nIHJ1bGUgYWN0aXZlIHN0YXR1c1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdG9nZ2xlQ2FsbFJvdXRpbmdSdWxlKHJ1bGVJZDogc3RyaW5nLCBpc0FjdGl2ZTogYm9vbGVhbikge1xuXHR0cnkge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cdFx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlNlcnZpY2UgdW5hdmFpbGFibGVcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNhbGxfcm91dGluZ19ydWxlc1wiKVxuXHRcdFx0LnVwZGF0ZSh7IGlzX2FjdGl2ZTogaXNBY3RpdmUgfSlcblx0XHRcdC5lcShcImlkXCIsIHJ1bGVJZClcblx0XHRcdC5zZWxlY3QoKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvc2V0dGluZ3MvY29tbXVuaWNhdGlvbnMvY2FsbC1yb3V0aW5nXCIpO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IHRydWUsXG5cdFx0XHRkYXRhLFxuXHRcdH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIHRvZ2dsZSBjYWxsIHJvdXRpbmcgcnVsZVwiLFxuXHRcdH07XG5cdH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gUEhPTkUgTlVNQkVSIFVTQUdFIFNUQVRJU1RJQ1MgQUNUSU9OU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIEdldCB1c2FnZSBzdGF0aXN0aWNzIGZvciBhIHBob25lIG51bWJlclxuICovXG5hc3luYyBmdW5jdGlvbiBnZXRQaG9uZU51bWJlclVzYWdlU3RhdHMoXG5cdHBob25lTnVtYmVySWQ6IHN0cmluZyxcblx0ZGF5cyA9IDMwLFxuKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiU2VydmljZSB1bmF2YWlsYWJsZVwiIH07XG5cdFx0fVxuXG5cdFx0Y29uc3Qgc3RhcnREYXRlID0gbmV3IERhdGUoKTtcblx0XHRzdGFydERhdGUuc2V0RGF0ZShzdGFydERhdGUuZ2V0RGF0ZSgpIC0gZGF5cyk7XG5cblx0XHQvLyBHZXQgY2FsbCBzdGF0aXN0aWNzXG5cdFx0Y29uc3QgeyBkYXRhOiBjYWxsU3RhdHMsIGVycm9yOiBjYWxsRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG5cdFx0XHQuc2VsZWN0KFwidHlwZSwgZGlyZWN0aW9uLCBzdGF0dXMsIGNhbGxfZHVyYXRpb24sIGNyZWF0ZWRfYXRcIilcblx0XHRcdC5lcShcInR5cGVcIiwgXCJwaG9uZVwiKVxuXHRcdFx0LmVxKFwicGhvbmVfbnVtYmVyX2lkXCIsIHBob25lTnVtYmVySWQpXG5cdFx0XHQuZ3RlKFwiY3JlYXRlZF9hdFwiLCBzdGFydERhdGUudG9JU09TdHJpbmcoKSk7XG5cblx0XHRpZiAoY2FsbEVycm9yKSB7XG5cdFx0XHR0aHJvdyBjYWxsRXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gR2V0IFNNUyBzdGF0aXN0aWNzXG5cdFx0Y29uc3QgeyBkYXRhOiBzbXNTdGF0cywgZXJyb3I6IHNtc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjb21tdW5pY2F0aW9uc1wiKVxuXHRcdFx0LnNlbGVjdChcInR5cGUsIGRpcmVjdGlvbiwgc3RhdHVzLCBjcmVhdGVkX2F0XCIpXG5cdFx0XHQuZXEoXCJ0eXBlXCIsIFwic21zXCIpXG5cdFx0XHQuZXEoXCJwaG9uZV9udW1iZXJfaWRcIiwgcGhvbmVOdW1iZXJJZClcblx0XHRcdC5ndGUoXCJjcmVhdGVkX2F0XCIsIHN0YXJ0RGF0ZS50b0lTT1N0cmluZygpKTtcblxuXHRcdGlmIChzbXNFcnJvcikge1xuXHRcdFx0dGhyb3cgc21zRXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gQ2FsY3VsYXRlIGFnZ3JlZ2F0ZXNcblx0XHRjb25zdCBjYWxscyA9IGNhbGxTdGF0cyB8fCBbXTtcblx0XHRjb25zdCBzbXMgPSBzbXNTdGF0cyB8fCBbXTtcblxuXHRcdGNvbnN0IGluY29taW5nQ2FsbHMgPSBjYWxscy5maWx0ZXIoKGMpID0+IGMuZGlyZWN0aW9uID09PSBcImluYm91bmRcIikubGVuZ3RoO1xuXHRcdGNvbnN0IG91dGdvaW5nQ2FsbHMgPSBjYWxscy5maWx0ZXIoXG5cdFx0XHQoYykgPT4gYy5kaXJlY3Rpb24gPT09IFwib3V0Ym91bmRcIixcblx0XHQpLmxlbmd0aDtcblx0XHRjb25zdCB0b3RhbENhbGxEdXJhdGlvbiA9IGNhbGxzLnJlZHVjZShcblx0XHRcdChzdW0sIGMpID0+IHN1bSArIChjLmNhbGxfZHVyYXRpb24gfHwgMCksXG5cdFx0XHQwLFxuXHRcdCk7XG5cdFx0Y29uc3QgaW5jb21pbmdTbXMgPSBzbXMuZmlsdGVyKChzKSA9PiBzLmRpcmVjdGlvbiA9PT0gXCJpbmJvdW5kXCIpLmxlbmd0aDtcblx0XHRjb25zdCBvdXRnb2luZ1NtcyA9IHNtcy5maWx0ZXIoKHMpID0+IHMuZGlyZWN0aW9uID09PSBcIm91dGJvdW5kXCIpLmxlbmd0aDtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHRpbmNvbWluZ0NhbGxzLFxuXHRcdFx0XHRvdXRnb2luZ0NhbGxzLFxuXHRcdFx0XHR0b3RhbENhbGxzOiBpbmNvbWluZ0NhbGxzICsgb3V0Z29pbmdDYWxscyxcblx0XHRcdFx0dG90YWxDYWxsRHVyYXRpb24sXG5cdFx0XHRcdGluY29taW5nU21zLFxuXHRcdFx0XHRvdXRnb2luZ1Ntcyxcblx0XHRcdFx0dG90YWxTbXM6IGluY29taW5nU21zICsgb3V0Z29pbmdTbXMsXG5cdFx0XHRcdGRhaWx5U3RhdHM6IGFnZ3JlZ2F0ZURhaWx5U3RhdHMoWy4uLmNhbGxzLCAuLi5zbXNdLCBkYXlzKSxcblx0XHRcdH0sXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gZ2V0IHVzYWdlIHN0YXRpc3RpY3NcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogR2V0IGNvbXBhbnktd2lkZSB1c2FnZSBzdGF0aXN0aWNzXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldENvbXBhbnlVc2FnZVN0YXRzKGNvbXBhbnlJZDogc3RyaW5nLCBkYXlzID0gMzApIHtcblx0dHJ5IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJTZXJ2aWNlIHVuYXZhaWxhYmxlXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCBzdGFydERhdGUgPSBuZXcgRGF0ZSgpO1xuXHRcdHN0YXJ0RGF0ZS5zZXREYXRlKHN0YXJ0RGF0ZS5nZXREYXRlKCkgLSBkYXlzKTtcblxuXHRcdC8vIEdldCBhbGwgY29tbXVuaWNhdGlvbnMgZm9yIHRoZSBjb21wYW55XG5cdFx0Y29uc3QgeyBkYXRhOiBjb21tdW5pY2F0aW9ucywgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG5cdFx0XHQuc2VsZWN0KFwidHlwZSwgZGlyZWN0aW9uLCBzdGF0dXMsIGNhbGxfZHVyYXRpb24sIGNyZWF0ZWRfYXRcIilcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgY29tcGFueUlkKVxuXHRcdFx0LmluKFwidHlwZVwiLCBbXCJwaG9uZVwiLCBcInNtc1wiXSlcblx0XHRcdC5ndGUoXCJjcmVhdGVkX2F0XCIsIHN0YXJ0RGF0ZS50b0lTT1N0cmluZygpKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0Y29uc3QgaXRlbXMgPSBjb21tdW5pY2F0aW9ucyB8fCBbXTtcblx0XHRjb25zdCBjYWxscyA9IGl0ZW1zLmZpbHRlcigoaSkgPT4gaS50eXBlID09PSBcInBob25lXCIpO1xuXHRcdGNvbnN0IHNtcyA9IGl0ZW1zLmZpbHRlcigoaSkgPT4gaS50eXBlID09PSBcInNtc1wiKTtcblxuXHRcdGNvbnN0IGluY29taW5nQ2FsbHMgPSBjYWxscy5maWx0ZXIoKGMpID0+IGMuZGlyZWN0aW9uID09PSBcImluYm91bmRcIikubGVuZ3RoO1xuXHRcdGNvbnN0IG91dGdvaW5nQ2FsbHMgPSBjYWxscy5maWx0ZXIoXG5cdFx0XHQoYykgPT4gYy5kaXJlY3Rpb24gPT09IFwib3V0Ym91bmRcIixcblx0XHQpLmxlbmd0aDtcblx0XHRjb25zdCB0b3RhbENhbGxEdXJhdGlvbiA9IGNhbGxzLnJlZHVjZShcblx0XHRcdChzdW0sIGMpID0+IHN1bSArIChjLmNhbGxfZHVyYXRpb24gfHwgMCksXG5cdFx0XHQwLFxuXHRcdCk7XG5cdFx0Y29uc3QgaW5jb21pbmdTbXMgPSBzbXMuZmlsdGVyKChzKSA9PiBzLmRpcmVjdGlvbiA9PT0gXCJpbmJvdW5kXCIpLmxlbmd0aDtcblx0XHRjb25zdCBvdXRnb2luZ1NtcyA9IHNtcy5maWx0ZXIoKHMpID0+IHMuZGlyZWN0aW9uID09PSBcIm91dGJvdW5kXCIpLmxlbmd0aDtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHRpbmNvbWluZ0NhbGxzLFxuXHRcdFx0XHRvdXRnb2luZ0NhbGxzLFxuXHRcdFx0XHR0b3RhbENhbGxzOiBpbmNvbWluZ0NhbGxzICsgb3V0Z29pbmdDYWxscyxcblx0XHRcdFx0dG90YWxDYWxsRHVyYXRpb24sXG5cdFx0XHRcdGF2ZXJhZ2VDYWxsRHVyYXRpb246XG5cdFx0XHRcdFx0Y2FsbHMubGVuZ3RoID4gMCA/IHRvdGFsQ2FsbER1cmF0aW9uIC8gY2FsbHMubGVuZ3RoIDogMCxcblx0XHRcdFx0aW5jb21pbmdTbXMsXG5cdFx0XHRcdG91dGdvaW5nU21zLFxuXHRcdFx0XHR0b3RhbFNtczogaW5jb21pbmdTbXMgKyBvdXRnb2luZ1Ntcyxcblx0XHRcdFx0ZGFpbHlTdGF0czogYWdncmVnYXRlRGFpbHlTdGF0cyhpdGVtcywgZGF5cyksXG5cdFx0XHR9LFxuXHRcdH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIGdldCB1c2FnZSBzdGF0aXN0aWNzXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0byBhZ2dyZWdhdGUgZGFpbHkgc3RhdGlzdGljc1xuICovXG5mdW5jdGlvbiBhZ2dyZWdhdGVEYWlseVN0YXRzKFxuXHRpdGVtczogQXJyYXk8eyBjcmVhdGVkX2F0OiBzdHJpbmc7IHR5cGU6IHN0cmluZzsgY2FsbF9kdXJhdGlvbj86IG51bWJlciB9Pixcblx0ZGF5czogbnVtYmVyLFxuKSB7XG5cdGNvbnN0IGRhaWx5U3RhdHM6IFJlY29yZDxcblx0XHRzdHJpbmcsXG5cdFx0eyBkYXRlOiBzdHJpbmc7IGNhbGxzOiBudW1iZXI7IHNtczogbnVtYmVyOyBkdXJhdGlvbjogbnVtYmVyIH1cblx0PiA9IHt9O1xuXG5cdC8vIEluaXRpYWxpemUgYWxsIGRheXNcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBkYXlzOyBpKyspIHtcblx0XHRjb25zdCBkYXRlID0gbmV3IERhdGUoKTtcblx0XHRkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgLSBpKTtcblx0XHRjb25zdCBkYXRlU3RyID0gZGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KFwiVFwiKVswXTtcblx0XHRkYWlseVN0YXRzW2RhdGVTdHJdID0geyBkYXRlOiBkYXRlU3RyLCBjYWxsczogMCwgc21zOiAwLCBkdXJhdGlvbjogMCB9O1xuXHR9XG5cblx0Ly8gQWdncmVnYXRlIGRhdGFcblx0aXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuXHRcdGNvbnN0IGRhdGVTdHIgPSBpdGVtLmNyZWF0ZWRfYXQuc3BsaXQoXCJUXCIpWzBdO1xuXHRcdGlmIChkYWlseVN0YXRzW2RhdGVTdHJdKSB7XG5cdFx0XHRpZiAoaXRlbS50eXBlID09PSBcInBob25lXCIpIHtcblx0XHRcdFx0ZGFpbHlTdGF0c1tkYXRlU3RyXS5jYWxscyArPSAxO1xuXHRcdFx0XHRkYWlseVN0YXRzW2RhdGVTdHJdLmR1cmF0aW9uICs9IGl0ZW0uY2FsbF9kdXJhdGlvbiB8fCAwO1xuXHRcdFx0fSBlbHNlIGlmIChpdGVtLnR5cGUgPT09IFwic21zXCIpIHtcblx0XHRcdFx0ZGFpbHlTdGF0c1tkYXRlU3RyXS5zbXMgKz0gMTtcblx0XHRcdH1cblx0XHR9XG5cdH0pO1xuXG5cdHJldHVybiBPYmplY3QudmFsdWVzKGRhaWx5U3RhdHMpLnNvcnQoKGEsIGIpID0+IGEuZGF0ZS5sb2NhbGVDb21wYXJlKGIuZGF0ZSkpO1xufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI0U0FrNUNzQiJ9
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:48a49a [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"005a48890fa7863395276cf2f0eee59386df8294ad":"signOut"},"apps/web/src/actions/auth.ts",""] */ __turbopack_context__.s([
    "signOut",
    ()=>signOut
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var signOut = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("005a48890fa7863395276cf2f0eee59386df8294ad", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "signOut"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vYXV0aC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzZXJ2ZXJcIjtcblxuaW1wb3J0IHsgQXV0aEFwaUVycm9yLCBBdXRoVW5rbm93bkVycm9yIH0gZnJvbSBcIkBzdXBhYmFzZS9zdXBhYmFzZS1qc1wiO1xuaW1wb3J0IHsgQnVmZmVyIH0gZnJvbSBcIm5vZGU6YnVmZmVyXCI7XG5pbXBvcnQgeyBleHRuYW1lIH0gZnJvbSBcIm5vZGU6cGF0aFwiO1xuLy8gaW1wb3J0IHsgY2hlY2tCb3RJZCB9IGZyb20gXCJib3RpZC9zZXJ2ZXJcIjtcbmltcG9ydCB7IGNsZWFyQWN0aXZlQ29tcGFueSB9IGZyb20gXCJAL2xpYi9hdXRoL2NvbXBhbnktY29udGV4dFwiO1xuaW1wb3J0IHtcbiAgICBjcmVhdGVFbWFpbFZlcmlmaWNhdGlvblRva2VuLFxuICAgIHZlcmlmeUFuZENvbnN1bWVUb2tlbixcbn0gZnJvbSBcIkAvbGliL2F1dGgvdG9rZW5zXCI7XG5pbXBvcnQgeyBlbWFpbENvbmZpZyB9IGZyb20gXCJAL2xpYi9lbWFpbC9yZXNlbmQtY2xpZW50XCI7XG5pbXBvcnQgeyBjbGVhckNTUkZUb2tlbiB9IGZyb20gXCJAL2xpYi9zZWN1cml0eS9jc3JmXCI7XG5pbXBvcnQge1xuICAgIGF1dGhSYXRlTGltaXRlcixcbiAgICBjaGVja1JhdGVMaW1pdCxcbiAgICBwYXNzd29yZFJlc2V0UmF0ZUxpbWl0ZXIsXG4gICAgUmF0ZUxpbWl0RXJyb3IsXG59IGZyb20gXCJAL2xpYi9zZWN1cml0eS9yYXRlLWxpbWl0XCI7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tIFwiQC9saWIvc3VwYWJhc2Uvc2VydmVyXCI7XG5pbXBvcnQge1xuICAgIGNyZWF0ZVNlcnZpY2VTdXBhYmFzZUNsaWVudCxcbiAgICB0eXBlIFNlcnZpY2VTdXBhYmFzZUNsaWVudCxcbn0gZnJvbSBcIkAvbGliL3N1cGFiYXNlL3NlcnZpY2UtY2xpZW50XCI7XG5pbXBvcnQgeyByZXZhbGlkYXRlUGF0aCB9IGZyb20gXCJuZXh0L2NhY2hlXCI7XG5pbXBvcnQgeyByZWRpcmVjdCB9IGZyb20gXCJuZXh0L25hdmlnYXRpb25cIjtcbmltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG5pbXBvcnQge1xuICAgIHNlbmRFbWFpbFZlcmlmaWNhdGlvbixcbiAgICBzZW5kUGFzc3dvcmRDaGFuZ2VkLFxuICAgIHNlbmRXZWxjb21lRW1haWwsXG59IGZyb20gXCIuL2VtYWlsc1wiO1xuXG5jb25zdCBOQU1FX01JTl9MRU5HVEggPSAyO1xuY29uc3QgTkFNRV9NQVhfTEVOR1RIID0gMTAwO1xuY29uc3QgQ09NUEFOWV9OQU1FX01JTl9MRU5HVEggPSAyO1xuY29uc3QgQ09NUEFOWV9OQU1FX01BWF9MRU5HVEggPSAyMDA7XG5jb25zdCBQSE9ORV9NSU5fRElHSVRTID0gMTA7XG5jb25zdCBQQVNTV09SRF9NSU5fTEVOR1RIID0gODtcbmNvbnN0IFBBU1NXT1JEX01BWF9MRU5HVEggPSAxMDA7XG5jb25zdCBDT05GSVJNQVRJT05fVE9LRU5fVFRMX0hPVVJTID0gMjQ7XG5jb25zdCBDT1VOVFJZX0NPREVfVVMgPSBcIjFcIjtcbmNvbnN0IE5BVElPTkFMX05VTUJFUl9ESUdJVFMgPSAxMDtcbmNvbnN0IEVYVEVOREVEX1VTX05VTUJFUl9ESUdJVFMgPSAxMTtcbmNvbnN0IEJZVEVTX1BFUl9LSUxPQllURSA9IDEwMjQ7XG5jb25zdCBCWVRFU19QRVJfTUVHQUJZVEUgPSBCWVRFU19QRVJfS0lMT0JZVEUgKiBCWVRFU19QRVJfS0lMT0JZVEU7XG5jb25zdCBBVkFUQVJfU0laRV9MSU1JVF9NQiA9IDU7XG5jb25zdCBNQVhfQVZBVEFSX0ZJTEVfU0laRSA9IEFWQVRBUl9TSVpFX0xJTUlUX01CICogQllURVNfUEVSX01FR0FCWVRFO1xuXG4vKipcbiAqIEF1dGhlbnRpY2F0aW9uIFNlcnZlciBBY3Rpb25zIC0gU3VwYWJhc2UgQXV0aCArIFJlc2VuZCBFbWFpbCBJbnRlZ3JhdGlvblxuICpcbiAqIFBlcmZvcm1hbmNlIG9wdGltaXphdGlvbnM6XG4gKiAtIFNlcnZlciBBY3Rpb25zIGZvciBzZWN1cmUgYXV0aGVudGljYXRpb25cbiAqIC0gU3VwYWJhc2UgQXV0aCBoYW5kbGVzIHBhc3N3b3JkIGhhc2hpbmcgYW5kIHNlc3Npb24gbWFuYWdlbWVudFxuICogLSBDdXN0b20gZW1haWxzIHZpYSBSZXNlbmQgd2l0aCBicmFuZGVkIHRlbXBsYXRlc1xuICogLSBab2QgdmFsaWRhdGlvbiBmb3IgaW5wdXQgc2FuaXRpemF0aW9uXG4gKiAtIFByb3BlciBlcnJvciBoYW5kbGluZyB3aXRoIHVzZXItZnJpZW5kbHkgbWVzc2FnZXNcbiAqL1xuXG4vLyBWYWxpZGF0aW9uIFNjaGVtYXNcbmNvbnN0IHNpZ25VcFNjaGVtYSA9IHoub2JqZWN0KHtcblx0bmFtZTogelxuXHRcdC5zdHJpbmcoKVxuXHRcdC50cmltKClcblx0XHQubWluKE5BTUVfTUlOX0xFTkdUSCwgXCJOYW1lIG11c3QgYmUgYXQgbGVhc3QgMiBjaGFyYWN0ZXJzXCIpXG5cdFx0Lm1heChOQU1FX01BWF9MRU5HVEgsIFwiTmFtZSBpcyB0b28gbG9uZ1wiKSxcblx0ZW1haWw6IHouc3RyaW5nKCkuZW1haWwoXCJJbnZhbGlkIGVtYWlsIGFkZHJlc3NcIiksXG5cdHBob25lOiB6XG5cdFx0LnN0cmluZygpXG5cdFx0LnRyaW0oKVxuXHRcdC5taW4oUEhPTkVfTUlOX0RJR0lUUywgXCJQaG9uZSBudW1iZXIgaXMgcmVxdWlyZWRcIilcblx0XHQucmVmaW5lKFxuXHRcdFx0KHZhbHVlKSA9PiB2YWx1ZS5yZXBsYWNlKC9cXEQvZywgXCJcIikubGVuZ3RoID49IFBIT05FX01JTl9ESUdJVFMsXG5cdFx0XHRcIkVudGVyIGEgdmFsaWQgcGhvbmUgbnVtYmVyXCIsXG5cdFx0KSxcblx0cGFzc3dvcmQ6IHpcblx0XHQuc3RyaW5nKClcblx0XHQubWluKFBBU1NXT1JEX01JTl9MRU5HVEgsIFwiUGFzc3dvcmQgbXVzdCBiZSBhdCBsZWFzdCA4IGNoYXJhY3RlcnNcIilcblx0XHQubWF4KFBBU1NXT1JEX01BWF9MRU5HVEgsIFwiUGFzc3dvcmQgaXMgdG9vIGxvbmdcIilcblx0XHQucmVnZXgoXG5cdFx0XHQvXig/PS4qW2Etel0pKD89LipbQS1aXSkoPz0uKlxcZCkvLFxuXHRcdFx0XCJQYXNzd29yZCBtdXN0IGNvbnRhaW4gdXBwZXJjYXNlLCBsb3dlcmNhc2UsIGFuZCBudW1iZXJcIixcblx0XHQpLFxuXHRjb21wYW55TmFtZTogelxuXHRcdC5zdHJpbmcoKVxuXHRcdC50cmltKClcblx0XHQubWluKENPTVBBTllfTkFNRV9NSU5fTEVOR1RILCBcIkNvbXBhbnkgbmFtZSBtdXN0IGJlIGF0IGxlYXN0IDIgY2hhcmFjdGVyc1wiKVxuXHRcdC5tYXgoQ09NUEFOWV9OQU1FX01BWF9MRU5HVEgsIFwiQ29tcGFueSBuYW1lIGlzIHRvbyBsb25nXCIpXG5cdFx0Lm9wdGlvbmFsKCksXG5cdHRlcm1zOiB6XG5cdFx0LmJvb2xlYW4oKVxuXHRcdC5yZWZpbmUoKHZhbCkgPT4gdmFsID09PSB0cnVlLCBcIllvdSBtdXN0IGFjY2VwdCB0aGUgdGVybXMgYW5kIGNvbmRpdGlvbnNcIiksXG59KTtcblxuY29uc3Qgc2lnbkluU2NoZW1hID0gei5vYmplY3Qoe1xuXHRlbWFpbDogei5zdHJpbmcoKS5lbWFpbChcIkludmFsaWQgZW1haWwgYWRkcmVzc1wiKSxcblx0cGFzc3dvcmQ6IHouc3RyaW5nKCkubWluKDEsIFwiUGFzc3dvcmQgaXMgcmVxdWlyZWRcIiksXG59KTtcblxuY29uc3QgZm9yZ290UGFzc3dvcmRTY2hlbWEgPSB6Lm9iamVjdCh7XG5cdGVtYWlsOiB6LnN0cmluZygpLmVtYWlsKFwiSW52YWxpZCBlbWFpbCBhZGRyZXNzXCIpLFxufSk7XG5cbmNvbnN0IHJlc2V0UGFzc3dvcmRTY2hlbWEgPSB6XG5cdC5vYmplY3Qoe1xuXHRcdHBhc3N3b3JkOiB6XG5cdFx0XHQuc3RyaW5nKClcblx0XHRcdC5taW4oUEFTU1dPUkRfTUlOX0xFTkdUSCwgXCJQYXNzd29yZCBtdXN0IGJlIGF0IGxlYXN0IDggY2hhcmFjdGVyc1wiKVxuXHRcdFx0Lm1heChQQVNTV09SRF9NQVhfTEVOR1RILCBcIlBhc3N3b3JkIGlzIHRvbyBsb25nXCIpXG5cdFx0XHQucmVnZXgoXG5cdFx0XHRcdC9eKD89LipbYS16XSkoPz0uKltBLVpdKSg/PS4qXFxkKS8sXG5cdFx0XHRcdFwiUGFzc3dvcmQgbXVzdCBjb250YWluIHVwcGVyY2FzZSwgbG93ZXJjYXNlLCBhbmQgbnVtYmVyXCIsXG5cdFx0XHQpLFxuXHRcdGNvbmZpcm1QYXNzd29yZDogei5zdHJpbmcoKSxcblx0fSlcblx0LnJlZmluZSgoZGF0YSkgPT4gZGF0YS5wYXNzd29yZCA9PT0gZGF0YS5jb25maXJtUGFzc3dvcmQsIHtcblx0XHRtZXNzYWdlOiBcIlBhc3N3b3JkcyBkb24ndCBtYXRjaFwiLFxuXHRcdHBhdGg6IFtcImNvbmZpcm1QYXNzd29yZFwiXSxcblx0fSk7XG5cbmNvbnN0IEFWQVRBUl9TVE9SQUdFX0JVQ0tFVCA9IFwiYXZhdGFyc1wiO1xuY29uc3QgU1VQQUJBU0VfUkFURV9MSU1JVF9NQVhfUkVUUklFUyA9IDM7XG5jb25zdCBTVVBBQkFTRV9SQVRFX0xJTUlUX0JBQ0tPRkZfTVMgPSAyMDA7XG5cbmNvbnN0IGRlbGF5ID0gKG1zOiBudW1iZXIpID0+XG5cdG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG5cdFx0c2V0VGltZW91dChyZXNvbHZlLCBtcyk7XG5cdH0pO1xuXG5jb25zdCB3aXRoU3VwYWJhc2VSYXRlTGltaXRSZXRyeSA9IGFzeW5jIDxUIGV4dGVuZHMgeyBlcnJvcj86IHVua25vd24gfT4oXG5cdG9wZXJhdGlvbjogKCkgPT4gUHJvbWlzZTxUPixcbik6IFByb21pc2U8VD4gPT4ge1xuXHRmb3IgKFxuXHRcdGxldCBhdHRlbXB0ID0gMTtcblx0XHRhdHRlbXB0IDw9IFNVUEFCQVNFX1JBVEVfTElNSVRfTUFYX1JFVFJJRVM7XG5cdFx0YXR0ZW1wdCArPSAxXG5cdCkge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBvcGVyYXRpb24oKTtcblxuXHRcdFx0aWYgKFxuXHRcdFx0XHRyZXN1bHQgJiZcblx0XHRcdFx0dHlwZW9mIHJlc3VsdCA9PT0gXCJvYmplY3RcIiAmJlxuXHRcdFx0XHRcImVycm9yXCIgaW4gcmVzdWx0ICYmXG5cdFx0XHRcdHJlc3VsdC5lcnJvciBpbnN0YW5jZW9mIEF1dGhBcGlFcnJvciAmJlxuXHRcdFx0XHRyZXN1bHQuZXJyb3IuY29kZSA9PT0gXCJvdmVyX3JlcXVlc3RfcmF0ZV9saW1pdFwiXG5cdFx0XHQpIHtcblx0XHRcdFx0aWYgKGF0dGVtcHQgPT09IFNVUEFCQVNFX1JBVEVfTElNSVRfTUFYX1JFVFJJRVMpIHtcblx0XHRcdFx0XHR0aHJvdyByZXN1bHQuZXJyb3I7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRhd2FpdCBkZWxheShTVVBBQkFTRV9SQVRFX0xJTUlUX0JBQ0tPRkZfTVMgKiBhdHRlbXB0KTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdGlmIChcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBBdXRoQXBpRXJyb3IgJiZcblx0XHRcdFx0ZXJyb3IuY29kZSA9PT0gXCJvdmVyX3JlcXVlc3RfcmF0ZV9saW1pdFwiICYmXG5cdFx0XHRcdGF0dGVtcHQgPCBTVVBBQkFTRV9SQVRFX0xJTUlUX01BWF9SRVRSSUVTXG5cdFx0XHQpIHtcblx0XHRcdFx0YXdhaXQgZGVsYXkoU1VQQUJBU0VfUkFURV9MSU1JVF9CQUNLT0ZGX01TICogYXR0ZW1wdCk7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXHR9XG5cblx0dGhyb3cgbmV3IEVycm9yKFwiU3VwYWJhc2UgYXV0aCBvcGVyYXRpb24gZmFpbGVkIGFmdGVyIHJldHJpZXNcIik7XG59O1xuXG50eXBlIFNpZ25VcEZvcm1JbnB1dCA9IHouaW5mZXI8dHlwZW9mIHNpZ25VcFNjaGVtYT47XG5cbnR5cGUgU3VwYWJhc2VCcm93c2VyQ2xpZW50ID0gRXhjbHVkZTxcblx0QXdhaXRlZDxSZXR1cm5UeXBlPHR5cGVvZiBjcmVhdGVDbGllbnQ+Pixcblx0bnVsbFxuPjtcblxuZnVuY3Rpb24gbm9ybWFsaXplUGhvbmVOdW1iZXIoaW5wdXQ6IHN0cmluZyk6IHN0cmluZyB7XG5cdGNvbnN0IHRyaW1tZWQgPSBpbnB1dC50cmltKCk7XG5cdGNvbnN0IGRpZ2l0c09ubHkgPSB0cmltbWVkLnJlcGxhY2UoL1xcRC9nLCBcIlwiKTtcblxuXHRpZiAoIWRpZ2l0c09ubHkpIHtcblx0XHRyZXR1cm4gdHJpbW1lZDtcblx0fVxuXG5cdGlmICh0cmltbWVkLnN0YXJ0c1dpdGgoXCIrXCIpKSB7XG5cdFx0cmV0dXJuIGArJHtkaWdpdHNPbmx5fWA7XG5cdH1cblxuXHRpZiAoXG5cdFx0ZGlnaXRzT25seS5sZW5ndGggPT09IEVYVEVOREVEX1VTX05VTUJFUl9ESUdJVFMgJiZcblx0XHRkaWdpdHNPbmx5LnN0YXJ0c1dpdGgoQ09VTlRSWV9DT0RFX1VTKVxuXHQpIHtcblx0XHRyZXR1cm4gYCske2RpZ2l0c09ubHl9YDtcblx0fVxuXG5cdGlmIChkaWdpdHNPbmx5Lmxlbmd0aCA9PT0gTkFUSU9OQUxfTlVNQkVSX0RJR0lUUykge1xuXHRcdHJldHVybiBgKyR7Q09VTlRSWV9DT0RFX1VTfSR7ZGlnaXRzT25seX1gO1xuXHR9XG5cblx0cmV0dXJuIGArJHtkaWdpdHNPbmx5fWA7XG59XG5cbmNvbnN0IHJlcG9ydEF1dGhJc3N1ZSA9IChfbWVzc2FnZTogc3RyaW5nLCBfZXJyb3I/OiB1bmtub3duKSA9PiB7XG5cdC8vIFRPRE86IEludGVncmF0ZSBzdHJ1Y3R1cmVkIGxvZ2dpbmcvbW9uaXRvcmluZ1xufTtcblxuY29uc3QgZ2V0TWV0YWRhdGFTdHJpbmcgPSAoXG5cdG1ldGFkYXRhOiB1bmtub3duLFxuXHRrZXk6IHN0cmluZyxcbik6IHN0cmluZyB8IHVuZGVmaW5lZCA9PiB7XG5cdGlmIChtZXRhZGF0YSAmJiB0eXBlb2YgbWV0YWRhdGEgPT09IFwib2JqZWN0XCIpIHtcblx0XHRjb25zdCB2YWx1ZSA9IChtZXRhZGF0YSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPilba2V5XTtcblx0XHRpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuO1xufTtcblxuYXN5bmMgZnVuY3Rpb24gdXBsb2FkQXZhdGFyRm9yTmV3VXNlcihcblx0c3VwYWJhc2U6IFNlcnZpY2VTdXBhYmFzZUNsaWVudCxcblx0ZmlsZTogRmlsZSxcblx0dXNlcklkOiBzdHJpbmcsXG4pOiBQcm9taXNlPHN0cmluZyB8IG51bGw+IHtcblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIlN1cGFiYXNlIGNsaWVudCBub3QgY29uZmlndXJlZFwiKTtcblx0fVxuXHRpZiAoIWZpbGUudHlwZS5zdGFydHNXaXRoKFwiaW1hZ2UvXCIpKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiQXZhdGFyIG11c3QgYmUgYW4gaW1hZ2VcIik7XG5cdH1cblxuXHRpZiAoZmlsZS5zaXplID4gTUFYX0FWQVRBUl9GSUxFX1NJWkUpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYEF2YXRhciBtdXN0IGJlIHNtYWxsZXIgdGhhbiAke0FWQVRBUl9TSVpFX0xJTUlUX01CfU1CYCk7XG5cdH1cblxuXHRjb25zdCBhcnJheUJ1ZmZlciA9IGF3YWl0IGZpbGUuYXJyYXlCdWZmZXIoKTtcblx0Y29uc3QgZXh0ZW5zaW9uID0gZXh0bmFtZShmaWxlLm5hbWUpIHx8IFwiLmpwZ1wiO1xuXHRjb25zdCBmaWxlUGF0aCA9IGAke3VzZXJJZH0vcHJvZmlsZSR7ZXh0ZW5zaW9ufWA7XG5cblx0Y29uc3QgeyBlcnJvcjogdXBsb2FkRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnN0b3JhZ2Vcblx0XHQuZnJvbShBVkFUQVJfU1RPUkFHRV9CVUNLRVQpXG5cdFx0LnVwbG9hZChmaWxlUGF0aCwgQnVmZmVyLmZyb20oYXJyYXlCdWZmZXIpLCB7XG5cdFx0XHRjYWNoZUNvbnRyb2w6IFwiMzYwMFwiLFxuXHRcdFx0Y29udGVudFR5cGU6IGZpbGUudHlwZSB8fCBcImltYWdlL2pwZWdcIixcblx0XHRcdHVwc2VydDogdHJ1ZSxcblx0XHR9KTtcblxuXHRpZiAodXBsb2FkRXJyb3IpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IodXBsb2FkRXJyb3IubWVzc2FnZSk7XG5cdH1cblxuXHRjb25zdCB7XG5cdFx0ZGF0YTogeyBwdWJsaWNVcmwgfSxcblx0fSA9IHN1cGFiYXNlLnN0b3JhZ2UuZnJvbShBVkFUQVJfU1RPUkFHRV9CVUNLRVQpLmdldFB1YmxpY1VybChmaWxlUGF0aCk7XG5cblx0cmV0dXJuIHB1YmxpY1VybDtcbn1cblxuY29uc3QgY3JlYXRlU2VydmljZUNsaWVudExvYWRlciA9ICgpID0+IHtcblx0bGV0IGNsaWVudDogU2VydmljZVN1cGFiYXNlQ2xpZW50IHwgbnVsbCA9IG51bGw7XG5cdHJldHVybiBhc3luYyAoKSA9PiB7XG5cdFx0aWYgKGNsaWVudCkge1xuXHRcdFx0cmV0dXJuIGNsaWVudDtcblx0XHR9XG5cdFx0Y2xpZW50ID0gYXdhaXQgY3JlYXRlU2VydmljZVN1cGFiYXNlQ2xpZW50KCk7XG5cdFx0cmV0dXJuIGNsaWVudDtcblx0fTtcbn07XG5cbnR5cGUgUGFyc2VkU2lnblVwRm9ybSA9IHtcblx0dmFsaWRhdGVkOiBTaWduVXBGb3JtSW5wdXQ7XG5cdG5vcm1hbGl6ZWRQaG9uZTogc3RyaW5nO1xuXHRjb21wYW55TmFtZT86IHN0cmluZztcblx0YXZhdGFyRmlsZTogRmlsZSB8IG51bGw7XG59O1xuXG5jb25zdCBwYXJzZVNpZ25VcEZvcm1EYXRhID0gKGZvcm1EYXRhOiBGb3JtRGF0YSk6IFBhcnNlZFNpZ25VcEZvcm0gPT4ge1xuXHRjb25zdCBjb21wYW55TmFtZUVudHJ5ID0gZm9ybURhdGEuZ2V0KFwiY29tcGFueU5hbWVcIik7XG5cdGNvbnN0IG5vcm1hbGl6ZWRDb21wYW55TmFtZSA9XG5cdFx0dHlwZW9mIGNvbXBhbnlOYW1lRW50cnkgPT09IFwic3RyaW5nXCIgJiYgY29tcGFueU5hbWVFbnRyeS50cmltKCkubGVuZ3RoID4gMFxuXHRcdFx0PyBjb21wYW55TmFtZUVudHJ5XG5cdFx0XHQ6IHVuZGVmaW5lZDtcblxuXHRjb25zdCByYXdEYXRhID0ge1xuXHRcdG5hbWU6IChmb3JtRGF0YS5nZXQoXCJuYW1lXCIpIGFzIHN0cmluZykgPz8gXCJcIixcblx0XHRlbWFpbDogKGZvcm1EYXRhLmdldChcImVtYWlsXCIpIGFzIHN0cmluZykgPz8gXCJcIixcblx0XHRwaG9uZTogKGZvcm1EYXRhLmdldChcInBob25lXCIpIGFzIHN0cmluZykgPz8gXCJcIixcblx0XHRwYXNzd29yZDogKGZvcm1EYXRhLmdldChcInBhc3N3b3JkXCIpIGFzIHN0cmluZykgPz8gXCJcIixcblx0XHRjb21wYW55TmFtZTogbm9ybWFsaXplZENvbXBhbnlOYW1lLFxuXHRcdHRlcm1zOiBmb3JtRGF0YS5nZXQoXCJ0ZXJtc1wiKSA9PT0gXCJvblwiIHx8IGZvcm1EYXRhLmdldChcInRlcm1zXCIpID09PSBcInRydWVcIixcblx0fTtcblxuXHRjb25zdCB2YWxpZGF0ZWQgPSBzaWduVXBTY2hlbWEucGFyc2UocmF3RGF0YSk7XG5cdGNvbnN0IGF2YXRhckVudHJ5ID0gZm9ybURhdGEuZ2V0KFwiYXZhdGFyXCIpO1xuXHRjb25zdCBhdmF0YXJGaWxlID1cblx0XHRhdmF0YXJFbnRyeSBpbnN0YW5jZW9mIEZpbGUgJiYgYXZhdGFyRW50cnkuc2l6ZSA+IDAgPyBhdmF0YXJFbnRyeSA6IG51bGw7XG5cblx0cmV0dXJuIHtcblx0XHR2YWxpZGF0ZWQsXG5cdFx0bm9ybWFsaXplZFBob25lOiBub3JtYWxpemVQaG9uZU51bWJlcih2YWxpZGF0ZWQucGhvbmUpLFxuXHRcdGNvbXBhbnlOYW1lOiB2YWxpZGF0ZWQuY29tcGFueU5hbWU/LnRyaW0oKSB8fCB1bmRlZmluZWQsXG5cdFx0YXZhdGFyRmlsZSxcblx0fTtcbn07XG5cbmNvbnN0IHJlcXVpcmVTdXBhYmFzZUJyb3dzZXJDbGllbnQgPVxuXHRhc3luYyAoKTogUHJvbWlzZTxTdXBhYmFzZUJyb3dzZXJDbGllbnQ+ID0+IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG5cdFx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRcIkF1dGhlbnRpY2F0aW9uIHNlcnZpY2UgaXMgbm90IGNvbmZpZ3VyZWQuIFBsZWFzZSBjaGVjayB5b3VyIGVudmlyb25tZW50IHZhcmlhYmxlcy5cIixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHN1cGFiYXNlIGFzIFN1cGFiYXNlQnJvd3NlckNsaWVudDtcblx0fTtcblxudHlwZSBSZWdpc3RlclN1cGFiYXNlVXNlclBhcmFtcyA9IHtcblx0c3VwYWJhc2U6IFN1cGFiYXNlQnJvd3NlckNsaWVudDtcblx0dmFsaWRhdGVkOiBTaWduVXBGb3JtSW5wdXQ7XG5cdG5vcm1hbGl6ZWRQaG9uZTogc3RyaW5nO1xuXHRjb21wYW55TmFtZT86IHN0cmluZztcbn07XG5cbmNvbnN0IHJlZ2lzdGVyU3VwYWJhc2VVc2VyID0gYXN5bmMgKHtcblx0c3VwYWJhc2UsXG5cdHZhbGlkYXRlZCxcblx0bm9ybWFsaXplZFBob25lLFxuXHRjb21wYW55TmFtZSxcbn06IFJlZ2lzdGVyU3VwYWJhc2VVc2VyUGFyYW1zKSA9PiB7XG5cdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHdpdGhTdXBhYmFzZVJhdGVMaW1pdFJldHJ5KCgpID0+XG5cdFx0c3VwYWJhc2UuYXV0aC5zaWduVXAoe1xuXHRcdFx0ZW1haWw6IHZhbGlkYXRlZC5lbWFpbCxcblx0XHRcdHBhc3N3b3JkOiB2YWxpZGF0ZWQucGFzc3dvcmQsXG5cdFx0XHRvcHRpb25zOiB7XG5cdFx0XHRcdGRhdGE6IHtcblx0XHRcdFx0XHRuYW1lOiB2YWxpZGF0ZWQubmFtZSxcblx0XHRcdFx0XHRwaG9uZTogbm9ybWFsaXplZFBob25lLFxuXHRcdFx0XHRcdGNvbXBhbnlOYW1lOiBjb21wYW55TmFtZSA/PyBudWxsLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRlbWFpbFJlZGlyZWN0VG86IGAke2VtYWlsQ29uZmlnLnNpdGVVcmx9L2F1dGgvY2FsbGJhY2tgLFxuXHRcdFx0fSxcblx0XHR9KSxcblx0KTtcblxuXHRpZiAoZXJyb3IpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSk7XG5cdH1cblxuXHRpZiAoIWRhdGEudXNlcikge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBjcmVhdGUgdXNlciBhY2NvdW50XCIpO1xuXHR9XG5cblx0cmV0dXJuIGRhdGE7XG59O1xuXG50eXBlIFN5bmNTaWduVXBQcm9maWxlUGFyYW1zID0ge1xuXHRlbnN1cmVTZXJ2aWNlU3VwYWJhc2U6ICgpID0+IFByb21pc2U8U2VydmljZVN1cGFiYXNlQ2xpZW50Pjtcblx0dXNlcklkOiBzdHJpbmc7XG5cdG5vcm1hbGl6ZWRQaG9uZTogc3RyaW5nO1xuXHRuYW1lOiBzdHJpbmc7XG5cdGNvbXBhbnlOYW1lPzogc3RyaW5nO1xuXHRhdmF0YXJGaWxlOiBGaWxlIHwgbnVsbDtcbn07XG5cbmNvbnN0IHN5bmNTaWduVXBQcm9maWxlID0gYXN5bmMgKHtcblx0ZW5zdXJlU2VydmljZVN1cGFiYXNlLFxuXHR1c2VySWQsXG5cdG5vcm1hbGl6ZWRQaG9uZSxcblx0bmFtZSxcblx0Y29tcGFueU5hbWUsXG5cdGF2YXRhckZpbGUsXG59OiBTeW5jU2lnblVwUHJvZmlsZVBhcmFtcykgPT4ge1xuXHRsZXQgYXZhdGFyVXJsOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcblxuXHRpZiAoYXZhdGFyRmlsZSkge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBhZG1pbkNsaWVudCA9IGF3YWl0IGVuc3VyZVNlcnZpY2VTdXBhYmFzZSgpO1xuXHRcdFx0YXZhdGFyVXJsID0gYXdhaXQgdXBsb2FkQXZhdGFyRm9yTmV3VXNlcihhZG1pbkNsaWVudCwgYXZhdGFyRmlsZSwgdXNlcklkKTtcblx0XHR9IGNhdGNoIChhdmF0YXJVcGxvYWRFcnJvcikge1xuXHRcdFx0cmVwb3J0QXV0aElzc3VlKFwiQXZhdGFyIHVwbG9hZCBmYWlsZWRcIiwgYXZhdGFyVXBsb2FkRXJyb3IpO1xuXHRcdH1cblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgYWRtaW5DbGllbnQgPSBhd2FpdCBlbnN1cmVTZXJ2aWNlU3VwYWJhc2UoKTtcblx0XHRjb25zdCB1cGRhdGVQYXlsb2FkOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBudWxsPiA9IHtcblx0XHRcdHBob25lOiBub3JtYWxpemVkUGhvbmUsXG5cdFx0fTtcblxuXHRcdGlmIChhdmF0YXJVcmwpIHtcblx0XHRcdHVwZGF0ZVBheWxvYWQuYXZhdGFyX3VybCA9IGF2YXRhclVybDtcblx0XHR9XG5cblx0XHRpZiAoIWFkbWluQ2xpZW50KSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJBZG1pbiBjbGllbnQgbm90IGNvbmZpZ3VyZWRcIik7XG5cdFx0fVxuXHRcdGF3YWl0IGFkbWluQ2xpZW50LmZyb20oXCJwcm9maWxlc1wiKS51cGRhdGUodXBkYXRlUGF5bG9hZCkuZXEoXCJpZFwiLCB1c2VySWQpO1xuXHR9IGNhdGNoIChwcm9maWxlVXBkYXRlRXJyb3IpIHtcblx0XHRyZXBvcnRBdXRoSXNzdWUoXCJGYWlsZWQgdG8gdXBkYXRlIHVzZXIgcHJvZmlsZVwiLCBwcm9maWxlVXBkYXRlRXJyb3IpO1xuXHR9XG5cblx0aWYgKCFhdmF0YXJVcmwpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHR0cnkge1xuXHRcdGNvbnN0IGFkbWluQ2xpZW50ID0gYXdhaXQgZW5zdXJlU2VydmljZVN1cGFiYXNlKCk7XG5cdFx0aWYgKCFhZG1pbkNsaWVudCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiQWRtaW4gY2xpZW50IG5vdCBjb25maWd1cmVkXCIpO1xuXHRcdH1cblx0XHRhd2FpdCBhZG1pbkNsaWVudC5hdXRoLmFkbWluLnVwZGF0ZVVzZXJCeUlkKHVzZXJJZCwge1xuXHRcdFx0dXNlcl9tZXRhZGF0YToge1xuXHRcdFx0XHRuYW1lLFxuXHRcdFx0XHRwaG9uZTogbm9ybWFsaXplZFBob25lLFxuXHRcdFx0XHRjb21wYW55TmFtZTogY29tcGFueU5hbWUgPz8gbnVsbCxcblx0XHRcdFx0YXZhdGFyVXJsLFxuXHRcdFx0fSxcblx0XHR9KTtcblx0fSBjYXRjaCAobWV0YWRhdGFFcnJvcikge1xuXHRcdHJlcG9ydEF1dGhJc3N1ZShcIkZhaWxlZCB0byBzeW5jIGF2YXRhciBtZXRhZGF0YVwiLCBtZXRhZGF0YUVycm9yKTtcblx0fVxufTtcblxudHlwZSBQb3N0U2lnblVwRW1haWxQYXJhbXMgPSB7XG5cdGVtYWlsOiBzdHJpbmc7XG5cdG5hbWU6IHN0cmluZztcblx0cmVxdWlyZXNDb25maXJtYXRpb246IGJvb2xlYW47XG5cdHVzZXJJZDogc3RyaW5nO1xufTtcblxuY29uc3QgaGFuZGxlUG9zdFNpZ25VcEVtYWlscyA9IGFzeW5jICh7XG5cdGVtYWlsLFxuXHRuYW1lLFxuXHRyZXF1aXJlc0NvbmZpcm1hdGlvbixcblx0dXNlcklkLFxufTogUG9zdFNpZ25VcEVtYWlsUGFyYW1zKTogUHJvbWlzZTxBdXRoQWN0aW9uUmVzdWx0IHwgbnVsbD4gPT4ge1xuXHRpZiAocmVxdWlyZXNDb25maXJtYXRpb24pIHtcblx0XHRjb25zdCB7IHRva2VuLCBleHBpcmVzQXQgfSA9IGF3YWl0IGNyZWF0ZUVtYWlsVmVyaWZpY2F0aW9uVG9rZW4oXG5cdFx0XHRlbWFpbCxcblx0XHRcdHVzZXJJZCxcblx0XHRcdENPTkZJUk1BVElPTl9UT0tFTl9UVExfSE9VUlMsXG5cdFx0KTtcblxuXHRcdGNvbnN0IHZlcmlmaWNhdGlvblVybCA9IGAke2VtYWlsQ29uZmlnLnNpdGVVcmx9L2F1dGgvdmVyaWZ5LWVtYWlsP3Rva2VuPSR7dG9rZW59YDtcblx0XHRjb25zdCB2ZXJpZmljYXRpb25SZXN1bHQgPSBhd2FpdCBzZW5kRW1haWxWZXJpZmljYXRpb24oZW1haWwsIHtcblx0XHRcdG5hbWUsXG5cdFx0XHR2ZXJpZmljYXRpb25VcmwsXG5cdFx0fSk7XG5cblx0XHRpZiAoIXZlcmlmaWNhdGlvblJlc3VsdC5zdWNjZXNzKSB7XG5cdFx0XHRyZXBvcnRBdXRoSXNzdWUoXG5cdFx0XHRcdFwiRmFpbGVkIHRvIHNlbmQgdmVyaWZpY2F0aW9uIGVtYWlsXCIsXG5cdFx0XHRcdHZlcmlmaWNhdGlvblJlc3VsdC5lcnJvcixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IHRydWUsXG5cdFx0XHRkYXRhOiB7XG5cdFx0XHRcdHJlcXVpcmVzRW1haWxDb25maXJtYXRpb246IHRydWUsXG5cdFx0XHRcdG1lc3NhZ2U6XG5cdFx0XHRcdFx0XCJBY2NvdW50IGNyZWF0ZWQhIFBsZWFzZSBjaGVjayB5b3VyIGVtYWlsIHRvIHZlcmlmeSB5b3VyIGFjY291bnQuXCIsXG5cdFx0XHRcdGV4cGlyZXNBdDogZXhwaXJlc0F0LnRvSVNPU3RyaW5nKCksXG5cdFx0XHR9LFxuXHRcdH07XG5cdH1cblxuXHRjb25zdCBlbWFpbFJlc3VsdCA9IGF3YWl0IHNlbmRXZWxjb21lRW1haWwoZW1haWwsIHtcblx0XHRuYW1lLFxuXHRcdGxvZ2luVXJsOiBgJHtlbWFpbENvbmZpZy5zaXRlVXJsfS93ZWxjb21lYCxcblx0fSk7XG5cblx0aWYgKCFlbWFpbFJlc3VsdC5zdWNjZXNzKSB7XG5cdFx0cmVwb3J0QXV0aElzc3VlKFwiRmFpbGVkIHRvIHNlbmQgd2VsY29tZSBlbWFpbFwiLCBlbWFpbFJlc3VsdC5lcnJvcik7XG5cdH1cblxuXHRyZXR1cm4gbnVsbDtcbn07XG5cbmNvbnN0IG5vcm1hbGl6ZU9wdGlvbmFsUGhvbmUgPSAocGhvbmU6IHN0cmluZyB8IG51bGwpOiBzdHJpbmcgfCBudWxsID0+IHtcblx0aWYgKCFwaG9uZSkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0Y29uc3QgZGlnaXRzT25seSA9IHBob25lLnJlcGxhY2UoL1xcRC9nLCBcIlwiKTtcblx0aWYgKGRpZ2l0c09ubHkubGVuZ3RoIDwgUEhPTkVfTUlOX0RJR0lUUykge1xuXHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgcGhvbmUgbnVtYmVyIHdpdGggYXQgbGVhc3QgMTAgZGlnaXRzLlwiLFxuXHRcdCk7XG5cdH1cblxuXHRyZXR1cm4gbm9ybWFsaXplUGhvbmVOdW1iZXIocGhvbmUpO1xufTtcblxudHlwZSBDb21wbGV0ZVByb2ZpbGVGb3JtID0ge1xuXHRuYW1lOiBzdHJpbmcgfCBudWxsO1xuXHRub3JtYWxpemVkUGhvbmU6IHN0cmluZyB8IG51bGw7XG5cdGF2YXRhckZpbGU6IEZpbGUgfCBudWxsO1xufTtcblxuY29uc3QgcGFyc2VDb21wbGV0ZVByb2ZpbGVGb3JtID0gKGZvcm1EYXRhOiBGb3JtRGF0YSk6IENvbXBsZXRlUHJvZmlsZUZvcm0gPT4ge1xuXHRjb25zdCBhdmF0YXJFbnRyeSA9IGZvcm1EYXRhLmdldChcImF2YXRhclwiKTtcblx0Y29uc3QgYXZhdGFyRmlsZSA9XG5cdFx0YXZhdGFyRW50cnkgaW5zdGFuY2VvZiBGaWxlICYmIGF2YXRhckVudHJ5LnNpemUgPiAwID8gYXZhdGFyRW50cnkgOiBudWxsO1xuXG5cdGNvbnN0IG5hbWUgPSAoZm9ybURhdGEuZ2V0KFwibmFtZVwiKSBhcyBzdHJpbmcgfCBudWxsKSA/PyBudWxsO1xuXHRjb25zdCBwaG9uZSA9IChmb3JtRGF0YS5nZXQoXCJwaG9uZVwiKSBhcyBzdHJpbmcgfCBudWxsKSA/PyBudWxsO1xuXG5cdHJldHVybiB7XG5cdFx0bmFtZSxcblx0XHRub3JtYWxpemVkUGhvbmU6IG5vcm1hbGl6ZU9wdGlvbmFsUGhvbmUocGhvbmUpLFxuXHRcdGF2YXRhckZpbGUsXG5cdH07XG59O1xuXG5jb25zdCByZXF1aXJlQXV0aGVudGljYXRlZFVzZXIgPSBhc3luYyAoc3VwYWJhc2U6IFN1cGFiYXNlQnJvd3NlckNsaWVudCkgPT4ge1xuXHRjb25zdCB7XG5cdFx0ZGF0YTogeyB1c2VyIH0sXG5cdH0gPSBhd2FpdCB3aXRoU3VwYWJhc2VSYXRlTGltaXRSZXRyeSgoKSA9PiBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKSk7XG5cblx0aWYgKCF1c2VyKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiWW91IG11c3QgYmUgc2lnbmVkIGluIHRvIGNvbXBsZXRlIHlvdXIgcHJvZmlsZS5cIik7XG5cdH1cblxuXHRyZXR1cm4gdXNlcjtcbn07XG5cbnR5cGUgVXBkYXRlQ29tcGxldGVQcm9maWxlUmVjb3Jkc1BhcmFtcyA9IHtcblx0ZW5zdXJlU2VydmljZVN1cGFiYXNlOiAoKSA9PiBQcm9taXNlPFNlcnZpY2VTdXBhYmFzZUNsaWVudD47XG5cdHVzZXJJZDogc3RyaW5nO1xuXHRuYW1lOiBzdHJpbmcgfCBudWxsO1xuXHRub3JtYWxpemVkUGhvbmU6IHN0cmluZyB8IG51bGw7XG5cdGF2YXRhckZpbGU6IEZpbGUgfCBudWxsO1xuXHRleGlzdGluZ0F2YXRhcjogc3RyaW5nIHwgbnVsbDtcblx0ZXhpc3RpbmdNZXRhZGF0YT86IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xufTtcblxuY29uc3QgdXBsb2FkQXZhdGFyV2l0aEZhbGxiYWNrID0gYXN5bmMgKHtcblx0ZW5zdXJlU2VydmljZVN1cGFiYXNlLFxuXHRhdmF0YXJGaWxlLFxuXHR1c2VySWQsXG5cdGZhbGxiYWNrQXZhdGFyLFxufToge1xuXHRlbnN1cmVTZXJ2aWNlU3VwYWJhc2U6ICgpID0+IFByb21pc2U8U2VydmljZVN1cGFiYXNlQ2xpZW50Pjtcblx0YXZhdGFyRmlsZTogRmlsZSB8IG51bGw7XG5cdHVzZXJJZDogc3RyaW5nO1xuXHRmYWxsYmFja0F2YXRhcjogc3RyaW5nIHwgbnVsbDtcbn0pOiBQcm9taXNlPHN0cmluZyB8IG51bGw+ID0+IHtcblx0aWYgKCFhdmF0YXJGaWxlKSB7XG5cdFx0cmV0dXJuIGZhbGxiYWNrQXZhdGFyO1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCBhZG1pbkNsaWVudCA9IGF3YWl0IGVuc3VyZVNlcnZpY2VTdXBhYmFzZSgpO1xuXHRcdHJldHVybiBhd2FpdCB1cGxvYWRBdmF0YXJGb3JOZXdVc2VyKGFkbWluQ2xpZW50LCBhdmF0YXJGaWxlLCB1c2VySWQpO1xuXHR9IGNhdGNoIChhdmF0YXJVcGxvYWRFcnJvcikge1xuXHRcdHJlcG9ydEF1dGhJc3N1ZShcIkF2YXRhciB1cGxvYWQgZmFpbGVkXCIsIGF2YXRhclVwbG9hZEVycm9yKTtcblx0XHRyZXR1cm4gZmFsbGJhY2tBdmF0YXI7XG5cdH1cbn07XG5cbmNvbnN0IHVwZGF0ZVVzZXJUYWJsZVJlY29yZCA9IGFzeW5jICh7XG5cdGVuc3VyZVNlcnZpY2VTdXBhYmFzZSxcblx0dXNlcklkLFxuXHRuYW1lLFxuXHRub3JtYWxpemVkUGhvbmUsXG5cdGF2YXRhclVybCxcbn06IHtcblx0ZW5zdXJlU2VydmljZVN1cGFiYXNlOiAoKSA9PiBQcm9taXNlPFNlcnZpY2VTdXBhYmFzZUNsaWVudD47XG5cdHVzZXJJZDogc3RyaW5nO1xuXHRuYW1lOiBzdHJpbmcgfCBudWxsO1xuXHRub3JtYWxpemVkUGhvbmU6IHN0cmluZyB8IG51bGw7XG5cdGF2YXRhclVybDogc3RyaW5nIHwgbnVsbDtcbn0pOiBQcm9taXNlPEF1dGhBY3Rpb25SZXN1bHQgfCBudWxsPiA9PiB7XG5cdGNvbnN0IHVwZGF0ZVBheWxvYWQ6IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IG51bGw+ID0ge307XG5cblx0aWYgKG5hbWUpIHtcblx0XHR1cGRhdGVQYXlsb2FkLm5hbWUgPSBuYW1lO1xuXHR9XG5cdGlmIChub3JtYWxpemVkUGhvbmUpIHtcblx0XHR1cGRhdGVQYXlsb2FkLnBob25lID0gbm9ybWFsaXplZFBob25lO1xuXHR9XG5cdGlmIChhdmF0YXJVcmwpIHtcblx0XHR1cGRhdGVQYXlsb2FkLmF2YXRhciA9IGF2YXRhclVybDtcblx0fVxuXG5cdGlmIChPYmplY3Qua2V5cyh1cGRhdGVQYXlsb2FkKS5sZW5ndGggPT09IDApIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgYWRtaW5DbGllbnQgPSBhd2FpdCBlbnN1cmVTZXJ2aWNlU3VwYWJhc2UoKTtcblx0XHRpZiAoIWFkbWluQ2xpZW50KSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJBZG1pbiBjbGllbnQgbm90IGNvbmZpZ3VyZWRcIik7XG5cdFx0fVxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IGFkbWluQ2xpZW50XG5cdFx0XHQuZnJvbShcInByb2ZpbGVzXCIpXG5cdFx0XHQudXBkYXRlKHtcblx0XHRcdFx0ZnVsbF9uYW1lOiBuYW1lIHx8IHVuZGVmaW5lZCxcblx0XHRcdFx0cGhvbmU6IG5vcm1hbGl6ZWRQaG9uZSB8fCB1bmRlZmluZWQsXG5cdFx0XHRcdGF2YXRhcl91cmw6IGF2YXRhclVybCB8fCB1bmRlZmluZWQsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgdXNlcklkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0cmVwb3J0QXV0aElzc3VlKFwiRmFpbGVkIHRvIHVwZGF0ZSB1c2VyIHByb2ZpbGVcIiwgZXJyb3IpO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOiBgRmFpbGVkIHRvIHVwZGF0ZSB5b3VyIHByb2ZpbGU6ICR7ZXJyb3IubWVzc2FnZX1gLFxuXHRcdFx0fTtcblx0XHR9XG5cdH0gY2F0Y2ggKHByb2ZpbGVVcGRhdGVFcnJvcikge1xuXHRcdHJlcG9ydEF1dGhJc3N1ZShcIkZhaWxlZCB0byB1cGRhdGUgdXNlciBwcm9maWxlXCIsIHByb2ZpbGVVcGRhdGVFcnJvcik7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IFwiRmFpbGVkIHRvIHVwZGF0ZSB5b3VyIHByb2ZpbGUuIFBsZWFzZSB0cnkgYWdhaW4uXCIsXG5cdFx0fTtcblx0fVxuXG5cdHJldHVybiBudWxsO1xufTtcblxuY29uc3Qgc3luY1VzZXJNZXRhZGF0YVByb2ZpbGUgPSBhc3luYyAoe1xuXHRlbnN1cmVTZXJ2aWNlU3VwYWJhc2UsXG5cdHVzZXJJZCxcblx0bmFtZSxcblx0bm9ybWFsaXplZFBob25lLFxuXHRhdmF0YXJVcmwsXG5cdGV4aXN0aW5nTWV0YWRhdGEsXG59OiB7XG5cdGVuc3VyZVNlcnZpY2VTdXBhYmFzZTogKCkgPT4gUHJvbWlzZTxTZXJ2aWNlU3VwYWJhc2VDbGllbnQ+O1xuXHR1c2VySWQ6IHN0cmluZztcblx0bmFtZTogc3RyaW5nIHwgbnVsbDtcblx0bm9ybWFsaXplZFBob25lOiBzdHJpbmcgfCBudWxsO1xuXHRhdmF0YXJVcmw6IHN0cmluZyB8IG51bGw7XG5cdGV4aXN0aW5nTWV0YWRhdGE/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbn0pID0+IHtcblx0Y29uc3QgaGFzTWV0YWRhdGFDaGFuZ2VzID0gQm9vbGVhbihuYW1lIHx8IG5vcm1hbGl6ZWRQaG9uZSB8fCBhdmF0YXJVcmwpO1xuXHRpZiAoIWhhc01ldGFkYXRhQ2hhbmdlcykge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgYWRtaW5DbGllbnQgPSBhd2FpdCBlbnN1cmVTZXJ2aWNlU3VwYWJhc2UoKTtcblx0XHRjb25zdCBtZXRhZGF0YTogUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgbnVsbD4gPSB7XG5cdFx0XHQuLi4oZXhpc3RpbmdNZXRhZGF0YSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBudWxsPiksXG5cdFx0fTtcblxuXHRcdGlmIChuYW1lKSB7XG5cdFx0XHRtZXRhZGF0YS5uYW1lID0gbmFtZTtcblx0XHR9XG5cdFx0aWYgKG5vcm1hbGl6ZWRQaG9uZSkge1xuXHRcdFx0bWV0YWRhdGEucGhvbmUgPSBub3JtYWxpemVkUGhvbmU7XG5cdFx0fVxuXHRcdGlmIChhdmF0YXJVcmwpIHtcblx0XHRcdG1ldGFkYXRhLmF2YXRhclVybCA9IGF2YXRhclVybDtcblx0XHR9XG5cblx0XHRpZiAoIWFkbWluQ2xpZW50KSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJBZG1pbiBjbGllbnQgbm90IGNvbmZpZ3VyZWRcIik7XG5cdFx0fVxuXG5cdFx0YXdhaXQgYWRtaW5DbGllbnQuYXV0aC5hZG1pbi51cGRhdGVVc2VyQnlJZCh1c2VySWQsIHtcblx0XHRcdHVzZXJfbWV0YWRhdGE6IG1ldGFkYXRhLFxuXHRcdH0pO1xuXHR9IGNhdGNoIChtZXRhZGF0YUVycm9yKSB7XG5cdFx0cmVwb3J0QXV0aElzc3VlKFwiRmFpbGVkIHRvIHN5bmMgdXNlciBtZXRhZGF0YVwiLCBtZXRhZGF0YUVycm9yKTtcblx0fVxufTtcblxuY29uc3QgdXBkYXRlQ29tcGxldGVQcm9maWxlUmVjb3JkcyA9IGFzeW5jICh7XG5cdGVuc3VyZVNlcnZpY2VTdXBhYmFzZSxcblx0dXNlcklkLFxuXHRuYW1lLFxuXHRub3JtYWxpemVkUGhvbmUsXG5cdGF2YXRhckZpbGUsXG5cdGV4aXN0aW5nQXZhdGFyLFxuXHRleGlzdGluZ01ldGFkYXRhLFxufTogVXBkYXRlQ29tcGxldGVQcm9maWxlUmVjb3Jkc1BhcmFtcyk6IFByb21pc2U8QXV0aEFjdGlvblJlc3VsdCB8IG51bGw+ID0+IHtcblx0Y29uc3QgYXZhdGFyVXJsID0gYXdhaXQgdXBsb2FkQXZhdGFyV2l0aEZhbGxiYWNrKHtcblx0XHRlbnN1cmVTZXJ2aWNlU3VwYWJhc2UsXG5cdFx0YXZhdGFyRmlsZSxcblx0XHR1c2VySWQsXG5cdFx0ZmFsbGJhY2tBdmF0YXI6IGV4aXN0aW5nQXZhdGFyLFxuXHR9KTtcblxuXHRjb25zdCB1c2VyVXBkYXRlUmVzdWx0ID0gYXdhaXQgdXBkYXRlVXNlclRhYmxlUmVjb3JkKHtcblx0XHRlbnN1cmVTZXJ2aWNlU3VwYWJhc2UsXG5cdFx0dXNlcklkLFxuXHRcdG5hbWUsXG5cdFx0bm9ybWFsaXplZFBob25lLFxuXHRcdGF2YXRhclVybCxcblx0fSk7XG5cblx0aWYgKHVzZXJVcGRhdGVSZXN1bHQpIHtcblx0XHRyZXR1cm4gdXNlclVwZGF0ZVJlc3VsdDtcblx0fVxuXG5cdGF3YWl0IHN5bmNVc2VyTWV0YWRhdGFQcm9maWxlKHtcblx0XHRlbnN1cmVTZXJ2aWNlU3VwYWJhc2UsXG5cdFx0dXNlcklkLFxuXHRcdG5hbWUsXG5cdFx0bm9ybWFsaXplZFBob25lLFxuXHRcdGF2YXRhclVybCxcblx0XHRleGlzdGluZ01ldGFkYXRhLFxuXHR9KTtcblxuXHRyZXR1cm4gbnVsbDtcbn07XG5cbnR5cGUgUmVzb2x2ZVByb2ZpbGVSZWRpcmVjdFBhcmFtcyA9IHtcblx0ZW5zdXJlU2VydmljZVN1cGFiYXNlOiAoKSA9PiBQcm9taXNlPFNlcnZpY2VTdXBhYmFzZUNsaWVudD47XG5cdHVzZXJJZDogc3RyaW5nO1xufTtcblxuY29uc3QgcmVzb2x2ZVByb2ZpbGVSZWRpcmVjdFBhdGggPSBhc3luYyAoe1xuXHRlbnN1cmVTZXJ2aWNlU3VwYWJhc2UsXG5cdHVzZXJJZCxcbn06IFJlc29sdmVQcm9maWxlUmVkaXJlY3RQYXJhbXMpOiBQcm9taXNlPHN0cmluZz4gPT4ge1xuXHRjb25zdCBhZG1pbkNsaWVudCA9IGF3YWl0IGVuc3VyZVNlcnZpY2VTdXBhYmFzZSgpO1xuXHRpZiAoIWFkbWluQ2xpZW50KSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiQWRtaW4gY2xpZW50IG5vdCBjb25maWd1cmVkXCIpO1xuXHR9XG5cdGNvbnN0IHsgZGF0YTogaGFzQ29tcGFueSB9ID0gYXdhaXQgYWRtaW5DbGllbnRcblx0XHQuZnJvbShcImNvbXBhbnlfbWVtYmVyc2hpcHNcIilcblx0XHQuc2VsZWN0KFwiY29tcGFueV9pZFwiKVxuXHRcdC5lcShcInVzZXJfaWRcIiwgdXNlcklkKVxuXHRcdC5lcShcInN0YXR1c1wiLCBcImFjdGl2ZVwiKVxuXHRcdC5saW1pdCgxKVxuXHRcdC5tYXliZVNpbmdsZSgpO1xuXG5cdHJldHVybiBoYXNDb21wYW55ID8gXCIvZGFzaGJvYXJkXCIgOiBcIi93ZWxjb21lXCI7XG59O1xuLy8gSW50ZXJuYWwgcmV0dXJuIHR5cGUgKG5vdCBleHBvcnRlZCAtIE5leHQuanMgMTYgXCJ1c2Ugc2VydmVyXCIgcmVzdHJpY3Rpb24pXG50eXBlIEF1dGhBY3Rpb25SZXN1bHQgPSB7XG5cdHN1Y2Nlc3M6IGJvb2xlYW47XG5cdGVycm9yPzogc3RyaW5nO1xuXHRkYXRhPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG59O1xuXG4vKipcbiAqIFNpZ24gVXAgLSBDcmVhdGUgbmV3IHVzZXIgYWNjb3VudCB3aXRoIFN1cGFiYXNlIEF1dGggKyBDdXN0b20gUmVzZW5kIEVtYWlsXG4gKlxuICogRmVhdHVyZXM6XG4gKiAtIEVtYWlsL3Bhc3N3b3JkIGF1dGhlbnRpY2F0aW9uXG4gKiAtIEN1c3RvbSB3ZWxjb21lIGVtYWlsIHZpYSBSZXNlbmQgd2l0aCBicmFuZGVkIHRlbXBsYXRlXG4gKiAtIENyZWF0ZXMgdXNlciBwcm9maWxlIGluIHVzZXJzIHRhYmxlIHZpYSBkYXRhYmFzZSB0cmlnZ2VyXG4gKiAtIFZhbGlkYXRlcyBpbnB1dCB3aXRoIFpvZFxuICogLSBEaXNhYmxlcyBTdXBhYmFzZSdzIGJ1aWx0LWluIGVtYWlscyAodXNpbmcgY3VzdG9tIFJlc2VuZCB0ZW1wbGF0ZXMgaW5zdGVhZClcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNpZ25VcChmb3JtRGF0YTogRm9ybURhdGEpOiBQcm9taXNlPEF1dGhBY3Rpb25SZXN1bHQ+IHtcblx0dHJ5IHtcblx0XHQvLyBCb3QgcHJvdGVjdGlvbiBjaGVjayAoVmVyY2VsIEJvdElEKVxuXHRcdC8qXG5cdFx0Y29uc3QgYm90Q2hlY2sgPSBhd2FpdCBjaGVja0JvdElkKCk7XG5cdFx0aWYgKGJvdENoZWNrLmlzQm90KSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IFwiVW5hYmxlIHRvIHByb2Nlc3MgcmVxdWVzdC4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci5cIixcblx0XHRcdH07XG5cdFx0fVxuXHRcdCovXG5cblx0XHRjb25zdCBwYXJzZWRGb3JtID0gcGFyc2VTaWduVXBGb3JtRGF0YShmb3JtRGF0YSk7XG5cblx0XHRhd2FpdCBjaGVja1JhdGVMaW1pdChwYXJzZWRGb3JtLnZhbGlkYXRlZC5lbWFpbCwgYXV0aFJhdGVMaW1pdGVyKTtcblxuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgcmVxdWlyZVN1cGFiYXNlQnJvd3NlckNsaWVudCgpO1xuXHRcdGNvbnN0IGF1dGhSZXN1bHQgPSBhd2FpdCByZWdpc3RlclN1cGFiYXNlVXNlcih7XG5cdFx0XHRzdXBhYmFzZSxcblx0XHRcdHZhbGlkYXRlZDogcGFyc2VkRm9ybS52YWxpZGF0ZWQsXG5cdFx0XHRub3JtYWxpemVkUGhvbmU6IHBhcnNlZEZvcm0ubm9ybWFsaXplZFBob25lLFxuXHRcdFx0Y29tcGFueU5hbWU6IHBhcnNlZEZvcm0uY29tcGFueU5hbWUsXG5cdFx0fSk7XG5cblx0XHRjb25zdCB1c2VySWQgPSBhdXRoUmVzdWx0LnVzZXI/LmlkO1xuXHRcdGlmICghdXNlcklkKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gY3JlYXRlIHVzZXIgYWNjb3VudFwiKTtcblx0XHR9XG5cblx0XHRjb25zdCBlbnN1cmVTZXJ2aWNlU3VwYWJhc2UgPSBjcmVhdGVTZXJ2aWNlQ2xpZW50TG9hZGVyKCk7XG5cdFx0YXdhaXQgc3luY1NpZ25VcFByb2ZpbGUoe1xuXHRcdFx0ZW5zdXJlU2VydmljZVN1cGFiYXNlLFxuXHRcdFx0dXNlcklkLFxuXHRcdFx0bm9ybWFsaXplZFBob25lOiBwYXJzZWRGb3JtLm5vcm1hbGl6ZWRQaG9uZSxcblx0XHRcdG5hbWU6IHBhcnNlZEZvcm0udmFsaWRhdGVkLm5hbWUsXG5cdFx0XHRjb21wYW55TmFtZTogcGFyc2VkRm9ybS5jb21wYW55TmFtZSxcblx0XHRcdGF2YXRhckZpbGU6IHBhcnNlZEZvcm0uYXZhdGFyRmlsZSxcblx0XHR9KTtcblxuXHRcdGNvbnN0IHBvc3RTaWduVXBSZXN1bHQgPSBhd2FpdCBoYW5kbGVQb3N0U2lnblVwRW1haWxzKHtcblx0XHRcdGVtYWlsOiBwYXJzZWRGb3JtLnZhbGlkYXRlZC5lbWFpbCxcblx0XHRcdG5hbWU6IHBhcnNlZEZvcm0udmFsaWRhdGVkLm5hbWUsXG5cdFx0XHRyZXF1aXJlc0NvbmZpcm1hdGlvbjogIWF1dGhSZXN1bHQuc2Vzc2lvbixcblx0XHRcdHVzZXJJZCxcblx0XHR9KTtcblxuXHRcdGlmIChwb3N0U2lnblVwUmVzdWx0KSB7XG5cdFx0XHRyZXR1cm4gcG9zdFNpZ25VcFJlc3VsdDtcblx0XHR9XG5cblx0XHQvLyBSZXZhbGlkYXRlIGFuZCByZWRpcmVjdCB0byBvbmJvYXJkaW5nXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvXCIsIFwibGF5b3V0XCIpO1xuXHRcdHJlZGlyZWN0KFwiL2Rhc2hib2FyZFwiKTtcblx0fSBjYXRjaCAoY2F1Z2h0RXJyb3IpIHtcblx0XHRpZiAoY2F1Z2h0RXJyb3IgaW5zdGFuY2VvZiB6LlpvZEVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGNhdWdodEVycm9yLmlzc3Vlc1swXT8ubWVzc2FnZSB8fCBcIlZhbGlkYXRpb24gZXJyb3JcIixcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKFxuXHRcdFx0Y2F1Z2h0RXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJlxuXHRcdFx0Y2F1Z2h0RXJyb3IubWVzc2FnZSAhPT0gXCJORVhUX1JFRElSRUNUXCJcblx0XHQpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogY2F1Z2h0RXJyb3IubWVzc2FnZSxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gUmUtdGhyb3cgcmVkaXJlY3QgZXJyb3JzXG5cdFx0dGhyb3cgY2F1Z2h0RXJyb3I7XG5cdH1cbn1cblxuLyoqXG4gKiBDb21wbGV0ZSBQcm9maWxlIC0gVXBkYXRlIG1pc3NpbmcgdXNlciBpbmZvcm1hdGlvbiBhZnRlciBPQXV0aCBzaWdudXBcbiAqXG4gKiBGZWF0dXJlczpcbiAqIC0gQ29sbGVjdHMgbWlzc2luZyByZXF1aXJlZCBmaWVsZHMgKHBob25lLCBuYW1lKVxuICogLSBPcHRpb25hbCBhdmF0YXIgdXBsb2FkXG4gKiAtIFVwZGF0ZXMgYm90aCBhdXRoIG1ldGFkYXRhIGFuZCBwdWJsaWMudXNlcnMgdGFibGVcbiAqIC0gQ29tcGFueSBuYW1lIGlzIGNvbGxlY3RlZCBkdXJpbmcgb25ib2FyZGluZywgbm90IGhlcmVcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbXBsZXRlUHJvZmlsZShcblx0Zm9ybURhdGE6IEZvcm1EYXRhLFxuKTogUHJvbWlzZTxBdXRoQWN0aW9uUmVzdWx0PiB7XG5cdHRyeSB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCByZXF1aXJlU3VwYWJhc2VCcm93c2VyQ2xpZW50KCk7XG5cdFx0Y29uc3QgdXNlciA9IGF3YWl0IHJlcXVpcmVBdXRoZW50aWNhdGVkVXNlcihzdXBhYmFzZSk7XG5cdFx0Y29uc3QgcGFyc2VkRm9ybSA9IHBhcnNlQ29tcGxldGVQcm9maWxlRm9ybShmb3JtRGF0YSk7XG5cdFx0Y29uc3QgZW5zdXJlU2VydmljZVN1cGFiYXNlID0gY3JlYXRlU2VydmljZUNsaWVudExvYWRlcigpO1xuXG5cdFx0Y29uc3QgcHJvZmlsZVVwZGF0ZVJlc3VsdCA9IGF3YWl0IHVwZGF0ZUNvbXBsZXRlUHJvZmlsZVJlY29yZHMoe1xuXHRcdFx0ZW5zdXJlU2VydmljZVN1cGFiYXNlLFxuXHRcdFx0dXNlcklkOiB1c2VyLmlkLFxuXHRcdFx0bmFtZTogcGFyc2VkRm9ybS5uYW1lLFxuXHRcdFx0bm9ybWFsaXplZFBob25lOiBwYXJzZWRGb3JtLm5vcm1hbGl6ZWRQaG9uZSxcblx0XHRcdGF2YXRhckZpbGU6IHBhcnNlZEZvcm0uYXZhdGFyRmlsZSxcblx0XHRcdGV4aXN0aW5nQXZhdGFyOlxuXHRcdFx0XHR1c2VyLnVzZXJfbWV0YWRhdGE/LmF2YXRhcl91cmwgfHwgdXNlci51c2VyX21ldGFkYXRhPy5waWN0dXJlIHx8IG51bGwsXG5cdFx0XHRleGlzdGluZ01ldGFkYXRhOiB1c2VyLnVzZXJfbWV0YWRhdGEsXG5cdFx0fSk7XG5cblx0XHRpZiAocHJvZmlsZVVwZGF0ZVJlc3VsdCkge1xuXHRcdFx0cmV0dXJuIHByb2ZpbGVVcGRhdGVSZXN1bHQ7XG5cdFx0fVxuXG5cdFx0Y29uc3QgcmVkaXJlY3RQYXRoID0gYXdhaXQgcmVzb2x2ZVByb2ZpbGVSZWRpcmVjdFBhdGgoe1xuXHRcdFx0ZW5zdXJlU2VydmljZVN1cGFiYXNlLFxuXHRcdFx0dXNlcklkOiB1c2VyLmlkLFxuXHRcdH0pLmNhdGNoKChyZWRpcmVjdEVycm9yKSA9PiB7XG5cdFx0XHRyZXBvcnRBdXRoSXNzdWUoXCJFcnJvciBjaGVja2luZyBjb21wYW55IHN0YXR1c1wiLCByZWRpcmVjdEVycm9yKTtcblx0XHRcdHJldHVybiBcIi93ZWxjb21lXCI7XG5cdFx0fSk7XG5cblx0XHRyZXZhbGlkYXRlUGF0aChcIi9cIiwgXCJsYXlvdXRcIik7XG5cdFx0cmVkaXJlY3QocmVkaXJlY3RQYXRoKTtcblx0fSBjYXRjaCAoY2F1Z2h0RXJyb3IpIHtcblx0XHRpZiAoY2F1Z2h0RXJyb3IgaW5zdGFuY2VvZiB6LlpvZEVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGNhdWdodEVycm9yLmlzc3Vlc1swXT8ubWVzc2FnZSB8fCBcIlZhbGlkYXRpb24gZXJyb3JcIixcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKFxuXHRcdFx0Y2F1Z2h0RXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJlxuXHRcdFx0Y2F1Z2h0RXJyb3IubWVzc2FnZSAhPT0gXCJORVhUX1JFRElSRUNUXCJcblx0XHQpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogY2F1Z2h0RXJyb3IubWVzc2FnZSxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0dGhyb3cgY2F1Z2h0RXJyb3I7XG5cdH1cbn1cblxuLyoqXG4gKiBTaWduIEluIC0gQXV0aGVudGljYXRlIGV4aXN0aW5nIHVzZXIgd2l0aCBTdXBhYmFzZSBBdXRoXG4gKlxuICogRmVhdHVyZXM6XG4gKiAtIEVtYWlsL3Bhc3N3b3JkIGF1dGhlbnRpY2F0aW9uXG4gKiAtIFNlc3Npb24gbWFuYWdlbWVudCBoYW5kbGVkIGJ5IFN1cGFiYXNlXG4gKiAtIFZhbGlkYXRlcyBpbnB1dCB3aXRoIFpvZFxuICogLSBSZWRpcmVjdHMgdG8gZGFzaGJvYXJkIG9uIHN1Y2Nlc3NcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNpZ25Jbihmb3JtRGF0YTogRm9ybURhdGEpOiBQcm9taXNlPEF1dGhBY3Rpb25SZXN1bHQ+IHtcblx0dHJ5IHtcblx0XHQvLyBCb3QgcHJvdGVjdGlvbiBjaGVjayAoVmVyY2VsIEJvdElEKVxuXHRcdC8qXG5cdFx0Y29uc3QgYm90Q2hlY2sgPSBhd2FpdCBjaGVja0JvdElkKCk7XG5cdFx0aWYgKGJvdENoZWNrLmlzQm90KSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IFwiVW5hYmxlIHRvIHByb2Nlc3MgcmVxdWVzdC4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci5cIixcblx0XHRcdH07XG5cdFx0fVxuXHRcdCovXG5cblx0XHQvLyBQYXJzZSBhbmQgdmFsaWRhdGUgZm9ybSBkYXRhXG5cdFx0Y29uc3QgcmF3RGF0YSA9IHtcblx0XHRcdGVtYWlsOiBmb3JtRGF0YS5nZXQoXCJlbWFpbFwiKSBhcyBzdHJpbmcsXG5cdFx0XHRwYXNzd29yZDogZm9ybURhdGEuZ2V0KFwicGFzc3dvcmRcIikgYXMgc3RyaW5nLFxuXHRcdH07XG5cblx0XHRjb25zdCB2YWxpZGF0ZWREYXRhID0gc2lnbkluU2NoZW1hLnBhcnNlKHJhd0RhdGEpO1xuXG5cdFx0Ly8gUmF0ZSBsaW1pdCBzaWduLWluIGF0dGVtcHRzIGJ5IGVtYWlsXG5cdFx0dHJ5IHtcblx0XHRcdGF3YWl0IGNoZWNrUmF0ZUxpbWl0KHZhbGlkYXRlZERhdGEuZW1haWwsIGF1dGhSYXRlTGltaXRlcik7XG5cdFx0fSBjYXRjaCAocmF0ZUxpbWl0RXJyb3IpIHtcblx0XHRcdGlmIChyYXRlTGltaXRFcnJvciBpbnN0YW5jZW9mIFJhdGVMaW1pdEVycm9yKSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdFx0ZXJyb3I6IHJhdGVMaW1pdEVycm9yLm1lc3NhZ2UsXG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cdFx0XHR0aHJvdyByYXRlTGltaXRFcnJvcjtcblx0XHR9XG5cblx0XHQvLyBDcmVhdGUgU3VwYWJhc2UgY2xpZW50XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjpcblx0XHRcdFx0XHRcIkF1dGhlbnRpY2F0aW9uIHNlcnZpY2UgaXMgbm90IGNvbmZpZ3VyZWQuIFBsZWFzZSBjaGVjayB5b3VyIGVudmlyb25tZW50IHZhcmlhYmxlcy5cIixcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gU2lnbiBpbiB3aXRoIFN1cGFiYXNlIEF1dGhcblx0XHRjb25zdCB7IGRhdGEsIGVycm9yOiBzaWduSW5FcnJvciB9ID0gYXdhaXQgd2l0aFN1cGFiYXNlUmF0ZUxpbWl0UmV0cnkoKCkgPT5cblx0XHRcdHN1cGFiYXNlLmF1dGguc2lnbkluV2l0aFBhc3N3b3JkKHtcblx0XHRcdFx0ZW1haWw6IHZhbGlkYXRlZERhdGEuZW1haWwsXG5cdFx0XHRcdHBhc3N3b3JkOiB2YWxpZGF0ZWREYXRhLnBhc3N3b3JkLFxuXHRcdFx0fSksXG5cdFx0KTtcblxuXHRcdGlmIChzaWduSW5FcnJvcikge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOiBzaWduSW5FcnJvci5tZXNzYWdlLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRpZiAoIWRhdGEuc2Vzc2lvbikge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOiBcIkZhaWxlZCB0byBjcmVhdGUgc2Vzc2lvbi4gUGxlYXNlIHRyeSBhZ2Fpbi5cIixcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gUmV2YWxpZGF0ZSBhbmQgcmVkaXJlY3QgdG8gZGFzaGJvYXJkXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvXCIsIFwibGF5b3V0XCIpO1xuXHRcdHJlZGlyZWN0KFwiL2Rhc2hib2FyZFwiKTtcblx0fSBjYXRjaCAoY2F1Z2h0RXJyb3IpIHtcblx0XHRpZiAoY2F1Z2h0RXJyb3IgaW5zdGFuY2VvZiB6LlpvZEVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGNhdWdodEVycm9yLmlzc3Vlc1swXT8ubWVzc2FnZSB8fCBcIlZhbGlkYXRpb24gZXJyb3JcIixcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gSGFuZGxlIEF1dGhVbmtub3duRXJyb3IgKHVzdWFsbHkgbmV0d29yay9zZXJ2aWNlIGlzc3Vlcylcblx0XHRpZiAoY2F1Z2h0RXJyb3IgaW5zdGFuY2VvZiBBdXRoVW5rbm93bkVycm9yKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKFwiQXV0aFVua25vd25FcnJvciBkdXJpbmcgc2lnbiBpbjpcIiwgY2F1Z2h0RXJyb3IpO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOiBcIlVuYWJsZSB0byBjb25uZWN0IHRvIGF1dGhlbnRpY2F0aW9uIHNlcnZpY2UuIFBsZWFzZSBjaGVjayB5b3VyIGludGVybmV0IGNvbm5lY3Rpb24gYW5kIHRyeSBhZ2Fpbi5cIixcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKFxuXHRcdFx0Y2F1Z2h0RXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJlxuXHRcdFx0Y2F1Z2h0RXJyb3IubWVzc2FnZSAhPT0gXCJORVhUX1JFRElSRUNUXCJcblx0XHQpIHtcblx0XHRcdC8vIExvZyBub24tcmVkaXJlY3QgZXJyb3JzIGZvciBkZWJ1Z2dpbmdcblx0XHRcdGNvbnNvbGUuZXJyb3IoXCJTaWduIGluIGVycm9yOlwiLCBjYXVnaHRFcnJvcik7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGNhdWdodEVycm9yLm1lc3NhZ2UsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdHRocm93IGNhdWdodEVycm9yO1xuXHR9XG59XG5cbi8qKlxuICogU2lnbiBPdXQgLSBFbmQgdXNlciBzZXNzaW9uXG4gKlxuICogRmVhdHVyZXM6XG4gKiAtIENsZWFycyBTdXBhYmFzZSBzZXNzaW9uIChjb29raWUtYmFzZWQpXG4gKiAtIENsZWFycyBDU1JGIHRva2VuIGNvb2tpZVxuICogLSBDbGVhcnMgYWN0aXZlIGNvbXBhbnkgY29va2llXG4gKiAtIFJldmFsaWRhdGVzIGFsbCBjYWNoZWQgZGF0YVxuICogLSBSZWRpcmVjdHMgdG8gbG9naW4gcGFnZVxuICpcbiAqIFNlY3VyaXR5OlxuICogLSBFbnN1cmVzIGFsbCBhdXRoZW50aWNhdGlvbiBhbmQgc2VjdXJpdHkgY29va2llcyBhcmUgcmVtb3ZlZFxuICogLSBQcmV2ZW50cyBzZXNzaW9uIHJldXNlIG9yIENTUkYgYXR0YWNrcyBhZnRlciBsb2dvdXRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNpZ25PdXQoKTogUHJvbWlzZTxBdXRoQWN0aW9uUmVzdWx0PiB7XG5cdHRyeSB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogXCJBdXRoZW50aWNhdGlvbiBzZXJ2aWNlIGlzIG5vdCBjb25maWd1cmVkLlwiLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBTaWduIG91dCBmcm9tIFN1cGFiYXNlIChjbGVhcnMgYXV0aCBjb29raWVzKVxuXHRcdGNvbnN0IHsgZXJyb3I6IHNpZ25PdXRFcnJvciB9ID0gYXdhaXQgd2l0aFN1cGFiYXNlUmF0ZUxpbWl0UmV0cnkoKCkgPT5cblx0XHRcdHN1cGFiYXNlLmF1dGguc2lnbk91dCgpLFxuXHRcdCk7XG5cblx0XHRpZiAoc2lnbk91dEVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IHNpZ25PdXRFcnJvci5tZXNzYWdlLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBDbGVhciBhbGwgc2VjdXJpdHktcmVsYXRlZCBjb29raWVzXG5cdFx0YXdhaXQgY2xlYXJDU1JGVG9rZW4oKTtcblx0XHRhd2FpdCBjbGVhckFjdGl2ZUNvbXBhbnkoKTtcblxuXHRcdC8vIFJldmFsaWRhdGUgYW5kIHJlZGlyZWN0IHRvIGxvZ2luXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvXCIsIFwibGF5b3V0XCIpO1xuXHRcdHJlZGlyZWN0KFwiL2xvZ2luXCIpO1xuXHR9IGNhdGNoIChjYXVnaHRFcnJvcikge1xuXHRcdGlmIChcblx0XHRcdGNhdWdodEVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiZcblx0XHRcdGNhdWdodEVycm9yLm1lc3NhZ2UgIT09IFwiTkVYVF9SRURJUkVDVFwiXG5cdFx0KSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGNhdWdodEVycm9yLm1lc3NhZ2UsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdHRocm93IGNhdWdodEVycm9yO1xuXHR9XG59XG5cbi8qKlxuICogU2lnbiBJbiB3aXRoIE9BdXRoIC0gQXV0aGVudGljYXRlIHdpdGggR29vZ2xlIG9yIG90aGVyIHByb3ZpZGVyc1xuICpcbiAqIEZlYXR1cmVzOlxuICogLSBPQXV0aCBwcm92aWRlciBhdXRoZW50aWNhdGlvblxuICogLSBIYW5kbGVzIGJvdGggbmV3IHNpZ251cHMgYW5kIGV4aXN0aW5nIHVzZXIgbG9naW5zIGF1dG9tYXRpY2FsbHlcbiAqIC0gU3VwYWJhc2UgZGV0ZXJtaW5lcyBpZiB1c2VyIGV4aXN0cyBhbmQgc2lnbnMgdGhlbSBpbiBvciBjcmVhdGVzIG5ldyBhY2NvdW50XG4gKiAtIFJlZGlyZWN0cyB0byBwcm92aWRlciBsb2dpbiBwYWdlXG4gKiAtIEFmdGVyIGNhbGxiYWNrLCBjaGVja3MgaWYgcHJvZmlsZSBpcyBjb21wbGV0ZSAocGhvbmUsIG5hbWUpXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaWduSW5XaXRoT0F1dGgoXG5cdHByb3ZpZGVyOiBcImdvb2dsZVwiIHwgXCJmYWNlYm9va1wiLFxuKTogUHJvbWlzZTxBdXRoQWN0aW9uUmVzdWx0PiB7XG5cdHRyeSB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogXCJBdXRoZW50aWNhdGlvbiBzZXJ2aWNlIGlzIG5vdCBjb25maWd1cmVkLlwiLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRjb25zdCBzaXRlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU0lURV9VUkw7XG5cdFx0aWYgKCFzaXRlVXJsKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJORVhUX1BVQkxJQ19TSVRFX1VSTCBpcyBub3QgY29uZmlndXJlZFwiKTtcblx0XHR9XG5cblx0XHRjb25zdCB7IGRhdGEsIGVycm9yOiBvYXV0aEVycm9yIH0gPSBhd2FpdCB3aXRoU3VwYWJhc2VSYXRlTGltaXRSZXRyeSgoKSA9PlxuXHRcdFx0c3VwYWJhc2UuYXV0aC5zaWduSW5XaXRoT0F1dGgoe1xuXHRcdFx0XHRwcm92aWRlcixcblx0XHRcdFx0b3B0aW9uczoge1xuXHRcdFx0XHRcdHJlZGlyZWN0VG86IGAke3NpdGVVcmx9L2F1dGgvY2FsbGJhY2tgLFxuXHRcdFx0XHR9LFxuXHRcdFx0fSksXG5cdFx0KTtcblxuXHRcdGlmIChvYXV0aEVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IG9hdXRoRXJyb3IubWVzc2FnZSxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gUmVkaXJlY3QgdG8gT0F1dGggcHJvdmlkZXJcblx0XHRpZiAoZGF0YS51cmwpIHtcblx0XHRcdHJlZGlyZWN0KGRhdGEudXJsKTtcblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHR9O1xuXHR9IGNhdGNoIChjYXVnaHRFcnJvcikge1xuXHRcdGlmIChcblx0XHRcdGNhdWdodEVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiZcblx0XHRcdGNhdWdodEVycm9yLm1lc3NhZ2UgIT09IFwiTkVYVF9SRURJUkVDVFwiXG5cdFx0KSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGNhdWdodEVycm9yLm1lc3NhZ2UsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdHRocm93IGNhdWdodEVycm9yO1xuXHR9XG59XG5cbi8qKlxuICogRm9yZ290IFBhc3N3b3JkIC0gU2VuZCBjdXN0b20gcGFzc3dvcmQgcmVzZXQgZW1haWwgdmlhIFJlc2VuZFxuICpcbiAqIEZlYXR1cmVzOlxuICogLSBTZW5kcyBjdXN0b20gYnJhbmRlZCBwYXNzd29yZCByZXNldCBlbWFpbCB2aWEgUmVzZW5kXG4gKiAtIFNlY3VyZSB0b2tlbiBnZW5lcmF0aW9uIHZpYSBTdXBhYmFzZVxuICogLSBDdXN0b20gZW1haWwgdGVtcGxhdGUgd2l0aCBzZWN1cml0eSBpbmZvcm1hdGlvblxuICovXG5hc3luYyBmdW5jdGlvbiBmb3Jnb3RQYXNzd29yZChcblx0Zm9ybURhdGE6IEZvcm1EYXRhLFxuKTogUHJvbWlzZTxBdXRoQWN0aW9uUmVzdWx0PiB7XG5cdHRyeSB7XG5cdFx0Ly8gQm90IHByb3RlY3Rpb24gY2hlY2sgKFZlcmNlbCBCb3RJRClcblx0XHQvKlxuXHRcdGNvbnN0IGJvdENoZWNrID0gYXdhaXQgY2hlY2tCb3RJZCgpO1xuXHRcdGlmIChib3RDaGVjay5pc0JvdCkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOiBcIlVuYWJsZSB0byBwcm9jZXNzIHJlcXVlc3QuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuXCIsXG5cdFx0XHR9O1xuXHRcdH1cblx0XHQqL1xuXG5cdFx0Y29uc3QgcmF3RGF0YSA9IHtcblx0XHRcdGVtYWlsOiBmb3JtRGF0YS5nZXQoXCJlbWFpbFwiKSBhcyBzdHJpbmcsXG5cdFx0fTtcblxuXHRcdGNvbnN0IHZhbGlkYXRlZERhdGEgPSBmb3Jnb3RQYXNzd29yZFNjaGVtYS5wYXJzZShyYXdEYXRhKTtcblxuXHRcdC8vIFJhdGUgbGltaXQgcGFzc3dvcmQgcmVzZXQgcmVxdWVzdHMgYnkgZW1haWwgKHN0cmljdGVyIGxpbWl0KVxuXHRcdHRyeSB7XG5cdFx0XHRhd2FpdCBjaGVja1JhdGVMaW1pdCh2YWxpZGF0ZWREYXRhLmVtYWlsLCBwYXNzd29yZFJlc2V0UmF0ZUxpbWl0ZXIpO1xuXHRcdH0gY2F0Y2ggKHJhdGVMaW1pdEVycm9yKSB7XG5cdFx0XHRpZiAocmF0ZUxpbWl0RXJyb3IgaW5zdGFuY2VvZiBSYXRlTGltaXRFcnJvcikge1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRcdGVycm9yOiByYXRlTGltaXRFcnJvci5tZXNzYWdlLFxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdFx0dGhyb3cgcmF0ZUxpbWl0RXJyb3I7XG5cdFx0fVxuXG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogXCJBdXRoZW50aWNhdGlvbiBzZXJ2aWNlIGlzIG5vdCBjb25maWd1cmVkLlwiLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBHZW5lcmF0ZSBwYXNzd29yZCByZXNldCB0b2tlbiB2aWEgU3VwYWJhc2Vcblx0XHRjb25zdCB7IGVycm9yOiByZXNldFBhc3N3b3JkRXJyb3IgfSA9IGF3YWl0IHdpdGhTdXBhYmFzZVJhdGVMaW1pdFJldHJ5KCgpID0+XG5cdFx0XHRzdXBhYmFzZS5hdXRoLnJlc2V0UGFzc3dvcmRGb3JFbWFpbCh2YWxpZGF0ZWREYXRhLmVtYWlsLCB7XG5cdFx0XHRcdHJlZGlyZWN0VG86IGAke2VtYWlsQ29uZmlnLnNpdGVVcmx9L2F1dGgvcmVzZXQtcGFzc3dvcmRgLFxuXHRcdFx0fSksXG5cdFx0KTtcblxuXHRcdGlmIChyZXNldFBhc3N3b3JkRXJyb3IpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogcmVzZXRQYXNzd29yZEVycm9yLm1lc3NhZ2UsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdC8vIE5vdGU6IFN1cGFiYXNlIHdpbGwgc2VuZCBpdHMgb3duIGVtYWlsIHdpdGggdGhlIHJlc2V0IGxpbmsuXG5cdFx0Ly8gVG8gdXNlIGN1c3RvbSBSZXNlbmQgZW1haWwgaW5zdGVhZCwgeW91IG5lZWQgdG86XG5cdFx0Ly8gMS4gRGlzYWJsZSBTdXBhYmFzZSdzIHBhc3N3b3JkIHJlc2V0IGVtYWlsIGluIHRoZSBkYXNoYm9hcmRcblx0XHQvLyAyLiBHZW5lcmF0ZSB5b3VyIG93biBzZWN1cmUgdG9rZW5cblx0XHQvLyAzLiBTZW5kIGN1c3RvbSBlbWFpbCB3aXRoIHRoYXQgdG9rZW5cblx0XHQvLyBGb3Igbm93LCB3ZSdyZSB1c2luZyBTdXBhYmFzZSdzIHJlc2V0IGZsb3cgYnV0IHlvdSBjYW4gY3VzdG9taXplIHRoaXNcblxuXHRcdC8vIFRPRE86IFJlcGxhY2Ugd2l0aCBjdXN0b20gdG9rZW4gZ2VuZXJhdGlvbiArIFJlc2VuZCBlbWFpbFxuXHRcdC8vIEZvciBmdWxsIGN1c3RvbSBpbXBsZW1lbnRhdGlvbiwgc2VlIHRoZSBjb21tZW50ZWQgY29kZSBiZWxvdzpcblx0XHQvKlxuICAgIGNvbnN0IHJlc2V0VG9rZW4gPSBnZW5lcmF0ZVNlY3VyZVRva2VuKCk7IC8vIEltcGxlbWVudCB5b3VyIG93biB0b2tlbiBnZW5lcmF0aW9uXG4gICAgYXdhaXQgc3RvcmVSZXNldFRva2VuKHZhbGlkYXRlZERhdGEuZW1haWwsIHJlc2V0VG9rZW4pOyAvLyBTdG9yZSBpbiB5b3VyIGRhdGFiYXNlXG5cbiAgICBhd2FpdCBzZW5kUGFzc3dvcmRSZXNldCh2YWxpZGF0ZWREYXRhLmVtYWlsLCB7XG4gICAgICByZXNldFVybDogYCR7ZW1haWxDb25maWcuc2l0ZVVybH0vYXV0aC9yZXNldC1wYXNzd29yZD90b2tlbj0ke3Jlc2V0VG9rZW59YCxcbiAgICAgIGV4cGlyZXNJbk1pbnV0ZXM6IDYwLFxuICAgIH0pO1xuICAgICovXG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdGRhdGE6IHtcblx0XHRcdFx0bWVzc2FnZTogXCJQYXNzd29yZCByZXNldCBlbWFpbCBzZW50LiBQbGVhc2UgY2hlY2sgeW91ciBpbmJveC5cIixcblx0XHRcdH0sXG5cdFx0fTtcblx0fSBjYXRjaCAoY2F1Z2h0RXJyb3IpIHtcblx0XHRpZiAoY2F1Z2h0RXJyb3IgaW5zdGFuY2VvZiB6LlpvZEVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGNhdWdodEVycm9yLmlzc3Vlc1swXT8ubWVzc2FnZSB8fCBcIlZhbGlkYXRpb24gZXJyb3JcIixcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGNhdWdodEVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGNhdWdodEVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIHNlbmQgcmVzZXQgZW1haWxcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogUmVzZXQgUGFzc3dvcmQgLSBVcGRhdGUgcGFzc3dvcmQgd2l0aCByZXNldCB0b2tlbiArIFNlbmQgY29uZmlybWF0aW9uIGVtYWlsXG4gKlxuICogRmVhdHVyZXM6XG4gKiAtIFVwZGF0ZXMgdXNlciBwYXNzd29yZFxuICogLSBWYWxpZGF0ZXMgcGFzc3dvcmQgc3RyZW5ndGhcbiAqIC0gSW52YWxpZGF0ZXMgcmVzZXQgdG9rZW4gYWZ0ZXIgdXNlXG4gKiAtIFNlbmRzIGN1c3RvbSBwYXNzd29yZCBjaGFuZ2VkIGNvbmZpcm1hdGlvbiB2aWEgUmVzZW5kXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHJlc2V0UGFzc3dvcmQoXG5cdGZvcm1EYXRhOiBGb3JtRGF0YSxcbik6IFByb21pc2U8QXV0aEFjdGlvblJlc3VsdD4ge1xuXHR0cnkge1xuXHRcdC8vIEJvdCBwcm90ZWN0aW9uIGNoZWNrIChWZXJjZWwgQm90SUQpXG5cdFx0Lypcblx0XHRjb25zdCBib3RDaGVjayA9IGF3YWl0IGNoZWNrQm90SWQoKTtcblx0XHRpZiAoYm90Q2hlY2suaXNCb3QpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogXCJVbmFibGUgdG8gcHJvY2VzcyByZXF1ZXN0LiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLlwiLFxuXHRcdFx0fTtcblx0XHR9XG5cdFx0Ki9cblxuXHRcdGNvbnN0IHJhd0RhdGEgPSB7XG5cdFx0XHRwYXNzd29yZDogZm9ybURhdGEuZ2V0KFwicGFzc3dvcmRcIikgYXMgc3RyaW5nLFxuXHRcdFx0Y29uZmlybVBhc3N3b3JkOiBmb3JtRGF0YS5nZXQoXCJjb25maXJtUGFzc3dvcmRcIikgYXMgc3RyaW5nLFxuXHRcdH07XG5cblx0XHRjb25zdCB2YWxpZGF0ZWREYXRhID0gcmVzZXRQYXNzd29yZFNjaGVtYS5wYXJzZShyYXdEYXRhKTtcblxuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IFwiQXV0aGVudGljYXRpb24gc2VydmljZSBpcyBub3QgY29uZmlndXJlZC5cIixcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gR2V0IGN1cnJlbnQgdXNlciBiZWZvcmUgdXBkYXRpbmcgcGFzc3dvcmRcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgd2l0aFN1cGFiYXNlUmF0ZUxpbWl0UmV0cnkoKCkgPT4gc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCkpO1xuXG5cdFx0Y29uc3QgeyBlcnJvcjogdXBkYXRlVXNlckVycm9yIH0gPSBhd2FpdCB3aXRoU3VwYWJhc2VSYXRlTGltaXRSZXRyeSgoKSA9PlxuXHRcdFx0c3VwYWJhc2UuYXV0aC51cGRhdGVVc2VyKHtcblx0XHRcdFx0cGFzc3dvcmQ6IHZhbGlkYXRlZERhdGEucGFzc3dvcmQsXG5cdFx0XHR9KSxcblx0XHQpO1xuXG5cdFx0aWYgKHVwZGF0ZVVzZXJFcnJvcikge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOiB1cGRhdGVVc2VyRXJyb3IubWVzc2FnZSxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gU2VuZCBwYXNzd29yZCBjaGFuZ2VkIGNvbmZpcm1hdGlvbiBlbWFpbCB2aWEgUmVzZW5kXG5cdFx0aWYgKHVzZXI/LmVtYWlsKSB7XG5cdFx0XHRjb25zdCBlbWFpbFJlc3VsdCA9IGF3YWl0IHNlbmRQYXNzd29yZENoYW5nZWQodXNlci5lbWFpbCwge1xuXHRcdFx0XHRuYW1lOiB1c2VyLnVzZXJfbWV0YWRhdGE/Lm5hbWUgfHwgXCJVc2VyXCIsXG5cdFx0XHRcdGNoYW5nZWRBdDogbmV3IERhdGUoKSxcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBMb2cgZW1haWwgc2VuZCBmYWlsdXJlIGJ1dCBkb24ndCBibG9jayBwYXNzd29yZCByZXNldFxuXHRcdFx0aWYgKCFlbWFpbFJlc3VsdC5zdWNjZXNzKSB7XG5cdFx0XHRcdHJlcG9ydEF1dGhJc3N1ZShcblx0XHRcdFx0XHRcIkZhaWxlZCB0byBzZW5kIHBhc3N3b3JkIGNoYW5nZWQgZW1haWxcIixcblx0XHRcdFx0XHRlbWFpbFJlc3VsdC5lcnJvcixcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdGRhdGE6IHtcblx0XHRcdFx0bWVzc2FnZTpcblx0XHRcdFx0XHRcIlBhc3N3b3JkIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5LiBBIGNvbmZpcm1hdGlvbiBlbWFpbCBoYXMgYmVlbiBzZW50LlwiLFxuXHRcdFx0fSxcblx0XHR9O1xuXHR9IGNhdGNoIChjYXVnaHRFcnJvcikge1xuXHRcdGlmIChjYXVnaHRFcnJvciBpbnN0YW5jZW9mIHouWm9kRXJyb3IpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogY2F1Z2h0RXJyb3IuaXNzdWVzWzBdPy5tZXNzYWdlIHx8IFwiVmFsaWRhdGlvbiBlcnJvclwiLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0Y2F1Z2h0RXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gY2F1Z2h0RXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gcmVzZXQgcGFzc3dvcmRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogR2V0IEN1cnJlbnQgVXNlciAtIFJldHJpZXZlIGF1dGhlbnRpY2F0ZWQgdXNlciBkYXRhXG4gKlxuICogRmVhdHVyZXM6XG4gKiAtIFJldHVybnMgdXNlciBzZXNzaW9uIGRhdGFcbiAqIC0gUmV0dXJucyBudWxsIGlmIG5vdCBhdXRoZW50aWNhdGVkXG4gKiAtIENhbiBiZSB1c2VkIGluIFNlcnZlciBDb21wb25lbnRzXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldEN1cnJlbnRVc2VyKCkge1xuXHR0cnkge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgd2l0aFN1cGFiYXNlUmF0ZUxpbWl0UmV0cnkoKCkgPT4gc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCkpO1xuXG5cdFx0cmV0dXJuIHVzZXI7XG5cdH0gY2F0Y2ggKGNhdWdodEVycm9yKSB7XG5cdFx0cmVwb3J0QXV0aElzc3VlKFwiRXJyb3IgZ2V0dGluZyBjdXJyZW50IHVzZXJcIiwgY2F1Z2h0RXJyb3IpO1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG59XG5cbi8qKlxuICogR2V0IFNlc3Npb24gLSBSZXRyaWV2ZSBjdXJyZW50IHNlc3Npb25cbiAqXG4gKiBGZWF0dXJlczpcbiAqIC0gUmV0dXJucyBzZXNzaW9uIGRhdGEgaW5jbHVkaW5nIGFjY2VzcyB0b2tlblxuICogLSBSZXR1cm5zIG51bGwgaWYgbm8gYWN0aXZlIHNlc3Npb25cbiAqIC0gQ2FuIGJlIHVzZWQgaW4gU2VydmVyIENvbXBvbmVudHNcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2V0U2Vzc2lvbigpIHtcblx0dHJ5IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG5cdFx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyBzZXNzaW9uIH0sXG5cdFx0fSA9IGF3YWl0IHdpdGhTdXBhYmFzZVJhdGVMaW1pdFJldHJ5KCgpID0+IHN1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbigpKTtcblxuXHRcdHJldHVybiBzZXNzaW9uO1xuXHR9IGNhdGNoIChjYXVnaHRFcnJvcikge1xuXHRcdHJlcG9ydEF1dGhJc3N1ZShcIkVycm9yIGdldHRpbmcgc2Vzc2lvblwiLCBjYXVnaHRFcnJvcik7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cbn1cblxuLyoqXG4gKiBWZXJpZnkgRW1haWwgLSBWZXJpZnkgdXNlcidzIGVtYWlsIHdpdGggY3VzdG9tIHRva2VuXG4gKlxuICogRmVhdHVyZXM6XG4gKiAtIFZhbGlkYXRlcyBjdXN0b20gdmVyaWZpY2F0aW9uIHRva2VuXG4gKiAtIFVwZGF0ZXMgU3VwYWJhc2UgdXNlcidzIGVtYWlsX2NvbmZpcm1lZF9hdFxuICogLSBPbmUtdGltZSB1c2UgdG9rZW5zIHdpdGggZXhwaXJhdGlvblxuICogLSBTZW5kcyB3ZWxjb21lIGVtYWlsIGFmdGVyIHN1Y2Nlc3NmdWwgdmVyaWZpY2F0aW9uXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2ZXJpZnlFbWFpbCh0b2tlbjogc3RyaW5nKTogUHJvbWlzZTxBdXRoQWN0aW9uUmVzdWx0PiB7XG5cdHRyeSB7XG5cdFx0Ly8gVmVyaWZ5IGFuZCBjb25zdW1lIHRoZSB0b2tlblxuXHRcdGNvbnN0IHRva2VuUmVjb3JkID0gYXdhaXQgdmVyaWZ5QW5kQ29uc3VtZVRva2VuKFxuXHRcdFx0dG9rZW4sXG5cdFx0XHRcImVtYWlsX3ZlcmlmaWNhdGlvblwiLFxuXHRcdCk7XG5cblx0XHRpZiAoIXRva2VuUmVjb3JkKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6XG5cdFx0XHRcdFx0XCJJbnZhbGlkIG9yIGV4cGlyZWQgdmVyaWZpY2F0aW9uIGxpbmsuIFBsZWFzZSByZXF1ZXN0IGEgbmV3IG9uZS5cIixcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogXCJBdXRoZW50aWNhdGlvbiBzZXJ2aWNlIGlzIG5vdCBjb25maWd1cmVkLlwiLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBVcGRhdGUgU3VwYWJhc2UgdXNlciB0byBtYXJrIGVtYWlsIGFzIHZlcmlmaWVkXG5cdFx0aWYgKHRva2VuUmVjb3JkLnVzZXJJZCkge1xuXHRcdFx0Ly8gTm90ZTogcHJvZmlsZXMgdGFibGUgZG9lc24ndCBoYXZlIGVtYWlsX3ZlcmlmaWVkIGZpZWxkXG5cdFx0XHQvLyBFbWFpbCB2ZXJpZmljYXRpb24gaXMgaGFuZGxlZCB0aHJvdWdoIGF1dGgudXNlcnMuZW1haWxfY29uZmlybWVkX2F0XG5cdFx0XHQvLyB3aGljaCBpcyBzZXQgYXV0b21hdGljYWxseSBieSBTdXBhYmFzZSBBdXRoXG5cdFx0XHQvLyBXZSBkb24ndCBuZWVkIHRvIG1hbnVhbGx5IHVwZGF0ZSBwcm9maWxlcyB0YWJsZVxuXG5cdFx0XHQvLyBTZW5kIHdlbGNvbWUgZW1haWwgYWZ0ZXIgc3VjY2Vzc2Z1bCB2ZXJpZmljYXRpb25cblx0XHRcdGNvbnN0IHdlbGNvbWVSZXN1bHQgPSBhd2FpdCBzZW5kV2VsY29tZUVtYWlsKHRva2VuUmVjb3JkLmVtYWlsLCB7XG5cdFx0XHRcdG5hbWU6IGdldE1ldGFkYXRhU3RyaW5nKHRva2VuUmVjb3JkLm1ldGFkYXRhLCBcIm5hbWVcIikgfHwgXCJVc2VyXCIsXG5cdFx0XHRcdGxvZ2luVXJsOiBgJHtlbWFpbENvbmZpZy5zaXRlVXJsfS9sb2dpbmAsXG5cdFx0XHR9KTtcblxuXHRcdFx0aWYgKCF3ZWxjb21lUmVzdWx0LnN1Y2Nlc3MpIHtcblx0XHRcdFx0cmVwb3J0QXV0aElzc3VlKFwiRmFpbGVkIHRvIHNlbmQgd2VsY29tZSBlbWFpbFwiLCB3ZWxjb21lUmVzdWx0LmVycm9yKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdGRhdGE6IHtcblx0XHRcdFx0bWVzc2FnZTogXCJFbWFpbCB2ZXJpZmllZCBzdWNjZXNzZnVsbHkhIFlvdSBjYW4gbm93IHNpZ24gaW4uXCIsXG5cdFx0XHRcdGVtYWlsOiB0b2tlblJlY29yZC5lbWFpbCxcblx0XHRcdH0sXG5cdFx0fTtcblx0fSBjYXRjaCAoY2F1Z2h0RXJyb3IpIHtcblx0XHRyZXBvcnRBdXRoSXNzdWUoXCJFcnJvciB2ZXJpZnlpbmcgZW1haWxcIiwgY2F1Z2h0RXJyb3IpO1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRjYXVnaHRFcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBjYXVnaHRFcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byB2ZXJpZnkgZW1haWxcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogUmVzZW5kIFZlcmlmaWNhdGlvbiBFbWFpbCAtIFNlbmQgYSBuZXcgdmVyaWZpY2F0aW9uIGVtYWlsXG4gKlxuICogRmVhdHVyZXM6XG4gKiAtIEdlbmVyYXRlcyBuZXcgdmVyaWZpY2F0aW9uIHRva2VuXG4gKiAtIERlbGV0ZXMgb2xkIHRva2VucyBmb3IgdGhlIGVtYWlsXG4gKiAtIFNlbmRzIGZyZXNoIHZlcmlmaWNhdGlvbiBlbWFpbFxuICovXG5hc3luYyBmdW5jdGlvbiByZXNlbmRWZXJpZmljYXRpb25FbWFpbChcblx0ZW1haWw6IHN0cmluZyxcbik6IFByb21pc2U8QXV0aEFjdGlvblJlc3VsdD4ge1xuXHR0cnkge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IFwiQXV0aGVudGljYXRpb24gc2VydmljZSBpcyBub3QgY29uZmlndXJlZC5cIixcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gQ2hlY2sgaWYgdXNlciBleGlzdHNcblx0XHRjb25zdCB7IGRhdGE6IHVzZXJEYXRhIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJwcm9maWxlc1wiKVxuXHRcdFx0LnNlbGVjdChcImlkLCBmdWxsX25hbWUsIGVtYWlsXCIpXG5cdFx0XHQuZXEoXCJlbWFpbFwiLCBlbWFpbClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghdXNlckRhdGEpIHtcblx0XHRcdC8vIERvbid0IHJldmVhbCBpZiB1c2VyIGV4aXN0cyBvciBub3QgZm9yIHNlY3VyaXR5XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0XHRkYXRhOiB7XG5cdFx0XHRcdFx0bWVzc2FnZTpcblx0XHRcdFx0XHRcdFwiSWYgYW4gYWNjb3VudCBleGlzdHMgd2l0aCB0aGlzIGVtYWlsLCBhIHZlcmlmaWNhdGlvbiBsaW5rIGhhcyBiZWVuIHNlbnQuXCIsXG5cdFx0XHRcdH0sXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdC8vIEdlbmVyYXRlIG5ldyB2ZXJpZmljYXRpb24gdG9rZW5cblx0XHRjb25zdCB7IHRva2VuLCBleHBpcmVzQXQgfSA9IGF3YWl0IGNyZWF0ZUVtYWlsVmVyaWZpY2F0aW9uVG9rZW4oXG5cdFx0XHRlbWFpbCxcblx0XHRcdHVzZXJEYXRhLmlkLFxuXHRcdFx0Q09ORklSTUFUSU9OX1RPS0VOX1RUTF9IT1VSUyxcblx0XHQpO1xuXG5cdFx0Ly8gU2VuZCB2ZXJpZmljYXRpb24gZW1haWxcblx0XHRjb25zdCB2ZXJpZmljYXRpb25VcmwgPSBgJHtlbWFpbENvbmZpZy5zaXRlVXJsfS9hdXRoL3ZlcmlmeS1lbWFpbD90b2tlbj0ke3Rva2VufWA7XG5cblx0XHRjb25zdCBlbWFpbFJlc3VsdCA9IGF3YWl0IHNlbmRFbWFpbFZlcmlmaWNhdGlvbihlbWFpbCwge1xuXHRcdFx0bmFtZTogdXNlckRhdGEuZnVsbF9uYW1lIHx8IFwiVXNlclwiLFxuXHRcdFx0dmVyaWZpY2F0aW9uVXJsLFxuXHRcdH0pO1xuXG5cdFx0aWYgKCFlbWFpbFJlc3VsdC5zdWNjZXNzKSB7XG5cdFx0XHRyZXBvcnRBdXRoSXNzdWUoXCJGYWlsZWQgdG8gc2VuZCB2ZXJpZmljYXRpb24gZW1haWxcIiwgZW1haWxSZXN1bHQuZXJyb3IpO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOiBcIkZhaWxlZCB0byBzZW5kIHZlcmlmaWNhdGlvbiBlbWFpbC4gUGxlYXNlIHRyeSBhZ2Fpbi5cIixcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IHRydWUsXG5cdFx0XHRkYXRhOiB7XG5cdFx0XHRcdG1lc3NhZ2U6IFwiQSBuZXcgdmVyaWZpY2F0aW9uIGxpbmsgaGFzIGJlZW4gc2VudCB0byB5b3VyIGVtYWlsLlwiLFxuXHRcdFx0XHRleHBpcmVzQXQ6IGV4cGlyZXNBdC50b0lTT1N0cmluZygpLFxuXHRcdFx0fSxcblx0XHR9O1xuXHR9IGNhdGNoIChjYXVnaHRFcnJvcikge1xuXHRcdHJlcG9ydEF1dGhJc3N1ZShcIkVycm9yIHJlc2VuZGluZyB2ZXJpZmljYXRpb24gZW1haWxcIiwgY2F1Z2h0RXJyb3IpO1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRjYXVnaHRFcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBjYXVnaHRFcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byByZXNlbmQgdmVyaWZpY2F0aW9uIGVtYWlsXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIEdldCBBY3RpdmUgQ29tcGFueSBJRCBBY3Rpb25cbiAqXG4gKiBTZXJ2ZXIgYWN0aW9uIHRvIGdldCB0aGUgY3VycmVudGx5IGFjdGl2ZSBjb21wYW55IElEIGZvciBjbGllbnQgY29tcG9uZW50cy5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENvbXBhbnlJZEFjdGlvbigpOiBQcm9taXNlPHtcblx0c3VjY2VzczogYm9vbGVhbjtcblx0Y29tcGFueUlkPzogc3RyaW5nO1xuXHRlcnJvcj86IHN0cmluZztcbn0+IHtcblx0XCJ1c2Ugc2VydmVyXCI7XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IGdldEFjdGl2ZUNvbXBhbnlJZCB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvYXV0aC9jb21wYW55LWNvbnRleHRcIik7XG5cdFx0Y29uc3QgY29tcGFueUlkID0gYXdhaXQgZ2V0QWN0aXZlQ29tcGFueUlkKCk7XG5cblx0XHRpZiAoIWNvbXBhbnlJZCkge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIGFjdGl2ZSBjb21wYW55IGZvdW5kXCIgfTtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBjb21wYW55SWQgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRjb25zb2xlLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBjb21wYW55IElEOlwiLCBlcnJvcik7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJVbmtub3duIGVycm9yXCIsXG5cdFx0fTtcblx0fVxufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI2UkFpZ0NzQiJ9
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:3a0d76 [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"406bce7fa085d3cdc2f5aebf07b01ac78a96de1c51":"switchCompany"},"apps/web/src/actions/company-context.ts",""] */ __turbopack_context__.s([
    "switchCompany",
    ()=>switchCompany
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var switchCompany = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("406bce7fa085d3cdc2f5aebf07b01ac78a96de1c51", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "switchCompany"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vY29tcGFueS1jb250ZXh0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHNlcnZlclwiO1xuXG4vKipcbiAqIENvbXBhbnkgQ29udGV4dCBTZXJ2ZXIgQWN0aW9uc1xuICpcbiAqIFNlcnZlciBBY3Rpb25zIGZvciBtYW5hZ2luZyBhY3RpdmUgY29tcGFueSBjb250ZXh0LlxuICogVXNlZCBieSBjb21wYW55IHN3aXRjaGVyIFVJIGNvbXBvbmVudHMuXG4gKi9cblxuaW1wb3J0IHsgcmV2YWxpZGF0ZVBhdGggfSBmcm9tIFwibmV4dC9jYWNoZVwiO1xuaW1wb3J0IHtcblx0Y2xlYXJBY3RpdmVDb21wYW55LFxuXHRnZXRBY3RpdmVDb21wYW55LFxuXHRnZXRVc2VyQ29tcGFuaWVzLFxuXHRzZXRBY3RpdmVDb21wYW55LFxufSBmcm9tIFwiQC9saWIvYXV0aC9jb21wYW55LWNvbnRleHRcIjtcblxuLyoqXG4gKiBBY3Rpb24gUmVzdWx0IFR5cGVcbiAqL1xudHlwZSBBY3Rpb25SZXN1bHQ8VCA9IHZvaWQ+ID1cblx0fCB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlO1xuXHRcdFx0ZGF0YT86IFQ7XG5cdFx0XHRtZXNzYWdlPzogc3RyaW5nO1xuXHQgIH1cblx0fCB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZTtcblx0XHRcdGVycm9yOiBzdHJpbmc7XG5cdCAgfTtcblxuLyoqXG4gKiBTd2l0Y2ggQ29tcGFueVxuICpcbiAqIENoYW5nZXMgdGhlIHVzZXIncyBhY3RpdmUgY29tcGFueSBjb250ZXh0LlxuICogUmV2YWxpZGF0ZXMgdGhlIGVudGlyZSBsYXlvdXQgdG8gdXBkYXRlIGNvbXBhbnktc2NvcGVkIGRhdGEuXG4gKlxuICogQHBhcmFtIGNvbXBhbnlJZCAtIENvbXBhbnkgSUQgdG8gc3dpdGNoIHRvXG4gKiBAcmV0dXJucyBBY3Rpb25SZXN1bHQgaW5kaWNhdGluZyBzdWNjZXNzIG9yIGZhaWx1cmVcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHN3aXRjaENvbXBhbnkoXG5cdGNvbXBhbnlJZDogc3RyaW5nLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8dm9pZD4+IHtcblx0dHJ5IHtcblx0XHRhd2FpdCBzZXRBY3RpdmVDb21wYW55KGNvbXBhbnlJZCk7XG5cblx0XHQvLyBSZXZhbGlkYXRlIGV2ZXJ5dGhpbmcgdG8gZW5zdXJlIGFsbCBjb21wYW55LXNjb3BlZCBkYXRhIGlzIHJlZnJlc2hlZFxuXHRcdHJldmFsaWRhdGVQYXRoKFwiL1wiLCBcImxheW91dFwiKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0bWVzc2FnZTogXCJDb21wYW55IHN3aXRjaGVkIHN1Y2Nlc3NmdWxseVwiLFxuXHRcdH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gc3dpdGNoIGNvbXBhbnlcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogQ2xlYXIgQWN0aXZlIENvbXBhbnlcbiAqXG4gKiBSZW1vdmVzIHRoZSBhY3RpdmUgY29tcGFueSBjb250ZXh0LlxuICogVXNlZnVsIGZvciBsb2dvdXQgb3IgY29tcGFueSByZW1vdmFsIGZsb3dzLlxuICpcbiAqIEByZXR1cm5zIEFjdGlvblJlc3VsdCBpbmRpY2F0aW5nIHN1Y2Nlc3Mgb3IgZmFpbHVyZVxuICovXG5hc3luYyBmdW5jdGlvbiBjbGVhckNvbXBhbnkoKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8dm9pZD4+IHtcblx0dHJ5IHtcblx0XHRhd2FpdCBjbGVhckFjdGl2ZUNvbXBhbnkoKTtcblx0XHRyZXZhbGlkYXRlUGF0aChcIi9cIiwgXCJsYXlvdXRcIik7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdG1lc3NhZ2U6IFwiQ29tcGFueSBjb250ZXh0IGNsZWFyZWRcIixcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byBjbGVhciBjb21wYW55IGNvbnRleHRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogR2V0IFVzZXIncyBDb21wYW5pZXNcbiAqXG4gKiBSZXR1cm5zIGFsbCBjb21wYW5pZXMgdGhlIHVzZXIgaGFzIGFjY2VzcyB0by5cbiAqIFVzZWZ1bCBmb3IgcG9wdWxhdGluZyBjb21wYW55IHN3aXRjaGVyIGRyb3Bkb3ducy5cbiAqXG4gKiBAcmV0dXJucyBBY3Rpb25SZXN1bHQgd2l0aCBhcnJheSBvZiBjb21wYW5pZXNcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2V0Q29tcGFuaWVzKCk6IFByb21pc2U8XG5cdEFjdGlvblJlc3VsdDxBcnJheTx7IGlkOiBzdHJpbmc7IG5hbWU6IHN0cmluZzsgbG9nbz86IHN0cmluZyB8IG51bGwgfT4+XG4+IHtcblx0dHJ5IHtcblx0XHRjb25zdCBjb21wYW5pZXMgPSBhd2FpdCBnZXRVc2VyQ29tcGFuaWVzKCk7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdGRhdGE6IGNvbXBhbmllcyxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiRmFpbGVkIHRvIGdldCBjb21wYW5pZXNcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogR2V0IEFjdGl2ZSBDb21wYW55IERldGFpbHNcbiAqXG4gKiBSZXR1cm5zIGRldGFpbHMgYWJvdXQgdGhlIGN1cnJlbnRseSBhY3RpdmUgY29tcGFueS5cbiAqXG4gKiBAcmV0dXJucyBBY3Rpb25SZXN1bHQgd2l0aCBjb21wYW55IGRldGFpbHMgb3IgbnVsbFxuICovXG5hc3luYyBmdW5jdGlvbiBnZXRBY3RpdmVDb21wYW55RGV0YWlscygpOiBQcm9taXNlPFxuXHRBY3Rpb25SZXN1bHQ8eyBpZDogc3RyaW5nOyBuYW1lOiBzdHJpbmc7IGxvZ28/OiBzdHJpbmcgfCBudWxsIH0gfCBudWxsPlxuPiB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgY29tcGFueSA9IGF3YWl0IGdldEFjdGl2ZUNvbXBhbnkoKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0ZGF0YTogY29tcGFueSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiRmFpbGVkIHRvIGdldCBhY3RpdmUgY29tcGFueVwiLFxuXHRcdH07XG5cdH1cbn1cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOFNBd0NzQiJ9
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:f7b4d2 [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"4071d2fab292ee04db9b66589b9b28bb9e2a475117":"updateUserStatus"},"apps/web/src/actions/user-status.ts",""] */ __turbopack_context__.s([
    "updateUserStatus",
    ()=>updateUserStatus
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var updateUserStatus = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("4071d2fab292ee04db9b66589b9b28bb9e2a475117", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "updateUserStatus"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vdXNlci1zdGF0dXMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc2VydmVyXCI7XG5cbmltcG9ydCB7IHJldmFsaWRhdGVQYXRoIH0gZnJvbSBcIm5leHQvY2FjaGVcIjtcbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gXCJAL2xpYi9zdXBhYmFzZS9zZXJ2ZXJcIjtcblxuLyoqXG4gKiBVcGRhdGUgdXNlciBzdGF0dXMgYWN0aW9uXG4gKiBBbGxvd3MgdXNlcnMgdG8gY2hhbmdlIHRoZWlyIGF2YWlsYWJpbGl0eSBzdGF0dXMgKG9ubGluZSwgYXZhaWxhYmxlLCBidXN5KVxuICovXG5cbmV4cG9ydCB0eXBlIFVzZXJTdGF0dXMgPSBcIm9ubGluZVwiIHwgXCJhdmFpbGFibGVcIiB8IFwiYnVzeVwiO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlVXNlclN0YXR1cyhzdGF0dXM6IFVzZXJTdGF0dXMpIHtcblx0dHJ5IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogXCJEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZFwiLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBHZXQgY3VycmVudCB1c2VyXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0XHRlcnJvcjogYXV0aEVycm9yLFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblxuXHRcdGlmIChhdXRoRXJyb3IgfHwgIXVzZXIpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogXCJVbmF1dGhvcml6ZWRcIixcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gVXBkYXRlIHVzZXIgc3RhdHVzXG5cdFx0Y29uc3QgeyBlcnJvcjogdXBkYXRlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcInByb2ZpbGVzXCIpXG5cdFx0XHQudXBkYXRlKHsgc3RhdHVzIH0pXG5cdFx0XHQuZXEoXCJpZFwiLCB1c2VyLmlkKTtcblxuXHRcdGlmICh1cGRhdGVFcnJvcikge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOiBcIkZhaWxlZCB0byB1cGRhdGUgc3RhdHVzXCIsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdC8vIFJldmFsaWRhdGUgYWxsIHBhZ2VzIHRvIHJlZmxlY3QgdGhlIG5ldyBzdGF0dXNcblx0XHRyZXZhbGlkYXRlUGF0aChcIi9cIiwgXCJsYXlvdXRcIik7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdHN0YXR1cyxcblx0XHR9O1xuXHR9IGNhdGNoIChfZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjogXCJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkXCIsXG5cdFx0fTtcblx0fVxufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI2U0FZc0IifQ==
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:b9dd13 [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"00b83d20602d045512eefed4896ab81b399955d9af":"getTotalUnreadCountAction"},"apps/web/src/actions/email-actions.ts",""] */ __turbopack_context__.s([
    "getTotalUnreadCountAction",
    ()=>getTotalUnreadCountAction
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var getTotalUnreadCountAction = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("00b83d20602d045512eefed4896ab81b399955d9af", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "getTotalUnreadCountAction"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vZW1haWwtYWN0aW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzZXJ2ZXJcIjtcblxuaW1wb3J0IHtcbiAgICBhcmNoaXZlQWxsRW1haWxzLFxuICAgIGdldENvbXBhbnlFbWFpbHMsXG4gICAgZ2V0RW1haWxCeUlkLFxuICAgIGdldEVtYWlsU3RhdHMsXG4gICAgZ2V0RW1haWxUaHJlYWRzLFxuICAgIG1hcmtFbWFpbEFzUmVhZCxcbiAgICB0eXBlIENvbXBhbnlFbWFpbCxcbn0gZnJvbSBcIkAvbGliL2VtYWlsL2VtYWlsLXNlcnZpY2VcIjtcbmltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG5cbmNvbnN0IGdldEVtYWlsc1NjaGVtYSA9IHoub2JqZWN0KHtcbiAgbGltaXQ6IHouY29lcmNlLm51bWJlcigpLm1pbigxKS5tYXgoNTAwKS5vcHRpb25hbCgpLmRlZmF1bHQoNTApLFxuICBvZmZzZXQ6IHouY29lcmNlLm51bWJlcigpLm1pbigwKS5vcHRpb25hbCgpLmRlZmF1bHQoMCksXG4gIHR5cGU6IHouZW51bShbXCJzZW50XCIsIFwicmVjZWl2ZWRcIiwgXCJhbGxcIl0pLm9wdGlvbmFsKCkuZGVmYXVsdChcImFsbFwiKSxcbiAgaW5ib3hUeXBlOiB6LmVudW0oW1wicGVyc29uYWxcIiwgXCJjb21wYW55XCJdKS5vcHRpb25hbCgpLFxuICBmb2xkZXI6IHouZW51bShbXCJpbmJveFwiLCBcImRyYWZ0c1wiLCBcInNlbnRcIiwgXCJhcmNoaXZlXCIsIFwic25vb3plZFwiLCBcInNwYW1cIiwgXCJ0cmFzaFwiLCBcImJpblwiLCBcInN0YXJyZWRcIiwgXCJhbGxcIl0pLm9wdGlvbmFsKCksXG4gIGNhdGVnb3J5OiB6LmVudW0oW1wic3VwcG9ydFwiLCBcInNhbGVzXCIsIFwiYmlsbGluZ1wiLCBcImdlbmVyYWxcIl0pLm9wdGlvbmFsKCksXG4gIGxhYmVsOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIHNlYXJjaDogei5zdHJpbmcoKS5vcHRpb25hbCgpLm51bGxhYmxlKCksXG4gIHNvcnRCeTogei5lbnVtKFtcImNyZWF0ZWRfYXRcIiwgXCJzZW50X2F0XCIsIFwic3ViamVjdFwiXSkub3B0aW9uYWwoKS5kZWZhdWx0KFwiY3JlYXRlZF9hdFwiKSxcbiAgc29ydE9yZGVyOiB6LmVudW0oW1wiYXNjXCIsIFwiZGVzY1wiXSkub3B0aW9uYWwoKS5kZWZhdWx0KFwiZGVzY1wiKSxcbn0pLnBhc3N0aHJvdWdoKCk7XG5cbmNvbnN0IGdldEVtYWlsVGhyZWFkc1NjaGVtYSA9IHoub2JqZWN0KHtcbiAgbGltaXQ6IHoubnVtYmVyKCkubWluKDEpLm1heCg1MCkub3B0aW9uYWwoKS5kZWZhdWx0KDIwKSxcbiAgb2Zmc2V0OiB6Lm51bWJlcigpLm1pbigwKS5vcHRpb25hbCgpLmRlZmF1bHQoMCksXG4gIHNlYXJjaDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxufSk7XG5cbmNvbnN0IG1hcmtFbWFpbFJlYWRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGVtYWlsSWQ6IHouc3RyaW5nKCkubWluKDEpLFxufSk7XG5cbmV4cG9ydCB0eXBlIEdldEVtYWlsc0lucHV0ID0gei5pbmZlcjx0eXBlb2YgZ2V0RW1haWxzU2NoZW1hPjtcbmV4cG9ydCB0eXBlIEdldEVtYWlsVGhyZWFkc0lucHV0ID0gei5pbmZlcjx0eXBlb2YgZ2V0RW1haWxUaHJlYWRzU2NoZW1hPjtcbmV4cG9ydCB0eXBlIE1hcmtFbWFpbFJlYWRJbnB1dCA9IHouaW5mZXI8dHlwZW9mIG1hcmtFbWFpbFJlYWRTY2hlbWE+O1xuXG4vLyBSZS1leHBvcnQgZW1haWwgdHlwZXMgZnJvbSBlbWFpbC1zZXJ2aWNlXG5leHBvcnQgdHlwZSB7IENvbXBhbnlFbWFpbCB9O1xuXG5leHBvcnQgdHlwZSBHZXRFbWFpbHNSZXN1bHQgPSBBd2FpdGVkPFJldHVyblR5cGU8dHlwZW9mIGdldENvbXBhbnlFbWFpbHM+PjtcbmV4cG9ydCB0eXBlIEdldEVtYWlsVGhyZWFkc1Jlc3VsdCA9IEF3YWl0ZWQ8UmV0dXJuVHlwZTx0eXBlb2YgZ2V0RW1haWxUaHJlYWRzPj47XG5leHBvcnQgdHlwZSBHZXRFbWFpbFN0YXRzUmVzdWx0ID0gQXdhaXRlZDxSZXR1cm5UeXBlPHR5cGVvZiBnZXRFbWFpbFN0YXRzPj47XG5cbi8qKlxuICogR2V0IGVtYWlscyBmb3IgdGhlIGFjdGl2ZSBjb21wYW55XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRFbWFpbHNBY3Rpb24oXG4gIGlucHV0OiBHZXRFbWFpbHNJbnB1dFxuKTogUHJvbWlzZTxHZXRFbWFpbHNSZXN1bHQ+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBwYXJzZVJlc3VsdCA9IGdldEVtYWlsc1NjaGVtYS5zYWZlUGFyc2UoaW5wdXQpO1xuICAgIFxuICAgIGlmICghcGFyc2VSZXN1bHQuc3VjY2Vzcykge1xuICAgICAgY29uc29sZS5lcnJvcihcIuKdjCBab2QgdmFsaWRhdGlvbiBlcnJvcjpcIiwgcGFyc2VSZXN1bHQuZXJyb3IuaXNzdWVzKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBpbnB1dCBwYXJhbWV0ZXJzOiAke3BhcnNlUmVzdWx0LmVycm9yLmlzc3Vlcy5tYXAoKGUpID0+IGAke2UucGF0aC5tYXAoU3RyaW5nKS5qb2luKCcuJyl9OiAke2UubWVzc2FnZX1gKS5qb2luKCcsICcpfWApO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCB2YWxpZGF0ZWRJbnB1dCA9IHBhcnNlUmVzdWx0LmRhdGE7XG4gICAgY29uc3QgeyBnZXRBY3RpdmVDb21wYW55SWQgfSA9IGF3YWl0IGltcG9ydChcIkAvbGliL2F1dGgvY29tcGFueS1jb250ZXh0XCIpO1xuICAgIGNvbnN0IGNvbXBhbnlJZCA9IGF3YWl0IGdldEFjdGl2ZUNvbXBhbnlJZCgpO1xuXG4gICAgaWYgKCFjb21wYW55SWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGFjdGl2ZSBjb21wYW55IGZvdW5kXCIpO1xuICAgIH1cblxuICAgIC8vIENvbnZlcnQgbnVsbCB0byB1bmRlZmluZWQgZm9yIHNlYXJjaCBmaWVsZFxuICAgIGNvbnN0IHNhbml0aXplZElucHV0ID0ge1xuICAgICAgLi4udmFsaWRhdGVkSW5wdXQsXG4gICAgICBzZWFyY2g6IHZhbGlkYXRlZElucHV0LnNlYXJjaCA/PyB1bmRlZmluZWQsXG4gICAgfTtcbiAgICByZXR1cm4gYXdhaXQgZ2V0Q29tcGFueUVtYWlscyhjb21wYW55SWQsIHNhbml0aXplZElucHV0KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwi4p2MIGdldEVtYWlsc0FjdGlvbiBlcnJvcjpcIiwgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbi8qKlxuICogR2V0IGVtYWlsIHRocmVhZHMgZm9yIHRoZSBhY3RpdmUgY29tcGFueVxuICovXG5hc3luYyBmdW5jdGlvbiBnZXRFbWFpbFRocmVhZHNBY3Rpb24oXG4gIGlucHV0OiBHZXRFbWFpbFRocmVhZHNJbnB1dFxuKTogUHJvbWlzZTxHZXRFbWFpbFRocmVhZHNSZXN1bHQ+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB2YWxpZGF0ZWRJbnB1dCA9IGdldEVtYWlsVGhyZWFkc1NjaGVtYS5wYXJzZShpbnB1dCk7XG4gICAgY29uc3QgeyBnZXRBY3RpdmVDb21wYW55SWQgfSA9IGF3YWl0IGltcG9ydChcIkAvbGliL2F1dGgvY29tcGFueS1jb250ZXh0XCIpO1xuICAgIGNvbnN0IGNvbXBhbnlJZCA9IGF3YWl0IGdldEFjdGl2ZUNvbXBhbnlJZCgpO1xuXG4gICAgaWYgKCFjb21wYW55SWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGFjdGl2ZSBjb21wYW55IGZvdW5kXCIpO1xuICAgIH1cblxuICAgIHJldHVybiBhd2FpdCBnZXRFbWFpbFRocmVhZHMoY29tcGFueUlkLCB2YWxpZGF0ZWRJbnB1dCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2Ygei5ab2RFcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpbnB1dCBwYXJhbWV0ZXJzXCIpO1xuICAgIH1cbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG4vKipcbiAqIEdldCBhIHNwZWNpZmljIGVtYWlsIGJ5IElEXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRFbWFpbEJ5SWRBY3Rpb24oZW1haWxJZDogc3RyaW5nKTogUHJvbWlzZTx7XG4gIHN1Y2Nlc3M6IGJvb2xlYW47XG4gIGVtYWlsPzogQ29tcGFueUVtYWlsO1xuICBlcnJvcj86IHN0cmluZztcbn0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGdldEFjdGl2ZUNvbXBhbnlJZCB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvYXV0aC9jb21wYW55LWNvbnRleHRcIik7XG4gICAgY29uc3QgY29tcGFueUlkID0gYXdhaXQgZ2V0QWN0aXZlQ29tcGFueUlkKCk7XG5cbiAgICBpZiAoIWNvbXBhbnlJZCkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIGFjdGl2ZSBjb21wYW55IGZvdW5kXCIgfTtcbiAgICB9XG5cbiAgICBjb25zdCBlbWFpbCA9IGF3YWl0IGdldEVtYWlsQnlJZChjb21wYW55SWQsIGVtYWlsSWQpO1xuICAgIFxuICAgIGlmICghZW1haWwpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJFbWFpbCBub3QgZm91bmRcIiB9O1xuICAgIH1cblxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGVtYWlsIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGdldHRpbmcgZW1haWwgYnkgSUQ6XCIsIGVycm9yKTtcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIixcbiAgICB9O1xuICB9XG59XG5cbi8qKlxuICogTWFyayBhbiBlbWFpbCBhcyByZWFkXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBtYXJrRW1haWxBc1JlYWRBY3Rpb24oXG4gIGlucHV0OiBNYXJrRW1haWxSZWFkSW5wdXRcbik6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBlcnJvcj86IHN0cmluZyB9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgdmFsaWRhdGVkSW5wdXQgPSBtYXJrRW1haWxSZWFkU2NoZW1hLnBhcnNlKGlucHV0KTtcbiAgICBjb25zdCB7IGdldEFjdGl2ZUNvbXBhbnlJZCB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvYXV0aC9jb21wYW55LWNvbnRleHRcIik7XG4gICAgY29uc3QgY29tcGFueUlkID0gYXdhaXQgZ2V0QWN0aXZlQ29tcGFueUlkKCk7XG5cbiAgICBpZiAoIWNvbXBhbnlJZCkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIGFjdGl2ZSBjb21wYW55IGZvdW5kXCIgfTtcbiAgICB9XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBtYXJrRW1haWxBc1JlYWQoY29tcGFueUlkLCB2YWxpZGF0ZWRJbnB1dC5lbWFpbElkKTtcbiAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkZhaWxlZCB0byBtYXJrIGVtYWlsIGFzIHJlYWQgLSBjaGVjayBzZXJ2ZXIgbG9ncyBmb3IgZGV0YWlsc1wiIH07XG4gICAgfVxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiB6LlpvZEVycm9yKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGBJbnZhbGlkIGlucHV0OiAke2Vycm9yLmlzc3Vlcy5tYXAoKGU6IHsgbWVzc2FnZTogc3RyaW5nIH0pID0+IGUubWVzc2FnZSkuam9pbihcIiwgXCIpfWAgfTtcbiAgICB9XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIjtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgbWFya2luZyBlbWFpbCBhcyByZWFkOlwiLCBlcnJvcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvck1lc3NhZ2UgfTtcbiAgfVxufVxuXG4vKipcbiAqIEdldCBlbWFpbCBzdGF0aXN0aWNzIGZvciB0aGUgYWN0aXZlIGNvbXBhbnlcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2V0RW1haWxTdGF0c0FjdGlvbigpOiBQcm9taXNlPEdldEVtYWlsU3RhdHNSZXN1bHQ+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGdldEFjdGl2ZUNvbXBhbnlJZCB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvYXV0aC9jb21wYW55LWNvbnRleHRcIik7XG4gICAgY29uc3QgY29tcGFueUlkID0gYXdhaXQgZ2V0QWN0aXZlQ29tcGFueUlkKCk7XG5cbiAgICBpZiAoIWNvbXBhbnlJZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gYWN0aXZlIGNvbXBhbnkgZm91bmRcIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGF3YWl0IGdldEVtYWlsU3RhdHMoKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBlbWFpbCBzdGF0czpcIiwgZXJyb3IpO1xuICAgIHJldHVybiB7XG4gICAgICB0b3RhbEVtYWlsczogMCxcbiAgICAgIHNlbnRFbWFpbHM6IDAsXG4gICAgICByZWNlaXZlZEVtYWlsczogMCxcbiAgICAgIHVucmVhZEVtYWlsczogMCxcbiAgICAgIHRocmVhZHNDb3VudDogMCxcbiAgICB9O1xuICB9XG59XG5cbi8qKlxuICogR2V0IHRvdGFsIHVucmVhZCBlbWFpbCBjb3VudCBmb3IgdGhlIGFjdGl2ZSBjb21wYW55XG4gKiBVc2VkIGZvciBkaXNwbGF5aW5nIG5vdGlmaWNhdGlvbiBiYWRnZXMgaW4gdGhlIGhlYWRlclxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VG90YWxVbnJlYWRDb3VudEFjdGlvbigpOiBQcm9taXNlPHtcbiAgc3VjY2VzczogYm9vbGVhbjtcbiAgY291bnQ/OiBudW1iZXI7XG4gIGVycm9yPzogc3RyaW5nXG59PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBnZXRBY3RpdmVDb21wYW55SWQgfSA9IGF3YWl0IGltcG9ydChcIkAvbGliL2F1dGgvY29tcGFueS1jb250ZXh0XCIpO1xuICAgIGNvbnN0IGNvbXBhbnlJZCA9IGF3YWl0IGdldEFjdGl2ZUNvbXBhbnlJZCgpO1xuXG4gICAgaWYgKCFjb21wYW55SWQpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJObyBhY3RpdmUgY29tcGFueSBmb3VuZFwiIH07XG4gICAgfVxuXG4gICAgY29uc3Qgc3RhdHMgPSBhd2FpdCBnZXRFbWFpbFN0YXRzKCk7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgY291bnQ6IHN0YXRzLnVucmVhZEVtYWlscyB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHVucmVhZCBjb3VudDpcIiwgZXJyb3IpO1xuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiVW5rbm93biBlcnJvclwiXG4gICAgfTtcbiAgfVxufVxuXG4vKipcbiAqIEZldGNoIGVtYWlsIGNvbnRlbnQgZnJvbSBSZXNlbmQgQVBJIG9yIHVwZGF0ZSB3aXRoIHByb3ZpZGVkIGNvbnRlbnRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoRW1haWxDb250ZW50QWN0aW9uKFxuICBlbWFpbElkOiBzdHJpbmcsXG4gIF9yZXNlbmRFbWFpbElkPzogc3RyaW5nLFxuICBwcm92aWRlZENvbnRlbnQ/OiB7IGh0bWw/OiBzdHJpbmcgfCBudWxsOyB0ZXh0Pzogc3RyaW5nIHwgbnVsbCB9XG4pOiBQcm9taXNlPHtcbiAgc3VjY2VzczogYm9vbGVhbjtcbiAgaHRtbD86IHN0cmluZyB8IG51bGw7XG4gIHRleHQ/OiBzdHJpbmcgfCBudWxsO1xuICBlcnJvcj86IHN0cmluZztcbn0+IHtcbiAgXCJ1c2Ugc2VydmVyXCI7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IGNyZWF0ZUNsaWVudCB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvc3VwYWJhc2Uvc2VydmVyXCIpO1xuICAgIGNvbnN0IHsgZ2V0QWN0aXZlQ29tcGFueUlkIH0gPSBhd2FpdCBpbXBvcnQoXCJAL2xpYi9hdXRoL2NvbXBhbnktY29udGV4dFwiKTtcblxuICAgIGNvbnN0IGNvbXBhbnlJZCA9IGF3YWl0IGdldEFjdGl2ZUNvbXBhbnlJZCgpO1xuICAgIGlmICghY29tcGFueUlkKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm8gYWN0aXZlIGNvbXBhbnkgZm91bmRcIiB9O1xuICAgIH1cblxuICAgIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG4gICAgaWYgKCFzdXBhYmFzZSkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkXCIgfTtcbiAgICB9XG5cbiAgICBsZXQgaHRtbDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgbGV0IHRleHQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gICAgLy8gSWYgY29udGVudCBpcyBwcm92aWRlZCBkaXJlY3RseSwgdXNlIGl0XG4gICAgaWYgKHByb3ZpZGVkQ29udGVudCkge1xuICAgICAgaHRtbCA9IHByb3ZpZGVkQ29udGVudC5odG1sIHx8IG51bGw7XG4gICAgICB0ZXh0ID0gcHJvdmlkZWRDb250ZW50LnRleHQgfHwgbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRmlyc3QsIHRyeSB0byBnZXQgZW1haWwgZnJvbSBkYXRhYmFzZSB0byBjaGVjayBmb3IgY29udGVudCBpbiBtZXRhZGF0YVxuICAgICAgY29uc3QgeyBkYXRhOiBlbWFpbCwgZXJyb3I6IGVtYWlsRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKFwiY29tbXVuaWNhdGlvbnNcIilcbiAgICAgICAgLnNlbGVjdChcInByb3ZpZGVyX21lc3NhZ2VfaWQsIHByb3ZpZGVyX21ldGFkYXRhLCBib2R5LCBib2R5X2h0bWxcIilcbiAgICAgICAgLmVxKFwiaWRcIiwgZW1haWxJZClcbiAgICAgICAgLmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpXG4gICAgICAgIC5zaW5nbGUoKTtcblxuICAgICAgaWYgKGVtYWlsRXJyb3IpIHtcbiAgICAgICAgLy8gRG9uJ3QgcmV0dXJuIGVycm9yIGZvciBQR1JTVCBlcnJvcnMgdGhhdCBtaWdodCBiZSBleHBlY3RlZFxuICAgICAgICBpZiAoZW1haWxFcnJvci5jb2RlID09PSAnUEdSU1QxMTYnKSB7XG4gICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkVtYWlsIG5vdCBmb3VuZCBpbiBkYXRhYmFzZVwiIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBgRGF0YWJhc2UgZXJyb3I6ICR7ZW1haWxFcnJvci5tZXNzYWdlfWAgfTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFlbWFpbCkge1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRW1haWwgbm90IGZvdW5kIGluIGRhdGFiYXNlXCIgfTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgaWYgZW1haWwgYWxyZWFkeSBoYXMgY29udGVudCBzdG9yZWRcbiAgICAgIGlmIChlbWFpbC5ib2R5X2h0bWwgfHwgZW1haWwuYm9keSkge1xuICAgICAgICBodG1sID0gZW1haWwuYm9keV9odG1sIHx8IG51bGw7XG4gICAgICAgIHRleHQgPSBlbWFpbC5ib2R5IHx8IG51bGw7XG4gICAgICB9IGVsc2UgaWYgKGVtYWlsLnByb3ZpZGVyX21ldGFkYXRhKSB7XG4gICAgICAgIC8vIFRyeSB0byBleHRyYWN0IGNvbnRlbnQgZnJvbSBwcm92aWRlcl9tZXRhZGF0YVxuICAgICAgICBjb25zdCBtZXRhZGF0YSA9IGVtYWlsLnByb3ZpZGVyX21ldGFkYXRhIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICAgICAgICBcbiAgICAgICAgLy8gUFJJT1JJVFkgMTogQ2hlY2sgd2ViaG9va19jb250ZW50IGZpcnN0ICh3ZWJob29rIHBheWxvYWQgLSBtb3N0IHJlbGlhYmxlIHNvdXJjZSlcbiAgICAgICAgY29uc3Qgd2ViaG9va0NvbnRlbnQgPSBtZXRhZGF0YS53ZWJob29rX2NvbnRlbnQgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4gfCB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh3ZWJob29rQ29udGVudCkge1xuICAgICAgICAgIGNvbnN0IGh0bWxWYWx1ZSA9IHdlYmhvb2tDb250ZW50Lmh0bWwgfHwgd2ViaG9va0NvbnRlbnQuYm9keV9odG1sO1xuICAgICAgICAgIGNvbnN0IHRleHRWYWx1ZSA9IHdlYmhvb2tDb250ZW50LnRleHQgfHwgd2ViaG9va0NvbnRlbnQuYm9keTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoaHRtbFZhbHVlICYmIHR5cGVvZiBodG1sVmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBodG1sVmFsdWUudHJpbSgpO1xuICAgICAgICAgICAgaWYgKGNvbnRlbnQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBodG1sID0gY29udGVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFodG1sICYmIHRleHRWYWx1ZSAmJiB0eXBlb2YgdGV4dFZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBjb25zdCBjb250ZW50ID0gdGV4dFZhbHVlLnRyaW0oKTtcbiAgICAgICAgICAgIGlmIChjb250ZW50Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgdGV4dCA9IGNvbnRlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gUFJJT1JJVFkgMjogQ2hlY2sgZnVsbF9jb250ZW50IChBUEkgcmVzcG9uc2UpIGlmIHdlYmhvb2sgZGlkbid0IGhhdmUgY29udGVudFxuICAgICAgICBpZiAoIWh0bWwgJiYgIXRleHQpIHtcbiAgICAgICAgICBjb25zdCBmdWxsQ29udGVudCA9IG1ldGFkYXRhLmZ1bGxfY29udGVudCBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB8IHVuZGVmaW5lZDtcbiAgICAgICAgICBpZiAoZnVsbENvbnRlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGh0bWxGaWVsZHMgPSBbXCJodG1sXCIsIFwiYm9keV9odG1sXCIsIFwiYm9keUh0bWxcIl07XG4gICAgICAgICAgICBjb25zdCB0ZXh0RmllbGRzID0gW1widGV4dFwiLCBcImJvZHlcIiwgXCJwbGFpbl90ZXh0XCIsIFwicGxhaW5UZXh0XCJdO1xuXG4gICAgICAgICAgICAvLyBUcnkgSFRNTCBmaWVsZHMgZmlyc3RcbiAgICAgICAgICAgIGZvciAoY29uc3QgZmllbGQgb2YgaHRtbEZpZWxkcykge1xuICAgICAgICAgICAgICBpZiAoZnVsbENvbnRlbnRbZmllbGRdICYmIHR5cGVvZiBmdWxsQ29udGVudFtmaWVsZF0gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0gKGZ1bGxDb250ZW50W2ZpZWxkXSBhcyBzdHJpbmcpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBpZiAoY29udGVudC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICBodG1sID0gY29udGVudDtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJZiBubyBIVE1MLCB0cnkgdGV4dCBmaWVsZHNcbiAgICAgICAgICAgIGlmICghaHRtbCkge1xuICAgICAgICAgICAgICBmb3IgKGNvbnN0IGZpZWxkIG9mIHRleHRGaWVsZHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoZnVsbENvbnRlbnRbZmllbGRdICYmIHR5cGVvZiBmdWxsQ29udGVudFtmaWVsZF0gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSAoZnVsbENvbnRlbnRbZmllbGRdIGFzIHN0cmluZykudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gY29udGVudDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gUFJJT1JJVFkgMzogQ2hlY2sgdG9wLWxldmVsIG1ldGFkYXRhLmRhdGEgZm9yIGNvbnRlbnQgKHdlYmhvb2sgcGF5bG9hZCBzdHJ1Y3R1cmUpXG4gICAgICAgIGlmICghaHRtbCAmJiAhdGV4dCkge1xuICAgICAgICAgIGNvbnN0IHdlYmhvb2tEYXRhID0gbWV0YWRhdGEuZGF0YSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB8IHVuZGVmaW5lZDtcbiAgICAgICAgICBpZiAod2ViaG9va0RhdGEpIHtcbiAgICAgICAgICAgIGNvbnN0IGh0bWxWYWx1ZSA9IHdlYmhvb2tEYXRhLmh0bWwgfHwgd2ViaG9va0RhdGEuYm9keV9odG1sO1xuICAgICAgICAgICAgY29uc3QgdGV4dFZhbHVlID0gd2ViaG9va0RhdGEudGV4dCB8fCB3ZWJob29rRGF0YS5ib2R5O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoaHRtbFZhbHVlICYmIHR5cGVvZiBodG1sVmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGh0bWxWYWx1ZS50cmltKCk7XG4gICAgICAgICAgICAgIGlmIChjb250ZW50Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBodG1sID0gY29udGVudDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFodG1sICYmIHRleHRWYWx1ZSAmJiB0eXBlb2YgdGV4dFZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSB0ZXh0VmFsdWUudHJpbSgpO1xuICAgICAgICAgICAgICBpZiAoY29udGVudC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGV4dCA9IGNvbnRlbnQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQUklPUklUWSA0OiBDaGVjayB0b3AtbGV2ZWwgbWV0YWRhdGEgZmllbGRzIGRpcmVjdGx5XG4gICAgICAgIGlmICghaHRtbCAmJiAhdGV4dCkge1xuICAgICAgICAgIGNvbnN0IGh0bWxGaWVsZHMgPSBbXCJodG1sXCIsIFwiYm9keV9odG1sXCJdO1xuICAgICAgICAgIGNvbnN0IHRleHRGaWVsZHMgPSBbXCJ0ZXh0XCIsIFwiYm9keVwiXTtcbiAgICAgICAgICBcbiAgICAgICAgICBmb3IgKGNvbnN0IGZpZWxkIG9mIGh0bWxGaWVsZHMpIHtcbiAgICAgICAgICAgIGlmIChtZXRhZGF0YVtmaWVsZF0gJiYgdHlwZW9mIG1ldGFkYXRhW2ZpZWxkXSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0gKG1ldGFkYXRhW2ZpZWxkXSBhcyBzdHJpbmcpLnRyaW0oKTtcbiAgICAgICAgICAgICAgaWYgKGNvbnRlbnQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGh0bWwgPSBjb250ZW50O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGlmICghaHRtbCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBmaWVsZCBvZiB0ZXh0RmllbGRzKSB7XG4gICAgICAgICAgICAgIGlmIChtZXRhZGF0YVtmaWVsZF0gJiYgdHlwZW9mIG1ldGFkYXRhW2ZpZWxkXSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSAobWV0YWRhdGFbZmllbGRdIGFzIHN0cmluZykudHJpbSgpO1xuICAgICAgICAgICAgICAgIGlmIChjb250ZW50Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgIHRleHQgPSBjb250ZW50O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgd2UgZm91bmQgY29udGVudCBpbiBtZXRhZGF0YSwgdXNlIGl0IGFuZCByZXR1cm4gZWFybHlcbiAgICAgICAgaWYgKGh0bWwgfHwgdGV4dCkge1xuICAgICAgICAgIC8vIFVwZGF0ZSBkYXRhYmFzZSB3aXRoIGV4dHJhY3RlZCBjb250ZW50XG4gICAgICAgICAgaWYgKChodG1sIHx8IHRleHQpICYmIHN1cGFiYXNlKSB7XG4gICAgICAgICAgICBjb25zdCB7IGVycm9yOiB1cGRhdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgICAgLmZyb20oXCJjb21tdW5pY2F0aW9uc1wiKVxuICAgICAgICAgICAgICAudXBkYXRlKHtcbiAgICAgICAgICAgICAgICBib2R5OiB0ZXh0IHx8IFwiXCIsXG4gICAgICAgICAgICAgICAgYm9keV9odG1sOiBodG1sLFxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAuZXEoXCJpZFwiLCBlbWFpbElkKVxuICAgICAgICAgICAgICAuZXEoXCJjb21wYW55X2lkXCIsIGNvbXBhbnlJZCk7XG5cbiAgICAgICAgICAgIGlmICh1cGRhdGVFcnJvcikge1xuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCLimqDvuI8gIEZhaWxlZCB0byB1cGRhdGUgZW1haWwgY29udGVudCBpbiBkYXRhYmFzZTpcIiwgdXBkYXRlRXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGh0bWwsIHRleHQgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBObyBjb250ZW50IGZvdW5kIGluIG1ldGFkYXRhXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgZXJyb3I6IFwiTm8gZW1haWwgY29udGVudCBhdmFpbGFibGUgaW4gbWV0YWRhdGFcIlxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE5vIG1ldGFkYXRhIGF0IGFsbCwgY2FuJ3QgZmV0Y2ggY29udGVudFxuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm8gZW1haWwgbWV0YWRhdGEgYXZhaWxhYmxlXCIgfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgdGhlIGRhdGFiYXNlIHdpdGggdGhlIGNvbnRlbnRcbiAgICAvLyBUcnkgdG8gdXBkYXRlLCBidXQgZG9uJ3QgZmFpbCBpZiB0aGUgZW1haWwgZG9lc24ndCBleGlzdCAtIHdlIHN0aWxsIHJldHVybiB0aGUgY29udGVudFxuICAgIGlmIChzdXBhYmFzZSkge1xuICAgICAgY29uc3QgeyBlcnJvcjogdXBkYXRlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKFwiY29tbXVuaWNhdGlvbnNcIilcbiAgICAgICAgLnVwZGF0ZSh7XG4gICAgICAgICAgYm9keTogdGV4dCB8fCBcIlwiLFxuICAgICAgICAgIGJvZHlfaHRtbDogaHRtbCxcbiAgICAgICAgfSlcbiAgICAgICAgLmVxKFwiaWRcIiwgZW1haWxJZClcbiAgICAgICAgLmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpO1xuXG4gICAgICBpZiAodXBkYXRlRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwi4pqg77iPICBGYWlsZWQgdG8gdXBkYXRlIGVtYWlsIGNvbnRlbnQgaW4gZGF0YWJhc2UgKHRoaXMgaXMgT0ssIGNvbnRlbnQgc3RpbGwgcmV0dXJuZWQpOlwiLCB1cGRhdGVFcnJvci5tZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBodG1sLCB0ZXh0IH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIGVtYWlsIGNvbnRlbnQ6XCIsIGVycm9yKTtcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIixcbiAgICB9O1xuICB9XG59XG5cbi8qKlxuICogU3luYyBpbmJvdW5kIGVtYWlsIHJvdXRlcyBmcm9tIGRhdGFiYXNlIHRvIFJlc2VuZFxuICogQ3JlYXRlcyByb3V0ZXMgaW4gUmVzZW5kIHRoYXQgZG9uJ3QgaGF2ZSBhIHJlc2VuZF9yb3V0ZV9pZFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc3luY0luYm91bmRSb3V0ZXNUb1Jlc2VuZEFjdGlvbigpOiBQcm9taXNlPHtcbiAgc3VjY2VzczogYm9vbGVhbjtcbiAgc3luY2VkOiBudW1iZXI7XG4gIGVycm9yczogc3RyaW5nW107XG59PiB7XG4gIFwidXNlIHNlcnZlclwiO1xuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBjcmVhdGVDbGllbnQgfSA9IGF3YWl0IGltcG9ydChcIkAvbGliL3N1cGFiYXNlL3NlcnZlclwiKTtcbiAgICBjb25zdCB7IGNyZWF0ZUluYm91bmRSb3V0ZSB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvZW1haWwvcmVzZW5kLWRvbWFpbnNcIik7XG4gICAgY29uc3QgeyBjcmVhdGVTZXJ2aWNlU3VwYWJhc2VDbGllbnQgfSA9IGF3YWl0IGltcG9ydChcIkAvbGliL3N1cGFiYXNlL3NlcnZpY2UtY2xpZW50XCIpO1xuXG4gICAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcbiAgICBpZiAoIXN1cGFiYXNlKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgc3luY2VkOiAwLCBlcnJvcnM6IFtcIkRhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkXCJdIH07XG4gICAgfVxuXG4gICAgY29uc3Qgc2VydmljZVN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU2VydmljZVN1cGFiYXNlQ2xpZW50KCk7XG4gICAgaWYgKCFzZXJ2aWNlU3VwYWJhc2UpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBzeW5jZWQ6IDAsIGVycm9yczogW1wiU2VydmljZSBkYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZFwiXSB9O1xuICAgIH1cblxuICAgIC8vIEdldCBhbGwgcm91dGVzIHRoYXQgZG9uJ3QgaGF2ZSBhIHJlc2VuZF9yb3V0ZV9pZFxuICAgIC8vIE5vdGU6IFRoaXMgdGFibGUgbWF5IG5vdCBiZSBpbiB0aGUgdHlwZSBkZWZpbml0aW9ucywgc28gd2UgdXNlIHR5cGUgYXNzZXJ0aW9uXG4gICAgY29uc3QgeyBkYXRhOiByb3V0ZXMsIGVycm9yIH0gPSBhd2FpdCAoc2VydmljZVN1cGFiYXNlXG4gICAgICAuZnJvbShcImNvbW11bmljYXRpb25fZW1haWxfaW5ib3VuZF9yb3V0ZXNcIiBhcyBhbnkpXG4gICAgICAuc2VsZWN0KFwiaWQsIGNvbXBhbnlfaWQsIHJvdXRlX2FkZHJlc3MsIG5hbWUsIGVuYWJsZWRcIilcbiAgICAgIC5pcyhcInJlc2VuZF9yb3V0ZV9pZFwiLCBudWxsKVxuICAgICAgLmVxKFwiZW5hYmxlZFwiLCB0cnVlKSBhcyBhbnkpO1xuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGZldGNoIHJvdXRlczpcIiwgZXJyb3IpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIHN5bmNlZDogMCwgZXJyb3JzOiBbZXJyb3IubWVzc2FnZV0gfTtcbiAgICB9XG5cbiAgICBpZiAoIXJvdXRlcyB8fCByb3V0ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBzeW5jZWQ6IDAsIGVycm9yczogW10gfTtcbiAgICB9XG5cbiAgICAvLyBDb25zdHJ1Y3Qgd2ViaG9vayBVUkxcbiAgICBsZXQgd2ViaG9va1VybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NJVEVfVVJMO1xuICAgIGlmICghd2ViaG9va1VybCAmJiBwcm9jZXNzLmVudi5WRVJDRUxfVVJMKSB7XG4gICAgICB3ZWJob29rVXJsID0gYGh0dHBzOi8vJHtwcm9jZXNzLmVudi5WRVJDRUxfVVJMfWA7XG4gICAgfVxuICAgIGlmICghd2ViaG9va1VybCkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIHN5bmNlZDogMCwgZXJyb3JzOiBbXCJXZWJob29rIFVSTCBub3QgY29uZmlndXJlZC4gU2V0IE5FWFRfUFVCTElDX1NJVEVfVVJMIG9yIFZFUkNFTF9VUkxcIl0gfTtcbiAgICB9XG4gICAgd2ViaG9va1VybCA9IGAke3dlYmhvb2tVcmx9L2FwaS93ZWJob29rcy9yZXNlbmRgO1xuXG4gICAgY29uc3QgZXJyb3JzOiBzdHJpbmdbXSA9IFtdO1xuICAgIGxldCBzeW5jZWQgPSAwO1xuXG4gICAgZm9yIChjb25zdCByb3V0ZSBvZiAocm91dGVzIHx8IFtdKSBhcyBBcnJheTx7IGlkOiBzdHJpbmc7IGNvbXBhbnlfaWQ6IHN0cmluZzsgcm91dGVfYWRkcmVzczogc3RyaW5nOyBuYW1lOiBzdHJpbmcgfCBudWxsOyBlbmFibGVkOiBib29sZWFuIH0+KSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBIYW5kbGUgY2F0Y2gtYWxsIHJvdXRlcyAoZS5nLiwgQGJpZXpydS5yZXNlbmQuYXBwKVxuICAgICAgICAvLyBSZXNlbmQgZG9lc24ndCBzdXBwb3J0IHRydWUgY2F0Y2gtYWxsLCBzbyB3ZSdsbCBjcmVhdGUgYSByb3V0ZSBmb3IgdGhlIGRvbWFpblxuICAgICAgICAvLyBGb3Igbm93LCB3ZSdsbCBza2lwIGNhdGNoLWFsbCByb3V0ZXMgYW5kIGhhbmRsZSB0aGVtIGRpZmZlcmVudGx5XG4gICAgICAgIGlmIChyb3V0ZS5yb3V0ZV9hZGRyZXNzLnN0YXJ0c1dpdGgoXCJAXCIpKSB7XG4gICAgICAgICAgZXJyb3JzLnB1c2goYENhdGNoLWFsbCByb3V0ZXMgKCR7cm91dGUucm91dGVfYWRkcmVzc30pIG5lZWQgdG8gYmUgY29uZmlndXJlZCBtYW51YWxseSBpbiBSZXNlbmQgZGFzaGJvYXJkYCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDcmVhdGUgcm91dGUgaW4gUmVzZW5kXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNyZWF0ZUluYm91bmRSb3V0ZSh7XG4gICAgICAgICAgbmFtZTogcm91dGUubmFtZSB8fCBgUm91dGUgZm9yICR7cm91dGUucm91dGVfYWRkcmVzc31gLFxuICAgICAgICAgIHJlY2lwaWVudHM6IFtyb3V0ZS5yb3V0ZV9hZGRyZXNzXSxcbiAgICAgICAgICB1cmw6IHdlYmhvb2tVcmwsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGDinYwgRmFpbGVkIHRvIGNyZWF0ZSBSZXNlbmQgcm91dGUgZm9yICR7cm91dGUucm91dGVfYWRkcmVzc306YCwgcmVzdWx0LmVycm9yKTtcbiAgICAgICAgICBlcnJvcnMucHVzaChgJHtyb3V0ZS5yb3V0ZV9hZGRyZXNzfTogJHtyZXN1bHQuZXJyb3J9YCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVcGRhdGUgZGF0YWJhc2Ugd2l0aCByZXNlbmRfcm91dGVfaWRcbiAgICAgICAgY29uc3QgeyBlcnJvcjogdXBkYXRlRXJyb3IgfSA9IGF3YWl0IChzZXJ2aWNlU3VwYWJhc2VcbiAgICAgICAgICAuZnJvbShcImNvbW11bmljYXRpb25fZW1haWxfaW5ib3VuZF9yb3V0ZXNcIiBhcyBhbnkpXG4gICAgICAgICAgLnVwZGF0ZSh7XG4gICAgICAgICAgICByZXNlbmRfcm91dGVfaWQ6IHJlc3VsdC5kYXRhLmlkLFxuICAgICAgICAgICAgc2lnbmluZ19zZWNyZXQ6IHJlc3VsdC5kYXRhLnNlY3JldCB8fCBudWxsLFxuICAgICAgICAgICAgbGFzdF9zeW5jZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5lcShcImlkXCIsIHJvdXRlLmlkKSBhcyBhbnkpO1xuXG4gICAgICAgIGlmICh1cGRhdGVFcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBGYWlsZWQgdG8gdXBkYXRlIHJvdXRlICR7cm91dGUucm91dGVfYWRkcmVzc306YCwgdXBkYXRlRXJyb3IpO1xuICAgICAgICAgIGVycm9ycy5wdXNoKGAke3JvdXRlLnJvdXRlX2FkZHJlc3N9OiBEYXRhYmFzZSB1cGRhdGUgZmFpbGVkYCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBzeW5jZWQrKztcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBFcnJvciBzeW5jaW5nIHJvdXRlICR7cm91dGUucm91dGVfYWRkcmVzc306YCwgZXJyb3IpO1xuICAgICAgICBlcnJvcnMucHVzaChgJHtyb3V0ZS5yb3V0ZV9hZGRyZXNzfTogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiVW5rbm93biBlcnJvclwifWApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiBlcnJvcnMubGVuZ3RoID09PSAwLFxuICAgICAgc3luY2VkLFxuICAgICAgZXJyb3JzLFxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIHN5bmNpbmcgaW5ib3VuZCByb3V0ZXM6XCIsIGVycm9yKTtcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBzeW5jZWQ6IDAsXG4gICAgICBlcnJvcnM6IFtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiVW5rbm93biBlcnJvclwiXSxcbiAgICB9O1xuICB9XG59XG5cbi8qKlxuICogQXJjaGl2ZSBhbiBlbWFpbFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXJjaGl2ZUVtYWlsQWN0aW9uKGVtYWlsSWQ6IHN0cmluZyk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBlcnJvcj86IHN0cmluZyB9PiB7XG4gIFwidXNlIHNlcnZlclwiO1xuICBcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGNyZWF0ZUNsaWVudCB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvc3VwYWJhc2Uvc2VydmVyXCIpO1xuICAgIGNvbnN0IHsgZ2V0QWN0aXZlQ29tcGFueUlkIH0gPSBhd2FpdCBpbXBvcnQoXCJAL2xpYi9hdXRoL2NvbXBhbnktY29udGV4dFwiKTtcbiAgICBcbiAgICBjb25zdCBjb21wYW55SWQgPSBhd2FpdCBnZXRBY3RpdmVDb21wYW55SWQoKTtcbiAgICBpZiAoIWNvbXBhbnlJZCkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIGFjdGl2ZSBjb21wYW55IGZvdW5kXCIgfTtcbiAgICB9XG4gICAgXG4gICAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcbiAgICBpZiAoIXN1cGFiYXNlKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWRcIiB9O1xuICAgIH1cbiAgICBcbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oXCJjb21tdW5pY2F0aW9uc1wiKVxuICAgICAgLnVwZGF0ZSh7IGlzX2FyY2hpdmVkOiB0cnVlIH0pXG4gICAgICAuZXEoXCJpZFwiLCBlbWFpbElkKVxuICAgICAgLmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpXG4gICAgICAuZXEoXCJ0eXBlXCIsIFwiZW1haWxcIik7XG4gICAgXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIiB9O1xuICB9XG59XG5cbi8qKlxuICogQnVsayBhcmNoaXZlIG11bHRpcGxlIGVtYWlscyBieSB0aGVpciBJRHNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGJ1bGtBcmNoaXZlRW1haWxzQWN0aW9uKGVtYWlsSWRzOiBzdHJpbmdbXSk6IFByb21pc2U8e1xuICBzdWNjZXNzOiBib29sZWFuO1xuICBhcmNoaXZlZDogbnVtYmVyO1xuICBlcnJvcj86IHN0cmluZ1xufT4ge1xuICBcInVzZSBzZXJ2ZXJcIjtcblxuICBpZiAoIWVtYWlsSWRzIHx8IGVtYWlsSWRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBhcmNoaXZlZDogMCwgZXJyb3I6IFwiTm8gZW1haWwgSURzIHByb3ZpZGVkXCIgfTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBjcmVhdGVDbGllbnQgfSA9IGF3YWl0IGltcG9ydChcIkAvbGliL3N1cGFiYXNlL3NlcnZlclwiKTtcbiAgICBjb25zdCB7IGdldEFjdGl2ZUNvbXBhbnlJZCB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvYXV0aC9jb21wYW55LWNvbnRleHRcIik7XG5cbiAgICBjb25zdCBjb21wYW55SWQgPSBhd2FpdCBnZXRBY3RpdmVDb21wYW55SWQoKTtcbiAgICBpZiAoIWNvbXBhbnlJZCkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGFyY2hpdmVkOiAwLCBlcnJvcjogXCJObyBhY3RpdmUgY29tcGFueSBmb3VuZFwiIH07XG4gICAgfVxuXG4gICAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcbiAgICBpZiAoIXN1cGFiYXNlKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgYXJjaGl2ZWQ6IDAsIGVycm9yOiBcIkRhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkXCIgfTtcbiAgICB9XG5cbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oXCJjb21tdW5pY2F0aW9uc1wiKVxuICAgICAgLnVwZGF0ZSh7IGlzX2FyY2hpdmVkOiB0cnVlIH0pXG4gICAgICAuaW4oXCJpZFwiLCBlbWFpbElkcylcbiAgICAgIC5lcShcImNvbXBhbnlfaWRcIiwgY29tcGFueUlkKVxuICAgICAgLmVxKFwidHlwZVwiLCBcImVtYWlsXCIpXG4gICAgICAuc2VsZWN0KFwiaWRcIik7XG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBhcmNoaXZlZDogMCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcbiAgICB9XG5cbiAgICBjb25zdCBhcmNoaXZlZENvdW50ID0gZGF0YT8ubGVuZ3RoID8/IDA7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgYXJjaGl2ZWQ6IGFyY2hpdmVkQ291bnQgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgYXJjaGl2ZWQ6IDAsIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiVW5rbm93biBlcnJvclwiIH07XG4gIH1cbn1cblxuLyoqXG4gKiBBcmNoaXZlIGFsbCBlbWFpbHMgaW4gYSBmb2xkZXJcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFyY2hpdmVBbGxFbWFpbHNBY3Rpb24oZm9sZGVyPzogc3RyaW5nKTogUHJvbWlzZTx7IFxuICBzdWNjZXNzOiBib29sZWFuOyBcbiAgYXJjaGl2ZWQ6IG51bWJlcjtcbiAgZXJyb3I/OiBzdHJpbmcgXG59PiB7XG4gIFwidXNlIHNlcnZlclwiO1xuICBcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGdldEFjdGl2ZUNvbXBhbnlJZCB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvYXV0aC9jb21wYW55LWNvbnRleHRcIik7XG4gICAgXG4gICAgY29uc3QgY29tcGFueUlkID0gYXdhaXQgZ2V0QWN0aXZlQ29tcGFueUlkKCk7XG4gICAgaWYgKCFjb21wYW55SWQpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBhcmNoaXZlZDogMCwgZXJyb3I6IFwiTm8gYWN0aXZlIGNvbXBhbnkgZm91bmRcIiB9O1xuICAgIH1cbiAgICBcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBhcmNoaXZlQWxsRW1haWxzKGNvbXBhbnlJZCwgZm9sZGVyKTtcbiAgICBcbiAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgYXJjaGl2ZWQ6IDAsIGVycm9yOiByZXN1bHQuZXJyb3IgfTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgYXJjaGl2ZWQ6IHJlc3VsdC5jb3VudCB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIGFyY2hpdmVkOiAwLFxuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJVbmtub3duIGVycm9yXCJcbiAgICB9O1xuICB9XG59XG5cbi8qKlxuICogR2V0IGVtYWlsIGZvbGRlciBjb3VudHMgZm9yIHRoZSBhY3RpdmUgY29tcGFueVxuICogUmV0dXJucyBjb3VudCBvZiBlbWFpbHMgaW4gZWFjaCBmb2xkZXIgKGluYm94LCBzZW50LCBkcmFmdHMsIGV0Yy4pXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRFbWFpbEZvbGRlckNvdW50c0FjdGlvbigpOiBQcm9taXNlPHtcbiAgc3VjY2VzczogYm9vbGVhbjtcbiAgY291bnRzPzoge1xuICAgIGFsbDogbnVtYmVyO1xuICAgIGluYm94OiBudW1iZXI7XG4gICAgZHJhZnRzOiBudW1iZXI7XG4gICAgc2VudDogbnVtYmVyO1xuICAgIGFyY2hpdmU6IG51bWJlcjtcbiAgICBzbm9vemVkOiBudW1iZXI7XG4gICAgc3BhbTogbnVtYmVyO1xuICAgIHRyYXNoOiBudW1iZXI7XG4gICAgc3RhcnJlZDogbnVtYmVyO1xuICAgIFtrZXk6IHN0cmluZ106IG51bWJlcjtcbiAgfTtcbiAgZXJyb3I/OiBzdHJpbmc7XG59PiB7XG4gIFwidXNlIHNlcnZlclwiO1xuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBjcmVhdGVDbGllbnQgfSA9IGF3YWl0IGltcG9ydChcIkAvbGliL3N1cGFiYXNlL3NlcnZlclwiKTtcbiAgICBjb25zdCB7IGdldEFjdGl2ZUNvbXBhbnlJZCB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvYXV0aC9jb21wYW55LWNvbnRleHRcIik7XG5cbiAgICBjb25zdCBjb21wYW55SWQgPSBhd2FpdCBnZXRBY3RpdmVDb21wYW55SWQoKTtcbiAgICBpZiAoIWNvbXBhbnlJZCkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIGFjdGl2ZSBjb21wYW55IGZvdW5kXCIgfTtcbiAgICB9XG5cbiAgICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuICAgIGlmICghc3VwYWJhc2UpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZFwiIH07XG4gICAgfVxuXG4gICAgLy8gR2V0IGNvdW50cyBmb3IgZWFjaCBmb2xkZXIgdHlwZSB1c2luZyBwYXJhbGxlbCBxdWVyaWVzXG4gICAgLy8gQWxsIGNvdW50cyBzaG93IFVOUkVBRCBlbWFpbHMgb25seSAocmVhZF9hdCBJUyBOVUxMKVxuICAgIGNvbnN0IFtcbiAgICAgIGFsbFJlc3VsdCxcbiAgICAgIGluYm94UmVzdWx0LFxuICAgICAgZHJhZnRzUmVzdWx0LFxuICAgICAgc2VudFJlc3VsdCxcbiAgICAgIGFyY2hpdmVSZXN1bHQsXG4gICAgICBzbm9vemVkUmVzdWx0LFxuICAgICAgc3BhbVJlc3VsdCxcbiAgICAgIHRyYXNoUmVzdWx0LFxuICAgICAgc3RhcnJlZFJlc3VsdFxuICAgIF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAvLyBBbGwgTWFpbDogYWxsIG5vbi1kZWxldGVkLCB1bnJlYWQgZW1haWxzXG4gICAgICBzdXBhYmFzZVxuICAgICAgICAuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG4gICAgICAgIC5zZWxlY3QoXCIqXCIsIHsgY291bnQ6IFwiZXhhY3RcIiwgaGVhZDogdHJ1ZSB9KVxuICAgICAgICAuZXEoXCJjb21wYW55X2lkXCIsIGNvbXBhbnlJZClcbiAgICAgICAgLmVxKFwidHlwZVwiLCBcImVtYWlsXCIpXG4gICAgICAgIC5pcyhcImRlbGV0ZWRfYXRcIiwgbnVsbClcbiAgICAgICAgLmlzKFwicmVhZF9hdFwiLCBudWxsKSxcblxuICAgICAgLy8gSW5ib3g6IGluYm91bmQsIG5vdCBhcmNoaXZlZCwgbm90IGRlbGV0ZWQsIG5vdCBkcmFmdCwgbm90IHNwYW0sIHVucmVhZFxuICAgICAgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oXCJjb21tdW5pY2F0aW9uc1wiKVxuICAgICAgICAuc2VsZWN0KFwiKlwiLCB7IGNvdW50OiBcImV4YWN0XCIsIGhlYWQ6IHRydWUgfSlcbiAgICAgICAgLmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpXG4gICAgICAgIC5lcShcInR5cGVcIiwgXCJlbWFpbFwiKVxuICAgICAgICAuZXEoXCJkaXJlY3Rpb25cIiwgXCJpbmJvdW5kXCIpXG4gICAgICAgIC5lcShcImlzX2FyY2hpdmVkXCIsIGZhbHNlKVxuICAgICAgICAuaXMoXCJkZWxldGVkX2F0XCIsIG51bGwpXG4gICAgICAgIC5pcyhcInJlYWRfYXRcIiwgbnVsbClcbiAgICAgICAgLm5lcShcInN0YXR1c1wiLCBcImRyYWZ0XCIpXG4gICAgICAgIC5vcihcImNhdGVnb3J5LmlzLm51bGwsY2F0ZWdvcnkubmVxLnNwYW1cIilcbiAgICAgICAgLm9yKFwic25vb3plZF91bnRpbC5pcy5udWxsLHNub296ZWRfdW50aWwubHQubm93KClcIiksXG5cbiAgICAgIC8vIERyYWZ0cyAtIGFsd2F5cyBjb3VudCBhbGwgZHJhZnRzIChyZWFkX2F0IG5vdCByZWxldmFudCBmb3IgZHJhZnRzKVxuICAgICAgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oXCJjb21tdW5pY2F0aW9uc1wiKVxuICAgICAgICAuc2VsZWN0KFwiKlwiLCB7IGNvdW50OiBcImV4YWN0XCIsIGhlYWQ6IHRydWUgfSlcbiAgICAgICAgLmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpXG4gICAgICAgIC5lcShcInR5cGVcIiwgXCJlbWFpbFwiKVxuICAgICAgICAuZXEoXCJzdGF0dXNcIiwgXCJkcmFmdFwiKVxuICAgICAgICAuaXMoXCJkZWxldGVkX2F0XCIsIG51bGwpLFxuXG4gICAgICAvLyBTZW50OiBvdXRib3VuZCwgbm90IGFyY2hpdmVkLCBub3QgZGVsZXRlZCwgdW5yZWFkXG4gICAgICBzdXBhYmFzZVxuICAgICAgICAuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG4gICAgICAgIC5zZWxlY3QoXCIqXCIsIHsgY291bnQ6IFwiZXhhY3RcIiwgaGVhZDogdHJ1ZSB9KVxuICAgICAgICAuZXEoXCJjb21wYW55X2lkXCIsIGNvbXBhbnlJZClcbiAgICAgICAgLmVxKFwidHlwZVwiLCBcImVtYWlsXCIpXG4gICAgICAgIC5lcShcImRpcmVjdGlvblwiLCBcIm91dGJvdW5kXCIpXG4gICAgICAgIC5lcShcImlzX2FyY2hpdmVkXCIsIGZhbHNlKVxuICAgICAgICAuaXMoXCJkZWxldGVkX2F0XCIsIG51bGwpXG4gICAgICAgIC5pcyhcInJlYWRfYXRcIiwgbnVsbClcbiAgICAgICAgLm5lcShcInN0YXR1c1wiLCBcImRyYWZ0XCIpLFxuXG4gICAgICAvLyBBcmNoaXZlIC0gdW5yZWFkIGFyY2hpdmVkIGVtYWlsc1xuICAgICAgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oXCJjb21tdW5pY2F0aW9uc1wiKVxuICAgICAgICAuc2VsZWN0KFwiKlwiLCB7IGNvdW50OiBcImV4YWN0XCIsIGhlYWQ6IHRydWUgfSlcbiAgICAgICAgLmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpXG4gICAgICAgIC5lcShcInR5cGVcIiwgXCJlbWFpbFwiKVxuICAgICAgICAuZXEoXCJpc19hcmNoaXZlZFwiLCB0cnVlKVxuICAgICAgICAuaXMoXCJkZWxldGVkX2F0XCIsIG51bGwpXG4gICAgICAgIC5pcyhcInJlYWRfYXRcIiwgbnVsbCksXG5cbiAgICAgIC8vIFNub296ZWQgLSB1bnJlYWQgc25vb3plZCBlbWFpbHNcbiAgICAgIHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKFwiY29tbXVuaWNhdGlvbnNcIilcbiAgICAgICAgLnNlbGVjdChcIipcIiwgeyBjb3VudDogXCJleGFjdFwiLCBoZWFkOiB0cnVlIH0pXG4gICAgICAgIC5lcShcImNvbXBhbnlfaWRcIiwgY29tcGFueUlkKVxuICAgICAgICAuZXEoXCJ0eXBlXCIsIFwiZW1haWxcIilcbiAgICAgICAgLm5vdChcInNub296ZWRfdW50aWxcIiwgXCJpc1wiLCBudWxsKVxuICAgICAgICAuZ3QoXCJzbm9vemVkX3VudGlsXCIsIG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSlcbiAgICAgICAgLmlzKFwiZGVsZXRlZF9hdFwiLCBudWxsKVxuICAgICAgICAuaXMoXCJyZWFkX2F0XCIsIG51bGwpLFxuXG4gICAgICAvLyBTcGFtIC0gZmV0Y2ggY2F0ZWdvcnksIHRhZ3MsIGFuZCByZWFkX2F0IHRvIGNvdW50IHVucmVhZCBzcGFtXG4gICAgICBzdXBhYmFzZVxuICAgICAgICAuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG4gICAgICAgIC5zZWxlY3QoXCJjYXRlZ29yeSwgdGFncywgcmVhZF9hdFwiKVxuICAgICAgICAuZXEoXCJjb21wYW55X2lkXCIsIGNvbXBhbnlJZClcbiAgICAgICAgLmVxKFwidHlwZVwiLCBcImVtYWlsXCIpXG4gICAgICAgIC5pcyhcImRlbGV0ZWRfYXRcIiwgbnVsbClcbiAgICAgICAgLmlzKFwicmVhZF9hdFwiLCBudWxsKSxcblxuICAgICAgLy8gVHJhc2ggLSB1bnJlYWQgZGVsZXRlZCBlbWFpbHNcbiAgICAgIHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKFwiY29tbXVuaWNhdGlvbnNcIilcbiAgICAgICAgLnNlbGVjdChcIipcIiwgeyBjb3VudDogXCJleGFjdFwiLCBoZWFkOiB0cnVlIH0pXG4gICAgICAgIC5lcShcImNvbXBhbnlfaWRcIiwgY29tcGFueUlkKVxuICAgICAgICAuZXEoXCJ0eXBlXCIsIFwiZW1haWxcIilcbiAgICAgICAgLm5vdChcImRlbGV0ZWRfYXRcIiwgXCJpc1wiLCBudWxsKVxuICAgICAgICAuaXMoXCJyZWFkX2F0XCIsIG51bGwpLFxuXG4gICAgICAvLyBTdGFycmVkIC0gZmV0Y2ggdGFncyBhbmQgcmVhZF9hdCwgY291bnQgdW5yZWFkIHN0YXJyZWQgaW4gbWVtb3J5XG4gICAgICBzdXBhYmFzZVxuICAgICAgICAuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG4gICAgICAgIC5zZWxlY3QoXCJ0YWdzLCByZWFkX2F0XCIpXG4gICAgICAgIC5lcShcImNvbXBhbnlfaWRcIiwgY29tcGFueUlkKVxuICAgICAgICAuZXEoXCJ0eXBlXCIsIFwiZW1haWxcIilcbiAgICAgICAgLmlzKFwiZGVsZXRlZF9hdFwiLCBudWxsKVxuICAgICAgICAuaXMoXCJyZWFkX2F0XCIsIG51bGwpLFxuICAgIF0pO1xuXG4gICAgLy8gQ291bnQgc3BhbSBlbWFpbHMgaW4gbWVtb3J5IChjYXRlZ29yeT1zcGFtIE9SIHNwYW0gdGFnKVxuICAgIGNvbnN0IHNwYW1Db3VudCA9IChzcGFtUmVzdWx0LmRhdGEgPz8gW10pLmZpbHRlcihlbWFpbCA9PiB7XG4gICAgICBjb25zdCB0YWdzID0gZW1haWwudGFncyBhcyBzdHJpbmdbXSB8IG51bGw7XG4gICAgICBjb25zdCBoYXNTcGFtVGFnID0gQXJyYXkuaXNBcnJheSh0YWdzKSAmJiB0YWdzLmluY2x1ZGVzKFwic3BhbVwiKTtcbiAgICAgIHJldHVybiBlbWFpbC5jYXRlZ29yeSA9PT0gXCJzcGFtXCIgfHwgaGFzU3BhbVRhZztcbiAgICB9KS5sZW5ndGg7XG5cbiAgICAvLyBDb3VudCBzdGFycmVkIGVtYWlscyBpbiBtZW1vcnlcbiAgICBjb25zdCBzdGFycmVkQ291bnQgPSAoc3RhcnJlZFJlc3VsdC5kYXRhID8/IFtdKS5maWx0ZXIoZW1haWwgPT4ge1xuICAgICAgY29uc3QgdGFncyA9IGVtYWlsLnRhZ3MgYXMgc3RyaW5nW10gfCBudWxsO1xuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodGFncykgJiYgdGFncy5pbmNsdWRlcyhcInN0YXJyZWRcIik7XG4gICAgfSkubGVuZ3RoO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBjb3VudHM6IHtcbiAgICAgICAgYWxsOiBhbGxSZXN1bHQuY291bnQgPz8gMCxcbiAgICAgICAgaW5ib3g6IGluYm94UmVzdWx0LmNvdW50ID8/IDAsXG4gICAgICAgIGRyYWZ0czogZHJhZnRzUmVzdWx0LmNvdW50ID8/IDAsXG4gICAgICAgIHNlbnQ6IHNlbnRSZXN1bHQuY291bnQgPz8gMCxcbiAgICAgICAgYXJjaGl2ZTogYXJjaGl2ZVJlc3VsdC5jb3VudCA/PyAwLFxuICAgICAgICBzbm9vemVkOiBzbm9vemVkUmVzdWx0LmNvdW50ID8/IDAsXG4gICAgICAgIHNwYW06IHNwYW1Db3VudCxcbiAgICAgICAgdHJhc2g6IHRyYXNoUmVzdWx0LmNvdW50ID8/IDAsXG4gICAgICAgIHN0YXJyZWQ6IHN0YXJyZWRDb3VudCxcbiAgICAgIH0sXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBlbWFpbCBmb2xkZXIgY291bnRzOlwiLCBlcnJvcik7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJVbmtub3duIGVycm9yXCIsXG4gICAgfTtcbiAgfVxufVxuXG4vKipcbiAqIFRvZ2dsZSBzdGFyIHN0YXR1cyBvbiBhbiBlbWFpbFxuICogQWRkcyBvciByZW1vdmVzIFwic3RhcnJlZFwiIHRhZyBmcm9tIHRoZSBlbWFpbCdzIHRhZ3MgYXJyYXlcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRvZ2dsZVN0YXJFbWFpbEFjdGlvbihlbWFpbElkOiBzdHJpbmcpOiBQcm9taXNlPHtcbiAgc3VjY2VzczogYm9vbGVhbjtcbiAgaXNTdGFycmVkPzogYm9vbGVhbjtcbiAgZXJyb3I/OiBzdHJpbmdcbn0+IHtcbiAgXCJ1c2Ugc2VydmVyXCI7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IGNyZWF0ZUNsaWVudCB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvc3VwYWJhc2Uvc2VydmVyXCIpO1xuICAgIGNvbnN0IHsgZ2V0QWN0aXZlQ29tcGFueUlkIH0gPSBhd2FpdCBpbXBvcnQoXCJAL2xpYi9hdXRoL2NvbXBhbnktY29udGV4dFwiKTtcblxuICAgIGNvbnN0IGNvbXBhbnlJZCA9IGF3YWl0IGdldEFjdGl2ZUNvbXBhbnlJZCgpO1xuICAgIGlmICghY29tcGFueUlkKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm8gYWN0aXZlIGNvbXBhbnkgZm91bmRcIiB9O1xuICAgIH1cblxuICAgIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG4gICAgaWYgKCFzdXBhYmFzZSkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkXCIgfTtcbiAgICB9XG5cbiAgICAvLyBGaXJzdCwgZ2V0IGN1cnJlbnQgdGFnc1xuICAgIGNvbnN0IHsgZGF0YTogZW1haWwsIGVycm9yOiBmZXRjaEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oXCJjb21tdW5pY2F0aW9uc1wiKVxuICAgICAgLnNlbGVjdChcInRhZ3NcIilcbiAgICAgIC5lcShcImlkXCIsIGVtYWlsSWQpXG4gICAgICAuZXEoXCJjb21wYW55X2lkXCIsIGNvbXBhbnlJZClcbiAgICAgIC5lcShcInR5cGVcIiwgXCJlbWFpbFwiKVxuICAgICAgLnNpbmdsZSgpO1xuXG4gICAgaWYgKGZldGNoRXJyb3IpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZmV0Y2hFcnJvci5tZXNzYWdlIH07XG4gICAgfVxuXG4gICAgY29uc3QgY3VycmVudFRhZ3MgPSAoZW1haWw/LnRhZ3MgYXMgc3RyaW5nW10pIHx8IFtdO1xuICAgIGNvbnN0IGlzQ3VycmVudGx5U3RhcnJlZCA9IGN1cnJlbnRUYWdzLmluY2x1ZGVzKFwic3RhcnJlZFwiKTtcblxuICAgIC8vIFRvZ2dsZSB0aGUgc3RhcnJlZCB0YWdcbiAgICBjb25zdCBuZXdUYWdzID0gaXNDdXJyZW50bHlTdGFycmVkXG4gICAgICA/IGN1cnJlbnRUYWdzLmZpbHRlcih0YWcgPT4gdGFnICE9PSBcInN0YXJyZWRcIilcbiAgICAgIDogWy4uLmN1cnJlbnRUYWdzLCBcInN0YXJyZWRcIl07XG5cbiAgICAvLyBVcGRhdGUgdGhlIGVtYWlsXG4gICAgY29uc3QgeyBlcnJvcjogdXBkYXRlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG4gICAgICAudXBkYXRlKHsgdGFnczogbmV3VGFncy5sZW5ndGggPiAwID8gbmV3VGFncyA6IG51bGwgfSlcbiAgICAgIC5lcShcImlkXCIsIGVtYWlsSWQpXG4gICAgICAuZXEoXCJjb21wYW55X2lkXCIsIGNvbXBhbnlJZClcbiAgICAgIC5lcShcInR5cGVcIiwgXCJlbWFpbFwiKTtcblxuICAgIGlmICh1cGRhdGVFcnJvcikge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiB1cGRhdGVFcnJvci5tZXNzYWdlIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgaXNTdGFycmVkOiAhaXNDdXJyZW50bHlTdGFycmVkIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIHRvZ2dsaW5nIHN0YXIgb24gZW1haWw6XCIsIGVycm9yKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJVbmtub3duIGVycm9yXCIgfTtcbiAgfVxufVxuXG4vKipcbiAqIFRvZ2dsZSBzcGFtIHN0YXR1cyBvbiBhbiBlbWFpbFxuICogQWRkcyBvciByZW1vdmVzIFwic3BhbVwiIHRhZyBhbmQgdXBkYXRlcyBjYXRlZ29yeSBmaWVsZFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdG9nZ2xlU3BhbUVtYWlsQWN0aW9uKGVtYWlsSWQ6IHN0cmluZyk6IFByb21pc2U8e1xuICBzdWNjZXNzOiBib29sZWFuO1xuICBpc1NwYW0/OiBib29sZWFuO1xuICBlcnJvcj86IHN0cmluZ1xufT4ge1xuICBcInVzZSBzZXJ2ZXJcIjtcblxuICB0cnkge1xuICAgIGNvbnN0IHsgY3JlYXRlQ2xpZW50IH0gPSBhd2FpdCBpbXBvcnQoXCJAL2xpYi9zdXBhYmFzZS9zZXJ2ZXJcIik7XG4gICAgY29uc3QgeyBnZXRBY3RpdmVDb21wYW55SWQgfSA9IGF3YWl0IGltcG9ydChcIkAvbGliL2F1dGgvY29tcGFueS1jb250ZXh0XCIpO1xuXG4gICAgY29uc3QgY29tcGFueUlkID0gYXdhaXQgZ2V0QWN0aXZlQ29tcGFueUlkKCk7XG4gICAgaWYgKCFjb21wYW55SWQpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJObyBhY3RpdmUgY29tcGFueSBmb3VuZFwiIH07XG4gICAgfVxuXG4gICAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcbiAgICBpZiAoIXN1cGFiYXNlKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWRcIiB9O1xuICAgIH1cblxuICAgIC8vIEZpcnN0LCBnZXQgY3VycmVudCB0YWdzIGFuZCBjYXRlZ29yeVxuICAgIGNvbnN0IHsgZGF0YTogZW1haWwsIGVycm9yOiBmZXRjaEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oXCJjb21tdW5pY2F0aW9uc1wiKVxuICAgICAgLnNlbGVjdChcInRhZ3MsIGNhdGVnb3J5XCIpXG4gICAgICAuZXEoXCJpZFwiLCBlbWFpbElkKVxuICAgICAgLmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpXG4gICAgICAuZXEoXCJ0eXBlXCIsIFwiZW1haWxcIilcbiAgICAgIC5zaW5nbGUoKTtcblxuICAgIGlmIChmZXRjaEVycm9yKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGZldGNoRXJyb3IubWVzc2FnZSB9O1xuICAgIH1cblxuICAgIGNvbnN0IGN1cnJlbnRUYWdzID0gKGVtYWlsPy50YWdzIGFzIHN0cmluZ1tdKSB8fCBbXTtcbiAgICBjb25zdCBpc0N1cnJlbnRseVNwYW0gPSBjdXJyZW50VGFncy5pbmNsdWRlcyhcInNwYW1cIikgfHwgZW1haWw/LmNhdGVnb3J5ID09PSBcInNwYW1cIjtcblxuICAgIC8vIFRvZ2dsZSB0aGUgc3BhbSB0YWcgYW5kIGNhdGVnb3J5XG4gICAgY29uc3QgbmV3VGFncyA9IGlzQ3VycmVudGx5U3BhbVxuICAgICAgPyBjdXJyZW50VGFncy5maWx0ZXIodGFnID0+IHRhZyAhPT0gXCJzcGFtXCIpXG4gICAgICA6IFsuLi5jdXJyZW50VGFncywgXCJzcGFtXCJdO1xuXG4gICAgY29uc3QgbmV3Q2F0ZWdvcnkgPSBpc0N1cnJlbnRseVNwYW0gPyBudWxsIDogXCJzcGFtXCI7XG5cbiAgICAvLyBVcGRhdGUgdGhlIGVtYWlsXG4gICAgY29uc3QgeyBlcnJvcjogdXBkYXRlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG4gICAgICAudXBkYXRlKHtcbiAgICAgICAgdGFnczogbmV3VGFncy5sZW5ndGggPiAwID8gbmV3VGFncyA6IG51bGwsXG4gICAgICAgIGNhdGVnb3J5OiBuZXdDYXRlZ29yeVxuICAgICAgfSlcbiAgICAgIC5lcShcImlkXCIsIGVtYWlsSWQpXG4gICAgICAuZXEoXCJjb21wYW55X2lkXCIsIGNvbXBhbnlJZClcbiAgICAgIC5lcShcInR5cGVcIiwgXCJlbWFpbFwiKTtcblxuICAgIGlmICh1cGRhdGVFcnJvcikge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiB1cGRhdGVFcnJvci5tZXNzYWdlIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgaXNTcGFtOiAhaXNDdXJyZW50bHlTcGFtIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIHRvZ2dsaW5nIHNwYW0gb24gZW1haWw6XCIsIGVycm9yKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJVbmtub3duIGVycm9yXCIgfTtcbiAgfVxufVxuXG4vKipcbiAqIFNub296ZSBhbiBlbWFpbCB1bnRpbCBhIHNwZWNpZmljIHRpbWVcbiAqIFRoZSBlbWFpbCB3aWxsIHJlYXBwZWFyIGluIGluYm94IGFmdGVyIHRoZSBzbm9vemUgdGltZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc25vb3plRW1haWxBY3Rpb24oXG4gIGVtYWlsSWQ6IHN0cmluZyxcbiAgc25vb3plVW50aWw6IHN0cmluZyB8IG51bGxcbik6IFByb21pc2U8e1xuICBzdWNjZXNzOiBib29sZWFuO1xuICBzbm9vemVkVW50aWw/OiBzdHJpbmcgfCBudWxsO1xuICBlcnJvcj86IHN0cmluZztcbn0+IHtcbiAgXCJ1c2Ugc2VydmVyXCI7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IGNyZWF0ZUNsaWVudCB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvc3VwYWJhc2Uvc2VydmVyXCIpO1xuICAgIGNvbnN0IHsgZ2V0QWN0aXZlQ29tcGFueUlkIH0gPSBhd2FpdCBpbXBvcnQoXCJAL2xpYi9hdXRoL2NvbXBhbnktY29udGV4dFwiKTtcblxuICAgIGNvbnN0IGNvbXBhbnlJZCA9IGF3YWl0IGdldEFjdGl2ZUNvbXBhbnlJZCgpO1xuICAgIGlmICghY29tcGFueUlkKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm8gYWN0aXZlIGNvbXBhbnkgZm91bmRcIiB9O1xuICAgIH1cblxuICAgIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG4gICAgaWYgKCFzdXBhYmFzZSkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkXCIgfTtcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgdGhlIHNub296ZWRfdW50aWwgZmllbGRcbiAgICBjb25zdCB7IGVycm9yOiB1cGRhdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKFwiY29tbXVuaWNhdGlvbnNcIilcbiAgICAgIC51cGRhdGUoeyBzbm9vemVkX3VudGlsOiBzbm9vemVVbnRpbCB9KVxuICAgICAgLmVxKFwiaWRcIiwgZW1haWxJZClcbiAgICAgIC5lcShcImNvbXBhbnlfaWRcIiwgY29tcGFueUlkKVxuICAgICAgLmVxKFwidHlwZVwiLCBcImVtYWlsXCIpO1xuXG4gICAgaWYgKHVwZGF0ZUVycm9yKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IHVwZGF0ZUVycm9yLm1lc3NhZ2UgfTtcbiAgICB9XG5cbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBzbm9vemVkVW50aWw6IHNub296ZVVudGlsIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIHNub296aW5nIGVtYWlsOlwiLCBlcnJvcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiVW5rbm93biBlcnJvclwiIH07XG4gIH1cbn1cblxuLyoqXG4gKiBVbnNub296ZSBhbiBlbWFpbCAocmVtb3ZlIHNub296ZSB0aW1lKVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdW5zbm9vemVFbWFpbEFjdGlvbihlbWFpbElkOiBzdHJpbmcpOiBQcm9taXNlPHtcbiAgc3VjY2VzczogYm9vbGVhbjtcbiAgZXJyb3I/OiBzdHJpbmc7XG59PiB7XG4gIHJldHVybiBzbm9vemVFbWFpbEFjdGlvbihlbWFpbElkLCBudWxsKTtcbn1cblxuLyoqXG4gKiBCdWxrIG1hcmsgZW1haWxzIGFzIHJlYWQgb3IgdW5yZWFkXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBidWxrTWFya1JlYWRVbnJlYWRBY3Rpb24oXG4gIGVtYWlsSWRzOiBzdHJpbmdbXSxcbiAgbWFya0FzUmVhZDogYm9vbGVhblxuKTogUHJvbWlzZTx7XG4gIHN1Y2Nlc3M6IGJvb2xlYW47XG4gIHVwZGF0ZWQ6IG51bWJlcjtcbiAgZXJyb3I/OiBzdHJpbmc7XG59PiB7XG4gIFwidXNlIHNlcnZlclwiO1xuXG4gIGlmICghZW1haWxJZHMgfHwgZW1haWxJZHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIHVwZGF0ZWQ6IDAsIGVycm9yOiBcIk5vIElEcyBwcm92aWRlZFwiIH07XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IHsgY3JlYXRlQ2xpZW50IH0gPSBhd2FpdCBpbXBvcnQoXCJAL2xpYi9zdXBhYmFzZS9zZXJ2ZXJcIik7XG4gICAgY29uc3QgeyBnZXRBY3RpdmVDb21wYW55SWQgfSA9IGF3YWl0IGltcG9ydChcIkAvbGliL2F1dGgvY29tcGFueS1jb250ZXh0XCIpO1xuXG4gICAgY29uc3QgY29tcGFueUlkID0gYXdhaXQgZ2V0QWN0aXZlQ29tcGFueUlkKCk7XG4gICAgaWYgKCFjb21wYW55SWQpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCB1cGRhdGVkOiAwLCBlcnJvcjogXCJObyBhY3RpdmUgY29tcGFueSBmb3VuZFwiIH07XG4gICAgfVxuXG4gICAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcbiAgICBpZiAoIXN1cGFiYXNlKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgdXBkYXRlZDogMCwgZXJyb3I6IFwiRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWRcIiB9O1xuICAgIH1cblxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG4gICAgICAudXBkYXRlKHsgcmVhZF9hdDogbWFya0FzUmVhZCA/IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSA6IG51bGwgfSlcbiAgICAgIC5pbihcImlkXCIsIGVtYWlsSWRzKVxuICAgICAgLmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpXG4gICAgICAuZXEoXCJ0eXBlXCIsIFwiZW1haWxcIilcbiAgICAgIC5zZWxlY3QoXCJpZFwiKTtcblxuICAgIGlmIChlcnJvcikge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIHVwZGF0ZWQ6IDAsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XG4gICAgfVxuXG4gICAgLy8gRGlzcGF0Y2ggZXZlbnQgdG8gcmVmcmVzaCBjb3VudHNcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCB1cGRhdGVkOiBkYXRhPy5sZW5ndGggPz8gMCB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBidWxrIG1hcmtpbmcgZW1haWxzOlwiLCBlcnJvcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIHVwZGF0ZWQ6IDAsIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiVW5rbm93biBlcnJvclwiIH07XG4gIH1cbn1cblxuLyoqXG4gKiBCdWxrIHRvZ2dsZSBzdGFyIG9uIGVtYWlsc1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYnVsa1N0YXJFbWFpbHNBY3Rpb24oXG4gIGVtYWlsSWRzOiBzdHJpbmdbXSxcbiAgYWRkU3RhcjogYm9vbGVhblxuKTogUHJvbWlzZTx7XG4gIHN1Y2Nlc3M6IGJvb2xlYW47XG4gIHVwZGF0ZWQ6IG51bWJlcjtcbiAgZXJyb3I/OiBzdHJpbmc7XG59PiB7XG4gIFwidXNlIHNlcnZlclwiO1xuXG4gIGlmICghZW1haWxJZHMgfHwgZW1haWxJZHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIHVwZGF0ZWQ6IDAsIGVycm9yOiBcIk5vIElEcyBwcm92aWRlZFwiIH07XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IHsgY3JlYXRlQ2xpZW50IH0gPSBhd2FpdCBpbXBvcnQoXCJAL2xpYi9zdXBhYmFzZS9zZXJ2ZXJcIik7XG4gICAgY29uc3QgeyBnZXRBY3RpdmVDb21wYW55SWQgfSA9IGF3YWl0IGltcG9ydChcIkAvbGliL2F1dGgvY29tcGFueS1jb250ZXh0XCIpO1xuXG4gICAgY29uc3QgY29tcGFueUlkID0gYXdhaXQgZ2V0QWN0aXZlQ29tcGFueUlkKCk7XG4gICAgaWYgKCFjb21wYW55SWQpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCB1cGRhdGVkOiAwLCBlcnJvcjogXCJObyBhY3RpdmUgY29tcGFueSBmb3VuZFwiIH07XG4gICAgfVxuXG4gICAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcbiAgICBpZiAoIXN1cGFiYXNlKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgdXBkYXRlZDogMCwgZXJyb3I6IFwiRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWRcIiB9O1xuICAgIH1cblxuICAgIC8vIE9QVElNSVpFRDogQmF0Y2ggZmV0Y2ggYWxsIGVtYWlscyBpbiBPTkUgcXVlcnkgKHdhcyBOIHF1ZXJpZXMpXG4gICAgY29uc3QgeyBkYXRhOiBlbWFpbHMgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG4gICAgICAuc2VsZWN0KFwiaWQsIHRhZ3NcIilcbiAgICAgIC5pbihcImlkXCIsIGVtYWlsSWRzKVxuICAgICAgLmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpO1xuXG4gICAgaWYgKCFlbWFpbHMgfHwgZW1haWxzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgdXBkYXRlZDogMCB9O1xuICAgIH1cblxuICAgIC8vIEdyb3VwIGVtYWlscyBieSB3aGF0IGNoYW5nZXMgbmVlZCB0byBiZSBtYWRlXG4gICAgY29uc3QgdG9VcGRhdGU6IEFycmF5PHsgaWQ6IHN0cmluZzsgbmV3VGFnczogc3RyaW5nW10gfCBudWxsIH0+ID0gW107XG5cbiAgICBmb3IgKGNvbnN0IGVtYWlsIG9mIGVtYWlscykge1xuICAgICAgY29uc3QgY3VycmVudFRhZ3MgPSAoZW1haWwudGFncyBhcyBzdHJpbmdbXSkgfHwgW107XG4gICAgICBjb25zdCBoYXNTdGFycmVkID0gY3VycmVudFRhZ3MuaW5jbHVkZXMoXCJzdGFycmVkXCIpO1xuXG4gICAgICBsZXQgbmV3VGFnczogc3RyaW5nW107XG4gICAgICBpZiAoYWRkU3RhciAmJiAhaGFzU3RhcnJlZCkge1xuICAgICAgICBuZXdUYWdzID0gWy4uLmN1cnJlbnRUYWdzLCBcInN0YXJyZWRcIl07XG4gICAgICB9IGVsc2UgaWYgKCFhZGRTdGFyICYmIGhhc1N0YXJyZWQpIHtcbiAgICAgICAgbmV3VGFncyA9IGN1cnJlbnRUYWdzLmZpbHRlcigodCkgPT4gdCAhPT0gXCJzdGFycmVkXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udGludWU7IC8vIE5vIGNoYW5nZSBuZWVkZWRcbiAgICAgIH1cblxuICAgICAgdG9VcGRhdGUucHVzaCh7IGlkOiBlbWFpbC5pZCwgbmV3VGFnczogbmV3VGFncy5sZW5ndGggPiAwID8gbmV3VGFncyA6IG51bGwgfSk7XG4gICAgfVxuXG4gICAgaWYgKHRvVXBkYXRlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgdXBkYXRlZDogMCB9O1xuICAgIH1cblxuICAgIC8vIEJhdGNoIHVwZGF0ZSB1c2luZyBQcm9taXNlLmFsbCAocGFyYWxsZWwgdXBkYXRlcylcbiAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICB0b1VwZGF0ZS5tYXAoKHsgaWQsIG5ld1RhZ3MgfSkgPT5cbiAgICAgICAgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG4gICAgICAgICAgLnVwZGF0ZSh7IHRhZ3M6IG5ld1RhZ3MgfSlcbiAgICAgICAgICAuZXEoXCJpZFwiLCBpZClcbiAgICAgICAgICAuZXEoXCJjb21wYW55X2lkXCIsIGNvbXBhbnlJZClcbiAgICAgIClcbiAgICApO1xuXG4gICAgY29uc3QgdXBkYXRlZENvdW50ID0gcmVzdWx0cy5maWx0ZXIoKHIpID0+ICFyLmVycm9yKS5sZW5ndGg7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgdXBkYXRlZDogdXBkYXRlZENvdW50IH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGJ1bGsgc3RhcnJpbmcgZW1haWxzOlwiLCBlcnJvcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIHVwZGF0ZWQ6IDAsIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiVW5rbm93biBlcnJvclwiIH07XG4gIH1cbn1cblxuLyoqXG4gKiBCdWxrIGRlbGV0ZSBlbWFpbHMgKG1vdmUgdG8gdHJhc2gpXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBidWxrRGVsZXRlRW1haWxzQWN0aW9uKGVtYWlsSWRzOiBzdHJpbmdbXSk6IFByb21pc2U8e1xuICBzdWNjZXNzOiBib29sZWFuO1xuICBkZWxldGVkOiBudW1iZXI7XG4gIGVycm9yPzogc3RyaW5nO1xufT4ge1xuICBcInVzZSBzZXJ2ZXJcIjtcblxuICBpZiAoIWVtYWlsSWRzIHx8IGVtYWlsSWRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBkZWxldGVkOiAwLCBlcnJvcjogXCJObyBJRHMgcHJvdmlkZWRcIiB9O1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IGNyZWF0ZUNsaWVudCB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvc3VwYWJhc2Uvc2VydmVyXCIpO1xuICAgIGNvbnN0IHsgZ2V0QWN0aXZlQ29tcGFueUlkIH0gPSBhd2FpdCBpbXBvcnQoXCJAL2xpYi9hdXRoL2NvbXBhbnktY29udGV4dFwiKTtcblxuICAgIGNvbnN0IGNvbXBhbnlJZCA9IGF3YWl0IGdldEFjdGl2ZUNvbXBhbnlJZCgpO1xuICAgIGlmICghY29tcGFueUlkKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZGVsZXRlZDogMCwgZXJyb3I6IFwiTm8gYWN0aXZlIGNvbXBhbnkgZm91bmRcIiB9O1xuICAgIH1cblxuICAgIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG4gICAgaWYgKCFzdXBhYmFzZSkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGRlbGV0ZWQ6IDAsIGVycm9yOiBcIkRhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkXCIgfTtcbiAgICB9XG5cbiAgICAvLyBTb2Z0IGRlbGV0ZSBieSBzZXR0aW5nIGRlbGV0ZWRfYXRcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oXCJjb21tdW5pY2F0aW9uc1wiKVxuICAgICAgLnVwZGF0ZSh7IGRlbGV0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSB9KVxuICAgICAgLmluKFwiaWRcIiwgZW1haWxJZHMpXG4gICAgICAuZXEoXCJjb21wYW55X2lkXCIsIGNvbXBhbnlJZClcbiAgICAgIC5lcShcInR5cGVcIiwgXCJlbWFpbFwiKVxuICAgICAgLnNlbGVjdChcImlkXCIpO1xuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZGVsZXRlZDogMCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcbiAgICB9XG5cbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkZWxldGVkOiBkYXRhPy5sZW5ndGggPz8gMCB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBidWxrIGRlbGV0aW5nIGVtYWlsczpcIiwgZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBkZWxldGVkOiAwLCBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIiB9O1xuICB9XG59XG5cbi8qKlxuICogQnVsayBtb3ZlIGVtYWlscyB0byBzcGFtXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBidWxrTW92ZVRvU3BhbUFjdGlvbihlbWFpbElkczogc3RyaW5nW10pOiBQcm9taXNlPHtcbiAgc3VjY2VzczogYm9vbGVhbjtcbiAgbW92ZWQ6IG51bWJlcjtcbiAgZXJyb3I/OiBzdHJpbmc7XG59PiB7XG4gIFwidXNlIHNlcnZlclwiO1xuXG4gIGlmICghZW1haWxJZHMgfHwgZW1haWxJZHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIG1vdmVkOiAwLCBlcnJvcjogXCJObyBJRHMgcHJvdmlkZWRcIiB9O1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IGNyZWF0ZUNsaWVudCB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvc3VwYWJhc2Uvc2VydmVyXCIpO1xuICAgIGNvbnN0IHsgZ2V0QWN0aXZlQ29tcGFueUlkIH0gPSBhd2FpdCBpbXBvcnQoXCJAL2xpYi9hdXRoL2NvbXBhbnktY29udGV4dFwiKTtcblxuICAgIGNvbnN0IGNvbXBhbnlJZCA9IGF3YWl0IGdldEFjdGl2ZUNvbXBhbnlJZCgpO1xuICAgIGlmICghY29tcGFueUlkKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgbW92ZWQ6IDAsIGVycm9yOiBcIk5vIGFjdGl2ZSBjb21wYW55IGZvdW5kXCIgfTtcbiAgICB9XG5cbiAgICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuICAgIGlmICghc3VwYWJhc2UpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBtb3ZlZDogMCwgZXJyb3I6IFwiRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWRcIiB9O1xuICAgIH1cblxuICAgIC8vIE9QVElNSVpFRDogQmF0Y2ggZmV0Y2ggYWxsIGVtYWlscyBpbiBPTkUgcXVlcnkgKHdhcyBOIHF1ZXJpZXMpXG4gICAgY29uc3QgeyBkYXRhOiBlbWFpbHMgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG4gICAgICAuc2VsZWN0KFwiaWQsIHRhZ3NcIilcbiAgICAgIC5pbihcImlkXCIsIGVtYWlsSWRzKVxuICAgICAgLmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpO1xuXG4gICAgaWYgKCFlbWFpbHMgfHwgZW1haWxzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgbW92ZWQ6IDAgfTtcbiAgICB9XG5cbiAgICAvLyBQcmVwYXJlIHVwZGF0ZXMgd2l0aCBuZXcgdGFnc1xuICAgIGNvbnN0IHVwZGF0ZXMgPSBlbWFpbHMubWFwKChlbWFpbCkgPT4ge1xuICAgICAgY29uc3QgY3VycmVudFRhZ3MgPSAoZW1haWwudGFncyBhcyBzdHJpbmdbXSkgfHwgW107XG4gICAgICBjb25zdCBuZXdUYWdzID0gY3VycmVudFRhZ3MuaW5jbHVkZXMoXCJzcGFtXCIpXG4gICAgICAgID8gY3VycmVudFRhZ3NcbiAgICAgICAgOiBbLi4uY3VycmVudFRhZ3MsIFwic3BhbVwiXTtcbiAgICAgIHJldHVybiB7IGlkOiBlbWFpbC5pZCwgbmV3VGFncyB9O1xuICAgIH0pO1xuXG4gICAgLy8gQmF0Y2ggdXBkYXRlIHVzaW5nIFByb21pc2UuYWxsIChwYXJhbGxlbCB1cGRhdGVzKVxuICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgIHVwZGF0ZXMubWFwKCh7IGlkLCBuZXdUYWdzIH0pID0+XG4gICAgICAgIHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oXCJjb21tdW5pY2F0aW9uc1wiKVxuICAgICAgICAgIC51cGRhdGUoeyBjYXRlZ29yeTogXCJzcGFtXCIsIHRhZ3M6IG5ld1RhZ3MgfSlcbiAgICAgICAgICAuZXEoXCJpZFwiLCBpZClcbiAgICAgICAgICAuZXEoXCJjb21wYW55X2lkXCIsIGNvbXBhbnlJZClcbiAgICAgIClcbiAgICApO1xuXG4gICAgY29uc3QgbW92ZWRDb3VudCA9IHJlc3VsdHMuZmlsdGVyKChyKSA9PiAhci5lcnJvcikubGVuZ3RoO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIG1vdmVkOiBtb3ZlZENvdW50IH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIG1vdmluZyBlbWFpbHMgdG8gc3BhbTpcIiwgZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBtb3ZlZDogMCwgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJVbmtub3duIGVycm9yXCIgfTtcbiAgfVxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBEUkFGVCBBQ1RJT05TXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmNvbnN0IHNhdmVEcmFmdFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgaWQ6IHouc3RyaW5nKCkudXVpZCgpLm9wdGlvbmFsKCksIC8vIElmIHByb3ZpZGVkLCB1cGRhdGUgZXhpc3RpbmcgZHJhZnRcbiAgdG86IHouYXJyYXkoei5zdHJpbmcoKS5lbWFpbCgpKS5vcHRpb25hbCgpLmRlZmF1bHQoW10pLFxuICBjYzogei5hcnJheSh6LnN0cmluZygpLmVtYWlsKCkpLm9wdGlvbmFsKCkuZGVmYXVsdChbXSksXG4gIGJjYzogei5hcnJheSh6LnN0cmluZygpLmVtYWlsKCkpLm9wdGlvbmFsKCkuZGVmYXVsdChbXSksXG4gIHN1YmplY3Q6IHouc3RyaW5nKCkub3B0aW9uYWwoKS5kZWZhdWx0KFwiXCIpLFxuICBib2R5OiB6LnN0cmluZygpLm9wdGlvbmFsKCkuZGVmYXVsdChcIlwiKSxcbiAgYm9keUh0bWw6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgY3VzdG9tZXJJZDogei5zdHJpbmcoKS51dWlkKCkub3B0aW9uYWwoKSxcbiAgYXR0YWNobWVudHM6IHouYXJyYXkoei5vYmplY3Qoe1xuICAgIGZpbGVuYW1lOiB6LnN0cmluZygpLFxuICAgIGNvbnRlbnQ6IHouc3RyaW5nKCksXG4gICAgY29udGVudFR5cGU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgfSkpLm9wdGlvbmFsKCksXG59KTtcblxuZXhwb3J0IHR5cGUgU2F2ZURyYWZ0SW5wdXQgPSB6LmluZmVyPHR5cGVvZiBzYXZlRHJhZnRTY2hlbWE+O1xuXG4vKipcbiAqIFNhdmUgb3IgdXBkYXRlIGFuIGVtYWlsIGRyYWZ0XG4gKiBJZiBpZCBpcyBwcm92aWRlZCwgdXBkYXRlcyBleGlzdGluZyBkcmFmdDsgb3RoZXJ3aXNlIGNyZWF0ZXMgYSBuZXcgb25lXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzYXZlRHJhZnRBY3Rpb24oaW5wdXQ6IFNhdmVEcmFmdElucHV0KTogUHJvbWlzZTx7XG4gIHN1Y2Nlc3M6IGJvb2xlYW47XG4gIGRyYWZ0SWQ/OiBzdHJpbmc7XG4gIGVycm9yPzogc3RyaW5nO1xufT4ge1xuICBcInVzZSBzZXJ2ZXJcIjtcblxuICB0cnkge1xuICAgIGNvbnN0IHBhcnNlUmVzdWx0ID0gc2F2ZURyYWZ0U2NoZW1hLnNhZmVQYXJzZShpbnB1dCk7XG4gICAgaWYgKCFwYXJzZVJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGBJbnZhbGlkIGlucHV0OiAke3BhcnNlUmVzdWx0LmVycm9yLm1lc3NhZ2V9YCB9O1xuICAgIH1cblxuICAgIGNvbnN0IHsgaWQsIHRvLCBjYywgYmNjLCBzdWJqZWN0LCBib2R5LCBib2R5SHRtbCwgY3VzdG9tZXJJZCwgYXR0YWNobWVudHMgfSA9IHBhcnNlUmVzdWx0LmRhdGE7XG5cbiAgICBjb25zdCB7IGNyZWF0ZUNsaWVudCB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvc3VwYWJhc2Uvc2VydmVyXCIpO1xuICAgIGNvbnN0IHsgZ2V0QWN0aXZlQ29tcGFueUlkIH0gPSBhd2FpdCBpbXBvcnQoXCJAL2xpYi9hdXRoL2NvbXBhbnktY29udGV4dFwiKTtcblxuICAgIGNvbnN0IGNvbXBhbnlJZCA9IGF3YWl0IGdldEFjdGl2ZUNvbXBhbnlJZCgpO1xuICAgIGlmICghY29tcGFueUlkKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm8gYWN0aXZlIGNvbXBhbnkgZm91bmRcIiB9O1xuICAgIH1cblxuICAgIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG4gICAgaWYgKCFzdXBhYmFzZSkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkXCIgfTtcbiAgICB9XG5cbiAgICAvLyBHZXQgdGhlIGNvbXBhbnkncyBkZWZhdWx0IGVtYWlsIGFkZHJlc3MgZm9yIGZyb21fYWRkcmVzc1xuICAgIGNvbnN0IHsgZGF0YTogY29tcGFueVNldHRpbmdzIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oXCJjb21wYW55X2NvbW11bmljYXRpb25fc2V0dGluZ3NcIilcbiAgICAgIC5zZWxlY3QoXCJlbWFpbF9mcm9tX2FkZHJlc3MsIGVtYWlsX2Zyb21fbmFtZVwiKVxuICAgICAgLmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpXG4gICAgICAuc2luZ2xlKCk7XG5cbiAgICBjb25zdCBmcm9tQWRkcmVzcyA9IGNvbXBhbnlTZXR0aW5ncz8uZW1haWxfZnJvbV9hZGRyZXNzIHx8IFwibm9yZXBseUBleGFtcGxlLmNvbVwiO1xuICAgIGNvbnN0IGZyb21OYW1lID0gY29tcGFueVNldHRpbmdzPy5lbWFpbF9mcm9tX25hbWUgfHwgXCJEcmFmdFwiO1xuXG4gICAgY29uc3QgZHJhZnREYXRhID0ge1xuICAgICAgY29tcGFueV9pZDogY29tcGFueUlkLFxuICAgICAgY3VzdG9tZXJfaWQ6IGN1c3RvbWVySWQgfHwgbnVsbCxcbiAgICAgIHR5cGU6IFwiZW1haWxcIiBhcyBjb25zdCxcbiAgICAgIGRpcmVjdGlvbjogXCJvdXRib3VuZFwiIGFzIGNvbnN0LFxuICAgICAgZnJvbV9hZGRyZXNzOiBmcm9tQWRkcmVzcyxcbiAgICAgIGZyb21fbmFtZTogZnJvbU5hbWUsXG4gICAgICB0b19hZGRyZXNzOiB0by5sZW5ndGggPiAwID8gdG8uam9pbihcIiwgXCIpIDogXCJkcmFmdEBwbGFjZWhvbGRlci5sb2NhbFwiLFxuICAgICAgY2NfYWRkcmVzczogY2MubGVuZ3RoID4gMCA/IGNjLmpvaW4oXCIsIFwiKSA6IG51bGwsXG4gICAgICBiY2NfYWRkcmVzczogYmNjLmxlbmd0aCA+IDAgPyBiY2Muam9pbihcIiwgXCIpIDogbnVsbCxcbiAgICAgIHN1YmplY3Q6IHN1YmplY3QgfHwgXCIoTm8gc3ViamVjdClcIixcbiAgICAgIGJvZHk6IGJvZHkgfHwgXCJcIixcbiAgICAgIGJvZHlfaHRtbDogYm9keUh0bWwgfHwgbnVsbCxcbiAgICAgIGF0dGFjaG1lbnRzOiBhdHRhY2htZW50cyAmJiBhdHRhY2htZW50cy5sZW5ndGggPiAwID8gYXR0YWNobWVudHMgOiBudWxsLFxuICAgICAgYXR0YWNobWVudF9jb3VudDogYXR0YWNobWVudHM/Lmxlbmd0aCB8fCAwLFxuICAgICAgc3RhdHVzOiBcImRyYWZ0XCIgYXMgY29uc3QsXG4gICAgICBpc19hdXRvbWF0ZWQ6IGZhbHNlLFxuICAgICAgaXNfaW50ZXJuYWw6IGZhbHNlLFxuICAgICAgaXNfYXJjaGl2ZWQ6IGZhbHNlLFxuICAgICAgaXNfdGhyZWFkX3N0YXJ0ZXI6IHRydWUsXG4gICAgICBwcmlvcml0eTogXCJub3JtYWxcIiBhcyBjb25zdCxcbiAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICB9O1xuXG4gICAgaWYgKGlkKSB7XG4gICAgICAvLyBVcGRhdGUgZXhpc3RpbmcgZHJhZnRcbiAgICAgIGNvbnN0IHsgZXJyb3I6IHVwZGF0ZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG4gICAgICAgIC51cGRhdGUoZHJhZnREYXRhKVxuICAgICAgICAuZXEoXCJpZFwiLCBpZClcbiAgICAgICAgLmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpXG4gICAgICAgIC5lcShcInN0YXR1c1wiLCBcImRyYWZ0XCIpO1xuXG4gICAgICBpZiAodXBkYXRlRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHVwZGF0aW5nIGRyYWZ0OlwiLCB1cGRhdGVFcnJvcik7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogdXBkYXRlRXJyb3IubWVzc2FnZSB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkcmFmdElkOiBpZCB9O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDcmVhdGUgbmV3IGRyYWZ0XG4gICAgICBjb25zdCB7IGRhdGE6IG5ld0RyYWZ0LCBlcnJvcjogaW5zZXJ0RXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKFwiY29tbXVuaWNhdGlvbnNcIilcbiAgICAgICAgLmluc2VydCh7XG4gICAgICAgICAgLi4uZHJhZnREYXRhLFxuICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgfSlcbiAgICAgICAgLnNlbGVjdChcImlkXCIpXG4gICAgICAgIC5zaW5nbGUoKTtcblxuICAgICAgaWYgKGluc2VydEVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBkcmFmdDpcIiwgaW5zZXJ0RXJyb3IpO1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGluc2VydEVycm9yLm1lc3NhZ2UgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZHJhZnRJZDogbmV3RHJhZnQuaWQgfTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIHNhdmluZyBkcmFmdDpcIiwgZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIiB9O1xuICB9XG59XG5cbi8qKlxuICogR2V0IGEgZHJhZnQgYnkgSURcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldERyYWZ0QWN0aW9uKGRyYWZ0SWQ6IHN0cmluZyk6IFByb21pc2U8e1xuICBzdWNjZXNzOiBib29sZWFuO1xuICBkcmFmdD86IHtcbiAgICBpZDogc3RyaW5nO1xuICAgIHRvOiBzdHJpbmdbXTtcbiAgICBjYzogc3RyaW5nW107XG4gICAgYmNjOiBzdHJpbmdbXTtcbiAgICBzdWJqZWN0OiBzdHJpbmc7XG4gICAgYm9keTogc3RyaW5nO1xuICAgIGJvZHlIdG1sPzogc3RyaW5nIHwgbnVsbDtcbiAgICBjdXN0b21lcklkPzogc3RyaW5nIHwgbnVsbDtcbiAgICBhdHRhY2htZW50cz86IEFycmF5PHsgZmlsZW5hbWU6IHN0cmluZzsgY29udGVudDogc3RyaW5nOyBjb250ZW50VHlwZT86IHN0cmluZyB9PiB8IG51bGw7XG4gICAgdXBkYXRlZEF0OiBzdHJpbmc7XG4gIH07XG4gIGVycm9yPzogc3RyaW5nO1xufT4ge1xuICBcInVzZSBzZXJ2ZXJcIjtcblxuICB0cnkge1xuICAgIGNvbnN0IHsgY3JlYXRlQ2xpZW50IH0gPSBhd2FpdCBpbXBvcnQoXCJAL2xpYi9zdXBhYmFzZS9zZXJ2ZXJcIik7XG4gICAgY29uc3QgeyBnZXRBY3RpdmVDb21wYW55SWQgfSA9IGF3YWl0IGltcG9ydChcIkAvbGliL2F1dGgvY29tcGFueS1jb250ZXh0XCIpO1xuXG4gICAgY29uc3QgY29tcGFueUlkID0gYXdhaXQgZ2V0QWN0aXZlQ29tcGFueUlkKCk7XG4gICAgaWYgKCFjb21wYW55SWQpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJObyBhY3RpdmUgY29tcGFueSBmb3VuZFwiIH07XG4gICAgfVxuXG4gICAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcbiAgICBpZiAoIXN1cGFiYXNlKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWRcIiB9O1xuICAgIH1cblxuICAgIGNvbnN0IHsgZGF0YTogZHJhZnQsIGVycm9yOiBmZXRjaEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oXCJjb21tdW5pY2F0aW9uc1wiKVxuICAgICAgLnNlbGVjdChcImlkLCB0b19hZGRyZXNzLCBjY19hZGRyZXNzLCBiY2NfYWRkcmVzcywgc3ViamVjdCwgYm9keSwgYm9keV9odG1sLCBjdXN0b21lcl9pZCwgYXR0YWNobWVudHMsIHVwZGF0ZWRfYXRcIilcbiAgICAgIC5lcShcImlkXCIsIGRyYWZ0SWQpXG4gICAgICAuZXEoXCJjb21wYW55X2lkXCIsIGNvbXBhbnlJZClcbiAgICAgIC5lcShcInN0YXR1c1wiLCBcImRyYWZ0XCIpXG4gICAgICAuc2luZ2xlKCk7XG5cbiAgICBpZiAoZmV0Y2hFcnJvcikge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBmZXRjaEVycm9yLm1lc3NhZ2UgfTtcbiAgICB9XG5cbiAgICBpZiAoIWRyYWZ0KSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRHJhZnQgbm90IGZvdW5kXCIgfTtcbiAgICB9XG5cbiAgICAvLyBQYXJzZSBhZGRyZXNzZXMgZnJvbSBjb21tYS1zZXBhcmF0ZWQgc3RyaW5ncyB0byBhcnJheXNcbiAgICBjb25zdCBwYXJzZUFkZHJlc3NlcyA9IChhZGRyOiBzdHJpbmcgfCBudWxsKTogc3RyaW5nW10gPT4ge1xuICAgICAgaWYgKCFhZGRyIHx8IGFkZHIgPT09IFwiZHJhZnRAcGxhY2Vob2xkZXIubG9jYWxcIikgcmV0dXJuIFtdO1xuICAgICAgcmV0dXJuIGFkZHIuc3BsaXQoXCIsXCIpLm1hcChhID0+IGEudHJpbSgpKS5maWx0ZXIoQm9vbGVhbik7XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgZHJhZnQ6IHtcbiAgICAgICAgaWQ6IGRyYWZ0LmlkLFxuICAgICAgICB0bzogcGFyc2VBZGRyZXNzZXMoZHJhZnQudG9fYWRkcmVzcyksXG4gICAgICAgIGNjOiBwYXJzZUFkZHJlc3NlcyhkcmFmdC5jY19hZGRyZXNzKSxcbiAgICAgICAgYmNjOiBwYXJzZUFkZHJlc3NlcyhkcmFmdC5iY2NfYWRkcmVzcyksXG4gICAgICAgIHN1YmplY3Q6IGRyYWZ0LnN1YmplY3QgPT09IFwiKE5vIHN1YmplY3QpXCIgPyBcIlwiIDogKGRyYWZ0LnN1YmplY3QgfHwgXCJcIiksXG4gICAgICAgIGJvZHk6IGRyYWZ0LmJvZHkgfHwgXCJcIixcbiAgICAgICAgYm9keUh0bWw6IGRyYWZ0LmJvZHlfaHRtbCxcbiAgICAgICAgY3VzdG9tZXJJZDogZHJhZnQuY3VzdG9tZXJfaWQsXG4gICAgICAgIGF0dGFjaG1lbnRzOiBkcmFmdC5hdHRhY2htZW50cyBhcyBBcnJheTx7IGZpbGVuYW1lOiBzdHJpbmc7IGNvbnRlbnQ6IHN0cmluZzsgY29udGVudFR5cGU/OiBzdHJpbmcgfT4gfCBudWxsLFxuICAgICAgICB1cGRhdGVkQXQ6IGRyYWZ0LnVwZGF0ZWRfYXQsXG4gICAgICB9LFxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGdldHRpbmcgZHJhZnQ6XCIsIGVycm9yKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJVbmtub3duIGVycm9yXCIgfTtcbiAgfVxufVxuXG4vKipcbiAqIERlbGV0ZSBhIGRyYWZ0XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVEcmFmdEFjdGlvbihkcmFmdElkOiBzdHJpbmcpOiBQcm9taXNlPHtcbiAgc3VjY2VzczogYm9vbGVhbjtcbiAgZXJyb3I/OiBzdHJpbmc7XG59PiB7XG4gIFwidXNlIHNlcnZlclwiO1xuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBjcmVhdGVDbGllbnQgfSA9IGF3YWl0IGltcG9ydChcIkAvbGliL3N1cGFiYXNlL3NlcnZlclwiKTtcbiAgICBjb25zdCB7IGdldEFjdGl2ZUNvbXBhbnlJZCB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvYXV0aC9jb21wYW55LWNvbnRleHRcIik7XG5cbiAgICBjb25zdCBjb21wYW55SWQgPSBhd2FpdCBnZXRBY3RpdmVDb21wYW55SWQoKTtcbiAgICBpZiAoIWNvbXBhbnlJZCkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIGFjdGl2ZSBjb21wYW55IGZvdW5kXCIgfTtcbiAgICB9XG5cbiAgICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuICAgIGlmICghc3VwYWJhc2UpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZFwiIH07XG4gICAgfVxuXG4gICAgLy8gSGFyZCBkZWxldGUgZHJhZnRzICh0aGV5IGRvbid0IG5lZWQgdG8gZ28gdG8gdHJhc2gpXG4gICAgY29uc3QgeyBlcnJvcjogZGVsZXRlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG4gICAgICAuZGVsZXRlKClcbiAgICAgIC5lcShcImlkXCIsIGRyYWZ0SWQpXG4gICAgICAuZXEoXCJjb21wYW55X2lkXCIsIGNvbXBhbnlJZClcbiAgICAgIC5lcShcInN0YXR1c1wiLCBcImRyYWZ0XCIpO1xuXG4gICAgaWYgKGRlbGV0ZUVycm9yKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGRlbGV0ZUVycm9yLm1lc3NhZ2UgfTtcbiAgICB9XG5cbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGRyYWZ0OlwiLCBlcnJvcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiVW5rbm93biBlcnJvclwiIH07XG4gIH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gUkVUUlkgQUNUSU9OU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIFJldHJ5IHNlbmRpbmcgYSBmYWlsZWQgZW1haWxcbiAqIEZldGNoZXMgdGhlIGZhaWxlZCBlbWFpbCwgcmVzZXRzIGl0cyBzdGF0dXMsIGFuZCBhdHRlbXB0cyB0byByZXNlbmRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJldHJ5RmFpbGVkRW1haWxBY3Rpb24oZW1haWxJZDogc3RyaW5nKTogUHJvbWlzZTx7XG4gIHN1Y2Nlc3M6IGJvb2xlYW47XG4gIGVycm9yPzogc3RyaW5nO1xufT4ge1xuICBcInVzZSBzZXJ2ZXJcIjtcblxuICB0cnkge1xuICAgIGNvbnN0IHsgY3JlYXRlQ2xpZW50IH0gPSBhd2FpdCBpbXBvcnQoXCJAL2xpYi9zdXBhYmFzZS9zZXJ2ZXJcIik7XG4gICAgY29uc3QgeyBnZXRBY3RpdmVDb21wYW55SWQgfSA9IGF3YWl0IGltcG9ydChcIkAvbGliL2F1dGgvY29tcGFueS1jb250ZXh0XCIpO1xuICAgIGNvbnN0IHsgc2VuZEVtYWlsIH0gPSBhd2FpdCBpbXBvcnQoXCJAL2xpYi9lbWFpbC9lbWFpbC1zZW5kZXJcIik7XG4gICAgY29uc3QgeyBQbGFpblRleHRFbWFpbCB9ID0gYXdhaXQgaW1wb3J0KFwiQC9lbWFpbHMvcGxhaW4tdGV4dC1lbWFpbFwiKTtcblxuICAgIGNvbnN0IGNvbXBhbnlJZCA9IGF3YWl0IGdldEFjdGl2ZUNvbXBhbnlJZCgpO1xuICAgIGlmICghY29tcGFueUlkKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm8gYWN0aXZlIGNvbXBhbnkgZm91bmRcIiB9O1xuICAgIH1cblxuICAgIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG4gICAgaWYgKCFzdXBhYmFzZSkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkXCIgfTtcbiAgICB9XG5cbiAgICAvLyBHZXQgdGhlIGZhaWxlZCBlbWFpbFxuICAgIGNvbnN0IHsgZGF0YTogZW1haWwsIGVycm9yOiBmZXRjaEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oXCJjb21tdW5pY2F0aW9uc1wiKVxuICAgICAgLnNlbGVjdChcIipcIilcbiAgICAgIC5lcShcImlkXCIsIGVtYWlsSWQpXG4gICAgICAuZXEoXCJjb21wYW55X2lkXCIsIGNvbXBhbnlJZClcbiAgICAgIC5lcShcInR5cGVcIiwgXCJlbWFpbFwiKVxuICAgICAgLmVxKFwic3RhdHVzXCIsIFwiZmFpbGVkXCIpXG4gICAgICAuc2luZ2xlKCk7XG5cbiAgICBpZiAoZmV0Y2hFcnJvcikge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBmZXRjaEVycm9yLm1lc3NhZ2UgfTtcbiAgICB9XG5cbiAgICBpZiAoIWVtYWlsKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRmFpbGVkIGVtYWlsIG5vdCBmb3VuZFwiIH07XG4gICAgfVxuXG4gICAgLy8gUmVzZXQgc3RhdHVzIHRvIHF1ZXVlZFxuICAgIGNvbnN0IHsgZXJyb3I6IHVwZGF0ZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oXCJjb21tdW5pY2F0aW9uc1wiKVxuICAgICAgLnVwZGF0ZSh7XG4gICAgICAgIHN0YXR1czogXCJxdWV1ZWRcIixcbiAgICAgICAgZmFpbHVyZV9yZWFzb246IG51bGwsXG4gICAgICB9KVxuICAgICAgLmVxKFwiaWRcIiwgZW1haWxJZClcbiAgICAgIC5lcShcImNvbXBhbnlfaWRcIiwgY29tcGFueUlkKTtcblxuICAgIGlmICh1cGRhdGVFcnJvcikge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBgRmFpbGVkIHRvIHJlc2V0IGVtYWlsIHN0YXR1czogJHt1cGRhdGVFcnJvci5tZXNzYWdlfWAgfTtcbiAgICB9XG5cbiAgICAvLyBQYXJzZSByZWNpcGllbnRzXG4gICAgY29uc3QgcGFyc2VBZGRyZXNzZXMgPSAoYWRkcjogc3RyaW5nIHwgbnVsbCk6IHN0cmluZyB8IHN0cmluZ1tdID0+IHtcbiAgICAgIGlmICghYWRkcikgcmV0dXJuIFtdO1xuICAgICAgY29uc3QgYWRkcmVzc2VzID0gYWRkci5zcGxpdChcIixcIikubWFwKGEgPT4gYS50cmltKCkpLmZpbHRlcihCb29sZWFuKTtcbiAgICAgIHJldHVybiBhZGRyZXNzZXMubGVuZ3RoID09PSAxID8gYWRkcmVzc2VzWzBdIDogYWRkcmVzc2VzO1xuICAgIH07XG5cbiAgICBjb25zdCB0byA9IHBhcnNlQWRkcmVzc2VzKGVtYWlsLnRvX2FkZHJlc3MpO1xuICAgIGNvbnN0IGNjID0gcGFyc2VBZGRyZXNzZXMoZW1haWwuY2NfYWRkcmVzcyk7XG4gICAgY29uc3QgYmNjID0gcGFyc2VBZGRyZXNzZXMoZW1haWwuYmNjX2FkZHJlc3MpO1xuXG4gICAgLy8gR2V0IGF0dGFjaG1lbnRzIGZyb20gbWV0YWRhdGEgaWYgc3RvcmVkIChmb3Igc2NoZWR1bGVkIGVtYWlscylcbiAgICBjb25zdCBtZXRhZGF0YSA9IGVtYWlsLnByb3ZpZGVyX21ldGFkYXRhIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+IHwgbnVsbDtcbiAgICBjb25zdCBhdHRhY2htZW50cyA9IG1ldGFkYXRhPy5zY2hlZHVsZWRfYXR0YWNobWVudHMgYXMgQXJyYXk8e1xuICAgICAgZmlsZW5hbWU6IHN0cmluZztcbiAgICAgIGNvbnRlbnQ6IHN0cmluZztcbiAgICAgIGNvbnRlbnRUeXBlPzogc3RyaW5nO1xuICAgIH0+IHwgdW5kZWZpbmVkO1xuXG4gICAgLy8gQXR0ZW1wdCB0byByZXNlbmRcbiAgICBjb25zdCBzZW5kUmVzdWx0ID0gYXdhaXQgc2VuZEVtYWlsKHtcbiAgICAgIHRvLFxuICAgICAgc3ViamVjdDogZW1haWwuc3ViamVjdCB8fCBcIihObyBzdWJqZWN0KVwiLFxuICAgICAgdGVtcGxhdGU6IFBsYWluVGV4dEVtYWlsKHsgbWVzc2FnZTogZW1haWwuYm9keSB8fCBcIlwiIH0pLFxuICAgICAgdGVtcGxhdGVUeXBlOiBcImdlbmVyaWNcIiBhcyBhbnksXG4gICAgICBjb21wYW55SWQsXG4gICAgICBjb21tdW5pY2F0aW9uSWQ6IGVtYWlsSWQsXG4gICAgICBjYzogY2MubGVuZ3RoID4gMCA/IGNjIDogdW5kZWZpbmVkLFxuICAgICAgYmNjOiBiY2MubGVuZ3RoID4gMCA/IGJjYyA6IHVuZGVmaW5lZCxcbiAgICAgIGF0dGFjaG1lbnRzLFxuICAgIH0pO1xuXG4gICAgaWYgKCFzZW5kUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgIC8vIFVwZGF0ZSBzdGF0dXMgYmFjayB0byBmYWlsZWRcbiAgICAgIGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKFwiY29tbXVuaWNhdGlvbnNcIilcbiAgICAgICAgLnVwZGF0ZSh7XG4gICAgICAgICAgc3RhdHVzOiBcImZhaWxlZFwiLFxuICAgICAgICAgIGZhaWx1cmVfcmVhc29uOiBzZW5kUmVzdWx0LmVycm9yIHx8IFwiRW1haWwgc2VuZCBmYWlsZWQgb24gcmV0cnlcIixcbiAgICAgICAgfSlcbiAgICAgICAgLmVxKFwiaWRcIiwgZW1haWxJZClcbiAgICAgICAgLmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IHNlbmRSZXN1bHQuZXJyb3IgfHwgXCJGYWlsZWQgdG8gc2VuZCBlbWFpbCBvbiByZXRyeVwiLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgc3RhdHVzIHRvIHNlbnRcbiAgICBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oXCJjb21tdW5pY2F0aW9uc1wiKVxuICAgICAgLnVwZGF0ZSh7XG4gICAgICAgIHN0YXR1czogXCJzZW50XCIsXG4gICAgICAgIHNlbnRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgcHJvdmlkZXJfbWVzc2FnZV9pZDogc2VuZFJlc3VsdC5kYXRhPy5pZCB8fCBudWxsLFxuICAgICAgICBmYWlsdXJlX3JlYXNvbjogbnVsbCxcbiAgICAgIH0pXG4gICAgICAuZXEoXCJpZFwiLCBlbWFpbElkKVxuICAgICAgLmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpO1xuXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciByZXRyeWluZyBmYWlsZWQgZW1haWw6XCIsIGVycm9yKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJVbmtub3duIGVycm9yXCIgfTtcbiAgfVxufSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoid1RBb01zQiJ9
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:4dec81 [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"404d09adf2fb9f5cfb17315943fa77e053c340c75d":"getCompanyPendingActions"},"apps/web/src/actions/ai-approval.ts",""] */ __turbopack_context__.s([
    "getCompanyPendingActions",
    ()=>getCompanyPendingActions
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var getCompanyPendingActions = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("404d09adf2fb9f5cfb17315943fa77e053c340c75d", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "getCompanyPendingActions"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vYWktYXBwcm92YWwudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBSSBBY3Rpb24gQXBwcm92YWwgU2VydmVyIEFjdGlvbnNcbiAqXG4gKiBTZXJ2ZXIgYWN0aW9ucyBmb3Igb3duZXItb25seSBhcHByb3ZhbCBvZiBkZXN0cnVjdGl2ZSBBSSBhY3Rpb25zLlxuICogVGhlc2UgYWN0aW9ucyB3cmFwIHRoZSBhY3Rpb24tYXBwcm92YWwgc2VydmljZSBmb3IgdXNlIGluIFJlYWN0IGNvbXBvbmVudHMuXG4gKi9cblxuXCJ1c2Ugc2VydmVyXCI7XG5cbmltcG9ydCB7IHJldmFsaWRhdGVQYXRoIH0gZnJvbSBcIm5leHQvY2FjaGVcIjtcbmltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG5pbXBvcnQge1xuXHRBY3Rpb25FcnJvcixcblx0RVJST1JfQ09ERVMsXG59IGZyb20gXCJAL2xpYi9lcnJvcnMvYWN0aW9uLWVycm9yXCI7XG5pbXBvcnQge1xuXHR0eXBlIEFjdGlvblJlc3VsdCxcblx0YXNzZXJ0QXV0aGVudGljYXRlZCxcblx0d2l0aEVycm9ySGFuZGxpbmcsXG59IGZyb20gXCJAL2xpYi9lcnJvcnMvd2l0aC1lcnJvci1oYW5kbGluZ1wiO1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSBcIkAvbGliL3N1cGFiYXNlL3NlcnZlclwiO1xuaW1wb3J0IHtcblx0YXBwcm92ZUFjdGlvbixcblx0cmVqZWN0QWN0aW9uLFxuXHRnZXRQZW5kaW5nQWN0aW9uc0ZvckNvbXBhbnksXG5cdGdldFBlbmRpbmdBY3Rpb25zRm9yQ2hhdCxcblx0Z2V0UGVuZGluZ0FjdGlvbixcblx0aXNDb21wYW55T3duZXIsXG5cdGV4cGlyZU9sZEFjdGlvbnMsXG5cdHR5cGUgUGVuZGluZ0FjdGlvbixcbn0gZnJvbSBcIkAvbGliL2FpL2FjdGlvbi1hcHByb3ZhbFwiO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBUeXBlc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgdHlwZSB7IFBlbmRpbmdBY3Rpb24gfTtcblxuZXhwb3J0IGludGVyZmFjZSBBcHByb3ZhbEFjdGlvblJlc3VsdCB7XG5cdHN1Y2Nlc3M6IGJvb2xlYW47XG5cdGVycm9yPzogc3RyaW5nO1xuXHRhY3Rpb25JZD86IHN0cmluZztcblx0dG9vbE5hbWU/OiBzdHJpbmc7XG5cdHRvb2xBcmdzPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG5cdC8vIEV4ZWN1dGlvbiBmaWVsZHMgKGZvciBhcHByb3ZhbCByZXNwb25zZXMpXG5cdGV4ZWN1dGVkPzogYm9vbGVhbjtcblx0ZXhlY3V0aW9uUmVzdWx0PzogdW5rbm93bjtcblx0ZXhlY3V0aW9uRXJyb3I/OiBzdHJpbmc7XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFZhbGlkYXRpb24gU2NoZW1hc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5jb25zdCBhcHByb3ZlQWN0aW9uU2NoZW1hID0gei5vYmplY3Qoe1xuXHRhY3Rpb25JZDogei5zdHJpbmcoKS51dWlkKFwiSW52YWxpZCBhY3Rpb24gSURcIiksXG59KTtcblxuY29uc3QgcmVqZWN0QWN0aW9uU2NoZW1hID0gei5vYmplY3Qoe1xuXHRhY3Rpb25JZDogei5zdHJpbmcoKS51dWlkKFwiSW52YWxpZCBhY3Rpb24gSURcIiksXG5cdHJlYXNvbjogei5zdHJpbmcoKS5tYXgoNTAwLCBcIlJlYXNvbiB0b28gbG9uZ1wiKS5vcHRpb25hbCgpLFxufSk7XG5cbmNvbnN0IGdldFBlbmRpbmdBY3Rpb25zU2NoZW1hID0gei5vYmplY3Qoe1xuXHRzdGF0dXM6IHouZW51bShbXCJwZW5kaW5nXCIsIFwiYXBwcm92ZWRcIiwgXCJyZWplY3RlZFwiLCBcImV4cGlyZWRcIl0pLm9wdGlvbmFsKCksXG5cdGxpbWl0OiB6Lm51bWJlcigpLm1pbigxKS5tYXgoMTAwKS5kZWZhdWx0KDUwKSxcbn0pO1xuXG5jb25zdCBnZXRDaGF0QWN0aW9uc1NjaGVtYSA9IHoub2JqZWN0KHtcblx0Y2hhdElkOiB6LnN0cmluZygpLnV1aWQoXCJJbnZhbGlkIGNoYXQgSURcIiksXG59KTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gSGVscGVyIEZ1bmN0aW9uc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5hc3luYyBmdW5jdGlvbiBnZXRBdXRoZW50aWNhdGVkVXNlcldpdGhDb21wYW55KCkge1xuXHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XCJEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZFwiLFxuXHRcdFx0RVJST1JfQ09ERVMuREJfQ09OTkVDVElPTl9FUlJPUixcblx0XHQpO1xuXHR9XG5cblx0Y29uc3Qge1xuXHRcdGRhdGE6IHsgdXNlciB9LFxuXHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cdGFzc2VydEF1dGhlbnRpY2F0ZWQodXNlcj8uaWQpO1xuXG5cdGNvbnN0IHsgZGF0YTogdGVhbU1lbWJlciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHQuZnJvbShcImNvbXBhbnlfbWVtYmVyc2hpcHNcIilcblx0XHQuc2VsZWN0KFwiY29tcGFueV9pZCwgcm9sZVwiKVxuXHRcdC5lcShcInVzZXJfaWRcIiwgdXNlci5pZClcblx0XHQuc2luZ2xlKCk7XG5cblx0aWYgKCF0ZWFtTWVtYmVyPy5jb21wYW55X2lkKSB7XG5cdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XCJZb3UgbXVzdCBiZSBwYXJ0IG9mIGEgY29tcGFueVwiLFxuXHRcdFx0RVJST1JfQ09ERVMuQVVUSF9GT1JCSURERU4sXG5cdFx0XHQ0MDMsXG5cdFx0KTtcblx0fVxuXG5cdHJldHVybiB7XG5cdFx0dXNlcklkOiB1c2VyLmlkLFxuXHRcdGNvbXBhbnlJZDogdGVhbU1lbWJlci5jb21wYW55X2lkLFxuXHRcdHJvbGU6IHRlYW1NZW1iZXIucm9sZSxcblx0fTtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU2VydmVyIEFjdGlvbnNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBBcHByb3ZlIGEgcGVuZGluZyBBSSBhY3Rpb24gLSBPV05FUiBPTkxZXG4gKiBUaGlzIGFjdGlvbiB3aWxsIGJlIGV4ZWN1dGVkIGltbWVkaWF0ZWx5IGFmdGVyIGFwcHJvdmFsXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhcHByb3ZlQUlBY3Rpb24oXG5cdGlucHV0OiB6LmluZmVyPHR5cGVvZiBhcHByb3ZlQWN0aW9uU2NoZW1hPixcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PEFwcHJvdmFsQWN0aW9uUmVzdWx0Pj4ge1xuXHRyZXR1cm4gYXdhaXQgd2l0aEVycm9ySGFuZGxpbmcoYXN5bmMgKCkgPT4ge1xuXHRcdGNvbnN0IHZhbGlkYXRlZCA9IGFwcHJvdmVBY3Rpb25TY2hlbWEucGFyc2UoaW5wdXQpO1xuXHRcdGNvbnN0IHsgdXNlcklkLCBjb21wYW55SWQgfSA9IGF3YWl0IGdldEF1dGhlbnRpY2F0ZWRVc2VyV2l0aENvbXBhbnkoKTtcblxuXHRcdC8vIFZlcmlmeSB1c2VyIGlzIG93bmVyIChkb3VibGUtY2hlY2sgZXZlbiB0aG91Z2ggREIgZnVuY3Rpb24gZW5mb3JjZXMgdGhpcylcblx0XHRjb25zdCBvd25lckNoZWNrID0gYXdhaXQgaXNDb21wYW55T3duZXIoY29tcGFueUlkLCB1c2VySWQpO1xuXHRcdGlmICghb3duZXJDaGVjaykge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRcIk9ubHkgY29tcGFueSBvd25lcnMgY2FuIGFwcHJvdmUgZGVzdHJ1Y3RpdmUgQUkgYWN0aW9uc1wiLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5BVVRIX0ZPUkJJRERFTixcblx0XHRcdFx0NDAzLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyBDYWxsIHRoZSBhcHByb3ZhbCBmdW5jdGlvbiAod2hpY2ggY2FsbHMgdGhlIERCIFJQQylcblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBhcHByb3ZlQWN0aW9uKHZhbGlkYXRlZC5hY3Rpb25JZCwgdXNlcklkKTtcblxuXHRcdGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0cmVzdWx0LmVycm9yIHx8IFwiRmFpbGVkIHRvIGFwcHJvdmUgYWN0aW9uXCIsXG5cdFx0XHRcdEVSUk9SX0NPREVTLk9QRVJBVElPTl9GQUlMRUQsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdC8vIEF1dG9tYXRpY2FsbHkgZXhlY3V0ZSB0aGUgYXBwcm92ZWQgYWN0aW9uXG5cdFx0bGV0IGV4ZWN1dGlvblJlc3VsdDogeyBzdWNjZXNzOiBib29sZWFuOyByZXN1bHQ/OiB1bmtub3duOyBlcnJvcj86IHN0cmluZyB9IHwgbnVsbCA9IG51bGw7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG5cdFx0XHRcdGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQUF9VUkwgfHwgXCJodHRwOi8vbG9jYWxob3N0OjMwMDBcIn0vYXBpL2FpL2V4ZWN1dGUtYXBwcm92ZWRgLFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bWV0aG9kOiBcIlBPU1RcIixcblx0XHRcdFx0XHRoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG5cdFx0XHRcdFx0Ym9keTogSlNPTi5zdHJpbmdpZnkoe1xuXHRcdFx0XHRcdFx0YWN0aW9uSWQ6IHZhbGlkYXRlZC5hY3Rpb25JZCxcblx0XHRcdFx0XHRcdGNvbXBhbnlJZCxcblx0XHRcdFx0XHR9KSxcblx0XHRcdFx0fVxuXHRcdFx0KTtcblx0XHRcdGV4ZWN1dGlvblJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblx0XHR9IGNhdGNoIChleGVjRXJyb3IpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gYXV0by1leGVjdXRlIGFwcHJvdmVkIGFjdGlvbjpcIiwgZXhlY0Vycm9yKTtcblx0XHRcdC8vIERvbid0IGZhaWwgdGhlIGFwcHJvdmFsIC0gZXhlY3V0aW9uIGNhbiBiZSByZXRyaWVkXG5cdFx0fVxuXG5cdFx0Ly8gUmV2YWxpZGF0ZSBBSS1yZWxhdGVkIHBhdGhzXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL2FpXCIpO1xuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9zZXR0aW5ncy9haVwiKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0YWN0aW9uSWQ6IHJlc3VsdC5hY3Rpb25JZCxcblx0XHRcdHRvb2xOYW1lOiByZXN1bHQudG9vbE5hbWUsXG5cdFx0XHR0b29sQXJnczogcmVzdWx0LnRvb2xBcmdzLFxuXHRcdFx0ZXhlY3V0ZWQ6IGV4ZWN1dGlvblJlc3VsdD8uc3VjY2VzcyB8fCBmYWxzZSxcblx0XHRcdGV4ZWN1dGlvblJlc3VsdDogZXhlY3V0aW9uUmVzdWx0Py5yZXN1bHQsXG5cdFx0XHRleGVjdXRpb25FcnJvcjogZXhlY3V0aW9uUmVzdWx0Py5lcnJvcixcblx0XHR9O1xuXHR9KTtcbn1cblxuLyoqXG4gKiBSZWplY3QgYSBwZW5kaW5nIEFJIGFjdGlvbiAtIE9XTkVSIE9OTFlcbiAqIFRoZSBBSSB3aWxsIG5vdCBleGVjdXRlIHRoaXMgYWN0aW9uXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWplY3RBSUFjdGlvbihcblx0aW5wdXQ6IHouaW5mZXI8dHlwZW9mIHJlamVjdEFjdGlvblNjaGVtYT4sXG4pOiBQcm9taXNlPEFjdGlvblJlc3VsdDxBcHByb3ZhbEFjdGlvblJlc3VsdD4+IHtcblx0cmV0dXJuIGF3YWl0IHdpdGhFcnJvckhhbmRsaW5nKGFzeW5jICgpID0+IHtcblx0XHRjb25zdCB2YWxpZGF0ZWQgPSByZWplY3RBY3Rpb25TY2hlbWEucGFyc2UoaW5wdXQpO1xuXHRcdGNvbnN0IHsgdXNlcklkLCBjb21wYW55SWQgfSA9IGF3YWl0IGdldEF1dGhlbnRpY2F0ZWRVc2VyV2l0aENvbXBhbnkoKTtcblxuXHRcdC8vIFZlcmlmeSB1c2VyIGlzIG93bmVyXG5cdFx0Y29uc3Qgb3duZXJDaGVjayA9IGF3YWl0IGlzQ29tcGFueU93bmVyKGNvbXBhbnlJZCwgdXNlcklkKTtcblx0XHRpZiAoIW93bmVyQ2hlY2spIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0XCJPbmx5IGNvbXBhbnkgb3duZXJzIGNhbiByZWplY3QgZGVzdHJ1Y3RpdmUgQUkgYWN0aW9uc1wiLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5BVVRIX0ZPUkJJRERFTixcblx0XHRcdFx0NDAzLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyBDYWxsIHRoZSByZWplY3Rpb24gZnVuY3Rpb25cblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCByZWplY3RBY3Rpb24oXG5cdFx0XHR2YWxpZGF0ZWQuYWN0aW9uSWQsXG5cdFx0XHR1c2VySWQsXG5cdFx0XHR2YWxpZGF0ZWQucmVhc29uLFxuXHRcdCk7XG5cblx0XHRpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdHJlc3VsdC5lcnJvciB8fCBcIkZhaWxlZCB0byByZWplY3QgYWN0aW9uXCIsXG5cdFx0XHRcdEVSUk9SX0NPREVTLk9QRVJBVElPTl9GQUlMRUQsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdC8vIFJldmFsaWRhdGUgQUktcmVsYXRlZCBwYXRoc1xuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9haVwiKTtcblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvc2V0dGluZ3MvYWlcIik7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdGFjdGlvbklkOiB2YWxpZGF0ZWQuYWN0aW9uSWQsXG5cdFx0fTtcblx0fSk7XG59XG5cbi8qKlxuICogR2V0IGFsbCBwZW5kaW5nIGFjdGlvbnMgZm9yIHRoZSBjdXJyZW50IGNvbXBhbnlcbiAqIFVzZWQgYnkgdGhlIG93bmVyIGRhc2hib2FyZCB0byByZXZpZXcgcGVuZGluZyBhcHByb3ZhbHNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENvbXBhbnlQZW5kaW5nQWN0aW9ucyhcblx0aW5wdXQ/OiB6LmluZmVyPHR5cGVvZiBnZXRQZW5kaW5nQWN0aW9uc1NjaGVtYT4sXG4pOiBQcm9taXNlPEFjdGlvblJlc3VsdDxQZW5kaW5nQWN0aW9uW10+PiB7XG5cdHJldHVybiBhd2FpdCB3aXRoRXJyb3JIYW5kbGluZyhhc3luYyAoKSA9PiB7XG5cdFx0Y29uc3QgdmFsaWRhdGVkID0gaW5wdXQgPyBnZXRQZW5kaW5nQWN0aW9uc1NjaGVtYS5wYXJzZShpbnB1dCkgOiB7IGxpbWl0OiA1MCB9O1xuXHRcdGNvbnN0IHsgY29tcGFueUlkIH0gPSBhd2FpdCBnZXRBdXRoZW50aWNhdGVkVXNlcldpdGhDb21wYW55KCk7XG5cblx0XHQvLyBFeHBpcmUgb2xkIGFjdGlvbnMgZmlyc3Rcblx0XHRhd2FpdCBleHBpcmVPbGRBY3Rpb25zKGNvbXBhbnlJZCk7XG5cblx0XHQvLyBGZXRjaCBwZW5kaW5nIGFjdGlvbnNcblx0XHRjb25zdCBhY3Rpb25zID0gYXdhaXQgZ2V0UGVuZGluZ0FjdGlvbnNGb3JDb21wYW55KGNvbXBhbnlJZCwge1xuXHRcdFx0c3RhdHVzOiB2YWxpZGF0ZWQuc3RhdHVzLFxuXHRcdFx0bGltaXQ6IHZhbGlkYXRlZC5saW1pdCxcblx0XHR9KTtcblxuXHRcdHJldHVybiBhY3Rpb25zO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBHZXQgcGVuZGluZyBhY3Rpb25zIGZvciBhIHNwZWNpZmljIGNoYXQgc2Vzc2lvblxuICogVXNlZCB0byBzaG93IGFwcHJvdmFsIGJhbm5lcnMgaW4gdGhlIEFJIGNoYXRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENoYXRQZW5kaW5nQWN0aW9ucyhcblx0aW5wdXQ6IHouaW5mZXI8dHlwZW9mIGdldENoYXRBY3Rpb25zU2NoZW1hPixcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PFBlbmRpbmdBY3Rpb25bXT4+IHtcblx0cmV0dXJuIGF3YWl0IHdpdGhFcnJvckhhbmRsaW5nKGFzeW5jICgpID0+IHtcblx0XHRjb25zdCB2YWxpZGF0ZWQgPSBnZXRDaGF0QWN0aW9uc1NjaGVtYS5wYXJzZShpbnB1dCk7XG5cdFx0Y29uc3QgeyBjb21wYW55SWQgfSA9IGF3YWl0IGdldEF1dGhlbnRpY2F0ZWRVc2VyV2l0aENvbXBhbnkoKTtcblxuXHRcdC8vIEV4cGlyZSBvbGQgYWN0aW9ucyBmaXJzdFxuXHRcdGF3YWl0IGV4cGlyZU9sZEFjdGlvbnMoY29tcGFueUlkKTtcblxuXHRcdC8vIEZldGNoIHBlbmRpbmcgYWN0aW9ucyBmb3IgdGhlIGNoYXRcblx0XHRjb25zdCBhY3Rpb25zID0gYXdhaXQgZ2V0UGVuZGluZ0FjdGlvbnNGb3JDaGF0KGNvbXBhbnlJZCwgdmFsaWRhdGVkLmNoYXRJZCk7XG5cblx0XHRyZXR1cm4gYWN0aW9ucztcblx0fSk7XG59XG5cbi8qKlxuICogR2V0IGEgc3BlY2lmaWMgcGVuZGluZyBhY3Rpb24gYnkgSURcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFBlbmRpbmdBY3Rpb25CeUlkKFxuXHRhY3Rpb25JZDogc3RyaW5nLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8UGVuZGluZ0FjdGlvbiB8IG51bGw+PiB7XG5cdHJldHVybiBhd2FpdCB3aXRoRXJyb3JIYW5kbGluZyhhc3luYyAoKSA9PiB7XG5cdFx0Y29uc3QgdmFsaWRhdGVkID0gei5zdHJpbmcoKS51dWlkKFwiSW52YWxpZCBhY3Rpb24gSURcIikucGFyc2UoYWN0aW9uSWQpO1xuXHRcdGNvbnN0IHsgY29tcGFueUlkIH0gPSBhd2FpdCBnZXRBdXRoZW50aWNhdGVkVXNlcldpdGhDb21wYW55KCk7XG5cblx0XHRjb25zdCBhY3Rpb24gPSBhd2FpdCBnZXRQZW5kaW5nQWN0aW9uKGNvbXBhbnlJZCwgdmFsaWRhdGVkKTtcblx0XHRyZXR1cm4gYWN0aW9uO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiBjdXJyZW50IHVzZXIgaXMgYSBjb21wYW55IG93bmVyXG4gKiBVc2VkIGJ5IFVJIHRvIGRldGVybWluZSBpZiBhcHByb3ZhbCBidXR0b25zIHNob3VsZCBiZSBlbmFibGVkXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjaGVja0lzQ29tcGFueU93bmVyKCk6IFByb21pc2U8QWN0aW9uUmVzdWx0PGJvb2xlYW4+PiB7XG5cdHJldHVybiBhd2FpdCB3aXRoRXJyb3JIYW5kbGluZyhhc3luYyAoKSA9PiB7XG5cdFx0Y29uc3QgeyB1c2VySWQsIGNvbXBhbnlJZCB9ID0gYXdhaXQgZ2V0QXV0aGVudGljYXRlZFVzZXJXaXRoQ29tcGFueSgpO1xuXHRcdGNvbnN0IGlzT3duZXIgPSBhd2FpdCBpc0NvbXBhbnlPd25lcihjb21wYW55SWQsIHVzZXJJZCk7XG5cdFx0cmV0dXJuIGlzT3duZXI7XG5cdH0pO1xufVxuXG4vKipcbiAqIEdldCBwZW5kaW5nIGFjdGlvbiBjb3VudHMgZm9yIG5vdGlmaWNhdGlvbnNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFBlbmRpbmdBY3Rpb25Db3VudHMoKTogUHJvbWlzZTxcblx0QWN0aW9uUmVzdWx0PHtcblx0XHR0b3RhbDogbnVtYmVyO1xuXHRcdGJ5Umlza0xldmVsOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+O1xuXHR9PlxuPiB7XG5cdHJldHVybiBhd2FpdCB3aXRoRXJyb3JIYW5kbGluZyhhc3luYyAoKSA9PiB7XG5cdFx0Y29uc3QgeyBjb21wYW55SWQgfSA9IGF3YWl0IGdldEF1dGhlbnRpY2F0ZWRVc2VyV2l0aENvbXBhbnkoKTtcblxuXHRcdC8vIEV4cGlyZSBvbGQgYWN0aW9ucyBmaXJzdFxuXHRcdGF3YWl0IGV4cGlyZU9sZEFjdGlvbnMoY29tcGFueUlkKTtcblxuXHRcdC8vIEZldGNoIHBlbmRpbmcgYWN0aW9uc1xuXHRcdGNvbnN0IGFjdGlvbnMgPSBhd2FpdCBnZXRQZW5kaW5nQWN0aW9uc0ZvckNvbXBhbnkoY29tcGFueUlkLCB7XG5cdFx0XHRzdGF0dXM6IFwicGVuZGluZ1wiLFxuXHRcdFx0bGltaXQ6IDEwMCxcblx0XHR9KTtcblxuXHRcdC8vIEdyb3VwIGJ5IHJpc2sgbGV2ZWxcblx0XHRjb25zdCBieVJpc2tMZXZlbDogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHtcblx0XHRcdGxvdzogMCxcblx0XHRcdG1lZGl1bTogMCxcblx0XHRcdGhpZ2g6IDAsXG5cdFx0XHRjcml0aWNhbDogMCxcblx0XHR9O1xuXG5cdFx0Zm9yIChjb25zdCBhY3Rpb24gb2YgYWN0aW9ucykge1xuXHRcdFx0YnlSaXNrTGV2ZWxbYWN0aW9uLnJpc2tMZXZlbF0gPSAoYnlSaXNrTGV2ZWxbYWN0aW9uLnJpc2tMZXZlbF0gfHwgMCkgKyAxO1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHR0b3RhbDogYWN0aW9ucy5sZW5ndGgsXG5cdFx0XHRieVJpc2tMZXZlbCxcblx0XHR9O1xuXHR9KTtcbn1cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoicVRBd09zQiJ9
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:5a655b [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"00db090f1561cd2d77f6fcc5f3c799a97aa1a51daf":"checkIsCompanyOwner"},"apps/web/src/actions/ai-approval.ts",""] */ __turbopack_context__.s([
    "checkIsCompanyOwner",
    ()=>checkIsCompanyOwner
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var checkIsCompanyOwner = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("00db090f1561cd2d77f6fcc5f3c799a97aa1a51daf", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "checkIsCompanyOwner"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vYWktYXBwcm92YWwudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBSSBBY3Rpb24gQXBwcm92YWwgU2VydmVyIEFjdGlvbnNcbiAqXG4gKiBTZXJ2ZXIgYWN0aW9ucyBmb3Igb3duZXItb25seSBhcHByb3ZhbCBvZiBkZXN0cnVjdGl2ZSBBSSBhY3Rpb25zLlxuICogVGhlc2UgYWN0aW9ucyB3cmFwIHRoZSBhY3Rpb24tYXBwcm92YWwgc2VydmljZSBmb3IgdXNlIGluIFJlYWN0IGNvbXBvbmVudHMuXG4gKi9cblxuXCJ1c2Ugc2VydmVyXCI7XG5cbmltcG9ydCB7IHJldmFsaWRhdGVQYXRoIH0gZnJvbSBcIm5leHQvY2FjaGVcIjtcbmltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG5pbXBvcnQge1xuXHRBY3Rpb25FcnJvcixcblx0RVJST1JfQ09ERVMsXG59IGZyb20gXCJAL2xpYi9lcnJvcnMvYWN0aW9uLWVycm9yXCI7XG5pbXBvcnQge1xuXHR0eXBlIEFjdGlvblJlc3VsdCxcblx0YXNzZXJ0QXV0aGVudGljYXRlZCxcblx0d2l0aEVycm9ySGFuZGxpbmcsXG59IGZyb20gXCJAL2xpYi9lcnJvcnMvd2l0aC1lcnJvci1oYW5kbGluZ1wiO1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSBcIkAvbGliL3N1cGFiYXNlL3NlcnZlclwiO1xuaW1wb3J0IHtcblx0YXBwcm92ZUFjdGlvbixcblx0cmVqZWN0QWN0aW9uLFxuXHRnZXRQZW5kaW5nQWN0aW9uc0ZvckNvbXBhbnksXG5cdGdldFBlbmRpbmdBY3Rpb25zRm9yQ2hhdCxcblx0Z2V0UGVuZGluZ0FjdGlvbixcblx0aXNDb21wYW55T3duZXIsXG5cdGV4cGlyZU9sZEFjdGlvbnMsXG5cdHR5cGUgUGVuZGluZ0FjdGlvbixcbn0gZnJvbSBcIkAvbGliL2FpL2FjdGlvbi1hcHByb3ZhbFwiO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBUeXBlc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgdHlwZSB7IFBlbmRpbmdBY3Rpb24gfTtcblxuZXhwb3J0IGludGVyZmFjZSBBcHByb3ZhbEFjdGlvblJlc3VsdCB7XG5cdHN1Y2Nlc3M6IGJvb2xlYW47XG5cdGVycm9yPzogc3RyaW5nO1xuXHRhY3Rpb25JZD86IHN0cmluZztcblx0dG9vbE5hbWU/OiBzdHJpbmc7XG5cdHRvb2xBcmdzPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG5cdC8vIEV4ZWN1dGlvbiBmaWVsZHMgKGZvciBhcHByb3ZhbCByZXNwb25zZXMpXG5cdGV4ZWN1dGVkPzogYm9vbGVhbjtcblx0ZXhlY3V0aW9uUmVzdWx0PzogdW5rbm93bjtcblx0ZXhlY3V0aW9uRXJyb3I/OiBzdHJpbmc7XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFZhbGlkYXRpb24gU2NoZW1hc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5jb25zdCBhcHByb3ZlQWN0aW9uU2NoZW1hID0gei5vYmplY3Qoe1xuXHRhY3Rpb25JZDogei5zdHJpbmcoKS51dWlkKFwiSW52YWxpZCBhY3Rpb24gSURcIiksXG59KTtcblxuY29uc3QgcmVqZWN0QWN0aW9uU2NoZW1hID0gei5vYmplY3Qoe1xuXHRhY3Rpb25JZDogei5zdHJpbmcoKS51dWlkKFwiSW52YWxpZCBhY3Rpb24gSURcIiksXG5cdHJlYXNvbjogei5zdHJpbmcoKS5tYXgoNTAwLCBcIlJlYXNvbiB0b28gbG9uZ1wiKS5vcHRpb25hbCgpLFxufSk7XG5cbmNvbnN0IGdldFBlbmRpbmdBY3Rpb25zU2NoZW1hID0gei5vYmplY3Qoe1xuXHRzdGF0dXM6IHouZW51bShbXCJwZW5kaW5nXCIsIFwiYXBwcm92ZWRcIiwgXCJyZWplY3RlZFwiLCBcImV4cGlyZWRcIl0pLm9wdGlvbmFsKCksXG5cdGxpbWl0OiB6Lm51bWJlcigpLm1pbigxKS5tYXgoMTAwKS5kZWZhdWx0KDUwKSxcbn0pO1xuXG5jb25zdCBnZXRDaGF0QWN0aW9uc1NjaGVtYSA9IHoub2JqZWN0KHtcblx0Y2hhdElkOiB6LnN0cmluZygpLnV1aWQoXCJJbnZhbGlkIGNoYXQgSURcIiksXG59KTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gSGVscGVyIEZ1bmN0aW9uc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5hc3luYyBmdW5jdGlvbiBnZXRBdXRoZW50aWNhdGVkVXNlcldpdGhDb21wYW55KCkge1xuXHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XCJEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZFwiLFxuXHRcdFx0RVJST1JfQ09ERVMuREJfQ09OTkVDVElPTl9FUlJPUixcblx0XHQpO1xuXHR9XG5cblx0Y29uc3Qge1xuXHRcdGRhdGE6IHsgdXNlciB9LFxuXHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cdGFzc2VydEF1dGhlbnRpY2F0ZWQodXNlcj8uaWQpO1xuXG5cdGNvbnN0IHsgZGF0YTogdGVhbU1lbWJlciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHQuZnJvbShcImNvbXBhbnlfbWVtYmVyc2hpcHNcIilcblx0XHQuc2VsZWN0KFwiY29tcGFueV9pZCwgcm9sZVwiKVxuXHRcdC5lcShcInVzZXJfaWRcIiwgdXNlci5pZClcblx0XHQuc2luZ2xlKCk7XG5cblx0aWYgKCF0ZWFtTWVtYmVyPy5jb21wYW55X2lkKSB7XG5cdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XCJZb3UgbXVzdCBiZSBwYXJ0IG9mIGEgY29tcGFueVwiLFxuXHRcdFx0RVJST1JfQ09ERVMuQVVUSF9GT1JCSURERU4sXG5cdFx0XHQ0MDMsXG5cdFx0KTtcblx0fVxuXG5cdHJldHVybiB7XG5cdFx0dXNlcklkOiB1c2VyLmlkLFxuXHRcdGNvbXBhbnlJZDogdGVhbU1lbWJlci5jb21wYW55X2lkLFxuXHRcdHJvbGU6IHRlYW1NZW1iZXIucm9sZSxcblx0fTtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU2VydmVyIEFjdGlvbnNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBBcHByb3ZlIGEgcGVuZGluZyBBSSBhY3Rpb24gLSBPV05FUiBPTkxZXG4gKiBUaGlzIGFjdGlvbiB3aWxsIGJlIGV4ZWN1dGVkIGltbWVkaWF0ZWx5IGFmdGVyIGFwcHJvdmFsXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhcHByb3ZlQUlBY3Rpb24oXG5cdGlucHV0OiB6LmluZmVyPHR5cGVvZiBhcHByb3ZlQWN0aW9uU2NoZW1hPixcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PEFwcHJvdmFsQWN0aW9uUmVzdWx0Pj4ge1xuXHRyZXR1cm4gYXdhaXQgd2l0aEVycm9ySGFuZGxpbmcoYXN5bmMgKCkgPT4ge1xuXHRcdGNvbnN0IHZhbGlkYXRlZCA9IGFwcHJvdmVBY3Rpb25TY2hlbWEucGFyc2UoaW5wdXQpO1xuXHRcdGNvbnN0IHsgdXNlcklkLCBjb21wYW55SWQgfSA9IGF3YWl0IGdldEF1dGhlbnRpY2F0ZWRVc2VyV2l0aENvbXBhbnkoKTtcblxuXHRcdC8vIFZlcmlmeSB1c2VyIGlzIG93bmVyIChkb3VibGUtY2hlY2sgZXZlbiB0aG91Z2ggREIgZnVuY3Rpb24gZW5mb3JjZXMgdGhpcylcblx0XHRjb25zdCBvd25lckNoZWNrID0gYXdhaXQgaXNDb21wYW55T3duZXIoY29tcGFueUlkLCB1c2VySWQpO1xuXHRcdGlmICghb3duZXJDaGVjaykge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRcIk9ubHkgY29tcGFueSBvd25lcnMgY2FuIGFwcHJvdmUgZGVzdHJ1Y3RpdmUgQUkgYWN0aW9uc1wiLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5BVVRIX0ZPUkJJRERFTixcblx0XHRcdFx0NDAzLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyBDYWxsIHRoZSBhcHByb3ZhbCBmdW5jdGlvbiAod2hpY2ggY2FsbHMgdGhlIERCIFJQQylcblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBhcHByb3ZlQWN0aW9uKHZhbGlkYXRlZC5hY3Rpb25JZCwgdXNlcklkKTtcblxuXHRcdGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0cmVzdWx0LmVycm9yIHx8IFwiRmFpbGVkIHRvIGFwcHJvdmUgYWN0aW9uXCIsXG5cdFx0XHRcdEVSUk9SX0NPREVTLk9QRVJBVElPTl9GQUlMRUQsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdC8vIEF1dG9tYXRpY2FsbHkgZXhlY3V0ZSB0aGUgYXBwcm92ZWQgYWN0aW9uXG5cdFx0bGV0IGV4ZWN1dGlvblJlc3VsdDogeyBzdWNjZXNzOiBib29sZWFuOyByZXN1bHQ/OiB1bmtub3duOyBlcnJvcj86IHN0cmluZyB9IHwgbnVsbCA9IG51bGw7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG5cdFx0XHRcdGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQUF9VUkwgfHwgXCJodHRwOi8vbG9jYWxob3N0OjMwMDBcIn0vYXBpL2FpL2V4ZWN1dGUtYXBwcm92ZWRgLFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bWV0aG9kOiBcIlBPU1RcIixcblx0XHRcdFx0XHRoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG5cdFx0XHRcdFx0Ym9keTogSlNPTi5zdHJpbmdpZnkoe1xuXHRcdFx0XHRcdFx0YWN0aW9uSWQ6IHZhbGlkYXRlZC5hY3Rpb25JZCxcblx0XHRcdFx0XHRcdGNvbXBhbnlJZCxcblx0XHRcdFx0XHR9KSxcblx0XHRcdFx0fVxuXHRcdFx0KTtcblx0XHRcdGV4ZWN1dGlvblJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblx0XHR9IGNhdGNoIChleGVjRXJyb3IpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gYXV0by1leGVjdXRlIGFwcHJvdmVkIGFjdGlvbjpcIiwgZXhlY0Vycm9yKTtcblx0XHRcdC8vIERvbid0IGZhaWwgdGhlIGFwcHJvdmFsIC0gZXhlY3V0aW9uIGNhbiBiZSByZXRyaWVkXG5cdFx0fVxuXG5cdFx0Ly8gUmV2YWxpZGF0ZSBBSS1yZWxhdGVkIHBhdGhzXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL2FpXCIpO1xuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9zZXR0aW5ncy9haVwiKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0YWN0aW9uSWQ6IHJlc3VsdC5hY3Rpb25JZCxcblx0XHRcdHRvb2xOYW1lOiByZXN1bHQudG9vbE5hbWUsXG5cdFx0XHR0b29sQXJnczogcmVzdWx0LnRvb2xBcmdzLFxuXHRcdFx0ZXhlY3V0ZWQ6IGV4ZWN1dGlvblJlc3VsdD8uc3VjY2VzcyB8fCBmYWxzZSxcblx0XHRcdGV4ZWN1dGlvblJlc3VsdDogZXhlY3V0aW9uUmVzdWx0Py5yZXN1bHQsXG5cdFx0XHRleGVjdXRpb25FcnJvcjogZXhlY3V0aW9uUmVzdWx0Py5lcnJvcixcblx0XHR9O1xuXHR9KTtcbn1cblxuLyoqXG4gKiBSZWplY3QgYSBwZW5kaW5nIEFJIGFjdGlvbiAtIE9XTkVSIE9OTFlcbiAqIFRoZSBBSSB3aWxsIG5vdCBleGVjdXRlIHRoaXMgYWN0aW9uXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWplY3RBSUFjdGlvbihcblx0aW5wdXQ6IHouaW5mZXI8dHlwZW9mIHJlamVjdEFjdGlvblNjaGVtYT4sXG4pOiBQcm9taXNlPEFjdGlvblJlc3VsdDxBcHByb3ZhbEFjdGlvblJlc3VsdD4+IHtcblx0cmV0dXJuIGF3YWl0IHdpdGhFcnJvckhhbmRsaW5nKGFzeW5jICgpID0+IHtcblx0XHRjb25zdCB2YWxpZGF0ZWQgPSByZWplY3RBY3Rpb25TY2hlbWEucGFyc2UoaW5wdXQpO1xuXHRcdGNvbnN0IHsgdXNlcklkLCBjb21wYW55SWQgfSA9IGF3YWl0IGdldEF1dGhlbnRpY2F0ZWRVc2VyV2l0aENvbXBhbnkoKTtcblxuXHRcdC8vIFZlcmlmeSB1c2VyIGlzIG93bmVyXG5cdFx0Y29uc3Qgb3duZXJDaGVjayA9IGF3YWl0IGlzQ29tcGFueU93bmVyKGNvbXBhbnlJZCwgdXNlcklkKTtcblx0XHRpZiAoIW93bmVyQ2hlY2spIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0XCJPbmx5IGNvbXBhbnkgb3duZXJzIGNhbiByZWplY3QgZGVzdHJ1Y3RpdmUgQUkgYWN0aW9uc1wiLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5BVVRIX0ZPUkJJRERFTixcblx0XHRcdFx0NDAzLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyBDYWxsIHRoZSByZWplY3Rpb24gZnVuY3Rpb25cblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCByZWplY3RBY3Rpb24oXG5cdFx0XHR2YWxpZGF0ZWQuYWN0aW9uSWQsXG5cdFx0XHR1c2VySWQsXG5cdFx0XHR2YWxpZGF0ZWQucmVhc29uLFxuXHRcdCk7XG5cblx0XHRpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdHJlc3VsdC5lcnJvciB8fCBcIkZhaWxlZCB0byByZWplY3QgYWN0aW9uXCIsXG5cdFx0XHRcdEVSUk9SX0NPREVTLk9QRVJBVElPTl9GQUlMRUQsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdC8vIFJldmFsaWRhdGUgQUktcmVsYXRlZCBwYXRoc1xuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9haVwiKTtcblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvc2V0dGluZ3MvYWlcIik7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdGFjdGlvbklkOiB2YWxpZGF0ZWQuYWN0aW9uSWQsXG5cdFx0fTtcblx0fSk7XG59XG5cbi8qKlxuICogR2V0IGFsbCBwZW5kaW5nIGFjdGlvbnMgZm9yIHRoZSBjdXJyZW50IGNvbXBhbnlcbiAqIFVzZWQgYnkgdGhlIG93bmVyIGRhc2hib2FyZCB0byByZXZpZXcgcGVuZGluZyBhcHByb3ZhbHNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENvbXBhbnlQZW5kaW5nQWN0aW9ucyhcblx0aW5wdXQ/OiB6LmluZmVyPHR5cGVvZiBnZXRQZW5kaW5nQWN0aW9uc1NjaGVtYT4sXG4pOiBQcm9taXNlPEFjdGlvblJlc3VsdDxQZW5kaW5nQWN0aW9uW10+PiB7XG5cdHJldHVybiBhd2FpdCB3aXRoRXJyb3JIYW5kbGluZyhhc3luYyAoKSA9PiB7XG5cdFx0Y29uc3QgdmFsaWRhdGVkID0gaW5wdXQgPyBnZXRQZW5kaW5nQWN0aW9uc1NjaGVtYS5wYXJzZShpbnB1dCkgOiB7IGxpbWl0OiA1MCB9O1xuXHRcdGNvbnN0IHsgY29tcGFueUlkIH0gPSBhd2FpdCBnZXRBdXRoZW50aWNhdGVkVXNlcldpdGhDb21wYW55KCk7XG5cblx0XHQvLyBFeHBpcmUgb2xkIGFjdGlvbnMgZmlyc3Rcblx0XHRhd2FpdCBleHBpcmVPbGRBY3Rpb25zKGNvbXBhbnlJZCk7XG5cblx0XHQvLyBGZXRjaCBwZW5kaW5nIGFjdGlvbnNcblx0XHRjb25zdCBhY3Rpb25zID0gYXdhaXQgZ2V0UGVuZGluZ0FjdGlvbnNGb3JDb21wYW55KGNvbXBhbnlJZCwge1xuXHRcdFx0c3RhdHVzOiB2YWxpZGF0ZWQuc3RhdHVzLFxuXHRcdFx0bGltaXQ6IHZhbGlkYXRlZC5saW1pdCxcblx0XHR9KTtcblxuXHRcdHJldHVybiBhY3Rpb25zO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBHZXQgcGVuZGluZyBhY3Rpb25zIGZvciBhIHNwZWNpZmljIGNoYXQgc2Vzc2lvblxuICogVXNlZCB0byBzaG93IGFwcHJvdmFsIGJhbm5lcnMgaW4gdGhlIEFJIGNoYXRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENoYXRQZW5kaW5nQWN0aW9ucyhcblx0aW5wdXQ6IHouaW5mZXI8dHlwZW9mIGdldENoYXRBY3Rpb25zU2NoZW1hPixcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PFBlbmRpbmdBY3Rpb25bXT4+IHtcblx0cmV0dXJuIGF3YWl0IHdpdGhFcnJvckhhbmRsaW5nKGFzeW5jICgpID0+IHtcblx0XHRjb25zdCB2YWxpZGF0ZWQgPSBnZXRDaGF0QWN0aW9uc1NjaGVtYS5wYXJzZShpbnB1dCk7XG5cdFx0Y29uc3QgeyBjb21wYW55SWQgfSA9IGF3YWl0IGdldEF1dGhlbnRpY2F0ZWRVc2VyV2l0aENvbXBhbnkoKTtcblxuXHRcdC8vIEV4cGlyZSBvbGQgYWN0aW9ucyBmaXJzdFxuXHRcdGF3YWl0IGV4cGlyZU9sZEFjdGlvbnMoY29tcGFueUlkKTtcblxuXHRcdC8vIEZldGNoIHBlbmRpbmcgYWN0aW9ucyBmb3IgdGhlIGNoYXRcblx0XHRjb25zdCBhY3Rpb25zID0gYXdhaXQgZ2V0UGVuZGluZ0FjdGlvbnNGb3JDaGF0KGNvbXBhbnlJZCwgdmFsaWRhdGVkLmNoYXRJZCk7XG5cblx0XHRyZXR1cm4gYWN0aW9ucztcblx0fSk7XG59XG5cbi8qKlxuICogR2V0IGEgc3BlY2lmaWMgcGVuZGluZyBhY3Rpb24gYnkgSURcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFBlbmRpbmdBY3Rpb25CeUlkKFxuXHRhY3Rpb25JZDogc3RyaW5nLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8UGVuZGluZ0FjdGlvbiB8IG51bGw+PiB7XG5cdHJldHVybiBhd2FpdCB3aXRoRXJyb3JIYW5kbGluZyhhc3luYyAoKSA9PiB7XG5cdFx0Y29uc3QgdmFsaWRhdGVkID0gei5zdHJpbmcoKS51dWlkKFwiSW52YWxpZCBhY3Rpb24gSURcIikucGFyc2UoYWN0aW9uSWQpO1xuXHRcdGNvbnN0IHsgY29tcGFueUlkIH0gPSBhd2FpdCBnZXRBdXRoZW50aWNhdGVkVXNlcldpdGhDb21wYW55KCk7XG5cblx0XHRjb25zdCBhY3Rpb24gPSBhd2FpdCBnZXRQZW5kaW5nQWN0aW9uKGNvbXBhbnlJZCwgdmFsaWRhdGVkKTtcblx0XHRyZXR1cm4gYWN0aW9uO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiBjdXJyZW50IHVzZXIgaXMgYSBjb21wYW55IG93bmVyXG4gKiBVc2VkIGJ5IFVJIHRvIGRldGVybWluZSBpZiBhcHByb3ZhbCBidXR0b25zIHNob3VsZCBiZSBlbmFibGVkXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjaGVja0lzQ29tcGFueU93bmVyKCk6IFByb21pc2U8QWN0aW9uUmVzdWx0PGJvb2xlYW4+PiB7XG5cdHJldHVybiBhd2FpdCB3aXRoRXJyb3JIYW5kbGluZyhhc3luYyAoKSA9PiB7XG5cdFx0Y29uc3QgeyB1c2VySWQsIGNvbXBhbnlJZCB9ID0gYXdhaXQgZ2V0QXV0aGVudGljYXRlZFVzZXJXaXRoQ29tcGFueSgpO1xuXHRcdGNvbnN0IGlzT3duZXIgPSBhd2FpdCBpc0NvbXBhbnlPd25lcihjb21wYW55SWQsIHVzZXJJZCk7XG5cdFx0cmV0dXJuIGlzT3duZXI7XG5cdH0pO1xufVxuXG4vKipcbiAqIEdldCBwZW5kaW5nIGFjdGlvbiBjb3VudHMgZm9yIG5vdGlmaWNhdGlvbnNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFBlbmRpbmdBY3Rpb25Db3VudHMoKTogUHJvbWlzZTxcblx0QWN0aW9uUmVzdWx0PHtcblx0XHR0b3RhbDogbnVtYmVyO1xuXHRcdGJ5Umlza0xldmVsOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+O1xuXHR9PlxuPiB7XG5cdHJldHVybiBhd2FpdCB3aXRoRXJyb3JIYW5kbGluZyhhc3luYyAoKSA9PiB7XG5cdFx0Y29uc3QgeyBjb21wYW55SWQgfSA9IGF3YWl0IGdldEF1dGhlbnRpY2F0ZWRVc2VyV2l0aENvbXBhbnkoKTtcblxuXHRcdC8vIEV4cGlyZSBvbGQgYWN0aW9ucyBmaXJzdFxuXHRcdGF3YWl0IGV4cGlyZU9sZEFjdGlvbnMoY29tcGFueUlkKTtcblxuXHRcdC8vIEZldGNoIHBlbmRpbmcgYWN0aW9uc1xuXHRcdGNvbnN0IGFjdGlvbnMgPSBhd2FpdCBnZXRQZW5kaW5nQWN0aW9uc0ZvckNvbXBhbnkoY29tcGFueUlkLCB7XG5cdFx0XHRzdGF0dXM6IFwicGVuZGluZ1wiLFxuXHRcdFx0bGltaXQ6IDEwMCxcblx0XHR9KTtcblxuXHRcdC8vIEdyb3VwIGJ5IHJpc2sgbGV2ZWxcblx0XHRjb25zdCBieVJpc2tMZXZlbDogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHtcblx0XHRcdGxvdzogMCxcblx0XHRcdG1lZGl1bTogMCxcblx0XHRcdGhpZ2g6IDAsXG5cdFx0XHRjcml0aWNhbDogMCxcblx0XHR9O1xuXG5cdFx0Zm9yIChjb25zdCBhY3Rpb24gb2YgYWN0aW9ucykge1xuXHRcdFx0YnlSaXNrTGV2ZWxbYWN0aW9uLnJpc2tMZXZlbF0gPSAoYnlSaXNrTGV2ZWxbYWN0aW9uLnJpc2tMZXZlbF0gfHwgMCkgKyAxO1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHR0b3RhbDogYWN0aW9ucy5sZW5ndGgsXG5cdFx0XHRieVJpc2tMZXZlbCxcblx0XHR9O1xuXHR9KTtcbn1cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiZ1RBb1NzQiJ9
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:4f264c [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"00bc8d38f46bac1b451fa040652bdbf7b6d05c4235":"getPendingSupportSessions"},"apps/web/src/actions/support-sessions.ts",""] */ __turbopack_context__.s([
    "getPendingSupportSessions",
    ()=>getPendingSupportSessions
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var getPendingSupportSessions = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("00bc8d38f46bac1b451fa040652bdbf7b6d05c4235", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "getPendingSupportSessions"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vc3VwcG9ydC1zZXNzaW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzZXJ2ZXJcIjtcblxuLyoqXG4gKiBTdXBwb3J0IFNlc3Npb24gQWN0aW9ucyBmb3IgV2ViIEFwcFxuICpcbiAqIEN1c3RvbWVyLWZhY2luZyBhY3Rpb25zIGZvciBtYW5hZ2luZyBzdXBwb3J0IGFjY2VzcyByZXF1ZXN0cy5cbiAqL1xuXG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tIFwiQC9saWIvc3VwYWJhc2Uvc2VydmVyXCI7XG5pbXBvcnQgeyByZXZhbGlkYXRlUGF0aCB9IGZyb20gXCJuZXh0L2NhY2hlXCI7XG5cbmludGVyZmFjZSBTdXBwb3J0U2Vzc2lvbiB7XG5cdGlkOiBzdHJpbmc7XG5cdGFkbWluX3VzZXJfaWQ6IHN0cmluZztcblx0dGlja2V0X2lkOiBzdHJpbmcgfCBudWxsO1xuXHRyZWFzb246IHN0cmluZztcblx0cmVxdWVzdGVkX2F0OiBzdHJpbmc7XG5cdHJlcXVlc3RlZF9wZXJtaXNzaW9uczogc3RyaW5nW107XG5cdGFkbWluX25hbWU/OiBzdHJpbmc7XG5cdGFkbWluX2VtYWlsPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIEdldCBwZW5kaW5nIHN1cHBvcnQgc2Vzc2lvbiByZXF1ZXN0cyBmb3IgdGhlIGN1cnJlbnQgY29tcGFueVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UGVuZGluZ1N1cHBvcnRTZXNzaW9ucygpOiBQcm9taXNlPHtcblx0c3VjY2VzczogYm9vbGVhbjtcblx0c2Vzc2lvbnM/OiBTdXBwb3J0U2Vzc2lvbltdO1xuXHRlcnJvcj86IHN0cmluZztcbn0+IHtcblx0dHJ5IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG5cdFx0Ly8gR2V0IGN1cnJlbnQgdXNlcidzIGNvbXBhbnlcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCB1c2VyJ3MgY29tcGFueV9pZCBmcm9tIHRlYW1fbWVtYmVyc1xuXHRcdGNvbnN0IHsgZGF0YTogdGVhbU1lbWJlciB9ID0gYXdhaXQgc3VwYWJhc2UuZnJvbShcInRlYW1fbWVtYmVyc1wiKS5zZWxlY3QoXCJjb21wYW55X2lkXCIpLmVxKFwidXNlcl9pZFwiLCB1c2VyLmlkKS5zaW5nbGUoKTtcblxuXHRcdGlmICghdGVhbU1lbWJlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIGNvbXBhbnkgZm91bmRcIiB9O1xuXHRcdH1cblxuXHRcdC8vIFF1ZXJ5IGFkbWluIGRhdGFiYXNlIGZvciBwZW5kaW5nIHNlc3Npb25zXG5cdFx0Ly8gTm90ZTogVGhpcyByZXF1aXJlcyBhZG1pbiBkYXRhYmFzZSBhY2Nlc3MgLSB3ZSdsbCB1c2UgYSBzZXJ2aWNlIHJvbGUgcXVlcnlcblx0XHRjb25zdCBhZG1pblN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KCk7IC8vIFRPRE86IFVzZSBhZG1pbi9zZXJ2aWNlIGNsaWVudFxuXG5cdFx0Y29uc3QgeyBkYXRhOiBzZXNzaW9ucywgZXJyb3IgfSA9IGF3YWl0IGFkbWluU3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwic3VwcG9ydF9zZXNzaW9uc1wiKVxuXHRcdFx0LnNlbGVjdChcblx0XHRcdFx0YFxuICAgICAgICBpZCxcbiAgICAgICAgYWRtaW5fdXNlcl9pZCxcbiAgICAgICAgdGlja2V0X2lkLFxuICAgICAgICByZWFzb24sXG4gICAgICAgIHJlcXVlc3RlZF9hdCxcbiAgICAgICAgcmVxdWVzdGVkX3Blcm1pc3Npb25zXG4gICAgICBgXG5cdFx0XHQpXG5cdFx0XHQuZXEoXCJjb21wYW55X2lkXCIsIHRlYW1NZW1iZXIuY29tcGFueV9pZClcblx0XHRcdC5lcShcInN0YXR1c1wiLCBcInBlbmRpbmdcIilcblx0XHRcdC5vcmRlcihcInJlcXVlc3RlZF9hdFwiLCB7IGFzY2VuZGluZzogZmFsc2UgfSk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBwZW5kaW5nIHNlc3Npb25zOlwiLCBlcnJvcik7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcblx0XHR9XG5cblx0XHQvLyBUT0RPOiBFbnJpY2ggd2l0aCBhZG1pbiB1c2VyIGRldGFpbHMgZnJvbSBhZG1pbiBkYXRhYmFzZVxuXHRcdC8vIEZvciBub3csIHJldHVybiBzZXNzaW9ucyB3aXRob3V0IGFkbWluIGRldGFpbHNcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdHNlc3Npb25zOiBzZXNzaW9ucyB8fCBbXSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiBnZXRQZW5kaW5nU3VwcG9ydFNlc3Npb25zOlwiLCBlcnJvcik7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJVbmtub3duIGVycm9yXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIEdldCBhY3RpdmUgc3VwcG9ydCBzZXNzaW9ucyBmb3IgdGhlIGN1cnJlbnQgY29tcGFueVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWN0aXZlU3VwcG9ydFNlc3Npb25zKCk6IFByb21pc2U8e1xuXHRzdWNjZXNzOiBib29sZWFuO1xuXHRzZXNzaW9ucz86IFN1cHBvcnRTZXNzaW9uW107XG5cdGVycm9yPzogc3RyaW5nO1xufT4ge1xuXHR0cnkge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0XHQvLyBHZXQgY3VycmVudCB1c2VyJ3MgY29tcGFueVxuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gR2V0IHVzZXIncyBjb21wYW55X2lkXG5cdFx0Y29uc3QgeyBkYXRhOiB0ZWFtTWVtYmVyIH0gPSBhd2FpdCBzdXBhYmFzZS5mcm9tKFwidGVhbV9tZW1iZXJzXCIpLnNlbGVjdChcImNvbXBhbnlfaWRcIikuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpLnNpbmdsZSgpO1xuXG5cdFx0aWYgKCF0ZWFtTWVtYmVyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm8gY29tcGFueSBmb3VuZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gUXVlcnkgZm9yIGFjdGl2ZSBzZXNzaW9uc1xuXHRcdGNvbnN0IGFkbWluU3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoKTsgLy8gVE9ETzogVXNlIGFkbWluL3NlcnZpY2UgY2xpZW50XG5cblx0XHRjb25zdCB7IGRhdGE6IHNlc3Npb25zLCBlcnJvciB9ID0gYXdhaXQgYWRtaW5TdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJzdXBwb3J0X3Nlc3Npb25zXCIpXG5cdFx0XHQuc2VsZWN0KFxuXHRcdFx0XHRgXG4gICAgICAgIGlkLFxuICAgICAgICBhZG1pbl91c2VyX2lkLFxuICAgICAgICB0aWNrZXRfaWQsXG4gICAgICAgIHJlYXNvbixcbiAgICAgICAgcmVxdWVzdGVkX2F0LFxuICAgICAgICBhcHByb3ZlZF9hdCxcbiAgICAgICAgZXhwaXJlc19hdCxcbiAgICAgICAgcmVxdWVzdGVkX3Blcm1pc3Npb25zXG4gICAgICBgXG5cdFx0XHQpXG5cdFx0XHQuZXEoXCJjb21wYW55X2lkXCIsIHRlYW1NZW1iZXIuY29tcGFueV9pZClcblx0XHRcdC5lcShcInN0YXR1c1wiLCBcImFjdGl2ZVwiKVxuXHRcdFx0Lm9yZGVyKFwiYXBwcm92ZWRfYXRcIiwgeyBhc2NlbmRpbmc6IGZhbHNlIH0pO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgYWN0aXZlIHNlc3Npb25zOlwiLCBlcnJvcik7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdHNlc3Npb25zOiBzZXNzaW9ucyB8fCBbXSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiBnZXRBY3RpdmVTdXBwb3J0U2Vzc2lvbnM6XCIsIGVycm9yKTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogQXBwcm92ZSBhIHN1cHBvcnQgc2Vzc2lvbiByZXF1ZXN0XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhcHByb3ZlU3VwcG9ydFNlc3Npb25SZXF1ZXN0KHNlc3Npb25JZDogc3RyaW5nLCBkdXJhdGlvbk1pbnV0ZXM6IG51bWJlciA9IDYwKTogUHJvbWlzZTx7XG5cdHN1Y2Nlc3M6IGJvb2xlYW47XG5cdGVycm9yPzogc3RyaW5nO1xufT4ge1xuXHR0cnkge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0XHQvLyBHZXQgY3VycmVudCB1c2VyXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXHRcdGlmICghdXNlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vdCBhdXRoZW50aWNhdGVkXCIgfTtcblx0XHR9XG5cblx0XHQvLyBWZXJpZnkgdXNlciBpcyBwYXJ0IG9mIHRoZSBjb21wYW55IGZvciB0aGlzIHNlc3Npb25cblx0XHRjb25zdCB7IGRhdGE6IHRlYW1NZW1iZXIgfSA9IGF3YWl0IHN1cGFiYXNlLmZyb20oXCJ0ZWFtX21lbWJlcnNcIikuc2VsZWN0KFwiY29tcGFueV9pZFwiKS5lcShcInVzZXJfaWRcIiwgdXNlci5pZCkuc2luZ2xlKCk7XG5cblx0XHRpZiAoIXRlYW1NZW1iZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJObyBjb21wYW55IGZvdW5kXCIgfTtcblx0XHR9XG5cblx0XHQvLyBDYWxsIGFkbWluIGRhdGFiYXNlIHRvIGFwcHJvdmUgc2Vzc2lvblxuXHRcdC8vIFRPRE86IFRoaXMgc2hvdWxkIGJlIGEgc2VjdXJlIFJQQyBjYWxsIHRvIGFkbWluIGRhdGFiYXNlXG5cdFx0Y29uc3QgYWRtaW5TdXBhYmFzZSA9IGNyZWF0ZUNsaWVudCgpOyAvLyBVc2UgYWRtaW4gY2xpZW50XG5cblx0XHRjb25zdCBleHBpcmVzQXQgPSBuZXcgRGF0ZSgpO1xuXHRcdGV4cGlyZXNBdC5zZXRNaW51dGVzKGV4cGlyZXNBdC5nZXRNaW51dGVzKCkgKyBkdXJhdGlvbk1pbnV0ZXMpO1xuXG5cdFx0Y29uc3QgeyBlcnJvcjogdXBkYXRlRXJyb3IgfSA9IGF3YWl0IGFkbWluU3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwic3VwcG9ydF9zZXNzaW9uc1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJhY3RpdmVcIixcblx0XHRcdFx0YXBwcm92ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdFx0YXBwcm92ZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHRcdGV4cGlyZXNfYXQ6IGV4cGlyZXNBdC50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNlc3Npb25JZClcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgdGVhbU1lbWJlci5jb21wYW55X2lkKVxuXHRcdFx0LmVxKFwic3RhdHVzXCIsIFwicGVuZGluZ1wiKTtcblxuXHRcdGlmICh1cGRhdGVFcnJvcikge1xuXHRcdFx0Y29uc29sZS5lcnJvcihcIkVycm9yIGFwcHJvdmluZyBzZXNzaW9uOlwiLCB1cGRhdGVFcnJvcik7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IHVwZGF0ZUVycm9yLm1lc3NhZ2UgfTtcblx0XHR9XG5cblx0XHRyZXZhbGlkYXRlUGF0aChcIi9cIik7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiBhcHByb3ZlU3VwcG9ydFNlc3Npb25SZXF1ZXN0OlwiLCBlcnJvcik7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJVbmtub3duIGVycm9yXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIFJlamVjdCBhIHN1cHBvcnQgc2Vzc2lvbiByZXF1ZXN0XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWplY3RTdXBwb3J0U2Vzc2lvblJlcXVlc3Qoc2Vzc2lvbklkOiBzdHJpbmcsIHJlYXNvbj86IHN0cmluZyk6IFByb21pc2U8e1xuXHRzdWNjZXNzOiBib29sZWFuO1xuXHRlcnJvcj86IHN0cmluZztcbn0+IHtcblx0dHJ5IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG5cdFx0Ly8gR2V0IGN1cnJlbnQgdXNlclxuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gVmVyaWZ5IHVzZXIgaXMgcGFydCBvZiB0aGUgY29tcGFueVxuXHRcdGNvbnN0IHsgZGF0YTogdGVhbU1lbWJlciB9ID0gYXdhaXQgc3VwYWJhc2UuZnJvbShcInRlYW1fbWVtYmVyc1wiKS5zZWxlY3QoXCJjb21wYW55X2lkXCIpLmVxKFwidXNlcl9pZFwiLCB1c2VyLmlkKS5zaW5nbGUoKTtcblxuXHRcdGlmICghdGVhbU1lbWJlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIGNvbXBhbnkgZm91bmRcIiB9O1xuXHRcdH1cblxuXHRcdC8vIFVwZGF0ZSBzZXNzaW9uIHN0YXR1c1xuXHRcdGNvbnN0IGFkbWluU3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoKTsgLy8gVXNlIGFkbWluIGNsaWVudFxuXG5cdFx0Y29uc3QgeyBlcnJvcjogdXBkYXRlRXJyb3IgfSA9IGF3YWl0IGFkbWluU3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwic3VwcG9ydF9zZXNzaW9uc1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJyZWplY3RlZFwiLFxuXHRcdFx0XHRyZWplY3RlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0XHRyZWplY3RlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0cmVqZWN0aW9uX3JlYXNvbjogcmVhc29uLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNlc3Npb25JZClcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgdGVhbU1lbWJlci5jb21wYW55X2lkKVxuXHRcdFx0LmVxKFwic3RhdHVzXCIsIFwicGVuZGluZ1wiKTtcblxuXHRcdGlmICh1cGRhdGVFcnJvcikge1xuXHRcdFx0Y29uc29sZS5lcnJvcihcIkVycm9yIHJlamVjdGluZyBzZXNzaW9uOlwiLCB1cGRhdGVFcnJvcik7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IHVwZGF0ZUVycm9yLm1lc3NhZ2UgfTtcblx0XHR9XG5cblx0XHRyZXZhbGlkYXRlUGF0aChcIi9cIik7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiByZWplY3RTdXBwb3J0U2Vzc2lvblJlcXVlc3Q6XCIsIGVycm9yKTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogRW5kIGFuIGFjdGl2ZSBzdXBwb3J0IHNlc3Npb24gKGN1c3RvbWVyLWluaXRpYXRlZClcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVuZEFjdGl2ZVN1cHBvcnRTZXNzaW9uKHNlc3Npb25JZDogc3RyaW5nKTogUHJvbWlzZTx7XG5cdHN1Y2Nlc3M6IGJvb2xlYW47XG5cdGVycm9yPzogc3RyaW5nO1xufT4ge1xuXHR0cnkge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0XHQvLyBHZXQgY3VycmVudCB1c2VyXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXHRcdGlmICghdXNlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vdCBhdXRoZW50aWNhdGVkXCIgfTtcblx0XHR9XG5cblx0XHQvLyBWZXJpZnkgdXNlciBpcyBwYXJ0IG9mIHRoZSBjb21wYW55XG5cdFx0Y29uc3QgeyBkYXRhOiB0ZWFtTWVtYmVyIH0gPSBhd2FpdCBzdXBhYmFzZS5mcm9tKFwidGVhbV9tZW1iZXJzXCIpLnNlbGVjdChcImNvbXBhbnlfaWRcIikuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpLnNpbmdsZSgpO1xuXG5cdFx0aWYgKCF0ZWFtTWVtYmVyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm8gY29tcGFueSBmb3VuZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gRW5kIHRoZSBzZXNzaW9uXG5cdFx0Y29uc3QgYWRtaW5TdXBhYmFzZSA9IGNyZWF0ZUNsaWVudCgpOyAvLyBVc2UgYWRtaW4gY2xpZW50XG5cblx0XHRjb25zdCB7IGVycm9yOiB1cGRhdGVFcnJvciB9ID0gYXdhaXQgYWRtaW5TdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJzdXBwb3J0X3Nlc3Npb25zXCIpXG5cdFx0XHQudXBkYXRlKHtcblx0XHRcdFx0c3RhdHVzOiBcImVuZGVkXCIsXG5cdFx0XHRcdGVuZGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG5cdFx0XHRcdGVuZGVkX2J5OiB1c2VyLmlkLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNlc3Npb25JZClcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgdGVhbU1lbWJlci5jb21wYW55X2lkKVxuXHRcdFx0LmVxKFwic3RhdHVzXCIsIFwiYWN0aXZlXCIpO1xuXG5cdFx0aWYgKHVwZGF0ZUVycm9yKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKFwiRXJyb3IgZW5kaW5nIHNlc3Npb246XCIsIHVwZGF0ZUVycm9yKTtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogdXBkYXRlRXJyb3IubWVzc2FnZSB9O1xuXHRcdH1cblxuXHRcdHJldmFsaWRhdGVQYXRoKFwiL1wiKTtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5lcnJvcihcIkVycm9yIGluIGVuZEFjdGl2ZVN1cHBvcnRTZXNzaW9uOlwiLCBlcnJvcik7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJVbmtub3duIGVycm9yXCIsXG5cdFx0fTtcblx0fVxufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiIyVEF5QnNCIn0=
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:cf2b3e [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"00c2f5e409473c5be2f2fff972322d09ee38ad10a7":"getActiveSupportSessions"},"apps/web/src/actions/support-sessions.ts",""] */ __turbopack_context__.s([
    "getActiveSupportSessions",
    ()=>getActiveSupportSessions
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var getActiveSupportSessions = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("00c2f5e409473c5be2f2fff972322d09ee38ad10a7", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "getActiveSupportSessions"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vc3VwcG9ydC1zZXNzaW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzZXJ2ZXJcIjtcblxuLyoqXG4gKiBTdXBwb3J0IFNlc3Npb24gQWN0aW9ucyBmb3IgV2ViIEFwcFxuICpcbiAqIEN1c3RvbWVyLWZhY2luZyBhY3Rpb25zIGZvciBtYW5hZ2luZyBzdXBwb3J0IGFjY2VzcyByZXF1ZXN0cy5cbiAqL1xuXG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tIFwiQC9saWIvc3VwYWJhc2Uvc2VydmVyXCI7XG5pbXBvcnQgeyByZXZhbGlkYXRlUGF0aCB9IGZyb20gXCJuZXh0L2NhY2hlXCI7XG5cbmludGVyZmFjZSBTdXBwb3J0U2Vzc2lvbiB7XG5cdGlkOiBzdHJpbmc7XG5cdGFkbWluX3VzZXJfaWQ6IHN0cmluZztcblx0dGlja2V0X2lkOiBzdHJpbmcgfCBudWxsO1xuXHRyZWFzb246IHN0cmluZztcblx0cmVxdWVzdGVkX2F0OiBzdHJpbmc7XG5cdHJlcXVlc3RlZF9wZXJtaXNzaW9uczogc3RyaW5nW107XG5cdGFkbWluX25hbWU/OiBzdHJpbmc7XG5cdGFkbWluX2VtYWlsPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIEdldCBwZW5kaW5nIHN1cHBvcnQgc2Vzc2lvbiByZXF1ZXN0cyBmb3IgdGhlIGN1cnJlbnQgY29tcGFueVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UGVuZGluZ1N1cHBvcnRTZXNzaW9ucygpOiBQcm9taXNlPHtcblx0c3VjY2VzczogYm9vbGVhbjtcblx0c2Vzc2lvbnM/OiBTdXBwb3J0U2Vzc2lvbltdO1xuXHRlcnJvcj86IHN0cmluZztcbn0+IHtcblx0dHJ5IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG5cdFx0Ly8gR2V0IGN1cnJlbnQgdXNlcidzIGNvbXBhbnlcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCB1c2VyJ3MgY29tcGFueV9pZCBmcm9tIHRlYW1fbWVtYmVyc1xuXHRcdGNvbnN0IHsgZGF0YTogdGVhbU1lbWJlciB9ID0gYXdhaXQgc3VwYWJhc2UuZnJvbShcInRlYW1fbWVtYmVyc1wiKS5zZWxlY3QoXCJjb21wYW55X2lkXCIpLmVxKFwidXNlcl9pZFwiLCB1c2VyLmlkKS5zaW5nbGUoKTtcblxuXHRcdGlmICghdGVhbU1lbWJlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIGNvbXBhbnkgZm91bmRcIiB9O1xuXHRcdH1cblxuXHRcdC8vIFF1ZXJ5IGFkbWluIGRhdGFiYXNlIGZvciBwZW5kaW5nIHNlc3Npb25zXG5cdFx0Ly8gTm90ZTogVGhpcyByZXF1aXJlcyBhZG1pbiBkYXRhYmFzZSBhY2Nlc3MgLSB3ZSdsbCB1c2UgYSBzZXJ2aWNlIHJvbGUgcXVlcnlcblx0XHRjb25zdCBhZG1pblN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KCk7IC8vIFRPRE86IFVzZSBhZG1pbi9zZXJ2aWNlIGNsaWVudFxuXG5cdFx0Y29uc3QgeyBkYXRhOiBzZXNzaW9ucywgZXJyb3IgfSA9IGF3YWl0IGFkbWluU3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwic3VwcG9ydF9zZXNzaW9uc1wiKVxuXHRcdFx0LnNlbGVjdChcblx0XHRcdFx0YFxuICAgICAgICBpZCxcbiAgICAgICAgYWRtaW5fdXNlcl9pZCxcbiAgICAgICAgdGlja2V0X2lkLFxuICAgICAgICByZWFzb24sXG4gICAgICAgIHJlcXVlc3RlZF9hdCxcbiAgICAgICAgcmVxdWVzdGVkX3Blcm1pc3Npb25zXG4gICAgICBgXG5cdFx0XHQpXG5cdFx0XHQuZXEoXCJjb21wYW55X2lkXCIsIHRlYW1NZW1iZXIuY29tcGFueV9pZClcblx0XHRcdC5lcShcInN0YXR1c1wiLCBcInBlbmRpbmdcIilcblx0XHRcdC5vcmRlcihcInJlcXVlc3RlZF9hdFwiLCB7IGFzY2VuZGluZzogZmFsc2UgfSk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBwZW5kaW5nIHNlc3Npb25zOlwiLCBlcnJvcik7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcblx0XHR9XG5cblx0XHQvLyBUT0RPOiBFbnJpY2ggd2l0aCBhZG1pbiB1c2VyIGRldGFpbHMgZnJvbSBhZG1pbiBkYXRhYmFzZVxuXHRcdC8vIEZvciBub3csIHJldHVybiBzZXNzaW9ucyB3aXRob3V0IGFkbWluIGRldGFpbHNcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdHNlc3Npb25zOiBzZXNzaW9ucyB8fCBbXSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiBnZXRQZW5kaW5nU3VwcG9ydFNlc3Npb25zOlwiLCBlcnJvcik7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJVbmtub3duIGVycm9yXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIEdldCBhY3RpdmUgc3VwcG9ydCBzZXNzaW9ucyBmb3IgdGhlIGN1cnJlbnQgY29tcGFueVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWN0aXZlU3VwcG9ydFNlc3Npb25zKCk6IFByb21pc2U8e1xuXHRzdWNjZXNzOiBib29sZWFuO1xuXHRzZXNzaW9ucz86IFN1cHBvcnRTZXNzaW9uW107XG5cdGVycm9yPzogc3RyaW5nO1xufT4ge1xuXHR0cnkge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0XHQvLyBHZXQgY3VycmVudCB1c2VyJ3MgY29tcGFueVxuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gR2V0IHVzZXIncyBjb21wYW55X2lkXG5cdFx0Y29uc3QgeyBkYXRhOiB0ZWFtTWVtYmVyIH0gPSBhd2FpdCBzdXBhYmFzZS5mcm9tKFwidGVhbV9tZW1iZXJzXCIpLnNlbGVjdChcImNvbXBhbnlfaWRcIikuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpLnNpbmdsZSgpO1xuXG5cdFx0aWYgKCF0ZWFtTWVtYmVyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm8gY29tcGFueSBmb3VuZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gUXVlcnkgZm9yIGFjdGl2ZSBzZXNzaW9uc1xuXHRcdGNvbnN0IGFkbWluU3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoKTsgLy8gVE9ETzogVXNlIGFkbWluL3NlcnZpY2UgY2xpZW50XG5cblx0XHRjb25zdCB7IGRhdGE6IHNlc3Npb25zLCBlcnJvciB9ID0gYXdhaXQgYWRtaW5TdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJzdXBwb3J0X3Nlc3Npb25zXCIpXG5cdFx0XHQuc2VsZWN0KFxuXHRcdFx0XHRgXG4gICAgICAgIGlkLFxuICAgICAgICBhZG1pbl91c2VyX2lkLFxuICAgICAgICB0aWNrZXRfaWQsXG4gICAgICAgIHJlYXNvbixcbiAgICAgICAgcmVxdWVzdGVkX2F0LFxuICAgICAgICBhcHByb3ZlZF9hdCxcbiAgICAgICAgZXhwaXJlc19hdCxcbiAgICAgICAgcmVxdWVzdGVkX3Blcm1pc3Npb25zXG4gICAgICBgXG5cdFx0XHQpXG5cdFx0XHQuZXEoXCJjb21wYW55X2lkXCIsIHRlYW1NZW1iZXIuY29tcGFueV9pZClcblx0XHRcdC5lcShcInN0YXR1c1wiLCBcImFjdGl2ZVwiKVxuXHRcdFx0Lm9yZGVyKFwiYXBwcm92ZWRfYXRcIiwgeyBhc2NlbmRpbmc6IGZhbHNlIH0pO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgYWN0aXZlIHNlc3Npb25zOlwiLCBlcnJvcik7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdHNlc3Npb25zOiBzZXNzaW9ucyB8fCBbXSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiBnZXRBY3RpdmVTdXBwb3J0U2Vzc2lvbnM6XCIsIGVycm9yKTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogQXBwcm92ZSBhIHN1cHBvcnQgc2Vzc2lvbiByZXF1ZXN0XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhcHByb3ZlU3VwcG9ydFNlc3Npb25SZXF1ZXN0KHNlc3Npb25JZDogc3RyaW5nLCBkdXJhdGlvbk1pbnV0ZXM6IG51bWJlciA9IDYwKTogUHJvbWlzZTx7XG5cdHN1Y2Nlc3M6IGJvb2xlYW47XG5cdGVycm9yPzogc3RyaW5nO1xufT4ge1xuXHR0cnkge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0XHQvLyBHZXQgY3VycmVudCB1c2VyXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXHRcdGlmICghdXNlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vdCBhdXRoZW50aWNhdGVkXCIgfTtcblx0XHR9XG5cblx0XHQvLyBWZXJpZnkgdXNlciBpcyBwYXJ0IG9mIHRoZSBjb21wYW55IGZvciB0aGlzIHNlc3Npb25cblx0XHRjb25zdCB7IGRhdGE6IHRlYW1NZW1iZXIgfSA9IGF3YWl0IHN1cGFiYXNlLmZyb20oXCJ0ZWFtX21lbWJlcnNcIikuc2VsZWN0KFwiY29tcGFueV9pZFwiKS5lcShcInVzZXJfaWRcIiwgdXNlci5pZCkuc2luZ2xlKCk7XG5cblx0XHRpZiAoIXRlYW1NZW1iZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJObyBjb21wYW55IGZvdW5kXCIgfTtcblx0XHR9XG5cblx0XHQvLyBDYWxsIGFkbWluIGRhdGFiYXNlIHRvIGFwcHJvdmUgc2Vzc2lvblxuXHRcdC8vIFRPRE86IFRoaXMgc2hvdWxkIGJlIGEgc2VjdXJlIFJQQyBjYWxsIHRvIGFkbWluIGRhdGFiYXNlXG5cdFx0Y29uc3QgYWRtaW5TdXBhYmFzZSA9IGNyZWF0ZUNsaWVudCgpOyAvLyBVc2UgYWRtaW4gY2xpZW50XG5cblx0XHRjb25zdCBleHBpcmVzQXQgPSBuZXcgRGF0ZSgpO1xuXHRcdGV4cGlyZXNBdC5zZXRNaW51dGVzKGV4cGlyZXNBdC5nZXRNaW51dGVzKCkgKyBkdXJhdGlvbk1pbnV0ZXMpO1xuXG5cdFx0Y29uc3QgeyBlcnJvcjogdXBkYXRlRXJyb3IgfSA9IGF3YWl0IGFkbWluU3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwic3VwcG9ydF9zZXNzaW9uc1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJhY3RpdmVcIixcblx0XHRcdFx0YXBwcm92ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdFx0YXBwcm92ZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHRcdGV4cGlyZXNfYXQ6IGV4cGlyZXNBdC50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNlc3Npb25JZClcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgdGVhbU1lbWJlci5jb21wYW55X2lkKVxuXHRcdFx0LmVxKFwic3RhdHVzXCIsIFwicGVuZGluZ1wiKTtcblxuXHRcdGlmICh1cGRhdGVFcnJvcikge1xuXHRcdFx0Y29uc29sZS5lcnJvcihcIkVycm9yIGFwcHJvdmluZyBzZXNzaW9uOlwiLCB1cGRhdGVFcnJvcik7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IHVwZGF0ZUVycm9yLm1lc3NhZ2UgfTtcblx0XHR9XG5cblx0XHRyZXZhbGlkYXRlUGF0aChcIi9cIik7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiBhcHByb3ZlU3VwcG9ydFNlc3Npb25SZXF1ZXN0OlwiLCBlcnJvcik7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJVbmtub3duIGVycm9yXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIFJlamVjdCBhIHN1cHBvcnQgc2Vzc2lvbiByZXF1ZXN0XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWplY3RTdXBwb3J0U2Vzc2lvblJlcXVlc3Qoc2Vzc2lvbklkOiBzdHJpbmcsIHJlYXNvbj86IHN0cmluZyk6IFByb21pc2U8e1xuXHRzdWNjZXNzOiBib29sZWFuO1xuXHRlcnJvcj86IHN0cmluZztcbn0+IHtcblx0dHJ5IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG5cdFx0Ly8gR2V0IGN1cnJlbnQgdXNlclxuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gVmVyaWZ5IHVzZXIgaXMgcGFydCBvZiB0aGUgY29tcGFueVxuXHRcdGNvbnN0IHsgZGF0YTogdGVhbU1lbWJlciB9ID0gYXdhaXQgc3VwYWJhc2UuZnJvbShcInRlYW1fbWVtYmVyc1wiKS5zZWxlY3QoXCJjb21wYW55X2lkXCIpLmVxKFwidXNlcl9pZFwiLCB1c2VyLmlkKS5zaW5nbGUoKTtcblxuXHRcdGlmICghdGVhbU1lbWJlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIGNvbXBhbnkgZm91bmRcIiB9O1xuXHRcdH1cblxuXHRcdC8vIFVwZGF0ZSBzZXNzaW9uIHN0YXR1c1xuXHRcdGNvbnN0IGFkbWluU3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoKTsgLy8gVXNlIGFkbWluIGNsaWVudFxuXG5cdFx0Y29uc3QgeyBlcnJvcjogdXBkYXRlRXJyb3IgfSA9IGF3YWl0IGFkbWluU3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwic3VwcG9ydF9zZXNzaW9uc1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJyZWplY3RlZFwiLFxuXHRcdFx0XHRyZWplY3RlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0XHRyZWplY3RlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0cmVqZWN0aW9uX3JlYXNvbjogcmVhc29uLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNlc3Npb25JZClcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgdGVhbU1lbWJlci5jb21wYW55X2lkKVxuXHRcdFx0LmVxKFwic3RhdHVzXCIsIFwicGVuZGluZ1wiKTtcblxuXHRcdGlmICh1cGRhdGVFcnJvcikge1xuXHRcdFx0Y29uc29sZS5lcnJvcihcIkVycm9yIHJlamVjdGluZyBzZXNzaW9uOlwiLCB1cGRhdGVFcnJvcik7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IHVwZGF0ZUVycm9yLm1lc3NhZ2UgfTtcblx0XHR9XG5cblx0XHRyZXZhbGlkYXRlUGF0aChcIi9cIik7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiByZWplY3RTdXBwb3J0U2Vzc2lvblJlcXVlc3Q6XCIsIGVycm9yKTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogRW5kIGFuIGFjdGl2ZSBzdXBwb3J0IHNlc3Npb24gKGN1c3RvbWVyLWluaXRpYXRlZClcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVuZEFjdGl2ZVN1cHBvcnRTZXNzaW9uKHNlc3Npb25JZDogc3RyaW5nKTogUHJvbWlzZTx7XG5cdHN1Y2Nlc3M6IGJvb2xlYW47XG5cdGVycm9yPzogc3RyaW5nO1xufT4ge1xuXHR0cnkge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0XHQvLyBHZXQgY3VycmVudCB1c2VyXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXHRcdGlmICghdXNlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vdCBhdXRoZW50aWNhdGVkXCIgfTtcblx0XHR9XG5cblx0XHQvLyBWZXJpZnkgdXNlciBpcyBwYXJ0IG9mIHRoZSBjb21wYW55XG5cdFx0Y29uc3QgeyBkYXRhOiB0ZWFtTWVtYmVyIH0gPSBhd2FpdCBzdXBhYmFzZS5mcm9tKFwidGVhbV9tZW1iZXJzXCIpLnNlbGVjdChcImNvbXBhbnlfaWRcIikuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpLnNpbmdsZSgpO1xuXG5cdFx0aWYgKCF0ZWFtTWVtYmVyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm8gY29tcGFueSBmb3VuZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gRW5kIHRoZSBzZXNzaW9uXG5cdFx0Y29uc3QgYWRtaW5TdXBhYmFzZSA9IGNyZWF0ZUNsaWVudCgpOyAvLyBVc2UgYWRtaW4gY2xpZW50XG5cblx0XHRjb25zdCB7IGVycm9yOiB1cGRhdGVFcnJvciB9ID0gYXdhaXQgYWRtaW5TdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJzdXBwb3J0X3Nlc3Npb25zXCIpXG5cdFx0XHQudXBkYXRlKHtcblx0XHRcdFx0c3RhdHVzOiBcImVuZGVkXCIsXG5cdFx0XHRcdGVuZGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG5cdFx0XHRcdGVuZGVkX2J5OiB1c2VyLmlkLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNlc3Npb25JZClcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgdGVhbU1lbWJlci5jb21wYW55X2lkKVxuXHRcdFx0LmVxKFwic3RhdHVzXCIsIFwiYWN0aXZlXCIpO1xuXG5cdFx0aWYgKHVwZGF0ZUVycm9yKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKFwiRXJyb3IgZW5kaW5nIHNlc3Npb246XCIsIHVwZGF0ZUVycm9yKTtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogdXBkYXRlRXJyb3IubWVzc2FnZSB9O1xuXHRcdH1cblxuXHRcdHJldmFsaWRhdGVQYXRoKFwiL1wiKTtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5lcnJvcihcIkVycm9yIGluIGVuZEFjdGl2ZVN1cHBvcnRTZXNzaW9uOlwiLCBlcnJvcik7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJVbmtub3duIGVycm9yXCIsXG5cdFx0fTtcblx0fVxufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiIwVEEyRnNCIn0=
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:f7b3c8 [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"608b8cea30b154a6249cb5b55846e7aa8fbb731076":"approveSupportSessionRequest"},"apps/web/src/actions/support-sessions.ts",""] */ __turbopack_context__.s([
    "approveSupportSessionRequest",
    ()=>approveSupportSessionRequest
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var approveSupportSessionRequest = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("608b8cea30b154a6249cb5b55846e7aa8fbb731076", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "approveSupportSessionRequest"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vc3VwcG9ydC1zZXNzaW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzZXJ2ZXJcIjtcblxuLyoqXG4gKiBTdXBwb3J0IFNlc3Npb24gQWN0aW9ucyBmb3IgV2ViIEFwcFxuICpcbiAqIEN1c3RvbWVyLWZhY2luZyBhY3Rpb25zIGZvciBtYW5hZ2luZyBzdXBwb3J0IGFjY2VzcyByZXF1ZXN0cy5cbiAqL1xuXG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tIFwiQC9saWIvc3VwYWJhc2Uvc2VydmVyXCI7XG5pbXBvcnQgeyByZXZhbGlkYXRlUGF0aCB9IGZyb20gXCJuZXh0L2NhY2hlXCI7XG5cbmludGVyZmFjZSBTdXBwb3J0U2Vzc2lvbiB7XG5cdGlkOiBzdHJpbmc7XG5cdGFkbWluX3VzZXJfaWQ6IHN0cmluZztcblx0dGlja2V0X2lkOiBzdHJpbmcgfCBudWxsO1xuXHRyZWFzb246IHN0cmluZztcblx0cmVxdWVzdGVkX2F0OiBzdHJpbmc7XG5cdHJlcXVlc3RlZF9wZXJtaXNzaW9uczogc3RyaW5nW107XG5cdGFkbWluX25hbWU/OiBzdHJpbmc7XG5cdGFkbWluX2VtYWlsPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIEdldCBwZW5kaW5nIHN1cHBvcnQgc2Vzc2lvbiByZXF1ZXN0cyBmb3IgdGhlIGN1cnJlbnQgY29tcGFueVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UGVuZGluZ1N1cHBvcnRTZXNzaW9ucygpOiBQcm9taXNlPHtcblx0c3VjY2VzczogYm9vbGVhbjtcblx0c2Vzc2lvbnM/OiBTdXBwb3J0U2Vzc2lvbltdO1xuXHRlcnJvcj86IHN0cmluZztcbn0+IHtcblx0dHJ5IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG5cdFx0Ly8gR2V0IGN1cnJlbnQgdXNlcidzIGNvbXBhbnlcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCB1c2VyJ3MgY29tcGFueV9pZCBmcm9tIHRlYW1fbWVtYmVyc1xuXHRcdGNvbnN0IHsgZGF0YTogdGVhbU1lbWJlciB9ID0gYXdhaXQgc3VwYWJhc2UuZnJvbShcInRlYW1fbWVtYmVyc1wiKS5zZWxlY3QoXCJjb21wYW55X2lkXCIpLmVxKFwidXNlcl9pZFwiLCB1c2VyLmlkKS5zaW5nbGUoKTtcblxuXHRcdGlmICghdGVhbU1lbWJlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIGNvbXBhbnkgZm91bmRcIiB9O1xuXHRcdH1cblxuXHRcdC8vIFF1ZXJ5IGFkbWluIGRhdGFiYXNlIGZvciBwZW5kaW5nIHNlc3Npb25zXG5cdFx0Ly8gTm90ZTogVGhpcyByZXF1aXJlcyBhZG1pbiBkYXRhYmFzZSBhY2Nlc3MgLSB3ZSdsbCB1c2UgYSBzZXJ2aWNlIHJvbGUgcXVlcnlcblx0XHRjb25zdCBhZG1pblN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KCk7IC8vIFRPRE86IFVzZSBhZG1pbi9zZXJ2aWNlIGNsaWVudFxuXG5cdFx0Y29uc3QgeyBkYXRhOiBzZXNzaW9ucywgZXJyb3IgfSA9IGF3YWl0IGFkbWluU3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwic3VwcG9ydF9zZXNzaW9uc1wiKVxuXHRcdFx0LnNlbGVjdChcblx0XHRcdFx0YFxuICAgICAgICBpZCxcbiAgICAgICAgYWRtaW5fdXNlcl9pZCxcbiAgICAgICAgdGlja2V0X2lkLFxuICAgICAgICByZWFzb24sXG4gICAgICAgIHJlcXVlc3RlZF9hdCxcbiAgICAgICAgcmVxdWVzdGVkX3Blcm1pc3Npb25zXG4gICAgICBgXG5cdFx0XHQpXG5cdFx0XHQuZXEoXCJjb21wYW55X2lkXCIsIHRlYW1NZW1iZXIuY29tcGFueV9pZClcblx0XHRcdC5lcShcInN0YXR1c1wiLCBcInBlbmRpbmdcIilcblx0XHRcdC5vcmRlcihcInJlcXVlc3RlZF9hdFwiLCB7IGFzY2VuZGluZzogZmFsc2UgfSk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBwZW5kaW5nIHNlc3Npb25zOlwiLCBlcnJvcik7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcblx0XHR9XG5cblx0XHQvLyBUT0RPOiBFbnJpY2ggd2l0aCBhZG1pbiB1c2VyIGRldGFpbHMgZnJvbSBhZG1pbiBkYXRhYmFzZVxuXHRcdC8vIEZvciBub3csIHJldHVybiBzZXNzaW9ucyB3aXRob3V0IGFkbWluIGRldGFpbHNcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdHNlc3Npb25zOiBzZXNzaW9ucyB8fCBbXSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiBnZXRQZW5kaW5nU3VwcG9ydFNlc3Npb25zOlwiLCBlcnJvcik7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJVbmtub3duIGVycm9yXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIEdldCBhY3RpdmUgc3VwcG9ydCBzZXNzaW9ucyBmb3IgdGhlIGN1cnJlbnQgY29tcGFueVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWN0aXZlU3VwcG9ydFNlc3Npb25zKCk6IFByb21pc2U8e1xuXHRzdWNjZXNzOiBib29sZWFuO1xuXHRzZXNzaW9ucz86IFN1cHBvcnRTZXNzaW9uW107XG5cdGVycm9yPzogc3RyaW5nO1xufT4ge1xuXHR0cnkge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0XHQvLyBHZXQgY3VycmVudCB1c2VyJ3MgY29tcGFueVxuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gR2V0IHVzZXIncyBjb21wYW55X2lkXG5cdFx0Y29uc3QgeyBkYXRhOiB0ZWFtTWVtYmVyIH0gPSBhd2FpdCBzdXBhYmFzZS5mcm9tKFwidGVhbV9tZW1iZXJzXCIpLnNlbGVjdChcImNvbXBhbnlfaWRcIikuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpLnNpbmdsZSgpO1xuXG5cdFx0aWYgKCF0ZWFtTWVtYmVyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm8gY29tcGFueSBmb3VuZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gUXVlcnkgZm9yIGFjdGl2ZSBzZXNzaW9uc1xuXHRcdGNvbnN0IGFkbWluU3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoKTsgLy8gVE9ETzogVXNlIGFkbWluL3NlcnZpY2UgY2xpZW50XG5cblx0XHRjb25zdCB7IGRhdGE6IHNlc3Npb25zLCBlcnJvciB9ID0gYXdhaXQgYWRtaW5TdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJzdXBwb3J0X3Nlc3Npb25zXCIpXG5cdFx0XHQuc2VsZWN0KFxuXHRcdFx0XHRgXG4gICAgICAgIGlkLFxuICAgICAgICBhZG1pbl91c2VyX2lkLFxuICAgICAgICB0aWNrZXRfaWQsXG4gICAgICAgIHJlYXNvbixcbiAgICAgICAgcmVxdWVzdGVkX2F0LFxuICAgICAgICBhcHByb3ZlZF9hdCxcbiAgICAgICAgZXhwaXJlc19hdCxcbiAgICAgICAgcmVxdWVzdGVkX3Blcm1pc3Npb25zXG4gICAgICBgXG5cdFx0XHQpXG5cdFx0XHQuZXEoXCJjb21wYW55X2lkXCIsIHRlYW1NZW1iZXIuY29tcGFueV9pZClcblx0XHRcdC5lcShcInN0YXR1c1wiLCBcImFjdGl2ZVwiKVxuXHRcdFx0Lm9yZGVyKFwiYXBwcm92ZWRfYXRcIiwgeyBhc2NlbmRpbmc6IGZhbHNlIH0pO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgYWN0aXZlIHNlc3Npb25zOlwiLCBlcnJvcik7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdHNlc3Npb25zOiBzZXNzaW9ucyB8fCBbXSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiBnZXRBY3RpdmVTdXBwb3J0U2Vzc2lvbnM6XCIsIGVycm9yKTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogQXBwcm92ZSBhIHN1cHBvcnQgc2Vzc2lvbiByZXF1ZXN0XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhcHByb3ZlU3VwcG9ydFNlc3Npb25SZXF1ZXN0KHNlc3Npb25JZDogc3RyaW5nLCBkdXJhdGlvbk1pbnV0ZXM6IG51bWJlciA9IDYwKTogUHJvbWlzZTx7XG5cdHN1Y2Nlc3M6IGJvb2xlYW47XG5cdGVycm9yPzogc3RyaW5nO1xufT4ge1xuXHR0cnkge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0XHQvLyBHZXQgY3VycmVudCB1c2VyXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXHRcdGlmICghdXNlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vdCBhdXRoZW50aWNhdGVkXCIgfTtcblx0XHR9XG5cblx0XHQvLyBWZXJpZnkgdXNlciBpcyBwYXJ0IG9mIHRoZSBjb21wYW55IGZvciB0aGlzIHNlc3Npb25cblx0XHRjb25zdCB7IGRhdGE6IHRlYW1NZW1iZXIgfSA9IGF3YWl0IHN1cGFiYXNlLmZyb20oXCJ0ZWFtX21lbWJlcnNcIikuc2VsZWN0KFwiY29tcGFueV9pZFwiKS5lcShcInVzZXJfaWRcIiwgdXNlci5pZCkuc2luZ2xlKCk7XG5cblx0XHRpZiAoIXRlYW1NZW1iZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJObyBjb21wYW55IGZvdW5kXCIgfTtcblx0XHR9XG5cblx0XHQvLyBDYWxsIGFkbWluIGRhdGFiYXNlIHRvIGFwcHJvdmUgc2Vzc2lvblxuXHRcdC8vIFRPRE86IFRoaXMgc2hvdWxkIGJlIGEgc2VjdXJlIFJQQyBjYWxsIHRvIGFkbWluIGRhdGFiYXNlXG5cdFx0Y29uc3QgYWRtaW5TdXBhYmFzZSA9IGNyZWF0ZUNsaWVudCgpOyAvLyBVc2UgYWRtaW4gY2xpZW50XG5cblx0XHRjb25zdCBleHBpcmVzQXQgPSBuZXcgRGF0ZSgpO1xuXHRcdGV4cGlyZXNBdC5zZXRNaW51dGVzKGV4cGlyZXNBdC5nZXRNaW51dGVzKCkgKyBkdXJhdGlvbk1pbnV0ZXMpO1xuXG5cdFx0Y29uc3QgeyBlcnJvcjogdXBkYXRlRXJyb3IgfSA9IGF3YWl0IGFkbWluU3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwic3VwcG9ydF9zZXNzaW9uc1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJhY3RpdmVcIixcblx0XHRcdFx0YXBwcm92ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdFx0YXBwcm92ZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHRcdGV4cGlyZXNfYXQ6IGV4cGlyZXNBdC50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNlc3Npb25JZClcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgdGVhbU1lbWJlci5jb21wYW55X2lkKVxuXHRcdFx0LmVxKFwic3RhdHVzXCIsIFwicGVuZGluZ1wiKTtcblxuXHRcdGlmICh1cGRhdGVFcnJvcikge1xuXHRcdFx0Y29uc29sZS5lcnJvcihcIkVycm9yIGFwcHJvdmluZyBzZXNzaW9uOlwiLCB1cGRhdGVFcnJvcik7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IHVwZGF0ZUVycm9yLm1lc3NhZ2UgfTtcblx0XHR9XG5cblx0XHRyZXZhbGlkYXRlUGF0aChcIi9cIik7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiBhcHByb3ZlU3VwcG9ydFNlc3Npb25SZXF1ZXN0OlwiLCBlcnJvcik7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJVbmtub3duIGVycm9yXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIFJlamVjdCBhIHN1cHBvcnQgc2Vzc2lvbiByZXF1ZXN0XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWplY3RTdXBwb3J0U2Vzc2lvblJlcXVlc3Qoc2Vzc2lvbklkOiBzdHJpbmcsIHJlYXNvbj86IHN0cmluZyk6IFByb21pc2U8e1xuXHRzdWNjZXNzOiBib29sZWFuO1xuXHRlcnJvcj86IHN0cmluZztcbn0+IHtcblx0dHJ5IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG5cdFx0Ly8gR2V0IGN1cnJlbnQgdXNlclxuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gVmVyaWZ5IHVzZXIgaXMgcGFydCBvZiB0aGUgY29tcGFueVxuXHRcdGNvbnN0IHsgZGF0YTogdGVhbU1lbWJlciB9ID0gYXdhaXQgc3VwYWJhc2UuZnJvbShcInRlYW1fbWVtYmVyc1wiKS5zZWxlY3QoXCJjb21wYW55X2lkXCIpLmVxKFwidXNlcl9pZFwiLCB1c2VyLmlkKS5zaW5nbGUoKTtcblxuXHRcdGlmICghdGVhbU1lbWJlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIGNvbXBhbnkgZm91bmRcIiB9O1xuXHRcdH1cblxuXHRcdC8vIFVwZGF0ZSBzZXNzaW9uIHN0YXR1c1xuXHRcdGNvbnN0IGFkbWluU3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoKTsgLy8gVXNlIGFkbWluIGNsaWVudFxuXG5cdFx0Y29uc3QgeyBlcnJvcjogdXBkYXRlRXJyb3IgfSA9IGF3YWl0IGFkbWluU3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwic3VwcG9ydF9zZXNzaW9uc1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJyZWplY3RlZFwiLFxuXHRcdFx0XHRyZWplY3RlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0XHRyZWplY3RlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0cmVqZWN0aW9uX3JlYXNvbjogcmVhc29uLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNlc3Npb25JZClcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgdGVhbU1lbWJlci5jb21wYW55X2lkKVxuXHRcdFx0LmVxKFwic3RhdHVzXCIsIFwicGVuZGluZ1wiKTtcblxuXHRcdGlmICh1cGRhdGVFcnJvcikge1xuXHRcdFx0Y29uc29sZS5lcnJvcihcIkVycm9yIHJlamVjdGluZyBzZXNzaW9uOlwiLCB1cGRhdGVFcnJvcik7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IHVwZGF0ZUVycm9yLm1lc3NhZ2UgfTtcblx0XHR9XG5cblx0XHRyZXZhbGlkYXRlUGF0aChcIi9cIik7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiByZWplY3RTdXBwb3J0U2Vzc2lvblJlcXVlc3Q6XCIsIGVycm9yKTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogRW5kIGFuIGFjdGl2ZSBzdXBwb3J0IHNlc3Npb24gKGN1c3RvbWVyLWluaXRpYXRlZClcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVuZEFjdGl2ZVN1cHBvcnRTZXNzaW9uKHNlc3Npb25JZDogc3RyaW5nKTogUHJvbWlzZTx7XG5cdHN1Y2Nlc3M6IGJvb2xlYW47XG5cdGVycm9yPzogc3RyaW5nO1xufT4ge1xuXHR0cnkge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0XHQvLyBHZXQgY3VycmVudCB1c2VyXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXHRcdGlmICghdXNlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vdCBhdXRoZW50aWNhdGVkXCIgfTtcblx0XHR9XG5cblx0XHQvLyBWZXJpZnkgdXNlciBpcyBwYXJ0IG9mIHRoZSBjb21wYW55XG5cdFx0Y29uc3QgeyBkYXRhOiB0ZWFtTWVtYmVyIH0gPSBhd2FpdCBzdXBhYmFzZS5mcm9tKFwidGVhbV9tZW1iZXJzXCIpLnNlbGVjdChcImNvbXBhbnlfaWRcIikuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpLnNpbmdsZSgpO1xuXG5cdFx0aWYgKCF0ZWFtTWVtYmVyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm8gY29tcGFueSBmb3VuZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gRW5kIHRoZSBzZXNzaW9uXG5cdFx0Y29uc3QgYWRtaW5TdXBhYmFzZSA9IGNyZWF0ZUNsaWVudCgpOyAvLyBVc2UgYWRtaW4gY2xpZW50XG5cblx0XHRjb25zdCB7IGVycm9yOiB1cGRhdGVFcnJvciB9ID0gYXdhaXQgYWRtaW5TdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJzdXBwb3J0X3Nlc3Npb25zXCIpXG5cdFx0XHQudXBkYXRlKHtcblx0XHRcdFx0c3RhdHVzOiBcImVuZGVkXCIsXG5cdFx0XHRcdGVuZGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG5cdFx0XHRcdGVuZGVkX2J5OiB1c2VyLmlkLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNlc3Npb25JZClcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgdGVhbU1lbWJlci5jb21wYW55X2lkKVxuXHRcdFx0LmVxKFwic3RhdHVzXCIsIFwiYWN0aXZlXCIpO1xuXG5cdFx0aWYgKHVwZGF0ZUVycm9yKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKFwiRXJyb3IgZW5kaW5nIHNlc3Npb246XCIsIHVwZGF0ZUVycm9yKTtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogdXBkYXRlRXJyb3IubWVzc2FnZSB9O1xuXHRcdH1cblxuXHRcdHJldmFsaWRhdGVQYXRoKFwiL1wiKTtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5lcnJvcihcIkVycm9yIGluIGVuZEFjdGl2ZVN1cHBvcnRTZXNzaW9uOlwiLCBlcnJvcik7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJVbmtub3duIGVycm9yXCIsXG5cdFx0fTtcblx0fVxufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI4VEE0SnNCIn0=
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:451e02 [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"600a8f58eaf0d1362927476e3fef9c4afead820e40":"rejectSupportSessionRequest"},"apps/web/src/actions/support-sessions.ts",""] */ __turbopack_context__.s([
    "rejectSupportSessionRequest",
    ()=>rejectSupportSessionRequest
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var rejectSupportSessionRequest = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("600a8f58eaf0d1362927476e3fef9c4afead820e40", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "rejectSupportSessionRequest"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vc3VwcG9ydC1zZXNzaW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzZXJ2ZXJcIjtcblxuLyoqXG4gKiBTdXBwb3J0IFNlc3Npb24gQWN0aW9ucyBmb3IgV2ViIEFwcFxuICpcbiAqIEN1c3RvbWVyLWZhY2luZyBhY3Rpb25zIGZvciBtYW5hZ2luZyBzdXBwb3J0IGFjY2VzcyByZXF1ZXN0cy5cbiAqL1xuXG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tIFwiQC9saWIvc3VwYWJhc2Uvc2VydmVyXCI7XG5pbXBvcnQgeyByZXZhbGlkYXRlUGF0aCB9IGZyb20gXCJuZXh0L2NhY2hlXCI7XG5cbmludGVyZmFjZSBTdXBwb3J0U2Vzc2lvbiB7XG5cdGlkOiBzdHJpbmc7XG5cdGFkbWluX3VzZXJfaWQ6IHN0cmluZztcblx0dGlja2V0X2lkOiBzdHJpbmcgfCBudWxsO1xuXHRyZWFzb246IHN0cmluZztcblx0cmVxdWVzdGVkX2F0OiBzdHJpbmc7XG5cdHJlcXVlc3RlZF9wZXJtaXNzaW9uczogc3RyaW5nW107XG5cdGFkbWluX25hbWU/OiBzdHJpbmc7XG5cdGFkbWluX2VtYWlsPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIEdldCBwZW5kaW5nIHN1cHBvcnQgc2Vzc2lvbiByZXF1ZXN0cyBmb3IgdGhlIGN1cnJlbnQgY29tcGFueVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UGVuZGluZ1N1cHBvcnRTZXNzaW9ucygpOiBQcm9taXNlPHtcblx0c3VjY2VzczogYm9vbGVhbjtcblx0c2Vzc2lvbnM/OiBTdXBwb3J0U2Vzc2lvbltdO1xuXHRlcnJvcj86IHN0cmluZztcbn0+IHtcblx0dHJ5IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG5cdFx0Ly8gR2V0IGN1cnJlbnQgdXNlcidzIGNvbXBhbnlcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCB1c2VyJ3MgY29tcGFueV9pZCBmcm9tIHRlYW1fbWVtYmVyc1xuXHRcdGNvbnN0IHsgZGF0YTogdGVhbU1lbWJlciB9ID0gYXdhaXQgc3VwYWJhc2UuZnJvbShcInRlYW1fbWVtYmVyc1wiKS5zZWxlY3QoXCJjb21wYW55X2lkXCIpLmVxKFwidXNlcl9pZFwiLCB1c2VyLmlkKS5zaW5nbGUoKTtcblxuXHRcdGlmICghdGVhbU1lbWJlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIGNvbXBhbnkgZm91bmRcIiB9O1xuXHRcdH1cblxuXHRcdC8vIFF1ZXJ5IGFkbWluIGRhdGFiYXNlIGZvciBwZW5kaW5nIHNlc3Npb25zXG5cdFx0Ly8gTm90ZTogVGhpcyByZXF1aXJlcyBhZG1pbiBkYXRhYmFzZSBhY2Nlc3MgLSB3ZSdsbCB1c2UgYSBzZXJ2aWNlIHJvbGUgcXVlcnlcblx0XHRjb25zdCBhZG1pblN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KCk7IC8vIFRPRE86IFVzZSBhZG1pbi9zZXJ2aWNlIGNsaWVudFxuXG5cdFx0Y29uc3QgeyBkYXRhOiBzZXNzaW9ucywgZXJyb3IgfSA9IGF3YWl0IGFkbWluU3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwic3VwcG9ydF9zZXNzaW9uc1wiKVxuXHRcdFx0LnNlbGVjdChcblx0XHRcdFx0YFxuICAgICAgICBpZCxcbiAgICAgICAgYWRtaW5fdXNlcl9pZCxcbiAgICAgICAgdGlja2V0X2lkLFxuICAgICAgICByZWFzb24sXG4gICAgICAgIHJlcXVlc3RlZF9hdCxcbiAgICAgICAgcmVxdWVzdGVkX3Blcm1pc3Npb25zXG4gICAgICBgXG5cdFx0XHQpXG5cdFx0XHQuZXEoXCJjb21wYW55X2lkXCIsIHRlYW1NZW1iZXIuY29tcGFueV9pZClcblx0XHRcdC5lcShcInN0YXR1c1wiLCBcInBlbmRpbmdcIilcblx0XHRcdC5vcmRlcihcInJlcXVlc3RlZF9hdFwiLCB7IGFzY2VuZGluZzogZmFsc2UgfSk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBwZW5kaW5nIHNlc3Npb25zOlwiLCBlcnJvcik7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcblx0XHR9XG5cblx0XHQvLyBUT0RPOiBFbnJpY2ggd2l0aCBhZG1pbiB1c2VyIGRldGFpbHMgZnJvbSBhZG1pbiBkYXRhYmFzZVxuXHRcdC8vIEZvciBub3csIHJldHVybiBzZXNzaW9ucyB3aXRob3V0IGFkbWluIGRldGFpbHNcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdHNlc3Npb25zOiBzZXNzaW9ucyB8fCBbXSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiBnZXRQZW5kaW5nU3VwcG9ydFNlc3Npb25zOlwiLCBlcnJvcik7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJVbmtub3duIGVycm9yXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIEdldCBhY3RpdmUgc3VwcG9ydCBzZXNzaW9ucyBmb3IgdGhlIGN1cnJlbnQgY29tcGFueVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWN0aXZlU3VwcG9ydFNlc3Npb25zKCk6IFByb21pc2U8e1xuXHRzdWNjZXNzOiBib29sZWFuO1xuXHRzZXNzaW9ucz86IFN1cHBvcnRTZXNzaW9uW107XG5cdGVycm9yPzogc3RyaW5nO1xufT4ge1xuXHR0cnkge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0XHQvLyBHZXQgY3VycmVudCB1c2VyJ3MgY29tcGFueVxuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gR2V0IHVzZXIncyBjb21wYW55X2lkXG5cdFx0Y29uc3QgeyBkYXRhOiB0ZWFtTWVtYmVyIH0gPSBhd2FpdCBzdXBhYmFzZS5mcm9tKFwidGVhbV9tZW1iZXJzXCIpLnNlbGVjdChcImNvbXBhbnlfaWRcIikuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpLnNpbmdsZSgpO1xuXG5cdFx0aWYgKCF0ZWFtTWVtYmVyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm8gY29tcGFueSBmb3VuZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gUXVlcnkgZm9yIGFjdGl2ZSBzZXNzaW9uc1xuXHRcdGNvbnN0IGFkbWluU3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoKTsgLy8gVE9ETzogVXNlIGFkbWluL3NlcnZpY2UgY2xpZW50XG5cblx0XHRjb25zdCB7IGRhdGE6IHNlc3Npb25zLCBlcnJvciB9ID0gYXdhaXQgYWRtaW5TdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJzdXBwb3J0X3Nlc3Npb25zXCIpXG5cdFx0XHQuc2VsZWN0KFxuXHRcdFx0XHRgXG4gICAgICAgIGlkLFxuICAgICAgICBhZG1pbl91c2VyX2lkLFxuICAgICAgICB0aWNrZXRfaWQsXG4gICAgICAgIHJlYXNvbixcbiAgICAgICAgcmVxdWVzdGVkX2F0LFxuICAgICAgICBhcHByb3ZlZF9hdCxcbiAgICAgICAgZXhwaXJlc19hdCxcbiAgICAgICAgcmVxdWVzdGVkX3Blcm1pc3Npb25zXG4gICAgICBgXG5cdFx0XHQpXG5cdFx0XHQuZXEoXCJjb21wYW55X2lkXCIsIHRlYW1NZW1iZXIuY29tcGFueV9pZClcblx0XHRcdC5lcShcInN0YXR1c1wiLCBcImFjdGl2ZVwiKVxuXHRcdFx0Lm9yZGVyKFwiYXBwcm92ZWRfYXRcIiwgeyBhc2NlbmRpbmc6IGZhbHNlIH0pO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgYWN0aXZlIHNlc3Npb25zOlwiLCBlcnJvcik7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdHNlc3Npb25zOiBzZXNzaW9ucyB8fCBbXSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiBnZXRBY3RpdmVTdXBwb3J0U2Vzc2lvbnM6XCIsIGVycm9yKTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogQXBwcm92ZSBhIHN1cHBvcnQgc2Vzc2lvbiByZXF1ZXN0XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhcHByb3ZlU3VwcG9ydFNlc3Npb25SZXF1ZXN0KHNlc3Npb25JZDogc3RyaW5nLCBkdXJhdGlvbk1pbnV0ZXM6IG51bWJlciA9IDYwKTogUHJvbWlzZTx7XG5cdHN1Y2Nlc3M6IGJvb2xlYW47XG5cdGVycm9yPzogc3RyaW5nO1xufT4ge1xuXHR0cnkge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0XHQvLyBHZXQgY3VycmVudCB1c2VyXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXHRcdGlmICghdXNlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vdCBhdXRoZW50aWNhdGVkXCIgfTtcblx0XHR9XG5cblx0XHQvLyBWZXJpZnkgdXNlciBpcyBwYXJ0IG9mIHRoZSBjb21wYW55IGZvciB0aGlzIHNlc3Npb25cblx0XHRjb25zdCB7IGRhdGE6IHRlYW1NZW1iZXIgfSA9IGF3YWl0IHN1cGFiYXNlLmZyb20oXCJ0ZWFtX21lbWJlcnNcIikuc2VsZWN0KFwiY29tcGFueV9pZFwiKS5lcShcInVzZXJfaWRcIiwgdXNlci5pZCkuc2luZ2xlKCk7XG5cblx0XHRpZiAoIXRlYW1NZW1iZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJObyBjb21wYW55IGZvdW5kXCIgfTtcblx0XHR9XG5cblx0XHQvLyBDYWxsIGFkbWluIGRhdGFiYXNlIHRvIGFwcHJvdmUgc2Vzc2lvblxuXHRcdC8vIFRPRE86IFRoaXMgc2hvdWxkIGJlIGEgc2VjdXJlIFJQQyBjYWxsIHRvIGFkbWluIGRhdGFiYXNlXG5cdFx0Y29uc3QgYWRtaW5TdXBhYmFzZSA9IGNyZWF0ZUNsaWVudCgpOyAvLyBVc2UgYWRtaW4gY2xpZW50XG5cblx0XHRjb25zdCBleHBpcmVzQXQgPSBuZXcgRGF0ZSgpO1xuXHRcdGV4cGlyZXNBdC5zZXRNaW51dGVzKGV4cGlyZXNBdC5nZXRNaW51dGVzKCkgKyBkdXJhdGlvbk1pbnV0ZXMpO1xuXG5cdFx0Y29uc3QgeyBlcnJvcjogdXBkYXRlRXJyb3IgfSA9IGF3YWl0IGFkbWluU3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwic3VwcG9ydF9zZXNzaW9uc1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJhY3RpdmVcIixcblx0XHRcdFx0YXBwcm92ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdFx0YXBwcm92ZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHRcdGV4cGlyZXNfYXQ6IGV4cGlyZXNBdC50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNlc3Npb25JZClcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgdGVhbU1lbWJlci5jb21wYW55X2lkKVxuXHRcdFx0LmVxKFwic3RhdHVzXCIsIFwicGVuZGluZ1wiKTtcblxuXHRcdGlmICh1cGRhdGVFcnJvcikge1xuXHRcdFx0Y29uc29sZS5lcnJvcihcIkVycm9yIGFwcHJvdmluZyBzZXNzaW9uOlwiLCB1cGRhdGVFcnJvcik7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IHVwZGF0ZUVycm9yLm1lc3NhZ2UgfTtcblx0XHR9XG5cblx0XHRyZXZhbGlkYXRlUGF0aChcIi9cIik7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiBhcHByb3ZlU3VwcG9ydFNlc3Npb25SZXF1ZXN0OlwiLCBlcnJvcik7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJVbmtub3duIGVycm9yXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIFJlamVjdCBhIHN1cHBvcnQgc2Vzc2lvbiByZXF1ZXN0XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWplY3RTdXBwb3J0U2Vzc2lvblJlcXVlc3Qoc2Vzc2lvbklkOiBzdHJpbmcsIHJlYXNvbj86IHN0cmluZyk6IFByb21pc2U8e1xuXHRzdWNjZXNzOiBib29sZWFuO1xuXHRlcnJvcj86IHN0cmluZztcbn0+IHtcblx0dHJ5IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG5cdFx0Ly8gR2V0IGN1cnJlbnQgdXNlclxuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gVmVyaWZ5IHVzZXIgaXMgcGFydCBvZiB0aGUgY29tcGFueVxuXHRcdGNvbnN0IHsgZGF0YTogdGVhbU1lbWJlciB9ID0gYXdhaXQgc3VwYWJhc2UuZnJvbShcInRlYW1fbWVtYmVyc1wiKS5zZWxlY3QoXCJjb21wYW55X2lkXCIpLmVxKFwidXNlcl9pZFwiLCB1c2VyLmlkKS5zaW5nbGUoKTtcblxuXHRcdGlmICghdGVhbU1lbWJlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIGNvbXBhbnkgZm91bmRcIiB9O1xuXHRcdH1cblxuXHRcdC8vIFVwZGF0ZSBzZXNzaW9uIHN0YXR1c1xuXHRcdGNvbnN0IGFkbWluU3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoKTsgLy8gVXNlIGFkbWluIGNsaWVudFxuXG5cdFx0Y29uc3QgeyBlcnJvcjogdXBkYXRlRXJyb3IgfSA9IGF3YWl0IGFkbWluU3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwic3VwcG9ydF9zZXNzaW9uc1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJyZWplY3RlZFwiLFxuXHRcdFx0XHRyZWplY3RlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0XHRyZWplY3RlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0cmVqZWN0aW9uX3JlYXNvbjogcmVhc29uLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNlc3Npb25JZClcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgdGVhbU1lbWJlci5jb21wYW55X2lkKVxuXHRcdFx0LmVxKFwic3RhdHVzXCIsIFwicGVuZGluZ1wiKTtcblxuXHRcdGlmICh1cGRhdGVFcnJvcikge1xuXHRcdFx0Y29uc29sZS5lcnJvcihcIkVycm9yIHJlamVjdGluZyBzZXNzaW9uOlwiLCB1cGRhdGVFcnJvcik7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IHVwZGF0ZUVycm9yLm1lc3NhZ2UgfTtcblx0XHR9XG5cblx0XHRyZXZhbGlkYXRlUGF0aChcIi9cIik7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiByZWplY3RTdXBwb3J0U2Vzc2lvblJlcXVlc3Q6XCIsIGVycm9yKTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogRW5kIGFuIGFjdGl2ZSBzdXBwb3J0IHNlc3Npb24gKGN1c3RvbWVyLWluaXRpYXRlZClcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVuZEFjdGl2ZVN1cHBvcnRTZXNzaW9uKHNlc3Npb25JZDogc3RyaW5nKTogUHJvbWlzZTx7XG5cdHN1Y2Nlc3M6IGJvb2xlYW47XG5cdGVycm9yPzogc3RyaW5nO1xufT4ge1xuXHR0cnkge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0XHQvLyBHZXQgY3VycmVudCB1c2VyXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXHRcdGlmICghdXNlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vdCBhdXRoZW50aWNhdGVkXCIgfTtcblx0XHR9XG5cblx0XHQvLyBWZXJpZnkgdXNlciBpcyBwYXJ0IG9mIHRoZSBjb21wYW55XG5cdFx0Y29uc3QgeyBkYXRhOiB0ZWFtTWVtYmVyIH0gPSBhd2FpdCBzdXBhYmFzZS5mcm9tKFwidGVhbV9tZW1iZXJzXCIpLnNlbGVjdChcImNvbXBhbnlfaWRcIikuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpLnNpbmdsZSgpO1xuXG5cdFx0aWYgKCF0ZWFtTWVtYmVyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm8gY29tcGFueSBmb3VuZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gRW5kIHRoZSBzZXNzaW9uXG5cdFx0Y29uc3QgYWRtaW5TdXBhYmFzZSA9IGNyZWF0ZUNsaWVudCgpOyAvLyBVc2UgYWRtaW4gY2xpZW50XG5cblx0XHRjb25zdCB7IGVycm9yOiB1cGRhdGVFcnJvciB9ID0gYXdhaXQgYWRtaW5TdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJzdXBwb3J0X3Nlc3Npb25zXCIpXG5cdFx0XHQudXBkYXRlKHtcblx0XHRcdFx0c3RhdHVzOiBcImVuZGVkXCIsXG5cdFx0XHRcdGVuZGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG5cdFx0XHRcdGVuZGVkX2J5OiB1c2VyLmlkLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNlc3Npb25JZClcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgdGVhbU1lbWJlci5jb21wYW55X2lkKVxuXHRcdFx0LmVxKFwic3RhdHVzXCIsIFwiYWN0aXZlXCIpO1xuXG5cdFx0aWYgKHVwZGF0ZUVycm9yKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKFwiRXJyb3IgZW5kaW5nIHNlc3Npb246XCIsIHVwZGF0ZUVycm9yKTtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogdXBkYXRlRXJyb3IubWVzc2FnZSB9O1xuXHRcdH1cblxuXHRcdHJldmFsaWRhdGVQYXRoKFwiL1wiKTtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5lcnJvcihcIkVycm9yIGluIGVuZEFjdGl2ZVN1cHBvcnRTZXNzaW9uOlwiLCBlcnJvcik7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJVbmtub3duIGVycm9yXCIsXG5cdFx0fTtcblx0fVxufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI2VEF3TnNCIn0=
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:d7d206 [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"401e5e42656c806de2a6d0269511c6eaa52a9ff0cb":"endActiveSupportSession"},"apps/web/src/actions/support-sessions.ts",""] */ __turbopack_context__.s([
    "endActiveSupportSession",
    ()=>endActiveSupportSession
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var endActiveSupportSession = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("401e5e42656c806de2a6d0269511c6eaa52a9ff0cb", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "endActiveSupportSession"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vc3VwcG9ydC1zZXNzaW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzZXJ2ZXJcIjtcblxuLyoqXG4gKiBTdXBwb3J0IFNlc3Npb24gQWN0aW9ucyBmb3IgV2ViIEFwcFxuICpcbiAqIEN1c3RvbWVyLWZhY2luZyBhY3Rpb25zIGZvciBtYW5hZ2luZyBzdXBwb3J0IGFjY2VzcyByZXF1ZXN0cy5cbiAqL1xuXG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tIFwiQC9saWIvc3VwYWJhc2Uvc2VydmVyXCI7XG5pbXBvcnQgeyByZXZhbGlkYXRlUGF0aCB9IGZyb20gXCJuZXh0L2NhY2hlXCI7XG5cbmludGVyZmFjZSBTdXBwb3J0U2Vzc2lvbiB7XG5cdGlkOiBzdHJpbmc7XG5cdGFkbWluX3VzZXJfaWQ6IHN0cmluZztcblx0dGlja2V0X2lkOiBzdHJpbmcgfCBudWxsO1xuXHRyZWFzb246IHN0cmluZztcblx0cmVxdWVzdGVkX2F0OiBzdHJpbmc7XG5cdHJlcXVlc3RlZF9wZXJtaXNzaW9uczogc3RyaW5nW107XG5cdGFkbWluX25hbWU/OiBzdHJpbmc7XG5cdGFkbWluX2VtYWlsPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIEdldCBwZW5kaW5nIHN1cHBvcnQgc2Vzc2lvbiByZXF1ZXN0cyBmb3IgdGhlIGN1cnJlbnQgY29tcGFueVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0UGVuZGluZ1N1cHBvcnRTZXNzaW9ucygpOiBQcm9taXNlPHtcblx0c3VjY2VzczogYm9vbGVhbjtcblx0c2Vzc2lvbnM/OiBTdXBwb3J0U2Vzc2lvbltdO1xuXHRlcnJvcj86IHN0cmluZztcbn0+IHtcblx0dHJ5IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG5cdFx0Ly8gR2V0IGN1cnJlbnQgdXNlcidzIGNvbXBhbnlcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCB1c2VyJ3MgY29tcGFueV9pZCBmcm9tIHRlYW1fbWVtYmVyc1xuXHRcdGNvbnN0IHsgZGF0YTogdGVhbU1lbWJlciB9ID0gYXdhaXQgc3VwYWJhc2UuZnJvbShcInRlYW1fbWVtYmVyc1wiKS5zZWxlY3QoXCJjb21wYW55X2lkXCIpLmVxKFwidXNlcl9pZFwiLCB1c2VyLmlkKS5zaW5nbGUoKTtcblxuXHRcdGlmICghdGVhbU1lbWJlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIGNvbXBhbnkgZm91bmRcIiB9O1xuXHRcdH1cblxuXHRcdC8vIFF1ZXJ5IGFkbWluIGRhdGFiYXNlIGZvciBwZW5kaW5nIHNlc3Npb25zXG5cdFx0Ly8gTm90ZTogVGhpcyByZXF1aXJlcyBhZG1pbiBkYXRhYmFzZSBhY2Nlc3MgLSB3ZSdsbCB1c2UgYSBzZXJ2aWNlIHJvbGUgcXVlcnlcblx0XHRjb25zdCBhZG1pblN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KCk7IC8vIFRPRE86IFVzZSBhZG1pbi9zZXJ2aWNlIGNsaWVudFxuXG5cdFx0Y29uc3QgeyBkYXRhOiBzZXNzaW9ucywgZXJyb3IgfSA9IGF3YWl0IGFkbWluU3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwic3VwcG9ydF9zZXNzaW9uc1wiKVxuXHRcdFx0LnNlbGVjdChcblx0XHRcdFx0YFxuICAgICAgICBpZCxcbiAgICAgICAgYWRtaW5fdXNlcl9pZCxcbiAgICAgICAgdGlja2V0X2lkLFxuICAgICAgICByZWFzb24sXG4gICAgICAgIHJlcXVlc3RlZF9hdCxcbiAgICAgICAgcmVxdWVzdGVkX3Blcm1pc3Npb25zXG4gICAgICBgXG5cdFx0XHQpXG5cdFx0XHQuZXEoXCJjb21wYW55X2lkXCIsIHRlYW1NZW1iZXIuY29tcGFueV9pZClcblx0XHRcdC5lcShcInN0YXR1c1wiLCBcInBlbmRpbmdcIilcblx0XHRcdC5vcmRlcihcInJlcXVlc3RlZF9hdFwiLCB7IGFzY2VuZGluZzogZmFsc2UgfSk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBwZW5kaW5nIHNlc3Npb25zOlwiLCBlcnJvcik7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcblx0XHR9XG5cblx0XHQvLyBUT0RPOiBFbnJpY2ggd2l0aCBhZG1pbiB1c2VyIGRldGFpbHMgZnJvbSBhZG1pbiBkYXRhYmFzZVxuXHRcdC8vIEZvciBub3csIHJldHVybiBzZXNzaW9ucyB3aXRob3V0IGFkbWluIGRldGFpbHNcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdHNlc3Npb25zOiBzZXNzaW9ucyB8fCBbXSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiBnZXRQZW5kaW5nU3VwcG9ydFNlc3Npb25zOlwiLCBlcnJvcik7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJVbmtub3duIGVycm9yXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIEdldCBhY3RpdmUgc3VwcG9ydCBzZXNzaW9ucyBmb3IgdGhlIGN1cnJlbnQgY29tcGFueVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWN0aXZlU3VwcG9ydFNlc3Npb25zKCk6IFByb21pc2U8e1xuXHRzdWNjZXNzOiBib29sZWFuO1xuXHRzZXNzaW9ucz86IFN1cHBvcnRTZXNzaW9uW107XG5cdGVycm9yPzogc3RyaW5nO1xufT4ge1xuXHR0cnkge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0XHQvLyBHZXQgY3VycmVudCB1c2VyJ3MgY29tcGFueVxuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gR2V0IHVzZXIncyBjb21wYW55X2lkXG5cdFx0Y29uc3QgeyBkYXRhOiB0ZWFtTWVtYmVyIH0gPSBhd2FpdCBzdXBhYmFzZS5mcm9tKFwidGVhbV9tZW1iZXJzXCIpLnNlbGVjdChcImNvbXBhbnlfaWRcIikuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpLnNpbmdsZSgpO1xuXG5cdFx0aWYgKCF0ZWFtTWVtYmVyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm8gY29tcGFueSBmb3VuZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gUXVlcnkgZm9yIGFjdGl2ZSBzZXNzaW9uc1xuXHRcdGNvbnN0IGFkbWluU3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoKTsgLy8gVE9ETzogVXNlIGFkbWluL3NlcnZpY2UgY2xpZW50XG5cblx0XHRjb25zdCB7IGRhdGE6IHNlc3Npb25zLCBlcnJvciB9ID0gYXdhaXQgYWRtaW5TdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJzdXBwb3J0X3Nlc3Npb25zXCIpXG5cdFx0XHQuc2VsZWN0KFxuXHRcdFx0XHRgXG4gICAgICAgIGlkLFxuICAgICAgICBhZG1pbl91c2VyX2lkLFxuICAgICAgICB0aWNrZXRfaWQsXG4gICAgICAgIHJlYXNvbixcbiAgICAgICAgcmVxdWVzdGVkX2F0LFxuICAgICAgICBhcHByb3ZlZF9hdCxcbiAgICAgICAgZXhwaXJlc19hdCxcbiAgICAgICAgcmVxdWVzdGVkX3Blcm1pc3Npb25zXG4gICAgICBgXG5cdFx0XHQpXG5cdFx0XHQuZXEoXCJjb21wYW55X2lkXCIsIHRlYW1NZW1iZXIuY29tcGFueV9pZClcblx0XHRcdC5lcShcInN0YXR1c1wiLCBcImFjdGl2ZVwiKVxuXHRcdFx0Lm9yZGVyKFwiYXBwcm92ZWRfYXRcIiwgeyBhc2NlbmRpbmc6IGZhbHNlIH0pO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgYWN0aXZlIHNlc3Npb25zOlwiLCBlcnJvcik7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdHNlc3Npb25zOiBzZXNzaW9ucyB8fCBbXSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiBnZXRBY3RpdmVTdXBwb3J0U2Vzc2lvbnM6XCIsIGVycm9yKTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogQXBwcm92ZSBhIHN1cHBvcnQgc2Vzc2lvbiByZXF1ZXN0XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhcHByb3ZlU3VwcG9ydFNlc3Npb25SZXF1ZXN0KHNlc3Npb25JZDogc3RyaW5nLCBkdXJhdGlvbk1pbnV0ZXM6IG51bWJlciA9IDYwKTogUHJvbWlzZTx7XG5cdHN1Y2Nlc3M6IGJvb2xlYW47XG5cdGVycm9yPzogc3RyaW5nO1xufT4ge1xuXHR0cnkge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0XHQvLyBHZXQgY3VycmVudCB1c2VyXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXHRcdGlmICghdXNlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vdCBhdXRoZW50aWNhdGVkXCIgfTtcblx0XHR9XG5cblx0XHQvLyBWZXJpZnkgdXNlciBpcyBwYXJ0IG9mIHRoZSBjb21wYW55IGZvciB0aGlzIHNlc3Npb25cblx0XHRjb25zdCB7IGRhdGE6IHRlYW1NZW1iZXIgfSA9IGF3YWl0IHN1cGFiYXNlLmZyb20oXCJ0ZWFtX21lbWJlcnNcIikuc2VsZWN0KFwiY29tcGFueV9pZFwiKS5lcShcInVzZXJfaWRcIiwgdXNlci5pZCkuc2luZ2xlKCk7XG5cblx0XHRpZiAoIXRlYW1NZW1iZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJObyBjb21wYW55IGZvdW5kXCIgfTtcblx0XHR9XG5cblx0XHQvLyBDYWxsIGFkbWluIGRhdGFiYXNlIHRvIGFwcHJvdmUgc2Vzc2lvblxuXHRcdC8vIFRPRE86IFRoaXMgc2hvdWxkIGJlIGEgc2VjdXJlIFJQQyBjYWxsIHRvIGFkbWluIGRhdGFiYXNlXG5cdFx0Y29uc3QgYWRtaW5TdXBhYmFzZSA9IGNyZWF0ZUNsaWVudCgpOyAvLyBVc2UgYWRtaW4gY2xpZW50XG5cblx0XHRjb25zdCBleHBpcmVzQXQgPSBuZXcgRGF0ZSgpO1xuXHRcdGV4cGlyZXNBdC5zZXRNaW51dGVzKGV4cGlyZXNBdC5nZXRNaW51dGVzKCkgKyBkdXJhdGlvbk1pbnV0ZXMpO1xuXG5cdFx0Y29uc3QgeyBlcnJvcjogdXBkYXRlRXJyb3IgfSA9IGF3YWl0IGFkbWluU3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwic3VwcG9ydF9zZXNzaW9uc1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJhY3RpdmVcIixcblx0XHRcdFx0YXBwcm92ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdFx0YXBwcm92ZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHRcdGV4cGlyZXNfYXQ6IGV4cGlyZXNBdC50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNlc3Npb25JZClcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgdGVhbU1lbWJlci5jb21wYW55X2lkKVxuXHRcdFx0LmVxKFwic3RhdHVzXCIsIFwicGVuZGluZ1wiKTtcblxuXHRcdGlmICh1cGRhdGVFcnJvcikge1xuXHRcdFx0Y29uc29sZS5lcnJvcihcIkVycm9yIGFwcHJvdmluZyBzZXNzaW9uOlwiLCB1cGRhdGVFcnJvcik7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IHVwZGF0ZUVycm9yLm1lc3NhZ2UgfTtcblx0XHR9XG5cblx0XHRyZXZhbGlkYXRlUGF0aChcIi9cIik7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiBhcHByb3ZlU3VwcG9ydFNlc3Npb25SZXF1ZXN0OlwiLCBlcnJvcik7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJVbmtub3duIGVycm9yXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIFJlamVjdCBhIHN1cHBvcnQgc2Vzc2lvbiByZXF1ZXN0XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWplY3RTdXBwb3J0U2Vzc2lvblJlcXVlc3Qoc2Vzc2lvbklkOiBzdHJpbmcsIHJlYXNvbj86IHN0cmluZyk6IFByb21pc2U8e1xuXHRzdWNjZXNzOiBib29sZWFuO1xuXHRlcnJvcj86IHN0cmluZztcbn0+IHtcblx0dHJ5IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG5cdFx0Ly8gR2V0IGN1cnJlbnQgdXNlclxuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gVmVyaWZ5IHVzZXIgaXMgcGFydCBvZiB0aGUgY29tcGFueVxuXHRcdGNvbnN0IHsgZGF0YTogdGVhbU1lbWJlciB9ID0gYXdhaXQgc3VwYWJhc2UuZnJvbShcInRlYW1fbWVtYmVyc1wiKS5zZWxlY3QoXCJjb21wYW55X2lkXCIpLmVxKFwidXNlcl9pZFwiLCB1c2VyLmlkKS5zaW5nbGUoKTtcblxuXHRcdGlmICghdGVhbU1lbWJlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIGNvbXBhbnkgZm91bmRcIiB9O1xuXHRcdH1cblxuXHRcdC8vIFVwZGF0ZSBzZXNzaW9uIHN0YXR1c1xuXHRcdGNvbnN0IGFkbWluU3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoKTsgLy8gVXNlIGFkbWluIGNsaWVudFxuXG5cdFx0Y29uc3QgeyBlcnJvcjogdXBkYXRlRXJyb3IgfSA9IGF3YWl0IGFkbWluU3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwic3VwcG9ydF9zZXNzaW9uc1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJyZWplY3RlZFwiLFxuXHRcdFx0XHRyZWplY3RlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0XHRyZWplY3RlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0cmVqZWN0aW9uX3JlYXNvbjogcmVhc29uLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNlc3Npb25JZClcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgdGVhbU1lbWJlci5jb21wYW55X2lkKVxuXHRcdFx0LmVxKFwic3RhdHVzXCIsIFwicGVuZGluZ1wiKTtcblxuXHRcdGlmICh1cGRhdGVFcnJvcikge1xuXHRcdFx0Y29uc29sZS5lcnJvcihcIkVycm9yIHJlamVjdGluZyBzZXNzaW9uOlwiLCB1cGRhdGVFcnJvcik7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IHVwZGF0ZUVycm9yLm1lc3NhZ2UgfTtcblx0XHR9XG5cblx0XHRyZXZhbGlkYXRlUGF0aChcIi9cIik7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiByZWplY3RTdXBwb3J0U2Vzc2lvblJlcXVlc3Q6XCIsIGVycm9yKTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogRW5kIGFuIGFjdGl2ZSBzdXBwb3J0IHNlc3Npb24gKGN1c3RvbWVyLWluaXRpYXRlZClcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVuZEFjdGl2ZVN1cHBvcnRTZXNzaW9uKHNlc3Npb25JZDogc3RyaW5nKTogUHJvbWlzZTx7XG5cdHN1Y2Nlc3M6IGJvb2xlYW47XG5cdGVycm9yPzogc3RyaW5nO1xufT4ge1xuXHR0cnkge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0XHQvLyBHZXQgY3VycmVudCB1c2VyXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXHRcdGlmICghdXNlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vdCBhdXRoZW50aWNhdGVkXCIgfTtcblx0XHR9XG5cblx0XHQvLyBWZXJpZnkgdXNlciBpcyBwYXJ0IG9mIHRoZSBjb21wYW55XG5cdFx0Y29uc3QgeyBkYXRhOiB0ZWFtTWVtYmVyIH0gPSBhd2FpdCBzdXBhYmFzZS5mcm9tKFwidGVhbV9tZW1iZXJzXCIpLnNlbGVjdChcImNvbXBhbnlfaWRcIikuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpLnNpbmdsZSgpO1xuXG5cdFx0aWYgKCF0ZWFtTWVtYmVyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm8gY29tcGFueSBmb3VuZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gRW5kIHRoZSBzZXNzaW9uXG5cdFx0Y29uc3QgYWRtaW5TdXBhYmFzZSA9IGNyZWF0ZUNsaWVudCgpOyAvLyBVc2UgYWRtaW4gY2xpZW50XG5cblx0XHRjb25zdCB7IGVycm9yOiB1cGRhdGVFcnJvciB9ID0gYXdhaXQgYWRtaW5TdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJzdXBwb3J0X3Nlc3Npb25zXCIpXG5cdFx0XHQudXBkYXRlKHtcblx0XHRcdFx0c3RhdHVzOiBcImVuZGVkXCIsXG5cdFx0XHRcdGVuZGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG5cdFx0XHRcdGVuZGVkX2J5OiB1c2VyLmlkLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNlc3Npb25JZClcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgdGVhbU1lbWJlci5jb21wYW55X2lkKVxuXHRcdFx0LmVxKFwic3RhdHVzXCIsIFwiYWN0aXZlXCIpO1xuXG5cdFx0aWYgKHVwZGF0ZUVycm9yKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKFwiRXJyb3IgZW5kaW5nIHNlc3Npb246XCIsIHVwZGF0ZUVycm9yKTtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogdXBkYXRlRXJyb3IubWVzc2FnZSB9O1xuXHRcdH1cblxuXHRcdHJldmFsaWRhdGVQYXRoKFwiL1wiKTtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5lcnJvcihcIkVycm9yIGluIGVuZEFjdGl2ZVN1cHBvcnRTZXNzaW9uOlwiLCBlcnJvcik7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJVbmtub3duIGVycm9yXCIsXG5cdFx0fTtcblx0fVxufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJ5VEFnUnNCIn0=
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
]);

//# sourceMappingURL=apps_web_src_actions_8eced32a._.js.map