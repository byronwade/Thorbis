{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/byronwade/Stratos/apps/web/src/components/communication/communication-switcher.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n\tDropdownMenu,\n\tDropdownMenuContent,\n\tDropdownMenuItem,\n\tDropdownMenuSeparator,\n\tDropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n\tMail,\n\tMessageSquare,\n\tUsers,\n\tChevronDown,\n\tLayoutDashboard,\n\tCheck,\n} from \"lucide-react\";\nimport Link from \"next/link\";\nimport { usePathname } from \"next/navigation\";\nimport { cn } from \"@/lib/utils\";\n\ntype Channel = {\n\tname: string;\n\turl: string;\n\ticon: React.ElementType;\n};\n\nexport function CommunicationSwitcher() {\n\tconst pathname = usePathname();\n\n\tconst channels: Channel[] = [\n\t\t{\n\t\t\tname: \"Dashboard\",\n\t\t\turl: \"/dashboard/communication\",\n\t\t\ticon: LayoutDashboard,\n\t\t},\n\t\t{\n\t\t\tname: \"Email\",\n\t\t\turl: \"/dashboard/communication/email?folder=inbox\",\n\t\t\ticon: Mail,\n\t\t},\n\t\t{\n\t\t\tname: \"SMS\",\n\t\t\turl: \"/dashboard/communication/sms\",\n\t\t\ticon: MessageSquare,\n\t\t},\n\t\t{\n\t\t\tname: \"Teams\",\n\t\t\turl: \"/dashboard/communication/teams?channel=general\",\n\t\t\ticon: Users,\n\t\t},\n\t];\n\n\tconst getIsActive = (url: string) => {\n\t\tif (url === \"/dashboard/communication\") {\n\t\t\treturn pathname === \"/dashboard/communication\";\n\t\t}\n\t\tconst basePath = url.split(\"?\")[0];\n\t\treturn pathname?.startsWith(basePath) ?? false;\n\t};\n\n\tconst activeChannel = channels.find((c) => getIsActive(c.url)) || channels[0];\n\tconst ActiveIcon = activeChannel.icon;\n\n\treturn (\n\t\t<DropdownMenu>\n\t\t\t<DropdownMenuTrigger asChild>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"ghost\"\n\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\"w-full justify-between h-8 px-2.5 rounded-md\",\n\t\t\t\t\t\t\"border border-sidebar-border\",\n\t\t\t\t\t\t\"bg-sidebar-accent/30 hover:bg-sidebar-accent/50\",\n\t\t\t\t\t\t\"text-sidebar-foreground\",\n\t\t\t\t\t\t\"font-medium text-sm\",\n\t\t\t\t\t\t\"transition-colors\",\n\t\t\t\t\t\t\"group\"\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t<div className=\"flex items-center gap-2\">\n\t\t\t\t\t\t<ActiveIcon className=\"size-4 text-sidebar-foreground/70\" />\n\t\t\t\t\t\t<span className=\"truncate\">{activeChannel.name}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<ChevronDown className=\"size-3.5 text-sidebar-foreground/50 transition-transform duration-200 group-data-[state=open]:rotate-180\" />\n\t\t\t\t</Button>\n\t\t\t</DropdownMenuTrigger>\n\t\t\t<DropdownMenuContent\n\t\t\t\tclassName=\"w-[200px] p-1\"\n\t\t\t\talign=\"start\"\n\t\t\t\tside=\"bottom\"\n\t\t\t\tsideOffset={4}\n\t\t\t>\n\t\t\t\t{/* Dashboard */}\n\t\t\t\t<DropdownMenuItem asChild className=\"p-0\">\n\t\t\t\t\t<Link\n\t\t\t\t\t\thref={channels[0].url}\n\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\"flex items-center gap-2.5 px-2 py-1.5 rounded-sm cursor-pointer\",\n\t\t\t\t\t\t\t\"text-sm transition-colors\",\n\t\t\t\t\t\t\tgetIsActive(channels[0].url)\n\t\t\t\t\t\t\t\t? \"bg-accent font-medium\"\n\t\t\t\t\t\t\t\t: \"hover:bg-muted/80\"\n\t\t\t\t\t\t)}\n\t\t\t\t\t>\n\t\t\t\t\t\t<LayoutDashboard className=\"size-4 text-muted-foreground\" />\n\t\t\t\t\t\t<span className=\"flex-1\">Dashboard</span>\n\t\t\t\t\t\t{getIsActive(channels[0].url) && (\n\t\t\t\t\t\t\t<Check className=\"size-3.5 text-foreground/70\" />\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Link>\n\t\t\t\t</DropdownMenuItem>\n\n\t\t\t\t<DropdownMenuSeparator className=\"my-1\" />\n\n\t\t\t\t{/* Channels */}\n\t\t\t\t<div className=\"space-y-0.5\">\n\t\t\t\t\t{channels.slice(1).map((channel) => {\n\t\t\t\t\t\tconst isActive = getIsActive(channel.url);\n\t\t\t\t\t\tconst Icon = channel.icon;\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<DropdownMenuItem key={channel.name} asChild className=\"p-0\">\n\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\thref={channel.url}\n\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\"flex items-center gap-2.5 px-2 py-1.5 rounded-sm cursor-pointer\",\n\t\t\t\t\t\t\t\t\t\t\"text-sm transition-colors\",\n\t\t\t\t\t\t\t\t\t\tisActive\n\t\t\t\t\t\t\t\t\t\t\t? \"bg-accent font-medium\"\n\t\t\t\t\t\t\t\t\t\t\t: \"hover:bg-muted/80\"\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Icon className=\"size-4 text-muted-foreground\" />\n\t\t\t\t\t\t\t\t\t<span className=\"flex-1\">{channel.name}</span>\n\t\t\t\t\t\t\t\t\t{isActive && (\n\t\t\t\t\t\t\t\t\t\t<Check className=\"size-3.5 text-foreground/70\" />\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</DropdownMenuItem>\n\t\t\t\t\t\t);\n\t\t\t\t\t})}\n\t\t\t\t</div>\n\t\t\t</DropdownMenuContent>\n\t\t</DropdownMenu>\n\t);\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAOA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;;;AApBA;;;;;;;AA4BO,SAAS;;IACf,MAAM,WAAW,IAAA,2TAAW;IAE5B,MAAM,WAAsB;QAC3B;YACC,MAAM;YACN,KAAK;YACL,MAAM,sUAAe;QACtB;QACA;YACC,MAAM;YACN,KAAK;YACL,MAAM,iSAAI;QACX;QACA;YACC,MAAM;YACN,KAAK;YACL,MAAM,gUAAa;QACpB;QACA;YACC,MAAM;YACN,KAAK;YACL,MAAM,oSAAK;QACZ;KACA;IAED,MAAM,cAAc,CAAC;QACpB,IAAI,QAAQ,4BAA4B;YACvC,OAAO,aAAa;QACrB;QACA,MAAM,WAAW,IAAI,KAAK,CAAC,IAAI,CAAC,EAAE;QAClC,OAAO,UAAU,WAAW,aAAa;IAC1C;IAEA,MAAM,gBAAgB,SAAS,IAAI,CAAC,CAAC,IAAM,YAAY,EAAE,GAAG,MAAM,QAAQ,CAAC,EAAE;IAC7E,MAAM,aAAa,cAAc,IAAI;IAErC,qBACC,oWAAC,6JAAY;;0BACZ,oWAAC,oKAAmB;gBAAC,OAAO;0BAC3B,cAAA,oWAAC,6IAAM;oBACN,SAAQ;oBACR,MAAK;oBACL,WAAW,IAAA,2IAAE,EACZ,gDACA,gCACA,mDACA,2BACA,uBACA,qBACA;;sCAGD,oWAAC;4BAAI,WAAU;;8CACd,oWAAC;oCAAW,WAAU;;;;;;8CACtB,oWAAC;oCAAK,WAAU;8CAAY,cAAc,IAAI;;;;;;;;;;;;sCAE/C,oWAAC,0TAAW;4BAAC,WAAU;;;;;;;;;;;;;;;;;0BAGzB,oWAAC,oKAAmB;gBACnB,WAAU;gBACV,OAAM;gBACN,MAAK;gBACL,YAAY;;kCAGZ,oWAAC,iKAAgB;wBAAC,OAAO;wBAAC,WAAU;kCACnC,cAAA,oWAAC,iVAAI;4BACJ,MAAM,QAAQ,CAAC,EAAE,CAAC,GAAG;4BACrB,WAAW,IAAA,2IAAE,EACZ,mEACA,6BACA,YAAY,QAAQ,CAAC,EAAE,CAAC,GAAG,IACxB,0BACA;;8CAGJ,oWAAC,sUAAe;oCAAC,WAAU;;;;;;8CAC3B,oWAAC;oCAAK,WAAU;8CAAS;;;;;;gCACxB,YAAY,QAAQ,CAAC,EAAE,CAAC,GAAG,mBAC3B,oWAAC,oSAAK;oCAAC,WAAU;;;;;;;;;;;;;;;;;kCAKpB,oWAAC,sKAAqB;wBAAC,WAAU;;;;;;kCAGjC,oWAAC;wBAAI,WAAU;kCACb,SAAS,KAAK,CAAC,GAAG,GAAG,CAAC,CAAC;4BACvB,MAAM,WAAW,YAAY,QAAQ,GAAG;4BACxC,MAAM,OAAO,QAAQ,IAAI;4BACzB,qBACC,oWAAC,iKAAgB;gCAAoB,OAAO;gCAAC,WAAU;0CACtD,cAAA,oWAAC,iVAAI;oCACJ,MAAM,QAAQ,GAAG;oCACjB,WAAW,IAAA,2IAAE,EACZ,mEACA,6BACA,WACG,0BACA;;sDAGJ,oWAAC;4CAAK,WAAU;;;;;;sDAChB,oWAAC;4CAAK,WAAU;sDAAU,QAAQ,IAAI;;;;;;wCACrC,0BACA,oWAAC,oSAAK;4CAAC,WAAU;;;;;;;;;;;;+BAdG,QAAQ,IAAI;;;;;wBAmBrC;;;;;;;;;;;;;;;;;;AAKL;GAtHgB;;QACE,2TAAW;;;KADb"}},
    {"offset": {"line": 248, "column": 0}, "map": {"version":3,"sources":["file:///Users/byronwade/Stratos/apps/web/src/components/communication/communication-sidebar.tsx"],"sourcesContent":["\"use client\";\n\nimport { CommunicationSwitcher } from \"@/components/communication/communication-switcher\";\nimport { NavGrouped } from \"@/components/layout/nav-grouped\";\nimport { Button } from \"@/components/ui/button\";\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\nimport {\n    Sidebar,\n    SidebarContent,\n    SidebarGroup,\n    SidebarGroupLabel,\n    SidebarHeader,\n    SidebarMenu,\n    SidebarMenuBadge,\n    SidebarMenuButton,\n    SidebarMenuItem,\n    SidebarRail,\n} from \"@/components/ui/sidebar\";\nimport { Collapsible, CollapsibleContent, CollapsibleTrigger } from \"@/components/ui/collapsible\";\nimport { LucideIcon, ChevronRight, Plus, Trash2 } from \"lucide-react\";\nimport Link from \"next/link\";\nimport { usePathname, useSearchParams } from \"next/navigation\";\nimport type { ComponentProps } from \"react\";\nimport { useSidebarScroll } from \"@/hooks/use-sidebar-scroll\";\n\n/**\n * Navigation group configuration for communication sidebar\n */\nexport type CommunicationNavGroup = {\n    label: string;\n    items: Array<{\n        title: string;\n        url: string;\n        icon: LucideIcon;\n        badge?: number | string;\n    }>;\n};\n\n/**\n * Additional section configuration (e.g., Labels, Tags, etc.)\n */\nexport type CommunicationAdditionalSection = {\n    label: string;\n    items: Array<{\n        title: string;\n        icon?: LucideIcon;\n        onClick?: () => void;\n        url?: string;\n        badge?: number | string;\n        folderId?: string; // For delete functionality\n        onDelete?: (folderId: string) => void; // Delete handler\n    }>;\n    onAddClick?: () => void;\n    addButton?: React.ReactNode; // Custom add button component (e.g., CreateFolderDialog)\n    scrollable?: boolean;\n    scrollHeight?: string;\n    defaultOpen?: boolean; // Whether the section should be open by default\n};\n\n/**\n * Primary action button configuration\n */\nexport type CommunicationPrimaryAction = {\n    label: string;\n    icon: LucideIcon;\n    onClick?: () => void;\n    href?: string;\n    variant?: \"default\" | \"outline\" | \"ghost\" | \"secondary\" | \"destructive\" | \"link\";\n};\n\n/**\n * Communication sidebar configuration\n */\nexport type CommunicationSidebarConfig = {\n    /** Navigation groups to display */\n    navGroups: CommunicationNavGroup[];\n    /** Primary action button (e.g., \"New email\", \"New text\") */\n    primaryAction?: CommunicationPrimaryAction;\n    /** Additional sections (e.g., Labels, Tags) */\n    additionalSections?: CommunicationAdditionalSection[];\n};\n\nexport type CommunicationSidebarProps = ComponentProps<typeof Sidebar> & {\n    config: CommunicationSidebarConfig;\n};\n\n/**\n * CommunicationSidebar - Reusable sidebar layout for all communication pages\n *\n * Provides a consistent layout structure with:\n * - Communication switcher at the top\n * - Primary action button\n * - Navigation groups\n * - Optional additional sections (labels, tags, etc.)\n *\n * @example\n * ```tsx\n * <CommunicationSidebar\n *   config={{\n *     navGroups: [\n *       {\n *         label: \"Core\",\n *         items: [\n *           { title: \"Inbox\", url: \"/email\", icon: Inbox, badge: 42 }\n *         ]\n *       }\n *     ],\n *     primaryAction: {\n *       label: \"New email\",\n *       icon: Plus,\n *       onClick: () => handleNewEmail()\n *     }\n *   }}\n * />\n * ```\n */\nexport function CommunicationSidebar({\n    config,\n    ...props\n}: CommunicationSidebarProps) {\n    const pathname = usePathname();\n    const searchParams = useSearchParams();\n    const scrollRef = useSidebarScroll();\n    const { navGroups, primaryAction, additionalSections } = config;\n    \n    // Helper to check if URL matches current pathname + searchParams\n    const isUrlActive = (url: string): boolean => {\n        const urlObj = new URL(url, 'http://localhost');\n        const urlPathname = urlObj.pathname;\n        const urlSearchParams = urlObj.searchParams;\n        \n        // Check pathname match\n        if (pathname !== urlPathname) {\n            return false;\n        }\n        \n        // If URL has query params, check if they match\n        if (urlSearchParams.toString()) {\n            for (const [key, value] of urlSearchParams.entries()) {\n                if (searchParams.get(key) !== value) {\n                    return false;\n                }\n            }\n        }\n        \n        return true;\n    };\n\n    return (\n        <Sidebar collapsible=\"offcanvas\" variant=\"inset\" {...props}>\n            <SidebarHeader className=\"gap-3 px-3 pt-4 md:pt-0 pb-2\">\n                <CommunicationSwitcher />\n                {primaryAction && (\n                    <Button\n                        className=\"w-full h-11 md:h-9 font-medium text-base md:text-sm\"\n                        variant={primaryAction.variant || \"default\"}\n                        type=\"button\"\n                        onClick={primaryAction.onClick}\n                        asChild={!!primaryAction.href}\n                    >\n                        {primaryAction.href ? (\n                            <Link href={primaryAction.href}>\n                                <primaryAction.icon className=\"size-5 md:size-4\" />\n                                {primaryAction.label}\n                            </Link>\n                        ) : (\n                            <>\n                                <primaryAction.icon className=\"size-5 md:size-4\" />\n                                {primaryAction.label}\n                            </>\n                        )}\n                    </Button>\n                )}\n            </SidebarHeader>\n\n            <SidebarContent ref={scrollRef}>\n                {/* Navigation Groups */}\n                <NavGrouped groups={navGroups} pathname={pathname ?? undefined} searchParams={searchParams} />\n\n                {/* Additional Sections (Labels, Tags, etc.) */}\n                {additionalSections?.map((section, index) => (\n                    <Collapsible\n                        key={index}\n                        defaultOpen={section.defaultOpen ?? true}\n                        className=\"group/collapsible\"\n                    >\n                        <SidebarGroup>\n                            <CollapsibleTrigger asChild>\n                                <div className=\"flex items-center justify-between px-2 cursor-pointer hover:bg-sidebar-accent/50 rounded-md transition-colors\">\n                                    <SidebarGroupLabel className=\"flex items-center gap-2\">\n                                        <ChevronRight className=\"size-4 transition-transform duration-200 group-data-[state=open]/collapsible:rotate-90\" />\n                                        {section.label}\n                                    </SidebarGroupLabel>\n                                    {section.addButton || (section.onAddClick && (\n                                        <Button\n                                            variant=\"ghost\"\n                                            size=\"icon\"\n                                            className=\"h-6 w-6\"\n                                            onClick={(e) => {\n                                                e.stopPropagation();\n                                                section.onAddClick?.();\n                                            }}\n                                            type=\"button\"\n                                        >\n                                            <Plus className=\"size-4\" />\n                                        </Button>\n                                    ))}\n                                </div>\n                            </CollapsibleTrigger>\n                            <CollapsibleContent>\n                                <SidebarMenu>\n                            {section.scrollable ? (\n                                <ScrollArea\n                                    className={section.scrollHeight || \"h-[200px] w-full\"}\n                                >\n                                    {section.items.map((item, itemIndex) => (\n                                        <SidebarMenuItem key={itemIndex}>\n                                            <div className=\"group/item flex items-center w-full\">\n                                                {item.url ? (\n                                                    <SidebarMenuButton asChild className=\"flex-1\">\n                                                        <Link href={item.url}>\n                                                            {item.icon && <item.icon className=\"size-4\" />}\n                                                            <span>{item.title}</span>\n                                                            {item.badge !== undefined && (\n                                                                <SidebarMenuBadge>\n                                                                    {typeof item.badge === \"number\"\n                                                                        ? item.badge.toLocaleString()\n                                                                        : item.badge}\n                                                                </SidebarMenuBadge>\n                                                            )}\n                                                        </Link>\n                                                    </SidebarMenuButton>\n                                                ) : (\n                                                    <SidebarMenuButton\n                                                        onClick={item.onClick}\n                                                        type={item.onClick ? \"button\" : undefined}\n                                                        className=\"flex-1\"\n                                                    >\n                                                        {item.icon && <item.icon className=\"size-4\" />}\n                                                        <span>{item.title}</span>\n                                                        {item.badge !== undefined && item.badge > 0 && (\n                                                            <SidebarMenuBadge>\n                                                                {typeof item.badge === \"number\"\n                                                                    ? item.badge.toLocaleString()\n                                                                    : item.badge}\n                                                            </SidebarMenuBadge>\n                                                        )}\n                                                    </SidebarMenuButton>\n                                                )}\n                                                {item.folderId && item.onDelete && (\n                                                    <Button\n                                                        variant=\"ghost\"\n                                                        size=\"icon\"\n                                                        className=\"h-6 w-6 opacity-0 group-hover/item:opacity-100 transition-opacity ml-auto\"\n                                                        onClick={(e) => {\n                                                            e.preventDefault();\n                                                            e.stopPropagation();\n                                                            if (confirm(`Are you sure you want to delete \"${item.title}\"?`)) {\n                                                                item.onDelete?.(item.folderId!);\n                                                            }\n                                                        }}\n                                                        title=\"Delete folder\"\n                                                    >\n                                                        <Trash2 className=\"h-3.5 w-3.5 text-destructive\" />\n                                                    </Button>\n                                                )}\n                                            </div>\n                                        </SidebarMenuItem>\n                                    ))}\n                                </ScrollArea>\n                            ) : (\n                                section.items.map((item, itemIndex) => (\n                                    <SidebarMenuItem key={itemIndex}>\n                                        <div className=\"group/item flex items-center w-full\">\n                                            {item.url ? (\n                                                <SidebarMenuButton asChild className=\"flex-1\">\n                                                    <Link href={item.url}>\n                                                        {item.icon && <item.icon className=\"size-4\" />}\n                                                        <span>{item.title}</span>\n                                                        {item.badge !== undefined && item.badge > 0 && (\n                                                            <SidebarMenuBadge>\n                                                                {typeof item.badge === \"number\"\n                                                                    ? item.badge.toLocaleString()\n                                                                    : item.badge}\n                                                            </SidebarMenuBadge>\n                                                        )}\n                                                    </Link>\n                                                </SidebarMenuButton>\n                                            ) : (\n                                                <SidebarMenuButton\n                                                    onClick={item.onClick}\n                                                    type={item.onClick ? \"button\" : undefined}\n                                                    className=\"flex-1\"\n                                                >\n                                                    {item.icon && <item.icon className=\"size-4\" />}\n                                                    <span>{item.title}</span>\n                                                    {item.badge !== undefined && (\n                                                        <span className=\"ml-auto text-xs text-muted-foreground\">\n                                                            {item.badge}\n                                                        </span>\n                                                    )}\n                                                </SidebarMenuButton>\n                                            )}\n                                            {item.folderId && item.onDelete && (\n                                                <Button\n                                                    variant=\"ghost\"\n                                                    size=\"icon\"\n                                                    className=\"h-6 w-6 opacity-0 group-hover/item:opacity-100 transition-opacity ml-auto\"\n                                                    onClick={(e) => {\n                                                        e.preventDefault();\n                                                        e.stopPropagation();\n                                                        if (confirm(`Are you sure you want to delete \"${item.title}\"?`)) {\n                                                            item.onDelete?.(item.folderId!);\n                                                        }\n                                                    }}\n                                                    title=\"Delete folder\"\n                                                >\n                                                    <Trash2 className=\"h-3.5 w-3.5 text-destructive\" />\n                                                </Button>\n                                            )}\n                                        </div>\n                                    </SidebarMenuItem>\n                                ))\n                                    )}\n                                </SidebarMenu>\n                            </CollapsibleContent>\n                        </SidebarGroup>\n                    </Collapsible>\n                ))}\n            </SidebarContent>\n            <SidebarRail />\n        </Sidebar>\n    );\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 716, "column": 0}, "map": {"version":3,"sources":["file:///Users/byronwade/Stratos/apps/web/src/components/communication/communication-reports-sidebar.tsx"],"sourcesContent":["\"use client\";\n\nimport { CommunicationSidebar } from \"@/components/communication/communication-sidebar\";\nimport { getCommunicationReportsSidebarConfig } from \"@/lib/communication/communication-reports-sidebar-config\";\nimport type { ComponentProps } from \"react\";\n\n/**\n * CommunicationReportsSidebar - Sidebar for communication statistics and reports\n * \n * Displays different report types users can view:\n * - Overview reports (Dashboard, Activity Summary)\n * - Channel Analytics (Email, SMS, Calls)\n * - Performance Metrics (Response Times, Team Performance, Trends)\n * - Distribution reports (Channel Distribution, Time Series)\n */\nexport function CommunicationReportsSidebar(\n\tprops: ComponentProps<typeof CommunicationSidebar>\n) {\n\tconst config = getCommunicationReportsSidebarConfig();\n\n\treturn <CommunicationSidebar config={config} {...props} />;\n}\n\n\n\n\n\n\n\n\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAeO,SAAS,4BACf,KAAkD;IAElD,MAAM,SAAS,IAAA,uOAAoC;IAEnD,qBAAO,oWAAC,yMAAoB;QAAC,QAAQ;QAAS,GAAG,KAAK;;;;;;AACvD;KANgB"}},
    {"offset": {"line": 748, "column": 0}, "map": {"version":3,"sources":["file:///Users/byronwade/Stratos/apps/web/src/components/communication/create-folder-dialog.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n\tDialog,\n\tDialogContent,\n\tDialogDescription,\n\tDialogFooter,\n\tDialogHeader,\n\tDialogTitle,\n\tDialogTrigger,\n} from \"@/components/ui/dialog\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { createEmailFolderAction } from \"@/actions/email-folders\";\nimport { toast } from \"sonner\";\nimport { useRouter } from \"next/navigation\";\nimport { Plus } from \"lucide-react\";\n\ntype CreateFolderDialogProps = {\n\tonFolderCreated?: () => void;\n\tchildren?: React.ReactNode;\n};\n\nexport function CreateFolderDialog({ onFolderCreated, children }: CreateFolderDialogProps) {\n\tconst [open, setOpen] = useState(false);\n\tconst [loading, setLoading] = useState(false);\n\tconst [name, setName] = useState(\"\");\n\tconst [description, setDescription] = useState(\"\");\n\tconst router = useRouter();\n\n\tconst handleSubmit = async (e: React.FormEvent) => {\n\t\te.preventDefault();\n\t\t\n\t\tif (!name.trim()) {\n\t\t\ttoast.error(\"Folder name is required\");\n\t\t\treturn;\n\t\t}\n\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tconst result = await createEmailFolderAction({\n\t\t\t\tname: name.trim(),\n\t\t\t\tdescription: description.trim() || undefined,\n\t\t\t});\n\n\t\t\tif (result.success && result.folder) {\n\t\t\t\ttoast.success(\"Folder created successfully\");\n\t\t\t\tsetOpen(false);\n\t\t\t\tsetName(\"\");\n\t\t\t\tsetDescription(\"\");\n\t\t\t\t\n\t\t\t\t// Navigate to the new folder\n\t\t\t\trouter.push(`/dashboard/communication/folder/${result.folder.slug}`);\n\t\t\t\t\n\t\t\t\t// Refresh sidebar\n\t\t\t\tonFolderCreated?.();\n\t\t\t} else {\n\t\t\t\ttoast.error(result.error || \"Failed to create folder\");\n\t\t\t}\n\t\t} catch (error) {\n\t\t\ttoast.error(\"Failed to create folder\", {\n\t\t\t\tdescription: error instanceof Error ? error.message : \"Unknown error\",\n\t\t\t});\n\t\t} finally {\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Dialog open={open} onOpenChange={setOpen}>\n\t\t\t<DialogTrigger asChild>\n\t\t\t\t{children || (\n\t\t\t\t\t<Button variant=\"ghost\" size=\"icon\" className=\"h-6 w-6\">\n\t\t\t\t\t\t<Plus className=\"h-4 w-4\" />\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t</DialogTrigger>\n\t\t\t<DialogContent>\n\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t<DialogHeader>\n\t\t\t\t\t\t<DialogTitle>Create New Folder</DialogTitle>\n\t\t\t\t\t\t<DialogDescription>\n\t\t\t\t\t\t\tCreate a custom folder to organize your emails. You can add emails to this folder using labels.\n\t\t\t\t\t\t</DialogDescription>\n\t\t\t\t\t</DialogHeader>\n\t\t\t\t\t<div className=\"space-y-4 py-4\">\n\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t<Label htmlFor=\"name\">Folder Name</Label>\n\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\tvalue={name}\n\t\t\t\t\t\t\t\tonChange={(e) => setName(e.target.value)}\n\t\t\t\t\t\t\t\tplaceholder=\"e.g., CSLB, Important, Follow-up\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tmaxLength={100}\n\t\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"space-y-2\">\n\t\t\t\t\t\t\t<Label htmlFor=\"description\">Description (Optional)</Label>\n\t\t\t\t\t\t\t<Textarea\n\t\t\t\t\t\t\t\tid=\"description\"\n\t\t\t\t\t\t\t\tvalue={description}\n\t\t\t\t\t\t\t\tonChange={(e) => setDescription(e.target.value)}\n\t\t\t\t\t\t\t\tplaceholder=\"Add a description for this folder\"\n\t\t\t\t\t\t\t\tmaxLength={500}\n\t\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\t\trows={3}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<DialogFooter>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\t\tonClick={() => setOpen(false)}\n\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tCancel\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button type=\"submit\" disabled={loading || !name.trim()}>\n\t\t\t\t\t\t\t{loading ? \"Creating...\" : \"Create Folder\"}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</DialogFooter>\n\t\t\t\t</form>\n\t\t\t</DialogContent>\n\t\t</Dialog>\n\t);\n}\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AAAA;AASA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;;;AAnBA;;;;;;;;;;;AA0BO,SAAS,mBAAmB,EAAE,eAAe,EAAE,QAAQ,EAA2B;;IACxF,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,gVAAQ,EAAC;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,gVAAQ,EAAC;IACvC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,gVAAQ,EAAC;IACjC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,gVAAQ,EAAC;IAC/C,MAAM,SAAS,IAAA,yTAAS;IAExB,MAAM,eAAe,OAAO;QAC3B,EAAE,cAAc;QAEhB,IAAI,CAAC,KAAK,IAAI,IAAI;YACjB,oRAAK,CAAC,KAAK,CAAC;YACZ;QACD;QAEA,WAAW;QACX,IAAI;YACH,MAAM,SAAS,MAAM,IAAA,mMAAuB,EAAC;gBAC5C,MAAM,KAAK,IAAI;gBACf,aAAa,YAAY,IAAI,MAAM;YACpC;YAEA,IAAI,OAAO,OAAO,IAAI,OAAO,MAAM,EAAE;gBACpC,oRAAK,CAAC,OAAO,CAAC;gBACd,QAAQ;gBACR,QAAQ;gBACR,eAAe;gBAEf,6BAA6B;gBAC7B,OAAO,IAAI,CAAC,CAAC,gCAAgC,EAAE,OAAO,MAAM,CAAC,IAAI,EAAE;gBAEnE,kBAAkB;gBAClB;YACD,OAAO;gBACN,oRAAK,CAAC,KAAK,CAAC,OAAO,KAAK,IAAI;YAC7B;QACD,EAAE,OAAO,OAAO;YACf,oRAAK,CAAC,KAAK,CAAC,2BAA2B;gBACtC,aAAa,iBAAiB,QAAQ,MAAM,OAAO,GAAG;YACvD;QACD,SAAU;YACT,WAAW;QACZ;IACD;IAEA,qBACC,oWAAC,6IAAM;QAAC,MAAM;QAAM,cAAc;;0BACjC,oWAAC,oJAAa;gBAAC,OAAO;0BACpB,0BACA,oWAAC,6IAAM;oBAAC,SAAQ;oBAAQ,MAAK;oBAAO,WAAU;8BAC7C,cAAA,oWAAC,iSAAI;wBAAC,WAAU;;;;;;;;;;;;;;;;0BAInB,oWAAC,oJAAa;0BACb,cAAA,oWAAC;oBAAK,UAAU;;sCACf,oWAAC,mJAAY;;8CACZ,oWAAC,kJAAW;8CAAC;;;;;;8CACb,oWAAC,wJAAiB;8CAAC;;;;;;;;;;;;sCAIpB,oWAAC;4BAAI,WAAU;;8CACd,oWAAC;oCAAI,WAAU;;sDACd,oWAAC,2IAAK;4CAAC,SAAQ;sDAAO;;;;;;sDACtB,oWAAC,2IAAK;4CACL,IAAG;4CACH,OAAO;4CACP,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;4CACvC,aAAY;4CACZ,QAAQ;4CACR,WAAW;4CACX,UAAU;;;;;;;;;;;;8CAGZ,oWAAC;oCAAI,WAAU;;sDACd,oWAAC,2IAAK;4CAAC,SAAQ;sDAAc;;;;;;sDAC7B,oWAAC,iJAAQ;4CACR,IAAG;4CACH,OAAO;4CACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;4CAC9C,aAAY;4CACZ,WAAW;4CACX,UAAU;4CACV,MAAM;;;;;;;;;;;;;;;;;;sCAIT,oWAAC,mJAAY;;8CACZ,oWAAC,6IAAM;oCACN,MAAK;oCACL,SAAQ;oCACR,SAAS,IAAM,QAAQ;oCACvB,UAAU;8CACV;;;;;;8CAGD,oWAAC,6IAAM;oCAAC,MAAK;oCAAS,UAAU,WAAW,CAAC,KAAK,IAAI;8CACnD,UAAU,gBAAgB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOlC;GAzGgB;;QAKA,yTAAS;;;KALT"}},
    {"offset": {"line": 1003, "column": 0}, "map": {"version":3,"sources":["file:///Users/byronwade/Stratos/apps/web/src/components/communication/recipient-selector.tsx"],"sourcesContent":["/**\n * Recipient Selector - Command menu for selecting email/SMS recipients\n * \n * Features:\n * - Search customers by name, email, phone\n * - Search vendors by name, email, phone\n * - Enter custom email or phone number\n * - Opens composer with selected recipient\n */\n\n\"use client\";\n\nimport { searchCustomers } from \"@/actions/customers\";\nimport { searchVendors } from \"@/actions/vendors\";\nimport { Avatar, AvatarFallback } from \"@/components/ui/avatar\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Command, CommandEmpty, CommandGroup, CommandInput, CommandItem, CommandList } from \"@/components/ui/command\";\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\nimport { useCommunicationStore } from \"@/lib/stores/communication-store\";\nimport { cn } from \"@/lib/utils\";\nimport { AtSign, Building2, Loader2, Mail, MessageSquare, Phone, User } from \"lucide-react\";\nimport { useCallback, useEffect, useState, useTransition } from \"react\";\n\ntype RecipientType = \"email\" | \"sms\";\n\ntype Customer = {\n\tid: string;\n\tdisplay_name: string;\n\temail?: string | null;\n\tphone?: string | null;\n\tcompany_name?: string | null;\n};\n\ntype Vendor = {\n\tid: string;\n\tname: string;\n\tdisplay_name?: string | null;\n\temail?: string | null;\n\tphone?: string | null;\n};\n\ntype RecipientOption = \n\t| { type: \"customer\"; data: Customer }\n\t| { type: \"vendor\"; data: Vendor }\n\t| { type: \"custom-email\"; email: string }\n\t| { type: \"custom-phone\"; phone: string };\n\ntype RecipientSelectorProps = {\n\topen: boolean;\n\tonOpenChange: (open: boolean) => void;\n\trecipientType: RecipientType;\n};\n\nexport function RecipientSelector({\n\topen,\n\tonOpenChange,\n\trecipientType,\n}: RecipientSelectorProps) {\n\tconst [searchQuery, setSearchQuery] = useState(\"\");\n\tconst [customInput, setCustomInput] = useState(\"\");\n\tconst [customInputMode, setCustomInputMode] = useState<\"email\" | \"phone\" | null>(null);\n\tconst [customers, setCustomers] = useState<Customer[]>([]);\n\tconst [vendors, setVendors] = useState<Vendor[]>([]);\n\tconst [loading, setLoading] = useState(false);\n\tconst [isPending, startTransition] = useTransition();\n\tconst openComposer = useCommunicationStore((state) => state.openComposer);\n\n\t// Search customers and vendors\n\tuseEffect(() => {\n\t\t// Don't search if in custom input mode (user is typing email/phone directly)\n\t\tif (!open || customInputMode !== null) {\n\t\t\tif (!open) {\n\t\t\t\tsetCustomers([]);\n\t\t\t\tsetVendors([]);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tif (searchQuery.trim().length < 2) {\n\t\t\tsetCustomers([]);\n\t\t\tsetVendors([]);\n\t\t\treturn;\n\t\t}\n\n\t\tconst searchTimeout = setTimeout(() => {\n\t\t\tsetLoading(true);\n\t\t\tstartTransition(async () => {\n\t\t\t\ttry {\n\t\t\t\t\t// Search customers\n\t\t\t\t\tconst customersResult = await searchCustomers(searchQuery, { limit: 20 });\n\t\t\t\t\t\n\t\t\t\t\t// Handle ActionResult structure: { success: boolean, data?: T, error?: string }\n\t\t\t\t\t// Also handle direct array returns (for backward compatibility)\n\t\t\t\t\tlet customerArray: any[] = [];\n\t\t\t\t\t\n\t\t\t\t\tif (customersResult.success && customersResult.data) {\n\t\t\t\t\t\tcustomerArray = Array.isArray(customersResult.data) \n\t\t\t\t\t\t\t? customersResult.data \n\t\t\t\t\t\t\t: [customersResult.data];\n\t\t\t\t\t} else if (Array.isArray(customersResult)) {\n\t\t\t\t\t\t// Handle case where result is directly an array\n\t\t\t\t\t\tcustomerArray = customersResult;\n\t\t\t\t\t} else if (customersResult.error) {\n\t\t\t\t\t\tconsole.warn(\"Customer search failed:\", customersResult.error);\n\t\t\t\t\t\tsetCustomers([]);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif (customerArray.length > 0) {\n\t\t\t\t\t\t// Map to Customer type - handle different data structures\n\t\t\t\t\t\tconst customerData = customerArray.map((c: any) => ({\n\t\t\t\t\t\t\tid: c.id,\n\t\t\t\t\t\t\tdisplay_name: c.display_name || `${c.first_name || \"\"} ${c.last_name || \"\"}`.trim() || \"Customer\",\n\t\t\t\t\t\t\temail: c.email || null,\n\t\t\t\t\t\t\tphone: c.phone || c.primary_phone || null,\n\t\t\t\t\t\t\tcompany_name: c.company_name || null,\n\t\t\t\t\t\t}));\n\t\t\t\t\t\tsetCustomers(customerData);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetCustomers([]);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Search vendors\n\t\t\t\t\tconst vendorsResult = await searchVendors(searchQuery);\n\t\t\t\t\t\n\t\t\t\t\t// Handle ActionResult structure: { success: boolean, data?: T, error?: string }\n\t\t\t\t\tif (vendorsResult.success) {\n\t\t\t\t\t\tconst vendorArray = Array.isArray(vendorsResult.data) \n\t\t\t\t\t\t\t? vendorsResult.data \n\t\t\t\t\t\t\t: vendorsResult.data \n\t\t\t\t\t\t\t\t? [vendorsResult.data] \n\t\t\t\t\t\t\t\t: [];\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (vendorArray.length > 0) {\n\t\t\t\t\t\t\t// Map to Vendor type\n\t\t\t\t\t\t\tconst vendorData = vendorArray.map((v: any) => ({\n\t\t\t\t\t\t\t\tid: v.id,\n\t\t\t\t\t\t\t\tname: v.name,\n\t\t\t\t\t\t\t\tdisplay_name: v.display_name || v.name,\n\t\t\t\t\t\t\t\temail: v.email,\n\t\t\t\t\t\t\t\tphone: v.phone,\n\t\t\t\t\t\t\t}));\n\t\t\t\t\t\t\tsetVendors(vendorData);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tsetVendors([]);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.warn(\"Vendor search failed:\", vendorsResult.error || \"Unknown error\");\n\t\t\t\t\t\tsetVendors([]);\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error(\"Error searching recipients:\", error);\n\t\t\t\t\tsetCustomers([]);\n\t\t\t\t\tsetVendors([]);\n\t\t\t\t} finally {\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t}\n\t\t\t});\n\t\t}, 300);\n\n\t\treturn () => clearTimeout(searchTimeout);\n\t}, [searchQuery, open, customInputMode]);\n\n\tconst handleSelectRecipient = useCallback((option: RecipientOption) => {\n\t\tif (option.type === \"customer\") {\n\t\t\tconst customer = option.data;\n\t\t\tconst email = customer.email || \"\";\n\t\t\tconst phone = customer.phone || \"\";\n\t\t\tconst name = customer.display_name || \"Customer\";\n\n\t\t\tif (recipientType === \"email\" && email) {\n\t\t\t\topenComposer(\"email\", {\n\t\t\t\t\tcustomerId: customer.id,\n\t\t\t\t\tcustomerName: name,\n\t\t\t\t\temail,\n\t\t\t\t});\n\t\t\t} else if (recipientType === \"sms\" && phone) {\n\t\t\t\topenComposer(\"sms\", {\n\t\t\t\t\tcustomerId: customer.id,\n\t\t\t\t\tcustomerName: name,\n\t\t\t\t\tphone,\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (option.type === \"vendor\") {\n\t\t\tconst vendor = option.data;\n\t\t\tconst email = vendor.email || \"\";\n\t\t\tconst phone = vendor.phone || \"\";\n\t\t\tconst name = vendor.display_name || vendor.name || \"Vendor\";\n\n\t\t\tif (recipientType === \"email\" && email) {\n\t\t\t\topenComposer(\"email\", {\n\t\t\t\t\tcustomerName: name,\n\t\t\t\t\temail,\n\t\t\t\t});\n\t\t\t} else if (recipientType === \"sms\" && phone) {\n\t\t\t\topenComposer(\"sms\", {\n\t\t\t\t\tcustomerName: name,\n\t\t\t\t\tphone,\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (option.type === \"custom-email\") {\n\t\t\topenComposer(\"email\", {\n\t\t\t\tcustomerName: option.email,\n\t\t\t\temail: option.email,\n\t\t\t});\n\t\t} else if (option.type === \"custom-phone\") {\n\t\t\topenComposer(\"sms\", {\n\t\t\t\tcustomerName: option.phone,\n\t\t\t\tphone: option.phone,\n\t\t\t});\n\t\t}\n\n\t\tonOpenChange(false);\n\t\t// Reset state after a short delay to allow dialog to close\n\t\tsetTimeout(() => {\n\t\t\tsetSearchQuery(\"\");\n\t\t\tsetCustomInput(\"\");\n\t\t\tsetCustomInputMode(null);\n\t\t\tsetCustomers([]);\n\t\t\tsetVendors([]);\n\t\t}, 200);\n\t}, [recipientType, openComposer, onOpenChange]);\n\n\t// Reset when dialog closes\n\tuseEffect(() => {\n\t\tif (!open) {\n\t\t\tsetSearchQuery(\"\");\n\t\t\tsetCustomInput(\"\");\n\t\t\tsetCustomInputMode(null);\n\t\t\tsetCustomers([]);\n\t\t\tsetVendors([]);\n\t\t}\n\t}, [open]);\n\n\tconst handleCustomInput = useCallback(() => {\n\t\tif (!customInput.trim()) return;\n\n\t\tif (customInputMode === \"email\") {\n\t\t\t// Validate email\n\t\t\tconst emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n\t\t\tif (!emailRegex.test(customInput.trim())) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\thandleSelectRecipient({ type: \"custom-email\", email: customInput.trim() });\n\t\t} else if (customInputMode === \"phone\") {\n\t\t\t// Basic phone validation (at least 10 digits)\n\t\t\tconst phoneDigits = customInput.replace(/\\D/g, \"\");\n\t\t\tif (phoneDigits.length < 10) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\thandleSelectRecipient({ type: \"custom-phone\", phone: customInput.trim() });\n\t\t}\n\t}, [customInput, customInputMode, handleSelectRecipient]);\n\n\tconst isValidEmail = customInput.trim().match(/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/) !== null;\n\tconst isValidPhone = customInput.replace(/\\D/g, \"\").length >= 10;\n\n\tconst hasResults = customers.length > 0 || vendors.length > 0;\n\tconst showCustomOptions = (searchQuery.trim().length >= 2 || customInputMode !== null) && !loading;\n\n\treturn (\n\t\t<Dialog open={open} onOpenChange={onOpenChange}>\n\t\t\t<DialogContent className=\"sm:max-w-[600px]\">\n\t\t\t\t<DialogHeader>\n\t\t\t\t\t<DialogTitle>\n\t\t\t\t\t\t{recipientType === \"email\" ? \"Send Email To\" : \"Send Text To\"}\n\t\t\t\t\t</DialogTitle>\n\t\t\t\t\t<DialogDescription>\n\t\t\t\t\t\tSearch for a customer or vendor, or enter a custom {recipientType === \"email\" ? \"email address\" : \"phone number\"}\n\t\t\t\t\t</DialogDescription>\n\t\t\t\t</DialogHeader>\n\t\t\t\t<Command className=\"rounded-lg border shadow-md\" shouldFilter={false}>\n\t\t\t\t\t<CommandInput\n\t\t\t\t\t\tplaceholder={`Search customers, vendors, or enter ${recipientType === \"email\" ? \"email\" : \"phone number\"}...`}\n\t\t\t\t\t\tvalue={customInputMode ? customInput : searchQuery}\n\t\t\t\t\t\tonValueChange={(value) => {\n\t\t\t\t\t\tif (customInputMode) {\n\t\t\t\t\t\t\t// User is in custom input mode, update custom input\n\t\t\t\t\t\t\tsetCustomInput(value);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// Check if user has typed a VALID complete email or phone\n\t\t\t\t\t\t\t// Only switch to custom mode if it's actually valid\n\t\t\t\t\t\t\tconst emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n\t\t\t\t\t\t\tconst isValidEmail = emailRegex.test(value.trim());\n\t\t\t\t\t\t\tconst phoneDigits = value.replace(/\\D/g, \"\");\n\t\t\t\t\t\t\tconst isValidPhone = phoneDigits.length >= 10;\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t// Be conservative - only switch to custom mode for VALID inputs\n\t\t\t\t\t\t\t// This prevents switching mode while typing customer names\n\t\t\t\t\t\t\tif (isValidEmail && recipientType === \"email\") {\n\t\t\t\t\t\t\t\t// Valid complete email address\n\t\t\t\t\t\t\t\tsetCustomInputMode(\"email\");\n\t\t\t\t\t\t\t\tsetCustomInput(value);\n\t\t\t\t\t\t\t\tsetSearchQuery(\"\"); // Clear search query\n\t\t\t\t\t\t\t} else if (isValidPhone && recipientType === \"sms\" && !value.includes(\"@\")) {\n\t\t\t\t\t\t\t\t// Valid phone number (10+ digits, no @ symbol)\n\t\t\t\t\t\t\t\tsetCustomInputMode(\"phone\");\n\t\t\t\t\t\t\t\tsetCustomInput(value);\n\t\t\t\t\t\t\t\tsetSearchQuery(\"\"); // Clear search query\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// Normal search mode - keep searching\n\t\t\t\t\t\t\t\tsetSearchQuery(value);\n\t\t\t\t\t\t\t\tsetCustomInputMode(null);\n\t\t\t\t\t\t\t\tsetCustomInput(\"\");\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\t\t\t// Handle Enter key to submit custom email/phone\n\t\t\t\t\t\t\tif (e.key === \"Enter\") {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tif (customInputMode === \"email\" && isValidEmail) {\n\t\t\t\t\t\t\t\t\thandleSelectRecipient({ type: \"custom-email\", email: customInput.trim() });\n\t\t\t\t\t\t\t\t} else if (customInputMode === \"phone\" && isValidPhone) {\n\t\t\t\t\t\t\t\t\thandleSelectRecipient({ type: \"custom-phone\", phone: customInput.trim() });\n\t\t\t\t\t\t\t\t} else if (!customInputMode && searchQuery.trim().length >= 2) {\n\t\t\t\t\t\t\t\t\t// If typing an email-like string, try to use it as email\n\t\t\t\t\t\t\t\t\tif (recipientType === \"email\" && searchQuery.includes(\"@\") && searchQuery.includes(\".\")) {\n\t\t\t\t\t\t\t\t\t\tconst emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n\t\t\t\t\t\t\t\t\t\tif (emailRegex.test(searchQuery.trim())) {\n\t\t\t\t\t\t\t\t\t\t\thandleSelectRecipient({ type: \"custom-email\", email: searchQuery.trim() });\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t} else if (recipientType === \"sms\") {\n\t\t\t\t\t\t\t\t\t\tconst phoneDigits = searchQuery.replace(/\\D/g, \"\");\n\t\t\t\t\t\t\t\t\t\tif (phoneDigits.length >= 10) {\n\t\t\t\t\t\t\t\t\t\t\thandleSelectRecipient({ type: \"custom-phone\", phone: searchQuery.trim() });\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<CommandList>\n\t\t\t\t\t\t{loading && (\n\t\t\t\t\t\t\t<div className=\"flex items-center justify-center py-6\">\n\t\t\t\t\t\t\t\t<Loader2 className=\"h-4 w-4 animate-spin text-muted-foreground\" />\n\t\t\t\t\t\t\t\t<span className=\"ml-2 text-sm text-muted-foreground\">Searching...</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{!loading && !hasResults && !showCustomOptions && searchQuery.trim().length >= 2 && (\n\t\t\t\t\t\t\t<CommandEmpty>\n\t\t\t\t\t\t\t\t<div className=\"flex flex-col items-center justify-center py-8 text-center\">\n\t\t\t\t\t\t\t\t\t<User className=\"h-8 w-8 text-muted-foreground mb-2\" />\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium\">No results found</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-muted-foreground mt-1\">\n\t\t\t\t\t\t\t\t\t\tTry a different search term or enter a custom {recipientType === \"email\" ? \"email address\" : \"phone number\"}\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</CommandEmpty>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t{!loading && !hasResults && !showCustomOptions && searchQuery.trim().length === 0 && (\n\t\t\t\t\t\t\t<CommandEmpty>\n\t\t\t\t\t\t\t\t<div className=\"flex flex-col items-center justify-center py-8 text-center\">\n\t\t\t\t\t\t\t\t\t<Mail className=\"h-8 w-8 text-muted-foreground mb-2\" />\n\t\t\t\t\t\t\t\t\t<p className=\"text-sm font-medium\">Start typing to search</p>\n\t\t\t\t\t\t\t\t\t<p className=\"text-xs text-muted-foreground mt-1\">\n\t\t\t\t\t\t\t\t\t\tSearch for customers or vendors, or type an {recipientType === \"email\" ? \"email address\" : \"phone number\"} directly\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</CommandEmpty>\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t\n\t\t\t\t\t\t{/* Custom Input Options */}\n\t\t\t\t\t\t{showCustomOptions && (\n\t\t\t\t\t\t\t<CommandGroup heading=\"Custom\">\n\t\t\t\t\t\t\t\t{customInputMode === \"email\" && (\n\t\t\t\t\t\t\t\t\t<CommandItem\n\t\t\t\t\t\t\t\t\t\tonSelect={() => {\n\t\t\t\t\t\t\t\t\t\t\tif (isValidEmail) {\n\t\t\t\t\t\t\t\t\t\t\t\thandleSelectRecipient({ type: \"custom-email\", email: customInput.trim() });\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tdisabled={!isValidEmail}\n\t\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\t\"flex items-center gap-2 cursor-pointer\",\n\t\t\t\t\t\t\t\t\t\t\t!isValidEmail && \"opacity-50 cursor-not-allowed\"\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<AtSign className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t<span className=\"flex-1\">Send to {customInput.trim() || \"email address\"}</span>\n\t\t\t\t\t\t\t\t\t\t{isValidEmail && (\n\t\t\t\t\t\t\t\t\t\t\t<Badge variant=\"default\" className=\"text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\tPress Enter\n\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{!isValidEmail && customInput.trim().length > 0 && (\n\t\t\t\t\t\t\t\t\t\t\t<Badge variant=\"outline\" className=\"text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\tInvalid email\n\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</CommandItem>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{customInputMode === \"phone\" && (\n\t\t\t\t\t\t\t\t\t<CommandItem\n\t\t\t\t\t\t\t\t\t\tonSelect={() => {\n\t\t\t\t\t\t\t\t\t\t\tif (isValidPhone) {\n\t\t\t\t\t\t\t\t\t\t\t\thandleSelectRecipient({ type: \"custom-phone\", phone: customInput.trim() });\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tdisabled={!isValidPhone}\n\t\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\t\"flex items-center gap-2 cursor-pointer\",\n\t\t\t\t\t\t\t\t\t\t\t!isValidPhone && \"opacity-50 cursor-not-allowed\"\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Phone className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t<span className=\"flex-1\">Send to {customInput.trim() || \"phone number\"}</span>\n\t\t\t\t\t\t\t\t\t\t{isValidPhone && (\n\t\t\t\t\t\t\t\t\t\t\t<Badge variant=\"default\" className=\"text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\tPress Enter\n\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t{!isValidPhone && customInput.trim().length > 0 && (\n\t\t\t\t\t\t\t\t\t\t\t<Badge variant=\"outline\" className=\"text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\tInvalid phone\n\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</CommandItem>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{!customInputMode && searchQuery.trim().length >= 2 && recipientType === \"email\" && (\n\t\t\t\t\t\t\t\t\t<CommandItem\n\t\t\t\t\t\t\t\t\t\tonSelect={() => {\n\t\t\t\t\t\t\t\t\t\t\tsetCustomInputMode(\"email\");\n\t\t\t\t\t\t\t\t\t\t\tsetCustomInput(searchQuery);\n\t\t\t\t\t\t\t\t\t\t\tsetSearchQuery(\"\");\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tclassName=\"flex items-center gap-2\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<AtSign className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t<span>Use \"{searchQuery}\" as email address</span>\n\t\t\t\t\t\t\t\t\t</CommandItem>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{!customInputMode && searchQuery.trim().length >= 2 && recipientType === \"sms\" && (\n\t\t\t\t\t\t\t\t\t<CommandItem\n\t\t\t\t\t\t\t\t\t\tonSelect={() => {\n\t\t\t\t\t\t\t\t\t\t\tsetCustomInputMode(\"phone\");\n\t\t\t\t\t\t\t\t\t\t\tsetCustomInput(searchQuery);\n\t\t\t\t\t\t\t\t\t\t\tsetSearchQuery(\"\");\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tclassName=\"flex items-center gap-2\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Phone className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t<span>Use \"{searchQuery}\" as phone number</span>\n\t\t\t\t\t\t\t\t\t</CommandItem>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</CommandGroup>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{/* Customers */}\n\t\t\t\t\t\t{customers.length > 0 && (\n\t\t\t\t\t\t\t<CommandGroup heading=\"Customers\">\n\t\t\t\t\t\t\t\t{customers.map((customer) => {\n\t\t\t\t\t\t\t\t\tconst hasEmail = !!customer.email;\n\t\t\t\t\t\t\t\t\tconst hasPhone = !!customer.phone;\n\t\t\t\t\t\t\t\t\tconst canUse = recipientType === \"email\" ? hasEmail : hasPhone;\n\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<CommandItem\n\t\t\t\t\t\t\t\t\t\t\tkey={customer.id}\n\t\t\t\t\t\t\t\t\t\t\tonSelect={() => {\n\t\t\t\t\t\t\t\t\t\t\t\tif (canUse) {\n\t\t\t\t\t\t\t\t\t\t\t\t\thandleSelectRecipient({ type: \"customer\", data: customer });\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tdisabled={!canUse}\n\t\t\t\t\t\t\t\t\t\t\tclassName={cn(\n\t\t\t\t\t\t\t\t\t\t\t\t\"flex items-center gap-3\",\n\t\t\t\t\t\t\t\t\t\t\t\t!canUse && \"opacity-50 cursor-not-allowed\"\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Avatar className=\"h-8 w-8\">\n\t\t\t\t\t\t\t\t\t\t\t\t<AvatarFallback>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{customer.display_name\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.split(\" \")\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.map((n) => n[0])\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.join(\"\")\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.toUpperCase()\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.slice(0, 2)}\n\t\t\t\t\t\t\t\t\t\t\t\t</AvatarFallback>\n\t\t\t\t\t\t\t\t\t\t\t</Avatar>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex flex-1 flex-col\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-medium\">{customer.display_name}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 text-xs text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{customer.email && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"flex items-center gap-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Mail className=\"h-3 w-3\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{customer.email}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{customer.phone && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"flex items-center gap-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Phone className=\"h-3 w-3\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{customer.phone}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{!canUse && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Badge variant=\"outline\" className=\"text-xs\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tNo {recipientType === \"email\" ? \"email\" : \"phone\"}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t{canUse && (\n\t\t\t\t\t\t\t\t\t\t\t\trecipientType === \"email\" ? (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Mail className=\"h-4 w-4 text-muted-foreground\" />\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<MessageSquare className=\"h-4 w-4 text-muted-foreground\" />\n\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</CommandItem>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</CommandGroup>\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t{/* Vendors */}\n\t\t\t\t\t\t{vendors.length > 0 && (\n\t\t\t\t\t\t\t<CommandGroup heading=\"Vendors\">\n\t\t\t\t\t\t\t\t{vendors.map((vendor) => {\n\t\t\t\t\t\t\t\t\tconst hasEmail = !!vendor.email;\n\t\t\t\t\t\t\t\t\tconst hasPhone = !!vendor.phone;\n\t\t\t\t\t\t\t\t\tconst canUse = recipientType === \"email\" ? hasEmail : hasPhone;\n\n\t\t\t\t\t\t\t\t\tif (!canUse) return null;\n\n\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t<CommandItem\n\t\t\t\t\t\t\t\t\t\t\tkey={vendor.id}\n\t\t\t\t\t\t\t\t\t\t\tonSelect={() => handleSelectRecipient({ type: \"vendor\", data: vendor })}\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"flex items-center gap-3\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<Avatar className=\"h-8 w-8\">\n\t\t\t\t\t\t\t\t\t\t\t\t<AvatarFallback>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Building2 className=\"h-4 w-4\" />\n\t\t\t\t\t\t\t\t\t\t\t\t</AvatarFallback>\n\t\t\t\t\t\t\t\t\t\t\t</Avatar>\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex flex-1 flex-col\">\n\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-medium\">{vendor.display_name || vendor.name}</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"flex items-center gap-2 text-xs text-muted-foreground\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t{vendor.email && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"flex items-center gap-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Mail className=\"h-3 w-3\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{vendor.email}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t{vendor.phone && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span className=\"flex items-center gap-1\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Phone className=\"h-3 w-3\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{vendor.phone}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t{recipientType === \"email\" ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<Mail className=\"h-4 w-4 text-muted-foreground\" />\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<MessageSquare className=\"h-4 w-4 text-muted-foreground\" />\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</CommandItem>\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t</CommandGroup>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</CommandList>\n\t\t\t\t</Command>\n\t\t\t</DialogContent>\n\t\t</Dialog>\n\t);\n}\n\n"],"names":[],"mappings":"AAAA;;;;;;;;CAQC;;;;;AAID;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;AAXA;;;;;;;;;;;AA2CO,SAAS,kBAAkB,EACjC,IAAI,EACJ,YAAY,EACZ,aAAa,EACW;;IACxB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,gVAAQ,EAAC;IAC/C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,gVAAQ,EAAC;IAC/C,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,gVAAQ,EAA2B;IACjF,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,gVAAQ,EAAa,EAAE;IACzD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,gVAAQ,EAAW,EAAE;IACnD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,gVAAQ,EAAC;IACvC,MAAM,CAAC,WAAW,gBAAgB,GAAG,IAAA,qVAAa;IAClD,MAAM,eAAe,IAAA,yLAAqB;iEAAC,CAAC,QAAU,MAAM,YAAY;;IAExE,+BAA+B;IAC/B,IAAA,iVAAS;uCAAC;YACT,6EAA6E;YAC7E,IAAI,CAAC,QAAQ,oBAAoB,MAAM;gBACtC,IAAI,CAAC,MAAM;oBACV,aAAa,EAAE;oBACf,WAAW,EAAE;gBACd;gBACA;YACD;YAEA,IAAI,YAAY,IAAI,GAAG,MAAM,GAAG,GAAG;gBAClC,aAAa,EAAE;gBACf,WAAW,EAAE;gBACb;YACD;YAEA,MAAM,gBAAgB;6DAAW;oBAChC,WAAW;oBACX;qEAAgB;4BACf,IAAI;gCACH,mBAAmB;gCACnB,MAAM,kBAAkB,MAAM,IAAA,2LAAe,EAAC,aAAa;oCAAE,OAAO;gCAAG;gCAEvE,gFAAgF;gCAChF,gEAAgE;gCAChE,IAAI,gBAAuB,EAAE;gCAE7B,IAAI,gBAAgB,OAAO,IAAI,gBAAgB,IAAI,EAAE;oCACpD,gBAAgB,MAAM,OAAO,CAAC,gBAAgB,IAAI,IAC/C,gBAAgB,IAAI,GACpB;wCAAC,gBAAgB,IAAI;qCAAC;gCAC1B,OAAO,IAAI,MAAM,OAAO,CAAC,kBAAkB;oCAC1C,gDAAgD;oCAChD,gBAAgB;gCACjB,OAAO,IAAI,gBAAgB,KAAK,EAAE;oCACjC,QAAQ,IAAI,CAAC,2BAA2B,gBAAgB,KAAK;oCAC7D,aAAa,EAAE;oCACf;gCACD;gCAEA,IAAI,cAAc,MAAM,GAAG,GAAG;oCAC7B,0DAA0D;oCAC1D,MAAM,eAAe,cAAc,GAAG;kGAAC,CAAC,IAAW,CAAC;gDACnD,IAAI,EAAE,EAAE;gDACR,cAAc,EAAE,YAAY,IAAI,GAAG,EAAE,UAAU,IAAI,GAAG,CAAC,EAAE,EAAE,SAAS,IAAI,IAAI,CAAC,IAAI,MAAM;gDACvF,OAAO,EAAE,KAAK,IAAI;gDAClB,OAAO,EAAE,KAAK,IAAI,EAAE,aAAa,IAAI;gDACrC,cAAc,EAAE,YAAY,IAAI;4CACjC,CAAC;;oCACD,aAAa;gCACd,OAAO;oCACN,aAAa,EAAE;gCAChB;gCAEA,iBAAiB;gCACjB,MAAM,gBAAgB,MAAM,IAAA,yLAAa,EAAC;gCAE1C,gFAAgF;gCAChF,IAAI,cAAc,OAAO,EAAE;oCAC1B,MAAM,cAAc,MAAM,OAAO,CAAC,cAAc,IAAI,IACjD,cAAc,IAAI,GAClB,cAAc,IAAI,GACjB;wCAAC,cAAc,IAAI;qCAAC,GACpB,EAAE;oCAEN,IAAI,YAAY,MAAM,GAAG,GAAG;wCAC3B,qBAAqB;wCACrB,MAAM,aAAa,YAAY,GAAG;oGAAC,CAAC,IAAW,CAAC;oDAC/C,IAAI,EAAE,EAAE;oDACR,MAAM,EAAE,IAAI;oDACZ,cAAc,EAAE,YAAY,IAAI,EAAE,IAAI;oDACtC,OAAO,EAAE,KAAK;oDACd,OAAO,EAAE,KAAK;gDACf,CAAC;;wCACD,WAAW;oCACZ,OAAO;wCACN,WAAW,EAAE;oCACd;gCACD,OAAO;oCACN,QAAQ,IAAI,CAAC,yBAAyB,cAAc,KAAK,IAAI;oCAC7D,WAAW,EAAE;gCACd;4BACD,EAAE,OAAO,OAAO;gCACf,QAAQ,KAAK,CAAC,+BAA+B;gCAC7C,aAAa,EAAE;gCACf,WAAW,EAAE;4BACd,SAAU;gCACT,WAAW;4BACZ;wBACD;;gBACD;4DAAG;YAEH;+CAAO,IAAM,aAAa;;QAC3B;sCAAG;QAAC;QAAa;QAAM;KAAgB;IAEvC,MAAM,wBAAwB,IAAA,mVAAW;gEAAC,CAAC;YAC1C,IAAI,OAAO,IAAI,KAAK,YAAY;gBAC/B,MAAM,WAAW,OAAO,IAAI;gBAC5B,MAAM,QAAQ,SAAS,KAAK,IAAI;gBAChC,MAAM,QAAQ,SAAS,KAAK,IAAI;gBAChC,MAAM,OAAO,SAAS,YAAY,IAAI;gBAEtC,IAAI,kBAAkB,WAAW,OAAO;oBACvC,aAAa,SAAS;wBACrB,YAAY,SAAS,EAAE;wBACvB,cAAc;wBACd;oBACD;gBACD,OAAO,IAAI,kBAAkB,SAAS,OAAO;oBAC5C,aAAa,OAAO;wBACnB,YAAY,SAAS,EAAE;wBACvB,cAAc;wBACd;oBACD;gBACD;YACD,OAAO,IAAI,OAAO,IAAI,KAAK,UAAU;gBACpC,MAAM,SAAS,OAAO,IAAI;gBAC1B,MAAM,QAAQ,OAAO,KAAK,IAAI;gBAC9B,MAAM,QAAQ,OAAO,KAAK,IAAI;gBAC9B,MAAM,OAAO,OAAO,YAAY,IAAI,OAAO,IAAI,IAAI;gBAEnD,IAAI,kBAAkB,WAAW,OAAO;oBACvC,aAAa,SAAS;wBACrB,cAAc;wBACd;oBACD;gBACD,OAAO,IAAI,kBAAkB,SAAS,OAAO;oBAC5C,aAAa,OAAO;wBACnB,cAAc;wBACd;oBACD;gBACD;YACD,OAAO,IAAI,OAAO,IAAI,KAAK,gBAAgB;gBAC1C,aAAa,SAAS;oBACrB,cAAc,OAAO,KAAK;oBAC1B,OAAO,OAAO,KAAK;gBACpB;YACD,OAAO,IAAI,OAAO,IAAI,KAAK,gBAAgB;gBAC1C,aAAa,OAAO;oBACnB,cAAc,OAAO,KAAK;oBAC1B,OAAO,OAAO,KAAK;gBACpB;YACD;YAEA,aAAa;YACb,2DAA2D;YAC3D;wEAAW;oBACV,eAAe;oBACf,eAAe;oBACf,mBAAmB;oBACnB,aAAa,EAAE;oBACf,WAAW,EAAE;gBACd;uEAAG;QACJ;+DAAG;QAAC;QAAe;QAAc;KAAa;IAE9C,2BAA2B;IAC3B,IAAA,iVAAS;uCAAC;YACT,IAAI,CAAC,MAAM;gBACV,eAAe;gBACf,eAAe;gBACf,mBAAmB;gBACnB,aAAa,EAAE;gBACf,WAAW,EAAE;YACd;QACD;sCAAG;QAAC;KAAK;IAET,MAAM,oBAAoB,IAAA,mVAAW;4DAAC;YACrC,IAAI,CAAC,YAAY,IAAI,IAAI;YAEzB,IAAI,oBAAoB,SAAS;gBAChC,iBAAiB;gBACjB,MAAM,aAAa;gBACnB,IAAI,CAAC,WAAW,IAAI,CAAC,YAAY,IAAI,KAAK;oBACzC;gBACD;gBACA,sBAAsB;oBAAE,MAAM;oBAAgB,OAAO,YAAY,IAAI;gBAAG;YACzE,OAAO,IAAI,oBAAoB,SAAS;gBACvC,8CAA8C;gBAC9C,MAAM,cAAc,YAAY,OAAO,CAAC,OAAO;gBAC/C,IAAI,YAAY,MAAM,GAAG,IAAI;oBAC5B;gBACD;gBACA,sBAAsB;oBAAE,MAAM;oBAAgB,OAAO,YAAY,IAAI;gBAAG;YACzE;QACD;2DAAG;QAAC;QAAa;QAAiB;KAAsB;IAExD,MAAM,eAAe,YAAY,IAAI,GAAG,KAAK,CAAC,kCAAkC;IAChF,MAAM,eAAe,YAAY,OAAO,CAAC,OAAO,IAAI,MAAM,IAAI;IAE9D,MAAM,aAAa,UAAU,MAAM,GAAG,KAAK,QAAQ,MAAM,GAAG;IAC5D,MAAM,oBAAoB,CAAC,YAAY,IAAI,GAAG,MAAM,IAAI,KAAK,oBAAoB,IAAI,KAAK,CAAC;IAE3F,qBACC,oWAAC,6IAAM;QAAC,MAAM;QAAM,cAAc;kBACjC,cAAA,oWAAC,oJAAa;YAAC,WAAU;;8BACxB,oWAAC,mJAAY;;sCACZ,oWAAC,kJAAW;sCACV,kBAAkB,UAAU,kBAAkB;;;;;;sCAEhD,oWAAC,wJAAiB;;gCAAC;gCACkC,kBAAkB,UAAU,kBAAkB;;;;;;;;;;;;;8BAGpG,oWAAC,+IAAO;oBAAC,WAAU;oBAA8B,cAAc;;sCAC9D,oWAAC,oJAAY;4BACZ,aAAa,CAAC,oCAAoC,EAAE,kBAAkB,UAAU,UAAU,eAAe,GAAG,CAAC;4BAC7G,OAAO,kBAAkB,cAAc;4BACvC,eAAe,CAAC;gCAChB,IAAI,iBAAiB;oCACpB,oDAAoD;oCACpD,eAAe;gCAChB,OAAO;oCACN,0DAA0D;oCAC1D,oDAAoD;oCACpD,MAAM,aAAa;oCACnB,MAAM,eAAe,WAAW,IAAI,CAAC,MAAM,IAAI;oCAC/C,MAAM,cAAc,MAAM,OAAO,CAAC,OAAO;oCACzC,MAAM,eAAe,YAAY,MAAM,IAAI;oCAE3C,gEAAgE;oCAChE,2DAA2D;oCAC3D,IAAI,gBAAgB,kBAAkB,SAAS;wCAC9C,+BAA+B;wCAC/B,mBAAmB;wCACnB,eAAe;wCACf,eAAe,KAAK,qBAAqB;oCAC1C,OAAO,IAAI,gBAAgB,kBAAkB,SAAS,CAAC,MAAM,QAAQ,CAAC,MAAM;wCAC3E,+CAA+C;wCAC/C,mBAAmB;wCACnB,eAAe;wCACf,eAAe,KAAK,qBAAqB;oCAC1C,OAAO;wCACN,sCAAsC;wCACtC,eAAe;wCACf,mBAAmB;wCACnB,eAAe;oCAChB;gCACD;4BACD;4BACC,WAAW,CAAC;gCACX,gDAAgD;gCAChD,IAAI,EAAE,GAAG,KAAK,SAAS;oCACtB,EAAE,cAAc;oCAChB,IAAI,oBAAoB,WAAW,cAAc;wCAChD,sBAAsB;4CAAE,MAAM;4CAAgB,OAAO,YAAY,IAAI;wCAAG;oCACzE,OAAO,IAAI,oBAAoB,WAAW,cAAc;wCACvD,sBAAsB;4CAAE,MAAM;4CAAgB,OAAO,YAAY,IAAI;wCAAG;oCACzE,OAAO,IAAI,CAAC,mBAAmB,YAAY,IAAI,GAAG,MAAM,IAAI,GAAG;wCAC9D,yDAAyD;wCACzD,IAAI,kBAAkB,WAAW,YAAY,QAAQ,CAAC,QAAQ,YAAY,QAAQ,CAAC,MAAM;4CACxF,MAAM,aAAa;4CACnB,IAAI,WAAW,IAAI,CAAC,YAAY,IAAI,KAAK;gDACxC,sBAAsB;oDAAE,MAAM;oDAAgB,OAAO,YAAY,IAAI;gDAAG;4CACzE;wCACD,OAAO,IAAI,kBAAkB,OAAO;4CACnC,MAAM,cAAc,YAAY,OAAO,CAAC,OAAO;4CAC/C,IAAI,YAAY,MAAM,IAAI,IAAI;gDAC7B,sBAAsB;oDAAE,MAAM;oDAAgB,OAAO,YAAY,IAAI;gDAAG;4CACzE;wCACD;oCACD;gCACD;4BACD;;;;;;sCAED,oWAAC,mJAAW;;gCACV,yBACA,oWAAC;oCAAI,WAAU;;sDACd,oWAAC,mTAAO;4CAAC,WAAU;;;;;;sDACnB,oWAAC;4CAAK,WAAU;sDAAqC;;;;;;;;;;;;gCAGtD,CAAC,WAAW,CAAC,cAAc,CAAC,qBAAqB,YAAY,IAAI,GAAG,MAAM,IAAI,mBAC9E,oWAAC,oJAAY;8CACZ,cAAA,oWAAC;wCAAI,WAAU;;0DACd,oWAAC,iSAAI;gDAAC,WAAU;;;;;;0DAChB,oWAAC;gDAAE,WAAU;0DAAsB;;;;;;0DACnC,oWAAC;gDAAE,WAAU;;oDAAqC;oDACF,kBAAkB,UAAU,kBAAkB;;;;;;;;;;;;;;;;;;gCAKhG,CAAC,WAAW,CAAC,cAAc,CAAC,qBAAqB,YAAY,IAAI,GAAG,MAAM,KAAK,mBAC/E,oWAAC,oJAAY;8CACZ,cAAA,oWAAC;wCAAI,WAAU;;0DACd,oWAAC,iSAAI;gDAAC,WAAU;;;;;;0DAChB,oWAAC;gDAAE,WAAU;0DAAsB;;;;;;0DACnC,oWAAC;gDAAE,WAAU;;oDAAqC;oDACJ,kBAAkB,UAAU,kBAAkB;oDAAe;;;;;;;;;;;;;;;;;;gCAO7G,mCACA,oWAAC,oJAAY;oCAAC,SAAQ;;wCACpB,oBAAoB,yBACpB,oWAAC,mJAAW;4CACX,UAAU;gDACT,IAAI,cAAc;oDACjB,sBAAsB;wDAAE,MAAM;wDAAgB,OAAO,YAAY,IAAI;oDAAG;gDACzE;4CACD;4CACA,UAAU,CAAC;4CACX,WAAW,IAAA,2IAAE,EACZ,0CACA,CAAC,gBAAgB;;8DAGlB,oWAAC,2SAAM;oDAAC,WAAU;;;;;;8DAClB,oWAAC;oDAAK,WAAU;;wDAAS;wDAAS,YAAY,IAAI,MAAM;;;;;;;gDACvD,8BACA,oWAAC,2IAAK;oDAAC,SAAQ;oDAAU,WAAU;8DAAU;;;;;;gDAI7C,CAAC,gBAAgB,YAAY,IAAI,GAAG,MAAM,GAAG,mBAC7C,oWAAC,2IAAK;oDAAC,SAAQ;oDAAU,WAAU;8DAAU;;;;;;;;;;;;wCAM/C,oBAAoB,yBACpB,oWAAC,mJAAW;4CACX,UAAU;gDACT,IAAI,cAAc;oDACjB,sBAAsB;wDAAE,MAAM;wDAAgB,OAAO,YAAY,IAAI;oDAAG;gDACzE;4CACD;4CACA,UAAU,CAAC;4CACX,WAAW,IAAA,2IAAE,EACZ,0CACA,CAAC,gBAAgB;;8DAGlB,oWAAC,oSAAK;oDAAC,WAAU;;;;;;8DACjB,oWAAC;oDAAK,WAAU;;wDAAS;wDAAS,YAAY,IAAI,MAAM;;;;;;;gDACvD,8BACA,oWAAC,2IAAK;oDAAC,SAAQ;oDAAU,WAAU;8DAAU;;;;;;gDAI7C,CAAC,gBAAgB,YAAY,IAAI,GAAG,MAAM,GAAG,mBAC7C,oWAAC,2IAAK;oDAAC,SAAQ;oDAAU,WAAU;8DAAU;;;;;;;;;;;;wCAM/C,CAAC,mBAAmB,YAAY,IAAI,GAAG,MAAM,IAAI,KAAK,kBAAkB,yBACxE,oWAAC,mJAAW;4CACX,UAAU;gDACT,mBAAmB;gDACnB,eAAe;gDACf,eAAe;4CAChB;4CACA,WAAU;;8DAEV,oWAAC,2SAAM;oDAAC,WAAU;;;;;;8DAClB,oWAAC;;wDAAK;wDAAM;wDAAY;;;;;;;;;;;;;wCAGzB,CAAC,mBAAmB,YAAY,IAAI,GAAG,MAAM,IAAI,KAAK,kBAAkB,uBACxE,oWAAC,mJAAW;4CACX,UAAU;gDACT,mBAAmB;gDACnB,eAAe;gDACf,eAAe;4CAChB;4CACA,WAAU;;8DAEV,oWAAC,oSAAK;oDAAC,WAAU;;;;;;8DACjB,oWAAC;;wDAAK;wDAAM;wDAAY;;;;;;;;;;;;;;;;;;;gCAO3B,UAAU,MAAM,GAAG,mBACnB,oWAAC,oJAAY;oCAAC,SAAQ;8CACpB,UAAU,GAAG,CAAC,CAAC;wCACf,MAAM,WAAW,CAAC,CAAC,SAAS,KAAK;wCACjC,MAAM,WAAW,CAAC,CAAC,SAAS,KAAK;wCACjC,MAAM,SAAS,kBAAkB,UAAU,WAAW;wCAEtD,qBACC,oWAAC,mJAAW;4CAEX,UAAU;gDACT,IAAI,QAAQ;oDACX,sBAAsB;wDAAE,MAAM;wDAAY,MAAM;oDAAS;gDAC1D;4CACD;4CACA,UAAU,CAAC;4CACX,WAAW,IAAA,2IAAE,EACZ,2BACA,CAAC,UAAU;;8DAGZ,oWAAC,6IAAM;oDAAC,WAAU;8DACjB,cAAA,oWAAC,qJAAc;kEACb,SAAS,YAAY,CACpB,KAAK,CAAC,KACN,GAAG,CAAC,CAAC,IAAM,CAAC,CAAC,EAAE,EACf,IAAI,CAAC,IACL,WAAW,GACX,KAAK,CAAC,GAAG;;;;;;;;;;;8DAGb,oWAAC;oDAAI,WAAU;;sEACd,oWAAC;4DAAK,WAAU;sEAAe,SAAS,YAAY;;;;;;sEACpD,oWAAC;4DAAI,WAAU;;gEACb,SAAS,KAAK,kBACd,oWAAC;oEAAK,WAAU;;sFACf,oWAAC,iSAAI;4EAAC,WAAU;;;;;;wEACf,SAAS,KAAK;;;;;;;gEAGhB,SAAS,KAAK,kBACd,oWAAC;oEAAK,WAAU;;sFACf,oWAAC,oSAAK;4EAAC,WAAU;;;;;;wEAChB,SAAS,KAAK;;;;;;;gEAGhB,CAAC,wBACD,oWAAC,2IAAK;oEAAC,SAAQ;oEAAU,WAAU;;wEAAU;wEACxC,kBAAkB,UAAU,UAAU;;;;;;;;;;;;;;;;;;;gDAK7C,UAAU,CACV,kBAAkB,wBACjB,oWAAC,iSAAI;oDAAC,WAAU;;;;;yEAEhB,oWAAC,gUAAa;oDAAC,WAAU;;;;;wDAE3B;;2CAlDK,SAAS,EAAE;;;;;oCAqDnB;;;;;;gCAKD,QAAQ,MAAM,GAAG,mBACjB,oWAAC,oJAAY;oCAAC,SAAQ;8CACpB,QAAQ,GAAG,CAAC,CAAC;wCACb,MAAM,WAAW,CAAC,CAAC,OAAO,KAAK;wCAC/B,MAAM,WAAW,CAAC,CAAC,OAAO,KAAK;wCAC/B,MAAM,SAAS,kBAAkB,UAAU,WAAW;wCAEtD,IAAI,CAAC,QAAQ,OAAO;wCAEpB,qBACC,oWAAC,mJAAW;4CAEX,UAAU,IAAM,sBAAsB;oDAAE,MAAM;oDAAU,MAAM;gDAAO;4CACrE,WAAU;;8DAEV,oWAAC,6IAAM;oDAAC,WAAU;8DACjB,cAAA,oWAAC,qJAAc;kEACd,cAAA,oWAAC,oTAAS;4DAAC,WAAU;;;;;;;;;;;;;;;;8DAGvB,oWAAC;oDAAI,WAAU;;sEACd,oWAAC;4DAAK,WAAU;sEAAe,OAAO,YAAY,IAAI,OAAO,IAAI;;;;;;sEACjE,oWAAC;4DAAI,WAAU;;gEACb,OAAO,KAAK,kBACZ,oWAAC;oEAAK,WAAU;;sFACf,oWAAC,iSAAI;4EAAC,WAAU;;;;;;wEACf,OAAO,KAAK;;;;;;;gEAGd,OAAO,KAAK,kBACZ,oWAAC;oEAAK,WAAU;;sFACf,oWAAC,oSAAK;4EAAC,WAAU;;;;;;wEAChB,OAAO,KAAK;;;;;;;;;;;;;;;;;;;gDAKhB,kBAAkB,wBAClB,oWAAC,iSAAI;oDAAC,WAAU;;;;;yEAEhB,oWAAC,gUAAa;oDAAC,WAAU;;;;;;;2CA7BrB,OAAO,EAAE;;;;;oCAiCjB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQR;GAngBgB;;QAWsB,qVAAa;QAC7B,yLAAqB;;;KAZ3B"}},
    {"offset": {"line": 1963, "column": 0}, "map": {"version":3,"sources":["file:///Users/byronwade/Stratos/apps/web/src/components/communication/email-sidebar.tsx"],"sourcesContent":["\"use client\";\n\nimport { CommunicationSidebar } from \"@/components/communication/communication-sidebar\";\nimport { getEmailSidebarConfig } from \"@/lib/communication/email-sidebar-config\";\nimport type { ComponentProps } from \"react\";\nimport type { Sidebar } from \"@/components/ui/sidebar\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport { getEmailFolderCountsAction } from \"@/actions/email-actions\";\nimport { getEmailFoldersAction, deleteEmailFolderAction } from \"@/actions/email-folders\";\nimport { RecipientSelector } from \"@/components/communication/recipient-selector\";\nimport { toast } from \"sonner\";\n\n/**\n * EmailSidebar - Email communication sidebar\n *\n * Uses the shared CommunicationSidebar component with email-specific configuration.\n * This ensures consistent layout and behavior across all communication pages.\n */\nexport function EmailSidebar(\n\tprops: ComponentProps<typeof Sidebar>\n) {\n\tconst [config, setConfig] = useState(() => getEmailSidebarConfig());\n\n\t// Fetch folder counts and custom folders - memoized to prevent recreating on every render\n\tconst fetchData = useCallback(async () => {\n\t\ttry {\n\t\t\tconst [countsResult, foldersResult] = await Promise.all([\n\t\t\t\tgetEmailFolderCountsAction(),\n\t\t\t\tgetEmailFoldersAction(),\n\t\t\t]);\n\t\t\t\n\t\t\tif (countsResult.success && countsResult.counts) {\n\t\t\t\t// Merge custom folder counts with system folder counts\n\t\t\t\tconst allCounts = { ...countsResult.counts };\n\t\t\t\t\n\t\t\t\t// Add custom folder counts\n\t\t\t\tif (foldersResult.success && foldersResult.folders) {\n\t\t\t\t\tfoldersResult.folders.forEach((folder) => {\n\t\t\t\t\t\t// Count emails with this folder's slug in tags\n\t\t\t\t\t\t// This will be calculated by the counts action, but we can add folder metadata\n\t\t\t\t\t\tallCounts[folder.slug] = allCounts[folder.slug] || 0;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// Ensure all counts are numbers (not undefined)\n\t\t\t\tconst normalizedCounts = {\n\t\t\t\t\tinbox: allCounts.inbox ?? 0,\n\t\t\t\t\tdrafts: allCounts.drafts ?? 0,\n\t\t\t\t\tsent: allCounts.sent ?? 0,\n\t\t\t\t\tarchive: allCounts.archive ?? 0,\n\t\t\t\t\tsnoozed: allCounts.snoozed ?? 0,\n\t\t\t\t\tspam: allCounts.spam ?? 0,\n\t\t\t\t\ttrash: allCounts.trash ?? 0,\n\t\t\t\t\t...allCounts,\n\t\t\t\t};\n\t\t\t\t\n\t\t\t\tconst config = getEmailSidebarConfig(normalizedCounts, foldersResult.folders);\n\t\t\t\t\n\t\t\t\t// Add delete handlers to folder items\n\t\t\t\tif (config.additionalSections?.[0]?.items) {\n\t\t\t\t\tconfig.additionalSections[0].items = config.additionalSections[0].items.map((item) => ({\n\t\t\t\t\t\t...item,\n\t\t\t\t\t\tonDelete: async (folderId: string) => {\n\t\t\t\t\t\t\tconst result = await deleteEmailFolderAction({ id: folderId });\n\t\t\t\t\t\t\tif (result.success) {\n\t\t\t\t\t\t\t\ttoast.success(\"Folder deleted\");\n\t\t\t\t\t\t\t\t// Refresh folder list\n\t\t\t\t\t\t\t\tfetchData();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttoast.error(\"Failed to delete folder\", {\n\t\t\t\t\t\t\t\t\tdescription: result.error || \"Unknown error\"\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tsetConfig(config);\n\t\t\t} else {\n\t\t\t\tconsole.error(\" Failed to fetch email folder counts:\", countsResult.error);\n\t\t\t\t// Set config with zero counts on error\n\t\t\t\tsetConfig(getEmailSidebarConfig({\n\t\t\t\t\tinbox: 0,\n\t\t\t\t\tdrafts: 0,\n\t\t\t\t\tsent: 0,\n\t\t\t\t\tarchive: 0,\n\t\t\t\t\tsnoozed: 0,\n\t\t\t\t\tspam: 0,\n\t\t\t\t\ttrash: 0,\n\t\t\t\t}, foldersResult.folders));\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Failed to fetch email folder data:\", error);\n\t\t}\n\t}, []);\n\n\t// Fetch folder data on mount and periodically\n\tuseEffect(() => {\n\t\tfetchData();\n\t\tconst interval = setInterval(fetchData, 30000); // Refresh every 30 seconds\n\n\t\t// Listen for folder creation events\n\t\tconst handleFolderCreated = () => {\n\t\t\tfetchData();\n\t\t};\n\t\twindow.addEventListener(\"folder-created\", handleFolderCreated);\n\n\t\t// Listen for email read/unread events to refresh counts (debounced)\n\t\tconst handleEmailRead = () => {\n\t\t\t// Debounce to avoid too many refreshes\n\t\t\tsetTimeout(() => fetchData(), 1000);\n\t\t};\n\t\twindow.addEventListener(\"email-read\", handleEmailRead);\n\t\twindow.addEventListener(\"email-unread\", handleEmailRead);\n\n\t\t// Listen for email action events to refresh counts IMMEDIATELY (no debounce)\n\t\tconst handleEmailAction = () => {\n\t\t\tfetchData();\n\t\t};\n\t\twindow.addEventListener(\"email-archived\", handleEmailAction);\n\t\twindow.addEventListener(\"email-starred-toggled\", handleEmailAction);\n\t\twindow.addEventListener(\"email-spam-toggled\", handleEmailAction);\n\t\twindow.addEventListener(\"email-snoozed\", handleEmailAction);\n\n\t\treturn () => {\n\t\t\tclearInterval(interval);\n\t\t\twindow.removeEventListener(\"folder-created\", handleFolderCreated);\n\t\t\twindow.removeEventListener(\"email-read\", handleEmailRead);\n\t\t\twindow.removeEventListener(\"email-unread\", handleEmailRead);\n\t\t\twindow.removeEventListener(\"email-archived\", handleEmailAction);\n\t\t\twindow.removeEventListener(\"email-starred-toggled\", handleEmailAction);\n\t\t\twindow.removeEventListener(\"email-spam-toggled\", handleEmailAction);\n\t\t\twindow.removeEventListener(\"email-snoozed\", handleEmailAction);\n\t\t};\n\t}, [fetchData]);\n\n\tconst [showRecipientSelector, setShowRecipientSelector] = useState(false);\n\n\t// Listen for open recipient selector event\n\tuseEffect(() => {\n\t\tconst handleOpenSelector = (event: CustomEvent) => {\n\t\t\tif (event.detail?.type === \"email\") {\n\t\t\t\tsetShowRecipientSelector(true);\n\t\t\t}\n\t\t};\n\n\t\twindow.addEventListener(\"open-recipient-selector\", handleOpenSelector as EventListener);\n\t\treturn () => {\n\t\t\twindow.removeEventListener(\"open-recipient-selector\", handleOpenSelector as EventListener);\n\t\t};\n\t}, []);\n\n\treturn (\n\t\t<>\n\t\t\t<CommunicationSidebar config={config} {...props} />\n\t\t\t<RecipientSelector\n\t\t\t\topen={showRecipientSelector}\n\t\t\t\tonOpenChange={setShowRecipientSelector}\n\t\t\t\trecipientType=\"email\"\n\t\t\t/>\n\t\t</>\n\t);\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2170, "column": 0}, "map": {"version":3,"sources":["file:///Users/byronwade/Stratos/apps/web/src/components/communication/text-sidebar.tsx"],"sourcesContent":["\"use client\";\n\nimport { CommunicationSidebar } from \"@/components/communication/communication-sidebar\";\nimport { getSmsFolderCountsAction } from \"@/actions/sms-actions\";\nimport { getSmsSidebarConfig } from \"@/lib/communication/text-sidebar-config\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport type { ComponentProps } from \"react\";\nimport type { Sidebar } from \"@/components/ui/sidebar\";\nimport { RecipientSelector } from \"@/components/communication/recipient-selector\";\n\n/**\n * TextSidebar - Text/SMS communication sidebar\n *\n * Fetches SMS folder counts and uses the shared CommunicationSidebar component.\n */\nexport function TextSidebar(props: ComponentProps<typeof Sidebar>) {\n\tconst [config, setConfig] = useState(() => getSmsSidebarConfig({}));\n\n\t// Fetch folder counts and update config\n\tconst fetchData = useCallback(async () => {\n\t\ttry {\n\t\t\tconst countsResult = await getSmsFolderCountsAction();\n\t\t\t\n\t\t\tif (countsResult.success && countsResult.counts) {\n\t\t\t\tsetConfig(getSmsSidebarConfig(countsResult.counts));\n\t\t\t} else {\n\t\t\t\tconsole.error(\" Failed to fetch SMS folder counts:\", countsResult.error);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Failed to fetch SMS folder data:\", error);\n\t\t}\n\t}, []);\n\n\tuseEffect(() => {\n\t\tfetchData();\n\t\t// Refresh counts every 30 seconds\n\t\tconst interval = setInterval(fetchData, 30000);\n\t\t\n\t\t// Listen for SMS read events to refresh counts\n\t\tconst handleSmsRead = () => {\n\t\t\tfetchData();\n\t\t};\n\t\twindow.addEventListener(\"sms-read\", handleSmsRead);\n\t\t\n\t\treturn () => {\n\t\t\tclearInterval(interval);\n\t\t\twindow.removeEventListener(\"sms-read\", handleSmsRead);\n\t\t};\n\t}, [fetchData]);\n\n\tconst [showRecipientSelector, setShowRecipientSelector] = useState(false);\n\n\t// Listen for open recipient selector event\n\tuseEffect(() => {\n\t\tconst handleOpenSelector = (event: CustomEvent) => {\n\t\t\tif (event.detail?.type === \"sms\") {\n\t\t\t\tsetShowRecipientSelector(true);\n\t\t\t}\n\t\t};\n\n\t\twindow.addEventListener(\"open-recipient-selector\", handleOpenSelector as EventListener);\n\t\treturn () => {\n\t\t\twindow.removeEventListener(\"open-recipient-selector\", handleOpenSelector as EventListener);\n\t\t};\n\t}, []);\n\n\treturn (\n\t\t<>\n\t\t\t<CommunicationSidebar config={config} {...props} />\n\t\t\t<RecipientSelector\n\t\t\t\topen={showRecipientSelector}\n\t\t\t\tonOpenChange={setShowRecipientSelector}\n\t\t\t\trecipientType=\"sms\"\n\t\t\t/>\n\t\t</>\n\t);\n}\n\n\n\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AAGA;;;AARA;;;;;;AAeO,SAAS,YAAY,KAAqC;;IAChE,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,gVAAQ;gCAAC,IAAM,IAAA,kMAAmB,EAAC,CAAC;;IAEhE,wCAAwC;IACxC,MAAM,YAAY,IAAA,mVAAW;8CAAC;YAC7B,IAAI;gBACH,MAAM,eAAe,MAAM,IAAA,oMAAwB;gBAEnD,IAAI,aAAa,OAAO,IAAI,aAAa,MAAM,EAAE;oBAChD,UAAU,IAAA,kMAAmB,EAAC,aAAa,MAAM;gBAClD,OAAO;oBACN,QAAQ,KAAK,CAAC,wCAAwC,aAAa,KAAK;gBACzE;YACD,EAAE,OAAO,OAAO;gBACf,QAAQ,KAAK,CAAC,oCAAoC;YACnD;QACD;6CAAG,EAAE;IAEL,IAAA,iVAAS;iCAAC;YACT;YACA,kCAAkC;YAClC,MAAM,WAAW,YAAY,WAAW;YAExC,+CAA+C;YAC/C,MAAM;uDAAgB;oBACrB;gBACD;;YACA,OAAO,gBAAgB,CAAC,YAAY;YAEpC;yCAAO;oBACN,cAAc;oBACd,OAAO,mBAAmB,CAAC,YAAY;gBACxC;;QACD;gCAAG;QAAC;KAAU;IAEd,MAAM,CAAC,uBAAuB,yBAAyB,GAAG,IAAA,gVAAQ,EAAC;IAEnE,2CAA2C;IAC3C,IAAA,iVAAS;iCAAC;YACT,MAAM;4DAAqB,CAAC;oBAC3B,IAAI,MAAM,MAAM,EAAE,SAAS,OAAO;wBACjC,yBAAyB;oBAC1B;gBACD;;YAEA,OAAO,gBAAgB,CAAC,2BAA2B;YACnD;yCAAO;oBACN,OAAO,mBAAmB,CAAC,2BAA2B;gBACvD;;QACD;gCAAG,EAAE;IAEL,qBACC;;0BACC,oWAAC,yMAAoB;gBAAC,QAAQ;gBAAS,GAAG,KAAK;;;;;;0BAC/C,oWAAC,mMAAiB;gBACjB,MAAM;gBACN,cAAc;gBACd,eAAc;;;;;;;;AAIlB;GA7DgB;KAAA"}},
    {"offset": {"line": 2282, "column": 0}, "map": {"version":3,"sources":["file:///Users/byronwade/Stratos/apps/web/src/components/communication/teams-sidebar.tsx"],"sourcesContent":["\"use client\";\n\nimport { CommunicationSidebar } from \"@/components/communication/communication-sidebar\";\nimport { teamsSidebarConfig } from \"@/lib/communication/teams-sidebar-config\";\nimport type { ComponentProps } from \"react\";\nimport type { Sidebar } from \"@/components/ui/sidebar\";\n\n/**\n * TeamsSidebar - Teams communication sidebar\n *\n * Uses the shared CommunicationSidebar component with teams-specific configuration.\n */\nexport function TeamsSidebar(props: ComponentProps<typeof Sidebar>) {\n\treturn <CommunicationSidebar config={teamsSidebarConfig} {...props} />;\n}\n\n\n\n\n\n\n\n\n\n\n\n\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAYO,SAAS,aAAa,KAAqC;IACjE,qBAAO,oWAAC,yMAAoB;QAAC,QAAQ,kMAAkB;QAAG,GAAG,KAAK;;;;;;AACnE;KAFgB"}}]
}