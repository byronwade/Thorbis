(globalThis.TURBOPACK || (globalThis.TURBOPACK = [])).push([typeof document === "object" ? document.currentScript : undefined,
"[project]/apps/web/src/lib/stores/dialer-store.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "useDialerStore",
    ()=>useDialerStore
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zustand$40$5$2e$0$2e$8_$40$types$2b$react$40$19$2e$2$2e$2_immer$40$10$2e$2$2e$0_react$40$19$2e$2$2e$0_use$2d$sync$2d$external$2d$store$40$1$2e$6$2e$0_react$40$19$2e$2$2e$0_$2f$node_modules$2f$zustand$2f$esm$2f$react$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/zustand@5.0.8_@types+react@19.2.2_immer@10.2.0_react@19.2.0_use-sync-external-store@1.6.0_react@19.2.0_/node_modules/zustand/esm/react.mjs [app-client] (ecmascript)");
;
const initialState = {
    isOpen: false,
    phoneNumber: "",
    customerId: null,
    customerName: null
};
const useDialerStore = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zustand$40$5$2e$0$2e$8_$40$types$2b$react$40$19$2e$2$2e$2_immer$40$10$2e$2$2e$0_react$40$19$2e$2$2e$0_use$2d$sync$2d$external$2d$store$40$1$2e$6$2e$0_react$40$19$2e$2$2e$0_$2f$node_modules$2f$zustand$2f$esm$2f$react$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["create"])((set)=>({
        ...initialState,
        openDialer: (phoneNumber = "", customerId = null, customerName = null)=>set({
                isOpen: true,
                phoneNumber,
                customerId,
                customerName
            }),
        closeDialer: ()=>set({
                isOpen: false
            }),
        setPhoneNumber: (phoneNumber)=>set({
                phoneNumber
            }),
        reset: ()=>set(initialState)
    }));
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/hooks/use-dialer-shortcut.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "useDialerShortcut",
    ()=>useDialerShortcut
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$dialer$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/src/lib/stores/dialer-store.ts [app-client] (ecmascript)");
var _s = __turbopack_context__.k.signature();
"use client";
;
;
function useDialerShortcut() {
    _s();
    const openDialer = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$dialer$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useDialerStore"])({
        "useDialerShortcut.useDialerStore[openDialer]": (state)=>state.openDialer
    }["useDialerShortcut.useDialerStore[openDialer]"]);
    const closeDialer = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$dialer$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useDialerStore"])({
        "useDialerShortcut.useDialerStore[closeDialer]": (state)=>state.closeDialer
    }["useDialerShortcut.useDialerStore[closeDialer]"]);
    const isOpen = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$dialer$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useDialerStore"])({
        "useDialerShortcut.useDialerStore[isOpen]": (state)=>state.isOpen
    }["useDialerShortcut.useDialerStore[isOpen]"]);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "useDialerShortcut.useEffect": ()=>{
            const handleKeyDown = {
                "useDialerShortcut.useEffect.handleKeyDown": (event)=>{
                    // Check for Ctrl+Shift+D (Windows/Linux) or Cmd+Shift+D (Mac)
                    if ((event.ctrlKey || event.metaKey) && event.shiftKey && event.key === "D") {
                        event.preventDefault();
                        // Toggle dialer
                        if (isOpen) {
                            closeDialer();
                        } else {
                            openDialer();
                        }
                    }
                }
            }["useDialerShortcut.useEffect.handleKeyDown"];
            window.addEventListener("keydown", handleKeyDown);
            return ({
                "useDialerShortcut.useEffect": ()=>{
                    window.removeEventListener("keydown", handleKeyDown);
                }
            })["useDialerShortcut.useEffect"];
        }
    }["useDialerShortcut.useEffect"], [
        openDialer,
        closeDialer,
        isOpen
    ]);
}
_s(useDialerShortcut, "1GYOy4Rd8V8oZU/tvNROm7drf0o=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$dialer$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useDialerStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$dialer$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useDialerStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$dialer$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useDialerStore"]
    ];
});
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/components/layout/help-dropdown.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "HelpDropdown",
    ()=>HelpDropdown
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$book$2d$open$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__BookOpen$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/book-open.js [app-client] (ecmascript) <export default as BookOpen>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$external$2d$link$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__ExternalLink$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/external-link.js [app-client] (ecmascript) <export default as ExternalLink>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$circle$2d$question$2d$mark$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__HelpCircle$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/circle-question-mark.js [app-client] (ecmascript) <export default as HelpCircle>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$life$2d$buoy$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__LifeBuoy$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/life-buoy.js [app-client] (ecmascript) <export default as LifeBuoy>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$message$2d$circle$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__MessageCircle$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/message-circle.js [app-client] (ecmascript) <export default as MessageCircle>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$video$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Video$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/video.js [app-client] (ecmascript) <export default as Video>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$client$2f$app$2d$dir$2f$link$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/client/app-dir/link.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
"use client";
;
;
;
const helpItems = [
    {
        label: "Documentation",
        description: "Guides and tutorials for all features",
        href: "/docs",
        icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$book$2d$open$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__BookOpen$3e$__["BookOpen"]
    },
    {
        label: "Video Tutorials",
        description: "Step-by-step video guides",
        href: "/docs/videos",
        icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$video$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Video$3e$__["Video"]
    },
    {
        label: "Support Center",
        description: "Get help from our support team",
        href: "/support",
        icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$life$2d$buoy$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__LifeBuoy$3e$__["LifeBuoy"]
    },
    {
        label: "Contact Support",
        description: "Chat with our support team",
        href: "/support/contact",
        icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$message$2d$circle$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__MessageCircle$3e$__["MessageCircle"]
    },
    {
        label: "What's New",
        description: "Latest features and updates",
        href: "/changelog",
        icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$circle$2d$question$2d$mark$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__HelpCircle$3e$__["HelpCircle"]
    }
];
function HelpDropdown() {
    _s();
    const [isOpen, setIsOpen] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const dropdownRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRef"])(null);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "HelpDropdown.useEffect": ()=>{
            const handleClickOutside = {
                "HelpDropdown.useEffect.handleClickOutside": (event)=>{
                    if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {
                        setIsOpen(false);
                    }
                }
            }["HelpDropdown.useEffect.handleClickOutside"];
            if (isOpen) {
                document.addEventListener("mousedown", handleClickOutside);
            }
            return ({
                "HelpDropdown.useEffect": ()=>{
                    document.removeEventListener("mousedown", handleClickOutside);
                }
            })["HelpDropdown.useEffect"];
        }
    }["HelpDropdown.useEffect"], [
        isOpen
    ]);
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "relative",
        ref: dropdownRef,
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                className: "hover-gradient hover:border-primary/20 hover:bg-primary/10 hover:text-primary focus-visible:ring-ring/50 flex h-8 w-8 items-center justify-center rounded-md border border-transparent transition-all outline-none focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50",
                onClick: ()=>setIsOpen(!isOpen),
                title: "Help",
                type: "button",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$circle$2d$question$2d$mark$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__HelpCircle$3e$__["HelpCircle"], {
                        className: "size-4"
                    }, void 0, false, {
                        fileName: "[project]/apps/web/src/components/layout/help-dropdown.tsx",
                        lineNumber: 86,
                        columnNumber: 5
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                        className: "sr-only",
                        children: "Help"
                    }, void 0, false, {
                        fileName: "[project]/apps/web/src/components/layout/help-dropdown.tsx",
                        lineNumber: 87,
                        columnNumber: 5
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/apps/web/src/components/layout/help-dropdown.tsx",
                lineNumber: 80,
                columnNumber: 4
            }, this),
            isOpen && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "bg-popover text-popover-foreground absolute top-full right-0 z-50 mt-2 w-80 rounded-lg border p-2 shadow-lg",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "mb-2 border-b px-3 py-2",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("h3", {
                                className: "text-sm font-semibold",
                                children: "Help & Support"
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/layout/help-dropdown.tsx",
                                lineNumber: 93,
                                columnNumber: 7
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                className: "text-muted-foreground text-xs",
                                children: "Find answers and get assistance"
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/layout/help-dropdown.tsx",
                                lineNumber: 94,
                                columnNumber: 7
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/src/components/layout/help-dropdown.tsx",
                        lineNumber: 92,
                        columnNumber: 6
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "space-y-1",
                        children: helpItems.map((item)=>{
                            const Icon = item.icon;
                            return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$client$2f$app$2d$dir$2f$link$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                                className: "hover:bg-accent flex items-start gap-3 rounded-md px-3 py-2.5 transition-colors",
                                href: item.href,
                                onClick: ()=>setIsOpen(false),
                                rel: item.external ? "noopener noreferrer" : undefined,
                                target: item.external ? "_blank" : undefined,
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(Icon, {
                                        className: "text-muted-foreground mt-0.5 size-4 shrink-0"
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/layout/help-dropdown.tsx",
                                        lineNumber: 110,
                                        columnNumber: 10
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "flex-1",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: "flex items-center gap-2",
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                                        className: "text-sm font-medium",
                                                        children: item.label
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/src/components/layout/help-dropdown.tsx",
                                                        lineNumber: 113,
                                                        columnNumber: 12
                                                    }, this),
                                                    item.external && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$external$2d$link$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__ExternalLink$3e$__["ExternalLink"], {
                                                        className: "text-muted-foreground size-3"
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/src/components/layout/help-dropdown.tsx",
                                                        lineNumber: 115,
                                                        columnNumber: 13
                                                    }, this)
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/apps/web/src/components/layout/help-dropdown.tsx",
                                                lineNumber: 112,
                                                columnNumber: 11
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                                className: "text-muted-foreground text-xs",
                                                children: item.description
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/layout/help-dropdown.tsx",
                                                lineNumber: 118,
                                                columnNumber: 11
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/src/components/layout/help-dropdown.tsx",
                                        lineNumber: 111,
                                        columnNumber: 10
                                    }, this)
                                ]
                            }, item.label, true, {
                                fileName: "[project]/apps/web/src/components/layout/help-dropdown.tsx",
                                lineNumber: 102,
                                columnNumber: 9
                            }, this);
                        })
                    }, void 0, false, {
                        fileName: "[project]/apps/web/src/components/layout/help-dropdown.tsx",
                        lineNumber: 98,
                        columnNumber: 6
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "mt-2 border-t pt-2",
                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "bg-accent/50 rounded-md px-3 py-2",
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                    className: "text-xs font-medium",
                                    children: "Need more help?"
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/src/components/layout/help-dropdown.tsx",
                                    lineNumber: 128,
                                    columnNumber: 8
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                    className: "text-muted-foreground text-xs",
                                    children: [
                                        "Email us at",
                                        " ",
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("a", {
                                            className: "text-primary hover:underline",
                                            href: "mailto:support@thorbis.com",
                                            children: "support@thorbis.com"
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/src/components/layout/help-dropdown.tsx",
                                            lineNumber: 131,
                                            columnNumber: 9
                                        }, this)
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/apps/web/src/components/layout/help-dropdown.tsx",
                                    lineNumber: 129,
                                    columnNumber: 8
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/apps/web/src/components/layout/help-dropdown.tsx",
                            lineNumber: 127,
                            columnNumber: 7
                        }, this)
                    }, void 0, false, {
                        fileName: "[project]/apps/web/src/components/layout/help-dropdown.tsx",
                        lineNumber: 126,
                        columnNumber: 6
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/apps/web/src/components/layout/help-dropdown.tsx",
                lineNumber: 91,
                columnNumber: 5
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/apps/web/src/components/layout/help-dropdown.tsx",
        lineNumber: 79,
        columnNumber: 3
    }, this);
}
_s(HelpDropdown, "uhOyve9TWk+bvhPJTPlaMsUEQAY=");
_c = HelpDropdown;
var _c;
__turbopack_context__.k.register(_c, "HelpDropdown");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:ed6a5a [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"409fd913f4a9df89acb91012593a14f1e8b4179ca8":"deleteNotification"},"apps/web/src/actions/notifications.ts",""] */ __turbopack_context__.s([
    "deleteNotification",
    ()=>deleteNotification
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var deleteNotification = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("409fd913f4a9df89acb91012593a14f1e8b4179ca8", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "deleteNotification"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vbm90aWZpY2F0aW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzZXJ2ZXJcIjtcblxuLyoqXG4gKiBOb3RpZmljYXRpb25zIFNlcnZlciBBY3Rpb25zXG4gKlxuICogU2VydmVyLXNpZGUgb3BlcmF0aW9ucyBmb3IgdGhlIG5vdGlmaWNhdGlvbnMgc3lzdGVtIGluY2x1ZGluZzpcbiAqIC0gRmV0Y2hpbmcgbm90aWZpY2F0aW9ucyB3aXRoIGZpbHRlcmluZyBhbmQgcGFnaW5hdGlvblxuICogLSBDcmVhdGluZyBuZXcgbm90aWZpY2F0aW9uc1xuICogLSBNYXJraW5nIG5vdGlmaWNhdGlvbnMgYXMgcmVhZC91bnJlYWRcbiAqIC0gRGVsZXRpbmcgbm90aWZpY2F0aW9uc1xuICogLSBNYW5hZ2luZyBub3RpZmljYXRpb24gcHJlZmVyZW5jZXNcbiAqXG4gKiBQZXJmb3JtYW5jZSBvcHRpbWl6YXRpb25zOlxuICogLSBTZXJ2ZXItc2lkZSBkYXRhIGZldGNoaW5nIGFuZCB2YWxpZGF0aW9uXG4gKiAtIEVmZmljaWVudCBkYXRhYmFzZSBxdWVyaWVzIHdpdGggcHJvcGVyIGluZGV4ZXNcbiAqIC0gUkxTIHBvbGljaWVzIGZvciBzZWN1cml0eVxuICogLSBab2QgdmFsaWRhdGlvbiBmb3IgYWxsIGlucHV0c1xuICovXG5cbmltcG9ydCB7IHJldmFsaWRhdGVQYXRoIH0gZnJvbSBcIm5leHQvY2FjaGVcIjtcbmltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG5pbXBvcnQge1xuXHR0eXBlIENyZWF0ZU5vdGlmaWNhdGlvbklucHV0LFxuXHRDcmVhdGVOb3RpZmljYXRpb25TY2hlbWEsXG5cdHR5cGUgR2V0Tm90aWZpY2F0aW9uc0lucHV0LFxuXHRHZXROb3RpZmljYXRpb25zU2NoZW1hLFxuXHR0eXBlIE5vdGlmaWNhdGlvblByZWZlcmVuY2UsXG5cdE5vdGlmaWNhdGlvblByZWZlcmVuY2VTY2hlbWEsXG59IGZyb20gXCJAL2xpYi9ub3RpZmljYXRpb25zL3R5cGVzXCI7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tIFwiQC9saWIvc3VwYWJhc2Uvc2VydmVyXCI7XG5cbi8vIE5PVEU6IFR5cGUgcmUtZXhwb3J0cyByZW1vdmVkIHRvIGNvbXBseSB3aXRoIE5leHQuanMgMTYgXCJ1c2Ugc2VydmVyXCIgcmVzdHJpY3Rpb25zXG4vLyBJbXBvcnQgdHlwZXMgZGlyZWN0bHkgZnJvbSBAL2xpYi9ub3RpZmljYXRpb25zL3R5cGVzIGluc3RlYWRcblxuY29uc3QgVXBkYXRlTm90aWZpY2F0aW9uUHJlZmVyZW5jZXNTY2hlbWEgPSB6LmFycmF5KFxuXHROb3RpZmljYXRpb25QcmVmZXJlbmNlU2NoZW1hLFxuKTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gSGVscGVyIEZ1bmN0aW9uc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIEdldCBhdXRoZW50aWNhdGVkIHVzZXIgYW5kIGNvbXBhbnkgY29udGV4dFxuICovXG5hc3luYyBmdW5jdGlvbiBnZXRBdXRoQ29udGV4dCgpOiBQcm9taXNlPHtcblx0dXNlcklkOiBzdHJpbmc7XG5cdGNvbXBhbnlJZDogc3RyaW5nO1xuXHRzdXBhYmFzZTogTm9uTnVsbGFibGU8QXdhaXRlZDxSZXR1cm5UeXBlPHR5cGVvZiBjcmVhdGVDbGllbnQ+Pj47XG59PiB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIlN1cGFiYXNlIGNsaWVudCBub3QgY29uZmlndXJlZFwiKTtcblx0fVxuXG5cdGNvbnN0IHtcblx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHRlcnJvcjogYXV0aEVycm9yLFxuXHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0aWYgKGF1dGhFcnJvciB8fCAhdXNlcikge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIk5vdCBhdXRoZW50aWNhdGVkXCIpO1xuXHR9XG5cblx0Ly8gR2V0IHVzZXIncyBhY3RpdmUgY29tcGFueSBmcm9tIHRlYW1fbWVtYmVyc1xuXHRjb25zdCB7IGRhdGE6IHRlYW1NZW1iZXIsIGVycm9yOiB0ZWFtRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0LmZyb20oXCJjb21wYW55X21lbWJlcnNoaXBzXCIpXG5cdFx0LnNlbGVjdChcImNvbXBhbnlfaWRcIilcblx0XHQuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpXG5cdFx0LmVxKFwic3RhdHVzXCIsIFwiYWN0aXZlXCIpXG5cdFx0Lm1heWJlU2luZ2xlKCk7XG5cblx0aWYgKHRlYW1FcnJvcikge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBmZXRjaCB1c2VyIGNvbXBhbnlcIik7XG5cdH1cblxuXHRpZiAoIXRlYW1NZW1iZXIpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJObyBhY3RpdmUgY29tcGFueSBmb3VuZFwiKTtcblx0fVxuXG5cdHJldHVybiB7XG5cdFx0dXNlcklkOiB1c2VyLmlkLFxuXHRcdGNvbXBhbnlJZDogdGVhbU1lbWJlci5jb21wYW55X2lkLFxuXHRcdHN1cGFiYXNlLFxuXHR9O1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBOb3RpZmljYXRpb24gQ1JVRCBPcGVyYXRpb25zXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogR2V0IG5vdGlmaWNhdGlvbnMgZm9yIHRoZSBjdXJyZW50IHVzZXJcbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyAtIEZpbHRlcmluZyBhbmQgcGFnaW5hdGlvbiBvcHRpb25zXG4gKiBAcmV0dXJucyBBcnJheSBvZiBub3RpZmljYXRpb25zIGFuZCB0b3RhbCBjb3VudFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Tm90aWZpY2F0aW9ucyhcblx0b3B0aW9ucz86IFBhcnRpYWw8R2V0Tm90aWZpY2F0aW9uc0lucHV0Pixcbikge1xuXHR0cnkge1xuXHRcdC8vIE5vdGlmaWNhdGlvbnMgYXJlIHVzZXItc3BlY2lmaWMsIG5vdCBjb21wYW55LXNwZWNpZmljXG5cdFx0Ly8gU28gd2UgZG9uJ3QgbmVlZCB0aGUgZnVsbCBhdXRoIGNvbnRleHQgd2l0aCBjb21wYW55XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIlN1cGFiYXNlIGNsaWVudCBub3QgY29uZmlndXJlZFwiKTtcblx0XHR9XG5cblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHRcdGVycm9yOiBhdXRoRXJyb3IsXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKGF1dGhFcnJvciB8fCAhdXNlcikge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiTm90IGF1dGhlbnRpY2F0ZWRcIik7XG5cdFx0fVxuXG5cdFx0Y29uc3QgdXNlcklkID0gdXNlci5pZDtcblxuXHRcdC8vIFZhbGlkYXRlIGlucHV0XG5cdFx0Y29uc3QgdmFsaWRhdGVkT3B0aW9ucyA9IEdldE5vdGlmaWNhdGlvbnNTY2hlbWEucGFyc2Uob3B0aW9ucyB8fCB7fSk7XG5cblx0XHQvLyBCdWlsZCBxdWVyeVxuXHRcdGxldCBxdWVyeSA9IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcIm5vdGlmaWNhdGlvbnNcIilcblx0XHRcdC5zZWxlY3QoXCIqXCIsIHsgY291bnQ6IFwiZXhhY3RcIiB9KVxuXHRcdFx0LmVxKFwidXNlcl9pZFwiLCB1c2VySWQpXG5cdFx0XHQub3JkZXIoXCJjcmVhdGVkX2F0XCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcblxuXHRcdC8vIEFwcGx5IGZpbHRlcnNcblx0XHRpZiAodmFsaWRhdGVkT3B0aW9ucy51bnJlYWRPbmx5KSB7XG5cdFx0XHRxdWVyeSA9IHF1ZXJ5LmVxKFwicmVhZFwiLCBmYWxzZSk7XG5cdFx0fVxuXG5cdFx0aWYgKHZhbGlkYXRlZE9wdGlvbnMudHlwZSkge1xuXHRcdFx0cXVlcnkgPSBxdWVyeS5lcShcInR5cGVcIiwgdmFsaWRhdGVkT3B0aW9ucy50eXBlKTtcblx0XHR9XG5cblx0XHRpZiAodmFsaWRhdGVkT3B0aW9ucy5wcmlvcml0eSkge1xuXHRcdFx0cXVlcnkgPSBxdWVyeS5lcShcInByaW9yaXR5XCIsIHZhbGlkYXRlZE9wdGlvbnMucHJpb3JpdHkpO1xuXHRcdH1cblxuXHRcdC8vIEFwcGx5IHBhZ2luYXRpb25cblx0XHRxdWVyeSA9IHF1ZXJ5LnJhbmdlKFxuXHRcdFx0dmFsaWRhdGVkT3B0aW9ucy5vZmZzZXQsXG5cdFx0XHR2YWxpZGF0ZWRPcHRpb25zLm9mZnNldCArIHZhbGlkYXRlZE9wdGlvbnMubGltaXQgLSAxLFxuXHRcdCk7XG5cblx0XHRjb25zdCB7IGRhdGEsIGVycm9yLCBjb3VudCB9ID0gYXdhaXQgcXVlcnk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogXCJGYWlsZWQgdG8gZmV0Y2ggbm90aWZpY2F0aW9uc1wiLFxuXHRcdFx0XHRkYXRhOiBbXSxcblx0XHRcdFx0Y291bnQ6IDAsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0ZGF0YTogZGF0YSB8fCBbXSxcblx0XHRcdGNvdW50OiBjb3VudCB8fCAwLFxuXHRcdH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0aWYgKGVycm9yIGluc3RhbmNlb2Ygei5ab2RFcnJvcikge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOiBlcnJvci5pc3N1ZXNbMF0/Lm1lc3NhZ2UgfHwgXCJWYWxpZGF0aW9uIGVycm9yXCIsXG5cdFx0XHRcdGRhdGE6IFtdLFxuXHRcdFx0XHRjb3VudDogMCxcblx0XHRcdH07XG5cdFx0fVxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiQW4gZXJyb3Igb2NjdXJyZWRcIixcblx0XHRcdGRhdGE6IFtdLFxuXHRcdFx0Y291bnQ6IDAsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIEdldCB1bnJlYWQgbm90aWZpY2F0aW9uIGNvdW50IGZvciB0aGUgY3VycmVudCB1c2VyXG4gKlxuICogQHJldHVybnMgTnVtYmVyIG9mIHVucmVhZCBub3RpZmljYXRpb25zXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldFVucmVhZENvdW50KCkge1xuXHR0cnkge1xuXHRcdGNvbnN0IHsgdXNlcklkLCBzdXBhYmFzZSB9ID0gYXdhaXQgZ2V0QXV0aENvbnRleHQoKTtcblxuXHRcdC8vIFVzZSB0aGUgZGF0YWJhc2UgZnVuY3Rpb24gZm9yIG9wdGltaXplZCBjb3VudGluZ1xuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnJwYyhcblx0XHRcdFwiZ2V0X3VucmVhZF9ub3RpZmljYXRpb25fY291bnRcIixcblx0XHRcdHtcblx0XHRcdFx0cF91c2VyX2lkOiB1c2VySWQsXG5cdFx0XHR9LFxuXHRcdCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogXCJGYWlsZWQgdG8gZmV0Y2ggdW5yZWFkIGNvdW50XCIsXG5cdFx0XHRcdGNvdW50OiAwLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBjb3VudDogZGF0YSB8fCAwIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJBbiBlcnJvciBvY2N1cnJlZFwiLFxuXHRcdFx0Y291bnQ6IDAsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBub3RpZmljYXRpb25cbiAqXG4gKiBAcGFyYW0gaW5wdXQgLSBOb3RpZmljYXRpb24gZGF0YVxuICogQHJldHVybnMgQ3JlYXRlZCBub3RpZmljYXRpb25cbiAqL1xuYXN5bmMgZnVuY3Rpb24gY3JlYXRlTm90aWZpY2F0aW9uKGlucHV0OiBDcmVhdGVOb3RpZmljYXRpb25JbnB1dCkge1xuXHR0cnkge1xuXHRcdGNvbnN0IHsgc3VwYWJhc2UgfSA9IGF3YWl0IGdldEF1dGhDb250ZXh0KCk7XG5cblx0XHQvLyBWYWxpZGF0ZSBpbnB1dFxuXHRcdGNvbnN0IHZhbGlkYXRlZERhdGEgPSBDcmVhdGVOb3RpZmljYXRpb25TY2hlbWEucGFyc2UoaW5wdXQpO1xuXG5cdFx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwibm90aWZpY2F0aW9uc1wiKVxuXHRcdFx0Lmluc2VydCh7XG5cdFx0XHRcdHVzZXJfaWQ6IHZhbGlkYXRlZERhdGEudXNlcklkLFxuXHRcdFx0XHRjb21wYW55X2lkOiB2YWxpZGF0ZWREYXRhLmNvbXBhbnlJZCxcblx0XHRcdFx0dHlwZTogdmFsaWRhdGVkRGF0YS50eXBlLFxuXHRcdFx0XHRwcmlvcml0eTogdmFsaWRhdGVkRGF0YS5wcmlvcml0eSxcblx0XHRcdFx0dGl0bGU6IHZhbGlkYXRlZERhdGEudGl0bGUsXG5cdFx0XHRcdG1lc3NhZ2U6IHZhbGlkYXRlZERhdGEubWVzc2FnZSxcblx0XHRcdFx0YWN0aW9uX3VybDogdmFsaWRhdGVkRGF0YS5hY3Rpb25VcmwsXG5cdFx0XHRcdGFjdGlvbl9sYWJlbDogdmFsaWRhdGVkRGF0YS5hY3Rpb25MYWJlbCxcblx0XHRcdFx0bWV0YWRhdGE6IHZhbGlkYXRlZERhdGEubWV0YWRhdGEgfHwge30sXG5cdFx0XHR9KVxuXHRcdFx0LnNlbGVjdCgpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gY3JlYXRlIG5vdGlmaWNhdGlvblwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gUmV2YWxpZGF0ZSBwYXRocyB3aGVyZSBub3RpZmljYXRpb25zIGFwcGVhclxuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZFwiKTtcblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvbm90aWZpY2F0aW9uc1wiKTtcblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGEgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRpZiAoZXJyb3IgaW5zdGFuY2VvZiB6LlpvZEVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGVycm9yLmlzc3Vlc1swXT8ubWVzc2FnZSB8fCBcIlZhbGlkYXRpb24gZXJyb3JcIixcblx0XHRcdH07XG5cdFx0fVxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiQW4gZXJyb3Igb2NjdXJyZWRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogTWFyayBhIG5vdGlmaWNhdGlvbiBhcyByZWFkXG4gKlxuICogQHBhcmFtIG5vdGlmaWNhdGlvbklkIC0gSUQgb2YgdGhlIG5vdGlmaWNhdGlvbiB0byBtYXJrIGFzIHJlYWRcbiAqIEByZXR1cm5zIFN1Y2Nlc3Mgc3RhdHVzXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBtYXJrQXNSZWFkKG5vdGlmaWNhdGlvbklkOiBzdHJpbmcpIHtcblx0dHJ5IHtcblx0XHRjb25zdCB7IHVzZXJJZCwgc3VwYWJhc2UgfSA9IGF3YWl0IGdldEF1dGhDb250ZXh0KCk7XG5cblx0XHQvLyBWYWxpZGF0ZSBVVUlEXG5cdFx0Y29uc3QgaWRTY2hlbWEgPSB6LnN0cmluZygpLnV1aWQoXCJJbnZhbGlkIG5vdGlmaWNhdGlvbiBJRFwiKTtcblx0XHRjb25zdCB2YWxpZGF0ZWRJZCA9IGlkU2NoZW1hLnBhcnNlKG5vdGlmaWNhdGlvbklkKTtcblxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcIm5vdGlmaWNhdGlvbnNcIilcblx0XHRcdC51cGRhdGUoeyByZWFkOiB0cnVlIH0pXG5cdFx0XHQuZXEoXCJpZFwiLCB2YWxpZGF0ZWRJZClcblx0XHRcdC5lcShcInVzZXJfaWRcIiwgdXNlcklkKTsgLy8gRW5zdXJlIHVzZXIgb3ducyB0aGUgbm90aWZpY2F0aW9uXG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gbWFyayBub3RpZmljYXRpb24gYXMgcmVhZFwiIH07XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkXCIpO1xuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9ub3RpZmljYXRpb25zXCIpO1xuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGlmIChlcnJvciBpbnN0YW5jZW9mIHouWm9kRXJyb3IpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogZXJyb3IuaXNzdWVzWzBdPy5tZXNzYWdlIHx8IFwiVmFsaWRhdGlvbiBlcnJvclwiLFxuXHRcdFx0fTtcblx0XHR9XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJBbiBlcnJvciBvY2N1cnJlZFwiLFxuXHRcdH07XG5cdH1cbn1cblxuLyoqXG4gKiBNYXJrIGFsbCBub3RpZmljYXRpb25zIGFzIHJlYWQgZm9yIHRoZSBjdXJyZW50IHVzZXJcbiAqXG4gKiBAcmV0dXJucyBOdW1iZXIgb2Ygbm90aWZpY2F0aW9ucyBtYXJrZWQgYXMgcmVhZFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbWFya0FsbEFzUmVhZCgpIHtcblx0dHJ5IHtcblx0XHRjb25zdCB7IHVzZXJJZCwgc3VwYWJhc2UgfSA9IGF3YWl0IGdldEF1dGhDb250ZXh0KCk7XG5cblx0XHQvLyBVc2UgdGhlIGRhdGFiYXNlIGZ1bmN0aW9uIGZvciBidWxrIG9wZXJhdGlvblxuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnJwYyhcIm1hcmtfYWxsX25vdGlmaWNhdGlvbnNfcmVhZFwiLCB7XG5cdFx0XHRwX3VzZXJfaWQ6IHVzZXJJZCxcblx0XHR9KTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOiBcIkZhaWxlZCB0byBtYXJrIGFsbCBub3RpZmljYXRpb25zIGFzIHJlYWRcIixcblx0XHRcdFx0Y291bnQ6IDAsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZFwiKTtcblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvbm90aWZpY2F0aW9uc1wiKTtcblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGNvdW50OiBkYXRhIHx8IDAgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkFuIGVycm9yIG9jY3VycmVkXCIsXG5cdFx0XHRjb3VudDogMCxcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogTWFyayBhIG5vdGlmaWNhdGlvbiBhcyB1bnJlYWRcbiAqXG4gKiBAcGFyYW0gbm90aWZpY2F0aW9uSWQgLSBJRCBvZiB0aGUgbm90aWZpY2F0aW9uIHRvIG1hcmsgYXMgdW5yZWFkXG4gKiBAcmV0dXJucyBTdWNjZXNzIHN0YXR1c1xuICovXG5hc3luYyBmdW5jdGlvbiBtYXJrQXNVbnJlYWQobm90aWZpY2F0aW9uSWQ6IHN0cmluZykge1xuXHR0cnkge1xuXHRcdGNvbnN0IHsgdXNlcklkLCBzdXBhYmFzZSB9ID0gYXdhaXQgZ2V0QXV0aENvbnRleHQoKTtcblxuXHRcdC8vIFZhbGlkYXRlIFVVSURcblx0XHRjb25zdCBpZFNjaGVtYSA9IHouc3RyaW5nKCkudXVpZChcIkludmFsaWQgbm90aWZpY2F0aW9uIElEXCIpO1xuXHRcdGNvbnN0IHZhbGlkYXRlZElkID0gaWRTY2hlbWEucGFyc2Uobm90aWZpY2F0aW9uSWQpO1xuXG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwibm90aWZpY2F0aW9uc1wiKVxuXHRcdFx0LnVwZGF0ZSh7IHJlYWQ6IGZhbHNlIH0pXG5cdFx0XHQuZXEoXCJpZFwiLCB2YWxpZGF0ZWRJZClcblx0XHRcdC5lcShcInVzZXJfaWRcIiwgdXNlcklkKTsgLy8gRW5zdXJlIHVzZXIgb3ducyB0aGUgbm90aWZpY2F0aW9uXG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gbWFyayBub3RpZmljYXRpb24gYXMgdW5yZWFkXCIgfTtcblx0XHR9XG5cblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmRcIik7XG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL25vdGlmaWNhdGlvbnNcIik7XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0aWYgKGVycm9yIGluc3RhbmNlb2Ygei5ab2RFcnJvcikge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOiBlcnJvci5pc3N1ZXNbMF0/Lm1lc3NhZ2UgfHwgXCJWYWxpZGF0aW9uIGVycm9yXCIsXG5cdFx0XHR9O1xuXHRcdH1cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkFuIGVycm9yIG9jY3VycmVkXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIERlbGV0ZSBhIG5vdGlmaWNhdGlvblxuICpcbiAqIEBwYXJhbSBub3RpZmljYXRpb25JZCAtIElEIG9mIHRoZSBub3RpZmljYXRpb24gdG8gZGVsZXRlXG4gKiBAcmV0dXJucyBTdWNjZXNzIHN0YXR1c1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbklkOiBzdHJpbmcpIHtcblx0dHJ5IHtcblx0XHRjb25zdCB7IHVzZXJJZCwgc3VwYWJhc2UgfSA9IGF3YWl0IGdldEF1dGhDb250ZXh0KCk7XG5cblx0XHQvLyBWYWxpZGF0ZSBVVUlEXG5cdFx0Y29uc3QgaWRTY2hlbWEgPSB6LnN0cmluZygpLnV1aWQoXCJJbnZhbGlkIG5vdGlmaWNhdGlvbiBJRFwiKTtcblx0XHRjb25zdCB2YWxpZGF0ZWRJZCA9IGlkU2NoZW1hLnBhcnNlKG5vdGlmaWNhdGlvbklkKTtcblxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcIm5vdGlmaWNhdGlvbnNcIilcblx0XHRcdC5kZWxldGUoKVxuXHRcdFx0LmVxKFwiaWRcIiwgdmFsaWRhdGVkSWQpXG5cdFx0XHQuZXEoXCJ1c2VyX2lkXCIsIHVzZXJJZCk7IC8vIEVuc3VyZSB1c2VyIG93bnMgdGhlIG5vdGlmaWNhdGlvblxuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRmFpbGVkIHRvIGRlbGV0ZSBub3RpZmljYXRpb25cIiB9O1xuXHRcdH1cblxuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZFwiKTtcblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvbm90aWZpY2F0aW9uc1wiKTtcblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRpZiAoZXJyb3IgaW5zdGFuY2VvZiB6LlpvZEVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGVycm9yLmlzc3Vlc1swXT8ubWVzc2FnZSB8fCBcIlZhbGlkYXRpb24gZXJyb3JcIixcblx0XHRcdH07XG5cdFx0fVxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiQW4gZXJyb3Igb2NjdXJyZWRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIE5vdGlmaWNhdGlvbiBQcmVmZXJlbmNlcyBPcGVyYXRpb25zXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogR2V0IG5vdGlmaWNhdGlvbiBwcmVmZXJlbmNlcyBmb3IgdGhlIGN1cnJlbnQgdXNlclxuICpcbiAqIEByZXR1cm5zIEFycmF5IG9mIG5vdGlmaWNhdGlvbiBwcmVmZXJlbmNlc1xuICovXG5hc3luYyBmdW5jdGlvbiBnZXROb3RpZmljYXRpb25QcmVmZXJlbmNlcygpIHtcblx0dHJ5IHtcblx0XHRjb25zdCB7IHVzZXJJZCwgY29tcGFueUlkLCBzdXBhYmFzZSB9ID0gYXdhaXQgZ2V0QXV0aENvbnRleHQoKTtcblxuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcIm5vdGlmaWNhdGlvbl9wcmVmZXJlbmNlc1wiKVxuXHRcdFx0LnNlbGVjdChcIipcIilcblx0XHRcdC5lcShcInVzZXJfaWRcIiwgdXNlcklkKVxuXHRcdFx0LmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IFwiRmFpbGVkIHRvIGZldGNoIG5vdGlmaWNhdGlvbiBwcmVmZXJlbmNlc1wiLFxuXHRcdFx0XHRkYXRhOiBbXSxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogZGF0YSB8fCBbXSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiQW4gZXJyb3Igb2NjdXJyZWRcIixcblx0XHRcdGRhdGE6IFtdLFxuXHRcdH07XG5cdH1cbn1cblxuLyoqXG4gKiBVcGRhdGUgbm90aWZpY2F0aW9uIHByZWZlcmVuY2VzIGZvciB0aGUgY3VycmVudCB1c2VyXG4gKlxuICogQHBhcmFtIHByZWZlcmVuY2VzIC0gQXJyYXkgb2Ygbm90aWZpY2F0aW9uIHByZWZlcmVuY2Ugc2V0dGluZ3NcbiAqIEByZXR1cm5zIFN1Y2Nlc3Mgc3RhdHVzXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZU5vdGlmaWNhdGlvblByZWZlcmVuY2VzKFxuXHRwcmVmZXJlbmNlczogTm90aWZpY2F0aW9uUHJlZmVyZW5jZVtdLFxuKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgeyB1c2VySWQsIGNvbXBhbnlJZCwgc3VwYWJhc2UgfSA9IGF3YWl0IGdldEF1dGhDb250ZXh0KCk7XG5cblx0XHQvLyBWYWxpZGF0ZSBpbnB1dFxuXHRcdGNvbnN0IHZhbGlkYXRlZFByZWZlcmVuY2VzID1cblx0XHRcdFVwZGF0ZU5vdGlmaWNhdGlvblByZWZlcmVuY2VzU2NoZW1hLnBhcnNlKHByZWZlcmVuY2VzKTtcblxuXHRcdC8vIERlbGV0ZSBleGlzdGluZyBwcmVmZXJlbmNlc1xuXHRcdGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcIm5vdGlmaWNhdGlvbl9wcmVmZXJlbmNlc1wiKVxuXHRcdFx0LmRlbGV0ZSgpXG5cdFx0XHQuZXEoXCJ1c2VyX2lkXCIsIHVzZXJJZClcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgY29tcGFueUlkKTtcblxuXHRcdC8vIEluc2VydCBuZXcgcHJlZmVyZW5jZXNcblx0XHRjb25zdCBwcmVmZXJlbmNlc1RvSW5zZXJ0ID0gdmFsaWRhdGVkUHJlZmVyZW5jZXMubWFwKChwcmVmKSA9PiAoe1xuXHRcdFx0dXNlcl9pZDogdXNlcklkLFxuXHRcdFx0Y29tcGFueV9pZDogY29tcGFueUlkLFxuXHRcdFx0Y2hhbm5lbDogcHJlZi5jaGFubmVsLFxuXHRcdFx0ZXZlbnRfdHlwZTogcHJlZi5ldmVudFR5cGUsXG5cdFx0XHRlbmFibGVkOiBwcmVmLmVuYWJsZWQsXG5cdFx0fSkpO1xuXG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwibm90aWZpY2F0aW9uX3ByZWZlcmVuY2VzXCIpXG5cdFx0XHQuaW5zZXJ0KHByZWZlcmVuY2VzVG9JbnNlcnQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IFwiRmFpbGVkIHRvIHVwZGF0ZSBub3RpZmljYXRpb24gcHJlZmVyZW5jZXNcIixcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL3NldHRpbmdzL3Byb2ZpbGUvbm90aWZpY2F0aW9uc1wiKTtcblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRpZiAoZXJyb3IgaW5zdGFuY2VvZiB6LlpvZEVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGVycm9yLmlzc3Vlc1swXT8ubWVzc2FnZSB8fCBcIlZhbGlkYXRpb24gZXJyb3JcIixcblx0XHRcdH07XG5cdFx0fVxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiQW4gZXJyb3Igb2NjdXJyZWRcIixcblx0XHR9O1xuXHR9XG59XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6ImlUQTRZc0IifQ==
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:1e3961 [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"0038f75aa39d15eb18c5c68052266488d280f74485":"markAllAsRead"},"apps/web/src/actions/notifications.ts",""] */ __turbopack_context__.s([
    "markAllAsRead",
    ()=>markAllAsRead
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var markAllAsRead = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("0038f75aa39d15eb18c5c68052266488d280f74485", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "markAllAsRead"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vbm90aWZpY2F0aW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzZXJ2ZXJcIjtcblxuLyoqXG4gKiBOb3RpZmljYXRpb25zIFNlcnZlciBBY3Rpb25zXG4gKlxuICogU2VydmVyLXNpZGUgb3BlcmF0aW9ucyBmb3IgdGhlIG5vdGlmaWNhdGlvbnMgc3lzdGVtIGluY2x1ZGluZzpcbiAqIC0gRmV0Y2hpbmcgbm90aWZpY2F0aW9ucyB3aXRoIGZpbHRlcmluZyBhbmQgcGFnaW5hdGlvblxuICogLSBDcmVhdGluZyBuZXcgbm90aWZpY2F0aW9uc1xuICogLSBNYXJraW5nIG5vdGlmaWNhdGlvbnMgYXMgcmVhZC91bnJlYWRcbiAqIC0gRGVsZXRpbmcgbm90aWZpY2F0aW9uc1xuICogLSBNYW5hZ2luZyBub3RpZmljYXRpb24gcHJlZmVyZW5jZXNcbiAqXG4gKiBQZXJmb3JtYW5jZSBvcHRpbWl6YXRpb25zOlxuICogLSBTZXJ2ZXItc2lkZSBkYXRhIGZldGNoaW5nIGFuZCB2YWxpZGF0aW9uXG4gKiAtIEVmZmljaWVudCBkYXRhYmFzZSBxdWVyaWVzIHdpdGggcHJvcGVyIGluZGV4ZXNcbiAqIC0gUkxTIHBvbGljaWVzIGZvciBzZWN1cml0eVxuICogLSBab2QgdmFsaWRhdGlvbiBmb3IgYWxsIGlucHV0c1xuICovXG5cbmltcG9ydCB7IHJldmFsaWRhdGVQYXRoIH0gZnJvbSBcIm5leHQvY2FjaGVcIjtcbmltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG5pbXBvcnQge1xuXHR0eXBlIENyZWF0ZU5vdGlmaWNhdGlvbklucHV0LFxuXHRDcmVhdGVOb3RpZmljYXRpb25TY2hlbWEsXG5cdHR5cGUgR2V0Tm90aWZpY2F0aW9uc0lucHV0LFxuXHRHZXROb3RpZmljYXRpb25zU2NoZW1hLFxuXHR0eXBlIE5vdGlmaWNhdGlvblByZWZlcmVuY2UsXG5cdE5vdGlmaWNhdGlvblByZWZlcmVuY2VTY2hlbWEsXG59IGZyb20gXCJAL2xpYi9ub3RpZmljYXRpb25zL3R5cGVzXCI7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tIFwiQC9saWIvc3VwYWJhc2Uvc2VydmVyXCI7XG5cbi8vIE5PVEU6IFR5cGUgcmUtZXhwb3J0cyByZW1vdmVkIHRvIGNvbXBseSB3aXRoIE5leHQuanMgMTYgXCJ1c2Ugc2VydmVyXCIgcmVzdHJpY3Rpb25zXG4vLyBJbXBvcnQgdHlwZXMgZGlyZWN0bHkgZnJvbSBAL2xpYi9ub3RpZmljYXRpb25zL3R5cGVzIGluc3RlYWRcblxuY29uc3QgVXBkYXRlTm90aWZpY2F0aW9uUHJlZmVyZW5jZXNTY2hlbWEgPSB6LmFycmF5KFxuXHROb3RpZmljYXRpb25QcmVmZXJlbmNlU2NoZW1hLFxuKTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gSGVscGVyIEZ1bmN0aW9uc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIEdldCBhdXRoZW50aWNhdGVkIHVzZXIgYW5kIGNvbXBhbnkgY29udGV4dFxuICovXG5hc3luYyBmdW5jdGlvbiBnZXRBdXRoQ29udGV4dCgpOiBQcm9taXNlPHtcblx0dXNlcklkOiBzdHJpbmc7XG5cdGNvbXBhbnlJZDogc3RyaW5nO1xuXHRzdXBhYmFzZTogTm9uTnVsbGFibGU8QXdhaXRlZDxSZXR1cm5UeXBlPHR5cGVvZiBjcmVhdGVDbGllbnQ+Pj47XG59PiB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIlN1cGFiYXNlIGNsaWVudCBub3QgY29uZmlndXJlZFwiKTtcblx0fVxuXG5cdGNvbnN0IHtcblx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHRlcnJvcjogYXV0aEVycm9yLFxuXHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0aWYgKGF1dGhFcnJvciB8fCAhdXNlcikge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIk5vdCBhdXRoZW50aWNhdGVkXCIpO1xuXHR9XG5cblx0Ly8gR2V0IHVzZXIncyBhY3RpdmUgY29tcGFueSBmcm9tIHRlYW1fbWVtYmVyc1xuXHRjb25zdCB7IGRhdGE6IHRlYW1NZW1iZXIsIGVycm9yOiB0ZWFtRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0LmZyb20oXCJjb21wYW55X21lbWJlcnNoaXBzXCIpXG5cdFx0LnNlbGVjdChcImNvbXBhbnlfaWRcIilcblx0XHQuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpXG5cdFx0LmVxKFwic3RhdHVzXCIsIFwiYWN0aXZlXCIpXG5cdFx0Lm1heWJlU2luZ2xlKCk7XG5cblx0aWYgKHRlYW1FcnJvcikge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBmZXRjaCB1c2VyIGNvbXBhbnlcIik7XG5cdH1cblxuXHRpZiAoIXRlYW1NZW1iZXIpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJObyBhY3RpdmUgY29tcGFueSBmb3VuZFwiKTtcblx0fVxuXG5cdHJldHVybiB7XG5cdFx0dXNlcklkOiB1c2VyLmlkLFxuXHRcdGNvbXBhbnlJZDogdGVhbU1lbWJlci5jb21wYW55X2lkLFxuXHRcdHN1cGFiYXNlLFxuXHR9O1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBOb3RpZmljYXRpb24gQ1JVRCBPcGVyYXRpb25zXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogR2V0IG5vdGlmaWNhdGlvbnMgZm9yIHRoZSBjdXJyZW50IHVzZXJcbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyAtIEZpbHRlcmluZyBhbmQgcGFnaW5hdGlvbiBvcHRpb25zXG4gKiBAcmV0dXJucyBBcnJheSBvZiBub3RpZmljYXRpb25zIGFuZCB0b3RhbCBjb3VudFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Tm90aWZpY2F0aW9ucyhcblx0b3B0aW9ucz86IFBhcnRpYWw8R2V0Tm90aWZpY2F0aW9uc0lucHV0Pixcbikge1xuXHR0cnkge1xuXHRcdC8vIE5vdGlmaWNhdGlvbnMgYXJlIHVzZXItc3BlY2lmaWMsIG5vdCBjb21wYW55LXNwZWNpZmljXG5cdFx0Ly8gU28gd2UgZG9uJ3QgbmVlZCB0aGUgZnVsbCBhdXRoIGNvbnRleHQgd2l0aCBjb21wYW55XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIlN1cGFiYXNlIGNsaWVudCBub3QgY29uZmlndXJlZFwiKTtcblx0XHR9XG5cblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHRcdGVycm9yOiBhdXRoRXJyb3IsXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKGF1dGhFcnJvciB8fCAhdXNlcikge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiTm90IGF1dGhlbnRpY2F0ZWRcIik7XG5cdFx0fVxuXG5cdFx0Y29uc3QgdXNlcklkID0gdXNlci5pZDtcblxuXHRcdC8vIFZhbGlkYXRlIGlucHV0XG5cdFx0Y29uc3QgdmFsaWRhdGVkT3B0aW9ucyA9IEdldE5vdGlmaWNhdGlvbnNTY2hlbWEucGFyc2Uob3B0aW9ucyB8fCB7fSk7XG5cblx0XHQvLyBCdWlsZCBxdWVyeVxuXHRcdGxldCBxdWVyeSA9IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcIm5vdGlmaWNhdGlvbnNcIilcblx0XHRcdC5zZWxlY3QoXCIqXCIsIHsgY291bnQ6IFwiZXhhY3RcIiB9KVxuXHRcdFx0LmVxKFwidXNlcl9pZFwiLCB1c2VySWQpXG5cdFx0XHQub3JkZXIoXCJjcmVhdGVkX2F0XCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcblxuXHRcdC8vIEFwcGx5IGZpbHRlcnNcblx0XHRpZiAodmFsaWRhdGVkT3B0aW9ucy51bnJlYWRPbmx5KSB7XG5cdFx0XHRxdWVyeSA9IHF1ZXJ5LmVxKFwicmVhZFwiLCBmYWxzZSk7XG5cdFx0fVxuXG5cdFx0aWYgKHZhbGlkYXRlZE9wdGlvbnMudHlwZSkge1xuXHRcdFx0cXVlcnkgPSBxdWVyeS5lcShcInR5cGVcIiwgdmFsaWRhdGVkT3B0aW9ucy50eXBlKTtcblx0XHR9XG5cblx0XHRpZiAodmFsaWRhdGVkT3B0aW9ucy5wcmlvcml0eSkge1xuXHRcdFx0cXVlcnkgPSBxdWVyeS5lcShcInByaW9yaXR5XCIsIHZhbGlkYXRlZE9wdGlvbnMucHJpb3JpdHkpO1xuXHRcdH1cblxuXHRcdC8vIEFwcGx5IHBhZ2luYXRpb25cblx0XHRxdWVyeSA9IHF1ZXJ5LnJhbmdlKFxuXHRcdFx0dmFsaWRhdGVkT3B0aW9ucy5vZmZzZXQsXG5cdFx0XHR2YWxpZGF0ZWRPcHRpb25zLm9mZnNldCArIHZhbGlkYXRlZE9wdGlvbnMubGltaXQgLSAxLFxuXHRcdCk7XG5cblx0XHRjb25zdCB7IGRhdGEsIGVycm9yLCBjb3VudCB9ID0gYXdhaXQgcXVlcnk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogXCJGYWlsZWQgdG8gZmV0Y2ggbm90aWZpY2F0aW9uc1wiLFxuXHRcdFx0XHRkYXRhOiBbXSxcblx0XHRcdFx0Y291bnQ6IDAsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0ZGF0YTogZGF0YSB8fCBbXSxcblx0XHRcdGNvdW50OiBjb3VudCB8fCAwLFxuXHRcdH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0aWYgKGVycm9yIGluc3RhbmNlb2Ygei5ab2RFcnJvcikge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOiBlcnJvci5pc3N1ZXNbMF0/Lm1lc3NhZ2UgfHwgXCJWYWxpZGF0aW9uIGVycm9yXCIsXG5cdFx0XHRcdGRhdGE6IFtdLFxuXHRcdFx0XHRjb3VudDogMCxcblx0XHRcdH07XG5cdFx0fVxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiQW4gZXJyb3Igb2NjdXJyZWRcIixcblx0XHRcdGRhdGE6IFtdLFxuXHRcdFx0Y291bnQ6IDAsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIEdldCB1bnJlYWQgbm90aWZpY2F0aW9uIGNvdW50IGZvciB0aGUgY3VycmVudCB1c2VyXG4gKlxuICogQHJldHVybnMgTnVtYmVyIG9mIHVucmVhZCBub3RpZmljYXRpb25zXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldFVucmVhZENvdW50KCkge1xuXHR0cnkge1xuXHRcdGNvbnN0IHsgdXNlcklkLCBzdXBhYmFzZSB9ID0gYXdhaXQgZ2V0QXV0aENvbnRleHQoKTtcblxuXHRcdC8vIFVzZSB0aGUgZGF0YWJhc2UgZnVuY3Rpb24gZm9yIG9wdGltaXplZCBjb3VudGluZ1xuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnJwYyhcblx0XHRcdFwiZ2V0X3VucmVhZF9ub3RpZmljYXRpb25fY291bnRcIixcblx0XHRcdHtcblx0XHRcdFx0cF91c2VyX2lkOiB1c2VySWQsXG5cdFx0XHR9LFxuXHRcdCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogXCJGYWlsZWQgdG8gZmV0Y2ggdW5yZWFkIGNvdW50XCIsXG5cdFx0XHRcdGNvdW50OiAwLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBjb3VudDogZGF0YSB8fCAwIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJBbiBlcnJvciBvY2N1cnJlZFwiLFxuXHRcdFx0Y291bnQ6IDAsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBub3RpZmljYXRpb25cbiAqXG4gKiBAcGFyYW0gaW5wdXQgLSBOb3RpZmljYXRpb24gZGF0YVxuICogQHJldHVybnMgQ3JlYXRlZCBub3RpZmljYXRpb25cbiAqL1xuYXN5bmMgZnVuY3Rpb24gY3JlYXRlTm90aWZpY2F0aW9uKGlucHV0OiBDcmVhdGVOb3RpZmljYXRpb25JbnB1dCkge1xuXHR0cnkge1xuXHRcdGNvbnN0IHsgc3VwYWJhc2UgfSA9IGF3YWl0IGdldEF1dGhDb250ZXh0KCk7XG5cblx0XHQvLyBWYWxpZGF0ZSBpbnB1dFxuXHRcdGNvbnN0IHZhbGlkYXRlZERhdGEgPSBDcmVhdGVOb3RpZmljYXRpb25TY2hlbWEucGFyc2UoaW5wdXQpO1xuXG5cdFx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwibm90aWZpY2F0aW9uc1wiKVxuXHRcdFx0Lmluc2VydCh7XG5cdFx0XHRcdHVzZXJfaWQ6IHZhbGlkYXRlZERhdGEudXNlcklkLFxuXHRcdFx0XHRjb21wYW55X2lkOiB2YWxpZGF0ZWREYXRhLmNvbXBhbnlJZCxcblx0XHRcdFx0dHlwZTogdmFsaWRhdGVkRGF0YS50eXBlLFxuXHRcdFx0XHRwcmlvcml0eTogdmFsaWRhdGVkRGF0YS5wcmlvcml0eSxcblx0XHRcdFx0dGl0bGU6IHZhbGlkYXRlZERhdGEudGl0bGUsXG5cdFx0XHRcdG1lc3NhZ2U6IHZhbGlkYXRlZERhdGEubWVzc2FnZSxcblx0XHRcdFx0YWN0aW9uX3VybDogdmFsaWRhdGVkRGF0YS5hY3Rpb25VcmwsXG5cdFx0XHRcdGFjdGlvbl9sYWJlbDogdmFsaWRhdGVkRGF0YS5hY3Rpb25MYWJlbCxcblx0XHRcdFx0bWV0YWRhdGE6IHZhbGlkYXRlZERhdGEubWV0YWRhdGEgfHwge30sXG5cdFx0XHR9KVxuXHRcdFx0LnNlbGVjdCgpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gY3JlYXRlIG5vdGlmaWNhdGlvblwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gUmV2YWxpZGF0ZSBwYXRocyB3aGVyZSBub3RpZmljYXRpb25zIGFwcGVhclxuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZFwiKTtcblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvbm90aWZpY2F0aW9uc1wiKTtcblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGEgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRpZiAoZXJyb3IgaW5zdGFuY2VvZiB6LlpvZEVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGVycm9yLmlzc3Vlc1swXT8ubWVzc2FnZSB8fCBcIlZhbGlkYXRpb24gZXJyb3JcIixcblx0XHRcdH07XG5cdFx0fVxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiQW4gZXJyb3Igb2NjdXJyZWRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogTWFyayBhIG5vdGlmaWNhdGlvbiBhcyByZWFkXG4gKlxuICogQHBhcmFtIG5vdGlmaWNhdGlvbklkIC0gSUQgb2YgdGhlIG5vdGlmaWNhdGlvbiB0byBtYXJrIGFzIHJlYWRcbiAqIEByZXR1cm5zIFN1Y2Nlc3Mgc3RhdHVzXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBtYXJrQXNSZWFkKG5vdGlmaWNhdGlvbklkOiBzdHJpbmcpIHtcblx0dHJ5IHtcblx0XHRjb25zdCB7IHVzZXJJZCwgc3VwYWJhc2UgfSA9IGF3YWl0IGdldEF1dGhDb250ZXh0KCk7XG5cblx0XHQvLyBWYWxpZGF0ZSBVVUlEXG5cdFx0Y29uc3QgaWRTY2hlbWEgPSB6LnN0cmluZygpLnV1aWQoXCJJbnZhbGlkIG5vdGlmaWNhdGlvbiBJRFwiKTtcblx0XHRjb25zdCB2YWxpZGF0ZWRJZCA9IGlkU2NoZW1hLnBhcnNlKG5vdGlmaWNhdGlvbklkKTtcblxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcIm5vdGlmaWNhdGlvbnNcIilcblx0XHRcdC51cGRhdGUoeyByZWFkOiB0cnVlIH0pXG5cdFx0XHQuZXEoXCJpZFwiLCB2YWxpZGF0ZWRJZClcblx0XHRcdC5lcShcInVzZXJfaWRcIiwgdXNlcklkKTsgLy8gRW5zdXJlIHVzZXIgb3ducyB0aGUgbm90aWZpY2F0aW9uXG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gbWFyayBub3RpZmljYXRpb24gYXMgcmVhZFwiIH07XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkXCIpO1xuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9ub3RpZmljYXRpb25zXCIpO1xuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGlmIChlcnJvciBpbnN0YW5jZW9mIHouWm9kRXJyb3IpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogZXJyb3IuaXNzdWVzWzBdPy5tZXNzYWdlIHx8IFwiVmFsaWRhdGlvbiBlcnJvclwiLFxuXHRcdFx0fTtcblx0XHR9XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJBbiBlcnJvciBvY2N1cnJlZFwiLFxuXHRcdH07XG5cdH1cbn1cblxuLyoqXG4gKiBNYXJrIGFsbCBub3RpZmljYXRpb25zIGFzIHJlYWQgZm9yIHRoZSBjdXJyZW50IHVzZXJcbiAqXG4gKiBAcmV0dXJucyBOdW1iZXIgb2Ygbm90aWZpY2F0aW9ucyBtYXJrZWQgYXMgcmVhZFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbWFya0FsbEFzUmVhZCgpIHtcblx0dHJ5IHtcblx0XHRjb25zdCB7IHVzZXJJZCwgc3VwYWJhc2UgfSA9IGF3YWl0IGdldEF1dGhDb250ZXh0KCk7XG5cblx0XHQvLyBVc2UgdGhlIGRhdGFiYXNlIGZ1bmN0aW9uIGZvciBidWxrIG9wZXJhdGlvblxuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnJwYyhcIm1hcmtfYWxsX25vdGlmaWNhdGlvbnNfcmVhZFwiLCB7XG5cdFx0XHRwX3VzZXJfaWQ6IHVzZXJJZCxcblx0XHR9KTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOiBcIkZhaWxlZCB0byBtYXJrIGFsbCBub3RpZmljYXRpb25zIGFzIHJlYWRcIixcblx0XHRcdFx0Y291bnQ6IDAsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZFwiKTtcblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvbm90aWZpY2F0aW9uc1wiKTtcblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGNvdW50OiBkYXRhIHx8IDAgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkFuIGVycm9yIG9jY3VycmVkXCIsXG5cdFx0XHRjb3VudDogMCxcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogTWFyayBhIG5vdGlmaWNhdGlvbiBhcyB1bnJlYWRcbiAqXG4gKiBAcGFyYW0gbm90aWZpY2F0aW9uSWQgLSBJRCBvZiB0aGUgbm90aWZpY2F0aW9uIHRvIG1hcmsgYXMgdW5yZWFkXG4gKiBAcmV0dXJucyBTdWNjZXNzIHN0YXR1c1xuICovXG5hc3luYyBmdW5jdGlvbiBtYXJrQXNVbnJlYWQobm90aWZpY2F0aW9uSWQ6IHN0cmluZykge1xuXHR0cnkge1xuXHRcdGNvbnN0IHsgdXNlcklkLCBzdXBhYmFzZSB9ID0gYXdhaXQgZ2V0QXV0aENvbnRleHQoKTtcblxuXHRcdC8vIFZhbGlkYXRlIFVVSURcblx0XHRjb25zdCBpZFNjaGVtYSA9IHouc3RyaW5nKCkudXVpZChcIkludmFsaWQgbm90aWZpY2F0aW9uIElEXCIpO1xuXHRcdGNvbnN0IHZhbGlkYXRlZElkID0gaWRTY2hlbWEucGFyc2Uobm90aWZpY2F0aW9uSWQpO1xuXG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwibm90aWZpY2F0aW9uc1wiKVxuXHRcdFx0LnVwZGF0ZSh7IHJlYWQ6IGZhbHNlIH0pXG5cdFx0XHQuZXEoXCJpZFwiLCB2YWxpZGF0ZWRJZClcblx0XHRcdC5lcShcInVzZXJfaWRcIiwgdXNlcklkKTsgLy8gRW5zdXJlIHVzZXIgb3ducyB0aGUgbm90aWZpY2F0aW9uXG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gbWFyayBub3RpZmljYXRpb24gYXMgdW5yZWFkXCIgfTtcblx0XHR9XG5cblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmRcIik7XG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL25vdGlmaWNhdGlvbnNcIik7XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0aWYgKGVycm9yIGluc3RhbmNlb2Ygei5ab2RFcnJvcikge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOiBlcnJvci5pc3N1ZXNbMF0/Lm1lc3NhZ2UgfHwgXCJWYWxpZGF0aW9uIGVycm9yXCIsXG5cdFx0XHR9O1xuXHRcdH1cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkFuIGVycm9yIG9jY3VycmVkXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIERlbGV0ZSBhIG5vdGlmaWNhdGlvblxuICpcbiAqIEBwYXJhbSBub3RpZmljYXRpb25JZCAtIElEIG9mIHRoZSBub3RpZmljYXRpb24gdG8gZGVsZXRlXG4gKiBAcmV0dXJucyBTdWNjZXNzIHN0YXR1c1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbklkOiBzdHJpbmcpIHtcblx0dHJ5IHtcblx0XHRjb25zdCB7IHVzZXJJZCwgc3VwYWJhc2UgfSA9IGF3YWl0IGdldEF1dGhDb250ZXh0KCk7XG5cblx0XHQvLyBWYWxpZGF0ZSBVVUlEXG5cdFx0Y29uc3QgaWRTY2hlbWEgPSB6LnN0cmluZygpLnV1aWQoXCJJbnZhbGlkIG5vdGlmaWNhdGlvbiBJRFwiKTtcblx0XHRjb25zdCB2YWxpZGF0ZWRJZCA9IGlkU2NoZW1hLnBhcnNlKG5vdGlmaWNhdGlvbklkKTtcblxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcIm5vdGlmaWNhdGlvbnNcIilcblx0XHRcdC5kZWxldGUoKVxuXHRcdFx0LmVxKFwiaWRcIiwgdmFsaWRhdGVkSWQpXG5cdFx0XHQuZXEoXCJ1c2VyX2lkXCIsIHVzZXJJZCk7IC8vIEVuc3VyZSB1c2VyIG93bnMgdGhlIG5vdGlmaWNhdGlvblxuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRmFpbGVkIHRvIGRlbGV0ZSBub3RpZmljYXRpb25cIiB9O1xuXHRcdH1cblxuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZFwiKTtcblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvbm90aWZpY2F0aW9uc1wiKTtcblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRpZiAoZXJyb3IgaW5zdGFuY2VvZiB6LlpvZEVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGVycm9yLmlzc3Vlc1swXT8ubWVzc2FnZSB8fCBcIlZhbGlkYXRpb24gZXJyb3JcIixcblx0XHRcdH07XG5cdFx0fVxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiQW4gZXJyb3Igb2NjdXJyZWRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIE5vdGlmaWNhdGlvbiBQcmVmZXJlbmNlcyBPcGVyYXRpb25zXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogR2V0IG5vdGlmaWNhdGlvbiBwcmVmZXJlbmNlcyBmb3IgdGhlIGN1cnJlbnQgdXNlclxuICpcbiAqIEByZXR1cm5zIEFycmF5IG9mIG5vdGlmaWNhdGlvbiBwcmVmZXJlbmNlc1xuICovXG5hc3luYyBmdW5jdGlvbiBnZXROb3RpZmljYXRpb25QcmVmZXJlbmNlcygpIHtcblx0dHJ5IHtcblx0XHRjb25zdCB7IHVzZXJJZCwgY29tcGFueUlkLCBzdXBhYmFzZSB9ID0gYXdhaXQgZ2V0QXV0aENvbnRleHQoKTtcblxuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcIm5vdGlmaWNhdGlvbl9wcmVmZXJlbmNlc1wiKVxuXHRcdFx0LnNlbGVjdChcIipcIilcblx0XHRcdC5lcShcInVzZXJfaWRcIiwgdXNlcklkKVxuXHRcdFx0LmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IFwiRmFpbGVkIHRvIGZldGNoIG5vdGlmaWNhdGlvbiBwcmVmZXJlbmNlc1wiLFxuXHRcdFx0XHRkYXRhOiBbXSxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogZGF0YSB8fCBbXSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiQW4gZXJyb3Igb2NjdXJyZWRcIixcblx0XHRcdGRhdGE6IFtdLFxuXHRcdH07XG5cdH1cbn1cblxuLyoqXG4gKiBVcGRhdGUgbm90aWZpY2F0aW9uIHByZWZlcmVuY2VzIGZvciB0aGUgY3VycmVudCB1c2VyXG4gKlxuICogQHBhcmFtIHByZWZlcmVuY2VzIC0gQXJyYXkgb2Ygbm90aWZpY2F0aW9uIHByZWZlcmVuY2Ugc2V0dGluZ3NcbiAqIEByZXR1cm5zIFN1Y2Nlc3Mgc3RhdHVzXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZU5vdGlmaWNhdGlvblByZWZlcmVuY2VzKFxuXHRwcmVmZXJlbmNlczogTm90aWZpY2F0aW9uUHJlZmVyZW5jZVtdLFxuKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgeyB1c2VySWQsIGNvbXBhbnlJZCwgc3VwYWJhc2UgfSA9IGF3YWl0IGdldEF1dGhDb250ZXh0KCk7XG5cblx0XHQvLyBWYWxpZGF0ZSBpbnB1dFxuXHRcdGNvbnN0IHZhbGlkYXRlZFByZWZlcmVuY2VzID1cblx0XHRcdFVwZGF0ZU5vdGlmaWNhdGlvblByZWZlcmVuY2VzU2NoZW1hLnBhcnNlKHByZWZlcmVuY2VzKTtcblxuXHRcdC8vIERlbGV0ZSBleGlzdGluZyBwcmVmZXJlbmNlc1xuXHRcdGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcIm5vdGlmaWNhdGlvbl9wcmVmZXJlbmNlc1wiKVxuXHRcdFx0LmRlbGV0ZSgpXG5cdFx0XHQuZXEoXCJ1c2VyX2lkXCIsIHVzZXJJZClcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgY29tcGFueUlkKTtcblxuXHRcdC8vIEluc2VydCBuZXcgcHJlZmVyZW5jZXNcblx0XHRjb25zdCBwcmVmZXJlbmNlc1RvSW5zZXJ0ID0gdmFsaWRhdGVkUHJlZmVyZW5jZXMubWFwKChwcmVmKSA9PiAoe1xuXHRcdFx0dXNlcl9pZDogdXNlcklkLFxuXHRcdFx0Y29tcGFueV9pZDogY29tcGFueUlkLFxuXHRcdFx0Y2hhbm5lbDogcHJlZi5jaGFubmVsLFxuXHRcdFx0ZXZlbnRfdHlwZTogcHJlZi5ldmVudFR5cGUsXG5cdFx0XHRlbmFibGVkOiBwcmVmLmVuYWJsZWQsXG5cdFx0fSkpO1xuXG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwibm90aWZpY2F0aW9uX3ByZWZlcmVuY2VzXCIpXG5cdFx0XHQuaW5zZXJ0KHByZWZlcmVuY2VzVG9JbnNlcnQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IFwiRmFpbGVkIHRvIHVwZGF0ZSBub3RpZmljYXRpb24gcHJlZmVyZW5jZXNcIixcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL3NldHRpbmdzL3Byb2ZpbGUvbm90aWZpY2F0aW9uc1wiKTtcblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRpZiAoZXJyb3IgaW5zdGFuY2VvZiB6LlpvZEVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGVycm9yLmlzc3Vlc1swXT8ubWVzc2FnZSB8fCBcIlZhbGlkYXRpb24gZXJyb3JcIixcblx0XHRcdH07XG5cdFx0fVxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiQW4gZXJyb3Igb2NjdXJyZWRcIixcblx0XHR9O1xuXHR9XG59XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjRTQThUc0IifQ==
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:0a86c9 [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"40c2b4df5c915e0d2dea73d2b793e09f294ca0427f":"markAsRead"},"apps/web/src/actions/notifications.ts",""] */ __turbopack_context__.s([
    "markAsRead",
    ()=>markAsRead
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var markAsRead = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("40c2b4df5c915e0d2dea73d2b793e09f294ca0427f", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "markAsRead"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vbm90aWZpY2F0aW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzZXJ2ZXJcIjtcblxuLyoqXG4gKiBOb3RpZmljYXRpb25zIFNlcnZlciBBY3Rpb25zXG4gKlxuICogU2VydmVyLXNpZGUgb3BlcmF0aW9ucyBmb3IgdGhlIG5vdGlmaWNhdGlvbnMgc3lzdGVtIGluY2x1ZGluZzpcbiAqIC0gRmV0Y2hpbmcgbm90aWZpY2F0aW9ucyB3aXRoIGZpbHRlcmluZyBhbmQgcGFnaW5hdGlvblxuICogLSBDcmVhdGluZyBuZXcgbm90aWZpY2F0aW9uc1xuICogLSBNYXJraW5nIG5vdGlmaWNhdGlvbnMgYXMgcmVhZC91bnJlYWRcbiAqIC0gRGVsZXRpbmcgbm90aWZpY2F0aW9uc1xuICogLSBNYW5hZ2luZyBub3RpZmljYXRpb24gcHJlZmVyZW5jZXNcbiAqXG4gKiBQZXJmb3JtYW5jZSBvcHRpbWl6YXRpb25zOlxuICogLSBTZXJ2ZXItc2lkZSBkYXRhIGZldGNoaW5nIGFuZCB2YWxpZGF0aW9uXG4gKiAtIEVmZmljaWVudCBkYXRhYmFzZSBxdWVyaWVzIHdpdGggcHJvcGVyIGluZGV4ZXNcbiAqIC0gUkxTIHBvbGljaWVzIGZvciBzZWN1cml0eVxuICogLSBab2QgdmFsaWRhdGlvbiBmb3IgYWxsIGlucHV0c1xuICovXG5cbmltcG9ydCB7IHJldmFsaWRhdGVQYXRoIH0gZnJvbSBcIm5leHQvY2FjaGVcIjtcbmltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG5pbXBvcnQge1xuXHR0eXBlIENyZWF0ZU5vdGlmaWNhdGlvbklucHV0LFxuXHRDcmVhdGVOb3RpZmljYXRpb25TY2hlbWEsXG5cdHR5cGUgR2V0Tm90aWZpY2F0aW9uc0lucHV0LFxuXHRHZXROb3RpZmljYXRpb25zU2NoZW1hLFxuXHR0eXBlIE5vdGlmaWNhdGlvblByZWZlcmVuY2UsXG5cdE5vdGlmaWNhdGlvblByZWZlcmVuY2VTY2hlbWEsXG59IGZyb20gXCJAL2xpYi9ub3RpZmljYXRpb25zL3R5cGVzXCI7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tIFwiQC9saWIvc3VwYWJhc2Uvc2VydmVyXCI7XG5cbi8vIE5PVEU6IFR5cGUgcmUtZXhwb3J0cyByZW1vdmVkIHRvIGNvbXBseSB3aXRoIE5leHQuanMgMTYgXCJ1c2Ugc2VydmVyXCIgcmVzdHJpY3Rpb25zXG4vLyBJbXBvcnQgdHlwZXMgZGlyZWN0bHkgZnJvbSBAL2xpYi9ub3RpZmljYXRpb25zL3R5cGVzIGluc3RlYWRcblxuY29uc3QgVXBkYXRlTm90aWZpY2F0aW9uUHJlZmVyZW5jZXNTY2hlbWEgPSB6LmFycmF5KFxuXHROb3RpZmljYXRpb25QcmVmZXJlbmNlU2NoZW1hLFxuKTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gSGVscGVyIEZ1bmN0aW9uc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIEdldCBhdXRoZW50aWNhdGVkIHVzZXIgYW5kIGNvbXBhbnkgY29udGV4dFxuICovXG5hc3luYyBmdW5jdGlvbiBnZXRBdXRoQ29udGV4dCgpOiBQcm9taXNlPHtcblx0dXNlcklkOiBzdHJpbmc7XG5cdGNvbXBhbnlJZDogc3RyaW5nO1xuXHRzdXBhYmFzZTogTm9uTnVsbGFibGU8QXdhaXRlZDxSZXR1cm5UeXBlPHR5cGVvZiBjcmVhdGVDbGllbnQ+Pj47XG59PiB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIlN1cGFiYXNlIGNsaWVudCBub3QgY29uZmlndXJlZFwiKTtcblx0fVxuXG5cdGNvbnN0IHtcblx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHRlcnJvcjogYXV0aEVycm9yLFxuXHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0aWYgKGF1dGhFcnJvciB8fCAhdXNlcikge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIk5vdCBhdXRoZW50aWNhdGVkXCIpO1xuXHR9XG5cblx0Ly8gR2V0IHVzZXIncyBhY3RpdmUgY29tcGFueSBmcm9tIHRlYW1fbWVtYmVyc1xuXHRjb25zdCB7IGRhdGE6IHRlYW1NZW1iZXIsIGVycm9yOiB0ZWFtRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0LmZyb20oXCJjb21wYW55X21lbWJlcnNoaXBzXCIpXG5cdFx0LnNlbGVjdChcImNvbXBhbnlfaWRcIilcblx0XHQuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpXG5cdFx0LmVxKFwic3RhdHVzXCIsIFwiYWN0aXZlXCIpXG5cdFx0Lm1heWJlU2luZ2xlKCk7XG5cblx0aWYgKHRlYW1FcnJvcikge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBmZXRjaCB1c2VyIGNvbXBhbnlcIik7XG5cdH1cblxuXHRpZiAoIXRlYW1NZW1iZXIpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJObyBhY3RpdmUgY29tcGFueSBmb3VuZFwiKTtcblx0fVxuXG5cdHJldHVybiB7XG5cdFx0dXNlcklkOiB1c2VyLmlkLFxuXHRcdGNvbXBhbnlJZDogdGVhbU1lbWJlci5jb21wYW55X2lkLFxuXHRcdHN1cGFiYXNlLFxuXHR9O1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBOb3RpZmljYXRpb24gQ1JVRCBPcGVyYXRpb25zXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogR2V0IG5vdGlmaWNhdGlvbnMgZm9yIHRoZSBjdXJyZW50IHVzZXJcbiAqXG4gKiBAcGFyYW0gb3B0aW9ucyAtIEZpbHRlcmluZyBhbmQgcGFnaW5hdGlvbiBvcHRpb25zXG4gKiBAcmV0dXJucyBBcnJheSBvZiBub3RpZmljYXRpb25zIGFuZCB0b3RhbCBjb3VudFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Tm90aWZpY2F0aW9ucyhcblx0b3B0aW9ucz86IFBhcnRpYWw8R2V0Tm90aWZpY2F0aW9uc0lucHV0Pixcbikge1xuXHR0cnkge1xuXHRcdC8vIE5vdGlmaWNhdGlvbnMgYXJlIHVzZXItc3BlY2lmaWMsIG5vdCBjb21wYW55LXNwZWNpZmljXG5cdFx0Ly8gU28gd2UgZG9uJ3QgbmVlZCB0aGUgZnVsbCBhdXRoIGNvbnRleHQgd2l0aCBjb21wYW55XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIlN1cGFiYXNlIGNsaWVudCBub3QgY29uZmlndXJlZFwiKTtcblx0XHR9XG5cblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHRcdGVycm9yOiBhdXRoRXJyb3IsXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKGF1dGhFcnJvciB8fCAhdXNlcikge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiTm90IGF1dGhlbnRpY2F0ZWRcIik7XG5cdFx0fVxuXG5cdFx0Y29uc3QgdXNlcklkID0gdXNlci5pZDtcblxuXHRcdC8vIFZhbGlkYXRlIGlucHV0XG5cdFx0Y29uc3QgdmFsaWRhdGVkT3B0aW9ucyA9IEdldE5vdGlmaWNhdGlvbnNTY2hlbWEucGFyc2Uob3B0aW9ucyB8fCB7fSk7XG5cblx0XHQvLyBCdWlsZCBxdWVyeVxuXHRcdGxldCBxdWVyeSA9IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcIm5vdGlmaWNhdGlvbnNcIilcblx0XHRcdC5zZWxlY3QoXCIqXCIsIHsgY291bnQ6IFwiZXhhY3RcIiB9KVxuXHRcdFx0LmVxKFwidXNlcl9pZFwiLCB1c2VySWQpXG5cdFx0XHQub3JkZXIoXCJjcmVhdGVkX2F0XCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcblxuXHRcdC8vIEFwcGx5IGZpbHRlcnNcblx0XHRpZiAodmFsaWRhdGVkT3B0aW9ucy51bnJlYWRPbmx5KSB7XG5cdFx0XHRxdWVyeSA9IHF1ZXJ5LmVxKFwicmVhZFwiLCBmYWxzZSk7XG5cdFx0fVxuXG5cdFx0aWYgKHZhbGlkYXRlZE9wdGlvbnMudHlwZSkge1xuXHRcdFx0cXVlcnkgPSBxdWVyeS5lcShcInR5cGVcIiwgdmFsaWRhdGVkT3B0aW9ucy50eXBlKTtcblx0XHR9XG5cblx0XHRpZiAodmFsaWRhdGVkT3B0aW9ucy5wcmlvcml0eSkge1xuXHRcdFx0cXVlcnkgPSBxdWVyeS5lcShcInByaW9yaXR5XCIsIHZhbGlkYXRlZE9wdGlvbnMucHJpb3JpdHkpO1xuXHRcdH1cblxuXHRcdC8vIEFwcGx5IHBhZ2luYXRpb25cblx0XHRxdWVyeSA9IHF1ZXJ5LnJhbmdlKFxuXHRcdFx0dmFsaWRhdGVkT3B0aW9ucy5vZmZzZXQsXG5cdFx0XHR2YWxpZGF0ZWRPcHRpb25zLm9mZnNldCArIHZhbGlkYXRlZE9wdGlvbnMubGltaXQgLSAxLFxuXHRcdCk7XG5cblx0XHRjb25zdCB7IGRhdGEsIGVycm9yLCBjb3VudCB9ID0gYXdhaXQgcXVlcnk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogXCJGYWlsZWQgdG8gZmV0Y2ggbm90aWZpY2F0aW9uc1wiLFxuXHRcdFx0XHRkYXRhOiBbXSxcblx0XHRcdFx0Y291bnQ6IDAsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0ZGF0YTogZGF0YSB8fCBbXSxcblx0XHRcdGNvdW50OiBjb3VudCB8fCAwLFxuXHRcdH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0aWYgKGVycm9yIGluc3RhbmNlb2Ygei5ab2RFcnJvcikge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOiBlcnJvci5pc3N1ZXNbMF0/Lm1lc3NhZ2UgfHwgXCJWYWxpZGF0aW9uIGVycm9yXCIsXG5cdFx0XHRcdGRhdGE6IFtdLFxuXHRcdFx0XHRjb3VudDogMCxcblx0XHRcdH07XG5cdFx0fVxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiQW4gZXJyb3Igb2NjdXJyZWRcIixcblx0XHRcdGRhdGE6IFtdLFxuXHRcdFx0Y291bnQ6IDAsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIEdldCB1bnJlYWQgbm90aWZpY2F0aW9uIGNvdW50IGZvciB0aGUgY3VycmVudCB1c2VyXG4gKlxuICogQHJldHVybnMgTnVtYmVyIG9mIHVucmVhZCBub3RpZmljYXRpb25zXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldFVucmVhZENvdW50KCkge1xuXHR0cnkge1xuXHRcdGNvbnN0IHsgdXNlcklkLCBzdXBhYmFzZSB9ID0gYXdhaXQgZ2V0QXV0aENvbnRleHQoKTtcblxuXHRcdC8vIFVzZSB0aGUgZGF0YWJhc2UgZnVuY3Rpb24gZm9yIG9wdGltaXplZCBjb3VudGluZ1xuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnJwYyhcblx0XHRcdFwiZ2V0X3VucmVhZF9ub3RpZmljYXRpb25fY291bnRcIixcblx0XHRcdHtcblx0XHRcdFx0cF91c2VyX2lkOiB1c2VySWQsXG5cdFx0XHR9LFxuXHRcdCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogXCJGYWlsZWQgdG8gZmV0Y2ggdW5yZWFkIGNvdW50XCIsXG5cdFx0XHRcdGNvdW50OiAwLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBjb3VudDogZGF0YSB8fCAwIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJBbiBlcnJvciBvY2N1cnJlZFwiLFxuXHRcdFx0Y291bnQ6IDAsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBub3RpZmljYXRpb25cbiAqXG4gKiBAcGFyYW0gaW5wdXQgLSBOb3RpZmljYXRpb24gZGF0YVxuICogQHJldHVybnMgQ3JlYXRlZCBub3RpZmljYXRpb25cbiAqL1xuYXN5bmMgZnVuY3Rpb24gY3JlYXRlTm90aWZpY2F0aW9uKGlucHV0OiBDcmVhdGVOb3RpZmljYXRpb25JbnB1dCkge1xuXHR0cnkge1xuXHRcdGNvbnN0IHsgc3VwYWJhc2UgfSA9IGF3YWl0IGdldEF1dGhDb250ZXh0KCk7XG5cblx0XHQvLyBWYWxpZGF0ZSBpbnB1dFxuXHRcdGNvbnN0IHZhbGlkYXRlZERhdGEgPSBDcmVhdGVOb3RpZmljYXRpb25TY2hlbWEucGFyc2UoaW5wdXQpO1xuXG5cdFx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwibm90aWZpY2F0aW9uc1wiKVxuXHRcdFx0Lmluc2VydCh7XG5cdFx0XHRcdHVzZXJfaWQ6IHZhbGlkYXRlZERhdGEudXNlcklkLFxuXHRcdFx0XHRjb21wYW55X2lkOiB2YWxpZGF0ZWREYXRhLmNvbXBhbnlJZCxcblx0XHRcdFx0dHlwZTogdmFsaWRhdGVkRGF0YS50eXBlLFxuXHRcdFx0XHRwcmlvcml0eTogdmFsaWRhdGVkRGF0YS5wcmlvcml0eSxcblx0XHRcdFx0dGl0bGU6IHZhbGlkYXRlZERhdGEudGl0bGUsXG5cdFx0XHRcdG1lc3NhZ2U6IHZhbGlkYXRlZERhdGEubWVzc2FnZSxcblx0XHRcdFx0YWN0aW9uX3VybDogdmFsaWRhdGVkRGF0YS5hY3Rpb25VcmwsXG5cdFx0XHRcdGFjdGlvbl9sYWJlbDogdmFsaWRhdGVkRGF0YS5hY3Rpb25MYWJlbCxcblx0XHRcdFx0bWV0YWRhdGE6IHZhbGlkYXRlZERhdGEubWV0YWRhdGEgfHwge30sXG5cdFx0XHR9KVxuXHRcdFx0LnNlbGVjdCgpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gY3JlYXRlIG5vdGlmaWNhdGlvblwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gUmV2YWxpZGF0ZSBwYXRocyB3aGVyZSBub3RpZmljYXRpb25zIGFwcGVhclxuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZFwiKTtcblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvbm90aWZpY2F0aW9uc1wiKTtcblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGEgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRpZiAoZXJyb3IgaW5zdGFuY2VvZiB6LlpvZEVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGVycm9yLmlzc3Vlc1swXT8ubWVzc2FnZSB8fCBcIlZhbGlkYXRpb24gZXJyb3JcIixcblx0XHRcdH07XG5cdFx0fVxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiQW4gZXJyb3Igb2NjdXJyZWRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogTWFyayBhIG5vdGlmaWNhdGlvbiBhcyByZWFkXG4gKlxuICogQHBhcmFtIG5vdGlmaWNhdGlvbklkIC0gSUQgb2YgdGhlIG5vdGlmaWNhdGlvbiB0byBtYXJrIGFzIHJlYWRcbiAqIEByZXR1cm5zIFN1Y2Nlc3Mgc3RhdHVzXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBtYXJrQXNSZWFkKG5vdGlmaWNhdGlvbklkOiBzdHJpbmcpIHtcblx0dHJ5IHtcblx0XHRjb25zdCB7IHVzZXJJZCwgc3VwYWJhc2UgfSA9IGF3YWl0IGdldEF1dGhDb250ZXh0KCk7XG5cblx0XHQvLyBWYWxpZGF0ZSBVVUlEXG5cdFx0Y29uc3QgaWRTY2hlbWEgPSB6LnN0cmluZygpLnV1aWQoXCJJbnZhbGlkIG5vdGlmaWNhdGlvbiBJRFwiKTtcblx0XHRjb25zdCB2YWxpZGF0ZWRJZCA9IGlkU2NoZW1hLnBhcnNlKG5vdGlmaWNhdGlvbklkKTtcblxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcIm5vdGlmaWNhdGlvbnNcIilcblx0XHRcdC51cGRhdGUoeyByZWFkOiB0cnVlIH0pXG5cdFx0XHQuZXEoXCJpZFwiLCB2YWxpZGF0ZWRJZClcblx0XHRcdC5lcShcInVzZXJfaWRcIiwgdXNlcklkKTsgLy8gRW5zdXJlIHVzZXIgb3ducyB0aGUgbm90aWZpY2F0aW9uXG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gbWFyayBub3RpZmljYXRpb24gYXMgcmVhZFwiIH07XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkXCIpO1xuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9ub3RpZmljYXRpb25zXCIpO1xuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGlmIChlcnJvciBpbnN0YW5jZW9mIHouWm9kRXJyb3IpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogZXJyb3IuaXNzdWVzWzBdPy5tZXNzYWdlIHx8IFwiVmFsaWRhdGlvbiBlcnJvclwiLFxuXHRcdFx0fTtcblx0XHR9XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJBbiBlcnJvciBvY2N1cnJlZFwiLFxuXHRcdH07XG5cdH1cbn1cblxuLyoqXG4gKiBNYXJrIGFsbCBub3RpZmljYXRpb25zIGFzIHJlYWQgZm9yIHRoZSBjdXJyZW50IHVzZXJcbiAqXG4gKiBAcmV0dXJucyBOdW1iZXIgb2Ygbm90aWZpY2F0aW9ucyBtYXJrZWQgYXMgcmVhZFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbWFya0FsbEFzUmVhZCgpIHtcblx0dHJ5IHtcblx0XHRjb25zdCB7IHVzZXJJZCwgc3VwYWJhc2UgfSA9IGF3YWl0IGdldEF1dGhDb250ZXh0KCk7XG5cblx0XHQvLyBVc2UgdGhlIGRhdGFiYXNlIGZ1bmN0aW9uIGZvciBidWxrIG9wZXJhdGlvblxuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnJwYyhcIm1hcmtfYWxsX25vdGlmaWNhdGlvbnNfcmVhZFwiLCB7XG5cdFx0XHRwX3VzZXJfaWQ6IHVzZXJJZCxcblx0XHR9KTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOiBcIkZhaWxlZCB0byBtYXJrIGFsbCBub3RpZmljYXRpb25zIGFzIHJlYWRcIixcblx0XHRcdFx0Y291bnQ6IDAsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZFwiKTtcblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvbm90aWZpY2F0aW9uc1wiKTtcblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGNvdW50OiBkYXRhIHx8IDAgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkFuIGVycm9yIG9jY3VycmVkXCIsXG5cdFx0XHRjb3VudDogMCxcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogTWFyayBhIG5vdGlmaWNhdGlvbiBhcyB1bnJlYWRcbiAqXG4gKiBAcGFyYW0gbm90aWZpY2F0aW9uSWQgLSBJRCBvZiB0aGUgbm90aWZpY2F0aW9uIHRvIG1hcmsgYXMgdW5yZWFkXG4gKiBAcmV0dXJucyBTdWNjZXNzIHN0YXR1c1xuICovXG5hc3luYyBmdW5jdGlvbiBtYXJrQXNVbnJlYWQobm90aWZpY2F0aW9uSWQ6IHN0cmluZykge1xuXHR0cnkge1xuXHRcdGNvbnN0IHsgdXNlcklkLCBzdXBhYmFzZSB9ID0gYXdhaXQgZ2V0QXV0aENvbnRleHQoKTtcblxuXHRcdC8vIFZhbGlkYXRlIFVVSURcblx0XHRjb25zdCBpZFNjaGVtYSA9IHouc3RyaW5nKCkudXVpZChcIkludmFsaWQgbm90aWZpY2F0aW9uIElEXCIpO1xuXHRcdGNvbnN0IHZhbGlkYXRlZElkID0gaWRTY2hlbWEucGFyc2Uobm90aWZpY2F0aW9uSWQpO1xuXG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwibm90aWZpY2F0aW9uc1wiKVxuXHRcdFx0LnVwZGF0ZSh7IHJlYWQ6IGZhbHNlIH0pXG5cdFx0XHQuZXEoXCJpZFwiLCB2YWxpZGF0ZWRJZClcblx0XHRcdC5lcShcInVzZXJfaWRcIiwgdXNlcklkKTsgLy8gRW5zdXJlIHVzZXIgb3ducyB0aGUgbm90aWZpY2F0aW9uXG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gbWFyayBub3RpZmljYXRpb24gYXMgdW5yZWFkXCIgfTtcblx0XHR9XG5cblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmRcIik7XG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL25vdGlmaWNhdGlvbnNcIik7XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0aWYgKGVycm9yIGluc3RhbmNlb2Ygei5ab2RFcnJvcikge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOiBlcnJvci5pc3N1ZXNbMF0/Lm1lc3NhZ2UgfHwgXCJWYWxpZGF0aW9uIGVycm9yXCIsXG5cdFx0XHR9O1xuXHRcdH1cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkFuIGVycm9yIG9jY3VycmVkXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIERlbGV0ZSBhIG5vdGlmaWNhdGlvblxuICpcbiAqIEBwYXJhbSBub3RpZmljYXRpb25JZCAtIElEIG9mIHRoZSBub3RpZmljYXRpb24gdG8gZGVsZXRlXG4gKiBAcmV0dXJucyBTdWNjZXNzIHN0YXR1c1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbklkOiBzdHJpbmcpIHtcblx0dHJ5IHtcblx0XHRjb25zdCB7IHVzZXJJZCwgc3VwYWJhc2UgfSA9IGF3YWl0IGdldEF1dGhDb250ZXh0KCk7XG5cblx0XHQvLyBWYWxpZGF0ZSBVVUlEXG5cdFx0Y29uc3QgaWRTY2hlbWEgPSB6LnN0cmluZygpLnV1aWQoXCJJbnZhbGlkIG5vdGlmaWNhdGlvbiBJRFwiKTtcblx0XHRjb25zdCB2YWxpZGF0ZWRJZCA9IGlkU2NoZW1hLnBhcnNlKG5vdGlmaWNhdGlvbklkKTtcblxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcIm5vdGlmaWNhdGlvbnNcIilcblx0XHRcdC5kZWxldGUoKVxuXHRcdFx0LmVxKFwiaWRcIiwgdmFsaWRhdGVkSWQpXG5cdFx0XHQuZXEoXCJ1c2VyX2lkXCIsIHVzZXJJZCk7IC8vIEVuc3VyZSB1c2VyIG93bnMgdGhlIG5vdGlmaWNhdGlvblxuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRmFpbGVkIHRvIGRlbGV0ZSBub3RpZmljYXRpb25cIiB9O1xuXHRcdH1cblxuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZFwiKTtcblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvbm90aWZpY2F0aW9uc1wiKTtcblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRpZiAoZXJyb3IgaW5zdGFuY2VvZiB6LlpvZEVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGVycm9yLmlzc3Vlc1swXT8ubWVzc2FnZSB8fCBcIlZhbGlkYXRpb24gZXJyb3JcIixcblx0XHRcdH07XG5cdFx0fVxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiQW4gZXJyb3Igb2NjdXJyZWRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIE5vdGlmaWNhdGlvbiBQcmVmZXJlbmNlcyBPcGVyYXRpb25zXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogR2V0IG5vdGlmaWNhdGlvbiBwcmVmZXJlbmNlcyBmb3IgdGhlIGN1cnJlbnQgdXNlclxuICpcbiAqIEByZXR1cm5zIEFycmF5IG9mIG5vdGlmaWNhdGlvbiBwcmVmZXJlbmNlc1xuICovXG5hc3luYyBmdW5jdGlvbiBnZXROb3RpZmljYXRpb25QcmVmZXJlbmNlcygpIHtcblx0dHJ5IHtcblx0XHRjb25zdCB7IHVzZXJJZCwgY29tcGFueUlkLCBzdXBhYmFzZSB9ID0gYXdhaXQgZ2V0QXV0aENvbnRleHQoKTtcblxuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcIm5vdGlmaWNhdGlvbl9wcmVmZXJlbmNlc1wiKVxuXHRcdFx0LnNlbGVjdChcIipcIilcblx0XHRcdC5lcShcInVzZXJfaWRcIiwgdXNlcklkKVxuXHRcdFx0LmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IFwiRmFpbGVkIHRvIGZldGNoIG5vdGlmaWNhdGlvbiBwcmVmZXJlbmNlc1wiLFxuXHRcdFx0XHRkYXRhOiBbXSxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogZGF0YSB8fCBbXSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiQW4gZXJyb3Igb2NjdXJyZWRcIixcblx0XHRcdGRhdGE6IFtdLFxuXHRcdH07XG5cdH1cbn1cblxuLyoqXG4gKiBVcGRhdGUgbm90aWZpY2F0aW9uIHByZWZlcmVuY2VzIGZvciB0aGUgY3VycmVudCB1c2VyXG4gKlxuICogQHBhcmFtIHByZWZlcmVuY2VzIC0gQXJyYXkgb2Ygbm90aWZpY2F0aW9uIHByZWZlcmVuY2Ugc2V0dGluZ3NcbiAqIEByZXR1cm5zIFN1Y2Nlc3Mgc3RhdHVzXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZU5vdGlmaWNhdGlvblByZWZlcmVuY2VzKFxuXHRwcmVmZXJlbmNlczogTm90aWZpY2F0aW9uUHJlZmVyZW5jZVtdLFxuKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgeyB1c2VySWQsIGNvbXBhbnlJZCwgc3VwYWJhc2UgfSA9IGF3YWl0IGdldEF1dGhDb250ZXh0KCk7XG5cblx0XHQvLyBWYWxpZGF0ZSBpbnB1dFxuXHRcdGNvbnN0IHZhbGlkYXRlZFByZWZlcmVuY2VzID1cblx0XHRcdFVwZGF0ZU5vdGlmaWNhdGlvblByZWZlcmVuY2VzU2NoZW1hLnBhcnNlKHByZWZlcmVuY2VzKTtcblxuXHRcdC8vIERlbGV0ZSBleGlzdGluZyBwcmVmZXJlbmNlc1xuXHRcdGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcIm5vdGlmaWNhdGlvbl9wcmVmZXJlbmNlc1wiKVxuXHRcdFx0LmRlbGV0ZSgpXG5cdFx0XHQuZXEoXCJ1c2VyX2lkXCIsIHVzZXJJZClcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgY29tcGFueUlkKTtcblxuXHRcdC8vIEluc2VydCBuZXcgcHJlZmVyZW5jZXNcblx0XHRjb25zdCBwcmVmZXJlbmNlc1RvSW5zZXJ0ID0gdmFsaWRhdGVkUHJlZmVyZW5jZXMubWFwKChwcmVmKSA9PiAoe1xuXHRcdFx0dXNlcl9pZDogdXNlcklkLFxuXHRcdFx0Y29tcGFueV9pZDogY29tcGFueUlkLFxuXHRcdFx0Y2hhbm5lbDogcHJlZi5jaGFubmVsLFxuXHRcdFx0ZXZlbnRfdHlwZTogcHJlZi5ldmVudFR5cGUsXG5cdFx0XHRlbmFibGVkOiBwcmVmLmVuYWJsZWQsXG5cdFx0fSkpO1xuXG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwibm90aWZpY2F0aW9uX3ByZWZlcmVuY2VzXCIpXG5cdFx0XHQuaW5zZXJ0KHByZWZlcmVuY2VzVG9JbnNlcnQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IFwiRmFpbGVkIHRvIHVwZGF0ZSBub3RpZmljYXRpb24gcHJlZmVyZW5jZXNcIixcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL3NldHRpbmdzL3Byb2ZpbGUvbm90aWZpY2F0aW9uc1wiKTtcblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRpZiAoZXJyb3IgaW5zdGFuY2VvZiB6LlpvZEVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGVycm9yLmlzc3Vlc1swXT8ubWVzc2FnZSB8fCBcIlZhbGlkYXRpb24gZXJyb3JcIixcblx0XHRcdH07XG5cdFx0fVxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiQW4gZXJyb3Igb2NjdXJyZWRcIixcblx0XHR9O1xuXHR9XG59XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6InlTQXFSc0IifQ==
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/lib/stores/notification-events.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "COMMUNICATION_MARK_AS_READ_EVENT",
    ()=>COMMUNICATION_MARK_AS_READ_EVENT
]);
const COMMUNICATION_MARK_AS_READ_EVENT = "communication:mark-as-read";
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/lib/stores/notifications-store.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/**
 * Notifications Store - Zustand State Management
 *
 * Performance optimizations:
 * - Lightweight state management with Zustand (no provider wrapper)
 * - Selective subscriptions prevent unnecessary re-renders
 * - Real-time updates via Supabase Realtime
 * - Optimistic updates for better UX
 * - Organized in /src/lib/stores/ directory
 *
 * Usage in components:
 * ```typescript
 * const notifications = useNotificationsStore((state) => state.notifications);
 * const unreadCount = useNotificationsStore((state) => state.unreadCount);
 * const markAsRead = useNotificationsStore((state) => state.markAsRead);
 * ```
 */ __turbopack_context__.s([
    "useNotificationsStore",
    ()=>useNotificationsStore
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zustand$40$5$2e$0$2e$8_$40$types$2b$react$40$19$2e$2$2e$2_immer$40$10$2e$2$2e$0_react$40$19$2e$2$2e$0_use$2d$sync$2d$external$2d$store$40$1$2e$6$2e$0_react$40$19$2e$2$2e$0_$2f$node_modules$2f$zustand$2f$esm$2f$react$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/zustand@5.0.8_@types+react@19.2.2_immer@10.2.0_react@19.2.0_use-sync-external-store@1.6.0_react@19.2.0_/node_modules/zustand/esm/react.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zustand$40$5$2e$0$2e$8_$40$types$2b$react$40$19$2e$2$2e$2_immer$40$10$2e$2$2e$0_react$40$19$2e$2$2e$0_use$2d$sync$2d$external$2d$store$40$1$2e$6$2e$0_react$40$19$2e$2$2e$0_$2f$node_modules$2f$zustand$2f$esm$2f$middleware$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/zustand@5.0.8_@types+react@19.2.2_immer@10.2.0_react@19.2.0_use-sync-external-store@1.6.0_react@19.2.0_/node_modules/zustand/esm/middleware.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$database$2f$src$2f$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/database/src/client.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$notification$2d$events$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/src/lib/stores/notification-events.ts [app-client] (ecmascript)");
;
;
;
;
// Initial state
const initialState = {
    notifications: [],
    unreadCount: 0,
    isLoading: false,
    isSubscribed: false,
    error: null,
    realtimeChannel: null,
    subscriptionPromise: null
};
const useNotificationsStore = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zustand$40$5$2e$0$2e$8_$40$types$2b$react$40$19$2e$2$2e$2_immer$40$10$2e$2$2e$0_react$40$19$2e$2$2e$0_use$2d$sync$2d$external$2d$store$40$1$2e$6$2e$0_react$40$19$2e$2$2e$0_$2f$node_modules$2f$zustand$2f$esm$2f$react$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["create"])()((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zustand$40$5$2e$0$2e$8_$40$types$2b$react$40$19$2e$2$2e$2_immer$40$10$2e$2$2e$0_react$40$19$2e$2$2e$0_use$2d$sync$2d$external$2d$store$40$1$2e$6$2e$0_react$40$19$2e$2$2e$0_$2f$node_modules$2f$zustand$2f$esm$2f$middleware$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["devtools"])((set, get)=>({
        ...initialState,
        // ===============================================================================
        // Basic State Setters
        // ===============================================================================
        setNotifications: (notifications)=>{
            const unreadCount = notifications.filter((n)=>!n.read).length;
            set({
                notifications,
                unreadCount
            });
        },
        addNotification: (notification)=>set((state)=>{
                const exists = state.notifications.some((n)=>n.id === notification.id);
                if (exists) {
                    return state;
                }
                const newNotifications = [
                    notification,
                    ...state.notifications
                ];
                const unreadCount = newNotifications.filter((n)=>!n.read).length;
                return {
                    notifications: newNotifications,
                    unreadCount
                };
            }),
        updateNotification: (id, updates)=>set((state)=>{
                const notifications = state.notifications.map((n)=>n.id === id ? {
                        ...n,
                        ...updates
                    } : n);
                const unreadCount = notifications.filter((n)=>!n.read).length;
                return {
                    notifications,
                    unreadCount
                };
            }),
        removeNotification: (id)=>set((state)=>{
                const notifications = state.notifications.filter((n)=>n.id !== id);
                const unreadCount = notifications.filter((n)=>!n.read).length;
                return {
                    notifications,
                    unreadCount
                };
            }),
        setUnreadCount: (unreadCount)=>set({
                unreadCount
            }),
        setLoading: (isLoading)=>set({
                isLoading
            }),
        setError: (error)=>set({
                error
            }),
        // ===============================================================================
        // Optimistic Updates
        // ===============================================================================
        optimisticMarkAsRead: (id)=>set((state)=>{
                const notifications = state.notifications.map((n)=>n.id === id ? {
                        ...n,
                        read: true,
                        read_at: new Date().toISOString()
                    } : n);
                const unreadCount = notifications.filter((n)=>!n.read).length;
                return {
                    notifications,
                    unreadCount
                };
            }),
        optimisticMarkAsUnread: (id)=>set((state)=>{
                const notifications = state.notifications.map((n)=>n.id === id ? {
                        ...n,
                        read: false,
                        read_at: null
                    } : n);
                const unreadCount = notifications.filter((n)=>!n.read).length;
                return {
                    notifications,
                    unreadCount
                };
            }),
        optimisticMarkAllAsRead: ()=>set((state)=>{
                const notifications = state.notifications.map((n)=>({
                        ...n,
                        read: true,
                        read_at: n.read_at || new Date().toISOString()
                    }));
                return {
                    notifications,
                    unreadCount: 0
                };
            }),
        optimisticDelete: (id)=>set((state)=>{
                const notifications = state.notifications.filter((n)=>n.id !== id);
                const unreadCount = notifications.filter((n)=>!n.read).length;
                return {
                    notifications,
                    unreadCount
                };
            }),
        // ===============================================================================
        // Realtime Subscription Management
        // ===============================================================================
        subscribe: async (userId)=>{
            try {
                const state = get();
                // CRITICAL: Return existing promise if subscription is in progress
                if (state.subscriptionPromise) {
                    return state.subscriptionPromise;
                }
                // Don't subscribe if already subscribed
                if (state.isSubscribed || state.realtimeChannel) {
                    return Promise.resolve();
                }
                // Create subscription promise BEFORE any async operations
                const subscriptionPromise = (async ()=>{
                    // CRITICAL FIX: Set flag immediately to prevent race condition
                    set({
                        isSubscribed: true
                    });
                    const supabase = (0, __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$database$2f$src$2f$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createClient"])();
                    if (!supabase) {
                        set({
                            isSubscribed: false
                        });
                        return;
                    }
                    // Create realtime channel for notifications
                    const channel = supabase.channel("notifications-changes").on("postgres_changes", {
                        event: "INSERT",
                        schema: "public",
                        table: "notifications",
                        filter: `user_id=eq.${userId}`
                    }, (payload)=>{
                        // New notification received
                        if (payload.new) {
                            const notification = payload.new;
                            get().addNotification(notification);
                            // Show toast notification for communication events
                            if ("TURBOPACK compile-time truthy", 1) {
                                // Check if this is a communication-related notification
                                const isCommunication = notification.metadata?.communication_id;
                                if (isCommunication) {
                                    // Use communication notifications store for toast
                                    __turbopack_context__.A("[project]/apps/web/src/lib/stores/communication-notifications-store.ts [app-client] (ecmascript, async loader)").then(({ useCommunicationNotificationsStore })=>{
                                        useCommunicationNotificationsStore.getState().showCommunicationToast(notification);
                                    });
                                } else {
                                    // Use standard notification handling for non-communication events
                                    // Play notification sound if enabled
                                    const soundEnabled = localStorage.getItem("notifications_sound_enabled");
                                    if (soundEnabled !== "false") {
                                        // Play a subtle notification sound
                                        const audio = new Audio("/sounds/notification.mp3");
                                        audio.volume = 0.3;
                                        audio.play().catch(()=>{
                                        // Ignore errors (user hasn't interacted with page yet)
                                        });
                                    }
                                    // Show desktop notification if enabled and permission granted
                                    const desktopEnabled = localStorage.getItem("notifications_desktop_enabled");
                                    if (desktopEnabled !== "false" && "Notification" in window && Notification.permission === "granted") {
                                        new Notification(notification.title, {
                                            body: notification.message,
                                            icon: "/icon-192x192.svg",
                                            badge: "/icon-192x192.svg",
                                            tag: notification.id
                                        });
                                    }
                                }
                            }
                        }
                    }).on("postgres_changes", {
                        event: "UPDATE",
                        schema: "public",
                        table: "notifications",
                        filter: `user_id=eq.${userId}`
                    }, (payload)=>{
                        // Notification updated
                        if (payload.new) {
                            const notification = payload.new;
                            get().updateNotification(notification.id, notification);
                        }
                    }).on("postgres_changes", {
                        event: "DELETE",
                        schema: "public",
                        table: "notifications",
                        filter: `user_id=eq.${userId}`
                    }, (payload)=>{
                        // Notification deleted
                        if (payload.old) {
                            get().removeNotification(payload.old.id);
                        }
                    }).subscribe((status, _err)=>{
                        if (status === "SUBSCRIBED") {
                            set({
                                error: null
                            }); // Clear any previous errors
                        } else if (status === "CHANNEL_ERROR") {
                            // Don't set error state to avoid breaking the UI
                            set({
                                isSubscribed: false,
                                realtimeChannel: null
                            });
                        } else if (status === "TIMED_OUT") {
                            set({
                                isSubscribed: false,
                                realtimeChannel: null
                            });
                        } else if (status === "CLOSED") {
                            set({
                                isSubscribed: false,
                                realtimeChannel: null
                            });
                        }
                    });
                    set({
                        realtimeChannel: channel,
                        subscriptionPromise: null
                    });
                })(); // End of async IIFE
                // Set the promise immediately to prevent concurrent calls
                set({
                    subscriptionPromise
                });
                return subscriptionPromise;
            } catch (_error) {
                // App will still work without realtime, so don't set error state
                set({
                    isSubscribed: false,
                    realtimeChannel: null,
                    subscriptionPromise: null
                });
            }
        },
        unsubscribe: ()=>{
            const state = get();
            if (state.realtimeChannel) {
                state.realtimeChannel.unsubscribe();
                set({
                    realtimeChannel: null,
                    isSubscribed: false
                });
            }
        },
        // ===============================================================================
        // Utility
        // ===============================================================================
        reset: ()=>set(initialState)
    }), {
    name: "NotificationsStore"
}));
if ("TURBOPACK compile-time truthy", 1) {
    window.addEventListener(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$notification$2d$events$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["COMMUNICATION_MARK_AS_READ_EVENT"], (event)=>{
        const { detail } = event;
        const notificationId = detail?.notificationId;
        if (!notificationId) {
            return;
        }
        useNotificationsStore.getState().optimisticMarkAsRead(notificationId);
    });
}
// =====================================================================================
// Selectors (for optimized re-renders)
// =====================================================================================
/**
 * Get only unread notifications
 */ const selectUnreadNotifications = (state)=>state.notifications.filter((n)=>!n.read);
/**
 * Get notifications by type
 */ const selectNotificationsByType = (type)=>(state)=>state.notifications.filter((n)=>n.type === type);
/**
 * Get notifications by priority
 */ const selectNotificationsByPriority = (priority)=>(state)=>state.notifications.filter((n)=>n.priority === priority);
/**
 * Get urgent unread notifications
 */ const selectUrgentUnreadNotifications = (state)=>state.notifications.filter((n)=>!n.read && n.priority === "urgent");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/lib/stores/sync-store.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/**
 * Sync Store - Global state management for sync operations
 *
 * Manages:
 * - Active sync operations (bulk send, data sync, etc.)
 * - Offline queue
 * - Real-time progress tracking
 * - Operation history
 */ __turbopack_context__.s([
    "useSyncStore",
    ()=>useSyncStore
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zustand$40$5$2e$0$2e$8_$40$types$2b$react$40$19$2e$2$2e$2_immer$40$10$2e$2$2e$0_react$40$19$2e$2$2e$0_use$2d$sync$2d$external$2d$store$40$1$2e$6$2e$0_react$40$19$2e$2$2e$0_$2f$node_modules$2f$zustand$2f$esm$2f$react$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/zustand@5.0.8_@types+react@19.2.2_immer@10.2.0_react@19.2.0_use-sync-external-store@1.6.0_react@19.2.0_/node_modules/zustand/esm/react.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zustand$40$5$2e$0$2e$8_$40$types$2b$react$40$19$2e$2$2e$2_immer$40$10$2e$2$2e$0_react$40$19$2e$2$2e$0_use$2d$sync$2d$external$2d$store$40$1$2e$6$2e$0_react$40$19$2e$2$2e$0_$2f$node_modules$2f$zustand$2f$esm$2f$middleware$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/zustand@5.0.8_@types+react@19.2.2_immer@10.2.0_react@19.2.0_use-sync-external-store@1.6.0_react@19.2.0_/node_modules/zustand/esm/middleware.mjs [app-client] (ecmascript)");
var _s = __turbopack_context__.k.signature(), _s1 = __turbopack_context__.k.signature(), _s2 = __turbopack_context__.k.signature();
;
;
const useSyncStore = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zustand$40$5$2e$0$2e$8_$40$types$2b$react$40$19$2e$2$2e$2_immer$40$10$2e$2$2e$0_react$40$19$2e$2$2e$0_use$2d$sync$2d$external$2d$store$40$1$2e$6$2e$0_react$40$19$2e$2$2e$0_$2f$node_modules$2f$zustand$2f$esm$2f$react$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["create"])()((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zustand$40$5$2e$0$2e$8_$40$types$2b$react$40$19$2e$2$2e$2_immer$40$10$2e$2$2e$0_react$40$19$2e$2$2e$0_use$2d$sync$2d$external$2d$store$40$1$2e$6$2e$0_react$40$19$2e$2$2e$0_$2f$node_modules$2f$zustand$2f$esm$2f$middleware$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["persist"])((set, get)=>({
        operations: [],
        offlineQueue: [],
        isOnline: typeof navigator !== "undefined" ? navigator.onLine : true,
        isPanelOpen: false,
        startOperation: (operation)=>{
            const id = `op_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
            const newOperation = {
                ...operation,
                id,
                status: "in_progress",
                progress: 0,
                startedAt: new Date()
            };
            set((state)=>({
                    operations: [
                        ...state.operations,
                        newOperation
                    ]
                }));
            return id;
        },
        updateOperation: (id, updates)=>{
            set((state)=>({
                    operations: state.operations.map((op)=>op.id === id ? {
                            ...op,
                            ...updates
                        } : op)
                }));
        },
        completeOperation: (id, success, error)=>{
            set((state)=>({
                    operations: state.operations.map((op)=>op.id === id ? {
                            ...op,
                            status: success ? "completed" : "failed",
                            progress: success ? 100 : op.progress,
                            completedAt: new Date(),
                            error
                        } : op)
                }));
            // Auto-remove completed operations after 10 seconds
            if (success) {
                setTimeout(()=>{
                    get().removeOperation(id);
                }, 10_000);
            }
        },
        removeOperation: (id)=>{
            set((state)=>({
                    operations: state.operations.filter((op)=>op.id !== id)
                }));
        },
        clearCompleted: ()=>{
            set((state)=>({
                    operations: state.operations.filter((op)=>op.status !== "completed" && op.status !== "failed")
                }));
        },
        queueOperation: (operation)=>{
            const id = `queue_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;
            const queuedOp = {
                ...operation,
                id,
                createdAt: new Date(),
                retryCount: 0
            };
            set((state)=>({
                    offlineQueue: [
                        ...state.offlineQueue,
                        queuedOp
                    ]
                }));
        },
        removeFromQueue: (id)=>{
            set((state)=>({
                    offlineQueue: state.offlineQueue.filter((op)=>op.id !== id)
                }));
        },
        clearQueue: ()=>{
            set({
                offlineQueue: []
            });
        },
        setOnlineStatus: (isOnline)=>{
            set({
                isOnline
            });
        },
        togglePanel: ()=>{
            set((state)=>({
                    isPanelOpen: !state.isPanelOpen
                }));
        },
        openPanel: ()=>{
            set({
                isPanelOpen: true
            });
        },
        closePanel: ()=>{
            set({
                isPanelOpen: false
            });
        }
    }), {
    name: "thorbis-sync-store",
    skipHydration: true,
    partialize: (state)=>({
            offlineQueue: state.offlineQueue
        })
}));
// Hook to get active operations count
const useActiveOperationsCount = ()=>{
    _s();
    return useSyncStore({
        "useActiveOperationsCount.useSyncStore": (state)=>state.operations.filter({
                "useActiveOperationsCount.useSyncStore": (op)=>op.status === "in_progress"
            }["useActiveOperationsCount.useSyncStore"]).length
    }["useActiveOperationsCount.useSyncStore"]);
};
_s(useActiveOperationsCount, "zv4pGGCpbaVr+HeUUYBS1xnYQqE=", false, function() {
    return [
        useSyncStore
    ];
});
// Hook to get queued operations count
const useQueuedOperationsCount = ()=>{
    _s1();
    return useSyncStore({
        "useQueuedOperationsCount.useSyncStore": (state)=>state.offlineQueue.length
    }["useQueuedOperationsCount.useSyncStore"]);
};
_s1(useQueuedOperationsCount, "zv4pGGCpbaVr+HeUUYBS1xnYQqE=", false, function() {
    return [
        useSyncStore
    ];
});
// Hook to get if syncing
const useIsSyncing = ()=>{
    _s2();
    return useSyncStore({
        "useIsSyncing.useSyncStore": (state)=>state.operations.some({
                "useIsSyncing.useSyncStore": (op)=>op.status === "in_progress"
            }["useIsSyncing.useSyncStore"])
    }["useIsSyncing.useSyncStore"]);
};
_s2(useIsSyncing, "zv4pGGCpbaVr+HeUUYBS1xnYQqE=", false, function() {
    return [
        useSyncStore
    ];
});
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/components/layout/notifications-dropdown.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "NotificationsDropdown",
    ()=>NotificationsDropdown
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
/**
 * NotificationsDropdown - Client Component
 *
 * Client-side features:
 * - Interactive dropdown with notifications
 * - Real-time updates via Zustand store and Supabase Realtime
 * - Optimistic updates for better UX
 * - Mark as read/delete functionality
 */ var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$circle$2d$alert$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__AlertCircle$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/circle-alert.js [app-client] (ecmascript) <export default as AlertCircle>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$bell$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Bell$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/bell.js [app-client] (ecmascript) <export default as Bell>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Check$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/check.js [app-client] (ecmascript) <export default as Check>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$check$2d$check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__CheckCheck$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/check-check.js [app-client] (ecmascript) <export default as CheckCheck>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$circle$2d$check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__CheckCircle2$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/circle-check.js [app-client] (ecmascript) <export default as CheckCircle2>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$clock$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Clock$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/clock.js [app-client] (ecmascript) <export default as Clock>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$credit$2d$card$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__CreditCard$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/credit-card.js [app-client] (ecmascript) <export default as CreditCard>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$dollar$2d$sign$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__DollarSign$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/dollar-sign.js [app-client] (ecmascript) <export default as DollarSign>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$loader$2d$circle$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Loader2$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/loader-circle.js [app-client] (ecmascript) <export default as Loader2>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$message$2d$square$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__MessageSquare$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/message-square.js [app-client] (ecmascript) <export default as MessageSquare>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$phone$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Phone$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/phone.js [app-client] (ecmascript) <export default as Phone>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$settings$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Settings$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/settings.js [app-client] (ecmascript) <export default as Settings>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$trash$2d$2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Trash2$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/trash-2.js [app-client] (ecmascript) <export default as Trash2>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$user$2d$plus$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__UserPlus$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/user-plus.js [app-client] (ecmascript) <export default as UserPlus>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$wrench$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Wrench$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/wrench.js [app-client] (ecmascript) <export default as Wrench>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$x$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__X$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/x.js [app-client] (ecmascript) <export default as X>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$circle$2d$x$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__XCircle$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/circle-x.js [app-client] (ecmascript) <export default as XCircle>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$client$2f$app$2d$dir$2f$link$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/client/app-dir/link.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$ed6a5a__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/apps/web/src/actions/data:ed6a5a [app-client] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$1e3961__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/apps/web/src/actions/data:1e3961 [app-client] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$0a86c9__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/apps/web/src/actions/data:0a86c9 [app-client] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$notifications$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/src/lib/stores/notifications-store.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$sync$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/src/lib/stores/sync-store.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$database$2f$src$2f$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/database/src/client.ts [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
"use client";
;
;
;
;
;
;
;
// Time constants in milliseconds
const MS_PER_SECOND = 1000;
const MS_PER_MINUTE = 60 * MS_PER_SECOND;
const MS_PER_HOUR = 60 * MS_PER_MINUTE;
const notificationIcons = {
    message: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$message$2d$square$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__MessageSquare$3e$__["MessageSquare"],
    alert: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$circle$2d$alert$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__AlertCircle$3e$__["AlertCircle"],
    payment: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$dollar$2d$sign$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__DollarSign$3e$__["DollarSign"],
    job: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$wrench$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Wrench$3e$__["Wrench"],
    team: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$user$2d$plus$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__UserPlus$3e$__["UserPlus"],
    system: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$settings$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Settings$3e$__["Settings"]
};
const notificationColors = {
    message: "text-primary",
    alert: "text-warning",
    payment: "text-success",
    job: "text-accent-foreground",
    team: "text-cyan-500",
    system: "text-muted-foreground"
};
// Display constants
const ONE_MINUTE = 60;
const ONE_HOUR = 24;
const ONE_WEEK = 7;
function formatBadgeCount(count) {
    if (count <= 9) {
        return count.toString();
    }
    if (count <= 99) {
        return "99+";
    }
    if (count <= 999) {
        return "999+";
    }
    return "1K+";
}
function formatTimestamp(date) {
    const now = new Date();
    const diffMs = now.getTime() - date.getTime();
    const diffMins = Math.floor(diffMs / MS_PER_MINUTE);
    const diffHours = Math.floor(diffMs / MS_PER_HOUR);
    const diffDays = Math.floor(diffMs / (MS_PER_HOUR * 24));
    if (diffMins < 1) {
        return "Just now";
    }
    if (diffMins < ONE_MINUTE) {
        return `${diffMins}m ago`;
    }
    if (diffHours < ONE_HOUR) {
        return `${diffHours}h ago`;
    }
    if (diffDays < ONE_WEEK) {
        return `${diffDays}d ago`;
    }
    return date.toLocaleDateString();
}
function NotificationBadge({ count }) {
    if (count === 0) {
        return null;
    }
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
        className: "bg-destructive absolute -top-1 -right-1 flex h-[18px] min-w-[18px] items-center justify-center rounded-full px-1.5 text-[0.625rem] leading-none font-bold text-white",
        children: formatBadgeCount(count)
    }, void 0, false, {
        fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
        lineNumber: 113,
        columnNumber: 3
    }, this);
}
_c = NotificationBadge;
function EmptyState() {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "flex flex-col items-center justify-center py-12 text-center",
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$bell$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Bell$3e$__["Bell"], {
                className: "text-muted-foreground/30 mb-3 size-12"
            }, void 0, false, {
                fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                lineNumber: 122,
                columnNumber: 4
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                className: "text-muted-foreground text-sm font-medium",
                children: "All caught up!"
            }, void 0, false, {
                fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                lineNumber: 123,
                columnNumber: 4
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                className: "text-muted-foreground text-xs",
                children: "No new notifications"
            }, void 0, false, {
                fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                lineNumber: 126,
                columnNumber: 4
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
        lineNumber: 121,
        columnNumber: 3
    }, this);
}
_c1 = EmptyState;
function NotificationsDropdown({ hasPhoneNumbers = false, hasPayrixAccount = false, payrixStatus = null } = {}) {
    _s();
    const [isOpen, setIsOpen] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const dropdownRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRef"])(null);
    // Get notifications from Zustand store
    const notifications = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$notifications$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useNotificationsStore"])({
        "NotificationsDropdown.useNotificationsStore[notifications]": (state)=>state.notifications
    }["NotificationsDropdown.useNotificationsStore[notifications]"]);
    const unreadCount = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$notifications$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useNotificationsStore"])({
        "NotificationsDropdown.useNotificationsStore[unreadCount]": (state)=>state.unreadCount
    }["NotificationsDropdown.useNotificationsStore[unreadCount]"]);
    const setNotifications = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$notifications$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useNotificationsStore"])({
        "NotificationsDropdown.useNotificationsStore[setNotifications]": (state)=>state.setNotifications
    }["NotificationsDropdown.useNotificationsStore[setNotifications]"]);
    const optimisticMarkAsRead = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$notifications$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useNotificationsStore"])({
        "NotificationsDropdown.useNotificationsStore[optimisticMarkAsRead]": (state)=>state.optimisticMarkAsRead
    }["NotificationsDropdown.useNotificationsStore[optimisticMarkAsRead]"]);
    const optimisticMarkAllAsRead = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$notifications$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useNotificationsStore"])({
        "NotificationsDropdown.useNotificationsStore[optimisticMarkAllAsRead]": (state)=>state.optimisticMarkAllAsRead
    }["NotificationsDropdown.useNotificationsStore[optimisticMarkAllAsRead]"]);
    const optimisticDelete = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$notifications$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useNotificationsStore"])({
        "NotificationsDropdown.useNotificationsStore[optimisticDelete]": (state)=>state.optimisticDelete
    }["NotificationsDropdown.useNotificationsStore[optimisticDelete]"]);
    const subscribe = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$notifications$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useNotificationsStore"])({
        "NotificationsDropdown.useNotificationsStore[subscribe]": (state)=>state.subscribe
    }["NotificationsDropdown.useNotificationsStore[subscribe]"]);
    const unsubscribe = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$notifications$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useNotificationsStore"])({
        "NotificationsDropdown.useNotificationsStore[unsubscribe]": (state)=>state.unsubscribe
    }["NotificationsDropdown.useNotificationsStore[unsubscribe]"]);
    // Get sync operations from sync store
    const operations = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$sync$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useSyncStore"])({
        "NotificationsDropdown.useSyncStore[operations]": (state)=>state.operations ?? []
    }["NotificationsDropdown.useSyncStore[operations]"]);
    const offlineQueue = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$sync$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useSyncStore"])({
        "NotificationsDropdown.useSyncStore[offlineQueue]": (state)=>state.offlineQueue ?? []
    }["NotificationsDropdown.useSyncStore[offlineQueue]"]);
    const clearCompleted = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$sync$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useSyncStore"])({
        "NotificationsDropdown.useSyncStore[clearCompleted]": (state)=>state.clearCompleted
    }["NotificationsDropdown.useSyncStore[clearCompleted]"]);
    // Filter for active operations
    const activeOperations = operations.filter((op)=>op.status === "in_progress");
    const recentOperations = operations.filter((op)=>op.status === "completed" || op.status === "failed");
    const hasSyncActivity = activeOperations.length > 0 || offlineQueue.length > 0;
    const syncBadgeCount = activeOperations.length + offlineQueue.length;
    const totalBadgeCount = unreadCount + syncBadgeCount;
    // Load notifications and set up realtime subscription on mount
    const hasInitializedRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRef"])(false);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "NotificationsDropdown.useEffect": ()=>{
            if (!isOpen || hasInitializedRef.current) {
                return;
            }
            let cancelled = false;
            async function initialize() {
                try {
                    const supabase = (0, __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$database$2f$src$2f$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createClient"])();
                    if (!supabase) {
                        return;
                    }
                    const { data: { user } } = await supabase.auth.getUser();
                    if (!user) {
                        return;
                    }
                    const { data, error } = await supabase.from("notifications").select("*").eq("user_id", user.id).order("created_at", {
                        ascending: false
                    }).range(0, 49);
                    if (!cancelled && !error && data) {
                        setNotifications(data);
                    }
                    if (!cancelled) {
                        await subscribe(user.id);
                        hasInitializedRef.current = true;
                    }
                } catch (_error) {
                // Ignore initialization errors - component can retry later
                }
            }
            initialize();
            return ({
                "NotificationsDropdown.useEffect": ()=>{
                    cancelled = true;
                }
            })["NotificationsDropdown.useEffect"];
        }
    }["NotificationsDropdown.useEffect"], [
        isOpen,
        setNotifications,
        subscribe
    ]);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "NotificationsDropdown.useEffect": ()=>{
            return ({
                "NotificationsDropdown.useEffect": ()=>{
                    unsubscribe();
                }
            })["NotificationsDropdown.useEffect"];
        }
    }["NotificationsDropdown.useEffect"], [
        unsubscribe
    ]);
    // Handle click outside to close dropdown
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "NotificationsDropdown.useEffect": ()=>{
            const handleClickOutside = {
                "NotificationsDropdown.useEffect.handleClickOutside": (event)=>{
                    if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {
                        setIsOpen(false);
                    }
                }
            }["NotificationsDropdown.useEffect.handleClickOutside"];
            if (isOpen) {
                document.addEventListener("mousedown", handleClickOutside);
            }
            return ({
                "NotificationsDropdown.useEffect": ()=>{
                    document.removeEventListener("mousedown", handleClickOutside);
                }
            })["NotificationsDropdown.useEffect"];
        }
    }["NotificationsDropdown.useEffect"], [
        isOpen
    ]);
    // Mark notification as read with optimistic update
    const markAsRead = async (id)=>{
        // Optimistic update
        optimisticMarkAsRead(id);
        // Server action
        const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$0a86c9__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["markAsRead"])(id);
        if (!result.success) {
            // Optimistic update already applied - log error but don't block UI
            console.error("Failed to mark notification as read:", result.error);
        }
    };
    // Mark all notifications as read with optimistic update
    const markAllAsRead = async ()=>{
        // Optimistic update
        optimisticMarkAllAsRead();
        // Server action
        const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$1e3961__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["markAllAsRead"])();
        if (!result.success) {
            // Optimistic update already applied - log error but don't block UI
            console.error("Failed to mark all notifications as read:", result.error);
        }
    };
    // Delete notification with optimistic update
    const deleteNotification = async (id)=>{
        // Optimistic update
        optimisticDelete(id);
        // Server action
        const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$ed6a5a__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["deleteNotification"])(id);
        if (!result.success) {
            // Optimistic update already applied - log error but don't block UI
            console.error("Failed to delete notification:", result.error);
        }
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "relative overflow-visible",
        ref: dropdownRef,
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                className: "hover-gradient hover:border-primary/20 hover:bg-primary/10 hover:text-primary focus-visible:ring-ring/50 relative flex h-8 w-8 items-center justify-center rounded-md border border-transparent transition-all outline-none focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50",
                onClick: ()=>setIsOpen(!isOpen),
                title: hasSyncActivity ? "Notifications & Sync Status" : "Notifications",
                type: "button",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "relative",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$bell$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Bell$3e$__["Bell"], {
                                className: "size-4"
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                lineNumber: 310,
                                columnNumber: 6
                            }, this),
                            hasSyncActivity && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$loader$2d$circle$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Loader2$3e$__["Loader2"], {
                                className: "text-primary absolute -top-1 -right-1 size-2.5 animate-spin"
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                lineNumber: 312,
                                columnNumber: 7
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                        lineNumber: 309,
                        columnNumber: 5
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(NotificationBadge, {
                        count: totalBadgeCount
                    }, void 0, false, {
                        fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                        lineNumber: 315,
                        columnNumber: 5
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                        className: "sr-only",
                        children: [
                            "Notifications ",
                            unreadCount > 0 && `(${unreadCount} unread)`,
                            hasSyncActivity && `  ${syncBadgeCount} syncing`
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                        lineNumber: 316,
                        columnNumber: 5
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                lineNumber: 301,
                columnNumber: 4
            }, this),
            isOpen && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "bg-popover text-popover-foreground absolute top-full right-0 z-50 mt-2 flex w-[380px] max-w-[calc(100vw-2rem)] flex-col rounded-lg border shadow-lg",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex items-center justify-between border-b px-4 py-2.5",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("h3", {
                                        className: "text-sm font-semibold",
                                        children: hasSyncActivity ? "Sync & Notifications" : "Notifications"
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                        lineNumber: 327,
                                        columnNumber: 8
                                    }, this),
                                    (unreadCount > 0 || hasSyncActivity) && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                        className: "text-muted-foreground text-xs",
                                        children: [
                                            hasSyncActivity && `${syncBadgeCount} syncing`,
                                            hasSyncActivity && unreadCount > 0 && "  ",
                                            unreadCount > 0 && `${unreadCount} unread`
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                        lineNumber: 331,
                                        columnNumber: 9
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                lineNumber: 326,
                                columnNumber: 7
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "flex items-center gap-1",
                                children: [
                                    unreadCount > 0 && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                        className: "hover:bg-accent flex h-7 w-7 items-center justify-center rounded-md transition-colors",
                                        onClick: markAllAsRead,
                                        title: "Mark all as read",
                                        type: "button",
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$check$2d$check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__CheckCheck$3e$__["CheckCheck"], {
                                            className: "size-3.5"
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                            lineNumber: 346,
                                            columnNumber: 10
                                        }, this)
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                        lineNumber: 340,
                                        columnNumber: 9
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                        className: "hover:bg-accent flex h-7 w-7 items-center justify-center rounded-md transition-colors",
                                        onClick: ()=>setIsOpen(false),
                                        type: "button",
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$x$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__X$3e$__["X"], {
                                            className: "size-3.5"
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                            lineNumber: 354,
                                            columnNumber: 9
                                        }, this)
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                        lineNumber: 349,
                                        columnNumber: 8
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                lineNumber: 338,
                                columnNumber: 7
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                        lineNumber: 325,
                        columnNumber: 6
                    }, this),
                    (activeOperations.length > 0 || offlineQueue.length > 0 || recentOperations.length > 0) && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "border-b",
                        children: [
                            activeOperations.length > 0 && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "space-y-1 px-4 py-3",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                        className: "text-muted-foreground mb-2 text-xs font-medium tracking-wider uppercase",
                                        children: "Active"
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                        lineNumber: 367,
                                        columnNumber: 10
                                    }, this),
                                    activeOperations.map((op)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                            className: "bg-primary/5 flex items-start gap-2 rounded-md p-2",
                                            children: [
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$loader$2d$circle$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Loader2$3e$__["Loader2"], {
                                                    className: "text-primary mt-0.5 size-3.5 shrink-0 animate-spin"
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                    lineNumber: 375,
                                                    columnNumber: 12
                                                }, this),
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                    className: "min-w-0 flex-1",
                                                    children: [
                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                                            className: "text-sm leading-tight font-medium",
                                                            children: op.title
                                                        }, void 0, false, {
                                                            fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                            lineNumber: 377,
                                                            columnNumber: 13
                                                        }, this),
                                                        op.description && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                                            className: "text-muted-foreground text-xs",
                                                            children: op.description
                                                        }, void 0, false, {
                                                            fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                            lineNumber: 381,
                                                            columnNumber: 14
                                                        }, this),
                                                        op.total && op.total > 0 && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                            className: "mt-1 space-y-0.5",
                                                            children: [
                                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                                    className: "bg-muted h-1 overflow-hidden rounded-full",
                                                                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                                        className: "bg-primary h-full transition-all",
                                                                        style: {
                                                                            width: `${(op.current ?? 0) / op.total * 100}%`
                                                                        }
                                                                    }, void 0, false, {
                                                                        fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                                        lineNumber: 388,
                                                                        columnNumber: 16
                                                                    }, this)
                                                                }, void 0, false, {
                                                                    fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                                    lineNumber: 387,
                                                                    columnNumber: 15
                                                                }, this),
                                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                                                    className: "text-muted-foreground text-[0.625rem]",
                                                                    children: [
                                                                        op.current ?? 0,
                                                                        " / ",
                                                                        op.total
                                                                    ]
                                                                }, void 0, true, {
                                                                    fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                                    lineNumber: 395,
                                                                    columnNumber: 15
                                                                }, this)
                                                            ]
                                                        }, void 0, true, {
                                                            fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                            lineNumber: 386,
                                                            columnNumber: 14
                                                        }, this)
                                                    ]
                                                }, void 0, true, {
                                                    fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                    lineNumber: 376,
                                                    columnNumber: 12
                                                }, this)
                                            ]
                                        }, op.id, true, {
                                            fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                            lineNumber: 371,
                                            columnNumber: 11
                                        }, this))
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                lineNumber: 366,
                                columnNumber: 9
                            }, this),
                            offlineQueue.length > 0 && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "space-y-1 px-4 py-3",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                        className: "text-muted-foreground mb-2 flex items-center gap-1.5 text-xs font-medium tracking-wider uppercase",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                className: "size-1.5 animate-pulse rounded-full bg-orange-500"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                lineNumber: 410,
                                                columnNumber: 11
                                            }, this),
                                            "Queued (Offline)"
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                        lineNumber: 409,
                                        columnNumber: 10
                                    }, this),
                                    offlineQueue.map((op)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                            className: "flex items-start gap-2 rounded-md bg-orange-50 p-2 dark:bg-orange-950/20",
                                            children: [
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$clock$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Clock$3e$__["Clock"], {
                                                    className: "mt-0.5 size-3.5 shrink-0 text-orange-500"
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                    lineNumber: 418,
                                                    columnNumber: 12
                                                }, this),
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                    className: "min-w-0 flex-1",
                                                    children: [
                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                                            className: "text-sm leading-tight font-medium",
                                                            children: op.action
                                                        }, void 0, false, {
                                                            fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                            lineNumber: 420,
                                                            columnNumber: 13
                                                        }, this),
                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                                            className: "mt-0.5 text-[0.625rem] text-orange-600 dark:text-orange-400",
                                                            children: "Will sync when online"
                                                        }, void 0, false, {
                                                            fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                            lineNumber: 423,
                                                            columnNumber: 13
                                                        }, this)
                                                    ]
                                                }, void 0, true, {
                                                    fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                    lineNumber: 419,
                                                    columnNumber: 12
                                                }, this)
                                            ]
                                        }, op.id, true, {
                                            fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                            lineNumber: 414,
                                            columnNumber: 11
                                        }, this))
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                lineNumber: 408,
                                columnNumber: 9
                            }, this),
                            recentOperations.length > 0 && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "space-y-1 px-4 py-3",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "mb-2 flex items-center justify-between",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                                className: "text-muted-foreground text-xs font-medium tracking-wider uppercase",
                                                children: "Recent"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                lineNumber: 436,
                                                columnNumber: 11
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                className: "text-muted-foreground hover:text-foreground text-xs",
                                                onClick: clearCompleted,
                                                type: "button",
                                                children: "Clear"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                lineNumber: 439,
                                                columnNumber: 11
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                        lineNumber: 435,
                                        columnNumber: 10
                                    }, this),
                                    recentOperations.map((op)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                            className: `flex items-start gap-2 rounded-md p-2 ${op.status === "completed" ? "bg-green-50 dark:bg-green-950/20" : "bg-red-50 dark:bg-red-950/20"}`,
                                            children: [
                                                op.status === "completed" ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$circle$2d$check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__CheckCircle2$3e$__["CheckCircle2"], {
                                                    className: "mt-0.5 size-3.5 shrink-0 text-green-600 dark:text-green-400"
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                    lineNumber: 457,
                                                    columnNumber: 13
                                                }, this) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$circle$2d$x$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__XCircle$3e$__["XCircle"], {
                                                    className: "mt-0.5 size-3.5 shrink-0 text-red-600 dark:text-red-400"
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                    lineNumber: 459,
                                                    columnNumber: 13
                                                }, this),
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                    className: "min-w-0 flex-1",
                                                    children: [
                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                                            className: "text-sm leading-tight font-medium",
                                                            children: op.title
                                                        }, void 0, false, {
                                                            fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                            lineNumber: 462,
                                                            columnNumber: 13
                                                        }, this),
                                                        op.error && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                                            className: "text-xs text-red-600 dark:text-red-400",
                                                            children: op.error
                                                        }, void 0, false, {
                                                            fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                            lineNumber: 466,
                                                            columnNumber: 14
                                                        }, this)
                                                    ]
                                                }, void 0, true, {
                                                    fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                    lineNumber: 461,
                                                    columnNumber: 12
                                                }, this)
                                            ]
                                        }, op.id, true, {
                                            fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                            lineNumber: 448,
                                            columnNumber: 11
                                        }, this))
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                lineNumber: 434,
                                columnNumber: 9
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                        lineNumber: 363,
                        columnNumber: 7
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "max-h-[450px] overflow-y-auto",
                        children: [
                            !hasPhoneNumbers && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "border-b",
                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "group bg-warning/10 hover:bg-warning/15 relative px-4 py-3 transition-colors",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                            className: "bg-warning absolute top-0 left-0 h-full w-0.5"
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                            lineNumber: 485,
                                            columnNumber: 10
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                            className: "flex gap-3",
                                            children: [
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                    className: "text-warning mt-0.5 shrink-0",
                                                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$phone$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Phone$3e$__["Phone"], {
                                                        className: "size-4"
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                        lineNumber: 490,
                                                        columnNumber: 12
                                                    }, this)
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                    lineNumber: 489,
                                                    columnNumber: 11
                                                }, this),
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                    className: "min-w-0 flex-1 space-y-1",
                                                    children: [
                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                                            className: "text-sm leading-snug font-medium",
                                                            children: "Phone System Not Configured"
                                                        }, void 0, false, {
                                                            fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                            lineNumber: 495,
                                                            columnNumber: 12
                                                        }, this),
                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                                            className: "text-muted-foreground text-xs leading-relaxed",
                                                            children: "You cannot use calling, texting, or communication features without setting up phone numbers. Complete the setup to enable phone system capabilities."
                                                        }, void 0, false, {
                                                            fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                            lineNumber: 498,
                                                            columnNumber: 12
                                                        }, this),
                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                            className: "flex items-center justify-between gap-2 pt-1",
                                                            children: [
                                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                                    className: "text-muted-foreground flex items-center gap-1 text-xs",
                                                                    children: [
                                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$circle$2d$alert$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__AlertCircle$3e$__["AlertCircle"], {
                                                                            className: "size-3"
                                                                        }, void 0, false, {
                                                                            fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                                            lineNumber: 507,
                                                                            columnNumber: 14
                                                                        }, this),
                                                                        "System Alert"
                                                                    ]
                                                                }, void 0, true, {
                                                                    fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                                    lineNumber: 506,
                                                                    columnNumber: 13
                                                                }, this),
                                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                                    className: "flex items-center gap-1",
                                                                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$client$2f$app$2d$dir$2f$link$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                                                                        className: "bg-warning/20 text-warning hover:bg-warning/30 rounded px-2 py-1 text-xs font-medium transition-colors",
                                                                        href: "/welcome?step=3",
                                                                        onClick: ()=>setIsOpen(false),
                                                                        children: "Complete Setup"
                                                                    }, void 0, false, {
                                                                        fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                                        lineNumber: 513,
                                                                        columnNumber: 14
                                                                    }, this)
                                                                }, void 0, false, {
                                                                    fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                                    lineNumber: 512,
                                                                    columnNumber: 13
                                                                }, this)
                                                            ]
                                                        }, void 0, true, {
                                                            fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                            lineNumber: 505,
                                                            columnNumber: 12
                                                        }, this)
                                                    ]
                                                }, void 0, true, {
                                                    fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                    lineNumber: 494,
                                                    columnNumber: 11
                                                }, this)
                                            ]
                                        }, void 0, true, {
                                            fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                            lineNumber: 487,
                                            columnNumber: 10
                                        }, this)
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                    lineNumber: 483,
                                    columnNumber: 9
                                }, this)
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                lineNumber: 482,
                                columnNumber: 8
                            }, this),
                            !hasPayrixAccount && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "border-b",
                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "group bg-warning/10 hover:bg-warning/15 relative px-4 py-3 transition-colors",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                            className: "bg-warning absolute top-0 left-0 h-full w-0.5"
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                            lineNumber: 533,
                                            columnNumber: 10
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                            className: "flex gap-3",
                                            children: [
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                    className: "text-warning mt-0.5 shrink-0",
                                                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$credit$2d$card$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__CreditCard$3e$__["CreditCard"], {
                                                        className: "size-4"
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                        lineNumber: 538,
                                                        columnNumber: 12
                                                    }, this)
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                    lineNumber: 537,
                                                    columnNumber: 11
                                                }, this),
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                    className: "min-w-0 flex-1 space-y-1",
                                                    children: [
                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                                            className: "text-sm leading-snug font-medium",
                                                            children: "Payment Processing Not Configured"
                                                        }, void 0, false, {
                                                            fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                            lineNumber: 543,
                                                            columnNumber: 12
                                                        }, this),
                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                                            className: "text-muted-foreground text-xs leading-relaxed",
                                                            children: "You cannot collect payments from customers without setting up your merchant account. Complete the setup to start accepting payments on invoices and estimates."
                                                        }, void 0, false, {
                                                            fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                            lineNumber: 546,
                                                            columnNumber: 12
                                                        }, this),
                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                            className: "flex items-center justify-between gap-2 pt-1",
                                                            children: [
                                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                                    className: "text-muted-foreground flex items-center gap-1 text-xs",
                                                                    children: [
                                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$circle$2d$alert$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__AlertCircle$3e$__["AlertCircle"], {
                                                                            className: "size-3"
                                                                        }, void 0, false, {
                                                                            fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                                            lineNumber: 555,
                                                                            columnNumber: 14
                                                                        }, this),
                                                                        "System Alert"
                                                                    ]
                                                                }, void 0, true, {
                                                                    fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                                    lineNumber: 554,
                                                                    columnNumber: 13
                                                                }, this),
                                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                                    className: "flex items-center gap-1",
                                                                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$client$2f$app$2d$dir$2f$link$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                                                                        className: "bg-warning/20 text-warning hover:bg-warning/30 rounded px-2 py-1 text-xs font-medium transition-colors",
                                                                        href: "/welcome?step=5",
                                                                        onClick: ()=>setIsOpen(false),
                                                                        children: "Complete Setup"
                                                                    }, void 0, false, {
                                                                        fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                                        lineNumber: 561,
                                                                        columnNumber: 14
                                                                    }, this)
                                                                }, void 0, false, {
                                                                    fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                                    lineNumber: 560,
                                                                    columnNumber: 13
                                                                }, this)
                                                            ]
                                                        }, void 0, true, {
                                                            fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                            lineNumber: 553,
                                                            columnNumber: 12
                                                        }, this)
                                                    ]
                                                }, void 0, true, {
                                                    fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                    lineNumber: 542,
                                                    columnNumber: 11
                                                }, this)
                                            ]
                                        }, void 0, true, {
                                            fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                            lineNumber: 535,
                                            columnNumber: 10
                                        }, this)
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                    lineNumber: 531,
                                    columnNumber: 9
                                }, this)
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                lineNumber: 530,
                                columnNumber: 8
                            }, this),
                            notifications.length === 0 && hasPhoneNumbers && hasPayrixAccount ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(EmptyState, {}, void 0, false, {
                                fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                lineNumber: 579,
                                columnNumber: 8
                            }, this) : notifications.length > 0 ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "divide-y",
                                children: notifications.map((notification)=>{
                                    const Icon = notificationIcons[notification.type];
                                    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: `group hover:bg-accent/50 relative px-4 py-3 transition-colors ${notification.read ? "" : "bg-primary/5"}`,
                                        children: [
                                            !notification.read && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: "bg-primary absolute top-0 left-0 h-full w-0.5"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                lineNumber: 593,
                                                columnNumber: 13
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: "flex gap-3",
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                        className: `mt-0.5 shrink-0 ${notificationColors[notification.type]}`,
                                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(Icon, {
                                                            className: "size-4"
                                                        }, void 0, false, {
                                                            fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                            lineNumber: 601,
                                                            columnNumber: 14
                                                        }, this)
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                        lineNumber: 598,
                                                        columnNumber: 13
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                        className: "min-w-0 flex-1 space-y-1",
                                                        children: [
                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                                                className: "text-sm leading-snug font-medium",
                                                                children: notification.title
                                                            }, void 0, false, {
                                                                fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                                lineNumber: 606,
                                                                columnNumber: 14
                                                            }, this),
                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                                                className: "text-muted-foreground text-xs leading-relaxed",
                                                                children: notification.message
                                                            }, void 0, false, {
                                                                fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                                lineNumber: 609,
                                                                columnNumber: 14
                                                            }, this),
                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                                className: "flex items-center justify-between gap-2 pt-1",
                                                                children: [
                                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                                        className: "text-muted-foreground flex items-center gap-1 text-xs",
                                                                        children: [
                                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$clock$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Clock$3e$__["Clock"], {
                                                                                className: "size-3"
                                                                            }, void 0, false, {
                                                                                fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                                                lineNumber: 616,
                                                                                columnNumber: 16
                                                                            }, this),
                                                                            formatTimestamp(new Date(notification.created_at))
                                                                        ]
                                                                    }, void 0, true, {
                                                                        fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                                        lineNumber: 615,
                                                                        columnNumber: 15
                                                                    }, this),
                                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                                        className: "flex items-center gap-1",
                                                                        children: [
                                                                            notification.action_url && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$client$2f$app$2d$dir$2f$link$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                                                                                className: "text-primary hover:bg-primary/10 rounded px-2 py-1 text-xs font-medium transition-colors",
                                                                                href: notification.action_url,
                                                                                onClick: ()=>{
                                                                                    markAsRead(notification.id);
                                                                                    setIsOpen(false);
                                                                                },
                                                                                children: notification.action_label || "View"
                                                                            }, void 0, false, {
                                                                                fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                                                lineNumber: 625,
                                                                                columnNumber: 17
                                                                            }, this),
                                                                            !notification.read && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                                                className: "hover:bg-accent flex h-6 w-6 items-center justify-center rounded transition-colors",
                                                                                onClick: ()=>markAsRead(notification.id),
                                                                                title: "Mark as read",
                                                                                type: "button",
                                                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Check$3e$__["Check"], {
                                                                                    className: "size-3"
                                                                                }, void 0, false, {
                                                                                    fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                                                    lineNumber: 643,
                                                                                    columnNumber: 18
                                                                                }, this)
                                                                            }, void 0, false, {
                                                                                fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                                                lineNumber: 637,
                                                                                columnNumber: 17
                                                                            }, this),
                                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                                                                className: "hover:bg-destructive/10 hover:text-destructive flex h-6 w-6 items-center justify-center rounded transition-colors",
                                                                                onClick: ()=>deleteNotification(notification.id),
                                                                                title: "Delete",
                                                                                type: "button",
                                                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$trash$2d$2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Trash2$3e$__["Trash2"], {
                                                                                    className: "size-3"
                                                                                }, void 0, false, {
                                                                                    fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                                                    lineNumber: 654,
                                                                                    columnNumber: 17
                                                                                }, this)
                                                                            }, void 0, false, {
                                                                                fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                                                lineNumber: 646,
                                                                                columnNumber: 16
                                                                            }, this)
                                                                        ]
                                                                    }, void 0, true, {
                                                                        fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                                        lineNumber: 623,
                                                                        columnNumber: 15
                                                                    }, this)
                                                                ]
                                                            }, void 0, true, {
                                                                fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                                lineNumber: 614,
                                                                columnNumber: 14
                                                            }, this)
                                                        ]
                                                    }, void 0, true, {
                                                        fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                        lineNumber: 605,
                                                        columnNumber: 13
                                                    }, this)
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                                lineNumber: 596,
                                                columnNumber: 12
                                            }, this)
                                        ]
                                    }, notification.id, true, {
                                        fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                        lineNumber: 585,
                                        columnNumber: 11
                                    }, this);
                                })
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                                lineNumber: 581,
                                columnNumber: 8
                            }, this) : null
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                        lineNumber: 479,
                        columnNumber: 6
                    }, this),
                    notifications.length > 0 && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "border-t px-4 py-2",
                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$client$2f$app$2d$dir$2f$link$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                            className: "text-primary hover:bg-accent flex items-center justify-center rounded-md py-1.5 text-xs font-medium transition-colors",
                            href: "/dashboard/notifications",
                            onClick: ()=>setIsOpen(false),
                            children: "View all notifications"
                        }, void 0, false, {
                            fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                            lineNumber: 670,
                            columnNumber: 8
                        }, this)
                    }, void 0, false, {
                        fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                        lineNumber: 669,
                        columnNumber: 7
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
                lineNumber: 323,
                columnNumber: 5
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/apps/web/src/components/layout/notifications-dropdown.tsx",
        lineNumber: 300,
        columnNumber: 3
    }, this);
}
_s(NotificationsDropdown, "gV5YhcGJYKCGY+Wb598pJshkGtA=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$notifications$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useNotificationsStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$notifications$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useNotificationsStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$notifications$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useNotificationsStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$notifications$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useNotificationsStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$notifications$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useNotificationsStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$notifications$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useNotificationsStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$notifications$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useNotificationsStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$notifications$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useNotificationsStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$sync$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useSyncStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$sync$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useSyncStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$sync$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useSyncStore"]
    ];
});
_c2 = NotificationsDropdown;
var _c, _c1, _c2;
__turbopack_context__.k.register(_c, "NotificationBadge");
__turbopack_context__.k.register(_c1, "EmptyState");
__turbopack_context__.k.register(_c2, "NotificationsDropdown");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:0d28fa [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"4035496a233e28ec394eae2146957ccf9f344cb802":"makeCall"},"apps/web/src/actions/telnyx.ts",""] */ __turbopack_context__.s([
    "makeCall",
    ()=>makeCall
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var makeCall = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("4035496a233e28ec394eae2146957ccf9f344cb802", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "makeCall"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vdGVsbnl4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGVsbnl4IFNlcnZlciBBY3Rpb25zXG4gKlxuICogU2VydmVyLXNpZGUgYWN0aW9ucyBmb3IgVGVsbnl4IFZvSVAgb3BlcmF0aW9uczpcbiAqIC0gUGhvbmUgbnVtYmVyIG1hbmFnZW1lbnRcbiAqIC0gQ2FsbCBvcGVyYXRpb25zXG4gKiAtIFNNUyBvcGVyYXRpb25zXG4gKiAtIFZvaWNlbWFpbCBvcGVyYXRpb25zXG4gKlxuICogQWxsIGFjdGlvbnMgaW5jbHVkZSBwcm9wZXIgYXV0aGVudGljYXRpb24gYW5kIGF1dGhvcml6YXRpb24gY2hlY2tzLlxuICovXG5cblwidXNlIHNlcnZlclwiO1xuXG5pbXBvcnQgdHlwZSB7IFN1cGFiYXNlQ2xpZW50IH0gZnJvbSBcIkBzdXBhYmFzZS9zdXBhYmFzZS1qc1wiO1xuaW1wb3J0IHsgcmV2YWxpZGF0ZVBhdGggfSBmcm9tIFwibmV4dC9jYWNoZVwiO1xuaW1wb3J0IHsgaGVhZGVycyB9IGZyb20gXCJuZXh0L2hlYWRlcnNcIjtcbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gXCJAL2xpYi9zdXBhYmFzZS9zZXJ2ZXJcIjtcbmltcG9ydCB7XG5cdGFuc3dlckNhbGwsXG5cdGhhbmd1cENhbGwsXG5cdGluaXRpYXRlQ2FsbCxcblx0cmVqZWN0Q2FsbCxcblx0c3RhcnRSZWNvcmRpbmcsXG5cdHN0b3BSZWNvcmRpbmcsXG59IGZyb20gXCJAL2xpYi90ZWxueXgvY2FsbHNcIjtcbmltcG9ydCB7IFRFTE5ZWF9DT05GSUcgfSBmcm9tIFwiQC9saWIvdGVsbnl4L2NsaWVudFwiO1xuaW1wb3J0IHtcblx0dmFsaWRhdGVDYWxsQ29uZmlnLFxuXHR2YWxpZGF0ZVNtc0NvbmZpZyxcbn0gZnJvbSBcIkAvbGliL3RlbG55eC9jb25maWctdmFsaWRhdG9yXCI7XG5pbXBvcnQgeyB2ZXJpZnlDb25uZWN0aW9uIH0gZnJvbSBcIkAvbGliL3RlbG55eC9jb25uZWN0aW9uLXNldHVwXCI7XG5pbXBvcnQgeyBmb3JtYXRQaG9uZU51bWJlciwgc2VuZE1NUywgc2VuZFNNUyB9IGZyb20gXCJAL2xpYi90ZWxueXgvbWVzc2FnaW5nXCI7XG5pbXBvcnQgeyB2ZXJpZnlNZXNzYWdpbmdQcm9maWxlIH0gZnJvbSBcIkAvbGliL3RlbG55eC9tZXNzYWdpbmctcHJvZmlsZS1zZXR1cFwiO1xuaW1wb3J0IHtcblx0dHlwZSBOdW1iZXJGZWF0dXJlLFxuXHR0eXBlIE51bWJlclR5cGUsXG5cdHB1cmNoYXNlTnVtYmVyLFxuXHRyZWxlYXNlTnVtYmVyLFxuXHRzZWFyY2hBdmFpbGFibGVOdW1iZXJzLFxufSBmcm9tIFwiQC9saWIvdGVsbnl4L251bWJlcnNcIjtcbmltcG9ydCB7XG5cdHZlcmlmeVNtc0NhcGFiaWxpdHksXG5cdHZlcmlmeVZvaWNlQ2FwYWJpbGl0eSxcbn0gZnJvbSBcIkAvbGliL3RlbG55eC9waG9uZS1udW1iZXItc2V0dXBcIjtcbmltcG9ydCB7XG5cdHR5cGUgQ29tcGFueVRlbG55eFNldHRpbmdzUm93LFxuXHRlbnN1cmVDb21wYW55VGVsbnl4U2V0dXAsXG5cdGZldGNoQ29tcGFueVRlbG55eFNldHRpbmdzLFxufSBmcm9tIFwiQC9saWIvdGVsbnl4L3Byb3Zpc2lvbi1jb21wYW55XCI7XG5pbXBvcnQgdHlwZSB7IERhdGFiYXNlLCBKc29uIH0gZnJvbSBcIkAvdHlwZXMvc3VwYWJhc2VcIjtcbmltcG9ydCB7IGVuc3VyZU1lc3NhZ2luZ0NhbXBhaWduIH0gZnJvbSBcIi4vbWVzc2FnaW5nLWJyYW5kaW5nXCI7XG5cbnR5cGUgVHlwZWRTdXBhYmFzZUNsaWVudCA9IFN1cGFiYXNlQ2xpZW50PERhdGFiYXNlPjtcblxuZnVuY3Rpb24gbm9ybWFsaXplUGhvbmVOdW1iZXIocGhvbmVOdW1iZXI6IHN0cmluZyk6IHN0cmluZyB7XG5cdHJldHVybiBmb3JtYXRQaG9uZU51bWJlcihwaG9uZU51bWJlcik7XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RBcmVhQ29kZShwaG9uZU51bWJlcjogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCB7XG5cdGNvbnN0IGRpZ2l0cyA9IHBob25lTnVtYmVyLnJlcGxhY2UoL1xcRC9nLCBcIlwiKTtcblx0aWYgKGRpZ2l0cy5sZW5ndGggPT09IDExICYmIGRpZ2l0cy5zdGFydHNXaXRoKFwiMVwiKSkge1xuXHRcdHJldHVybiBkaWdpdHMuc2xpY2UoMSwgNCk7XG5cdH1cblx0aWYgKGRpZ2l0cy5sZW5ndGggPT09IDEwKSB7XG5cdFx0cmV0dXJuIGRpZ2l0cy5zbGljZSgwLCAzKTtcblx0fVxuXHRyZXR1cm4gbnVsbDtcbn1cblxuY29uc3QgREVGQVVMVF9NRVNTQUdJTkdfUFJPRklMRV9JRCA9XG5cdHByb2Nlc3MuZW52LlRFTE5ZWF9ERUZBVUxUX01FU1NBR0lOR19QUk9GSUxFX0lEIHx8XG5cdHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1RFTE5ZWF9NRVNTQUdJTkdfUFJPRklMRV9JRCB8fFxuXHRcIlwiO1xuXG5jb25zdCBERUZBVUxUX1BIT05FX05VTUJFUl9GRUFUVVJFUzogSnNvbiA9IFtcInZvaWNlXCIsIFwic21zXCIsIFwibW1zXCJdO1xuXG5mdW5jdGlvbiBmb3JtYXREaXNwbGF5UGhvbmVOdW1iZXIocGhvbmVOdW1iZXI6IHN0cmluZyk6IHN0cmluZyB7XG5cdGNvbnN0IGRpZ2l0cyA9IHBob25lTnVtYmVyLnJlcGxhY2UoL1xcRC9nLCBcIlwiKTtcblx0aWYgKGRpZ2l0cy5sZW5ndGggPT09IDExICYmIGRpZ2l0cy5zdGFydHNXaXRoKFwiMVwiKSkge1xuXHRcdHJldHVybiBgKzEgKCR7ZGlnaXRzLnNsaWNlKDEsIDQpfSkgJHtkaWdpdHMuc2xpY2UoNCwgNyl9LSR7ZGlnaXRzLnNsaWNlKDcpfWA7XG5cdH1cblx0aWYgKGRpZ2l0cy5sZW5ndGggPT09IDEwKSB7XG5cdFx0cmV0dXJuIGAoJHtkaWdpdHMuc2xpY2UoMCwgMyl9KSAke2RpZ2l0cy5zbGljZSgzLCA2KX0tJHtkaWdpdHMuc2xpY2UoNil9YDtcblx0fVxuXHRyZXR1cm4gcGhvbmVOdW1iZXI7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldENvbXBhbnlUZWxueXhTZXR0aW5ncyhcblx0c3VwYWJhc2U6IFR5cGVkU3VwYWJhc2VDbGllbnQsXG5cdGNvbXBhbnlJZDogc3RyaW5nIHwgbnVsbCxcbik6IFByb21pc2U8Q29tcGFueVRlbG55eFNldHRpbmdzUm93IHwgbnVsbD4ge1xuXHRpZiAoIWNvbXBhbnlJZCkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0Y29uc3QgZXhpc3RpbmcgPSBhd2FpdCBmZXRjaENvbXBhbnlUZWxueXhTZXR0aW5ncyhzdXBhYmFzZSwgY29tcGFueUlkKTtcblx0aWYgKGV4aXN0aW5nICYmIGV4aXN0aW5nLnN0YXR1cyA9PT0gXCJyZWFkeVwiKSB7XG5cdFx0cmV0dXJuIGV4aXN0aW5nO1xuXHR9XG5cblx0Y29uc3QgcHJvdmlzaW9uUmVzdWx0ID0gYXdhaXQgZW5zdXJlQ29tcGFueVRlbG55eFNldHVwKHtcblx0XHRjb21wYW55SWQsXG5cdFx0c3VwYWJhc2UsXG5cdH0pO1xuXG5cdGlmICghcHJvdmlzaW9uUmVzdWx0LnN1Y2Nlc3MpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdHJldHVybiBwcm92aXNpb25SZXN1bHQuc2V0dGluZ3MgPz8gbnVsbDtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplQmFzZVVybCh1cmw6IHN0cmluZyk6IHN0cmluZyB7XG5cdGNvbnN0IHRyaW1tZWQgPSB1cmwudHJpbSgpLnJlcGxhY2UoL1xcLyskLywgXCJcIik7XG5cdGlmICgvXmh0dHBzPzpcXC9cXC8vaS50ZXN0KHRyaW1tZWQpKSB7XG5cdFx0aWYgKC9eaHR0cDpcXC9cXC8vaS50ZXN0KHRyaW1tZWQpICYmICFpc0xvY2FsVXJsKHRyaW1tZWQpKSB7XG5cdFx0XHRyZXR1cm4gdHJpbW1lZC5yZXBsYWNlKC9eaHR0cDpcXC9cXC8vaSwgXCJodHRwczovL1wiKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRyaW1tZWQ7XG5cdH1cblx0cmV0dXJuIGBodHRwczovLyR7dHJpbW1lZH1gO1xufVxuXG5mdW5jdGlvbiBpc0xvY2FsVXJsKHVybDogc3RyaW5nKTogYm9vbGVhbiB7XG5cdGNvbnN0IGxvd2VyZWQgPSB1cmwudG9Mb3dlckNhc2UoKTtcblx0cmV0dXJuIChcblx0XHRsb3dlcmVkLmluY2x1ZGVzKFwibG9jYWxob3N0XCIpIHx8XG5cdFx0bG93ZXJlZC5pbmNsdWRlcyhcIjEyNy4wLjAuMVwiKSB8fFxuXHRcdGxvd2VyZWQuaW5jbHVkZXMoXCIwLjAuMC4wXCIpIHx8XG5cdFx0bG93ZXJlZC5lbmRzV2l0aChcIi5sb2NhbFwiKSB8fFxuXHRcdGxvd2VyZWQuaW5jbHVkZXMoXCI6Ly9sb2NhbFwiKVxuXHQpO1xufVxuXG5mdW5jdGlvbiBzaG91bGRVc2VVcmwodXJsOiBzdHJpbmcpOiBib29sZWFuIHtcblx0aWYgKCF1cmwpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0Y29uc3QgdHJpbW1lZCA9IHVybC50cmltKCk7XG5cdGlmICghdHJpbW1lZCkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXHRjb25zdCBpc0hvc3RlZFByb2R1Y3Rpb24gPVxuXHRcdChwcm9jZXNzLmVudi5WRVJDRUwgPT09IFwiMVwiICYmIHByb2Nlc3MuZW52LlZFUkNFTF9FTlYgPT09IFwicHJvZHVjdGlvblwiKSB8fFxuXHRcdHByb2Nlc3MuZW52LkRFUExPWU1FTlRfRU5WID09PSBcInByb2R1Y3Rpb25cIjtcblxuXHRpZiAoaXNIb3N0ZWRQcm9kdWN0aW9uICYmIGlzTG9jYWxVcmwodHJpbW1lZCkpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRyZXR1cm4gdHJ1ZTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0QmFzZUFwcFVybCgpOiBQcm9taXNlPHN0cmluZyB8IHVuZGVmaW5lZD4ge1xuXHRjb25zdCBjYW5kaWRhdGVzID0gW1xuXHRcdHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NJVEVfVVJMLFxuXHRcdHByb2Nlc3MuZW52LlNJVEVfVVJMLFxuXHRcdHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQUF9VUkwsXG5cdFx0cHJvY2Vzcy5lbnYuQVBQX1VSTCxcblx0XTtcblx0Zm9yIChjb25zdCBjYW5kaWRhdGUgb2YgY2FuZGlkYXRlcykge1xuXHRcdGlmIChjYW5kaWRhdGUgJiYgc2hvdWxkVXNlVXJsKGNhbmRpZGF0ZSkpIHtcblx0XHRcdHJldHVybiBub3JtYWxpemVCYXNlVXJsKGNhbmRpZGF0ZSk7XG5cdFx0fVxuXHR9XG5cblx0Y29uc3QgdmVyY2VsVXJsID0gcHJvY2Vzcy5lbnYuVkVSQ0VMX1VSTDtcblx0aWYgKHZlcmNlbFVybCAmJiBzaG91bGRVc2VVcmwodmVyY2VsVXJsKSkge1xuXHRcdHJldHVybiBub3JtYWxpemVCYXNlVXJsKFxuXHRcdFx0dmVyY2VsVXJsLnN0YXJ0c1dpdGgoXCJodHRwXCIpID8gdmVyY2VsVXJsIDogYGh0dHBzOi8vJHt2ZXJjZWxVcmx9YCxcblx0XHQpO1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCBoZHJzID0gYXdhaXQgaGVhZGVycygpO1xuXHRcdGNvbnN0IG9yaWdpbiA9IGhkcnMuZ2V0KFwib3JpZ2luXCIpO1xuXHRcdGlmIChvcmlnaW4gJiYgc2hvdWxkVXNlVXJsKG9yaWdpbikpIHtcblx0XHRcdHJldHVybiBub3JtYWxpemVCYXNlVXJsKG9yaWdpbik7XG5cdFx0fVxuXHRcdGNvbnN0IGhvc3QgPSBoZHJzLmdldChcImhvc3RcIik7XG5cdFx0aWYgKGhvc3QgJiYgc2hvdWxkVXNlVXJsKGhvc3QpKSB7XG5cdFx0XHRjb25zdCBwcm90b2NvbCA9IGhvc3QuaW5jbHVkZXMoXCJsb2NhbGhvc3RcIikgPyBcImh0dHBcIiA6IFwiaHR0cHNcIjtcblx0XHRcdHJldHVybiBub3JtYWxpemVCYXNlVXJsKGAke3Byb3RvY29sfTovLyR7aG9zdH1gKTtcblx0XHR9XG5cdH0gY2F0Y2gge1xuXHRcdC8vIGhlYWRlcnMoKSBub3QgYXZhaWxhYmxlIG91dHNpZGUgb2YgYSByZXF1ZXN0IGNvbnRleHRcblx0fVxuXG5cdHJldHVybiB1bmRlZmluZWQ7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGJ1aWxkQWJzb2x1dGVVcmwocGF0aDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+IHtcblx0Y29uc3QgYmFzZSA9IGF3YWl0IGdldEJhc2VBcHBVcmwoKTtcblx0aWYgKCFiYXNlKSB7XG5cdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0fVxuXHRjb25zdCBub3JtYWxpemVkUGF0aCA9IHBhdGguc3RhcnRzV2l0aChcIi9cIikgPyBwYXRoIDogYC8ke3BhdGh9YDtcblx0cmV0dXJuIGAke2Jhc2V9JHtub3JtYWxpemVkUGF0aH1gO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRUZWxueXhXZWJob29rVXJsKFxuXHRjb21wYW55SWQ/OiBzdHJpbmcsXG4pOiBQcm9taXNlPHN0cmluZyB8IHVuZGVmaW5lZD4ge1xuXHRpZiAoY29tcGFueUlkKSB7XG5cdFx0cmV0dXJuIGJ1aWxkQWJzb2x1dGVVcmwoYC9hcGkvd2ViaG9va3MvdGVsbnl4P2NvbXBhbnk9JHtjb21wYW55SWR9YCk7XG5cdH1cblx0cmV0dXJuIGJ1aWxkQWJzb2x1dGVVcmwoXCIvYXBpL3dlYmhvb2tzL3RlbG55eFwiKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0UGhvbmVOdW1iZXJJZChcblx0c3VwYWJhc2U6IFR5cGVkU3VwYWJhc2VDbGllbnQsXG5cdHBob25lTnVtYmVyOiBzdHJpbmcsXG4pOiBQcm9taXNlPHN0cmluZyB8IG51bGw+IHtcblx0Y29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVBob25lTnVtYmVyKHBob25lTnVtYmVyKTtcblx0Y29uc3QgeyBkYXRhIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdC5mcm9tKFwicGhvbmVfbnVtYmVyc1wiKVxuXHRcdC5zZWxlY3QoXCJpZFwiKVxuXHRcdC5lcShcInBob25lX251bWJlclwiLCBub3JtYWxpemVkKVxuXHRcdC5pcyhcImRlbGV0ZWRfYXRcIiwgbnVsbClcblx0XHQubWF5YmVTaW5nbGUoKTtcblxuXHRyZXR1cm4gZGF0YT8uaWQgPz8gbnVsbDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZW5zdXJlUGhvbmVOdW1iZXJSZWNvcmRFeGlzdHMoXG5cdHN1cGFiYXNlOiBUeXBlZFN1cGFiYXNlQ2xpZW50LFxuXHRjb21wYW55SWQ6IHN0cmluZyxcblx0cGhvbmVOdW1iZXI6IHN0cmluZyB8IG51bGwsXG4pOiBQcm9taXNlPHZvaWQ+IHtcblx0aWYgKCFwaG9uZU51bWJlcikge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVQaG9uZU51bWJlcihwaG9uZU51bWJlcik7XG5cdGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHQuZnJvbShcInBob25lX251bWJlcnNcIilcblx0XHQuc2VsZWN0KFwiaWRcIilcblx0XHQuZXEoXCJjb21wYW55X2lkXCIsIGNvbXBhbnlJZClcblx0XHQuZXEoXCJwaG9uZV9udW1iZXJcIiwgbm9ybWFsaXplZClcblx0XHQubGltaXQoMSk7XG5cblx0aWYgKGRhdGEgJiYgZGF0YS5sZW5ndGggPiAwKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0YXdhaXQgc3VwYWJhc2UuZnJvbShcInBob25lX251bWJlcnNcIikuaW5zZXJ0KHtcblx0XHRjb21wYW55X2lkOiBjb21wYW55SWQsXG5cdFx0cGhvbmVfbnVtYmVyOiBub3JtYWxpemVkLFxuXHRcdGZvcm1hdHRlZF9udW1iZXI6IGZvcm1hdERpc3BsYXlQaG9uZU51bWJlcihub3JtYWxpemVkKSxcblx0XHRjb3VudHJ5X2NvZGU6IFwiVVNcIixcblx0XHRhcmVhX2NvZGU6IGV4dHJhY3RBcmVhQ29kZShub3JtYWxpemVkKSxcblx0XHRudW1iZXJfdHlwZTogXCJsb2NhbFwiLFxuXHRcdHN0YXR1czogXCJhY3RpdmVcIixcblx0XHRmZWF0dXJlczogREVGQVVMVF9QSE9ORV9OVU1CRVJfRkVBVFVSRVMsXG5cdH0pO1xufVxuXG5hc3luYyBmdW5jdGlvbiByZXNvbHZlT3V0Ym91bmRQaG9uZU51bWJlcihcblx0c3VwYWJhc2U6IFR5cGVkU3VwYWJhc2VDbGllbnQsXG5cdGNvbXBhbnlJZDogc3RyaW5nLFxuXHRleHBsaWNpdEZyb20/OiBzdHJpbmcgfCBudWxsLFxuXHRkZWZhdWx0TnVtYmVyPzogc3RyaW5nIHwgbnVsbCxcbik6IFByb21pc2U8c3RyaW5nIHwgbnVsbD4ge1xuXHRpZiAoZXhwbGljaXRGcm9tKSB7XG5cdFx0cmV0dXJuIG5vcm1hbGl6ZVBob25lTnVtYmVyKGV4cGxpY2l0RnJvbSk7XG5cdH1cblxuXHRjb25zdCBub3JtYWxpemVkRGVmYXVsdCA9IGRlZmF1bHROdW1iZXJcblx0XHQ/IG5vcm1hbGl6ZVBob25lTnVtYmVyKGRlZmF1bHROdW1iZXIpXG5cdFx0OiBudWxsO1xuXG5cdHRyeSB7XG5cdFx0Y29uc3QgeyBkYXRhIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJwaG9uZV9udW1iZXJzXCIpXG5cdFx0XHQuc2VsZWN0KFwicGhvbmVfbnVtYmVyLCBudW1iZXJfdHlwZVwiKVxuXHRcdFx0LmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpXG5cdFx0XHQuZXEoXCJzdGF0dXNcIiwgXCJhY3RpdmVcIik7XG5cblx0XHRpZiAoZGF0YSAmJiBkYXRhLmxlbmd0aCA+IDApIHtcblx0XHRcdGNvbnN0IHRvbGxGcmVlID0gZGF0YS5maW5kKChuKSA9PiBuLm51bWJlcl90eXBlID09PSBcInRvbGwtZnJlZVwiKTtcblx0XHRcdGlmICh0b2xsRnJlZSkge1xuXHRcdFx0XHRyZXR1cm4gbm9ybWFsaXplUGhvbmVOdW1iZXIodG9sbEZyZWUucGhvbmVfbnVtYmVyKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKG5vcm1hbGl6ZWREZWZhdWx0KSB7XG5cdFx0XHRcdGNvbnN0IGRlZmF1bHRFeGlzdHMgPSBkYXRhLnNvbWUoXG5cdFx0XHRcdFx0KG4pID0+IG5vcm1hbGl6ZVBob25lTnVtYmVyKG4ucGhvbmVfbnVtYmVyKSA9PT0gbm9ybWFsaXplZERlZmF1bHQsXG5cdFx0XHRcdCk7XG5cdFx0XHRcdGlmIChkZWZhdWx0RXhpc3RzKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG5vcm1hbGl6ZWREZWZhdWx0O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBub3JtYWxpemVQaG9uZU51bWJlcihkYXRhWzBdLnBob25lX251bWJlcik7XG5cdFx0fVxuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUud2Fybihcblx0XHRcdFwiRmFpbGVkIHRvIGxvYWQgY29tcGFueSBwaG9uZSBudW1iZXJzIGZvciBvdXRib3VuZCBzZWxlY3Rpb246XCIsXG5cdFx0XHRlcnJvcixcblx0XHQpO1xuXHR9XG5cblx0cmV0dXJuIG5vcm1hbGl6ZWREZWZhdWx0O1xufVxuXG5hc3luYyBmdW5jdGlvbiBtZXJnZVByb3ZpZGVyTWV0YWRhdGEoXG5cdHN1cGFiYXNlOiBUeXBlZFN1cGFiYXNlQ2xpZW50LFxuXHRjb21tdW5pY2F0aW9uSWQ6IHN0cmluZyxcblx0cGF0Y2g6IFJlY29yZDxzdHJpbmcsIEpzb24+LFxuKTogUHJvbWlzZTx2b2lkPiB7XG5cdGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHQuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG5cdFx0LnNlbGVjdChcInByb3ZpZGVyX21ldGFkYXRhXCIpXG5cdFx0LmVxKFwiaWRcIiwgY29tbXVuaWNhdGlvbklkKVxuXHRcdC5tYXliZVNpbmdsZSgpO1xuXG5cdGNvbnN0IGN1cnJlbnRNZXRhZGF0YSA9XG5cdFx0KGRhdGE/LnByb3ZpZGVyX21ldGFkYXRhIGFzIFJlY29yZDxzdHJpbmcsIEpzb24+IHwgbnVsbCkgPz8ge307XG5cdGNvbnN0IG1lcmdlZE1ldGFkYXRhOiBSZWNvcmQ8c3RyaW5nLCBKc29uPiA9IHtcblx0XHQuLi5jdXJyZW50TWV0YWRhdGEsXG5cdFx0Li4ucGF0Y2gsXG5cdH07XG5cblx0YXdhaXQgc3VwYWJhc2Vcblx0XHQuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG5cdFx0LnVwZGF0ZSh7XG5cdFx0XHRwcm92aWRlcl9tZXRhZGF0YTogbWVyZ2VkTWV0YWRhdGEsXG5cdFx0fSlcblx0XHQuZXEoXCJpZFwiLCBjb21tdW5pY2F0aW9uSWQpO1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBQSE9ORSBOVU1CRVIgTUFOQUdFTUVOVCBBQ1RJT05TXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogU2VhcmNoIGZvciBhdmFpbGFibGUgcGhvbmUgbnVtYmVycyB0byBwdXJjaGFzZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VhcmNoUGhvbmVOdW1iZXJzKHBhcmFtczoge1xuXHRhcmVhQ29kZT86IHN0cmluZztcblx0bnVtYmVyVHlwZT86IE51bWJlclR5cGU7XG5cdGZlYXR1cmVzPzogTnVtYmVyRmVhdHVyZVtdO1xuXHRsaW1pdD86IG51bWJlcjtcbn0pIHtcblx0dHJ5IHtcblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBzZWFyY2hBdmFpbGFibGVOdW1iZXJzKHtcblx0XHRcdGNvdW50cnlDb2RlOiBcIlVTXCIsXG5cdFx0XHRhcmVhQ29kZTogcGFyYW1zLmFyZWFDb2RlLFxuXHRcdFx0bnVtYmVyVHlwZTogcGFyYW1zLm51bWJlclR5cGUsXG5cdFx0XHRmZWF0dXJlczogcGFyYW1zLmZlYXR1cmVzLFxuXHRcdFx0bGltaXQ6IHBhcmFtcy5saW1pdCB8fCAxMCxcblx0XHR9KTtcblxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIHNlYXJjaCBwaG9uZSBudW1iZXJzXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIFB1cmNoYXNlIGEgcGhvbmUgbnVtYmVyIGFuZCBhc3NvY2lhdGUgaXQgd2l0aCB0aGUgY3VycmVudCBjb21wYW55XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwdXJjaGFzZVBob25lTnVtYmVyKHBhcmFtczoge1xuXHRwaG9uZU51bWJlcjogc3RyaW5nO1xuXHRjb21wYW55SWQ6IHN0cmluZztcblx0YmlsbGluZ0dyb3VwSWQ/OiBzdHJpbmc7XG59KSB7XG5cdHRyeSB7XG5cdFx0Ly8gVmFsaWRhdGUgY29uZmlndXJhdGlvblxuXHRcdGNvbnN0IHNtc0NvbmZpZyA9IGF3YWl0IHZhbGlkYXRlU21zQ29uZmlnKCk7XG5cdFx0Y29uc3QgY2FsbENvbmZpZyA9IHZhbGlkYXRlQ2FsbENvbmZpZygpO1xuXHRcdGlmICghc21zQ29uZmlnLnZhbGlkIHx8ICFjYWxsQ29uZmlnLnZhbGlkKSB7XG5cdFx0XHRsZXQgZXJyb3JNZXNzYWdlID1cblx0XHRcdFx0XCJUZWxueXggY29uZmlndXJhdGlvbiBpcyBpbmNvbXBsZXRlLiBQbGVhc2UgY29uZmlndXJlIGFsbCByZXF1aXJlZCBlbnZpcm9ubWVudCB2YXJpYWJsZXMuXCI7XG5cblx0XHRcdC8vIElmIHdlIGhhdmUgYSBzdWdnZXN0ZWQgcHJvZmlsZSBJRCwgaW5jbHVkZSBpdCBpbiB0aGUgZXJyb3Jcblx0XHRcdGlmIChzbXNDb25maWcuc3VnZ2VzdGVkUHJvZmlsZUlkKSB7XG5cdFx0XHRcdGVycm9yTWVzc2FnZSArPSBgIEZvdW5kIG1lc3NhZ2luZyBwcm9maWxlIFwiJHtzbXNDb25maWcuc3VnZ2VzdGVkUHJvZmlsZUlkfVwiIGluIHlvdXIgVGVsbnl4IGFjY291bnQuIFNldCBURUxOWVhfREVGQVVMVF9NRVNTQUdJTkdfUFJPRklMRV9JRD0ke3Ntc0NvbmZpZy5zdWdnZXN0ZWRQcm9maWxlSWR9IHRvIHVzZSBpdC5gO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGVycm9yTWVzc2FnZSxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiU2VydmljZSB1bmF2YWlsYWJsZVwiIH07XG5cdFx0fVxuXG5cdFx0Y29uc3Qgbm9ybWFsaXplZFBob25lTnVtYmVyID0gbm9ybWFsaXplUGhvbmVOdW1iZXIocGFyYW1zLnBob25lTnVtYmVyKTtcblx0XHRjb25zdCBmb3JtYXR0ZWROdW1iZXIgPSBmb3JtYXREaXNwbGF5UGhvbmVOdW1iZXIobm9ybWFsaXplZFBob25lTnVtYmVyKTtcblx0XHRjb25zdCBhcmVhQ29kZSA9IGV4dHJhY3RBcmVhQ29kZShub3JtYWxpemVkUGhvbmVOdW1iZXIpO1xuXG5cdFx0Ly8gUHVyY2hhc2UgbnVtYmVyIGZyb20gVGVsbnl4XG5cdFx0Y29uc3QgbWVzc2FnaW5nUHJvZmlsZUlkID0gREVGQVVMVF9NRVNTQUdJTkdfUFJPRklMRV9JRCB8fCB1bmRlZmluZWQ7XG5cblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBwdXJjaGFzZU51bWJlcih7XG5cdFx0XHRwaG9uZU51bWJlcjogbm9ybWFsaXplZFBob25lTnVtYmVyLFxuXHRcdFx0Y29ubmVjdGlvbklkOiBURUxOWVhfQ09ORklHLmNvbm5lY3Rpb25JZCxcblx0XHRcdG1lc3NhZ2luZ1Byb2ZpbGVJZCxcblx0XHRcdGJpbGxpbmdHcm91cElkOiBwYXJhbXMuYmlsbGluZ0dyb3VwSWQsXG5cdFx0XHRjdXN0b21lclJlZmVyZW5jZTogYGNvbXBhbnlfJHtwYXJhbXMuY29tcGFueUlkfWAsXG5cdFx0fSk7XG5cblx0XHRpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH1cblxuXHRcdC8vIFN0b3JlIGluIGRhdGFiYXNlXG5cdFx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwicGhvbmVfbnVtYmVyc1wiKVxuXHRcdFx0Lmluc2VydCh7XG5cdFx0XHRcdGNvbXBhbnlfaWQ6IHBhcmFtcy5jb21wYW55SWQsXG5cdFx0XHRcdHRlbG55eF9waG9uZV9udW1iZXJfaWQ6IHJlc3VsdC5vcmRlcklkLFxuXHRcdFx0XHR0ZWxueXhfY29ubmVjdGlvbl9pZDogVEVMTllYX0NPTkZJRy5jb25uZWN0aW9uSWQsXG5cdFx0XHRcdHBob25lX251bWJlcjogbm9ybWFsaXplZFBob25lTnVtYmVyLFxuXHRcdFx0XHRmb3JtYXR0ZWRfbnVtYmVyOiBmb3JtYXR0ZWROdW1iZXIsXG5cdFx0XHRcdGNvdW50cnlfY29kZTogXCJVU1wiLFxuXHRcdFx0XHRhcmVhX2NvZGU6IGFyZWFDb2RlLFxuXHRcdFx0XHRudW1iZXJfdHlwZTogXCJsb2NhbFwiLFxuXHRcdFx0XHRmZWF0dXJlczogW1widm9pY2VcIiwgXCJzbXNcIl0sXG5cdFx0XHRcdHN0YXR1czogXCJwZW5kaW5nXCIsXG5cdFx0XHR9KVxuXHRcdFx0LnNlbGVjdCgpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9zZXR0aW5ncy9jb21tdW5pY2F0aW9ucy9waG9uZS1udW1iZXJzXCIpO1xuXG5cdFx0dHJ5IHtcblx0XHRcdGF3YWl0IGVuc3VyZU1lc3NhZ2luZ0NhbXBhaWduKFxuXHRcdFx0XHRwYXJhbXMuY29tcGFueUlkLFxuXHRcdFx0XHR7IGlkOiBkYXRhLmlkLCBlMTY0OiBub3JtYWxpemVkUGhvbmVOdW1iZXIgfSxcblx0XHRcdFx0eyBzdXBhYmFzZSB9LFxuXHRcdFx0KTtcblx0XHR9IGNhdGNoIChfY2FtcGFpZ25FcnJvcikge31cblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0ZGF0YSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byBwdXJjaGFzZSBwaG9uZSBudW1iZXJcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogR2V0IGFsbCBwaG9uZSBudW1iZXJzIGZvciBhIGNvbXBhbnlcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENvbXBhbnlQaG9uZU51bWJlcnMoY29tcGFueUlkOiBzdHJpbmcpIHtcblx0dHJ5IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJTZXJ2aWNlIHVuYXZhaWxhYmxlXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJwaG9uZV9udW1iZXJzXCIpXG5cdFx0XHQuc2VsZWN0KFwiKlwiKVxuXHRcdFx0LmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpXG5cdFx0XHQuaXMoXCJkZWxldGVkX2F0XCIsIG51bGwpXG5cdFx0XHQub3JkZXIoXCJjcmVhdGVkX2F0XCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IHRydWUsXG5cdFx0XHRkYXRhOiBkYXRhIHx8IFtdLFxuXHRcdH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gZ2V0IHBob25lIG51bWJlcnNcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogVXBkYXRlIHBob25lIG51bWJlciBjb25maWd1cmF0aW9uXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVBob25lTnVtYmVyKHBhcmFtczoge1xuXHRwaG9uZU51bWJlcklkOiBzdHJpbmc7XG5cdHJvdXRpbmdSdWxlSWQ/OiBzdHJpbmc7XG5cdGZvcndhcmRUb051bWJlcj86IHN0cmluZztcblx0dm9pY2VtYWlsRW5hYmxlZD86IGJvb2xlYW47XG59KSB7XG5cdHRyeSB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiU2VydmljZSB1bmF2YWlsYWJsZVwiIH07XG5cdFx0fVxuXG5cdFx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwicGhvbmVfbnVtYmVyc1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdGNhbGxfcm91dGluZ19ydWxlX2lkOiBwYXJhbXMucm91dGluZ1J1bGVJZCxcblx0XHRcdFx0Zm9yd2FyZF90b19udW1iZXI6IHBhcmFtcy5mb3J3YXJkVG9OdW1iZXIsXG5cdFx0XHRcdHZvaWNlbWFpbF9lbmFibGVkOiBwYXJhbXMudm9pY2VtYWlsRW5hYmxlZCxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBwYXJhbXMucGhvbmVOdW1iZXJJZClcblx0XHRcdC5zZWxlY3QoKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvc2V0dGluZ3MvY29tbXVuaWNhdGlvbnMvcGhvbmUtbnVtYmVyc1wiKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0ZGF0YSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byB1cGRhdGUgcGhvbmUgbnVtYmVyXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIFJlbGVhc2UgKGRlbGV0ZSkgYSBwaG9uZSBudW1iZXJcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZGVsZXRlUGhvbmVOdW1iZXIocGhvbmVOdW1iZXJJZDogc3RyaW5nKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiU2VydmljZSB1bmF2YWlsYWJsZVwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gR2V0IHBob25lIG51bWJlciBkZXRhaWxzXG5cdFx0Y29uc3QgeyBkYXRhOiBwaG9uZU51bWJlciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwicGhvbmVfbnVtYmVyc1wiKVxuXHRcdFx0LnNlbGVjdChcIipcIilcblx0XHRcdC5lcShcImlkXCIsIHBob25lTnVtYmVySWQpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoIXBob25lTnVtYmVyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiUGhvbmUgbnVtYmVyIG5vdCBmb3VuZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gUmVsZWFzZSBmcm9tIFRlbG55eCBpZiB3ZSBoYXZlIHRoZSBJRFxuXHRcdGlmIChwaG9uZU51bWJlci50ZWxueXhfcGhvbmVfbnVtYmVyX2lkKSB7XG5cdFx0XHRhd2FpdCByZWxlYXNlTnVtYmVyKHBob25lTnVtYmVyLnRlbG55eF9waG9uZV9udW1iZXJfaWQpO1xuXHRcdH1cblxuXHRcdC8vIFNvZnQgZGVsZXRlIGluIGRhdGFiYXNlXG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwicGhvbmVfbnVtYmVyc1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdGRlbGV0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdFx0c3RhdHVzOiBcImRlbGV0ZWRcIixcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBwaG9uZU51bWJlcklkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL3NldHRpbmdzL2NvbW11bmljYXRpb25zL3Bob25lLW51bWJlcnNcIik7XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIGRlbGV0ZSBwaG9uZSBudW1iZXJcIixcblx0XHR9O1xuXHR9XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIENBTEwgT1BFUkFUSU9OUyBBQ1RJT05TXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogSW5pdGlhdGUgYW4gb3V0Ym91bmQgY2FsbFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbWFrZUNhbGwocGFyYW1zOiB7XG5cdHRvOiBzdHJpbmc7XG5cdGZyb206IHN0cmluZztcblx0Y29tcGFueUlkOiBzdHJpbmc7XG5cdGN1c3RvbWVySWQ/OiBzdHJpbmc7XG5cdGpvYklkPzogc3RyaW5nO1xuXHRwcm9wZXJ0eUlkPzogc3RyaW5nO1xuXHRpbnZvaWNlSWQ/OiBzdHJpbmc7XG5cdGVzdGltYXRlSWQ/OiBzdHJpbmc7XG59KSB7XG5cdHRyeSB7XG5cdFx0Y29uc29sZS5sb2coXCLwn5OeIG1ha2VDYWxsIGNhbGxlZCB3aXRoIHBhcmFtczpcIiwgcGFyYW1zKTtcblxuXHRcdGNvbnN0IGNhbGxDb25maWcgPSB2YWxpZGF0ZUNhbGxDb25maWcoKTtcblx0XHRjb25zb2xlLmxvZyhcIvCflI0gQ2FsbCBjb25maWcgdmFsaWRhdGlvbjpcIiwgY2FsbENvbmZpZyk7XG5cdFx0aWYgKCFjYWxsQ29uZmlnLnZhbGlkKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGNhbGxDb25maWcuZXJyb3IgfHwgXCJDYWxsIGNvbmZpZ3VyYXRpb24gaXMgaW52YWxpZFwiLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJTZXJ2aWNlIHVuYXZhaWxhYmxlXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCBjb21wYW55U2V0dGluZ3MgPSBhd2FpdCBnZXRDb21wYW55VGVsbnl4U2V0dGluZ3MoXG5cdFx0XHRzdXBhYmFzZSxcblx0XHRcdHBhcmFtcy5jb21wYW55SWQsXG5cdFx0KTtcblxuXHRcdGF3YWl0IGVuc3VyZVBob25lTnVtYmVyUmVjb3JkRXhpc3RzKFxuXHRcdFx0c3VwYWJhc2UsXG5cdFx0XHRwYXJhbXMuY29tcGFueUlkLFxuXHRcdFx0Y29tcGFueVNldHRpbmdzPy5kZWZhdWx0X291dGJvdW5kX251bWJlciB8fCBudWxsLFxuXHRcdCk7XG5cblx0XHRjb25zdCBjb25uZWN0aW9uT3ZlcnJpZGUgPVxuXHRcdFx0Y29tcGFueVNldHRpbmdzPy5jYWxsX2NvbnRyb2xfYXBwbGljYXRpb25faWQgfHxcblx0XHRcdFRFTE5ZWF9DT05GSUcuY29ubmVjdGlvbklkO1xuXHRcdGNvbnN0IGZyb21BZGRyZXNzID0gYXdhaXQgcmVzb2x2ZU91dGJvdW5kUGhvbmVOdW1iZXIoXG5cdFx0XHRzdXBhYmFzZSxcblx0XHRcdHBhcmFtcy5jb21wYW55SWQsXG5cdFx0XHRwYXJhbXMuZnJvbSxcblx0XHRcdGNvbXBhbnlTZXR0aW5ncz8uZGVmYXVsdF9vdXRib3VuZF9udW1iZXIgfHwgbnVsbCxcblx0XHQpO1xuXG5cdFx0aWYgKCFjb25uZWN0aW9uT3ZlcnJpZGUpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogXCJObyBUZWxueXggY29ubmVjdGlvbiBjb25maWd1cmVkIGZvciB0aGlzIGNvbXBhbnkuXCIsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGlmICghZnJvbUFkZHJlc3MpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjpcblx0XHRcdFx0XHRcIkNvbXBhbnkgZG9lcyBub3QgaGF2ZSBhIGRlZmF1bHQgb3V0Ym91bmQgcGhvbmUgbnVtYmVyIGNvbmZpZ3VyZWQuIFBsZWFzZSBwcm92aXNpb24gbnVtYmVycyBmaXJzdC5cIixcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gVEVNUDogU2tpcCBjb25uZWN0aW9uIHZlcmlmaWNhdGlvbiAtIExldmVsIDIgcmVxdWlyZWQgZm9yIEFQSSBhY2Nlc3Ncblx0XHQvLyBjb25zdCBjb25uZWN0aW9uU3RhdHVzID0gYXdhaXQgdmVyaWZ5Q29ubmVjdGlvbihjb25uZWN0aW9uT3ZlcnJpZGUpO1xuXHRcdC8vIGlmIChjb25uZWN0aW9uU3RhdHVzLm5lZWRzRml4KSB7XG5cdFx0Ly8gXHRyZXR1cm4ge1xuXHRcdC8vIFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHQvLyBcdFx0ZXJyb3I6IGBDb25uZWN0aW9uIGNvbmZpZ3VyYXRpb24gaXNzdWU6ICR7Y29ubmVjdGlvblN0YXR1cy5pc3N1ZXMuam9pbihcIiwgXCIpfS4gUnVuIGZpeENvbm5lY3Rpb24oKSB0byBhdXRvLWZpeC5gLFxuXHRcdC8vIFx0fTtcblx0XHQvLyB9XG5cblx0XHRjb25zdCB0b0FkZHJlc3MgPSBub3JtYWxpemVQaG9uZU51bWJlcihwYXJhbXMudG8pO1xuXG5cdFx0Ly8gVEVNUDogU2tpcCB2b2ljZSBjYXBhYmlsaXR5IGNoZWNrIC0gTGV2ZWwgMiByZXF1aXJlZCBmb3IgQVBJIGFjY2Vzc1xuXHRcdC8vIGNvbnN0IHZvaWNlQ2FwYWJpbGl0eSA9IGF3YWl0IHZlcmlmeVZvaWNlQ2FwYWJpbGl0eShmcm9tQWRkcmVzcyk7XG5cdFx0Ly8gaWYgKCF2b2ljZUNhcGFiaWxpdHkuaGFzVm9pY2UpIHtcblx0XHQvLyBcdHJldHVybiB7XG5cdFx0Ly8gXHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdC8vIFx0XHRlcnJvcjpcblx0XHQvLyBcdFx0XHR2b2ljZUNhcGFiaWxpdHkuZXJyb3IgfHwgXCJQaG9uZSBudW1iZXIgZG9lcyBub3Qgc3VwcG9ydCB2b2ljZSBjYWxsc1wiLFxuXHRcdC8vIFx0fTtcblx0XHQvLyB9XG5cblx0XHRjb25zdCB0ZWxueXhXZWJob29rVXJsID0gYXdhaXQgZ2V0VGVsbnl4V2ViaG9va1VybChwYXJhbXMuY29tcGFueUlkKTtcblx0XHRjb25zb2xlLmxvZyhcIvCflJcgV2ViaG9vayBVUkw6XCIsIHRlbG55eFdlYmhvb2tVcmwpO1xuXHRcdGlmICghdGVsbnl4V2ViaG9va1VybCkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOlxuXHRcdFx0XHRcdFwiU2l0ZSBVUkwgaXMgbm90IGNvbmZpZ3VyZWQuIFNldCBORVhUX1BVQkxJQ19TSVRFX1VSTCBvciBTSVRFX1VSTCB0byBhIHB1YmxpYyBodHRwcyBkb21haW4uXCIsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGNvbnNvbGUubG9nKFwi8J+TpCBJbml0aWF0aW5nIGNhbGw6XCIsIHtcblx0XHRcdHRvOiB0b0FkZHJlc3MsXG5cdFx0XHRmcm9tOiBmcm9tQWRkcmVzcyxcblx0XHRcdGNvbm5lY3Rpb25JZDogY29ubmVjdGlvbk92ZXJyaWRlLFxuXHRcdFx0d2ViaG9va1VybDogdGVsbnl4V2ViaG9va1VybCxcblx0XHR9KTtcblxuXHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IGluaXRpYXRlQ2FsbCh7XG5cdFx0XHR0bzogdG9BZGRyZXNzLFxuXHRcdFx0ZnJvbTogZnJvbUFkZHJlc3MsXG5cdFx0XHRjb25uZWN0aW9uSWQ6IGNvbm5lY3Rpb25PdmVycmlkZSxcblx0XHRcdHdlYmhvb2tVcmw6IHRlbG55eFdlYmhvb2tVcmwsXG5cdFx0XHRhbnN3ZXJpbmdNYWNoaW5lRGV0ZWN0aW9uOiBcInByZW1pdW1cIixcblx0XHR9KTtcblxuXHRcdGNvbnNvbGUubG9nKFwi8J+TpSBUZWxueXggQVBJIHJlc3BvbnNlOlwiLCByZXN1bHQpO1xuXG5cdFx0aWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9XG5cblx0XHRjb25zdCBwaG9uZU51bWJlcklkID0gYXdhaXQgZ2V0UGhvbmVOdW1iZXJJZChzdXBhYmFzZSwgZnJvbUFkZHJlc3MpO1xuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG5cdFx0XHQuaW5zZXJ0KHtcblx0XHRcdFx0Y29tcGFueV9pZDogY29tcGFueUlkLFxuXHRcdFx0XHRjdXN0b21lcl9pZDogcGFyYW1zLmN1c3RvbWVySWQsXG5cdFx0XHRcdGpvYl9pZDogcGFyYW1zLmpvYklkID8/IG51bGwsXG5cdFx0XHRcdHByb3BlcnR5X2lkOiBwYXJhbXMucHJvcGVydHlJZCA/PyBudWxsLFxuXHRcdFx0XHRpbnZvaWNlX2lkOiBwYXJhbXMuaW52b2ljZUlkID8/IG51bGwsXG5cdFx0XHRcdGVzdGltYXRlX2lkOiBwYXJhbXMuZXN0aW1hdGVJZCA/PyBudWxsLFxuXHRcdFx0XHR0eXBlOiBcInBob25lXCIsXG5cdFx0XHRcdGNoYW5uZWw6IFwidGVsbnl4XCIsXG5cdFx0XHRcdGRpcmVjdGlvbjogXCJvdXRib3VuZFwiLFxuXHRcdFx0XHRmcm9tX2FkZHJlc3M6IGZyb21BZGRyZXNzLFxuXHRcdFx0XHR0b19hZGRyZXNzOiB0b0FkZHJlc3MsXG5cdFx0XHRcdGJvZHk6IFwiXCIsXG5cdFx0XHRcdHN0YXR1czogXCJxdWV1ZWRcIixcblx0XHRcdFx0cHJpb3JpdHk6IFwibm9ybWFsXCIsXG5cdFx0XHRcdHBob25lX251bWJlcl9pZDogcGhvbmVOdW1iZXJJZCxcblx0XHRcdFx0aXNfYXJjaGl2ZWQ6IGZhbHNlLFxuXHRcdFx0XHRpc19hdXRvbWF0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRpc19pbnRlcm5hbDogZmFsc2UsXG5cdFx0XHRcdGlzX3RocmVhZF9zdGFydGVyOiB0cnVlLFxuXHRcdFx0XHR0ZWxueXhfY2FsbF9jb250cm9sX2lkOiByZXN1bHQuY2FsbENvbnRyb2xJZCxcblx0XHRcdFx0dGVsbnl4X2NhbGxfc2Vzc2lvbl9pZDogcmVzdWx0LmNhbGxTZXNzaW9uSWQsXG5cdFx0XHR9KVxuXHRcdFx0LnNlbGVjdCgpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdGNvbnNvbGUubG9nKFwi4pyFIENhbGwgY3JlYXRlZCBzdWNjZXNzZnVsbHk6XCIsIHtcblx0XHRcdGNhbGxDb250cm9sSWQ6IHJlc3VsdC5jYWxsQ29udHJvbElkLFxuXHRcdFx0Y29tbXVuaWNhdGlvbklkOiBkYXRhLmlkLFxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IHRydWUsXG5cdFx0XHRjYWxsQ29udHJvbElkOiByZXN1bHQuY2FsbENvbnRyb2xJZCxcblx0XHRcdGRhdGEsXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRjb25zb2xlLmVycm9yKFwi4p2MIG1ha2VDYWxsIGVycm9yOlwiLCBlcnJvcik7XG5cdFx0Y29uc29sZS5lcnJvcihcIkVycm9yIGRldGFpbHM6XCIsIHtcblx0XHRcdG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKSxcblx0XHRcdHN0YWNrOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3Iuc3RhY2sgOiB1bmRlZmluZWQsXG5cdFx0fSk7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gbWFrZSBjYWxsXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIEFuc3dlciBhbiBpbmNvbWluZyBjYWxsXG4vKipcbiAqIEFuc3dlciBhbiBpbmNvbWluZyBjYWxsXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGFjY2VwdENhbGwoY2FsbENvbnRyb2xJZDogc3RyaW5nKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgdGVsbnl4V2ViaG9va1VybCA9IGF3YWl0IGdldFRlbG55eFdlYmhvb2tVcmwoKTtcblx0XHRpZiAoIXRlbG55eFdlYmhvb2tVcmwpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjpcblx0XHRcdFx0XHRcIlNpdGUgVVJMIGlzIG5vdCBjb25maWd1cmVkLiBTZXQgTkVYVF9QVUJMSUNfU0lURV9VUkwgb3IgU0lURV9VUkwgdG8gYSBwdWJsaWMgaHR0cHMgZG9tYWluLlwiLFxuXHRcdFx0fTtcblx0XHR9XG5cdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgYW5zd2VyQ2FsbCh7XG5cdFx0XHRjYWxsQ29udHJvbElkLFxuXHRcdFx0d2ViaG9va1VybDogdGVsbnl4V2ViaG9va1VybCxcblx0XHR9KTtcblxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gYW5zd2VyIGNhbGxcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogUmVqZWN0IGFuIGluY29taW5nIGNhbGxcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZGVjbGluZUNhbGwoY2FsbENvbnRyb2xJZDogc3RyaW5nKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgcmVqZWN0Q2FsbCh7XG5cdFx0XHRjYWxsQ29udHJvbElkLFxuXHRcdFx0Y2F1c2U6IFwiQ0FMTF9SRUpFQ1RFRFwiLFxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byByZWplY3QgY2FsbFwiLFxuXHRcdH07XG5cdH1cbn1cblxuLyoqXG4gKiBFbmQgYW4gYWN0aXZlIGNhbGxcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZW5kQ2FsbChjYWxsQ29udHJvbElkOiBzdHJpbmcpIHtcblx0dHJ5IHtcblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBoYW5ndXBDYWxsKHsgY2FsbENvbnRyb2xJZCB9KTtcblxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gZW5kIGNhbGxcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogU3RhcnQgcmVjb3JkaW5nIGEgY2FsbFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc3RhcnRDYWxsUmVjb3JkaW5nKGNhbGxDb250cm9sSWQ6IHN0cmluZykge1xuXHR0cnkge1xuXHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IHN0YXJ0UmVjb3JkaW5nKHtcblx0XHRcdGNhbGxDb250cm9sSWQsXG5cdFx0XHRmb3JtYXQ6IFwibXAzXCIsXG5cdFx0XHRjaGFubmVsczogXCJzaW5nbGVcIixcblx0XHR9KTtcblxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gc3RhcnQgcmVjb3JkaW5nXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIFN0b3AgcmVjb3JkaW5nIGEgY2FsbFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc3RvcENhbGxSZWNvcmRpbmcoY2FsbENvbnRyb2xJZDogc3RyaW5nKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgc3RvcFJlY29yZGluZyh7IGNhbGxDb250cm9sSWQgfSk7XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiRmFpbGVkIHRvIHN0b3AgcmVjb3JkaW5nXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIFRyYW5zZmVyIGFuIGFjdGl2ZSBjYWxsIHRvIGFub3RoZXIgbnVtYmVyXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0cmFuc2ZlckFjdGl2ZUNhbGwocGFyYW1zOiB7XG5cdGNhbGxDb250cm9sSWQ6IHN0cmluZztcblx0dG86IHN0cmluZztcblx0ZnJvbTogc3RyaW5nO1xufSkge1xuXHR0cnkge1xuXHRcdGNvbnN0IHsgdHJhbnNmZXJDYWxsIH0gPSBhd2FpdCBpbXBvcnQoXCJAL2xpYi90ZWxueXgvY2FsbHNcIik7XG5cdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgdHJhbnNmZXJDYWxsKHtcblx0XHRcdGNhbGxDb250cm9sSWQ6IHBhcmFtcy5jYWxsQ29udHJvbElkLFxuXHRcdFx0dG86IHBhcmFtcy50byxcblx0XHRcdGZyb206IHBhcmFtcy5mcm9tLFxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byB0cmFuc2ZlciBjYWxsXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIFRyYW5zY3JpYmUgYSBjYWxsIHJlY29yZGluZyB1c2luZyBBc3NlbWJseUFJXG4gKlxuICogU3VibWl0cyB0aGUgcmVjb3JkaW5nIFVSTCB0byBBc3NlbWJseUFJIGZvciBwb3N0LWNhbGwgdHJhbnNjcmlwdGlvbi5cbiAqIEFzc2VtYmx5QUkgd2lsbCBwcm9jZXNzIHRoZSBhdWRpbyBhbmQgc2VuZCB0aGUgdHJhbnNjcmlwdCB2aWEgd2ViaG9vay5cbiAqXG4gKiBAcGFyYW0gcmVjb3JkaW5nVXJsIC0gVVJMIG9mIHRoZSBjYWxsIHJlY29yZGluZyAoZnJvbSBUZWxueXgpXG4gKiBAcGFyYW0gY29tbXVuaWNhdGlvbklkIC0gRGF0YWJhc2UgSUQgb2YgdGhlIGNvbW11bmljYXRpb24gcmVjb3JkXG4gKiBAcmV0dXJucyBTdWNjZXNzL2Vycm9yIHJlc3BvbnNlIHdpdGggdHJhbnNjcmlwdGlvbiBqb2IgSURcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRyYW5zY3JpYmVDYWxsUmVjb3JkaW5nKHBhcmFtczoge1xuXHRyZWNvcmRpbmdVcmw6IHN0cmluZztcblx0Y29tbXVuaWNhdGlvbklkOiBzdHJpbmc7XG59KSB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgeyBzdWJtaXRUcmFuc2NyaXB0aW9uIH0gPSBhd2FpdCBpbXBvcnQoXCJAL2xpYi9hc3NlbWJseWFpL2NsaWVudFwiKTtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJTZXJ2aWNlIHVuYXZhaWxhYmxlXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCB3ZWJob29rVXJsID0gYXdhaXQgYnVpbGRBYnNvbHV0ZVVybChcIi9hcGkvd2ViaG9va3MvYXNzZW1ibHlhaVwiKTtcblx0XHRpZiAoIXdlYmhvb2tVcmwpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjpcblx0XHRcdFx0XHRcIlNpdGUgVVJMIGlzIG5vdCBjb25maWd1cmVkLiBTZXQgTkVYVF9QVUJMSUNfU0lURV9VUkwgb3IgU0lURV9VUkwuXCIsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdC8vIFN1Ym1pdCB0byBBc3NlbWJseUFJXG5cdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgc3VibWl0VHJhbnNjcmlwdGlvbih7XG5cdFx0XHRhdWRpb191cmw6IHBhcmFtcy5yZWNvcmRpbmdVcmwsXG5cdFx0XHRzcGVha2VyX2xhYmVsczogdHJ1ZSwgLy8gRW5hYmxlIHNwZWFrZXIgZGlhcml6YXRpb25cblx0XHRcdHdlYmhvb2tfdXJsOiB3ZWJob29rVXJsLFxuXHRcdH0pO1xuXG5cdFx0aWYgKCEocmVzdWx0LnN1Y2Nlc3MgJiYgcmVzdWx0LmRhdGEpKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IHJlc3VsdC5lcnJvciB8fCBcIkZhaWxlZCB0byBzdWJtaXQgdHJhbnNjcmlwdGlvblwiLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBTdG9yZSB0cmFuc2NyaXB0aW9uIGpvYiBJRCBpbiBkYXRhYmFzZVxuXHRcdGF3YWl0IG1lcmdlUHJvdmlkZXJNZXRhZGF0YShzdXBhYmFzZSwgcGFyYW1zLmNvbW11bmljYXRpb25JZCwge1xuXHRcdFx0YXNzZW1ibHlhaV90cmFuc2NyaXB0aW9uX2lkOiByZXN1bHQuZGF0YS5pZCxcblx0XHRcdGFzc2VtYmx5YWlfc3RhdHVzOiByZXN1bHQuZGF0YS5zdGF0dXMsXG5cdFx0fSk7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdHRyYW5zY3JpcHRpb25JZDogcmVzdWx0LmRhdGEuaWQsXG5cdFx0XHRzdGF0dXM6IHJlc3VsdC5kYXRhLnN0YXR1cyxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byB0cmFuc2NyaWJlIHJlY29yZGluZ1wiLFxuXHRcdH07XG5cdH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU01TIE9QRVJBVElPTlMgQUNUSU9OU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIFNlbmQgYW4gU01TIG1lc3NhZ2VcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRUZXh0TWVzc2FnZShwYXJhbXM6IHtcblx0dG86IHN0cmluZztcblx0ZnJvbTogc3RyaW5nO1xuXHR0ZXh0OiBzdHJpbmc7XG5cdGNvbXBhbnlJZD86IHN0cmluZzsgLy8gT3B0aW9uYWwgLSB3aWxsIGJlIGZldGNoZWQgaWYgbm90IHByb3ZpZGVkXG5cdGN1c3RvbWVySWQ/OiBzdHJpbmc7XG5cdGpvYklkPzogc3RyaW5nO1xuXHRpbnZvaWNlSWQ/OiBzdHJpbmc7XG5cdGVzdGltYXRlSWQ/OiBzdHJpbmc7XG59KSB7XG5cdHRyeSB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKFwi4p2MIFN1cGFiYXNlIGNsaWVudCB1bmF2YWlsYWJsZVwiKTtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJTZXJ2aWNlIHVuYXZhaWxhYmxlXCIgfTtcblx0XHR9XG5cblx0XHQvLyBHZXQgY29tcGFueSBJRCBpZiBub3QgcHJvdmlkZWRcblx0XHRsZXQgY29tcGFueUlkID0gcGFyYW1zLmNvbXBhbnlJZDtcblx0XHRpZiAoIWNvbXBhbnlJZCkge1xuXHRcdFx0Y29uc3QgeyBnZXRBY3RpdmVDb21wYW55SWQgfSA9IGF3YWl0IGltcG9ydChcIkAvbGliL2F1dGgvY29tcGFueS1jb250ZXh0XCIpO1xuXHRcdFx0Y29tcGFueUlkID0gYXdhaXQgZ2V0QWN0aXZlQ29tcGFueUlkKCk7XG5cdFx0XHRpZiAoIWNvbXBhbnlJZCkge1xuXHRcdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm8gYWN0aXZlIGNvbXBhbnkgZm91bmRcIiB9O1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGNvbnNvbGUubG9nKFwi8J+TsSBTTVMgU2VuZCBSZXF1ZXN0OlwiLCB7XG5cdFx0XHR0bzogcGFyYW1zLnRvLFxuXHRcdFx0ZnJvbTogcGFyYW1zLmZyb20sXG5cdFx0XHRjb21wYW55SWQsXG5cdFx0fSk7XG5cblx0XHRjb25zdCBjb21wYW55U2V0dGluZ3MgPSBhd2FpdCBnZXRDb21wYW55VGVsbnl4U2V0dGluZ3MoXG5cdFx0XHRzdXBhYmFzZSxcblx0XHRcdGNvbXBhbnlJZCxcblx0XHQpO1xuXHRcdGlmICghY29tcGFueVNldHRpbmdzKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKFwi4p2MIENvbXBhbnkgc2V0dGluZ3Mgbm90IGZvdW5kXCIpO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOlxuXHRcdFx0XHRcdFwiVW5hYmxlIHRvIHByb3Zpc2lvbiBUZWxueXggcmVzb3VyY2VzIGZvciB0aGlzIGNvbXBhbnkuIFBsZWFzZSB2ZXJpZnkgdGhlIGNvbXBhbnkncyBvbmJvYXJkaW5nIGlzIGNvbXBsZXRlIGFuZCB0cnkgYWdhaW4uXCIsXG5cdFx0XHR9O1xuXHRcdH1cblx0XHRjb25zb2xlLmxvZyhcIuKchSBDb21wYW55IHNldHRpbmdzIGxvYWRlZDpcIiwge1xuXHRcdFx0bWVzc2FnaW5nUHJvZmlsZUlkOiBjb21wYW55U2V0dGluZ3MubWVzc2FnaW5nX3Byb2ZpbGVfaWQsXG5cdFx0XHRkZWZhdWx0TnVtYmVyOiBjb21wYW55U2V0dGluZ3MuZGVmYXVsdF9vdXRib3VuZF9udW1iZXIsXG5cdFx0fSk7XG5cblx0XHRhd2FpdCBlbnN1cmVQaG9uZU51bWJlclJlY29yZEV4aXN0cyhcblx0XHRcdHN1cGFiYXNlLFxuXHRcdFx0Y29tcGFueUlkLFxuXHRcdFx0Y29tcGFueVNldHRpbmdzLmRlZmF1bHRfb3V0Ym91bmRfbnVtYmVyLFxuXHRcdCk7XG5cblx0XHRjb25zdCBzbXNDb25maWcgPSBhd2FpdCB2YWxpZGF0ZVNtc0NvbmZpZygpO1xuXHRcdGlmICghc21zQ29uZmlnLnZhbGlkICYmICFjb21wYW55U2V0dGluZ3M/Lm1lc3NhZ2luZ19wcm9maWxlX2lkKSB7XG5cdFx0XHRsZXQgZXJyb3JNZXNzYWdlID0gc21zQ29uZmlnLmVycm9yIHx8IFwiU01TIGNvbmZpZ3VyYXRpb24gaXMgaW52YWxpZFwiO1xuXHRcdFx0aWYgKHNtc0NvbmZpZy5zdWdnZXN0ZWRQcm9maWxlSWQpIHtcblx0XHRcdFx0ZXJyb3JNZXNzYWdlICs9IGAgRm91bmQgbWVzc2FnaW5nIHByb2ZpbGUgXCIke3Ntc0NvbmZpZy5zdWdnZXN0ZWRQcm9maWxlSWR9XCIgaW4geW91ciBUZWxueXggYWNjb3VudC4gU2V0IFRFTE5ZWF9ERUZBVUxUX01FU1NBR0lOR19QUk9GSUxFX0lEPSR7c21zQ29uZmlnLnN1Z2dlc3RlZFByb2ZpbGVJZH0gb3IgcHJvdmlzaW9uIGNvbXBhbnktc3BlY2lmaWMgc2V0dGluZ3MuYDtcblx0XHRcdH1cblx0XHRcdGNvbnNvbGUuZXJyb3IoXCLinYwgU01TIGNvbmZpZyBpbnZhbGlkOlwiLCBlcnJvck1lc3NhZ2UpO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOiBlcnJvck1lc3NhZ2UsXG5cdFx0XHR9O1xuXHRcdH1cblx0XHRjb25zb2xlLmxvZyhcIuKchSBTTVMgY29uZmlnIHZhbGlkXCIpO1xuXG5cdFx0Y29uc3QgbWVzc2FnaW5nUHJvZmlsZUlkID1cblx0XHRcdGNvbXBhbnlTZXR0aW5ncz8ubWVzc2FnaW5nX3Byb2ZpbGVfaWQgfHwgREVGQVVMVF9NRVNTQUdJTkdfUFJPRklMRV9JRDtcblx0XHRpZiAoIW1lc3NhZ2luZ1Byb2ZpbGVJZCkge1xuXHRcdFx0Y29uc29sZS5lcnJvcihcIuKdjCBObyBtZXNzYWdpbmcgcHJvZmlsZSBJRFwiKTtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjpcblx0XHRcdFx0XHRcIk1lc3NhZ2luZyBwcm9maWxlIGlzIG5vdCBjb25maWd1cmVkIGZvciB0aGlzIGNvbXBhbnkuIFBsZWFzZSBwcm92aXNpb24gY29tbXVuaWNhdGlvbnMgYmVmb3JlIHNlbmRpbmcgU01TLlwiLFxuXHRcdFx0fTtcblx0XHR9XG5cdFx0Y29uc29sZS5sb2coXCLinIUgVXNpbmcgbWVzc2FnaW5nIHByb2ZpbGU6XCIsIG1lc3NhZ2luZ1Byb2ZpbGVJZCk7XG5cblx0XHRpZiAobWVzc2FnaW5nUHJvZmlsZUlkKSB7XG5cdFx0XHRjb25zdCBtZXNzYWdpbmdQcm9maWxlU3RhdHVzID1cblx0XHRcdFx0YXdhaXQgdmVyaWZ5TWVzc2FnaW5nUHJvZmlsZShtZXNzYWdpbmdQcm9maWxlSWQpO1xuXHRcdFx0aWYgKG1lc3NhZ2luZ1Byb2ZpbGVTdGF0dXMubmVlZHNGaXgpIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihcblx0XHRcdFx0XHRcIuKdjCBNZXNzYWdpbmcgcHJvZmlsZSBuZWVkcyBmaXg6XCIsXG5cdFx0XHRcdFx0bWVzc2FnaW5nUHJvZmlsZVN0YXR1cy5pc3N1ZXMsXG5cdFx0XHRcdCk7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdFx0ZXJyb3I6IGBNZXNzYWdpbmcgcHJvZmlsZSBjb25maWd1cmF0aW9uIGlzc3VlOiAke21lc3NhZ2luZ1Byb2ZpbGVTdGF0dXMuaXNzdWVzLmpvaW4oXCIsIFwiKX0uIFJ1biBmaXhNZXNzYWdpbmdQcm9maWxlKCkgb3IgcmVwcm92aXNpb24gdGhlIGNvbXBhbnkuYCxcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHRcdGNvbnNvbGUubG9nKFwi4pyFIE1lc3NhZ2luZyBwcm9maWxlIHZlcmlmaWVkXCIpO1xuXHRcdH1cblxuXHRcdGNvbnN0IGZyb21BZGRyZXNzID0gYXdhaXQgcmVzb2x2ZU91dGJvdW5kUGhvbmVOdW1iZXIoXG5cdFx0XHRzdXBhYmFzZSxcblx0XHRcdGNvbXBhbnlJZCxcblx0XHRcdHBhcmFtcy5mcm9tLFxuXHRcdFx0Y29tcGFueVNldHRpbmdzLmRlZmF1bHRfb3V0Ym91bmRfbnVtYmVyLFxuXHRcdCk7XG5cdFx0aWYgKCFmcm9tQWRkcmVzcykge1xuXHRcdFx0Y29uc29sZS5lcnJvcihcIuKdjCBObyBmcm9tIG51bWJlciBhdmFpbGFibGVcIik7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6XG5cdFx0XHRcdFx0XCJDb21wYW55IGRvZXMgbm90IGhhdmUgYSBkZWZhdWx0IG91dGJvdW5kIHBob25lIG51bWJlciBjb25maWd1cmVkLiBQbGVhc2UgcHJvdmlzaW9uIG51bWJlcnMgZmlyc3QuXCIsXG5cdFx0XHR9O1xuXHRcdH1cblx0XHRjb25zdCB0b0FkZHJlc3MgPSBub3JtYWxpemVQaG9uZU51bWJlcihwYXJhbXMudG8pO1xuXHRcdGNvbnNvbGUubG9nKFwi4pyFIFBob25lIG51bWJlcnMgbm9ybWFsaXplZDpcIiwge1xuXHRcdFx0ZnJvbTogZnJvbUFkZHJlc3MsXG5cdFx0XHR0bzogdG9BZGRyZXNzLFxuXHRcdH0pO1xuXG5cdFx0Ly8gVmVyaWZ5IHBob25lIG51bWJlciBoYXMgU01TIGNhcGFiaWxpdHlcblx0XHRjb25zb2xlLmxvZyhcIvCflI0gVmVyaWZ5aW5nIFNNUyBjYXBhYmlsaXR5IGZvcjpcIiwgZnJvbUFkZHJlc3MpO1xuXHRcdGNvbnN0IHNtc0NhcGFiaWxpdHkgPSBhd2FpdCB2ZXJpZnlTbXNDYXBhYmlsaXR5KGZyb21BZGRyZXNzKTtcblx0XHRpZiAoIXNtc0NhcGFiaWxpdHkuaGFzU21zKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKFwi4p2MIFNNUyBjYXBhYmlsaXR5IGNoZWNrIGZhaWxlZDpcIiwgc21zQ2FwYWJpbGl0eS5lcnJvcik7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IHNtc0NhcGFiaWxpdHkuZXJyb3IgfHwgXCJQaG9uZSBudW1iZXIgZG9lcyBub3Qgc3VwcG9ydCBTTVNcIixcblx0XHRcdH07XG5cdFx0fVxuXHRcdGNvbnNvbGUubG9nKFwi4pyFIFNNUyBjYXBhYmlsaXR5IHZlcmlmaWVkXCIpO1xuXG5cdFx0Y29uc3Qgd2ViaG9va1VybCA9IGF3YWl0IGdldFRlbG55eFdlYmhvb2tVcmwoY29tcGFueUlkKTtcblx0XHRpZiAoIXdlYmhvb2tVcmwpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoXCLinYwgTm8gd2ViaG9vayBVUkxcIik7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6XG5cdFx0XHRcdFx0XCJTaXRlIFVSTCBpcyBub3QgY29uZmlndXJlZC4gU2V0IE5FWFRfUFVCTElDX1NJVEVfVVJMIG9yIFNJVEVfVVJMIHRvIGEgcHVibGljIGh0dHBzIGRvbWFpbi5cIixcblx0XHRcdH07XG5cdFx0fVxuXHRcdGNvbnNvbGUubG9nKFwi4pyFIFdlYmhvb2sgVVJMOlwiLCB3ZWJob29rVXJsKTtcblxuXHRcdC8vIFNlbmQgU01TIHZpYSBUZWxueXhcblx0XHRjb25zb2xlLmxvZyhcIvCfk6QgU2VuZGluZyBTTVMgdmlhIFRlbG55eCBBUEkuLi5cIik7XG5cdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgc2VuZFNNUyh7XG5cdFx0XHR0bzogdG9BZGRyZXNzLFxuXHRcdFx0ZnJvbTogZnJvbUFkZHJlc3MsXG5cdFx0XHR0ZXh0OiBwYXJhbXMudGV4dCxcblx0XHRcdHdlYmhvb2tVcmwsXG5cdFx0XHRtZXNzYWdpbmdQcm9maWxlSWQsXG5cdFx0fSk7XG5cblx0XHRpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKFwi4p2MIFRlbG55eCBBUEkgZmFpbGVkOlwiLCByZXN1bHQuZXJyb3IpO1xuXG5cdFx0XHQvLyBDaGVjayBpZiBlcnJvciBpcyAxMERMQyByZWdpc3RyYXRpb24gcmVxdWlyZWRcblx0XHRcdGlmIChcblx0XHRcdFx0cmVzdWx0LmVycm9yICYmXG5cdFx0XHRcdChyZXN1bHQuZXJyb3IuaW5jbHVkZXMoXCIxMERMQ1wiKSB8fFxuXHRcdFx0XHRcdHJlc3VsdC5lcnJvci5pbmNsdWRlcyhcIk5vdCAxMERMQyByZWdpc3RlcmVkXCIpIHx8XG5cdFx0XHRcdFx0cmVzdWx0LmVycm9yLmluY2x1ZGVzKFwiQTJQXCIpKVxuXHRcdFx0KSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKFxuXHRcdFx0XHRcdFwi8J+UhCBEZXRlY3RlZCAxMERMQyByZWdpc3RyYXRpb24gcmVxdWlyZWQsIGF0dGVtcHRpbmcgYXV0by1yZWdpc3RyYXRpb24uLi5cIixcblx0XHRcdFx0KTtcblxuXHRcdFx0XHQvLyBJbXBvcnQgMTBETEMgcmVnaXN0cmF0aW9uIGZ1bmN0aW9uXG5cdFx0XHRcdGNvbnN0IHsgcmVnaXN0ZXJDb21wYW55Rm9yMTBETEMgfSA9IGF3YWl0IGltcG9ydChcblx0XHRcdFx0XHRcIkAvYWN0aW9ucy90ZW4tZGxjLXJlZ2lzdHJhdGlvblwiXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0Y29uc3QgcmVnaXN0cmF0aW9uUmVzdWx0ID0gYXdhaXQgcmVnaXN0ZXJDb21wYW55Rm9yMTBETEMoXG5cdFx0XHRcdFx0Y29tcGFueUlkLFxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdGlmIChyZWdpc3RyYXRpb25SZXN1bHQuc3VjY2Vzcykge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKFwi4pyFIDEwRExDIHJlZ2lzdHJhdGlvbiBzdWNjZXNzZnVsLCByZXRyeWluZyBTTVMgc2VuZC4uLlwiKTtcblxuXHRcdFx0XHRcdC8vIFJldHJ5IHRoZSBTTVMgc2VuZCBub3cgdGhhdCAxMERMQyBpcyByZWdpc3RlcmVkXG5cdFx0XHRcdFx0Y29uc3QgcmV0cnlSZXN1bHQgPSBhd2FpdCBzZW5kU01TKHtcblx0XHRcdFx0XHRcdHRvOiB0b0FkZHJlc3MsXG5cdFx0XHRcdFx0XHRmcm9tOiBmcm9tQWRkcmVzcyxcblx0XHRcdFx0XHRcdHRleHQ6IHBhcmFtcy50ZXh0LFxuXHRcdFx0XHRcdFx0d2ViaG9va1VybCxcblx0XHRcdFx0XHRcdG1lc3NhZ2luZ1Byb2ZpbGVJZCxcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdGlmICghcmV0cnlSZXN1bHQuc3VjY2Vzcykge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdGVycm9yOiBgMTBETEMgcmVnaXN0cmF0aW9uIGNvbXBsZXRlZCBidXQgU01TIHN0aWxsIGZhaWxlZDogJHtyZXRyeVJlc3VsdC5lcnJvcn0uIFRoZSBjYW1wYWlnbiBtYXkgbmVlZCBhZGRpdGlvbmFsIGFwcHJvdmFsIHRpbWUuYCxcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gVXBkYXRlIHJlc3VsdCB3aXRoIHJldHJ5IHN1Y2Nlc3Ncblx0XHRcdFx0XHRyZXN1bHQuc3VjY2VzcyA9IHRydWU7XG5cdFx0XHRcdFx0cmVzdWx0Lm1lc3NhZ2VJZCA9IHJldHJ5UmVzdWx0Lm1lc3NhZ2VJZDtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIuKchSBTTVMgcmV0cnkgc3VjY2Vzc2Z1bCBhZnRlciAxMERMQyByZWdpc3RyYXRpb25cIik7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRcdFx0ZXJyb3I6IGAxMERMQyByZWdpc3RyYXRpb24gZmFpbGVkOiAke3JlZ2lzdHJhdGlvblJlc3VsdC5lcnJvcn0uIE9yaWdpbmFsIGVycm9yOiAke3Jlc3VsdC5lcnJvcn1gLFxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGNvbnNvbGUubG9nKFwi4pyFIFRlbG55eCBBUEkgc3VjY2VzczpcIiwgcmVzdWx0Lm1lc3NhZ2VJZCk7XG5cblx0XHQvLyBDcmVhdGUgY29tbXVuaWNhdGlvbiByZWNvcmRcblx0XHRjb25zb2xlLmxvZyhcIvCfkr4gQ3JlYXRpbmcgY29tbXVuaWNhdGlvbiByZWNvcmQgaW4gZGF0YWJhc2UuLi5cIik7XG5cdFx0Y29uc3QgcGhvbmVOdW1iZXJJZCA9IGF3YWl0IGdldFBob25lTnVtYmVySWQoc3VwYWJhc2UsIGZyb21BZGRyZXNzKTtcblx0XHRjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjb21tdW5pY2F0aW9uc1wiKVxuXHRcdFx0Lmluc2VydCh7XG5cdFx0XHRcdGNvbXBhbnlfaWQ6IGNvbXBhbnlJZCxcblx0XHRcdFx0Y3VzdG9tZXJfaWQ6IHBhcmFtcy5jdXN0b21lcklkLFxuXHRcdFx0XHRqb2JfaWQ6IHBhcmFtcy5qb2JJZCA/PyBudWxsLFxuXHRcdFx0XHRpbnZvaWNlX2lkOiBwYXJhbXMuaW52b2ljZUlkID8/IG51bGwsXG5cdFx0XHRcdGVzdGltYXRlX2lkOiBwYXJhbXMuZXN0aW1hdGVJZCA/PyBudWxsLFxuXHRcdFx0XHR0eXBlOiBcInNtc1wiLFxuXHRcdFx0XHRjaGFubmVsOiBcInRlbG55eFwiLFxuXHRcdFx0XHRkaXJlY3Rpb246IFwib3V0Ym91bmRcIixcblx0XHRcdFx0ZnJvbV9hZGRyZXNzOiBmcm9tQWRkcmVzcyxcblx0XHRcdFx0dG9fYWRkcmVzczogdG9BZGRyZXNzLFxuXHRcdFx0XHRib2R5OiBwYXJhbXMudGV4dCxcblx0XHRcdFx0c3RhdHVzOiBcInF1ZXVlZFwiLFxuXHRcdFx0XHRwcmlvcml0eTogXCJub3JtYWxcIixcblx0XHRcdFx0cGhvbmVfbnVtYmVyX2lkOiBwaG9uZU51bWJlcklkLFxuXHRcdFx0XHRpc19hcmNoaXZlZDogZmFsc2UsXG5cdFx0XHRcdGlzX2F1dG9tYXRlZDogZmFsc2UsXG5cdFx0XHRcdGlzX2ludGVybmFsOiBmYWxzZSxcblx0XHRcdFx0aXNfdGhyZWFkX3N0YXJ0ZXI6IHRydWUsXG5cdFx0XHRcdHRlbG55eF9tZXNzYWdlX2lkOiByZXN1bHQubWVzc2FnZUlkLFxuXHRcdFx0fSlcblx0XHRcdC5zZWxlY3QoKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvY29tbXVuaWNhdGlvblwiKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0bWVzc2FnZUlkOiByZXN1bHQubWVzc2FnZUlkLFxuXHRcdFx0ZGF0YSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoXCJTTVMgc2VuZCBlcnJvcjpcIiwgZXJyb3IpO1xuXHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBkZXRhaWxzOlwiLCB7XG5cdFx0XHRtZXNzYWdlOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvciksXG5cdFx0XHRzdGFjazogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLnN0YWNrIDogdW5kZWZpbmVkLFxuXHRcdFx0dHlwZTogdHlwZW9mIGVycm9yLFxuXHRcdFx0c3RyaW5naWZpZWQ6IEpTT04uc3RyaW5naWZ5KGVycm9yLCBudWxsLCAyKSxcblx0XHR9KTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogYEZhaWxlZCB0byBzZW5kIFNNUzogJHtTdHJpbmcoZXJyb3IpfWAsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIFNlbmQgYW4gTU1TIG1lc3NhZ2Ugd2l0aCBtZWRpYVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZE1NU01lc3NhZ2UocGFyYW1zOiB7XG5cdHRvOiBzdHJpbmc7XG5cdGZyb206IHN0cmluZztcblx0dGV4dD86IHN0cmluZztcblx0bWVkaWFVcmxzOiBzdHJpbmdbXTtcblx0Y29tcGFueUlkPzogc3RyaW5nOyAvLyBPcHRpb25hbCAtIHdpbGwgYmUgZmV0Y2hlZCBpZiBub3QgcHJvdmlkZWRcblx0Y3VzdG9tZXJJZD86IHN0cmluZztcblx0am9iSWQ/OiBzdHJpbmc7XG5cdHByb3BlcnR5SWQ/OiBzdHJpbmc7XG5cdGludm9pY2VJZD86IHN0cmluZztcblx0ZXN0aW1hdGVJZD86IHN0cmluZztcbn0pIHtcblx0dHJ5IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJTZXJ2aWNlIHVuYXZhaWxhYmxlXCIgfTtcblx0XHR9XG5cblx0XHQvLyBHZXQgY29tcGFueSBJRCBpZiBub3QgcHJvdmlkZWRcblx0XHRsZXQgY29tcGFueUlkID0gcGFyYW1zLmNvbXBhbnlJZDtcblx0XHRpZiAoIWNvbXBhbnlJZCkge1xuXHRcdFx0Y29uc3QgeyBnZXRBY3RpdmVDb21wYW55SWQgfSA9IGF3YWl0IGltcG9ydChcIkAvbGliL2F1dGgvY29tcGFueS1jb250ZXh0XCIpO1xuXHRcdFx0Y29tcGFueUlkID0gYXdhaXQgZ2V0QWN0aXZlQ29tcGFueUlkKCk7XG5cdFx0XHRpZiAoIWNvbXBhbnlJZCkge1xuXHRcdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm8gYWN0aXZlIGNvbXBhbnkgZm91bmRcIiB9O1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGNvbnN0IGNvbXBhbnlTZXR0aW5ncyA9IGF3YWl0IGdldENvbXBhbnlUZWxueXhTZXR0aW5ncyhcblx0XHRcdHN1cGFiYXNlLFxuXHRcdFx0Y29tcGFueUlkLFxuXHRcdCk7XG5cdFx0aWYgKCFjb21wYW55U2V0dGluZ3MpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjpcblx0XHRcdFx0XHRcIlVuYWJsZSB0byBwcm92aXNpb24gVGVsbnl4IHJlc291cmNlcyBmb3IgdGhpcyBjb21wYW55LiBQbGVhc2UgdmVyaWZ5IG9uYm9hcmRpbmcgaXMgY29tcGxldGUuXCIsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGF3YWl0IGVuc3VyZVBob25lTnVtYmVyUmVjb3JkRXhpc3RzKFxuXHRcdFx0c3VwYWJhc2UsXG5cdFx0XHRjb21wYW55SWQsXG5cdFx0XHRjb21wYW55U2V0dGluZ3MuZGVmYXVsdF9vdXRib3VuZF9udW1iZXIsXG5cdFx0KTtcblxuXHRcdGNvbnN0IHNtc0NvbmZpZyA9IGF3YWl0IHZhbGlkYXRlU21zQ29uZmlnKCk7XG5cdFx0aWYgKCFzbXNDb25maWcudmFsaWQgJiYgIWNvbXBhbnlTZXR0aW5ncy5tZXNzYWdpbmdfcHJvZmlsZV9pZCkge1xuXHRcdFx0bGV0IGVycm9yTWVzc2FnZSA9IHNtc0NvbmZpZy5lcnJvciB8fCBcIlNNUyBjb25maWd1cmF0aW9uIGlzIGludmFsaWRcIjtcblx0XHRcdGlmIChzbXNDb25maWcuc3VnZ2VzdGVkUHJvZmlsZUlkKSB7XG5cdFx0XHRcdGVycm9yTWVzc2FnZSArPSBgIEZvdW5kIG1lc3NhZ2luZyBwcm9maWxlIFwiJHtzbXNDb25maWcuc3VnZ2VzdGVkUHJvZmlsZUlkfVwiIGluIHlvdXIgVGVsbnl4IGFjY291bnQuIFNldCBURUxOWVhfREVGQVVMVF9NRVNTQUdJTkdfUFJPRklMRV9JRD0ke3Ntc0NvbmZpZy5zdWdnZXN0ZWRQcm9maWxlSWR9IG9yIHJlcHJvdmlzaW9uIHRoZSBjb21wYW55LmA7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGVycm9yTWVzc2FnZSxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Y29uc3QgbWVzc2FnaW5nUHJvZmlsZUlkID1cblx0XHRcdGNvbXBhbnlTZXR0aW5ncy5tZXNzYWdpbmdfcHJvZmlsZV9pZCB8fCBERUZBVUxUX01FU1NBR0lOR19QUk9GSUxFX0lEO1xuXHRcdGlmICghbWVzc2FnaW5nUHJvZmlsZUlkKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6XG5cdFx0XHRcdFx0XCJNZXNzYWdpbmcgcHJvZmlsZSBpcyBub3QgY29uZmlndXJlZCBmb3IgdGhpcyBjb21wYW55LiBQbGVhc2UgcHJvdmlzaW9uIGNvbW11bmljYXRpb25zIGJlZm9yZSBzZW5kaW5nIE1NUy5cIixcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Y29uc3QgZnJvbUFkZHJlc3MgPSBhd2FpdCByZXNvbHZlT3V0Ym91bmRQaG9uZU51bWJlcihcblx0XHRcdHN1cGFiYXNlLFxuXHRcdFx0Y29tcGFueUlkLFxuXHRcdFx0cGFyYW1zLmZyb20sXG5cdFx0XHRjb21wYW55U2V0dGluZ3MuZGVmYXVsdF9vdXRib3VuZF9udW1iZXIsXG5cdFx0KTtcblx0XHRpZiAoIWZyb21BZGRyZXNzKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6XG5cdFx0XHRcdFx0XCJDb21wYW55IGRvZXMgbm90IGhhdmUgYSBkZWZhdWx0IG91dGJvdW5kIHBob25lIG51bWJlciBjb25maWd1cmVkLlwiLFxuXHRcdFx0fTtcblx0XHR9XG5cdFx0Y29uc3QgdG9BZGRyZXNzID0gbm9ybWFsaXplUGhvbmVOdW1iZXIocGFyYW1zLnRvKTtcblxuXHRcdGNvbnN0IHdlYmhvb2tVcmwgPSBhd2FpdCBnZXRUZWxueXhXZWJob29rVXJsKGNvbXBhbnlJZCk7XG5cdFx0aWYgKCF3ZWJob29rVXJsKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6XG5cdFx0XHRcdFx0XCJTaXRlIFVSTCBpcyBub3QgY29uZmlndXJlZC4gU2V0IE5FWFRfUFVCTElDX1NJVEVfVVJMIG9yIFNJVEVfVVJMIHRvIGEgcHVibGljIGh0dHBzIGRvbWFpbi5cIixcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKG1lc3NhZ2luZ1Byb2ZpbGVJZCkge1xuXHRcdFx0Y29uc3QgbWVzc2FnaW5nUHJvZmlsZVN0YXR1cyA9XG5cdFx0XHRcdGF3YWl0IHZlcmlmeU1lc3NhZ2luZ1Byb2ZpbGUobWVzc2FnaW5nUHJvZmlsZUlkKTtcblx0XHRcdGlmIChtZXNzYWdpbmdQcm9maWxlU3RhdHVzLm5lZWRzRml4KSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdFx0ZXJyb3I6IGBNZXNzYWdpbmcgcHJvZmlsZSBjb25maWd1cmF0aW9uIGlzc3VlOiAke21lc3NhZ2luZ1Byb2ZpbGVTdGF0dXMuaXNzdWVzLmpvaW4oXCIsIFwiKX0uIFJ1biBmaXhNZXNzYWdpbmdQcm9maWxlKCkgb3IgcmVwcm92aXNpb24gdGhlIGNvbXBhbnkuYCxcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRjb25zdCBzbXNDYXBhYmlsaXR5ID0gYXdhaXQgdmVyaWZ5U21zQ2FwYWJpbGl0eShmcm9tQWRkcmVzcyk7XG5cdFx0aWYgKCFzbXNDYXBhYmlsaXR5Lmhhc1Ntcykge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOiBzbXNDYXBhYmlsaXR5LmVycm9yIHx8IFwiUGhvbmUgbnVtYmVyIGRvZXMgbm90IHN1cHBvcnQgU01TL01NU1wiLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kTU1TKHtcblx0XHRcdHRvOiB0b0FkZHJlc3MsXG5cdFx0XHRmcm9tOiBmcm9tQWRkcmVzcyxcblx0XHRcdHRleHQ6IHBhcmFtcy50ZXh0LFxuXHRcdFx0bWVkaWFVcmxzOiBwYXJhbXMubWVkaWFVcmxzLFxuXHRcdFx0d2ViaG9va1VybCxcblx0XHRcdG1lc3NhZ2luZ1Byb2ZpbGVJZCxcblx0XHR9KTtcblxuXHRcdGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fVxuXG5cdFx0Y29uc3QgcGhvbmVOdW1iZXJJZCA9IGF3YWl0IGdldFBob25lTnVtYmVySWQoc3VwYWJhc2UsIGZyb21BZGRyZXNzKTtcblx0XHRjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjb21tdW5pY2F0aW9uc1wiKVxuXHRcdFx0Lmluc2VydCh7XG5cdFx0XHRcdGNvbXBhbnlfaWQ6IGNvbXBhbnlJZCxcblx0XHRcdFx0Y3VzdG9tZXJfaWQ6IHBhcmFtcy5jdXN0b21lcklkLFxuXHRcdFx0XHRqb2JfaWQ6IHBhcmFtcy5qb2JJZCA/PyBudWxsLFxuXHRcdFx0XHRwcm9wZXJ0eV9pZDogcGFyYW1zLnByb3BlcnR5SWQgPz8gbnVsbCxcblx0XHRcdFx0aW52b2ljZV9pZDogcGFyYW1zLmludm9pY2VJZCA/PyBudWxsLFxuXHRcdFx0XHRlc3RpbWF0ZV9pZDogcGFyYW1zLmVzdGltYXRlSWQgPz8gbnVsbCxcblx0XHRcdFx0dHlwZTogXCJzbXNcIixcblx0XHRcdFx0Y2hhbm5lbDogXCJ0ZWxueXhcIixcblx0XHRcdFx0ZGlyZWN0aW9uOiBcIm91dGJvdW5kXCIsXG5cdFx0XHRcdGZyb21fYWRkcmVzczogZnJvbUFkZHJlc3MsXG5cdFx0XHRcdHRvX2FkZHJlc3M6IHRvQWRkcmVzcyxcblx0XHRcdFx0Ym9keTogcGFyYW1zLnRleHQgfHwgXCJcIixcblx0XHRcdFx0YXR0YWNobWVudHM6IHBhcmFtcy5tZWRpYVVybHMubWFwKCh1cmwpID0+ICh7IHVybCwgdHlwZTogXCJpbWFnZVwiIH0pKSxcblx0XHRcdFx0YXR0YWNobWVudF9jb3VudDogcGFyYW1zLm1lZGlhVXJscy5sZW5ndGgsXG5cdFx0XHRcdHN0YXR1czogXCJxdWV1ZWRcIixcblx0XHRcdFx0cHJpb3JpdHk6IFwibm9ybWFsXCIsXG5cdFx0XHRcdHBob25lX251bWJlcl9pZDogcGhvbmVOdW1iZXJJZCxcblx0XHRcdFx0aXNfYXJjaGl2ZWQ6IGZhbHNlLFxuXHRcdFx0XHRpc19hdXRvbWF0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRpc19pbnRlcm5hbDogZmFsc2UsXG5cdFx0XHRcdGlzX3RocmVhZF9zdGFydGVyOiB0cnVlLFxuXHRcdFx0XHR0ZWxueXhfbWVzc2FnZV9pZDogcmVzdWx0Lm1lc3NhZ2VJZCxcblx0XHRcdH0pXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL2NvbW11bmljYXRpb25cIik7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdG1lc3NhZ2VJZDogcmVzdWx0Lm1lc3NhZ2VJZCxcblx0XHRcdGRhdGEsXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byBzZW5kIE1NU1wiLFxuXHRcdH07XG5cdH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gV0VCUlRDIE9QRVJBVElPTlMgQUNUSU9OU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIEdlbmVyYXRlIFdlYlJUQyBjcmVkZW50aWFscyBmb3IgYnJvd3NlciBjYWxsaW5nXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRXZWJSVENDcmVkZW50aWFscygpIHtcblx0dHJ5IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJTZXJ2aWNlIHVuYXZhaWxhYmxlXCIgfTtcblx0XHR9XG5cblx0XHQvLyBHZXQgY3VycmVudCB1c2VyXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0XHRlcnJvcjogdXNlckVycm9yLFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblx0XHRpZiAodXNlckVycm9yIHx8ICF1c2VyKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IFwiVXNlciBub3QgYXV0aGVudGljYXRlZFwiLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBPUFRJT04gMTogVXNlIHN0YXRpYyBjcmVkZW50aWFscyBmcm9tIGVudmlyb25tZW50IChyZWNvbW1lbmRlZCBmb3IgcHJvZHVjdGlvbilcblx0XHRjb25zdCBzdGF0aWNVc2VybmFtZSA9IHByb2Nlc3MuZW52LlRFTE5ZWF9XRUJSVENfVVNFUk5BTUU7XG5cdFx0Y29uc3Qgc3RhdGljUGFzc3dvcmQgPSBwcm9jZXNzLmVudi5URUxOWVhfV0VCUlRDX1BBU1NXT1JEO1xuXG5cdFx0aWYgKHN0YXRpY1VzZXJuYW1lICYmIHN0YXRpY1Bhc3N3b3JkKSB7XG5cdFx0XHRjb25zdCBjcmVkZW50aWFsID0ge1xuXHRcdFx0XHR1c2VybmFtZTogc3RhdGljVXNlcm5hbWUsXG5cdFx0XHRcdHBhc3N3b3JkOiBzdGF0aWNQYXNzd29yZCxcblx0XHRcdFx0ZXhwaXJlc19hdDogRGF0ZS5ub3coKSArIDg2XzQwMCAqIDEwMDAsIC8vIDI0IGhvdXJzIGZyb20gbm93XG5cdFx0XHRcdHJlYWxtOiBcInNpcC50ZWxueXguY29tXCIsXG5cdFx0XHRcdHNpcF91cmk6IGBzaXA6JHtzdGF0aWNVc2VybmFtZX1Ac2lwLnRlbG55eC5jb21gLFxuXHRcdFx0XHRzdHVuX3NlcnZlcnM6IFtcblx0XHRcdFx0XHRcInN0dW46c3R1bi50ZWxueXguY29tOjM0NzhcIixcblx0XHRcdFx0XHRcInN0dW46c3R1bi50ZWxueXguY29tOjM0NzlcIixcblx0XHRcdFx0XSxcblx0XHRcdFx0dHVybl9zZXJ2ZXJzOiBbXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0dXJsczogW1xuXHRcdFx0XHRcdFx0XHRcInR1cm46dHVybi50ZWxueXguY29tOjM0Nzg/dHJhbnNwb3J0PXVkcFwiLFxuXHRcdFx0XHRcdFx0XHRcInR1cm46dHVybi50ZWxueXguY29tOjM0Nzg/dHJhbnNwb3J0PXRjcFwiLFxuXHRcdFx0XHRcdFx0XSxcblx0XHRcdFx0XHRcdHVzZXJuYW1lOiBzdGF0aWNVc2VybmFtZSxcblx0XHRcdFx0XHRcdGNyZWRlbnRpYWw6IHN0YXRpY1Bhc3N3b3JkLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdF0sXG5cdFx0XHR9O1xuXG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0XHRjcmVkZW50aWFsLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRjb25zdCB7IGdlbmVyYXRlV2ViUlRDVG9rZW4gfSA9IGF3YWl0IGltcG9ydChcIkAvbGliL3RlbG55eC93ZWJydGNcIik7XG5cdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgZ2VuZXJhdGVXZWJSVENUb2tlbih7XG5cdFx0XHR1c2VybmFtZTogdXNlci5lbWFpbCB8fCB1c2VyLmlkLFxuXHRcdFx0dHRsOiA4Nl80MDAsIC8vIDI0IGhvdXJzXG5cdFx0fSk7XG5cblx0XHRpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0Y3JlZGVudGlhbDogcmVzdWx0LmNyZWRlbnRpYWwsXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gZ2V0IFdlYlJUQyBjcmVkZW50aWFsc1wiLFxuXHRcdH07XG5cdH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gVk9JQ0VNQUlMIE9QRVJBVElPTlMgQUNUSU9OU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIEdldCBhbGwgdm9pY2VtYWlscyBmb3IgYSBjb21wYW55XG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldFZvaWNlbWFpbHMoY29tcGFueUlkOiBzdHJpbmcpIHtcblx0dHJ5IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJTZXJ2aWNlIHVuYXZhaWxhYmxlXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJ2b2ljZW1haWxzXCIpXG5cdFx0XHQuc2VsZWN0KFxuXHRcdFx0XHRgXG4gICAgICAgICosXG4gICAgICAgIGN1c3RvbWVyOmN1c3RvbWVycyhpZCwgZmlyc3RfbmFtZSwgbGFzdF9uYW1lLCBlbWFpbCwgcGhvbmUpLFxuICAgICAgICBwaG9uZV9udW1iZXI6cGhvbmVfbnVtYmVycyhwaG9uZV9udW1iZXIsIGZvcm1hdHRlZF9udW1iZXIpXG4gICAgICBgLFxuXHRcdFx0KVxuXHRcdFx0LmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpXG5cdFx0XHQuaXMoXCJkZWxldGVkX2F0XCIsIG51bGwpXG5cdFx0XHQub3JkZXIoXCJyZWNlaXZlZF9hdFwiLCB7IGFzY2VuZGluZzogZmFsc2UgfSk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0ZGF0YTogZGF0YSB8fCBbXSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiRmFpbGVkIHRvIGdldCB2b2ljZW1haWxzXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIE1hcmsgdm9pY2VtYWlsIGFzIHJlYWRcbiAqL1xuYXN5bmMgZnVuY3Rpb24gbWFya1ZvaWNlbWFpbEFzUmVhZCh2b2ljZW1haWxJZDogc3RyaW5nLCB1c2VySWQ6IHN0cmluZykge1xuXHR0cnkge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cdFx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlNlcnZpY2UgdW5hdmFpbGFibGVcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcInZvaWNlbWFpbHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRpc19yZWFkOiB0cnVlLFxuXHRcdFx0XHRyZWFkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG5cdFx0XHRcdHJlYWRfYnk6IHVzZXJJZCxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCB2b2ljZW1haWxJZClcblx0XHRcdC5zZWxlY3QoKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvY29tbXVuaWNhdGlvblwiKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0ZGF0YSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byBtYXJrIHZvaWNlbWFpbCBhcyByZWFkXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIERlbGV0ZSB2b2ljZW1haWxcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZGVsZXRlVm9pY2VtYWlsKHZvaWNlbWFpbElkOiBzdHJpbmcsIHVzZXJJZDogc3RyaW5nKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiU2VydmljZSB1bmF2YWlsYWJsZVwiIH07XG5cdFx0fVxuXG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwidm9pY2VtYWlsc1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdGRlbGV0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdFx0ZGVsZXRlZF9ieTogdXNlcklkLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHZvaWNlbWFpbElkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL2NvbW11bmljYXRpb25cIik7XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gZGVsZXRlIHZvaWNlbWFpbFwiLFxuXHRcdH07XG5cdH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gQ0FMTCBST1VUSU5HIFJVTEVTIEFDVElPTlNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBHZXQgYWxsIGNhbGwgcm91dGluZyBydWxlcyBmb3IgYSBjb21wYW55XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDYWxsUm91dGluZ1J1bGVzKGNvbXBhbnlJZDogc3RyaW5nKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiU2VydmljZSB1bmF2YWlsYWJsZVwiIH07XG5cdFx0fVxuXG5cdFx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiY2FsbF9yb3V0aW5nX3J1bGVzXCIpXG5cdFx0XHQuc2VsZWN0KFxuXHRcdFx0XHRgXG4gICAgICAgICosXG4gICAgICAgIGNyZWF0ZWRfYnlfdXNlcjp1c2VycyFjYWxsX3JvdXRpbmdfcnVsZXNfY3JlYXRlZF9ieV9ma2V5KGlkLCBuYW1lLCBlbWFpbCksXG4gICAgICAgIGZvcndhcmRfdG9fdXNlcjp1c2VycyFjYWxsX3JvdXRpbmdfcnVsZXNfZm9yd2FyZF90b191c2VyX2lkX2ZrZXkoaWQsIG5hbWUsIGVtYWlsKVxuICAgICAgYCxcblx0XHRcdClcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgY29tcGFueUlkKVxuXHRcdFx0LmlzKFwiZGVsZXRlZF9hdFwiLCBudWxsKVxuXHRcdFx0Lm9yZGVyKFwicHJpb3JpdHlcIiwgeyBhc2NlbmRpbmc6IGZhbHNlIH0pO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdGRhdGE6IGRhdGEgfHwgW10sXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gZ2V0IGNhbGwgcm91dGluZyBydWxlc1wiLFxuXHRcdH07XG5cdH1cbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgY2FsbCByb3V0aW5nIHJ1bGVcbiAqL1xuYXN5bmMgZnVuY3Rpb24gY3JlYXRlQ2FsbFJvdXRpbmdSdWxlKHBhcmFtczoge1xuXHRjb21wYW55SWQ6IHN0cmluZztcblx0dXNlcklkOiBzdHJpbmc7XG5cdG5hbWU6IHN0cmluZztcblx0ZGVzY3JpcHRpb24/OiBzdHJpbmc7XG5cdHJvdXRpbmdUeXBlOlxuXHRcdHwgXCJkaXJlY3RcIlxuXHRcdHwgXCJyb3VuZF9yb2JpblwiXG5cdFx0fCBcIml2clwiXG5cdFx0fCBcImJ1c2luZXNzX2hvdXJzXCJcblx0XHR8IFwiY29uZGl0aW9uYWxcIjtcblx0cHJpb3JpdHk/OiBudW1iZXI7XG5cdGJ1c2luZXNzSG91cnM/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblx0dGltZXpvbmU/OiBzdHJpbmc7XG5cdGFmdGVySG91cnNBY3Rpb24/OiBcInZvaWNlbWFpbFwiIHwgXCJmb3J3YXJkXCIgfCBcImhhbmd1cFwiO1xuXHRhZnRlckhvdXJzRm9yd2FyZFRvPzogc3RyaW5nO1xuXHR0ZWFtTWVtYmVycz86IHN0cmluZ1tdO1xuXHRyaW5nVGltZW91dD86IG51bWJlcjtcblx0aXZyTWVudT86IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuXHRpdnJHcmVldGluZ1VybD86IHN0cmluZztcblx0Zm9yd2FyZFRvTnVtYmVyPzogc3RyaW5nO1xuXHRmb3J3YXJkVG9Vc2VySWQ/OiBzdHJpbmc7XG5cdGVuYWJsZVZvaWNlbWFpbD86IGJvb2xlYW47XG5cdHZvaWNlbWFpbEdyZWV0aW5nVXJsPzogc3RyaW5nO1xuXHR2b2ljZW1haWxUcmFuc2NyaXB0aW9uRW5hYmxlZD86IGJvb2xlYW47XG5cdHZvaWNlbWFpbEVtYWlsTm90aWZpY2F0aW9ucz86IGJvb2xlYW47XG5cdHJlY29yZENhbGxzPzogYm9vbGVhbjtcbn0pIHtcblx0dHJ5IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJTZXJ2aWNlIHVuYXZhaWxhYmxlXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjYWxsX3JvdXRpbmdfcnVsZXNcIilcblx0XHRcdC5pbnNlcnQoe1xuXHRcdFx0XHRjb21wYW55X2lkOiBwYXJhbXMuY29tcGFueUlkLFxuXHRcdFx0XHRjcmVhdGVkX2J5OiBwYXJhbXMudXNlcklkLFxuXHRcdFx0XHRuYW1lOiBwYXJhbXMubmFtZSxcblx0XHRcdFx0ZGVzY3JpcHRpb246IHBhcmFtcy5kZXNjcmlwdGlvbixcblx0XHRcdFx0cm91dGluZ190eXBlOiBwYXJhbXMucm91dGluZ1R5cGUsXG5cdFx0XHRcdHByaW9yaXR5OiBwYXJhbXMucHJpb3JpdHkgfHwgMCxcblx0XHRcdFx0YnVzaW5lc3NfaG91cnM6IHBhcmFtcy5idXNpbmVzc0hvdXJzLFxuXHRcdFx0XHR0aW1lem9uZTogcGFyYW1zLnRpbWV6b25lIHx8IFwiQW1lcmljYS9Mb3NfQW5nZWxlc1wiLFxuXHRcdFx0XHRhZnRlcl9ob3Vyc19hY3Rpb246IHBhcmFtcy5hZnRlckhvdXJzQWN0aW9uLFxuXHRcdFx0XHRhZnRlcl9ob3Vyc19mb3J3YXJkX3RvOiBwYXJhbXMuYWZ0ZXJIb3Vyc0ZvcndhcmRUbyxcblx0XHRcdFx0dGVhbV9tZW1iZXJzOiBwYXJhbXMudGVhbU1lbWJlcnMsXG5cdFx0XHRcdHJpbmdfdGltZW91dDogcGFyYW1zLnJpbmdUaW1lb3V0IHx8IDIwLFxuXHRcdFx0XHRpdnJfbWVudTogcGFyYW1zLml2ck1lbnUsXG5cdFx0XHRcdGl2cl9ncmVldGluZ191cmw6IHBhcmFtcy5pdnJHcmVldGluZ1VybCxcblx0XHRcdFx0Zm9yd2FyZF90b19udW1iZXI6IHBhcmFtcy5mb3J3YXJkVG9OdW1iZXIsXG5cdFx0XHRcdGZvcndhcmRfdG9fdXNlcl9pZDogcGFyYW1zLmZvcndhcmRUb1VzZXJJZCxcblx0XHRcdFx0ZW5hYmxlX3ZvaWNlbWFpbDogcGFyYW1zLmVuYWJsZVZvaWNlbWFpbCAhPT0gZmFsc2UsXG5cdFx0XHRcdHZvaWNlbWFpbF9ncmVldGluZ191cmw6IHBhcmFtcy52b2ljZW1haWxHcmVldGluZ1VybCxcblx0XHRcdFx0dm9pY2VtYWlsX3RyYW5zY3JpcHRpb25fZW5hYmxlZDpcblx0XHRcdFx0XHRwYXJhbXMudm9pY2VtYWlsVHJhbnNjcmlwdGlvbkVuYWJsZWQgIT09IGZhbHNlLFxuXHRcdFx0XHR2b2ljZW1haWxfZW1haWxfbm90aWZpY2F0aW9uczpcblx0XHRcdFx0XHRwYXJhbXMudm9pY2VtYWlsRW1haWxOb3RpZmljYXRpb25zICE9PSBmYWxzZSxcblx0XHRcdFx0cmVjb3JkX2NhbGxzOiBwYXJhbXMucmVjb3JkQ2FsbHMsXG5cdFx0XHRcdGlzX2FjdGl2ZTogdHJ1ZSxcblx0XHRcdH0pXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL3NldHRpbmdzL2NvbW11bmljYXRpb25zL2NhbGwtcm91dGluZ1wiKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0ZGF0YSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byBjcmVhdGUgY2FsbCByb3V0aW5nIHJ1bGVcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogVXBkYXRlIGFuIGV4aXN0aW5nIGNhbGwgcm91dGluZyBydWxlXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVDYWxsUm91dGluZ1J1bGUocGFyYW1zOiB7XG5cdHJ1bGVJZDogc3RyaW5nO1xuXHRuYW1lPzogc3RyaW5nO1xuXHRkZXNjcmlwdGlvbj86IHN0cmluZztcblx0cHJpb3JpdHk/OiBudW1iZXI7XG5cdGJ1c2luZXNzSG91cnM/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblx0dGltZXpvbmU/OiBzdHJpbmc7XG5cdGFmdGVySG91cnNBY3Rpb24/OiBcInZvaWNlbWFpbFwiIHwgXCJmb3J3YXJkXCIgfCBcImhhbmd1cFwiO1xuXHRhZnRlckhvdXJzRm9yd2FyZFRvPzogc3RyaW5nO1xuXHR0ZWFtTWVtYmVycz86IHN0cmluZ1tdO1xuXHRyaW5nVGltZW91dD86IG51bWJlcjtcblx0aXZyTWVudT86IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuXHRpdnJHcmVldGluZ1VybD86IHN0cmluZztcblx0Zm9yd2FyZFRvTnVtYmVyPzogc3RyaW5nO1xuXHRmb3J3YXJkVG9Vc2VySWQ/OiBzdHJpbmc7XG5cdGVuYWJsZVZvaWNlbWFpbD86IGJvb2xlYW47XG5cdHZvaWNlbWFpbEdyZWV0aW5nVXJsPzogc3RyaW5nO1xuXHR2b2ljZW1haWxUcmFuc2NyaXB0aW9uRW5hYmxlZD86IGJvb2xlYW47XG5cdHZvaWNlbWFpbEVtYWlsTm90aWZpY2F0aW9ucz86IGJvb2xlYW47XG5cdHJlY29yZENhbGxzPzogYm9vbGVhbjtcblx0aXNBY3RpdmU/OiBib29sZWFuO1xufSkge1xuXHR0cnkge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cdFx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlNlcnZpY2UgdW5hdmFpbGFibGVcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IHVwZGF0ZURhdGE6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cblx0XHRpZiAocGFyYW1zLm5hbWUgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dXBkYXRlRGF0YS5uYW1lID0gcGFyYW1zLm5hbWU7XG5cdFx0fVxuXHRcdGlmIChwYXJhbXMuZGVzY3JpcHRpb24gIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dXBkYXRlRGF0YS5kZXNjcmlwdGlvbiA9IHBhcmFtcy5kZXNjcmlwdGlvbjtcblx0XHR9XG5cdFx0aWYgKHBhcmFtcy5wcmlvcml0eSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR1cGRhdGVEYXRhLnByaW9yaXR5ID0gcGFyYW1zLnByaW9yaXR5O1xuXHRcdH1cblx0XHRpZiAocGFyYW1zLmJ1c2luZXNzSG91cnMgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dXBkYXRlRGF0YS5idXNpbmVzc19ob3VycyA9IHBhcmFtcy5idXNpbmVzc0hvdXJzO1xuXHRcdH1cblx0XHRpZiAocGFyYW1zLnRpbWV6b25lICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdHVwZGF0ZURhdGEudGltZXpvbmUgPSBwYXJhbXMudGltZXpvbmU7XG5cdFx0fVxuXHRcdGlmIChwYXJhbXMuYWZ0ZXJIb3Vyc0FjdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR1cGRhdGVEYXRhLmFmdGVyX2hvdXJzX2FjdGlvbiA9IHBhcmFtcy5hZnRlckhvdXJzQWN0aW9uO1xuXHRcdH1cblx0XHRpZiAocGFyYW1zLmFmdGVySG91cnNGb3J3YXJkVG8gIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dXBkYXRlRGF0YS5hZnRlcl9ob3Vyc19mb3J3YXJkX3RvID0gcGFyYW1zLmFmdGVySG91cnNGb3J3YXJkVG87XG5cdFx0fVxuXHRcdGlmIChwYXJhbXMudGVhbU1lbWJlcnMgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dXBkYXRlRGF0YS50ZWFtX21lbWJlcnMgPSBwYXJhbXMudGVhbU1lbWJlcnM7XG5cdFx0fVxuXHRcdGlmIChwYXJhbXMucmluZ1RpbWVvdXQgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dXBkYXRlRGF0YS5yaW5nX3RpbWVvdXQgPSBwYXJhbXMucmluZ1RpbWVvdXQ7XG5cdFx0fVxuXHRcdGlmIChwYXJhbXMuaXZyTWVudSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR1cGRhdGVEYXRhLml2cl9tZW51ID0gcGFyYW1zLml2ck1lbnU7XG5cdFx0fVxuXHRcdGlmIChwYXJhbXMuaXZyR3JlZXRpbmdVcmwgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dXBkYXRlRGF0YS5pdnJfZ3JlZXRpbmdfdXJsID0gcGFyYW1zLml2ckdyZWV0aW5nVXJsO1xuXHRcdH1cblx0XHRpZiAocGFyYW1zLmZvcndhcmRUb051bWJlciAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR1cGRhdGVEYXRhLmZvcndhcmRfdG9fbnVtYmVyID0gcGFyYW1zLmZvcndhcmRUb051bWJlcjtcblx0XHR9XG5cdFx0aWYgKHBhcmFtcy5mb3J3YXJkVG9Vc2VySWQgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dXBkYXRlRGF0YS5mb3J3YXJkX3RvX3VzZXJfaWQgPSBwYXJhbXMuZm9yd2FyZFRvVXNlcklkO1xuXHRcdH1cblx0XHRpZiAocGFyYW1zLmVuYWJsZVZvaWNlbWFpbCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR1cGRhdGVEYXRhLmVuYWJsZV92b2ljZW1haWwgPSBwYXJhbXMuZW5hYmxlVm9pY2VtYWlsO1xuXHRcdH1cblx0XHRpZiAocGFyYW1zLnZvaWNlbWFpbEdyZWV0aW5nVXJsICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdHVwZGF0ZURhdGEudm9pY2VtYWlsX2dyZWV0aW5nX3VybCA9IHBhcmFtcy52b2ljZW1haWxHcmVldGluZ1VybDtcblx0XHR9XG5cdFx0aWYgKHBhcmFtcy52b2ljZW1haWxUcmFuc2NyaXB0aW9uRW5hYmxlZCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR1cGRhdGVEYXRhLnZvaWNlbWFpbF90cmFuc2NyaXB0aW9uX2VuYWJsZWQgPVxuXHRcdFx0XHRwYXJhbXMudm9pY2VtYWlsVHJhbnNjcmlwdGlvbkVuYWJsZWQ7XG5cdFx0fVxuXHRcdGlmIChwYXJhbXMudm9pY2VtYWlsRW1haWxOb3RpZmljYXRpb25zICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdHVwZGF0ZURhdGEudm9pY2VtYWlsX2VtYWlsX25vdGlmaWNhdGlvbnMgPVxuXHRcdFx0XHRwYXJhbXMudm9pY2VtYWlsRW1haWxOb3RpZmljYXRpb25zO1xuXHRcdH1cblx0XHRpZiAocGFyYW1zLnJlY29yZENhbGxzICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdHVwZGF0ZURhdGEucmVjb3JkX2NhbGxzID0gcGFyYW1zLnJlY29yZENhbGxzO1xuXHRcdH1cblx0XHRpZiAocGFyYW1zLmlzQWN0aXZlICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdHVwZGF0ZURhdGEuaXNfYWN0aXZlID0gcGFyYW1zLmlzQWN0aXZlO1xuXHRcdH1cblxuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNhbGxfcm91dGluZ19ydWxlc1wiKVxuXHRcdFx0LnVwZGF0ZSh1cGRhdGVEYXRhKVxuXHRcdFx0LmVxKFwiaWRcIiwgcGFyYW1zLnJ1bGVJZClcblx0XHRcdC5zZWxlY3QoKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvc2V0dGluZ3MvY29tbXVuaWNhdGlvbnMvY2FsbC1yb3V0aW5nXCIpO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IHRydWUsXG5cdFx0XHRkYXRhLFxuXHRcdH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIHVwZGF0ZSBjYWxsIHJvdXRpbmcgcnVsZVwiLFxuXHRcdH07XG5cdH1cbn1cblxuLyoqXG4gKiBEZWxldGUgYSBjYWxsIHJvdXRpbmcgcnVsZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlQ2FsbFJvdXRpbmdSdWxlKHJ1bGVJZDogc3RyaW5nLCB1c2VySWQ6IHN0cmluZykge1xuXHR0cnkge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cdFx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlNlcnZpY2UgdW5hdmFpbGFibGVcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNhbGxfcm91dGluZ19ydWxlc1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdGRlbGV0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdFx0ZGVsZXRlZF9ieTogdXNlcklkLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHJ1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9zZXR0aW5ncy9jb21tdW5pY2F0aW9ucy9jYWxsLXJvdXRpbmdcIik7XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIGRlbGV0ZSBjYWxsIHJvdXRpbmcgcnVsZVwiLFxuXHRcdH07XG5cdH1cbn1cblxuLyoqXG4gKiBUb2dnbGUgY2FsbCByb3V0aW5nIHJ1bGUgYWN0aXZlIHN0YXR1c1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdG9nZ2xlQ2FsbFJvdXRpbmdSdWxlKHJ1bGVJZDogc3RyaW5nLCBpc0FjdGl2ZTogYm9vbGVhbikge1xuXHR0cnkge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cdFx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlNlcnZpY2UgdW5hdmFpbGFibGVcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNhbGxfcm91dGluZ19ydWxlc1wiKVxuXHRcdFx0LnVwZGF0ZSh7IGlzX2FjdGl2ZTogaXNBY3RpdmUgfSlcblx0XHRcdC5lcShcImlkXCIsIHJ1bGVJZClcblx0XHRcdC5zZWxlY3QoKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvc2V0dGluZ3MvY29tbXVuaWNhdGlvbnMvY2FsbC1yb3V0aW5nXCIpO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IHRydWUsXG5cdFx0XHRkYXRhLFxuXHRcdH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIHRvZ2dsZSBjYWxsIHJvdXRpbmcgcnVsZVwiLFxuXHRcdH07XG5cdH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gUEhPTkUgTlVNQkVSIFVTQUdFIFNUQVRJU1RJQ1MgQUNUSU9OU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIEdldCB1c2FnZSBzdGF0aXN0aWNzIGZvciBhIHBob25lIG51bWJlclxuICovXG5hc3luYyBmdW5jdGlvbiBnZXRQaG9uZU51bWJlclVzYWdlU3RhdHMoXG5cdHBob25lTnVtYmVySWQ6IHN0cmluZyxcblx0ZGF5cyA9IDMwLFxuKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiU2VydmljZSB1bmF2YWlsYWJsZVwiIH07XG5cdFx0fVxuXG5cdFx0Y29uc3Qgc3RhcnREYXRlID0gbmV3IERhdGUoKTtcblx0XHRzdGFydERhdGUuc2V0RGF0ZShzdGFydERhdGUuZ2V0RGF0ZSgpIC0gZGF5cyk7XG5cblx0XHQvLyBHZXQgY2FsbCBzdGF0aXN0aWNzXG5cdFx0Y29uc3QgeyBkYXRhOiBjYWxsU3RhdHMsIGVycm9yOiBjYWxsRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG5cdFx0XHQuc2VsZWN0KFwidHlwZSwgZGlyZWN0aW9uLCBzdGF0dXMsIGNhbGxfZHVyYXRpb24sIGNyZWF0ZWRfYXRcIilcblx0XHRcdC5lcShcInR5cGVcIiwgXCJwaG9uZVwiKVxuXHRcdFx0LmVxKFwicGhvbmVfbnVtYmVyX2lkXCIsIHBob25lTnVtYmVySWQpXG5cdFx0XHQuZ3RlKFwiY3JlYXRlZF9hdFwiLCBzdGFydERhdGUudG9JU09TdHJpbmcoKSk7XG5cblx0XHRpZiAoY2FsbEVycm9yKSB7XG5cdFx0XHR0aHJvdyBjYWxsRXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gR2V0IFNNUyBzdGF0aXN0aWNzXG5cdFx0Y29uc3QgeyBkYXRhOiBzbXNTdGF0cywgZXJyb3I6IHNtc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjb21tdW5pY2F0aW9uc1wiKVxuXHRcdFx0LnNlbGVjdChcInR5cGUsIGRpcmVjdGlvbiwgc3RhdHVzLCBjcmVhdGVkX2F0XCIpXG5cdFx0XHQuZXEoXCJ0eXBlXCIsIFwic21zXCIpXG5cdFx0XHQuZXEoXCJwaG9uZV9udW1iZXJfaWRcIiwgcGhvbmVOdW1iZXJJZClcblx0XHRcdC5ndGUoXCJjcmVhdGVkX2F0XCIsIHN0YXJ0RGF0ZS50b0lTT1N0cmluZygpKTtcblxuXHRcdGlmIChzbXNFcnJvcikge1xuXHRcdFx0dGhyb3cgc21zRXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gQ2FsY3VsYXRlIGFnZ3JlZ2F0ZXNcblx0XHRjb25zdCBjYWxscyA9IGNhbGxTdGF0cyB8fCBbXTtcblx0XHRjb25zdCBzbXMgPSBzbXNTdGF0cyB8fCBbXTtcblxuXHRcdGNvbnN0IGluY29taW5nQ2FsbHMgPSBjYWxscy5maWx0ZXIoKGMpID0+IGMuZGlyZWN0aW9uID09PSBcImluYm91bmRcIikubGVuZ3RoO1xuXHRcdGNvbnN0IG91dGdvaW5nQ2FsbHMgPSBjYWxscy5maWx0ZXIoXG5cdFx0XHQoYykgPT4gYy5kaXJlY3Rpb24gPT09IFwib3V0Ym91bmRcIixcblx0XHQpLmxlbmd0aDtcblx0XHRjb25zdCB0b3RhbENhbGxEdXJhdGlvbiA9IGNhbGxzLnJlZHVjZShcblx0XHRcdChzdW0sIGMpID0+IHN1bSArIChjLmNhbGxfZHVyYXRpb24gfHwgMCksXG5cdFx0XHQwLFxuXHRcdCk7XG5cdFx0Y29uc3QgaW5jb21pbmdTbXMgPSBzbXMuZmlsdGVyKChzKSA9PiBzLmRpcmVjdGlvbiA9PT0gXCJpbmJvdW5kXCIpLmxlbmd0aDtcblx0XHRjb25zdCBvdXRnb2luZ1NtcyA9IHNtcy5maWx0ZXIoKHMpID0+IHMuZGlyZWN0aW9uID09PSBcIm91dGJvdW5kXCIpLmxlbmd0aDtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHRpbmNvbWluZ0NhbGxzLFxuXHRcdFx0XHRvdXRnb2luZ0NhbGxzLFxuXHRcdFx0XHR0b3RhbENhbGxzOiBpbmNvbWluZ0NhbGxzICsgb3V0Z29pbmdDYWxscyxcblx0XHRcdFx0dG90YWxDYWxsRHVyYXRpb24sXG5cdFx0XHRcdGluY29taW5nU21zLFxuXHRcdFx0XHRvdXRnb2luZ1Ntcyxcblx0XHRcdFx0dG90YWxTbXM6IGluY29taW5nU21zICsgb3V0Z29pbmdTbXMsXG5cdFx0XHRcdGRhaWx5U3RhdHM6IGFnZ3JlZ2F0ZURhaWx5U3RhdHMoWy4uLmNhbGxzLCAuLi5zbXNdLCBkYXlzKSxcblx0XHRcdH0sXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gZ2V0IHVzYWdlIHN0YXRpc3RpY3NcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogR2V0IGNvbXBhbnktd2lkZSB1c2FnZSBzdGF0aXN0aWNzXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldENvbXBhbnlVc2FnZVN0YXRzKGNvbXBhbnlJZDogc3RyaW5nLCBkYXlzID0gMzApIHtcblx0dHJ5IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJTZXJ2aWNlIHVuYXZhaWxhYmxlXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCBzdGFydERhdGUgPSBuZXcgRGF0ZSgpO1xuXHRcdHN0YXJ0RGF0ZS5zZXREYXRlKHN0YXJ0RGF0ZS5nZXREYXRlKCkgLSBkYXlzKTtcblxuXHRcdC8vIEdldCBhbGwgY29tbXVuaWNhdGlvbnMgZm9yIHRoZSBjb21wYW55XG5cdFx0Y29uc3QgeyBkYXRhOiBjb21tdW5pY2F0aW9ucywgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG5cdFx0XHQuc2VsZWN0KFwidHlwZSwgZGlyZWN0aW9uLCBzdGF0dXMsIGNhbGxfZHVyYXRpb24sIGNyZWF0ZWRfYXRcIilcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgY29tcGFueUlkKVxuXHRcdFx0LmluKFwidHlwZVwiLCBbXCJwaG9uZVwiLCBcInNtc1wiXSlcblx0XHRcdC5ndGUoXCJjcmVhdGVkX2F0XCIsIHN0YXJ0RGF0ZS50b0lTT1N0cmluZygpKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0Y29uc3QgaXRlbXMgPSBjb21tdW5pY2F0aW9ucyB8fCBbXTtcblx0XHRjb25zdCBjYWxscyA9IGl0ZW1zLmZpbHRlcigoaSkgPT4gaS50eXBlID09PSBcInBob25lXCIpO1xuXHRcdGNvbnN0IHNtcyA9IGl0ZW1zLmZpbHRlcigoaSkgPT4gaS50eXBlID09PSBcInNtc1wiKTtcblxuXHRcdGNvbnN0IGluY29taW5nQ2FsbHMgPSBjYWxscy5maWx0ZXIoKGMpID0+IGMuZGlyZWN0aW9uID09PSBcImluYm91bmRcIikubGVuZ3RoO1xuXHRcdGNvbnN0IG91dGdvaW5nQ2FsbHMgPSBjYWxscy5maWx0ZXIoXG5cdFx0XHQoYykgPT4gYy5kaXJlY3Rpb24gPT09IFwib3V0Ym91bmRcIixcblx0XHQpLmxlbmd0aDtcblx0XHRjb25zdCB0b3RhbENhbGxEdXJhdGlvbiA9IGNhbGxzLnJlZHVjZShcblx0XHRcdChzdW0sIGMpID0+IHN1bSArIChjLmNhbGxfZHVyYXRpb24gfHwgMCksXG5cdFx0XHQwLFxuXHRcdCk7XG5cdFx0Y29uc3QgaW5jb21pbmdTbXMgPSBzbXMuZmlsdGVyKChzKSA9PiBzLmRpcmVjdGlvbiA9PT0gXCJpbmJvdW5kXCIpLmxlbmd0aDtcblx0XHRjb25zdCBvdXRnb2luZ1NtcyA9IHNtcy5maWx0ZXIoKHMpID0+IHMuZGlyZWN0aW9uID09PSBcIm91dGJvdW5kXCIpLmxlbmd0aDtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHRpbmNvbWluZ0NhbGxzLFxuXHRcdFx0XHRvdXRnb2luZ0NhbGxzLFxuXHRcdFx0XHR0b3RhbENhbGxzOiBpbmNvbWluZ0NhbGxzICsgb3V0Z29pbmdDYWxscyxcblx0XHRcdFx0dG90YWxDYWxsRHVyYXRpb24sXG5cdFx0XHRcdGF2ZXJhZ2VDYWxsRHVyYXRpb246XG5cdFx0XHRcdFx0Y2FsbHMubGVuZ3RoID4gMCA/IHRvdGFsQ2FsbER1cmF0aW9uIC8gY2FsbHMubGVuZ3RoIDogMCxcblx0XHRcdFx0aW5jb21pbmdTbXMsXG5cdFx0XHRcdG91dGdvaW5nU21zLFxuXHRcdFx0XHR0b3RhbFNtczogaW5jb21pbmdTbXMgKyBvdXRnb2luZ1Ntcyxcblx0XHRcdFx0ZGFpbHlTdGF0czogYWdncmVnYXRlRGFpbHlTdGF0cyhpdGVtcywgZGF5cyksXG5cdFx0XHR9LFxuXHRcdH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIGdldCB1c2FnZSBzdGF0aXN0aWNzXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0byBhZ2dyZWdhdGUgZGFpbHkgc3RhdGlzdGljc1xuICovXG5mdW5jdGlvbiBhZ2dyZWdhdGVEYWlseVN0YXRzKFxuXHRpdGVtczogQXJyYXk8eyBjcmVhdGVkX2F0OiBzdHJpbmc7IHR5cGU6IHN0cmluZzsgY2FsbF9kdXJhdGlvbj86IG51bWJlciB9Pixcblx0ZGF5czogbnVtYmVyLFxuKSB7XG5cdGNvbnN0IGRhaWx5U3RhdHM6IFJlY29yZDxcblx0XHRzdHJpbmcsXG5cdFx0eyBkYXRlOiBzdHJpbmc7IGNhbGxzOiBudW1iZXI7IHNtczogbnVtYmVyOyBkdXJhdGlvbjogbnVtYmVyIH1cblx0PiA9IHt9O1xuXG5cdC8vIEluaXRpYWxpemUgYWxsIGRheXNcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBkYXlzOyBpKyspIHtcblx0XHRjb25zdCBkYXRlID0gbmV3IERhdGUoKTtcblx0XHRkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgLSBpKTtcblx0XHRjb25zdCBkYXRlU3RyID0gZGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KFwiVFwiKVswXTtcblx0XHRkYWlseVN0YXRzW2RhdGVTdHJdID0geyBkYXRlOiBkYXRlU3RyLCBjYWxsczogMCwgc21zOiAwLCBkdXJhdGlvbjogMCB9O1xuXHR9XG5cblx0Ly8gQWdncmVnYXRlIGRhdGFcblx0aXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuXHRcdGNvbnN0IGRhdGVTdHIgPSBpdGVtLmNyZWF0ZWRfYXQuc3BsaXQoXCJUXCIpWzBdO1xuXHRcdGlmIChkYWlseVN0YXRzW2RhdGVTdHJdKSB7XG5cdFx0XHRpZiAoaXRlbS50eXBlID09PSBcInBob25lXCIpIHtcblx0XHRcdFx0ZGFpbHlTdGF0c1tkYXRlU3RyXS5jYWxscyArPSAxO1xuXHRcdFx0XHRkYWlseVN0YXRzW2RhdGVTdHJdLmR1cmF0aW9uICs9IGl0ZW0uY2FsbF9kdXJhdGlvbiB8fCAwO1xuXHRcdFx0fSBlbHNlIGlmIChpdGVtLnR5cGUgPT09IFwic21zXCIpIHtcblx0XHRcdFx0ZGFpbHlTdGF0c1tkYXRlU3RyXS5zbXMgKz0gMTtcblx0XHRcdH1cblx0XHR9XG5cdH0pO1xuXG5cdHJldHVybiBPYmplY3QudmFsdWVzKGRhaWx5U3RhdHMpLnNvcnQoKGEsIGIpID0+IGEuZGF0ZS5sb2NhbGVDb21wYXJlKGIuZGF0ZSkpO1xufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJnU0E2bEJzQiJ9
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/components/ui/badge.tsx [app-client] (ecmascript) <locals>", ((__turbopack_context__) => {
"use strict";

// Re-export from @stratos/ui package
__turbopack_context__.s([]);
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$index$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/packages/ui/src/index.ts [app-client] (ecmascript) <locals>");
;
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/components/ui/button.tsx [app-client] (ecmascript) <locals>", ((__turbopack_context__) => {
"use strict";

// Re-export from @stratos/ui package
__turbopack_context__.s([]);
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$index$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/packages/ui/src/index.ts [app-client] (ecmascript) <locals>");
;
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/components/ui/command.tsx [app-client] (ecmascript) <locals>", ((__turbopack_context__) => {
"use strict";

// Re-export from @stratos/ui package
__turbopack_context__.s([]);
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$index$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/packages/ui/src/index.ts [app-client] (ecmascript) <locals>");
;
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/components/ui/dropdown-menu.tsx [app-client] (ecmascript) <locals>", ((__turbopack_context__) => {
"use strict";

// Re-export from @stratos/ui package
__turbopack_context__.s([]);
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$index$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/packages/ui/src/index.ts [app-client] (ecmascript) <locals>");
;
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/components/ui/input.tsx [app-client] (ecmascript) <locals>", ((__turbopack_context__) => {
"use strict";

// Re-export from @stratos/ui package
__turbopack_context__.s([]);
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$index$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/packages/ui/src/index.ts [app-client] (ecmascript) <locals>");
;
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/components/ui/popover.tsx [app-client] (ecmascript) <locals>", ((__turbopack_context__) => {
"use strict";

// Re-export from @stratos/ui package
__turbopack_context__.s([]);
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$index$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/packages/ui/src/index.ts [app-client] (ecmascript) <locals>");
;
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/components/ui/select.tsx [app-client] (ecmascript) <locals>", ((__turbopack_context__) => {
"use strict";

// Re-export from @stratos/ui package
__turbopack_context__.s([]);
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$index$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/packages/ui/src/index.ts [app-client] (ecmascript) <locals>");
;
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/components/ui/switch.tsx [app-client] (ecmascript) <locals>", ((__turbopack_context__) => {
"use strict";

// Re-export from @stratos/ui package
__turbopack_context__.s([]);
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$index$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/packages/ui/src/index.ts [app-client] (ecmascript) <locals>");
;
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/components/ui/tooltip.tsx [app-client] (ecmascript) <locals>", ((__turbopack_context__) => {
"use strict";

// Re-export from @stratos/ui package
__turbopack_context__.s([]);
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$index$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/packages/ui/src/index.ts [app-client] (ecmascript) <locals>");
;
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/hooks/use-dialer-customers.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/**
 * Dialer Customers Hook - Client-Side Lazy Loading
 *
 * PERFORMANCE CRITICAL:
 * Previously, AppHeader fetched ALL customers on EVERY page load (~400-800ms).
 * Now customers are only fetched when the dialer is opened.
 *
 * Features:
 * - Lazy load on first dialer open
 * - 5-minute cache in memory
 * - No server-side overhead on page loads
 *
 * Expected savings: 400-800ms per page load
 */ __turbopack_context__.s([
    "useDialerCustomers",
    ()=>useDialerCustomers
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var _s = __turbopack_context__.k.signature();
;
// In-memory cache with 5-minute TTL
let cachedCustomers = null;
let cacheTimestamp = 0;
const CACHE_TTL = 5 * 60 * 1000; // 5 minutes
function useDialerCustomers(shouldFetch = false) {
    _s();
    const [customers, setCustomers] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])([]);
    const [isLoading, setIsLoading] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [error, setError] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "useDialerCustomers.useEffect": ()=>{
            // Only fetch if explicitly requested (e.g., dialer opened)
            if (!shouldFetch) {
                return;
            }
            // Serve from cache when available
            const now = Date.now();
            if (cachedCustomers && now - cacheTimestamp < CACHE_TTL) {
                setCustomers(cachedCustomers);
                return;
            }
            const controller = new AbortController();
            const fetchCustomers = {
                "useDialerCustomers.useEffect.fetchCustomers": async ()=>{
                    setIsLoading(true);
                    setError(null);
                    try {
                        const response = await fetch("/api/dialer/customers", {
                            signal: controller.signal,
                            cache: "no-store"
                        });
                        if (!response.ok) {
                            const payload = await response.json().catch({
                                "useDialerCustomers.useEffect.fetchCustomers": ()=>({})
                            }["useDialerCustomers.useEffect.fetchCustomers"]);
                            throw new Error(payload.error || "Failed to load customers");
                        }
                        const payload = await response.json();
                        cachedCustomers = payload.customers;
                        cacheTimestamp = Date.now();
                        setCustomers(payload.customers);
                    } catch (err) {
                        if (controller.signal.aborted) {
                            return;
                        }
                        setError(err instanceof Error ? err.message : "Failed to load customers");
                    } finally{
                        if (!controller.signal.aborted) {
                            setIsLoading(false);
                        }
                    }
                }
            }["useDialerCustomers.useEffect.fetchCustomers"];
            fetchCustomers();
            return ({
                "useDialerCustomers.useEffect": ()=>{
                    controller.abort();
                }
            })["useDialerCustomers.useEffect"];
        }
    }["useDialerCustomers.useEffect"], [
        shouldFetch
    ]);
    return {
        customers,
        isLoading,
        error
    };
}
_s(useDialerCustomers, "Jf199fPt6JEPLi4P7fEhEEw//gI=");
// Helper to invalidate cache (call after creating/updating customers)
function invalidateDialerCustomersCache() {
    cachedCustomers = null;
    cacheTimestamp = 0;
}
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/hooks/use-telnyx-webrtc.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/**
 * Telnyx WebRTC Hook
 *
 * Provides WebRTC calling functionality using the Telnyx WebRTC SDK.
 * Compatible with both web browsers and React Native.
 *
 * Features:
 * - Make and receive calls
 * - Call controls (mute, hold, end)
 * - Real-time call state management
 * - Audio device selection
 * - Connection status monitoring
 * - Auto-reconnection with exponential backoff
 */ __turbopack_context__.s([
    "useTelnyxWebRTC",
    ()=>useTelnyxWebRTC
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$telnyx$2b$webrtc$40$2$2e$25$2e$2$2f$node_modules$2f40$telnyx$2f$webrtc$2f$lib$2f$bundle$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/@telnyx+webrtc@2.25.2/node_modules/@telnyx/webrtc/lib/bundle.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var _s = __turbopack_context__.k.signature();
"use client";
;
;
// =============================================================================
// AUTO-RECONNECTION CONFIGURATION
// =============================================================================
const RECONNECT_CONFIG = {
    // Maximum number of reconnection attempts
    maxAttempts: 5,
    // Base delay in milliseconds (doubles with each attempt)
    baseDelayMs: 1000,
    // Maximum delay between attempts
    maxDelayMs: 30000,
    // Jitter factor (0-1) to add randomness
    jitterFactor: 0.3
};
function useTelnyxWebRTC(options) {
    _s();
    // Connection state
    const [isConnected, setIsConnected] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [isConnecting, setIsConnecting] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [isReconnecting, setIsReconnecting] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [connectionError, setConnectionError] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    const [reconnectAttempts, setReconnectAttempts] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(0);
    // Call state
    const [currentCall, setCurrentCall] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    // Audio devices
    const [audioDevices, setAudioDevices] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])([]);
    // Refs
    const clientRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRef"])(null);
    const activeCallRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRef"])(null);
    const optionsRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRef"])(options);
    const reconnectTimeoutRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRef"])(null);
    const shouldReconnectRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRef"])(true);
    // Keep options ref up to date
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "useTelnyxWebRTC.useEffect": ()=>{
            optionsRef.current = options;
        }
    }["useTelnyxWebRTC.useEffect"], [
        options
    ]);
    /**
	 * Calculate reconnection delay with exponential backoff and jitter
	 */ const calculateReconnectDelay = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useTelnyxWebRTC.useCallback[calculateReconnectDelay]": (attempt)=>{
            // Exponential backoff: baseDelay * 2^attempt
            const exponentialDelay = RECONNECT_CONFIG.baseDelayMs * Math.pow(2, attempt);
            // Cap at maxDelay
            const cappedDelay = Math.min(exponentialDelay, RECONNECT_CONFIG.maxDelayMs);
            // Add jitter to prevent thundering herd
            const jitter = cappedDelay * RECONNECT_CONFIG.jitterFactor * Math.random();
            return Math.round(cappedDelay + jitter);
        }
    }["useTelnyxWebRTC.useCallback[calculateReconnectDelay]"], []);
    /**
	 * Schedule a reconnection attempt
	 */ const scheduleReconnect = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useTelnyxWebRTC.useCallback[scheduleReconnect]": ()=>{
            // Clear any existing timeout
            if (reconnectTimeoutRef.current) {
                clearTimeout(reconnectTimeoutRef.current);
            }
            setReconnectAttempts({
                "useTelnyxWebRTC.useCallback[scheduleReconnect]": (prev)=>{
                    const nextAttempt = prev + 1;
                    if (nextAttempt > RECONNECT_CONFIG.maxAttempts) {
                        console.error(` WebRTC: Max reconnection attempts (${RECONNECT_CONFIG.maxAttempts}) reached`);
                        setIsReconnecting(false);
                        setConnectionError(`Connection lost. Max reconnection attempts (${RECONNECT_CONFIG.maxAttempts}) exceeded.`);
                        return prev;
                    }
                    const delay = calculateReconnectDelay(nextAttempt - 1);
                    console.log(` WebRTC: Scheduling reconnection attempt ${nextAttempt}/${RECONNECT_CONFIG.maxAttempts} in ${delay}ms`);
                    setIsReconnecting(true);
                    reconnectTimeoutRef.current = setTimeout({
                        "useTelnyxWebRTC.useCallback[scheduleReconnect]": async ()=>{
                            console.log(` WebRTC: Attempting reconnection ${nextAttempt}/${RECONNECT_CONFIG.maxAttempts}`);
                            // Clear the old client before reconnecting
                            if (clientRef.current) {
                                try {
                                    clientRef.current.disconnect();
                                } catch  {
                                // Ignore disconnect errors
                                }
                                clientRef.current = null;
                            }
                            // Attempt to reconnect
                            try {
                                const currentOptions = optionsRef.current;
                                if (currentOptions.username && currentOptions.password) {
                                    // Create new client and connect
                                    const client = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$telnyx$2b$webrtc$40$2$2e$25$2e$2$2f$node_modules$2f40$telnyx$2f$webrtc$2f$lib$2f$bundle$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TelnyxRTC"]({
                                        login: currentOptions.username,
                                        password: currentOptions.password,
                                        debug: currentOptions.debug
                                    });
                                    // Re-setup event handlers
                                    client.on("telnyx.ready", {
                                        "useTelnyxWebRTC.useCallback[scheduleReconnect]": ()=>{
                                            console.log(" WebRTC: Reconnection successful!");
                                            setIsConnected(true);
                                            setIsConnecting(false);
                                            setIsReconnecting(false);
                                            setConnectionError(null);
                                            setReconnectAttempts(0);
                                        }
                                    }["useTelnyxWebRTC.useCallback[scheduleReconnect]"]);
                                    client.on("telnyx.error", {
                                        "useTelnyxWebRTC.useCallback[scheduleReconnect]": (error)=>{
                                            console.error(" WebRTC: Reconnection error:", error);
                                            scheduleReconnect();
                                        }
                                    }["useTelnyxWebRTC.useCallback[scheduleReconnect]"]);
                                    client.on("telnyx.socket.error", {
                                        "useTelnyxWebRTC.useCallback[scheduleReconnect]": ()=>{
                                            if (shouldReconnectRef.current) {
                                                scheduleReconnect();
                                            }
                                        }
                                    }["useTelnyxWebRTC.useCallback[scheduleReconnect]"]);
                                    client.on("telnyx.socket.close", {
                                        "useTelnyxWebRTC.useCallback[scheduleReconnect]": ()=>{
                                            setIsConnected(false);
                                            if (shouldReconnectRef.current) {
                                                scheduleReconnect();
                                            }
                                        }
                                    }["useTelnyxWebRTC.useCallback[scheduleReconnect]"]);
                                    clientRef.current = client;
                                    await client.connect();
                                }
                            } catch (error) {
                                console.error(" WebRTC: Reconnection attempt failed:", error);
                            // Will be retried by the socket close handler
                            }
                        }
                    }["useTelnyxWebRTC.useCallback[scheduleReconnect]"], delay);
                    return nextAttempt;
                }
            }["useTelnyxWebRTC.useCallback[scheduleReconnect]"]);
        }
    }["useTelnyxWebRTC.useCallback[scheduleReconnect]"], [
        calculateReconnectDelay
    ]);
    /**
	 * Manual reconnect function
	 */ const reconnect = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useTelnyxWebRTC.useCallback[reconnect]": async ()=>{
            console.log(" WebRTC: Manual reconnection requested");
            setReconnectAttempts(0);
            shouldReconnectRef.current = true;
            // Clear existing client
            if (clientRef.current) {
                try {
                    clientRef.current.disconnect();
                } catch  {
                // Ignore disconnect errors
                }
                clientRef.current = null;
            }
            // Clear any pending reconnect timeout
            if (reconnectTimeoutRef.current) {
                clearTimeout(reconnectTimeoutRef.current);
                reconnectTimeoutRef.current = null;
            }
            setIsReconnecting(false);
            // Use the normal connect flow
            const currentOptions = optionsRef.current;
            if (currentOptions.username && currentOptions.password) {
                setIsConnecting(true);
                setConnectionError(null);
                try {
                    const client = initializeClient();
                    if (client) {
                        await client.connect();
                    }
                } catch (error) {
                    console.error(" WebRTC: Manual reconnection failed:", error);
                    setConnectionError(error instanceof Error ? error.message : "Reconnection failed");
                    setIsConnecting(false);
                }
            }
        }
    }["useTelnyxWebRTC.useCallback[reconnect]"], []);
    /**
	 * Initialize WebRTC client
	 * Uses ref to avoid circular dependencies
	 */ const initializeClient = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useTelnyxWebRTC.useCallback[initializeClient]": ()=>{
            if (clientRef.current) {
                console.log(" WebRTC: Reusing existing client instance");
                return clientRef.current;
            }
            const currentOptions = optionsRef.current;
            const hasCredentials = Boolean(currentOptions.username) && Boolean(currentOptions.password);
            console.log(" WebRTC: Initializing client with credentials:", {
                hasUsername: Boolean(currentOptions.username),
                hasPassword: Boolean(currentOptions.password),
                username: currentOptions.username,
                debug: currentOptions.debug
            });
            if (!hasCredentials) {
                console.error(" WebRTC: Missing credentials, cannot initialize");
                // Don't initialize if credentials are missing
                return null;
            }
            console.log(" WebRTC: Creating new TelnyxRTC instance...");
            const client = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$telnyx$2b$webrtc$40$2$2e$25$2e$2$2f$node_modules$2f40$telnyx$2f$webrtc$2f$lib$2f$bundle$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TelnyxRTC"]({
                login: currentOptions.username,
                password: currentOptions.password,
                ringtoneFile: undefined,
                ringbackFile: undefined,
                debug: currentOptions.debug
            });
            console.log(" WebRTC: TelnyxRTC instance created, SDK version:", client.version || "unknown");
            // Handle ready event
            client.on("telnyx.ready", {
                "useTelnyxWebRTC.useCallback[initializeClient]": ()=>{
                    console.log(" WebRTC: telnyx.ready event - Connection successful!");
                    setIsConnected(true);
                    setIsConnecting(false);
                    setIsReconnecting(false);
                    setConnectionError(null);
                    setReconnectAttempts(0); // Reset on successful connection
                }
            }["useTelnyxWebRTC.useCallback[initializeClient]"]);
            // Handle error event
            client.on("telnyx.error", {
                "useTelnyxWebRTC.useCallback[initializeClient]": (error)=>{
                    console.error(" WebRTC: telnyx.error event:", error);
                    const errorMessage = error?.error?.message || error?.message || error?.description || "Connection error";
                    console.error(" WebRTC: Error message:", errorMessage);
                    setConnectionError(errorMessage);
                    setIsConnecting(false);
                }
            }["useTelnyxWebRTC.useCallback[initializeClient]"]);
            // Handle socket error - trigger reconnection
            client.on("telnyx.socket.error", {
                "useTelnyxWebRTC.useCallback[initializeClient]": (socketError)=>{
                    console.error(" WebRTC: telnyx.socket.error event:", socketError);
                    setConnectionError("Socket connection failed");
                    setIsConnecting(false);
                    setIsConnected(false);
                    // Trigger auto-reconnection
                    if (shouldReconnectRef.current) {
                        scheduleReconnect();
                    }
                }
            }["useTelnyxWebRTC.useCallback[initializeClient]"]);
            // Handle socket close - trigger reconnection
            client.on("telnyx.socket.close", {
                "useTelnyxWebRTC.useCallback[initializeClient]": (closeEvent)=>{
                    console.warn(" WebRTC: telnyx.socket.close event:", closeEvent);
                    setIsConnected(false);
                    // Trigger auto-reconnection (unless manually disconnected)
                    if (shouldReconnectRef.current) {
                        scheduleReconnect();
                    }
                }
            }["useTelnyxWebRTC.useCallback[initializeClient]"]);
            // Handle incoming call
            client.on("telnyx.notification", {
                "useTelnyxWebRTC.useCallback[initializeClient]": (notification)=>{
                    console.log(" WebRTC notification:", notification.type);
                    if (notification.type !== "callUpdate") {
                        return;
                    }
                    const call = notification.call;
                    if (!call) {
                        // Guard against undefined call object
                        console.warn(" WebRTC: callUpdate notification with undefined call");
                        return;
                    }
                    console.log(" WebRTC callUpdate:", {
                        callId: call.id,
                        state: call.state,
                        direction: call.direction,
                        cause: call.cause,
                        sipCode: call.sipCode
                    });
                    // Update call state
                    const callState = mapTelnyxCallState(call.state);
                    const callInfo = {
                        id: call.id || "unknown",
                        state: callState,
                        direction: call.direction === "inbound" ? "inbound" : "outbound",
                        remoteNumber: call.remoteNumber || call.to || "Unknown",
                        remoteName: call.remoteName,
                        localNumber: call.localNumber || "",
                        startTime: callState === "active" ? new Date() : undefined,
                        duration: 0,
                        isMuted: false,
                        isHeld: call.state === "held",
                        isRecording: false
                    };
                    setCurrentCall(callInfo);
                    activeCallRef.current = call;
                    // Notify parent component
                    if (call.direction === "inbound" && call.state === "ringing") {
                        optionsRef.current.onIncomingCall?.(callInfo);
                    }
                    // Handle call ended
                    if (call.state === "destroy" || call.state === "hangup") {
                        optionsRef.current.onCallEnded?.(callInfo);
                        setCurrentCall(null);
                        activeCallRef.current = null;
                    }
                }
            }["useTelnyxWebRTC.useCallback[initializeClient]"]);
            clientRef.current = client;
            return client;
        }
    }["useTelnyxWebRTC.useCallback[initializeClient]"], []); //  No dependencies - uses ref
    /**
	 * Connect to Telnyx
	 */ const connect = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useTelnyxWebRTC.useCallback[connect]": async ()=>{
            try {
                console.log(" WebRTC: Starting connection...");
                setIsConnecting(true);
                setConnectionError(null);
                const client = initializeClient();
                // If client is null (no credentials), silently fail
                if (!client) {
                    console.warn(" WebRTC: No credentials available, aborting connection");
                    setIsConnecting(false);
                    return;
                }
                console.log(" WebRTC: Client initialized, calling connect()...");
                await client.connect();
                console.log(" WebRTC: client.connect() completed");
            } catch (error) {
                console.error(" WebRTC: Connection error in connect():", error);
                setConnectionError(error instanceof Error ? error.message : "Connection failed");
                setIsConnecting(false);
            }
        }
    }["useTelnyxWebRTC.useCallback[connect]"], [
        initializeClient
    ]);
    /**
	 * Disconnect from Telnyx
	 */ const disconnect = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useTelnyxWebRTC.useCallback[disconnect]": ()=>{
            // Disable auto-reconnection
            shouldReconnectRef.current = false;
            // Clear any pending reconnect timeout
            if (reconnectTimeoutRef.current) {
                clearTimeout(reconnectTimeoutRef.current);
                reconnectTimeoutRef.current = null;
            }
            if (clientRef.current) {
                clientRef.current.disconnect();
                clientRef.current = null;
            }
            setIsConnected(false);
            setIsConnecting(false);
            setIsReconnecting(false);
            setReconnectAttempts(0);
            setCurrentCall(null);
            activeCallRef.current = null;
        }
    }["useTelnyxWebRTC.useCallback[disconnect]"], []);
    /**
	 * Make an outbound call
	 */ const makeCall = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useTelnyxWebRTC.useCallback[makeCall]": async (destination, callerIdNumber)=>{
            // Normalize phone numbers to E.164 format
            const normalizeToE164 = {
                "useTelnyxWebRTC.useCallback[makeCall].normalizeToE164": (phone)=>{
                    const digits = phone.replace(/\D/g, "");
                    if (digits.length === 10) {
                        return `+1${digits}`;
                    }
                    if (digits.length === 11 && digits.startsWith("1")) {
                        return `+${digits}`;
                    }
                    if (digits.length > 10 && !phone.startsWith("+")) {
                        return `+${digits}`;
                    }
                    return phone.startsWith("+") ? phone : `+${digits}`;
                }
            }["useTelnyxWebRTC.useCallback[makeCall].normalizeToE164"];
            const normalizedDestination = normalizeToE164(destination);
            const normalizedCallerId = callerIdNumber ? normalizeToE164(callerIdNumber) : undefined;
            console.log(" WebRTC makeCall:", {
                destination,
                normalizedDestination,
                callerIdNumber,
                normalizedCallerId,
                isConnected,
                hasClient: !!clientRef.current
            });
            if (!(clientRef.current && isConnected)) {
                console.error(" WebRTC makeCall: Not connected to Telnyx");
                throw new Error("Not connected to Telnyx");
            }
            try {
                console.log(" WebRTC: Calling newCall()...");
                const call = await clientRef.current.newCall({
                    destinationNumber: normalizedDestination,
                    callerNumber: normalizedCallerId
                });
                console.log(" WebRTC: newCall() returned:", {
                    callId: call?.id,
                    callState: call?.state
                });
                activeCallRef.current = call;
                // Set initial call state immediately
                const callInfo = {
                    id: call.id,
                    state: "connecting",
                    direction: "outbound",
                    remoteNumber: destination,
                    localNumber: callerIdNumber || "",
                    duration: 0,
                    isMuted: false,
                    isHeld: false,
                    isRecording: false
                };
                setCurrentCall(callInfo);
                return call;
            } catch (error) {
                console.error(" WebRTC makeCall error:", error);
                throw error;
            }
        }
    }["useTelnyxWebRTC.useCallback[makeCall]"], [
        isConnected
    ]);
    /**
	 * Answer incoming call
	 */ const answerCall = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useTelnyxWebRTC.useCallback[answerCall]": async ()=>{
            if (!activeCallRef.current) {
                throw new Error("No active call to answer");
            }
            await activeCallRef.current.answer();
        }
    }["useTelnyxWebRTC.useCallback[answerCall]"], []);
    /**
	 * End active call
	 */ const endCall = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useTelnyxWebRTC.useCallback[endCall]": async ()=>{
            if (!activeCallRef.current) {
                throw new Error("No active call to end");
            }
            await activeCallRef.current.hangup();
            setCurrentCall(null);
            activeCallRef.current = null;
        }
    }["useTelnyxWebRTC.useCallback[endCall]"], []);
    /**
	 * Mute call
	 */ const muteCall = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useTelnyxWebRTC.useCallback[muteCall]": async ()=>{
            if (!activeCallRef.current) {
                throw new Error("No active call to mute");
            }
            await activeCallRef.current.muteAudio();
            setCurrentCall({
                "useTelnyxWebRTC.useCallback[muteCall]": (prev)=>prev ? {
                        ...prev,
                        isMuted: true
                    } : null
            }["useTelnyxWebRTC.useCallback[muteCall]"]);
        }
    }["useTelnyxWebRTC.useCallback[muteCall]"], []);
    /**
	 * Unmute call
	 */ const unmuteCall = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useTelnyxWebRTC.useCallback[unmuteCall]": async ()=>{
            if (!activeCallRef.current) {
                throw new Error("No active call to unmute");
            }
            await activeCallRef.current.unmuteAudio();
            setCurrentCall({
                "useTelnyxWebRTC.useCallback[unmuteCall]": (prev)=>prev ? {
                        ...prev,
                        isMuted: false
                    } : null
            }["useTelnyxWebRTC.useCallback[unmuteCall]"]);
        }
    }["useTelnyxWebRTC.useCallback[unmuteCall]"], []);
    /**
	 * Hold call
	 */ const holdCall = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useTelnyxWebRTC.useCallback[holdCall]": async ()=>{
            if (!activeCallRef.current) {
                throw new Error("No active call to hold");
            }
            await activeCallRef.current.hold();
            setCurrentCall({
                "useTelnyxWebRTC.useCallback[holdCall]": (prev)=>prev ? {
                        ...prev,
                        isHeld: true
                    } : null
            }["useTelnyxWebRTC.useCallback[holdCall]"]);
        }
    }["useTelnyxWebRTC.useCallback[holdCall]"], []);
    /**
	 * Unhold call
	 */ const unholdCall = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useTelnyxWebRTC.useCallback[unholdCall]": async ()=>{
            if (!activeCallRef.current) {
                throw new Error("No active call to unhold");
            }
            await activeCallRef.current.unhold();
            setCurrentCall({
                "useTelnyxWebRTC.useCallback[unholdCall]": (prev)=>prev ? {
                        ...prev,
                        isHeld: false
                    } : null
            }["useTelnyxWebRTC.useCallback[unholdCall]"]);
        }
    }["useTelnyxWebRTC.useCallback[unholdCall]"], []);
    /**
	 * Send DTMF tone
	 */ const sendDTMF = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useTelnyxWebRTC.useCallback[sendDTMF]": async (digit)=>{
            if (!activeCallRef.current) {
                throw new Error("No active call");
            }
            await activeCallRef.current.dtmf(digit);
        }
    }["useTelnyxWebRTC.useCallback[sendDTMF]"], []);
    /**
	 * Set audio output device
	 */ const setAudioDevice = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useTelnyxWebRTC.useCallback[setAudioDevice]": async (deviceId)=>{
            if (!activeCallRef.current) {
                throw new Error("No active call");
            }
            await activeCallRef.current.setAudioOutDevice(deviceId);
        }
    }["useTelnyxWebRTC.useCallback[setAudioDevice]"], []);
    /**
	 * Load audio devices
	 */ const loadAudioDevices = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "useTelnyxWebRTC.useCallback[loadAudioDevices]": async ()=>{
            // Check if MediaDevices API is available
            if (typeof navigator === "undefined" || !navigator.mediaDevices || !navigator.mediaDevices.enumerateDevices) {
                return;
            }
            try {
                const devices = await navigator.mediaDevices.enumerateDevices();
                const audioOutputDevices = devices.filter({
                    "useTelnyxWebRTC.useCallback[loadAudioDevices].audioOutputDevices": (d)=>d.kind === "audiooutput"
                }["useTelnyxWebRTC.useCallback[loadAudioDevices].audioOutputDevices"]);
                setAudioDevices(audioOutputDevices);
            } catch  {
            // Ignore audio device loading errors
            }
        }
    }["useTelnyxWebRTC.useCallback[loadAudioDevices]"], []);
    /**
	 * Auto-connect on mount if enabled
	 * Uses ref pattern to prevent infinite loop from dependency chain
	 */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "useTelnyxWebRTC.useEffect": ()=>{
            // Check if MediaDevices API is available
            if (typeof navigator === "undefined" || !navigator.mediaDevices || !navigator.mediaDevices.enumerateDevices) {
                return ({
                    "useTelnyxWebRTC.useEffect": ()=>{
                    // No-op cleanup when MediaDevices API is not available
                    }
                })["useTelnyxWebRTC.useEffect"];
            }
            // Load audio devices on mount
            loadAudioDevices();
            // Listen for device changes
            const deviceChangeHandler = {
                "useTelnyxWebRTC.useEffect.deviceChangeHandler": ()=>{
                    loadAudioDevices();
                }
            }["useTelnyxWebRTC.useEffect.deviceChangeHandler"];
            navigator.mediaDevices.addEventListener("devicechange", deviceChangeHandler);
            return ({
                "useTelnyxWebRTC.useEffect": ()=>{
                    if (navigator.mediaDevices) {
                        navigator.mediaDevices.removeEventListener("devicechange", deviceChangeHandler);
                    }
                }
            })["useTelnyxWebRTC.useEffect"];
        // eslint-disable-next-line react-hooks/exhaustive-deps
        }
    }["useTelnyxWebRTC.useEffect"], [
        // Load audio devices on mount
        loadAudioDevices
    ]); //  Runs once on mount only - loadAudioDevices is stable (useCallback with no deps)
    /**
	 * Separate effect for auto-connect to prevent dependency loop
	 */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "useTelnyxWebRTC.useEffect": ()=>{
            if (optionsRef.current.autoConnect) {
                connect();
            }
            return ({
                "useTelnyxWebRTC.useEffect": ()=>{
                    // Cleanup on unmount
                    disconnect();
                }
            })["useTelnyxWebRTC.useEffect"];
        }
    }["useTelnyxWebRTC.useEffect"], [
        connect,
        disconnect
    ]); //  Runs once - uses ref for options
    return {
        // Connection state
        isConnected,
        isConnecting,
        isReconnecting,
        connectionError,
        reconnectAttempts,
        // Current call
        currentCall,
        // Call actions
        makeCall,
        answerCall,
        endCall,
        muteCall,
        unmuteCall,
        holdCall,
        unholdCall,
        sendDTMF,
        // Connection actions
        connect,
        disconnect,
        reconnect,
        // Audio devices
        audioDevices,
        setAudioDevice
    };
}
_s(useTelnyxWebRTC, "sBXK8bAvEzUmMPPxPEjA41d5Cio=");
/**
 * Map Telnyx call state to our call state
 */ function mapTelnyxCallState(telnyxState) {
    switch(telnyxState){
        case "new":
        case "requesting":
            return "connecting";
        case "trying":
        case "recovering":
        case "ringing":
            return "ringing";
        case "active":
            return "active";
        case "held":
            return "held";
        case "hangup":
        case "destroy":
            return "ended";
        default:
            return "idle";
    }
}
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/hooks/use-toast.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/**
 * Toast Hook - Wrapper around Sonner
 *
 * Provides a consistent interface for displaying toast notifications
 * across the application with success, error, loading, and promise states.
 *
 * @example
 * const { toast } = useToast();
 *
 * // Success
 * toast.success("Customer created successfully!");
 *
 * // Error
 * toast.error("Failed to save changes");
 *
 * // Loading
 * const id = toast.loading("Saving...");
 * toast.success("Saved!", { id });
 *
 * // Promise
 * toast.promise(createCustomer(data), {
 *   loading: "Creating customer...",
 *   success: "Customer created!",
 *   error: "Failed to create customer"
 * });
 */ __turbopack_context__.s([
    "useToast",
    ()=>useToast
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$sonner$40$2$2e$0$2e$7_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/sonner@2.0.7_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/sonner/dist/index.mjs [app-client] (ecmascript)");
;
function useToast() {
    return {
        toast: {
            success: (message, options)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$sonner$40$2$2e$0$2e$7_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].success(message, {
                    duration: 3000,
                    ...options
                }),
            error: (message, options)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$sonner$40$2$2e$0$2e$7_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error(message, {
                    duration: 5000,
                    ...options
                }),
            loading: (message, options)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$sonner$40$2$2e$0$2e$7_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].loading(message, options),
            info: (message, options)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$sonner$40$2$2e$0$2e$7_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].info(message, {
                    duration: 3000,
                    ...options
                }),
            warning: (message, options)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$sonner$40$2$2e$0$2e$7_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].warning(message, {
                    duration: 4000,
                    ...options
                }),
            promise: (promise, messages)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$sonner$40$2$2e$0$2e$7_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].promise(promise, messages),
            dismiss: (id)=>{
                __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$sonner$40$2$2e$0$2e$7_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].dismiss(id);
            },
            // Shorthand for Server Action responses
            fromActionResult: (result)=>{
                if (result.success) {
                    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$sonner$40$2$2e$0$2e$7_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].success(result.message || "Operation completed successfully");
                } else {
                    __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$sonner$40$2$2e$0$2e$7_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].error(result.error || "Operation failed");
                }
            }
        }
    };
}
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:d7d068 [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"004241027febea2f30c3534c791cf4abf0b187afa3":"getWebRTCCredentials"},"apps/web/src/actions/telnyx.ts",""] */ __turbopack_context__.s([
    "getWebRTCCredentials",
    ()=>getWebRTCCredentials
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var getWebRTCCredentials = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("004241027febea2f30c3534c791cf4abf0b187afa3", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "getWebRTCCredentials"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vdGVsbnl4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogVGVsbnl4IFNlcnZlciBBY3Rpb25zXG4gKlxuICogU2VydmVyLXNpZGUgYWN0aW9ucyBmb3IgVGVsbnl4IFZvSVAgb3BlcmF0aW9uczpcbiAqIC0gUGhvbmUgbnVtYmVyIG1hbmFnZW1lbnRcbiAqIC0gQ2FsbCBvcGVyYXRpb25zXG4gKiAtIFNNUyBvcGVyYXRpb25zXG4gKiAtIFZvaWNlbWFpbCBvcGVyYXRpb25zXG4gKlxuICogQWxsIGFjdGlvbnMgaW5jbHVkZSBwcm9wZXIgYXV0aGVudGljYXRpb24gYW5kIGF1dGhvcml6YXRpb24gY2hlY2tzLlxuICovXG5cblwidXNlIHNlcnZlclwiO1xuXG5pbXBvcnQgdHlwZSB7IFN1cGFiYXNlQ2xpZW50IH0gZnJvbSBcIkBzdXBhYmFzZS9zdXBhYmFzZS1qc1wiO1xuaW1wb3J0IHsgcmV2YWxpZGF0ZVBhdGggfSBmcm9tIFwibmV4dC9jYWNoZVwiO1xuaW1wb3J0IHsgaGVhZGVycyB9IGZyb20gXCJuZXh0L2hlYWRlcnNcIjtcbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gXCJAL2xpYi9zdXBhYmFzZS9zZXJ2ZXJcIjtcbmltcG9ydCB7XG5cdGFuc3dlckNhbGwsXG5cdGhhbmd1cENhbGwsXG5cdGluaXRpYXRlQ2FsbCxcblx0cmVqZWN0Q2FsbCxcblx0c3RhcnRSZWNvcmRpbmcsXG5cdHN0b3BSZWNvcmRpbmcsXG59IGZyb20gXCJAL2xpYi90ZWxueXgvY2FsbHNcIjtcbmltcG9ydCB7IFRFTE5ZWF9DT05GSUcgfSBmcm9tIFwiQC9saWIvdGVsbnl4L2NsaWVudFwiO1xuaW1wb3J0IHtcblx0dmFsaWRhdGVDYWxsQ29uZmlnLFxuXHR2YWxpZGF0ZVNtc0NvbmZpZyxcbn0gZnJvbSBcIkAvbGliL3RlbG55eC9jb25maWctdmFsaWRhdG9yXCI7XG5pbXBvcnQgeyB2ZXJpZnlDb25uZWN0aW9uIH0gZnJvbSBcIkAvbGliL3RlbG55eC9jb25uZWN0aW9uLXNldHVwXCI7XG5pbXBvcnQgeyBmb3JtYXRQaG9uZU51bWJlciwgc2VuZE1NUywgc2VuZFNNUyB9IGZyb20gXCJAL2xpYi90ZWxueXgvbWVzc2FnaW5nXCI7XG5pbXBvcnQgeyB2ZXJpZnlNZXNzYWdpbmdQcm9maWxlIH0gZnJvbSBcIkAvbGliL3RlbG55eC9tZXNzYWdpbmctcHJvZmlsZS1zZXR1cFwiO1xuaW1wb3J0IHtcblx0dHlwZSBOdW1iZXJGZWF0dXJlLFxuXHR0eXBlIE51bWJlclR5cGUsXG5cdHB1cmNoYXNlTnVtYmVyLFxuXHRyZWxlYXNlTnVtYmVyLFxuXHRzZWFyY2hBdmFpbGFibGVOdW1iZXJzLFxufSBmcm9tIFwiQC9saWIvdGVsbnl4L251bWJlcnNcIjtcbmltcG9ydCB7XG5cdHZlcmlmeVNtc0NhcGFiaWxpdHksXG5cdHZlcmlmeVZvaWNlQ2FwYWJpbGl0eSxcbn0gZnJvbSBcIkAvbGliL3RlbG55eC9waG9uZS1udW1iZXItc2V0dXBcIjtcbmltcG9ydCB7XG5cdHR5cGUgQ29tcGFueVRlbG55eFNldHRpbmdzUm93LFxuXHRlbnN1cmVDb21wYW55VGVsbnl4U2V0dXAsXG5cdGZldGNoQ29tcGFueVRlbG55eFNldHRpbmdzLFxufSBmcm9tIFwiQC9saWIvdGVsbnl4L3Byb3Zpc2lvbi1jb21wYW55XCI7XG5pbXBvcnQgdHlwZSB7IERhdGFiYXNlLCBKc29uIH0gZnJvbSBcIkAvdHlwZXMvc3VwYWJhc2VcIjtcbmltcG9ydCB7IGVuc3VyZU1lc3NhZ2luZ0NhbXBhaWduIH0gZnJvbSBcIi4vbWVzc2FnaW5nLWJyYW5kaW5nXCI7XG5cbnR5cGUgVHlwZWRTdXBhYmFzZUNsaWVudCA9IFN1cGFiYXNlQ2xpZW50PERhdGFiYXNlPjtcblxuZnVuY3Rpb24gbm9ybWFsaXplUGhvbmVOdW1iZXIocGhvbmVOdW1iZXI6IHN0cmluZyk6IHN0cmluZyB7XG5cdHJldHVybiBmb3JtYXRQaG9uZU51bWJlcihwaG9uZU51bWJlcik7XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3RBcmVhQ29kZShwaG9uZU51bWJlcjogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCB7XG5cdGNvbnN0IGRpZ2l0cyA9IHBob25lTnVtYmVyLnJlcGxhY2UoL1xcRC9nLCBcIlwiKTtcblx0aWYgKGRpZ2l0cy5sZW5ndGggPT09IDExICYmIGRpZ2l0cy5zdGFydHNXaXRoKFwiMVwiKSkge1xuXHRcdHJldHVybiBkaWdpdHMuc2xpY2UoMSwgNCk7XG5cdH1cblx0aWYgKGRpZ2l0cy5sZW5ndGggPT09IDEwKSB7XG5cdFx0cmV0dXJuIGRpZ2l0cy5zbGljZSgwLCAzKTtcblx0fVxuXHRyZXR1cm4gbnVsbDtcbn1cblxuY29uc3QgREVGQVVMVF9NRVNTQUdJTkdfUFJPRklMRV9JRCA9XG5cdHByb2Nlc3MuZW52LlRFTE5ZWF9ERUZBVUxUX01FU1NBR0lOR19QUk9GSUxFX0lEIHx8XG5cdHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1RFTE5ZWF9NRVNTQUdJTkdfUFJPRklMRV9JRCB8fFxuXHRcIlwiO1xuXG5jb25zdCBERUZBVUxUX1BIT05FX05VTUJFUl9GRUFUVVJFUzogSnNvbiA9IFtcInZvaWNlXCIsIFwic21zXCIsIFwibW1zXCJdO1xuXG5mdW5jdGlvbiBmb3JtYXREaXNwbGF5UGhvbmVOdW1iZXIocGhvbmVOdW1iZXI6IHN0cmluZyk6IHN0cmluZyB7XG5cdGNvbnN0IGRpZ2l0cyA9IHBob25lTnVtYmVyLnJlcGxhY2UoL1xcRC9nLCBcIlwiKTtcblx0aWYgKGRpZ2l0cy5sZW5ndGggPT09IDExICYmIGRpZ2l0cy5zdGFydHNXaXRoKFwiMVwiKSkge1xuXHRcdHJldHVybiBgKzEgKCR7ZGlnaXRzLnNsaWNlKDEsIDQpfSkgJHtkaWdpdHMuc2xpY2UoNCwgNyl9LSR7ZGlnaXRzLnNsaWNlKDcpfWA7XG5cdH1cblx0aWYgKGRpZ2l0cy5sZW5ndGggPT09IDEwKSB7XG5cdFx0cmV0dXJuIGAoJHtkaWdpdHMuc2xpY2UoMCwgMyl9KSAke2RpZ2l0cy5zbGljZSgzLCA2KX0tJHtkaWdpdHMuc2xpY2UoNil9YDtcblx0fVxuXHRyZXR1cm4gcGhvbmVOdW1iZXI7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGdldENvbXBhbnlUZWxueXhTZXR0aW5ncyhcblx0c3VwYWJhc2U6IFR5cGVkU3VwYWJhc2VDbGllbnQsXG5cdGNvbXBhbnlJZDogc3RyaW5nIHwgbnVsbCxcbik6IFByb21pc2U8Q29tcGFueVRlbG55eFNldHRpbmdzUm93IHwgbnVsbD4ge1xuXHRpZiAoIWNvbXBhbnlJZCkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0Y29uc3QgZXhpc3RpbmcgPSBhd2FpdCBmZXRjaENvbXBhbnlUZWxueXhTZXR0aW5ncyhzdXBhYmFzZSwgY29tcGFueUlkKTtcblx0aWYgKGV4aXN0aW5nICYmIGV4aXN0aW5nLnN0YXR1cyA9PT0gXCJyZWFkeVwiKSB7XG5cdFx0cmV0dXJuIGV4aXN0aW5nO1xuXHR9XG5cblx0Y29uc3QgcHJvdmlzaW9uUmVzdWx0ID0gYXdhaXQgZW5zdXJlQ29tcGFueVRlbG55eFNldHVwKHtcblx0XHRjb21wYW55SWQsXG5cdFx0c3VwYWJhc2UsXG5cdH0pO1xuXG5cdGlmICghcHJvdmlzaW9uUmVzdWx0LnN1Y2Nlc3MpIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdHJldHVybiBwcm92aXNpb25SZXN1bHQuc2V0dGluZ3MgPz8gbnVsbDtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplQmFzZVVybCh1cmw6IHN0cmluZyk6IHN0cmluZyB7XG5cdGNvbnN0IHRyaW1tZWQgPSB1cmwudHJpbSgpLnJlcGxhY2UoL1xcLyskLywgXCJcIik7XG5cdGlmICgvXmh0dHBzPzpcXC9cXC8vaS50ZXN0KHRyaW1tZWQpKSB7XG5cdFx0aWYgKC9eaHR0cDpcXC9cXC8vaS50ZXN0KHRyaW1tZWQpICYmICFpc0xvY2FsVXJsKHRyaW1tZWQpKSB7XG5cdFx0XHRyZXR1cm4gdHJpbW1lZC5yZXBsYWNlKC9eaHR0cDpcXC9cXC8vaSwgXCJodHRwczovL1wiKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRyaW1tZWQ7XG5cdH1cblx0cmV0dXJuIGBodHRwczovLyR7dHJpbW1lZH1gO1xufVxuXG5mdW5jdGlvbiBpc0xvY2FsVXJsKHVybDogc3RyaW5nKTogYm9vbGVhbiB7XG5cdGNvbnN0IGxvd2VyZWQgPSB1cmwudG9Mb3dlckNhc2UoKTtcblx0cmV0dXJuIChcblx0XHRsb3dlcmVkLmluY2x1ZGVzKFwibG9jYWxob3N0XCIpIHx8XG5cdFx0bG93ZXJlZC5pbmNsdWRlcyhcIjEyNy4wLjAuMVwiKSB8fFxuXHRcdGxvd2VyZWQuaW5jbHVkZXMoXCIwLjAuMC4wXCIpIHx8XG5cdFx0bG93ZXJlZC5lbmRzV2l0aChcIi5sb2NhbFwiKSB8fFxuXHRcdGxvd2VyZWQuaW5jbHVkZXMoXCI6Ly9sb2NhbFwiKVxuXHQpO1xufVxuXG5mdW5jdGlvbiBzaG91bGRVc2VVcmwodXJsOiBzdHJpbmcpOiBib29sZWFuIHtcblx0aWYgKCF1cmwpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0Y29uc3QgdHJpbW1lZCA9IHVybC50cmltKCk7XG5cdGlmICghdHJpbW1lZCkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXHRjb25zdCBpc0hvc3RlZFByb2R1Y3Rpb24gPVxuXHRcdChwcm9jZXNzLmVudi5WRVJDRUwgPT09IFwiMVwiICYmIHByb2Nlc3MuZW52LlZFUkNFTF9FTlYgPT09IFwicHJvZHVjdGlvblwiKSB8fFxuXHRcdHByb2Nlc3MuZW52LkRFUExPWU1FTlRfRU5WID09PSBcInByb2R1Y3Rpb25cIjtcblxuXHRpZiAoaXNIb3N0ZWRQcm9kdWN0aW9uICYmIGlzTG9jYWxVcmwodHJpbW1lZCkpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRyZXR1cm4gdHJ1ZTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0QmFzZUFwcFVybCgpOiBQcm9taXNlPHN0cmluZyB8IHVuZGVmaW5lZD4ge1xuXHRjb25zdCBjYW5kaWRhdGVzID0gW1xuXHRcdHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NJVEVfVVJMLFxuXHRcdHByb2Nlc3MuZW52LlNJVEVfVVJMLFxuXHRcdHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQUF9VUkwsXG5cdFx0cHJvY2Vzcy5lbnYuQVBQX1VSTCxcblx0XTtcblx0Zm9yIChjb25zdCBjYW5kaWRhdGUgb2YgY2FuZGlkYXRlcykge1xuXHRcdGlmIChjYW5kaWRhdGUgJiYgc2hvdWxkVXNlVXJsKGNhbmRpZGF0ZSkpIHtcblx0XHRcdHJldHVybiBub3JtYWxpemVCYXNlVXJsKGNhbmRpZGF0ZSk7XG5cdFx0fVxuXHR9XG5cblx0Y29uc3QgdmVyY2VsVXJsID0gcHJvY2Vzcy5lbnYuVkVSQ0VMX1VSTDtcblx0aWYgKHZlcmNlbFVybCAmJiBzaG91bGRVc2VVcmwodmVyY2VsVXJsKSkge1xuXHRcdHJldHVybiBub3JtYWxpemVCYXNlVXJsKFxuXHRcdFx0dmVyY2VsVXJsLnN0YXJ0c1dpdGgoXCJodHRwXCIpID8gdmVyY2VsVXJsIDogYGh0dHBzOi8vJHt2ZXJjZWxVcmx9YCxcblx0XHQpO1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCBoZHJzID0gYXdhaXQgaGVhZGVycygpO1xuXHRcdGNvbnN0IG9yaWdpbiA9IGhkcnMuZ2V0KFwib3JpZ2luXCIpO1xuXHRcdGlmIChvcmlnaW4gJiYgc2hvdWxkVXNlVXJsKG9yaWdpbikpIHtcblx0XHRcdHJldHVybiBub3JtYWxpemVCYXNlVXJsKG9yaWdpbik7XG5cdFx0fVxuXHRcdGNvbnN0IGhvc3QgPSBoZHJzLmdldChcImhvc3RcIik7XG5cdFx0aWYgKGhvc3QgJiYgc2hvdWxkVXNlVXJsKGhvc3QpKSB7XG5cdFx0XHRjb25zdCBwcm90b2NvbCA9IGhvc3QuaW5jbHVkZXMoXCJsb2NhbGhvc3RcIikgPyBcImh0dHBcIiA6IFwiaHR0cHNcIjtcblx0XHRcdHJldHVybiBub3JtYWxpemVCYXNlVXJsKGAke3Byb3RvY29sfTovLyR7aG9zdH1gKTtcblx0XHR9XG5cdH0gY2F0Y2gge1xuXHRcdC8vIGhlYWRlcnMoKSBub3QgYXZhaWxhYmxlIG91dHNpZGUgb2YgYSByZXF1ZXN0IGNvbnRleHRcblx0fVxuXG5cdHJldHVybiB1bmRlZmluZWQ7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGJ1aWxkQWJzb2x1dGVVcmwocGF0aDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+IHtcblx0Y29uc3QgYmFzZSA9IGF3YWl0IGdldEJhc2VBcHBVcmwoKTtcblx0aWYgKCFiYXNlKSB7XG5cdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0fVxuXHRjb25zdCBub3JtYWxpemVkUGF0aCA9IHBhdGguc3RhcnRzV2l0aChcIi9cIikgPyBwYXRoIDogYC8ke3BhdGh9YDtcblx0cmV0dXJuIGAke2Jhc2V9JHtub3JtYWxpemVkUGF0aH1gO1xufVxuXG5hc3luYyBmdW5jdGlvbiBnZXRUZWxueXhXZWJob29rVXJsKFxuXHRjb21wYW55SWQ/OiBzdHJpbmcsXG4pOiBQcm9taXNlPHN0cmluZyB8IHVuZGVmaW5lZD4ge1xuXHRpZiAoY29tcGFueUlkKSB7XG5cdFx0cmV0dXJuIGJ1aWxkQWJzb2x1dGVVcmwoYC9hcGkvd2ViaG9va3MvdGVsbnl4P2NvbXBhbnk9JHtjb21wYW55SWR9YCk7XG5cdH1cblx0cmV0dXJuIGJ1aWxkQWJzb2x1dGVVcmwoXCIvYXBpL3dlYmhvb2tzL3RlbG55eFwiKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0UGhvbmVOdW1iZXJJZChcblx0c3VwYWJhc2U6IFR5cGVkU3VwYWJhc2VDbGllbnQsXG5cdHBob25lTnVtYmVyOiBzdHJpbmcsXG4pOiBQcm9taXNlPHN0cmluZyB8IG51bGw+IHtcblx0Y29uc3Qgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVBob25lTnVtYmVyKHBob25lTnVtYmVyKTtcblx0Y29uc3QgeyBkYXRhIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdC5mcm9tKFwicGhvbmVfbnVtYmVyc1wiKVxuXHRcdC5zZWxlY3QoXCJpZFwiKVxuXHRcdC5lcShcInBob25lX251bWJlclwiLCBub3JtYWxpemVkKVxuXHRcdC5pcyhcImRlbGV0ZWRfYXRcIiwgbnVsbClcblx0XHQubWF5YmVTaW5nbGUoKTtcblxuXHRyZXR1cm4gZGF0YT8uaWQgPz8gbnVsbDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZW5zdXJlUGhvbmVOdW1iZXJSZWNvcmRFeGlzdHMoXG5cdHN1cGFiYXNlOiBUeXBlZFN1cGFiYXNlQ2xpZW50LFxuXHRjb21wYW55SWQ6IHN0cmluZyxcblx0cGhvbmVOdW1iZXI6IHN0cmluZyB8IG51bGwsXG4pOiBQcm9taXNlPHZvaWQ+IHtcblx0aWYgKCFwaG9uZU51bWJlcikge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGNvbnN0IG5vcm1hbGl6ZWQgPSBub3JtYWxpemVQaG9uZU51bWJlcihwaG9uZU51bWJlcik7XG5cdGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHQuZnJvbShcInBob25lX251bWJlcnNcIilcblx0XHQuc2VsZWN0KFwiaWRcIilcblx0XHQuZXEoXCJjb21wYW55X2lkXCIsIGNvbXBhbnlJZClcblx0XHQuZXEoXCJwaG9uZV9udW1iZXJcIiwgbm9ybWFsaXplZClcblx0XHQubGltaXQoMSk7XG5cblx0aWYgKGRhdGEgJiYgZGF0YS5sZW5ndGggPiAwKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cblx0YXdhaXQgc3VwYWJhc2UuZnJvbShcInBob25lX251bWJlcnNcIikuaW5zZXJ0KHtcblx0XHRjb21wYW55X2lkOiBjb21wYW55SWQsXG5cdFx0cGhvbmVfbnVtYmVyOiBub3JtYWxpemVkLFxuXHRcdGZvcm1hdHRlZF9udW1iZXI6IGZvcm1hdERpc3BsYXlQaG9uZU51bWJlcihub3JtYWxpemVkKSxcblx0XHRjb3VudHJ5X2NvZGU6IFwiVVNcIixcblx0XHRhcmVhX2NvZGU6IGV4dHJhY3RBcmVhQ29kZShub3JtYWxpemVkKSxcblx0XHRudW1iZXJfdHlwZTogXCJsb2NhbFwiLFxuXHRcdHN0YXR1czogXCJhY3RpdmVcIixcblx0XHRmZWF0dXJlczogREVGQVVMVF9QSE9ORV9OVU1CRVJfRkVBVFVSRVMsXG5cdH0pO1xufVxuXG5hc3luYyBmdW5jdGlvbiByZXNvbHZlT3V0Ym91bmRQaG9uZU51bWJlcihcblx0c3VwYWJhc2U6IFR5cGVkU3VwYWJhc2VDbGllbnQsXG5cdGNvbXBhbnlJZDogc3RyaW5nLFxuXHRleHBsaWNpdEZyb20/OiBzdHJpbmcgfCBudWxsLFxuXHRkZWZhdWx0TnVtYmVyPzogc3RyaW5nIHwgbnVsbCxcbik6IFByb21pc2U8c3RyaW5nIHwgbnVsbD4ge1xuXHRpZiAoZXhwbGljaXRGcm9tKSB7XG5cdFx0cmV0dXJuIG5vcm1hbGl6ZVBob25lTnVtYmVyKGV4cGxpY2l0RnJvbSk7XG5cdH1cblxuXHRjb25zdCBub3JtYWxpemVkRGVmYXVsdCA9IGRlZmF1bHROdW1iZXJcblx0XHQ/IG5vcm1hbGl6ZVBob25lTnVtYmVyKGRlZmF1bHROdW1iZXIpXG5cdFx0OiBudWxsO1xuXG5cdHRyeSB7XG5cdFx0Y29uc3QgeyBkYXRhIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJwaG9uZV9udW1iZXJzXCIpXG5cdFx0XHQuc2VsZWN0KFwicGhvbmVfbnVtYmVyLCBudW1iZXJfdHlwZVwiKVxuXHRcdFx0LmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpXG5cdFx0XHQuZXEoXCJzdGF0dXNcIiwgXCJhY3RpdmVcIik7XG5cblx0XHRpZiAoZGF0YSAmJiBkYXRhLmxlbmd0aCA+IDApIHtcblx0XHRcdGNvbnN0IHRvbGxGcmVlID0gZGF0YS5maW5kKChuKSA9PiBuLm51bWJlcl90eXBlID09PSBcInRvbGwtZnJlZVwiKTtcblx0XHRcdGlmICh0b2xsRnJlZSkge1xuXHRcdFx0XHRyZXR1cm4gbm9ybWFsaXplUGhvbmVOdW1iZXIodG9sbEZyZWUucGhvbmVfbnVtYmVyKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKG5vcm1hbGl6ZWREZWZhdWx0KSB7XG5cdFx0XHRcdGNvbnN0IGRlZmF1bHRFeGlzdHMgPSBkYXRhLnNvbWUoXG5cdFx0XHRcdFx0KG4pID0+IG5vcm1hbGl6ZVBob25lTnVtYmVyKG4ucGhvbmVfbnVtYmVyKSA9PT0gbm9ybWFsaXplZERlZmF1bHQsXG5cdFx0XHRcdCk7XG5cdFx0XHRcdGlmIChkZWZhdWx0RXhpc3RzKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG5vcm1hbGl6ZWREZWZhdWx0O1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBub3JtYWxpemVQaG9uZU51bWJlcihkYXRhWzBdLnBob25lX251bWJlcik7XG5cdFx0fVxuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUud2Fybihcblx0XHRcdFwiRmFpbGVkIHRvIGxvYWQgY29tcGFueSBwaG9uZSBudW1iZXJzIGZvciBvdXRib3VuZCBzZWxlY3Rpb246XCIsXG5cdFx0XHRlcnJvcixcblx0XHQpO1xuXHR9XG5cblx0cmV0dXJuIG5vcm1hbGl6ZWREZWZhdWx0O1xufVxuXG5hc3luYyBmdW5jdGlvbiBtZXJnZVByb3ZpZGVyTWV0YWRhdGEoXG5cdHN1cGFiYXNlOiBUeXBlZFN1cGFiYXNlQ2xpZW50LFxuXHRjb21tdW5pY2F0aW9uSWQ6IHN0cmluZyxcblx0cGF0Y2g6IFJlY29yZDxzdHJpbmcsIEpzb24+LFxuKTogUHJvbWlzZTx2b2lkPiB7XG5cdGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHQuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG5cdFx0LnNlbGVjdChcInByb3ZpZGVyX21ldGFkYXRhXCIpXG5cdFx0LmVxKFwiaWRcIiwgY29tbXVuaWNhdGlvbklkKVxuXHRcdC5tYXliZVNpbmdsZSgpO1xuXG5cdGNvbnN0IGN1cnJlbnRNZXRhZGF0YSA9XG5cdFx0KGRhdGE/LnByb3ZpZGVyX21ldGFkYXRhIGFzIFJlY29yZDxzdHJpbmcsIEpzb24+IHwgbnVsbCkgPz8ge307XG5cdGNvbnN0IG1lcmdlZE1ldGFkYXRhOiBSZWNvcmQ8c3RyaW5nLCBKc29uPiA9IHtcblx0XHQuLi5jdXJyZW50TWV0YWRhdGEsXG5cdFx0Li4ucGF0Y2gsXG5cdH07XG5cblx0YXdhaXQgc3VwYWJhc2Vcblx0XHQuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG5cdFx0LnVwZGF0ZSh7XG5cdFx0XHRwcm92aWRlcl9tZXRhZGF0YTogbWVyZ2VkTWV0YWRhdGEsXG5cdFx0fSlcblx0XHQuZXEoXCJpZFwiLCBjb21tdW5pY2F0aW9uSWQpO1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBQSE9ORSBOVU1CRVIgTUFOQUdFTUVOVCBBQ1RJT05TXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogU2VhcmNoIGZvciBhdmFpbGFibGUgcGhvbmUgbnVtYmVycyB0byBwdXJjaGFzZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VhcmNoUGhvbmVOdW1iZXJzKHBhcmFtczoge1xuXHRhcmVhQ29kZT86IHN0cmluZztcblx0bnVtYmVyVHlwZT86IE51bWJlclR5cGU7XG5cdGZlYXR1cmVzPzogTnVtYmVyRmVhdHVyZVtdO1xuXHRsaW1pdD86IG51bWJlcjtcbn0pIHtcblx0dHJ5IHtcblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBzZWFyY2hBdmFpbGFibGVOdW1iZXJzKHtcblx0XHRcdGNvdW50cnlDb2RlOiBcIlVTXCIsXG5cdFx0XHRhcmVhQ29kZTogcGFyYW1zLmFyZWFDb2RlLFxuXHRcdFx0bnVtYmVyVHlwZTogcGFyYW1zLm51bWJlclR5cGUsXG5cdFx0XHRmZWF0dXJlczogcGFyYW1zLmZlYXR1cmVzLFxuXHRcdFx0bGltaXQ6IHBhcmFtcy5saW1pdCB8fCAxMCxcblx0XHR9KTtcblxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIHNlYXJjaCBwaG9uZSBudW1iZXJzXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIFB1cmNoYXNlIGEgcGhvbmUgbnVtYmVyIGFuZCBhc3NvY2lhdGUgaXQgd2l0aCB0aGUgY3VycmVudCBjb21wYW55XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBwdXJjaGFzZVBob25lTnVtYmVyKHBhcmFtczoge1xuXHRwaG9uZU51bWJlcjogc3RyaW5nO1xuXHRjb21wYW55SWQ6IHN0cmluZztcblx0YmlsbGluZ0dyb3VwSWQ/OiBzdHJpbmc7XG59KSB7XG5cdHRyeSB7XG5cdFx0Ly8gVmFsaWRhdGUgY29uZmlndXJhdGlvblxuXHRcdGNvbnN0IHNtc0NvbmZpZyA9IGF3YWl0IHZhbGlkYXRlU21zQ29uZmlnKCk7XG5cdFx0Y29uc3QgY2FsbENvbmZpZyA9IHZhbGlkYXRlQ2FsbENvbmZpZygpO1xuXHRcdGlmICghc21zQ29uZmlnLnZhbGlkIHx8ICFjYWxsQ29uZmlnLnZhbGlkKSB7XG5cdFx0XHRsZXQgZXJyb3JNZXNzYWdlID1cblx0XHRcdFx0XCJUZWxueXggY29uZmlndXJhdGlvbiBpcyBpbmNvbXBsZXRlLiBQbGVhc2UgY29uZmlndXJlIGFsbCByZXF1aXJlZCBlbnZpcm9ubWVudCB2YXJpYWJsZXMuXCI7XG5cblx0XHRcdC8vIElmIHdlIGhhdmUgYSBzdWdnZXN0ZWQgcHJvZmlsZSBJRCwgaW5jbHVkZSBpdCBpbiB0aGUgZXJyb3Jcblx0XHRcdGlmIChzbXNDb25maWcuc3VnZ2VzdGVkUHJvZmlsZUlkKSB7XG5cdFx0XHRcdGVycm9yTWVzc2FnZSArPSBgIEZvdW5kIG1lc3NhZ2luZyBwcm9maWxlIFwiJHtzbXNDb25maWcuc3VnZ2VzdGVkUHJvZmlsZUlkfVwiIGluIHlvdXIgVGVsbnl4IGFjY291bnQuIFNldCBURUxOWVhfREVGQVVMVF9NRVNTQUdJTkdfUFJPRklMRV9JRD0ke3Ntc0NvbmZpZy5zdWdnZXN0ZWRQcm9maWxlSWR9IHRvIHVzZSBpdC5gO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGVycm9yTWVzc2FnZSxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiU2VydmljZSB1bmF2YWlsYWJsZVwiIH07XG5cdFx0fVxuXG5cdFx0Y29uc3Qgbm9ybWFsaXplZFBob25lTnVtYmVyID0gbm9ybWFsaXplUGhvbmVOdW1iZXIocGFyYW1zLnBob25lTnVtYmVyKTtcblx0XHRjb25zdCBmb3JtYXR0ZWROdW1iZXIgPSBmb3JtYXREaXNwbGF5UGhvbmVOdW1iZXIobm9ybWFsaXplZFBob25lTnVtYmVyKTtcblx0XHRjb25zdCBhcmVhQ29kZSA9IGV4dHJhY3RBcmVhQ29kZShub3JtYWxpemVkUGhvbmVOdW1iZXIpO1xuXG5cdFx0Ly8gUHVyY2hhc2UgbnVtYmVyIGZyb20gVGVsbnl4XG5cdFx0Y29uc3QgbWVzc2FnaW5nUHJvZmlsZUlkID0gREVGQVVMVF9NRVNTQUdJTkdfUFJPRklMRV9JRCB8fCB1bmRlZmluZWQ7XG5cblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBwdXJjaGFzZU51bWJlcih7XG5cdFx0XHRwaG9uZU51bWJlcjogbm9ybWFsaXplZFBob25lTnVtYmVyLFxuXHRcdFx0Y29ubmVjdGlvbklkOiBURUxOWVhfQ09ORklHLmNvbm5lY3Rpb25JZCxcblx0XHRcdG1lc3NhZ2luZ1Byb2ZpbGVJZCxcblx0XHRcdGJpbGxpbmdHcm91cElkOiBwYXJhbXMuYmlsbGluZ0dyb3VwSWQsXG5cdFx0XHRjdXN0b21lclJlZmVyZW5jZTogYGNvbXBhbnlfJHtwYXJhbXMuY29tcGFueUlkfWAsXG5cdFx0fSk7XG5cblx0XHRpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH1cblxuXHRcdC8vIFN0b3JlIGluIGRhdGFiYXNlXG5cdFx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwicGhvbmVfbnVtYmVyc1wiKVxuXHRcdFx0Lmluc2VydCh7XG5cdFx0XHRcdGNvbXBhbnlfaWQ6IHBhcmFtcy5jb21wYW55SWQsXG5cdFx0XHRcdHRlbG55eF9waG9uZV9udW1iZXJfaWQ6IHJlc3VsdC5vcmRlcklkLFxuXHRcdFx0XHR0ZWxueXhfY29ubmVjdGlvbl9pZDogVEVMTllYX0NPTkZJRy5jb25uZWN0aW9uSWQsXG5cdFx0XHRcdHBob25lX251bWJlcjogbm9ybWFsaXplZFBob25lTnVtYmVyLFxuXHRcdFx0XHRmb3JtYXR0ZWRfbnVtYmVyOiBmb3JtYXR0ZWROdW1iZXIsXG5cdFx0XHRcdGNvdW50cnlfY29kZTogXCJVU1wiLFxuXHRcdFx0XHRhcmVhX2NvZGU6IGFyZWFDb2RlLFxuXHRcdFx0XHRudW1iZXJfdHlwZTogXCJsb2NhbFwiLFxuXHRcdFx0XHRmZWF0dXJlczogW1widm9pY2VcIiwgXCJzbXNcIl0sXG5cdFx0XHRcdHN0YXR1czogXCJwZW5kaW5nXCIsXG5cdFx0XHR9KVxuXHRcdFx0LnNlbGVjdCgpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9zZXR0aW5ncy9jb21tdW5pY2F0aW9ucy9waG9uZS1udW1iZXJzXCIpO1xuXG5cdFx0dHJ5IHtcblx0XHRcdGF3YWl0IGVuc3VyZU1lc3NhZ2luZ0NhbXBhaWduKFxuXHRcdFx0XHRwYXJhbXMuY29tcGFueUlkLFxuXHRcdFx0XHR7IGlkOiBkYXRhLmlkLCBlMTY0OiBub3JtYWxpemVkUGhvbmVOdW1iZXIgfSxcblx0XHRcdFx0eyBzdXBhYmFzZSB9LFxuXHRcdFx0KTtcblx0XHR9IGNhdGNoIChfY2FtcGFpZ25FcnJvcikge31cblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0ZGF0YSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byBwdXJjaGFzZSBwaG9uZSBudW1iZXJcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogR2V0IGFsbCBwaG9uZSBudW1iZXJzIGZvciBhIGNvbXBhbnlcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENvbXBhbnlQaG9uZU51bWJlcnMoY29tcGFueUlkOiBzdHJpbmcpIHtcblx0dHJ5IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJTZXJ2aWNlIHVuYXZhaWxhYmxlXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJwaG9uZV9udW1iZXJzXCIpXG5cdFx0XHQuc2VsZWN0KFwiKlwiKVxuXHRcdFx0LmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpXG5cdFx0XHQuaXMoXCJkZWxldGVkX2F0XCIsIG51bGwpXG5cdFx0XHQub3JkZXIoXCJjcmVhdGVkX2F0XCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IHRydWUsXG5cdFx0XHRkYXRhOiBkYXRhIHx8IFtdLFxuXHRcdH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gZ2V0IHBob25lIG51bWJlcnNcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogVXBkYXRlIHBob25lIG51bWJlciBjb25maWd1cmF0aW9uXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZVBob25lTnVtYmVyKHBhcmFtczoge1xuXHRwaG9uZU51bWJlcklkOiBzdHJpbmc7XG5cdHJvdXRpbmdSdWxlSWQ/OiBzdHJpbmc7XG5cdGZvcndhcmRUb051bWJlcj86IHN0cmluZztcblx0dm9pY2VtYWlsRW5hYmxlZD86IGJvb2xlYW47XG59KSB7XG5cdHRyeSB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiU2VydmljZSB1bmF2YWlsYWJsZVwiIH07XG5cdFx0fVxuXG5cdFx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwicGhvbmVfbnVtYmVyc1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdGNhbGxfcm91dGluZ19ydWxlX2lkOiBwYXJhbXMucm91dGluZ1J1bGVJZCxcblx0XHRcdFx0Zm9yd2FyZF90b19udW1iZXI6IHBhcmFtcy5mb3J3YXJkVG9OdW1iZXIsXG5cdFx0XHRcdHZvaWNlbWFpbF9lbmFibGVkOiBwYXJhbXMudm9pY2VtYWlsRW5hYmxlZCxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBwYXJhbXMucGhvbmVOdW1iZXJJZClcblx0XHRcdC5zZWxlY3QoKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvc2V0dGluZ3MvY29tbXVuaWNhdGlvbnMvcGhvbmUtbnVtYmVyc1wiKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0ZGF0YSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byB1cGRhdGUgcGhvbmUgbnVtYmVyXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIFJlbGVhc2UgKGRlbGV0ZSkgYSBwaG9uZSBudW1iZXJcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZGVsZXRlUGhvbmVOdW1iZXIocGhvbmVOdW1iZXJJZDogc3RyaW5nKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiU2VydmljZSB1bmF2YWlsYWJsZVwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gR2V0IHBob25lIG51bWJlciBkZXRhaWxzXG5cdFx0Y29uc3QgeyBkYXRhOiBwaG9uZU51bWJlciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwicGhvbmVfbnVtYmVyc1wiKVxuXHRcdFx0LnNlbGVjdChcIipcIilcblx0XHRcdC5lcShcImlkXCIsIHBob25lTnVtYmVySWQpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoIXBob25lTnVtYmVyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiUGhvbmUgbnVtYmVyIG5vdCBmb3VuZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gUmVsZWFzZSBmcm9tIFRlbG55eCBpZiB3ZSBoYXZlIHRoZSBJRFxuXHRcdGlmIChwaG9uZU51bWJlci50ZWxueXhfcGhvbmVfbnVtYmVyX2lkKSB7XG5cdFx0XHRhd2FpdCByZWxlYXNlTnVtYmVyKHBob25lTnVtYmVyLnRlbG55eF9waG9uZV9udW1iZXJfaWQpO1xuXHRcdH1cblxuXHRcdC8vIFNvZnQgZGVsZXRlIGluIGRhdGFiYXNlXG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwicGhvbmVfbnVtYmVyc1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdGRlbGV0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdFx0c3RhdHVzOiBcImRlbGV0ZWRcIixcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBwaG9uZU51bWJlcklkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL3NldHRpbmdzL2NvbW11bmljYXRpb25zL3Bob25lLW51bWJlcnNcIik7XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIGRlbGV0ZSBwaG9uZSBudW1iZXJcIixcblx0XHR9O1xuXHR9XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIENBTEwgT1BFUkFUSU9OUyBBQ1RJT05TXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogSW5pdGlhdGUgYW4gb3V0Ym91bmQgY2FsbFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbWFrZUNhbGwocGFyYW1zOiB7XG5cdHRvOiBzdHJpbmc7XG5cdGZyb206IHN0cmluZztcblx0Y29tcGFueUlkOiBzdHJpbmc7XG5cdGN1c3RvbWVySWQ/OiBzdHJpbmc7XG5cdGpvYklkPzogc3RyaW5nO1xuXHRwcm9wZXJ0eUlkPzogc3RyaW5nO1xuXHRpbnZvaWNlSWQ/OiBzdHJpbmc7XG5cdGVzdGltYXRlSWQ/OiBzdHJpbmc7XG59KSB7XG5cdHRyeSB7XG5cdFx0Y29uc29sZS5sb2coXCLwn5OeIG1ha2VDYWxsIGNhbGxlZCB3aXRoIHBhcmFtczpcIiwgcGFyYW1zKTtcblxuXHRcdGNvbnN0IGNhbGxDb25maWcgPSB2YWxpZGF0ZUNhbGxDb25maWcoKTtcblx0XHRjb25zb2xlLmxvZyhcIvCflI0gQ2FsbCBjb25maWcgdmFsaWRhdGlvbjpcIiwgY2FsbENvbmZpZyk7XG5cdFx0aWYgKCFjYWxsQ29uZmlnLnZhbGlkKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGNhbGxDb25maWcuZXJyb3IgfHwgXCJDYWxsIGNvbmZpZ3VyYXRpb24gaXMgaW52YWxpZFwiLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJTZXJ2aWNlIHVuYXZhaWxhYmxlXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCBjb21wYW55U2V0dGluZ3MgPSBhd2FpdCBnZXRDb21wYW55VGVsbnl4U2V0dGluZ3MoXG5cdFx0XHRzdXBhYmFzZSxcblx0XHRcdHBhcmFtcy5jb21wYW55SWQsXG5cdFx0KTtcblxuXHRcdGF3YWl0IGVuc3VyZVBob25lTnVtYmVyUmVjb3JkRXhpc3RzKFxuXHRcdFx0c3VwYWJhc2UsXG5cdFx0XHRwYXJhbXMuY29tcGFueUlkLFxuXHRcdFx0Y29tcGFueVNldHRpbmdzPy5kZWZhdWx0X291dGJvdW5kX251bWJlciB8fCBudWxsLFxuXHRcdCk7XG5cblx0XHRjb25zdCBjb25uZWN0aW9uT3ZlcnJpZGUgPVxuXHRcdFx0Y29tcGFueVNldHRpbmdzPy5jYWxsX2NvbnRyb2xfYXBwbGljYXRpb25faWQgfHxcblx0XHRcdFRFTE5ZWF9DT05GSUcuY29ubmVjdGlvbklkO1xuXHRcdGNvbnN0IGZyb21BZGRyZXNzID0gYXdhaXQgcmVzb2x2ZU91dGJvdW5kUGhvbmVOdW1iZXIoXG5cdFx0XHRzdXBhYmFzZSxcblx0XHRcdHBhcmFtcy5jb21wYW55SWQsXG5cdFx0XHRwYXJhbXMuZnJvbSxcblx0XHRcdGNvbXBhbnlTZXR0aW5ncz8uZGVmYXVsdF9vdXRib3VuZF9udW1iZXIgfHwgbnVsbCxcblx0XHQpO1xuXG5cdFx0aWYgKCFjb25uZWN0aW9uT3ZlcnJpZGUpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogXCJObyBUZWxueXggY29ubmVjdGlvbiBjb25maWd1cmVkIGZvciB0aGlzIGNvbXBhbnkuXCIsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGlmICghZnJvbUFkZHJlc3MpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjpcblx0XHRcdFx0XHRcIkNvbXBhbnkgZG9lcyBub3QgaGF2ZSBhIGRlZmF1bHQgb3V0Ym91bmQgcGhvbmUgbnVtYmVyIGNvbmZpZ3VyZWQuIFBsZWFzZSBwcm92aXNpb24gbnVtYmVycyBmaXJzdC5cIixcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gVEVNUDogU2tpcCBjb25uZWN0aW9uIHZlcmlmaWNhdGlvbiAtIExldmVsIDIgcmVxdWlyZWQgZm9yIEFQSSBhY2Nlc3Ncblx0XHQvLyBjb25zdCBjb25uZWN0aW9uU3RhdHVzID0gYXdhaXQgdmVyaWZ5Q29ubmVjdGlvbihjb25uZWN0aW9uT3ZlcnJpZGUpO1xuXHRcdC8vIGlmIChjb25uZWN0aW9uU3RhdHVzLm5lZWRzRml4KSB7XG5cdFx0Ly8gXHRyZXR1cm4ge1xuXHRcdC8vIFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHQvLyBcdFx0ZXJyb3I6IGBDb25uZWN0aW9uIGNvbmZpZ3VyYXRpb24gaXNzdWU6ICR7Y29ubmVjdGlvblN0YXR1cy5pc3N1ZXMuam9pbihcIiwgXCIpfS4gUnVuIGZpeENvbm5lY3Rpb24oKSB0byBhdXRvLWZpeC5gLFxuXHRcdC8vIFx0fTtcblx0XHQvLyB9XG5cblx0XHRjb25zdCB0b0FkZHJlc3MgPSBub3JtYWxpemVQaG9uZU51bWJlcihwYXJhbXMudG8pO1xuXG5cdFx0Ly8gVEVNUDogU2tpcCB2b2ljZSBjYXBhYmlsaXR5IGNoZWNrIC0gTGV2ZWwgMiByZXF1aXJlZCBmb3IgQVBJIGFjY2Vzc1xuXHRcdC8vIGNvbnN0IHZvaWNlQ2FwYWJpbGl0eSA9IGF3YWl0IHZlcmlmeVZvaWNlQ2FwYWJpbGl0eShmcm9tQWRkcmVzcyk7XG5cdFx0Ly8gaWYgKCF2b2ljZUNhcGFiaWxpdHkuaGFzVm9pY2UpIHtcblx0XHQvLyBcdHJldHVybiB7XG5cdFx0Ly8gXHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdC8vIFx0XHRlcnJvcjpcblx0XHQvLyBcdFx0XHR2b2ljZUNhcGFiaWxpdHkuZXJyb3IgfHwgXCJQaG9uZSBudW1iZXIgZG9lcyBub3Qgc3VwcG9ydCB2b2ljZSBjYWxsc1wiLFxuXHRcdC8vIFx0fTtcblx0XHQvLyB9XG5cblx0XHRjb25zdCB0ZWxueXhXZWJob29rVXJsID0gYXdhaXQgZ2V0VGVsbnl4V2ViaG9va1VybChwYXJhbXMuY29tcGFueUlkKTtcblx0XHRjb25zb2xlLmxvZyhcIvCflJcgV2ViaG9vayBVUkw6XCIsIHRlbG55eFdlYmhvb2tVcmwpO1xuXHRcdGlmICghdGVsbnl4V2ViaG9va1VybCkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOlxuXHRcdFx0XHRcdFwiU2l0ZSBVUkwgaXMgbm90IGNvbmZpZ3VyZWQuIFNldCBORVhUX1BVQkxJQ19TSVRFX1VSTCBvciBTSVRFX1VSTCB0byBhIHB1YmxpYyBodHRwcyBkb21haW4uXCIsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGNvbnNvbGUubG9nKFwi8J+TpCBJbml0aWF0aW5nIGNhbGw6XCIsIHtcblx0XHRcdHRvOiB0b0FkZHJlc3MsXG5cdFx0XHRmcm9tOiBmcm9tQWRkcmVzcyxcblx0XHRcdGNvbm5lY3Rpb25JZDogY29ubmVjdGlvbk92ZXJyaWRlLFxuXHRcdFx0d2ViaG9va1VybDogdGVsbnl4V2ViaG9va1VybCxcblx0XHR9KTtcblxuXHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IGluaXRpYXRlQ2FsbCh7XG5cdFx0XHR0bzogdG9BZGRyZXNzLFxuXHRcdFx0ZnJvbTogZnJvbUFkZHJlc3MsXG5cdFx0XHRjb25uZWN0aW9uSWQ6IGNvbm5lY3Rpb25PdmVycmlkZSxcblx0XHRcdHdlYmhvb2tVcmw6IHRlbG55eFdlYmhvb2tVcmwsXG5cdFx0XHRhbnN3ZXJpbmdNYWNoaW5lRGV0ZWN0aW9uOiBcInByZW1pdW1cIixcblx0XHR9KTtcblxuXHRcdGNvbnNvbGUubG9nKFwi8J+TpSBUZWxueXggQVBJIHJlc3BvbnNlOlwiLCByZXN1bHQpO1xuXG5cdFx0aWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9XG5cblx0XHRjb25zdCBwaG9uZU51bWJlcklkID0gYXdhaXQgZ2V0UGhvbmVOdW1iZXJJZChzdXBhYmFzZSwgZnJvbUFkZHJlc3MpO1xuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG5cdFx0XHQuaW5zZXJ0KHtcblx0XHRcdFx0Y29tcGFueV9pZDogY29tcGFueUlkLFxuXHRcdFx0XHRjdXN0b21lcl9pZDogcGFyYW1zLmN1c3RvbWVySWQsXG5cdFx0XHRcdGpvYl9pZDogcGFyYW1zLmpvYklkID8/IG51bGwsXG5cdFx0XHRcdHByb3BlcnR5X2lkOiBwYXJhbXMucHJvcGVydHlJZCA/PyBudWxsLFxuXHRcdFx0XHRpbnZvaWNlX2lkOiBwYXJhbXMuaW52b2ljZUlkID8/IG51bGwsXG5cdFx0XHRcdGVzdGltYXRlX2lkOiBwYXJhbXMuZXN0aW1hdGVJZCA/PyBudWxsLFxuXHRcdFx0XHR0eXBlOiBcInBob25lXCIsXG5cdFx0XHRcdGNoYW5uZWw6IFwidGVsbnl4XCIsXG5cdFx0XHRcdGRpcmVjdGlvbjogXCJvdXRib3VuZFwiLFxuXHRcdFx0XHRmcm9tX2FkZHJlc3M6IGZyb21BZGRyZXNzLFxuXHRcdFx0XHR0b19hZGRyZXNzOiB0b0FkZHJlc3MsXG5cdFx0XHRcdGJvZHk6IFwiXCIsXG5cdFx0XHRcdHN0YXR1czogXCJxdWV1ZWRcIixcblx0XHRcdFx0cHJpb3JpdHk6IFwibm9ybWFsXCIsXG5cdFx0XHRcdHBob25lX251bWJlcl9pZDogcGhvbmVOdW1iZXJJZCxcblx0XHRcdFx0aXNfYXJjaGl2ZWQ6IGZhbHNlLFxuXHRcdFx0XHRpc19hdXRvbWF0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRpc19pbnRlcm5hbDogZmFsc2UsXG5cdFx0XHRcdGlzX3RocmVhZF9zdGFydGVyOiB0cnVlLFxuXHRcdFx0XHR0ZWxueXhfY2FsbF9jb250cm9sX2lkOiByZXN1bHQuY2FsbENvbnRyb2xJZCxcblx0XHRcdFx0dGVsbnl4X2NhbGxfc2Vzc2lvbl9pZDogcmVzdWx0LmNhbGxTZXNzaW9uSWQsXG5cdFx0XHR9KVxuXHRcdFx0LnNlbGVjdCgpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdGNvbnNvbGUubG9nKFwi4pyFIENhbGwgY3JlYXRlZCBzdWNjZXNzZnVsbHk6XCIsIHtcblx0XHRcdGNhbGxDb250cm9sSWQ6IHJlc3VsdC5jYWxsQ29udHJvbElkLFxuXHRcdFx0Y29tbXVuaWNhdGlvbklkOiBkYXRhLmlkLFxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IHRydWUsXG5cdFx0XHRjYWxsQ29udHJvbElkOiByZXN1bHQuY2FsbENvbnRyb2xJZCxcblx0XHRcdGRhdGEsXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRjb25zb2xlLmVycm9yKFwi4p2MIG1ha2VDYWxsIGVycm9yOlwiLCBlcnJvcik7XG5cdFx0Y29uc29sZS5lcnJvcihcIkVycm9yIGRldGFpbHM6XCIsIHtcblx0XHRcdG1lc3NhZ2U6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKSxcblx0XHRcdHN0YWNrOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3Iuc3RhY2sgOiB1bmRlZmluZWQsXG5cdFx0fSk7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gbWFrZSBjYWxsXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIEFuc3dlciBhbiBpbmNvbWluZyBjYWxsXG4vKipcbiAqIEFuc3dlciBhbiBpbmNvbWluZyBjYWxsXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGFjY2VwdENhbGwoY2FsbENvbnRyb2xJZDogc3RyaW5nKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgdGVsbnl4V2ViaG9va1VybCA9IGF3YWl0IGdldFRlbG55eFdlYmhvb2tVcmwoKTtcblx0XHRpZiAoIXRlbG55eFdlYmhvb2tVcmwpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjpcblx0XHRcdFx0XHRcIlNpdGUgVVJMIGlzIG5vdCBjb25maWd1cmVkLiBTZXQgTkVYVF9QVUJMSUNfU0lURV9VUkwgb3IgU0lURV9VUkwgdG8gYSBwdWJsaWMgaHR0cHMgZG9tYWluLlwiLFxuXHRcdFx0fTtcblx0XHR9XG5cdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgYW5zd2VyQ2FsbCh7XG5cdFx0XHRjYWxsQ29udHJvbElkLFxuXHRcdFx0d2ViaG9va1VybDogdGVsbnl4V2ViaG9va1VybCxcblx0XHR9KTtcblxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gYW5zd2VyIGNhbGxcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogUmVqZWN0IGFuIGluY29taW5nIGNhbGxcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZGVjbGluZUNhbGwoY2FsbENvbnRyb2xJZDogc3RyaW5nKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgcmVqZWN0Q2FsbCh7XG5cdFx0XHRjYWxsQ29udHJvbElkLFxuXHRcdFx0Y2F1c2U6IFwiQ0FMTF9SRUpFQ1RFRFwiLFxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byByZWplY3QgY2FsbFwiLFxuXHRcdH07XG5cdH1cbn1cblxuLyoqXG4gKiBFbmQgYW4gYWN0aXZlIGNhbGxcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZW5kQ2FsbChjYWxsQ29udHJvbElkOiBzdHJpbmcpIHtcblx0dHJ5IHtcblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBoYW5ndXBDYWxsKHsgY2FsbENvbnRyb2xJZCB9KTtcblxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gZW5kIGNhbGxcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogU3RhcnQgcmVjb3JkaW5nIGEgY2FsbFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc3RhcnRDYWxsUmVjb3JkaW5nKGNhbGxDb250cm9sSWQ6IHN0cmluZykge1xuXHR0cnkge1xuXHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IHN0YXJ0UmVjb3JkaW5nKHtcblx0XHRcdGNhbGxDb250cm9sSWQsXG5cdFx0XHRmb3JtYXQ6IFwibXAzXCIsXG5cdFx0XHRjaGFubmVsczogXCJzaW5nbGVcIixcblx0XHR9KTtcblxuXHRcdHJldHVybiByZXN1bHQ7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gc3RhcnQgcmVjb3JkaW5nXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIFN0b3AgcmVjb3JkaW5nIGEgY2FsbFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc3RvcENhbGxSZWNvcmRpbmcoY2FsbENvbnRyb2xJZDogc3RyaW5nKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgc3RvcFJlY29yZGluZyh7IGNhbGxDb250cm9sSWQgfSk7XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiRmFpbGVkIHRvIHN0b3AgcmVjb3JkaW5nXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIFRyYW5zZmVyIGFuIGFjdGl2ZSBjYWxsIHRvIGFub3RoZXIgbnVtYmVyXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB0cmFuc2ZlckFjdGl2ZUNhbGwocGFyYW1zOiB7XG5cdGNhbGxDb250cm9sSWQ6IHN0cmluZztcblx0dG86IHN0cmluZztcblx0ZnJvbTogc3RyaW5nO1xufSkge1xuXHR0cnkge1xuXHRcdGNvbnN0IHsgdHJhbnNmZXJDYWxsIH0gPSBhd2FpdCBpbXBvcnQoXCJAL2xpYi90ZWxueXgvY2FsbHNcIik7XG5cdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgdHJhbnNmZXJDYWxsKHtcblx0XHRcdGNhbGxDb250cm9sSWQ6IHBhcmFtcy5jYWxsQ29udHJvbElkLFxuXHRcdFx0dG86IHBhcmFtcy50byxcblx0XHRcdGZyb206IHBhcmFtcy5mcm9tLFxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byB0cmFuc2ZlciBjYWxsXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIFRyYW5zY3JpYmUgYSBjYWxsIHJlY29yZGluZyB1c2luZyBBc3NlbWJseUFJXG4gKlxuICogU3VibWl0cyB0aGUgcmVjb3JkaW5nIFVSTCB0byBBc3NlbWJseUFJIGZvciBwb3N0LWNhbGwgdHJhbnNjcmlwdGlvbi5cbiAqIEFzc2VtYmx5QUkgd2lsbCBwcm9jZXNzIHRoZSBhdWRpbyBhbmQgc2VuZCB0aGUgdHJhbnNjcmlwdCB2aWEgd2ViaG9vay5cbiAqXG4gKiBAcGFyYW0gcmVjb3JkaW5nVXJsIC0gVVJMIG9mIHRoZSBjYWxsIHJlY29yZGluZyAoZnJvbSBUZWxueXgpXG4gKiBAcGFyYW0gY29tbXVuaWNhdGlvbklkIC0gRGF0YWJhc2UgSUQgb2YgdGhlIGNvbW11bmljYXRpb24gcmVjb3JkXG4gKiBAcmV0dXJucyBTdWNjZXNzL2Vycm9yIHJlc3BvbnNlIHdpdGggdHJhbnNjcmlwdGlvbiBqb2IgSURcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRyYW5zY3JpYmVDYWxsUmVjb3JkaW5nKHBhcmFtczoge1xuXHRyZWNvcmRpbmdVcmw6IHN0cmluZztcblx0Y29tbXVuaWNhdGlvbklkOiBzdHJpbmc7XG59KSB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgeyBzdWJtaXRUcmFuc2NyaXB0aW9uIH0gPSBhd2FpdCBpbXBvcnQoXCJAL2xpYi9hc3NlbWJseWFpL2NsaWVudFwiKTtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJTZXJ2aWNlIHVuYXZhaWxhYmxlXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCB3ZWJob29rVXJsID0gYXdhaXQgYnVpbGRBYnNvbHV0ZVVybChcIi9hcGkvd2ViaG9va3MvYXNzZW1ibHlhaVwiKTtcblx0XHRpZiAoIXdlYmhvb2tVcmwpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjpcblx0XHRcdFx0XHRcIlNpdGUgVVJMIGlzIG5vdCBjb25maWd1cmVkLiBTZXQgTkVYVF9QVUJMSUNfU0lURV9VUkwgb3IgU0lURV9VUkwuXCIsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdC8vIFN1Ym1pdCB0byBBc3NlbWJseUFJXG5cdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgc3VibWl0VHJhbnNjcmlwdGlvbih7XG5cdFx0XHRhdWRpb191cmw6IHBhcmFtcy5yZWNvcmRpbmdVcmwsXG5cdFx0XHRzcGVha2VyX2xhYmVsczogdHJ1ZSwgLy8gRW5hYmxlIHNwZWFrZXIgZGlhcml6YXRpb25cblx0XHRcdHdlYmhvb2tfdXJsOiB3ZWJob29rVXJsLFxuXHRcdH0pO1xuXG5cdFx0aWYgKCEocmVzdWx0LnN1Y2Nlc3MgJiYgcmVzdWx0LmRhdGEpKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IHJlc3VsdC5lcnJvciB8fCBcIkZhaWxlZCB0byBzdWJtaXQgdHJhbnNjcmlwdGlvblwiLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBTdG9yZSB0cmFuc2NyaXB0aW9uIGpvYiBJRCBpbiBkYXRhYmFzZVxuXHRcdGF3YWl0IG1lcmdlUHJvdmlkZXJNZXRhZGF0YShzdXBhYmFzZSwgcGFyYW1zLmNvbW11bmljYXRpb25JZCwge1xuXHRcdFx0YXNzZW1ibHlhaV90cmFuc2NyaXB0aW9uX2lkOiByZXN1bHQuZGF0YS5pZCxcblx0XHRcdGFzc2VtYmx5YWlfc3RhdHVzOiByZXN1bHQuZGF0YS5zdGF0dXMsXG5cdFx0fSk7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdHRyYW5zY3JpcHRpb25JZDogcmVzdWx0LmRhdGEuaWQsXG5cdFx0XHRzdGF0dXM6IHJlc3VsdC5kYXRhLnN0YXR1cyxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byB0cmFuc2NyaWJlIHJlY29yZGluZ1wiLFxuXHRcdH07XG5cdH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU01TIE9QRVJBVElPTlMgQUNUSU9OU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIFNlbmQgYW4gU01TIG1lc3NhZ2VcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRUZXh0TWVzc2FnZShwYXJhbXM6IHtcblx0dG86IHN0cmluZztcblx0ZnJvbTogc3RyaW5nO1xuXHR0ZXh0OiBzdHJpbmc7XG5cdGNvbXBhbnlJZD86IHN0cmluZzsgLy8gT3B0aW9uYWwgLSB3aWxsIGJlIGZldGNoZWQgaWYgbm90IHByb3ZpZGVkXG5cdGN1c3RvbWVySWQ/OiBzdHJpbmc7XG5cdGpvYklkPzogc3RyaW5nO1xuXHRpbnZvaWNlSWQ/OiBzdHJpbmc7XG5cdGVzdGltYXRlSWQ/OiBzdHJpbmc7XG59KSB7XG5cdHRyeSB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKFwi4p2MIFN1cGFiYXNlIGNsaWVudCB1bmF2YWlsYWJsZVwiKTtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJTZXJ2aWNlIHVuYXZhaWxhYmxlXCIgfTtcblx0XHR9XG5cblx0XHQvLyBHZXQgY29tcGFueSBJRCBpZiBub3QgcHJvdmlkZWRcblx0XHRsZXQgY29tcGFueUlkID0gcGFyYW1zLmNvbXBhbnlJZDtcblx0XHRpZiAoIWNvbXBhbnlJZCkge1xuXHRcdFx0Y29uc3QgeyBnZXRBY3RpdmVDb21wYW55SWQgfSA9IGF3YWl0IGltcG9ydChcIkAvbGliL2F1dGgvY29tcGFueS1jb250ZXh0XCIpO1xuXHRcdFx0Y29tcGFueUlkID0gYXdhaXQgZ2V0QWN0aXZlQ29tcGFueUlkKCk7XG5cdFx0XHRpZiAoIWNvbXBhbnlJZCkge1xuXHRcdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm8gYWN0aXZlIGNvbXBhbnkgZm91bmRcIiB9O1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGNvbnNvbGUubG9nKFwi8J+TsSBTTVMgU2VuZCBSZXF1ZXN0OlwiLCB7XG5cdFx0XHR0bzogcGFyYW1zLnRvLFxuXHRcdFx0ZnJvbTogcGFyYW1zLmZyb20sXG5cdFx0XHRjb21wYW55SWQsXG5cdFx0fSk7XG5cblx0XHRjb25zdCBjb21wYW55U2V0dGluZ3MgPSBhd2FpdCBnZXRDb21wYW55VGVsbnl4U2V0dGluZ3MoXG5cdFx0XHRzdXBhYmFzZSxcblx0XHRcdGNvbXBhbnlJZCxcblx0XHQpO1xuXHRcdGlmICghY29tcGFueVNldHRpbmdzKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKFwi4p2MIENvbXBhbnkgc2V0dGluZ3Mgbm90IGZvdW5kXCIpO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOlxuXHRcdFx0XHRcdFwiVW5hYmxlIHRvIHByb3Zpc2lvbiBUZWxueXggcmVzb3VyY2VzIGZvciB0aGlzIGNvbXBhbnkuIFBsZWFzZSB2ZXJpZnkgdGhlIGNvbXBhbnkncyBvbmJvYXJkaW5nIGlzIGNvbXBsZXRlIGFuZCB0cnkgYWdhaW4uXCIsXG5cdFx0XHR9O1xuXHRcdH1cblx0XHRjb25zb2xlLmxvZyhcIuKchSBDb21wYW55IHNldHRpbmdzIGxvYWRlZDpcIiwge1xuXHRcdFx0bWVzc2FnaW5nUHJvZmlsZUlkOiBjb21wYW55U2V0dGluZ3MubWVzc2FnaW5nX3Byb2ZpbGVfaWQsXG5cdFx0XHRkZWZhdWx0TnVtYmVyOiBjb21wYW55U2V0dGluZ3MuZGVmYXVsdF9vdXRib3VuZF9udW1iZXIsXG5cdFx0fSk7XG5cblx0XHRhd2FpdCBlbnN1cmVQaG9uZU51bWJlclJlY29yZEV4aXN0cyhcblx0XHRcdHN1cGFiYXNlLFxuXHRcdFx0Y29tcGFueUlkLFxuXHRcdFx0Y29tcGFueVNldHRpbmdzLmRlZmF1bHRfb3V0Ym91bmRfbnVtYmVyLFxuXHRcdCk7XG5cblx0XHRjb25zdCBzbXNDb25maWcgPSBhd2FpdCB2YWxpZGF0ZVNtc0NvbmZpZygpO1xuXHRcdGlmICghc21zQ29uZmlnLnZhbGlkICYmICFjb21wYW55U2V0dGluZ3M/Lm1lc3NhZ2luZ19wcm9maWxlX2lkKSB7XG5cdFx0XHRsZXQgZXJyb3JNZXNzYWdlID0gc21zQ29uZmlnLmVycm9yIHx8IFwiU01TIGNvbmZpZ3VyYXRpb24gaXMgaW52YWxpZFwiO1xuXHRcdFx0aWYgKHNtc0NvbmZpZy5zdWdnZXN0ZWRQcm9maWxlSWQpIHtcblx0XHRcdFx0ZXJyb3JNZXNzYWdlICs9IGAgRm91bmQgbWVzc2FnaW5nIHByb2ZpbGUgXCIke3Ntc0NvbmZpZy5zdWdnZXN0ZWRQcm9maWxlSWR9XCIgaW4geW91ciBUZWxueXggYWNjb3VudC4gU2V0IFRFTE5ZWF9ERUZBVUxUX01FU1NBR0lOR19QUk9GSUxFX0lEPSR7c21zQ29uZmlnLnN1Z2dlc3RlZFByb2ZpbGVJZH0gb3IgcHJvdmlzaW9uIGNvbXBhbnktc3BlY2lmaWMgc2V0dGluZ3MuYDtcblx0XHRcdH1cblx0XHRcdGNvbnNvbGUuZXJyb3IoXCLinYwgU01TIGNvbmZpZyBpbnZhbGlkOlwiLCBlcnJvck1lc3NhZ2UpO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOiBlcnJvck1lc3NhZ2UsXG5cdFx0XHR9O1xuXHRcdH1cblx0XHRjb25zb2xlLmxvZyhcIuKchSBTTVMgY29uZmlnIHZhbGlkXCIpO1xuXG5cdFx0Y29uc3QgbWVzc2FnaW5nUHJvZmlsZUlkID1cblx0XHRcdGNvbXBhbnlTZXR0aW5ncz8ubWVzc2FnaW5nX3Byb2ZpbGVfaWQgfHwgREVGQVVMVF9NRVNTQUdJTkdfUFJPRklMRV9JRDtcblx0XHRpZiAoIW1lc3NhZ2luZ1Byb2ZpbGVJZCkge1xuXHRcdFx0Y29uc29sZS5lcnJvcihcIuKdjCBObyBtZXNzYWdpbmcgcHJvZmlsZSBJRFwiKTtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjpcblx0XHRcdFx0XHRcIk1lc3NhZ2luZyBwcm9maWxlIGlzIG5vdCBjb25maWd1cmVkIGZvciB0aGlzIGNvbXBhbnkuIFBsZWFzZSBwcm92aXNpb24gY29tbXVuaWNhdGlvbnMgYmVmb3JlIHNlbmRpbmcgU01TLlwiLFxuXHRcdFx0fTtcblx0XHR9XG5cdFx0Y29uc29sZS5sb2coXCLinIUgVXNpbmcgbWVzc2FnaW5nIHByb2ZpbGU6XCIsIG1lc3NhZ2luZ1Byb2ZpbGVJZCk7XG5cblx0XHRpZiAobWVzc2FnaW5nUHJvZmlsZUlkKSB7XG5cdFx0XHRjb25zdCBtZXNzYWdpbmdQcm9maWxlU3RhdHVzID1cblx0XHRcdFx0YXdhaXQgdmVyaWZ5TWVzc2FnaW5nUHJvZmlsZShtZXNzYWdpbmdQcm9maWxlSWQpO1xuXHRcdFx0aWYgKG1lc3NhZ2luZ1Byb2ZpbGVTdGF0dXMubmVlZHNGaXgpIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihcblx0XHRcdFx0XHRcIuKdjCBNZXNzYWdpbmcgcHJvZmlsZSBuZWVkcyBmaXg6XCIsXG5cdFx0XHRcdFx0bWVzc2FnaW5nUHJvZmlsZVN0YXR1cy5pc3N1ZXMsXG5cdFx0XHRcdCk7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdFx0ZXJyb3I6IGBNZXNzYWdpbmcgcHJvZmlsZSBjb25maWd1cmF0aW9uIGlzc3VlOiAke21lc3NhZ2luZ1Byb2ZpbGVTdGF0dXMuaXNzdWVzLmpvaW4oXCIsIFwiKX0uIFJ1biBmaXhNZXNzYWdpbmdQcm9maWxlKCkgb3IgcmVwcm92aXNpb24gdGhlIGNvbXBhbnkuYCxcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHRcdGNvbnNvbGUubG9nKFwi4pyFIE1lc3NhZ2luZyBwcm9maWxlIHZlcmlmaWVkXCIpO1xuXHRcdH1cblxuXHRcdGNvbnN0IGZyb21BZGRyZXNzID0gYXdhaXQgcmVzb2x2ZU91dGJvdW5kUGhvbmVOdW1iZXIoXG5cdFx0XHRzdXBhYmFzZSxcblx0XHRcdGNvbXBhbnlJZCxcblx0XHRcdHBhcmFtcy5mcm9tLFxuXHRcdFx0Y29tcGFueVNldHRpbmdzLmRlZmF1bHRfb3V0Ym91bmRfbnVtYmVyLFxuXHRcdCk7XG5cdFx0aWYgKCFmcm9tQWRkcmVzcykge1xuXHRcdFx0Y29uc29sZS5lcnJvcihcIuKdjCBObyBmcm9tIG51bWJlciBhdmFpbGFibGVcIik7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6XG5cdFx0XHRcdFx0XCJDb21wYW55IGRvZXMgbm90IGhhdmUgYSBkZWZhdWx0IG91dGJvdW5kIHBob25lIG51bWJlciBjb25maWd1cmVkLiBQbGVhc2UgcHJvdmlzaW9uIG51bWJlcnMgZmlyc3QuXCIsXG5cdFx0XHR9O1xuXHRcdH1cblx0XHRjb25zdCB0b0FkZHJlc3MgPSBub3JtYWxpemVQaG9uZU51bWJlcihwYXJhbXMudG8pO1xuXHRcdGNvbnNvbGUubG9nKFwi4pyFIFBob25lIG51bWJlcnMgbm9ybWFsaXplZDpcIiwge1xuXHRcdFx0ZnJvbTogZnJvbUFkZHJlc3MsXG5cdFx0XHR0bzogdG9BZGRyZXNzLFxuXHRcdH0pO1xuXG5cdFx0Ly8gVmVyaWZ5IHBob25lIG51bWJlciBoYXMgU01TIGNhcGFiaWxpdHlcblx0XHRjb25zb2xlLmxvZyhcIvCflI0gVmVyaWZ5aW5nIFNNUyBjYXBhYmlsaXR5IGZvcjpcIiwgZnJvbUFkZHJlc3MpO1xuXHRcdGNvbnN0IHNtc0NhcGFiaWxpdHkgPSBhd2FpdCB2ZXJpZnlTbXNDYXBhYmlsaXR5KGZyb21BZGRyZXNzKTtcblx0XHRpZiAoIXNtc0NhcGFiaWxpdHkuaGFzU21zKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKFwi4p2MIFNNUyBjYXBhYmlsaXR5IGNoZWNrIGZhaWxlZDpcIiwgc21zQ2FwYWJpbGl0eS5lcnJvcik7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IHNtc0NhcGFiaWxpdHkuZXJyb3IgfHwgXCJQaG9uZSBudW1iZXIgZG9lcyBub3Qgc3VwcG9ydCBTTVNcIixcblx0XHRcdH07XG5cdFx0fVxuXHRcdGNvbnNvbGUubG9nKFwi4pyFIFNNUyBjYXBhYmlsaXR5IHZlcmlmaWVkXCIpO1xuXG5cdFx0Y29uc3Qgd2ViaG9va1VybCA9IGF3YWl0IGdldFRlbG55eFdlYmhvb2tVcmwoY29tcGFueUlkKTtcblx0XHRpZiAoIXdlYmhvb2tVcmwpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoXCLinYwgTm8gd2ViaG9vayBVUkxcIik7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6XG5cdFx0XHRcdFx0XCJTaXRlIFVSTCBpcyBub3QgY29uZmlndXJlZC4gU2V0IE5FWFRfUFVCTElDX1NJVEVfVVJMIG9yIFNJVEVfVVJMIHRvIGEgcHVibGljIGh0dHBzIGRvbWFpbi5cIixcblx0XHRcdH07XG5cdFx0fVxuXHRcdGNvbnNvbGUubG9nKFwi4pyFIFdlYmhvb2sgVVJMOlwiLCB3ZWJob29rVXJsKTtcblxuXHRcdC8vIFNlbmQgU01TIHZpYSBUZWxueXhcblx0XHRjb25zb2xlLmxvZyhcIvCfk6QgU2VuZGluZyBTTVMgdmlhIFRlbG55eCBBUEkuLi5cIik7XG5cdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgc2VuZFNNUyh7XG5cdFx0XHR0bzogdG9BZGRyZXNzLFxuXHRcdFx0ZnJvbTogZnJvbUFkZHJlc3MsXG5cdFx0XHR0ZXh0OiBwYXJhbXMudGV4dCxcblx0XHRcdHdlYmhvb2tVcmwsXG5cdFx0XHRtZXNzYWdpbmdQcm9maWxlSWQsXG5cdFx0fSk7XG5cblx0XHRpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKFwi4p2MIFRlbG55eCBBUEkgZmFpbGVkOlwiLCByZXN1bHQuZXJyb3IpO1xuXG5cdFx0XHQvLyBDaGVjayBpZiBlcnJvciBpcyAxMERMQyByZWdpc3RyYXRpb24gcmVxdWlyZWRcblx0XHRcdGlmIChcblx0XHRcdFx0cmVzdWx0LmVycm9yICYmXG5cdFx0XHRcdChyZXN1bHQuZXJyb3IuaW5jbHVkZXMoXCIxMERMQ1wiKSB8fFxuXHRcdFx0XHRcdHJlc3VsdC5lcnJvci5pbmNsdWRlcyhcIk5vdCAxMERMQyByZWdpc3RlcmVkXCIpIHx8XG5cdFx0XHRcdFx0cmVzdWx0LmVycm9yLmluY2x1ZGVzKFwiQTJQXCIpKVxuXHRcdFx0KSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKFxuXHRcdFx0XHRcdFwi8J+UhCBEZXRlY3RlZCAxMERMQyByZWdpc3RyYXRpb24gcmVxdWlyZWQsIGF0dGVtcHRpbmcgYXV0by1yZWdpc3RyYXRpb24uLi5cIixcblx0XHRcdFx0KTtcblxuXHRcdFx0XHQvLyBJbXBvcnQgMTBETEMgcmVnaXN0cmF0aW9uIGZ1bmN0aW9uXG5cdFx0XHRcdGNvbnN0IHsgcmVnaXN0ZXJDb21wYW55Rm9yMTBETEMgfSA9IGF3YWl0IGltcG9ydChcblx0XHRcdFx0XHRcIkAvYWN0aW9ucy90ZW4tZGxjLXJlZ2lzdHJhdGlvblwiXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0Y29uc3QgcmVnaXN0cmF0aW9uUmVzdWx0ID0gYXdhaXQgcmVnaXN0ZXJDb21wYW55Rm9yMTBETEMoXG5cdFx0XHRcdFx0Y29tcGFueUlkLFxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdGlmIChyZWdpc3RyYXRpb25SZXN1bHQuc3VjY2Vzcykge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKFwi4pyFIDEwRExDIHJlZ2lzdHJhdGlvbiBzdWNjZXNzZnVsLCByZXRyeWluZyBTTVMgc2VuZC4uLlwiKTtcblxuXHRcdFx0XHRcdC8vIFJldHJ5IHRoZSBTTVMgc2VuZCBub3cgdGhhdCAxMERMQyBpcyByZWdpc3RlcmVkXG5cdFx0XHRcdFx0Y29uc3QgcmV0cnlSZXN1bHQgPSBhd2FpdCBzZW5kU01TKHtcblx0XHRcdFx0XHRcdHRvOiB0b0FkZHJlc3MsXG5cdFx0XHRcdFx0XHRmcm9tOiBmcm9tQWRkcmVzcyxcblx0XHRcdFx0XHRcdHRleHQ6IHBhcmFtcy50ZXh0LFxuXHRcdFx0XHRcdFx0d2ViaG9va1VybCxcblx0XHRcdFx0XHRcdG1lc3NhZ2luZ1Byb2ZpbGVJZCxcblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdGlmICghcmV0cnlSZXN1bHQuc3VjY2Vzcykge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdFx0XHRcdGVycm9yOiBgMTBETEMgcmVnaXN0cmF0aW9uIGNvbXBsZXRlZCBidXQgU01TIHN0aWxsIGZhaWxlZDogJHtyZXRyeVJlc3VsdC5lcnJvcn0uIFRoZSBjYW1wYWlnbiBtYXkgbmVlZCBhZGRpdGlvbmFsIGFwcHJvdmFsIHRpbWUuYCxcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gVXBkYXRlIHJlc3VsdCB3aXRoIHJldHJ5IHN1Y2Nlc3Ncblx0XHRcdFx0XHRyZXN1bHQuc3VjY2VzcyA9IHRydWU7XG5cdFx0XHRcdFx0cmVzdWx0Lm1lc3NhZ2VJZCA9IHJldHJ5UmVzdWx0Lm1lc3NhZ2VJZDtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIuKchSBTTVMgcmV0cnkgc3VjY2Vzc2Z1bCBhZnRlciAxMERMQyByZWdpc3RyYXRpb25cIik7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRcdFx0ZXJyb3I6IGAxMERMQyByZWdpc3RyYXRpb24gZmFpbGVkOiAke3JlZ2lzdHJhdGlvblJlc3VsdC5lcnJvcn0uIE9yaWdpbmFsIGVycm9yOiAke3Jlc3VsdC5lcnJvcn1gLFxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdGNvbnNvbGUubG9nKFwi4pyFIFRlbG55eCBBUEkgc3VjY2VzczpcIiwgcmVzdWx0Lm1lc3NhZ2VJZCk7XG5cblx0XHQvLyBDcmVhdGUgY29tbXVuaWNhdGlvbiByZWNvcmRcblx0XHRjb25zb2xlLmxvZyhcIvCfkr4gQ3JlYXRpbmcgY29tbXVuaWNhdGlvbiByZWNvcmQgaW4gZGF0YWJhc2UuLi5cIik7XG5cdFx0Y29uc3QgcGhvbmVOdW1iZXJJZCA9IGF3YWl0IGdldFBob25lTnVtYmVySWQoc3VwYWJhc2UsIGZyb21BZGRyZXNzKTtcblx0XHRjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjb21tdW5pY2F0aW9uc1wiKVxuXHRcdFx0Lmluc2VydCh7XG5cdFx0XHRcdGNvbXBhbnlfaWQ6IGNvbXBhbnlJZCxcblx0XHRcdFx0Y3VzdG9tZXJfaWQ6IHBhcmFtcy5jdXN0b21lcklkLFxuXHRcdFx0XHRqb2JfaWQ6IHBhcmFtcy5qb2JJZCA/PyBudWxsLFxuXHRcdFx0XHRpbnZvaWNlX2lkOiBwYXJhbXMuaW52b2ljZUlkID8/IG51bGwsXG5cdFx0XHRcdGVzdGltYXRlX2lkOiBwYXJhbXMuZXN0aW1hdGVJZCA/PyBudWxsLFxuXHRcdFx0XHR0eXBlOiBcInNtc1wiLFxuXHRcdFx0XHRjaGFubmVsOiBcInRlbG55eFwiLFxuXHRcdFx0XHRkaXJlY3Rpb246IFwib3V0Ym91bmRcIixcblx0XHRcdFx0ZnJvbV9hZGRyZXNzOiBmcm9tQWRkcmVzcyxcblx0XHRcdFx0dG9fYWRkcmVzczogdG9BZGRyZXNzLFxuXHRcdFx0XHRib2R5OiBwYXJhbXMudGV4dCxcblx0XHRcdFx0c3RhdHVzOiBcInF1ZXVlZFwiLFxuXHRcdFx0XHRwcmlvcml0eTogXCJub3JtYWxcIixcblx0XHRcdFx0cGhvbmVfbnVtYmVyX2lkOiBwaG9uZU51bWJlcklkLFxuXHRcdFx0XHRpc19hcmNoaXZlZDogZmFsc2UsXG5cdFx0XHRcdGlzX2F1dG9tYXRlZDogZmFsc2UsXG5cdFx0XHRcdGlzX2ludGVybmFsOiBmYWxzZSxcblx0XHRcdFx0aXNfdGhyZWFkX3N0YXJ0ZXI6IHRydWUsXG5cdFx0XHRcdHRlbG55eF9tZXNzYWdlX2lkOiByZXN1bHQubWVzc2FnZUlkLFxuXHRcdFx0fSlcblx0XHRcdC5zZWxlY3QoKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvY29tbXVuaWNhdGlvblwiKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0bWVzc2FnZUlkOiByZXN1bHQubWVzc2FnZUlkLFxuXHRcdFx0ZGF0YSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoXCJTTVMgc2VuZCBlcnJvcjpcIiwgZXJyb3IpO1xuXHRcdGNvbnNvbGUuZXJyb3IoXCJFcnJvciBkZXRhaWxzOlwiLCB7XG5cdFx0XHRtZXNzYWdlOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvciksXG5cdFx0XHRzdGFjazogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLnN0YWNrIDogdW5kZWZpbmVkLFxuXHRcdFx0dHlwZTogdHlwZW9mIGVycm9yLFxuXHRcdFx0c3RyaW5naWZpZWQ6IEpTT04uc3RyaW5naWZ5KGVycm9yLCBudWxsLCAyKSxcblx0XHR9KTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogYEZhaWxlZCB0byBzZW5kIFNNUzogJHtTdHJpbmcoZXJyb3IpfWAsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIFNlbmQgYW4gTU1TIG1lc3NhZ2Ugd2l0aCBtZWRpYVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZE1NU01lc3NhZ2UocGFyYW1zOiB7XG5cdHRvOiBzdHJpbmc7XG5cdGZyb206IHN0cmluZztcblx0dGV4dD86IHN0cmluZztcblx0bWVkaWFVcmxzOiBzdHJpbmdbXTtcblx0Y29tcGFueUlkPzogc3RyaW5nOyAvLyBPcHRpb25hbCAtIHdpbGwgYmUgZmV0Y2hlZCBpZiBub3QgcHJvdmlkZWRcblx0Y3VzdG9tZXJJZD86IHN0cmluZztcblx0am9iSWQ/OiBzdHJpbmc7XG5cdHByb3BlcnR5SWQ/OiBzdHJpbmc7XG5cdGludm9pY2VJZD86IHN0cmluZztcblx0ZXN0aW1hdGVJZD86IHN0cmluZztcbn0pIHtcblx0dHJ5IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJTZXJ2aWNlIHVuYXZhaWxhYmxlXCIgfTtcblx0XHR9XG5cblx0XHQvLyBHZXQgY29tcGFueSBJRCBpZiBub3QgcHJvdmlkZWRcblx0XHRsZXQgY29tcGFueUlkID0gcGFyYW1zLmNvbXBhbnlJZDtcblx0XHRpZiAoIWNvbXBhbnlJZCkge1xuXHRcdFx0Y29uc3QgeyBnZXRBY3RpdmVDb21wYW55SWQgfSA9IGF3YWl0IGltcG9ydChcIkAvbGliL2F1dGgvY29tcGFueS1jb250ZXh0XCIpO1xuXHRcdFx0Y29tcGFueUlkID0gYXdhaXQgZ2V0QWN0aXZlQ29tcGFueUlkKCk7XG5cdFx0XHRpZiAoIWNvbXBhbnlJZCkge1xuXHRcdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm8gYWN0aXZlIGNvbXBhbnkgZm91bmRcIiB9O1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGNvbnN0IGNvbXBhbnlTZXR0aW5ncyA9IGF3YWl0IGdldENvbXBhbnlUZWxueXhTZXR0aW5ncyhcblx0XHRcdHN1cGFiYXNlLFxuXHRcdFx0Y29tcGFueUlkLFxuXHRcdCk7XG5cdFx0aWYgKCFjb21wYW55U2V0dGluZ3MpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjpcblx0XHRcdFx0XHRcIlVuYWJsZSB0byBwcm92aXNpb24gVGVsbnl4IHJlc291cmNlcyBmb3IgdGhpcyBjb21wYW55LiBQbGVhc2UgdmVyaWZ5IG9uYm9hcmRpbmcgaXMgY29tcGxldGUuXCIsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGF3YWl0IGVuc3VyZVBob25lTnVtYmVyUmVjb3JkRXhpc3RzKFxuXHRcdFx0c3VwYWJhc2UsXG5cdFx0XHRjb21wYW55SWQsXG5cdFx0XHRjb21wYW55U2V0dGluZ3MuZGVmYXVsdF9vdXRib3VuZF9udW1iZXIsXG5cdFx0KTtcblxuXHRcdGNvbnN0IHNtc0NvbmZpZyA9IGF3YWl0IHZhbGlkYXRlU21zQ29uZmlnKCk7XG5cdFx0aWYgKCFzbXNDb25maWcudmFsaWQgJiYgIWNvbXBhbnlTZXR0aW5ncy5tZXNzYWdpbmdfcHJvZmlsZV9pZCkge1xuXHRcdFx0bGV0IGVycm9yTWVzc2FnZSA9IHNtc0NvbmZpZy5lcnJvciB8fCBcIlNNUyBjb25maWd1cmF0aW9uIGlzIGludmFsaWRcIjtcblx0XHRcdGlmIChzbXNDb25maWcuc3VnZ2VzdGVkUHJvZmlsZUlkKSB7XG5cdFx0XHRcdGVycm9yTWVzc2FnZSArPSBgIEZvdW5kIG1lc3NhZ2luZyBwcm9maWxlIFwiJHtzbXNDb25maWcuc3VnZ2VzdGVkUHJvZmlsZUlkfVwiIGluIHlvdXIgVGVsbnl4IGFjY291bnQuIFNldCBURUxOWVhfREVGQVVMVF9NRVNTQUdJTkdfUFJPRklMRV9JRD0ke3Ntc0NvbmZpZy5zdWdnZXN0ZWRQcm9maWxlSWR9IG9yIHJlcHJvdmlzaW9uIHRoZSBjb21wYW55LmA7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGVycm9yTWVzc2FnZSxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Y29uc3QgbWVzc2FnaW5nUHJvZmlsZUlkID1cblx0XHRcdGNvbXBhbnlTZXR0aW5ncy5tZXNzYWdpbmdfcHJvZmlsZV9pZCB8fCBERUZBVUxUX01FU1NBR0lOR19QUk9GSUxFX0lEO1xuXHRcdGlmICghbWVzc2FnaW5nUHJvZmlsZUlkKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6XG5cdFx0XHRcdFx0XCJNZXNzYWdpbmcgcHJvZmlsZSBpcyBub3QgY29uZmlndXJlZCBmb3IgdGhpcyBjb21wYW55LiBQbGVhc2UgcHJvdmlzaW9uIGNvbW11bmljYXRpb25zIGJlZm9yZSBzZW5kaW5nIE1NUy5cIixcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Y29uc3QgZnJvbUFkZHJlc3MgPSBhd2FpdCByZXNvbHZlT3V0Ym91bmRQaG9uZU51bWJlcihcblx0XHRcdHN1cGFiYXNlLFxuXHRcdFx0Y29tcGFueUlkLFxuXHRcdFx0cGFyYW1zLmZyb20sXG5cdFx0XHRjb21wYW55U2V0dGluZ3MuZGVmYXVsdF9vdXRib3VuZF9udW1iZXIsXG5cdFx0KTtcblx0XHRpZiAoIWZyb21BZGRyZXNzKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6XG5cdFx0XHRcdFx0XCJDb21wYW55IGRvZXMgbm90IGhhdmUgYSBkZWZhdWx0IG91dGJvdW5kIHBob25lIG51bWJlciBjb25maWd1cmVkLlwiLFxuXHRcdFx0fTtcblx0XHR9XG5cdFx0Y29uc3QgdG9BZGRyZXNzID0gbm9ybWFsaXplUGhvbmVOdW1iZXIocGFyYW1zLnRvKTtcblxuXHRcdGNvbnN0IHdlYmhvb2tVcmwgPSBhd2FpdCBnZXRUZWxueXhXZWJob29rVXJsKGNvbXBhbnlJZCk7XG5cdFx0aWYgKCF3ZWJob29rVXJsKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6XG5cdFx0XHRcdFx0XCJTaXRlIFVSTCBpcyBub3QgY29uZmlndXJlZC4gU2V0IE5FWFRfUFVCTElDX1NJVEVfVVJMIG9yIFNJVEVfVVJMIHRvIGEgcHVibGljIGh0dHBzIGRvbWFpbi5cIixcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKG1lc3NhZ2luZ1Byb2ZpbGVJZCkge1xuXHRcdFx0Y29uc3QgbWVzc2FnaW5nUHJvZmlsZVN0YXR1cyA9XG5cdFx0XHRcdGF3YWl0IHZlcmlmeU1lc3NhZ2luZ1Byb2ZpbGUobWVzc2FnaW5nUHJvZmlsZUlkKTtcblx0XHRcdGlmIChtZXNzYWdpbmdQcm9maWxlU3RhdHVzLm5lZWRzRml4KSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdFx0ZXJyb3I6IGBNZXNzYWdpbmcgcHJvZmlsZSBjb25maWd1cmF0aW9uIGlzc3VlOiAke21lc3NhZ2luZ1Byb2ZpbGVTdGF0dXMuaXNzdWVzLmpvaW4oXCIsIFwiKX0uIFJ1biBmaXhNZXNzYWdpbmdQcm9maWxlKCkgb3IgcmVwcm92aXNpb24gdGhlIGNvbXBhbnkuYCxcblx0XHRcdFx0fTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRjb25zdCBzbXNDYXBhYmlsaXR5ID0gYXdhaXQgdmVyaWZ5U21zQ2FwYWJpbGl0eShmcm9tQWRkcmVzcyk7XG5cdFx0aWYgKCFzbXNDYXBhYmlsaXR5Lmhhc1Ntcykge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOiBzbXNDYXBhYmlsaXR5LmVycm9yIHx8IFwiUGhvbmUgbnVtYmVyIGRvZXMgbm90IHN1cHBvcnQgU01TL01NU1wiLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kTU1TKHtcblx0XHRcdHRvOiB0b0FkZHJlc3MsXG5cdFx0XHRmcm9tOiBmcm9tQWRkcmVzcyxcblx0XHRcdHRleHQ6IHBhcmFtcy50ZXh0LFxuXHRcdFx0bWVkaWFVcmxzOiBwYXJhbXMubWVkaWFVcmxzLFxuXHRcdFx0d2ViaG9va1VybCxcblx0XHRcdG1lc3NhZ2luZ1Byb2ZpbGVJZCxcblx0XHR9KTtcblxuXHRcdGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fVxuXG5cdFx0Y29uc3QgcGhvbmVOdW1iZXJJZCA9IGF3YWl0IGdldFBob25lTnVtYmVySWQoc3VwYWJhc2UsIGZyb21BZGRyZXNzKTtcblx0XHRjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjb21tdW5pY2F0aW9uc1wiKVxuXHRcdFx0Lmluc2VydCh7XG5cdFx0XHRcdGNvbXBhbnlfaWQ6IGNvbXBhbnlJZCxcblx0XHRcdFx0Y3VzdG9tZXJfaWQ6IHBhcmFtcy5jdXN0b21lcklkLFxuXHRcdFx0XHRqb2JfaWQ6IHBhcmFtcy5qb2JJZCA/PyBudWxsLFxuXHRcdFx0XHRwcm9wZXJ0eV9pZDogcGFyYW1zLnByb3BlcnR5SWQgPz8gbnVsbCxcblx0XHRcdFx0aW52b2ljZV9pZDogcGFyYW1zLmludm9pY2VJZCA/PyBudWxsLFxuXHRcdFx0XHRlc3RpbWF0ZV9pZDogcGFyYW1zLmVzdGltYXRlSWQgPz8gbnVsbCxcblx0XHRcdFx0dHlwZTogXCJzbXNcIixcblx0XHRcdFx0Y2hhbm5lbDogXCJ0ZWxueXhcIixcblx0XHRcdFx0ZGlyZWN0aW9uOiBcIm91dGJvdW5kXCIsXG5cdFx0XHRcdGZyb21fYWRkcmVzczogZnJvbUFkZHJlc3MsXG5cdFx0XHRcdHRvX2FkZHJlc3M6IHRvQWRkcmVzcyxcblx0XHRcdFx0Ym9keTogcGFyYW1zLnRleHQgfHwgXCJcIixcblx0XHRcdFx0YXR0YWNobWVudHM6IHBhcmFtcy5tZWRpYVVybHMubWFwKCh1cmwpID0+ICh7IHVybCwgdHlwZTogXCJpbWFnZVwiIH0pKSxcblx0XHRcdFx0YXR0YWNobWVudF9jb3VudDogcGFyYW1zLm1lZGlhVXJscy5sZW5ndGgsXG5cdFx0XHRcdHN0YXR1czogXCJxdWV1ZWRcIixcblx0XHRcdFx0cHJpb3JpdHk6IFwibm9ybWFsXCIsXG5cdFx0XHRcdHBob25lX251bWJlcl9pZDogcGhvbmVOdW1iZXJJZCxcblx0XHRcdFx0aXNfYXJjaGl2ZWQ6IGZhbHNlLFxuXHRcdFx0XHRpc19hdXRvbWF0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRpc19pbnRlcm5hbDogZmFsc2UsXG5cdFx0XHRcdGlzX3RocmVhZF9zdGFydGVyOiB0cnVlLFxuXHRcdFx0XHR0ZWxueXhfbWVzc2FnZV9pZDogcmVzdWx0Lm1lc3NhZ2VJZCxcblx0XHRcdH0pXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL2NvbW11bmljYXRpb25cIik7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdG1lc3NhZ2VJZDogcmVzdWx0Lm1lc3NhZ2VJZCxcblx0XHRcdGRhdGEsXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byBzZW5kIE1NU1wiLFxuXHRcdH07XG5cdH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gV0VCUlRDIE9QRVJBVElPTlMgQUNUSU9OU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIEdlbmVyYXRlIFdlYlJUQyBjcmVkZW50aWFscyBmb3IgYnJvd3NlciBjYWxsaW5nXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRXZWJSVENDcmVkZW50aWFscygpIHtcblx0dHJ5IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJTZXJ2aWNlIHVuYXZhaWxhYmxlXCIgfTtcblx0XHR9XG5cblx0XHQvLyBHZXQgY3VycmVudCB1c2VyXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0XHRlcnJvcjogdXNlckVycm9yLFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblx0XHRpZiAodXNlckVycm9yIHx8ICF1c2VyKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IFwiVXNlciBub3QgYXV0aGVudGljYXRlZFwiLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBPUFRJT04gMTogVXNlIHN0YXRpYyBjcmVkZW50aWFscyBmcm9tIGVudmlyb25tZW50IChyZWNvbW1lbmRlZCBmb3IgcHJvZHVjdGlvbilcblx0XHRjb25zdCBzdGF0aWNVc2VybmFtZSA9IHByb2Nlc3MuZW52LlRFTE5ZWF9XRUJSVENfVVNFUk5BTUU7XG5cdFx0Y29uc3Qgc3RhdGljUGFzc3dvcmQgPSBwcm9jZXNzLmVudi5URUxOWVhfV0VCUlRDX1BBU1NXT1JEO1xuXG5cdFx0aWYgKHN0YXRpY1VzZXJuYW1lICYmIHN0YXRpY1Bhc3N3b3JkKSB7XG5cdFx0XHRjb25zdCBjcmVkZW50aWFsID0ge1xuXHRcdFx0XHR1c2VybmFtZTogc3RhdGljVXNlcm5hbWUsXG5cdFx0XHRcdHBhc3N3b3JkOiBzdGF0aWNQYXNzd29yZCxcblx0XHRcdFx0ZXhwaXJlc19hdDogRGF0ZS5ub3coKSArIDg2XzQwMCAqIDEwMDAsIC8vIDI0IGhvdXJzIGZyb20gbm93XG5cdFx0XHRcdHJlYWxtOiBcInNpcC50ZWxueXguY29tXCIsXG5cdFx0XHRcdHNpcF91cmk6IGBzaXA6JHtzdGF0aWNVc2VybmFtZX1Ac2lwLnRlbG55eC5jb21gLFxuXHRcdFx0XHRzdHVuX3NlcnZlcnM6IFtcblx0XHRcdFx0XHRcInN0dW46c3R1bi50ZWxueXguY29tOjM0NzhcIixcblx0XHRcdFx0XHRcInN0dW46c3R1bi50ZWxueXguY29tOjM0NzlcIixcblx0XHRcdFx0XSxcblx0XHRcdFx0dHVybl9zZXJ2ZXJzOiBbXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0dXJsczogW1xuXHRcdFx0XHRcdFx0XHRcInR1cm46dHVybi50ZWxueXguY29tOjM0Nzg/dHJhbnNwb3J0PXVkcFwiLFxuXHRcdFx0XHRcdFx0XHRcInR1cm46dHVybi50ZWxueXguY29tOjM0Nzg/dHJhbnNwb3J0PXRjcFwiLFxuXHRcdFx0XHRcdFx0XSxcblx0XHRcdFx0XHRcdHVzZXJuYW1lOiBzdGF0aWNVc2VybmFtZSxcblx0XHRcdFx0XHRcdGNyZWRlbnRpYWw6IHN0YXRpY1Bhc3N3b3JkLFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdF0sXG5cdFx0XHR9O1xuXG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0XHRjcmVkZW50aWFsLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRjb25zdCB7IGdlbmVyYXRlV2ViUlRDVG9rZW4gfSA9IGF3YWl0IGltcG9ydChcIkAvbGliL3RlbG55eC93ZWJydGNcIik7XG5cdFx0Y29uc3QgcmVzdWx0ID0gYXdhaXQgZ2VuZXJhdGVXZWJSVENUb2tlbih7XG5cdFx0XHR1c2VybmFtZTogdXNlci5lbWFpbCB8fCB1c2VyLmlkLFxuXHRcdFx0dHRsOiA4Nl80MDAsIC8vIDI0IGhvdXJzXG5cdFx0fSk7XG5cblx0XHRpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0Y3JlZGVudGlhbDogcmVzdWx0LmNyZWRlbnRpYWwsXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gZ2V0IFdlYlJUQyBjcmVkZW50aWFsc1wiLFxuXHRcdH07XG5cdH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gVk9JQ0VNQUlMIE9QRVJBVElPTlMgQUNUSU9OU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIEdldCBhbGwgdm9pY2VtYWlscyBmb3IgYSBjb21wYW55XG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldFZvaWNlbWFpbHMoY29tcGFueUlkOiBzdHJpbmcpIHtcblx0dHJ5IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJTZXJ2aWNlIHVuYXZhaWxhYmxlXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJ2b2ljZW1haWxzXCIpXG5cdFx0XHQuc2VsZWN0KFxuXHRcdFx0XHRgXG4gICAgICAgICosXG4gICAgICAgIGN1c3RvbWVyOmN1c3RvbWVycyhpZCwgZmlyc3RfbmFtZSwgbGFzdF9uYW1lLCBlbWFpbCwgcGhvbmUpLFxuICAgICAgICBwaG9uZV9udW1iZXI6cGhvbmVfbnVtYmVycyhwaG9uZV9udW1iZXIsIGZvcm1hdHRlZF9udW1iZXIpXG4gICAgICBgLFxuXHRcdFx0KVxuXHRcdFx0LmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpXG5cdFx0XHQuaXMoXCJkZWxldGVkX2F0XCIsIG51bGwpXG5cdFx0XHQub3JkZXIoXCJyZWNlaXZlZF9hdFwiLCB7IGFzY2VuZGluZzogZmFsc2UgfSk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0ZGF0YTogZGF0YSB8fCBbXSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiRmFpbGVkIHRvIGdldCB2b2ljZW1haWxzXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIE1hcmsgdm9pY2VtYWlsIGFzIHJlYWRcbiAqL1xuYXN5bmMgZnVuY3Rpb24gbWFya1ZvaWNlbWFpbEFzUmVhZCh2b2ljZW1haWxJZDogc3RyaW5nLCB1c2VySWQ6IHN0cmluZykge1xuXHR0cnkge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cdFx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlNlcnZpY2UgdW5hdmFpbGFibGVcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcInZvaWNlbWFpbHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRpc19yZWFkOiB0cnVlLFxuXHRcdFx0XHRyZWFkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG5cdFx0XHRcdHJlYWRfYnk6IHVzZXJJZCxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCB2b2ljZW1haWxJZClcblx0XHRcdC5zZWxlY3QoKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvY29tbXVuaWNhdGlvblwiKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0ZGF0YSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byBtYXJrIHZvaWNlbWFpbCBhcyByZWFkXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIERlbGV0ZSB2b2ljZW1haWxcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZGVsZXRlVm9pY2VtYWlsKHZvaWNlbWFpbElkOiBzdHJpbmcsIHVzZXJJZDogc3RyaW5nKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiU2VydmljZSB1bmF2YWlsYWJsZVwiIH07XG5cdFx0fVxuXG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwidm9pY2VtYWlsc1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdGRlbGV0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdFx0ZGVsZXRlZF9ieTogdXNlcklkLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHZvaWNlbWFpbElkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL2NvbW11bmljYXRpb25cIik7XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gZGVsZXRlIHZvaWNlbWFpbFwiLFxuXHRcdH07XG5cdH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gQ0FMTCBST1VUSU5HIFJVTEVTIEFDVElPTlNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBHZXQgYWxsIGNhbGwgcm91dGluZyBydWxlcyBmb3IgYSBjb21wYW55XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDYWxsUm91dGluZ1J1bGVzKGNvbXBhbnlJZDogc3RyaW5nKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiU2VydmljZSB1bmF2YWlsYWJsZVwiIH07XG5cdFx0fVxuXG5cdFx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiY2FsbF9yb3V0aW5nX3J1bGVzXCIpXG5cdFx0XHQuc2VsZWN0KFxuXHRcdFx0XHRgXG4gICAgICAgICosXG4gICAgICAgIGNyZWF0ZWRfYnlfdXNlcjp1c2VycyFjYWxsX3JvdXRpbmdfcnVsZXNfY3JlYXRlZF9ieV9ma2V5KGlkLCBuYW1lLCBlbWFpbCksXG4gICAgICAgIGZvcndhcmRfdG9fdXNlcjp1c2VycyFjYWxsX3JvdXRpbmdfcnVsZXNfZm9yd2FyZF90b191c2VyX2lkX2ZrZXkoaWQsIG5hbWUsIGVtYWlsKVxuICAgICAgYCxcblx0XHRcdClcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgY29tcGFueUlkKVxuXHRcdFx0LmlzKFwiZGVsZXRlZF9hdFwiLCBudWxsKVxuXHRcdFx0Lm9yZGVyKFwicHJpb3JpdHlcIiwgeyBhc2NlbmRpbmc6IGZhbHNlIH0pO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdGRhdGE6IGRhdGEgfHwgW10sXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gZ2V0IGNhbGwgcm91dGluZyBydWxlc1wiLFxuXHRcdH07XG5cdH1cbn1cblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgY2FsbCByb3V0aW5nIHJ1bGVcbiAqL1xuYXN5bmMgZnVuY3Rpb24gY3JlYXRlQ2FsbFJvdXRpbmdSdWxlKHBhcmFtczoge1xuXHRjb21wYW55SWQ6IHN0cmluZztcblx0dXNlcklkOiBzdHJpbmc7XG5cdG5hbWU6IHN0cmluZztcblx0ZGVzY3JpcHRpb24/OiBzdHJpbmc7XG5cdHJvdXRpbmdUeXBlOlxuXHRcdHwgXCJkaXJlY3RcIlxuXHRcdHwgXCJyb3VuZF9yb2JpblwiXG5cdFx0fCBcIml2clwiXG5cdFx0fCBcImJ1c2luZXNzX2hvdXJzXCJcblx0XHR8IFwiY29uZGl0aW9uYWxcIjtcblx0cHJpb3JpdHk/OiBudW1iZXI7XG5cdGJ1c2luZXNzSG91cnM/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblx0dGltZXpvbmU/OiBzdHJpbmc7XG5cdGFmdGVySG91cnNBY3Rpb24/OiBcInZvaWNlbWFpbFwiIHwgXCJmb3J3YXJkXCIgfCBcImhhbmd1cFwiO1xuXHRhZnRlckhvdXJzRm9yd2FyZFRvPzogc3RyaW5nO1xuXHR0ZWFtTWVtYmVycz86IHN0cmluZ1tdO1xuXHRyaW5nVGltZW91dD86IG51bWJlcjtcblx0aXZyTWVudT86IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuXHRpdnJHcmVldGluZ1VybD86IHN0cmluZztcblx0Zm9yd2FyZFRvTnVtYmVyPzogc3RyaW5nO1xuXHRmb3J3YXJkVG9Vc2VySWQ/OiBzdHJpbmc7XG5cdGVuYWJsZVZvaWNlbWFpbD86IGJvb2xlYW47XG5cdHZvaWNlbWFpbEdyZWV0aW5nVXJsPzogc3RyaW5nO1xuXHR2b2ljZW1haWxUcmFuc2NyaXB0aW9uRW5hYmxlZD86IGJvb2xlYW47XG5cdHZvaWNlbWFpbEVtYWlsTm90aWZpY2F0aW9ucz86IGJvb2xlYW47XG5cdHJlY29yZENhbGxzPzogYm9vbGVhbjtcbn0pIHtcblx0dHJ5IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJTZXJ2aWNlIHVuYXZhaWxhYmxlXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjYWxsX3JvdXRpbmdfcnVsZXNcIilcblx0XHRcdC5pbnNlcnQoe1xuXHRcdFx0XHRjb21wYW55X2lkOiBwYXJhbXMuY29tcGFueUlkLFxuXHRcdFx0XHRjcmVhdGVkX2J5OiBwYXJhbXMudXNlcklkLFxuXHRcdFx0XHRuYW1lOiBwYXJhbXMubmFtZSxcblx0XHRcdFx0ZGVzY3JpcHRpb246IHBhcmFtcy5kZXNjcmlwdGlvbixcblx0XHRcdFx0cm91dGluZ190eXBlOiBwYXJhbXMucm91dGluZ1R5cGUsXG5cdFx0XHRcdHByaW9yaXR5OiBwYXJhbXMucHJpb3JpdHkgfHwgMCxcblx0XHRcdFx0YnVzaW5lc3NfaG91cnM6IHBhcmFtcy5idXNpbmVzc0hvdXJzLFxuXHRcdFx0XHR0aW1lem9uZTogcGFyYW1zLnRpbWV6b25lIHx8IFwiQW1lcmljYS9Mb3NfQW5nZWxlc1wiLFxuXHRcdFx0XHRhZnRlcl9ob3Vyc19hY3Rpb246IHBhcmFtcy5hZnRlckhvdXJzQWN0aW9uLFxuXHRcdFx0XHRhZnRlcl9ob3Vyc19mb3J3YXJkX3RvOiBwYXJhbXMuYWZ0ZXJIb3Vyc0ZvcndhcmRUbyxcblx0XHRcdFx0dGVhbV9tZW1iZXJzOiBwYXJhbXMudGVhbU1lbWJlcnMsXG5cdFx0XHRcdHJpbmdfdGltZW91dDogcGFyYW1zLnJpbmdUaW1lb3V0IHx8IDIwLFxuXHRcdFx0XHRpdnJfbWVudTogcGFyYW1zLml2ck1lbnUsXG5cdFx0XHRcdGl2cl9ncmVldGluZ191cmw6IHBhcmFtcy5pdnJHcmVldGluZ1VybCxcblx0XHRcdFx0Zm9yd2FyZF90b19udW1iZXI6IHBhcmFtcy5mb3J3YXJkVG9OdW1iZXIsXG5cdFx0XHRcdGZvcndhcmRfdG9fdXNlcl9pZDogcGFyYW1zLmZvcndhcmRUb1VzZXJJZCxcblx0XHRcdFx0ZW5hYmxlX3ZvaWNlbWFpbDogcGFyYW1zLmVuYWJsZVZvaWNlbWFpbCAhPT0gZmFsc2UsXG5cdFx0XHRcdHZvaWNlbWFpbF9ncmVldGluZ191cmw6IHBhcmFtcy52b2ljZW1haWxHcmVldGluZ1VybCxcblx0XHRcdFx0dm9pY2VtYWlsX3RyYW5zY3JpcHRpb25fZW5hYmxlZDpcblx0XHRcdFx0XHRwYXJhbXMudm9pY2VtYWlsVHJhbnNjcmlwdGlvbkVuYWJsZWQgIT09IGZhbHNlLFxuXHRcdFx0XHR2b2ljZW1haWxfZW1haWxfbm90aWZpY2F0aW9uczpcblx0XHRcdFx0XHRwYXJhbXMudm9pY2VtYWlsRW1haWxOb3RpZmljYXRpb25zICE9PSBmYWxzZSxcblx0XHRcdFx0cmVjb3JkX2NhbGxzOiBwYXJhbXMucmVjb3JkQ2FsbHMsXG5cdFx0XHRcdGlzX2FjdGl2ZTogdHJ1ZSxcblx0XHRcdH0pXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL3NldHRpbmdzL2NvbW11bmljYXRpb25zL2NhbGwtcm91dGluZ1wiKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0ZGF0YSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byBjcmVhdGUgY2FsbCByb3V0aW5nIHJ1bGVcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogVXBkYXRlIGFuIGV4aXN0aW5nIGNhbGwgcm91dGluZyBydWxlXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVDYWxsUm91dGluZ1J1bGUocGFyYW1zOiB7XG5cdHJ1bGVJZDogc3RyaW5nO1xuXHRuYW1lPzogc3RyaW5nO1xuXHRkZXNjcmlwdGlvbj86IHN0cmluZztcblx0cHJpb3JpdHk/OiBudW1iZXI7XG5cdGJ1c2luZXNzSG91cnM/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblx0dGltZXpvbmU/OiBzdHJpbmc7XG5cdGFmdGVySG91cnNBY3Rpb24/OiBcInZvaWNlbWFpbFwiIHwgXCJmb3J3YXJkXCIgfCBcImhhbmd1cFwiO1xuXHRhZnRlckhvdXJzRm9yd2FyZFRvPzogc3RyaW5nO1xuXHR0ZWFtTWVtYmVycz86IHN0cmluZ1tdO1xuXHRyaW5nVGltZW91dD86IG51bWJlcjtcblx0aXZyTWVudT86IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuXHRpdnJHcmVldGluZ1VybD86IHN0cmluZztcblx0Zm9yd2FyZFRvTnVtYmVyPzogc3RyaW5nO1xuXHRmb3J3YXJkVG9Vc2VySWQ/OiBzdHJpbmc7XG5cdGVuYWJsZVZvaWNlbWFpbD86IGJvb2xlYW47XG5cdHZvaWNlbWFpbEdyZWV0aW5nVXJsPzogc3RyaW5nO1xuXHR2b2ljZW1haWxUcmFuc2NyaXB0aW9uRW5hYmxlZD86IGJvb2xlYW47XG5cdHZvaWNlbWFpbEVtYWlsTm90aWZpY2F0aW9ucz86IGJvb2xlYW47XG5cdHJlY29yZENhbGxzPzogYm9vbGVhbjtcblx0aXNBY3RpdmU/OiBib29sZWFuO1xufSkge1xuXHR0cnkge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cdFx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlNlcnZpY2UgdW5hdmFpbGFibGVcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IHVwZGF0ZURhdGE6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0ge307XG5cblx0XHRpZiAocGFyYW1zLm5hbWUgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dXBkYXRlRGF0YS5uYW1lID0gcGFyYW1zLm5hbWU7XG5cdFx0fVxuXHRcdGlmIChwYXJhbXMuZGVzY3JpcHRpb24gIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dXBkYXRlRGF0YS5kZXNjcmlwdGlvbiA9IHBhcmFtcy5kZXNjcmlwdGlvbjtcblx0XHR9XG5cdFx0aWYgKHBhcmFtcy5wcmlvcml0eSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR1cGRhdGVEYXRhLnByaW9yaXR5ID0gcGFyYW1zLnByaW9yaXR5O1xuXHRcdH1cblx0XHRpZiAocGFyYW1zLmJ1c2luZXNzSG91cnMgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dXBkYXRlRGF0YS5idXNpbmVzc19ob3VycyA9IHBhcmFtcy5idXNpbmVzc0hvdXJzO1xuXHRcdH1cblx0XHRpZiAocGFyYW1zLnRpbWV6b25lICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdHVwZGF0ZURhdGEudGltZXpvbmUgPSBwYXJhbXMudGltZXpvbmU7XG5cdFx0fVxuXHRcdGlmIChwYXJhbXMuYWZ0ZXJIb3Vyc0FjdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR1cGRhdGVEYXRhLmFmdGVyX2hvdXJzX2FjdGlvbiA9IHBhcmFtcy5hZnRlckhvdXJzQWN0aW9uO1xuXHRcdH1cblx0XHRpZiAocGFyYW1zLmFmdGVySG91cnNGb3J3YXJkVG8gIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dXBkYXRlRGF0YS5hZnRlcl9ob3Vyc19mb3J3YXJkX3RvID0gcGFyYW1zLmFmdGVySG91cnNGb3J3YXJkVG87XG5cdFx0fVxuXHRcdGlmIChwYXJhbXMudGVhbU1lbWJlcnMgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dXBkYXRlRGF0YS50ZWFtX21lbWJlcnMgPSBwYXJhbXMudGVhbU1lbWJlcnM7XG5cdFx0fVxuXHRcdGlmIChwYXJhbXMucmluZ1RpbWVvdXQgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dXBkYXRlRGF0YS5yaW5nX3RpbWVvdXQgPSBwYXJhbXMucmluZ1RpbWVvdXQ7XG5cdFx0fVxuXHRcdGlmIChwYXJhbXMuaXZyTWVudSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR1cGRhdGVEYXRhLml2cl9tZW51ID0gcGFyYW1zLml2ck1lbnU7XG5cdFx0fVxuXHRcdGlmIChwYXJhbXMuaXZyR3JlZXRpbmdVcmwgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dXBkYXRlRGF0YS5pdnJfZ3JlZXRpbmdfdXJsID0gcGFyYW1zLml2ckdyZWV0aW5nVXJsO1xuXHRcdH1cblx0XHRpZiAocGFyYW1zLmZvcndhcmRUb051bWJlciAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR1cGRhdGVEYXRhLmZvcndhcmRfdG9fbnVtYmVyID0gcGFyYW1zLmZvcndhcmRUb051bWJlcjtcblx0XHR9XG5cdFx0aWYgKHBhcmFtcy5mb3J3YXJkVG9Vc2VySWQgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dXBkYXRlRGF0YS5mb3J3YXJkX3RvX3VzZXJfaWQgPSBwYXJhbXMuZm9yd2FyZFRvVXNlcklkO1xuXHRcdH1cblx0XHRpZiAocGFyYW1zLmVuYWJsZVZvaWNlbWFpbCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR1cGRhdGVEYXRhLmVuYWJsZV92b2ljZW1haWwgPSBwYXJhbXMuZW5hYmxlVm9pY2VtYWlsO1xuXHRcdH1cblx0XHRpZiAocGFyYW1zLnZvaWNlbWFpbEdyZWV0aW5nVXJsICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdHVwZGF0ZURhdGEudm9pY2VtYWlsX2dyZWV0aW5nX3VybCA9IHBhcmFtcy52b2ljZW1haWxHcmVldGluZ1VybDtcblx0XHR9XG5cdFx0aWYgKHBhcmFtcy52b2ljZW1haWxUcmFuc2NyaXB0aW9uRW5hYmxlZCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR1cGRhdGVEYXRhLnZvaWNlbWFpbF90cmFuc2NyaXB0aW9uX2VuYWJsZWQgPVxuXHRcdFx0XHRwYXJhbXMudm9pY2VtYWlsVHJhbnNjcmlwdGlvbkVuYWJsZWQ7XG5cdFx0fVxuXHRcdGlmIChwYXJhbXMudm9pY2VtYWlsRW1haWxOb3RpZmljYXRpb25zICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdHVwZGF0ZURhdGEudm9pY2VtYWlsX2VtYWlsX25vdGlmaWNhdGlvbnMgPVxuXHRcdFx0XHRwYXJhbXMudm9pY2VtYWlsRW1haWxOb3RpZmljYXRpb25zO1xuXHRcdH1cblx0XHRpZiAocGFyYW1zLnJlY29yZENhbGxzICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdHVwZGF0ZURhdGEucmVjb3JkX2NhbGxzID0gcGFyYW1zLnJlY29yZENhbGxzO1xuXHRcdH1cblx0XHRpZiAocGFyYW1zLmlzQWN0aXZlICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdHVwZGF0ZURhdGEuaXNfYWN0aXZlID0gcGFyYW1zLmlzQWN0aXZlO1xuXHRcdH1cblxuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNhbGxfcm91dGluZ19ydWxlc1wiKVxuXHRcdFx0LnVwZGF0ZSh1cGRhdGVEYXRhKVxuXHRcdFx0LmVxKFwiaWRcIiwgcGFyYW1zLnJ1bGVJZClcblx0XHRcdC5zZWxlY3QoKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvc2V0dGluZ3MvY29tbXVuaWNhdGlvbnMvY2FsbC1yb3V0aW5nXCIpO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IHRydWUsXG5cdFx0XHRkYXRhLFxuXHRcdH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIHVwZGF0ZSBjYWxsIHJvdXRpbmcgcnVsZVwiLFxuXHRcdH07XG5cdH1cbn1cblxuLyoqXG4gKiBEZWxldGUgYSBjYWxsIHJvdXRpbmcgcnVsZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVsZXRlQ2FsbFJvdXRpbmdSdWxlKHJ1bGVJZDogc3RyaW5nLCB1c2VySWQ6IHN0cmluZykge1xuXHR0cnkge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cdFx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlNlcnZpY2UgdW5hdmFpbGFibGVcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNhbGxfcm91dGluZ19ydWxlc1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdGRlbGV0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdFx0ZGVsZXRlZF9ieTogdXNlcklkLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHJ1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9zZXR0aW5ncy9jb21tdW5pY2F0aW9ucy9jYWxsLXJvdXRpbmdcIik7XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIGRlbGV0ZSBjYWxsIHJvdXRpbmcgcnVsZVwiLFxuXHRcdH07XG5cdH1cbn1cblxuLyoqXG4gKiBUb2dnbGUgY2FsbCByb3V0aW5nIHJ1bGUgYWN0aXZlIHN0YXR1c1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdG9nZ2xlQ2FsbFJvdXRpbmdSdWxlKHJ1bGVJZDogc3RyaW5nLCBpc0FjdGl2ZTogYm9vbGVhbikge1xuXHR0cnkge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cdFx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIlNlcnZpY2UgdW5hdmFpbGFibGVcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNhbGxfcm91dGluZ19ydWxlc1wiKVxuXHRcdFx0LnVwZGF0ZSh7IGlzX2FjdGl2ZTogaXNBY3RpdmUgfSlcblx0XHRcdC5lcShcImlkXCIsIHJ1bGVJZClcblx0XHRcdC5zZWxlY3QoKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvc2V0dGluZ3MvY29tbXVuaWNhdGlvbnMvY2FsbC1yb3V0aW5nXCIpO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IHRydWUsXG5cdFx0XHRkYXRhLFxuXHRcdH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIHRvZ2dsZSBjYWxsIHJvdXRpbmcgcnVsZVwiLFxuXHRcdH07XG5cdH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gUEhPTkUgTlVNQkVSIFVTQUdFIFNUQVRJU1RJQ1MgQUNUSU9OU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIEdldCB1c2FnZSBzdGF0aXN0aWNzIGZvciBhIHBob25lIG51bWJlclxuICovXG5hc3luYyBmdW5jdGlvbiBnZXRQaG9uZU51bWJlclVzYWdlU3RhdHMoXG5cdHBob25lTnVtYmVySWQ6IHN0cmluZyxcblx0ZGF5cyA9IDMwLFxuKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiU2VydmljZSB1bmF2YWlsYWJsZVwiIH07XG5cdFx0fVxuXG5cdFx0Y29uc3Qgc3RhcnREYXRlID0gbmV3IERhdGUoKTtcblx0XHRzdGFydERhdGUuc2V0RGF0ZShzdGFydERhdGUuZ2V0RGF0ZSgpIC0gZGF5cyk7XG5cblx0XHQvLyBHZXQgY2FsbCBzdGF0aXN0aWNzXG5cdFx0Y29uc3QgeyBkYXRhOiBjYWxsU3RhdHMsIGVycm9yOiBjYWxsRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG5cdFx0XHQuc2VsZWN0KFwidHlwZSwgZGlyZWN0aW9uLCBzdGF0dXMsIGNhbGxfZHVyYXRpb24sIGNyZWF0ZWRfYXRcIilcblx0XHRcdC5lcShcInR5cGVcIiwgXCJwaG9uZVwiKVxuXHRcdFx0LmVxKFwicGhvbmVfbnVtYmVyX2lkXCIsIHBob25lTnVtYmVySWQpXG5cdFx0XHQuZ3RlKFwiY3JlYXRlZF9hdFwiLCBzdGFydERhdGUudG9JU09TdHJpbmcoKSk7XG5cblx0XHRpZiAoY2FsbEVycm9yKSB7XG5cdFx0XHR0aHJvdyBjYWxsRXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gR2V0IFNNUyBzdGF0aXN0aWNzXG5cdFx0Y29uc3QgeyBkYXRhOiBzbXNTdGF0cywgZXJyb3I6IHNtc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjb21tdW5pY2F0aW9uc1wiKVxuXHRcdFx0LnNlbGVjdChcInR5cGUsIGRpcmVjdGlvbiwgc3RhdHVzLCBjcmVhdGVkX2F0XCIpXG5cdFx0XHQuZXEoXCJ0eXBlXCIsIFwic21zXCIpXG5cdFx0XHQuZXEoXCJwaG9uZV9udW1iZXJfaWRcIiwgcGhvbmVOdW1iZXJJZClcblx0XHRcdC5ndGUoXCJjcmVhdGVkX2F0XCIsIHN0YXJ0RGF0ZS50b0lTT1N0cmluZygpKTtcblxuXHRcdGlmIChzbXNFcnJvcikge1xuXHRcdFx0dGhyb3cgc21zRXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gQ2FsY3VsYXRlIGFnZ3JlZ2F0ZXNcblx0XHRjb25zdCBjYWxscyA9IGNhbGxTdGF0cyB8fCBbXTtcblx0XHRjb25zdCBzbXMgPSBzbXNTdGF0cyB8fCBbXTtcblxuXHRcdGNvbnN0IGluY29taW5nQ2FsbHMgPSBjYWxscy5maWx0ZXIoKGMpID0+IGMuZGlyZWN0aW9uID09PSBcImluYm91bmRcIikubGVuZ3RoO1xuXHRcdGNvbnN0IG91dGdvaW5nQ2FsbHMgPSBjYWxscy5maWx0ZXIoXG5cdFx0XHQoYykgPT4gYy5kaXJlY3Rpb24gPT09IFwib3V0Ym91bmRcIixcblx0XHQpLmxlbmd0aDtcblx0XHRjb25zdCB0b3RhbENhbGxEdXJhdGlvbiA9IGNhbGxzLnJlZHVjZShcblx0XHRcdChzdW0sIGMpID0+IHN1bSArIChjLmNhbGxfZHVyYXRpb24gfHwgMCksXG5cdFx0XHQwLFxuXHRcdCk7XG5cdFx0Y29uc3QgaW5jb21pbmdTbXMgPSBzbXMuZmlsdGVyKChzKSA9PiBzLmRpcmVjdGlvbiA9PT0gXCJpbmJvdW5kXCIpLmxlbmd0aDtcblx0XHRjb25zdCBvdXRnb2luZ1NtcyA9IHNtcy5maWx0ZXIoKHMpID0+IHMuZGlyZWN0aW9uID09PSBcIm91dGJvdW5kXCIpLmxlbmd0aDtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHRpbmNvbWluZ0NhbGxzLFxuXHRcdFx0XHRvdXRnb2luZ0NhbGxzLFxuXHRcdFx0XHR0b3RhbENhbGxzOiBpbmNvbWluZ0NhbGxzICsgb3V0Z29pbmdDYWxscyxcblx0XHRcdFx0dG90YWxDYWxsRHVyYXRpb24sXG5cdFx0XHRcdGluY29taW5nU21zLFxuXHRcdFx0XHRvdXRnb2luZ1Ntcyxcblx0XHRcdFx0dG90YWxTbXM6IGluY29taW5nU21zICsgb3V0Z29pbmdTbXMsXG5cdFx0XHRcdGRhaWx5U3RhdHM6IGFnZ3JlZ2F0ZURhaWx5U3RhdHMoWy4uLmNhbGxzLCAuLi5zbXNdLCBkYXlzKSxcblx0XHRcdH0sXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gZ2V0IHVzYWdlIHN0YXRpc3RpY3NcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogR2V0IGNvbXBhbnktd2lkZSB1c2FnZSBzdGF0aXN0aWNzXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldENvbXBhbnlVc2FnZVN0YXRzKGNvbXBhbnlJZDogc3RyaW5nLCBkYXlzID0gMzApIHtcblx0dHJ5IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJTZXJ2aWNlIHVuYXZhaWxhYmxlXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCBzdGFydERhdGUgPSBuZXcgRGF0ZSgpO1xuXHRcdHN0YXJ0RGF0ZS5zZXREYXRlKHN0YXJ0RGF0ZS5nZXREYXRlKCkgLSBkYXlzKTtcblxuXHRcdC8vIEdldCBhbGwgY29tbXVuaWNhdGlvbnMgZm9yIHRoZSBjb21wYW55XG5cdFx0Y29uc3QgeyBkYXRhOiBjb21tdW5pY2F0aW9ucywgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG5cdFx0XHQuc2VsZWN0KFwidHlwZSwgZGlyZWN0aW9uLCBzdGF0dXMsIGNhbGxfZHVyYXRpb24sIGNyZWF0ZWRfYXRcIilcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgY29tcGFueUlkKVxuXHRcdFx0LmluKFwidHlwZVwiLCBbXCJwaG9uZVwiLCBcInNtc1wiXSlcblx0XHRcdC5ndGUoXCJjcmVhdGVkX2F0XCIsIHN0YXJ0RGF0ZS50b0lTT1N0cmluZygpKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0Y29uc3QgaXRlbXMgPSBjb21tdW5pY2F0aW9ucyB8fCBbXTtcblx0XHRjb25zdCBjYWxscyA9IGl0ZW1zLmZpbHRlcigoaSkgPT4gaS50eXBlID09PSBcInBob25lXCIpO1xuXHRcdGNvbnN0IHNtcyA9IGl0ZW1zLmZpbHRlcigoaSkgPT4gaS50eXBlID09PSBcInNtc1wiKTtcblxuXHRcdGNvbnN0IGluY29taW5nQ2FsbHMgPSBjYWxscy5maWx0ZXIoKGMpID0+IGMuZGlyZWN0aW9uID09PSBcImluYm91bmRcIikubGVuZ3RoO1xuXHRcdGNvbnN0IG91dGdvaW5nQ2FsbHMgPSBjYWxscy5maWx0ZXIoXG5cdFx0XHQoYykgPT4gYy5kaXJlY3Rpb24gPT09IFwib3V0Ym91bmRcIixcblx0XHQpLmxlbmd0aDtcblx0XHRjb25zdCB0b3RhbENhbGxEdXJhdGlvbiA9IGNhbGxzLnJlZHVjZShcblx0XHRcdChzdW0sIGMpID0+IHN1bSArIChjLmNhbGxfZHVyYXRpb24gfHwgMCksXG5cdFx0XHQwLFxuXHRcdCk7XG5cdFx0Y29uc3QgaW5jb21pbmdTbXMgPSBzbXMuZmlsdGVyKChzKSA9PiBzLmRpcmVjdGlvbiA9PT0gXCJpbmJvdW5kXCIpLmxlbmd0aDtcblx0XHRjb25zdCBvdXRnb2luZ1NtcyA9IHNtcy5maWx0ZXIoKHMpID0+IHMuZGlyZWN0aW9uID09PSBcIm91dGJvdW5kXCIpLmxlbmd0aDtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0ZGF0YToge1xuXHRcdFx0XHRpbmNvbWluZ0NhbGxzLFxuXHRcdFx0XHRvdXRnb2luZ0NhbGxzLFxuXHRcdFx0XHR0b3RhbENhbGxzOiBpbmNvbWluZ0NhbGxzICsgb3V0Z29pbmdDYWxscyxcblx0XHRcdFx0dG90YWxDYWxsRHVyYXRpb24sXG5cdFx0XHRcdGF2ZXJhZ2VDYWxsRHVyYXRpb246XG5cdFx0XHRcdFx0Y2FsbHMubGVuZ3RoID4gMCA/IHRvdGFsQ2FsbER1cmF0aW9uIC8gY2FsbHMubGVuZ3RoIDogMCxcblx0XHRcdFx0aW5jb21pbmdTbXMsXG5cdFx0XHRcdG91dGdvaW5nU21zLFxuXHRcdFx0XHR0b3RhbFNtczogaW5jb21pbmdTbXMgKyBvdXRnb2luZ1Ntcyxcblx0XHRcdFx0ZGFpbHlTdGF0czogYWdncmVnYXRlRGFpbHlTdGF0cyhpdGVtcywgZGF5cyksXG5cdFx0XHR9LFxuXHRcdH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIGdldCB1c2FnZSBzdGF0aXN0aWNzXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0byBhZ2dyZWdhdGUgZGFpbHkgc3RhdGlzdGljc1xuICovXG5mdW5jdGlvbiBhZ2dyZWdhdGVEYWlseVN0YXRzKFxuXHRpdGVtczogQXJyYXk8eyBjcmVhdGVkX2F0OiBzdHJpbmc7IHR5cGU6IHN0cmluZzsgY2FsbF9kdXJhdGlvbj86IG51bWJlciB9Pixcblx0ZGF5czogbnVtYmVyLFxuKSB7XG5cdGNvbnN0IGRhaWx5U3RhdHM6IFJlY29yZDxcblx0XHRzdHJpbmcsXG5cdFx0eyBkYXRlOiBzdHJpbmc7IGNhbGxzOiBudW1iZXI7IHNtczogbnVtYmVyOyBkdXJhdGlvbjogbnVtYmVyIH1cblx0PiA9IHt9O1xuXG5cdC8vIEluaXRpYWxpemUgYWxsIGRheXNcblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBkYXlzOyBpKyspIHtcblx0XHRjb25zdCBkYXRlID0gbmV3IERhdGUoKTtcblx0XHRkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgLSBpKTtcblx0XHRjb25zdCBkYXRlU3RyID0gZGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KFwiVFwiKVswXTtcblx0XHRkYWlseVN0YXRzW2RhdGVTdHJdID0geyBkYXRlOiBkYXRlU3RyLCBjYWxsczogMCwgc21zOiAwLCBkdXJhdGlvbjogMCB9O1xuXHR9XG5cblx0Ly8gQWdncmVnYXRlIGRhdGFcblx0aXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuXHRcdGNvbnN0IGRhdGVTdHIgPSBpdGVtLmNyZWF0ZWRfYXQuc3BsaXQoXCJUXCIpWzBdO1xuXHRcdGlmIChkYWlseVN0YXRzW2RhdGVTdHJdKSB7XG5cdFx0XHRpZiAoaXRlbS50eXBlID09PSBcInBob25lXCIpIHtcblx0XHRcdFx0ZGFpbHlTdGF0c1tkYXRlU3RyXS5jYWxscyArPSAxO1xuXHRcdFx0XHRkYWlseVN0YXRzW2RhdGVTdHJdLmR1cmF0aW9uICs9IGl0ZW0uY2FsbF9kdXJhdGlvbiB8fCAwO1xuXHRcdFx0fSBlbHNlIGlmIChpdGVtLnR5cGUgPT09IFwic21zXCIpIHtcblx0XHRcdFx0ZGFpbHlTdGF0c1tkYXRlU3RyXS5zbXMgKz0gMTtcblx0XHRcdH1cblx0XHR9XG5cdH0pO1xuXG5cdHJldHVybiBPYmplY3QudmFsdWVzKGRhaWx5U3RhdHMpLnNvcnQoKGEsIGIpID0+IGEuZGF0ZS5sb2NhbGVDb21wYXJlKGIuZGF0ZSkpO1xufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI0U0FrNUNzQiJ9
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/lib/telnyx/web-credentials-client.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "fetchWebRTCCredentialsOnce",
    ()=>fetchWebRTCCredentialsOnce,
    "resetWebRTCCredentialsCache",
    ()=>resetWebRTCCredentialsCache
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$d7d068__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/apps/web/src/actions/data:d7d068 [app-client] (ecmascript) <text/javascript>");
"use client";
;
const STORAGE_KEY = "telnyx-webrtc-credential";
// Refresh 5 minutes before expiration (Telnyx recommended buffer)
// This prevents credential expiry during active calls
const EXPIRY_BUFFER_MS = 5 * 60 * 1000;
let credentialsPromise = null;
function getExpiresAtMs(expiresAt) {
    if (typeof expiresAt === "number") {
        return expiresAt;
    }
    if (typeof expiresAt === "string") {
        const parsed = Date.parse(expiresAt);
        return Number.isNaN(parsed) ? null : parsed;
    }
    return null;
}
function loadFromStorage() {
    if ("TURBOPACK compile-time falsy", 0) //TURBOPACK unreachable
    ;
    try {
        const raw = window.localStorage.getItem(STORAGE_KEY);
        if (!raw) {
            return null;
        }
        const parsed = JSON.parse(raw);
        if (!parsed?.credential) {
            return null;
        }
        const expiresAtMs = getExpiresAtMs(parsed.credential.expires_at);
        if (!expiresAtMs || expiresAtMs - EXPIRY_BUFFER_MS <= Date.now()) {
            return null;
        }
        return parsed.credential;
    } catch  {
        return null;
    }
}
function persistCredential(credential) {
    if ("TURBOPACK compile-time falsy", 0) //TURBOPACK unreachable
    ;
    try {
        window.localStorage.setItem(STORAGE_KEY, JSON.stringify({
            credential
        }));
    } catch  {
    // Ignore storage errors (e.g., Safari private mode)
    }
}
function createPromise() {
    const cached = loadFromStorage();
    if (cached) {
        console.log(" Using cached WebRTC credentials:", {
            username: cached.username,
            expiresAt: new Date(cached.expires_at).toISOString(),
            isExpired: cached.expires_at <= Date.now()
        });
        const cachedResult = {
            success: true,
            credential: cached
        };
        const promise = Promise.resolve(cachedResult);
        credentialsPromise = promise;
        return promise;
    }
    console.log(" Fetching WebRTC credentials from server...");
    const promise = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$d7d068__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["getWebRTCCredentials"])().then((result)=>{
        console.log(" WebRTC credentials response:", result);
        if (result?.success && result.credential) {
            console.log(" Persisting new credentials to localStorage");
            persistCredential(result.credential);
        } else {
            console.warn(" Failed to get credentials, clearing cache");
            credentialsPromise = null;
        }
        return result;
    }).catch((error)=>{
        console.error(" WebRTC credentials fetch error:", error);
        credentialsPromise = null;
        throw error;
    });
    credentialsPromise = promise;
    return promise;
}
function fetchWebRTCCredentialsOnce() {
    return credentialsPromise ?? createPromise();
}
function resetWebRTCCredentialsCache() {
    credentialsPromise = null;
    if ("TURBOPACK compile-time truthy", 1) {
        try {
            window.localStorage.removeItem(STORAGE_KEY);
        } catch  {
        // Ignore storage removal errors
        }
    }
}
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/lib/utils.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "cn",
    ()=>cn
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$clsx$40$2$2e$1$2e$1$2f$node_modules$2f$clsx$2f$dist$2f$clsx$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/clsx@2.1.1/node_modules/clsx/dist/clsx.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$tailwind$2d$merge$40$3$2e$4$2e$0$2f$node_modules$2f$tailwind$2d$merge$2f$dist$2f$bundle$2d$mjs$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/tailwind-merge@3.4.0/node_modules/tailwind-merge/dist/bundle-mjs.mjs [app-client] (ecmascript)");
;
;
function cn(...inputs) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$tailwind$2d$merge$40$3$2e$4$2e$0$2f$node_modules$2f$tailwind$2d$merge$2f$dist$2f$bundle$2d$mjs$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["twMerge"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$clsx$40$2$2e$1$2e$1$2f$node_modules$2f$clsx$2f$dist$2f$clsx$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["clsx"])(inputs));
}
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/components/layout/phone-dropdown.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "PhoneDropdown",
    ()=>PhoneDropdown
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$polyfills$2f$process$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = /*#__PURE__*/ __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/polyfills/process.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$circle$2d$alert$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__AlertCircle$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/circle-alert.js [app-client] (ecmascript) <export default as AlertCircle>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Check$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/check.js [app-client] (ecmascript) <export default as Check>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$clock$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Clock$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/clock.js [app-client] (ecmascript) <export default as Clock>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$headphones$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Headphones$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/headphones.js [app-client] (ecmascript) <export default as Headphones>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$loader$2d$circle$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Loader2$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/loader-circle.js [app-client] (ecmascript) <export default as Loader2>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$message$2d$square$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__MessageSquare$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/message-square.js [app-client] (ecmascript) <export default as MessageSquare>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$mic$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Mic$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/mic.js [app-client] (ecmascript) <export default as Mic>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$mic$2d$off$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__MicOff$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/mic-off.js [app-client] (ecmascript) <export default as MicOff>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$pause$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Pause$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/pause.js [app-client] (ecmascript) <export default as Pause>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$phone$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Phone$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/phone.js [app-client] (ecmascript) <export default as Phone>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$phone$2d$call$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__PhoneCall$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/phone-call.js [app-client] (ecmascript) <export default as PhoneCall>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$phone$2d$incoming$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__PhoneIncoming$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/phone-incoming.js [app-client] (ecmascript) <export default as PhoneIncoming>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$phone$2d$off$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__PhoneOff$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/phone-off.js [app-client] (ecmascript) <export default as PhoneOff>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$phone$2d$outgoing$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__PhoneOutgoing$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/phone-outgoing.js [app-client] (ecmascript) <export default as PhoneOutgoing>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$play$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Play$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/play.js [app-client] (ecmascript) <export default as Play>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$refresh$2d$cw$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__RefreshCw$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/refresh-cw.js [app-client] (ecmascript) <export default as RefreshCw>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$server$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Server$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/server.js [app-client] (ecmascript) <export default as Server>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$user$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__User$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/user.js [app-client] (ecmascript) <export default as User>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$wifi$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Wifi$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/wifi.js [app-client] (ecmascript) <export default as Wifi>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$wifi$2d$off$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__WifiOff$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/wifi-off.js [app-client] (ecmascript) <export default as WifiOff>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$x$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__X$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/x.js [app-client] (ecmascript) <export default as X>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$client$2f$app$2d$dir$2f$link$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/client/app-dir/link.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$0d28fa__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/apps/web/src/actions/data:0d28fa [app-client] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ui$2f$badge$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/web/src/components/ui/badge.tsx [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$badge$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/src/badge.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/web/src/components/ui/button.tsx [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/src/button.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ui$2f$command$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/web/src/components/ui/command.tsx [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$command$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/src/command.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ui$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/web/src/components/ui/dropdown-menu.tsx [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/src/dropdown-menu.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ui$2f$input$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/web/src/components/ui/input.tsx [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$input$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/src/input.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ui$2f$popover$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/web/src/components/ui/popover.tsx [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$popover$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/src/popover.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ui$2f$select$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/web/src/components/ui/select.tsx [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$select$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/src/select.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ui$2f$switch$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/web/src/components/ui/switch.tsx [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$switch$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/src/switch.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ui$2f$tooltip$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/web/src/components/ui/tooltip.tsx [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$tooltip$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/src/tooltip.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$hooks$2f$use$2d$dialer$2d$customers$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/src/hooks/use-dialer-customers.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$hooks$2f$use$2d$telnyx$2d$webrtc$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/src/hooks/use-telnyx-webrtc.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$hooks$2f$use$2d$toast$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/src/hooks/use-toast.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$dialer$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/src/lib/stores/dialer-store.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$ui$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/src/lib/stores/ui-store.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$telnyx$2f$web$2d$credentials$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/src/lib/telnyx/web-credentials-client.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/src/lib/utils.ts [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature(), _s1 = __turbopack_context__.k.signature();
"use client";
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
;
// Constants
const WEBRTC_CONNECTION_TIMEOUT = 15000; // 15 seconds
const WEBRTC_RETRY_DELAY = 3000; // 3 seconds
// Helper functions
const cleanValue = (v)=>(v ?? "").trim();
const getCustomerName = (c)=>{
    if (c.display_name?.trim()) return c.display_name.trim();
    const name = [
        c.first_name,
        c.last_name
    ].map(cleanValue).filter(Boolean).join(" ");
    return name || c.email?.trim() || "Unknown";
};
const formatPhone = (phone)=>{
    const d = phone.replace(/\D/g, "");
    if (d.length === 11 && d[0] === "1") {
        return `+1 (${d.slice(1, 4)}) ${d.slice(4, 7)}-${d.slice(7)}`;
    }
    if (d.length === 10) {
        return `(${d.slice(0, 3)}) ${d.slice(3, 6)}-${d.slice(6)}`;
    }
    return phone;
};
/**
 * Connection Status Badge
 */ function ConnectionStatusBadge({ status, mode, onRetry, className }) {
    if (mode === "api") {
        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$badge$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Badge"], {
            variant: "outline",
            className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("gap-1 text-[10px]", className),
            children: [
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$server$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Server$3e$__["Server"], {
                    className: "h-3 w-3"
                }, void 0, false, {
                    fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                    lineNumber: 159,
                    columnNumber: 5
                }, this),
                "API Mode"
            ]
        }, void 0, true, {
            fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
            lineNumber: 158,
            columnNumber: 4
        }, this);
    }
    const statusConfig = {
        disconnected: {
            icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$wifi$2d$off$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__WifiOff$3e$__["WifiOff"],
            label: "Disconnected",
            variant: "outline",
            className: "text-muted-foreground"
        },
        connecting: {
            icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$loader$2d$circle$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Loader2$3e$__["Loader2"],
            label: "Connecting...",
            variant: "outline",
            className: "text-warning",
            animate: true
        },
        connected: {
            icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$wifi$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Wifi$3e$__["Wifi"],
            label: "WebRTC Ready",
            variant: "outline",
            className: "text-success border-success/30"
        },
        error: {
            icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$circle$2d$alert$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__AlertCircle$3e$__["AlertCircle"],
            label: "Connection Error",
            variant: "destructive",
            className: ""
        }
    };
    const config = statusConfig[status];
    const Icon = config.icon;
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("flex items-center gap-1", className),
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$badge$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Badge"], {
                variant: config.variant,
                className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("gap-1 text-[10px]", config.className),
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(Icon, {
                        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("h-3 w-3", config.animate === true && "animate-spin")
                    }, void 0, false, {
                        fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                        lineNumber: 205,
                        columnNumber: 5
                    }, this),
                    config.label
                ]
            }, void 0, true, {
                fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                lineNumber: 204,
                columnNumber: 4
            }, this),
            (status === "error" || status === "disconnected") && onRetry && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Button"], {
                variant: "ghost",
                size: "icon",
                className: "h-5 w-5",
                onClick: onRetry,
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$refresh$2d$cw$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__RefreshCw$3e$__["RefreshCw"], {
                    className: "h-3 w-3"
                }, void 0, false, {
                    fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                    lineNumber: 215,
                    columnNumber: 6
                }, this)
            }, void 0, false, {
                fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                lineNumber: 209,
                columnNumber: 5
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
        lineNumber: 203,
        columnNumber: 3
    }, this);
}
_c = ConnectionStatusBadge;
/**
 * Active Call Card - Shows when a call is in progress
 */ function ActiveCallCard({ call, onMute, onHold, onEnd, className }) {
    _s();
    const [duration, setDuration] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(0);
    // Update duration timer
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "ActiveCallCard.useEffect": ()=>{
            if (call.state !== "active") {
                setDuration(0);
                return;
            }
            const startTime = call.startTime?.getTime() || Date.now();
            const interval = setInterval({
                "ActiveCallCard.useEffect.interval": ()=>{
                    setDuration(Math.floor((Date.now() - startTime) / 1000));
                }
            }["ActiveCallCard.useEffect.interval"], 1000);
            return ({
                "ActiveCallCard.useEffect": ()=>clearInterval(interval)
            })["ActiveCallCard.useEffect"];
        }
    }["ActiveCallCard.useEffect"], [
        call.state,
        call.startTime
    ]);
    const formatDuration = (seconds)=>{
        const mins = Math.floor(seconds / 60);
        const secs = seconds % 60;
        return `${mins}:${secs.toString().padStart(2, "0")}`;
    };
    const stateConfig = {
        idle: {
            label: "Idle",
            color: "text-muted-foreground",
            icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$phone$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Phone$3e$__["Phone"]
        },
        connecting: {
            label: "Connecting...",
            color: "text-warning",
            icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$phone$2d$outgoing$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__PhoneOutgoing$3e$__["PhoneOutgoing"]
        },
        ringing: {
            label: "Ringing...",
            color: "text-primary",
            icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$phone$2d$outgoing$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__PhoneOutgoing$3e$__["PhoneOutgoing"]
        },
        active: {
            label: "Active",
            color: "text-success",
            icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$phone$2d$call$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__PhoneCall$3e$__["PhoneCall"]
        },
        held: {
            label: "On Hold",
            color: "text-warning",
            icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$pause$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Pause$3e$__["Pause"]
        },
        ended: {
            label: "Call Ended",
            color: "text-muted-foreground",
            icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$phone$2d$off$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__PhoneOff$3e$__["PhoneOff"]
        }
    };
    const config = stateConfig[call.state];
    const StateIcon = config.icon;
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("rounded-lg border bg-card p-3", className),
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "mb-3 flex items-center justify-between",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex items-center gap-2",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("rounded-full bg-primary/10 p-2", config.color),
                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(StateIcon, {
                                    className: "h-4 w-4"
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                    lineNumber: 279,
                                    columnNumber: 7
                                }, this)
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                lineNumber: 278,
                                columnNumber: 6
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                        className: "text-sm font-medium",
                                        children: call.remoteName || formatPhone(call.remoteNumber)
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                        lineNumber: 282,
                                        columnNumber: 7
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("text-xs", config.color),
                                        children: config.label
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                        lineNumber: 285,
                                        columnNumber: 7
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                lineNumber: 281,
                                columnNumber: 6
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                        lineNumber: 277,
                        columnNumber: 5
                    }, this),
                    call.state === "active" && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$badge$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Badge"], {
                        variant: "outline",
                        className: "text-xs tabular-nums",
                        children: formatDuration(duration)
                    }, void 0, false, {
                        fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                        lineNumber: 289,
                        columnNumber: 6
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                lineNumber: 276,
                columnNumber: 4
            }, this),
            (call.state === "active" || call.state === "held") && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex items-center justify-center gap-2",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$tooltip$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Tooltip"], {
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$tooltip$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TooltipTrigger"], {
                                asChild: true,
                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Button"], {
                                    variant: call.isMuted ? "destructive" : "outline",
                                    size: "icon",
                                    className: "h-9 w-9 rounded-full",
                                    onClick: onMute,
                                    children: call.isMuted ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$mic$2d$off$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__MicOff$3e$__["MicOff"], {
                                        className: "h-4 w-4"
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                        lineNumber: 307,
                                        columnNumber: 10
                                    }, this) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$mic$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Mic$3e$__["Mic"], {
                                        className: "h-4 w-4"
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                        lineNumber: 309,
                                        columnNumber: 10
                                    }, this)
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                    lineNumber: 300,
                                    columnNumber: 8
                                }, this)
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                lineNumber: 299,
                                columnNumber: 7
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$tooltip$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TooltipContent"], {
                                children: call.isMuted ? "Unmute" : "Mute"
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                lineNumber: 313,
                                columnNumber: 7
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                        lineNumber: 298,
                        columnNumber: 6
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$tooltip$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Tooltip"], {
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$tooltip$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TooltipTrigger"], {
                                asChild: true,
                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Button"], {
                                    variant: call.isHeld ? "secondary" : "outline",
                                    size: "icon",
                                    className: "h-9 w-9 rounded-full",
                                    onClick: onHold,
                                    children: call.isHeld ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$play$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Play$3e$__["Play"], {
                                        className: "h-4 w-4"
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                        lineNumber: 325,
                                        columnNumber: 10
                                    }, this) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$pause$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Pause$3e$__["Pause"], {
                                        className: "h-4 w-4"
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                        lineNumber: 327,
                                        columnNumber: 10
                                    }, this)
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                    lineNumber: 318,
                                    columnNumber: 8
                                }, this)
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                lineNumber: 317,
                                columnNumber: 7
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$tooltip$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TooltipContent"], {
                                children: call.isHeld ? "Resume" : "Hold"
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                lineNumber: 331,
                                columnNumber: 7
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                        lineNumber: 316,
                        columnNumber: 6
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$tooltip$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Tooltip"], {
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$tooltip$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TooltipTrigger"], {
                                asChild: true,
                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Button"], {
                                    variant: "destructive",
                                    size: "icon",
                                    className: "h-9 w-9 rounded-full",
                                    onClick: onEnd,
                                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$phone$2d$off$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__PhoneOff$3e$__["PhoneOff"], {
                                        className: "h-4 w-4"
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                        lineNumber: 342,
                                        columnNumber: 9
                                    }, this)
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                    lineNumber: 336,
                                    columnNumber: 8
                                }, this)
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                lineNumber: 335,
                                columnNumber: 7
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$tooltip$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TooltipContent"], {
                                children: "End Call"
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                lineNumber: 345,
                                columnNumber: 7
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                        lineNumber: 334,
                        columnNumber: 6
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                lineNumber: 297,
                columnNumber: 5
            }, this),
            (call.state === "connecting" || call.state === "ringing") && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex items-center justify-center gap-2",
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Button"], {
                    variant: "destructive",
                    size: "sm",
                    className: "gap-2",
                    onClick: onEnd,
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$phone$2d$off$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__PhoneOff$3e$__["PhoneOff"], {
                            className: "h-4 w-4"
                        }, void 0, false, {
                            fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                            lineNumber: 359,
                            columnNumber: 7
                        }, this),
                        "Cancel"
                    ]
                }, void 0, true, {
                    fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                    lineNumber: 353,
                    columnNumber: 6
                }, this)
            }, void 0, false, {
                fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                lineNumber: 352,
                columnNumber: 5
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
        lineNumber: 274,
        columnNumber: 3
    }, this);
}
_s(ActiveCallCard, "sMLra5deXNBwi9iO76PpPOGwfu4=");
_c1 = ActiveCallCard;
function PhoneDropdown({ companyId, companyPhones = [], incomingCallsCount }) {
    _s1();
    const { toast } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$hooks$2f$use$2d$toast$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useToast"])();
    const [mounted, setMounted] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [isPending, startTransition] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTransition"])();
    // Dropdown & customer state
    const [open, setOpen] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const { customers, isLoading: customersLoading } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$hooks$2f$use$2d$dialer$2d$customers$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useDialerCustomers"])(open);
    const dialerStore = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$dialer$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useDialerStore"])();
    // Form state
    const [toNumber, setToNumber] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])("");
    const [fromNumber, setFromNumber] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(companyPhones[0]?.number || "");
    const [selectedCustomer, setSelectedCustomer] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    const [customerSearchOpen, setCustomerSearchOpen] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [customerSearchQuery, setCustomerSearchQuery] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])("");
    // WebRTC state
    const [callMode, setCallMode] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])("webrtc");
    const [webrtcCredentials, setWebrtcCredentials] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    const [connectionStatus, setConnectionStatus] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])("disconnected");
    const [connectionError, setConnectionError] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(null);
    const connectionTimeoutRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRef"])(null);
    const retryCountRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRef"])(0);
    const maxRetries = 3;
    // Audio element for WebRTC
    const audioRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRef"])(null);
    // Call state from UI store
    const callStatus = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$ui$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useUIStore"])({
        "PhoneDropdown.useUIStore[callStatus]": (s)=>s.call.status
    }["PhoneDropdown.useUIStore[callStatus]"]);
    const caller = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$ui$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useUIStore"])({
        "PhoneDropdown.useUIStore[caller]": (s)=>s.call.caller
    }["PhoneDropdown.useUIStore[caller]"]);
    const hasIncomingCall = callStatus === "incoming";
    const displayCount = incomingCallsCount ?? (hasIncomingCall ? 1 : 0);
    // WebRTC hook
    const webrtc = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$hooks$2f$use$2d$telnyx$2d$webrtc$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTelnyxWebRTC"])({
        username: webrtcCredentials?.username || "",
        password: webrtcCredentials?.password || "",
        autoConnect: false,
        debug: ("TURBOPACK compile-time value", "development") === "development",
        onIncomingCall: {
            "PhoneDropdown.useTelnyxWebRTC[webrtc]": (call)=>{
                toast.info(`Incoming call from ${call.remoteName || call.remoteNumber}`);
            }
        }["PhoneDropdown.useTelnyxWebRTC[webrtc]"],
        onCallEnded: {
            "PhoneDropdown.useTelnyxWebRTC[webrtc]": ()=>{
                toast.info("Call ended");
            }
        }["PhoneDropdown.useTelnyxWebRTC[webrtc]"]
    });
    // Mount
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "PhoneDropdown.useEffect": ()=>{
            setMounted(true);
            // Create audio element for WebRTC
            if (("TURBOPACK compile-time value", "object") !== "undefined" && !audioRef.current) {
                const audio = document.createElement("audio");
                audio.id = "telnyx-remote-audio";
                audio.autoplay = true;
                audio.style.display = "none";
                document.body.appendChild(audio);
                audioRef.current = audio;
            }
            return ({
                "PhoneDropdown.useEffect": ()=>{
                    if (audioRef.current) {
                        audioRef.current.remove();
                        audioRef.current = null;
                    }
                }
            })["PhoneDropdown.useEffect"];
        }
    }["PhoneDropdown.useEffect"], []);
    // Sync from number
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "PhoneDropdown.useEffect": ()=>{
            if (!fromNumber && companyPhones.length > 0) {
                setFromNumber(companyPhones[0].number);
            }
        }
    }["PhoneDropdown.useEffect"], [
        companyPhones,
        fromNumber
    ]);
    // Sync dialer store
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "PhoneDropdown.useEffect": ()=>setOpen(dialerStore.isOpen)
    }["PhoneDropdown.useEffect"], [
        dialerStore.isOpen
    ]);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "PhoneDropdown.useEffect": ()=>setToNumber(dialerStore.phoneNumber)
    }["PhoneDropdown.useEffect"], [
        dialerStore.phoneNumber
    ]);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "PhoneDropdown.useEffect": ()=>{
            if (dialerStore.customerId && customers.length > 0) {
                const c = customers.find({
                    "PhoneDropdown.useEffect.c": (x)=>x.id === dialerStore.customerId
                }["PhoneDropdown.useEffect.c"]);
                if (c && c.id !== selectedCustomer?.id) setSelectedCustomer(c);
            }
        }
    }["PhoneDropdown.useEffect"], [
        dialerStore.customerId,
        customers,
        selectedCustomer?.id
    ]);
    // Fetch WebRTC credentials on mount
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "PhoneDropdown.useEffect": ()=>{
            if (!mounted) return;
            const fetchCredentials = {
                "PhoneDropdown.useEffect.fetchCredentials": async ()=>{
                    try {
                        const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$telnyx$2f$web$2d$credentials$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["fetchWebRTCCredentialsOnce"])();
                        if (result.success && result.credential) {
                            setWebrtcCredentials({
                                username: result.credential.username,
                                password: result.credential.password
                            });
                        } else {
                            console.warn("Failed to get WebRTC credentials, using API mode");
                            setCallMode("api");
                        }
                    } catch (error) {
                        console.error("Failed to fetch WebRTC credentials:", error);
                        setCallMode("api");
                    }
                }
            }["PhoneDropdown.useEffect.fetchCredentials"];
            fetchCredentials();
        }
    }["PhoneDropdown.useEffect"], [
        mounted
    ]);
    // Connect WebRTC when credentials are available
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "PhoneDropdown.useEffect": ()=>{
            if (!webrtcCredentials || callMode !== "webrtc") return;
            const connectWebRTC = {
                "PhoneDropdown.useEffect.connectWebRTC": async ()=>{
                    // Clear any existing timeout
                    if (connectionTimeoutRef.current) {
                        clearTimeout(connectionTimeoutRef.current);
                    }
                    setConnectionStatus("connecting");
                    setConnectionError(null);
                    // Set connection timeout
                    connectionTimeoutRef.current = setTimeout({
                        "PhoneDropdown.useEffect.connectWebRTC": ()=>{
                            if (connectionStatus === "connecting") {
                                setConnectionStatus("error");
                                setConnectionError("Connection timeout - WebRTC may require Level 2 verification");
                                // Auto-fallback to API mode after timeout
                                if (retryCountRef.current >= maxRetries) {
                                    toast.warning("WebRTC unavailable, switching to API mode");
                                    setCallMode("api");
                                }
                            }
                        }
                    }["PhoneDropdown.useEffect.connectWebRTC"], WEBRTC_CONNECTION_TIMEOUT);
                    try {
                        await webrtc.connect();
                    } catch (error) {
                        console.error("WebRTC connection error:", error);
                        setConnectionStatus("error");
                        setConnectionError(error instanceof Error ? error.message : "Connection failed");
                    }
                }
            }["PhoneDropdown.useEffect.connectWebRTC"];
            connectWebRTC();
            return ({
                "PhoneDropdown.useEffect": ()=>{
                    if (connectionTimeoutRef.current) {
                        clearTimeout(connectionTimeoutRef.current);
                    }
                }
            })["PhoneDropdown.useEffect"];
        }
    }["PhoneDropdown.useEffect"], [
        webrtcCredentials,
        callMode
    ]);
    // Sync WebRTC connection state
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "PhoneDropdown.useEffect": ()=>{
            if (webrtc.isConnected) {
                if (connectionTimeoutRef.current) {
                    clearTimeout(connectionTimeoutRef.current);
                }
                setConnectionStatus("connected");
                setConnectionError(null);
                retryCountRef.current = 0;
            } else if (webrtc.connectionError) {
                setConnectionStatus("error");
                setConnectionError(webrtc.connectionError);
            } else if (webrtc.isConnecting) {
                setConnectionStatus("connecting");
            }
        }
    }["PhoneDropdown.useEffect"], [
        webrtc.isConnected,
        webrtc.isConnecting,
        webrtc.connectionError
    ]);
    // Handlers
    const handleOpenChange = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "PhoneDropdown.useCallback[handleOpenChange]": (newOpen)=>{
            setOpen(newOpen);
            if (newOpen) {
                dialerStore.openDialer();
            } else {
                dialerStore.closeDialer();
                setToNumber("");
                setSelectedCustomer(null);
                setCustomerSearchQuery("");
            }
        }
    }["PhoneDropdown.useCallback[handleOpenChange]"], [
        dialerStore
    ]);
    const handleCustomerSelect = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "PhoneDropdown.useCallback[handleCustomerSelect]": (c)=>{
            setSelectedCustomer(c);
            if (c?.phone) setToNumber(c.phone);
            setCustomerSearchQuery("");
            setCustomerSearchOpen(false);
        }
    }["PhoneDropdown.useCallback[handleCustomerSelect]"], []);
    const handleRetryConnection = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "PhoneDropdown.useCallback[handleRetryConnection]": ()=>{
            retryCountRef.current += 1;
            if (retryCountRef.current > maxRetries) {
                toast.warning("Max retries reached, switching to API mode");
                setCallMode("api");
                return;
            }
            // Reset credentials cache and refetch
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$telnyx$2f$web$2d$credentials$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["resetWebRTCCredentialsCache"])();
            setWebrtcCredentials(null);
            setConnectionStatus("disconnected");
            setConnectionError(null);
            // Refetch credentials
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$telnyx$2f$web$2d$credentials$2d$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["fetchWebRTCCredentialsOnce"])().then({
                "PhoneDropdown.useCallback[handleRetryConnection]": (result)=>{
                    if (result.success && result.credential) {
                        setWebrtcCredentials({
                            username: result.credential.username,
                            password: result.credential.password
                        });
                    }
                }
            }["PhoneDropdown.useCallback[handleRetryConnection]"]);
        }
    }["PhoneDropdown.useCallback[handleRetryConnection]"], [
        toast
    ]);
    const handleModeToggle = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "PhoneDropdown.useCallback[handleModeToggle]": (checked)=>{
            setCallMode(checked ? "webrtc" : "api");
        }
    }["PhoneDropdown.useCallback[handleModeToggle]"], []);
    // Filter customers
    const filteredCustomers = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useMemo"])({
        "PhoneDropdown.useMemo[filteredCustomers]": ()=>{
            const q = customerSearchQuery.trim().toLowerCase();
            if (!q) return customers.slice(0, 50);
            const qDigits = q.replace(/\D/g, "");
            return customers.filter({
                "PhoneDropdown.useMemo[filteredCustomers]": (c)=>{
                    const searchable = [
                        c.first_name,
                        c.last_name,
                        c.display_name,
                        c.email,
                        c.phone,
                        c.secondary_phone,
                        c.company_name
                    ].map({
                        "PhoneDropdown.useMemo[filteredCustomers].searchable": (v)=>cleanValue(v).toLowerCase()
                    }["PhoneDropdown.useMemo[filteredCustomers].searchable"]);
                    if (searchable.some({
                        "PhoneDropdown.useMemo[filteredCustomers]": (s)=>s.includes(q)
                    }["PhoneDropdown.useMemo[filteredCustomers]"])) return true;
                    if (qDigits) {
                        const phones = [
                            c.phone,
                            c.secondary_phone
                        ].map({
                            "PhoneDropdown.useMemo[filteredCustomers].phones": (p)=>cleanValue(p).replace(/\D/g, "")
                        }["PhoneDropdown.useMemo[filteredCustomers].phones"]).filter(Boolean);
                        if (phones.some({
                            "PhoneDropdown.useMemo[filteredCustomers]": (p)=>p.includes(qDigits)
                        }["PhoneDropdown.useMemo[filteredCustomers]"])) return true;
                    }
                    return false;
                }
            }["PhoneDropdown.useMemo[filteredCustomers]"]);
        }
    }["PhoneDropdown.useMemo[filteredCustomers]"], [
        customers,
        customerSearchQuery
    ]);
    // Make call via API (used for fallback and API mode)
    const handleAPICall = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "PhoneDropdown.useCallback[handleAPICall]": async ()=>{
            if (isPending) return;
            if (!companyId) {
                toast.error("No company selected. Please select a company first.");
                return;
            }
            const to = toNumber.replace(/\D/g, "");
            if (!to) {
                toast.error("Please enter a valid phone number");
                return;
            }
            if (!fromNumber) {
                toast.error("Please select a company phone number");
                return;
            }
            startTransition({
                "PhoneDropdown.useCallback[handleAPICall]": async ()=>{
                    try {
                        const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$0d28fa__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["makeCall"])({
                            to,
                            from: fromNumber,
                            companyId,
                            customerId: selectedCustomer?.id
                        });
                        if (!result.success) {
                            toast.error(result.error || "Failed to start call");
                            return;
                        }
                        toast.success(selectedCustomer ? `Calling ${getCustomerName(selectedCustomer)}` : `Calling ${formatPhone(toNumber)}`);
                        // Open call window
                        const params = new URLSearchParams({
                            callControlId: result.callControlId || "",
                            companyId,
                            to,
                            from: fromNumber,
                            direction: "outbound",
                            ...selectedCustomer?.id && {
                                customerId: selectedCustomer.id
                            }
                        });
                        window.open(`/call?${params}`, "_blank", "noopener,noreferrer");
                        // Reset
                        handleOpenChange(false);
                    } catch  {
                        toast.error("Failed to start call. Please try again.");
                    }
                }
            }["PhoneDropdown.useCallback[handleAPICall]"]);
        }
    }["PhoneDropdown.useCallback[handleAPICall]"], [
        companyId,
        toNumber,
        fromNumber,
        selectedCustomer,
        isPending,
        toast,
        handleOpenChange
    ]);
    // Make call via WebRTC (primary mode)
    const handleWebRTCCall = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "PhoneDropdown.useCallback[handleWebRTCCall]": async ()=>{
            const to = toNumber.replace(/\D/g, "");
            if (!to) {
                toast.error("Please enter a valid phone number");
                return;
            }
            if (!webrtc.isConnected) {
                toast.error("WebRTC not connected. Trying API mode...");
                handleAPICall();
                return;
            }
            if (!fromNumber) {
                toast.error("Please select a company phone number");
                return;
            }
            try {
                await webrtc.makeCall(to, fromNumber);
                toast.success(selectedCustomer ? `Calling ${getCustomerName(selectedCustomer)}` : `Calling ${formatPhone(toNumber)}`);
            } catch (error) {
                console.error("WebRTC call error:", error);
                toast.error("Failed to start call via WebRTC");
                // Fallback to API
                toast.info("Falling back to API mode...");
                handleAPICall();
            }
        }
    }["PhoneDropdown.useCallback[handleWebRTCCall]"], [
        toNumber,
        fromNumber,
        selectedCustomer,
        webrtc,
        toast,
        handleAPICall
    ]);
    // Start call based on mode
    const handleStartCall = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "PhoneDropdown.useCallback[handleStartCall]": ()=>{
            if (callMode === "webrtc" && webrtc.isConnected) {
                handleWebRTCCall();
            } else {
                handleAPICall();
            }
        }
    }["PhoneDropdown.useCallback[handleStartCall]"], [
        callMode,
        webrtc.isConnected,
        handleWebRTCCall,
        handleAPICall
    ]);
    // Handle WebRTC call controls
    const handleMuteToggle = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "PhoneDropdown.useCallback[handleMuteToggle]": async ()=>{
            try {
                if (webrtc.currentCall?.isMuted) {
                    await webrtc.unmuteCall();
                } else {
                    await webrtc.muteCall();
                }
            } catch (error) {
                console.error("Mute toggle error:", error);
            }
        }
    }["PhoneDropdown.useCallback[handleMuteToggle]"], [
        webrtc
    ]);
    const handleHoldToggle = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "PhoneDropdown.useCallback[handleHoldToggle]": async ()=>{
            try {
                if (webrtc.currentCall?.isHeld) {
                    await webrtc.unholdCall();
                } else {
                    await webrtc.holdCall();
                }
            } catch (error) {
                console.error("Hold toggle error:", error);
            }
        }
    }["PhoneDropdown.useCallback[handleHoldToggle]"], [
        webrtc
    ]);
    const handleEndCall = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCallback"])({
        "PhoneDropdown.useCallback[handleEndCall]": async ()=>{
            try {
                await webrtc.endCall();
            } catch (error) {
                console.error("End call error:", error);
            }
        }
    }["PhoneDropdown.useCallback[handleEndCall]"], [
        webrtc
    ]);
    const canCall = Boolean(toNumber.trim() && fromNumber && companyPhones.length > 0);
    const isWebRTCReady = callMode === "webrtc" && connectionStatus === "connected";
    const hasActiveCall = webrtc.currentCall && webrtc.currentCall.state !== "idle" && webrtc.currentCall.state !== "ended";
    // SSR placeholder
    if (!mounted) {
        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
            className: "flex h-8 w-8 items-center justify-center rounded-md border border-transparent opacity-50",
            disabled: true,
            type: "button",
            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$phone$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Phone$3e$__["Phone"], {
                className: "h-4 w-4"
            }, void 0, false, {
                fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                lineNumber: 772,
                columnNumber: 5
            }, this)
        }, void 0, false, {
            fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
            lineNumber: 767,
            columnNumber: 4
        }, this);
    }
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$tooltip$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TooltipProvider"], {
        delayDuration: 200,
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DropdownMenu"], {
            open: open,
            onOpenChange: handleOpenChange,
            children: [
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$tooltip$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Tooltip"], {
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$tooltip$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TooltipTrigger"], {
                            asChild: true,
                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DropdownMenuTrigger"], {
                                asChild: true,
                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                    className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("relative flex h-8 w-8 items-center justify-center rounded-md", "border border-transparent transition-all", "hover:border-primary/20 hover:bg-primary/10 hover:text-primary", "focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring/50", hasIncomingCall && "animate-pulse text-primary", hasActiveCall && "text-success"),
                                    type: "button",
                                    children: [
                                        hasActiveCall ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$phone$2d$call$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__PhoneCall$3e$__["PhoneCall"], {
                                            className: "h-4 w-4"
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                            lineNumber: 795,
                                            columnNumber: 10
                                        }, this) : hasIncomingCall ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$phone$2d$incoming$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__PhoneIncoming$3e$__["PhoneIncoming"], {
                                            className: "h-4 w-4"
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                            lineNumber: 797,
                                            columnNumber: 10
                                        }, this) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$phone$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Phone$3e$__["Phone"], {
                                            className: "h-4 w-4"
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                            lineNumber: 799,
                                            columnNumber: 10
                                        }, this),
                                        displayCount > 0 && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$badge$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Badge"], {
                                            variant: "destructive",
                                            className: "absolute -right-1 -top-1 flex h-5 w-5 items-center justify-center rounded-full p-0 text-[10px]",
                                            children: displayCount > 9 ? "9+" : displayCount
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                            lineNumber: 802,
                                            columnNumber: 10
                                        }, this)
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                    lineNumber: 783,
                                    columnNumber: 8
                                }, this)
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                lineNumber: 782,
                                columnNumber: 7
                            }, this)
                        }, void 0, false, {
                            fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                            lineNumber: 781,
                            columnNumber: 6
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$tooltip$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["TooltipContent"], {
                            side: "bottom",
                            children: hasActiveCall ? "Call in Progress" : hasIncomingCall ? "Incoming Call" : "Make a Call"
                        }, void 0, false, {
                            fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                            lineNumber: 812,
                            columnNumber: 6
                        }, this)
                    ]
                }, void 0, true, {
                    fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                    lineNumber: 780,
                    columnNumber: 5
                }, this),
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DropdownMenuContent"], {
                    align: "end",
                    className: "w-80 p-0",
                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "space-y-3 p-4",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "flex items-center justify-between",
                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "flex items-center gap-3",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                            className: "flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-primary/10",
                                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$phone$2d$call$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__PhoneCall$3e$__["PhoneCall"], {
                                                className: "h-5 w-5 text-primary"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                lineNumber: 823,
                                                columnNumber: 10
                                            }, this)
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                            lineNumber: 822,
                                            columnNumber: 9
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                            className: "min-w-0 flex-1",
                                            children: [
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("h3", {
                                                    className: "text-sm font-semibold",
                                                    children: "Make a Call"
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                    lineNumber: 826,
                                                    columnNumber: 10
                                                }, this),
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(ConnectionStatusBadge, {
                                                    status: connectionStatus,
                                                    mode: callMode,
                                                    onRetry: handleRetryConnection
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                    lineNumber: 827,
                                                    columnNumber: 10
                                                }, this)
                                            ]
                                        }, void 0, true, {
                                            fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                            lineNumber: 825,
                                            columnNumber: 9
                                        }, this)
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                    lineNumber: 821,
                                    columnNumber: 8
                                }, this)
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                lineNumber: 820,
                                columnNumber: 7
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "flex items-center justify-between rounded-lg border bg-muted/30 p-2",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "flex items-center gap-2",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$server$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Server$3e$__["Server"], {
                                                className: "h-4 w-4 text-muted-foreground"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                lineNumber: 839,
                                                columnNumber: 9
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                className: "text-xs text-muted-foreground",
                                                children: "API Mode"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                lineNumber: 840,
                                                columnNumber: 9
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                        lineNumber: 838,
                                        columnNumber: 8
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$switch$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Switch"], {
                                        checked: callMode === "webrtc",
                                        onCheckedChange: handleModeToggle,
                                        disabled: !webrtcCredentials
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                        lineNumber: 842,
                                        columnNumber: 8
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "flex items-center gap-2",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                className: "text-xs text-muted-foreground",
                                                children: "Browser Audio"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                lineNumber: 848,
                                                columnNumber: 9
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$headphones$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Headphones$3e$__["Headphones"], {
                                                className: "h-4 w-4 text-muted-foreground"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                lineNumber: 849,
                                                columnNumber: 9
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                        lineNumber: 847,
                                        columnNumber: 8
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                lineNumber: 837,
                                columnNumber: 7
                            }, this),
                            hasActiveCall && webrtc.currentCall && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Fragment"], {
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(ActiveCallCard, {
                                        call: webrtc.currentCall,
                                        onMute: handleMuteToggle,
                                        onHold: handleHoldToggle,
                                        onEnd: handleEndCall
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                        lineNumber: 856,
                                        columnNumber: 9
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DropdownMenuSeparator"], {}, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                        lineNumber: 862,
                                        columnNumber: 9
                                    }, this)
                                ]
                            }, void 0, true),
                            hasIncomingCall && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Fragment"], {
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "flex items-center gap-3 rounded-lg border border-destructive/30 bg-destructive/10 p-3",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$phone$2d$incoming$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__PhoneIncoming$3e$__["PhoneIncoming"], {
                                                className: "h-5 w-5 shrink-0 animate-pulse text-destructive"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                lineNumber: 870,
                                                columnNumber: 10
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: "min-w-0 flex-1",
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                                        className: "text-sm font-semibold text-destructive",
                                                        children: "Incoming Call"
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                        lineNumber: 872,
                                                        columnNumber: 11
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                                        className: "truncate text-xs text-destructive/80",
                                                        children: caller?.name || caller?.number || "Unknown"
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                        lineNumber: 873,
                                                        columnNumber: 11
                                                    }, this)
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                lineNumber: 871,
                                                columnNumber: 10
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                        lineNumber: 869,
                                        columnNumber: 9
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DropdownMenuSeparator"], {}, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                        lineNumber: 878,
                                        columnNumber: 9
                                    }, this)
                                ]
                            }, void 0, true),
                            connectionError && callMode === "webrtc" && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "rounded-lg border border-warning/30 bg-warning/10 p-2",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                        className: "text-xs text-warning",
                                        children: connectionError
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                        lineNumber: 885,
                                        columnNumber: 9
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                        className: "mt-1 text-xs text-muted-foreground",
                                        children: "Calls will use API mode (opens in new window)"
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                        lineNumber: 886,
                                        columnNumber: 9
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                lineNumber: 884,
                                columnNumber: 8
                            }, this),
                            !hasActiveCall && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Fragment"], {
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "space-y-1.5",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                className: "text-xs font-medium text-muted-foreground",
                                                children: "Customer (optional)"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                lineNumber: 896,
                                                columnNumber: 10
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$popover$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Popover"], {
                                                open: customerSearchOpen,
                                                onOpenChange: setCustomerSearchOpen,
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$popover$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PopoverTrigger"], {
                                                        asChild: true,
                                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Button"], {
                                                            variant: "outline",
                                                            className: "h-9 w-full justify-start gap-2 px-3 font-normal",
                                                            disabled: customersLoading,
                                                            children: [
                                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$user$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__User$3e$__["User"], {
                                                                    className: "h-4 w-4 shrink-0 text-muted-foreground"
                                                                }, void 0, false, {
                                                                    fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                                    lineNumber: 906,
                                                                    columnNumber: 13
                                                                }, this),
                                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                                    className: "min-w-0 flex-1 truncate text-left",
                                                                    children: selectedCustomer ? getCustomerName(selectedCustomer) : "Search..."
                                                                }, void 0, false, {
                                                                    fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                                    lineNumber: 907,
                                                                    columnNumber: 13
                                                                }, this),
                                                                selectedCustomer && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$x$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__X$3e$__["X"], {
                                                                    className: "h-4 w-4 shrink-0 text-muted-foreground hover:text-foreground",
                                                                    onClick: (e)=>{
                                                                        e.stopPropagation();
                                                                        handleCustomerSelect(null);
                                                                    }
                                                                }, void 0, false, {
                                                                    fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                                    lineNumber: 911,
                                                                    columnNumber: 14
                                                                }, this)
                                                            ]
                                                        }, void 0, true, {
                                                            fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                            lineNumber: 901,
                                                            columnNumber: 12
                                                        }, this)
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                        lineNumber: 900,
                                                        columnNumber: 11
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$popover$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PopoverContent"], {
                                                        align: "start",
                                                        className: "w-80 p-0",
                                                        sideOffset: 4,
                                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$command$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Command"], {
                                                            shouldFilter: false,
                                                            children: [
                                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$command$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CommandInput"], {
                                                                    placeholder: "Name, phone, or email...",
                                                                    value: customerSearchQuery,
                                                                    onValueChange: setCustomerSearchQuery
                                                                }, void 0, false, {
                                                                    fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                                    lineNumber: 923,
                                                                    columnNumber: 13
                                                                }, this),
                                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$command$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CommandList"], {
                                                                    className: "max-h-[200px]",
                                                                    children: [
                                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$command$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CommandEmpty"], {
                                                                            className: "py-4 text-center text-sm text-muted-foreground",
                                                                            children: "No customers found"
                                                                        }, void 0, false, {
                                                                            fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                                            lineNumber: 929,
                                                                            columnNumber: 14
                                                                        }, this),
                                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$command$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CommandGroup"], {
                                                                            children: filteredCustomers.map((c)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$command$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["CommandItem"], {
                                                                                    value: c.id,
                                                                                    onSelect: ()=>handleCustomerSelect(c),
                                                                                    className: "flex cursor-pointer items-center gap-2 px-3 py-2",
                                                                                    children: [
                                                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                                                            className: "min-w-0 flex-1",
                                                                                            children: [
                                                                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                                                                                    className: "truncate text-sm font-medium",
                                                                                                    children: getCustomerName(c)
                                                                                                }, void 0, false, {
                                                                                                    fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                                                                    lineNumber: 941,
                                                                                                    columnNumber: 18
                                                                                                }, this),
                                                                                                c.phone && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                                                                                    className: "truncate text-xs text-muted-foreground",
                                                                                                    children: formatPhone(c.phone)
                                                                                                }, void 0, false, {
                                                                                                    fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                                                                    lineNumber: 945,
                                                                                                    columnNumber: 19
                                                                                                }, this)
                                                                                            ]
                                                                                        }, void 0, true, {
                                                                                            fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                                                            lineNumber: 940,
                                                                                            columnNumber: 17
                                                                                        }, this),
                                                                                        selectedCustomer?.id === c.id && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Check$3e$__["Check"], {
                                                                                            className: "h-4 w-4 shrink-0 text-primary"
                                                                                        }, void 0, false, {
                                                                                            fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                                                            lineNumber: 951,
                                                                                            columnNumber: 18
                                                                                        }, this)
                                                                                    ]
                                                                                }, c.id, true, {
                                                                                    fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                                                    lineNumber: 934,
                                                                                    columnNumber: 16
                                                                                }, this))
                                                                        }, void 0, false, {
                                                                            fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                                            lineNumber: 932,
                                                                            columnNumber: 14
                                                                        }, this)
                                                                    ]
                                                                }, void 0, true, {
                                                                    fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                                    lineNumber: 928,
                                                                    columnNumber: 13
                                                                }, this)
                                                            ]
                                                        }, void 0, true, {
                                                            fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                            lineNumber: 922,
                                                            columnNumber: 12
                                                        }, this)
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                        lineNumber: 921,
                                                        columnNumber: 11
                                                    }, this)
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                lineNumber: 899,
                                                columnNumber: 10
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                        lineNumber: 895,
                                        columnNumber: 9
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "space-y-1.5",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                htmlFor: "phone-to",
                                                className: "text-xs font-medium text-muted-foreground",
                                                children: "Phone Number"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                lineNumber: 964,
                                                columnNumber: 10
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$input$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Input"], {
                                                id: "phone-to",
                                                placeholder: "(555) 123-4567",
                                                value: toNumber,
                                                onChange: (e)=>setToNumber(e.target.value),
                                                className: "h-9"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                lineNumber: 967,
                                                columnNumber: 10
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                        lineNumber: 963,
                                        columnNumber: 9
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "space-y-1.5",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("label", {
                                                htmlFor: "phone-from",
                                                className: "text-xs font-medium text-muted-foreground",
                                                children: "Your Company Line"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                lineNumber: 978,
                                                columnNumber: 10
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$select$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Select"], {
                                                value: fromNumber,
                                                onValueChange: setFromNumber,
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$select$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SelectTrigger"], {
                                                        id: "phone-from",
                                                        className: "h-9",
                                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$select$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SelectValue"], {
                                                            placeholder: "Select line..."
                                                        }, void 0, false, {
                                                            fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                            lineNumber: 983,
                                                            columnNumber: 12
                                                        }, this)
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                        lineNumber: 982,
                                                        columnNumber: 11
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$select$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SelectContent"], {
                                                        children: companyPhones.map((p)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$select$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["SelectItem"], {
                                                                value: p.number,
                                                                children: p.label || formatPhone(p.number)
                                                            }, p.id, false, {
                                                                fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                                lineNumber: 987,
                                                                columnNumber: 13
                                                            }, this))
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                        lineNumber: 985,
                                                        columnNumber: 11
                                                    }, this)
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                lineNumber: 981,
                                                columnNumber: 10
                                            }, this),
                                            companyPhones.length === 0 && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                                className: "text-xs text-muted-foreground",
                                                children: "No phone numbers configured"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                lineNumber: 994,
                                                columnNumber: 11
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                        lineNumber: 977,
                                        columnNumber: 9
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Button"], {
                                        className: "w-full gap-2",
                                        disabled: !canCall || isPending,
                                        onClick: handleStartCall,
                                        children: isPending ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Fragment"], {
                                            children: [
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$loader$2d$circle$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Loader2$3e$__["Loader2"], {
                                                    className: "h-4 w-4 animate-spin"
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                    lineNumber: 1008,
                                                    columnNumber: 12
                                                }, this),
                                                "Starting..."
                                            ]
                                        }, void 0, true) : isWebRTCReady ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Fragment"], {
                                            children: [
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$headphones$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Headphones$3e$__["Headphones"], {
                                                    className: "h-4 w-4"
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                    lineNumber: 1013,
                                                    columnNumber: 12
                                                }, this),
                                                "Call (Browser Audio)"
                                            ]
                                        }, void 0, true) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Fragment"], {
                                            children: [
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$phone$2d$outgoing$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__PhoneOutgoing$3e$__["PhoneOutgoing"], {
                                                    className: "h-4 w-4"
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                    lineNumber: 1018,
                                                    columnNumber: 12
                                                }, this),
                                                "Call (Opens Window)"
                                            ]
                                        }, void 0, true)
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                        lineNumber: 1001,
                                        columnNumber: 9
                                    }, this)
                                ]
                            }, void 0, true),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DropdownMenuSeparator"], {}, void 0, false, {
                                fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                lineNumber: 1027,
                                columnNumber: 7
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "flex gap-2",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$client$2f$app$2d$dir$2f$link$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                                        href: "/dashboard/communication?filter=calls",
                                        onClick: ()=>handleOpenChange(false),
                                        className: "flex flex-1 items-center justify-center gap-1.5 rounded-md px-2 py-1.5 text-xs font-medium text-muted-foreground transition-colors hover:bg-muted hover:text-foreground",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$clock$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Clock$3e$__["Clock"], {
                                                className: "h-3.5 w-3.5"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                lineNumber: 1034,
                                                columnNumber: 9
                                            }, this),
                                            "History"
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                        lineNumber: 1029,
                                        columnNumber: 8
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$client$2f$app$2d$dir$2f$link$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                                        href: "/dashboard/communication",
                                        onClick: ()=>handleOpenChange(false),
                                        className: "flex flex-1 items-center justify-center gap-1.5 rounded-md px-2 py-1.5 text-xs font-medium text-muted-foreground transition-colors hover:bg-muted hover:text-foreground",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$message$2d$square$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__MessageSquare$3e$__["MessageSquare"], {
                                                className: "h-3.5 w-3.5"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                                lineNumber: 1042,
                                                columnNumber: 9
                                            }, this),
                                            "Messages"
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                        lineNumber: 1037,
                                        columnNumber: 8
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                                lineNumber: 1028,
                                columnNumber: 7
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                        lineNumber: 818,
                        columnNumber: 6
                    }, this)
                }, void 0, false, {
                    fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
                    lineNumber: 817,
                    columnNumber: 5
                }, this)
            ]
        }, void 0, true, {
            fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
            lineNumber: 779,
            columnNumber: 4
        }, this)
    }, void 0, false, {
        fileName: "[project]/apps/web/src/components/layout/phone-dropdown.tsx",
        lineNumber: 778,
        columnNumber: 3
    }, this);
}
_s1(PhoneDropdown, "ava8Jl/lgBiYY5tkphk686lTMGI=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$hooks$2f$use$2d$toast$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useToast"],
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTransition"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$hooks$2f$use$2d$dialer$2d$customers$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useDialerCustomers"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$dialer$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useDialerStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$ui$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useUIStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$ui$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useUIStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$hooks$2f$use$2d$telnyx$2d$webrtc$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTelnyxWebRTC"]
    ];
});
_c2 = PhoneDropdown;
var _c, _c1, _c2;
__turbopack_context__.k.register(_c, "ConnectionStatusBadge");
__turbopack_context__.k.register(_c1, "ActiveCallCard");
__turbopack_context__.k.register(_c2, "PhoneDropdown");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/components/layout/quick-add-dropdown.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "QuickAddDropdown",
    ()=>QuickAddDropdown
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
/**
 * QuickAddDropdown - Client Component
 *
 * Quick access dropdown menu for creating new records across the application.
 * Provides one-click access to common creation actions from the main header.
 *
 * Client-side features:
 * - Dropdown menu with grouped actions by category
 * - Keyboard shortcuts display for power users
 * - Icon-based visual hierarchy
 * - Accessible with screen reader support
 *
 * Performance:
 * - Uses shadcn/ui DropdownMenu (Radix UI primitives)
 * - No data fetching - purely navigation-based
 * - Minimal bundle impact (~2KB)
 * - Client-only rendering to prevent hydration mismatch
 */ var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$briefcase$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Briefcase$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/briefcase.js [app-client] (ecmascript) <export default as Briefcase>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$calendar$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Calendar$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/calendar.js [app-client] (ecmascript) <export default as Calendar>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$dollar$2d$sign$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__DollarSign$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/dollar-sign.js [app-client] (ecmascript) <export default as DollarSign>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$file$2d$pen$2d$line$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__FileSignature$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/file-pen-line.js [app-client] (ecmascript) <export default as FileSignature>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$file$2d$spreadsheet$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__FileSpreadsheet$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/file-spreadsheet.js [app-client] (ecmascript) <export default as FileSpreadsheet>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$file$2d$text$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__FileText$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/file-text.js [app-client] (ecmascript) <export default as FileText>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$plus$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Plus$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/plus.js [app-client] (ecmascript) <export default as Plus>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$tag$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Tag$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/tag.js [app-client] (ecmascript) <export default as Tag>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$user$2d$plus$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__UserPlus$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/user-plus.js [app-client] (ecmascript) <export default as UserPlus>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$client$2f$app$2d$dir$2f$link$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/client/app-dir/link.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ui$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/web/src/components/ui/dropdown-menu.tsx [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/src/dropdown-menu.tsx [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
"use client";
;
;
;
;
const quickAddActions = {
    Work: [
        {
            label: "New Job",
            href: "/dashboard/work/new",
            icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$briefcase$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Briefcase$3e$__["Briefcase"],
            shortcut: "J",
            description: "Create a new work order"
        },
        {
            label: "New Invoice",
            href: "/dashboard/work/invoices/new",
            icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$file$2d$text$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__FileText$3e$__["FileText"],
            shortcut: "I",
            description: "Generate an invoice"
        },
        {
            label: "New Estimate",
            href: "/dashboard/work/estimates/new",
            icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$file$2d$spreadsheet$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__FileSpreadsheet$3e$__["FileSpreadsheet"],
            shortcut: "E",
            description: "Create a quote"
        },
        {
            label: "New Contract",
            href: "/dashboard/work/contracts/new",
            icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$file$2d$pen$2d$line$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__FileSignature$3e$__["FileSignature"],
            description: "Draft a service contract"
        }
    ],
    Customers: [
        {
            label: "New Customer",
            href: "/dashboard/customers/new",
            icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$user$2d$plus$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__UserPlus$3e$__["UserPlus"],
            shortcut: "K",
            description: "Add a customer"
        }
    ],
    Finance: [
        {
            label: "Record Payment",
            href: "/dashboard/finance/payments/new",
            icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$dollar$2d$sign$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__DollarSign$3e$__["DollarSign"],
            description: "Log a payment"
        }
    ],
    Other: [
        {
            label: "Schedule Job",
            href: "/dashboard/schedule/new",
            icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$calendar$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Calendar$3e$__["Calendar"],
            description: "Add to schedule"
        },
        {
            label: "Price Book Item",
            href: "/dashboard/work/pricebook/new",
            icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$tag$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Tag$3e$__["Tag"],
            description: "Add inventory item"
        }
    ]
};
function QuickAddDropdown() {
    _s();
    const [mounted, setMounted] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    // Only render on client to prevent hydration mismatch with Radix UI IDs
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "QuickAddDropdown.useEffect": ()=>{
            setMounted(true);
        }
    }["QuickAddDropdown.useEffect"], []);
    if (!mounted) {
        // Render placeholder button during SSR that matches client button dimensions
        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
            className: "hover-gradient hover:border-primary/20 hover:bg-primary/10 hover:text-primary focus-visible:ring-ring/50 flex h-8 w-8 items-center justify-center rounded-md border border-transparent transition-all outline-none focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50",
            disabled: true,
            title: "Quick Add",
            type: "button",
            children: [
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$plus$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Plus$3e$__["Plus"], {
                    className: "size-4"
                }, void 0, false, {
                    fileName: "[project]/apps/web/src/components/layout/quick-add-dropdown.tsx",
                    lineNumber: 134,
                    columnNumber: 5
                }, this),
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                    className: "sr-only",
                    children: "Quick Add Menu"
                }, void 0, false, {
                    fileName: "[project]/apps/web/src/components/layout/quick-add-dropdown.tsx",
                    lineNumber: 135,
                    columnNumber: 5
                }, this)
            ]
        }, void 0, true, {
            fileName: "[project]/apps/web/src/components/layout/quick-add-dropdown.tsx",
            lineNumber: 128,
            columnNumber: 4
        }, this);
    }
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DropdownMenu"], {
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DropdownMenuTrigger"], {
                asChild: true,
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                    className: "hover-gradient hover:border-primary/20 hover:bg-primary/10 hover:text-primary focus-visible:ring-ring/50 flex h-8 w-8 items-center justify-center rounded-md border border-transparent transition-all outline-none focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50",
                    title: "Quick Add",
                    type: "button",
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$plus$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Plus$3e$__["Plus"], {
                            className: "size-4"
                        }, void 0, false, {
                            fileName: "[project]/apps/web/src/components/layout/quick-add-dropdown.tsx",
                            lineNumber: 148,
                            columnNumber: 6
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                            className: "sr-only",
                            children: "Quick Add Menu"
                        }, void 0, false, {
                            fileName: "[project]/apps/web/src/components/layout/quick-add-dropdown.tsx",
                            lineNumber: 149,
                            columnNumber: 6
                        }, this)
                    ]
                }, void 0, true, {
                    fileName: "[project]/apps/web/src/components/layout/quick-add-dropdown.tsx",
                    lineNumber: 143,
                    columnNumber: 5
                }, this)
            }, void 0, false, {
                fileName: "[project]/apps/web/src/components/layout/quick-add-dropdown.tsx",
                lineNumber: 142,
                columnNumber: 4
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DropdownMenuContent"], {
                align: "end",
                className: "w-64 rounded-lg",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DropdownMenuLabel"], {
                        className: "font-semibold",
                        children: "Quick Add"
                    }, void 0, false, {
                        fileName: "[project]/apps/web/src/components/layout/quick-add-dropdown.tsx",
                        lineNumber: 153,
                        columnNumber: 5
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DropdownMenuSeparator"], {}, void 0, false, {
                        fileName: "[project]/apps/web/src/components/layout/quick-add-dropdown.tsx",
                        lineNumber: 156,
                        columnNumber: 5
                    }, this),
                    Object.entries(quickAddActions).map(([category, actions], index)=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            children: [
                                index > 0 && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DropdownMenuSeparator"], {}, void 0, false, {
                                    fileName: "[project]/apps/web/src/components/layout/quick-add-dropdown.tsx",
                                    lineNumber: 160,
                                    columnNumber: 21
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DropdownMenuLabel"], {
                                    className: "text-muted-foreground text-xs",
                                    children: category
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/src/components/layout/quick-add-dropdown.tsx",
                                    lineNumber: 161,
                                    columnNumber: 7
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DropdownMenuGroup"], {
                                    children: actions.map((action)=>{
                                        const Icon = action.icon;
                                        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DropdownMenuItem"], {
                                            asChild: true,
                                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$client$2f$app$2d$dir$2f$link$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                                                className: "flex items-center gap-2",
                                                href: action.href,
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(Icon, {
                                                        className: "size-4"
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/src/components/layout/quick-add-dropdown.tsx",
                                                        lineNumber: 173,
                                                        columnNumber: 12
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                        className: "flex flex-1 flex-col",
                                                        children: [
                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                                className: "text-sm",
                                                                children: action.label
                                                            }, void 0, false, {
                                                                fileName: "[project]/apps/web/src/components/layout/quick-add-dropdown.tsx",
                                                                lineNumber: 175,
                                                                columnNumber: 13
                                                            }, this),
                                                            action.description && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                                className: "text-muted-foreground text-xs",
                                                                children: action.description
                                                            }, void 0, false, {
                                                                fileName: "[project]/apps/web/src/components/layout/quick-add-dropdown.tsx",
                                                                lineNumber: 177,
                                                                columnNumber: 14
                                                            }, this)
                                                        ]
                                                    }, void 0, true, {
                                                        fileName: "[project]/apps/web/src/components/layout/quick-add-dropdown.tsx",
                                                        lineNumber: 174,
                                                        columnNumber: 12
                                                    }, this),
                                                    action.shortcut && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DropdownMenuShortcut"], {
                                                        children: action.shortcut
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/src/components/layout/quick-add-dropdown.tsx",
                                                        lineNumber: 183,
                                                        columnNumber: 13
                                                    }, this)
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/apps/web/src/components/layout/quick-add-dropdown.tsx",
                                                lineNumber: 169,
                                                columnNumber: 11
                                            }, this)
                                        }, action.href, false, {
                                            fileName: "[project]/apps/web/src/components/layout/quick-add-dropdown.tsx",
                                            lineNumber: 168,
                                            columnNumber: 10
                                        }, this);
                                    })
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/src/components/layout/quick-add-dropdown.tsx",
                                    lineNumber: 164,
                                    columnNumber: 7
                                }, this)
                            ]
                        }, category, true, {
                            fileName: "[project]/apps/web/src/components/layout/quick-add-dropdown.tsx",
                            lineNumber: 159,
                            columnNumber: 6
                        }, this))
                ]
            }, void 0, true, {
                fileName: "[project]/apps/web/src/components/layout/quick-add-dropdown.tsx",
                lineNumber: 152,
                columnNumber: 4
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/apps/web/src/components/layout/quick-add-dropdown.tsx",
        lineNumber: 141,
        columnNumber: 3
    }, this);
}
_s(QuickAddDropdown, "LrrVfNW3d1raFE0BNzCTILYmIfo=");
_c = QuickAddDropdown;
var _c;
__turbopack_context__.k.register(_c, "QuickAddDropdown");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:48a49a [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"005a48890fa7863395276cf2f0eee59386df8294ad":"signOut"},"apps/web/src/actions/auth.ts",""] */ __turbopack_context__.s([
    "signOut",
    ()=>signOut
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var signOut = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("005a48890fa7863395276cf2f0eee59386df8294ad", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "signOut"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vYXV0aC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzZXJ2ZXJcIjtcblxuaW1wb3J0IHsgQXV0aEFwaUVycm9yLCBBdXRoVW5rbm93bkVycm9yIH0gZnJvbSBcIkBzdXBhYmFzZS9zdXBhYmFzZS1qc1wiO1xuaW1wb3J0IHsgQnVmZmVyIH0gZnJvbSBcIm5vZGU6YnVmZmVyXCI7XG5pbXBvcnQgeyBleHRuYW1lIH0gZnJvbSBcIm5vZGU6cGF0aFwiO1xuLy8gaW1wb3J0IHsgY2hlY2tCb3RJZCB9IGZyb20gXCJib3RpZC9zZXJ2ZXJcIjtcbmltcG9ydCB7IGNsZWFyQWN0aXZlQ29tcGFueSB9IGZyb20gXCJAL2xpYi9hdXRoL2NvbXBhbnktY29udGV4dFwiO1xuaW1wb3J0IHtcbiAgICBjcmVhdGVFbWFpbFZlcmlmaWNhdGlvblRva2VuLFxuICAgIHZlcmlmeUFuZENvbnN1bWVUb2tlbixcbn0gZnJvbSBcIkAvbGliL2F1dGgvdG9rZW5zXCI7XG5pbXBvcnQgeyBlbWFpbENvbmZpZyB9IGZyb20gXCJAL2xpYi9lbWFpbC9yZXNlbmQtY2xpZW50XCI7XG5pbXBvcnQgeyBjbGVhckNTUkZUb2tlbiB9IGZyb20gXCJAL2xpYi9zZWN1cml0eS9jc3JmXCI7XG5pbXBvcnQge1xuICAgIGF1dGhSYXRlTGltaXRlcixcbiAgICBjaGVja1JhdGVMaW1pdCxcbiAgICBwYXNzd29yZFJlc2V0UmF0ZUxpbWl0ZXIsXG4gICAgUmF0ZUxpbWl0RXJyb3IsXG59IGZyb20gXCJAL2xpYi9zZWN1cml0eS9yYXRlLWxpbWl0XCI7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tIFwiQC9saWIvc3VwYWJhc2Uvc2VydmVyXCI7XG5pbXBvcnQge1xuICAgIGNyZWF0ZVNlcnZpY2VTdXBhYmFzZUNsaWVudCxcbiAgICB0eXBlIFNlcnZpY2VTdXBhYmFzZUNsaWVudCxcbn0gZnJvbSBcIkAvbGliL3N1cGFiYXNlL3NlcnZpY2UtY2xpZW50XCI7XG5pbXBvcnQgeyByZXZhbGlkYXRlUGF0aCB9IGZyb20gXCJuZXh0L2NhY2hlXCI7XG5pbXBvcnQgeyByZWRpcmVjdCB9IGZyb20gXCJuZXh0L25hdmlnYXRpb25cIjtcbmltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG5pbXBvcnQge1xuICAgIHNlbmRFbWFpbFZlcmlmaWNhdGlvbixcbiAgICBzZW5kUGFzc3dvcmRDaGFuZ2VkLFxuICAgIHNlbmRXZWxjb21lRW1haWwsXG59IGZyb20gXCIuL2VtYWlsc1wiO1xuXG5jb25zdCBOQU1FX01JTl9MRU5HVEggPSAyO1xuY29uc3QgTkFNRV9NQVhfTEVOR1RIID0gMTAwO1xuY29uc3QgQ09NUEFOWV9OQU1FX01JTl9MRU5HVEggPSAyO1xuY29uc3QgQ09NUEFOWV9OQU1FX01BWF9MRU5HVEggPSAyMDA7XG5jb25zdCBQSE9ORV9NSU5fRElHSVRTID0gMTA7XG5jb25zdCBQQVNTV09SRF9NSU5fTEVOR1RIID0gODtcbmNvbnN0IFBBU1NXT1JEX01BWF9MRU5HVEggPSAxMDA7XG5jb25zdCBDT05GSVJNQVRJT05fVE9LRU5fVFRMX0hPVVJTID0gMjQ7XG5jb25zdCBDT1VOVFJZX0NPREVfVVMgPSBcIjFcIjtcbmNvbnN0IE5BVElPTkFMX05VTUJFUl9ESUdJVFMgPSAxMDtcbmNvbnN0IEVYVEVOREVEX1VTX05VTUJFUl9ESUdJVFMgPSAxMTtcbmNvbnN0IEJZVEVTX1BFUl9LSUxPQllURSA9IDEwMjQ7XG5jb25zdCBCWVRFU19QRVJfTUVHQUJZVEUgPSBCWVRFU19QRVJfS0lMT0JZVEUgKiBCWVRFU19QRVJfS0lMT0JZVEU7XG5jb25zdCBBVkFUQVJfU0laRV9MSU1JVF9NQiA9IDU7XG5jb25zdCBNQVhfQVZBVEFSX0ZJTEVfU0laRSA9IEFWQVRBUl9TSVpFX0xJTUlUX01CICogQllURVNfUEVSX01FR0FCWVRFO1xuXG4vKipcbiAqIEF1dGhlbnRpY2F0aW9uIFNlcnZlciBBY3Rpb25zIC0gU3VwYWJhc2UgQXV0aCArIFJlc2VuZCBFbWFpbCBJbnRlZ3JhdGlvblxuICpcbiAqIFBlcmZvcm1hbmNlIG9wdGltaXphdGlvbnM6XG4gKiAtIFNlcnZlciBBY3Rpb25zIGZvciBzZWN1cmUgYXV0aGVudGljYXRpb25cbiAqIC0gU3VwYWJhc2UgQXV0aCBoYW5kbGVzIHBhc3N3b3JkIGhhc2hpbmcgYW5kIHNlc3Npb24gbWFuYWdlbWVudFxuICogLSBDdXN0b20gZW1haWxzIHZpYSBSZXNlbmQgd2l0aCBicmFuZGVkIHRlbXBsYXRlc1xuICogLSBab2QgdmFsaWRhdGlvbiBmb3IgaW5wdXQgc2FuaXRpemF0aW9uXG4gKiAtIFByb3BlciBlcnJvciBoYW5kbGluZyB3aXRoIHVzZXItZnJpZW5kbHkgbWVzc2FnZXNcbiAqL1xuXG4vLyBWYWxpZGF0aW9uIFNjaGVtYXNcbmNvbnN0IHNpZ25VcFNjaGVtYSA9IHoub2JqZWN0KHtcblx0bmFtZTogelxuXHRcdC5zdHJpbmcoKVxuXHRcdC50cmltKClcblx0XHQubWluKE5BTUVfTUlOX0xFTkdUSCwgXCJOYW1lIG11c3QgYmUgYXQgbGVhc3QgMiBjaGFyYWN0ZXJzXCIpXG5cdFx0Lm1heChOQU1FX01BWF9MRU5HVEgsIFwiTmFtZSBpcyB0b28gbG9uZ1wiKSxcblx0ZW1haWw6IHouc3RyaW5nKCkuZW1haWwoXCJJbnZhbGlkIGVtYWlsIGFkZHJlc3NcIiksXG5cdHBob25lOiB6XG5cdFx0LnN0cmluZygpXG5cdFx0LnRyaW0oKVxuXHRcdC5taW4oUEhPTkVfTUlOX0RJR0lUUywgXCJQaG9uZSBudW1iZXIgaXMgcmVxdWlyZWRcIilcblx0XHQucmVmaW5lKFxuXHRcdFx0KHZhbHVlKSA9PiB2YWx1ZS5yZXBsYWNlKC9cXEQvZywgXCJcIikubGVuZ3RoID49IFBIT05FX01JTl9ESUdJVFMsXG5cdFx0XHRcIkVudGVyIGEgdmFsaWQgcGhvbmUgbnVtYmVyXCIsXG5cdFx0KSxcblx0cGFzc3dvcmQ6IHpcblx0XHQuc3RyaW5nKClcblx0XHQubWluKFBBU1NXT1JEX01JTl9MRU5HVEgsIFwiUGFzc3dvcmQgbXVzdCBiZSBhdCBsZWFzdCA4IGNoYXJhY3RlcnNcIilcblx0XHQubWF4KFBBU1NXT1JEX01BWF9MRU5HVEgsIFwiUGFzc3dvcmQgaXMgdG9vIGxvbmdcIilcblx0XHQucmVnZXgoXG5cdFx0XHQvXig/PS4qW2Etel0pKD89LipbQS1aXSkoPz0uKlxcZCkvLFxuXHRcdFx0XCJQYXNzd29yZCBtdXN0IGNvbnRhaW4gdXBwZXJjYXNlLCBsb3dlcmNhc2UsIGFuZCBudW1iZXJcIixcblx0XHQpLFxuXHRjb21wYW55TmFtZTogelxuXHRcdC5zdHJpbmcoKVxuXHRcdC50cmltKClcblx0XHQubWluKENPTVBBTllfTkFNRV9NSU5fTEVOR1RILCBcIkNvbXBhbnkgbmFtZSBtdXN0IGJlIGF0IGxlYXN0IDIgY2hhcmFjdGVyc1wiKVxuXHRcdC5tYXgoQ09NUEFOWV9OQU1FX01BWF9MRU5HVEgsIFwiQ29tcGFueSBuYW1lIGlzIHRvbyBsb25nXCIpXG5cdFx0Lm9wdGlvbmFsKCksXG5cdHRlcm1zOiB6XG5cdFx0LmJvb2xlYW4oKVxuXHRcdC5yZWZpbmUoKHZhbCkgPT4gdmFsID09PSB0cnVlLCBcIllvdSBtdXN0IGFjY2VwdCB0aGUgdGVybXMgYW5kIGNvbmRpdGlvbnNcIiksXG59KTtcblxuY29uc3Qgc2lnbkluU2NoZW1hID0gei5vYmplY3Qoe1xuXHRlbWFpbDogei5zdHJpbmcoKS5lbWFpbChcIkludmFsaWQgZW1haWwgYWRkcmVzc1wiKSxcblx0cGFzc3dvcmQ6IHouc3RyaW5nKCkubWluKDEsIFwiUGFzc3dvcmQgaXMgcmVxdWlyZWRcIiksXG59KTtcblxuY29uc3QgZm9yZ290UGFzc3dvcmRTY2hlbWEgPSB6Lm9iamVjdCh7XG5cdGVtYWlsOiB6LnN0cmluZygpLmVtYWlsKFwiSW52YWxpZCBlbWFpbCBhZGRyZXNzXCIpLFxufSk7XG5cbmNvbnN0IHJlc2V0UGFzc3dvcmRTY2hlbWEgPSB6XG5cdC5vYmplY3Qoe1xuXHRcdHBhc3N3b3JkOiB6XG5cdFx0XHQuc3RyaW5nKClcblx0XHRcdC5taW4oUEFTU1dPUkRfTUlOX0xFTkdUSCwgXCJQYXNzd29yZCBtdXN0IGJlIGF0IGxlYXN0IDggY2hhcmFjdGVyc1wiKVxuXHRcdFx0Lm1heChQQVNTV09SRF9NQVhfTEVOR1RILCBcIlBhc3N3b3JkIGlzIHRvbyBsb25nXCIpXG5cdFx0XHQucmVnZXgoXG5cdFx0XHRcdC9eKD89LipbYS16XSkoPz0uKltBLVpdKSg/PS4qXFxkKS8sXG5cdFx0XHRcdFwiUGFzc3dvcmQgbXVzdCBjb250YWluIHVwcGVyY2FzZSwgbG93ZXJjYXNlLCBhbmQgbnVtYmVyXCIsXG5cdFx0XHQpLFxuXHRcdGNvbmZpcm1QYXNzd29yZDogei5zdHJpbmcoKSxcblx0fSlcblx0LnJlZmluZSgoZGF0YSkgPT4gZGF0YS5wYXNzd29yZCA9PT0gZGF0YS5jb25maXJtUGFzc3dvcmQsIHtcblx0XHRtZXNzYWdlOiBcIlBhc3N3b3JkcyBkb24ndCBtYXRjaFwiLFxuXHRcdHBhdGg6IFtcImNvbmZpcm1QYXNzd29yZFwiXSxcblx0fSk7XG5cbmNvbnN0IEFWQVRBUl9TVE9SQUdFX0JVQ0tFVCA9IFwiYXZhdGFyc1wiO1xuY29uc3QgU1VQQUJBU0VfUkFURV9MSU1JVF9NQVhfUkVUUklFUyA9IDM7XG5jb25zdCBTVVBBQkFTRV9SQVRFX0xJTUlUX0JBQ0tPRkZfTVMgPSAyMDA7XG5cbmNvbnN0IGRlbGF5ID0gKG1zOiBudW1iZXIpID0+XG5cdG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG5cdFx0c2V0VGltZW91dChyZXNvbHZlLCBtcyk7XG5cdH0pO1xuXG5jb25zdCB3aXRoU3VwYWJhc2VSYXRlTGltaXRSZXRyeSA9IGFzeW5jIDxUIGV4dGVuZHMgeyBlcnJvcj86IHVua25vd24gfT4oXG5cdG9wZXJhdGlvbjogKCkgPT4gUHJvbWlzZTxUPixcbik6IFByb21pc2U8VD4gPT4ge1xuXHRmb3IgKFxuXHRcdGxldCBhdHRlbXB0ID0gMTtcblx0XHRhdHRlbXB0IDw9IFNVUEFCQVNFX1JBVEVfTElNSVRfTUFYX1JFVFJJRVM7XG5cdFx0YXR0ZW1wdCArPSAxXG5cdCkge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBvcGVyYXRpb24oKTtcblxuXHRcdFx0aWYgKFxuXHRcdFx0XHRyZXN1bHQgJiZcblx0XHRcdFx0dHlwZW9mIHJlc3VsdCA9PT0gXCJvYmplY3RcIiAmJlxuXHRcdFx0XHRcImVycm9yXCIgaW4gcmVzdWx0ICYmXG5cdFx0XHRcdHJlc3VsdC5lcnJvciBpbnN0YW5jZW9mIEF1dGhBcGlFcnJvciAmJlxuXHRcdFx0XHRyZXN1bHQuZXJyb3IuY29kZSA9PT0gXCJvdmVyX3JlcXVlc3RfcmF0ZV9saW1pdFwiXG5cdFx0XHQpIHtcblx0XHRcdFx0aWYgKGF0dGVtcHQgPT09IFNVUEFCQVNFX1JBVEVfTElNSVRfTUFYX1JFVFJJRVMpIHtcblx0XHRcdFx0XHR0aHJvdyByZXN1bHQuZXJyb3I7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRhd2FpdCBkZWxheShTVVBBQkFTRV9SQVRFX0xJTUlUX0JBQ0tPRkZfTVMgKiBhdHRlbXB0KTtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdGlmIChcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBBdXRoQXBpRXJyb3IgJiZcblx0XHRcdFx0ZXJyb3IuY29kZSA9PT0gXCJvdmVyX3JlcXVlc3RfcmF0ZV9saW1pdFwiICYmXG5cdFx0XHRcdGF0dGVtcHQgPCBTVVBBQkFTRV9SQVRFX0xJTUlUX01BWF9SRVRSSUVTXG5cdFx0XHQpIHtcblx0XHRcdFx0YXdhaXQgZGVsYXkoU1VQQUJBU0VfUkFURV9MSU1JVF9CQUNLT0ZGX01TICogYXR0ZW1wdCk7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXHR9XG5cblx0dGhyb3cgbmV3IEVycm9yKFwiU3VwYWJhc2UgYXV0aCBvcGVyYXRpb24gZmFpbGVkIGFmdGVyIHJldHJpZXNcIik7XG59O1xuXG50eXBlIFNpZ25VcEZvcm1JbnB1dCA9IHouaW5mZXI8dHlwZW9mIHNpZ25VcFNjaGVtYT47XG5cbnR5cGUgU3VwYWJhc2VCcm93c2VyQ2xpZW50ID0gRXhjbHVkZTxcblx0QXdhaXRlZDxSZXR1cm5UeXBlPHR5cGVvZiBjcmVhdGVDbGllbnQ+Pixcblx0bnVsbFxuPjtcblxuZnVuY3Rpb24gbm9ybWFsaXplUGhvbmVOdW1iZXIoaW5wdXQ6IHN0cmluZyk6IHN0cmluZyB7XG5cdGNvbnN0IHRyaW1tZWQgPSBpbnB1dC50cmltKCk7XG5cdGNvbnN0IGRpZ2l0c09ubHkgPSB0cmltbWVkLnJlcGxhY2UoL1xcRC9nLCBcIlwiKTtcblxuXHRpZiAoIWRpZ2l0c09ubHkpIHtcblx0XHRyZXR1cm4gdHJpbW1lZDtcblx0fVxuXG5cdGlmICh0cmltbWVkLnN0YXJ0c1dpdGgoXCIrXCIpKSB7XG5cdFx0cmV0dXJuIGArJHtkaWdpdHNPbmx5fWA7XG5cdH1cblxuXHRpZiAoXG5cdFx0ZGlnaXRzT25seS5sZW5ndGggPT09IEVYVEVOREVEX1VTX05VTUJFUl9ESUdJVFMgJiZcblx0XHRkaWdpdHNPbmx5LnN0YXJ0c1dpdGgoQ09VTlRSWV9DT0RFX1VTKVxuXHQpIHtcblx0XHRyZXR1cm4gYCske2RpZ2l0c09ubHl9YDtcblx0fVxuXG5cdGlmIChkaWdpdHNPbmx5Lmxlbmd0aCA9PT0gTkFUSU9OQUxfTlVNQkVSX0RJR0lUUykge1xuXHRcdHJldHVybiBgKyR7Q09VTlRSWV9DT0RFX1VTfSR7ZGlnaXRzT25seX1gO1xuXHR9XG5cblx0cmV0dXJuIGArJHtkaWdpdHNPbmx5fWA7XG59XG5cbmNvbnN0IHJlcG9ydEF1dGhJc3N1ZSA9IChfbWVzc2FnZTogc3RyaW5nLCBfZXJyb3I/OiB1bmtub3duKSA9PiB7XG5cdC8vIFRPRE86IEludGVncmF0ZSBzdHJ1Y3R1cmVkIGxvZ2dpbmcvbW9uaXRvcmluZ1xufTtcblxuY29uc3QgZ2V0TWV0YWRhdGFTdHJpbmcgPSAoXG5cdG1ldGFkYXRhOiB1bmtub3duLFxuXHRrZXk6IHN0cmluZyxcbik6IHN0cmluZyB8IHVuZGVmaW5lZCA9PiB7XG5cdGlmIChtZXRhZGF0YSAmJiB0eXBlb2YgbWV0YWRhdGEgPT09IFwib2JqZWN0XCIpIHtcblx0XHRjb25zdCB2YWx1ZSA9IChtZXRhZGF0YSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPilba2V5XTtcblx0XHRpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuO1xufTtcblxuYXN5bmMgZnVuY3Rpb24gdXBsb2FkQXZhdGFyRm9yTmV3VXNlcihcblx0c3VwYWJhc2U6IFNlcnZpY2VTdXBhYmFzZUNsaWVudCxcblx0ZmlsZTogRmlsZSxcblx0dXNlcklkOiBzdHJpbmcsXG4pOiBQcm9taXNlPHN0cmluZyB8IG51bGw+IHtcblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIlN1cGFiYXNlIGNsaWVudCBub3QgY29uZmlndXJlZFwiKTtcblx0fVxuXHRpZiAoIWZpbGUudHlwZS5zdGFydHNXaXRoKFwiaW1hZ2UvXCIpKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiQXZhdGFyIG11c3QgYmUgYW4gaW1hZ2VcIik7XG5cdH1cblxuXHRpZiAoZmlsZS5zaXplID4gTUFYX0FWQVRBUl9GSUxFX1NJWkUpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYEF2YXRhciBtdXN0IGJlIHNtYWxsZXIgdGhhbiAke0FWQVRBUl9TSVpFX0xJTUlUX01CfU1CYCk7XG5cdH1cblxuXHRjb25zdCBhcnJheUJ1ZmZlciA9IGF3YWl0IGZpbGUuYXJyYXlCdWZmZXIoKTtcblx0Y29uc3QgZXh0ZW5zaW9uID0gZXh0bmFtZShmaWxlLm5hbWUpIHx8IFwiLmpwZ1wiO1xuXHRjb25zdCBmaWxlUGF0aCA9IGAke3VzZXJJZH0vcHJvZmlsZSR7ZXh0ZW5zaW9ufWA7XG5cblx0Y29uc3QgeyBlcnJvcjogdXBsb2FkRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnN0b3JhZ2Vcblx0XHQuZnJvbShBVkFUQVJfU1RPUkFHRV9CVUNLRVQpXG5cdFx0LnVwbG9hZChmaWxlUGF0aCwgQnVmZmVyLmZyb20oYXJyYXlCdWZmZXIpLCB7XG5cdFx0XHRjYWNoZUNvbnRyb2w6IFwiMzYwMFwiLFxuXHRcdFx0Y29udGVudFR5cGU6IGZpbGUudHlwZSB8fCBcImltYWdlL2pwZWdcIixcblx0XHRcdHVwc2VydDogdHJ1ZSxcblx0XHR9KTtcblxuXHRpZiAodXBsb2FkRXJyb3IpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IodXBsb2FkRXJyb3IubWVzc2FnZSk7XG5cdH1cblxuXHRjb25zdCB7XG5cdFx0ZGF0YTogeyBwdWJsaWNVcmwgfSxcblx0fSA9IHN1cGFiYXNlLnN0b3JhZ2UuZnJvbShBVkFUQVJfU1RPUkFHRV9CVUNLRVQpLmdldFB1YmxpY1VybChmaWxlUGF0aCk7XG5cblx0cmV0dXJuIHB1YmxpY1VybDtcbn1cblxuY29uc3QgY3JlYXRlU2VydmljZUNsaWVudExvYWRlciA9ICgpID0+IHtcblx0bGV0IGNsaWVudDogU2VydmljZVN1cGFiYXNlQ2xpZW50IHwgbnVsbCA9IG51bGw7XG5cdHJldHVybiBhc3luYyAoKSA9PiB7XG5cdFx0aWYgKGNsaWVudCkge1xuXHRcdFx0cmV0dXJuIGNsaWVudDtcblx0XHR9XG5cdFx0Y2xpZW50ID0gYXdhaXQgY3JlYXRlU2VydmljZVN1cGFiYXNlQ2xpZW50KCk7XG5cdFx0cmV0dXJuIGNsaWVudDtcblx0fTtcbn07XG5cbnR5cGUgUGFyc2VkU2lnblVwRm9ybSA9IHtcblx0dmFsaWRhdGVkOiBTaWduVXBGb3JtSW5wdXQ7XG5cdG5vcm1hbGl6ZWRQaG9uZTogc3RyaW5nO1xuXHRjb21wYW55TmFtZT86IHN0cmluZztcblx0YXZhdGFyRmlsZTogRmlsZSB8IG51bGw7XG59O1xuXG5jb25zdCBwYXJzZVNpZ25VcEZvcm1EYXRhID0gKGZvcm1EYXRhOiBGb3JtRGF0YSk6IFBhcnNlZFNpZ25VcEZvcm0gPT4ge1xuXHRjb25zdCBjb21wYW55TmFtZUVudHJ5ID0gZm9ybURhdGEuZ2V0KFwiY29tcGFueU5hbWVcIik7XG5cdGNvbnN0IG5vcm1hbGl6ZWRDb21wYW55TmFtZSA9XG5cdFx0dHlwZW9mIGNvbXBhbnlOYW1lRW50cnkgPT09IFwic3RyaW5nXCIgJiYgY29tcGFueU5hbWVFbnRyeS50cmltKCkubGVuZ3RoID4gMFxuXHRcdFx0PyBjb21wYW55TmFtZUVudHJ5XG5cdFx0XHQ6IHVuZGVmaW5lZDtcblxuXHRjb25zdCByYXdEYXRhID0ge1xuXHRcdG5hbWU6IChmb3JtRGF0YS5nZXQoXCJuYW1lXCIpIGFzIHN0cmluZykgPz8gXCJcIixcblx0XHRlbWFpbDogKGZvcm1EYXRhLmdldChcImVtYWlsXCIpIGFzIHN0cmluZykgPz8gXCJcIixcblx0XHRwaG9uZTogKGZvcm1EYXRhLmdldChcInBob25lXCIpIGFzIHN0cmluZykgPz8gXCJcIixcblx0XHRwYXNzd29yZDogKGZvcm1EYXRhLmdldChcInBhc3N3b3JkXCIpIGFzIHN0cmluZykgPz8gXCJcIixcblx0XHRjb21wYW55TmFtZTogbm9ybWFsaXplZENvbXBhbnlOYW1lLFxuXHRcdHRlcm1zOiBmb3JtRGF0YS5nZXQoXCJ0ZXJtc1wiKSA9PT0gXCJvblwiIHx8IGZvcm1EYXRhLmdldChcInRlcm1zXCIpID09PSBcInRydWVcIixcblx0fTtcblxuXHRjb25zdCB2YWxpZGF0ZWQgPSBzaWduVXBTY2hlbWEucGFyc2UocmF3RGF0YSk7XG5cdGNvbnN0IGF2YXRhckVudHJ5ID0gZm9ybURhdGEuZ2V0KFwiYXZhdGFyXCIpO1xuXHRjb25zdCBhdmF0YXJGaWxlID1cblx0XHRhdmF0YXJFbnRyeSBpbnN0YW5jZW9mIEZpbGUgJiYgYXZhdGFyRW50cnkuc2l6ZSA+IDAgPyBhdmF0YXJFbnRyeSA6IG51bGw7XG5cblx0cmV0dXJuIHtcblx0XHR2YWxpZGF0ZWQsXG5cdFx0bm9ybWFsaXplZFBob25lOiBub3JtYWxpemVQaG9uZU51bWJlcih2YWxpZGF0ZWQucGhvbmUpLFxuXHRcdGNvbXBhbnlOYW1lOiB2YWxpZGF0ZWQuY29tcGFueU5hbWU/LnRyaW0oKSB8fCB1bmRlZmluZWQsXG5cdFx0YXZhdGFyRmlsZSxcblx0fTtcbn07XG5cbmNvbnN0IHJlcXVpcmVTdXBhYmFzZUJyb3dzZXJDbGllbnQgPVxuXHRhc3luYyAoKTogUHJvbWlzZTxTdXBhYmFzZUJyb3dzZXJDbGllbnQ+ID0+IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG5cdFx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRcIkF1dGhlbnRpY2F0aW9uIHNlcnZpY2UgaXMgbm90IGNvbmZpZ3VyZWQuIFBsZWFzZSBjaGVjayB5b3VyIGVudmlyb25tZW50IHZhcmlhYmxlcy5cIixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHN1cGFiYXNlIGFzIFN1cGFiYXNlQnJvd3NlckNsaWVudDtcblx0fTtcblxudHlwZSBSZWdpc3RlclN1cGFiYXNlVXNlclBhcmFtcyA9IHtcblx0c3VwYWJhc2U6IFN1cGFiYXNlQnJvd3NlckNsaWVudDtcblx0dmFsaWRhdGVkOiBTaWduVXBGb3JtSW5wdXQ7XG5cdG5vcm1hbGl6ZWRQaG9uZTogc3RyaW5nO1xuXHRjb21wYW55TmFtZT86IHN0cmluZztcbn07XG5cbmNvbnN0IHJlZ2lzdGVyU3VwYWJhc2VVc2VyID0gYXN5bmMgKHtcblx0c3VwYWJhc2UsXG5cdHZhbGlkYXRlZCxcblx0bm9ybWFsaXplZFBob25lLFxuXHRjb21wYW55TmFtZSxcbn06IFJlZ2lzdGVyU3VwYWJhc2VVc2VyUGFyYW1zKSA9PiB7XG5cdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHdpdGhTdXBhYmFzZVJhdGVMaW1pdFJldHJ5KCgpID0+XG5cdFx0c3VwYWJhc2UuYXV0aC5zaWduVXAoe1xuXHRcdFx0ZW1haWw6IHZhbGlkYXRlZC5lbWFpbCxcblx0XHRcdHBhc3N3b3JkOiB2YWxpZGF0ZWQucGFzc3dvcmQsXG5cdFx0XHRvcHRpb25zOiB7XG5cdFx0XHRcdGRhdGE6IHtcblx0XHRcdFx0XHRuYW1lOiB2YWxpZGF0ZWQubmFtZSxcblx0XHRcdFx0XHRwaG9uZTogbm9ybWFsaXplZFBob25lLFxuXHRcdFx0XHRcdGNvbXBhbnlOYW1lOiBjb21wYW55TmFtZSA/PyBudWxsLFxuXHRcdFx0XHR9LFxuXHRcdFx0XHRlbWFpbFJlZGlyZWN0VG86IGAke2VtYWlsQ29uZmlnLnNpdGVVcmx9L2F1dGgvY2FsbGJhY2tgLFxuXHRcdFx0fSxcblx0XHR9KSxcblx0KTtcblxuXHRpZiAoZXJyb3IpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSk7XG5cdH1cblxuXHRpZiAoIWRhdGEudXNlcikge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBjcmVhdGUgdXNlciBhY2NvdW50XCIpO1xuXHR9XG5cblx0cmV0dXJuIGRhdGE7XG59O1xuXG50eXBlIFN5bmNTaWduVXBQcm9maWxlUGFyYW1zID0ge1xuXHRlbnN1cmVTZXJ2aWNlU3VwYWJhc2U6ICgpID0+IFByb21pc2U8U2VydmljZVN1cGFiYXNlQ2xpZW50Pjtcblx0dXNlcklkOiBzdHJpbmc7XG5cdG5vcm1hbGl6ZWRQaG9uZTogc3RyaW5nO1xuXHRuYW1lOiBzdHJpbmc7XG5cdGNvbXBhbnlOYW1lPzogc3RyaW5nO1xuXHRhdmF0YXJGaWxlOiBGaWxlIHwgbnVsbDtcbn07XG5cbmNvbnN0IHN5bmNTaWduVXBQcm9maWxlID0gYXN5bmMgKHtcblx0ZW5zdXJlU2VydmljZVN1cGFiYXNlLFxuXHR1c2VySWQsXG5cdG5vcm1hbGl6ZWRQaG9uZSxcblx0bmFtZSxcblx0Y29tcGFueU5hbWUsXG5cdGF2YXRhckZpbGUsXG59OiBTeW5jU2lnblVwUHJvZmlsZVBhcmFtcykgPT4ge1xuXHRsZXQgYXZhdGFyVXJsOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcblxuXHRpZiAoYXZhdGFyRmlsZSkge1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBhZG1pbkNsaWVudCA9IGF3YWl0IGVuc3VyZVNlcnZpY2VTdXBhYmFzZSgpO1xuXHRcdFx0YXZhdGFyVXJsID0gYXdhaXQgdXBsb2FkQXZhdGFyRm9yTmV3VXNlcihhZG1pbkNsaWVudCwgYXZhdGFyRmlsZSwgdXNlcklkKTtcblx0XHR9IGNhdGNoIChhdmF0YXJVcGxvYWRFcnJvcikge1xuXHRcdFx0cmVwb3J0QXV0aElzc3VlKFwiQXZhdGFyIHVwbG9hZCBmYWlsZWRcIiwgYXZhdGFyVXBsb2FkRXJyb3IpO1xuXHRcdH1cblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgYWRtaW5DbGllbnQgPSBhd2FpdCBlbnN1cmVTZXJ2aWNlU3VwYWJhc2UoKTtcblx0XHRjb25zdCB1cGRhdGVQYXlsb2FkOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBudWxsPiA9IHtcblx0XHRcdHBob25lOiBub3JtYWxpemVkUGhvbmUsXG5cdFx0fTtcblxuXHRcdGlmIChhdmF0YXJVcmwpIHtcblx0XHRcdHVwZGF0ZVBheWxvYWQuYXZhdGFyX3VybCA9IGF2YXRhclVybDtcblx0XHR9XG5cblx0XHRpZiAoIWFkbWluQ2xpZW50KSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJBZG1pbiBjbGllbnQgbm90IGNvbmZpZ3VyZWRcIik7XG5cdFx0fVxuXHRcdGF3YWl0IGFkbWluQ2xpZW50LmZyb20oXCJwcm9maWxlc1wiKS51cGRhdGUodXBkYXRlUGF5bG9hZCkuZXEoXCJpZFwiLCB1c2VySWQpO1xuXHR9IGNhdGNoIChwcm9maWxlVXBkYXRlRXJyb3IpIHtcblx0XHRyZXBvcnRBdXRoSXNzdWUoXCJGYWlsZWQgdG8gdXBkYXRlIHVzZXIgcHJvZmlsZVwiLCBwcm9maWxlVXBkYXRlRXJyb3IpO1xuXHR9XG5cblx0aWYgKCFhdmF0YXJVcmwpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHR0cnkge1xuXHRcdGNvbnN0IGFkbWluQ2xpZW50ID0gYXdhaXQgZW5zdXJlU2VydmljZVN1cGFiYXNlKCk7XG5cdFx0aWYgKCFhZG1pbkNsaWVudCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiQWRtaW4gY2xpZW50IG5vdCBjb25maWd1cmVkXCIpO1xuXHRcdH1cblx0XHRhd2FpdCBhZG1pbkNsaWVudC5hdXRoLmFkbWluLnVwZGF0ZVVzZXJCeUlkKHVzZXJJZCwge1xuXHRcdFx0dXNlcl9tZXRhZGF0YToge1xuXHRcdFx0XHRuYW1lLFxuXHRcdFx0XHRwaG9uZTogbm9ybWFsaXplZFBob25lLFxuXHRcdFx0XHRjb21wYW55TmFtZTogY29tcGFueU5hbWUgPz8gbnVsbCxcblx0XHRcdFx0YXZhdGFyVXJsLFxuXHRcdFx0fSxcblx0XHR9KTtcblx0fSBjYXRjaCAobWV0YWRhdGFFcnJvcikge1xuXHRcdHJlcG9ydEF1dGhJc3N1ZShcIkZhaWxlZCB0byBzeW5jIGF2YXRhciBtZXRhZGF0YVwiLCBtZXRhZGF0YUVycm9yKTtcblx0fVxufTtcblxudHlwZSBQb3N0U2lnblVwRW1haWxQYXJhbXMgPSB7XG5cdGVtYWlsOiBzdHJpbmc7XG5cdG5hbWU6IHN0cmluZztcblx0cmVxdWlyZXNDb25maXJtYXRpb246IGJvb2xlYW47XG5cdHVzZXJJZDogc3RyaW5nO1xufTtcblxuY29uc3QgaGFuZGxlUG9zdFNpZ25VcEVtYWlscyA9IGFzeW5jICh7XG5cdGVtYWlsLFxuXHRuYW1lLFxuXHRyZXF1aXJlc0NvbmZpcm1hdGlvbixcblx0dXNlcklkLFxufTogUG9zdFNpZ25VcEVtYWlsUGFyYW1zKTogUHJvbWlzZTxBdXRoQWN0aW9uUmVzdWx0IHwgbnVsbD4gPT4ge1xuXHRpZiAocmVxdWlyZXNDb25maXJtYXRpb24pIHtcblx0XHRjb25zdCB7IHRva2VuLCBleHBpcmVzQXQgfSA9IGF3YWl0IGNyZWF0ZUVtYWlsVmVyaWZpY2F0aW9uVG9rZW4oXG5cdFx0XHRlbWFpbCxcblx0XHRcdHVzZXJJZCxcblx0XHRcdENPTkZJUk1BVElPTl9UT0tFTl9UVExfSE9VUlMsXG5cdFx0KTtcblxuXHRcdGNvbnN0IHZlcmlmaWNhdGlvblVybCA9IGAke2VtYWlsQ29uZmlnLnNpdGVVcmx9L2F1dGgvdmVyaWZ5LWVtYWlsP3Rva2VuPSR7dG9rZW59YDtcblx0XHRjb25zdCB2ZXJpZmljYXRpb25SZXN1bHQgPSBhd2FpdCBzZW5kRW1haWxWZXJpZmljYXRpb24oZW1haWwsIHtcblx0XHRcdG5hbWUsXG5cdFx0XHR2ZXJpZmljYXRpb25VcmwsXG5cdFx0fSk7XG5cblx0XHRpZiAoIXZlcmlmaWNhdGlvblJlc3VsdC5zdWNjZXNzKSB7XG5cdFx0XHRyZXBvcnRBdXRoSXNzdWUoXG5cdFx0XHRcdFwiRmFpbGVkIHRvIHNlbmQgdmVyaWZpY2F0aW9uIGVtYWlsXCIsXG5cdFx0XHRcdHZlcmlmaWNhdGlvblJlc3VsdC5lcnJvcixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IHRydWUsXG5cdFx0XHRkYXRhOiB7XG5cdFx0XHRcdHJlcXVpcmVzRW1haWxDb25maXJtYXRpb246IHRydWUsXG5cdFx0XHRcdG1lc3NhZ2U6XG5cdFx0XHRcdFx0XCJBY2NvdW50IGNyZWF0ZWQhIFBsZWFzZSBjaGVjayB5b3VyIGVtYWlsIHRvIHZlcmlmeSB5b3VyIGFjY291bnQuXCIsXG5cdFx0XHRcdGV4cGlyZXNBdDogZXhwaXJlc0F0LnRvSVNPU3RyaW5nKCksXG5cdFx0XHR9LFxuXHRcdH07XG5cdH1cblxuXHRjb25zdCBlbWFpbFJlc3VsdCA9IGF3YWl0IHNlbmRXZWxjb21lRW1haWwoZW1haWwsIHtcblx0XHRuYW1lLFxuXHRcdGxvZ2luVXJsOiBgJHtlbWFpbENvbmZpZy5zaXRlVXJsfS93ZWxjb21lYCxcblx0fSk7XG5cblx0aWYgKCFlbWFpbFJlc3VsdC5zdWNjZXNzKSB7XG5cdFx0cmVwb3J0QXV0aElzc3VlKFwiRmFpbGVkIHRvIHNlbmQgd2VsY29tZSBlbWFpbFwiLCBlbWFpbFJlc3VsdC5lcnJvcik7XG5cdH1cblxuXHRyZXR1cm4gbnVsbDtcbn07XG5cbmNvbnN0IG5vcm1hbGl6ZU9wdGlvbmFsUGhvbmUgPSAocGhvbmU6IHN0cmluZyB8IG51bGwpOiBzdHJpbmcgfCBudWxsID0+IHtcblx0aWYgKCFwaG9uZSkge1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0Y29uc3QgZGlnaXRzT25seSA9IHBob25lLnJlcGxhY2UoL1xcRC9nLCBcIlwiKTtcblx0aWYgKGRpZ2l0c09ubHkubGVuZ3RoIDwgUEhPTkVfTUlOX0RJR0lUUykge1xuXHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgcGhvbmUgbnVtYmVyIHdpdGggYXQgbGVhc3QgMTAgZGlnaXRzLlwiLFxuXHRcdCk7XG5cdH1cblxuXHRyZXR1cm4gbm9ybWFsaXplUGhvbmVOdW1iZXIocGhvbmUpO1xufTtcblxudHlwZSBDb21wbGV0ZVByb2ZpbGVGb3JtID0ge1xuXHRuYW1lOiBzdHJpbmcgfCBudWxsO1xuXHRub3JtYWxpemVkUGhvbmU6IHN0cmluZyB8IG51bGw7XG5cdGF2YXRhckZpbGU6IEZpbGUgfCBudWxsO1xufTtcblxuY29uc3QgcGFyc2VDb21wbGV0ZVByb2ZpbGVGb3JtID0gKGZvcm1EYXRhOiBGb3JtRGF0YSk6IENvbXBsZXRlUHJvZmlsZUZvcm0gPT4ge1xuXHRjb25zdCBhdmF0YXJFbnRyeSA9IGZvcm1EYXRhLmdldChcImF2YXRhclwiKTtcblx0Y29uc3QgYXZhdGFyRmlsZSA9XG5cdFx0YXZhdGFyRW50cnkgaW5zdGFuY2VvZiBGaWxlICYmIGF2YXRhckVudHJ5LnNpemUgPiAwID8gYXZhdGFyRW50cnkgOiBudWxsO1xuXG5cdGNvbnN0IG5hbWUgPSAoZm9ybURhdGEuZ2V0KFwibmFtZVwiKSBhcyBzdHJpbmcgfCBudWxsKSA/PyBudWxsO1xuXHRjb25zdCBwaG9uZSA9IChmb3JtRGF0YS5nZXQoXCJwaG9uZVwiKSBhcyBzdHJpbmcgfCBudWxsKSA/PyBudWxsO1xuXG5cdHJldHVybiB7XG5cdFx0bmFtZSxcblx0XHRub3JtYWxpemVkUGhvbmU6IG5vcm1hbGl6ZU9wdGlvbmFsUGhvbmUocGhvbmUpLFxuXHRcdGF2YXRhckZpbGUsXG5cdH07XG59O1xuXG5jb25zdCByZXF1aXJlQXV0aGVudGljYXRlZFVzZXIgPSBhc3luYyAoc3VwYWJhc2U6IFN1cGFiYXNlQnJvd3NlckNsaWVudCkgPT4ge1xuXHRjb25zdCB7XG5cdFx0ZGF0YTogeyB1c2VyIH0sXG5cdH0gPSBhd2FpdCB3aXRoU3VwYWJhc2VSYXRlTGltaXRSZXRyeSgoKSA9PiBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKSk7XG5cblx0aWYgKCF1c2VyKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiWW91IG11c3QgYmUgc2lnbmVkIGluIHRvIGNvbXBsZXRlIHlvdXIgcHJvZmlsZS5cIik7XG5cdH1cblxuXHRyZXR1cm4gdXNlcjtcbn07XG5cbnR5cGUgVXBkYXRlQ29tcGxldGVQcm9maWxlUmVjb3Jkc1BhcmFtcyA9IHtcblx0ZW5zdXJlU2VydmljZVN1cGFiYXNlOiAoKSA9PiBQcm9taXNlPFNlcnZpY2VTdXBhYmFzZUNsaWVudD47XG5cdHVzZXJJZDogc3RyaW5nO1xuXHRuYW1lOiBzdHJpbmcgfCBudWxsO1xuXHRub3JtYWxpemVkUGhvbmU6IHN0cmluZyB8IG51bGw7XG5cdGF2YXRhckZpbGU6IEZpbGUgfCBudWxsO1xuXHRleGlzdGluZ0F2YXRhcjogc3RyaW5nIHwgbnVsbDtcblx0ZXhpc3RpbmdNZXRhZGF0YT86IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xufTtcblxuY29uc3QgdXBsb2FkQXZhdGFyV2l0aEZhbGxiYWNrID0gYXN5bmMgKHtcblx0ZW5zdXJlU2VydmljZVN1cGFiYXNlLFxuXHRhdmF0YXJGaWxlLFxuXHR1c2VySWQsXG5cdGZhbGxiYWNrQXZhdGFyLFxufToge1xuXHRlbnN1cmVTZXJ2aWNlU3VwYWJhc2U6ICgpID0+IFByb21pc2U8U2VydmljZVN1cGFiYXNlQ2xpZW50Pjtcblx0YXZhdGFyRmlsZTogRmlsZSB8IG51bGw7XG5cdHVzZXJJZDogc3RyaW5nO1xuXHRmYWxsYmFja0F2YXRhcjogc3RyaW5nIHwgbnVsbDtcbn0pOiBQcm9taXNlPHN0cmluZyB8IG51bGw+ID0+IHtcblx0aWYgKCFhdmF0YXJGaWxlKSB7XG5cdFx0cmV0dXJuIGZhbGxiYWNrQXZhdGFyO1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCBhZG1pbkNsaWVudCA9IGF3YWl0IGVuc3VyZVNlcnZpY2VTdXBhYmFzZSgpO1xuXHRcdHJldHVybiBhd2FpdCB1cGxvYWRBdmF0YXJGb3JOZXdVc2VyKGFkbWluQ2xpZW50LCBhdmF0YXJGaWxlLCB1c2VySWQpO1xuXHR9IGNhdGNoIChhdmF0YXJVcGxvYWRFcnJvcikge1xuXHRcdHJlcG9ydEF1dGhJc3N1ZShcIkF2YXRhciB1cGxvYWQgZmFpbGVkXCIsIGF2YXRhclVwbG9hZEVycm9yKTtcblx0XHRyZXR1cm4gZmFsbGJhY2tBdmF0YXI7XG5cdH1cbn07XG5cbmNvbnN0IHVwZGF0ZVVzZXJUYWJsZVJlY29yZCA9IGFzeW5jICh7XG5cdGVuc3VyZVNlcnZpY2VTdXBhYmFzZSxcblx0dXNlcklkLFxuXHRuYW1lLFxuXHRub3JtYWxpemVkUGhvbmUsXG5cdGF2YXRhclVybCxcbn06IHtcblx0ZW5zdXJlU2VydmljZVN1cGFiYXNlOiAoKSA9PiBQcm9taXNlPFNlcnZpY2VTdXBhYmFzZUNsaWVudD47XG5cdHVzZXJJZDogc3RyaW5nO1xuXHRuYW1lOiBzdHJpbmcgfCBudWxsO1xuXHRub3JtYWxpemVkUGhvbmU6IHN0cmluZyB8IG51bGw7XG5cdGF2YXRhclVybDogc3RyaW5nIHwgbnVsbDtcbn0pOiBQcm9taXNlPEF1dGhBY3Rpb25SZXN1bHQgfCBudWxsPiA9PiB7XG5cdGNvbnN0IHVwZGF0ZVBheWxvYWQ6IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IG51bGw+ID0ge307XG5cblx0aWYgKG5hbWUpIHtcblx0XHR1cGRhdGVQYXlsb2FkLm5hbWUgPSBuYW1lO1xuXHR9XG5cdGlmIChub3JtYWxpemVkUGhvbmUpIHtcblx0XHR1cGRhdGVQYXlsb2FkLnBob25lID0gbm9ybWFsaXplZFBob25lO1xuXHR9XG5cdGlmIChhdmF0YXJVcmwpIHtcblx0XHR1cGRhdGVQYXlsb2FkLmF2YXRhciA9IGF2YXRhclVybDtcblx0fVxuXG5cdGlmIChPYmplY3Qua2V5cyh1cGRhdGVQYXlsb2FkKS5sZW5ndGggPT09IDApIHtcblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgYWRtaW5DbGllbnQgPSBhd2FpdCBlbnN1cmVTZXJ2aWNlU3VwYWJhc2UoKTtcblx0XHRpZiAoIWFkbWluQ2xpZW50KSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJBZG1pbiBjbGllbnQgbm90IGNvbmZpZ3VyZWRcIik7XG5cdFx0fVxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IGFkbWluQ2xpZW50XG5cdFx0XHQuZnJvbShcInByb2ZpbGVzXCIpXG5cdFx0XHQudXBkYXRlKHtcblx0XHRcdFx0ZnVsbF9uYW1lOiBuYW1lIHx8IHVuZGVmaW5lZCxcblx0XHRcdFx0cGhvbmU6IG5vcm1hbGl6ZWRQaG9uZSB8fCB1bmRlZmluZWQsXG5cdFx0XHRcdGF2YXRhcl91cmw6IGF2YXRhclVybCB8fCB1bmRlZmluZWQsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgdXNlcklkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0cmVwb3J0QXV0aElzc3VlKFwiRmFpbGVkIHRvIHVwZGF0ZSB1c2VyIHByb2ZpbGVcIiwgZXJyb3IpO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOiBgRmFpbGVkIHRvIHVwZGF0ZSB5b3VyIHByb2ZpbGU6ICR7ZXJyb3IubWVzc2FnZX1gLFxuXHRcdFx0fTtcblx0XHR9XG5cdH0gY2F0Y2ggKHByb2ZpbGVVcGRhdGVFcnJvcikge1xuXHRcdHJlcG9ydEF1dGhJc3N1ZShcIkZhaWxlZCB0byB1cGRhdGUgdXNlciBwcm9maWxlXCIsIHByb2ZpbGVVcGRhdGVFcnJvcik7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IFwiRmFpbGVkIHRvIHVwZGF0ZSB5b3VyIHByb2ZpbGUuIFBsZWFzZSB0cnkgYWdhaW4uXCIsXG5cdFx0fTtcblx0fVxuXG5cdHJldHVybiBudWxsO1xufTtcblxuY29uc3Qgc3luY1VzZXJNZXRhZGF0YVByb2ZpbGUgPSBhc3luYyAoe1xuXHRlbnN1cmVTZXJ2aWNlU3VwYWJhc2UsXG5cdHVzZXJJZCxcblx0bmFtZSxcblx0bm9ybWFsaXplZFBob25lLFxuXHRhdmF0YXJVcmwsXG5cdGV4aXN0aW5nTWV0YWRhdGEsXG59OiB7XG5cdGVuc3VyZVNlcnZpY2VTdXBhYmFzZTogKCkgPT4gUHJvbWlzZTxTZXJ2aWNlU3VwYWJhc2VDbGllbnQ+O1xuXHR1c2VySWQ6IHN0cmluZztcblx0bmFtZTogc3RyaW5nIHwgbnVsbDtcblx0bm9ybWFsaXplZFBob25lOiBzdHJpbmcgfCBudWxsO1xuXHRhdmF0YXJVcmw6IHN0cmluZyB8IG51bGw7XG5cdGV4aXN0aW5nTWV0YWRhdGE/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbn0pID0+IHtcblx0Y29uc3QgaGFzTWV0YWRhdGFDaGFuZ2VzID0gQm9vbGVhbihuYW1lIHx8IG5vcm1hbGl6ZWRQaG9uZSB8fCBhdmF0YXJVcmwpO1xuXHRpZiAoIWhhc01ldGFkYXRhQ2hhbmdlcykge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgYWRtaW5DbGllbnQgPSBhd2FpdCBlbnN1cmVTZXJ2aWNlU3VwYWJhc2UoKTtcblx0XHRjb25zdCBtZXRhZGF0YTogUmVjb3JkPHN0cmluZywgc3RyaW5nIHwgbnVsbD4gPSB7XG5cdFx0XHQuLi4oZXhpc3RpbmdNZXRhZGF0YSBhcyBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBudWxsPiksXG5cdFx0fTtcblxuXHRcdGlmIChuYW1lKSB7XG5cdFx0XHRtZXRhZGF0YS5uYW1lID0gbmFtZTtcblx0XHR9XG5cdFx0aWYgKG5vcm1hbGl6ZWRQaG9uZSkge1xuXHRcdFx0bWV0YWRhdGEucGhvbmUgPSBub3JtYWxpemVkUGhvbmU7XG5cdFx0fVxuXHRcdGlmIChhdmF0YXJVcmwpIHtcblx0XHRcdG1ldGFkYXRhLmF2YXRhclVybCA9IGF2YXRhclVybDtcblx0XHR9XG5cblx0XHRpZiAoIWFkbWluQ2xpZW50KSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJBZG1pbiBjbGllbnQgbm90IGNvbmZpZ3VyZWRcIik7XG5cdFx0fVxuXG5cdFx0YXdhaXQgYWRtaW5DbGllbnQuYXV0aC5hZG1pbi51cGRhdGVVc2VyQnlJZCh1c2VySWQsIHtcblx0XHRcdHVzZXJfbWV0YWRhdGE6IG1ldGFkYXRhLFxuXHRcdH0pO1xuXHR9IGNhdGNoIChtZXRhZGF0YUVycm9yKSB7XG5cdFx0cmVwb3J0QXV0aElzc3VlKFwiRmFpbGVkIHRvIHN5bmMgdXNlciBtZXRhZGF0YVwiLCBtZXRhZGF0YUVycm9yKTtcblx0fVxufTtcblxuY29uc3QgdXBkYXRlQ29tcGxldGVQcm9maWxlUmVjb3JkcyA9IGFzeW5jICh7XG5cdGVuc3VyZVNlcnZpY2VTdXBhYmFzZSxcblx0dXNlcklkLFxuXHRuYW1lLFxuXHRub3JtYWxpemVkUGhvbmUsXG5cdGF2YXRhckZpbGUsXG5cdGV4aXN0aW5nQXZhdGFyLFxuXHRleGlzdGluZ01ldGFkYXRhLFxufTogVXBkYXRlQ29tcGxldGVQcm9maWxlUmVjb3Jkc1BhcmFtcyk6IFByb21pc2U8QXV0aEFjdGlvblJlc3VsdCB8IG51bGw+ID0+IHtcblx0Y29uc3QgYXZhdGFyVXJsID0gYXdhaXQgdXBsb2FkQXZhdGFyV2l0aEZhbGxiYWNrKHtcblx0XHRlbnN1cmVTZXJ2aWNlU3VwYWJhc2UsXG5cdFx0YXZhdGFyRmlsZSxcblx0XHR1c2VySWQsXG5cdFx0ZmFsbGJhY2tBdmF0YXI6IGV4aXN0aW5nQXZhdGFyLFxuXHR9KTtcblxuXHRjb25zdCB1c2VyVXBkYXRlUmVzdWx0ID0gYXdhaXQgdXBkYXRlVXNlclRhYmxlUmVjb3JkKHtcblx0XHRlbnN1cmVTZXJ2aWNlU3VwYWJhc2UsXG5cdFx0dXNlcklkLFxuXHRcdG5hbWUsXG5cdFx0bm9ybWFsaXplZFBob25lLFxuXHRcdGF2YXRhclVybCxcblx0fSk7XG5cblx0aWYgKHVzZXJVcGRhdGVSZXN1bHQpIHtcblx0XHRyZXR1cm4gdXNlclVwZGF0ZVJlc3VsdDtcblx0fVxuXG5cdGF3YWl0IHN5bmNVc2VyTWV0YWRhdGFQcm9maWxlKHtcblx0XHRlbnN1cmVTZXJ2aWNlU3VwYWJhc2UsXG5cdFx0dXNlcklkLFxuXHRcdG5hbWUsXG5cdFx0bm9ybWFsaXplZFBob25lLFxuXHRcdGF2YXRhclVybCxcblx0XHRleGlzdGluZ01ldGFkYXRhLFxuXHR9KTtcblxuXHRyZXR1cm4gbnVsbDtcbn07XG5cbnR5cGUgUmVzb2x2ZVByb2ZpbGVSZWRpcmVjdFBhcmFtcyA9IHtcblx0ZW5zdXJlU2VydmljZVN1cGFiYXNlOiAoKSA9PiBQcm9taXNlPFNlcnZpY2VTdXBhYmFzZUNsaWVudD47XG5cdHVzZXJJZDogc3RyaW5nO1xufTtcblxuY29uc3QgcmVzb2x2ZVByb2ZpbGVSZWRpcmVjdFBhdGggPSBhc3luYyAoe1xuXHRlbnN1cmVTZXJ2aWNlU3VwYWJhc2UsXG5cdHVzZXJJZCxcbn06IFJlc29sdmVQcm9maWxlUmVkaXJlY3RQYXJhbXMpOiBQcm9taXNlPHN0cmluZz4gPT4ge1xuXHRjb25zdCBhZG1pbkNsaWVudCA9IGF3YWl0IGVuc3VyZVNlcnZpY2VTdXBhYmFzZSgpO1xuXHRpZiAoIWFkbWluQ2xpZW50KSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiQWRtaW4gY2xpZW50IG5vdCBjb25maWd1cmVkXCIpO1xuXHR9XG5cdGNvbnN0IHsgZGF0YTogaGFzQ29tcGFueSB9ID0gYXdhaXQgYWRtaW5DbGllbnRcblx0XHQuZnJvbShcImNvbXBhbnlfbWVtYmVyc2hpcHNcIilcblx0XHQuc2VsZWN0KFwiY29tcGFueV9pZFwiKVxuXHRcdC5lcShcInVzZXJfaWRcIiwgdXNlcklkKVxuXHRcdC5lcShcInN0YXR1c1wiLCBcImFjdGl2ZVwiKVxuXHRcdC5saW1pdCgxKVxuXHRcdC5tYXliZVNpbmdsZSgpO1xuXG5cdHJldHVybiBoYXNDb21wYW55ID8gXCIvZGFzaGJvYXJkXCIgOiBcIi93ZWxjb21lXCI7XG59O1xuLy8gSW50ZXJuYWwgcmV0dXJuIHR5cGUgKG5vdCBleHBvcnRlZCAtIE5leHQuanMgMTYgXCJ1c2Ugc2VydmVyXCIgcmVzdHJpY3Rpb24pXG50eXBlIEF1dGhBY3Rpb25SZXN1bHQgPSB7XG5cdHN1Y2Nlc3M6IGJvb2xlYW47XG5cdGVycm9yPzogc3RyaW5nO1xuXHRkYXRhPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG59O1xuXG4vKipcbiAqIFNpZ24gVXAgLSBDcmVhdGUgbmV3IHVzZXIgYWNjb3VudCB3aXRoIFN1cGFiYXNlIEF1dGggKyBDdXN0b20gUmVzZW5kIEVtYWlsXG4gKlxuICogRmVhdHVyZXM6XG4gKiAtIEVtYWlsL3Bhc3N3b3JkIGF1dGhlbnRpY2F0aW9uXG4gKiAtIEN1c3RvbSB3ZWxjb21lIGVtYWlsIHZpYSBSZXNlbmQgd2l0aCBicmFuZGVkIHRlbXBsYXRlXG4gKiAtIENyZWF0ZXMgdXNlciBwcm9maWxlIGluIHVzZXJzIHRhYmxlIHZpYSBkYXRhYmFzZSB0cmlnZ2VyXG4gKiAtIFZhbGlkYXRlcyBpbnB1dCB3aXRoIFpvZFxuICogLSBEaXNhYmxlcyBTdXBhYmFzZSdzIGJ1aWx0LWluIGVtYWlscyAodXNpbmcgY3VzdG9tIFJlc2VuZCB0ZW1wbGF0ZXMgaW5zdGVhZClcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNpZ25VcChmb3JtRGF0YTogRm9ybURhdGEpOiBQcm9taXNlPEF1dGhBY3Rpb25SZXN1bHQ+IHtcblx0dHJ5IHtcblx0XHQvLyBCb3QgcHJvdGVjdGlvbiBjaGVjayAoVmVyY2VsIEJvdElEKVxuXHRcdC8qXG5cdFx0Y29uc3QgYm90Q2hlY2sgPSBhd2FpdCBjaGVja0JvdElkKCk7XG5cdFx0aWYgKGJvdENoZWNrLmlzQm90KSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IFwiVW5hYmxlIHRvIHByb2Nlc3MgcmVxdWVzdC4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci5cIixcblx0XHRcdH07XG5cdFx0fVxuXHRcdCovXG5cblx0XHRjb25zdCBwYXJzZWRGb3JtID0gcGFyc2VTaWduVXBGb3JtRGF0YShmb3JtRGF0YSk7XG5cblx0XHRhd2FpdCBjaGVja1JhdGVMaW1pdChwYXJzZWRGb3JtLnZhbGlkYXRlZC5lbWFpbCwgYXV0aFJhdGVMaW1pdGVyKTtcblxuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgcmVxdWlyZVN1cGFiYXNlQnJvd3NlckNsaWVudCgpO1xuXHRcdGNvbnN0IGF1dGhSZXN1bHQgPSBhd2FpdCByZWdpc3RlclN1cGFiYXNlVXNlcih7XG5cdFx0XHRzdXBhYmFzZSxcblx0XHRcdHZhbGlkYXRlZDogcGFyc2VkRm9ybS52YWxpZGF0ZWQsXG5cdFx0XHRub3JtYWxpemVkUGhvbmU6IHBhcnNlZEZvcm0ubm9ybWFsaXplZFBob25lLFxuXHRcdFx0Y29tcGFueU5hbWU6IHBhcnNlZEZvcm0uY29tcGFueU5hbWUsXG5cdFx0fSk7XG5cblx0XHRjb25zdCB1c2VySWQgPSBhdXRoUmVzdWx0LnVzZXI/LmlkO1xuXHRcdGlmICghdXNlcklkKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gY3JlYXRlIHVzZXIgYWNjb3VudFwiKTtcblx0XHR9XG5cblx0XHRjb25zdCBlbnN1cmVTZXJ2aWNlU3VwYWJhc2UgPSBjcmVhdGVTZXJ2aWNlQ2xpZW50TG9hZGVyKCk7XG5cdFx0YXdhaXQgc3luY1NpZ25VcFByb2ZpbGUoe1xuXHRcdFx0ZW5zdXJlU2VydmljZVN1cGFiYXNlLFxuXHRcdFx0dXNlcklkLFxuXHRcdFx0bm9ybWFsaXplZFBob25lOiBwYXJzZWRGb3JtLm5vcm1hbGl6ZWRQaG9uZSxcblx0XHRcdG5hbWU6IHBhcnNlZEZvcm0udmFsaWRhdGVkLm5hbWUsXG5cdFx0XHRjb21wYW55TmFtZTogcGFyc2VkRm9ybS5jb21wYW55TmFtZSxcblx0XHRcdGF2YXRhckZpbGU6IHBhcnNlZEZvcm0uYXZhdGFyRmlsZSxcblx0XHR9KTtcblxuXHRcdGNvbnN0IHBvc3RTaWduVXBSZXN1bHQgPSBhd2FpdCBoYW5kbGVQb3N0U2lnblVwRW1haWxzKHtcblx0XHRcdGVtYWlsOiBwYXJzZWRGb3JtLnZhbGlkYXRlZC5lbWFpbCxcblx0XHRcdG5hbWU6IHBhcnNlZEZvcm0udmFsaWRhdGVkLm5hbWUsXG5cdFx0XHRyZXF1aXJlc0NvbmZpcm1hdGlvbjogIWF1dGhSZXN1bHQuc2Vzc2lvbixcblx0XHRcdHVzZXJJZCxcblx0XHR9KTtcblxuXHRcdGlmIChwb3N0U2lnblVwUmVzdWx0KSB7XG5cdFx0XHRyZXR1cm4gcG9zdFNpZ25VcFJlc3VsdDtcblx0XHR9XG5cblx0XHQvLyBSZXZhbGlkYXRlIGFuZCByZWRpcmVjdCB0byBvbmJvYXJkaW5nXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvXCIsIFwibGF5b3V0XCIpO1xuXHRcdHJlZGlyZWN0KFwiL2Rhc2hib2FyZFwiKTtcblx0fSBjYXRjaCAoY2F1Z2h0RXJyb3IpIHtcblx0XHRpZiAoY2F1Z2h0RXJyb3IgaW5zdGFuY2VvZiB6LlpvZEVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGNhdWdodEVycm9yLmlzc3Vlc1swXT8ubWVzc2FnZSB8fCBcIlZhbGlkYXRpb24gZXJyb3JcIixcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKFxuXHRcdFx0Y2F1Z2h0RXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJlxuXHRcdFx0Y2F1Z2h0RXJyb3IubWVzc2FnZSAhPT0gXCJORVhUX1JFRElSRUNUXCJcblx0XHQpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogY2F1Z2h0RXJyb3IubWVzc2FnZSxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gUmUtdGhyb3cgcmVkaXJlY3QgZXJyb3JzXG5cdFx0dGhyb3cgY2F1Z2h0RXJyb3I7XG5cdH1cbn1cblxuLyoqXG4gKiBDb21wbGV0ZSBQcm9maWxlIC0gVXBkYXRlIG1pc3NpbmcgdXNlciBpbmZvcm1hdGlvbiBhZnRlciBPQXV0aCBzaWdudXBcbiAqXG4gKiBGZWF0dXJlczpcbiAqIC0gQ29sbGVjdHMgbWlzc2luZyByZXF1aXJlZCBmaWVsZHMgKHBob25lLCBuYW1lKVxuICogLSBPcHRpb25hbCBhdmF0YXIgdXBsb2FkXG4gKiAtIFVwZGF0ZXMgYm90aCBhdXRoIG1ldGFkYXRhIGFuZCBwdWJsaWMudXNlcnMgdGFibGVcbiAqIC0gQ29tcGFueSBuYW1lIGlzIGNvbGxlY3RlZCBkdXJpbmcgb25ib2FyZGluZywgbm90IGhlcmVcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNvbXBsZXRlUHJvZmlsZShcblx0Zm9ybURhdGE6IEZvcm1EYXRhLFxuKTogUHJvbWlzZTxBdXRoQWN0aW9uUmVzdWx0PiB7XG5cdHRyeSB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCByZXF1aXJlU3VwYWJhc2VCcm93c2VyQ2xpZW50KCk7XG5cdFx0Y29uc3QgdXNlciA9IGF3YWl0IHJlcXVpcmVBdXRoZW50aWNhdGVkVXNlcihzdXBhYmFzZSk7XG5cdFx0Y29uc3QgcGFyc2VkRm9ybSA9IHBhcnNlQ29tcGxldGVQcm9maWxlRm9ybShmb3JtRGF0YSk7XG5cdFx0Y29uc3QgZW5zdXJlU2VydmljZVN1cGFiYXNlID0gY3JlYXRlU2VydmljZUNsaWVudExvYWRlcigpO1xuXG5cdFx0Y29uc3QgcHJvZmlsZVVwZGF0ZVJlc3VsdCA9IGF3YWl0IHVwZGF0ZUNvbXBsZXRlUHJvZmlsZVJlY29yZHMoe1xuXHRcdFx0ZW5zdXJlU2VydmljZVN1cGFiYXNlLFxuXHRcdFx0dXNlcklkOiB1c2VyLmlkLFxuXHRcdFx0bmFtZTogcGFyc2VkRm9ybS5uYW1lLFxuXHRcdFx0bm9ybWFsaXplZFBob25lOiBwYXJzZWRGb3JtLm5vcm1hbGl6ZWRQaG9uZSxcblx0XHRcdGF2YXRhckZpbGU6IHBhcnNlZEZvcm0uYXZhdGFyRmlsZSxcblx0XHRcdGV4aXN0aW5nQXZhdGFyOlxuXHRcdFx0XHR1c2VyLnVzZXJfbWV0YWRhdGE/LmF2YXRhcl91cmwgfHwgdXNlci51c2VyX21ldGFkYXRhPy5waWN0dXJlIHx8IG51bGwsXG5cdFx0XHRleGlzdGluZ01ldGFkYXRhOiB1c2VyLnVzZXJfbWV0YWRhdGEsXG5cdFx0fSk7XG5cblx0XHRpZiAocHJvZmlsZVVwZGF0ZVJlc3VsdCkge1xuXHRcdFx0cmV0dXJuIHByb2ZpbGVVcGRhdGVSZXN1bHQ7XG5cdFx0fVxuXG5cdFx0Y29uc3QgcmVkaXJlY3RQYXRoID0gYXdhaXQgcmVzb2x2ZVByb2ZpbGVSZWRpcmVjdFBhdGgoe1xuXHRcdFx0ZW5zdXJlU2VydmljZVN1cGFiYXNlLFxuXHRcdFx0dXNlcklkOiB1c2VyLmlkLFxuXHRcdH0pLmNhdGNoKChyZWRpcmVjdEVycm9yKSA9PiB7XG5cdFx0XHRyZXBvcnRBdXRoSXNzdWUoXCJFcnJvciBjaGVja2luZyBjb21wYW55IHN0YXR1c1wiLCByZWRpcmVjdEVycm9yKTtcblx0XHRcdHJldHVybiBcIi93ZWxjb21lXCI7XG5cdFx0fSk7XG5cblx0XHRyZXZhbGlkYXRlUGF0aChcIi9cIiwgXCJsYXlvdXRcIik7XG5cdFx0cmVkaXJlY3QocmVkaXJlY3RQYXRoKTtcblx0fSBjYXRjaCAoY2F1Z2h0RXJyb3IpIHtcblx0XHRpZiAoY2F1Z2h0RXJyb3IgaW5zdGFuY2VvZiB6LlpvZEVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGNhdWdodEVycm9yLmlzc3Vlc1swXT8ubWVzc2FnZSB8fCBcIlZhbGlkYXRpb24gZXJyb3JcIixcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKFxuXHRcdFx0Y2F1Z2h0RXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJlxuXHRcdFx0Y2F1Z2h0RXJyb3IubWVzc2FnZSAhPT0gXCJORVhUX1JFRElSRUNUXCJcblx0XHQpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogY2F1Z2h0RXJyb3IubWVzc2FnZSxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0dGhyb3cgY2F1Z2h0RXJyb3I7XG5cdH1cbn1cblxuLyoqXG4gKiBTaWduIEluIC0gQXV0aGVudGljYXRlIGV4aXN0aW5nIHVzZXIgd2l0aCBTdXBhYmFzZSBBdXRoXG4gKlxuICogRmVhdHVyZXM6XG4gKiAtIEVtYWlsL3Bhc3N3b3JkIGF1dGhlbnRpY2F0aW9uXG4gKiAtIFNlc3Npb24gbWFuYWdlbWVudCBoYW5kbGVkIGJ5IFN1cGFiYXNlXG4gKiAtIFZhbGlkYXRlcyBpbnB1dCB3aXRoIFpvZFxuICogLSBSZWRpcmVjdHMgdG8gZGFzaGJvYXJkIG9uIHN1Y2Nlc3NcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNpZ25Jbihmb3JtRGF0YTogRm9ybURhdGEpOiBQcm9taXNlPEF1dGhBY3Rpb25SZXN1bHQ+IHtcblx0dHJ5IHtcblx0XHQvLyBCb3QgcHJvdGVjdGlvbiBjaGVjayAoVmVyY2VsIEJvdElEKVxuXHRcdC8qXG5cdFx0Y29uc3QgYm90Q2hlY2sgPSBhd2FpdCBjaGVja0JvdElkKCk7XG5cdFx0aWYgKGJvdENoZWNrLmlzQm90KSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IFwiVW5hYmxlIHRvIHByb2Nlc3MgcmVxdWVzdC4gUGxlYXNlIHRyeSBhZ2FpbiBsYXRlci5cIixcblx0XHRcdH07XG5cdFx0fVxuXHRcdCovXG5cblx0XHQvLyBQYXJzZSBhbmQgdmFsaWRhdGUgZm9ybSBkYXRhXG5cdFx0Y29uc3QgcmF3RGF0YSA9IHtcblx0XHRcdGVtYWlsOiBmb3JtRGF0YS5nZXQoXCJlbWFpbFwiKSBhcyBzdHJpbmcsXG5cdFx0XHRwYXNzd29yZDogZm9ybURhdGEuZ2V0KFwicGFzc3dvcmRcIikgYXMgc3RyaW5nLFxuXHRcdH07XG5cblx0XHRjb25zdCB2YWxpZGF0ZWREYXRhID0gc2lnbkluU2NoZW1hLnBhcnNlKHJhd0RhdGEpO1xuXG5cdFx0Ly8gUmF0ZSBsaW1pdCBzaWduLWluIGF0dGVtcHRzIGJ5IGVtYWlsXG5cdFx0dHJ5IHtcblx0XHRcdGF3YWl0IGNoZWNrUmF0ZUxpbWl0KHZhbGlkYXRlZERhdGEuZW1haWwsIGF1dGhSYXRlTGltaXRlcik7XG5cdFx0fSBjYXRjaCAocmF0ZUxpbWl0RXJyb3IpIHtcblx0XHRcdGlmIChyYXRlTGltaXRFcnJvciBpbnN0YW5jZW9mIFJhdGVMaW1pdEVycm9yKSB7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdFx0ZXJyb3I6IHJhdGVMaW1pdEVycm9yLm1lc3NhZ2UsXG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cdFx0XHR0aHJvdyByYXRlTGltaXRFcnJvcjtcblx0XHR9XG5cblx0XHQvLyBDcmVhdGUgU3VwYWJhc2UgY2xpZW50XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjpcblx0XHRcdFx0XHRcIkF1dGhlbnRpY2F0aW9uIHNlcnZpY2UgaXMgbm90IGNvbmZpZ3VyZWQuIFBsZWFzZSBjaGVjayB5b3VyIGVudmlyb25tZW50IHZhcmlhYmxlcy5cIixcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gU2lnbiBpbiB3aXRoIFN1cGFiYXNlIEF1dGhcblx0XHRjb25zdCB7IGRhdGEsIGVycm9yOiBzaWduSW5FcnJvciB9ID0gYXdhaXQgd2l0aFN1cGFiYXNlUmF0ZUxpbWl0UmV0cnkoKCkgPT5cblx0XHRcdHN1cGFiYXNlLmF1dGguc2lnbkluV2l0aFBhc3N3b3JkKHtcblx0XHRcdFx0ZW1haWw6IHZhbGlkYXRlZERhdGEuZW1haWwsXG5cdFx0XHRcdHBhc3N3b3JkOiB2YWxpZGF0ZWREYXRhLnBhc3N3b3JkLFxuXHRcdFx0fSksXG5cdFx0KTtcblxuXHRcdGlmIChzaWduSW5FcnJvcikge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOiBzaWduSW5FcnJvci5tZXNzYWdlLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRpZiAoIWRhdGEuc2Vzc2lvbikge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOiBcIkZhaWxlZCB0byBjcmVhdGUgc2Vzc2lvbi4gUGxlYXNlIHRyeSBhZ2Fpbi5cIixcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gUmV2YWxpZGF0ZSBhbmQgcmVkaXJlY3QgdG8gZGFzaGJvYXJkXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvXCIsIFwibGF5b3V0XCIpO1xuXHRcdHJlZGlyZWN0KFwiL2Rhc2hib2FyZFwiKTtcblx0fSBjYXRjaCAoY2F1Z2h0RXJyb3IpIHtcblx0XHRpZiAoY2F1Z2h0RXJyb3IgaW5zdGFuY2VvZiB6LlpvZEVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGNhdWdodEVycm9yLmlzc3Vlc1swXT8ubWVzc2FnZSB8fCBcIlZhbGlkYXRpb24gZXJyb3JcIixcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gSGFuZGxlIEF1dGhVbmtub3duRXJyb3IgKHVzdWFsbHkgbmV0d29yay9zZXJ2aWNlIGlzc3Vlcylcblx0XHRpZiAoY2F1Z2h0RXJyb3IgaW5zdGFuY2VvZiBBdXRoVW5rbm93bkVycm9yKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKFwiQXV0aFVua25vd25FcnJvciBkdXJpbmcgc2lnbiBpbjpcIiwgY2F1Z2h0RXJyb3IpO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOiBcIlVuYWJsZSB0byBjb25uZWN0IHRvIGF1dGhlbnRpY2F0aW9uIHNlcnZpY2UuIFBsZWFzZSBjaGVjayB5b3VyIGludGVybmV0IGNvbm5lY3Rpb24gYW5kIHRyeSBhZ2Fpbi5cIixcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKFxuXHRcdFx0Y2F1Z2h0RXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJlxuXHRcdFx0Y2F1Z2h0RXJyb3IubWVzc2FnZSAhPT0gXCJORVhUX1JFRElSRUNUXCJcblx0XHQpIHtcblx0XHRcdC8vIExvZyBub24tcmVkaXJlY3QgZXJyb3JzIGZvciBkZWJ1Z2dpbmdcblx0XHRcdGNvbnNvbGUuZXJyb3IoXCJTaWduIGluIGVycm9yOlwiLCBjYXVnaHRFcnJvcik7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGNhdWdodEVycm9yLm1lc3NhZ2UsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdHRocm93IGNhdWdodEVycm9yO1xuXHR9XG59XG5cbi8qKlxuICogU2lnbiBPdXQgLSBFbmQgdXNlciBzZXNzaW9uXG4gKlxuICogRmVhdHVyZXM6XG4gKiAtIENsZWFycyBTdXBhYmFzZSBzZXNzaW9uIChjb29raWUtYmFzZWQpXG4gKiAtIENsZWFycyBDU1JGIHRva2VuIGNvb2tpZVxuICogLSBDbGVhcnMgYWN0aXZlIGNvbXBhbnkgY29va2llXG4gKiAtIFJldmFsaWRhdGVzIGFsbCBjYWNoZWQgZGF0YVxuICogLSBSZWRpcmVjdHMgdG8gbG9naW4gcGFnZVxuICpcbiAqIFNlY3VyaXR5OlxuICogLSBFbnN1cmVzIGFsbCBhdXRoZW50aWNhdGlvbiBhbmQgc2VjdXJpdHkgY29va2llcyBhcmUgcmVtb3ZlZFxuICogLSBQcmV2ZW50cyBzZXNzaW9uIHJldXNlIG9yIENTUkYgYXR0YWNrcyBhZnRlciBsb2dvdXRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNpZ25PdXQoKTogUHJvbWlzZTxBdXRoQWN0aW9uUmVzdWx0PiB7XG5cdHRyeSB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogXCJBdXRoZW50aWNhdGlvbiBzZXJ2aWNlIGlzIG5vdCBjb25maWd1cmVkLlwiLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBTaWduIG91dCBmcm9tIFN1cGFiYXNlIChjbGVhcnMgYXV0aCBjb29raWVzKVxuXHRcdGNvbnN0IHsgZXJyb3I6IHNpZ25PdXRFcnJvciB9ID0gYXdhaXQgd2l0aFN1cGFiYXNlUmF0ZUxpbWl0UmV0cnkoKCkgPT5cblx0XHRcdHN1cGFiYXNlLmF1dGguc2lnbk91dCgpLFxuXHRcdCk7XG5cblx0XHRpZiAoc2lnbk91dEVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IHNpZ25PdXRFcnJvci5tZXNzYWdlLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBDbGVhciBhbGwgc2VjdXJpdHktcmVsYXRlZCBjb29raWVzXG5cdFx0YXdhaXQgY2xlYXJDU1JGVG9rZW4oKTtcblx0XHRhd2FpdCBjbGVhckFjdGl2ZUNvbXBhbnkoKTtcblxuXHRcdC8vIFJldmFsaWRhdGUgYW5kIHJlZGlyZWN0IHRvIGxvZ2luXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvXCIsIFwibGF5b3V0XCIpO1xuXHRcdHJlZGlyZWN0KFwiL2xvZ2luXCIpO1xuXHR9IGNhdGNoIChjYXVnaHRFcnJvcikge1xuXHRcdGlmIChcblx0XHRcdGNhdWdodEVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiZcblx0XHRcdGNhdWdodEVycm9yLm1lc3NhZ2UgIT09IFwiTkVYVF9SRURJUkVDVFwiXG5cdFx0KSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGNhdWdodEVycm9yLm1lc3NhZ2UsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdHRocm93IGNhdWdodEVycm9yO1xuXHR9XG59XG5cbi8qKlxuICogU2lnbiBJbiB3aXRoIE9BdXRoIC0gQXV0aGVudGljYXRlIHdpdGggR29vZ2xlIG9yIG90aGVyIHByb3ZpZGVyc1xuICpcbiAqIEZlYXR1cmVzOlxuICogLSBPQXV0aCBwcm92aWRlciBhdXRoZW50aWNhdGlvblxuICogLSBIYW5kbGVzIGJvdGggbmV3IHNpZ251cHMgYW5kIGV4aXN0aW5nIHVzZXIgbG9naW5zIGF1dG9tYXRpY2FsbHlcbiAqIC0gU3VwYWJhc2UgZGV0ZXJtaW5lcyBpZiB1c2VyIGV4aXN0cyBhbmQgc2lnbnMgdGhlbSBpbiBvciBjcmVhdGVzIG5ldyBhY2NvdW50XG4gKiAtIFJlZGlyZWN0cyB0byBwcm92aWRlciBsb2dpbiBwYWdlXG4gKiAtIEFmdGVyIGNhbGxiYWNrLCBjaGVja3MgaWYgcHJvZmlsZSBpcyBjb21wbGV0ZSAocGhvbmUsIG5hbWUpXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzaWduSW5XaXRoT0F1dGgoXG5cdHByb3ZpZGVyOiBcImdvb2dsZVwiIHwgXCJmYWNlYm9va1wiLFxuKTogUHJvbWlzZTxBdXRoQWN0aW9uUmVzdWx0PiB7XG5cdHRyeSB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogXCJBdXRoZW50aWNhdGlvbiBzZXJ2aWNlIGlzIG5vdCBjb25maWd1cmVkLlwiLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRjb25zdCBzaXRlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU0lURV9VUkw7XG5cdFx0aWYgKCFzaXRlVXJsKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJORVhUX1BVQkxJQ19TSVRFX1VSTCBpcyBub3QgY29uZmlndXJlZFwiKTtcblx0XHR9XG5cblx0XHRjb25zdCB7IGRhdGEsIGVycm9yOiBvYXV0aEVycm9yIH0gPSBhd2FpdCB3aXRoU3VwYWJhc2VSYXRlTGltaXRSZXRyeSgoKSA9PlxuXHRcdFx0c3VwYWJhc2UuYXV0aC5zaWduSW5XaXRoT0F1dGgoe1xuXHRcdFx0XHRwcm92aWRlcixcblx0XHRcdFx0b3B0aW9uczoge1xuXHRcdFx0XHRcdHJlZGlyZWN0VG86IGAke3NpdGVVcmx9L2F1dGgvY2FsbGJhY2tgLFxuXHRcdFx0XHR9LFxuXHRcdFx0fSksXG5cdFx0KTtcblxuXHRcdGlmIChvYXV0aEVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IG9hdXRoRXJyb3IubWVzc2FnZSxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gUmVkaXJlY3QgdG8gT0F1dGggcHJvdmlkZXJcblx0XHRpZiAoZGF0YS51cmwpIHtcblx0XHRcdHJlZGlyZWN0KGRhdGEudXJsKTtcblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHR9O1xuXHR9IGNhdGNoIChjYXVnaHRFcnJvcikge1xuXHRcdGlmIChcblx0XHRcdGNhdWdodEVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiZcblx0XHRcdGNhdWdodEVycm9yLm1lc3NhZ2UgIT09IFwiTkVYVF9SRURJUkVDVFwiXG5cdFx0KSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGNhdWdodEVycm9yLm1lc3NhZ2UsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdHRocm93IGNhdWdodEVycm9yO1xuXHR9XG59XG5cbi8qKlxuICogRm9yZ290IFBhc3N3b3JkIC0gU2VuZCBjdXN0b20gcGFzc3dvcmQgcmVzZXQgZW1haWwgdmlhIFJlc2VuZFxuICpcbiAqIEZlYXR1cmVzOlxuICogLSBTZW5kcyBjdXN0b20gYnJhbmRlZCBwYXNzd29yZCByZXNldCBlbWFpbCB2aWEgUmVzZW5kXG4gKiAtIFNlY3VyZSB0b2tlbiBnZW5lcmF0aW9uIHZpYSBTdXBhYmFzZVxuICogLSBDdXN0b20gZW1haWwgdGVtcGxhdGUgd2l0aCBzZWN1cml0eSBpbmZvcm1hdGlvblxuICovXG5hc3luYyBmdW5jdGlvbiBmb3Jnb3RQYXNzd29yZChcblx0Zm9ybURhdGE6IEZvcm1EYXRhLFxuKTogUHJvbWlzZTxBdXRoQWN0aW9uUmVzdWx0PiB7XG5cdHRyeSB7XG5cdFx0Ly8gQm90IHByb3RlY3Rpb24gY2hlY2sgKFZlcmNlbCBCb3RJRClcblx0XHQvKlxuXHRcdGNvbnN0IGJvdENoZWNrID0gYXdhaXQgY2hlY2tCb3RJZCgpO1xuXHRcdGlmIChib3RDaGVjay5pc0JvdCkge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOiBcIlVuYWJsZSB0byBwcm9jZXNzIHJlcXVlc3QuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuXCIsXG5cdFx0XHR9O1xuXHRcdH1cblx0XHQqL1xuXG5cdFx0Y29uc3QgcmF3RGF0YSA9IHtcblx0XHRcdGVtYWlsOiBmb3JtRGF0YS5nZXQoXCJlbWFpbFwiKSBhcyBzdHJpbmcsXG5cdFx0fTtcblxuXHRcdGNvbnN0IHZhbGlkYXRlZERhdGEgPSBmb3Jnb3RQYXNzd29yZFNjaGVtYS5wYXJzZShyYXdEYXRhKTtcblxuXHRcdC8vIFJhdGUgbGltaXQgcGFzc3dvcmQgcmVzZXQgcmVxdWVzdHMgYnkgZW1haWwgKHN0cmljdGVyIGxpbWl0KVxuXHRcdHRyeSB7XG5cdFx0XHRhd2FpdCBjaGVja1JhdGVMaW1pdCh2YWxpZGF0ZWREYXRhLmVtYWlsLCBwYXNzd29yZFJlc2V0UmF0ZUxpbWl0ZXIpO1xuXHRcdH0gY2F0Y2ggKHJhdGVMaW1pdEVycm9yKSB7XG5cdFx0XHRpZiAocmF0ZUxpbWl0RXJyb3IgaW5zdGFuY2VvZiBSYXRlTGltaXRFcnJvcikge1xuXHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRcdGVycm9yOiByYXRlTGltaXRFcnJvci5tZXNzYWdlLFxuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdFx0dGhyb3cgcmF0ZUxpbWl0RXJyb3I7XG5cdFx0fVxuXG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogXCJBdXRoZW50aWNhdGlvbiBzZXJ2aWNlIGlzIG5vdCBjb25maWd1cmVkLlwiLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBHZW5lcmF0ZSBwYXNzd29yZCByZXNldCB0b2tlbiB2aWEgU3VwYWJhc2Vcblx0XHRjb25zdCB7IGVycm9yOiByZXNldFBhc3N3b3JkRXJyb3IgfSA9IGF3YWl0IHdpdGhTdXBhYmFzZVJhdGVMaW1pdFJldHJ5KCgpID0+XG5cdFx0XHRzdXBhYmFzZS5hdXRoLnJlc2V0UGFzc3dvcmRGb3JFbWFpbCh2YWxpZGF0ZWREYXRhLmVtYWlsLCB7XG5cdFx0XHRcdHJlZGlyZWN0VG86IGAke2VtYWlsQ29uZmlnLnNpdGVVcmx9L2F1dGgvcmVzZXQtcGFzc3dvcmRgLFxuXHRcdFx0fSksXG5cdFx0KTtcblxuXHRcdGlmIChyZXNldFBhc3N3b3JkRXJyb3IpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogcmVzZXRQYXNzd29yZEVycm9yLm1lc3NhZ2UsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdC8vIE5vdGU6IFN1cGFiYXNlIHdpbGwgc2VuZCBpdHMgb3duIGVtYWlsIHdpdGggdGhlIHJlc2V0IGxpbmsuXG5cdFx0Ly8gVG8gdXNlIGN1c3RvbSBSZXNlbmQgZW1haWwgaW5zdGVhZCwgeW91IG5lZWQgdG86XG5cdFx0Ly8gMS4gRGlzYWJsZSBTdXBhYmFzZSdzIHBhc3N3b3JkIHJlc2V0IGVtYWlsIGluIHRoZSBkYXNoYm9hcmRcblx0XHQvLyAyLiBHZW5lcmF0ZSB5b3VyIG93biBzZWN1cmUgdG9rZW5cblx0XHQvLyAzLiBTZW5kIGN1c3RvbSBlbWFpbCB3aXRoIHRoYXQgdG9rZW5cblx0XHQvLyBGb3Igbm93LCB3ZSdyZSB1c2luZyBTdXBhYmFzZSdzIHJlc2V0IGZsb3cgYnV0IHlvdSBjYW4gY3VzdG9taXplIHRoaXNcblxuXHRcdC8vIFRPRE86IFJlcGxhY2Ugd2l0aCBjdXN0b20gdG9rZW4gZ2VuZXJhdGlvbiArIFJlc2VuZCBlbWFpbFxuXHRcdC8vIEZvciBmdWxsIGN1c3RvbSBpbXBsZW1lbnRhdGlvbiwgc2VlIHRoZSBjb21tZW50ZWQgY29kZSBiZWxvdzpcblx0XHQvKlxuICAgIGNvbnN0IHJlc2V0VG9rZW4gPSBnZW5lcmF0ZVNlY3VyZVRva2VuKCk7IC8vIEltcGxlbWVudCB5b3VyIG93biB0b2tlbiBnZW5lcmF0aW9uXG4gICAgYXdhaXQgc3RvcmVSZXNldFRva2VuKHZhbGlkYXRlZERhdGEuZW1haWwsIHJlc2V0VG9rZW4pOyAvLyBTdG9yZSBpbiB5b3VyIGRhdGFiYXNlXG5cbiAgICBhd2FpdCBzZW5kUGFzc3dvcmRSZXNldCh2YWxpZGF0ZWREYXRhLmVtYWlsLCB7XG4gICAgICByZXNldFVybDogYCR7ZW1haWxDb25maWcuc2l0ZVVybH0vYXV0aC9yZXNldC1wYXNzd29yZD90b2tlbj0ke3Jlc2V0VG9rZW59YCxcbiAgICAgIGV4cGlyZXNJbk1pbnV0ZXM6IDYwLFxuICAgIH0pO1xuICAgICovXG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdGRhdGE6IHtcblx0XHRcdFx0bWVzc2FnZTogXCJQYXNzd29yZCByZXNldCBlbWFpbCBzZW50LiBQbGVhc2UgY2hlY2sgeW91ciBpbmJveC5cIixcblx0XHRcdH0sXG5cdFx0fTtcblx0fSBjYXRjaCAoY2F1Z2h0RXJyb3IpIHtcblx0XHRpZiAoY2F1Z2h0RXJyb3IgaW5zdGFuY2VvZiB6LlpvZEVycm9yKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IGNhdWdodEVycm9yLmlzc3Vlc1swXT8ubWVzc2FnZSB8fCBcIlZhbGlkYXRpb24gZXJyb3JcIixcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGNhdWdodEVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGNhdWdodEVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIHNlbmQgcmVzZXQgZW1haWxcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogUmVzZXQgUGFzc3dvcmQgLSBVcGRhdGUgcGFzc3dvcmQgd2l0aCByZXNldCB0b2tlbiArIFNlbmQgY29uZmlybWF0aW9uIGVtYWlsXG4gKlxuICogRmVhdHVyZXM6XG4gKiAtIFVwZGF0ZXMgdXNlciBwYXNzd29yZFxuICogLSBWYWxpZGF0ZXMgcGFzc3dvcmQgc3RyZW5ndGhcbiAqIC0gSW52YWxpZGF0ZXMgcmVzZXQgdG9rZW4gYWZ0ZXIgdXNlXG4gKiAtIFNlbmRzIGN1c3RvbSBwYXNzd29yZCBjaGFuZ2VkIGNvbmZpcm1hdGlvbiB2aWEgUmVzZW5kXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHJlc2V0UGFzc3dvcmQoXG5cdGZvcm1EYXRhOiBGb3JtRGF0YSxcbik6IFByb21pc2U8QXV0aEFjdGlvblJlc3VsdD4ge1xuXHR0cnkge1xuXHRcdC8vIEJvdCBwcm90ZWN0aW9uIGNoZWNrIChWZXJjZWwgQm90SUQpXG5cdFx0Lypcblx0XHRjb25zdCBib3RDaGVjayA9IGF3YWl0IGNoZWNrQm90SWQoKTtcblx0XHRpZiAoYm90Q2hlY2suaXNCb3QpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogXCJVbmFibGUgdG8gcHJvY2VzcyByZXF1ZXN0LiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLlwiLFxuXHRcdFx0fTtcblx0XHR9XG5cdFx0Ki9cblxuXHRcdGNvbnN0IHJhd0RhdGEgPSB7XG5cdFx0XHRwYXNzd29yZDogZm9ybURhdGEuZ2V0KFwicGFzc3dvcmRcIikgYXMgc3RyaW5nLFxuXHRcdFx0Y29uZmlybVBhc3N3b3JkOiBmb3JtRGF0YS5nZXQoXCJjb25maXJtUGFzc3dvcmRcIikgYXMgc3RyaW5nLFxuXHRcdH07XG5cblx0XHRjb25zdCB2YWxpZGF0ZWREYXRhID0gcmVzZXRQYXNzd29yZFNjaGVtYS5wYXJzZShyYXdEYXRhKTtcblxuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IFwiQXV0aGVudGljYXRpb24gc2VydmljZSBpcyBub3QgY29uZmlndXJlZC5cIixcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gR2V0IGN1cnJlbnQgdXNlciBiZWZvcmUgdXBkYXRpbmcgcGFzc3dvcmRcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgd2l0aFN1cGFiYXNlUmF0ZUxpbWl0UmV0cnkoKCkgPT4gc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCkpO1xuXG5cdFx0Y29uc3QgeyBlcnJvcjogdXBkYXRlVXNlckVycm9yIH0gPSBhd2FpdCB3aXRoU3VwYWJhc2VSYXRlTGltaXRSZXRyeSgoKSA9PlxuXHRcdFx0c3VwYWJhc2UuYXV0aC51cGRhdGVVc2VyKHtcblx0XHRcdFx0cGFzc3dvcmQ6IHZhbGlkYXRlZERhdGEucGFzc3dvcmQsXG5cdFx0XHR9KSxcblx0XHQpO1xuXG5cdFx0aWYgKHVwZGF0ZVVzZXJFcnJvcikge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOiB1cGRhdGVVc2VyRXJyb3IubWVzc2FnZSxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gU2VuZCBwYXNzd29yZCBjaGFuZ2VkIGNvbmZpcm1hdGlvbiBlbWFpbCB2aWEgUmVzZW5kXG5cdFx0aWYgKHVzZXI/LmVtYWlsKSB7XG5cdFx0XHRjb25zdCBlbWFpbFJlc3VsdCA9IGF3YWl0IHNlbmRQYXNzd29yZENoYW5nZWQodXNlci5lbWFpbCwge1xuXHRcdFx0XHRuYW1lOiB1c2VyLnVzZXJfbWV0YWRhdGE/Lm5hbWUgfHwgXCJVc2VyXCIsXG5cdFx0XHRcdGNoYW5nZWRBdDogbmV3IERhdGUoKSxcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBMb2cgZW1haWwgc2VuZCBmYWlsdXJlIGJ1dCBkb24ndCBibG9jayBwYXNzd29yZCByZXNldFxuXHRcdFx0aWYgKCFlbWFpbFJlc3VsdC5zdWNjZXNzKSB7XG5cdFx0XHRcdHJlcG9ydEF1dGhJc3N1ZShcblx0XHRcdFx0XHRcIkZhaWxlZCB0byBzZW5kIHBhc3N3b3JkIGNoYW5nZWQgZW1haWxcIixcblx0XHRcdFx0XHRlbWFpbFJlc3VsdC5lcnJvcixcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdGRhdGE6IHtcblx0XHRcdFx0bWVzc2FnZTpcblx0XHRcdFx0XHRcIlBhc3N3b3JkIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5LiBBIGNvbmZpcm1hdGlvbiBlbWFpbCBoYXMgYmVlbiBzZW50LlwiLFxuXHRcdFx0fSxcblx0XHR9O1xuXHR9IGNhdGNoIChjYXVnaHRFcnJvcikge1xuXHRcdGlmIChjYXVnaHRFcnJvciBpbnN0YW5jZW9mIHouWm9kRXJyb3IpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogY2F1Z2h0RXJyb3IuaXNzdWVzWzBdPy5tZXNzYWdlIHx8IFwiVmFsaWRhdGlvbiBlcnJvclwiLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0Y2F1Z2h0RXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gY2F1Z2h0RXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gcmVzZXQgcGFzc3dvcmRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogR2V0IEN1cnJlbnQgVXNlciAtIFJldHJpZXZlIGF1dGhlbnRpY2F0ZWQgdXNlciBkYXRhXG4gKlxuICogRmVhdHVyZXM6XG4gKiAtIFJldHVybnMgdXNlciBzZXNzaW9uIGRhdGFcbiAqIC0gUmV0dXJucyBudWxsIGlmIG5vdCBhdXRoZW50aWNhdGVkXG4gKiAtIENhbiBiZSB1c2VkIGluIFNlcnZlciBDb21wb25lbnRzXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldEN1cnJlbnRVc2VyKCkge1xuXHR0cnkge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgd2l0aFN1cGFiYXNlUmF0ZUxpbWl0UmV0cnkoKCkgPT4gc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCkpO1xuXG5cdFx0cmV0dXJuIHVzZXI7XG5cdH0gY2F0Y2ggKGNhdWdodEVycm9yKSB7XG5cdFx0cmVwb3J0QXV0aElzc3VlKFwiRXJyb3IgZ2V0dGluZyBjdXJyZW50IHVzZXJcIiwgY2F1Z2h0RXJyb3IpO1xuXHRcdHJldHVybiBudWxsO1xuXHR9XG59XG5cbi8qKlxuICogR2V0IFNlc3Npb24gLSBSZXRyaWV2ZSBjdXJyZW50IHNlc3Npb25cbiAqXG4gKiBGZWF0dXJlczpcbiAqIC0gUmV0dXJucyBzZXNzaW9uIGRhdGEgaW5jbHVkaW5nIGFjY2VzcyB0b2tlblxuICogLSBSZXR1cm5zIG51bGwgaWYgbm8gYWN0aXZlIHNlc3Npb25cbiAqIC0gQ2FuIGJlIHVzZWQgaW4gU2VydmVyIENvbXBvbmVudHNcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2V0U2Vzc2lvbigpIHtcblx0dHJ5IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG5cdFx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyBzZXNzaW9uIH0sXG5cdFx0fSA9IGF3YWl0IHdpdGhTdXBhYmFzZVJhdGVMaW1pdFJldHJ5KCgpID0+IHN1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbigpKTtcblxuXHRcdHJldHVybiBzZXNzaW9uO1xuXHR9IGNhdGNoIChjYXVnaHRFcnJvcikge1xuXHRcdHJlcG9ydEF1dGhJc3N1ZShcIkVycm9yIGdldHRpbmcgc2Vzc2lvblwiLCBjYXVnaHRFcnJvcik7XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cbn1cblxuLyoqXG4gKiBWZXJpZnkgRW1haWwgLSBWZXJpZnkgdXNlcidzIGVtYWlsIHdpdGggY3VzdG9tIHRva2VuXG4gKlxuICogRmVhdHVyZXM6XG4gKiAtIFZhbGlkYXRlcyBjdXN0b20gdmVyaWZpY2F0aW9uIHRva2VuXG4gKiAtIFVwZGF0ZXMgU3VwYWJhc2UgdXNlcidzIGVtYWlsX2NvbmZpcm1lZF9hdFxuICogLSBPbmUtdGltZSB1c2UgdG9rZW5zIHdpdGggZXhwaXJhdGlvblxuICogLSBTZW5kcyB3ZWxjb21lIGVtYWlsIGFmdGVyIHN1Y2Nlc3NmdWwgdmVyaWZpY2F0aW9uXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2ZXJpZnlFbWFpbCh0b2tlbjogc3RyaW5nKTogUHJvbWlzZTxBdXRoQWN0aW9uUmVzdWx0PiB7XG5cdHRyeSB7XG5cdFx0Ly8gVmVyaWZ5IGFuZCBjb25zdW1lIHRoZSB0b2tlblxuXHRcdGNvbnN0IHRva2VuUmVjb3JkID0gYXdhaXQgdmVyaWZ5QW5kQ29uc3VtZVRva2VuKFxuXHRcdFx0dG9rZW4sXG5cdFx0XHRcImVtYWlsX3ZlcmlmaWNhdGlvblwiLFxuXHRcdCk7XG5cblx0XHRpZiAoIXRva2VuUmVjb3JkKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6XG5cdFx0XHRcdFx0XCJJbnZhbGlkIG9yIGV4cGlyZWQgdmVyaWZpY2F0aW9uIGxpbmsuIFBsZWFzZSByZXF1ZXN0IGEgbmV3IG9uZS5cIixcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogXCJBdXRoZW50aWNhdGlvbiBzZXJ2aWNlIGlzIG5vdCBjb25maWd1cmVkLlwiLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBVcGRhdGUgU3VwYWJhc2UgdXNlciB0byBtYXJrIGVtYWlsIGFzIHZlcmlmaWVkXG5cdFx0aWYgKHRva2VuUmVjb3JkLnVzZXJJZCkge1xuXHRcdFx0Ly8gTm90ZTogcHJvZmlsZXMgdGFibGUgZG9lc24ndCBoYXZlIGVtYWlsX3ZlcmlmaWVkIGZpZWxkXG5cdFx0XHQvLyBFbWFpbCB2ZXJpZmljYXRpb24gaXMgaGFuZGxlZCB0aHJvdWdoIGF1dGgudXNlcnMuZW1haWxfY29uZmlybWVkX2F0XG5cdFx0XHQvLyB3aGljaCBpcyBzZXQgYXV0b21hdGljYWxseSBieSBTdXBhYmFzZSBBdXRoXG5cdFx0XHQvLyBXZSBkb24ndCBuZWVkIHRvIG1hbnVhbGx5IHVwZGF0ZSBwcm9maWxlcyB0YWJsZVxuXG5cdFx0XHQvLyBTZW5kIHdlbGNvbWUgZW1haWwgYWZ0ZXIgc3VjY2Vzc2Z1bCB2ZXJpZmljYXRpb25cblx0XHRcdGNvbnN0IHdlbGNvbWVSZXN1bHQgPSBhd2FpdCBzZW5kV2VsY29tZUVtYWlsKHRva2VuUmVjb3JkLmVtYWlsLCB7XG5cdFx0XHRcdG5hbWU6IGdldE1ldGFkYXRhU3RyaW5nKHRva2VuUmVjb3JkLm1ldGFkYXRhLCBcIm5hbWVcIikgfHwgXCJVc2VyXCIsXG5cdFx0XHRcdGxvZ2luVXJsOiBgJHtlbWFpbENvbmZpZy5zaXRlVXJsfS9sb2dpbmAsXG5cdFx0XHR9KTtcblxuXHRcdFx0aWYgKCF3ZWxjb21lUmVzdWx0LnN1Y2Nlc3MpIHtcblx0XHRcdFx0cmVwb3J0QXV0aElzc3VlKFwiRmFpbGVkIHRvIHNlbmQgd2VsY29tZSBlbWFpbFwiLCB3ZWxjb21lUmVzdWx0LmVycm9yKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdGRhdGE6IHtcblx0XHRcdFx0bWVzc2FnZTogXCJFbWFpbCB2ZXJpZmllZCBzdWNjZXNzZnVsbHkhIFlvdSBjYW4gbm93IHNpZ24gaW4uXCIsXG5cdFx0XHRcdGVtYWlsOiB0b2tlblJlY29yZC5lbWFpbCxcblx0XHRcdH0sXG5cdFx0fTtcblx0fSBjYXRjaCAoY2F1Z2h0RXJyb3IpIHtcblx0XHRyZXBvcnRBdXRoSXNzdWUoXCJFcnJvciB2ZXJpZnlpbmcgZW1haWxcIiwgY2F1Z2h0RXJyb3IpO1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRjYXVnaHRFcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBjYXVnaHRFcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byB2ZXJpZnkgZW1haWxcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogUmVzZW5kIFZlcmlmaWNhdGlvbiBFbWFpbCAtIFNlbmQgYSBuZXcgdmVyaWZpY2F0aW9uIGVtYWlsXG4gKlxuICogRmVhdHVyZXM6XG4gKiAtIEdlbmVyYXRlcyBuZXcgdmVyaWZpY2F0aW9uIHRva2VuXG4gKiAtIERlbGV0ZXMgb2xkIHRva2VucyBmb3IgdGhlIGVtYWlsXG4gKiAtIFNlbmRzIGZyZXNoIHZlcmlmaWNhdGlvbiBlbWFpbFxuICovXG5hc3luYyBmdW5jdGlvbiByZXNlbmRWZXJpZmljYXRpb25FbWFpbChcblx0ZW1haWw6IHN0cmluZyxcbik6IFByb21pc2U8QXV0aEFjdGlvblJlc3VsdD4ge1xuXHR0cnkge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdFx0ZXJyb3I6IFwiQXV0aGVudGljYXRpb24gc2VydmljZSBpcyBub3QgY29uZmlndXJlZC5cIixcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gQ2hlY2sgaWYgdXNlciBleGlzdHNcblx0XHRjb25zdCB7IGRhdGE6IHVzZXJEYXRhIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJwcm9maWxlc1wiKVxuXHRcdFx0LnNlbGVjdChcImlkLCBmdWxsX25hbWUsIGVtYWlsXCIpXG5cdFx0XHQuZXEoXCJlbWFpbFwiLCBlbWFpbClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghdXNlckRhdGEpIHtcblx0XHRcdC8vIERvbid0IHJldmVhbCBpZiB1c2VyIGV4aXN0cyBvciBub3QgZm9yIHNlY3VyaXR5XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0XHRkYXRhOiB7XG5cdFx0XHRcdFx0bWVzc2FnZTpcblx0XHRcdFx0XHRcdFwiSWYgYW4gYWNjb3VudCBleGlzdHMgd2l0aCB0aGlzIGVtYWlsLCBhIHZlcmlmaWNhdGlvbiBsaW5rIGhhcyBiZWVuIHNlbnQuXCIsXG5cdFx0XHRcdH0sXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdC8vIEdlbmVyYXRlIG5ldyB2ZXJpZmljYXRpb24gdG9rZW5cblx0XHRjb25zdCB7IHRva2VuLCBleHBpcmVzQXQgfSA9IGF3YWl0IGNyZWF0ZUVtYWlsVmVyaWZpY2F0aW9uVG9rZW4oXG5cdFx0XHRlbWFpbCxcblx0XHRcdHVzZXJEYXRhLmlkLFxuXHRcdFx0Q09ORklSTUFUSU9OX1RPS0VOX1RUTF9IT1VSUyxcblx0XHQpO1xuXG5cdFx0Ly8gU2VuZCB2ZXJpZmljYXRpb24gZW1haWxcblx0XHRjb25zdCB2ZXJpZmljYXRpb25VcmwgPSBgJHtlbWFpbENvbmZpZy5zaXRlVXJsfS9hdXRoL3ZlcmlmeS1lbWFpbD90b2tlbj0ke3Rva2VufWA7XG5cblx0XHRjb25zdCBlbWFpbFJlc3VsdCA9IGF3YWl0IHNlbmRFbWFpbFZlcmlmaWNhdGlvbihlbWFpbCwge1xuXHRcdFx0bmFtZTogdXNlckRhdGEuZnVsbF9uYW1lIHx8IFwiVXNlclwiLFxuXHRcdFx0dmVyaWZpY2F0aW9uVXJsLFxuXHRcdH0pO1xuXG5cdFx0aWYgKCFlbWFpbFJlc3VsdC5zdWNjZXNzKSB7XG5cdFx0XHRyZXBvcnRBdXRoSXNzdWUoXCJGYWlsZWQgdG8gc2VuZCB2ZXJpZmljYXRpb24gZW1haWxcIiwgZW1haWxSZXN1bHQuZXJyb3IpO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOiBcIkZhaWxlZCB0byBzZW5kIHZlcmlmaWNhdGlvbiBlbWFpbC4gUGxlYXNlIHRyeSBhZ2Fpbi5cIixcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IHRydWUsXG5cdFx0XHRkYXRhOiB7XG5cdFx0XHRcdG1lc3NhZ2U6IFwiQSBuZXcgdmVyaWZpY2F0aW9uIGxpbmsgaGFzIGJlZW4gc2VudCB0byB5b3VyIGVtYWlsLlwiLFxuXHRcdFx0XHRleHBpcmVzQXQ6IGV4cGlyZXNBdC50b0lTT1N0cmluZygpLFxuXHRcdFx0fSxcblx0XHR9O1xuXHR9IGNhdGNoIChjYXVnaHRFcnJvcikge1xuXHRcdHJlcG9ydEF1dGhJc3N1ZShcIkVycm9yIHJlc2VuZGluZyB2ZXJpZmljYXRpb24gZW1haWxcIiwgY2F1Z2h0RXJyb3IpO1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRjYXVnaHRFcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBjYXVnaHRFcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byByZXNlbmQgdmVyaWZpY2F0aW9uIGVtYWlsXCIsXG5cdFx0fTtcblx0fVxufVxuXG4vKipcbiAqIEdldCBBY3RpdmUgQ29tcGFueSBJRCBBY3Rpb25cbiAqXG4gKiBTZXJ2ZXIgYWN0aW9uIHRvIGdldCB0aGUgY3VycmVudGx5IGFjdGl2ZSBjb21wYW55IElEIGZvciBjbGllbnQgY29tcG9uZW50cy5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENvbXBhbnlJZEFjdGlvbigpOiBQcm9taXNlPHtcblx0c3VjY2VzczogYm9vbGVhbjtcblx0Y29tcGFueUlkPzogc3RyaW5nO1xuXHRlcnJvcj86IHN0cmluZztcbn0+IHtcblx0XCJ1c2Ugc2VydmVyXCI7XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IGdldEFjdGl2ZUNvbXBhbnlJZCB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvYXV0aC9jb21wYW55LWNvbnRleHRcIik7XG5cdFx0Y29uc3QgY29tcGFueUlkID0gYXdhaXQgZ2V0QWN0aXZlQ29tcGFueUlkKCk7XG5cblx0XHRpZiAoIWNvbXBhbnlJZCkge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIGFjdGl2ZSBjb21wYW55IGZvdW5kXCIgfTtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBjb21wYW55SWQgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRjb25zb2xlLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBjb21wYW55IElEOlwiLCBlcnJvcik7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJVbmtub3duIGVycm9yXCIsXG5cdFx0fTtcblx0fVxufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI2UkFpZ0NzQiJ9
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:3a0d76 [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"406bce7fa085d3cdc2f5aebf07b01ac78a96de1c51":"switchCompany"},"apps/web/src/actions/company-context.ts",""] */ __turbopack_context__.s([
    "switchCompany",
    ()=>switchCompany
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var switchCompany = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("406bce7fa085d3cdc2f5aebf07b01ac78a96de1c51", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "switchCompany"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vY29tcGFueS1jb250ZXh0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHNlcnZlclwiO1xuXG4vKipcbiAqIENvbXBhbnkgQ29udGV4dCBTZXJ2ZXIgQWN0aW9uc1xuICpcbiAqIFNlcnZlciBBY3Rpb25zIGZvciBtYW5hZ2luZyBhY3RpdmUgY29tcGFueSBjb250ZXh0LlxuICogVXNlZCBieSBjb21wYW55IHN3aXRjaGVyIFVJIGNvbXBvbmVudHMuXG4gKi9cblxuaW1wb3J0IHsgcmV2YWxpZGF0ZVBhdGggfSBmcm9tIFwibmV4dC9jYWNoZVwiO1xuaW1wb3J0IHtcblx0Y2xlYXJBY3RpdmVDb21wYW55LFxuXHRnZXRBY3RpdmVDb21wYW55LFxuXHRnZXRVc2VyQ29tcGFuaWVzLFxuXHRzZXRBY3RpdmVDb21wYW55LFxufSBmcm9tIFwiQC9saWIvYXV0aC9jb21wYW55LWNvbnRleHRcIjtcblxuLyoqXG4gKiBBY3Rpb24gUmVzdWx0IFR5cGVcbiAqL1xudHlwZSBBY3Rpb25SZXN1bHQ8VCA9IHZvaWQ+ID1cblx0fCB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlO1xuXHRcdFx0ZGF0YT86IFQ7XG5cdFx0XHRtZXNzYWdlPzogc3RyaW5nO1xuXHQgIH1cblx0fCB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZTtcblx0XHRcdGVycm9yOiBzdHJpbmc7XG5cdCAgfTtcblxuLyoqXG4gKiBTd2l0Y2ggQ29tcGFueVxuICpcbiAqIENoYW5nZXMgdGhlIHVzZXIncyBhY3RpdmUgY29tcGFueSBjb250ZXh0LlxuICogUmV2YWxpZGF0ZXMgdGhlIGVudGlyZSBsYXlvdXQgdG8gdXBkYXRlIGNvbXBhbnktc2NvcGVkIGRhdGEuXG4gKlxuICogQHBhcmFtIGNvbXBhbnlJZCAtIENvbXBhbnkgSUQgdG8gc3dpdGNoIHRvXG4gKiBAcmV0dXJucyBBY3Rpb25SZXN1bHQgaW5kaWNhdGluZyBzdWNjZXNzIG9yIGZhaWx1cmVcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHN3aXRjaENvbXBhbnkoXG5cdGNvbXBhbnlJZDogc3RyaW5nLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8dm9pZD4+IHtcblx0dHJ5IHtcblx0XHRhd2FpdCBzZXRBY3RpdmVDb21wYW55KGNvbXBhbnlJZCk7XG5cblx0XHQvLyBSZXZhbGlkYXRlIGV2ZXJ5dGhpbmcgdG8gZW5zdXJlIGFsbCBjb21wYW55LXNjb3BlZCBkYXRhIGlzIHJlZnJlc2hlZFxuXHRcdHJldmFsaWRhdGVQYXRoKFwiL1wiLCBcImxheW91dFwiKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0bWVzc2FnZTogXCJDb21wYW55IHN3aXRjaGVkIHN1Y2Nlc3NmdWxseVwiLFxuXHRcdH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gc3dpdGNoIGNvbXBhbnlcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogQ2xlYXIgQWN0aXZlIENvbXBhbnlcbiAqXG4gKiBSZW1vdmVzIHRoZSBhY3RpdmUgY29tcGFueSBjb250ZXh0LlxuICogVXNlZnVsIGZvciBsb2dvdXQgb3IgY29tcGFueSByZW1vdmFsIGZsb3dzLlxuICpcbiAqIEByZXR1cm5zIEFjdGlvblJlc3VsdCBpbmRpY2F0aW5nIHN1Y2Nlc3Mgb3IgZmFpbHVyZVxuICovXG5hc3luYyBmdW5jdGlvbiBjbGVhckNvbXBhbnkoKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8dm9pZD4+IHtcblx0dHJ5IHtcblx0XHRhd2FpdCBjbGVhckFjdGl2ZUNvbXBhbnkoKTtcblx0XHRyZXZhbGlkYXRlUGF0aChcIi9cIiwgXCJsYXlvdXRcIik7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdG1lc3NhZ2U6IFwiQ29tcGFueSBjb250ZXh0IGNsZWFyZWRcIixcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byBjbGVhciBjb21wYW55IGNvbnRleHRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogR2V0IFVzZXIncyBDb21wYW5pZXNcbiAqXG4gKiBSZXR1cm5zIGFsbCBjb21wYW5pZXMgdGhlIHVzZXIgaGFzIGFjY2VzcyB0by5cbiAqIFVzZWZ1bCBmb3IgcG9wdWxhdGluZyBjb21wYW55IHN3aXRjaGVyIGRyb3Bkb3ducy5cbiAqXG4gKiBAcmV0dXJucyBBY3Rpb25SZXN1bHQgd2l0aCBhcnJheSBvZiBjb21wYW5pZXNcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2V0Q29tcGFuaWVzKCk6IFByb21pc2U8XG5cdEFjdGlvblJlc3VsdDxBcnJheTx7IGlkOiBzdHJpbmc7IG5hbWU6IHN0cmluZzsgbG9nbz86IHN0cmluZyB8IG51bGwgfT4+XG4+IHtcblx0dHJ5IHtcblx0XHRjb25zdCBjb21wYW5pZXMgPSBhd2FpdCBnZXRVc2VyQ29tcGFuaWVzKCk7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdGRhdGE6IGNvbXBhbmllcyxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiRmFpbGVkIHRvIGdldCBjb21wYW5pZXNcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogR2V0IEFjdGl2ZSBDb21wYW55IERldGFpbHNcbiAqXG4gKiBSZXR1cm5zIGRldGFpbHMgYWJvdXQgdGhlIGN1cnJlbnRseSBhY3RpdmUgY29tcGFueS5cbiAqXG4gKiBAcmV0dXJucyBBY3Rpb25SZXN1bHQgd2l0aCBjb21wYW55IGRldGFpbHMgb3IgbnVsbFxuICovXG5hc3luYyBmdW5jdGlvbiBnZXRBY3RpdmVDb21wYW55RGV0YWlscygpOiBQcm9taXNlPFxuXHRBY3Rpb25SZXN1bHQ8eyBpZDogc3RyaW5nOyBuYW1lOiBzdHJpbmc7IGxvZ28/OiBzdHJpbmcgfCBudWxsIH0gfCBudWxsPlxuPiB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgY29tcGFueSA9IGF3YWl0IGdldEFjdGl2ZUNvbXBhbnkoKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0ZGF0YTogY29tcGFueSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiRmFpbGVkIHRvIGdldCBhY3RpdmUgY29tcGFueVwiLFxuXHRcdH07XG5cdH1cbn1cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOFNBd0NzQiJ9
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:f7b4d2 [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"4071d2fab292ee04db9b66589b9b28bb9e2a475117":"updateUserStatus"},"apps/web/src/actions/user-status.ts",""] */ __turbopack_context__.s([
    "updateUserStatus",
    ()=>updateUserStatus
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var updateUserStatus = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("4071d2fab292ee04db9b66589b9b28bb9e2a475117", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "updateUserStatus"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vdXNlci1zdGF0dXMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc2VydmVyXCI7XG5cbmltcG9ydCB7IHJldmFsaWRhdGVQYXRoIH0gZnJvbSBcIm5leHQvY2FjaGVcIjtcbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gXCJAL2xpYi9zdXBhYmFzZS9zZXJ2ZXJcIjtcblxuLyoqXG4gKiBVcGRhdGUgdXNlciBzdGF0dXMgYWN0aW9uXG4gKiBBbGxvd3MgdXNlcnMgdG8gY2hhbmdlIHRoZWlyIGF2YWlsYWJpbGl0eSBzdGF0dXMgKG9ubGluZSwgYXZhaWxhYmxlLCBidXN5KVxuICovXG5cbmV4cG9ydCB0eXBlIFVzZXJTdGF0dXMgPSBcIm9ubGluZVwiIHwgXCJhdmFpbGFibGVcIiB8IFwiYnVzeVwiO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlVXNlclN0YXR1cyhzdGF0dXM6IFVzZXJTdGF0dXMpIHtcblx0dHJ5IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogXCJEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZFwiLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHQvLyBHZXQgY3VycmVudCB1c2VyXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0XHRlcnJvcjogYXV0aEVycm9yLFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblxuXHRcdGlmIChhdXRoRXJyb3IgfHwgIXVzZXIpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0XHRlcnJvcjogXCJVbmF1dGhvcml6ZWRcIixcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Ly8gVXBkYXRlIHVzZXIgc3RhdHVzXG5cdFx0Y29uc3QgeyBlcnJvcjogdXBkYXRlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcInByb2ZpbGVzXCIpXG5cdFx0XHQudXBkYXRlKHsgc3RhdHVzIH0pXG5cdFx0XHQuZXEoXCJpZFwiLCB1c2VyLmlkKTtcblxuXHRcdGlmICh1cGRhdGVFcnJvcikge1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRcdGVycm9yOiBcIkZhaWxlZCB0byB1cGRhdGUgc3RhdHVzXCIsXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdC8vIFJldmFsaWRhdGUgYWxsIHBhZ2VzIHRvIHJlZmxlY3QgdGhlIG5ldyBzdGF0dXNcblx0XHRyZXZhbGlkYXRlUGF0aChcIi9cIiwgXCJsYXlvdXRcIik7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdHN0YXR1cyxcblx0XHR9O1xuXHR9IGNhdGNoIChfZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjogXCJBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkXCIsXG5cdFx0fTtcblx0fVxufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI2U0FZc0IifQ==
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/components/ui/avatar.tsx [app-client] (ecmascript) <locals>", ((__turbopack_context__) => {
"use strict";

// Re-export from @stratos/ui package
__turbopack_context__.s([]);
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$index$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/packages/ui/src/index.ts [app-client] (ecmascript) <locals>");
;
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/components/layout/user-menu.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "UserMenu",
    ()=>UserMenu
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$48a49a__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/apps/web/src/actions/data:48a49a [app-client] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$3a0d76__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/apps/web/src/actions/data:3a0d76 [app-client] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$f7b4d2__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/apps/web/src/actions/data:f7b4d2 [app-client] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ui$2f$avatar$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/web/src/components/ui/avatar.tsx [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$avatar$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/src/avatar.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ui$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/web/src/components/ui/dropdown-menu.tsx [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/src/dropdown-menu.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/src/lib/utils.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$building$2d$2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Building2$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/building-2.js [app-client] (ecmascript) <export default as Building2>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Check$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/check.js [app-client] (ecmascript) <export default as Check>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$chevron$2d$right$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__ChevronRight$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/chevron-right.js [app-client] (ecmascript) <export default as ChevronRight>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$credit$2d$card$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__CreditCard$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/credit-card.js [app-client] (ecmascript) <export default as CreditCard>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$circle$2d$question$2d$mark$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__HelpCircle$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/circle-question-mark.js [app-client] (ecmascript) <export default as HelpCircle>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$keyboard$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Keyboard$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/keyboard.js [app-client] (ecmascript) <export default as Keyboard>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$log$2d$out$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__LogOut$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/log-out.js [app-client] (ecmascript) <export default as LogOut>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$monitor$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Monitor$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/monitor.js [app-client] (ecmascript) <export default as Monitor>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$moon$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Moon$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/moon.js [app-client] (ecmascript) <export default as Moon>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$plus$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Plus$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/plus.js [app-client] (ecmascript) <export default as Plus>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$settings$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Settings$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/settings.js [app-client] (ecmascript) <export default as Settings>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$sun$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Sun$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/sun.js [app-client] (ecmascript) <export default as Sun>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$user$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__User$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/user.js [app-client] (ecmascript) <export default as User>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$2d$themes$40$0$2e$4$2e$6_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2d$themes$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next-themes@0.4.6_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next-themes/dist/index.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$image$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/image.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$client$2f$app$2d$dir$2f$link$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/client/app-dir/link.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
"use client";
;
;
;
;
;
;
;
;
;
;
;
const STATUS_CONFIG = {
    online: {
        label: "Online",
        color: "bg-green-500",
        description: "Available for work"
    },
    available: {
        label: "Away",
        color: "bg-yellow-500",
        description: "Temporarily unavailable"
    },
    busy: {
        label: "Do not disturb",
        color: "bg-red-500",
        description: "Only urgent matters"
    },
    offline: {
        label: "Offline",
        color: "bg-gray-400",
        description: "Appear offline"
    }
};
function UserMenu({ user, teams, activeCompanyId }) {
    _s();
    const { theme, setTheme } = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$2d$themes$40$0$2e$4$2e$6_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2d$themes$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTheme"])();
    const [mounted, setMounted] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [userStatus, setUserStatus] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(user.status || "online");
    const [isUpdatingStatus, setIsUpdatingStatus] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [isOpen, setIsOpen] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const initialActiveTeam = teams.find((t)=>t.id === activeCompanyId) || teams[0];
    const [activeTeam, setActiveTeam] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(initialActiveTeam);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "UserMenu.useEffect": ()=>{
            setMounted(true);
        }
    }["UserMenu.useEffect"], []);
    const handleCompanySwitch = async (team)=>{
        if (activeTeam?.id === team.id) return;
        const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$3a0d76__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["switchCompany"])(team.id);
        if (result.success) {
            setActiveTeam(team);
        }
    };
    const handleLogout = async ()=>{
        await (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$48a49a__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["signOut"])();
    };
    const handleStatusChange = async (status)=>{
        setIsUpdatingStatus(true);
        try {
            const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$f7b4d2__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["updateUserStatus"])(status);
            if (result.success) {
                setUserStatus(status);
            }
        } finally{
            setIsUpdatingStatus(false);
        }
    };
    const getCurrentTheme = ()=>{
        if (!mounted) return "system";
        return theme === "light" ? "light" : theme === "dark" ? "dark" : "system";
    };
    const getInitials = (name, email)=>{
        if (name) {
            return name.split(" ").map((n)=>n[0]).join("").toUpperCase().slice(0, 2);
        }
        return email?.substring(0, 2).toUpperCase() || "U";
    };
    const statusConfig = STATUS_CONFIG[userStatus];
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DropdownMenu"], {
        open: isOpen,
        onOpenChange: setIsOpen,
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DropdownMenuTrigger"], {
                asChild: true,
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                    className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("flex h-8 items-center gap-2 rounded-lg px-2 transition-all duration-150", "hover:bg-accent/80 focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2", "outline-none disabled:pointer-events-none disabled:opacity-50", isOpen && "bg-accent"),
                    type: "button",
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "relative",
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$avatar$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Avatar"], {
                                    className: "size-6 rounded-md ring-1 ring-border/50",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$avatar$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AvatarImage"], {
                                            alt: user.name || user.email,
                                            src: user.avatar
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                            lineNumber: 151,
                                            columnNumber: 8
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$avatar$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AvatarFallback"], {
                                            className: "rounded-md text-[10px] font-medium bg-muted",
                                            children: getInitials(user.name, user.email)
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                            lineNumber: 152,
                                            columnNumber: 8
                                        }, this)
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                    lineNumber: 150,
                                    columnNumber: 7
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("absolute -bottom-0.5 -right-0.5 size-2.5 rounded-full ring-2 ring-background", statusConfig.color)
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                    lineNumber: 156,
                                    columnNumber: 7
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                            lineNumber: 149,
                            columnNumber: 6
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                            className: "hidden text-sm font-medium md:inline-block truncate max-w-28",
                            children: user.name?.split(" ")[0] || user.email?.split("@")[0] || "User"
                        }, void 0, false, {
                            fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                            lineNumber: 163,
                            columnNumber: 6
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                            className: "sr-only",
                            children: "Open user menu"
                        }, void 0, false, {
                            fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                            lineNumber: 166,
                            columnNumber: 6
                        }, this)
                    ]
                }, void 0, true, {
                    fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                    lineNumber: 140,
                    columnNumber: 5
                }, this)
            }, void 0, false, {
                fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                lineNumber: 139,
                columnNumber: 4
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$dropdown$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["DropdownMenuContent"], {
                align: "end",
                sideOffset: 8,
                className: "w-80 p-0 overflow-hidden",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "bg-muted/30 border-b border-border/50 p-4",
                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "flex items-start gap-3",
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "relative shrink-0",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$avatar$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Avatar"], {
                                            className: "size-11 rounded-xl ring-2 ring-background shadow-sm",
                                            children: [
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$avatar$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AvatarImage"], {
                                                    alt: user.name || user.email,
                                                    src: user.avatar
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                                    lineNumber: 180,
                                                    columnNumber: 9
                                                }, this),
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$avatar$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["AvatarFallback"], {
                                                    className: "rounded-xl text-sm font-semibold bg-primary/10 text-primary",
                                                    children: getInitials(user.name, user.email)
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                                    lineNumber: 181,
                                                    columnNumber: 9
                                                }, this)
                                            ]
                                        }, void 0, true, {
                                            fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                            lineNumber: 179,
                                            columnNumber: 8
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                            className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("absolute -bottom-0.5 -right-0.5 size-3 rounded-full ring-2 ring-background", statusConfig.color)
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                            lineNumber: 185,
                                            columnNumber: 8
                                        }, this)
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                    lineNumber: 178,
                                    columnNumber: 7
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "flex-1 min-w-0 space-y-0.5",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                            className: "text-sm font-semibold truncate",
                                            children: user.name || user.email?.split("@")[0] || "User"
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                            lineNumber: 193,
                                            columnNumber: 8
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                            className: "text-xs text-muted-foreground truncate",
                                            children: user.email
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                            lineNumber: 196,
                                            columnNumber: 8
                                        }, this),
                                        activeTeam && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                            className: "text-xs text-muted-foreground truncate flex items-center gap-1",
                                            children: [
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$building$2d$2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Building2$3e$__["Building2"], {
                                                    className: "size-3"
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                                    lineNumber: 201,
                                                    columnNumber: 10
                                                }, this),
                                                activeTeam.name
                                            ]
                                        }, void 0, true, {
                                            fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                            lineNumber: 200,
                                            columnNumber: 9
                                        }, this)
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                    lineNumber: 192,
                                    columnNumber: 7
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                            lineNumber: 177,
                            columnNumber: 6
                        }, this)
                    }, void 0, false, {
                        fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                        lineNumber: 176,
                        columnNumber: 5
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "p-2 border-b border-border/50",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                className: "text-[11px] font-medium text-muted-foreground uppercase tracking-wider px-2 py-1.5",
                                children: "Set Status"
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                lineNumber: 211,
                                columnNumber: 6
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "space-y-0.5",
                                children: Object.entries(STATUS_CONFIG).map(([status, config])=>/*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                        disabled: isUpdatingStatus,
                                        onClick: ()=>handleStatusChange(status),
                                        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("flex w-full items-center gap-3 rounded-md px-2 py-2 text-sm transition-colors", "hover:bg-accent disabled:opacity-50", userStatus === status && "bg-accent"),
                                        type: "button",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("size-2.5 rounded-full shrink-0", config.color)
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                                lineNumber: 232,
                                                columnNumber: 9
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: "flex-1 text-left",
                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                    className: "font-medium",
                                                    children: config.label
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                                    lineNumber: 236,
                                                    columnNumber: 10
                                                }, this)
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                                lineNumber: 235,
                                                columnNumber: 9
                                            }, this),
                                            userStatus === status && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$check$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Check$3e$__["Check"], {
                                                className: "size-4 text-primary shrink-0"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                                lineNumber: 239,
                                                columnNumber: 10
                                            }, this)
                                        ]
                                    }, status, true, {
                                        fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                        lineNumber: 221,
                                        columnNumber: 8
                                    }, this))
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                lineNumber: 214,
                                columnNumber: 6
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                        lineNumber: 210,
                        columnNumber: 5
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "p-2 border-b border-border/50",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "flex items-center justify-between px-2 py-1.5",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                        className: "text-[11px] font-medium text-muted-foreground uppercase tracking-wider",
                                        children: "Workspaces"
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                        lineNumber: 249,
                                        columnNumber: 7
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$client$2f$app$2d$dir$2f$link$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                                        href: "/welcome?new=true",
                                        className: "text-[11px] font-medium text-primary hover:underline flex items-center gap-0.5",
                                        onClick: ()=>setIsOpen(false),
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$plus$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Plus$3e$__["Plus"], {
                                                className: "size-3"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                                lineNumber: 257,
                                                columnNumber: 8
                                            }, this),
                                            "Add"
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                        lineNumber: 252,
                                        columnNumber: 7
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                lineNumber: 248,
                                columnNumber: 6
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "max-h-36 overflow-y-auto space-y-0.5",
                                children: teams.map((team)=>{
                                    const isActive = activeTeam?.id === team.id;
                                    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                        onClick: ()=>handleCompanySwitch(team),
                                        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("flex w-full items-center gap-3 rounded-md px-2 py-2 transition-colors", "hover:bg-accent", isActive && "bg-accent"),
                                        type: "button",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: "flex size-8 items-center justify-center rounded-lg bg-muted shrink-0",
                                                children: team.logo ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$image$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                                                    src: team.logo,
                                                    alt: team.name,
                                                    width: 20,
                                                    height: 20,
                                                    className: "size-5 object-contain"
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                                    lineNumber: 277,
                                                    columnNumber: 12
                                                }, this) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$building$2d$2$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Building2$3e$__["Building2"], {
                                                    className: "size-4 text-muted-foreground"
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                                    lineNumber: 285,
                                                    columnNumber: 12
                                                }, this)
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                                lineNumber: 275,
                                                columnNumber: 10
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: "flex-1 min-w-0 text-left",
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                                        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("text-sm truncate", isActive && "font-medium"),
                                                        children: team.name
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                                        lineNumber: 289,
                                                        columnNumber: 11
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                        className: "flex items-center gap-1.5",
                                                        children: team.onboardingComplete === false ? /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                            className: "text-[10px] text-amber-600 dark:text-amber-400",
                                                            children: "Setup required"
                                                        }, void 0, false, {
                                                            fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                                            lineNumber: 299,
                                                            columnNumber: 13
                                                        }, this) : /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                            className: "text-[10px] text-muted-foreground capitalize",
                                                            children: team.plan
                                                        }, void 0, false, {
                                                            fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                                            lineNumber: 303,
                                                            columnNumber: 13
                                                        }, this)
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                                        lineNumber: 297,
                                                        columnNumber: 11
                                                    }, this)
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                                lineNumber: 288,
                                                columnNumber: 10
                                            }, this),
                                            isActive && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: "size-1.5 rounded-full bg-primary shrink-0"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                                lineNumber: 310,
                                                columnNumber: 11
                                            }, this)
                                        ]
                                    }, team.id, true, {
                                        fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                        lineNumber: 265,
                                        columnNumber: 9
                                    }, this);
                                })
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                lineNumber: 261,
                                columnNumber: 6
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                        lineNumber: 247,
                        columnNumber: 5
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "p-2 border-b border-border/50",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(NavItem, {
                                href: "/dashboard/settings/profile/personal",
                                icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$user$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__User$3e$__["User"],
                                label: "Profile & Account",
                                shortcut: "P",
                                onClick: ()=>setIsOpen(false)
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                lineNumber: 320,
                                columnNumber: 6
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(NavItem, {
                                href: "/dashboard/settings/billing",
                                icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$credit$2d$card$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__CreditCard$3e$__["CreditCard"],
                                label: "Plans & Billing",
                                onClick: ()=>setIsOpen(false)
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                lineNumber: 327,
                                columnNumber: 6
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(NavItem, {
                                href: "/dashboard/settings",
                                icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$settings$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Settings$3e$__["Settings"],
                                label: "Settings",
                                shortcut: ",",
                                onClick: ()=>setIsOpen(false)
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                lineNumber: 333,
                                columnNumber: 6
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                        lineNumber: 319,
                        columnNumber: 5
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "p-2 border-b border-border/50",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                className: "text-[11px] font-medium text-muted-foreground uppercase tracking-wider px-2 py-1.5",
                                children: "Appearance"
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                lineNumber: 344,
                                columnNumber: 6
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "px-2 py-1",
                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "flex items-center gap-1 p-0.5 rounded-lg bg-muted/50",
                                    children: [
                                        {
                                            value: "light",
                                            icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$sun$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Sun$3e$__["Sun"],
                                            label: "Light"
                                        },
                                        {
                                            value: "dark",
                                            icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$moon$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Moon$3e$__["Moon"],
                                            label: "Dark"
                                        },
                                        {
                                            value: "system",
                                            icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$monitor$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Monitor$3e$__["Monitor"],
                                            label: "System"
                                        }
                                    ].map((option)=>{
                                        const Icon = option.icon;
                                        const isSelected = getCurrentTheme() === option.value;
                                        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                            disabled: !mounted,
                                            onClick: ()=>setTheme(option.value),
                                            className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("flex flex-1 items-center justify-center gap-1.5 rounded-md px-3 py-1.5 text-xs font-medium transition-all", isSelected ? "bg-background text-foreground shadow-sm" : "text-muted-foreground hover:text-foreground"),
                                            type: "button",
                                            children: [
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(Icon, {
                                                    className: "size-3.5"
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                                    lineNumber: 369,
                                                    columnNumber: 11
                                                }, this),
                                                option.label
                                            ]
                                        }, option.value, true, {
                                            fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                            lineNumber: 357,
                                            columnNumber: 10
                                        }, this);
                                    })
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                    lineNumber: 348,
                                    columnNumber: 7
                                }, this)
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                lineNumber: 347,
                                columnNumber: 6
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                        lineNumber: 343,
                        columnNumber: 5
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "p-2 border-b border-border/50",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(NavItem, {
                                href: "/help",
                                icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$circle$2d$question$2d$mark$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__HelpCircle$3e$__["HelpCircle"],
                                label: "Help & Support",
                                external: true,
                                onClick: ()=>setIsOpen(false)
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                lineNumber: 380,
                                columnNumber: 6
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(NavItem, {
                                href: "/dashboard/settings/shortcuts",
                                icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$keyboard$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Keyboard$3e$__["Keyboard"],
                                label: "Keyboard Shortcuts",
                                shortcut: "/",
                                onClick: ()=>setIsOpen(false)
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                lineNumber: 387,
                                columnNumber: 6
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                        lineNumber: 379,
                        columnNumber: 5
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "p-2",
                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                            onClick: handleLogout,
                            className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("flex w-full items-center gap-3 rounded-md px-2 py-2 text-sm transition-colors", "text-muted-foreground hover:bg-destructive/10 hover:text-destructive"),
                            type: "button",
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$log$2d$out$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__LogOut$3e$__["LogOut"], {
                                    className: "size-4"
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                    lineNumber: 406,
                                    columnNumber: 7
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                    children: "Sign out"
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                    lineNumber: 407,
                                    columnNumber: 7
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("kbd", {
                                    className: "ml-auto hidden sm:inline-flex h-5 items-center rounded border border-border/50 bg-muted/50 px-1.5 font-mono text-[10px] text-muted-foreground",
                                    children: "Q"
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                                    lineNumber: 408,
                                    columnNumber: 7
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                            lineNumber: 398,
                            columnNumber: 6
                        }, this)
                    }, void 0, false, {
                        fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                        lineNumber: 397,
                        columnNumber: 5
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                lineNumber: 170,
                columnNumber: 4
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
        lineNumber: 138,
        columnNumber: 3
    }, this);
}
_s(UserMenu, "Vu9Jc/nkPCz1FAs8mo3JRWk2YuU=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$2d$themes$40$0$2e$4$2e$6_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2d$themes$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useTheme"]
    ];
});
_c = UserMenu;
function NavItem({ href, icon: Icon, label, shortcut, external, onClick }) {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$client$2f$app$2d$dir$2f$link$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
        href: href,
        onClick: onClick,
        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("flex items-center gap-3 rounded-md px-2 py-2 text-sm transition-colors", "text-foreground/80 hover:bg-accent hover:text-foreground"),
        ...external && {
            target: "_blank",
            rel: "noopener noreferrer"
        },
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(Icon, {
                className: "size-4 text-muted-foreground"
            }, void 0, false, {
                fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                lineNumber: 443,
                columnNumber: 4
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                className: "flex-1",
                children: label
            }, void 0, false, {
                fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                lineNumber: 444,
                columnNumber: 4
            }, this),
            shortcut && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("kbd", {
                className: "hidden sm:inline-flex h-5 items-center rounded border border-border/50 bg-muted/50 px-1.5 font-mono text-[10px] text-muted-foreground",
                children: shortcut
            }, void 0, false, {
                fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                lineNumber: 446,
                columnNumber: 5
            }, this),
            external && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$chevron$2d$right$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__ChevronRight$3e$__["ChevronRight"], {
                className: "size-3.5 text-muted-foreground"
            }, void 0, false, {
                fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
                lineNumber: 450,
                columnNumber: 17
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/apps/web/src/components/layout/user-menu.tsx",
        lineNumber: 434,
        columnNumber: 3
    }, this);
}
_c1 = NavItem;
var _c, _c1;
__turbopack_context__.k.register(_c, "UserMenu");
__turbopack_context__.k.register(_c1, "NavItem");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:b9dd13 [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"00b83d20602d045512eefed4896ab81b399955d9af":"getTotalUnreadCountAction"},"apps/web/src/actions/email-actions.ts",""] */ __turbopack_context__.s([
    "getTotalUnreadCountAction",
    ()=>getTotalUnreadCountAction
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var getTotalUnreadCountAction = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("00b83d20602d045512eefed4896ab81b399955d9af", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "getTotalUnreadCountAction"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vZW1haWwtYWN0aW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzZXJ2ZXJcIjtcblxuaW1wb3J0IHtcbiAgICBhcmNoaXZlQWxsRW1haWxzLFxuICAgIGdldENvbXBhbnlFbWFpbHMsXG4gICAgZ2V0RW1haWxCeUlkLFxuICAgIGdldEVtYWlsU3RhdHMsXG4gICAgZ2V0RW1haWxUaHJlYWRzLFxuICAgIG1hcmtFbWFpbEFzUmVhZCxcbiAgICB0eXBlIENvbXBhbnlFbWFpbCxcbn0gZnJvbSBcIkAvbGliL2VtYWlsL2VtYWlsLXNlcnZpY2VcIjtcbmltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG5cbmNvbnN0IGdldEVtYWlsc1NjaGVtYSA9IHoub2JqZWN0KHtcbiAgbGltaXQ6IHouY29lcmNlLm51bWJlcigpLm1pbigxKS5tYXgoNTAwKS5vcHRpb25hbCgpLmRlZmF1bHQoNTApLFxuICBvZmZzZXQ6IHouY29lcmNlLm51bWJlcigpLm1pbigwKS5vcHRpb25hbCgpLmRlZmF1bHQoMCksXG4gIHR5cGU6IHouZW51bShbXCJzZW50XCIsIFwicmVjZWl2ZWRcIiwgXCJhbGxcIl0pLm9wdGlvbmFsKCkuZGVmYXVsdChcImFsbFwiKSxcbiAgaW5ib3hUeXBlOiB6LmVudW0oW1wicGVyc29uYWxcIiwgXCJjb21wYW55XCJdKS5vcHRpb25hbCgpLFxuICBmb2xkZXI6IHouZW51bShbXCJpbmJveFwiLCBcImRyYWZ0c1wiLCBcInNlbnRcIiwgXCJhcmNoaXZlXCIsIFwic25vb3plZFwiLCBcInNwYW1cIiwgXCJ0cmFzaFwiLCBcImJpblwiLCBcInN0YXJyZWRcIiwgXCJhbGxcIl0pLm9wdGlvbmFsKCksXG4gIGNhdGVnb3J5OiB6LmVudW0oW1wic3VwcG9ydFwiLCBcInNhbGVzXCIsIFwiYmlsbGluZ1wiLCBcImdlbmVyYWxcIl0pLm9wdGlvbmFsKCksXG4gIGxhYmVsOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIHNlYXJjaDogei5zdHJpbmcoKS5vcHRpb25hbCgpLm51bGxhYmxlKCksXG4gIHNvcnRCeTogei5lbnVtKFtcImNyZWF0ZWRfYXRcIiwgXCJzZW50X2F0XCIsIFwic3ViamVjdFwiXSkub3B0aW9uYWwoKS5kZWZhdWx0KFwiY3JlYXRlZF9hdFwiKSxcbiAgc29ydE9yZGVyOiB6LmVudW0oW1wiYXNjXCIsIFwiZGVzY1wiXSkub3B0aW9uYWwoKS5kZWZhdWx0KFwiZGVzY1wiKSxcbn0pLnBhc3N0aHJvdWdoKCk7XG5cbmNvbnN0IGdldEVtYWlsVGhyZWFkc1NjaGVtYSA9IHoub2JqZWN0KHtcbiAgbGltaXQ6IHoubnVtYmVyKCkubWluKDEpLm1heCg1MCkub3B0aW9uYWwoKS5kZWZhdWx0KDIwKSxcbiAgb2Zmc2V0OiB6Lm51bWJlcigpLm1pbigwKS5vcHRpb25hbCgpLmRlZmF1bHQoMCksXG4gIHNlYXJjaDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxufSk7XG5cbmNvbnN0IG1hcmtFbWFpbFJlYWRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGVtYWlsSWQ6IHouc3RyaW5nKCkubWluKDEpLFxufSk7XG5cbmV4cG9ydCB0eXBlIEdldEVtYWlsc0lucHV0ID0gei5pbmZlcjx0eXBlb2YgZ2V0RW1haWxzU2NoZW1hPjtcbmV4cG9ydCB0eXBlIEdldEVtYWlsVGhyZWFkc0lucHV0ID0gei5pbmZlcjx0eXBlb2YgZ2V0RW1haWxUaHJlYWRzU2NoZW1hPjtcbmV4cG9ydCB0eXBlIE1hcmtFbWFpbFJlYWRJbnB1dCA9IHouaW5mZXI8dHlwZW9mIG1hcmtFbWFpbFJlYWRTY2hlbWE+O1xuXG4vLyBSZS1leHBvcnQgZW1haWwgdHlwZXMgZnJvbSBlbWFpbC1zZXJ2aWNlXG5leHBvcnQgdHlwZSB7IENvbXBhbnlFbWFpbCB9O1xuXG5leHBvcnQgdHlwZSBHZXRFbWFpbHNSZXN1bHQgPSBBd2FpdGVkPFJldHVyblR5cGU8dHlwZW9mIGdldENvbXBhbnlFbWFpbHM+PjtcbmV4cG9ydCB0eXBlIEdldEVtYWlsVGhyZWFkc1Jlc3VsdCA9IEF3YWl0ZWQ8UmV0dXJuVHlwZTx0eXBlb2YgZ2V0RW1haWxUaHJlYWRzPj47XG5leHBvcnQgdHlwZSBHZXRFbWFpbFN0YXRzUmVzdWx0ID0gQXdhaXRlZDxSZXR1cm5UeXBlPHR5cGVvZiBnZXRFbWFpbFN0YXRzPj47XG5cbi8qKlxuICogR2V0IGVtYWlscyBmb3IgdGhlIGFjdGl2ZSBjb21wYW55XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRFbWFpbHNBY3Rpb24oXG4gIGlucHV0OiBHZXRFbWFpbHNJbnB1dFxuKTogUHJvbWlzZTxHZXRFbWFpbHNSZXN1bHQ+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCBwYXJzZVJlc3VsdCA9IGdldEVtYWlsc1NjaGVtYS5zYWZlUGFyc2UoaW5wdXQpO1xuICAgIFxuICAgIGlmICghcGFyc2VSZXN1bHQuc3VjY2Vzcykge1xuICAgICAgY29uc29sZS5lcnJvcihcIuKdjCBab2QgdmFsaWRhdGlvbiBlcnJvcjpcIiwgcGFyc2VSZXN1bHQuZXJyb3IuaXNzdWVzKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBpbnB1dCBwYXJhbWV0ZXJzOiAke3BhcnNlUmVzdWx0LmVycm9yLmlzc3Vlcy5tYXAoKGUpID0+IGAke2UucGF0aC5tYXAoU3RyaW5nKS5qb2luKCcuJyl9OiAke2UubWVzc2FnZX1gKS5qb2luKCcsICcpfWApO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCB2YWxpZGF0ZWRJbnB1dCA9IHBhcnNlUmVzdWx0LmRhdGE7XG4gICAgY29uc3QgeyBnZXRBY3RpdmVDb21wYW55SWQgfSA9IGF3YWl0IGltcG9ydChcIkAvbGliL2F1dGgvY29tcGFueS1jb250ZXh0XCIpO1xuICAgIGNvbnN0IGNvbXBhbnlJZCA9IGF3YWl0IGdldEFjdGl2ZUNvbXBhbnlJZCgpO1xuXG4gICAgaWYgKCFjb21wYW55SWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGFjdGl2ZSBjb21wYW55IGZvdW5kXCIpO1xuICAgIH1cblxuICAgIC8vIENvbnZlcnQgbnVsbCB0byB1bmRlZmluZWQgZm9yIHNlYXJjaCBmaWVsZFxuICAgIGNvbnN0IHNhbml0aXplZElucHV0ID0ge1xuICAgICAgLi4udmFsaWRhdGVkSW5wdXQsXG4gICAgICBzZWFyY2g6IHZhbGlkYXRlZElucHV0LnNlYXJjaCA/PyB1bmRlZmluZWQsXG4gICAgfTtcbiAgICByZXR1cm4gYXdhaXQgZ2V0Q29tcGFueUVtYWlscyhjb21wYW55SWQsIHNhbml0aXplZElucHV0KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwi4p2MIGdldEVtYWlsc0FjdGlvbiBlcnJvcjpcIiwgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbi8qKlxuICogR2V0IGVtYWlsIHRocmVhZHMgZm9yIHRoZSBhY3RpdmUgY29tcGFueVxuICovXG5hc3luYyBmdW5jdGlvbiBnZXRFbWFpbFRocmVhZHNBY3Rpb24oXG4gIGlucHV0OiBHZXRFbWFpbFRocmVhZHNJbnB1dFxuKTogUHJvbWlzZTxHZXRFbWFpbFRocmVhZHNSZXN1bHQ+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB2YWxpZGF0ZWRJbnB1dCA9IGdldEVtYWlsVGhyZWFkc1NjaGVtYS5wYXJzZShpbnB1dCk7XG4gICAgY29uc3QgeyBnZXRBY3RpdmVDb21wYW55SWQgfSA9IGF3YWl0IGltcG9ydChcIkAvbGliL2F1dGgvY29tcGFueS1jb250ZXh0XCIpO1xuICAgIGNvbnN0IGNvbXBhbnlJZCA9IGF3YWl0IGdldEFjdGl2ZUNvbXBhbnlJZCgpO1xuXG4gICAgaWYgKCFjb21wYW55SWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGFjdGl2ZSBjb21wYW55IGZvdW5kXCIpO1xuICAgIH1cblxuICAgIHJldHVybiBhd2FpdCBnZXRFbWFpbFRocmVhZHMoY29tcGFueUlkLCB2YWxpZGF0ZWRJbnB1dCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2Ygei5ab2RFcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpbnB1dCBwYXJhbWV0ZXJzXCIpO1xuICAgIH1cbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG4vKipcbiAqIEdldCBhIHNwZWNpZmljIGVtYWlsIGJ5IElEXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRFbWFpbEJ5SWRBY3Rpb24oZW1haWxJZDogc3RyaW5nKTogUHJvbWlzZTx7XG4gIHN1Y2Nlc3M6IGJvb2xlYW47XG4gIGVtYWlsPzogQ29tcGFueUVtYWlsO1xuICBlcnJvcj86IHN0cmluZztcbn0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGdldEFjdGl2ZUNvbXBhbnlJZCB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvYXV0aC9jb21wYW55LWNvbnRleHRcIik7XG4gICAgY29uc3QgY29tcGFueUlkID0gYXdhaXQgZ2V0QWN0aXZlQ29tcGFueUlkKCk7XG5cbiAgICBpZiAoIWNvbXBhbnlJZCkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIGFjdGl2ZSBjb21wYW55IGZvdW5kXCIgfTtcbiAgICB9XG5cbiAgICBjb25zdCBlbWFpbCA9IGF3YWl0IGdldEVtYWlsQnlJZChjb21wYW55SWQsIGVtYWlsSWQpO1xuICAgIFxuICAgIGlmICghZW1haWwpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJFbWFpbCBub3QgZm91bmRcIiB9O1xuICAgIH1cblxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGVtYWlsIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGdldHRpbmcgZW1haWwgYnkgSUQ6XCIsIGVycm9yKTtcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIixcbiAgICB9O1xuICB9XG59XG5cbi8qKlxuICogTWFyayBhbiBlbWFpbCBhcyByZWFkXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBtYXJrRW1haWxBc1JlYWRBY3Rpb24oXG4gIGlucHV0OiBNYXJrRW1haWxSZWFkSW5wdXRcbik6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBlcnJvcj86IHN0cmluZyB9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgdmFsaWRhdGVkSW5wdXQgPSBtYXJrRW1haWxSZWFkU2NoZW1hLnBhcnNlKGlucHV0KTtcbiAgICBjb25zdCB7IGdldEFjdGl2ZUNvbXBhbnlJZCB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvYXV0aC9jb21wYW55LWNvbnRleHRcIik7XG4gICAgY29uc3QgY29tcGFueUlkID0gYXdhaXQgZ2V0QWN0aXZlQ29tcGFueUlkKCk7XG5cbiAgICBpZiAoIWNvbXBhbnlJZCkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIGFjdGl2ZSBjb21wYW55IGZvdW5kXCIgfTtcbiAgICB9XG5cbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBtYXJrRW1haWxBc1JlYWQoY29tcGFueUlkLCB2YWxpZGF0ZWRJbnB1dC5lbWFpbElkKTtcbiAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkZhaWxlZCB0byBtYXJrIGVtYWlsIGFzIHJlYWQgLSBjaGVjayBzZXJ2ZXIgbG9ncyBmb3IgZGV0YWlsc1wiIH07XG4gICAgfVxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiB6LlpvZEVycm9yKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGBJbnZhbGlkIGlucHV0OiAke2Vycm9yLmlzc3Vlcy5tYXAoKGU6IHsgbWVzc2FnZTogc3RyaW5nIH0pID0+IGUubWVzc2FnZSkuam9pbihcIiwgXCIpfWAgfTtcbiAgICB9XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIjtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgbWFya2luZyBlbWFpbCBhcyByZWFkOlwiLCBlcnJvcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvck1lc3NhZ2UgfTtcbiAgfVxufVxuXG4vKipcbiAqIEdldCBlbWFpbCBzdGF0aXN0aWNzIGZvciB0aGUgYWN0aXZlIGNvbXBhbnlcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2V0RW1haWxTdGF0c0FjdGlvbigpOiBQcm9taXNlPEdldEVtYWlsU3RhdHNSZXN1bHQ+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGdldEFjdGl2ZUNvbXBhbnlJZCB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvYXV0aC9jb21wYW55LWNvbnRleHRcIik7XG4gICAgY29uc3QgY29tcGFueUlkID0gYXdhaXQgZ2V0QWN0aXZlQ29tcGFueUlkKCk7XG5cbiAgICBpZiAoIWNvbXBhbnlJZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gYWN0aXZlIGNvbXBhbnkgZm91bmRcIik7XG4gICAgfVxuXG4gICAgcmV0dXJuIGF3YWl0IGdldEVtYWlsU3RhdHMoKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBlbWFpbCBzdGF0czpcIiwgZXJyb3IpO1xuICAgIHJldHVybiB7XG4gICAgICB0b3RhbEVtYWlsczogMCxcbiAgICAgIHNlbnRFbWFpbHM6IDAsXG4gICAgICByZWNlaXZlZEVtYWlsczogMCxcbiAgICAgIHVucmVhZEVtYWlsczogMCxcbiAgICAgIHRocmVhZHNDb3VudDogMCxcbiAgICB9O1xuICB9XG59XG5cbi8qKlxuICogR2V0IHRvdGFsIHVucmVhZCBlbWFpbCBjb3VudCBmb3IgdGhlIGFjdGl2ZSBjb21wYW55XG4gKiBVc2VkIGZvciBkaXNwbGF5aW5nIG5vdGlmaWNhdGlvbiBiYWRnZXMgaW4gdGhlIGhlYWRlclxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VG90YWxVbnJlYWRDb3VudEFjdGlvbigpOiBQcm9taXNlPHtcbiAgc3VjY2VzczogYm9vbGVhbjtcbiAgY291bnQ/OiBudW1iZXI7XG4gIGVycm9yPzogc3RyaW5nXG59PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBnZXRBY3RpdmVDb21wYW55SWQgfSA9IGF3YWl0IGltcG9ydChcIkAvbGliL2F1dGgvY29tcGFueS1jb250ZXh0XCIpO1xuICAgIGNvbnN0IGNvbXBhbnlJZCA9IGF3YWl0IGdldEFjdGl2ZUNvbXBhbnlJZCgpO1xuXG4gICAgaWYgKCFjb21wYW55SWQpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJObyBhY3RpdmUgY29tcGFueSBmb3VuZFwiIH07XG4gICAgfVxuXG4gICAgY29uc3Qgc3RhdHMgPSBhd2FpdCBnZXRFbWFpbFN0YXRzKCk7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgY291bnQ6IHN0YXRzLnVucmVhZEVtYWlscyB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHVucmVhZCBjb3VudDpcIiwgZXJyb3IpO1xuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiVW5rbm93biBlcnJvclwiXG4gICAgfTtcbiAgfVxufVxuXG4vKipcbiAqIEZldGNoIGVtYWlsIGNvbnRlbnQgZnJvbSBSZXNlbmQgQVBJIG9yIHVwZGF0ZSB3aXRoIHByb3ZpZGVkIGNvbnRlbnRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoRW1haWxDb250ZW50QWN0aW9uKFxuICBlbWFpbElkOiBzdHJpbmcsXG4gIF9yZXNlbmRFbWFpbElkPzogc3RyaW5nLFxuICBwcm92aWRlZENvbnRlbnQ/OiB7IGh0bWw/OiBzdHJpbmcgfCBudWxsOyB0ZXh0Pzogc3RyaW5nIHwgbnVsbCB9XG4pOiBQcm9taXNlPHtcbiAgc3VjY2VzczogYm9vbGVhbjtcbiAgaHRtbD86IHN0cmluZyB8IG51bGw7XG4gIHRleHQ/OiBzdHJpbmcgfCBudWxsO1xuICBlcnJvcj86IHN0cmluZztcbn0+IHtcbiAgXCJ1c2Ugc2VydmVyXCI7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IGNyZWF0ZUNsaWVudCB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvc3VwYWJhc2Uvc2VydmVyXCIpO1xuICAgIGNvbnN0IHsgZ2V0QWN0aXZlQ29tcGFueUlkIH0gPSBhd2FpdCBpbXBvcnQoXCJAL2xpYi9hdXRoL2NvbXBhbnktY29udGV4dFwiKTtcblxuICAgIGNvbnN0IGNvbXBhbnlJZCA9IGF3YWl0IGdldEFjdGl2ZUNvbXBhbnlJZCgpO1xuICAgIGlmICghY29tcGFueUlkKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm8gYWN0aXZlIGNvbXBhbnkgZm91bmRcIiB9O1xuICAgIH1cblxuICAgIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG4gICAgaWYgKCFzdXBhYmFzZSkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkXCIgfTtcbiAgICB9XG5cbiAgICBsZXQgaHRtbDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgbGV0IHRleHQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gICAgLy8gSWYgY29udGVudCBpcyBwcm92aWRlZCBkaXJlY3RseSwgdXNlIGl0XG4gICAgaWYgKHByb3ZpZGVkQ29udGVudCkge1xuICAgICAgaHRtbCA9IHByb3ZpZGVkQ29udGVudC5odG1sIHx8IG51bGw7XG4gICAgICB0ZXh0ID0gcHJvdmlkZWRDb250ZW50LnRleHQgfHwgbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRmlyc3QsIHRyeSB0byBnZXQgZW1haWwgZnJvbSBkYXRhYmFzZSB0byBjaGVjayBmb3IgY29udGVudCBpbiBtZXRhZGF0YVxuICAgICAgY29uc3QgeyBkYXRhOiBlbWFpbCwgZXJyb3I6IGVtYWlsRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKFwiY29tbXVuaWNhdGlvbnNcIilcbiAgICAgICAgLnNlbGVjdChcInByb3ZpZGVyX21lc3NhZ2VfaWQsIHByb3ZpZGVyX21ldGFkYXRhLCBib2R5LCBib2R5X2h0bWxcIilcbiAgICAgICAgLmVxKFwiaWRcIiwgZW1haWxJZClcbiAgICAgICAgLmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpXG4gICAgICAgIC5zaW5nbGUoKTtcblxuICAgICAgaWYgKGVtYWlsRXJyb3IpIHtcbiAgICAgICAgLy8gRG9uJ3QgcmV0dXJuIGVycm9yIGZvciBQR1JTVCBlcnJvcnMgdGhhdCBtaWdodCBiZSBleHBlY3RlZFxuICAgICAgICBpZiAoZW1haWxFcnJvci5jb2RlID09PSAnUEdSU1QxMTYnKSB7XG4gICAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkVtYWlsIG5vdCBmb3VuZCBpbiBkYXRhYmFzZVwiIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBgRGF0YWJhc2UgZXJyb3I6ICR7ZW1haWxFcnJvci5tZXNzYWdlfWAgfTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFlbWFpbCkge1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRW1haWwgbm90IGZvdW5kIGluIGRhdGFiYXNlXCIgfTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgaWYgZW1haWwgYWxyZWFkeSBoYXMgY29udGVudCBzdG9yZWRcbiAgICAgIGlmIChlbWFpbC5ib2R5X2h0bWwgfHwgZW1haWwuYm9keSkge1xuICAgICAgICBodG1sID0gZW1haWwuYm9keV9odG1sIHx8IG51bGw7XG4gICAgICAgIHRleHQgPSBlbWFpbC5ib2R5IHx8IG51bGw7XG4gICAgICB9IGVsc2UgaWYgKGVtYWlsLnByb3ZpZGVyX21ldGFkYXRhKSB7XG4gICAgICAgIC8vIFRyeSB0byBleHRyYWN0IGNvbnRlbnQgZnJvbSBwcm92aWRlcl9tZXRhZGF0YVxuICAgICAgICBjb25zdCBtZXRhZGF0YSA9IGVtYWlsLnByb3ZpZGVyX21ldGFkYXRhIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICAgICAgICBcbiAgICAgICAgLy8gUFJJT1JJVFkgMTogQ2hlY2sgd2ViaG9va19jb250ZW50IGZpcnN0ICh3ZWJob29rIHBheWxvYWQgLSBtb3N0IHJlbGlhYmxlIHNvdXJjZSlcbiAgICAgICAgY29uc3Qgd2ViaG9va0NvbnRlbnQgPSBtZXRhZGF0YS53ZWJob29rX2NvbnRlbnQgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4gfCB1bmRlZmluZWQ7XG4gICAgICAgIGlmICh3ZWJob29rQ29udGVudCkge1xuICAgICAgICAgIGNvbnN0IGh0bWxWYWx1ZSA9IHdlYmhvb2tDb250ZW50Lmh0bWwgfHwgd2ViaG9va0NvbnRlbnQuYm9keV9odG1sO1xuICAgICAgICAgIGNvbnN0IHRleHRWYWx1ZSA9IHdlYmhvb2tDb250ZW50LnRleHQgfHwgd2ViaG9va0NvbnRlbnQuYm9keTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoaHRtbFZhbHVlICYmIHR5cGVvZiBodG1sVmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBodG1sVmFsdWUudHJpbSgpO1xuICAgICAgICAgICAgaWYgKGNvbnRlbnQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBodG1sID0gY29udGVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFodG1sICYmIHRleHRWYWx1ZSAmJiB0eXBlb2YgdGV4dFZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBjb25zdCBjb250ZW50ID0gdGV4dFZhbHVlLnRyaW0oKTtcbiAgICAgICAgICAgIGlmIChjb250ZW50Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgdGV4dCA9IGNvbnRlbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gUFJJT1JJVFkgMjogQ2hlY2sgZnVsbF9jb250ZW50IChBUEkgcmVzcG9uc2UpIGlmIHdlYmhvb2sgZGlkbid0IGhhdmUgY29udGVudFxuICAgICAgICBpZiAoIWh0bWwgJiYgIXRleHQpIHtcbiAgICAgICAgICBjb25zdCBmdWxsQ29udGVudCA9IG1ldGFkYXRhLmZ1bGxfY29udGVudCBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB8IHVuZGVmaW5lZDtcbiAgICAgICAgICBpZiAoZnVsbENvbnRlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGh0bWxGaWVsZHMgPSBbXCJodG1sXCIsIFwiYm9keV9odG1sXCIsIFwiYm9keUh0bWxcIl07XG4gICAgICAgICAgICBjb25zdCB0ZXh0RmllbGRzID0gW1widGV4dFwiLCBcImJvZHlcIiwgXCJwbGFpbl90ZXh0XCIsIFwicGxhaW5UZXh0XCJdO1xuXG4gICAgICAgICAgICAvLyBUcnkgSFRNTCBmaWVsZHMgZmlyc3RcbiAgICAgICAgICAgIGZvciAoY29uc3QgZmllbGQgb2YgaHRtbEZpZWxkcykge1xuICAgICAgICAgICAgICBpZiAoZnVsbENvbnRlbnRbZmllbGRdICYmIHR5cGVvZiBmdWxsQ29udGVudFtmaWVsZF0gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0gKGZ1bGxDb250ZW50W2ZpZWxkXSBhcyBzdHJpbmcpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBpZiAoY29udGVudC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICBodG1sID0gY29udGVudDtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJZiBubyBIVE1MLCB0cnkgdGV4dCBmaWVsZHNcbiAgICAgICAgICAgIGlmICghaHRtbCkge1xuICAgICAgICAgICAgICBmb3IgKGNvbnN0IGZpZWxkIG9mIHRleHRGaWVsZHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoZnVsbENvbnRlbnRbZmllbGRdICYmIHR5cGVvZiBmdWxsQ29udGVudFtmaWVsZF0gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSAoZnVsbENvbnRlbnRbZmllbGRdIGFzIHN0cmluZykudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gY29udGVudDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gUFJJT1JJVFkgMzogQ2hlY2sgdG9wLWxldmVsIG1ldGFkYXRhLmRhdGEgZm9yIGNvbnRlbnQgKHdlYmhvb2sgcGF5bG9hZCBzdHJ1Y3R1cmUpXG4gICAgICAgIGlmICghaHRtbCAmJiAhdGV4dCkge1xuICAgICAgICAgIGNvbnN0IHdlYmhvb2tEYXRhID0gbWV0YWRhdGEuZGF0YSBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB8IHVuZGVmaW5lZDtcbiAgICAgICAgICBpZiAod2ViaG9va0RhdGEpIHtcbiAgICAgICAgICAgIGNvbnN0IGh0bWxWYWx1ZSA9IHdlYmhvb2tEYXRhLmh0bWwgfHwgd2ViaG9va0RhdGEuYm9keV9odG1sO1xuICAgICAgICAgICAgY29uc3QgdGV4dFZhbHVlID0gd2ViaG9va0RhdGEudGV4dCB8fCB3ZWJob29rRGF0YS5ib2R5O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoaHRtbFZhbHVlICYmIHR5cGVvZiBodG1sVmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGh0bWxWYWx1ZS50cmltKCk7XG4gICAgICAgICAgICAgIGlmIChjb250ZW50Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBodG1sID0gY29udGVudDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFodG1sICYmIHRleHRWYWx1ZSAmJiB0eXBlb2YgdGV4dFZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSB0ZXh0VmFsdWUudHJpbSgpO1xuICAgICAgICAgICAgICBpZiAoY29udGVudC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGV4dCA9IGNvbnRlbnQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQUklPUklUWSA0OiBDaGVjayB0b3AtbGV2ZWwgbWV0YWRhdGEgZmllbGRzIGRpcmVjdGx5XG4gICAgICAgIGlmICghaHRtbCAmJiAhdGV4dCkge1xuICAgICAgICAgIGNvbnN0IGh0bWxGaWVsZHMgPSBbXCJodG1sXCIsIFwiYm9keV9odG1sXCJdO1xuICAgICAgICAgIGNvbnN0IHRleHRGaWVsZHMgPSBbXCJ0ZXh0XCIsIFwiYm9keVwiXTtcbiAgICAgICAgICBcbiAgICAgICAgICBmb3IgKGNvbnN0IGZpZWxkIG9mIGh0bWxGaWVsZHMpIHtcbiAgICAgICAgICAgIGlmIChtZXRhZGF0YVtmaWVsZF0gJiYgdHlwZW9mIG1ldGFkYXRhW2ZpZWxkXSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0gKG1ldGFkYXRhW2ZpZWxkXSBhcyBzdHJpbmcpLnRyaW0oKTtcbiAgICAgICAgICAgICAgaWYgKGNvbnRlbnQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGh0bWwgPSBjb250ZW50O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGlmICghaHRtbCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBmaWVsZCBvZiB0ZXh0RmllbGRzKSB7XG4gICAgICAgICAgICAgIGlmIChtZXRhZGF0YVtmaWVsZF0gJiYgdHlwZW9mIG1ldGFkYXRhW2ZpZWxkXSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSAobWV0YWRhdGFbZmllbGRdIGFzIHN0cmluZykudHJpbSgpO1xuICAgICAgICAgICAgICAgIGlmIChjb250ZW50Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgIHRleHQgPSBjb250ZW50O1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgd2UgZm91bmQgY29udGVudCBpbiBtZXRhZGF0YSwgdXNlIGl0IGFuZCByZXR1cm4gZWFybHlcbiAgICAgICAgaWYgKGh0bWwgfHwgdGV4dCkge1xuICAgICAgICAgIC8vIFVwZGF0ZSBkYXRhYmFzZSB3aXRoIGV4dHJhY3RlZCBjb250ZW50XG4gICAgICAgICAgaWYgKChodG1sIHx8IHRleHQpICYmIHN1cGFiYXNlKSB7XG4gICAgICAgICAgICBjb25zdCB7IGVycm9yOiB1cGRhdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgICAgLmZyb20oXCJjb21tdW5pY2F0aW9uc1wiKVxuICAgICAgICAgICAgICAudXBkYXRlKHtcbiAgICAgICAgICAgICAgICBib2R5OiB0ZXh0IHx8IFwiXCIsXG4gICAgICAgICAgICAgICAgYm9keV9odG1sOiBodG1sLFxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAuZXEoXCJpZFwiLCBlbWFpbElkKVxuICAgICAgICAgICAgICAuZXEoXCJjb21wYW55X2lkXCIsIGNvbXBhbnlJZCk7XG5cbiAgICAgICAgICAgIGlmICh1cGRhdGVFcnJvcikge1xuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCLimqDvuI8gIEZhaWxlZCB0byB1cGRhdGUgZW1haWwgY29udGVudCBpbiBkYXRhYmFzZTpcIiwgdXBkYXRlRXJyb3IubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGh0bWwsIHRleHQgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBObyBjb250ZW50IGZvdW5kIGluIG1ldGFkYXRhXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgZXJyb3I6IFwiTm8gZW1haWwgY29udGVudCBhdmFpbGFibGUgaW4gbWV0YWRhdGFcIlxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE5vIG1ldGFkYXRhIGF0IGFsbCwgY2FuJ3QgZmV0Y2ggY29udGVudFxuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm8gZW1haWwgbWV0YWRhdGEgYXZhaWxhYmxlXCIgfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgdGhlIGRhdGFiYXNlIHdpdGggdGhlIGNvbnRlbnRcbiAgICAvLyBUcnkgdG8gdXBkYXRlLCBidXQgZG9uJ3QgZmFpbCBpZiB0aGUgZW1haWwgZG9lc24ndCBleGlzdCAtIHdlIHN0aWxsIHJldHVybiB0aGUgY29udGVudFxuICAgIGlmIChzdXBhYmFzZSkge1xuICAgICAgY29uc3QgeyBlcnJvcjogdXBkYXRlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKFwiY29tbXVuaWNhdGlvbnNcIilcbiAgICAgICAgLnVwZGF0ZSh7XG4gICAgICAgICAgYm9keTogdGV4dCB8fCBcIlwiLFxuICAgICAgICAgIGJvZHlfaHRtbDogaHRtbCxcbiAgICAgICAgfSlcbiAgICAgICAgLmVxKFwiaWRcIiwgZW1haWxJZClcbiAgICAgICAgLmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpO1xuXG4gICAgICBpZiAodXBkYXRlRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFwi4pqg77iPICBGYWlsZWQgdG8gdXBkYXRlIGVtYWlsIGNvbnRlbnQgaW4gZGF0YWJhc2UgKHRoaXMgaXMgT0ssIGNvbnRlbnQgc3RpbGwgcmV0dXJuZWQpOlwiLCB1cGRhdGVFcnJvci5tZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBodG1sLCB0ZXh0IH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIGVtYWlsIGNvbnRlbnQ6XCIsIGVycm9yKTtcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIixcbiAgICB9O1xuICB9XG59XG5cbi8qKlxuICogU3luYyBpbmJvdW5kIGVtYWlsIHJvdXRlcyBmcm9tIGRhdGFiYXNlIHRvIFJlc2VuZFxuICogQ3JlYXRlcyByb3V0ZXMgaW4gUmVzZW5kIHRoYXQgZG9uJ3QgaGF2ZSBhIHJlc2VuZF9yb3V0ZV9pZFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc3luY0luYm91bmRSb3V0ZXNUb1Jlc2VuZEFjdGlvbigpOiBQcm9taXNlPHtcbiAgc3VjY2VzczogYm9vbGVhbjtcbiAgc3luY2VkOiBudW1iZXI7XG4gIGVycm9yczogc3RyaW5nW107XG59PiB7XG4gIFwidXNlIHNlcnZlclwiO1xuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBjcmVhdGVDbGllbnQgfSA9IGF3YWl0IGltcG9ydChcIkAvbGliL3N1cGFiYXNlL3NlcnZlclwiKTtcbiAgICBjb25zdCB7IGNyZWF0ZUluYm91bmRSb3V0ZSB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvZW1haWwvcmVzZW5kLWRvbWFpbnNcIik7XG4gICAgY29uc3QgeyBjcmVhdGVTZXJ2aWNlU3VwYWJhc2VDbGllbnQgfSA9IGF3YWl0IGltcG9ydChcIkAvbGliL3N1cGFiYXNlL3NlcnZpY2UtY2xpZW50XCIpO1xuXG4gICAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcbiAgICBpZiAoIXN1cGFiYXNlKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgc3luY2VkOiAwLCBlcnJvcnM6IFtcIkRhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkXCJdIH07XG4gICAgfVxuXG4gICAgY29uc3Qgc2VydmljZVN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU2VydmljZVN1cGFiYXNlQ2xpZW50KCk7XG4gICAgaWYgKCFzZXJ2aWNlU3VwYWJhc2UpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBzeW5jZWQ6IDAsIGVycm9yczogW1wiU2VydmljZSBkYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZFwiXSB9O1xuICAgIH1cblxuICAgIC8vIEdldCBhbGwgcm91dGVzIHRoYXQgZG9uJ3QgaGF2ZSBhIHJlc2VuZF9yb3V0ZV9pZFxuICAgIC8vIE5vdGU6IFRoaXMgdGFibGUgbWF5IG5vdCBiZSBpbiB0aGUgdHlwZSBkZWZpbml0aW9ucywgc28gd2UgdXNlIHR5cGUgYXNzZXJ0aW9uXG4gICAgY29uc3QgeyBkYXRhOiByb3V0ZXMsIGVycm9yIH0gPSBhd2FpdCAoc2VydmljZVN1cGFiYXNlXG4gICAgICAuZnJvbShcImNvbW11bmljYXRpb25fZW1haWxfaW5ib3VuZF9yb3V0ZXNcIiBhcyBhbnkpXG4gICAgICAuc2VsZWN0KFwiaWQsIGNvbXBhbnlfaWQsIHJvdXRlX2FkZHJlc3MsIG5hbWUsIGVuYWJsZWRcIilcbiAgICAgIC5pcyhcInJlc2VuZF9yb3V0ZV9pZFwiLCBudWxsKVxuICAgICAgLmVxKFwiZW5hYmxlZFwiLCB0cnVlKSBhcyBhbnkpO1xuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGZldGNoIHJvdXRlczpcIiwgZXJyb3IpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIHN5bmNlZDogMCwgZXJyb3JzOiBbZXJyb3IubWVzc2FnZV0gfTtcbiAgICB9XG5cbiAgICBpZiAoIXJvdXRlcyB8fCByb3V0ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBzeW5jZWQ6IDAsIGVycm9yczogW10gfTtcbiAgICB9XG5cbiAgICAvLyBDb25zdHJ1Y3Qgd2ViaG9vayBVUkxcbiAgICBsZXQgd2ViaG9va1VybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NJVEVfVVJMO1xuICAgIGlmICghd2ViaG9va1VybCAmJiBwcm9jZXNzLmVudi5WRVJDRUxfVVJMKSB7XG4gICAgICB3ZWJob29rVXJsID0gYGh0dHBzOi8vJHtwcm9jZXNzLmVudi5WRVJDRUxfVVJMfWA7XG4gICAgfVxuICAgIGlmICghd2ViaG9va1VybCkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIHN5bmNlZDogMCwgZXJyb3JzOiBbXCJXZWJob29rIFVSTCBub3QgY29uZmlndXJlZC4gU2V0IE5FWFRfUFVCTElDX1NJVEVfVVJMIG9yIFZFUkNFTF9VUkxcIl0gfTtcbiAgICB9XG4gICAgd2ViaG9va1VybCA9IGAke3dlYmhvb2tVcmx9L2FwaS93ZWJob29rcy9yZXNlbmRgO1xuXG4gICAgY29uc3QgZXJyb3JzOiBzdHJpbmdbXSA9IFtdO1xuICAgIGxldCBzeW5jZWQgPSAwO1xuXG4gICAgZm9yIChjb25zdCByb3V0ZSBvZiAocm91dGVzIHx8IFtdKSBhcyBBcnJheTx7IGlkOiBzdHJpbmc7IGNvbXBhbnlfaWQ6IHN0cmluZzsgcm91dGVfYWRkcmVzczogc3RyaW5nOyBuYW1lOiBzdHJpbmcgfCBudWxsOyBlbmFibGVkOiBib29sZWFuIH0+KSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBIYW5kbGUgY2F0Y2gtYWxsIHJvdXRlcyAoZS5nLiwgQGJpZXpydS5yZXNlbmQuYXBwKVxuICAgICAgICAvLyBSZXNlbmQgZG9lc24ndCBzdXBwb3J0IHRydWUgY2F0Y2gtYWxsLCBzbyB3ZSdsbCBjcmVhdGUgYSByb3V0ZSBmb3IgdGhlIGRvbWFpblxuICAgICAgICAvLyBGb3Igbm93LCB3ZSdsbCBza2lwIGNhdGNoLWFsbCByb3V0ZXMgYW5kIGhhbmRsZSB0aGVtIGRpZmZlcmVudGx5XG4gICAgICAgIGlmIChyb3V0ZS5yb3V0ZV9hZGRyZXNzLnN0YXJ0c1dpdGgoXCJAXCIpKSB7XG4gICAgICAgICAgZXJyb3JzLnB1c2goYENhdGNoLWFsbCByb3V0ZXMgKCR7cm91dGUucm91dGVfYWRkcmVzc30pIG5lZWQgdG8gYmUgY29uZmlndXJlZCBtYW51YWxseSBpbiBSZXNlbmQgZGFzaGJvYXJkYCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDcmVhdGUgcm91dGUgaW4gUmVzZW5kXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNyZWF0ZUluYm91bmRSb3V0ZSh7XG4gICAgICAgICAgbmFtZTogcm91dGUubmFtZSB8fCBgUm91dGUgZm9yICR7cm91dGUucm91dGVfYWRkcmVzc31gLFxuICAgICAgICAgIHJlY2lwaWVudHM6IFtyb3V0ZS5yb3V0ZV9hZGRyZXNzXSxcbiAgICAgICAgICB1cmw6IHdlYmhvb2tVcmwsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGDinYwgRmFpbGVkIHRvIGNyZWF0ZSBSZXNlbmQgcm91dGUgZm9yICR7cm91dGUucm91dGVfYWRkcmVzc306YCwgcmVzdWx0LmVycm9yKTtcbiAgICAgICAgICBlcnJvcnMucHVzaChgJHtyb3V0ZS5yb3V0ZV9hZGRyZXNzfTogJHtyZXN1bHQuZXJyb3J9YCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVcGRhdGUgZGF0YWJhc2Ugd2l0aCByZXNlbmRfcm91dGVfaWRcbiAgICAgICAgY29uc3QgeyBlcnJvcjogdXBkYXRlRXJyb3IgfSA9IGF3YWl0IChzZXJ2aWNlU3VwYWJhc2VcbiAgICAgICAgICAuZnJvbShcImNvbW11bmljYXRpb25fZW1haWxfaW5ib3VuZF9yb3V0ZXNcIiBhcyBhbnkpXG4gICAgICAgICAgLnVwZGF0ZSh7XG4gICAgICAgICAgICByZXNlbmRfcm91dGVfaWQ6IHJlc3VsdC5kYXRhLmlkLFxuICAgICAgICAgICAgc2lnbmluZ19zZWNyZXQ6IHJlc3VsdC5kYXRhLnNlY3JldCB8fCBudWxsLFxuICAgICAgICAgICAgbGFzdF9zeW5jZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5lcShcImlkXCIsIHJvdXRlLmlkKSBhcyBhbnkpO1xuXG4gICAgICAgIGlmICh1cGRhdGVFcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBGYWlsZWQgdG8gdXBkYXRlIHJvdXRlICR7cm91dGUucm91dGVfYWRkcmVzc306YCwgdXBkYXRlRXJyb3IpO1xuICAgICAgICAgIGVycm9ycy5wdXNoKGAke3JvdXRlLnJvdXRlX2FkZHJlc3N9OiBEYXRhYmFzZSB1cGRhdGUgZmFpbGVkYCk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBzeW5jZWQrKztcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBFcnJvciBzeW5jaW5nIHJvdXRlICR7cm91dGUucm91dGVfYWRkcmVzc306YCwgZXJyb3IpO1xuICAgICAgICBlcnJvcnMucHVzaChgJHtyb3V0ZS5yb3V0ZV9hZGRyZXNzfTogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiVW5rbm93biBlcnJvclwifWApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiBlcnJvcnMubGVuZ3RoID09PSAwLFxuICAgICAgc3luY2VkLFxuICAgICAgZXJyb3JzLFxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIHN5bmNpbmcgaW5ib3VuZCByb3V0ZXM6XCIsIGVycm9yKTtcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBzeW5jZWQ6IDAsXG4gICAgICBlcnJvcnM6IFtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiVW5rbm93biBlcnJvclwiXSxcbiAgICB9O1xuICB9XG59XG5cbi8qKlxuICogQXJjaGl2ZSBhbiBlbWFpbFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXJjaGl2ZUVtYWlsQWN0aW9uKGVtYWlsSWQ6IHN0cmluZyk6IFByb21pc2U8eyBzdWNjZXNzOiBib29sZWFuOyBlcnJvcj86IHN0cmluZyB9PiB7XG4gIFwidXNlIHNlcnZlclwiO1xuICBcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGNyZWF0ZUNsaWVudCB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvc3VwYWJhc2Uvc2VydmVyXCIpO1xuICAgIGNvbnN0IHsgZ2V0QWN0aXZlQ29tcGFueUlkIH0gPSBhd2FpdCBpbXBvcnQoXCJAL2xpYi9hdXRoL2NvbXBhbnktY29udGV4dFwiKTtcbiAgICBcbiAgICBjb25zdCBjb21wYW55SWQgPSBhd2FpdCBnZXRBY3RpdmVDb21wYW55SWQoKTtcbiAgICBpZiAoIWNvbXBhbnlJZCkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIGFjdGl2ZSBjb21wYW55IGZvdW5kXCIgfTtcbiAgICB9XG4gICAgXG4gICAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcbiAgICBpZiAoIXN1cGFiYXNlKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWRcIiB9O1xuICAgIH1cbiAgICBcbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oXCJjb21tdW5pY2F0aW9uc1wiKVxuICAgICAgLnVwZGF0ZSh7IGlzX2FyY2hpdmVkOiB0cnVlIH0pXG4gICAgICAuZXEoXCJpZFwiLCBlbWFpbElkKVxuICAgICAgLmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpXG4gICAgICAuZXEoXCJ0eXBlXCIsIFwiZW1haWxcIik7XG4gICAgXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIiB9O1xuICB9XG59XG5cbi8qKlxuICogQnVsayBhcmNoaXZlIG11bHRpcGxlIGVtYWlscyBieSB0aGVpciBJRHNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGJ1bGtBcmNoaXZlRW1haWxzQWN0aW9uKGVtYWlsSWRzOiBzdHJpbmdbXSk6IFByb21pc2U8e1xuICBzdWNjZXNzOiBib29sZWFuO1xuICBhcmNoaXZlZDogbnVtYmVyO1xuICBlcnJvcj86IHN0cmluZ1xufT4ge1xuICBcInVzZSBzZXJ2ZXJcIjtcblxuICBpZiAoIWVtYWlsSWRzIHx8IGVtYWlsSWRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBhcmNoaXZlZDogMCwgZXJyb3I6IFwiTm8gZW1haWwgSURzIHByb3ZpZGVkXCIgfTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBjcmVhdGVDbGllbnQgfSA9IGF3YWl0IGltcG9ydChcIkAvbGliL3N1cGFiYXNlL3NlcnZlclwiKTtcbiAgICBjb25zdCB7IGdldEFjdGl2ZUNvbXBhbnlJZCB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvYXV0aC9jb21wYW55LWNvbnRleHRcIik7XG5cbiAgICBjb25zdCBjb21wYW55SWQgPSBhd2FpdCBnZXRBY3RpdmVDb21wYW55SWQoKTtcbiAgICBpZiAoIWNvbXBhbnlJZCkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGFyY2hpdmVkOiAwLCBlcnJvcjogXCJObyBhY3RpdmUgY29tcGFueSBmb3VuZFwiIH07XG4gICAgfVxuXG4gICAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcbiAgICBpZiAoIXN1cGFiYXNlKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgYXJjaGl2ZWQ6IDAsIGVycm9yOiBcIkRhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkXCIgfTtcbiAgICB9XG5cbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oXCJjb21tdW5pY2F0aW9uc1wiKVxuICAgICAgLnVwZGF0ZSh7IGlzX2FyY2hpdmVkOiB0cnVlIH0pXG4gICAgICAuaW4oXCJpZFwiLCBlbWFpbElkcylcbiAgICAgIC5lcShcImNvbXBhbnlfaWRcIiwgY29tcGFueUlkKVxuICAgICAgLmVxKFwidHlwZVwiLCBcImVtYWlsXCIpXG4gICAgICAuc2VsZWN0KFwiaWRcIik7XG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBhcmNoaXZlZDogMCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcbiAgICB9XG5cbiAgICBjb25zdCBhcmNoaXZlZENvdW50ID0gZGF0YT8ubGVuZ3RoID8/IDA7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgYXJjaGl2ZWQ6IGFyY2hpdmVkQ291bnQgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgYXJjaGl2ZWQ6IDAsIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiVW5rbm93biBlcnJvclwiIH07XG4gIH1cbn1cblxuLyoqXG4gKiBBcmNoaXZlIGFsbCBlbWFpbHMgaW4gYSBmb2xkZXJcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFyY2hpdmVBbGxFbWFpbHNBY3Rpb24oZm9sZGVyPzogc3RyaW5nKTogUHJvbWlzZTx7IFxuICBzdWNjZXNzOiBib29sZWFuOyBcbiAgYXJjaGl2ZWQ6IG51bWJlcjtcbiAgZXJyb3I/OiBzdHJpbmcgXG59PiB7XG4gIFwidXNlIHNlcnZlclwiO1xuICBcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGdldEFjdGl2ZUNvbXBhbnlJZCB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvYXV0aC9jb21wYW55LWNvbnRleHRcIik7XG4gICAgXG4gICAgY29uc3QgY29tcGFueUlkID0gYXdhaXQgZ2V0QWN0aXZlQ29tcGFueUlkKCk7XG4gICAgaWYgKCFjb21wYW55SWQpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBhcmNoaXZlZDogMCwgZXJyb3I6IFwiTm8gYWN0aXZlIGNvbXBhbnkgZm91bmRcIiB9O1xuICAgIH1cbiAgICBcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBhcmNoaXZlQWxsRW1haWxzKGNvbXBhbnlJZCwgZm9sZGVyKTtcbiAgICBcbiAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgYXJjaGl2ZWQ6IDAsIGVycm9yOiByZXN1bHQuZXJyb3IgfTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgYXJjaGl2ZWQ6IHJlc3VsdC5jb3VudCB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIGFyY2hpdmVkOiAwLFxuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJVbmtub3duIGVycm9yXCJcbiAgICB9O1xuICB9XG59XG5cbi8qKlxuICogR2V0IGVtYWlsIGZvbGRlciBjb3VudHMgZm9yIHRoZSBhY3RpdmUgY29tcGFueVxuICogUmV0dXJucyBjb3VudCBvZiBlbWFpbHMgaW4gZWFjaCBmb2xkZXIgKGluYm94LCBzZW50LCBkcmFmdHMsIGV0Yy4pXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRFbWFpbEZvbGRlckNvdW50c0FjdGlvbigpOiBQcm9taXNlPHtcbiAgc3VjY2VzczogYm9vbGVhbjtcbiAgY291bnRzPzoge1xuICAgIGFsbDogbnVtYmVyO1xuICAgIGluYm94OiBudW1iZXI7XG4gICAgZHJhZnRzOiBudW1iZXI7XG4gICAgc2VudDogbnVtYmVyO1xuICAgIGFyY2hpdmU6IG51bWJlcjtcbiAgICBzbm9vemVkOiBudW1iZXI7XG4gICAgc3BhbTogbnVtYmVyO1xuICAgIHRyYXNoOiBudW1iZXI7XG4gICAgc3RhcnJlZDogbnVtYmVyO1xuICAgIFtrZXk6IHN0cmluZ106IG51bWJlcjtcbiAgfTtcbiAgZXJyb3I/OiBzdHJpbmc7XG59PiB7XG4gIFwidXNlIHNlcnZlclwiO1xuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBjcmVhdGVDbGllbnQgfSA9IGF3YWl0IGltcG9ydChcIkAvbGliL3N1cGFiYXNlL3NlcnZlclwiKTtcbiAgICBjb25zdCB7IGdldEFjdGl2ZUNvbXBhbnlJZCB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvYXV0aC9jb21wYW55LWNvbnRleHRcIik7XG5cbiAgICBjb25zdCBjb21wYW55SWQgPSBhd2FpdCBnZXRBY3RpdmVDb21wYW55SWQoKTtcbiAgICBpZiAoIWNvbXBhbnlJZCkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIGFjdGl2ZSBjb21wYW55IGZvdW5kXCIgfTtcbiAgICB9XG5cbiAgICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuICAgIGlmICghc3VwYWJhc2UpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZFwiIH07XG4gICAgfVxuXG4gICAgLy8gR2V0IGNvdW50cyBmb3IgZWFjaCBmb2xkZXIgdHlwZSB1c2luZyBwYXJhbGxlbCBxdWVyaWVzXG4gICAgLy8gQWxsIGNvdW50cyBzaG93IFVOUkVBRCBlbWFpbHMgb25seSAocmVhZF9hdCBJUyBOVUxMKVxuICAgIGNvbnN0IFtcbiAgICAgIGFsbFJlc3VsdCxcbiAgICAgIGluYm94UmVzdWx0LFxuICAgICAgZHJhZnRzUmVzdWx0LFxuICAgICAgc2VudFJlc3VsdCxcbiAgICAgIGFyY2hpdmVSZXN1bHQsXG4gICAgICBzbm9vemVkUmVzdWx0LFxuICAgICAgc3BhbVJlc3VsdCxcbiAgICAgIHRyYXNoUmVzdWx0LFxuICAgICAgc3RhcnJlZFJlc3VsdFxuICAgIF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAvLyBBbGwgTWFpbDogYWxsIG5vbi1kZWxldGVkLCB1bnJlYWQgZW1haWxzXG4gICAgICBzdXBhYmFzZVxuICAgICAgICAuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG4gICAgICAgIC5zZWxlY3QoXCIqXCIsIHsgY291bnQ6IFwiZXhhY3RcIiwgaGVhZDogdHJ1ZSB9KVxuICAgICAgICAuZXEoXCJjb21wYW55X2lkXCIsIGNvbXBhbnlJZClcbiAgICAgICAgLmVxKFwidHlwZVwiLCBcImVtYWlsXCIpXG4gICAgICAgIC5pcyhcImRlbGV0ZWRfYXRcIiwgbnVsbClcbiAgICAgICAgLmlzKFwicmVhZF9hdFwiLCBudWxsKSxcblxuICAgICAgLy8gSW5ib3g6IGluYm91bmQsIG5vdCBhcmNoaXZlZCwgbm90IGRlbGV0ZWQsIG5vdCBkcmFmdCwgbm90IHNwYW0sIHVucmVhZFxuICAgICAgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oXCJjb21tdW5pY2F0aW9uc1wiKVxuICAgICAgICAuc2VsZWN0KFwiKlwiLCB7IGNvdW50OiBcImV4YWN0XCIsIGhlYWQ6IHRydWUgfSlcbiAgICAgICAgLmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpXG4gICAgICAgIC5lcShcInR5cGVcIiwgXCJlbWFpbFwiKVxuICAgICAgICAuZXEoXCJkaXJlY3Rpb25cIiwgXCJpbmJvdW5kXCIpXG4gICAgICAgIC5lcShcImlzX2FyY2hpdmVkXCIsIGZhbHNlKVxuICAgICAgICAuaXMoXCJkZWxldGVkX2F0XCIsIG51bGwpXG4gICAgICAgIC5pcyhcInJlYWRfYXRcIiwgbnVsbClcbiAgICAgICAgLm5lcShcInN0YXR1c1wiLCBcImRyYWZ0XCIpXG4gICAgICAgIC5vcihcImNhdGVnb3J5LmlzLm51bGwsY2F0ZWdvcnkubmVxLnNwYW1cIilcbiAgICAgICAgLm9yKFwic25vb3plZF91bnRpbC5pcy5udWxsLHNub296ZWRfdW50aWwubHQubm93KClcIiksXG5cbiAgICAgIC8vIERyYWZ0cyAtIGFsd2F5cyBjb3VudCBhbGwgZHJhZnRzIChyZWFkX2F0IG5vdCByZWxldmFudCBmb3IgZHJhZnRzKVxuICAgICAgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oXCJjb21tdW5pY2F0aW9uc1wiKVxuICAgICAgICAuc2VsZWN0KFwiKlwiLCB7IGNvdW50OiBcImV4YWN0XCIsIGhlYWQ6IHRydWUgfSlcbiAgICAgICAgLmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpXG4gICAgICAgIC5lcShcInR5cGVcIiwgXCJlbWFpbFwiKVxuICAgICAgICAuZXEoXCJzdGF0dXNcIiwgXCJkcmFmdFwiKVxuICAgICAgICAuaXMoXCJkZWxldGVkX2F0XCIsIG51bGwpLFxuXG4gICAgICAvLyBTZW50OiBvdXRib3VuZCwgbm90IGFyY2hpdmVkLCBub3QgZGVsZXRlZCwgdW5yZWFkXG4gICAgICBzdXBhYmFzZVxuICAgICAgICAuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG4gICAgICAgIC5zZWxlY3QoXCIqXCIsIHsgY291bnQ6IFwiZXhhY3RcIiwgaGVhZDogdHJ1ZSB9KVxuICAgICAgICAuZXEoXCJjb21wYW55X2lkXCIsIGNvbXBhbnlJZClcbiAgICAgICAgLmVxKFwidHlwZVwiLCBcImVtYWlsXCIpXG4gICAgICAgIC5lcShcImRpcmVjdGlvblwiLCBcIm91dGJvdW5kXCIpXG4gICAgICAgIC5lcShcImlzX2FyY2hpdmVkXCIsIGZhbHNlKVxuICAgICAgICAuaXMoXCJkZWxldGVkX2F0XCIsIG51bGwpXG4gICAgICAgIC5pcyhcInJlYWRfYXRcIiwgbnVsbClcbiAgICAgICAgLm5lcShcInN0YXR1c1wiLCBcImRyYWZ0XCIpLFxuXG4gICAgICAvLyBBcmNoaXZlIC0gdW5yZWFkIGFyY2hpdmVkIGVtYWlsc1xuICAgICAgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oXCJjb21tdW5pY2F0aW9uc1wiKVxuICAgICAgICAuc2VsZWN0KFwiKlwiLCB7IGNvdW50OiBcImV4YWN0XCIsIGhlYWQ6IHRydWUgfSlcbiAgICAgICAgLmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpXG4gICAgICAgIC5lcShcInR5cGVcIiwgXCJlbWFpbFwiKVxuICAgICAgICAuZXEoXCJpc19hcmNoaXZlZFwiLCB0cnVlKVxuICAgICAgICAuaXMoXCJkZWxldGVkX2F0XCIsIG51bGwpXG4gICAgICAgIC5pcyhcInJlYWRfYXRcIiwgbnVsbCksXG5cbiAgICAgIC8vIFNub296ZWQgLSB1bnJlYWQgc25vb3plZCBlbWFpbHNcbiAgICAgIHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKFwiY29tbXVuaWNhdGlvbnNcIilcbiAgICAgICAgLnNlbGVjdChcIipcIiwgeyBjb3VudDogXCJleGFjdFwiLCBoZWFkOiB0cnVlIH0pXG4gICAgICAgIC5lcShcImNvbXBhbnlfaWRcIiwgY29tcGFueUlkKVxuICAgICAgICAuZXEoXCJ0eXBlXCIsIFwiZW1haWxcIilcbiAgICAgICAgLm5vdChcInNub296ZWRfdW50aWxcIiwgXCJpc1wiLCBudWxsKVxuICAgICAgICAuZ3QoXCJzbm9vemVkX3VudGlsXCIsIG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSlcbiAgICAgICAgLmlzKFwiZGVsZXRlZF9hdFwiLCBudWxsKVxuICAgICAgICAuaXMoXCJyZWFkX2F0XCIsIG51bGwpLFxuXG4gICAgICAvLyBTcGFtIC0gZmV0Y2ggY2F0ZWdvcnksIHRhZ3MsIGFuZCByZWFkX2F0IHRvIGNvdW50IHVucmVhZCBzcGFtXG4gICAgICBzdXBhYmFzZVxuICAgICAgICAuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG4gICAgICAgIC5zZWxlY3QoXCJjYXRlZ29yeSwgdGFncywgcmVhZF9hdFwiKVxuICAgICAgICAuZXEoXCJjb21wYW55X2lkXCIsIGNvbXBhbnlJZClcbiAgICAgICAgLmVxKFwidHlwZVwiLCBcImVtYWlsXCIpXG4gICAgICAgIC5pcyhcImRlbGV0ZWRfYXRcIiwgbnVsbClcbiAgICAgICAgLmlzKFwicmVhZF9hdFwiLCBudWxsKSxcblxuICAgICAgLy8gVHJhc2ggLSB1bnJlYWQgZGVsZXRlZCBlbWFpbHNcbiAgICAgIHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKFwiY29tbXVuaWNhdGlvbnNcIilcbiAgICAgICAgLnNlbGVjdChcIipcIiwgeyBjb3VudDogXCJleGFjdFwiLCBoZWFkOiB0cnVlIH0pXG4gICAgICAgIC5lcShcImNvbXBhbnlfaWRcIiwgY29tcGFueUlkKVxuICAgICAgICAuZXEoXCJ0eXBlXCIsIFwiZW1haWxcIilcbiAgICAgICAgLm5vdChcImRlbGV0ZWRfYXRcIiwgXCJpc1wiLCBudWxsKVxuICAgICAgICAuaXMoXCJyZWFkX2F0XCIsIG51bGwpLFxuXG4gICAgICAvLyBTdGFycmVkIC0gZmV0Y2ggdGFncyBhbmQgcmVhZF9hdCwgY291bnQgdW5yZWFkIHN0YXJyZWQgaW4gbWVtb3J5XG4gICAgICBzdXBhYmFzZVxuICAgICAgICAuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG4gICAgICAgIC5zZWxlY3QoXCJ0YWdzLCByZWFkX2F0XCIpXG4gICAgICAgIC5lcShcImNvbXBhbnlfaWRcIiwgY29tcGFueUlkKVxuICAgICAgICAuZXEoXCJ0eXBlXCIsIFwiZW1haWxcIilcbiAgICAgICAgLmlzKFwiZGVsZXRlZF9hdFwiLCBudWxsKVxuICAgICAgICAuaXMoXCJyZWFkX2F0XCIsIG51bGwpLFxuICAgIF0pO1xuXG4gICAgLy8gQ291bnQgc3BhbSBlbWFpbHMgaW4gbWVtb3J5IChjYXRlZ29yeT1zcGFtIE9SIHNwYW0gdGFnKVxuICAgIGNvbnN0IHNwYW1Db3VudCA9IChzcGFtUmVzdWx0LmRhdGEgPz8gW10pLmZpbHRlcihlbWFpbCA9PiB7XG4gICAgICBjb25zdCB0YWdzID0gZW1haWwudGFncyBhcyBzdHJpbmdbXSB8IG51bGw7XG4gICAgICBjb25zdCBoYXNTcGFtVGFnID0gQXJyYXkuaXNBcnJheSh0YWdzKSAmJiB0YWdzLmluY2x1ZGVzKFwic3BhbVwiKTtcbiAgICAgIHJldHVybiBlbWFpbC5jYXRlZ29yeSA9PT0gXCJzcGFtXCIgfHwgaGFzU3BhbVRhZztcbiAgICB9KS5sZW5ndGg7XG5cbiAgICAvLyBDb3VudCBzdGFycmVkIGVtYWlscyBpbiBtZW1vcnlcbiAgICBjb25zdCBzdGFycmVkQ291bnQgPSAoc3RhcnJlZFJlc3VsdC5kYXRhID8/IFtdKS5maWx0ZXIoZW1haWwgPT4ge1xuICAgICAgY29uc3QgdGFncyA9IGVtYWlsLnRhZ3MgYXMgc3RyaW5nW10gfCBudWxsO1xuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodGFncykgJiYgdGFncy5pbmNsdWRlcyhcInN0YXJyZWRcIik7XG4gICAgfSkubGVuZ3RoO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBjb3VudHM6IHtcbiAgICAgICAgYWxsOiBhbGxSZXN1bHQuY291bnQgPz8gMCxcbiAgICAgICAgaW5ib3g6IGluYm94UmVzdWx0LmNvdW50ID8/IDAsXG4gICAgICAgIGRyYWZ0czogZHJhZnRzUmVzdWx0LmNvdW50ID8/IDAsXG4gICAgICAgIHNlbnQ6IHNlbnRSZXN1bHQuY291bnQgPz8gMCxcbiAgICAgICAgYXJjaGl2ZTogYXJjaGl2ZVJlc3VsdC5jb3VudCA/PyAwLFxuICAgICAgICBzbm9vemVkOiBzbm9vemVkUmVzdWx0LmNvdW50ID8/IDAsXG4gICAgICAgIHNwYW06IHNwYW1Db3VudCxcbiAgICAgICAgdHJhc2g6IHRyYXNoUmVzdWx0LmNvdW50ID8/IDAsXG4gICAgICAgIHN0YXJyZWQ6IHN0YXJyZWRDb3VudCxcbiAgICAgIH0sXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBlbWFpbCBmb2xkZXIgY291bnRzOlwiLCBlcnJvcik7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJVbmtub3duIGVycm9yXCIsXG4gICAgfTtcbiAgfVxufVxuXG4vKipcbiAqIFRvZ2dsZSBzdGFyIHN0YXR1cyBvbiBhbiBlbWFpbFxuICogQWRkcyBvciByZW1vdmVzIFwic3RhcnJlZFwiIHRhZyBmcm9tIHRoZSBlbWFpbCdzIHRhZ3MgYXJyYXlcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRvZ2dsZVN0YXJFbWFpbEFjdGlvbihlbWFpbElkOiBzdHJpbmcpOiBQcm9taXNlPHtcbiAgc3VjY2VzczogYm9vbGVhbjtcbiAgaXNTdGFycmVkPzogYm9vbGVhbjtcbiAgZXJyb3I/OiBzdHJpbmdcbn0+IHtcbiAgXCJ1c2Ugc2VydmVyXCI7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IGNyZWF0ZUNsaWVudCB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvc3VwYWJhc2Uvc2VydmVyXCIpO1xuICAgIGNvbnN0IHsgZ2V0QWN0aXZlQ29tcGFueUlkIH0gPSBhd2FpdCBpbXBvcnQoXCJAL2xpYi9hdXRoL2NvbXBhbnktY29udGV4dFwiKTtcblxuICAgIGNvbnN0IGNvbXBhbnlJZCA9IGF3YWl0IGdldEFjdGl2ZUNvbXBhbnlJZCgpO1xuICAgIGlmICghY29tcGFueUlkKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm8gYWN0aXZlIGNvbXBhbnkgZm91bmRcIiB9O1xuICAgIH1cblxuICAgIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG4gICAgaWYgKCFzdXBhYmFzZSkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkXCIgfTtcbiAgICB9XG5cbiAgICAvLyBGaXJzdCwgZ2V0IGN1cnJlbnQgdGFnc1xuICAgIGNvbnN0IHsgZGF0YTogZW1haWwsIGVycm9yOiBmZXRjaEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oXCJjb21tdW5pY2F0aW9uc1wiKVxuICAgICAgLnNlbGVjdChcInRhZ3NcIilcbiAgICAgIC5lcShcImlkXCIsIGVtYWlsSWQpXG4gICAgICAuZXEoXCJjb21wYW55X2lkXCIsIGNvbXBhbnlJZClcbiAgICAgIC5lcShcInR5cGVcIiwgXCJlbWFpbFwiKVxuICAgICAgLnNpbmdsZSgpO1xuXG4gICAgaWYgKGZldGNoRXJyb3IpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZmV0Y2hFcnJvci5tZXNzYWdlIH07XG4gICAgfVxuXG4gICAgY29uc3QgY3VycmVudFRhZ3MgPSAoZW1haWw/LnRhZ3MgYXMgc3RyaW5nW10pIHx8IFtdO1xuICAgIGNvbnN0IGlzQ3VycmVudGx5U3RhcnJlZCA9IGN1cnJlbnRUYWdzLmluY2x1ZGVzKFwic3RhcnJlZFwiKTtcblxuICAgIC8vIFRvZ2dsZSB0aGUgc3RhcnJlZCB0YWdcbiAgICBjb25zdCBuZXdUYWdzID0gaXNDdXJyZW50bHlTdGFycmVkXG4gICAgICA/IGN1cnJlbnRUYWdzLmZpbHRlcih0YWcgPT4gdGFnICE9PSBcInN0YXJyZWRcIilcbiAgICAgIDogWy4uLmN1cnJlbnRUYWdzLCBcInN0YXJyZWRcIl07XG5cbiAgICAvLyBVcGRhdGUgdGhlIGVtYWlsXG4gICAgY29uc3QgeyBlcnJvcjogdXBkYXRlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG4gICAgICAudXBkYXRlKHsgdGFnczogbmV3VGFncy5sZW5ndGggPiAwID8gbmV3VGFncyA6IG51bGwgfSlcbiAgICAgIC5lcShcImlkXCIsIGVtYWlsSWQpXG4gICAgICAuZXEoXCJjb21wYW55X2lkXCIsIGNvbXBhbnlJZClcbiAgICAgIC5lcShcInR5cGVcIiwgXCJlbWFpbFwiKTtcblxuICAgIGlmICh1cGRhdGVFcnJvcikge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiB1cGRhdGVFcnJvci5tZXNzYWdlIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgaXNTdGFycmVkOiAhaXNDdXJyZW50bHlTdGFycmVkIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIHRvZ2dsaW5nIHN0YXIgb24gZW1haWw6XCIsIGVycm9yKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJVbmtub3duIGVycm9yXCIgfTtcbiAgfVxufVxuXG4vKipcbiAqIFRvZ2dsZSBzcGFtIHN0YXR1cyBvbiBhbiBlbWFpbFxuICogQWRkcyBvciByZW1vdmVzIFwic3BhbVwiIHRhZyBhbmQgdXBkYXRlcyBjYXRlZ29yeSBmaWVsZFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdG9nZ2xlU3BhbUVtYWlsQWN0aW9uKGVtYWlsSWQ6IHN0cmluZyk6IFByb21pc2U8e1xuICBzdWNjZXNzOiBib29sZWFuO1xuICBpc1NwYW0/OiBib29sZWFuO1xuICBlcnJvcj86IHN0cmluZ1xufT4ge1xuICBcInVzZSBzZXJ2ZXJcIjtcblxuICB0cnkge1xuICAgIGNvbnN0IHsgY3JlYXRlQ2xpZW50IH0gPSBhd2FpdCBpbXBvcnQoXCJAL2xpYi9zdXBhYmFzZS9zZXJ2ZXJcIik7XG4gICAgY29uc3QgeyBnZXRBY3RpdmVDb21wYW55SWQgfSA9IGF3YWl0IGltcG9ydChcIkAvbGliL2F1dGgvY29tcGFueS1jb250ZXh0XCIpO1xuXG4gICAgY29uc3QgY29tcGFueUlkID0gYXdhaXQgZ2V0QWN0aXZlQ29tcGFueUlkKCk7XG4gICAgaWYgKCFjb21wYW55SWQpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJObyBhY3RpdmUgY29tcGFueSBmb3VuZFwiIH07XG4gICAgfVxuXG4gICAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcbiAgICBpZiAoIXN1cGFiYXNlKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWRcIiB9O1xuICAgIH1cblxuICAgIC8vIEZpcnN0LCBnZXQgY3VycmVudCB0YWdzIGFuZCBjYXRlZ29yeVxuICAgIGNvbnN0IHsgZGF0YTogZW1haWwsIGVycm9yOiBmZXRjaEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oXCJjb21tdW5pY2F0aW9uc1wiKVxuICAgICAgLnNlbGVjdChcInRhZ3MsIGNhdGVnb3J5XCIpXG4gICAgICAuZXEoXCJpZFwiLCBlbWFpbElkKVxuICAgICAgLmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpXG4gICAgICAuZXEoXCJ0eXBlXCIsIFwiZW1haWxcIilcbiAgICAgIC5zaW5nbGUoKTtcblxuICAgIGlmIChmZXRjaEVycm9yKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGZldGNoRXJyb3IubWVzc2FnZSB9O1xuICAgIH1cblxuICAgIGNvbnN0IGN1cnJlbnRUYWdzID0gKGVtYWlsPy50YWdzIGFzIHN0cmluZ1tdKSB8fCBbXTtcbiAgICBjb25zdCBpc0N1cnJlbnRseVNwYW0gPSBjdXJyZW50VGFncy5pbmNsdWRlcyhcInNwYW1cIikgfHwgZW1haWw/LmNhdGVnb3J5ID09PSBcInNwYW1cIjtcblxuICAgIC8vIFRvZ2dsZSB0aGUgc3BhbSB0YWcgYW5kIGNhdGVnb3J5XG4gICAgY29uc3QgbmV3VGFncyA9IGlzQ3VycmVudGx5U3BhbVxuICAgICAgPyBjdXJyZW50VGFncy5maWx0ZXIodGFnID0+IHRhZyAhPT0gXCJzcGFtXCIpXG4gICAgICA6IFsuLi5jdXJyZW50VGFncywgXCJzcGFtXCJdO1xuXG4gICAgY29uc3QgbmV3Q2F0ZWdvcnkgPSBpc0N1cnJlbnRseVNwYW0gPyBudWxsIDogXCJzcGFtXCI7XG5cbiAgICAvLyBVcGRhdGUgdGhlIGVtYWlsXG4gICAgY29uc3QgeyBlcnJvcjogdXBkYXRlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG4gICAgICAudXBkYXRlKHtcbiAgICAgICAgdGFnczogbmV3VGFncy5sZW5ndGggPiAwID8gbmV3VGFncyA6IG51bGwsXG4gICAgICAgIGNhdGVnb3J5OiBuZXdDYXRlZ29yeVxuICAgICAgfSlcbiAgICAgIC5lcShcImlkXCIsIGVtYWlsSWQpXG4gICAgICAuZXEoXCJjb21wYW55X2lkXCIsIGNvbXBhbnlJZClcbiAgICAgIC5lcShcInR5cGVcIiwgXCJlbWFpbFwiKTtcblxuICAgIGlmICh1cGRhdGVFcnJvcikge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiB1cGRhdGVFcnJvci5tZXNzYWdlIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgaXNTcGFtOiAhaXNDdXJyZW50bHlTcGFtIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIHRvZ2dsaW5nIHNwYW0gb24gZW1haWw6XCIsIGVycm9yKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJVbmtub3duIGVycm9yXCIgfTtcbiAgfVxufVxuXG4vKipcbiAqIFNub296ZSBhbiBlbWFpbCB1bnRpbCBhIHNwZWNpZmljIHRpbWVcbiAqIFRoZSBlbWFpbCB3aWxsIHJlYXBwZWFyIGluIGluYm94IGFmdGVyIHRoZSBzbm9vemUgdGltZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc25vb3plRW1haWxBY3Rpb24oXG4gIGVtYWlsSWQ6IHN0cmluZyxcbiAgc25vb3plVW50aWw6IHN0cmluZyB8IG51bGxcbik6IFByb21pc2U8e1xuICBzdWNjZXNzOiBib29sZWFuO1xuICBzbm9vemVkVW50aWw/OiBzdHJpbmcgfCBudWxsO1xuICBlcnJvcj86IHN0cmluZztcbn0+IHtcbiAgXCJ1c2Ugc2VydmVyXCI7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IGNyZWF0ZUNsaWVudCB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvc3VwYWJhc2Uvc2VydmVyXCIpO1xuICAgIGNvbnN0IHsgZ2V0QWN0aXZlQ29tcGFueUlkIH0gPSBhd2FpdCBpbXBvcnQoXCJAL2xpYi9hdXRoL2NvbXBhbnktY29udGV4dFwiKTtcblxuICAgIGNvbnN0IGNvbXBhbnlJZCA9IGF3YWl0IGdldEFjdGl2ZUNvbXBhbnlJZCgpO1xuICAgIGlmICghY29tcGFueUlkKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm8gYWN0aXZlIGNvbXBhbnkgZm91bmRcIiB9O1xuICAgIH1cblxuICAgIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG4gICAgaWYgKCFzdXBhYmFzZSkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkXCIgfTtcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgdGhlIHNub296ZWRfdW50aWwgZmllbGRcbiAgICBjb25zdCB7IGVycm9yOiB1cGRhdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKFwiY29tbXVuaWNhdGlvbnNcIilcbiAgICAgIC51cGRhdGUoeyBzbm9vemVkX3VudGlsOiBzbm9vemVVbnRpbCB9KVxuICAgICAgLmVxKFwiaWRcIiwgZW1haWxJZClcbiAgICAgIC5lcShcImNvbXBhbnlfaWRcIiwgY29tcGFueUlkKVxuICAgICAgLmVxKFwidHlwZVwiLCBcImVtYWlsXCIpO1xuXG4gICAgaWYgKHVwZGF0ZUVycm9yKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IHVwZGF0ZUVycm9yLm1lc3NhZ2UgfTtcbiAgICB9XG5cbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBzbm9vemVkVW50aWw6IHNub296ZVVudGlsIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIHNub296aW5nIGVtYWlsOlwiLCBlcnJvcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiVW5rbm93biBlcnJvclwiIH07XG4gIH1cbn1cblxuLyoqXG4gKiBVbnNub296ZSBhbiBlbWFpbCAocmVtb3ZlIHNub296ZSB0aW1lKVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdW5zbm9vemVFbWFpbEFjdGlvbihlbWFpbElkOiBzdHJpbmcpOiBQcm9taXNlPHtcbiAgc3VjY2VzczogYm9vbGVhbjtcbiAgZXJyb3I/OiBzdHJpbmc7XG59PiB7XG4gIHJldHVybiBzbm9vemVFbWFpbEFjdGlvbihlbWFpbElkLCBudWxsKTtcbn1cblxuLyoqXG4gKiBCdWxrIG1hcmsgZW1haWxzIGFzIHJlYWQgb3IgdW5yZWFkXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBidWxrTWFya1JlYWRVbnJlYWRBY3Rpb24oXG4gIGVtYWlsSWRzOiBzdHJpbmdbXSxcbiAgbWFya0FzUmVhZDogYm9vbGVhblxuKTogUHJvbWlzZTx7XG4gIHN1Y2Nlc3M6IGJvb2xlYW47XG4gIHVwZGF0ZWQ6IG51bWJlcjtcbiAgZXJyb3I/OiBzdHJpbmc7XG59PiB7XG4gIFwidXNlIHNlcnZlclwiO1xuXG4gIGlmICghZW1haWxJZHMgfHwgZW1haWxJZHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIHVwZGF0ZWQ6IDAsIGVycm9yOiBcIk5vIElEcyBwcm92aWRlZFwiIH07XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IHsgY3JlYXRlQ2xpZW50IH0gPSBhd2FpdCBpbXBvcnQoXCJAL2xpYi9zdXBhYmFzZS9zZXJ2ZXJcIik7XG4gICAgY29uc3QgeyBnZXRBY3RpdmVDb21wYW55SWQgfSA9IGF3YWl0IGltcG9ydChcIkAvbGliL2F1dGgvY29tcGFueS1jb250ZXh0XCIpO1xuXG4gICAgY29uc3QgY29tcGFueUlkID0gYXdhaXQgZ2V0QWN0aXZlQ29tcGFueUlkKCk7XG4gICAgaWYgKCFjb21wYW55SWQpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCB1cGRhdGVkOiAwLCBlcnJvcjogXCJObyBhY3RpdmUgY29tcGFueSBmb3VuZFwiIH07XG4gICAgfVxuXG4gICAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcbiAgICBpZiAoIXN1cGFiYXNlKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgdXBkYXRlZDogMCwgZXJyb3I6IFwiRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWRcIiB9O1xuICAgIH1cblxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG4gICAgICAudXBkYXRlKHsgcmVhZF9hdDogbWFya0FzUmVhZCA/IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSA6IG51bGwgfSlcbiAgICAgIC5pbihcImlkXCIsIGVtYWlsSWRzKVxuICAgICAgLmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpXG4gICAgICAuZXEoXCJ0eXBlXCIsIFwiZW1haWxcIilcbiAgICAgIC5zZWxlY3QoXCJpZFwiKTtcblxuICAgIGlmIChlcnJvcikge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIHVwZGF0ZWQ6IDAsIGVycm9yOiBlcnJvci5tZXNzYWdlIH07XG4gICAgfVxuXG4gICAgLy8gRGlzcGF0Y2ggZXZlbnQgdG8gcmVmcmVzaCBjb3VudHNcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCB1cGRhdGVkOiBkYXRhPy5sZW5ndGggPz8gMCB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBidWxrIG1hcmtpbmcgZW1haWxzOlwiLCBlcnJvcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIHVwZGF0ZWQ6IDAsIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiVW5rbm93biBlcnJvclwiIH07XG4gIH1cbn1cblxuLyoqXG4gKiBCdWxrIHRvZ2dsZSBzdGFyIG9uIGVtYWlsc1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYnVsa1N0YXJFbWFpbHNBY3Rpb24oXG4gIGVtYWlsSWRzOiBzdHJpbmdbXSxcbiAgYWRkU3RhcjogYm9vbGVhblxuKTogUHJvbWlzZTx7XG4gIHN1Y2Nlc3M6IGJvb2xlYW47XG4gIHVwZGF0ZWQ6IG51bWJlcjtcbiAgZXJyb3I/OiBzdHJpbmc7XG59PiB7XG4gIFwidXNlIHNlcnZlclwiO1xuXG4gIGlmICghZW1haWxJZHMgfHwgZW1haWxJZHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIHVwZGF0ZWQ6IDAsIGVycm9yOiBcIk5vIElEcyBwcm92aWRlZFwiIH07XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IHsgY3JlYXRlQ2xpZW50IH0gPSBhd2FpdCBpbXBvcnQoXCJAL2xpYi9zdXBhYmFzZS9zZXJ2ZXJcIik7XG4gICAgY29uc3QgeyBnZXRBY3RpdmVDb21wYW55SWQgfSA9IGF3YWl0IGltcG9ydChcIkAvbGliL2F1dGgvY29tcGFueS1jb250ZXh0XCIpO1xuXG4gICAgY29uc3QgY29tcGFueUlkID0gYXdhaXQgZ2V0QWN0aXZlQ29tcGFueUlkKCk7XG4gICAgaWYgKCFjb21wYW55SWQpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCB1cGRhdGVkOiAwLCBlcnJvcjogXCJObyBhY3RpdmUgY29tcGFueSBmb3VuZFwiIH07XG4gICAgfVxuXG4gICAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcbiAgICBpZiAoIXN1cGFiYXNlKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgdXBkYXRlZDogMCwgZXJyb3I6IFwiRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWRcIiB9O1xuICAgIH1cblxuICAgIC8vIE9QVElNSVpFRDogQmF0Y2ggZmV0Y2ggYWxsIGVtYWlscyBpbiBPTkUgcXVlcnkgKHdhcyBOIHF1ZXJpZXMpXG4gICAgY29uc3QgeyBkYXRhOiBlbWFpbHMgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG4gICAgICAuc2VsZWN0KFwiaWQsIHRhZ3NcIilcbiAgICAgIC5pbihcImlkXCIsIGVtYWlsSWRzKVxuICAgICAgLmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpO1xuXG4gICAgaWYgKCFlbWFpbHMgfHwgZW1haWxzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgdXBkYXRlZDogMCB9O1xuICAgIH1cblxuICAgIC8vIEdyb3VwIGVtYWlscyBieSB3aGF0IGNoYW5nZXMgbmVlZCB0byBiZSBtYWRlXG4gICAgY29uc3QgdG9VcGRhdGU6IEFycmF5PHsgaWQ6IHN0cmluZzsgbmV3VGFnczogc3RyaW5nW10gfCBudWxsIH0+ID0gW107XG5cbiAgICBmb3IgKGNvbnN0IGVtYWlsIG9mIGVtYWlscykge1xuICAgICAgY29uc3QgY3VycmVudFRhZ3MgPSAoZW1haWwudGFncyBhcyBzdHJpbmdbXSkgfHwgW107XG4gICAgICBjb25zdCBoYXNTdGFycmVkID0gY3VycmVudFRhZ3MuaW5jbHVkZXMoXCJzdGFycmVkXCIpO1xuXG4gICAgICBsZXQgbmV3VGFnczogc3RyaW5nW107XG4gICAgICBpZiAoYWRkU3RhciAmJiAhaGFzU3RhcnJlZCkge1xuICAgICAgICBuZXdUYWdzID0gWy4uLmN1cnJlbnRUYWdzLCBcInN0YXJyZWRcIl07XG4gICAgICB9IGVsc2UgaWYgKCFhZGRTdGFyICYmIGhhc1N0YXJyZWQpIHtcbiAgICAgICAgbmV3VGFncyA9IGN1cnJlbnRUYWdzLmZpbHRlcigodCkgPT4gdCAhPT0gXCJzdGFycmVkXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29udGludWU7IC8vIE5vIGNoYW5nZSBuZWVkZWRcbiAgICAgIH1cblxuICAgICAgdG9VcGRhdGUucHVzaCh7IGlkOiBlbWFpbC5pZCwgbmV3VGFnczogbmV3VGFncy5sZW5ndGggPiAwID8gbmV3VGFncyA6IG51bGwgfSk7XG4gICAgfVxuXG4gICAgaWYgKHRvVXBkYXRlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgdXBkYXRlZDogMCB9O1xuICAgIH1cblxuICAgIC8vIEJhdGNoIHVwZGF0ZSB1c2luZyBQcm9taXNlLmFsbCAocGFyYWxsZWwgdXBkYXRlcylcbiAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICB0b1VwZGF0ZS5tYXAoKHsgaWQsIG5ld1RhZ3MgfSkgPT5cbiAgICAgICAgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG4gICAgICAgICAgLnVwZGF0ZSh7IHRhZ3M6IG5ld1RhZ3MgfSlcbiAgICAgICAgICAuZXEoXCJpZFwiLCBpZClcbiAgICAgICAgICAuZXEoXCJjb21wYW55X2lkXCIsIGNvbXBhbnlJZClcbiAgICAgIClcbiAgICApO1xuXG4gICAgY29uc3QgdXBkYXRlZENvdW50ID0gcmVzdWx0cy5maWx0ZXIoKHIpID0+ICFyLmVycm9yKS5sZW5ndGg7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgdXBkYXRlZDogdXBkYXRlZENvdW50IH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGJ1bGsgc3RhcnJpbmcgZW1haWxzOlwiLCBlcnJvcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIHVwZGF0ZWQ6IDAsIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiVW5rbm93biBlcnJvclwiIH07XG4gIH1cbn1cblxuLyoqXG4gKiBCdWxrIGRlbGV0ZSBlbWFpbHMgKG1vdmUgdG8gdHJhc2gpXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBidWxrRGVsZXRlRW1haWxzQWN0aW9uKGVtYWlsSWRzOiBzdHJpbmdbXSk6IFByb21pc2U8e1xuICBzdWNjZXNzOiBib29sZWFuO1xuICBkZWxldGVkOiBudW1iZXI7XG4gIGVycm9yPzogc3RyaW5nO1xufT4ge1xuICBcInVzZSBzZXJ2ZXJcIjtcblxuICBpZiAoIWVtYWlsSWRzIHx8IGVtYWlsSWRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBkZWxldGVkOiAwLCBlcnJvcjogXCJObyBJRHMgcHJvdmlkZWRcIiB9O1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IGNyZWF0ZUNsaWVudCB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvc3VwYWJhc2Uvc2VydmVyXCIpO1xuICAgIGNvbnN0IHsgZ2V0QWN0aXZlQ29tcGFueUlkIH0gPSBhd2FpdCBpbXBvcnQoXCJAL2xpYi9hdXRoL2NvbXBhbnktY29udGV4dFwiKTtcblxuICAgIGNvbnN0IGNvbXBhbnlJZCA9IGF3YWl0IGdldEFjdGl2ZUNvbXBhbnlJZCgpO1xuICAgIGlmICghY29tcGFueUlkKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZGVsZXRlZDogMCwgZXJyb3I6IFwiTm8gYWN0aXZlIGNvbXBhbnkgZm91bmRcIiB9O1xuICAgIH1cblxuICAgIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG4gICAgaWYgKCFzdXBhYmFzZSkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGRlbGV0ZWQ6IDAsIGVycm9yOiBcIkRhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkXCIgfTtcbiAgICB9XG5cbiAgICAvLyBTb2Z0IGRlbGV0ZSBieSBzZXR0aW5nIGRlbGV0ZWRfYXRcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oXCJjb21tdW5pY2F0aW9uc1wiKVxuICAgICAgLnVwZGF0ZSh7IGRlbGV0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSB9KVxuICAgICAgLmluKFwiaWRcIiwgZW1haWxJZHMpXG4gICAgICAuZXEoXCJjb21wYW55X2lkXCIsIGNvbXBhbnlJZClcbiAgICAgIC5lcShcInR5cGVcIiwgXCJlbWFpbFwiKVxuICAgICAgLnNlbGVjdChcImlkXCIpO1xuXG4gICAgaWYgKGVycm9yKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZGVsZXRlZDogMCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfTtcbiAgICB9XG5cbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkZWxldGVkOiBkYXRhPy5sZW5ndGggPz8gMCB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBidWxrIGRlbGV0aW5nIGVtYWlsczpcIiwgZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBkZWxldGVkOiAwLCBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIiB9O1xuICB9XG59XG5cbi8qKlxuICogQnVsayBtb3ZlIGVtYWlscyB0byBzcGFtXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBidWxrTW92ZVRvU3BhbUFjdGlvbihlbWFpbElkczogc3RyaW5nW10pOiBQcm9taXNlPHtcbiAgc3VjY2VzczogYm9vbGVhbjtcbiAgbW92ZWQ6IG51bWJlcjtcbiAgZXJyb3I/OiBzdHJpbmc7XG59PiB7XG4gIFwidXNlIHNlcnZlclwiO1xuXG4gIGlmICghZW1haWxJZHMgfHwgZW1haWxJZHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIG1vdmVkOiAwLCBlcnJvcjogXCJObyBJRHMgcHJvdmlkZWRcIiB9O1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IGNyZWF0ZUNsaWVudCB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvc3VwYWJhc2Uvc2VydmVyXCIpO1xuICAgIGNvbnN0IHsgZ2V0QWN0aXZlQ29tcGFueUlkIH0gPSBhd2FpdCBpbXBvcnQoXCJAL2xpYi9hdXRoL2NvbXBhbnktY29udGV4dFwiKTtcblxuICAgIGNvbnN0IGNvbXBhbnlJZCA9IGF3YWl0IGdldEFjdGl2ZUNvbXBhbnlJZCgpO1xuICAgIGlmICghY29tcGFueUlkKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgbW92ZWQ6IDAsIGVycm9yOiBcIk5vIGFjdGl2ZSBjb21wYW55IGZvdW5kXCIgfTtcbiAgICB9XG5cbiAgICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuICAgIGlmICghc3VwYWJhc2UpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBtb3ZlZDogMCwgZXJyb3I6IFwiRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWRcIiB9O1xuICAgIH1cblxuICAgIC8vIE9QVElNSVpFRDogQmF0Y2ggZmV0Y2ggYWxsIGVtYWlscyBpbiBPTkUgcXVlcnkgKHdhcyBOIHF1ZXJpZXMpXG4gICAgY29uc3QgeyBkYXRhOiBlbWFpbHMgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG4gICAgICAuc2VsZWN0KFwiaWQsIHRhZ3NcIilcbiAgICAgIC5pbihcImlkXCIsIGVtYWlsSWRzKVxuICAgICAgLmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpO1xuXG4gICAgaWYgKCFlbWFpbHMgfHwgZW1haWxzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgbW92ZWQ6IDAgfTtcbiAgICB9XG5cbiAgICAvLyBQcmVwYXJlIHVwZGF0ZXMgd2l0aCBuZXcgdGFnc1xuICAgIGNvbnN0IHVwZGF0ZXMgPSBlbWFpbHMubWFwKChlbWFpbCkgPT4ge1xuICAgICAgY29uc3QgY3VycmVudFRhZ3MgPSAoZW1haWwudGFncyBhcyBzdHJpbmdbXSkgfHwgW107XG4gICAgICBjb25zdCBuZXdUYWdzID0gY3VycmVudFRhZ3MuaW5jbHVkZXMoXCJzcGFtXCIpXG4gICAgICAgID8gY3VycmVudFRhZ3NcbiAgICAgICAgOiBbLi4uY3VycmVudFRhZ3MsIFwic3BhbVwiXTtcbiAgICAgIHJldHVybiB7IGlkOiBlbWFpbC5pZCwgbmV3VGFncyB9O1xuICAgIH0pO1xuXG4gICAgLy8gQmF0Y2ggdXBkYXRlIHVzaW5nIFByb21pc2UuYWxsIChwYXJhbGxlbCB1cGRhdGVzKVxuICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgIHVwZGF0ZXMubWFwKCh7IGlkLCBuZXdUYWdzIH0pID0+XG4gICAgICAgIHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oXCJjb21tdW5pY2F0aW9uc1wiKVxuICAgICAgICAgIC51cGRhdGUoeyBjYXRlZ29yeTogXCJzcGFtXCIsIHRhZ3M6IG5ld1RhZ3MgfSlcbiAgICAgICAgICAuZXEoXCJpZFwiLCBpZClcbiAgICAgICAgICAuZXEoXCJjb21wYW55X2lkXCIsIGNvbXBhbnlJZClcbiAgICAgIClcbiAgICApO1xuXG4gICAgY29uc3QgbW92ZWRDb3VudCA9IHJlc3VsdHMuZmlsdGVyKChyKSA9PiAhci5lcnJvcikubGVuZ3RoO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIG1vdmVkOiBtb3ZlZENvdW50IH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIG1vdmluZyBlbWFpbHMgdG8gc3BhbTpcIiwgZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBtb3ZlZDogMCwgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJVbmtub3duIGVycm9yXCIgfTtcbiAgfVxufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBEUkFGVCBBQ1RJT05TXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmNvbnN0IHNhdmVEcmFmdFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgaWQ6IHouc3RyaW5nKCkudXVpZCgpLm9wdGlvbmFsKCksIC8vIElmIHByb3ZpZGVkLCB1cGRhdGUgZXhpc3RpbmcgZHJhZnRcbiAgdG86IHouYXJyYXkoei5zdHJpbmcoKS5lbWFpbCgpKS5vcHRpb25hbCgpLmRlZmF1bHQoW10pLFxuICBjYzogei5hcnJheSh6LnN0cmluZygpLmVtYWlsKCkpLm9wdGlvbmFsKCkuZGVmYXVsdChbXSksXG4gIGJjYzogei5hcnJheSh6LnN0cmluZygpLmVtYWlsKCkpLm9wdGlvbmFsKCkuZGVmYXVsdChbXSksXG4gIHN1YmplY3Q6IHouc3RyaW5nKCkub3B0aW9uYWwoKS5kZWZhdWx0KFwiXCIpLFxuICBib2R5OiB6LnN0cmluZygpLm9wdGlvbmFsKCkuZGVmYXVsdChcIlwiKSxcbiAgYm9keUh0bWw6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgY3VzdG9tZXJJZDogei5zdHJpbmcoKS51dWlkKCkub3B0aW9uYWwoKSxcbiAgYXR0YWNobWVudHM6IHouYXJyYXkoei5vYmplY3Qoe1xuICAgIGZpbGVuYW1lOiB6LnN0cmluZygpLFxuICAgIGNvbnRlbnQ6IHouc3RyaW5nKCksXG4gICAgY29udGVudFR5cGU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgfSkpLm9wdGlvbmFsKCksXG59KTtcblxuZXhwb3J0IHR5cGUgU2F2ZURyYWZ0SW5wdXQgPSB6LmluZmVyPHR5cGVvZiBzYXZlRHJhZnRTY2hlbWE+O1xuXG4vKipcbiAqIFNhdmUgb3IgdXBkYXRlIGFuIGVtYWlsIGRyYWZ0XG4gKiBJZiBpZCBpcyBwcm92aWRlZCwgdXBkYXRlcyBleGlzdGluZyBkcmFmdDsgb3RoZXJ3aXNlIGNyZWF0ZXMgYSBuZXcgb25lXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzYXZlRHJhZnRBY3Rpb24oaW5wdXQ6IFNhdmVEcmFmdElucHV0KTogUHJvbWlzZTx7XG4gIHN1Y2Nlc3M6IGJvb2xlYW47XG4gIGRyYWZ0SWQ/OiBzdHJpbmc7XG4gIGVycm9yPzogc3RyaW5nO1xufT4ge1xuICBcInVzZSBzZXJ2ZXJcIjtcblxuICB0cnkge1xuICAgIGNvbnN0IHBhcnNlUmVzdWx0ID0gc2F2ZURyYWZ0U2NoZW1hLnNhZmVQYXJzZShpbnB1dCk7XG4gICAgaWYgKCFwYXJzZVJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGBJbnZhbGlkIGlucHV0OiAke3BhcnNlUmVzdWx0LmVycm9yLm1lc3NhZ2V9YCB9O1xuICAgIH1cblxuICAgIGNvbnN0IHsgaWQsIHRvLCBjYywgYmNjLCBzdWJqZWN0LCBib2R5LCBib2R5SHRtbCwgY3VzdG9tZXJJZCwgYXR0YWNobWVudHMgfSA9IHBhcnNlUmVzdWx0LmRhdGE7XG5cbiAgICBjb25zdCB7IGNyZWF0ZUNsaWVudCB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvc3VwYWJhc2Uvc2VydmVyXCIpO1xuICAgIGNvbnN0IHsgZ2V0QWN0aXZlQ29tcGFueUlkIH0gPSBhd2FpdCBpbXBvcnQoXCJAL2xpYi9hdXRoL2NvbXBhbnktY29udGV4dFwiKTtcblxuICAgIGNvbnN0IGNvbXBhbnlJZCA9IGF3YWl0IGdldEFjdGl2ZUNvbXBhbnlJZCgpO1xuICAgIGlmICghY29tcGFueUlkKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm8gYWN0aXZlIGNvbXBhbnkgZm91bmRcIiB9O1xuICAgIH1cblxuICAgIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG4gICAgaWYgKCFzdXBhYmFzZSkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkXCIgfTtcbiAgICB9XG5cbiAgICAvLyBHZXQgdGhlIGNvbXBhbnkncyBkZWZhdWx0IGVtYWlsIGFkZHJlc3MgZm9yIGZyb21fYWRkcmVzc1xuICAgIGNvbnN0IHsgZGF0YTogY29tcGFueVNldHRpbmdzIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oXCJjb21wYW55X2NvbW11bmljYXRpb25fc2V0dGluZ3NcIilcbiAgICAgIC5zZWxlY3QoXCJlbWFpbF9mcm9tX2FkZHJlc3MsIGVtYWlsX2Zyb21fbmFtZVwiKVxuICAgICAgLmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpXG4gICAgICAuc2luZ2xlKCk7XG5cbiAgICBjb25zdCBmcm9tQWRkcmVzcyA9IGNvbXBhbnlTZXR0aW5ncz8uZW1haWxfZnJvbV9hZGRyZXNzIHx8IFwibm9yZXBseUBleGFtcGxlLmNvbVwiO1xuICAgIGNvbnN0IGZyb21OYW1lID0gY29tcGFueVNldHRpbmdzPy5lbWFpbF9mcm9tX25hbWUgfHwgXCJEcmFmdFwiO1xuXG4gICAgY29uc3QgZHJhZnREYXRhID0ge1xuICAgICAgY29tcGFueV9pZDogY29tcGFueUlkLFxuICAgICAgY3VzdG9tZXJfaWQ6IGN1c3RvbWVySWQgfHwgbnVsbCxcbiAgICAgIHR5cGU6IFwiZW1haWxcIiBhcyBjb25zdCxcbiAgICAgIGRpcmVjdGlvbjogXCJvdXRib3VuZFwiIGFzIGNvbnN0LFxuICAgICAgZnJvbV9hZGRyZXNzOiBmcm9tQWRkcmVzcyxcbiAgICAgIGZyb21fbmFtZTogZnJvbU5hbWUsXG4gICAgICB0b19hZGRyZXNzOiB0by5sZW5ndGggPiAwID8gdG8uam9pbihcIiwgXCIpIDogXCJkcmFmdEBwbGFjZWhvbGRlci5sb2NhbFwiLFxuICAgICAgY2NfYWRkcmVzczogY2MubGVuZ3RoID4gMCA/IGNjLmpvaW4oXCIsIFwiKSA6IG51bGwsXG4gICAgICBiY2NfYWRkcmVzczogYmNjLmxlbmd0aCA+IDAgPyBiY2Muam9pbihcIiwgXCIpIDogbnVsbCxcbiAgICAgIHN1YmplY3Q6IHN1YmplY3QgfHwgXCIoTm8gc3ViamVjdClcIixcbiAgICAgIGJvZHk6IGJvZHkgfHwgXCJcIixcbiAgICAgIGJvZHlfaHRtbDogYm9keUh0bWwgfHwgbnVsbCxcbiAgICAgIGF0dGFjaG1lbnRzOiBhdHRhY2htZW50cyAmJiBhdHRhY2htZW50cy5sZW5ndGggPiAwID8gYXR0YWNobWVudHMgOiBudWxsLFxuICAgICAgYXR0YWNobWVudF9jb3VudDogYXR0YWNobWVudHM/Lmxlbmd0aCB8fCAwLFxuICAgICAgc3RhdHVzOiBcImRyYWZ0XCIgYXMgY29uc3QsXG4gICAgICBpc19hdXRvbWF0ZWQ6IGZhbHNlLFxuICAgICAgaXNfaW50ZXJuYWw6IGZhbHNlLFxuICAgICAgaXNfYXJjaGl2ZWQ6IGZhbHNlLFxuICAgICAgaXNfdGhyZWFkX3N0YXJ0ZXI6IHRydWUsXG4gICAgICBwcmlvcml0eTogXCJub3JtYWxcIiBhcyBjb25zdCxcbiAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICB9O1xuXG4gICAgaWYgKGlkKSB7XG4gICAgICAvLyBVcGRhdGUgZXhpc3RpbmcgZHJhZnRcbiAgICAgIGNvbnN0IHsgZXJyb3I6IHVwZGF0ZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG4gICAgICAgIC51cGRhdGUoZHJhZnREYXRhKVxuICAgICAgICAuZXEoXCJpZFwiLCBpZClcbiAgICAgICAgLmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpXG4gICAgICAgIC5lcShcInN0YXR1c1wiLCBcImRyYWZ0XCIpO1xuXG4gICAgICBpZiAodXBkYXRlRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHVwZGF0aW5nIGRyYWZ0OlwiLCB1cGRhdGVFcnJvcik7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogdXBkYXRlRXJyb3IubWVzc2FnZSB9O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkcmFmdElkOiBpZCB9O1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBDcmVhdGUgbmV3IGRyYWZ0XG4gICAgICBjb25zdCB7IGRhdGE6IG5ld0RyYWZ0LCBlcnJvcjogaW5zZXJ0RXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKFwiY29tbXVuaWNhdGlvbnNcIilcbiAgICAgICAgLmluc2VydCh7XG4gICAgICAgICAgLi4uZHJhZnREYXRhLFxuICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgfSlcbiAgICAgICAgLnNlbGVjdChcImlkXCIpXG4gICAgICAgIC5zaW5nbGUoKTtcblxuICAgICAgaWYgKGluc2VydEVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBkcmFmdDpcIiwgaW5zZXJ0RXJyb3IpO1xuICAgICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGluc2VydEVycm9yLm1lc3NhZ2UgfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZHJhZnRJZDogbmV3RHJhZnQuaWQgfTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIHNhdmluZyBkcmFmdDpcIiwgZXJyb3IpO1xuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3JcIiB9O1xuICB9XG59XG5cbi8qKlxuICogR2V0IGEgZHJhZnQgYnkgSURcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldERyYWZ0QWN0aW9uKGRyYWZ0SWQ6IHN0cmluZyk6IFByb21pc2U8e1xuICBzdWNjZXNzOiBib29sZWFuO1xuICBkcmFmdD86IHtcbiAgICBpZDogc3RyaW5nO1xuICAgIHRvOiBzdHJpbmdbXTtcbiAgICBjYzogc3RyaW5nW107XG4gICAgYmNjOiBzdHJpbmdbXTtcbiAgICBzdWJqZWN0OiBzdHJpbmc7XG4gICAgYm9keTogc3RyaW5nO1xuICAgIGJvZHlIdG1sPzogc3RyaW5nIHwgbnVsbDtcbiAgICBjdXN0b21lcklkPzogc3RyaW5nIHwgbnVsbDtcbiAgICBhdHRhY2htZW50cz86IEFycmF5PHsgZmlsZW5hbWU6IHN0cmluZzsgY29udGVudDogc3RyaW5nOyBjb250ZW50VHlwZT86IHN0cmluZyB9PiB8IG51bGw7XG4gICAgdXBkYXRlZEF0OiBzdHJpbmc7XG4gIH07XG4gIGVycm9yPzogc3RyaW5nO1xufT4ge1xuICBcInVzZSBzZXJ2ZXJcIjtcblxuICB0cnkge1xuICAgIGNvbnN0IHsgY3JlYXRlQ2xpZW50IH0gPSBhd2FpdCBpbXBvcnQoXCJAL2xpYi9zdXBhYmFzZS9zZXJ2ZXJcIik7XG4gICAgY29uc3QgeyBnZXRBY3RpdmVDb21wYW55SWQgfSA9IGF3YWl0IGltcG9ydChcIkAvbGliL2F1dGgvY29tcGFueS1jb250ZXh0XCIpO1xuXG4gICAgY29uc3QgY29tcGFueUlkID0gYXdhaXQgZ2V0QWN0aXZlQ29tcGFueUlkKCk7XG4gICAgaWYgKCFjb21wYW55SWQpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJObyBhY3RpdmUgY29tcGFueSBmb3VuZFwiIH07XG4gICAgfVxuXG4gICAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcbiAgICBpZiAoIXN1cGFiYXNlKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWRcIiB9O1xuICAgIH1cblxuICAgIGNvbnN0IHsgZGF0YTogZHJhZnQsIGVycm9yOiBmZXRjaEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oXCJjb21tdW5pY2F0aW9uc1wiKVxuICAgICAgLnNlbGVjdChcImlkLCB0b19hZGRyZXNzLCBjY19hZGRyZXNzLCBiY2NfYWRkcmVzcywgc3ViamVjdCwgYm9keSwgYm9keV9odG1sLCBjdXN0b21lcl9pZCwgYXR0YWNobWVudHMsIHVwZGF0ZWRfYXRcIilcbiAgICAgIC5lcShcImlkXCIsIGRyYWZ0SWQpXG4gICAgICAuZXEoXCJjb21wYW55X2lkXCIsIGNvbXBhbnlJZClcbiAgICAgIC5lcShcInN0YXR1c1wiLCBcImRyYWZ0XCIpXG4gICAgICAuc2luZ2xlKCk7XG5cbiAgICBpZiAoZmV0Y2hFcnJvcikge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBmZXRjaEVycm9yLm1lc3NhZ2UgfTtcbiAgICB9XG5cbiAgICBpZiAoIWRyYWZ0KSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRHJhZnQgbm90IGZvdW5kXCIgfTtcbiAgICB9XG5cbiAgICAvLyBQYXJzZSBhZGRyZXNzZXMgZnJvbSBjb21tYS1zZXBhcmF0ZWQgc3RyaW5ncyB0byBhcnJheXNcbiAgICBjb25zdCBwYXJzZUFkZHJlc3NlcyA9IChhZGRyOiBzdHJpbmcgfCBudWxsKTogc3RyaW5nW10gPT4ge1xuICAgICAgaWYgKCFhZGRyIHx8IGFkZHIgPT09IFwiZHJhZnRAcGxhY2Vob2xkZXIubG9jYWxcIikgcmV0dXJuIFtdO1xuICAgICAgcmV0dXJuIGFkZHIuc3BsaXQoXCIsXCIpLm1hcChhID0+IGEudHJpbSgpKS5maWx0ZXIoQm9vbGVhbik7XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgZHJhZnQ6IHtcbiAgICAgICAgaWQ6IGRyYWZ0LmlkLFxuICAgICAgICB0bzogcGFyc2VBZGRyZXNzZXMoZHJhZnQudG9fYWRkcmVzcyksXG4gICAgICAgIGNjOiBwYXJzZUFkZHJlc3NlcyhkcmFmdC5jY19hZGRyZXNzKSxcbiAgICAgICAgYmNjOiBwYXJzZUFkZHJlc3NlcyhkcmFmdC5iY2NfYWRkcmVzcyksXG4gICAgICAgIHN1YmplY3Q6IGRyYWZ0LnN1YmplY3QgPT09IFwiKE5vIHN1YmplY3QpXCIgPyBcIlwiIDogKGRyYWZ0LnN1YmplY3QgfHwgXCJcIiksXG4gICAgICAgIGJvZHk6IGRyYWZ0LmJvZHkgfHwgXCJcIixcbiAgICAgICAgYm9keUh0bWw6IGRyYWZ0LmJvZHlfaHRtbCxcbiAgICAgICAgY3VzdG9tZXJJZDogZHJhZnQuY3VzdG9tZXJfaWQsXG4gICAgICAgIGF0dGFjaG1lbnRzOiBkcmFmdC5hdHRhY2htZW50cyBhcyBBcnJheTx7IGZpbGVuYW1lOiBzdHJpbmc7IGNvbnRlbnQ6IHN0cmluZzsgY29udGVudFR5cGU/OiBzdHJpbmcgfT4gfCBudWxsLFxuICAgICAgICB1cGRhdGVkQXQ6IGRyYWZ0LnVwZGF0ZWRfYXQsXG4gICAgICB9LFxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGdldHRpbmcgZHJhZnQ6XCIsIGVycm9yKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJVbmtub3duIGVycm9yXCIgfTtcbiAgfVxufVxuXG4vKipcbiAqIERlbGV0ZSBhIGRyYWZ0XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVEcmFmdEFjdGlvbihkcmFmdElkOiBzdHJpbmcpOiBQcm9taXNlPHtcbiAgc3VjY2VzczogYm9vbGVhbjtcbiAgZXJyb3I/OiBzdHJpbmc7XG59PiB7XG4gIFwidXNlIHNlcnZlclwiO1xuXG4gIHRyeSB7XG4gICAgY29uc3QgeyBjcmVhdGVDbGllbnQgfSA9IGF3YWl0IGltcG9ydChcIkAvbGliL3N1cGFiYXNlL3NlcnZlclwiKTtcbiAgICBjb25zdCB7IGdldEFjdGl2ZUNvbXBhbnlJZCB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvYXV0aC9jb21wYW55LWNvbnRleHRcIik7XG5cbiAgICBjb25zdCBjb21wYW55SWQgPSBhd2FpdCBnZXRBY3RpdmVDb21wYW55SWQoKTtcbiAgICBpZiAoIWNvbXBhbnlJZCkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIGFjdGl2ZSBjb21wYW55IGZvdW5kXCIgfTtcbiAgICB9XG5cbiAgICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuICAgIGlmICghc3VwYWJhc2UpIHtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZFwiIH07XG4gICAgfVxuXG4gICAgLy8gSGFyZCBkZWxldGUgZHJhZnRzICh0aGV5IGRvbid0IG5lZWQgdG8gZ28gdG8gdHJhc2gpXG4gICAgY29uc3QgeyBlcnJvcjogZGVsZXRlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbShcImNvbW11bmljYXRpb25zXCIpXG4gICAgICAuZGVsZXRlKClcbiAgICAgIC5lcShcImlkXCIsIGRyYWZ0SWQpXG4gICAgICAuZXEoXCJjb21wYW55X2lkXCIsIGNvbXBhbnlJZClcbiAgICAgIC5lcShcInN0YXR1c1wiLCBcImRyYWZ0XCIpO1xuXG4gICAgaWYgKGRlbGV0ZUVycm9yKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGRlbGV0ZUVycm9yLm1lc3NhZ2UgfTtcbiAgICB9XG5cbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGRyYWZ0OlwiLCBlcnJvcik7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiVW5rbm93biBlcnJvclwiIH07XG4gIH1cbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gUkVUUlkgQUNUSU9OU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIFJldHJ5IHNlbmRpbmcgYSBmYWlsZWQgZW1haWxcbiAqIEZldGNoZXMgdGhlIGZhaWxlZCBlbWFpbCwgcmVzZXRzIGl0cyBzdGF0dXMsIGFuZCBhdHRlbXB0cyB0byByZXNlbmRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJldHJ5RmFpbGVkRW1haWxBY3Rpb24oZW1haWxJZDogc3RyaW5nKTogUHJvbWlzZTx7XG4gIHN1Y2Nlc3M6IGJvb2xlYW47XG4gIGVycm9yPzogc3RyaW5nO1xufT4ge1xuICBcInVzZSBzZXJ2ZXJcIjtcblxuICB0cnkge1xuICAgIGNvbnN0IHsgY3JlYXRlQ2xpZW50IH0gPSBhd2FpdCBpbXBvcnQoXCJAL2xpYi9zdXBhYmFzZS9zZXJ2ZXJcIik7XG4gICAgY29uc3QgeyBnZXRBY3RpdmVDb21wYW55SWQgfSA9IGF3YWl0IGltcG9ydChcIkAvbGliL2F1dGgvY29tcGFueS1jb250ZXh0XCIpO1xuICAgIGNvbnN0IHsgc2VuZEVtYWlsIH0gPSBhd2FpdCBpbXBvcnQoXCJAL2xpYi9lbWFpbC9lbWFpbC1zZW5kZXJcIik7XG4gICAgY29uc3QgeyBQbGFpblRleHRFbWFpbCB9ID0gYXdhaXQgaW1wb3J0KFwiQC9lbWFpbHMvcGxhaW4tdGV4dC1lbWFpbFwiKTtcblxuICAgIGNvbnN0IGNvbXBhbnlJZCA9IGF3YWl0IGdldEFjdGl2ZUNvbXBhbnlJZCgpO1xuICAgIGlmICghY29tcGFueUlkKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm8gYWN0aXZlIGNvbXBhbnkgZm91bmRcIiB9O1xuICAgIH1cblxuICAgIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG4gICAgaWYgKCFzdXBhYmFzZSkge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkXCIgfTtcbiAgICB9XG5cbiAgICAvLyBHZXQgdGhlIGZhaWxlZCBlbWFpbFxuICAgIGNvbnN0IHsgZGF0YTogZW1haWwsIGVycm9yOiBmZXRjaEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oXCJjb21tdW5pY2F0aW9uc1wiKVxuICAgICAgLnNlbGVjdChcIipcIilcbiAgICAgIC5lcShcImlkXCIsIGVtYWlsSWQpXG4gICAgICAuZXEoXCJjb21wYW55X2lkXCIsIGNvbXBhbnlJZClcbiAgICAgIC5lcShcInR5cGVcIiwgXCJlbWFpbFwiKVxuICAgICAgLmVxKFwic3RhdHVzXCIsIFwiZmFpbGVkXCIpXG4gICAgICAuc2luZ2xlKCk7XG5cbiAgICBpZiAoZmV0Y2hFcnJvcikge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBmZXRjaEVycm9yLm1lc3NhZ2UgfTtcbiAgICB9XG5cbiAgICBpZiAoIWVtYWlsKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRmFpbGVkIGVtYWlsIG5vdCBmb3VuZFwiIH07XG4gICAgfVxuXG4gICAgLy8gUmVzZXQgc3RhdHVzIHRvIHF1ZXVlZFxuICAgIGNvbnN0IHsgZXJyb3I6IHVwZGF0ZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oXCJjb21tdW5pY2F0aW9uc1wiKVxuICAgICAgLnVwZGF0ZSh7XG4gICAgICAgIHN0YXR1czogXCJxdWV1ZWRcIixcbiAgICAgICAgZmFpbHVyZV9yZWFzb246IG51bGwsXG4gICAgICB9KVxuICAgICAgLmVxKFwiaWRcIiwgZW1haWxJZClcbiAgICAgIC5lcShcImNvbXBhbnlfaWRcIiwgY29tcGFueUlkKTtcblxuICAgIGlmICh1cGRhdGVFcnJvcikge1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBgRmFpbGVkIHRvIHJlc2V0IGVtYWlsIHN0YXR1czogJHt1cGRhdGVFcnJvci5tZXNzYWdlfWAgfTtcbiAgICB9XG5cbiAgICAvLyBQYXJzZSByZWNpcGllbnRzXG4gICAgY29uc3QgcGFyc2VBZGRyZXNzZXMgPSAoYWRkcjogc3RyaW5nIHwgbnVsbCk6IHN0cmluZyB8IHN0cmluZ1tdID0+IHtcbiAgICAgIGlmICghYWRkcikgcmV0dXJuIFtdO1xuICAgICAgY29uc3QgYWRkcmVzc2VzID0gYWRkci5zcGxpdChcIixcIikubWFwKGEgPT4gYS50cmltKCkpLmZpbHRlcihCb29sZWFuKTtcbiAgICAgIHJldHVybiBhZGRyZXNzZXMubGVuZ3RoID09PSAxID8gYWRkcmVzc2VzWzBdIDogYWRkcmVzc2VzO1xuICAgIH07XG5cbiAgICBjb25zdCB0byA9IHBhcnNlQWRkcmVzc2VzKGVtYWlsLnRvX2FkZHJlc3MpO1xuICAgIGNvbnN0IGNjID0gcGFyc2VBZGRyZXNzZXMoZW1haWwuY2NfYWRkcmVzcyk7XG4gICAgY29uc3QgYmNjID0gcGFyc2VBZGRyZXNzZXMoZW1haWwuYmNjX2FkZHJlc3MpO1xuXG4gICAgLy8gR2V0IGF0dGFjaG1lbnRzIGZyb20gbWV0YWRhdGEgaWYgc3RvcmVkIChmb3Igc2NoZWR1bGVkIGVtYWlscylcbiAgICBjb25zdCBtZXRhZGF0YSA9IGVtYWlsLnByb3ZpZGVyX21ldGFkYXRhIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+IHwgbnVsbDtcbiAgICBjb25zdCBhdHRhY2htZW50cyA9IG1ldGFkYXRhPy5zY2hlZHVsZWRfYXR0YWNobWVudHMgYXMgQXJyYXk8e1xuICAgICAgZmlsZW5hbWU6IHN0cmluZztcbiAgICAgIGNvbnRlbnQ6IHN0cmluZztcbiAgICAgIGNvbnRlbnRUeXBlPzogc3RyaW5nO1xuICAgIH0+IHwgdW5kZWZpbmVkO1xuXG4gICAgLy8gQXR0ZW1wdCB0byByZXNlbmRcbiAgICBjb25zdCBzZW5kUmVzdWx0ID0gYXdhaXQgc2VuZEVtYWlsKHtcbiAgICAgIHRvLFxuICAgICAgc3ViamVjdDogZW1haWwuc3ViamVjdCB8fCBcIihObyBzdWJqZWN0KVwiLFxuICAgICAgdGVtcGxhdGU6IFBsYWluVGV4dEVtYWlsKHsgbWVzc2FnZTogZW1haWwuYm9keSB8fCBcIlwiIH0pLFxuICAgICAgdGVtcGxhdGVUeXBlOiBcImdlbmVyaWNcIiBhcyBhbnksXG4gICAgICBjb21wYW55SWQsXG4gICAgICBjb21tdW5pY2F0aW9uSWQ6IGVtYWlsSWQsXG4gICAgICBjYzogY2MubGVuZ3RoID4gMCA/IGNjIDogdW5kZWZpbmVkLFxuICAgICAgYmNjOiBiY2MubGVuZ3RoID4gMCA/IGJjYyA6IHVuZGVmaW5lZCxcbiAgICAgIGF0dGFjaG1lbnRzLFxuICAgIH0pO1xuXG4gICAgaWYgKCFzZW5kUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgIC8vIFVwZGF0ZSBzdGF0dXMgYmFjayB0byBmYWlsZWRcbiAgICAgIGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKFwiY29tbXVuaWNhdGlvbnNcIilcbiAgICAgICAgLnVwZGF0ZSh7XG4gICAgICAgICAgc3RhdHVzOiBcImZhaWxlZFwiLFxuICAgICAgICAgIGZhaWx1cmVfcmVhc29uOiBzZW5kUmVzdWx0LmVycm9yIHx8IFwiRW1haWwgc2VuZCBmYWlsZWQgb24gcmV0cnlcIixcbiAgICAgICAgfSlcbiAgICAgICAgLmVxKFwiaWRcIiwgZW1haWxJZClcbiAgICAgICAgLmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IHNlbmRSZXN1bHQuZXJyb3IgfHwgXCJGYWlsZWQgdG8gc2VuZCBlbWFpbCBvbiByZXRyeVwiLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgc3RhdHVzIHRvIHNlbnRcbiAgICBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oXCJjb21tdW5pY2F0aW9uc1wiKVxuICAgICAgLnVwZGF0ZSh7XG4gICAgICAgIHN0YXR1czogXCJzZW50XCIsXG4gICAgICAgIHNlbnRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgcHJvdmlkZXJfbWVzc2FnZV9pZDogc2VuZFJlc3VsdC5kYXRhPy5pZCB8fCBudWxsLFxuICAgICAgICBmYWlsdXJlX3JlYXNvbjogbnVsbCxcbiAgICAgIH0pXG4gICAgICAuZXEoXCJpZFwiLCBlbWFpbElkKVxuICAgICAgLmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpO1xuXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciByZXRyeWluZyBmYWlsZWQgZW1haWw6XCIsIGVycm9yKTtcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJVbmtub3duIGVycm9yXCIgfTtcbiAgfVxufSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoid1RBb01zQiJ9
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/components/ui/scroll-area.tsx [app-client] (ecmascript) <locals>", ((__turbopack_context__) => {
"use strict";

// Re-export from @stratos/ui package
__turbopack_context__.s([]);
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$index$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/packages/ui/src/index.ts [app-client] (ecmascript) <locals>");
;
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/components/ui/separator.tsx [app-client] (ecmascript) <locals>", ((__turbopack_context__) => {
"use strict";

// Re-export from @stratos/ui package
__turbopack_context__.s([]);
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$index$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/packages/ui/src/index.ts [app-client] (ecmascript) <locals>");
;
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:4dec81 [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"404d09adf2fb9f5cfb17315943fa77e053c340c75d":"getCompanyPendingActions"},"apps/web/src/actions/ai-approval.ts",""] */ __turbopack_context__.s([
    "getCompanyPendingActions",
    ()=>getCompanyPendingActions
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var getCompanyPendingActions = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("404d09adf2fb9f5cfb17315943fa77e053c340c75d", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "getCompanyPendingActions"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vYWktYXBwcm92YWwudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBSSBBY3Rpb24gQXBwcm92YWwgU2VydmVyIEFjdGlvbnNcbiAqXG4gKiBTZXJ2ZXIgYWN0aW9ucyBmb3Igb3duZXItb25seSBhcHByb3ZhbCBvZiBkZXN0cnVjdGl2ZSBBSSBhY3Rpb25zLlxuICogVGhlc2UgYWN0aW9ucyB3cmFwIHRoZSBhY3Rpb24tYXBwcm92YWwgc2VydmljZSBmb3IgdXNlIGluIFJlYWN0IGNvbXBvbmVudHMuXG4gKi9cblxuXCJ1c2Ugc2VydmVyXCI7XG5cbmltcG9ydCB7IHJldmFsaWRhdGVQYXRoIH0gZnJvbSBcIm5leHQvY2FjaGVcIjtcbmltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG5pbXBvcnQge1xuXHRBY3Rpb25FcnJvcixcblx0RVJST1JfQ09ERVMsXG59IGZyb20gXCJAL2xpYi9lcnJvcnMvYWN0aW9uLWVycm9yXCI7XG5pbXBvcnQge1xuXHR0eXBlIEFjdGlvblJlc3VsdCxcblx0YXNzZXJ0QXV0aGVudGljYXRlZCxcblx0d2l0aEVycm9ySGFuZGxpbmcsXG59IGZyb20gXCJAL2xpYi9lcnJvcnMvd2l0aC1lcnJvci1oYW5kbGluZ1wiO1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSBcIkAvbGliL3N1cGFiYXNlL3NlcnZlclwiO1xuaW1wb3J0IHtcblx0YXBwcm92ZUFjdGlvbixcblx0cmVqZWN0QWN0aW9uLFxuXHRnZXRQZW5kaW5nQWN0aW9uc0ZvckNvbXBhbnksXG5cdGdldFBlbmRpbmdBY3Rpb25zRm9yQ2hhdCxcblx0Z2V0UGVuZGluZ0FjdGlvbixcblx0aXNDb21wYW55T3duZXIsXG5cdGV4cGlyZU9sZEFjdGlvbnMsXG5cdHR5cGUgUGVuZGluZ0FjdGlvbixcbn0gZnJvbSBcIkAvbGliL2FpL2FjdGlvbi1hcHByb3ZhbFwiO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBUeXBlc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgdHlwZSB7IFBlbmRpbmdBY3Rpb24gfTtcblxuZXhwb3J0IGludGVyZmFjZSBBcHByb3ZhbEFjdGlvblJlc3VsdCB7XG5cdHN1Y2Nlc3M6IGJvb2xlYW47XG5cdGVycm9yPzogc3RyaW5nO1xuXHRhY3Rpb25JZD86IHN0cmluZztcblx0dG9vbE5hbWU/OiBzdHJpbmc7XG5cdHRvb2xBcmdzPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG5cdC8vIEV4ZWN1dGlvbiBmaWVsZHMgKGZvciBhcHByb3ZhbCByZXNwb25zZXMpXG5cdGV4ZWN1dGVkPzogYm9vbGVhbjtcblx0ZXhlY3V0aW9uUmVzdWx0PzogdW5rbm93bjtcblx0ZXhlY3V0aW9uRXJyb3I/OiBzdHJpbmc7XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFZhbGlkYXRpb24gU2NoZW1hc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5jb25zdCBhcHByb3ZlQWN0aW9uU2NoZW1hID0gei5vYmplY3Qoe1xuXHRhY3Rpb25JZDogei5zdHJpbmcoKS51dWlkKFwiSW52YWxpZCBhY3Rpb24gSURcIiksXG59KTtcblxuY29uc3QgcmVqZWN0QWN0aW9uU2NoZW1hID0gei5vYmplY3Qoe1xuXHRhY3Rpb25JZDogei5zdHJpbmcoKS51dWlkKFwiSW52YWxpZCBhY3Rpb24gSURcIiksXG5cdHJlYXNvbjogei5zdHJpbmcoKS5tYXgoNTAwLCBcIlJlYXNvbiB0b28gbG9uZ1wiKS5vcHRpb25hbCgpLFxufSk7XG5cbmNvbnN0IGdldFBlbmRpbmdBY3Rpb25zU2NoZW1hID0gei5vYmplY3Qoe1xuXHRzdGF0dXM6IHouZW51bShbXCJwZW5kaW5nXCIsIFwiYXBwcm92ZWRcIiwgXCJyZWplY3RlZFwiLCBcImV4cGlyZWRcIl0pLm9wdGlvbmFsKCksXG5cdGxpbWl0OiB6Lm51bWJlcigpLm1pbigxKS5tYXgoMTAwKS5kZWZhdWx0KDUwKSxcbn0pO1xuXG5jb25zdCBnZXRDaGF0QWN0aW9uc1NjaGVtYSA9IHoub2JqZWN0KHtcblx0Y2hhdElkOiB6LnN0cmluZygpLnV1aWQoXCJJbnZhbGlkIGNoYXQgSURcIiksXG59KTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gSGVscGVyIEZ1bmN0aW9uc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5hc3luYyBmdW5jdGlvbiBnZXRBdXRoZW50aWNhdGVkVXNlcldpdGhDb21wYW55KCkge1xuXHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XCJEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZFwiLFxuXHRcdFx0RVJST1JfQ09ERVMuREJfQ09OTkVDVElPTl9FUlJPUixcblx0XHQpO1xuXHR9XG5cblx0Y29uc3Qge1xuXHRcdGRhdGE6IHsgdXNlciB9LFxuXHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cdGFzc2VydEF1dGhlbnRpY2F0ZWQodXNlcj8uaWQpO1xuXG5cdGNvbnN0IHsgZGF0YTogdGVhbU1lbWJlciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHQuZnJvbShcImNvbXBhbnlfbWVtYmVyc2hpcHNcIilcblx0XHQuc2VsZWN0KFwiY29tcGFueV9pZCwgcm9sZVwiKVxuXHRcdC5lcShcInVzZXJfaWRcIiwgdXNlci5pZClcblx0XHQuc2luZ2xlKCk7XG5cblx0aWYgKCF0ZWFtTWVtYmVyPy5jb21wYW55X2lkKSB7XG5cdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XCJZb3UgbXVzdCBiZSBwYXJ0IG9mIGEgY29tcGFueVwiLFxuXHRcdFx0RVJST1JfQ09ERVMuQVVUSF9GT1JCSURERU4sXG5cdFx0XHQ0MDMsXG5cdFx0KTtcblx0fVxuXG5cdHJldHVybiB7XG5cdFx0dXNlcklkOiB1c2VyLmlkLFxuXHRcdGNvbXBhbnlJZDogdGVhbU1lbWJlci5jb21wYW55X2lkLFxuXHRcdHJvbGU6IHRlYW1NZW1iZXIucm9sZSxcblx0fTtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU2VydmVyIEFjdGlvbnNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBBcHByb3ZlIGEgcGVuZGluZyBBSSBhY3Rpb24gLSBPV05FUiBPTkxZXG4gKiBUaGlzIGFjdGlvbiB3aWxsIGJlIGV4ZWN1dGVkIGltbWVkaWF0ZWx5IGFmdGVyIGFwcHJvdmFsXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhcHByb3ZlQUlBY3Rpb24oXG5cdGlucHV0OiB6LmluZmVyPHR5cGVvZiBhcHByb3ZlQWN0aW9uU2NoZW1hPixcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PEFwcHJvdmFsQWN0aW9uUmVzdWx0Pj4ge1xuXHRyZXR1cm4gYXdhaXQgd2l0aEVycm9ySGFuZGxpbmcoYXN5bmMgKCkgPT4ge1xuXHRcdGNvbnN0IHZhbGlkYXRlZCA9IGFwcHJvdmVBY3Rpb25TY2hlbWEucGFyc2UoaW5wdXQpO1xuXHRcdGNvbnN0IHsgdXNlcklkLCBjb21wYW55SWQgfSA9IGF3YWl0IGdldEF1dGhlbnRpY2F0ZWRVc2VyV2l0aENvbXBhbnkoKTtcblxuXHRcdC8vIFZlcmlmeSB1c2VyIGlzIG93bmVyIChkb3VibGUtY2hlY2sgZXZlbiB0aG91Z2ggREIgZnVuY3Rpb24gZW5mb3JjZXMgdGhpcylcblx0XHRjb25zdCBvd25lckNoZWNrID0gYXdhaXQgaXNDb21wYW55T3duZXIoY29tcGFueUlkLCB1c2VySWQpO1xuXHRcdGlmICghb3duZXJDaGVjaykge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRcIk9ubHkgY29tcGFueSBvd25lcnMgY2FuIGFwcHJvdmUgZGVzdHJ1Y3RpdmUgQUkgYWN0aW9uc1wiLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5BVVRIX0ZPUkJJRERFTixcblx0XHRcdFx0NDAzLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyBDYWxsIHRoZSBhcHByb3ZhbCBmdW5jdGlvbiAod2hpY2ggY2FsbHMgdGhlIERCIFJQQylcblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBhcHByb3ZlQWN0aW9uKHZhbGlkYXRlZC5hY3Rpb25JZCwgdXNlcklkKTtcblxuXHRcdGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0cmVzdWx0LmVycm9yIHx8IFwiRmFpbGVkIHRvIGFwcHJvdmUgYWN0aW9uXCIsXG5cdFx0XHRcdEVSUk9SX0NPREVTLk9QRVJBVElPTl9GQUlMRUQsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdC8vIEF1dG9tYXRpY2FsbHkgZXhlY3V0ZSB0aGUgYXBwcm92ZWQgYWN0aW9uXG5cdFx0bGV0IGV4ZWN1dGlvblJlc3VsdDogeyBzdWNjZXNzOiBib29sZWFuOyByZXN1bHQ/OiB1bmtub3duOyBlcnJvcj86IHN0cmluZyB9IHwgbnVsbCA9IG51bGw7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG5cdFx0XHRcdGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQUF9VUkwgfHwgXCJodHRwOi8vbG9jYWxob3N0OjMwMDBcIn0vYXBpL2FpL2V4ZWN1dGUtYXBwcm92ZWRgLFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bWV0aG9kOiBcIlBPU1RcIixcblx0XHRcdFx0XHRoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG5cdFx0XHRcdFx0Ym9keTogSlNPTi5zdHJpbmdpZnkoe1xuXHRcdFx0XHRcdFx0YWN0aW9uSWQ6IHZhbGlkYXRlZC5hY3Rpb25JZCxcblx0XHRcdFx0XHRcdGNvbXBhbnlJZCxcblx0XHRcdFx0XHR9KSxcblx0XHRcdFx0fVxuXHRcdFx0KTtcblx0XHRcdGV4ZWN1dGlvblJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblx0XHR9IGNhdGNoIChleGVjRXJyb3IpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gYXV0by1leGVjdXRlIGFwcHJvdmVkIGFjdGlvbjpcIiwgZXhlY0Vycm9yKTtcblx0XHRcdC8vIERvbid0IGZhaWwgdGhlIGFwcHJvdmFsIC0gZXhlY3V0aW9uIGNhbiBiZSByZXRyaWVkXG5cdFx0fVxuXG5cdFx0Ly8gUmV2YWxpZGF0ZSBBSS1yZWxhdGVkIHBhdGhzXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL2FpXCIpO1xuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9zZXR0aW5ncy9haVwiKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0YWN0aW9uSWQ6IHJlc3VsdC5hY3Rpb25JZCxcblx0XHRcdHRvb2xOYW1lOiByZXN1bHQudG9vbE5hbWUsXG5cdFx0XHR0b29sQXJnczogcmVzdWx0LnRvb2xBcmdzLFxuXHRcdFx0ZXhlY3V0ZWQ6IGV4ZWN1dGlvblJlc3VsdD8uc3VjY2VzcyB8fCBmYWxzZSxcblx0XHRcdGV4ZWN1dGlvblJlc3VsdDogZXhlY3V0aW9uUmVzdWx0Py5yZXN1bHQsXG5cdFx0XHRleGVjdXRpb25FcnJvcjogZXhlY3V0aW9uUmVzdWx0Py5lcnJvcixcblx0XHR9O1xuXHR9KTtcbn1cblxuLyoqXG4gKiBSZWplY3QgYSBwZW5kaW5nIEFJIGFjdGlvbiAtIE9XTkVSIE9OTFlcbiAqIFRoZSBBSSB3aWxsIG5vdCBleGVjdXRlIHRoaXMgYWN0aW9uXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWplY3RBSUFjdGlvbihcblx0aW5wdXQ6IHouaW5mZXI8dHlwZW9mIHJlamVjdEFjdGlvblNjaGVtYT4sXG4pOiBQcm9taXNlPEFjdGlvblJlc3VsdDxBcHByb3ZhbEFjdGlvblJlc3VsdD4+IHtcblx0cmV0dXJuIGF3YWl0IHdpdGhFcnJvckhhbmRsaW5nKGFzeW5jICgpID0+IHtcblx0XHRjb25zdCB2YWxpZGF0ZWQgPSByZWplY3RBY3Rpb25TY2hlbWEucGFyc2UoaW5wdXQpO1xuXHRcdGNvbnN0IHsgdXNlcklkLCBjb21wYW55SWQgfSA9IGF3YWl0IGdldEF1dGhlbnRpY2F0ZWRVc2VyV2l0aENvbXBhbnkoKTtcblxuXHRcdC8vIFZlcmlmeSB1c2VyIGlzIG93bmVyXG5cdFx0Y29uc3Qgb3duZXJDaGVjayA9IGF3YWl0IGlzQ29tcGFueU93bmVyKGNvbXBhbnlJZCwgdXNlcklkKTtcblx0XHRpZiAoIW93bmVyQ2hlY2spIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0XCJPbmx5IGNvbXBhbnkgb3duZXJzIGNhbiByZWplY3QgZGVzdHJ1Y3RpdmUgQUkgYWN0aW9uc1wiLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5BVVRIX0ZPUkJJRERFTixcblx0XHRcdFx0NDAzLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyBDYWxsIHRoZSByZWplY3Rpb24gZnVuY3Rpb25cblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCByZWplY3RBY3Rpb24oXG5cdFx0XHR2YWxpZGF0ZWQuYWN0aW9uSWQsXG5cdFx0XHR1c2VySWQsXG5cdFx0XHR2YWxpZGF0ZWQucmVhc29uLFxuXHRcdCk7XG5cblx0XHRpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdHJlc3VsdC5lcnJvciB8fCBcIkZhaWxlZCB0byByZWplY3QgYWN0aW9uXCIsXG5cdFx0XHRcdEVSUk9SX0NPREVTLk9QRVJBVElPTl9GQUlMRUQsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdC8vIFJldmFsaWRhdGUgQUktcmVsYXRlZCBwYXRoc1xuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9haVwiKTtcblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvc2V0dGluZ3MvYWlcIik7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdGFjdGlvbklkOiB2YWxpZGF0ZWQuYWN0aW9uSWQsXG5cdFx0fTtcblx0fSk7XG59XG5cbi8qKlxuICogR2V0IGFsbCBwZW5kaW5nIGFjdGlvbnMgZm9yIHRoZSBjdXJyZW50IGNvbXBhbnlcbiAqIFVzZWQgYnkgdGhlIG93bmVyIGRhc2hib2FyZCB0byByZXZpZXcgcGVuZGluZyBhcHByb3ZhbHNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENvbXBhbnlQZW5kaW5nQWN0aW9ucyhcblx0aW5wdXQ/OiB6LmluZmVyPHR5cGVvZiBnZXRQZW5kaW5nQWN0aW9uc1NjaGVtYT4sXG4pOiBQcm9taXNlPEFjdGlvblJlc3VsdDxQZW5kaW5nQWN0aW9uW10+PiB7XG5cdHJldHVybiBhd2FpdCB3aXRoRXJyb3JIYW5kbGluZyhhc3luYyAoKSA9PiB7XG5cdFx0Y29uc3QgdmFsaWRhdGVkID0gaW5wdXQgPyBnZXRQZW5kaW5nQWN0aW9uc1NjaGVtYS5wYXJzZShpbnB1dCkgOiB7IGxpbWl0OiA1MCB9O1xuXHRcdGNvbnN0IHsgY29tcGFueUlkIH0gPSBhd2FpdCBnZXRBdXRoZW50aWNhdGVkVXNlcldpdGhDb21wYW55KCk7XG5cblx0XHQvLyBFeHBpcmUgb2xkIGFjdGlvbnMgZmlyc3Rcblx0XHRhd2FpdCBleHBpcmVPbGRBY3Rpb25zKGNvbXBhbnlJZCk7XG5cblx0XHQvLyBGZXRjaCBwZW5kaW5nIGFjdGlvbnNcblx0XHRjb25zdCBhY3Rpb25zID0gYXdhaXQgZ2V0UGVuZGluZ0FjdGlvbnNGb3JDb21wYW55KGNvbXBhbnlJZCwge1xuXHRcdFx0c3RhdHVzOiB2YWxpZGF0ZWQuc3RhdHVzLFxuXHRcdFx0bGltaXQ6IHZhbGlkYXRlZC5saW1pdCxcblx0XHR9KTtcblxuXHRcdHJldHVybiBhY3Rpb25zO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBHZXQgcGVuZGluZyBhY3Rpb25zIGZvciBhIHNwZWNpZmljIGNoYXQgc2Vzc2lvblxuICogVXNlZCB0byBzaG93IGFwcHJvdmFsIGJhbm5lcnMgaW4gdGhlIEFJIGNoYXRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENoYXRQZW5kaW5nQWN0aW9ucyhcblx0aW5wdXQ6IHouaW5mZXI8dHlwZW9mIGdldENoYXRBY3Rpb25zU2NoZW1hPixcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PFBlbmRpbmdBY3Rpb25bXT4+IHtcblx0cmV0dXJuIGF3YWl0IHdpdGhFcnJvckhhbmRsaW5nKGFzeW5jICgpID0+IHtcblx0XHRjb25zdCB2YWxpZGF0ZWQgPSBnZXRDaGF0QWN0aW9uc1NjaGVtYS5wYXJzZShpbnB1dCk7XG5cdFx0Y29uc3QgeyBjb21wYW55SWQgfSA9IGF3YWl0IGdldEF1dGhlbnRpY2F0ZWRVc2VyV2l0aENvbXBhbnkoKTtcblxuXHRcdC8vIEV4cGlyZSBvbGQgYWN0aW9ucyBmaXJzdFxuXHRcdGF3YWl0IGV4cGlyZU9sZEFjdGlvbnMoY29tcGFueUlkKTtcblxuXHRcdC8vIEZldGNoIHBlbmRpbmcgYWN0aW9ucyBmb3IgdGhlIGNoYXRcblx0XHRjb25zdCBhY3Rpb25zID0gYXdhaXQgZ2V0UGVuZGluZ0FjdGlvbnNGb3JDaGF0KGNvbXBhbnlJZCwgdmFsaWRhdGVkLmNoYXRJZCk7XG5cblx0XHRyZXR1cm4gYWN0aW9ucztcblx0fSk7XG59XG5cbi8qKlxuICogR2V0IGEgc3BlY2lmaWMgcGVuZGluZyBhY3Rpb24gYnkgSURcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFBlbmRpbmdBY3Rpb25CeUlkKFxuXHRhY3Rpb25JZDogc3RyaW5nLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8UGVuZGluZ0FjdGlvbiB8IG51bGw+PiB7XG5cdHJldHVybiBhd2FpdCB3aXRoRXJyb3JIYW5kbGluZyhhc3luYyAoKSA9PiB7XG5cdFx0Y29uc3QgdmFsaWRhdGVkID0gei5zdHJpbmcoKS51dWlkKFwiSW52YWxpZCBhY3Rpb24gSURcIikucGFyc2UoYWN0aW9uSWQpO1xuXHRcdGNvbnN0IHsgY29tcGFueUlkIH0gPSBhd2FpdCBnZXRBdXRoZW50aWNhdGVkVXNlcldpdGhDb21wYW55KCk7XG5cblx0XHRjb25zdCBhY3Rpb24gPSBhd2FpdCBnZXRQZW5kaW5nQWN0aW9uKGNvbXBhbnlJZCwgdmFsaWRhdGVkKTtcblx0XHRyZXR1cm4gYWN0aW9uO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiBjdXJyZW50IHVzZXIgaXMgYSBjb21wYW55IG93bmVyXG4gKiBVc2VkIGJ5IFVJIHRvIGRldGVybWluZSBpZiBhcHByb3ZhbCBidXR0b25zIHNob3VsZCBiZSBlbmFibGVkXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjaGVja0lzQ29tcGFueU93bmVyKCk6IFByb21pc2U8QWN0aW9uUmVzdWx0PGJvb2xlYW4+PiB7XG5cdHJldHVybiBhd2FpdCB3aXRoRXJyb3JIYW5kbGluZyhhc3luYyAoKSA9PiB7XG5cdFx0Y29uc3QgeyB1c2VySWQsIGNvbXBhbnlJZCB9ID0gYXdhaXQgZ2V0QXV0aGVudGljYXRlZFVzZXJXaXRoQ29tcGFueSgpO1xuXHRcdGNvbnN0IGlzT3duZXIgPSBhd2FpdCBpc0NvbXBhbnlPd25lcihjb21wYW55SWQsIHVzZXJJZCk7XG5cdFx0cmV0dXJuIGlzT3duZXI7XG5cdH0pO1xufVxuXG4vKipcbiAqIEdldCBwZW5kaW5nIGFjdGlvbiBjb3VudHMgZm9yIG5vdGlmaWNhdGlvbnNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFBlbmRpbmdBY3Rpb25Db3VudHMoKTogUHJvbWlzZTxcblx0QWN0aW9uUmVzdWx0PHtcblx0XHR0b3RhbDogbnVtYmVyO1xuXHRcdGJ5Umlza0xldmVsOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+O1xuXHR9PlxuPiB7XG5cdHJldHVybiBhd2FpdCB3aXRoRXJyb3JIYW5kbGluZyhhc3luYyAoKSA9PiB7XG5cdFx0Y29uc3QgeyBjb21wYW55SWQgfSA9IGF3YWl0IGdldEF1dGhlbnRpY2F0ZWRVc2VyV2l0aENvbXBhbnkoKTtcblxuXHRcdC8vIEV4cGlyZSBvbGQgYWN0aW9ucyBmaXJzdFxuXHRcdGF3YWl0IGV4cGlyZU9sZEFjdGlvbnMoY29tcGFueUlkKTtcblxuXHRcdC8vIEZldGNoIHBlbmRpbmcgYWN0aW9uc1xuXHRcdGNvbnN0IGFjdGlvbnMgPSBhd2FpdCBnZXRQZW5kaW5nQWN0aW9uc0ZvckNvbXBhbnkoY29tcGFueUlkLCB7XG5cdFx0XHRzdGF0dXM6IFwicGVuZGluZ1wiLFxuXHRcdFx0bGltaXQ6IDEwMCxcblx0XHR9KTtcblxuXHRcdC8vIEdyb3VwIGJ5IHJpc2sgbGV2ZWxcblx0XHRjb25zdCBieVJpc2tMZXZlbDogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHtcblx0XHRcdGxvdzogMCxcblx0XHRcdG1lZGl1bTogMCxcblx0XHRcdGhpZ2g6IDAsXG5cdFx0XHRjcml0aWNhbDogMCxcblx0XHR9O1xuXG5cdFx0Zm9yIChjb25zdCBhY3Rpb24gb2YgYWN0aW9ucykge1xuXHRcdFx0YnlSaXNrTGV2ZWxbYWN0aW9uLnJpc2tMZXZlbF0gPSAoYnlSaXNrTGV2ZWxbYWN0aW9uLnJpc2tMZXZlbF0gfHwgMCkgKyAxO1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHR0b3RhbDogYWN0aW9ucy5sZW5ndGgsXG5cdFx0XHRieVJpc2tMZXZlbCxcblx0XHR9O1xuXHR9KTtcbn1cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoicVRBd09zQiJ9
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:5a655b [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"00db090f1561cd2d77f6fcc5f3c799a97aa1a51daf":"checkIsCompanyOwner"},"apps/web/src/actions/ai-approval.ts",""] */ __turbopack_context__.s([
    "checkIsCompanyOwner",
    ()=>checkIsCompanyOwner
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var checkIsCompanyOwner = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("00db090f1561cd2d77f6fcc5f3c799a97aa1a51daf", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "checkIsCompanyOwner"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vYWktYXBwcm92YWwudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBSSBBY3Rpb24gQXBwcm92YWwgU2VydmVyIEFjdGlvbnNcbiAqXG4gKiBTZXJ2ZXIgYWN0aW9ucyBmb3Igb3duZXItb25seSBhcHByb3ZhbCBvZiBkZXN0cnVjdGl2ZSBBSSBhY3Rpb25zLlxuICogVGhlc2UgYWN0aW9ucyB3cmFwIHRoZSBhY3Rpb24tYXBwcm92YWwgc2VydmljZSBmb3IgdXNlIGluIFJlYWN0IGNvbXBvbmVudHMuXG4gKi9cblxuXCJ1c2Ugc2VydmVyXCI7XG5cbmltcG9ydCB7IHJldmFsaWRhdGVQYXRoIH0gZnJvbSBcIm5leHQvY2FjaGVcIjtcbmltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG5pbXBvcnQge1xuXHRBY3Rpb25FcnJvcixcblx0RVJST1JfQ09ERVMsXG59IGZyb20gXCJAL2xpYi9lcnJvcnMvYWN0aW9uLWVycm9yXCI7XG5pbXBvcnQge1xuXHR0eXBlIEFjdGlvblJlc3VsdCxcblx0YXNzZXJ0QXV0aGVudGljYXRlZCxcblx0d2l0aEVycm9ySGFuZGxpbmcsXG59IGZyb20gXCJAL2xpYi9lcnJvcnMvd2l0aC1lcnJvci1oYW5kbGluZ1wiO1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSBcIkAvbGliL3N1cGFiYXNlL3NlcnZlclwiO1xuaW1wb3J0IHtcblx0YXBwcm92ZUFjdGlvbixcblx0cmVqZWN0QWN0aW9uLFxuXHRnZXRQZW5kaW5nQWN0aW9uc0ZvckNvbXBhbnksXG5cdGdldFBlbmRpbmdBY3Rpb25zRm9yQ2hhdCxcblx0Z2V0UGVuZGluZ0FjdGlvbixcblx0aXNDb21wYW55T3duZXIsXG5cdGV4cGlyZU9sZEFjdGlvbnMsXG5cdHR5cGUgUGVuZGluZ0FjdGlvbixcbn0gZnJvbSBcIkAvbGliL2FpL2FjdGlvbi1hcHByb3ZhbFwiO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBUeXBlc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgdHlwZSB7IFBlbmRpbmdBY3Rpb24gfTtcblxuZXhwb3J0IGludGVyZmFjZSBBcHByb3ZhbEFjdGlvblJlc3VsdCB7XG5cdHN1Y2Nlc3M6IGJvb2xlYW47XG5cdGVycm9yPzogc3RyaW5nO1xuXHRhY3Rpb25JZD86IHN0cmluZztcblx0dG9vbE5hbWU/OiBzdHJpbmc7XG5cdHRvb2xBcmdzPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG5cdC8vIEV4ZWN1dGlvbiBmaWVsZHMgKGZvciBhcHByb3ZhbCByZXNwb25zZXMpXG5cdGV4ZWN1dGVkPzogYm9vbGVhbjtcblx0ZXhlY3V0aW9uUmVzdWx0PzogdW5rbm93bjtcblx0ZXhlY3V0aW9uRXJyb3I/OiBzdHJpbmc7XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFZhbGlkYXRpb24gU2NoZW1hc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5jb25zdCBhcHByb3ZlQWN0aW9uU2NoZW1hID0gei5vYmplY3Qoe1xuXHRhY3Rpb25JZDogei5zdHJpbmcoKS51dWlkKFwiSW52YWxpZCBhY3Rpb24gSURcIiksXG59KTtcblxuY29uc3QgcmVqZWN0QWN0aW9uU2NoZW1hID0gei5vYmplY3Qoe1xuXHRhY3Rpb25JZDogei5zdHJpbmcoKS51dWlkKFwiSW52YWxpZCBhY3Rpb24gSURcIiksXG5cdHJlYXNvbjogei5zdHJpbmcoKS5tYXgoNTAwLCBcIlJlYXNvbiB0b28gbG9uZ1wiKS5vcHRpb25hbCgpLFxufSk7XG5cbmNvbnN0IGdldFBlbmRpbmdBY3Rpb25zU2NoZW1hID0gei5vYmplY3Qoe1xuXHRzdGF0dXM6IHouZW51bShbXCJwZW5kaW5nXCIsIFwiYXBwcm92ZWRcIiwgXCJyZWplY3RlZFwiLCBcImV4cGlyZWRcIl0pLm9wdGlvbmFsKCksXG5cdGxpbWl0OiB6Lm51bWJlcigpLm1pbigxKS5tYXgoMTAwKS5kZWZhdWx0KDUwKSxcbn0pO1xuXG5jb25zdCBnZXRDaGF0QWN0aW9uc1NjaGVtYSA9IHoub2JqZWN0KHtcblx0Y2hhdElkOiB6LnN0cmluZygpLnV1aWQoXCJJbnZhbGlkIGNoYXQgSURcIiksXG59KTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gSGVscGVyIEZ1bmN0aW9uc1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5hc3luYyBmdW5jdGlvbiBnZXRBdXRoZW50aWNhdGVkVXNlcldpdGhDb21wYW55KCkge1xuXHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XCJEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZFwiLFxuXHRcdFx0RVJST1JfQ09ERVMuREJfQ09OTkVDVElPTl9FUlJPUixcblx0XHQpO1xuXHR9XG5cblx0Y29uc3Qge1xuXHRcdGRhdGE6IHsgdXNlciB9LFxuXHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cdGFzc2VydEF1dGhlbnRpY2F0ZWQodXNlcj8uaWQpO1xuXG5cdGNvbnN0IHsgZGF0YTogdGVhbU1lbWJlciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHQuZnJvbShcImNvbXBhbnlfbWVtYmVyc2hpcHNcIilcblx0XHQuc2VsZWN0KFwiY29tcGFueV9pZCwgcm9sZVwiKVxuXHRcdC5lcShcInVzZXJfaWRcIiwgdXNlci5pZClcblx0XHQuc2luZ2xlKCk7XG5cblx0aWYgKCF0ZWFtTWVtYmVyPy5jb21wYW55X2lkKSB7XG5cdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XCJZb3UgbXVzdCBiZSBwYXJ0IG9mIGEgY29tcGFueVwiLFxuXHRcdFx0RVJST1JfQ09ERVMuQVVUSF9GT1JCSURERU4sXG5cdFx0XHQ0MDMsXG5cdFx0KTtcblx0fVxuXG5cdHJldHVybiB7XG5cdFx0dXNlcklkOiB1c2VyLmlkLFxuXHRcdGNvbXBhbnlJZDogdGVhbU1lbWJlci5jb21wYW55X2lkLFxuXHRcdHJvbGU6IHRlYW1NZW1iZXIucm9sZSxcblx0fTtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU2VydmVyIEFjdGlvbnNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBBcHByb3ZlIGEgcGVuZGluZyBBSSBhY3Rpb24gLSBPV05FUiBPTkxZXG4gKiBUaGlzIGFjdGlvbiB3aWxsIGJlIGV4ZWN1dGVkIGltbWVkaWF0ZWx5IGFmdGVyIGFwcHJvdmFsXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhcHByb3ZlQUlBY3Rpb24oXG5cdGlucHV0OiB6LmluZmVyPHR5cGVvZiBhcHByb3ZlQWN0aW9uU2NoZW1hPixcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PEFwcHJvdmFsQWN0aW9uUmVzdWx0Pj4ge1xuXHRyZXR1cm4gYXdhaXQgd2l0aEVycm9ySGFuZGxpbmcoYXN5bmMgKCkgPT4ge1xuXHRcdGNvbnN0IHZhbGlkYXRlZCA9IGFwcHJvdmVBY3Rpb25TY2hlbWEucGFyc2UoaW5wdXQpO1xuXHRcdGNvbnN0IHsgdXNlcklkLCBjb21wYW55SWQgfSA9IGF3YWl0IGdldEF1dGhlbnRpY2F0ZWRVc2VyV2l0aENvbXBhbnkoKTtcblxuXHRcdC8vIFZlcmlmeSB1c2VyIGlzIG93bmVyIChkb3VibGUtY2hlY2sgZXZlbiB0aG91Z2ggREIgZnVuY3Rpb24gZW5mb3JjZXMgdGhpcylcblx0XHRjb25zdCBvd25lckNoZWNrID0gYXdhaXQgaXNDb21wYW55T3duZXIoY29tcGFueUlkLCB1c2VySWQpO1xuXHRcdGlmICghb3duZXJDaGVjaykge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRcIk9ubHkgY29tcGFueSBvd25lcnMgY2FuIGFwcHJvdmUgZGVzdHJ1Y3RpdmUgQUkgYWN0aW9uc1wiLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5BVVRIX0ZPUkJJRERFTixcblx0XHRcdFx0NDAzLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyBDYWxsIHRoZSBhcHByb3ZhbCBmdW5jdGlvbiAod2hpY2ggY2FsbHMgdGhlIERCIFJQQylcblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBhcHByb3ZlQWN0aW9uKHZhbGlkYXRlZC5hY3Rpb25JZCwgdXNlcklkKTtcblxuXHRcdGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0cmVzdWx0LmVycm9yIHx8IFwiRmFpbGVkIHRvIGFwcHJvdmUgYWN0aW9uXCIsXG5cdFx0XHRcdEVSUk9SX0NPREVTLk9QRVJBVElPTl9GQUlMRUQsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdC8vIEF1dG9tYXRpY2FsbHkgZXhlY3V0ZSB0aGUgYXBwcm92ZWQgYWN0aW9uXG5cdFx0bGV0IGV4ZWN1dGlvblJlc3VsdDogeyBzdWNjZXNzOiBib29sZWFuOyByZXN1bHQ/OiB1bmtub3duOyBlcnJvcj86IHN0cmluZyB9IHwgbnVsbCA9IG51bGw7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG5cdFx0XHRcdGAke3Byb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQUF9VUkwgfHwgXCJodHRwOi8vbG9jYWxob3N0OjMwMDBcIn0vYXBpL2FpL2V4ZWN1dGUtYXBwcm92ZWRgLFxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0bWV0aG9kOiBcIlBPU1RcIixcblx0XHRcdFx0XHRoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sXG5cdFx0XHRcdFx0Ym9keTogSlNPTi5zdHJpbmdpZnkoe1xuXHRcdFx0XHRcdFx0YWN0aW9uSWQ6IHZhbGlkYXRlZC5hY3Rpb25JZCxcblx0XHRcdFx0XHRcdGNvbXBhbnlJZCxcblx0XHRcdFx0XHR9KSxcblx0XHRcdFx0fVxuXHRcdFx0KTtcblx0XHRcdGV4ZWN1dGlvblJlc3VsdCA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblx0XHR9IGNhdGNoIChleGVjRXJyb3IpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gYXV0by1leGVjdXRlIGFwcHJvdmVkIGFjdGlvbjpcIiwgZXhlY0Vycm9yKTtcblx0XHRcdC8vIERvbid0IGZhaWwgdGhlIGFwcHJvdmFsIC0gZXhlY3V0aW9uIGNhbiBiZSByZXRyaWVkXG5cdFx0fVxuXG5cdFx0Ly8gUmV2YWxpZGF0ZSBBSS1yZWxhdGVkIHBhdGhzXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL2FpXCIpO1xuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9zZXR0aW5ncy9haVwiKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0YWN0aW9uSWQ6IHJlc3VsdC5hY3Rpb25JZCxcblx0XHRcdHRvb2xOYW1lOiByZXN1bHQudG9vbE5hbWUsXG5cdFx0XHR0b29sQXJnczogcmVzdWx0LnRvb2xBcmdzLFxuXHRcdFx0ZXhlY3V0ZWQ6IGV4ZWN1dGlvblJlc3VsdD8uc3VjY2VzcyB8fCBmYWxzZSxcblx0XHRcdGV4ZWN1dGlvblJlc3VsdDogZXhlY3V0aW9uUmVzdWx0Py5yZXN1bHQsXG5cdFx0XHRleGVjdXRpb25FcnJvcjogZXhlY3V0aW9uUmVzdWx0Py5lcnJvcixcblx0XHR9O1xuXHR9KTtcbn1cblxuLyoqXG4gKiBSZWplY3QgYSBwZW5kaW5nIEFJIGFjdGlvbiAtIE9XTkVSIE9OTFlcbiAqIFRoZSBBSSB3aWxsIG5vdCBleGVjdXRlIHRoaXMgYWN0aW9uXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiByZWplY3RBSUFjdGlvbihcblx0aW5wdXQ6IHouaW5mZXI8dHlwZW9mIHJlamVjdEFjdGlvblNjaGVtYT4sXG4pOiBQcm9taXNlPEFjdGlvblJlc3VsdDxBcHByb3ZhbEFjdGlvblJlc3VsdD4+IHtcblx0cmV0dXJuIGF3YWl0IHdpdGhFcnJvckhhbmRsaW5nKGFzeW5jICgpID0+IHtcblx0XHRjb25zdCB2YWxpZGF0ZWQgPSByZWplY3RBY3Rpb25TY2hlbWEucGFyc2UoaW5wdXQpO1xuXHRcdGNvbnN0IHsgdXNlcklkLCBjb21wYW55SWQgfSA9IGF3YWl0IGdldEF1dGhlbnRpY2F0ZWRVc2VyV2l0aENvbXBhbnkoKTtcblxuXHRcdC8vIFZlcmlmeSB1c2VyIGlzIG93bmVyXG5cdFx0Y29uc3Qgb3duZXJDaGVjayA9IGF3YWl0IGlzQ29tcGFueU93bmVyKGNvbXBhbnlJZCwgdXNlcklkKTtcblx0XHRpZiAoIW93bmVyQ2hlY2spIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0XCJPbmx5IGNvbXBhbnkgb3duZXJzIGNhbiByZWplY3QgZGVzdHJ1Y3RpdmUgQUkgYWN0aW9uc1wiLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5BVVRIX0ZPUkJJRERFTixcblx0XHRcdFx0NDAzLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyBDYWxsIHRoZSByZWplY3Rpb24gZnVuY3Rpb25cblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCByZWplY3RBY3Rpb24oXG5cdFx0XHR2YWxpZGF0ZWQuYWN0aW9uSWQsXG5cdFx0XHR1c2VySWQsXG5cdFx0XHR2YWxpZGF0ZWQucmVhc29uLFxuXHRcdCk7XG5cblx0XHRpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdHJlc3VsdC5lcnJvciB8fCBcIkZhaWxlZCB0byByZWplY3QgYWN0aW9uXCIsXG5cdFx0XHRcdEVSUk9SX0NPREVTLk9QRVJBVElPTl9GQUlMRUQsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdC8vIFJldmFsaWRhdGUgQUktcmVsYXRlZCBwYXRoc1xuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9haVwiKTtcblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvc2V0dGluZ3MvYWlcIik7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogdHJ1ZSxcblx0XHRcdGFjdGlvbklkOiB2YWxpZGF0ZWQuYWN0aW9uSWQsXG5cdFx0fTtcblx0fSk7XG59XG5cbi8qKlxuICogR2V0IGFsbCBwZW5kaW5nIGFjdGlvbnMgZm9yIHRoZSBjdXJyZW50IGNvbXBhbnlcbiAqIFVzZWQgYnkgdGhlIG93bmVyIGRhc2hib2FyZCB0byByZXZpZXcgcGVuZGluZyBhcHByb3ZhbHNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENvbXBhbnlQZW5kaW5nQWN0aW9ucyhcblx0aW5wdXQ/OiB6LmluZmVyPHR5cGVvZiBnZXRQZW5kaW5nQWN0aW9uc1NjaGVtYT4sXG4pOiBQcm9taXNlPEFjdGlvblJlc3VsdDxQZW5kaW5nQWN0aW9uW10+PiB7XG5cdHJldHVybiBhd2FpdCB3aXRoRXJyb3JIYW5kbGluZyhhc3luYyAoKSA9PiB7XG5cdFx0Y29uc3QgdmFsaWRhdGVkID0gaW5wdXQgPyBnZXRQZW5kaW5nQWN0aW9uc1NjaGVtYS5wYXJzZShpbnB1dCkgOiB7IGxpbWl0OiA1MCB9O1xuXHRcdGNvbnN0IHsgY29tcGFueUlkIH0gPSBhd2FpdCBnZXRBdXRoZW50aWNhdGVkVXNlcldpdGhDb21wYW55KCk7XG5cblx0XHQvLyBFeHBpcmUgb2xkIGFjdGlvbnMgZmlyc3Rcblx0XHRhd2FpdCBleHBpcmVPbGRBY3Rpb25zKGNvbXBhbnlJZCk7XG5cblx0XHQvLyBGZXRjaCBwZW5kaW5nIGFjdGlvbnNcblx0XHRjb25zdCBhY3Rpb25zID0gYXdhaXQgZ2V0UGVuZGluZ0FjdGlvbnNGb3JDb21wYW55KGNvbXBhbnlJZCwge1xuXHRcdFx0c3RhdHVzOiB2YWxpZGF0ZWQuc3RhdHVzLFxuXHRcdFx0bGltaXQ6IHZhbGlkYXRlZC5saW1pdCxcblx0XHR9KTtcblxuXHRcdHJldHVybiBhY3Rpb25zO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBHZXQgcGVuZGluZyBhY3Rpb25zIGZvciBhIHNwZWNpZmljIGNoYXQgc2Vzc2lvblxuICogVXNlZCB0byBzaG93IGFwcHJvdmFsIGJhbm5lcnMgaW4gdGhlIEFJIGNoYXRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENoYXRQZW5kaW5nQWN0aW9ucyhcblx0aW5wdXQ6IHouaW5mZXI8dHlwZW9mIGdldENoYXRBY3Rpb25zU2NoZW1hPixcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PFBlbmRpbmdBY3Rpb25bXT4+IHtcblx0cmV0dXJuIGF3YWl0IHdpdGhFcnJvckhhbmRsaW5nKGFzeW5jICgpID0+IHtcblx0XHRjb25zdCB2YWxpZGF0ZWQgPSBnZXRDaGF0QWN0aW9uc1NjaGVtYS5wYXJzZShpbnB1dCk7XG5cdFx0Y29uc3QgeyBjb21wYW55SWQgfSA9IGF3YWl0IGdldEF1dGhlbnRpY2F0ZWRVc2VyV2l0aENvbXBhbnkoKTtcblxuXHRcdC8vIEV4cGlyZSBvbGQgYWN0aW9ucyBmaXJzdFxuXHRcdGF3YWl0IGV4cGlyZU9sZEFjdGlvbnMoY29tcGFueUlkKTtcblxuXHRcdC8vIEZldGNoIHBlbmRpbmcgYWN0aW9ucyBmb3IgdGhlIGNoYXRcblx0XHRjb25zdCBhY3Rpb25zID0gYXdhaXQgZ2V0UGVuZGluZ0FjdGlvbnNGb3JDaGF0KGNvbXBhbnlJZCwgdmFsaWRhdGVkLmNoYXRJZCk7XG5cblx0XHRyZXR1cm4gYWN0aW9ucztcblx0fSk7XG59XG5cbi8qKlxuICogR2V0IGEgc3BlY2lmaWMgcGVuZGluZyBhY3Rpb24gYnkgSURcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFBlbmRpbmdBY3Rpb25CeUlkKFxuXHRhY3Rpb25JZDogc3RyaW5nLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8UGVuZGluZ0FjdGlvbiB8IG51bGw+PiB7XG5cdHJldHVybiBhd2FpdCB3aXRoRXJyb3JIYW5kbGluZyhhc3luYyAoKSA9PiB7XG5cdFx0Y29uc3QgdmFsaWRhdGVkID0gei5zdHJpbmcoKS51dWlkKFwiSW52YWxpZCBhY3Rpb24gSURcIikucGFyc2UoYWN0aW9uSWQpO1xuXHRcdGNvbnN0IHsgY29tcGFueUlkIH0gPSBhd2FpdCBnZXRBdXRoZW50aWNhdGVkVXNlcldpdGhDb21wYW55KCk7XG5cblx0XHRjb25zdCBhY3Rpb24gPSBhd2FpdCBnZXRQZW5kaW5nQWN0aW9uKGNvbXBhbnlJZCwgdmFsaWRhdGVkKTtcblx0XHRyZXR1cm4gYWN0aW9uO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiBjdXJyZW50IHVzZXIgaXMgYSBjb21wYW55IG93bmVyXG4gKiBVc2VkIGJ5IFVJIHRvIGRldGVybWluZSBpZiBhcHByb3ZhbCBidXR0b25zIHNob3VsZCBiZSBlbmFibGVkXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjaGVja0lzQ29tcGFueU93bmVyKCk6IFByb21pc2U8QWN0aW9uUmVzdWx0PGJvb2xlYW4+PiB7XG5cdHJldHVybiBhd2FpdCB3aXRoRXJyb3JIYW5kbGluZyhhc3luYyAoKSA9PiB7XG5cdFx0Y29uc3QgeyB1c2VySWQsIGNvbXBhbnlJZCB9ID0gYXdhaXQgZ2V0QXV0aGVudGljYXRlZFVzZXJXaXRoQ29tcGFueSgpO1xuXHRcdGNvbnN0IGlzT3duZXIgPSBhd2FpdCBpc0NvbXBhbnlPd25lcihjb21wYW55SWQsIHVzZXJJZCk7XG5cdFx0cmV0dXJuIGlzT3duZXI7XG5cdH0pO1xufVxuXG4vKipcbiAqIEdldCBwZW5kaW5nIGFjdGlvbiBjb3VudHMgZm9yIG5vdGlmaWNhdGlvbnNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFBlbmRpbmdBY3Rpb25Db3VudHMoKTogUHJvbWlzZTxcblx0QWN0aW9uUmVzdWx0PHtcblx0XHR0b3RhbDogbnVtYmVyO1xuXHRcdGJ5Umlza0xldmVsOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+O1xuXHR9PlxuPiB7XG5cdHJldHVybiBhd2FpdCB3aXRoRXJyb3JIYW5kbGluZyhhc3luYyAoKSA9PiB7XG5cdFx0Y29uc3QgeyBjb21wYW55SWQgfSA9IGF3YWl0IGdldEF1dGhlbnRpY2F0ZWRVc2VyV2l0aENvbXBhbnkoKTtcblxuXHRcdC8vIEV4cGlyZSBvbGQgYWN0aW9ucyBmaXJzdFxuXHRcdGF3YWl0IGV4cGlyZU9sZEFjdGlvbnMoY29tcGFueUlkKTtcblxuXHRcdC8vIEZldGNoIHBlbmRpbmcgYWN0aW9uc1xuXHRcdGNvbnN0IGFjdGlvbnMgPSBhd2FpdCBnZXRQZW5kaW5nQWN0aW9uc0ZvckNvbXBhbnkoY29tcGFueUlkLCB7XG5cdFx0XHRzdGF0dXM6IFwicGVuZGluZ1wiLFxuXHRcdFx0bGltaXQ6IDEwMCxcblx0XHR9KTtcblxuXHRcdC8vIEdyb3VwIGJ5IHJpc2sgbGV2ZWxcblx0XHRjb25zdCBieVJpc2tMZXZlbDogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHtcblx0XHRcdGxvdzogMCxcblx0XHRcdG1lZGl1bTogMCxcblx0XHRcdGhpZ2g6IDAsXG5cdFx0XHRjcml0aWNhbDogMCxcblx0XHR9O1xuXG5cdFx0Zm9yIChjb25zdCBhY3Rpb24gb2YgYWN0aW9ucykge1xuXHRcdFx0YnlSaXNrTGV2ZWxbYWN0aW9uLnJpc2tMZXZlbF0gPSAoYnlSaXNrTGV2ZWxbYWN0aW9uLnJpc2tMZXZlbF0gfHwgMCkgKyAxO1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHR0b3RhbDogYWN0aW9ucy5sZW5ndGgsXG5cdFx0XHRieVJpc2tMZXZlbCxcblx0XHR9O1xuXHR9KTtcbn1cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiZ1RBb1NzQiJ9
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/components/ai/pending-actions-indicator.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "PendingActionsBadge",
    ()=>PendingActionsBadge,
    "PendingActionsIndicator",
    ()=>PendingActionsIndicator
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ui$2f$badge$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/web/src/components/ui/badge.tsx [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$badge$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/src/badge.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/web/src/components/ui/button.tsx [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/src/button.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ui$2f$popover$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/web/src/components/ui/popover.tsx [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$popover$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/src/popover.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ui$2f$scroll$2d$area$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/web/src/components/ui/scroll-area.tsx [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$scroll$2d$area$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/src/scroll-area.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ui$2f$separator$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/web/src/components/ui/separator.tsx [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$separator$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/src/separator.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$shield$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Shield$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/shield.js [app-client] (ecmascript) <export default as Shield>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$triangle$2d$alert$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__AlertTriangle$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/triangle-alert.js [app-client] (ecmascript) <export default as AlertTriangle>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$clock$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Clock$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/clock.js [app-client] (ecmascript) <export default as Clock>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$mail$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Mail$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/mail.js [app-client] (ecmascript) <export default as Mail>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$dollar$2d$sign$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__DollarSign$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/dollar-sign.js [app-client] (ecmascript) <export default as DollarSign>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$calendar$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Calendar$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/calendar.js [app-client] (ecmascript) <export default as Calendar>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$user$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__User$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/user.js [app-client] (ecmascript) <export default as User>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/src/lib/utils.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$4dec81__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/apps/web/src/actions/data:4dec81 [app-client] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$5a655b__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/apps/web/src/actions/data:5a655b [app-client] (ecmascript) <text/javascript>");
;
var _s = __turbopack_context__.k.signature(), _s1 = __turbopack_context__.k.signature();
"use client";
;
;
;
;
;
;
;
;
;
const riskLevelColors = {
    low: "bg-blue-500",
    medium: "bg-yellow-500",
    high: "bg-orange-500",
    critical: "bg-red-500"
};
const actionTypeIcons = {
    send_communication: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$mail$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Mail$3e$__["Mail"],
    financial: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$dollar$2d$sign$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__DollarSign$3e$__["DollarSign"],
    scheduling: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$calendar$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Calendar$3e$__["Calendar"],
    customer: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$user$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__User$3e$__["User"]
};
function getActionIcon(actionType) {
    return actionTypeIcons[actionType] || __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$triangle$2d$alert$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__AlertTriangle$3e$__["AlertTriangle"];
}
function formatTimeRemaining(expiresAt) {
    const now = new Date();
    const expires = new Date(expiresAt);
    const diff = expires.getTime() - now.getTime();
    if (diff <= 0) return "Expired";
    const hours = Math.floor(diff / (1000 * 60 * 60));
    const minutes = Math.floor(diff % (1000 * 60 * 60) / (1000 * 60));
    if (hours > 0) return `${hours}h ${minutes}m`;
    return `${minutes}m`;
}
function PendingActionsIndicator({ className, showPopover = true, onActionClick }) {
    _s();
    const [pendingActions, setPendingActions] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])([]);
    const [isOwner, setIsOwner] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    const [isLoading, setIsLoading] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(true);
    // Fetch pending actions
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "PendingActionsIndicator.useEffect": ()=>{
            const fetchData = {
                "PendingActionsIndicator.useEffect.fetchData": async ()=>{
                    setIsLoading(true);
                    try {
                        const [ownerResult, actionsResult] = await Promise.all([
                            (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$5a655b__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["checkIsCompanyOwner"])(),
                            (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$4dec81__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["getCompanyPendingActions"])({
                                status: "pending",
                                limit: 10
                            })
                        ]);
                        if (ownerResult.success && ownerResult.data) {
                            setIsOwner(ownerResult.data);
                        }
                        if (actionsResult.success && actionsResult.data) {
                            setPendingActions(actionsResult.data);
                        }
                    } catch (error) {
                        console.error("Failed to fetch pending actions:", error);
                    } finally{
                        setIsLoading(false);
                    }
                }
            }["PendingActionsIndicator.useEffect.fetchData"];
            fetchData();
            // Poll every 30 seconds
            const interval = setInterval(fetchData, 30000);
            return ({
                "PendingActionsIndicator.useEffect": ()=>clearInterval(interval)
            })["PendingActionsIndicator.useEffect"];
        }
    }["PendingActionsIndicator.useEffect"], []);
    // Don't show if not owner or no pending actions
    if (!isOwner || pendingActions.length === 0) {
        return null;
    }
    const criticalCount = pendingActions.filter((a)=>a.riskLevel === "critical").length;
    const highCount = pendingActions.filter((a)=>a.riskLevel === "high").length;
    const indicatorContent = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("relative inline-flex", className),
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Button"], {
            variant: "ghost",
            size: "icon",
            className: "relative h-9 w-9",
            children: [
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$shield$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Shield$3e$__["Shield"], {
                    className: "h-5 w-5"
                }, void 0, false, {
                    fileName: "[project]/apps/web/src/components/ai/pending-actions-indicator.tsx",
                    lineNumber: 123,
                    columnNumber: 5
                }, this),
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                    className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("absolute -top-1 -right-1 flex h-5 w-5 items-center justify-center rounded-full text-[10px] font-bold text-white", criticalCount > 0 ? "bg-red-500" : highCount > 0 ? "bg-orange-500" : "bg-yellow-500"),
                    children: pendingActions.length
                }, void 0, false, {
                    fileName: "[project]/apps/web/src/components/ai/pending-actions-indicator.tsx",
                    lineNumber: 124,
                    columnNumber: 5
                }, this)
            ]
        }, void 0, true, {
            fileName: "[project]/apps/web/src/components/ai/pending-actions-indicator.tsx",
            lineNumber: 118,
            columnNumber: 4
        }, this)
    }, void 0, false, {
        fileName: "[project]/apps/web/src/components/ai/pending-actions-indicator.tsx",
        lineNumber: 117,
        columnNumber: 3
    }, this);
    if (!showPopover) {
        return indicatorContent;
    }
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$popover$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Popover"], {
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$popover$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PopoverTrigger"], {
                asChild: true,
                children: indicatorContent
            }, void 0, false, {
                fileName: "[project]/apps/web/src/components/ai/pending-actions-indicator.tsx",
                lineNumber: 146,
                columnNumber: 4
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$popover$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PopoverContent"], {
                className: "w-80 p-0",
                align: "end",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "flex items-center justify-between p-3 border-b",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "flex items-center gap-2",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$shield$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Shield$3e$__["Shield"], {
                                        className: "h-4 w-4 text-primary"
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/ai/pending-actions-indicator.tsx",
                                        lineNumber: 150,
                                        columnNumber: 7
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        className: "font-semibold text-sm",
                                        children: "Pending Approvals"
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/ai/pending-actions-indicator.tsx",
                                        lineNumber: 151,
                                        columnNumber: 7
                                    }, this)
                                ]
                            }, void 0, true, {
                                fileName: "[project]/apps/web/src/components/ai/pending-actions-indicator.tsx",
                                lineNumber: 149,
                                columnNumber: 6
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$badge$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Badge"], {
                                variant: "secondary",
                                children: pendingActions.length
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/ai/pending-actions-indicator.tsx",
                                lineNumber: 153,
                                columnNumber: 6
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/src/components/ai/pending-actions-indicator.tsx",
                        lineNumber: 148,
                        columnNumber: 5
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$scroll$2d$area$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["ScrollArea"], {
                        className: "max-h-[300px]",
                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "divide-y",
                            children: pendingActions.map((action)=>{
                                const ActionIcon = getActionIcon(action.actionType);
                                return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                    className: "w-full p-3 text-left hover:bg-muted/50 transition-colors",
                                    onClick: ()=>onActionClick?.(action),
                                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "flex items-start gap-3",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("rounded-full p-1.5", riskLevelColors[action.riskLevel] + "/10"),
                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(ActionIcon, {
                                                    className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("h-4 w-4", riskLevelColors[action.riskLevel].replace("bg-", "text-"))
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/src/components/ai/pending-actions-indicator.tsx",
                                                    lineNumber: 173,
                                                    columnNumber: 12
                                                }, this)
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/ai/pending-actions-indicator.tsx",
                                                lineNumber: 167,
                                                columnNumber: 11
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                className: "flex-1 min-w-0",
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                                        className: "text-sm font-medium truncate",
                                                        children: action.toolName.replace(/([A-Z])/g, " $1").replace(/^./, (s)=>s.toUpperCase())
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/src/components/ai/pending-actions-indicator.tsx",
                                                        lineNumber: 181,
                                                        columnNumber: 12
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                                        className: "text-xs text-muted-foreground truncate",
                                                        children: action.affectedEntityType.replace(/_/g, " ")
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/src/components/ai/pending-actions-indicator.tsx",
                                                        lineNumber: 186,
                                                        columnNumber: 12
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                        className: "flex items-center gap-2 mt-1",
                                                        children: [
                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$badge$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Badge"], {
                                                                variant: "outline",
                                                                className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("text-[10px] px-1.5 py-0", riskLevelColors[action.riskLevel].replace("bg-", "border-"), riskLevelColors[action.riskLevel].replace("bg-", "text-")),
                                                                children: action.riskLevel
                                                            }, void 0, false, {
                                                                fileName: "[project]/apps/web/src/components/ai/pending-actions-indicator.tsx",
                                                                lineNumber: 190,
                                                                columnNumber: 13
                                                            }, this),
                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                                className: "flex items-center gap-1 text-[10px] text-muted-foreground",
                                                                children: [
                                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$clock$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Clock$3e$__["Clock"], {
                                                                        className: "h-3 w-3"
                                                                    }, void 0, false, {
                                                                        fileName: "[project]/apps/web/src/components/ai/pending-actions-indicator.tsx",
                                                                        lineNumber: 201,
                                                                        columnNumber: 14
                                                                    }, this),
                                                                    formatTimeRemaining(action.expiresAt)
                                                                ]
                                                            }, void 0, true, {
                                                                fileName: "[project]/apps/web/src/components/ai/pending-actions-indicator.tsx",
                                                                lineNumber: 200,
                                                                columnNumber: 13
                                                            }, this)
                                                        ]
                                                    }, void 0, true, {
                                                        fileName: "[project]/apps/web/src/components/ai/pending-actions-indicator.tsx",
                                                        lineNumber: 189,
                                                        columnNumber: 12
                                                    }, this)
                                                ]
                                            }, void 0, true, {
                                                fileName: "[project]/apps/web/src/components/ai/pending-actions-indicator.tsx",
                                                lineNumber: 180,
                                                columnNumber: 11
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/src/components/ai/pending-actions-indicator.tsx",
                                        lineNumber: 166,
                                        columnNumber: 10
                                    }, this)
                                }, action.id, false, {
                                    fileName: "[project]/apps/web/src/components/ai/pending-actions-indicator.tsx",
                                    lineNumber: 161,
                                    columnNumber: 9
                                }, this);
                            })
                        }, void 0, false, {
                            fileName: "[project]/apps/web/src/components/ai/pending-actions-indicator.tsx",
                            lineNumber: 157,
                            columnNumber: 6
                        }, this)
                    }, void 0, false, {
                        fileName: "[project]/apps/web/src/components/ai/pending-actions-indicator.tsx",
                        lineNumber: 156,
                        columnNumber: 5
                    }, this),
                    pendingActions.length > 0 && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Fragment"], {
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$separator$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Separator"], {}, void 0, false, {
                                fileName: "[project]/apps/web/src/components/ai/pending-actions-indicator.tsx",
                                lineNumber: 215,
                                columnNumber: 7
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "p-2",
                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Button"], {
                                    variant: "ghost",
                                    size: "sm",
                                    className: "w-full text-xs",
                                    onClick: ()=>{
                                        // Navigate to AI settings or pending actions page
                                        window.location.href = "/dashboard/settings/ai";
                                    },
                                    children: "View All Pending Actions"
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/src/components/ai/pending-actions-indicator.tsx",
                                    lineNumber: 217,
                                    columnNumber: 8
                                }, this)
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/ai/pending-actions-indicator.tsx",
                                lineNumber: 216,
                                columnNumber: 7
                            }, this)
                        ]
                    }, void 0, true)
                ]
            }, void 0, true, {
                fileName: "[project]/apps/web/src/components/ai/pending-actions-indicator.tsx",
                lineNumber: 147,
                columnNumber: 4
            }, this)
        ]
    }, void 0, true, {
        fileName: "[project]/apps/web/src/components/ai/pending-actions-indicator.tsx",
        lineNumber: 145,
        columnNumber: 3
    }, this);
}
_s(PendingActionsIndicator, "EGoFZgkL4Kh18aswpUshO5y3hsw=");
_c = PendingActionsIndicator;
function PendingActionsBadge({ className }) {
    _s1();
    const [count, setCount] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(0);
    const [isOwner, setIsOwner] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "PendingActionsBadge.useEffect": ()=>{
            const fetchData = {
                "PendingActionsBadge.useEffect.fetchData": async ()=>{
                    try {
                        const [ownerResult, actionsResult] = await Promise.all([
                            (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$5a655b__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["checkIsCompanyOwner"])(),
                            (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$4dec81__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["getCompanyPendingActions"])({
                                status: "pending",
                                limit: 100
                            })
                        ]);
                        if (ownerResult.success && ownerResult.data) {
                            setIsOwner(ownerResult.data);
                        }
                        if (actionsResult.success && actionsResult.data) {
                            setCount(actionsResult.data.length);
                        }
                    } catch (error) {
                        console.error("Failed to fetch pending action count:", error);
                    }
                }
            }["PendingActionsBadge.useEffect.fetchData"];
            fetchData();
            const interval = setInterval(fetchData, 30000);
            return ({
                "PendingActionsBadge.useEffect": ()=>clearInterval(interval)
            })["PendingActionsBadge.useEffect"];
        }
    }["PendingActionsBadge.useEffect"], []);
    if (!isOwner || count === 0) return null;
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$badge$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Badge"], {
        variant: "destructive",
        className: (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$utils$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["cn"])("ml-auto h-5 min-w-5 px-1.5 text-[10px]", className),
        children: count
    }, void 0, false, {
        fileName: "[project]/apps/web/src/components/ai/pending-actions-indicator.tsx",
        lineNumber: 271,
        columnNumber: 3
    }, this);
}
_s1(PendingActionsBadge, "BBNmIrS8YwkT29Xu0ctErTxZH+M=");
_c1 = PendingActionsBadge;
var _c, _c1;
__turbopack_context__.k.register(_c, "PendingActionsIndicator");
__turbopack_context__.k.register(_c1, "PendingActionsBadge");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/components/layout/app-header-client.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "AppHeaderClient",
    ()=>AppHeaderClient
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$gallery$2d$vertical$2d$end$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__GalleryVerticalEnd$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/gallery-vertical-end.js [app-client] (ecmascript) <export default as GalleryVerticalEnd>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$tv$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Tv$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/tv.js [app-client] (ecmascript) <export default as Tv>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$image$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/image.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$client$2f$app$2d$dir$2f$link$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/client/app-dir/link.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/navigation.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$hooks$2f$use$2d$dialer$2d$shortcut$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/src/hooks/use-dialer-shortcut.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$layout$2f$help$2d$dropdown$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/src/components/layout/help-dropdown.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$layout$2f$notifications$2d$dropdown$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/src/components/layout/notifications-dropdown.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$layout$2f$phone$2d$dropdown$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/src/components/layout/phone-dropdown.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$layout$2f$quick$2d$add$2d$dropdown$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/src/components/layout/quick-add-dropdown.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$layout$2f$user$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/src/components/layout/user-menu.tsx [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$b9dd13__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/apps/web/src/actions/data:b9dd13 [app-client] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ai$2f$pending$2d$actions$2d$indicator$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/src/components/ai/pending-actions-indicator.tsx [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
"use client";
;
;
;
;
;
;
;
;
;
;
;
;
;
const navigationItems = [
    {
        label: "Ask Thorbis",
        href: "/dashboard/ai",
        status: "beta",
        isSpecial: true,
        mobileIcon: "AI",
        mobileIconBg: "bg-primary/10",
        mobileIconColor: "text-primary"
    },
    {
        label: "Today",
        href: "/dashboard",
        mobileIcon: "T",
        mobileIconBg: "bg-primary/10",
        mobileIconColor: "text-primary"
    },
    {
        label: "Schedule",
        href: "/dashboard/schedule",
        mobileIcon: "S",
        mobileIconBg: "bg-accent/10",
        mobileIconColor: "text-accent-foreground"
    },
    {
        label: "Communication",
        href: "/dashboard/communication",
        mobileIcon: "C",
        mobileIconBg: "bg-success/10",
        mobileIconColor: "text-success"
    },
    {
        label: "Work",
        href: "/dashboard/work",
        status: "beta",
        mobileIcon: "W",
        mobileIconBg: "bg-teal-500/10",
        mobileIconColor: "text-teal-600"
    },
    {
        label: "Finances",
        href: "/dashboard/finance",
        status: "coming-soon",
        mobileIcon: "F",
        mobileIconBg: "bg-emerald-500/10",
        mobileIconColor: "text-emerald-600"
    },
    {
        label: "Reporting",
        href: "/dashboard/reporting",
        status: "coming-soon",
        mobileIcon: "R",
        mobileIconBg: "bg-primary/10",
        mobileIconColor: "text-primary"
    },
    {
        label: "Marketing",
        href: "/dashboard/marketing",
        status: "coming-soon",
        mobileIcon: "M",
        mobileIconBg: "bg-accent/10",
        mobileIconColor: "text-accent-foreground"
    },
    {
        label: "Training",
        href: "/dashboard/training",
        status: "coming-soon",
        mobileIcon: "T",
        mobileIconBg: "bg-accent/10",
        mobileIconColor: "text-accent-foreground"
    }
];
// Default logo for all companies
const defaultLogo = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$gallery$2d$vertical$2d$end$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__GalleryVerticalEnd$3e$__["GalleryVerticalEnd"];
function StatusIndicator({ status }) {
    if (!status) {
        return null;
    }
    // For beta and coming-soon, show badge
    if (status === "beta") {
        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
            className: "absolute -top-1.5 right-0 rounded bg-blue-500 px-1 py-0.5 text-[0.5rem] leading-none font-semibold tracking-wide text-white uppercase shadow-sm",
            children: "Beta"
        }, void 0, false, {
            fileName: "[project]/apps/web/src/components/layout/app-header-client.tsx",
            lineNumber: 153,
            columnNumber: 4
        }, this);
    }
    if (status === "coming-soon") {
        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
            className: "absolute -top-1.5 right-0 rounded bg-purple-500 px-1 py-0.5 text-[0.5rem] leading-none font-semibold tracking-wide whitespace-nowrap text-white uppercase shadow-sm",
            children: "Soon"
        }, void 0, false, {
            fileName: "[project]/apps/web/src/components/layout/app-header-client.tsx",
            lineNumber: 161,
            columnNumber: 4
        }, this);
    }
    // Badge for "new" and "updated"
    if (status === "new") {
        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
            className: "absolute -top-1.5 right-0 rounded bg-green-500 px-1 py-0.5 text-[0.5rem] leading-none font-semibold tracking-wide text-white uppercase shadow-sm",
            children: "New"
        }, void 0, false, {
            fileName: "[project]/apps/web/src/components/layout/app-header-client.tsx",
            lineNumber: 170,
            columnNumber: 4
        }, this);
    }
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
        className: "absolute -top-1 right-0 size-2 rounded-full bg-blue-500 shadow-sm",
        title: "Updated"
    }, void 0, false, {
        fileName: "[project]/apps/web/src/components/layout/app-header-client.tsx",
        lineNumber: 177,
        columnNumber: 3
    }, this);
}
_c = StatusIndicator;
function MobileStatusBadge({ status }) {
    if (!status) {
        return null;
    }
    const styles = {
        beta: "bg-blue-500 text-white shadow-sm",
        new: "bg-green-500 text-white shadow-sm",
        updated: "bg-purple-500 text-white shadow-sm",
        "coming-soon": "bg-purple-500 text-white shadow-sm"
    };
    const labels = {
        beta: "Beta",
        new: "New",
        updated: "Updated",
        "coming-soon": "Soon"
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
        className: `inline-flex items-center rounded-full px-2 py-0.5 text-[0.65rem] font-semibold tracking-wide uppercase ${styles[status]}`,
        children: labels[status]
    }, void 0, false, {
        fileName: "[project]/apps/web/src/components/layout/app-header-client.tsx",
        lineNumber: 204,
        columnNumber: 3
    }, this);
}
_c1 = MobileStatusBadge;
function formatBadgeCount(count) {
    if (count <= 9) {
        return count.toString();
    }
    if (count <= 99) {
        return "99+";
    }
    if (count <= 999) {
        return "999+";
    }
    return "1K+";
}
function UnreadBadge({ count }) {
    if (count === 0) {
        return null;
    }
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
        className: "absolute -top-1.5 right-0 rounded bg-red-500 px-1 py-0.5 text-[0.5rem] leading-none font-semibold tracking-wide text-white shadow-sm whitespace-nowrap",
        children: formatBadgeCount(count)
    }, void 0, false, {
        fileName: "[project]/apps/web/src/components/layout/app-header-client.tsx",
        lineNumber: 230,
        columnNumber: 3
    }, this);
}
_c2 = UnreadBadge;
function AppHeaderClient({ userProfile, companies, activeCompanyId, customers = [], companyPhones = [], hasPhoneNumbers = false, hasPayrixAccount = false, payrixStatus = null, subHeader: _subHeader }) {
    _s();
    const pathname = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["usePathname"])();
    // Hide header completely on TV display route (not settings)
    // Check this early to avoid hooks issues
    const isTVRoute = pathname === "/dashboard/tv";
    // Enable global keyboard shortcut for dialer (Ctrl+Shift+D or Cmd+Shift+D)
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$hooks$2f$use$2d$dialer$2d$shortcut$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useDialerShortcut"])();
    const [unreadCount, setUnreadCount] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(0);
    // Fetch unread count on mount, when pathname changes, and periodically
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "AppHeaderClient.useEffect": ()=>{
            const fetchUnreadCount = {
                "AppHeaderClient.useEffect.fetchUnreadCount": async ()=>{
                    try {
                        const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$b9dd13__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["getTotalUnreadCountAction"])();
                        if (result.success && result.count !== undefined) {
                            setUnreadCount(result.count);
                        }
                    } catch (error) {
                        console.error("Failed to fetch unread count:", error);
                    }
                }
            }["AppHeaderClient.useEffect.fetchUnreadCount"];
            // Fetch immediately
            fetchUnreadCount();
            // Refresh every 30 seconds
            const interval = setInterval(fetchUnreadCount, 30000);
            return ({
                "AppHeaderClient.useEffect": ()=>clearInterval(interval)
            })["AppHeaderClient.useEffect"];
        }
    }["AppHeaderClient.useEffect"], [
        pathname
    ]); // Refresh when pathname changes (e.g., navigating to/from communication page)
    // Return null for TV route AFTER all hooks have been called
    if (isTVRoute) {
        return null;
    }
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Fragment"], {
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("header", {
            className: "safe-top bg-header-bg sticky top-0 z-50 w-full",
            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "flex h-14 items-center gap-2 px-4 md:px-6",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$client$2f$app$2d$dir$2f$link$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                        className: "hover:border-primary/20 hover:bg-primary/10 hover:text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 dark:hover:bg-accent/50 flex shrink-0 items-center justify-center gap-2 rounded-md text-sm font-medium whitespace-nowrap transition-all outline-none focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 size-10 md:size-8",
                        "data-slot": "button",
                        href: "/",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$image$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                                alt: "Thorbis",
                                className: "size-5",
                                height: 20,
                                src: "/ThorbisLogo.webp",
                                width: 20
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/layout/app-header-client.tsx",
                                lineNumber: 296,
                                columnNumber: 6
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                className: "sr-only",
                                children: "Thorbis"
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/layout/app-header-client.tsx",
                                lineNumber: 303,
                                columnNumber: 6
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/src/components/layout/app-header-client.tsx",
                        lineNumber: 291,
                        columnNumber: 5
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("nav", {
                        className: "hidden items-center gap-0.5 ml-2 lg:flex",
                        children: navigationItems.map((item)=>{
                            const isActive = item.href === "/dashboard" ? pathname === "/dashboard" : pathname?.startsWith(item.href);
                            if (item.isSpecial) {
                                return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "relative",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$client$2f$app$2d$dir$2f$link$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                                            className: `focus-visible:ring-ring/50 relative inline-flex h-8 shrink-0 items-center justify-center gap-1.5 rounded-md px-3 text-sm font-medium whitespace-nowrap transition-all duration-150 outline-none focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 ${isActive ? "bg-primary/15 text-primary dark:bg-primary/25 shadow-sm" : "text-muted-foreground hover:bg-muted/70 hover:text-foreground"}`,
                                            "data-slot": "button",
                                            href: item.href,
                                            children: item.label
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/src/components/layout/app-header-client.tsx",
                                            lineNumber: 317,
                                            columnNumber: 10
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(StatusIndicator, {
                                            status: item.status
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/src/components/layout/app-header-client.tsx",
                                            lineNumber: 328,
                                            columnNumber: 10
                                        }, this)
                                    ]
                                }, item.href, true, {
                                    fileName: "[project]/apps/web/src/components/layout/app-header-client.tsx",
                                    lineNumber: 316,
                                    columnNumber: 9
                                }, this);
                            }
                            return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                className: "relative",
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$client$2f$app$2d$dir$2f$link$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                                        className: `focus-visible:ring-ring/50 relative inline-flex h-8 shrink-0 items-center justify-center gap-1.5 rounded-md px-3 text-sm font-medium whitespace-nowrap transition-all duration-150 outline-none focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 ${isActive ? "bg-primary/15 text-primary dark:bg-primary/25 shadow-sm" : "text-muted-foreground hover:bg-muted/70 hover:text-foreground"}`,
                                        "data-slot": "button",
                                        href: item.href,
                                        children: item.label
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/layout/app-header-client.tsx",
                                        lineNumber: 335,
                                        columnNumber: 9
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(StatusIndicator, {
                                        status: item.status
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/layout/app-header-client.tsx",
                                        lineNumber: 346,
                                        columnNumber: 9
                                    }, this),
                                    item.href === "/dashboard/communication" && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(UnreadBadge, {
                                        count: unreadCount
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/layout/app-header-client.tsx",
                                        lineNumber: 348,
                                        columnNumber: 10
                                    }, this)
                                ]
                            }, item.href, true, {
                                fileName: "[project]/apps/web/src/components/layout/app-header-client.tsx",
                                lineNumber: 334,
                                columnNumber: 8
                            }, this);
                        })
                    }, void 0, false, {
                        fileName: "[project]/apps/web/src/components/layout/app-header-client.tsx",
                        lineNumber: 307,
                        columnNumber: 5
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                        className: "ml-auto flex items-center gap-2 overflow-visible md:flex-1 md:justify-end",
                        children: [
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$layout$2f$quick$2d$add$2d$dropdown$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["QuickAddDropdown"], {}, void 0, false, {
                                fileName: "[project]/apps/web/src/components/layout/app-header-client.tsx",
                                lineNumber: 358,
                                columnNumber: 6
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$layout$2f$phone$2d$dropdown$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PhoneDropdown"], {
                                companyId: activeCompanyId || "",
                                companyPhones: companyPhones
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/layout/app-header-client.tsx",
                                lineNumber: 361,
                                columnNumber: 6
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$client$2f$app$2d$dir$2f$link$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                                href: "/dashboard/tv",
                                title: "TV Display",
                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                    className: "hover-gradient hover:border-primary/20 hover:bg-primary/10 hover:text-primary focus-visible:ring-ring/50 flex items-center justify-center rounded-md border border-transparent transition-all outline-none focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 size-10 md:size-8",
                                    type: "button",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$tv$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Tv$3e$__["Tv"], {
                                            className: "size-4"
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/src/components/layout/app-header-client.tsx",
                                            lineNumber: 372,
                                            columnNumber: 8
                                        }, this),
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                            className: "sr-only",
                                            children: "TV Display"
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/src/components/layout/app-header-client.tsx",
                                            lineNumber: 373,
                                            columnNumber: 8
                                        }, this)
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/apps/web/src/components/layout/app-header-client.tsx",
                                    lineNumber: 368,
                                    columnNumber: 7
                                }, this)
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/layout/app-header-client.tsx",
                                lineNumber: 367,
                                columnNumber: 6
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ai$2f$pending$2d$actions$2d$indicator$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["PendingActionsIndicator"], {}, void 0, false, {
                                fileName: "[project]/apps/web/src/components/layout/app-header-client.tsx",
                                lineNumber: 378,
                                columnNumber: 6
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$layout$2f$notifications$2d$dropdown$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["NotificationsDropdown"], {
                                hasPhoneNumbers: hasPhoneNumbers,
                                hasPayrixAccount: hasPayrixAccount,
                                payrixStatus: payrixStatus
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/layout/app-header-client.tsx",
                                lineNumber: 381,
                                columnNumber: 6
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$layout$2f$help$2d$dropdown$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["HelpDropdown"], {}, void 0, false, {
                                fileName: "[project]/apps/web/src/components/layout/app-header-client.tsx",
                                lineNumber: 388,
                                columnNumber: 6
                            }, this),
                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$layout$2f$user$2d$menu$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["UserMenu"], {
                                activeCompanyId: activeCompanyId,
                                teams: Array.from(new Map(companies.map((company)=>[
                                        company.id,
                                        {
                                            id: company.id,
                                            name: company.name,
                                            logo: company.logo,
                                            plan: company.plan,
                                            onboardingComplete: company.onboardingComplete,
                                            hasPayment: company.hasPayment
                                        }
                                    ])).values()),
                                user: {
                                    name: userProfile.name,
                                    email: userProfile.email,
                                    avatar: userProfile.avatar,
                                    status: userProfile.status
                                }
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/layout/app-header-client.tsx",
                                lineNumber: 392,
                                columnNumber: 6
                            }, this)
                        ]
                    }, void 0, true, {
                        fileName: "[project]/apps/web/src/components/layout/app-header-client.tsx",
                        lineNumber: 356,
                        columnNumber: 5
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/apps/web/src/components/layout/app-header-client.tsx",
                lineNumber: 288,
                columnNumber: 5
            }, this)
        }, void 0, false, {
            fileName: "[project]/apps/web/src/components/layout/app-header-client.tsx",
            lineNumber: 287,
            columnNumber: 4
        }, this)
    }, void 0, false);
}
_s(AppHeaderClient, "YcE6FrDnI6qDc2Fjgong8Bsd3Ts=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["usePathname"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$hooks$2f$use$2d$dialer$2d$shortcut$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useDialerShortcut"]
    ];
});
_c3 = AppHeaderClient;
var _c, _c1, _c2, _c3;
__turbopack_context__.k.register(_c, "StatusIndicator");
__turbopack_context__.k.register(_c1, "MobileStatusBadge");
__turbopack_context__.k.register(_c2, "UnreadBadge");
__turbopack_context__.k.register(_c3, "AppHeaderClient");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/components/layout/app-header-error-boundary.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "AppHeaderErrorBoundary",
    ()=>AppHeaderErrorBoundary
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
/**
 * AppHeaderErrorBoundary - Error boundary for AppHeader
 *
 * Catches runtime errors in AppHeader and displays a fallback UI
 * that matches the header design, preventing the entire page from crashing.
 *
 * Features:
 * - Catches all errors in AppHeader component tree
 * - Displays user-friendly error message
 * - Provides retry button to attempt recovery
 * - Logs errors for monitoring
 * - Matches header styling for visual consistency
 */ var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$circle$2d$alert$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__AlertCircle$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/circle-alert.js [app-client] (ecmascript) <export default as AlertCircle>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$refresh$2d$cw$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__RefreshCw$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/refresh-cw.js [app-client] (ecmascript) <export default as RefreshCw>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$ui$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/web/src/components/ui/button.tsx [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/ui/src/button.tsx [app-client] (ecmascript)");
"use client";
;
;
;
;
class AppHeaderErrorBoundary extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Component"] {
    constructor(props){
        super(props);
        this.state = {
            hasError: false,
            error: null
        };
    }
    static getDerivedStateFromError(error) {
        return {
            hasError: true,
            error
        };
    }
    componentDidCatch(error, errorInfo) {
        // Log error to monitoring service (e.g., Sentry)
        console.error("AppHeader Error:", error, errorInfo);
    }
    handleReset = ()=>{
        this.setState({
            hasError: false,
            error: null
        });
        // Force page reload to attempt recovery
        window.location.reload();
    };
    render() {
        if (this.state.hasError) {
            return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(HeaderErrorFallback, {
                onReset: this.handleReset
            }, void 0, false, {
                fileName: "[project]/apps/web/src/components/layout/app-header-error-boundary.tsx",
                lineNumber: 56,
                columnNumber: 11
            }, this);
        }
        return this.props.children;
    }
}
/**
 * HeaderErrorFallback - Error state UI for AppHeader
 *
 * Displays when AppHeader encounters a runtime error.
 * Styled to match the header design for visual consistency.
 */ function HeaderErrorFallback({ onReset }) {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("header", {
        className: "border-border/40 bg-background/95 supports-[backdrop-filter]:bg-background/60 sticky top-0 z-50 w-full border-b backdrop-blur",
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            className: "flex h-14 items-center justify-between px-4",
            children: [
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "flex items-center gap-3",
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "bg-destructive/10 flex h-8 w-8 items-center justify-center rounded-md",
                            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$circle$2d$alert$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__AlertCircle$3e$__["AlertCircle"], {
                                className: "text-destructive h-4 w-4",
                                "aria-hidden": "true"
                            }, void 0, false, {
                                fileName: "[project]/apps/web/src/components/layout/app-header-error-boundary.tsx",
                                lineNumber: 75,
                                columnNumber: 7
                            }, this)
                        }, void 0, false, {
                            fileName: "[project]/apps/web/src/components/layout/app-header-error-boundary.tsx",
                            lineNumber: 74,
                            columnNumber: 6
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                            className: "flex flex-col",
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                    className: "text-sm font-medium",
                                    children: "Unable to load header"
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/src/components/layout/app-header-error-boundary.tsx",
                                    lineNumber: 78,
                                    columnNumber: 7
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                    className: "text-muted-foreground text-xs hidden sm:inline",
                                    children: "An error occurred while loading the navigation"
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/src/components/layout/app-header-error-boundary.tsx",
                                    lineNumber: 81,
                                    columnNumber: 7
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/apps/web/src/components/layout/app-header-error-boundary.tsx",
                            lineNumber: 77,
                            columnNumber: 6
                        }, this)
                    ]
                }, void 0, true, {
                    fileName: "[project]/apps/web/src/components/layout/app-header-error-boundary.tsx",
                    lineNumber: 73,
                    columnNumber: 5
                }, this),
                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$ui$2f$src$2f$button$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Button"], {
                    variant: "outline",
                    size: "sm",
                    onClick: onReset,
                    className: "gap-2",
                    "aria-label": "Retry loading header",
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$refresh$2d$cw$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__RefreshCw$3e$__["RefreshCw"], {
                            className: "h-3.5 w-3.5",
                            "aria-hidden": "true"
                        }, void 0, false, {
                            fileName: "[project]/apps/web/src/components/layout/app-header-error-boundary.tsx",
                            lineNumber: 94,
                            columnNumber: 6
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                            className: "hidden sm:inline",
                            children: "Retry"
                        }, void 0, false, {
                            fileName: "[project]/apps/web/src/components/layout/app-header-error-boundary.tsx",
                            lineNumber: 95,
                            columnNumber: 6
                        }, this)
                    ]
                }, void 0, true, {
                    fileName: "[project]/apps/web/src/components/layout/app-header-error-boundary.tsx",
                    lineNumber: 87,
                    columnNumber: 5
                }, this)
            ]
        }, void 0, true, {
            fileName: "[project]/apps/web/src/components/layout/app-header-error-boundary.tsx",
            lineNumber: 72,
            columnNumber: 4
        }, this)
    }, void 0, false, {
        fileName: "[project]/apps/web/src/components/layout/app-header-error-boundary.tsx",
        lineNumber: 71,
        columnNumber: 3
    }, this);
}
_c = HeaderErrorFallback;
var _c;
__turbopack_context__.k.register(_c, "HeaderErrorFallback");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/components/layout/incoming-call-notification-wrapper.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "IncomingCallNotificationWrapper",
    ()=>IncomingCallNotificationWrapper
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
/**
 * Incoming Call Notification Wrapper
 *
 * Performance optimization wrapper that lazy-loads the heavy IncomingCallNotification component.
 *
 * Benefits:
 * - Reduces initial page load by ~700KB+ (component + dependencies)
 * - Only loads when needed (when checking for active calls)
 * - Improves Time to Interactive (TTI) significantly
 * - Does not block initial page render
 *
 * This wrapper checks for active calls and only loads the full component when needed.
 */ var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$shared$2f$lib$2f$app$2d$dynamic$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/shared/lib/app-dynamic.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
;
"use client";
;
;
;
// Lazy load the heavy IncomingCallNotification component
// Client-only because it uses browser APIs and WebRTC
const IncomingCallNotification = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$shared$2f$lib$2f$app$2d$dynamic$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"])(()=>__turbopack_context__.A("[project]/apps/web/src/components/layout/incoming-call-notification.tsx [app-client] (ecmascript, next/dynamic entry, async loader)").then((mod)=>mod.IncomingCallNotification), {
    loadableGenerated: {
        modules: [
            "[project]/apps/web/src/components/layout/incoming-call-notification.tsx [app-client] (ecmascript, next/dynamic entry)"
        ]
    },
    loading: ()=>null,
    ssr: false
});
_c = IncomingCallNotification;
function IncomingCallNotificationWrapper() {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Suspense"], {
        fallback: null,
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(IncomingCallNotification, {}, void 0, false, {
            fileName: "[project]/apps/web/src/components/layout/incoming-call-notification-wrapper.tsx",
            lineNumber: 39,
            columnNumber: 4
        }, this)
    }, void 0, false, {
        fileName: "[project]/apps/web/src/components/layout/incoming-call-notification-wrapper.tsx",
        lineNumber: 38,
        columnNumber: 3
    }, this);
}
_c1 = IncomingCallNotificationWrapper;
var _c, _c1;
__turbopack_context__.k.register(_c, "IncomingCallNotification");
__turbopack_context__.k.register(_c1, "IncomingCallNotificationWrapper");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/components/layout/mobile-bottom-tabs.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "MobileBottomTabs",
    ()=>MobileBottomTabs
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$calendar$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Calendar$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/calendar.js [app-client] (ecmascript) <export default as Calendar>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$house$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Home$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/house.js [app-client] (ecmascript) <export default as Home>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$message$2d$square$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__MessageSquare$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/message-square.js [app-client] (ecmascript) <export default as MessageSquare>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$ellipsis$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__MoreHorizontal$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/ellipsis.js [app-client] (ecmascript) <export default as MoreHorizontal>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$briefcase$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Briefcase$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/briefcase.js [app-client] (ecmascript) <export default as Briefcase>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$x$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__X$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/x.js [app-client] (ecmascript) <export default as X>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$sparkles$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Sparkles$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/sparkles.js [app-client] (ecmascript) <export default as Sparkles>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$dollar$2d$sign$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__DollarSign$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/dollar-sign.js [app-client] (ecmascript) <export default as DollarSign>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$chart$2d$column$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__BarChart3$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/chart-column.js [app-client] (ecmascript) <export default as BarChart3>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$megaphone$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Megaphone$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/megaphone.js [app-client] (ecmascript) <export default as Megaphone>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$graduation$2d$cap$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__GraduationCap$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/graduation-cap.js [app-client] (ecmascript) <export default as GraduationCap>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$settings$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Settings$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/settings.js [app-client] (ecmascript) <export default as Settings>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$circle$2d$question$2d$mark$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__HelpCircle$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/circle-question-mark.js [app-client] (ecmascript) <export default as HelpCircle>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$chevron$2d$right$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__ChevronRight$3e$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/lucide-react@0.552.0_react@19.2.0/node_modules/lucide-react/dist/esm/icons/chevron-right.js [app-client] (ecmascript) <export default as ChevronRight>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$client$2f$app$2d$dir$2f$link$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/client/app-dir/link.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/navigation.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$radix$2d$ui$2b$react$2d$dialog$40$1$2e$1$2e$15_$40$types$2b$react$2d$dom$40$19$2e$2$2e$2_$40$types$2b$react$40$19$2e$2$2e$2_$5f40$types$2b$react$40$19$2e$2$2e$_aodnlqhr3elwsecxfyuv3mpycy$2f$node_modules$2f40$radix$2d$ui$2f$react$2d$dialog$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/@radix-ui+react-dialog@1.1.15_@types+react-dom@19.2.2_@types+react@19.2.2__@types+react@19.2._aodnlqhr3elwsecxfyuv3mpycy/node_modules/@radix-ui/react-dialog/dist/index.mjs [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
"use client";
;
;
;
;
;
const moreNavigationItems = [
    {
        label: "Ask Thorbis",
        href: "/dashboard/ai",
        icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$sparkles$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Sparkles$3e$__["Sparkles"],
        status: "beta",
        iconBg: "bg-primary/10",
        iconColor: "text-primary",
        description: "AI-powered assistant"
    },
    {
        label: "Finances",
        href: "/dashboard/finance",
        icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$dollar$2d$sign$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__DollarSign$3e$__["DollarSign"],
        status: "coming-soon",
        iconBg: "bg-emerald-500/10",
        iconColor: "text-emerald-600",
        description: "Financial management"
    },
    {
        label: "Reporting",
        href: "/dashboard/reporting",
        icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$chart$2d$column$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__BarChart3$3e$__["BarChart3"],
        status: "coming-soon",
        iconBg: "bg-primary/10",
        iconColor: "text-primary",
        description: "Analytics and reports"
    },
    {
        label: "Marketing",
        href: "/dashboard/marketing",
        icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$megaphone$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Megaphone$3e$__["Megaphone"],
        status: "coming-soon",
        iconBg: "bg-accent/10",
        iconColor: "text-accent-foreground",
        description: "Marketing campaigns"
    },
    {
        label: "Training",
        href: "/dashboard/training",
        icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$graduation$2d$cap$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__GraduationCap$3e$__["GraduationCap"],
        status: "coming-soon",
        iconBg: "bg-accent/10",
        iconColor: "text-accent-foreground",
        description: "Learning center"
    },
    {
        label: "Settings",
        href: "/dashboard/settings",
        icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$settings$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Settings$3e$__["Settings"],
        iconBg: "bg-muted/50",
        iconColor: "text-muted-foreground",
        description: "App preferences"
    },
    {
        label: "Help",
        href: "/help",
        icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$circle$2d$question$2d$mark$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__HelpCircle$3e$__["HelpCircle"],
        iconBg: "bg-muted/50",
        iconColor: "text-muted-foreground",
        description: "Get support"
    }
];
function StatusBadge({ status }) {
    if (!status) {
        return null;
    }
    const styles = {
        beta: "bg-blue-500 text-white",
        new: "bg-green-500 text-white",
        updated: "bg-purple-500 text-white",
        "coming-soon": "bg-purple-500 text-white"
    };
    const labels = {
        beta: "Beta",
        new: "New",
        updated: "Updated",
        "coming-soon": "Soon"
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
        className: `inline-flex items-center rounded-full px-2 py-0.5 text-[0.65rem] font-semibold tracking-wide uppercase ${styles[status]}`,
        children: labels[status]
    }, void 0, false, {
        fileName: "[project]/apps/web/src/components/layout/mobile-bottom-tabs.tsx",
        lineNumber: 120,
        columnNumber: 3
    }, this);
}
_c = StatusBadge;
function formatBadgeCount(count) {
    if (count <= 9) {
        return count.toString();
    }
    if (count <= 99) {
        return "99+";
    }
    if (count <= 999) {
        return "999+";
    }
    return "1K+";
}
function MobileBottomTabs({ unreadCount = 0 }) {
    _s();
    const pathname = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["usePathname"])();
    const [isMoreOpen, setIsMoreOpen] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(false);
    // Hide bottom tabs on TV route and welcome route
    const isTVRoute = pathname === "/dashboard/tv";
    const isWelcomeRoute = pathname === "/welcome";
    // Don't render on TV or welcome routes
    if (isTVRoute || isWelcomeRoute) {
        return null;
    }
    // Define primary tabs (always visible at bottom)
    // Use mobile-optimized dashboard pages for Work and Communication tabs
    const tabs = [
        {
            label: "Today",
            href: "/dashboard",
            icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$house$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Home$3e$__["Home"]
        },
        {
            label: "Messages",
            href: "/dashboard/communication/mobile",
            icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$message$2d$square$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__MessageSquare$3e$__["MessageSquare"],
            badge: unreadCount
        },
        {
            label: "Work",
            href: "/dashboard/work/mobile",
            icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$briefcase$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Briefcase$3e$__["Briefcase"]
        },
        {
            label: "Schedule",
            href: "/dashboard/schedule",
            icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$calendar$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__Calendar$3e$__["Calendar"]
        },
        {
            label: "More",
            icon: __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$ellipsis$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__MoreHorizontal$3e$__["MoreHorizontal"],
            onClick: ()=>setIsMoreOpen(true)
        }
    ];
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Fragment"], {
        children: [
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("nav", {
                className: "safe-bottom bg-background fixed bottom-0 left-0 right-0 z-40 border-t border-border lg:hidden",
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                    className: "grid h-16 grid-cols-5",
                    children: tabs.map((tab)=>{
                        // Determine if tab is active
                        let isActive = false;
                        if (tab.href) {
                            if (tab.href === "/dashboard") {
                                // Today tab - exact match only
                                isActive = pathname === "/dashboard";
                            } else if (tab.href === "/dashboard/communication/mobile") {
                                // Communication tab - match /dashboard/communication/* (including /mobile)
                                isActive = pathname?.startsWith("/dashboard/communication");
                            } else if (tab.href === "/dashboard/work/mobile") {
                                // Work tab - match /dashboard/work/* (including /mobile) or /dashboard/customers
                                isActive = pathname?.startsWith("/dashboard/work") || pathname?.startsWith("/dashboard/customers");
                            } else {
                                // Other tabs - standard prefix match
                                isActive = pathname?.startsWith(tab.href);
                            }
                        }
                        const Icon = tab.icon;
                        // If tab has onClick (More button), render as button
                        if (tab.onClick) {
                            return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                                className: `flex flex-col items-center justify-center gap-1 transition-colors ${isMoreOpen ? "text-primary" : "text-muted-foreground hover:text-foreground active:text-primary"}`,
                                onClick: tab.onClick,
                                type: "button",
                                "aria-label": "Open more menu",
                                "aria-expanded": isMoreOpen,
                                children: [
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "relative",
                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(Icon, {
                                            className: "h-6 w-6"
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/src/components/layout/mobile-bottom-tabs.tsx",
                                            lineNumber: 233,
                                            columnNumber: 11
                                        }, this)
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/layout/mobile-bottom-tabs.tsx",
                                        lineNumber: 232,
                                        columnNumber: 10
                                    }, this),
                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                        className: "text-[0.65rem] font-medium leading-tight",
                                        children: tab.label
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/layout/mobile-bottom-tabs.tsx",
                                        lineNumber: 235,
                                        columnNumber: 10
                                    }, this)
                                ]
                            }, tab.label, true, {
                                fileName: "[project]/apps/web/src/components/layout/mobile-bottom-tabs.tsx",
                                lineNumber: 220,
                                columnNumber: 9
                            }, this);
                        }
                        // Regular tab with link
                        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$client$2f$app$2d$dir$2f$link$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                            className: `flex flex-col items-center justify-center gap-1 transition-colors ${isActive ? "text-primary" : "text-muted-foreground hover:text-foreground active:text-primary"}`,
                            href: tab.href,
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "relative",
                                    children: [
                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(Icon, {
                                            className: "h-6 w-6"
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/src/components/layout/mobile-bottom-tabs.tsx",
                                            lineNumber: 252,
                                            columnNumber: 10
                                        }, this),
                                        typeof tab.badge === 'number' && tab.badge > 0 && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Fragment"], {
                                            children: [
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                    className: "absolute top-0 right-0 flex h-2 w-2",
                                                    children: [
                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                            className: "animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"
                                                        }, void 0, false, {
                                                            fileName: "[project]/apps/web/src/components/layout/mobile-bottom-tabs.tsx",
                                                            lineNumber: 256,
                                                            columnNumber: 13
                                                        }, this),
                                                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                            className: "relative inline-flex rounded-full h-2 w-2 bg-red-500"
                                                        }, void 0, false, {
                                                            fileName: "[project]/apps/web/src/components/layout/mobile-bottom-tabs.tsx",
                                                            lineNumber: 257,
                                                            columnNumber: 13
                                                        }, this)
                                                    ]
                                                }, void 0, true, {
                                                    fileName: "[project]/apps/web/src/components/layout/mobile-bottom-tabs.tsx",
                                                    lineNumber: 255,
                                                    columnNumber: 12
                                                }, this),
                                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                    className: "sr-only",
                                                    children: [
                                                        tab.badge,
                                                        " unread ",
                                                        tab.badge === 1 ? 'message' : 'messages'
                                                    ]
                                                }, void 0, true, {
                                                    fileName: "[project]/apps/web/src/components/layout/mobile-bottom-tabs.tsx",
                                                    lineNumber: 259,
                                                    columnNumber: 12
                                                }, this)
                                            ]
                                        }, void 0, true),
                                        isActive && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                            className: "absolute -bottom-1.5 left-1/2 h-1 w-1 -translate-x-1/2 rounded-full bg-primary"
                                        }, void 0, false, {
                                            fileName: "[project]/apps/web/src/components/layout/mobile-bottom-tabs.tsx",
                                            lineNumber: 263,
                                            columnNumber: 11
                                        }, this)
                                    ]
                                }, void 0, true, {
                                    fileName: "[project]/apps/web/src/components/layout/mobile-bottom-tabs.tsx",
                                    lineNumber: 251,
                                    columnNumber: 9
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                    className: "text-[0.65rem] font-medium leading-tight",
                                    children: tab.label
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/src/components/layout/mobile-bottom-tabs.tsx",
                                    lineNumber: 266,
                                    columnNumber: 9
                                }, this)
                            ]
                        }, tab.label, true, {
                            fileName: "[project]/apps/web/src/components/layout/mobile-bottom-tabs.tsx",
                            lineNumber: 242,
                            columnNumber: 8
                        }, this);
                    })
                }, void 0, false, {
                    fileName: "[project]/apps/web/src/components/layout/mobile-bottom-tabs.tsx",
                    lineNumber: 193,
                    columnNumber: 5
                }, this)
            }, void 0, false, {
                fileName: "[project]/apps/web/src/components/layout/mobile-bottom-tabs.tsx",
                lineNumber: 192,
                columnNumber: 4
            }, this),
            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$radix$2d$ui$2b$react$2d$dialog$40$1$2e$1$2e$15_$40$types$2b$react$2d$dom$40$19$2e$2$2e$2_$40$types$2b$react$40$19$2e$2$2e$2_$5f40$types$2b$react$40$19$2e$2$2e$_aodnlqhr3elwsecxfyuv3mpycy$2f$node_modules$2f40$radix$2d$ui$2f$react$2d$dialog$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Root"], {
                open: isMoreOpen,
                onOpenChange: setIsMoreOpen,
                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$radix$2d$ui$2b$react$2d$dialog$40$1$2e$1$2e$15_$40$types$2b$react$2d$dom$40$19$2e$2$2e$2_$40$types$2b$react$40$19$2e$2$2e$2_$5f40$types$2b$react$40$19$2e$2$2e$_aodnlqhr3elwsecxfyuv3mpycy$2f$node_modules$2f40$radix$2d$ui$2f$react$2d$dialog$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Portal"], {
                    children: [
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$radix$2d$ui$2b$react$2d$dialog$40$1$2e$1$2e$15_$40$types$2b$react$2d$dom$40$19$2e$2$2e$2_$40$types$2b$react$40$19$2e$2$2e$2_$5f40$types$2b$react$40$19$2e$2$2e$_aodnlqhr3elwsecxfyuv3mpycy$2f$node_modules$2f40$radix$2d$ui$2f$react$2d$dialog$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Overlay"], {
                            className: "fixed inset-0 z-50 bg-background/95 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 lg:hidden"
                        }, void 0, false, {
                            fileName: "[project]/apps/web/src/components/layout/mobile-bottom-tabs.tsx",
                            lineNumber: 276,
                            columnNumber: 6
                        }, this),
                        /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$radix$2d$ui$2b$react$2d$dialog$40$1$2e$1$2e$15_$40$types$2b$react$2d$dom$40$19$2e$2$2e$2_$40$types$2b$react$40$19$2e$2$2e$2_$5f40$types$2b$react$40$19$2e$2$2e$_aodnlqhr3elwsecxfyuv3mpycy$2f$node_modules$2f40$radix$2d$ui$2f$react$2d$dialog$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Content"], {
                            className: "fixed inset-0 z-50 flex flex-col bg-background lg:hidden data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",
                            children: [
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "sticky top-0 z-10 bg-background/95 backdrop-blur-sm border-b border-border",
                                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "flex items-center justify-between px-4 h-14",
                                        children: [
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$radix$2d$ui$2b$react$2d$dialog$40$1$2e$1$2e$15_$40$types$2b$react$2d$dom$40$19$2e$2$2e$2_$40$types$2b$react$40$19$2e$2$2e$2_$5f40$types$2b$react$40$19$2e$2$2e$_aodnlqhr3elwsecxfyuv3mpycy$2f$node_modules$2f40$radix$2d$ui$2f$react$2d$dialog$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Title"], {
                                                className: "text-lg font-bold tracking-tight",
                                                children: "More"
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/layout/mobile-bottom-tabs.tsx",
                                                lineNumber: 281,
                                                columnNumber: 9
                                            }, this),
                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f40$radix$2d$ui$2b$react$2d$dialog$40$1$2e$1$2e$15_$40$types$2b$react$2d$dom$40$19$2e$2$2e$2_$40$types$2b$react$40$19$2e$2$2e$2_$5f40$types$2b$react$40$19$2e$2$2e$_aodnlqhr3elwsecxfyuv3mpycy$2f$node_modules$2f40$radix$2d$ui$2f$react$2d$dialog$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["Close"], {
                                                className: "flex h-10 w-10 items-center justify-center rounded-full hover:bg-accent/80 transition-colors active:scale-95",
                                                "aria-label": "Close menu",
                                                children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$x$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__X$3e$__["X"], {
                                                    className: "h-6 w-6"
                                                }, void 0, false, {
                                                    fileName: "[project]/apps/web/src/components/layout/mobile-bottom-tabs.tsx",
                                                    lineNumber: 288,
                                                    columnNumber: 10
                                                }, this)
                                            }, void 0, false, {
                                                fileName: "[project]/apps/web/src/components/layout/mobile-bottom-tabs.tsx",
                                                lineNumber: 284,
                                                columnNumber: 9
                                            }, this)
                                        ]
                                    }, void 0, true, {
                                        fileName: "[project]/apps/web/src/components/layout/mobile-bottom-tabs.tsx",
                                        lineNumber: 280,
                                        columnNumber: 8
                                    }, this)
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/src/components/layout/mobile-bottom-tabs.tsx",
                                    lineNumber: 279,
                                    columnNumber: 7
                                }, this),
                                /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                    className: "h-[calc(100vh-3.5rem)] overflow-y-auto px-4 py-6",
                                    children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                        className: "space-y-3 pb-safe",
                                        children: moreNavigationItems.map((item)=>{
                                            const isActive = pathname?.startsWith(item.href);
                                            const Icon = item.icon;
                                            return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$client$2f$app$2d$dir$2f$link$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["default"], {
                                                className: `group flex items-center gap-4 rounded-2xl border-2 p-5 transition-all duration-200 active:scale-[0.98] ${isActive ? "border-primary/40 bg-primary/10 text-primary shadow-lg shadow-primary/20" : "border-border bg-card text-card-foreground hover:border-primary/30 hover:bg-primary/5 hover:shadow-md"}`,
                                                href: item.href,
                                                onClick: ()=>setIsMoreOpen(false),
                                                children: [
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                        className: `flex h-14 w-14 shrink-0 items-center justify-center rounded-xl transition-all duration-200 ${item.iconBg} ${isActive ? "scale-105" : "group-hover:scale-105"}`,
                                                        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(Icon, {
                                                            className: `h-7 w-7 ${item.iconColor}`
                                                        }, void 0, false, {
                                                            fileName: "[project]/apps/web/src/components/layout/mobile-bottom-tabs.tsx",
                                                            lineNumber: 316,
                                                            columnNumber: 13
                                                        }, this)
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/src/components/layout/mobile-bottom-tabs.tsx",
                                                        lineNumber: 311,
                                                        columnNumber: 12
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                        className: "flex-1 min-w-0",
                                                        children: [
                                                            /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                                                                className: "flex items-center gap-2 mb-1",
                                                                children: [
                                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("span", {
                                                                        className: "font-semibold text-base",
                                                                        children: item.label
                                                                    }, void 0, false, {
                                                                        fileName: "[project]/apps/web/src/components/layout/mobile-bottom-tabs.tsx",
                                                                        lineNumber: 320,
                                                                        columnNumber: 14
                                                                    }, this),
                                                                    item.status && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(StatusBadge, {
                                                                        status: item.status
                                                                    }, void 0, false, {
                                                                        fileName: "[project]/apps/web/src/components/layout/mobile-bottom-tabs.tsx",
                                                                        lineNumber: 321,
                                                                        columnNumber: 30
                                                                    }, this)
                                                                ]
                                                            }, void 0, true, {
                                                                fileName: "[project]/apps/web/src/components/layout/mobile-bottom-tabs.tsx",
                                                                lineNumber: 319,
                                                                columnNumber: 13
                                                            }, this),
                                                            item.description && /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                                                                className: "text-muted-foreground text-sm leading-snug",
                                                                children: item.description
                                                            }, void 0, false, {
                                                                fileName: "[project]/apps/web/src/components/layout/mobile-bottom-tabs.tsx",
                                                                lineNumber: 324,
                                                                columnNumber: 14
                                                            }, this)
                                                        ]
                                                    }, void 0, true, {
                                                        fileName: "[project]/apps/web/src/components/layout/mobile-bottom-tabs.tsx",
                                                        lineNumber: 318,
                                                        columnNumber: 12
                                                    }, this),
                                                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$lucide$2d$react$40$0$2e$552$2e$0_react$40$19$2e$2$2e$0$2f$node_modules$2f$lucide$2d$react$2f$dist$2f$esm$2f$icons$2f$chevron$2d$right$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$export__default__as__ChevronRight$3e$__["ChevronRight"], {
                                                        className: `h-5 w-5 text-muted-foreground/50 transition-all ${isActive ? "text-primary" : "group-hover:translate-x-1"}`
                                                    }, void 0, false, {
                                                        fileName: "[project]/apps/web/src/components/layout/mobile-bottom-tabs.tsx",
                                                        lineNumber: 329,
                                                        columnNumber: 12
                                                    }, this)
                                                ]
                                            }, item.href, true, {
                                                fileName: "[project]/apps/web/src/components/layout/mobile-bottom-tabs.tsx",
                                                lineNumber: 301,
                                                columnNumber: 11
                                            }, this);
                                        })
                                    }, void 0, false, {
                                        fileName: "[project]/apps/web/src/components/layout/mobile-bottom-tabs.tsx",
                                        lineNumber: 295,
                                        columnNumber: 8
                                    }, this)
                                }, void 0, false, {
                                    fileName: "[project]/apps/web/src/components/layout/mobile-bottom-tabs.tsx",
                                    lineNumber: 294,
                                    columnNumber: 7
                                }, this)
                            ]
                        }, void 0, true, {
                            fileName: "[project]/apps/web/src/components/layout/mobile-bottom-tabs.tsx",
                            lineNumber: 277,
                            columnNumber: 6
                        }, this)
                    ]
                }, void 0, true, {
                    fileName: "[project]/apps/web/src/components/layout/mobile-bottom-tabs.tsx",
                    lineNumber: 275,
                    columnNumber: 5
                }, this)
            }, void 0, false, {
                fileName: "[project]/apps/web/src/components/layout/mobile-bottom-tabs.tsx",
                lineNumber: 274,
                columnNumber: 4
            }, this)
        ]
    }, void 0, true);
}
_s(MobileBottomTabs, "1pKRuRBzZHnWHH4ODY7C9l/UdSU=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["usePathname"]
    ];
});
_c1 = MobileBottomTabs;
var _c, _c1;
__turbopack_context__.k.register(_c, "StatusBadge");
__turbopack_context__.k.register(_c1, "MobileBottomTabs");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/components/layout/mobile-bottom-tabs-wrapper.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "MobileBottomTabsWrapper",
    ()=>MobileBottomTabsWrapper
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/jsx-dev-runtime.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/navigation.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$b9dd13__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/apps/web/src/actions/data:b9dd13 [app-client] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$layout$2f$mobile$2d$bottom$2d$tabs$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/src/components/layout/mobile-bottom-tabs.tsx [app-client] (ecmascript)");
;
var _s = __turbopack_context__.k.signature();
"use client";
;
;
;
;
function MobileBottomTabsWrapper() {
    _s();
    const pathname = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["usePathname"])();
    const [unreadCount, setUnreadCount] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useState"])(0);
    // Fetch unread count on mount, when pathname changes, and periodically
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "MobileBottomTabsWrapper.useEffect": ()=>{
            const fetchUnreadCount = {
                "MobileBottomTabsWrapper.useEffect.fetchUnreadCount": async ()=>{
                    try {
                        const result = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$b9dd13__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["getTotalUnreadCountAction"])();
                        if (result.success && result.count !== undefined) {
                            setUnreadCount(result.count);
                        }
                    } catch (error) {
                        console.error("Failed to fetch unread count:", error);
                    }
                }
            }["MobileBottomTabsWrapper.useEffect.fetchUnreadCount"];
            // Fetch immediately
            fetchUnreadCount();
            // Refresh every 30 seconds
            const interval = setInterval(fetchUnreadCount, 30000);
            return ({
                "MobileBottomTabsWrapper.useEffect": ()=>clearInterval(interval)
            })["MobileBottomTabsWrapper.useEffect"];
        }
    }["MobileBottomTabsWrapper.useEffect"], [
        pathname
    ]);
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$components$2f$layout$2f$mobile$2d$bottom$2d$tabs$2e$tsx__$5b$app$2d$client$5d$__$28$ecmascript$29$__["MobileBottomTabs"], {
        unreadCount: unreadCount
    }, void 0, false, {
        fileName: "[project]/apps/web/src/components/layout/mobile-bottom-tabs-wrapper.tsx",
        lineNumber: 40,
        columnNumber: 9
    }, this);
}
_s(MobileBottomTabsWrapper, "MVa3opSSFYxxu+fwNrZqAlCY2EE=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["usePathname"]
    ];
});
_c = MobileBottomTabsWrapper;
var _c;
__turbopack_context__.k.register(_c, "MobileBottomTabsWrapper");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/lib/stores/communication-notifications-store.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

/**
 * Communication Notifications Store - Zustand State Management
 *
 * Handles real-time toast notifications for:
 * - Phone calls (incoming, missed, completed)
 * - Voicemails (new messages)
 * - Text messages/SMS (incoming)
 * - Emails (incoming)
 *
 * Performance optimizations:
 * - Lightweight state management with Zustand
 * - Automatic toast display on new communications
 * - Integrated with existing notifications system
 * - Sound and desktop notification support
 */ __turbopack_context__.s([
    "useCommunicationNotificationsStore",
    ()=>useCommunicationNotificationsStore
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$sonner$40$2$2e$0$2e$7_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/sonner@2.0.7_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/sonner/dist/index.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zustand$40$5$2e$0$2e$8_$40$types$2b$react$40$19$2e$2$2e$2_immer$40$10$2e$2$2e$0_react$40$19$2e$2$2e$0_use$2d$sync$2d$external$2d$store$40$1$2e$6$2e$0_react$40$19$2e$2$2e$0_$2f$node_modules$2f$zustand$2f$esm$2f$react$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/zustand@5.0.8_@types+react@19.2.2_immer@10.2.0_react@19.2.0_use-sync-external-store@1.6.0_react@19.2.0_/node_modules/zustand/esm/react.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zustand$40$5$2e$0$2e$8_$40$types$2b$react$40$19$2e$2$2e$2_immer$40$10$2e$2$2e$0_react$40$19$2e$2$2e$0_use$2d$sync$2d$external$2d$store$40$1$2e$6$2e$0_react$40$19$2e$2$2e$0_$2f$node_modules$2f$zustand$2f$esm$2f$middleware$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/zustand@5.0.8_@types+react@19.2.2_immer@10.2.0_react@19.2.0_use-sync-external-store@1.6.0_react@19.2.0_/node_modules/zustand/esm/middleware.mjs [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$notification$2d$events$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/src/lib/stores/notification-events.ts [app-client] (ecmascript)");
;
;
;
;
// Initial state (load from localStorage if available)
const loadSettings = ()=>{
    if ("TURBOPACK compile-time falsy", 0) //TURBOPACK unreachable
    ;
    return {
        soundEnabled: localStorage.getItem("communication_sound_enabled") !== "false",
        desktopNotificationsEnabled: localStorage.getItem("communication_desktop_enabled") !== "false",
        toastDuration: Number.parseInt(localStorage.getItem("communication_toast_duration") || "5000", 10)
    };
};
const useCommunicationNotificationsStore = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zustand$40$5$2e$0$2e$8_$40$types$2b$react$40$19$2e$2$2e$2_immer$40$10$2e$2$2e$0_react$40$19$2e$2$2e$0_use$2d$sync$2d$external$2d$store$40$1$2e$6$2e$0_react$40$19$2e$2$2e$0_$2f$node_modules$2f$zustand$2f$esm$2f$react$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["create"])()((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$zustand$40$5$2e$0$2e$8_$40$types$2b$react$40$19$2e$2$2e$2_immer$40$10$2e$2$2e$0_react$40$19$2e$2$2e$0_use$2d$sync$2d$external$2d$store$40$1$2e$6$2e$0_react$40$19$2e$2$2e$0_$2f$node_modules$2f$zustand$2f$esm$2f$middleware$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["devtools"])((set, get)=>({
        ...loadSettings(),
        toastQueue: [],
        // ===============================================================================
        // Toast Display
        // ===============================================================================
        showCommunicationToast: (notification, options = {})=>{
            const { metadata } = notification;
            const communicationType = metadata?.communication_type;
            // Determine toast appearance based on communication type
            let icon = ""; // Default
            let _toastType = "info";
            switch(communicationType){
                case "call":
                    icon = "";
                    if (notification.priority === "high") {
                        icon = ""; // Missed call
                        _toastType = "error";
                    }
                    break;
                case "sms":
                    icon = "";
                    break;
                case "email":
                    icon = "";
                    break;
                case "voicemail":
                    icon = "";
                    if (notification.priority === "urgent") {
                        _toastType = "error";
                    }
                    break;
            }
            // Play sound if enabled
            const { soundEnabled } = get();
            if (soundEnabled) {
                get().playNotificationSound();
            }
            // Show desktop notification if enabled
            const { desktopNotificationsEnabled } = get();
            if (desktopNotificationsEnabled) {
                get().showDesktopNotification(notification.title, notification.message, metadata ?? undefined);
            }
            // Create toast with custom styling
            const toastId = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$sonner$40$2$2e$0$2e$7_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"])(notification.title, {
                description: notification.message,
                duration: options.duration || get().toastDuration,
                icon,
                closeButton: options.closeButton ?? true,
                dismissible: options.dismissible ?? true,
                action: notification.action_url ? {
                    label: notification.action_label || "View",
                    onClick: ()=>{
                        if ("TURBOPACK compile-time truthy", 1) {
                            const detail = {
                                notificationId: notification.id
                            };
                            window.dispatchEvent(new CustomEvent(__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$notification$2d$events$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["COMMUNICATION_MARK_AS_READ_EVENT"], {
                                detail
                            }));
                        }
                        if (notification.action_url) {
                            window.location.href = notification.action_url;
                        }
                    }
                } : options.action,
                className: notification.priority === "urgent" ? "border-destructive bg-destructive/10" : ""
            });
            // Track toast ID
            set((state)=>({
                    toastQueue: [
                        ...state.toastQueue,
                        String(toastId)
                    ]
                }));
            return toastId;
        },
        showCallToast: (customerName, phoneNumber, status, metadata = {})=>{
            let title = "";
            let message = "";
            let _priority = "medium";
            let icon = "";
            switch(status){
                case "incoming":
                    title = `Incoming call from ${customerName}`;
                    message = phoneNumber;
                    _priority = "high";
                    icon = "";
                    break;
                case "missed":
                    title = `Missed call from ${customerName}`;
                    message = phoneNumber;
                    _priority = "high";
                    icon = "";
                    break;
                case "completed":
                    title = `Call with ${customerName}`;
                    message = `Duration: ${metadata.duration || "Unknown"}`;
                    _priority = "low";
                    icon = "";
                    break;
            }
            const toastId = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$sonner$40$2$2e$0$2e$7_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"])(title, {
                description: message,
                icon,
                duration: get().toastDuration,
                closeButton: true,
                action: {
                    label: "View",
                    onClick: ()=>{
                        window.location.href = "/dashboard/customers/communication?filter=calls";
                    }
                },
                className: status === "missed" ? "border-destructive" : ""
            });
            if (get().soundEnabled) {
                get().playNotificationSound();
            }
            if (get().desktopNotificationsEnabled) {
                get().showDesktopNotification(title, message, {
                    status,
                    ...metadata
                });
            }
            return toastId;
        },
        showVoicemailToast: (customerName, phoneNumber, duration)=>{
            const title = `New voicemail from ${customerName}`;
            const message = duration ? `${phoneNumber}  ${duration}s` : phoneNumber;
            const toastId = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$sonner$40$2$2e$0$2e$7_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"])(title, {
                description: message,
                icon: "",
                duration: get().toastDuration,
                closeButton: true,
                action: {
                    label: "Listen",
                    onClick: ()=>{
                        window.location.href = "/dashboard/customers/communication?filter=voicemails";
                    }
                }
            });
            if (get().soundEnabled) {
                get().playNotificationSound();
            }
            if (get().desktopNotificationsEnabled) {
                get().showDesktopNotification(title, message, {
                    type: "voicemail",
                    duration
                });
            }
            return toastId;
        },
        showSMSToast: (customerName, phoneNumber, message)=>{
            const title = `Text from ${customerName}`;
            const preview = message.length > 100 ? `${message.substring(0, 100)}...` : message;
            const toastId = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$sonner$40$2$2e$0$2e$7_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"])(title, {
                description: preview,
                icon: "",
                duration: get().toastDuration,
                closeButton: true,
                action: {
                    label: "Reply",
                    onClick: ()=>{
                        window.location.href = "/dashboard/customers/communication?filter=sms";
                    }
                }
            });
            if (get().soundEnabled) {
                get().playNotificationSound();
            }
            if (get().desktopNotificationsEnabled) {
                get().showDesktopNotification(title, preview, {
                    type: "sms",
                    from: phoneNumber
                });
            }
            return toastId;
        },
        showEmailToast: (customerName, fromAddress, subject)=>{
            const title = `Email from ${customerName}`;
            const message = subject || "No subject";
            const toastId = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$sonner$40$2$2e$0$2e$7_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"])(title, {
                description: message,
                icon: "",
                duration: get().toastDuration,
                closeButton: true,
                action: {
                    label: "View",
                    onClick: ()=>{
                        window.location.href = "/dashboard/customers/communication?filter=emails";
                    }
                }
            });
            if (get().soundEnabled) {
                get().playNotificationSound();
            }
            if (get().desktopNotificationsEnabled) {
                get().showDesktopNotification(title, message, {
                    type: "email",
                    from: fromAddress
                });
            }
            return toastId;
        },
        dismissToast: (id)=>{
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$sonner$40$2$2e$0$2e$7_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].dismiss(id);
            set((state)=>({
                    toastQueue: state.toastQueue.filter((toastId)=>toastId !== String(id))
                }));
        },
        dismissAllToasts: ()=>{
            __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$sonner$40$2$2e$0$2e$7_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$sonner$2f$dist$2f$index$2e$mjs__$5b$app$2d$client$5d$__$28$ecmascript$29$__["toast"].dismiss();
            set({
                toastQueue: []
            });
        },
        // ===============================================================================
        // Settings
        // ===============================================================================
        setSoundEnabled: (enabled)=>{
            set({
                soundEnabled: enabled
            });
            if ("TURBOPACK compile-time truthy", 1) {
                localStorage.setItem("communication_sound_enabled", enabled.toString());
            }
        },
        setDesktopNotificationsEnabled: (enabled)=>{
            set({
                desktopNotificationsEnabled: enabled
            });
            if ("TURBOPACK compile-time truthy", 1) {
                localStorage.setItem("communication_desktop_enabled", enabled.toString());
            }
            // Request permission if enabling
            if (enabled) {
                get().requestDesktopNotificationPermission();
            }
        },
        setToastDuration: (duration)=>{
            set({
                toastDuration: duration
            });
            if ("TURBOPACK compile-time truthy", 1) {
                localStorage.setItem("communication_toast_duration", duration.toString());
            }
        },
        // ===============================================================================
        // Utility
        // ===============================================================================
        playNotificationSound: ()=>{
            if ("TURBOPACK compile-time falsy", 0) //TURBOPACK unreachable
            ;
            try {
                // Create audio element for notification sound
                const audio = new Audio("/sounds/notification.mp3");
                audio.volume = 0.4;
                audio.play().catch((_error)=>{});
            } catch (_error) {}
        },
        requestDesktopNotificationPermission: async ()=>{
            if (("TURBOPACK compile-time value", "object") === "undefined" || !("Notification" in window)) {
                return false;
            }
            if (Notification.permission === "granted") {
                return true;
            }
            if (Notification.permission !== "denied") {
                const permission = await Notification.requestPermission();
                return permission === "granted";
            }
            return false;
        },
        showDesktopNotification: (title, body, data = {})=>{
            if (("TURBOPACK compile-time value", "object") === "undefined" || !("Notification" in window)) {
                return;
            }
            if (Notification.permission !== "granted") {
                return;
            }
            try {
                const notification = new Notification(title, {
                    body,
                    icon: "/icon-192x192.svg",
                    badge: "/icon-192x192.svg",
                    tag: `communication-${data.type || "general"}`,
                    data,
                    requireInteraction: data.type === "call" && data.status === "incoming"
                });
                // Handle notification click
                notification.onclick = ()=>{
                    window.focus();
                    if (data.action_url) {
                        window.location.href = data.action_url;
                    }
                    notification.close();
                };
            } catch (_error) {}
        }
    }), {
    name: "CommunicationNotificationsStore"
}));
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/components/layout/notifications-initializer.tsx [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "NotificationsInitializer",
    ()=>NotificationsInitializer
]);
/**
 * NotificationsInitializer
 *
 * Ensures realtime notifications and desktop permissions are ready globally.
 * - Subscribes to the notifications store as soon as the dashboard mounts
 * - Requests desktop notification permission once per browser
 * - Keeps communication toasts (SMS, calls, voicemail) in sync with desktop alerts
 */ var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/compiled/react/index.js [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$communication$2d$notifications$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/src/lib/stores/communication-notifications-store.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$notifications$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/apps/web/src/lib/stores/notifications-store.ts [app-client] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$database$2f$src$2f$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/packages/database/src/client.ts [app-client] (ecmascript)");
var _s = __turbopack_context__.k.signature();
"use client";
;
;
;
;
const DESKTOP_PROMPT_KEY = "communication_desktop_prompted";
function NotificationsInitializer() {
    _s();
    const subscribe = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$notifications$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useNotificationsStore"])({
        "NotificationsInitializer.useNotificationsStore[subscribe]": (state)=>state.subscribe
    }["NotificationsInitializer.useNotificationsStore[subscribe]"]);
    const unsubscribe = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$notifications$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useNotificationsStore"])({
        "NotificationsInitializer.useNotificationsStore[unsubscribe]": (state)=>state.unsubscribe
    }["NotificationsInitializer.useNotificationsStore[unsubscribe]"]);
    const requestDesktopPermission = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$communication$2d$notifications$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCommunicationNotificationsStore"])({
        "NotificationsInitializer.useCommunicationNotificationsStore[requestDesktopPermission]": (state)=>state.requestDesktopNotificationPermission
    }["NotificationsInitializer.useCommunicationNotificationsStore[requestDesktopPermission]"]);
    const desktopNotificationsEnabled = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$communication$2d$notifications$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCommunicationNotificationsStore"])({
        "NotificationsInitializer.useCommunicationNotificationsStore[desktopNotificationsEnabled]": (state)=>state.desktopNotificationsEnabled
    }["NotificationsInitializer.useCommunicationNotificationsStore[desktopNotificationsEnabled]"]);
    const setDesktopNotificationsEnabled = (0, __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$communication$2d$notifications$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCommunicationNotificationsStore"])({
        "NotificationsInitializer.useCommunicationNotificationsStore[setDesktopNotificationsEnabled]": (state)=>state.setDesktopNotificationsEnabled
    }["NotificationsInitializer.useCommunicationNotificationsStore[setDesktopNotificationsEnabled]"]);
    const hasSubscribedRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useRef"])(false);
    // Start realtime notifications subscription immediately
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "NotificationsInitializer.useEffect": ()=>{
            if (hasSubscribedRef.current) {
                return;
            }
            hasSubscribedRef.current = true;
            let cancelled = false;
            const supabase = (0, __TURBOPACK__imported__module__$5b$project$5d2f$packages$2f$database$2f$src$2f$client$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createClient"])();
            ({
                "NotificationsInitializer.useEffect": async ()=>{
                    if (!supabase) {
                        return;
                    }
                    const { data: { user } } = await supabase.auth.getUser();
                    if (!user || cancelled) {
                        return;
                    }
                    await subscribe(user.id);
                }
            })["NotificationsInitializer.useEffect"]();
            return ({
                "NotificationsInitializer.useEffect": ()=>{
                    cancelled = true;
                    unsubscribe();
                }
            })["NotificationsInitializer.useEffect"];
        }
    }["NotificationsInitializer.useEffect"], [
        subscribe,
        unsubscribe
    ]);
    // Ask for desktop notification permission once
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$compiled$2f$react$2f$index$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useEffect"])({
        "NotificationsInitializer.useEffect": ()=>{
            if (("TURBOPACK compile-time value", "object") === "undefined" || !("Notification" in window)) {
                return;
            }
            const alreadyPrompted = window.localStorage.getItem(DESKTOP_PROMPT_KEY) === "true";
            const finalizePrompt = {
                "NotificationsInitializer.useEffect.finalizePrompt": (granted)=>{
                    window.localStorage.setItem(DESKTOP_PROMPT_KEY, "true");
                    if (!granted && desktopNotificationsEnabled) {
                        setDesktopNotificationsEnabled(false);
                    }
                }
            }["NotificationsInitializer.useEffect.finalizePrompt"];
            // Permission already decided
            if (Notification.permission === "granted") {
                if (!alreadyPrompted) {
                    window.localStorage.setItem(DESKTOP_PROMPT_KEY, "true");
                }
                return;
            }
            if (Notification.permission === "denied") {
                if (!alreadyPrompted) {
                    window.localStorage.setItem(DESKTOP_PROMPT_KEY, "true");
                }
                if (desktopNotificationsEnabled) {
                    setDesktopNotificationsEnabled(false);
                }
                return;
            }
            // Only prompt once while permission is "default"
            if (alreadyPrompted) {
                return;
            }
            const timer = window.setTimeout({
                "NotificationsInitializer.useEffect.timer": ()=>{
                    requestDesktopPermission().then({
                        "NotificationsInitializer.useEffect.timer": (granted)=>finalizePrompt(granted)
                    }["NotificationsInitializer.useEffect.timer"]).catch({
                        "NotificationsInitializer.useEffect.timer": ()=>finalizePrompt(false)
                    }["NotificationsInitializer.useEffect.timer"]);
                }
            }["NotificationsInitializer.useEffect.timer"], 1500);
            return ({
                "NotificationsInitializer.useEffect": ()=>window.clearTimeout(timer)
            })["NotificationsInitializer.useEffect"];
        }
    }["NotificationsInitializer.useEffect"], [
        desktopNotificationsEnabled,
        requestDesktopPermission,
        setDesktopNotificationsEnabled
    ]);
    return null;
}
_s(NotificationsInitializer, "BKXWqnxJoSjJaJ3SGP1EE8mkAjg=", false, function() {
    return [
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$notifications$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useNotificationsStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$notifications$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useNotificationsStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$communication$2d$notifications$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCommunicationNotificationsStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$communication$2d$notifications$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCommunicationNotificationsStore"],
        __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$lib$2f$stores$2f$communication$2d$notifications$2d$store$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__["useCommunicationNotificationsStore"]
    ];
});
_c = NotificationsInitializer;
var _c;
__turbopack_context__.k.register(_c, "NotificationsInitializer");
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
]);

//# sourceMappingURL=apps_web_src_f882f52d._.js.map