{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/byronwade/Stratos/apps/web/src/hooks/use-mobile.ts"],"sourcesContent":["import * as React from \"react\";\n\nconst MOBILE_BREAKPOINT = 768;\n\nexport function useIsMobile() {\n\tconst [isMobile, setIsMobile] = React.useState<boolean | undefined>(\n\t\tundefined,\n\t);\n\n\tReact.useEffect(() => {\n\t\tconst mql = window.matchMedia(`(max-width: ${MOBILE_BREAKPOINT - 1}px)`);\n\t\tconst onChange = () => {\n\t\t\tsetIsMobile(window.innerWidth < MOBILE_BREAKPOINT);\n\t\t};\n\t\tmql.addEventListener(\"change\", onChange);\n\t\tsetIsMobile(window.innerWidth < MOBILE_BREAKPOINT);\n\t\treturn () => mql.removeEventListener(\"change\", onChange);\n\t}, []);\n\n\treturn !!isMobile;\n}\n"],"names":[],"mappings":";;;;AAAA;;;AAEA,MAAM,oBAAoB;AAEnB,SAAS;;IACf,MAAM,CAAC,UAAU,YAAY,GAAG,gVAAc,CAC7C;IAGD,iVAAe;iCAAC;YACf,MAAM,MAAM,OAAO,UAAU,CAAC,CAAC,YAAY,EAAE,oBAAoB,EAAE,GAAG,CAAC;YACvE,MAAM;kDAAW;oBAChB,YAAY,OAAO,UAAU,GAAG;gBACjC;;YACA,IAAI,gBAAgB,CAAC,UAAU;YAC/B,YAAY,OAAO,UAAU,GAAG;YAChC;yCAAO,IAAM,IAAI,mBAAmB,CAAC,UAAU;;QAChD;gCAAG,EAAE;IAEL,OAAO,CAAC,CAAC;AACV;GAhBgB"}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///Users/byronwade/Stratos/apps/web/src/hooks/use-sidebar-scroll.ts"],"sourcesContent":["\"use client\";\n\n/**\n * useSidebarScroll - Preserve sidebar scroll position across navigation\n *\n * Automatically saves and restores sidebar scroll position when navigating\n * between pages, providing a better UX by maintaining scroll context.\n *\n * Features:\n * - Saves scroll position before navigation\n * - Restores scroll position on mount\n * - Uses sessionStorage (persists during session)\n * - Debounced scroll saves (performance)\n * - Per-pathname scroll positions\n *\n * Usage:\n * ```tsx\n * function AppSidebar() {\n *   const scrollRef = useSidebarScroll();\n *   return (\n *     <SidebarContent ref={scrollRef}>\n *       ...\n *     </SidebarContent>\n *   );\n * }\n * ```\n */\n\nimport { usePathname } from \"next/navigation\";\nimport { useEffect, useRef } from \"react\";\n\nconst STORAGE_KEY = \"sidebar-scroll-positions\";\nconst DEBOUNCE_MS = 150;\n\n/**\n * Hook to preserve sidebar scroll position across navigation\n *\n * @returns Ref to attach to scrollable sidebar element\n */\nexport function useSidebarScroll<T extends HTMLElement = HTMLDivElement>() {\n\tconst scrollRef = useRef<T>(null);\n\tconst pathname = usePathname();\n\tconst scrollTimeoutRef = useRef<NodeJS.Timeout>();\n\n\t// Restore scroll position on mount/pathname change\n\tuseEffect(() => {\n\t\tconst element = scrollRef.current;\n\t\tif (!element || !pathname) return;\n\n\t\t// Small delay to ensure DOM is ready\n\t\tconst timeoutId = setTimeout(() => {\n\t\t\ttry {\n\t\t\t\tconst stored = sessionStorage.getItem(STORAGE_KEY);\n\t\t\t\tif (stored) {\n\t\t\t\t\tconst positions = JSON.parse(stored) as Record<string, number>;\n\t\t\t\t\tconst savedPosition = positions[pathname];\n\n\t\t\t\t\tif (savedPosition !== undefined) {\n\t\t\t\t\t\telement.scrollTop = savedPosition;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Failed to restore sidebar scroll position:\", error);\n\t\t\t}\n\t\t}, 50);\n\n\t\treturn () => clearTimeout(timeoutId);\n\t}, [pathname]);\n\n\t// Save scroll position on scroll (debounced)\n\tuseEffect(() => {\n\t\tconst element = scrollRef.current;\n\t\tif (!element || !pathname) return;\n\n\t\tconst handleScroll = () => {\n\t\t\t// Clear existing timeout\n\t\t\tif (scrollTimeoutRef.current) {\n\t\t\t\tclearTimeout(scrollTimeoutRef.current);\n\t\t\t}\n\n\t\t\t// Debounce scroll saves\n\t\t\tscrollTimeoutRef.current = setTimeout(() => {\n\t\t\t\ttry {\n\t\t\t\t\tconst stored = sessionStorage.getItem(STORAGE_KEY);\n\t\t\t\t\tconst positions = stored ? JSON.parse(stored) : {};\n\n\t\t\t\t\tpositions[pathname] = element.scrollTop;\n\n\t\t\t\t\tsessionStorage.setItem(STORAGE_KEY, JSON.stringify(positions));\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error(\"Failed to save sidebar scroll position:\", error);\n\t\t\t\t}\n\t\t\t}, DEBOUNCE_MS);\n\t\t};\n\n\t\telement.addEventListener(\"scroll\", handleScroll, { passive: true });\n\n\t\treturn () => {\n\t\t\telement.removeEventListener(\"scroll\", handleScroll);\n\t\t\tif (scrollTimeoutRef.current) {\n\t\t\t\tclearTimeout(scrollTimeoutRef.current);\n\t\t\t}\n\t\t};\n\t}, [pathname]);\n\n\t// Save scroll position before unmount\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tconst element = scrollRef.current;\n\t\t\tif (!element || !pathname) return;\n\n\t\t\ttry {\n\t\t\t\tconst stored = sessionStorage.getItem(STORAGE_KEY);\n\t\t\t\tconst positions = stored ? JSON.parse(stored) : {};\n\n\t\t\t\tpositions[pathname] = element.scrollTop;\n\n\t\t\t\tsessionStorage.setItem(STORAGE_KEY, JSON.stringify(positions));\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\"Failed to save sidebar scroll position on unmount:\", error);\n\t\t\t}\n\t\t};\n\t}, [pathname]);\n\n\treturn scrollRef;\n}\n"],"names":[],"mappings":";;;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;CAwBC,GAED;AACA;;AA7BA;;;AA+BA,MAAM,cAAc;AACpB,MAAM,cAAc;AAOb,SAAS;;IACf,MAAM,YAAY,IAAA,8UAAM,EAAI;IAC5B,MAAM,WAAW,IAAA,2TAAW;IAC5B,MAAM,mBAAmB,IAAA,8UAAM;IAE/B,mDAAmD;IACnD,IAAA,iVAAS;sCAAC;YACT,MAAM,UAAU,UAAU,OAAO;YACjC,IAAI,CAAC,WAAW,CAAC,UAAU;YAE3B,qCAAqC;YACrC,MAAM,YAAY;wDAAW;oBAC5B,IAAI;wBACH,MAAM,SAAS,eAAe,OAAO,CAAC;wBACtC,IAAI,QAAQ;4BACX,MAAM,YAAY,KAAK,KAAK,CAAC;4BAC7B,MAAM,gBAAgB,SAAS,CAAC,SAAS;4BAEzC,IAAI,kBAAkB,WAAW;gCAChC,QAAQ,SAAS,GAAG;4BACrB;wBACD;oBACD,EAAE,OAAO,OAAO;wBACf,QAAQ,KAAK,CAAC,8CAA8C;oBAC7D;gBACD;uDAAG;YAEH;8CAAO,IAAM,aAAa;;QAC3B;qCAAG;QAAC;KAAS;IAEb,6CAA6C;IAC7C,IAAA,iVAAS;sCAAC;YACT,MAAM,UAAU,UAAU,OAAO;YACjC,IAAI,CAAC,WAAW,CAAC,UAAU;YAE3B,MAAM;2DAAe;oBACpB,yBAAyB;oBACzB,IAAI,iBAAiB,OAAO,EAAE;wBAC7B,aAAa,iBAAiB,OAAO;oBACtC;oBAEA,wBAAwB;oBACxB,iBAAiB,OAAO,GAAG;mEAAW;4BACrC,IAAI;gCACH,MAAM,SAAS,eAAe,OAAO,CAAC;gCACtC,MAAM,YAAY,SAAS,KAAK,KAAK,CAAC,UAAU,CAAC;gCAEjD,SAAS,CAAC,SAAS,GAAG,QAAQ,SAAS;gCAEvC,eAAe,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;4BACpD,EAAE,OAAO,OAAO;gCACf,QAAQ,KAAK,CAAC,2CAA2C;4BAC1D;wBACD;kEAAG;gBACJ;;YAEA,QAAQ,gBAAgB,CAAC,UAAU,cAAc;gBAAE,SAAS;YAAK;YAEjE;8CAAO;oBACN,QAAQ,mBAAmB,CAAC,UAAU;oBACtC,IAAI,iBAAiB,OAAO,EAAE;wBAC7B,aAAa,iBAAiB,OAAO;oBACtC;gBACD;;QACD;qCAAG;QAAC;KAAS;IAEb,sCAAsC;IACtC,IAAA,iVAAS;sCAAC;YACT;8CAAO;oBACN,MAAM,UAAU,UAAU,OAAO;oBACjC,IAAI,CAAC,WAAW,CAAC,UAAU;oBAE3B,IAAI;wBACH,MAAM,SAAS,eAAe,OAAO,CAAC;wBACtC,MAAM,YAAY,SAAS,KAAK,KAAK,CAAC,UAAU,CAAC;wBAEjD,SAAS,CAAC,SAAS,GAAG,QAAQ,SAAS;wBAEvC,eAAe,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;oBACpD,EAAE,OAAO,OAAO;wBACf,QAAQ,KAAK,CAAC,sDAAsD;oBACrE;gBACD;;QACD;qCAAG;QAAC;KAAS;IAEb,OAAO;AACR;GAtFgB;;QAEE,2TAAW"}}]
}