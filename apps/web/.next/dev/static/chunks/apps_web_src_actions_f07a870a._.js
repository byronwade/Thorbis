(globalThis.TURBOPACK || (globalThis.TURBOPACK = [])).push([typeof document === "object" ? document.currentScript : undefined,
"[project]/apps/web/src/actions/customers.ts [app-client] (ecmascript) <locals>", ((__turbopack_context__) => {
"use strict";

/**
 * Customer Management Server Actions
 *
 * Comprehensive customer relationship management with:
 * - Customer CRUD operations
 * - Customer portal invitation and access
 * - Customer metrics tracking (revenue, jobs, invoices)
 * - Communication preferences
 * - Soft delete/archive support
 * - Customer search and filtering
 */ __turbopack_context__.s([]);
"use turbopack no side effects";
;
;
;
;
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:5f9942 [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"40b277f535f8a989546d6c7e3a1af8abe77de6c459":"deleteCustomer"},"apps/web/src/actions/customers.ts",""] */ __turbopack_context__.s([
    "deleteCustomer",
    ()=>deleteCustomer
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var deleteCustomer = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("40b277f535f8a989546d6c7e3a1af8abe77de6c459", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "deleteCustomer"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vY3VzdG9tZXJzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3VzdG9tZXIgTWFuYWdlbWVudCBTZXJ2ZXIgQWN0aW9uc1xuICpcbiAqIENvbXByZWhlbnNpdmUgY3VzdG9tZXIgcmVsYXRpb25zaGlwIG1hbmFnZW1lbnQgd2l0aDpcbiAqIC0gQ3VzdG9tZXIgQ1JVRCBvcGVyYXRpb25zXG4gKiAtIEN1c3RvbWVyIHBvcnRhbCBpbnZpdGF0aW9uIGFuZCBhY2Nlc3NcbiAqIC0gQ3VzdG9tZXIgbWV0cmljcyB0cmFja2luZyAocmV2ZW51ZSwgam9icywgaW52b2ljZXMpXG4gKiAtIENvbW11bmljYXRpb24gcHJlZmVyZW5jZXNcbiAqIC0gU29mdCBkZWxldGUvYXJjaGl2ZSBzdXBwb3J0XG4gKiAtIEN1c3RvbWVyIHNlYXJjaCBhbmQgZmlsdGVyaW5nXG4gKi9cblxuXCJ1c2Ugc2VydmVyXCI7XG5cbmltcG9ydCB7IGdldEFjdGl2ZUNvbXBhbnlJZCB9IGZyb20gXCJAL2xpYi9hdXRoL2NvbXBhbnktY29udGV4dFwiO1xuaW1wb3J0IHsgc2VuZEVtYWlsIH0gZnJvbSBcIkAvbGliL2VtYWlsL2VtYWlsLXNlbmRlclwiO1xuaW1wb3J0IHsgRW1haWxUZW1wbGF0ZSB9IGZyb20gXCJAL2xpYi9lbWFpbC9lbWFpbC10eXBlc1wiO1xuaW1wb3J0IHtcbiAgICBBY3Rpb25FcnJvcixcbiAgICBFUlJPUl9DT0RFUyxcbiAgICBFUlJPUl9NRVNTQUdFUyxcbn0gZnJvbSBcIkAvbGliL2Vycm9ycy9hY3Rpb24tZXJyb3JcIjtcbmltcG9ydCB7XG4gICAgdHlwZSBBY3Rpb25SZXN1bHQsXG4gICAgYXNzZXJ0QXV0aGVudGljYXRlZCxcbiAgICBhc3NlcnRFeGlzdHMsXG4gICAgd2l0aEVycm9ySGFuZGxpbmcsXG59IGZyb20gXCJAL2xpYi9lcnJvcnMvd2l0aC1lcnJvci1oYW5kbGluZ1wiO1xuaW1wb3J0IHsgZ2VvY29kZUFkZHJlc3NTaWxlbnQgfSBmcm9tIFwiQC9saWIvc2VydmljZXMvZ2VvY29kaW5nXCI7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tIFwiQC9saWIvc3VwYWJhc2Uvc2VydmVyXCI7XG5pbXBvcnQgeyByZXZhbGlkYXRlUGF0aCB9IGZyb20gXCJuZXh0L2NhY2hlXCI7XG5pbXBvcnQgeyB6IH0gZnJvbSBcInpvZFwiO1xuaW1wb3J0IFBvcnRhbEludml0YXRpb25FbWFpbCBmcm9tIFwiLi4vLi4vZW1haWxzL3RlbXBsYXRlcy9jdXN0b21lci9wb3J0YWwtaW52aXRhdGlvblwiO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBWQUxJREFUSU9OIFNDSEVNQVNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuY29uc3QgQ1VTVE9NRVJfTkFNRV9NQVhfTEVOR1RIID0gMTAwO1xuY29uc3QgQ1VTVE9NRVJfQ09NUEFOWV9NQVhfTEVOR1RIID0gMjAwO1xuY29uc3QgQ1VTVE9NRVJfUEhPTkVfTUFYX0xFTkdUSCA9IDIwO1xuY29uc3QgQ1VTVE9NRVJfQUREUkVTU19NQVhfTEVOR1RIID0gMjAwO1xuY29uc3QgQ1VTVE9NRVJfQUREUkVTUzJfTUFYX0xFTkdUSCA9IDEwMDtcbmNvbnN0IENVU1RPTUVSX0NJVFlfTUFYX0xFTkdUSCA9IDEwMDtcbmNvbnN0IENVU1RPTUVSX1NUQVRFX01BWF9MRU5HVEggPSA1MDtcblxuLy8gSFRUUCBTdGF0dXMgY29kZXNcbmNvbnN0IEhUVFBfU1RBVFVTX0ZPUkJJRERFTiA9IDQwMztcblxuLy8gU2VhcmNoIGRlZmF1bHRzXG5jb25zdCBERUZBVUxUX1NFQVJDSF9MSU1JVCA9IDUwO1xuY29uc3QgQ1VTVE9NRVJfWklQX01BWF9MRU5HVEggPSAyMDtcbmNvbnN0IENVU1RPTUVSX0NPVU5UUllfTUFYX0xFTkdUSCA9IDUwO1xuY29uc3QgQ1VTVE9NRVJfVEFYX0VYRU1QVF9OVU1CRVJfTUFYX0xFTkdUSCA9IDUwO1xuY29uc3QgQ0VOVFNfUEVSX0RPTExBUiA9IDEwMDtcblxuZnVuY3Rpb24gcmVxdWlyZVNpdGVVcmwoKTogc3RyaW5nIHtcblx0Y29uc3Qgc2l0ZVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NJVEVfVVJMO1xuXHRpZiAoIXNpdGVVcmwpIHtcblx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcIk5FWFRfUFVCTElDX1NJVEVfVVJMIGlzIG5vdCBjb25maWd1cmVkXCIsXG5cdFx0XHRFUlJPUl9DT0RFUy5JTlRFUk5BTF9TRVJWRVJfRVJST1IsXG5cdFx0KTtcblx0fVxuXHRyZXR1cm4gc2l0ZVVybC5yZXBsYWNlKC9cXC8kLywgXCJcIik7XG59XG5cbmNvbnN0IGN1c3RvbWVyU2NoZW1hID0gei5vYmplY3Qoe1xuXHR0eXBlOiB6XG5cdFx0LmVudW0oW1wicmVzaWRlbnRpYWxcIiwgXCJjb21tZXJjaWFsXCIsIFwiaW5kdXN0cmlhbFwiXSlcblx0XHQuZGVmYXVsdChcInJlc2lkZW50aWFsXCIpLFxuXHRmaXJzdE5hbWU6IHpcblx0XHQuc3RyaW5nKClcblx0XHQubWluKDEsIFwiRmlyc3QgbmFtZSBpcyByZXF1aXJlZFwiKVxuXHRcdC5tYXgoQ1VTVE9NRVJfTkFNRV9NQVhfTEVOR1RIKSxcblx0bGFzdE5hbWU6IHpcblx0XHQuc3RyaW5nKClcblx0XHQubWluKDEsIFwiTGFzdCBuYW1lIGlzIHJlcXVpcmVkXCIpXG5cdFx0Lm1heChDVVNUT01FUl9OQU1FX01BWF9MRU5HVEgpLFxuXHRjb21wYW55TmFtZTogei5zdHJpbmcoKS5tYXgoQ1VTVE9NRVJfQ09NUEFOWV9NQVhfTEVOR1RIKS5vcHRpb25hbCgpLFxuXHRlbWFpbDogei5zdHJpbmcoKS5lbWFpbChcIkludmFsaWQgZW1haWwgYWRkcmVzc1wiKSxcblx0cGhvbmU6IHouc3RyaW5nKCkubWluKDEsIFwiUGhvbmUgaXMgcmVxdWlyZWRcIikubWF4KENVU1RPTUVSX1BIT05FX01BWF9MRU5HVEgpLFxuXHRzZWNvbmRhcnlQaG9uZTogei5zdHJpbmcoKS5tYXgoQ1VTVE9NRVJfUEhPTkVfTUFYX0xFTkdUSCkub3B0aW9uYWwoKSxcblx0YWRkcmVzczogei5zdHJpbmcoKS5tYXgoQ1VTVE9NRVJfQUREUkVTU19NQVhfTEVOR1RIKS5vcHRpb25hbCgpLFxuXHRhZGRyZXNzMjogei5zdHJpbmcoKS5tYXgoQ1VTVE9NRVJfQUREUkVTUzJfTUFYX0xFTkdUSCkub3B0aW9uYWwoKSxcblx0Y2l0eTogei5zdHJpbmcoKS5tYXgoQ1VTVE9NRVJfQ0lUWV9NQVhfTEVOR1RIKS5vcHRpb25hbCgpLFxuXHRzdGF0ZTogei5zdHJpbmcoKS5tYXgoQ1VTVE9NRVJfU1RBVEVfTUFYX0xFTkdUSCkub3B0aW9uYWwoKSxcblx0emlwQ29kZTogei5zdHJpbmcoKS5tYXgoQ1VTVE9NRVJfWklQX01BWF9MRU5HVEgpLm9wdGlvbmFsKCksXG5cdGNvdW50cnk6IHouc3RyaW5nKCkubWF4KENVU1RPTUVSX0NPVU5UUllfTUFYX0xFTkdUSCkuZGVmYXVsdChcIlVTQVwiKSxcblx0c291cmNlOiB6XG5cdFx0LmVudW0oW1wicmVmZXJyYWxcIiwgXCJnb29nbGVcIiwgXCJmYWNlYm9va1wiLCBcImRpcmVjdFwiLCBcInllbHBcIiwgXCJvdGhlclwiXSlcblx0XHQub3B0aW9uYWwoKSxcblx0cmVmZXJyZWRCeTogei5zdHJpbmcoKS51dWlkKCkub3B0aW9uYWwoKS5udWxsYWJsZSgpLFxuXHRwcmVmZXJyZWRDb250YWN0TWV0aG9kOiB6LmVudW0oW1wiZW1haWxcIiwgXCJwaG9uZVwiLCBcInNtc1wiXSkuZGVmYXVsdChcImVtYWlsXCIpLFxuXHRwcmVmZXJyZWRUZWNobmljaWFuOiB6LnN0cmluZygpLnV1aWQoKS5vcHRpb25hbCgpLm51bGxhYmxlKCksXG5cdGJpbGxpbmdFbWFpbDogei5zdHJpbmcoKS5lbWFpbCgpLm9wdGlvbmFsKCkubnVsbGFibGUoKSxcblx0cGF5bWVudFRlcm1zOiB6XG5cdFx0LmVudW0oW1wiZHVlX29uX3JlY2VpcHRcIiwgXCJuZXRfMTVcIiwgXCJuZXRfMzBcIiwgXCJuZXRfNjBcIl0pXG5cdFx0LmRlZmF1bHQoXCJkdWVfb25fcmVjZWlwdFwiKSxcblx0Y3JlZGl0TGltaXQ6IHoubnVtYmVyKCkuaW50KCkubWluKDApLmRlZmF1bHQoMCksIC8vIEluIGNlbnRzXG5cdHRheEV4ZW1wdDogei5ib29sZWFuKCkuZGVmYXVsdChmYWxzZSksXG5cdHRheEV4ZW1wdE51bWJlcjogelxuXHRcdC5zdHJpbmcoKVxuXHRcdC5tYXgoQ1VTVE9NRVJfVEFYX0VYRU1QVF9OVU1CRVJfTUFYX0xFTkdUSClcblx0XHQub3B0aW9uYWwoKSxcblx0dGFnczogei5hcnJheSh6LnN0cmluZygpKS5vcHRpb25hbCgpLFxuXHRub3Rlczogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuXHRpbnRlcm5hbE5vdGVzOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG59KTtcblxuY29uc3QgY29tbXVuaWNhdGlvblByZWZlcmVuY2VzU2NoZW1hID0gei5vYmplY3Qoe1xuXHRlbWFpbDogei5ib29sZWFuKCkuZGVmYXVsdCh0cnVlKSxcblx0c21zOiB6LmJvb2xlYW4oKS5kZWZhdWx0KHRydWUpLFxuXHRwaG9uZTogei5ib29sZWFuKCkuZGVmYXVsdCh0cnVlKSxcblx0bWFya2V0aW5nOiB6LmJvb2xlYW4oKS5kZWZhdWx0KGZhbHNlKSxcbn0pO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBDVVNUT01FUiBDUlVEIE9QRVJBVElPTlNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgY3VzdG9tZXIgd2l0aCBtdWx0aXBsZSBjb250YWN0cyBhbmQgcHJvcGVydGllc1xuICovXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVDdXN0b21lcihcblx0Zm9ybURhdGE6IEZvcm1EYXRhLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8c3RyaW5nPj4ge1xuXHRyZXR1cm4gd2l0aEVycm9ySGFuZGxpbmcoYXN5bmMgKCkgPT4ge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cdFx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRcIkRhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkXCIsXG5cdFx0XHRcdEVSUk9SX0NPREVTLkRCX0NPTk5FQ1RJT05fRVJST1IsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblx0XHRhc3NlcnRBdXRoZW50aWNhdGVkKHVzZXI/LmlkKTtcblxuXHRcdGNvbnN0IHRlYW1NZW1iZXIgPSBhd2FpdCByZXF1aXJlQ3VzdG9tZXJDb21wYW55TWVtYmVyc2hpcChcblx0XHRcdHN1cGFiYXNlLFxuXHRcdFx0dXNlci5pZCxcblx0XHQpO1xuXHRcdGNvbnN0IHsgY29udGFjdHMsIHByb3BlcnRpZXMsIHRhZ3MgfSA9XG5cdFx0XHRwYXJzZUN1c3RvbWVyQ29udGFjdHNQcm9wZXJ0aWVzQW5kVGFncyhmb3JtRGF0YSk7XG5cdFx0Y29uc3QgcHJpbWFyeUNvbnRhY3QgPSBnZXRQcmltYXJ5Q29udGFjdE9yVGhyb3coY29udGFjdHMpO1xuXHRcdGNvbnN0IHByaW1hcnlQcm9wZXJ0eSA9IGdldFByaW1hcnlQcm9wZXJ0eShwcm9wZXJ0aWVzKTtcblxuXHRcdGF3YWl0IGFzc2VydEN1c3RvbWVyRW1haWxOb3REdXBsaWNhdGUoXG5cdFx0XHRzdXBhYmFzZSxcblx0XHRcdHRlYW1NZW1iZXIuY29tcGFueV9pZCxcblx0XHRcdHByaW1hcnlDb250YWN0LmVtYWlsLFxuXHRcdCk7XG5cblx0XHRjb25zdCBjdXN0b21lclR5cGUgPSBmb3JtRGF0YS5nZXQoXCJ0eXBlXCIpIHx8IFwicmVzaWRlbnRpYWxcIjtcblx0XHRjb25zdCBjb21wYW55TmFtZSA9IGZvcm1EYXRhLmdldChcImNvbXBhbnlOYW1lXCIpO1xuXHRcdGNvbnN0IGRpc3BsYXlOYW1lID0gYnVpbGRDdXN0b21lckRpc3BsYXlOYW1lKFxuXHRcdFx0Y3VzdG9tZXJUeXBlLFxuXHRcdFx0Y29tcGFueU5hbWUsXG5cdFx0XHRwcmltYXJ5Q29udGFjdCxcblx0XHQpO1xuXG5cdFx0Y29uc3QgY29tbXVuaWNhdGlvblByZWZlcmVuY2VzID0gYnVpbGREZWZhdWx0Q29tbXVuaWNhdGlvblByZWZlcmVuY2VzKCk7XG5cdFx0Y29uc3QgY3VzdG9tZXJNZXRhZGF0YSA9IGJ1aWxkQ3VzdG9tZXJNZXRhZGF0YShjb250YWN0cyk7XG5cblx0XHRjb25zdCB7IGxhdDogY3VzdG9tZXJMYXQsIGxvbjogY3VzdG9tZXJMb24gfSA9XG5cdFx0XHRhd2FpdCBnZW9jb2RlUHJpbWFyeVByb3BlcnR5SWZBdmFpbGFibGUocHJpbWFyeVByb3BlcnR5KTtcblxuXHRcdGNvbnN0IGN1c3RvbWVyID0gYXdhaXQgaW5zZXJ0Q3VzdG9tZXJSZWNvcmQoc3VwYWJhc2UsIHtcblx0XHRcdGNvbXBhbnlJZDogdGVhbU1lbWJlci5jb21wYW55X2lkLFxuXHRcdFx0Y3VzdG9tZXJUeXBlLFxuXHRcdFx0cHJpbWFyeUNvbnRhY3QsXG5cdFx0XHRjb21wYW55TmFtZVZhbHVlOiBjb21wYW55TmFtZSxcblx0XHRcdGRpc3BsYXlOYW1lLFxuXHRcdFx0cHJpbWFyeVByb3BlcnR5LFxuXHRcdFx0Y3VzdG9tZXJMYXQsXG5cdFx0XHRjdXN0b21lckxvbixcblx0XHRcdGZvcm1EYXRhLFxuXHRcdFx0dGFncyxcblx0XHRcdGNvbW11bmljYXRpb25QcmVmZXJlbmNlcyxcblx0XHRcdGN1c3RvbWVyTWV0YWRhdGEsXG5cdFx0fSk7XG5cblx0XHRhd2FpdCBpbnNlcnRBZGRpdGlvbmFsUHJvcGVydGllc0lmQW55KFxuXHRcdFx0c3VwYWJhc2UsXG5cdFx0XHR0ZWFtTWVtYmVyLmNvbXBhbnlfaWQsXG5cdFx0XHRjdXN0b21lci5pZCxcblx0XHRcdHByb3BlcnRpZXMsXG5cdFx0KTtcblxuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9jdXN0b21lcnNcIik7XG5cdFx0cmV0dXJuIGN1c3RvbWVyLmlkO1xuXHR9KTtcbn1cblxudHlwZSBQYXJzZWRDdXN0b21lckNvbnRhY3QgPSB7XG5cdGZpcnN0TmFtZTogc3RyaW5nO1xuXHRsYXN0TmFtZTogc3RyaW5nO1xuXHRlbWFpbDogc3RyaW5nO1xuXHRwaG9uZTogc3RyaW5nO1xuXHRyb2xlOiBzdHJpbmc7XG5cdGlzUHJpbWFyeTogYm9vbGVhbjtcbn07XG5cbnR5cGUgUGFyc2VkQ3VzdG9tZXJQcm9wZXJ0eSA9IHtcblx0bmFtZTogc3RyaW5nO1xuXHRhZGRyZXNzOiBzdHJpbmc7XG5cdGFkZHJlc3MyOiBzdHJpbmc7XG5cdGNpdHk6IHN0cmluZztcblx0c3RhdGU6IHN0cmluZztcblx0emlwQ29kZTogc3RyaW5nO1xuXHRjb3VudHJ5OiBzdHJpbmc7XG5cdHByb3BlcnR5VHlwZTogc3RyaW5nO1xuXHRpc1ByaW1hcnk6IGJvb2xlYW47XG5cdG5vdGVzOiBzdHJpbmc7XG59O1xuXG50eXBlIFBhcnNlZEN1c3RvbWVyRm9ybUNvbGxlY3Rpb25zID0ge1xuXHRjb250YWN0czogUGFyc2VkQ3VzdG9tZXJDb250YWN0W107XG5cdHByb3BlcnRpZXM6IFBhcnNlZEN1c3RvbWVyUHJvcGVydHlbXTtcblx0dGFncz86IHN0cmluZ1tdO1xufTtcblxuYXN5bmMgZnVuY3Rpb24gcmVxdWlyZUN1c3RvbWVyQ29tcGFueU1lbWJlcnNoaXAoXG5cdHN1cGFiYXNlOiBOb25OdWxsYWJsZTxBd2FpdGVkPFJldHVyblR5cGU8dHlwZW9mIGNyZWF0ZUNsaWVudD4+Pixcblx0dXNlcklkOiBzdHJpbmcsXG4pIHtcblx0Y29uc3QgeyBkYXRhOiB0ZWFtTWVtYmVyIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdC5mcm9tKFwiY29tcGFueV9tZW1iZXJzaGlwc1wiKVxuXHRcdC5zZWxlY3QoXCJjb21wYW55X2lkXCIpXG5cdFx0LmVxKFwidXNlcl9pZFwiLCB1c2VySWQpXG5cdFx0LnNpbmdsZSgpO1xuXG5cdGlmICghdGVhbU1lbWJlcj8uY29tcGFueV9pZCkge1xuXHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFwiWW91IG11c3QgYmUgcGFydCBvZiBhIGNvbXBhbnlcIixcblx0XHRcdEVSUk9SX0NPREVTLkFVVEhfRk9SQklEREVOLFxuXHRcdFx0SFRUUF9TVEFUVVNfRk9SQklEREVOLFxuXHRcdCk7XG5cdH1cblxuXHRyZXR1cm4gdGVhbU1lbWJlcjtcbn1cblxuZnVuY3Rpb24gcGFyc2VDdXN0b21lckNvbnRhY3RzUHJvcGVydGllc0FuZFRhZ3MoXG5cdGZvcm1EYXRhOiBGb3JtRGF0YSxcbik6IFBhcnNlZEN1c3RvbWVyRm9ybUNvbGxlY3Rpb25zIHtcblx0Y29uc3QgY29udGFjdHMgPSBwYXJzZUNvbnRhY3RzKGZvcm1EYXRhLmdldChcImNvbnRhY3RzXCIpKTtcblx0Y29uc3QgcHJvcGVydGllcyA9IHBhcnNlUHJvcGVydGllcyhmb3JtRGF0YS5nZXQoXCJwcm9wZXJ0aWVzXCIpKTtcblx0Y29uc3QgdGFncyA9IHBhcnNlVGFnc0ZpZWxkKGZvcm1EYXRhLmdldChcInRhZ3NcIikpO1xuXG5cdHJldHVybiB7IGNvbnRhY3RzLCBwcm9wZXJ0aWVzLCB0YWdzIH07XG59XG5cbmZ1bmN0aW9uIHBhcnNlQ29udGFjdHMoXG5cdHZhbHVlOiBGb3JtRGF0YUVudHJ5VmFsdWUgfCBudWxsLFxuKTogUGFyc2VkQ3VzdG9tZXJDb250YWN0W10ge1xuXHRpZiAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIikge1xuXHRcdHJldHVybiBbXTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0cmV0dXJuIEpTT04ucGFyc2UodmFsdWUpIGFzIFBhcnNlZEN1c3RvbWVyQ29udGFjdFtdO1xuXHR9IGNhdGNoIHtcblx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcIkludmFsaWQgY29udGFjdHMgZGF0YVwiLFxuXHRcdFx0RVJST1JfQ09ERVMuVkFMSURBVElPTl9GQUlMRUQsXG5cdFx0KTtcblx0fVxufVxuXG5mdW5jdGlvbiBwYXJzZVByb3BlcnRpZXMoXG5cdHZhbHVlOiBGb3JtRGF0YUVudHJ5VmFsdWUgfCBudWxsLFxuKTogUGFyc2VkQ3VzdG9tZXJQcm9wZXJ0eVtdIHtcblx0aWYgKCF2YWx1ZSB8fCB0eXBlb2YgdmFsdWUgIT09IFwic3RyaW5nXCIpIHtcblx0XHRyZXR1cm4gW107XG5cdH1cblxuXHR0cnkge1xuXHRcdHJldHVybiBKU09OLnBhcnNlKHZhbHVlKSBhcyBQYXJzZWRDdXN0b21lclByb3BlcnR5W107XG5cdH0gY2F0Y2gge1xuXHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFwiSW52YWxpZCBwcm9wZXJ0aWVzIGRhdGFcIixcblx0XHRcdEVSUk9SX0NPREVTLlZBTElEQVRJT05fRkFJTEVELFxuXHRcdCk7XG5cdH1cbn1cblxuZnVuY3Rpb24gcGFyc2VUYWdzRmllbGQoXG5cdHZhbHVlOiBGb3JtRGF0YUVudHJ5VmFsdWUgfCBudWxsLFxuKTogc3RyaW5nW10gfCB1bmRlZmluZWQge1xuXHRpZiAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIikge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdHRyeSB7XG5cdFx0cmV0dXJuIEpTT04ucGFyc2UodmFsdWUpIGFzIHN0cmluZ1tdO1xuXHR9IGNhdGNoIHtcblx0XHRyZXR1cm4gdmFsdWUuc3BsaXQoXCIsXCIpLm1hcCgodCkgPT4gdC50cmltKCkpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGdldFByaW1hcnlDb250YWN0T3JUaHJvdyhcblx0Y29udGFjdHM6IFBhcnNlZEN1c3RvbWVyQ29udGFjdFtdLFxuKTogUGFyc2VkQ3VzdG9tZXJDb250YWN0IHtcblx0Y29uc3QgcHJpbWFyeUNvbnRhY3QgPSBjb250YWN0cy5maW5kKChjKSA9PiBjLmlzUHJpbWFyeSkgfHwgY29udGFjdHNbMF07XG5cdGlmICghcHJpbWFyeUNvbnRhY3QpIHtcblx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcIkF0IGxlYXN0IG9uZSBjb250YWN0IGlzIHJlcXVpcmVkXCIsXG5cdFx0XHRFUlJPUl9DT0RFUy5WQUxJREFUSU9OX0ZBSUxFRCxcblx0XHQpO1xuXHR9XG5cdHJldHVybiBwcmltYXJ5Q29udGFjdDtcbn1cblxuZnVuY3Rpb24gZ2V0UHJpbWFyeVByb3BlcnR5KFxuXHRwcm9wZXJ0aWVzOiBQYXJzZWRDdXN0b21lclByb3BlcnR5W10sXG4pOiBQYXJzZWRDdXN0b21lclByb3BlcnR5IHwgdW5kZWZpbmVkIHtcblx0cmV0dXJuIHByb3BlcnRpZXMuZmluZCgocCkgPT4gcC5pc1ByaW1hcnkpIHx8IHByb3BlcnRpZXNbMF07XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGFzc2VydEN1c3RvbWVyRW1haWxOb3REdXBsaWNhdGUoXG5cdHN1cGFiYXNlOiBOb25OdWxsYWJsZTxBd2FpdGVkPFJldHVyblR5cGU8dHlwZW9mIGNyZWF0ZUNsaWVudD4+Pixcblx0Y29tcGFueUlkOiBzdHJpbmcsXG5cdGVtYWlsOiBzdHJpbmcsXG4pIHtcblx0Y29uc3QgeyBkYXRhOiBleGlzdGluZ0VtYWlsIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdC5mcm9tKFwiY3VzdG9tZXJzXCIpXG5cdFx0LnNlbGVjdChcImlkXCIpXG5cdFx0LmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpXG5cdFx0LmVxKFwiZW1haWxcIiwgZW1haWwpXG5cdFx0LmlzKFwiZGVsZXRlZF9hdFwiLCBudWxsKVxuXHRcdC5zaW5nbGUoKTtcblxuXHRpZiAoZXhpc3RpbmdFbWFpbCkge1xuXHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFwiQSBjdXN0b21lciB3aXRoIHRoaXMgZW1haWwgYWxyZWFkeSBleGlzdHNcIixcblx0XHRcdEVSUk9SX0NPREVTLkRCX0RVUExJQ0FURV9FTlRSWSxcblx0XHQpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGJ1aWxkQ3VzdG9tZXJEaXNwbGF5TmFtZShcblx0Y3VzdG9tZXJUeXBlOiBGb3JtRGF0YUVudHJ5VmFsdWUgfCBudWxsLFxuXHRjb21wYW55TmFtZVZhbHVlOiBGb3JtRGF0YUVudHJ5VmFsdWUgfCBudWxsLFxuXHRwcmltYXJ5Q29udGFjdDogUGFyc2VkQ3VzdG9tZXJDb250YWN0LFxuKTogc3RyaW5nIHtcblx0Y29uc3QgY29tcGFueU5hbWUgPSBjb21wYW55TmFtZVZhbHVlID8gU3RyaW5nKGNvbXBhbnlOYW1lVmFsdWUpIDogbnVsbDtcblxuXHRpZiAoY3VzdG9tZXJUeXBlID09PSBcImNvbW1lcmNpYWxcIiAmJiBjb21wYW55TmFtZSkge1xuXHRcdHJldHVybiBjb21wYW55TmFtZTtcblx0fVxuXG5cdHJldHVybiBgJHtwcmltYXJ5Q29udGFjdC5maXJzdE5hbWV9ICR7cHJpbWFyeUNvbnRhY3QubGFzdE5hbWV9YDtcbn1cblxuZnVuY3Rpb24gYnVpbGREZWZhdWx0Q29tbXVuaWNhdGlvblByZWZlcmVuY2VzKCkge1xuXHRyZXR1cm4ge1xuXHRcdGVtYWlsOiB0cnVlLFxuXHRcdHNtczogdHJ1ZSxcblx0XHRwaG9uZTogdHJ1ZSxcblx0XHRtYXJrZXRpbmc6IGZhbHNlLFxuXHR9O1xufVxuXG5mdW5jdGlvbiBidWlsZEN1c3RvbWVyTWV0YWRhdGEoY29udGFjdHM6IFBhcnNlZEN1c3RvbWVyQ29udGFjdFtdKSB7XG5cdHJldHVybiB7XG5cdFx0Y29udGFjdHM6IGNvbnRhY3RzLm1hcCgoYykgPT4gKHtcblx0XHRcdGZpcnN0TmFtZTogYy5maXJzdE5hbWUsXG5cdFx0XHRsYXN0TmFtZTogYy5sYXN0TmFtZSxcblx0XHRcdGVtYWlsOiBjLmVtYWlsLFxuXHRcdFx0cGhvbmU6IGMucGhvbmUsXG5cdFx0XHRyb2xlOiBjLnJvbGUsXG5cdFx0XHRpc1ByaW1hcnk6IGMuaXNQcmltYXJ5LFxuXHRcdH0pKSxcblx0fTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2VvY29kZVByaW1hcnlQcm9wZXJ0eUlmQXZhaWxhYmxlKFxuXHRwcmltYXJ5UHJvcGVydHk6IFBhcnNlZEN1c3RvbWVyUHJvcGVydHkgfCB1bmRlZmluZWQsXG4pOiBQcm9taXNlPHsgbGF0OiBudW1iZXIgfCBudWxsOyBsb246IG51bWJlciB8IG51bGwgfT4ge1xuXHRpZiAoXG5cdFx0IShcblx0XHRcdHByaW1hcnlQcm9wZXJ0eT8uYWRkcmVzcyAmJlxuXHRcdFx0cHJpbWFyeVByb3BlcnR5LmNpdHkgJiZcblx0XHRcdHByaW1hcnlQcm9wZXJ0eS5zdGF0ZSAmJlxuXHRcdFx0cHJpbWFyeVByb3BlcnR5LnppcENvZGVcblx0XHQpXG5cdCkge1xuXHRcdHJldHVybiB7IGxhdDogbnVsbCwgbG9uOiBudWxsIH07XG5cdH1cblxuXHRjb25zdCBnZW9jb2RlUmVzdWx0ID0gYXdhaXQgZ2VvY29kZUFkZHJlc3NTaWxlbnQoXG5cdFx0cHJpbWFyeVByb3BlcnR5LmFkZHJlc3MsXG5cdFx0cHJpbWFyeVByb3BlcnR5LmNpdHksXG5cdFx0cHJpbWFyeVByb3BlcnR5LnN0YXRlLFxuXHRcdHByaW1hcnlQcm9wZXJ0eS56aXBDb2RlLFxuXHRcdHByaW1hcnlQcm9wZXJ0eS5jb3VudHJ5IHx8IFwiVVNBXCIsXG5cdCk7XG5cblx0aWYgKCFnZW9jb2RlUmVzdWx0KSB7XG5cdFx0cmV0dXJuIHsgbGF0OiBudWxsLCBsb246IG51bGwgfTtcblx0fVxuXG5cdHJldHVybiB7IGxhdDogZ2VvY29kZVJlc3VsdC5sYXQsIGxvbjogZ2VvY29kZVJlc3VsdC5sb24gfTtcbn1cblxudHlwZSBJbnNlcnRDdXN0b21lclBhcmFtcyA9IHtcblx0Y29tcGFueUlkOiBzdHJpbmc7XG5cdGN1c3RvbWVyVHlwZTogRm9ybURhdGFFbnRyeVZhbHVlIHwgbnVsbDtcblx0cHJpbWFyeUNvbnRhY3Q6IFBhcnNlZEN1c3RvbWVyQ29udGFjdDtcblx0Y29tcGFueU5hbWVWYWx1ZTogRm9ybURhdGFFbnRyeVZhbHVlIHwgbnVsbDtcblx0ZGlzcGxheU5hbWU6IHN0cmluZztcblx0cHJpbWFyeVByb3BlcnR5PzogUGFyc2VkQ3VzdG9tZXJQcm9wZXJ0eTtcblx0Y3VzdG9tZXJMYXQ6IG51bWJlciB8IG51bGw7XG5cdGN1c3RvbWVyTG9uOiBudW1iZXIgfCBudWxsO1xuXHRmb3JtRGF0YTogRm9ybURhdGE7XG5cdHRhZ3M/OiBzdHJpbmdbXTtcblx0Y29tbXVuaWNhdGlvblByZWZlcmVuY2VzOiB7XG5cdFx0ZW1haWw6IGJvb2xlYW47XG5cdFx0c21zOiBib29sZWFuO1xuXHRcdHBob25lOiBib29sZWFuO1xuXHRcdG1hcmtldGluZzogYm9vbGVhbjtcblx0fTtcblx0Y3VzdG9tZXJNZXRhZGF0YTogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG59O1xuXG5hc3luYyBmdW5jdGlvbiBpbnNlcnRDdXN0b21lclJlY29yZChcblx0c3VwYWJhc2U6IE5vbk51bGxhYmxlPEF3YWl0ZWQ8UmV0dXJuVHlwZTx0eXBlb2YgY3JlYXRlQ2xpZW50Pj4+LFxuXHRwYXJhbXM6IEluc2VydEN1c3RvbWVyUGFyYW1zLFxuKSB7XG5cdGNvbnN0IHBheWxvYWQgPSBidWlsZEN1c3RvbWVySW5zZXJ0UGF5bG9hZChwYXJhbXMpO1xuXG5cdGNvbnN0IHsgZGF0YTogY3VzdG9tZXIsIGVycm9yOiBjcmVhdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHQuZnJvbShcImN1c3RvbWVyc1wiKVxuXHRcdC5pbnNlcnQocGF5bG9hZClcblx0XHQuc2VsZWN0KFwiaWRcIilcblx0XHQuc2luZ2xlKCk7XG5cblx0aWYgKGNyZWF0ZUVycm9yIHx8ICFjdXN0b21lcikge1xuXHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdEVSUk9SX01FU1NBR0VTLm9wZXJhdGlvbkZhaWxlZChcImNyZWF0ZSBjdXN0b21lclwiKSxcblx0XHRcdEVSUk9SX0NPREVTLkRCX1FVRVJZX0VSUk9SLFxuXHRcdCk7XG5cdH1cblxuXHRyZXR1cm4gY3VzdG9tZXI7XG59XG5cbmZ1bmN0aW9uIGJ1aWxkQ3VzdG9tZXJJbnNlcnRQYXlsb2FkKFxuXHRwYXJhbXM6IEluc2VydEN1c3RvbWVyUGFyYW1zLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuXHRjb25zdCB7XG5cdFx0Y29tcGFueUlkLFxuXHRcdGN1c3RvbWVyVHlwZSxcblx0XHRwcmltYXJ5Q29udGFjdCxcblx0XHRjb21wYW55TmFtZVZhbHVlLFxuXHRcdGRpc3BsYXlOYW1lLFxuXHRcdHByaW1hcnlQcm9wZXJ0eSxcblx0XHRjdXN0b21lckxhdCxcblx0XHRjdXN0b21lckxvbixcblx0XHRmb3JtRGF0YSxcblx0XHR0YWdzLFxuXHRcdGNvbW11bmljYXRpb25QcmVmZXJlbmNlcyxcblx0XHRjdXN0b21lck1ldGFkYXRhLFxuXHR9ID0gcGFyYW1zO1xuXG5cdGNvbnN0IGNvbXBhbnlOYW1lID0gY29tcGFueU5hbWVWYWx1ZSA/IFN0cmluZyhjb21wYW55TmFtZVZhbHVlKSA6IG51bGw7XG5cblx0cmV0dXJuIHtcblx0XHRjb21wYW55X2lkOiBjb21wYW55SWQsXG5cdFx0dHlwZTogU3RyaW5nKGN1c3RvbWVyVHlwZSB8fCBcInJlc2lkZW50aWFsXCIpLFxuXHRcdGZpcnN0X25hbWU6IHByaW1hcnlDb250YWN0LmZpcnN0TmFtZSxcblx0XHRsYXN0X25hbWU6IHByaW1hcnlDb250YWN0Lmxhc3ROYW1lLFxuXHRcdGNvbXBhbnlfbmFtZTogY29tcGFueU5hbWUsXG5cdFx0ZGlzcGxheV9uYW1lOiBkaXNwbGF5TmFtZSxcblx0XHRlbWFpbDogcHJpbWFyeUNvbnRhY3QuZW1haWwsXG5cdFx0cGhvbmU6IHByaW1hcnlDb250YWN0LnBob25lLFxuXHRcdHNlY29uZGFyeV9waG9uZTogbnVsbCxcblx0XHRhZGRyZXNzOiBwcmltYXJ5UHJvcGVydHk/LmFkZHJlc3MgfHwgbnVsbCxcblx0XHRhZGRyZXNzMjogcHJpbWFyeVByb3BlcnR5Py5hZGRyZXNzMiB8fCBudWxsLFxuXHRcdGNpdHk6IHByaW1hcnlQcm9wZXJ0eT8uY2l0eSB8fCBudWxsLFxuXHRcdHN0YXRlOiBwcmltYXJ5UHJvcGVydHk/LnN0YXRlIHx8IG51bGwsXG5cdFx0emlwX2NvZGU6IHByaW1hcnlQcm9wZXJ0eT8uemlwQ29kZSB8fCBudWxsLFxuXHRcdGNvdW50cnk6IHByaW1hcnlQcm9wZXJ0eT8uY291bnRyeSB8fCBcIlVTQVwiLFxuXHRcdGxhdDogY3VzdG9tZXJMYXQsXG5cdFx0bG9uOiBjdXN0b21lckxvbixcblx0XHRzb3VyY2U6IGZvcm1EYXRhLmdldChcInNvdXJjZVwiKSA/IFN0cmluZyhmb3JtRGF0YS5nZXQoXCJzb3VyY2VcIikpIDogbnVsbCxcblx0XHRyZWZlcnJlZF9ieTogZm9ybURhdGEuZ2V0KFwicmVmZXJyZWRCeVwiKVxuXHRcdFx0PyBTdHJpbmcoZm9ybURhdGEuZ2V0KFwicmVmZXJyZWRCeVwiKSlcblx0XHRcdDogbnVsbCxcblx0XHRwcmVmZXJyZWRfY29udGFjdF9tZXRob2Q6XG5cdFx0XHRTdHJpbmcoZm9ybURhdGEuZ2V0KFwicHJlZmVycmVkQ29udGFjdE1ldGhvZFwiKSkgfHwgXCJlbWFpbFwiLFxuXHRcdHByZWZlcnJlZF90ZWNobmljaWFuOiBmb3JtRGF0YS5nZXQoXCJwcmVmZXJyZWRUZWNobmljaWFuXCIpXG5cdFx0XHQ/IFN0cmluZyhmb3JtRGF0YS5nZXQoXCJwcmVmZXJyZWRUZWNobmljaWFuXCIpKVxuXHRcdFx0OiBudWxsLFxuXHRcdGJpbGxpbmdfZW1haWw6IGZvcm1EYXRhLmdldChcImJpbGxpbmdFbWFpbFwiKVxuXHRcdFx0PyBTdHJpbmcoZm9ybURhdGEuZ2V0KFwiYmlsbGluZ0VtYWlsXCIpKVxuXHRcdFx0OiBudWxsLFxuXHRcdHBheW1lbnRfdGVybXM6IFN0cmluZyhmb3JtRGF0YS5nZXQoXCJwYXltZW50VGVybXNcIikpIHx8IFwiZHVlX29uX3JlY2VpcHRcIixcblx0XHRjcmVkaXRfbGltaXQ6IGZvcm1EYXRhLmdldChcImNyZWRpdExpbWl0XCIpXG5cdFx0XHQ/IE51bWJlcihmb3JtRGF0YS5nZXQoXCJjcmVkaXRMaW1pdFwiKSkgKiBDRU5UU19QRVJfRE9MTEFSXG5cdFx0XHQ6IDAsXG5cdFx0dGF4X2V4ZW1wdDogZm9ybURhdGEuZ2V0KFwidGF4RXhlbXB0XCIpID09PSBcIm9uXCIsXG5cdFx0dGF4X2V4ZW1wdF9udW1iZXI6IGZvcm1EYXRhLmdldChcInRheEV4ZW1wdE51bWJlclwiKVxuXHRcdFx0PyBTdHJpbmcoZm9ybURhdGEuZ2V0KFwidGF4RXhlbXB0TnVtYmVyXCIpKVxuXHRcdFx0OiBudWxsLFxuXHRcdHRhZ3M6IHRhZ3MgfHwgbnVsbCxcblx0XHRjb21tdW5pY2F0aW9uX3ByZWZlcmVuY2VzOiBjb21tdW5pY2F0aW9uUHJlZmVyZW5jZXMsXG5cdFx0bm90ZXM6IGZvcm1EYXRhLmdldChcIm5vdGVzXCIpID8gU3RyaW5nKGZvcm1EYXRhLmdldChcIm5vdGVzXCIpKSA6IG51bGwsXG5cdFx0aW50ZXJuYWxfbm90ZXM6IGZvcm1EYXRhLmdldChcImludGVybmFsTm90ZXNcIilcblx0XHRcdD8gU3RyaW5nKGZvcm1EYXRhLmdldChcImludGVybmFsTm90ZXNcIikpXG5cdFx0XHQ6IG51bGwsXG5cdFx0bWV0YWRhdGE6IGN1c3RvbWVyTWV0YWRhdGEsXG5cdFx0c3RhdHVzOiBcImFjdGl2ZVwiLFxuXHRcdHBvcnRhbF9lbmFibGVkOiBmYWxzZSxcblx0XHR0b3RhbF9yZXZlbnVlOiAwLFxuXHRcdHRvdGFsX2pvYnM6IDAsXG5cdFx0dG90YWxfaW52b2ljZXM6IDAsXG5cdFx0YXZlcmFnZV9qb2JfdmFsdWU6IDAsXG5cdFx0b3V0c3RhbmRpbmdfYmFsYW5jZTogMCxcblx0fTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gaW5zZXJ0QWRkaXRpb25hbFByb3BlcnRpZXNJZkFueShcblx0c3VwYWJhc2U6IE5vbk51bGxhYmxlPEF3YWl0ZWQ8UmV0dXJuVHlwZTx0eXBlb2YgY3JlYXRlQ2xpZW50Pj4+LFxuXHRjb21wYW55SWQ6IHN0cmluZyxcblx0Y3VzdG9tZXJJZDogc3RyaW5nLFxuXHRwcm9wZXJ0aWVzOiBQYXJzZWRDdXN0b21lclByb3BlcnR5W10sXG4pIHtcblx0Y29uc3QgYWRkaXRpb25hbFByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzLmZpbHRlcigocCkgPT4gIXAuaXNQcmltYXJ5KTtcblx0aWYgKGFkZGl0aW9uYWxQcm9wZXJ0aWVzLmxlbmd0aCA9PT0gMCkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGNvbnN0IHByb3BlcnRpZXNUb0luc2VydCA9IGF3YWl0IFByb21pc2UuYWxsKFxuXHRcdGFkZGl0aW9uYWxQcm9wZXJ0aWVzLm1hcChhc3luYyAocHJvcCkgPT4ge1xuXHRcdFx0bGV0IHByb3BMYXQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xuXHRcdFx0bGV0IHByb3BMb246IG51bWJlciB8IG51bGwgPSBudWxsO1xuXG5cdFx0XHRpZiAocHJvcC5hZGRyZXNzICYmIHByb3AuY2l0eSAmJiBwcm9wLnN0YXRlICYmIHByb3AuemlwQ29kZSkge1xuXHRcdFx0XHRjb25zdCBnZW9jb2RlUmVzdWx0ID0gYXdhaXQgZ2VvY29kZUFkZHJlc3NTaWxlbnQoXG5cdFx0XHRcdFx0cHJvcC5hZGRyZXNzLFxuXHRcdFx0XHRcdHByb3AuY2l0eSxcblx0XHRcdFx0XHRwcm9wLnN0YXRlLFxuXHRcdFx0XHRcdHByb3AuemlwQ29kZSxcblx0XHRcdFx0XHRwcm9wLmNvdW50cnkgfHwgXCJVU0FcIixcblx0XHRcdFx0KTtcblxuXHRcdFx0XHRpZiAoZ2VvY29kZVJlc3VsdCkge1xuXHRcdFx0XHRcdHByb3BMYXQgPSBnZW9jb2RlUmVzdWx0LmxhdDtcblx0XHRcdFx0XHRwcm9wTG9uID0gZ2VvY29kZVJlc3VsdC5sb247XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0Y29tcGFueV9pZDogY29tcGFueUlkLFxuXHRcdFx0XHRjdXN0b21lcl9pZDogY3VzdG9tZXJJZCxcblx0XHRcdFx0bmFtZTogcHJvcC5uYW1lIHx8IFwiQWRkaXRpb25hbCBQcm9wZXJ0eVwiLFxuXHRcdFx0XHRhZGRyZXNzOiBwcm9wLmFkZHJlc3MsXG5cdFx0XHRcdGFkZHJlc3MyOiBwcm9wLmFkZHJlc3MyIHx8IG51bGwsXG5cdFx0XHRcdGNpdHk6IHByb3AuY2l0eSxcblx0XHRcdFx0c3RhdGU6IHByb3Auc3RhdGUsXG5cdFx0XHRcdHppcF9jb2RlOiBwcm9wLnppcENvZGUsXG5cdFx0XHRcdGNvdW50cnk6IHByb3AuY291bnRyeSB8fCBcIlVTQVwiLFxuXHRcdFx0XHRwcm9wZXJ0eV90eXBlOiBwcm9wLnByb3BlcnR5VHlwZSB8fCBcInJlc2lkZW50aWFsXCIsXG5cdFx0XHRcdG5vdGVzOiBwcm9wLm5vdGVzIHx8IG51bGwsXG5cdFx0XHRcdGxhdDogcHJvcExhdCxcblx0XHRcdFx0bG9uOiBwcm9wTG9uLFxuXHRcdFx0fTtcblx0XHR9KSxcblx0KTtcblxuXHRhd2FpdCBzdXBhYmFzZS5mcm9tKFwicHJvcGVydGllc1wiKS5pbnNlcnQocHJvcGVydGllc1RvSW5zZXJ0KTtcbn1cblxuLyoqXG4gKiBVcGRhdGUgZXhpc3RpbmcgY3VzdG9tZXJcbiAqL1xuYXN5bmMgZnVuY3Rpb24gdXBkYXRlQ3VzdG9tZXIoXG5cdGN1c3RvbWVySWQ6IHN0cmluZyxcblx0Zm9ybURhdGE6IEZvcm1EYXRhLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8dm9pZD4+IHtcblx0cmV0dXJuIHdpdGhFcnJvckhhbmRsaW5nKGFzeW5jICgpID0+IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0XCJEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZFwiLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9DT05ORUNUSU9OX0VSUk9SLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cdFx0YXNzZXJ0QXV0aGVudGljYXRlZCh1c2VyPy5pZCk7XG5cblx0XHRjb25zdCB0ZWFtTWVtYmVyID0gYXdhaXQgcmVxdWlyZUN1c3RvbWVyQ29tcGFueU1lbWJlcnNoaXAoXG5cdFx0XHRzdXBhYmFzZSxcblx0XHRcdHVzZXIuaWQsXG5cdFx0KTtcblxuXHRcdC8vIFZlcmlmeSBjdXN0b21lciBleGlzdHMgYW5kIGJlbG9uZ3MgdG8gY29tcGFueVxuXHRcdGNvbnN0IHsgZGF0YTogY3VzdG9tZXIgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImN1c3RvbWVyc1wiKVxuXHRcdFx0LnNlbGVjdChcImlkLCBjb21wYW55X2lkLCBlbWFpbFwiKVxuXHRcdFx0LmVxKFwiaWRcIiwgY3VzdG9tZXJJZClcblx0XHRcdC5pcyhcImRlbGV0ZWRfYXRcIiwgbnVsbClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGFzc2VydEV4aXN0cyhjdXN0b21lciwgXCJDdXN0b21lclwiKTtcblxuXHRcdGlmIChjdXN0b21lci5jb21wYW55X2lkICE9PSB0ZWFtTWVtYmVyLmNvbXBhbnlfaWQpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0XCJDdXN0b21lciBub3QgZm91bmRcIixcblx0XHRcdFx0RVJST1JfQ09ERVMuQVVUSF9GT1JCSURERU4sXG5cdFx0XHRcdEhUVFBfU1RBVFVTX0ZPUkJJRERFTixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Ly8gUGFyc2UgdGFncyBpZiBwcm92aWRlZFxuXHRcdGxldCB0YWdzOiBzdHJpbmdbXSB8IHVuZGVmaW5lZDtcblx0XHRjb25zdCB0YWdzU3RyaW5nID0gZm9ybURhdGEuZ2V0KFwidGFnc1wiKTtcblx0XHRpZiAodGFnc1N0cmluZyAmJiB0eXBlb2YgdGFnc1N0cmluZyA9PT0gXCJzdHJpbmdcIikge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0dGFncyA9IEpTT04ucGFyc2UodGFnc1N0cmluZyk7XG5cdFx0XHR9IGNhdGNoIHtcblx0XHRcdFx0dGFncyA9IHRhZ3NTdHJpbmcuc3BsaXQoXCIsXCIpLm1hcCgodCkgPT4gdC50cmltKCkpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFZhbGlkYXRlIGlucHV0XG5cdFx0Y29uc3QgZGF0YSA9IGN1c3RvbWVyU2NoZW1hLnBhcnNlKHtcblx0XHRcdHR5cGU6IGZvcm1EYXRhLmdldChcInR5cGVcIikgfHwgXCJyZXNpZGVudGlhbFwiLFxuXHRcdFx0Zmlyc3ROYW1lOiBmb3JtRGF0YS5nZXQoXCJmaXJzdE5hbWVcIiksXG5cdFx0XHRsYXN0TmFtZTogZm9ybURhdGEuZ2V0KFwibGFzdE5hbWVcIiksXG5cdFx0XHRjb21wYW55TmFtZTogZm9ybURhdGEuZ2V0KFwiY29tcGFueU5hbWVcIikgfHwgdW5kZWZpbmVkLFxuXHRcdFx0ZW1haWw6IGZvcm1EYXRhLmdldChcImVtYWlsXCIpLFxuXHRcdFx0cGhvbmU6IGZvcm1EYXRhLmdldChcInBob25lXCIpLFxuXHRcdFx0c2Vjb25kYXJ5UGhvbmU6IGZvcm1EYXRhLmdldChcInNlY29uZGFyeVBob25lXCIpIHx8IHVuZGVmaW5lZCxcblx0XHRcdGFkZHJlc3M6IGZvcm1EYXRhLmdldChcImFkZHJlc3NcIikgfHwgdW5kZWZpbmVkLFxuXHRcdFx0YWRkcmVzczI6IGZvcm1EYXRhLmdldChcImFkZHJlc3MyXCIpIHx8IHVuZGVmaW5lZCxcblx0XHRcdGNpdHk6IGZvcm1EYXRhLmdldChcImNpdHlcIikgfHwgdW5kZWZpbmVkLFxuXHRcdFx0c3RhdGU6IGZvcm1EYXRhLmdldChcInN0YXRlXCIpIHx8IHVuZGVmaW5lZCxcblx0XHRcdHppcENvZGU6IGZvcm1EYXRhLmdldChcInppcENvZGVcIikgfHwgdW5kZWZpbmVkLFxuXHRcdFx0Y291bnRyeTogZm9ybURhdGEuZ2V0KFwiY291bnRyeVwiKSB8fCBcIlVTQVwiLFxuXHRcdFx0c291cmNlOiBmb3JtRGF0YS5nZXQoXCJzb3VyY2VcIikgfHwgdW5kZWZpbmVkLFxuXHRcdFx0cmVmZXJyZWRCeTogZm9ybURhdGEuZ2V0KFwicmVmZXJyZWRCeVwiKSB8fCBudWxsLFxuXHRcdFx0cHJlZmVycmVkQ29udGFjdE1ldGhvZDogZm9ybURhdGEuZ2V0KFwicHJlZmVycmVkQ29udGFjdE1ldGhvZFwiKSB8fCBcImVtYWlsXCIsXG5cdFx0XHRwcmVmZXJyZWRUZWNobmljaWFuOiBmb3JtRGF0YS5nZXQoXCJwcmVmZXJyZWRUZWNobmljaWFuXCIpIHx8IG51bGwsXG5cdFx0XHRiaWxsaW5nRW1haWw6IGZvcm1EYXRhLmdldChcImJpbGxpbmdFbWFpbFwiKSB8fCBudWxsLFxuXHRcdFx0cGF5bWVudFRlcm1zOiBmb3JtRGF0YS5nZXQoXCJwYXltZW50VGVybXNcIikgfHwgXCJkdWVfb25fcmVjZWlwdFwiLFxuXHRcdFx0Y3JlZGl0TGltaXQ6IGZvcm1EYXRhLmdldChcImNyZWRpdExpbWl0XCIpXG5cdFx0XHRcdD8gTnVtYmVyKGZvcm1EYXRhLmdldChcImNyZWRpdExpbWl0XCIpKVxuXHRcdFx0XHQ6IDAsXG5cdFx0XHR0YXhFeGVtcHQ6IGZvcm1EYXRhLmdldChcInRheEV4ZW1wdFwiKSA9PT0gXCJ0cnVlXCIsXG5cdFx0XHR0YXhFeGVtcHROdW1iZXI6IGZvcm1EYXRhLmdldChcInRheEV4ZW1wdE51bWJlclwiKSB8fCB1bmRlZmluZWQsXG5cdFx0XHR0YWdzLFxuXHRcdFx0bm90ZXM6IGZvcm1EYXRhLmdldChcIm5vdGVzXCIpIHx8IHVuZGVmaW5lZCxcblx0XHRcdGludGVybmFsTm90ZXM6IGZvcm1EYXRhLmdldChcImludGVybmFsTm90ZXNcIikgfHwgdW5kZWZpbmVkLFxuXHRcdH0pO1xuXG5cdFx0Ly8gQ2hlY2sgaWYgZW1haWwgYWxyZWFkeSBleGlzdHMgKGV4Y2x1ZGluZyBjdXJyZW50IGN1c3RvbWVyKVxuXHRcdGlmIChkYXRhLmVtYWlsICE9PSBjdXN0b21lci5lbWFpbCkge1xuXHRcdFx0Y29uc3QgeyBkYXRhOiBleGlzdGluZ0VtYWlsIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0XHQuZnJvbShcImN1c3RvbWVyc1wiKVxuXHRcdFx0XHQuc2VsZWN0KFwiaWRcIilcblx0XHRcdFx0LmVxKFwiY29tcGFueV9pZFwiLCB0ZWFtTWVtYmVyLmNvbXBhbnlfaWQpXG5cdFx0XHRcdC5lcShcImVtYWlsXCIsIGRhdGEuZW1haWwpXG5cdFx0XHRcdC5uZXEoXCJpZFwiLCBjdXN0b21lcklkKVxuXHRcdFx0XHQuaXMoXCJkZWxldGVkX2F0XCIsIG51bGwpXG5cdFx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdFx0aWYgKGV4aXN0aW5nRW1haWwpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRcdFwiQSBjdXN0b21lciB3aXRoIHRoaXMgZW1haWwgYWxyZWFkeSBleGlzdHNcIixcblx0XHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9EVVBMSUNBVEVfRU5UUlksXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gR2VuZXJhdGUgZGlzcGxheSBuYW1lXG5cdFx0Y29uc3QgZGlzcGxheU5hbWUgPVxuXHRcdFx0ZGF0YS50eXBlID09PSBcImNvbW1lcmNpYWxcIiAmJiBkYXRhLmNvbXBhbnlOYW1lXG5cdFx0XHRcdD8gZGF0YS5jb21wYW55TmFtZVxuXHRcdFx0XHQ6IGAke2RhdGEuZmlyc3ROYW1lfSAke2RhdGEubGFzdE5hbWV9YDtcblxuXHRcdGNvbnN0IGNvbXBhbnlOYW1lID0gZGF0YS5jb21wYW55TmFtZSA/IFN0cmluZyhkYXRhLmNvbXBhbnlOYW1lKSA6IG51bGw7XG5cblx0XHQvLyBVcGRhdGUgY3VzdG9tZXJcblx0XHRjb25zdCB7IGVycm9yOiB1cGRhdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiY3VzdG9tZXJzXCIpXG5cdFx0XHQudXBkYXRlKHtcblx0XHRcdFx0dHlwZTogZGF0YS50eXBlLFxuXHRcdFx0XHRmaXJzdF9uYW1lOiBkYXRhLmZpcnN0TmFtZSxcblx0XHRcdFx0bGFzdF9uYW1lOiBkYXRhLmxhc3ROYW1lLFxuXHRcdFx0XHRjb21wYW55X25hbWU6IGNvbXBhbnlOYW1lLFxuXHRcdFx0XHRkaXNwbGF5X25hbWU6IGRpc3BsYXlOYW1lLFxuXHRcdFx0XHRlbWFpbDogZGF0YS5lbWFpbCxcblx0XHRcdFx0cGhvbmU6IGRhdGEucGhvbmUsXG5cdFx0XHRcdHNlY29uZGFyeV9waG9uZTogZGF0YS5zZWNvbmRhcnlQaG9uZSxcblx0XHRcdFx0YWRkcmVzczogZGF0YS5hZGRyZXNzLFxuXHRcdFx0XHRhZGRyZXNzMjogZGF0YS5hZGRyZXNzMixcblx0XHRcdFx0Y2l0eTogZGF0YS5jaXR5LFxuXHRcdFx0XHRzdGF0ZTogZGF0YS5zdGF0ZSxcblx0XHRcdFx0emlwX2NvZGU6IGRhdGEuemlwQ29kZSxcblx0XHRcdFx0Y291bnRyeTogZGF0YS5jb3VudHJ5LFxuXHRcdFx0XHRzb3VyY2U6IGRhdGEuc291cmNlLFxuXHRcdFx0XHRyZWZlcnJlZF9ieTogZGF0YS5yZWZlcnJlZEJ5LFxuXHRcdFx0XHRwcmVmZXJyZWRfY29udGFjdF9tZXRob2Q6IGRhdGEucHJlZmVycmVkQ29udGFjdE1ldGhvZCxcblx0XHRcdFx0cHJlZmVycmVkX3RlY2huaWNpYW46IGRhdGEucHJlZmVycmVkVGVjaG5pY2lhbixcblx0XHRcdFx0YmlsbGluZ19lbWFpbDogZGF0YS5iaWxsaW5nRW1haWwsXG5cdFx0XHRcdHBheW1lbnRfdGVybXM6IGRhdGEucGF5bWVudFRlcm1zLFxuXHRcdFx0XHRjcmVkaXRfbGltaXQ6IGRhdGEuY3JlZGl0TGltaXQsXG5cdFx0XHRcdHRheF9leGVtcHQ6IGRhdGEudGF4RXhlbXB0LFxuXHRcdFx0XHR0YXhfZXhlbXB0X251bWJlcjogZGF0YS50YXhFeGVtcHROdW1iZXIsXG5cdFx0XHRcdHRhZ3M6IGRhdGEudGFncyxcblx0XHRcdFx0bm90ZXM6IGRhdGEubm90ZXMsXG5cdFx0XHRcdGludGVybmFsX25vdGVzOiBkYXRhLmludGVybmFsTm90ZXMsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgY3VzdG9tZXJJZCk7XG5cblx0XHRpZiAodXBkYXRlRXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0RVJST1JfTUVTU0FHRVMub3BlcmF0aW9uRmFpbGVkKFwidXBkYXRlIGN1c3RvbWVyXCIpLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9RVUVSWV9FUlJPUixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL2N1c3RvbWVyc1wiKTtcblx0XHRyZXZhbGlkYXRlUGF0aChgL2Rhc2hib2FyZC9jdXN0b21lcnMvJHtjdXN0b21lcklkfWApO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBEZWxldGUgY3VzdG9tZXIgKHNvZnQgZGVsZXRlL2FyY2hpdmUpXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVDdXN0b21lcihcblx0Y3VzdG9tZXJJZDogc3RyaW5nLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8dm9pZD4+IHtcblx0cmV0dXJuIHdpdGhFcnJvckhhbmRsaW5nKGFzeW5jICgpID0+IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0XCJEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZFwiLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9DT05ORUNUSU9OX0VSUk9SLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cdFx0YXNzZXJ0QXV0aGVudGljYXRlZCh1c2VyPy5pZCk7XG5cblx0XHRjb25zdCB0ZWFtTWVtYmVyID0gYXdhaXQgcmVxdWlyZUN1c3RvbWVyQ29tcGFueU1lbWJlcnNoaXAoXG5cdFx0XHRzdXBhYmFzZSxcblx0XHRcdHVzZXIuaWQsXG5cdFx0KTtcblxuXHRcdC8vIFZlcmlmeSBjdXN0b21lciBleGlzdHMgYW5kIGJlbG9uZ3MgdG8gY29tcGFueVxuXHRcdGNvbnN0IHsgZGF0YTogY3VzdG9tZXIgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImN1c3RvbWVyc1wiKVxuXHRcdFx0LnNlbGVjdChcImlkLCBjb21wYW55X2lkLCBvdXRzdGFuZGluZ19iYWxhbmNlXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBjdXN0b21lcklkKVxuXHRcdFx0LmlzKFwiZGVsZXRlZF9hdFwiLCBudWxsKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0YXNzZXJ0RXhpc3RzKGN1c3RvbWVyLCBcIkN1c3RvbWVyXCIpO1xuXG5cdFx0aWYgKGN1c3RvbWVyLmNvbXBhbnlfaWQgIT09IHRlYW1NZW1iZXIuY29tcGFueV9pZCkge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRcIkN1c3RvbWVyIG5vdCBmb3VuZFwiLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5BVVRIX0ZPUkJJRERFTixcblx0XHRcdFx0SFRUUF9TVEFUVVNfRk9SQklEREVOLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyBQcmV2ZW50IGRlbGV0aW9uIGlmIGN1c3RvbWVyIGhhcyBvdXRzdGFuZGluZyBiYWxhbmNlXG5cdFx0aWYgKGN1c3RvbWVyLm91dHN0YW5kaW5nX2JhbGFuY2UgPiAwKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdFwiQ2Fubm90IGRlbGV0ZSBjdXN0b21lciB3aXRoIG91dHN0YW5kaW5nIGJhbGFuY2UuIENvbGxlY3QgcGF5bWVudCBmaXJzdC5cIixcblx0XHRcdFx0RVJST1JfQ09ERVMuQlVTSU5FU1NfUlVMRV9WSU9MQVRJT04sXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdC8vIFNvZnQgZGVsZXRlXG5cdFx0Y29uc3QgeyBlcnJvcjogZGVsZXRlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImN1c3RvbWVyc1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdGRlbGV0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdFx0ZGVsZXRlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0c3RhdHVzOiBcImFyY2hpdmVkXCIsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgY3VzdG9tZXJJZCk7XG5cblx0XHRpZiAoZGVsZXRlRXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0RVJST1JfTUVTU0FHRVMub3BlcmF0aW9uRmFpbGVkKFwiZGVsZXRlIGN1c3RvbWVyXCIpLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9RVUVSWV9FUlJPUixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL2N1c3RvbWVyc1wiKTtcblx0fSk7XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIENVU1RPTUVSIFNUQVRVUyAmIFBSRUZFUkVOQ0VTXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogVXBkYXRlIGN1c3RvbWVyIHN0YXR1c1xuICovXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVDdXN0b21lclN0YXR1cyhcblx0Y3VzdG9tZXJJZDogc3RyaW5nLFxuXHRzdGF0dXM6IFwiYWN0aXZlXCIgfCBcImluYWN0aXZlXCIgfCBcImFyY2hpdmVkXCIgfCBcImJsb2NrZWRcIixcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PHZvaWQ+PiB7XG5cdHJldHVybiB3aXRoRXJyb3JIYW5kbGluZyhhc3luYyAoKSA9PiB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdFwiRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWRcIixcblx0XHRcdFx0RVJST1JfQ09ERVMuREJfQ09OTkVDVElPTl9FUlJPUixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXHRcdGFzc2VydEF1dGhlbnRpY2F0ZWQodXNlcj8uaWQpO1xuXG5cdFx0Y29uc3QgdGVhbU1lbWJlciA9IGF3YWl0IHJlcXVpcmVDdXN0b21lckNvbXBhbnlNZW1iZXJzaGlwKFxuXHRcdFx0c3VwYWJhc2UsXG5cdFx0XHR1c2VyLmlkLFxuXHRcdCk7XG5cblx0XHQvLyBWZXJpZnkgY3VzdG9tZXIgZXhpc3RzIGFuZCBiZWxvbmdzIHRvIGNvbXBhbnlcblx0XHRjb25zdCB7IGRhdGE6IGN1c3RvbWVyIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjdXN0b21lcnNcIilcblx0XHRcdC5zZWxlY3QoXCJpZCwgY29tcGFueV9pZFwiKVxuXHRcdFx0LmVxKFwiaWRcIiwgY3VzdG9tZXJJZClcblx0XHRcdC5pcyhcImRlbGV0ZWRfYXRcIiwgbnVsbClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGFzc2VydEV4aXN0cyhjdXN0b21lciwgXCJDdXN0b21lclwiKTtcblxuXHRcdGlmIChjdXN0b21lci5jb21wYW55X2lkICE9PSB0ZWFtTWVtYmVyLmNvbXBhbnlfaWQpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0XCJDdXN0b21lciBub3QgZm91bmRcIixcblx0XHRcdFx0RVJST1JfQ09ERVMuQVVUSF9GT1JCSURERU4sXG5cdFx0XHRcdEhUVFBfU1RBVFVTX0ZPUkJJRERFTixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Ly8gVXBkYXRlIHN0YXR1c1xuXHRcdGNvbnN0IHsgZXJyb3I6IHVwZGF0ZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjdXN0b21lcnNcIilcblx0XHRcdC51cGRhdGUoeyBzdGF0dXMgfSlcblx0XHRcdC5lcShcImlkXCIsIGN1c3RvbWVySWQpO1xuXG5cdFx0aWYgKHVwZGF0ZUVycm9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdEVSUk9SX01FU1NBR0VTLm9wZXJhdGlvbkZhaWxlZChcInVwZGF0ZSBjdXN0b21lciBzdGF0dXNcIiksXG5cdFx0XHRcdEVSUk9SX0NPREVTLkRCX1FVRVJZX0VSUk9SLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvY3VzdG9tZXJzXCIpO1xuXHRcdHJldmFsaWRhdGVQYXRoKGAvZGFzaGJvYXJkL2N1c3RvbWVycy8ke2N1c3RvbWVySWR9YCk7XG5cdH0pO1xufVxuXG4vKipcbiAqIFVwZGF0ZSBjb21tdW5pY2F0aW9uIHByZWZlcmVuY2VzXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUNvbW11bmljYXRpb25QcmVmZXJlbmNlcyhcblx0Y3VzdG9tZXJJZDogc3RyaW5nLFxuXHRmb3JtRGF0YTogRm9ybURhdGEsXG4pOiBQcm9taXNlPEFjdGlvblJlc3VsdDx2b2lkPj4ge1xuXHRyZXR1cm4gd2l0aEVycm9ySGFuZGxpbmcoYXN5bmMgKCkgPT4ge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cdFx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRcIkRhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkXCIsXG5cdFx0XHRcdEVSUk9SX0NPREVTLkRCX0NPTk5FQ1RJT05fRVJST1IsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblx0XHRhc3NlcnRBdXRoZW50aWNhdGVkKHVzZXI/LmlkKTtcblxuXHRcdGNvbnN0IHRlYW1NZW1iZXIgPSBhd2FpdCByZXF1aXJlQ3VzdG9tZXJDb21wYW55TWVtYmVyc2hpcChcblx0XHRcdHN1cGFiYXNlLFxuXHRcdFx0dXNlci5pZCxcblx0XHQpO1xuXG5cdFx0Ly8gVmVyaWZ5IGN1c3RvbWVyIGV4aXN0cyBhbmQgYmVsb25ncyB0byBjb21wYW55XG5cdFx0Y29uc3QgeyBkYXRhOiBjdXN0b21lciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiY3VzdG9tZXJzXCIpXG5cdFx0XHQuc2VsZWN0KFwiaWQsIGNvbXBhbnlfaWRcIilcblx0XHRcdC5lcShcImlkXCIsIGN1c3RvbWVySWQpXG5cdFx0XHQuaXMoXCJkZWxldGVkX2F0XCIsIG51bGwpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRhc3NlcnRFeGlzdHMoY3VzdG9tZXIsIFwiQ3VzdG9tZXJcIik7XG5cblx0XHRpZiAoY3VzdG9tZXIuY29tcGFueV9pZCAhPT0gdGVhbU1lbWJlci5jb21wYW55X2lkKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdFwiQ3VzdG9tZXIgbm90IGZvdW5kXCIsXG5cdFx0XHRcdEVSUk9SX0NPREVTLkFVVEhfRk9SQklEREVOLFxuXHRcdFx0XHRIVFRQX1NUQVRVU19GT1JCSURERU4sXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdC8vIFZhbGlkYXRlIGlucHV0XG5cdFx0Y29uc3QgcHJlZmVyZW5jZXMgPSBjb21tdW5pY2F0aW9uUHJlZmVyZW5jZXNTY2hlbWEucGFyc2Uoe1xuXHRcdFx0ZW1haWw6IGZvcm1EYXRhLmdldChcImVtYWlsXCIpID09PSBcInRydWVcIixcblx0XHRcdHNtczogZm9ybURhdGEuZ2V0KFwic21zXCIpID09PSBcInRydWVcIixcblx0XHRcdHBob25lOiBmb3JtRGF0YS5nZXQoXCJwaG9uZVwiKSA9PT0gXCJ0cnVlXCIsXG5cdFx0XHRtYXJrZXRpbmc6IGZvcm1EYXRhLmdldChcIm1hcmtldGluZ1wiKSA9PT0gXCJ0cnVlXCIsXG5cdFx0fSk7XG5cblx0XHQvLyBVcGRhdGUgcHJlZmVyZW5jZXNcblx0XHRjb25zdCB7IGVycm9yOiB1cGRhdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiY3VzdG9tZXJzXCIpXG5cdFx0XHQudXBkYXRlKHsgY29tbXVuaWNhdGlvbl9wcmVmZXJlbmNlczogcHJlZmVyZW5jZXMgfSlcblx0XHRcdC5lcShcImlkXCIsIGN1c3RvbWVySWQpO1xuXG5cdFx0aWYgKHVwZGF0ZUVycm9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdEVSUk9SX01FU1NBR0VTLm9wZXJhdGlvbkZhaWxlZChcInVwZGF0ZSBjb21tdW5pY2F0aW9uIHByZWZlcmVuY2VzXCIpLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9RVUVSWV9FUlJPUixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoYC9kYXNoYm9hcmQvY3VzdG9tZXJzLyR7Y3VzdG9tZXJJZH1gKTtcblx0fSk7XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIENVU1RPTUVSIFBPUlRBTFxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIEludml0ZSBjdXN0b21lciB0byBwb3J0YWxcbiAqIFNlbmRzIGFuIGVtYWlsIHdpdGggYSBzZWN1cmUgdG9rZW4tYmFzZWQgaW52aXRhdGlvbiBsaW5rLlxuICovXG5hc3luYyBmdW5jdGlvbiBpbnZpdGVUb1BvcnRhbChcblx0Y3VzdG9tZXJJZDogc3RyaW5nLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8dm9pZD4+IHtcblx0cmV0dXJuIHdpdGhFcnJvckhhbmRsaW5nKGFzeW5jICgpID0+IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0XCJEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZFwiLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9DT05ORUNUSU9OX0VSUk9SLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cdFx0YXNzZXJ0QXV0aGVudGljYXRlZCh1c2VyPy5pZCk7XG5cblx0XHRjb25zdCB0ZWFtTWVtYmVyID0gYXdhaXQgcmVxdWlyZUN1c3RvbWVyQ29tcGFueU1lbWJlcnNoaXAoXG5cdFx0XHRzdXBhYmFzZSxcblx0XHRcdHVzZXIuaWQsXG5cdFx0KTtcblxuXHRcdC8vIFZlcmlmeSBjdXN0b21lciBleGlzdHMgYW5kIGJlbG9uZ3MgdG8gY29tcGFueVxuXHRcdGNvbnN0IHsgZGF0YTogY3VzdG9tZXIgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImN1c3RvbWVyc1wiKVxuXHRcdFx0LnNlbGVjdChcImlkLCBjb21wYW55X2lkLCBlbWFpbCwgZGlzcGxheV9uYW1lLCBwb3J0YWxfZW5hYmxlZFwiKVxuXHRcdFx0LmVxKFwiaWRcIiwgY3VzdG9tZXJJZClcblx0XHRcdC5pcyhcImRlbGV0ZWRfYXRcIiwgbnVsbClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGFzc2VydEV4aXN0cyhjdXN0b21lciwgXCJDdXN0b21lclwiKTtcblxuXHRcdGlmIChjdXN0b21lci5jb21wYW55X2lkICE9PSB0ZWFtTWVtYmVyLmNvbXBhbnlfaWQpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0XCJDdXN0b21lciBub3QgZm91bmRcIixcblx0XHRcdFx0RVJST1JfQ09ERVMuQVVUSF9GT1JCSURERU4sXG5cdFx0XHRcdEhUVFBfU1RBVFVTX0ZPUkJJRERFTixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0aWYgKGN1c3RvbWVyLnBvcnRhbF9lbmFibGVkKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdFwiQ3VzdG9tZXIgaXMgYWxyZWFkeSBpbnZpdGVkIHRvIHBvcnRhbFwiLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5CVVNJTkVTU19SVUxFX1ZJT0xBVElPTixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Ly8gR2VuZXJhdGUgc2VjdXJlIHBvcnRhbCBpbnZpdGF0aW9uIHRva2VuXG5cdFx0Y29uc3QgaW52aXRlVG9rZW4gPSBCdWZmZXIuZnJvbShcblx0XHRcdGAke2N1c3RvbWVySWR9OiR7RGF0ZS5ub3coKX06JHtNYXRoLnJhbmRvbSgpfWAsXG5cdFx0KS50b1N0cmluZyhcImJhc2U2NHVybFwiKTtcblxuXHRcdC8vIFVwZGF0ZSBjdXN0b21lclxuXHRcdGNvbnN0IHsgZXJyb3I6IHVwZGF0ZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjdXN0b21lcnNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRwb3J0YWxfZW5hYmxlZDogdHJ1ZSxcblx0XHRcdFx0cG9ydGFsX2ludml0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBjdXN0b21lcklkKTtcblxuXHRcdGlmICh1cGRhdGVFcnJvcikge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRFUlJPUl9NRVNTQUdFUy5vcGVyYXRpb25GYWlsZWQoXCJpbnZpdGUgY3VzdG9tZXIgdG8gcG9ydGFsXCIpLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9RVUVSWV9FUlJPUixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Ly8gU2VuZCBpbnZpdGF0aW9uIGVtYWlsXG5cdFx0Y29uc3Qgc2l0ZVVybCA9IHJlcXVpcmVTaXRlVXJsKCk7XG5cdFx0Y29uc3QgcG9ydGFsVXJsID0gYCR7c2l0ZVVybH0vcG9ydGFsL3NldHVwP3Rva2VuPSR7aW52aXRlVG9rZW59YDtcblxuXHRcdGNvbnN0IGVtYWlsUmVzdWx0ID0gYXdhaXQgc2VuZEVtYWlsKHtcblx0XHRcdHRvOiBjdXN0b21lci5lbWFpbCxcblx0XHRcdHN1YmplY3Q6IFwiWW91J3ZlIGJlZW4gaW52aXRlZCB0byB5b3VyIEN1c3RvbWVyIFBvcnRhbFwiLFxuXHRcdFx0dGVtcGxhdGU6IFBvcnRhbEludml0YXRpb25FbWFpbCh7XG5cdFx0XHRcdGN1c3RvbWVyTmFtZTogY3VzdG9tZXIuZGlzcGxheV9uYW1lLFxuXHRcdFx0XHRwb3J0YWxVcmwsXG5cdFx0XHRcdGV4cGlyZXNJbkhvdXJzOiAxNjgsIC8vIDcgZGF5c1xuXHRcdFx0XHRzdXBwb3J0RW1haWw6IHByb2Nlc3MuZW52LlJFU0VORF9GUk9NX0VNQUlMIHx8IFwic3VwcG9ydEB0aG9yYmlzLmNvbVwiLFxuXHRcdFx0XHRzdXBwb3J0UGhvbmU6IFwiKDU1NSkgMTIzLTQ1NjdcIixcblx0XHRcdH0pLFxuXHRcdFx0dGVtcGxhdGVUeXBlOiBFbWFpbFRlbXBsYXRlLlBPUlRBTF9JTlZJVEFUSU9OLFxuXHRcdH0pO1xuXG5cdFx0aWYgKCFlbWFpbFJlc3VsdC5zdWNjZXNzKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL2N1c3RvbWVyc1wiKTtcblx0XHRyZXZhbGlkYXRlUGF0aChgL2Rhc2hib2FyZC9jdXN0b21lcnMvJHtjdXN0b21lcklkfWApO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBSZXZva2UgcG9ydGFsIGFjY2Vzc1xuICovXG5hc3luYyBmdW5jdGlvbiByZXZva2VQb3J0YWxBY2Nlc3MoXG5cdGN1c3RvbWVySWQ6IHN0cmluZyxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PHZvaWQ+PiB7XG5cdHJldHVybiB3aXRoRXJyb3JIYW5kbGluZyhhc3luYyAoKSA9PiB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdFwiRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWRcIixcblx0XHRcdFx0RVJST1JfQ09ERVMuREJfQ09OTkVDVElPTl9FUlJPUixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXHRcdGFzc2VydEF1dGhlbnRpY2F0ZWQodXNlcj8uaWQpO1xuXG5cdFx0Y29uc3QgdGVhbU1lbWJlciA9IGF3YWl0IHJlcXVpcmVDdXN0b21lckNvbXBhbnlNZW1iZXJzaGlwKFxuXHRcdFx0c3VwYWJhc2UsXG5cdFx0XHR1c2VyLmlkLFxuXHRcdCk7XG5cblx0XHQvLyBWZXJpZnkgY3VzdG9tZXIgZXhpc3RzIGFuZCBiZWxvbmdzIHRvIGNvbXBhbnlcblx0XHRjb25zdCB7IGRhdGE6IGN1c3RvbWVyIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjdXN0b21lcnNcIilcblx0XHRcdC5zZWxlY3QoXCJpZCwgY29tcGFueV9pZFwiKVxuXHRcdFx0LmVxKFwiaWRcIiwgY3VzdG9tZXJJZClcblx0XHRcdC5pcyhcImRlbGV0ZWRfYXRcIiwgbnVsbClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGFzc2VydEV4aXN0cyhjdXN0b21lciwgXCJDdXN0b21lclwiKTtcblxuXHRcdGlmIChjdXN0b21lci5jb21wYW55X2lkICE9PSB0ZWFtTWVtYmVyLmNvbXBhbnlfaWQpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0XCJDdXN0b21lciBub3QgZm91bmRcIixcblx0XHRcdFx0RVJST1JfQ09ERVMuQVVUSF9GT1JCSURERU4sXG5cdFx0XHRcdEhUVFBfU1RBVFVTX0ZPUkJJRERFTixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Ly8gUmV2b2tlIGFjY2Vzc1xuXHRcdGNvbnN0IHsgZXJyb3I6IHVwZGF0ZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjdXN0b21lcnNcIilcblx0XHRcdC51cGRhdGUoeyBwb3J0YWxfZW5hYmxlZDogZmFsc2UgfSlcblx0XHRcdC5lcShcImlkXCIsIGN1c3RvbWVySWQpO1xuXG5cdFx0aWYgKHVwZGF0ZUVycm9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdEVSUk9SX01FU1NBR0VTLm9wZXJhdGlvbkZhaWxlZChcInJldm9rZSBwb3J0YWwgYWNjZXNzXCIpLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9RVUVSWV9FUlJPUixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL2N1c3RvbWVyc1wiKTtcblx0XHRyZXZhbGlkYXRlUGF0aChgL2Rhc2hib2FyZC9jdXN0b21lcnMvJHtjdXN0b21lcklkfWApO1xuXHR9KTtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU0VBUkNIICYgUkVQT1JUSU5HXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogR2V0IGN1c3RvbWVyIGJ5IHBob25lIG51bWJlclxuICogVXNlZCBmb3IgaW5jb21pbmcgY2FsbCBsb29rdXBzXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDdXN0b21lckJ5UGhvbmUoXG5cdHBob25lTnVtYmVyOiBzdHJpbmcsXG5cdGNvbXBhbnlJZDogc3RyaW5nLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8dW5rbm93bj4+IHtcblx0cmV0dXJuIHdpdGhFcnJvckhhbmRsaW5nKGFzeW5jICgpID0+IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0XCJEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZFwiLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9DT05ORUNUSU9OX0VSUk9SLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyBOb3JtYWxpemUgcGhvbmUgbnVtYmVyIChyZW1vdmUgZm9ybWF0dGluZylcblx0XHRjb25zdCBub3JtYWxpemVkUGhvbmUgPSBwaG9uZU51bWJlci5yZXBsYWNlKC9cXEQvZywgXCJcIik7XG5cblx0XHQvLyBTZWFyY2ggYnkgcHJpbWFyeSBwaG9uZSBvciBzZWNvbmRhcnkgcGhvbmVcblx0XHRjb25zdCB7IGRhdGE6IGN1c3RvbWVyLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiY3VzdG9tZXJzXCIpXG5cdFx0XHQuc2VsZWN0KFxuXHRcdFx0XHRgXG4gICAgICAgICosXG4gICAgICAgIHByb3BlcnRpZXM6cHJvcGVydGllcygqKVxuICAgICAgYCxcblx0XHRcdClcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgY29tcGFueUlkKVxuXHRcdFx0Lm9yKFxuXHRcdFx0XHRgcGhvbmUuZXEuJHtwaG9uZU51bWJlcn0scGhvbmUuZXEuJHtub3JtYWxpemVkUGhvbmV9LHNlY29uZGFyeV9waG9uZS5lcS4ke3Bob25lTnVtYmVyfSxzZWNvbmRhcnlfcGhvbmUuZXEuJHtub3JtYWxpemVkUGhvbmV9YCxcblx0XHRcdClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChlcnJvciAmJiBlcnJvci5jb2RlICE9PSBcIlBHUlNUMTE2XCIpIHtcblx0XHRcdC8vIFBHUlNUMTE2ID0gbm8gcm93cyBmb3VuZFxuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRgRmFpbGVkIHRvIGZpbmQgY3VzdG9tZXI6ICR7ZXJyb3IubWVzc2FnZX1gLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9RVUVSWV9FUlJPUixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGN1c3RvbWVyIHx8IG51bGw7XG5cdH0pO1xufVxuXG4vKipcbiAqIFNlYXJjaCBjdXN0b21lcnMgYnkgbmFtZSwgZW1haWwsIHBob25lLCBvciBjb21wYW55XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZWFyY2hDdXN0b21lcnMoXG5cdHNlYXJjaFRlcm06IHN0cmluZyxcblx0b3B0aW9ucz86IHsgbGltaXQ/OiBudW1iZXI7IG9mZnNldD86IG51bWJlciB9LFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8dW5rbm93bltdPj4ge1xuXHRyZXR1cm4gd2l0aEVycm9ySGFuZGxpbmcoYXN5bmMgKCkgPT4ge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cdFx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRcIkRhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkXCIsXG5cdFx0XHRcdEVSUk9SX0NPREVTLkRCX0NPTk5FQ1RJT05fRVJST1IsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblx0XHRhc3NlcnRBdXRoZW50aWNhdGVkKHVzZXI/LmlkKTtcblxuXHRcdC8vIFVzZSB0aGUgYWN0aXZlIGNvbXBhbnkgSUQgaGVscGVyIChzYW1lIGFzIGdldEFsbEN1c3RvbWVycylcblx0XHRjb25zdCBhY3RpdmVDb21wYW55SWQgPSBhd2FpdCBnZXRBY3RpdmVDb21wYW55SWQoKTtcblx0XHRpZiAoIWFjdGl2ZUNvbXBhbnlJZCkge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRcIk5vIGFjdGl2ZSBjb21wYW55XCIsXG5cdFx0XHRcdEVSUk9SX0NPREVTLkFVVEhfRk9SQklEREVOLFxuXHRcdFx0XHRIVFRQX1NUQVRVU19GT1JCSURERU4sXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdC8vIFZlcmlmeSB1c2VyIGhhcyBhY2Nlc3MgdG8gdGhlIGFjdGl2ZSBjb21wYW55XG5cdFx0Y29uc3QgeyBkYXRhOiB0ZWFtTWVtYmVyIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjb21wYW55X21lbWJlcnNoaXBzXCIpXG5cdFx0XHQuc2VsZWN0KFwiY29tcGFueV9pZFwiKVxuXHRcdFx0LmVxKFwidXNlcl9pZFwiLCB1c2VyLmlkKVxuXHRcdFx0LmVxKFwiY29tcGFueV9pZFwiLCBhY3RpdmVDb21wYW55SWQpXG5cdFx0XHQuZXEoXCJzdGF0dXNcIiwgXCJhY3RpdmVcIilcblx0XHRcdC5tYXliZVNpbmdsZSgpO1xuXG5cdFx0aWYgKCF0ZWFtTWVtYmVyPy5jb21wYW55X2lkKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdFwiWW91IGRvbid0IGhhdmUgYWNjZXNzIHRvIHRoaXMgY29tcGFueVwiLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5BVVRIX0ZPUkJJRERFTixcblx0XHRcdFx0SFRUUF9TVEFUVVNfRk9SQklEREVOLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyBVc2UgZnVsbC10ZXh0IHNlYXJjaCB3aXRoIHJhbmtpbmcgZm9yIGJlc3QgbWF0Y2hlc1xuXHRcdC8vIFNlYXJjaGVzIGFjcm9zczogZmlyc3RfbmFtZSwgbGFzdF9uYW1lLCBkaXNwbGF5X25hbWUsIGVtYWlsLCBwaG9uZSxcblx0XHQvLyBzZWNvbmRhcnlfcGhvbmUsIGNvbXBhbnlfbmFtZSwgYWRkcmVzcywgY2l0eSwgc3RhdGVcblx0XHQvLyBSZXR1cm5zIHJlc3VsdHMgb3JkZXJlZCBieSByZWxldmFuY2UgKHdlaWdodGVkOiBuYW1lID4gY29udGFjdCA+IGFkZHJlc3MpXG5cdFx0Y29uc3QgeyBzZWFyY2hDdXN0b21lcnNGdWxsVGV4dCB9ID0gYXdhaXQgaW1wb3J0KFxuXHRcdFx0XCJAL2xpYi9zZWFyY2gvZnVsbC10ZXh0LXNlYXJjaFwiXG5cdFx0KTtcblxuXHRcdGNvbnN0IGN1c3RvbWVycyA9IGF3YWl0IHNlYXJjaEN1c3RvbWVyc0Z1bGxUZXh0KFxuXHRcdFx0c3VwYWJhc2UsXG5cdFx0XHRhY3RpdmVDb21wYW55SWQsXG5cdFx0XHRzZWFyY2hUZXJtLFxuXHRcdFx0e1xuXHRcdFx0XHRsaW1pdDogb3B0aW9ucz8ubGltaXQgfHwgREVGQVVMVF9TRUFSQ0hfTElNSVQsXG5cdFx0XHRcdG9mZnNldDogb3B0aW9ucz8ub2Zmc2V0IHx8IDAsXG5cdFx0XHR9LFxuXHRcdCk7XG5cblx0XHRyZXR1cm4gY3VzdG9tZXJzO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBHZXQgdG9wIGN1c3RvbWVycyBieSByZXZlbnVlXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldFRvcEN1c3RvbWVycyhcblx0bGltaXQgPSAxMCxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PHVua25vd25bXT4+IHtcblx0cmV0dXJuIHdpdGhFcnJvckhhbmRsaW5nKGFzeW5jICgpID0+IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0XCJEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZFwiLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9DT05ORUNUSU9OX0VSUk9SLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cdFx0YXNzZXJ0QXV0aGVudGljYXRlZCh1c2VyPy5pZCk7XG5cblx0XHRjb25zdCB7IGRhdGE6IHRlYW1NZW1iZXIgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfbWVtYmVyc2hpcHNcIilcblx0XHRcdC5zZWxlY3QoXCJjb21wYW55X2lkXCIpXG5cdFx0XHQuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoIXRlYW1NZW1iZXI/LmNvbXBhbnlfaWQpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0XCJZb3UgbXVzdCBiZSBwYXJ0IG9mIGEgY29tcGFueVwiLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5BVVRIX0ZPUkJJRERFTixcblx0XHRcdFx0SFRUUF9TVEFUVVNfRk9SQklEREVOLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRjb25zdCB7IGRhdGE6IGN1c3RvbWVycywgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImN1c3RvbWVyc1wiKVxuXHRcdFx0LnNlbGVjdChcIipcIilcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgdGVhbU1lbWJlci5jb21wYW55X2lkKVxuXHRcdFx0LmVxKFwic3RhdHVzXCIsIFwiYWN0aXZlXCIpXG5cdFx0XHQuaXMoXCJkZWxldGVkX2F0XCIsIG51bGwpXG5cdFx0XHQub3JkZXIoXCJ0b3RhbF9yZXZlbnVlXCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxuXHRcdFx0LmxpbWl0KGxpbWl0KTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRFUlJPUl9NRVNTQUdFUy5vcGVyYXRpb25GYWlsZWQoXCJmZXRjaCB0b3AgY3VzdG9tZXJzXCIpLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9RVUVSWV9FUlJPUixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGN1c3RvbWVycyB8fCBbXTtcblx0fSk7XG59XG5cbi8qKlxuICogR2V0IGN1c3RvbWVycyB3aXRoIG91dHN0YW5kaW5nIGJhbGFuY2VcbiAqL1xudHlwZSBDdXN0b21lcldpdGhCYWxhbmNlID0ge1xuXHRpZDogc3RyaW5nO1xuXHRkaXNwbGF5X25hbWU6IHN0cmluZztcblx0YmFsYW5jZTogbnVtYmVyO1xufTtcblxuYXN5bmMgZnVuY3Rpb24gZ2V0Q3VzdG9tZXJzV2l0aEJhbGFuY2UoKTogUHJvbWlzZTxcblx0QWN0aW9uUmVzdWx0PEN1c3RvbWVyV2l0aEJhbGFuY2VbXT5cbj4ge1xuXHRyZXR1cm4gd2l0aEVycm9ySGFuZGxpbmcoYXN5bmMgKCkgPT4ge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cdFx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRcIkRhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkXCIsXG5cdFx0XHRcdEVSUk9SX0NPREVTLkRCX0NPTk5FQ1RJT05fRVJST1IsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblx0XHRhc3NlcnRBdXRoZW50aWNhdGVkKHVzZXI/LmlkKTtcblxuXHRcdGNvbnN0IHsgZGF0YTogdGVhbU1lbWJlciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiY29tcGFueV9tZW1iZXJzaGlwc1wiKVxuXHRcdFx0LnNlbGVjdChcImNvbXBhbnlfaWRcIilcblx0XHRcdC5lcShcInVzZXJfaWRcIiwgdXNlci5pZClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghdGVhbU1lbWJlcj8uY29tcGFueV9pZCkge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRcIllvdSBtdXN0IGJlIHBhcnQgb2YgYSBjb21wYW55XCIsXG5cdFx0XHRcdEVSUk9SX0NPREVTLkFVVEhfRk9SQklEREVOLFxuXHRcdFx0XHRIVFRQX1NUQVRVU19GT1JCSURERU4sXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGNvbnN0IHsgZGF0YTogY3VzdG9tZXJzLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiY3VzdG9tZXJzXCIpXG5cdFx0XHQuc2VsZWN0KFwiKlwiKVxuXHRcdFx0LmVxKFwiY29tcGFueV9pZFwiLCB0ZWFtTWVtYmVyLmNvbXBhbnlfaWQpXG5cdFx0XHQuaXMoXCJkZWxldGVkX2F0XCIsIG51bGwpXG5cdFx0XHQuZ3QoXCJvdXRzdGFuZGluZ19iYWxhbmNlXCIsIDApXG5cdFx0XHQub3JkZXIoXCJvdXRzdGFuZGluZ19iYWxhbmNlXCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxuXHRcdFx0LmxpbWl0KDEwMCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0RVJST1JfTUVTU0FHRVMub3BlcmF0aW9uRmFpbGVkKFwiZmV0Y2ggY3VzdG9tZXJzIHdpdGggYmFsYW5jZVwiKSxcblx0XHRcdFx0RVJST1JfQ09ERVMuREJfUVVFUllfRVJST1IsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdHJldHVybiBjdXN0b21lcnMgfHwgW107XG5cdH0pO1xufVxuXG50eXBlIEN1c3RvbWVyUmVjb3JkID0ge1xuXHRpZDogc3RyaW5nO1xuXHRjb21wYW55X2lkOiBzdHJpbmc7XG5cdHR5cGU6IHN0cmluZztcblx0Zmlyc3RfbmFtZTogc3RyaW5nO1xuXHRsYXN0X25hbWU6IHN0cmluZztcblx0ZGlzcGxheV9uYW1lOiBzdHJpbmc7XG5cdGNvbXBhbnlfbmFtZT86IHN0cmluZyB8IG51bGw7XG5cdGVtYWlsOiBzdHJpbmc7XG5cdHBob25lOiBzdHJpbmc7XG5cdHNlY29uZGFyeV9waG9uZT86IHN0cmluZztcblx0YWRkcmVzcz86IHN0cmluZztcblx0YWRkcmVzczI/OiBzdHJpbmc7XG5cdGNpdHk/OiBzdHJpbmc7XG5cdHN0YXRlPzogc3RyaW5nO1xuXHR6aXBfY29kZT86IHN0cmluZztcblx0c3RhdHVzOiBzdHJpbmc7XG5cdHRvdGFsX3JldmVudWU/OiBudW1iZXI7XG5cdHRvdGFsX2pvYnM/OiBudW1iZXI7XG5cdHRvdGFsX2ludm9pY2VzPzogbnVtYmVyO1xuXHRvdXRzdGFuZGluZ19iYWxhbmNlPzogbnVtYmVyO1xuXHRsYXN0X2pvYl9kYXRlPzogc3RyaW5nO1xuXHRuZXh0X3NjaGVkdWxlZF9qb2I/OiBzdHJpbmc7XG5cdGNyZWF0ZWRfYXQ6IHN0cmluZztcblx0dXBkYXRlZF9hdDogc3RyaW5nO1xuXHRhcmNoaXZlZF9hdD86IHN0cmluZyB8IG51bGw7XG5cdGRlbGV0ZWRfYXQ/OiBzdHJpbmcgfCBudWxsO1xufTtcblxuLyoqXG4gKiBHZXQgY3VzdG9tZXJzIGZvciBwaG9uZSBkaWFsZXIgKGxpZ2h0d2VpZ2h0LCBubyBlbnJpY2htZW50KVxuICpcbiAqIFBFUkZPUk1BTkNFOiBSZXR1cm5zIG9ubHkgYmFzaWMgY29udGFjdCBpbmZvIG5lZWRlZCBmb3IgZGlhbGVyLlxuICogVXNlIHRoaXMgaW5zdGVhZCBvZiBnZXRBbGxDdXN0b21lcnMoKSBpbiBBcHBIZWFkZXIgdG8gYXZvaWQgTisxIHF1ZXJpZXMuXG4gKlxuICogRXhwZWN0ZWQ6IDUwLTEwMG1zIChzaW5nbGUgcXVlcnkpXG4gKiB2cyBnZXRBbGxDdXN0b21lcnMoKTogMTIwMC0yMDAwbXMgKDE1MSBxdWVyaWVzIHdpdGggZW5yaWNobWVudClcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEN1c3RvbWVyc0ZvckRpYWxlcigpOiBQcm9taXNlPFxuXHRBY3Rpb25SZXN1bHQ8XG5cdFx0QXJyYXk8e1xuXHRcdFx0aWQ6IHN0cmluZztcblx0XHRcdGZpcnN0X25hbWU6IHN0cmluZyB8IG51bGw7XG5cdFx0XHRsYXN0X25hbWU6IHN0cmluZyB8IG51bGw7XG5cdFx0XHRkaXNwbGF5X25hbWU6IHN0cmluZyB8IG51bGw7XG5cdFx0XHRlbWFpbDogc3RyaW5nIHwgbnVsbDtcblx0XHRcdHBob25lOiBzdHJpbmcgfCBudWxsO1xuXHRcdFx0c2Vjb25kYXJ5X3Bob25lPzogc3RyaW5nIHwgbnVsbDtcblx0XHRcdGNvbXBhbnlfbmFtZTogc3RyaW5nIHwgbnVsbDtcblx0XHRcdGFkZHJlc3M6IHN0cmluZyB8IG51bGw7XG5cdFx0XHRhZGRyZXNzMjogc3RyaW5nIHwgbnVsbDtcblx0XHRcdGNpdHk6IHN0cmluZyB8IG51bGw7XG5cdFx0XHRzdGF0ZTogc3RyaW5nIHwgbnVsbDtcblx0XHRcdHppcF9jb2RlOiBzdHJpbmcgfCBudWxsO1xuXHRcdH0+XG5cdD5cbj4ge1xuXHRyZXR1cm4gd2l0aEVycm9ySGFuZGxpbmcoYXN5bmMgKCkgPT4ge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cdFx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRcIkRhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkXCIsXG5cdFx0XHRcdEVSUk9SX0NPREVTLkRCX0NPTk5FQ1RJT05fRVJST1IsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblx0XHRhc3NlcnRBdXRoZW50aWNhdGVkKHVzZXI/LmlkKTtcblxuXHRcdGNvbnN0IGFjdGl2ZUNvbXBhbnlJZCA9IGF3YWl0IGdldEFjdGl2ZUNvbXBhbnlJZCgpO1xuXHRcdGlmICghYWN0aXZlQ29tcGFueUlkKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdFwiTm8gYWN0aXZlIGNvbXBhbnlcIixcblx0XHRcdFx0RVJST1JfQ09ERVMuQVVUSF9GT1JCSURERU4sXG5cdFx0XHRcdDQwMyxcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Ly8gU2luZ2xlIGxpZ2h0d2VpZ2h0IHF1ZXJ5IC0gbm8gam9pbnMsIG5vIGVucmljaG1lbnRcblx0XHRjb25zdCB7IGRhdGE6IGN1c3RvbWVycywgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImN1c3RvbWVyc1wiKVxuXHRcdFx0LnNlbGVjdChcblx0XHRcdFx0XCJpZCwgZmlyc3RfbmFtZSwgbGFzdF9uYW1lLCBkaXNwbGF5X25hbWUsIGVtYWlsLCBwaG9uZSwgc2Vjb25kYXJ5X3Bob25lLCBjb21wYW55X25hbWUsIGFkZHJlc3MsIGFkZHJlc3MyLCBjaXR5LCBzdGF0ZSwgemlwX2NvZGVcIixcblx0XHRcdClcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgYWN0aXZlQ29tcGFueUlkKVxuXHRcdFx0LmlzKFwiZGVsZXRlZF9hdFwiLCBudWxsKVxuXHRcdFx0Lm9yZGVyKFwiZGlzcGxheV9uYW1lXCIsIHsgYXNjZW5kaW5nOiB0cnVlIH0pO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdEVSUk9SX01FU1NBR0VTLm9wZXJhdGlvbkZhaWxlZChcImZldGNoIGN1c3RvbWVyc1wiKSxcblx0XHRcdFx0RVJST1JfQ09ERVMuREJfUVVFUllfRVJST1IsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdHJldHVybiBjdXN0b21lcnMgfHwgW107XG5cdH0pO1xufVxuXG4vKipcbiAqIEdldCBhbGwgY3VzdG9tZXJzIGZvciB0aGUgY3VycmVudCBjb21wYW55IChXSVRIIEVOUklDSE1FTlQpXG4gKlxuICogV0FSTklORzogVGhpcyBmdW5jdGlvbiBkb2VzIDE1MSBkYXRhYmFzZSBxdWVyaWVzIGZvciA1MCBjdXN0b21lcnMgKE4rMSBwYXR0ZXJuKS5cbiAqIEV4cGVjdGVkIHRpbWU6IDEyMDAtMjAwMG1zXG4gKlxuICogRE8gTk9UIHVzZSBpbiBBcHBIZWFkZXIgb3Igb3RoZXIgZnJlcXVlbnRseSByZW5kZXJlZCBjb21wb25lbnRzLlxuICogVXNlIGdldEN1c3RvbWVyc0ZvckRpYWxlcigpIGluc3RlYWQgZm9yIGxpZ2h0d2VpZ2h0IGNvbnRhY3QgaW5mby5cbiAqXG4gKiBPbmx5IHVzZSB0aGlzIG9uIGRlZGljYXRlZCBjdXN0b21lciBsaXN0IHBhZ2VzIHdoZXJlIHRoZSBlbnJpY2hlZCBkYXRhIGlzIG5lZWRlZC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2V0QWxsQ3VzdG9tZXJzKCk6IFByb21pc2U8XG5cdEFjdGlvblJlc3VsdDxDdXN0b21lclJlY29yZFtdPlxuPiB7XG5cdHJldHVybiB3aXRoRXJyb3JIYW5kbGluZyhhc3luYyAoKSA9PiB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdFwiRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWRcIixcblx0XHRcdFx0RVJST1JfQ09ERVMuREJfQ09OTkVDVElPTl9FUlJPUixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXHRcdGFzc2VydEF1dGhlbnRpY2F0ZWQodXNlcj8uaWQpO1xuXG5cdFx0Ly8gR2V0IGFjdGl2ZSBjb21wYW55IElEIChmcm9tIGNvb2tpZSBvciBmaXJzdCBhdmFpbGFibGUpXG5cdFx0Y29uc3QgYWN0aXZlQ29tcGFueUlkID0gYXdhaXQgZ2V0QWN0aXZlQ29tcGFueUlkKCk7XG5cblx0XHRjb25zdCBGT1JCSURERU5fU1RBVFVTX0NPREUgPSA0MDM7XG5cdFx0aWYgKCFhY3RpdmVDb21wYW55SWQpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0XCJZb3UgbXVzdCBiZSBwYXJ0IG9mIGEgY29tcGFueVwiLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5BVVRIX0ZPUkJJRERFTixcblx0XHRcdFx0Rk9SQklEREVOX1NUQVRVU19DT0RFLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyBWZXJpZnkgdXNlciBoYXMgYWNjZXNzIHRvIHRoZSBhY3RpdmUgY29tcGFueVxuXHRcdGNvbnN0IHsgZGF0YTogdGVhbU1lbWJlciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiY29tcGFueV9tZW1iZXJzaGlwc1wiKVxuXHRcdFx0LnNlbGVjdChcImNvbXBhbnlfaWRcIilcblx0XHRcdC5lcShcInVzZXJfaWRcIiwgdXNlci5pZClcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgYWN0aXZlQ29tcGFueUlkKVxuXHRcdFx0LmVxKFwic3RhdHVzXCIsIFwiYWN0aXZlXCIpXG5cdFx0XHQubWF5YmVTaW5nbGUoKTtcblxuXHRcdGlmICghdGVhbU1lbWJlcj8uY29tcGFueV9pZCkge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRcIllvdSBkb24ndCBoYXZlIGFjY2VzcyB0byB0aGlzIGNvbXBhbnlcIixcblx0XHRcdFx0RVJST1JfQ09ERVMuQVVUSF9GT1JCSURERU4sXG5cdFx0XHRcdEZPUkJJRERFTl9TVEFUVVNfQ09ERSxcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgeyBkYXRhOiBjdXN0b21lcnMsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjdXN0b21lcnNcIilcblx0XHRcdC5zZWxlY3QoXCIqXCIpXG5cdFx0XHQuZXEoXCJjb21wYW55X2lkXCIsIGFjdGl2ZUNvbXBhbnlJZClcblx0XHRcdC5pcyhcImRlbGV0ZWRfYXRcIiwgbnVsbClcblx0XHRcdC5vcmRlcihcImRpc3BsYXlfbmFtZVwiLCB7IGFzY2VuZGluZzogdHJ1ZSB9KTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRFUlJPUl9NRVNTQUdFUy5vcGVyYXRpb25GYWlsZWQoXCJmZXRjaCBjdXN0b21lcnNcIiksXG5cdFx0XHRcdEVSUk9SX0NPREVTLkRCX1FVRVJZX0VSUk9SLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyBQRVJGT1JNQU5DRSBPUFRJTUlaRUQ6IFVzZSBSUEMgZnVuY3Rpb24gaW5zdGVhZCBvZiBOKzEgcXVlcmllc1xuXHRcdC8vIEJFRk9SRTogMTUxIHF1ZXJpZXMgZm9yIDUwIGN1c3RvbWVycyAoMSBiYXNlICsgNTAgw5cgMyBxdWVyaWVzIGVhY2gpXG5cdFx0Ly8gQUZURVI6IDEgUlBDIGNhbGwgd2l0aCBlZmZpY2llbnQgTEFURVJBTCBqb2luc1xuXHRcdC8vIFBlcmZvcm1hbmNlIGdhaW46IDUtMTAgc2Vjb25kcyBmYXN0ZXJcblxuXHRcdC8vIE5vdGU6IGN1c3RvbWVycyB2YXJpYWJsZSBjb250YWlucyB0aGUgYmFzZSBjdXN0b21lciBkYXRhIGZyb20gYWJvdmUgcXVlcnlcblx0XHQvLyBXZSByZXBsYWNlIHRoZSBlbnJpY2htZW50IGxvZ2ljIHdpdGggYSBzaW5nbGUgUlBDIGNhbGxcblx0XHRjb25zdCB7IGRhdGE6IGVucmljaGVkRGF0YSwgZXJyb3I6IGVucmljaEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5ycGMoXG5cdFx0XHRcImdldF9lbnJpY2hlZF9jdXN0b21lcnNfcnBjXCIsXG5cdFx0XHR7XG5cdFx0XHRcdHBfY29tcGFueV9pZDogYWN0aXZlQ29tcGFueUlkLFxuXHRcdFx0fSxcblx0XHQpO1xuXG5cdFx0aWYgKGVucmljaEVycm9yKSB7XG5cdFx0XHQvLyBGYWxsYmFjayB0byBiYXNlIGN1c3RvbWVycyBpZiBlbnJpY2htZW50IGZhaWxzXG5cdFx0XHRjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGVucmljaCBjdXN0b21lcnM6XCIsIGVucmljaEVycm9yKTtcblx0XHRcdHJldHVybiBjdXN0b21lcnMgYXMgQ3VzdG9tZXJSZWNvcmRbXTtcblx0XHR9XG5cblx0XHQvLyBNZXJnZSBlbnJpY2hlZCBkYXRhIHdpdGggYmFzZSBjdXN0b21lciBkYXRhXG5cdFx0Y29uc3QgZW5yaWNoZWRDdXN0b21lcnMgPSAoZW5yaWNoZWREYXRhIHx8IFtdKS5tYXAoKGN1c3RvbWVyOiBhbnkpID0+ICh7XG5cdFx0XHQuLi5jdXN0b21lcixcblx0XHRcdC8vIE92ZXJyaWRlIHRvdGFsX2pvYnMgYW5kIHRvdGFsX3JldmVudWUgd2l0aCBmcmVzaCBhZ2dyZWdhdGVkIHZhbHVlc1xuXHRcdFx0dG90YWxfam9iczogY3VzdG9tZXIuZW5yaWNoZWRfdG90YWxfam9icyB8fCBjdXN0b21lci50b3RhbF9qb2JzIHx8IDAsXG5cdFx0XHR0b3RhbF9yZXZlbnVlOlxuXHRcdFx0XHRjdXN0b21lci5lbnJpY2hlZF90b3RhbF9yZXZlbnVlIHx8IGN1c3RvbWVyLnRvdGFsX3JldmVudWUgfHwgMCxcblx0XHR9KSk7XG5cblx0XHRyZXR1cm4gZW5yaWNoZWRDdXN0b21lcnMgYXMgQ3VzdG9tZXJSZWNvcmRbXTtcblx0fSk7XG59XG5cbi8qKlxuICogVXBkYXRlIGN1c3RvbWVyIHBhZ2UgY29udGVudCAoTm92ZWwvVGlwdGFwIEpTT04pXG4gKlxuICogU2F2ZXMgdGhlIGN1c3RvbWVyJ3MgZWRpdGFibGUgcGFnZSBsYXlvdXQgYW5kIGNvbnRlbnRcbiAqIFVzZWQgYnkgdGhlIE5vdmVsIGVkaXRvciBmb3IgYXV0by1zYXZlIGZ1bmN0aW9uYWxpdHlcbiAqL1xuYXN5bmMgZnVuY3Rpb24gdXBkYXRlQ3VzdG9tZXJQYWdlQ29udGVudChcblx0Y3VzdG9tZXJJZDogc3RyaW5nLFxuXHRwYWdlQ29udGVudDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4pOiBQcm9taXNlPEFjdGlvblJlc3VsdDx2b2lkPj4ge1xuXHRyZXR1cm4gd2l0aEVycm9ySGFuZGxpbmcoYXN5bmMgKCkgPT4ge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cdFx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRcIkRhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkXCIsXG5cdFx0XHRcdEVSUk9SX0NPREVTLkRCX0NPTk5FQ1RJT05fRVJST1IsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblx0XHRhc3NlcnRBdXRoZW50aWNhdGVkKHVzZXI/LmlkKTtcblxuXHRcdGNvbnN0IHsgZGF0YTogdGVhbU1lbWJlciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiY29tcGFueV9tZW1iZXJzaGlwc1wiKVxuXHRcdFx0LnNlbGVjdChcImNvbXBhbnlfaWRcIilcblx0XHRcdC5lcShcInVzZXJfaWRcIiwgdXNlci5pZClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghdGVhbU1lbWJlcj8uY29tcGFueV9pZCkge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRcIllvdSBtdXN0IGJlIHBhcnQgb2YgYSBjb21wYW55XCIsXG5cdFx0XHRcdEVSUk9SX0NPREVTLkFVVEhfRk9SQklEREVOLFxuXHRcdFx0XHRIVFRQX1NUQVRVU19GT1JCSURERU4sXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdC8vIFZlcmlmeSBjdXN0b21lciBleGlzdHMgYW5kIGJlbG9uZ3MgdG8gY29tcGFueVxuXHRcdGNvbnN0IHsgZGF0YTogY3VzdG9tZXIgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImN1c3RvbWVyc1wiKVxuXHRcdFx0LnNlbGVjdChcImlkLCBjb21wYW55X2lkXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBjdXN0b21lcklkKVxuXHRcdFx0LmlzKFwiZGVsZXRlZF9hdFwiLCBudWxsKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0YXNzZXJ0RXhpc3RzKGN1c3RvbWVyLCBcIkN1c3RvbWVyXCIpO1xuXG5cdFx0aWYgKGN1c3RvbWVyLmNvbXBhbnlfaWQgIT09IHRlYW1NZW1iZXIuY29tcGFueV9pZCkge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRFUlJPUl9NRVNTQUdFUy5mb3JiaWRkZW4oXCJjdXN0b21lclwiKSxcblx0XHRcdFx0RVJST1JfQ09ERVMuQVVUSF9GT1JCSURERU4sXG5cdFx0XHRcdEhUVFBfU1RBVFVTX0ZPUkJJRERFTixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Ly8gVXBkYXRlIHBhZ2UgY29udGVudFxuXHRcdGNvbnN0IHsgZXJyb3I6IHVwZGF0ZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjdXN0b21lcnNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRwYWdlX2NvbnRlbnQ6IHBhZ2VDb250ZW50LFxuXHRcdFx0XHRjb250ZW50X3VwZGF0ZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgY3VzdG9tZXJJZCk7XG5cblx0XHRpZiAodXBkYXRlRXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0RVJST1JfTUVTU0FHRVMub3BlcmF0aW9uRmFpbGVkKFwidXBkYXRlIGN1c3RvbWVyIHBhZ2VcIiksXG5cdFx0XHRcdEVSUk9SX0NPREVTLkRCX1FVRVJZX0VSUk9SLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRyZXZhbGlkYXRlUGF0aChgL2Rhc2hib2FyZC9jdXN0b21lcnMvJHtjdXN0b21lcklkfWApO1xuXHR9KTtcbn1cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoieVNBbXVCc0IifQ==
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:1db406 [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"6048659199289e27e8a29c146dcc920a7afc8ad29e":"searchCustomers"},"apps/web/src/actions/customers.ts",""] */ __turbopack_context__.s([
    "searchCustomers",
    ()=>searchCustomers
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var searchCustomers = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("6048659199289e27e8a29c146dcc920a7afc8ad29e", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "searchCustomers"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vY3VzdG9tZXJzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3VzdG9tZXIgTWFuYWdlbWVudCBTZXJ2ZXIgQWN0aW9uc1xuICpcbiAqIENvbXByZWhlbnNpdmUgY3VzdG9tZXIgcmVsYXRpb25zaGlwIG1hbmFnZW1lbnQgd2l0aDpcbiAqIC0gQ3VzdG9tZXIgQ1JVRCBvcGVyYXRpb25zXG4gKiAtIEN1c3RvbWVyIHBvcnRhbCBpbnZpdGF0aW9uIGFuZCBhY2Nlc3NcbiAqIC0gQ3VzdG9tZXIgbWV0cmljcyB0cmFja2luZyAocmV2ZW51ZSwgam9icywgaW52b2ljZXMpXG4gKiAtIENvbW11bmljYXRpb24gcHJlZmVyZW5jZXNcbiAqIC0gU29mdCBkZWxldGUvYXJjaGl2ZSBzdXBwb3J0XG4gKiAtIEN1c3RvbWVyIHNlYXJjaCBhbmQgZmlsdGVyaW5nXG4gKi9cblxuXCJ1c2Ugc2VydmVyXCI7XG5cbmltcG9ydCB7IGdldEFjdGl2ZUNvbXBhbnlJZCB9IGZyb20gXCJAL2xpYi9hdXRoL2NvbXBhbnktY29udGV4dFwiO1xuaW1wb3J0IHsgc2VuZEVtYWlsIH0gZnJvbSBcIkAvbGliL2VtYWlsL2VtYWlsLXNlbmRlclwiO1xuaW1wb3J0IHsgRW1haWxUZW1wbGF0ZSB9IGZyb20gXCJAL2xpYi9lbWFpbC9lbWFpbC10eXBlc1wiO1xuaW1wb3J0IHtcbiAgICBBY3Rpb25FcnJvcixcbiAgICBFUlJPUl9DT0RFUyxcbiAgICBFUlJPUl9NRVNTQUdFUyxcbn0gZnJvbSBcIkAvbGliL2Vycm9ycy9hY3Rpb24tZXJyb3JcIjtcbmltcG9ydCB7XG4gICAgdHlwZSBBY3Rpb25SZXN1bHQsXG4gICAgYXNzZXJ0QXV0aGVudGljYXRlZCxcbiAgICBhc3NlcnRFeGlzdHMsXG4gICAgd2l0aEVycm9ySGFuZGxpbmcsXG59IGZyb20gXCJAL2xpYi9lcnJvcnMvd2l0aC1lcnJvci1oYW5kbGluZ1wiO1xuaW1wb3J0IHsgZ2VvY29kZUFkZHJlc3NTaWxlbnQgfSBmcm9tIFwiQC9saWIvc2VydmljZXMvZ2VvY29kaW5nXCI7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tIFwiQC9saWIvc3VwYWJhc2Uvc2VydmVyXCI7XG5pbXBvcnQgeyByZXZhbGlkYXRlUGF0aCB9IGZyb20gXCJuZXh0L2NhY2hlXCI7XG5pbXBvcnQgeyB6IH0gZnJvbSBcInpvZFwiO1xuaW1wb3J0IFBvcnRhbEludml0YXRpb25FbWFpbCBmcm9tIFwiLi4vLi4vZW1haWxzL3RlbXBsYXRlcy9jdXN0b21lci9wb3J0YWwtaW52aXRhdGlvblwiO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBWQUxJREFUSU9OIFNDSEVNQVNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuY29uc3QgQ1VTVE9NRVJfTkFNRV9NQVhfTEVOR1RIID0gMTAwO1xuY29uc3QgQ1VTVE9NRVJfQ09NUEFOWV9NQVhfTEVOR1RIID0gMjAwO1xuY29uc3QgQ1VTVE9NRVJfUEhPTkVfTUFYX0xFTkdUSCA9IDIwO1xuY29uc3QgQ1VTVE9NRVJfQUREUkVTU19NQVhfTEVOR1RIID0gMjAwO1xuY29uc3QgQ1VTVE9NRVJfQUREUkVTUzJfTUFYX0xFTkdUSCA9IDEwMDtcbmNvbnN0IENVU1RPTUVSX0NJVFlfTUFYX0xFTkdUSCA9IDEwMDtcbmNvbnN0IENVU1RPTUVSX1NUQVRFX01BWF9MRU5HVEggPSA1MDtcblxuLy8gSFRUUCBTdGF0dXMgY29kZXNcbmNvbnN0IEhUVFBfU1RBVFVTX0ZPUkJJRERFTiA9IDQwMztcblxuLy8gU2VhcmNoIGRlZmF1bHRzXG5jb25zdCBERUZBVUxUX1NFQVJDSF9MSU1JVCA9IDUwO1xuY29uc3QgQ1VTVE9NRVJfWklQX01BWF9MRU5HVEggPSAyMDtcbmNvbnN0IENVU1RPTUVSX0NPVU5UUllfTUFYX0xFTkdUSCA9IDUwO1xuY29uc3QgQ1VTVE9NRVJfVEFYX0VYRU1QVF9OVU1CRVJfTUFYX0xFTkdUSCA9IDUwO1xuY29uc3QgQ0VOVFNfUEVSX0RPTExBUiA9IDEwMDtcblxuZnVuY3Rpb24gcmVxdWlyZVNpdGVVcmwoKTogc3RyaW5nIHtcblx0Y29uc3Qgc2l0ZVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NJVEVfVVJMO1xuXHRpZiAoIXNpdGVVcmwpIHtcblx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcIk5FWFRfUFVCTElDX1NJVEVfVVJMIGlzIG5vdCBjb25maWd1cmVkXCIsXG5cdFx0XHRFUlJPUl9DT0RFUy5JTlRFUk5BTF9TRVJWRVJfRVJST1IsXG5cdFx0KTtcblx0fVxuXHRyZXR1cm4gc2l0ZVVybC5yZXBsYWNlKC9cXC8kLywgXCJcIik7XG59XG5cbmNvbnN0IGN1c3RvbWVyU2NoZW1hID0gei5vYmplY3Qoe1xuXHR0eXBlOiB6XG5cdFx0LmVudW0oW1wicmVzaWRlbnRpYWxcIiwgXCJjb21tZXJjaWFsXCIsIFwiaW5kdXN0cmlhbFwiXSlcblx0XHQuZGVmYXVsdChcInJlc2lkZW50aWFsXCIpLFxuXHRmaXJzdE5hbWU6IHpcblx0XHQuc3RyaW5nKClcblx0XHQubWluKDEsIFwiRmlyc3QgbmFtZSBpcyByZXF1aXJlZFwiKVxuXHRcdC5tYXgoQ1VTVE9NRVJfTkFNRV9NQVhfTEVOR1RIKSxcblx0bGFzdE5hbWU6IHpcblx0XHQuc3RyaW5nKClcblx0XHQubWluKDEsIFwiTGFzdCBuYW1lIGlzIHJlcXVpcmVkXCIpXG5cdFx0Lm1heChDVVNUT01FUl9OQU1FX01BWF9MRU5HVEgpLFxuXHRjb21wYW55TmFtZTogei5zdHJpbmcoKS5tYXgoQ1VTVE9NRVJfQ09NUEFOWV9NQVhfTEVOR1RIKS5vcHRpb25hbCgpLFxuXHRlbWFpbDogei5zdHJpbmcoKS5lbWFpbChcIkludmFsaWQgZW1haWwgYWRkcmVzc1wiKSxcblx0cGhvbmU6IHouc3RyaW5nKCkubWluKDEsIFwiUGhvbmUgaXMgcmVxdWlyZWRcIikubWF4KENVU1RPTUVSX1BIT05FX01BWF9MRU5HVEgpLFxuXHRzZWNvbmRhcnlQaG9uZTogei5zdHJpbmcoKS5tYXgoQ1VTVE9NRVJfUEhPTkVfTUFYX0xFTkdUSCkub3B0aW9uYWwoKSxcblx0YWRkcmVzczogei5zdHJpbmcoKS5tYXgoQ1VTVE9NRVJfQUREUkVTU19NQVhfTEVOR1RIKS5vcHRpb25hbCgpLFxuXHRhZGRyZXNzMjogei5zdHJpbmcoKS5tYXgoQ1VTVE9NRVJfQUREUkVTUzJfTUFYX0xFTkdUSCkub3B0aW9uYWwoKSxcblx0Y2l0eTogei5zdHJpbmcoKS5tYXgoQ1VTVE9NRVJfQ0lUWV9NQVhfTEVOR1RIKS5vcHRpb25hbCgpLFxuXHRzdGF0ZTogei5zdHJpbmcoKS5tYXgoQ1VTVE9NRVJfU1RBVEVfTUFYX0xFTkdUSCkub3B0aW9uYWwoKSxcblx0emlwQ29kZTogei5zdHJpbmcoKS5tYXgoQ1VTVE9NRVJfWklQX01BWF9MRU5HVEgpLm9wdGlvbmFsKCksXG5cdGNvdW50cnk6IHouc3RyaW5nKCkubWF4KENVU1RPTUVSX0NPVU5UUllfTUFYX0xFTkdUSCkuZGVmYXVsdChcIlVTQVwiKSxcblx0c291cmNlOiB6XG5cdFx0LmVudW0oW1wicmVmZXJyYWxcIiwgXCJnb29nbGVcIiwgXCJmYWNlYm9va1wiLCBcImRpcmVjdFwiLCBcInllbHBcIiwgXCJvdGhlclwiXSlcblx0XHQub3B0aW9uYWwoKSxcblx0cmVmZXJyZWRCeTogei5zdHJpbmcoKS51dWlkKCkub3B0aW9uYWwoKS5udWxsYWJsZSgpLFxuXHRwcmVmZXJyZWRDb250YWN0TWV0aG9kOiB6LmVudW0oW1wiZW1haWxcIiwgXCJwaG9uZVwiLCBcInNtc1wiXSkuZGVmYXVsdChcImVtYWlsXCIpLFxuXHRwcmVmZXJyZWRUZWNobmljaWFuOiB6LnN0cmluZygpLnV1aWQoKS5vcHRpb25hbCgpLm51bGxhYmxlKCksXG5cdGJpbGxpbmdFbWFpbDogei5zdHJpbmcoKS5lbWFpbCgpLm9wdGlvbmFsKCkubnVsbGFibGUoKSxcblx0cGF5bWVudFRlcm1zOiB6XG5cdFx0LmVudW0oW1wiZHVlX29uX3JlY2VpcHRcIiwgXCJuZXRfMTVcIiwgXCJuZXRfMzBcIiwgXCJuZXRfNjBcIl0pXG5cdFx0LmRlZmF1bHQoXCJkdWVfb25fcmVjZWlwdFwiKSxcblx0Y3JlZGl0TGltaXQ6IHoubnVtYmVyKCkuaW50KCkubWluKDApLmRlZmF1bHQoMCksIC8vIEluIGNlbnRzXG5cdHRheEV4ZW1wdDogei5ib29sZWFuKCkuZGVmYXVsdChmYWxzZSksXG5cdHRheEV4ZW1wdE51bWJlcjogelxuXHRcdC5zdHJpbmcoKVxuXHRcdC5tYXgoQ1VTVE9NRVJfVEFYX0VYRU1QVF9OVU1CRVJfTUFYX0xFTkdUSClcblx0XHQub3B0aW9uYWwoKSxcblx0dGFnczogei5hcnJheSh6LnN0cmluZygpKS5vcHRpb25hbCgpLFxuXHRub3Rlczogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuXHRpbnRlcm5hbE5vdGVzOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG59KTtcblxuY29uc3QgY29tbXVuaWNhdGlvblByZWZlcmVuY2VzU2NoZW1hID0gei5vYmplY3Qoe1xuXHRlbWFpbDogei5ib29sZWFuKCkuZGVmYXVsdCh0cnVlKSxcblx0c21zOiB6LmJvb2xlYW4oKS5kZWZhdWx0KHRydWUpLFxuXHRwaG9uZTogei5ib29sZWFuKCkuZGVmYXVsdCh0cnVlKSxcblx0bWFya2V0aW5nOiB6LmJvb2xlYW4oKS5kZWZhdWx0KGZhbHNlKSxcbn0pO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBDVVNUT01FUiBDUlVEIE9QRVJBVElPTlNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgY3VzdG9tZXIgd2l0aCBtdWx0aXBsZSBjb250YWN0cyBhbmQgcHJvcGVydGllc1xuICovXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVDdXN0b21lcihcblx0Zm9ybURhdGE6IEZvcm1EYXRhLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8c3RyaW5nPj4ge1xuXHRyZXR1cm4gd2l0aEVycm9ySGFuZGxpbmcoYXN5bmMgKCkgPT4ge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cdFx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRcIkRhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkXCIsXG5cdFx0XHRcdEVSUk9SX0NPREVTLkRCX0NPTk5FQ1RJT05fRVJST1IsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblx0XHRhc3NlcnRBdXRoZW50aWNhdGVkKHVzZXI/LmlkKTtcblxuXHRcdGNvbnN0IHRlYW1NZW1iZXIgPSBhd2FpdCByZXF1aXJlQ3VzdG9tZXJDb21wYW55TWVtYmVyc2hpcChcblx0XHRcdHN1cGFiYXNlLFxuXHRcdFx0dXNlci5pZCxcblx0XHQpO1xuXHRcdGNvbnN0IHsgY29udGFjdHMsIHByb3BlcnRpZXMsIHRhZ3MgfSA9XG5cdFx0XHRwYXJzZUN1c3RvbWVyQ29udGFjdHNQcm9wZXJ0aWVzQW5kVGFncyhmb3JtRGF0YSk7XG5cdFx0Y29uc3QgcHJpbWFyeUNvbnRhY3QgPSBnZXRQcmltYXJ5Q29udGFjdE9yVGhyb3coY29udGFjdHMpO1xuXHRcdGNvbnN0IHByaW1hcnlQcm9wZXJ0eSA9IGdldFByaW1hcnlQcm9wZXJ0eShwcm9wZXJ0aWVzKTtcblxuXHRcdGF3YWl0IGFzc2VydEN1c3RvbWVyRW1haWxOb3REdXBsaWNhdGUoXG5cdFx0XHRzdXBhYmFzZSxcblx0XHRcdHRlYW1NZW1iZXIuY29tcGFueV9pZCxcblx0XHRcdHByaW1hcnlDb250YWN0LmVtYWlsLFxuXHRcdCk7XG5cblx0XHRjb25zdCBjdXN0b21lclR5cGUgPSBmb3JtRGF0YS5nZXQoXCJ0eXBlXCIpIHx8IFwicmVzaWRlbnRpYWxcIjtcblx0XHRjb25zdCBjb21wYW55TmFtZSA9IGZvcm1EYXRhLmdldChcImNvbXBhbnlOYW1lXCIpO1xuXHRcdGNvbnN0IGRpc3BsYXlOYW1lID0gYnVpbGRDdXN0b21lckRpc3BsYXlOYW1lKFxuXHRcdFx0Y3VzdG9tZXJUeXBlLFxuXHRcdFx0Y29tcGFueU5hbWUsXG5cdFx0XHRwcmltYXJ5Q29udGFjdCxcblx0XHQpO1xuXG5cdFx0Y29uc3QgY29tbXVuaWNhdGlvblByZWZlcmVuY2VzID0gYnVpbGREZWZhdWx0Q29tbXVuaWNhdGlvblByZWZlcmVuY2VzKCk7XG5cdFx0Y29uc3QgY3VzdG9tZXJNZXRhZGF0YSA9IGJ1aWxkQ3VzdG9tZXJNZXRhZGF0YShjb250YWN0cyk7XG5cblx0XHRjb25zdCB7IGxhdDogY3VzdG9tZXJMYXQsIGxvbjogY3VzdG9tZXJMb24gfSA9XG5cdFx0XHRhd2FpdCBnZW9jb2RlUHJpbWFyeVByb3BlcnR5SWZBdmFpbGFibGUocHJpbWFyeVByb3BlcnR5KTtcblxuXHRcdGNvbnN0IGN1c3RvbWVyID0gYXdhaXQgaW5zZXJ0Q3VzdG9tZXJSZWNvcmQoc3VwYWJhc2UsIHtcblx0XHRcdGNvbXBhbnlJZDogdGVhbU1lbWJlci5jb21wYW55X2lkLFxuXHRcdFx0Y3VzdG9tZXJUeXBlLFxuXHRcdFx0cHJpbWFyeUNvbnRhY3QsXG5cdFx0XHRjb21wYW55TmFtZVZhbHVlOiBjb21wYW55TmFtZSxcblx0XHRcdGRpc3BsYXlOYW1lLFxuXHRcdFx0cHJpbWFyeVByb3BlcnR5LFxuXHRcdFx0Y3VzdG9tZXJMYXQsXG5cdFx0XHRjdXN0b21lckxvbixcblx0XHRcdGZvcm1EYXRhLFxuXHRcdFx0dGFncyxcblx0XHRcdGNvbW11bmljYXRpb25QcmVmZXJlbmNlcyxcblx0XHRcdGN1c3RvbWVyTWV0YWRhdGEsXG5cdFx0fSk7XG5cblx0XHRhd2FpdCBpbnNlcnRBZGRpdGlvbmFsUHJvcGVydGllc0lmQW55KFxuXHRcdFx0c3VwYWJhc2UsXG5cdFx0XHR0ZWFtTWVtYmVyLmNvbXBhbnlfaWQsXG5cdFx0XHRjdXN0b21lci5pZCxcblx0XHRcdHByb3BlcnRpZXMsXG5cdFx0KTtcblxuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9jdXN0b21lcnNcIik7XG5cdFx0cmV0dXJuIGN1c3RvbWVyLmlkO1xuXHR9KTtcbn1cblxudHlwZSBQYXJzZWRDdXN0b21lckNvbnRhY3QgPSB7XG5cdGZpcnN0TmFtZTogc3RyaW5nO1xuXHRsYXN0TmFtZTogc3RyaW5nO1xuXHRlbWFpbDogc3RyaW5nO1xuXHRwaG9uZTogc3RyaW5nO1xuXHRyb2xlOiBzdHJpbmc7XG5cdGlzUHJpbWFyeTogYm9vbGVhbjtcbn07XG5cbnR5cGUgUGFyc2VkQ3VzdG9tZXJQcm9wZXJ0eSA9IHtcblx0bmFtZTogc3RyaW5nO1xuXHRhZGRyZXNzOiBzdHJpbmc7XG5cdGFkZHJlc3MyOiBzdHJpbmc7XG5cdGNpdHk6IHN0cmluZztcblx0c3RhdGU6IHN0cmluZztcblx0emlwQ29kZTogc3RyaW5nO1xuXHRjb3VudHJ5OiBzdHJpbmc7XG5cdHByb3BlcnR5VHlwZTogc3RyaW5nO1xuXHRpc1ByaW1hcnk6IGJvb2xlYW47XG5cdG5vdGVzOiBzdHJpbmc7XG59O1xuXG50eXBlIFBhcnNlZEN1c3RvbWVyRm9ybUNvbGxlY3Rpb25zID0ge1xuXHRjb250YWN0czogUGFyc2VkQ3VzdG9tZXJDb250YWN0W107XG5cdHByb3BlcnRpZXM6IFBhcnNlZEN1c3RvbWVyUHJvcGVydHlbXTtcblx0dGFncz86IHN0cmluZ1tdO1xufTtcblxuYXN5bmMgZnVuY3Rpb24gcmVxdWlyZUN1c3RvbWVyQ29tcGFueU1lbWJlcnNoaXAoXG5cdHN1cGFiYXNlOiBOb25OdWxsYWJsZTxBd2FpdGVkPFJldHVyblR5cGU8dHlwZW9mIGNyZWF0ZUNsaWVudD4+Pixcblx0dXNlcklkOiBzdHJpbmcsXG4pIHtcblx0Y29uc3QgeyBkYXRhOiB0ZWFtTWVtYmVyIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdC5mcm9tKFwiY29tcGFueV9tZW1iZXJzaGlwc1wiKVxuXHRcdC5zZWxlY3QoXCJjb21wYW55X2lkXCIpXG5cdFx0LmVxKFwidXNlcl9pZFwiLCB1c2VySWQpXG5cdFx0LnNpbmdsZSgpO1xuXG5cdGlmICghdGVhbU1lbWJlcj8uY29tcGFueV9pZCkge1xuXHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFwiWW91IG11c3QgYmUgcGFydCBvZiBhIGNvbXBhbnlcIixcblx0XHRcdEVSUk9SX0NPREVTLkFVVEhfRk9SQklEREVOLFxuXHRcdFx0SFRUUF9TVEFUVVNfRk9SQklEREVOLFxuXHRcdCk7XG5cdH1cblxuXHRyZXR1cm4gdGVhbU1lbWJlcjtcbn1cblxuZnVuY3Rpb24gcGFyc2VDdXN0b21lckNvbnRhY3RzUHJvcGVydGllc0FuZFRhZ3MoXG5cdGZvcm1EYXRhOiBGb3JtRGF0YSxcbik6IFBhcnNlZEN1c3RvbWVyRm9ybUNvbGxlY3Rpb25zIHtcblx0Y29uc3QgY29udGFjdHMgPSBwYXJzZUNvbnRhY3RzKGZvcm1EYXRhLmdldChcImNvbnRhY3RzXCIpKTtcblx0Y29uc3QgcHJvcGVydGllcyA9IHBhcnNlUHJvcGVydGllcyhmb3JtRGF0YS5nZXQoXCJwcm9wZXJ0aWVzXCIpKTtcblx0Y29uc3QgdGFncyA9IHBhcnNlVGFnc0ZpZWxkKGZvcm1EYXRhLmdldChcInRhZ3NcIikpO1xuXG5cdHJldHVybiB7IGNvbnRhY3RzLCBwcm9wZXJ0aWVzLCB0YWdzIH07XG59XG5cbmZ1bmN0aW9uIHBhcnNlQ29udGFjdHMoXG5cdHZhbHVlOiBGb3JtRGF0YUVudHJ5VmFsdWUgfCBudWxsLFxuKTogUGFyc2VkQ3VzdG9tZXJDb250YWN0W10ge1xuXHRpZiAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIikge1xuXHRcdHJldHVybiBbXTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0cmV0dXJuIEpTT04ucGFyc2UodmFsdWUpIGFzIFBhcnNlZEN1c3RvbWVyQ29udGFjdFtdO1xuXHR9IGNhdGNoIHtcblx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcIkludmFsaWQgY29udGFjdHMgZGF0YVwiLFxuXHRcdFx0RVJST1JfQ09ERVMuVkFMSURBVElPTl9GQUlMRUQsXG5cdFx0KTtcblx0fVxufVxuXG5mdW5jdGlvbiBwYXJzZVByb3BlcnRpZXMoXG5cdHZhbHVlOiBGb3JtRGF0YUVudHJ5VmFsdWUgfCBudWxsLFxuKTogUGFyc2VkQ3VzdG9tZXJQcm9wZXJ0eVtdIHtcblx0aWYgKCF2YWx1ZSB8fCB0eXBlb2YgdmFsdWUgIT09IFwic3RyaW5nXCIpIHtcblx0XHRyZXR1cm4gW107XG5cdH1cblxuXHR0cnkge1xuXHRcdHJldHVybiBKU09OLnBhcnNlKHZhbHVlKSBhcyBQYXJzZWRDdXN0b21lclByb3BlcnR5W107XG5cdH0gY2F0Y2gge1xuXHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFwiSW52YWxpZCBwcm9wZXJ0aWVzIGRhdGFcIixcblx0XHRcdEVSUk9SX0NPREVTLlZBTElEQVRJT05fRkFJTEVELFxuXHRcdCk7XG5cdH1cbn1cblxuZnVuY3Rpb24gcGFyc2VUYWdzRmllbGQoXG5cdHZhbHVlOiBGb3JtRGF0YUVudHJ5VmFsdWUgfCBudWxsLFxuKTogc3RyaW5nW10gfCB1bmRlZmluZWQge1xuXHRpZiAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIikge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdHRyeSB7XG5cdFx0cmV0dXJuIEpTT04ucGFyc2UodmFsdWUpIGFzIHN0cmluZ1tdO1xuXHR9IGNhdGNoIHtcblx0XHRyZXR1cm4gdmFsdWUuc3BsaXQoXCIsXCIpLm1hcCgodCkgPT4gdC50cmltKCkpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGdldFByaW1hcnlDb250YWN0T3JUaHJvdyhcblx0Y29udGFjdHM6IFBhcnNlZEN1c3RvbWVyQ29udGFjdFtdLFxuKTogUGFyc2VkQ3VzdG9tZXJDb250YWN0IHtcblx0Y29uc3QgcHJpbWFyeUNvbnRhY3QgPSBjb250YWN0cy5maW5kKChjKSA9PiBjLmlzUHJpbWFyeSkgfHwgY29udGFjdHNbMF07XG5cdGlmICghcHJpbWFyeUNvbnRhY3QpIHtcblx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcIkF0IGxlYXN0IG9uZSBjb250YWN0IGlzIHJlcXVpcmVkXCIsXG5cdFx0XHRFUlJPUl9DT0RFUy5WQUxJREFUSU9OX0ZBSUxFRCxcblx0XHQpO1xuXHR9XG5cdHJldHVybiBwcmltYXJ5Q29udGFjdDtcbn1cblxuZnVuY3Rpb24gZ2V0UHJpbWFyeVByb3BlcnR5KFxuXHRwcm9wZXJ0aWVzOiBQYXJzZWRDdXN0b21lclByb3BlcnR5W10sXG4pOiBQYXJzZWRDdXN0b21lclByb3BlcnR5IHwgdW5kZWZpbmVkIHtcblx0cmV0dXJuIHByb3BlcnRpZXMuZmluZCgocCkgPT4gcC5pc1ByaW1hcnkpIHx8IHByb3BlcnRpZXNbMF07XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGFzc2VydEN1c3RvbWVyRW1haWxOb3REdXBsaWNhdGUoXG5cdHN1cGFiYXNlOiBOb25OdWxsYWJsZTxBd2FpdGVkPFJldHVyblR5cGU8dHlwZW9mIGNyZWF0ZUNsaWVudD4+Pixcblx0Y29tcGFueUlkOiBzdHJpbmcsXG5cdGVtYWlsOiBzdHJpbmcsXG4pIHtcblx0Y29uc3QgeyBkYXRhOiBleGlzdGluZ0VtYWlsIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdC5mcm9tKFwiY3VzdG9tZXJzXCIpXG5cdFx0LnNlbGVjdChcImlkXCIpXG5cdFx0LmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpXG5cdFx0LmVxKFwiZW1haWxcIiwgZW1haWwpXG5cdFx0LmlzKFwiZGVsZXRlZF9hdFwiLCBudWxsKVxuXHRcdC5zaW5nbGUoKTtcblxuXHRpZiAoZXhpc3RpbmdFbWFpbCkge1xuXHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFwiQSBjdXN0b21lciB3aXRoIHRoaXMgZW1haWwgYWxyZWFkeSBleGlzdHNcIixcblx0XHRcdEVSUk9SX0NPREVTLkRCX0RVUExJQ0FURV9FTlRSWSxcblx0XHQpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGJ1aWxkQ3VzdG9tZXJEaXNwbGF5TmFtZShcblx0Y3VzdG9tZXJUeXBlOiBGb3JtRGF0YUVudHJ5VmFsdWUgfCBudWxsLFxuXHRjb21wYW55TmFtZVZhbHVlOiBGb3JtRGF0YUVudHJ5VmFsdWUgfCBudWxsLFxuXHRwcmltYXJ5Q29udGFjdDogUGFyc2VkQ3VzdG9tZXJDb250YWN0LFxuKTogc3RyaW5nIHtcblx0Y29uc3QgY29tcGFueU5hbWUgPSBjb21wYW55TmFtZVZhbHVlID8gU3RyaW5nKGNvbXBhbnlOYW1lVmFsdWUpIDogbnVsbDtcblxuXHRpZiAoY3VzdG9tZXJUeXBlID09PSBcImNvbW1lcmNpYWxcIiAmJiBjb21wYW55TmFtZSkge1xuXHRcdHJldHVybiBjb21wYW55TmFtZTtcblx0fVxuXG5cdHJldHVybiBgJHtwcmltYXJ5Q29udGFjdC5maXJzdE5hbWV9ICR7cHJpbWFyeUNvbnRhY3QubGFzdE5hbWV9YDtcbn1cblxuZnVuY3Rpb24gYnVpbGREZWZhdWx0Q29tbXVuaWNhdGlvblByZWZlcmVuY2VzKCkge1xuXHRyZXR1cm4ge1xuXHRcdGVtYWlsOiB0cnVlLFxuXHRcdHNtczogdHJ1ZSxcblx0XHRwaG9uZTogdHJ1ZSxcblx0XHRtYXJrZXRpbmc6IGZhbHNlLFxuXHR9O1xufVxuXG5mdW5jdGlvbiBidWlsZEN1c3RvbWVyTWV0YWRhdGEoY29udGFjdHM6IFBhcnNlZEN1c3RvbWVyQ29udGFjdFtdKSB7XG5cdHJldHVybiB7XG5cdFx0Y29udGFjdHM6IGNvbnRhY3RzLm1hcCgoYykgPT4gKHtcblx0XHRcdGZpcnN0TmFtZTogYy5maXJzdE5hbWUsXG5cdFx0XHRsYXN0TmFtZTogYy5sYXN0TmFtZSxcblx0XHRcdGVtYWlsOiBjLmVtYWlsLFxuXHRcdFx0cGhvbmU6IGMucGhvbmUsXG5cdFx0XHRyb2xlOiBjLnJvbGUsXG5cdFx0XHRpc1ByaW1hcnk6IGMuaXNQcmltYXJ5LFxuXHRcdH0pKSxcblx0fTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2VvY29kZVByaW1hcnlQcm9wZXJ0eUlmQXZhaWxhYmxlKFxuXHRwcmltYXJ5UHJvcGVydHk6IFBhcnNlZEN1c3RvbWVyUHJvcGVydHkgfCB1bmRlZmluZWQsXG4pOiBQcm9taXNlPHsgbGF0OiBudW1iZXIgfCBudWxsOyBsb246IG51bWJlciB8IG51bGwgfT4ge1xuXHRpZiAoXG5cdFx0IShcblx0XHRcdHByaW1hcnlQcm9wZXJ0eT8uYWRkcmVzcyAmJlxuXHRcdFx0cHJpbWFyeVByb3BlcnR5LmNpdHkgJiZcblx0XHRcdHByaW1hcnlQcm9wZXJ0eS5zdGF0ZSAmJlxuXHRcdFx0cHJpbWFyeVByb3BlcnR5LnppcENvZGVcblx0XHQpXG5cdCkge1xuXHRcdHJldHVybiB7IGxhdDogbnVsbCwgbG9uOiBudWxsIH07XG5cdH1cblxuXHRjb25zdCBnZW9jb2RlUmVzdWx0ID0gYXdhaXQgZ2VvY29kZUFkZHJlc3NTaWxlbnQoXG5cdFx0cHJpbWFyeVByb3BlcnR5LmFkZHJlc3MsXG5cdFx0cHJpbWFyeVByb3BlcnR5LmNpdHksXG5cdFx0cHJpbWFyeVByb3BlcnR5LnN0YXRlLFxuXHRcdHByaW1hcnlQcm9wZXJ0eS56aXBDb2RlLFxuXHRcdHByaW1hcnlQcm9wZXJ0eS5jb3VudHJ5IHx8IFwiVVNBXCIsXG5cdCk7XG5cblx0aWYgKCFnZW9jb2RlUmVzdWx0KSB7XG5cdFx0cmV0dXJuIHsgbGF0OiBudWxsLCBsb246IG51bGwgfTtcblx0fVxuXG5cdHJldHVybiB7IGxhdDogZ2VvY29kZVJlc3VsdC5sYXQsIGxvbjogZ2VvY29kZVJlc3VsdC5sb24gfTtcbn1cblxudHlwZSBJbnNlcnRDdXN0b21lclBhcmFtcyA9IHtcblx0Y29tcGFueUlkOiBzdHJpbmc7XG5cdGN1c3RvbWVyVHlwZTogRm9ybURhdGFFbnRyeVZhbHVlIHwgbnVsbDtcblx0cHJpbWFyeUNvbnRhY3Q6IFBhcnNlZEN1c3RvbWVyQ29udGFjdDtcblx0Y29tcGFueU5hbWVWYWx1ZTogRm9ybURhdGFFbnRyeVZhbHVlIHwgbnVsbDtcblx0ZGlzcGxheU5hbWU6IHN0cmluZztcblx0cHJpbWFyeVByb3BlcnR5PzogUGFyc2VkQ3VzdG9tZXJQcm9wZXJ0eTtcblx0Y3VzdG9tZXJMYXQ6IG51bWJlciB8IG51bGw7XG5cdGN1c3RvbWVyTG9uOiBudW1iZXIgfCBudWxsO1xuXHRmb3JtRGF0YTogRm9ybURhdGE7XG5cdHRhZ3M/OiBzdHJpbmdbXTtcblx0Y29tbXVuaWNhdGlvblByZWZlcmVuY2VzOiB7XG5cdFx0ZW1haWw6IGJvb2xlYW47XG5cdFx0c21zOiBib29sZWFuO1xuXHRcdHBob25lOiBib29sZWFuO1xuXHRcdG1hcmtldGluZzogYm9vbGVhbjtcblx0fTtcblx0Y3VzdG9tZXJNZXRhZGF0YTogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG59O1xuXG5hc3luYyBmdW5jdGlvbiBpbnNlcnRDdXN0b21lclJlY29yZChcblx0c3VwYWJhc2U6IE5vbk51bGxhYmxlPEF3YWl0ZWQ8UmV0dXJuVHlwZTx0eXBlb2YgY3JlYXRlQ2xpZW50Pj4+LFxuXHRwYXJhbXM6IEluc2VydEN1c3RvbWVyUGFyYW1zLFxuKSB7XG5cdGNvbnN0IHBheWxvYWQgPSBidWlsZEN1c3RvbWVySW5zZXJ0UGF5bG9hZChwYXJhbXMpO1xuXG5cdGNvbnN0IHsgZGF0YTogY3VzdG9tZXIsIGVycm9yOiBjcmVhdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHQuZnJvbShcImN1c3RvbWVyc1wiKVxuXHRcdC5pbnNlcnQocGF5bG9hZClcblx0XHQuc2VsZWN0KFwiaWRcIilcblx0XHQuc2luZ2xlKCk7XG5cblx0aWYgKGNyZWF0ZUVycm9yIHx8ICFjdXN0b21lcikge1xuXHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdEVSUk9SX01FU1NBR0VTLm9wZXJhdGlvbkZhaWxlZChcImNyZWF0ZSBjdXN0b21lclwiKSxcblx0XHRcdEVSUk9SX0NPREVTLkRCX1FVRVJZX0VSUk9SLFxuXHRcdCk7XG5cdH1cblxuXHRyZXR1cm4gY3VzdG9tZXI7XG59XG5cbmZ1bmN0aW9uIGJ1aWxkQ3VzdG9tZXJJbnNlcnRQYXlsb2FkKFxuXHRwYXJhbXM6IEluc2VydEN1c3RvbWVyUGFyYW1zLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuXHRjb25zdCB7XG5cdFx0Y29tcGFueUlkLFxuXHRcdGN1c3RvbWVyVHlwZSxcblx0XHRwcmltYXJ5Q29udGFjdCxcblx0XHRjb21wYW55TmFtZVZhbHVlLFxuXHRcdGRpc3BsYXlOYW1lLFxuXHRcdHByaW1hcnlQcm9wZXJ0eSxcblx0XHRjdXN0b21lckxhdCxcblx0XHRjdXN0b21lckxvbixcblx0XHRmb3JtRGF0YSxcblx0XHR0YWdzLFxuXHRcdGNvbW11bmljYXRpb25QcmVmZXJlbmNlcyxcblx0XHRjdXN0b21lck1ldGFkYXRhLFxuXHR9ID0gcGFyYW1zO1xuXG5cdGNvbnN0IGNvbXBhbnlOYW1lID0gY29tcGFueU5hbWVWYWx1ZSA/IFN0cmluZyhjb21wYW55TmFtZVZhbHVlKSA6IG51bGw7XG5cblx0cmV0dXJuIHtcblx0XHRjb21wYW55X2lkOiBjb21wYW55SWQsXG5cdFx0dHlwZTogU3RyaW5nKGN1c3RvbWVyVHlwZSB8fCBcInJlc2lkZW50aWFsXCIpLFxuXHRcdGZpcnN0X25hbWU6IHByaW1hcnlDb250YWN0LmZpcnN0TmFtZSxcblx0XHRsYXN0X25hbWU6IHByaW1hcnlDb250YWN0Lmxhc3ROYW1lLFxuXHRcdGNvbXBhbnlfbmFtZTogY29tcGFueU5hbWUsXG5cdFx0ZGlzcGxheV9uYW1lOiBkaXNwbGF5TmFtZSxcblx0XHRlbWFpbDogcHJpbWFyeUNvbnRhY3QuZW1haWwsXG5cdFx0cGhvbmU6IHByaW1hcnlDb250YWN0LnBob25lLFxuXHRcdHNlY29uZGFyeV9waG9uZTogbnVsbCxcblx0XHRhZGRyZXNzOiBwcmltYXJ5UHJvcGVydHk/LmFkZHJlc3MgfHwgbnVsbCxcblx0XHRhZGRyZXNzMjogcHJpbWFyeVByb3BlcnR5Py5hZGRyZXNzMiB8fCBudWxsLFxuXHRcdGNpdHk6IHByaW1hcnlQcm9wZXJ0eT8uY2l0eSB8fCBudWxsLFxuXHRcdHN0YXRlOiBwcmltYXJ5UHJvcGVydHk/LnN0YXRlIHx8IG51bGwsXG5cdFx0emlwX2NvZGU6IHByaW1hcnlQcm9wZXJ0eT8uemlwQ29kZSB8fCBudWxsLFxuXHRcdGNvdW50cnk6IHByaW1hcnlQcm9wZXJ0eT8uY291bnRyeSB8fCBcIlVTQVwiLFxuXHRcdGxhdDogY3VzdG9tZXJMYXQsXG5cdFx0bG9uOiBjdXN0b21lckxvbixcblx0XHRzb3VyY2U6IGZvcm1EYXRhLmdldChcInNvdXJjZVwiKSA/IFN0cmluZyhmb3JtRGF0YS5nZXQoXCJzb3VyY2VcIikpIDogbnVsbCxcblx0XHRyZWZlcnJlZF9ieTogZm9ybURhdGEuZ2V0KFwicmVmZXJyZWRCeVwiKVxuXHRcdFx0PyBTdHJpbmcoZm9ybURhdGEuZ2V0KFwicmVmZXJyZWRCeVwiKSlcblx0XHRcdDogbnVsbCxcblx0XHRwcmVmZXJyZWRfY29udGFjdF9tZXRob2Q6XG5cdFx0XHRTdHJpbmcoZm9ybURhdGEuZ2V0KFwicHJlZmVycmVkQ29udGFjdE1ldGhvZFwiKSkgfHwgXCJlbWFpbFwiLFxuXHRcdHByZWZlcnJlZF90ZWNobmljaWFuOiBmb3JtRGF0YS5nZXQoXCJwcmVmZXJyZWRUZWNobmljaWFuXCIpXG5cdFx0XHQ/IFN0cmluZyhmb3JtRGF0YS5nZXQoXCJwcmVmZXJyZWRUZWNobmljaWFuXCIpKVxuXHRcdFx0OiBudWxsLFxuXHRcdGJpbGxpbmdfZW1haWw6IGZvcm1EYXRhLmdldChcImJpbGxpbmdFbWFpbFwiKVxuXHRcdFx0PyBTdHJpbmcoZm9ybURhdGEuZ2V0KFwiYmlsbGluZ0VtYWlsXCIpKVxuXHRcdFx0OiBudWxsLFxuXHRcdHBheW1lbnRfdGVybXM6IFN0cmluZyhmb3JtRGF0YS5nZXQoXCJwYXltZW50VGVybXNcIikpIHx8IFwiZHVlX29uX3JlY2VpcHRcIixcblx0XHRjcmVkaXRfbGltaXQ6IGZvcm1EYXRhLmdldChcImNyZWRpdExpbWl0XCIpXG5cdFx0XHQ/IE51bWJlcihmb3JtRGF0YS5nZXQoXCJjcmVkaXRMaW1pdFwiKSkgKiBDRU5UU19QRVJfRE9MTEFSXG5cdFx0XHQ6IDAsXG5cdFx0dGF4X2V4ZW1wdDogZm9ybURhdGEuZ2V0KFwidGF4RXhlbXB0XCIpID09PSBcIm9uXCIsXG5cdFx0dGF4X2V4ZW1wdF9udW1iZXI6IGZvcm1EYXRhLmdldChcInRheEV4ZW1wdE51bWJlclwiKVxuXHRcdFx0PyBTdHJpbmcoZm9ybURhdGEuZ2V0KFwidGF4RXhlbXB0TnVtYmVyXCIpKVxuXHRcdFx0OiBudWxsLFxuXHRcdHRhZ3M6IHRhZ3MgfHwgbnVsbCxcblx0XHRjb21tdW5pY2F0aW9uX3ByZWZlcmVuY2VzOiBjb21tdW5pY2F0aW9uUHJlZmVyZW5jZXMsXG5cdFx0bm90ZXM6IGZvcm1EYXRhLmdldChcIm5vdGVzXCIpID8gU3RyaW5nKGZvcm1EYXRhLmdldChcIm5vdGVzXCIpKSA6IG51bGwsXG5cdFx0aW50ZXJuYWxfbm90ZXM6IGZvcm1EYXRhLmdldChcImludGVybmFsTm90ZXNcIilcblx0XHRcdD8gU3RyaW5nKGZvcm1EYXRhLmdldChcImludGVybmFsTm90ZXNcIikpXG5cdFx0XHQ6IG51bGwsXG5cdFx0bWV0YWRhdGE6IGN1c3RvbWVyTWV0YWRhdGEsXG5cdFx0c3RhdHVzOiBcImFjdGl2ZVwiLFxuXHRcdHBvcnRhbF9lbmFibGVkOiBmYWxzZSxcblx0XHR0b3RhbF9yZXZlbnVlOiAwLFxuXHRcdHRvdGFsX2pvYnM6IDAsXG5cdFx0dG90YWxfaW52b2ljZXM6IDAsXG5cdFx0YXZlcmFnZV9qb2JfdmFsdWU6IDAsXG5cdFx0b3V0c3RhbmRpbmdfYmFsYW5jZTogMCxcblx0fTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gaW5zZXJ0QWRkaXRpb25hbFByb3BlcnRpZXNJZkFueShcblx0c3VwYWJhc2U6IE5vbk51bGxhYmxlPEF3YWl0ZWQ8UmV0dXJuVHlwZTx0eXBlb2YgY3JlYXRlQ2xpZW50Pj4+LFxuXHRjb21wYW55SWQ6IHN0cmluZyxcblx0Y3VzdG9tZXJJZDogc3RyaW5nLFxuXHRwcm9wZXJ0aWVzOiBQYXJzZWRDdXN0b21lclByb3BlcnR5W10sXG4pIHtcblx0Y29uc3QgYWRkaXRpb25hbFByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzLmZpbHRlcigocCkgPT4gIXAuaXNQcmltYXJ5KTtcblx0aWYgKGFkZGl0aW9uYWxQcm9wZXJ0aWVzLmxlbmd0aCA9PT0gMCkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGNvbnN0IHByb3BlcnRpZXNUb0luc2VydCA9IGF3YWl0IFByb21pc2UuYWxsKFxuXHRcdGFkZGl0aW9uYWxQcm9wZXJ0aWVzLm1hcChhc3luYyAocHJvcCkgPT4ge1xuXHRcdFx0bGV0IHByb3BMYXQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xuXHRcdFx0bGV0IHByb3BMb246IG51bWJlciB8IG51bGwgPSBudWxsO1xuXG5cdFx0XHRpZiAocHJvcC5hZGRyZXNzICYmIHByb3AuY2l0eSAmJiBwcm9wLnN0YXRlICYmIHByb3AuemlwQ29kZSkge1xuXHRcdFx0XHRjb25zdCBnZW9jb2RlUmVzdWx0ID0gYXdhaXQgZ2VvY29kZUFkZHJlc3NTaWxlbnQoXG5cdFx0XHRcdFx0cHJvcC5hZGRyZXNzLFxuXHRcdFx0XHRcdHByb3AuY2l0eSxcblx0XHRcdFx0XHRwcm9wLnN0YXRlLFxuXHRcdFx0XHRcdHByb3AuemlwQ29kZSxcblx0XHRcdFx0XHRwcm9wLmNvdW50cnkgfHwgXCJVU0FcIixcblx0XHRcdFx0KTtcblxuXHRcdFx0XHRpZiAoZ2VvY29kZVJlc3VsdCkge1xuXHRcdFx0XHRcdHByb3BMYXQgPSBnZW9jb2RlUmVzdWx0LmxhdDtcblx0XHRcdFx0XHRwcm9wTG9uID0gZ2VvY29kZVJlc3VsdC5sb247XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0Y29tcGFueV9pZDogY29tcGFueUlkLFxuXHRcdFx0XHRjdXN0b21lcl9pZDogY3VzdG9tZXJJZCxcblx0XHRcdFx0bmFtZTogcHJvcC5uYW1lIHx8IFwiQWRkaXRpb25hbCBQcm9wZXJ0eVwiLFxuXHRcdFx0XHRhZGRyZXNzOiBwcm9wLmFkZHJlc3MsXG5cdFx0XHRcdGFkZHJlc3MyOiBwcm9wLmFkZHJlc3MyIHx8IG51bGwsXG5cdFx0XHRcdGNpdHk6IHByb3AuY2l0eSxcblx0XHRcdFx0c3RhdGU6IHByb3Auc3RhdGUsXG5cdFx0XHRcdHppcF9jb2RlOiBwcm9wLnppcENvZGUsXG5cdFx0XHRcdGNvdW50cnk6IHByb3AuY291bnRyeSB8fCBcIlVTQVwiLFxuXHRcdFx0XHRwcm9wZXJ0eV90eXBlOiBwcm9wLnByb3BlcnR5VHlwZSB8fCBcInJlc2lkZW50aWFsXCIsXG5cdFx0XHRcdG5vdGVzOiBwcm9wLm5vdGVzIHx8IG51bGwsXG5cdFx0XHRcdGxhdDogcHJvcExhdCxcblx0XHRcdFx0bG9uOiBwcm9wTG9uLFxuXHRcdFx0fTtcblx0XHR9KSxcblx0KTtcblxuXHRhd2FpdCBzdXBhYmFzZS5mcm9tKFwicHJvcGVydGllc1wiKS5pbnNlcnQocHJvcGVydGllc1RvSW5zZXJ0KTtcbn1cblxuLyoqXG4gKiBVcGRhdGUgZXhpc3RpbmcgY3VzdG9tZXJcbiAqL1xuYXN5bmMgZnVuY3Rpb24gdXBkYXRlQ3VzdG9tZXIoXG5cdGN1c3RvbWVySWQ6IHN0cmluZyxcblx0Zm9ybURhdGE6IEZvcm1EYXRhLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8dm9pZD4+IHtcblx0cmV0dXJuIHdpdGhFcnJvckhhbmRsaW5nKGFzeW5jICgpID0+IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0XCJEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZFwiLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9DT05ORUNUSU9OX0VSUk9SLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cdFx0YXNzZXJ0QXV0aGVudGljYXRlZCh1c2VyPy5pZCk7XG5cblx0XHRjb25zdCB0ZWFtTWVtYmVyID0gYXdhaXQgcmVxdWlyZUN1c3RvbWVyQ29tcGFueU1lbWJlcnNoaXAoXG5cdFx0XHRzdXBhYmFzZSxcblx0XHRcdHVzZXIuaWQsXG5cdFx0KTtcblxuXHRcdC8vIFZlcmlmeSBjdXN0b21lciBleGlzdHMgYW5kIGJlbG9uZ3MgdG8gY29tcGFueVxuXHRcdGNvbnN0IHsgZGF0YTogY3VzdG9tZXIgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImN1c3RvbWVyc1wiKVxuXHRcdFx0LnNlbGVjdChcImlkLCBjb21wYW55X2lkLCBlbWFpbFwiKVxuXHRcdFx0LmVxKFwiaWRcIiwgY3VzdG9tZXJJZClcblx0XHRcdC5pcyhcImRlbGV0ZWRfYXRcIiwgbnVsbClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGFzc2VydEV4aXN0cyhjdXN0b21lciwgXCJDdXN0b21lclwiKTtcblxuXHRcdGlmIChjdXN0b21lci5jb21wYW55X2lkICE9PSB0ZWFtTWVtYmVyLmNvbXBhbnlfaWQpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0XCJDdXN0b21lciBub3QgZm91bmRcIixcblx0XHRcdFx0RVJST1JfQ09ERVMuQVVUSF9GT1JCSURERU4sXG5cdFx0XHRcdEhUVFBfU1RBVFVTX0ZPUkJJRERFTixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Ly8gUGFyc2UgdGFncyBpZiBwcm92aWRlZFxuXHRcdGxldCB0YWdzOiBzdHJpbmdbXSB8IHVuZGVmaW5lZDtcblx0XHRjb25zdCB0YWdzU3RyaW5nID0gZm9ybURhdGEuZ2V0KFwidGFnc1wiKTtcblx0XHRpZiAodGFnc1N0cmluZyAmJiB0eXBlb2YgdGFnc1N0cmluZyA9PT0gXCJzdHJpbmdcIikge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0dGFncyA9IEpTT04ucGFyc2UodGFnc1N0cmluZyk7XG5cdFx0XHR9IGNhdGNoIHtcblx0XHRcdFx0dGFncyA9IHRhZ3NTdHJpbmcuc3BsaXQoXCIsXCIpLm1hcCgodCkgPT4gdC50cmltKCkpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFZhbGlkYXRlIGlucHV0XG5cdFx0Y29uc3QgZGF0YSA9IGN1c3RvbWVyU2NoZW1hLnBhcnNlKHtcblx0XHRcdHR5cGU6IGZvcm1EYXRhLmdldChcInR5cGVcIikgfHwgXCJyZXNpZGVudGlhbFwiLFxuXHRcdFx0Zmlyc3ROYW1lOiBmb3JtRGF0YS5nZXQoXCJmaXJzdE5hbWVcIiksXG5cdFx0XHRsYXN0TmFtZTogZm9ybURhdGEuZ2V0KFwibGFzdE5hbWVcIiksXG5cdFx0XHRjb21wYW55TmFtZTogZm9ybURhdGEuZ2V0KFwiY29tcGFueU5hbWVcIikgfHwgdW5kZWZpbmVkLFxuXHRcdFx0ZW1haWw6IGZvcm1EYXRhLmdldChcImVtYWlsXCIpLFxuXHRcdFx0cGhvbmU6IGZvcm1EYXRhLmdldChcInBob25lXCIpLFxuXHRcdFx0c2Vjb25kYXJ5UGhvbmU6IGZvcm1EYXRhLmdldChcInNlY29uZGFyeVBob25lXCIpIHx8IHVuZGVmaW5lZCxcblx0XHRcdGFkZHJlc3M6IGZvcm1EYXRhLmdldChcImFkZHJlc3NcIikgfHwgdW5kZWZpbmVkLFxuXHRcdFx0YWRkcmVzczI6IGZvcm1EYXRhLmdldChcImFkZHJlc3MyXCIpIHx8IHVuZGVmaW5lZCxcblx0XHRcdGNpdHk6IGZvcm1EYXRhLmdldChcImNpdHlcIikgfHwgdW5kZWZpbmVkLFxuXHRcdFx0c3RhdGU6IGZvcm1EYXRhLmdldChcInN0YXRlXCIpIHx8IHVuZGVmaW5lZCxcblx0XHRcdHppcENvZGU6IGZvcm1EYXRhLmdldChcInppcENvZGVcIikgfHwgdW5kZWZpbmVkLFxuXHRcdFx0Y291bnRyeTogZm9ybURhdGEuZ2V0KFwiY291bnRyeVwiKSB8fCBcIlVTQVwiLFxuXHRcdFx0c291cmNlOiBmb3JtRGF0YS5nZXQoXCJzb3VyY2VcIikgfHwgdW5kZWZpbmVkLFxuXHRcdFx0cmVmZXJyZWRCeTogZm9ybURhdGEuZ2V0KFwicmVmZXJyZWRCeVwiKSB8fCBudWxsLFxuXHRcdFx0cHJlZmVycmVkQ29udGFjdE1ldGhvZDogZm9ybURhdGEuZ2V0KFwicHJlZmVycmVkQ29udGFjdE1ldGhvZFwiKSB8fCBcImVtYWlsXCIsXG5cdFx0XHRwcmVmZXJyZWRUZWNobmljaWFuOiBmb3JtRGF0YS5nZXQoXCJwcmVmZXJyZWRUZWNobmljaWFuXCIpIHx8IG51bGwsXG5cdFx0XHRiaWxsaW5nRW1haWw6IGZvcm1EYXRhLmdldChcImJpbGxpbmdFbWFpbFwiKSB8fCBudWxsLFxuXHRcdFx0cGF5bWVudFRlcm1zOiBmb3JtRGF0YS5nZXQoXCJwYXltZW50VGVybXNcIikgfHwgXCJkdWVfb25fcmVjZWlwdFwiLFxuXHRcdFx0Y3JlZGl0TGltaXQ6IGZvcm1EYXRhLmdldChcImNyZWRpdExpbWl0XCIpXG5cdFx0XHRcdD8gTnVtYmVyKGZvcm1EYXRhLmdldChcImNyZWRpdExpbWl0XCIpKVxuXHRcdFx0XHQ6IDAsXG5cdFx0XHR0YXhFeGVtcHQ6IGZvcm1EYXRhLmdldChcInRheEV4ZW1wdFwiKSA9PT0gXCJ0cnVlXCIsXG5cdFx0XHR0YXhFeGVtcHROdW1iZXI6IGZvcm1EYXRhLmdldChcInRheEV4ZW1wdE51bWJlclwiKSB8fCB1bmRlZmluZWQsXG5cdFx0XHR0YWdzLFxuXHRcdFx0bm90ZXM6IGZvcm1EYXRhLmdldChcIm5vdGVzXCIpIHx8IHVuZGVmaW5lZCxcblx0XHRcdGludGVybmFsTm90ZXM6IGZvcm1EYXRhLmdldChcImludGVybmFsTm90ZXNcIikgfHwgdW5kZWZpbmVkLFxuXHRcdH0pO1xuXG5cdFx0Ly8gQ2hlY2sgaWYgZW1haWwgYWxyZWFkeSBleGlzdHMgKGV4Y2x1ZGluZyBjdXJyZW50IGN1c3RvbWVyKVxuXHRcdGlmIChkYXRhLmVtYWlsICE9PSBjdXN0b21lci5lbWFpbCkge1xuXHRcdFx0Y29uc3QgeyBkYXRhOiBleGlzdGluZ0VtYWlsIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0XHQuZnJvbShcImN1c3RvbWVyc1wiKVxuXHRcdFx0XHQuc2VsZWN0KFwiaWRcIilcblx0XHRcdFx0LmVxKFwiY29tcGFueV9pZFwiLCB0ZWFtTWVtYmVyLmNvbXBhbnlfaWQpXG5cdFx0XHRcdC5lcShcImVtYWlsXCIsIGRhdGEuZW1haWwpXG5cdFx0XHRcdC5uZXEoXCJpZFwiLCBjdXN0b21lcklkKVxuXHRcdFx0XHQuaXMoXCJkZWxldGVkX2F0XCIsIG51bGwpXG5cdFx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdFx0aWYgKGV4aXN0aW5nRW1haWwpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRcdFwiQSBjdXN0b21lciB3aXRoIHRoaXMgZW1haWwgYWxyZWFkeSBleGlzdHNcIixcblx0XHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9EVVBMSUNBVEVfRU5UUlksXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gR2VuZXJhdGUgZGlzcGxheSBuYW1lXG5cdFx0Y29uc3QgZGlzcGxheU5hbWUgPVxuXHRcdFx0ZGF0YS50eXBlID09PSBcImNvbW1lcmNpYWxcIiAmJiBkYXRhLmNvbXBhbnlOYW1lXG5cdFx0XHRcdD8gZGF0YS5jb21wYW55TmFtZVxuXHRcdFx0XHQ6IGAke2RhdGEuZmlyc3ROYW1lfSAke2RhdGEubGFzdE5hbWV9YDtcblxuXHRcdGNvbnN0IGNvbXBhbnlOYW1lID0gZGF0YS5jb21wYW55TmFtZSA/IFN0cmluZyhkYXRhLmNvbXBhbnlOYW1lKSA6IG51bGw7XG5cblx0XHQvLyBVcGRhdGUgY3VzdG9tZXJcblx0XHRjb25zdCB7IGVycm9yOiB1cGRhdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiY3VzdG9tZXJzXCIpXG5cdFx0XHQudXBkYXRlKHtcblx0XHRcdFx0dHlwZTogZGF0YS50eXBlLFxuXHRcdFx0XHRmaXJzdF9uYW1lOiBkYXRhLmZpcnN0TmFtZSxcblx0XHRcdFx0bGFzdF9uYW1lOiBkYXRhLmxhc3ROYW1lLFxuXHRcdFx0XHRjb21wYW55X25hbWU6IGNvbXBhbnlOYW1lLFxuXHRcdFx0XHRkaXNwbGF5X25hbWU6IGRpc3BsYXlOYW1lLFxuXHRcdFx0XHRlbWFpbDogZGF0YS5lbWFpbCxcblx0XHRcdFx0cGhvbmU6IGRhdGEucGhvbmUsXG5cdFx0XHRcdHNlY29uZGFyeV9waG9uZTogZGF0YS5zZWNvbmRhcnlQaG9uZSxcblx0XHRcdFx0YWRkcmVzczogZGF0YS5hZGRyZXNzLFxuXHRcdFx0XHRhZGRyZXNzMjogZGF0YS5hZGRyZXNzMixcblx0XHRcdFx0Y2l0eTogZGF0YS5jaXR5LFxuXHRcdFx0XHRzdGF0ZTogZGF0YS5zdGF0ZSxcblx0XHRcdFx0emlwX2NvZGU6IGRhdGEuemlwQ29kZSxcblx0XHRcdFx0Y291bnRyeTogZGF0YS5jb3VudHJ5LFxuXHRcdFx0XHRzb3VyY2U6IGRhdGEuc291cmNlLFxuXHRcdFx0XHRyZWZlcnJlZF9ieTogZGF0YS5yZWZlcnJlZEJ5LFxuXHRcdFx0XHRwcmVmZXJyZWRfY29udGFjdF9tZXRob2Q6IGRhdGEucHJlZmVycmVkQ29udGFjdE1ldGhvZCxcblx0XHRcdFx0cHJlZmVycmVkX3RlY2huaWNpYW46IGRhdGEucHJlZmVycmVkVGVjaG5pY2lhbixcblx0XHRcdFx0YmlsbGluZ19lbWFpbDogZGF0YS5iaWxsaW5nRW1haWwsXG5cdFx0XHRcdHBheW1lbnRfdGVybXM6IGRhdGEucGF5bWVudFRlcm1zLFxuXHRcdFx0XHRjcmVkaXRfbGltaXQ6IGRhdGEuY3JlZGl0TGltaXQsXG5cdFx0XHRcdHRheF9leGVtcHQ6IGRhdGEudGF4RXhlbXB0LFxuXHRcdFx0XHR0YXhfZXhlbXB0X251bWJlcjogZGF0YS50YXhFeGVtcHROdW1iZXIsXG5cdFx0XHRcdHRhZ3M6IGRhdGEudGFncyxcblx0XHRcdFx0bm90ZXM6IGRhdGEubm90ZXMsXG5cdFx0XHRcdGludGVybmFsX25vdGVzOiBkYXRhLmludGVybmFsTm90ZXMsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgY3VzdG9tZXJJZCk7XG5cblx0XHRpZiAodXBkYXRlRXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0RVJST1JfTUVTU0FHRVMub3BlcmF0aW9uRmFpbGVkKFwidXBkYXRlIGN1c3RvbWVyXCIpLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9RVUVSWV9FUlJPUixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL2N1c3RvbWVyc1wiKTtcblx0XHRyZXZhbGlkYXRlUGF0aChgL2Rhc2hib2FyZC9jdXN0b21lcnMvJHtjdXN0b21lcklkfWApO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBEZWxldGUgY3VzdG9tZXIgKHNvZnQgZGVsZXRlL2FyY2hpdmUpXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVDdXN0b21lcihcblx0Y3VzdG9tZXJJZDogc3RyaW5nLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8dm9pZD4+IHtcblx0cmV0dXJuIHdpdGhFcnJvckhhbmRsaW5nKGFzeW5jICgpID0+IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0XCJEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZFwiLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9DT05ORUNUSU9OX0VSUk9SLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cdFx0YXNzZXJ0QXV0aGVudGljYXRlZCh1c2VyPy5pZCk7XG5cblx0XHRjb25zdCB0ZWFtTWVtYmVyID0gYXdhaXQgcmVxdWlyZUN1c3RvbWVyQ29tcGFueU1lbWJlcnNoaXAoXG5cdFx0XHRzdXBhYmFzZSxcblx0XHRcdHVzZXIuaWQsXG5cdFx0KTtcblxuXHRcdC8vIFZlcmlmeSBjdXN0b21lciBleGlzdHMgYW5kIGJlbG9uZ3MgdG8gY29tcGFueVxuXHRcdGNvbnN0IHsgZGF0YTogY3VzdG9tZXIgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImN1c3RvbWVyc1wiKVxuXHRcdFx0LnNlbGVjdChcImlkLCBjb21wYW55X2lkLCBvdXRzdGFuZGluZ19iYWxhbmNlXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBjdXN0b21lcklkKVxuXHRcdFx0LmlzKFwiZGVsZXRlZF9hdFwiLCBudWxsKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0YXNzZXJ0RXhpc3RzKGN1c3RvbWVyLCBcIkN1c3RvbWVyXCIpO1xuXG5cdFx0aWYgKGN1c3RvbWVyLmNvbXBhbnlfaWQgIT09IHRlYW1NZW1iZXIuY29tcGFueV9pZCkge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRcIkN1c3RvbWVyIG5vdCBmb3VuZFwiLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5BVVRIX0ZPUkJJRERFTixcblx0XHRcdFx0SFRUUF9TVEFUVVNfRk9SQklEREVOLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyBQcmV2ZW50IGRlbGV0aW9uIGlmIGN1c3RvbWVyIGhhcyBvdXRzdGFuZGluZyBiYWxhbmNlXG5cdFx0aWYgKGN1c3RvbWVyLm91dHN0YW5kaW5nX2JhbGFuY2UgPiAwKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdFwiQ2Fubm90IGRlbGV0ZSBjdXN0b21lciB3aXRoIG91dHN0YW5kaW5nIGJhbGFuY2UuIENvbGxlY3QgcGF5bWVudCBmaXJzdC5cIixcblx0XHRcdFx0RVJST1JfQ09ERVMuQlVTSU5FU1NfUlVMRV9WSU9MQVRJT04sXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdC8vIFNvZnQgZGVsZXRlXG5cdFx0Y29uc3QgeyBlcnJvcjogZGVsZXRlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImN1c3RvbWVyc1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdGRlbGV0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdFx0ZGVsZXRlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0c3RhdHVzOiBcImFyY2hpdmVkXCIsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgY3VzdG9tZXJJZCk7XG5cblx0XHRpZiAoZGVsZXRlRXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0RVJST1JfTUVTU0FHRVMub3BlcmF0aW9uRmFpbGVkKFwiZGVsZXRlIGN1c3RvbWVyXCIpLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9RVUVSWV9FUlJPUixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL2N1c3RvbWVyc1wiKTtcblx0fSk7XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIENVU1RPTUVSIFNUQVRVUyAmIFBSRUZFUkVOQ0VTXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogVXBkYXRlIGN1c3RvbWVyIHN0YXR1c1xuICovXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVDdXN0b21lclN0YXR1cyhcblx0Y3VzdG9tZXJJZDogc3RyaW5nLFxuXHRzdGF0dXM6IFwiYWN0aXZlXCIgfCBcImluYWN0aXZlXCIgfCBcImFyY2hpdmVkXCIgfCBcImJsb2NrZWRcIixcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PHZvaWQ+PiB7XG5cdHJldHVybiB3aXRoRXJyb3JIYW5kbGluZyhhc3luYyAoKSA9PiB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdFwiRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWRcIixcblx0XHRcdFx0RVJST1JfQ09ERVMuREJfQ09OTkVDVElPTl9FUlJPUixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXHRcdGFzc2VydEF1dGhlbnRpY2F0ZWQodXNlcj8uaWQpO1xuXG5cdFx0Y29uc3QgdGVhbU1lbWJlciA9IGF3YWl0IHJlcXVpcmVDdXN0b21lckNvbXBhbnlNZW1iZXJzaGlwKFxuXHRcdFx0c3VwYWJhc2UsXG5cdFx0XHR1c2VyLmlkLFxuXHRcdCk7XG5cblx0XHQvLyBWZXJpZnkgY3VzdG9tZXIgZXhpc3RzIGFuZCBiZWxvbmdzIHRvIGNvbXBhbnlcblx0XHRjb25zdCB7IGRhdGE6IGN1c3RvbWVyIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjdXN0b21lcnNcIilcblx0XHRcdC5zZWxlY3QoXCJpZCwgY29tcGFueV9pZFwiKVxuXHRcdFx0LmVxKFwiaWRcIiwgY3VzdG9tZXJJZClcblx0XHRcdC5pcyhcImRlbGV0ZWRfYXRcIiwgbnVsbClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGFzc2VydEV4aXN0cyhjdXN0b21lciwgXCJDdXN0b21lclwiKTtcblxuXHRcdGlmIChjdXN0b21lci5jb21wYW55X2lkICE9PSB0ZWFtTWVtYmVyLmNvbXBhbnlfaWQpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0XCJDdXN0b21lciBub3QgZm91bmRcIixcblx0XHRcdFx0RVJST1JfQ09ERVMuQVVUSF9GT1JCSURERU4sXG5cdFx0XHRcdEhUVFBfU1RBVFVTX0ZPUkJJRERFTixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Ly8gVXBkYXRlIHN0YXR1c1xuXHRcdGNvbnN0IHsgZXJyb3I6IHVwZGF0ZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjdXN0b21lcnNcIilcblx0XHRcdC51cGRhdGUoeyBzdGF0dXMgfSlcblx0XHRcdC5lcShcImlkXCIsIGN1c3RvbWVySWQpO1xuXG5cdFx0aWYgKHVwZGF0ZUVycm9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdEVSUk9SX01FU1NBR0VTLm9wZXJhdGlvbkZhaWxlZChcInVwZGF0ZSBjdXN0b21lciBzdGF0dXNcIiksXG5cdFx0XHRcdEVSUk9SX0NPREVTLkRCX1FVRVJZX0VSUk9SLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvY3VzdG9tZXJzXCIpO1xuXHRcdHJldmFsaWRhdGVQYXRoKGAvZGFzaGJvYXJkL2N1c3RvbWVycy8ke2N1c3RvbWVySWR9YCk7XG5cdH0pO1xufVxuXG4vKipcbiAqIFVwZGF0ZSBjb21tdW5pY2F0aW9uIHByZWZlcmVuY2VzXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUNvbW11bmljYXRpb25QcmVmZXJlbmNlcyhcblx0Y3VzdG9tZXJJZDogc3RyaW5nLFxuXHRmb3JtRGF0YTogRm9ybURhdGEsXG4pOiBQcm9taXNlPEFjdGlvblJlc3VsdDx2b2lkPj4ge1xuXHRyZXR1cm4gd2l0aEVycm9ySGFuZGxpbmcoYXN5bmMgKCkgPT4ge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cdFx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRcIkRhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkXCIsXG5cdFx0XHRcdEVSUk9SX0NPREVTLkRCX0NPTk5FQ1RJT05fRVJST1IsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblx0XHRhc3NlcnRBdXRoZW50aWNhdGVkKHVzZXI/LmlkKTtcblxuXHRcdGNvbnN0IHRlYW1NZW1iZXIgPSBhd2FpdCByZXF1aXJlQ3VzdG9tZXJDb21wYW55TWVtYmVyc2hpcChcblx0XHRcdHN1cGFiYXNlLFxuXHRcdFx0dXNlci5pZCxcblx0XHQpO1xuXG5cdFx0Ly8gVmVyaWZ5IGN1c3RvbWVyIGV4aXN0cyBhbmQgYmVsb25ncyB0byBjb21wYW55XG5cdFx0Y29uc3QgeyBkYXRhOiBjdXN0b21lciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiY3VzdG9tZXJzXCIpXG5cdFx0XHQuc2VsZWN0KFwiaWQsIGNvbXBhbnlfaWRcIilcblx0XHRcdC5lcShcImlkXCIsIGN1c3RvbWVySWQpXG5cdFx0XHQuaXMoXCJkZWxldGVkX2F0XCIsIG51bGwpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRhc3NlcnRFeGlzdHMoY3VzdG9tZXIsIFwiQ3VzdG9tZXJcIik7XG5cblx0XHRpZiAoY3VzdG9tZXIuY29tcGFueV9pZCAhPT0gdGVhbU1lbWJlci5jb21wYW55X2lkKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdFwiQ3VzdG9tZXIgbm90IGZvdW5kXCIsXG5cdFx0XHRcdEVSUk9SX0NPREVTLkFVVEhfRk9SQklEREVOLFxuXHRcdFx0XHRIVFRQX1NUQVRVU19GT1JCSURERU4sXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdC8vIFZhbGlkYXRlIGlucHV0XG5cdFx0Y29uc3QgcHJlZmVyZW5jZXMgPSBjb21tdW5pY2F0aW9uUHJlZmVyZW5jZXNTY2hlbWEucGFyc2Uoe1xuXHRcdFx0ZW1haWw6IGZvcm1EYXRhLmdldChcImVtYWlsXCIpID09PSBcInRydWVcIixcblx0XHRcdHNtczogZm9ybURhdGEuZ2V0KFwic21zXCIpID09PSBcInRydWVcIixcblx0XHRcdHBob25lOiBmb3JtRGF0YS5nZXQoXCJwaG9uZVwiKSA9PT0gXCJ0cnVlXCIsXG5cdFx0XHRtYXJrZXRpbmc6IGZvcm1EYXRhLmdldChcIm1hcmtldGluZ1wiKSA9PT0gXCJ0cnVlXCIsXG5cdFx0fSk7XG5cblx0XHQvLyBVcGRhdGUgcHJlZmVyZW5jZXNcblx0XHRjb25zdCB7IGVycm9yOiB1cGRhdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiY3VzdG9tZXJzXCIpXG5cdFx0XHQudXBkYXRlKHsgY29tbXVuaWNhdGlvbl9wcmVmZXJlbmNlczogcHJlZmVyZW5jZXMgfSlcblx0XHRcdC5lcShcImlkXCIsIGN1c3RvbWVySWQpO1xuXG5cdFx0aWYgKHVwZGF0ZUVycm9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdEVSUk9SX01FU1NBR0VTLm9wZXJhdGlvbkZhaWxlZChcInVwZGF0ZSBjb21tdW5pY2F0aW9uIHByZWZlcmVuY2VzXCIpLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9RVUVSWV9FUlJPUixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoYC9kYXNoYm9hcmQvY3VzdG9tZXJzLyR7Y3VzdG9tZXJJZH1gKTtcblx0fSk7XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIENVU1RPTUVSIFBPUlRBTFxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIEludml0ZSBjdXN0b21lciB0byBwb3J0YWxcbiAqIFNlbmRzIGFuIGVtYWlsIHdpdGggYSBzZWN1cmUgdG9rZW4tYmFzZWQgaW52aXRhdGlvbiBsaW5rLlxuICovXG5hc3luYyBmdW5jdGlvbiBpbnZpdGVUb1BvcnRhbChcblx0Y3VzdG9tZXJJZDogc3RyaW5nLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8dm9pZD4+IHtcblx0cmV0dXJuIHdpdGhFcnJvckhhbmRsaW5nKGFzeW5jICgpID0+IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0XCJEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZFwiLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9DT05ORUNUSU9OX0VSUk9SLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cdFx0YXNzZXJ0QXV0aGVudGljYXRlZCh1c2VyPy5pZCk7XG5cblx0XHRjb25zdCB0ZWFtTWVtYmVyID0gYXdhaXQgcmVxdWlyZUN1c3RvbWVyQ29tcGFueU1lbWJlcnNoaXAoXG5cdFx0XHRzdXBhYmFzZSxcblx0XHRcdHVzZXIuaWQsXG5cdFx0KTtcblxuXHRcdC8vIFZlcmlmeSBjdXN0b21lciBleGlzdHMgYW5kIGJlbG9uZ3MgdG8gY29tcGFueVxuXHRcdGNvbnN0IHsgZGF0YTogY3VzdG9tZXIgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImN1c3RvbWVyc1wiKVxuXHRcdFx0LnNlbGVjdChcImlkLCBjb21wYW55X2lkLCBlbWFpbCwgZGlzcGxheV9uYW1lLCBwb3J0YWxfZW5hYmxlZFwiKVxuXHRcdFx0LmVxKFwiaWRcIiwgY3VzdG9tZXJJZClcblx0XHRcdC5pcyhcImRlbGV0ZWRfYXRcIiwgbnVsbClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGFzc2VydEV4aXN0cyhjdXN0b21lciwgXCJDdXN0b21lclwiKTtcblxuXHRcdGlmIChjdXN0b21lci5jb21wYW55X2lkICE9PSB0ZWFtTWVtYmVyLmNvbXBhbnlfaWQpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0XCJDdXN0b21lciBub3QgZm91bmRcIixcblx0XHRcdFx0RVJST1JfQ09ERVMuQVVUSF9GT1JCSURERU4sXG5cdFx0XHRcdEhUVFBfU1RBVFVTX0ZPUkJJRERFTixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0aWYgKGN1c3RvbWVyLnBvcnRhbF9lbmFibGVkKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdFwiQ3VzdG9tZXIgaXMgYWxyZWFkeSBpbnZpdGVkIHRvIHBvcnRhbFwiLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5CVVNJTkVTU19SVUxFX1ZJT0xBVElPTixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Ly8gR2VuZXJhdGUgc2VjdXJlIHBvcnRhbCBpbnZpdGF0aW9uIHRva2VuXG5cdFx0Y29uc3QgaW52aXRlVG9rZW4gPSBCdWZmZXIuZnJvbShcblx0XHRcdGAke2N1c3RvbWVySWR9OiR7RGF0ZS5ub3coKX06JHtNYXRoLnJhbmRvbSgpfWAsXG5cdFx0KS50b1N0cmluZyhcImJhc2U2NHVybFwiKTtcblxuXHRcdC8vIFVwZGF0ZSBjdXN0b21lclxuXHRcdGNvbnN0IHsgZXJyb3I6IHVwZGF0ZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjdXN0b21lcnNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRwb3J0YWxfZW5hYmxlZDogdHJ1ZSxcblx0XHRcdFx0cG9ydGFsX2ludml0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBjdXN0b21lcklkKTtcblxuXHRcdGlmICh1cGRhdGVFcnJvcikge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRFUlJPUl9NRVNTQUdFUy5vcGVyYXRpb25GYWlsZWQoXCJpbnZpdGUgY3VzdG9tZXIgdG8gcG9ydGFsXCIpLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9RVUVSWV9FUlJPUixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Ly8gU2VuZCBpbnZpdGF0aW9uIGVtYWlsXG5cdFx0Y29uc3Qgc2l0ZVVybCA9IHJlcXVpcmVTaXRlVXJsKCk7XG5cdFx0Y29uc3QgcG9ydGFsVXJsID0gYCR7c2l0ZVVybH0vcG9ydGFsL3NldHVwP3Rva2VuPSR7aW52aXRlVG9rZW59YDtcblxuXHRcdGNvbnN0IGVtYWlsUmVzdWx0ID0gYXdhaXQgc2VuZEVtYWlsKHtcblx0XHRcdHRvOiBjdXN0b21lci5lbWFpbCxcblx0XHRcdHN1YmplY3Q6IFwiWW91J3ZlIGJlZW4gaW52aXRlZCB0byB5b3VyIEN1c3RvbWVyIFBvcnRhbFwiLFxuXHRcdFx0dGVtcGxhdGU6IFBvcnRhbEludml0YXRpb25FbWFpbCh7XG5cdFx0XHRcdGN1c3RvbWVyTmFtZTogY3VzdG9tZXIuZGlzcGxheV9uYW1lLFxuXHRcdFx0XHRwb3J0YWxVcmwsXG5cdFx0XHRcdGV4cGlyZXNJbkhvdXJzOiAxNjgsIC8vIDcgZGF5c1xuXHRcdFx0XHRzdXBwb3J0RW1haWw6IHByb2Nlc3MuZW52LlJFU0VORF9GUk9NX0VNQUlMIHx8IFwic3VwcG9ydEB0aG9yYmlzLmNvbVwiLFxuXHRcdFx0XHRzdXBwb3J0UGhvbmU6IFwiKDU1NSkgMTIzLTQ1NjdcIixcblx0XHRcdH0pLFxuXHRcdFx0dGVtcGxhdGVUeXBlOiBFbWFpbFRlbXBsYXRlLlBPUlRBTF9JTlZJVEFUSU9OLFxuXHRcdH0pO1xuXG5cdFx0aWYgKCFlbWFpbFJlc3VsdC5zdWNjZXNzKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL2N1c3RvbWVyc1wiKTtcblx0XHRyZXZhbGlkYXRlUGF0aChgL2Rhc2hib2FyZC9jdXN0b21lcnMvJHtjdXN0b21lcklkfWApO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBSZXZva2UgcG9ydGFsIGFjY2Vzc1xuICovXG5hc3luYyBmdW5jdGlvbiByZXZva2VQb3J0YWxBY2Nlc3MoXG5cdGN1c3RvbWVySWQ6IHN0cmluZyxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PHZvaWQ+PiB7XG5cdHJldHVybiB3aXRoRXJyb3JIYW5kbGluZyhhc3luYyAoKSA9PiB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdFwiRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWRcIixcblx0XHRcdFx0RVJST1JfQ09ERVMuREJfQ09OTkVDVElPTl9FUlJPUixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXHRcdGFzc2VydEF1dGhlbnRpY2F0ZWQodXNlcj8uaWQpO1xuXG5cdFx0Y29uc3QgdGVhbU1lbWJlciA9IGF3YWl0IHJlcXVpcmVDdXN0b21lckNvbXBhbnlNZW1iZXJzaGlwKFxuXHRcdFx0c3VwYWJhc2UsXG5cdFx0XHR1c2VyLmlkLFxuXHRcdCk7XG5cblx0XHQvLyBWZXJpZnkgY3VzdG9tZXIgZXhpc3RzIGFuZCBiZWxvbmdzIHRvIGNvbXBhbnlcblx0XHRjb25zdCB7IGRhdGE6IGN1c3RvbWVyIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjdXN0b21lcnNcIilcblx0XHRcdC5zZWxlY3QoXCJpZCwgY29tcGFueV9pZFwiKVxuXHRcdFx0LmVxKFwiaWRcIiwgY3VzdG9tZXJJZClcblx0XHRcdC5pcyhcImRlbGV0ZWRfYXRcIiwgbnVsbClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGFzc2VydEV4aXN0cyhjdXN0b21lciwgXCJDdXN0b21lclwiKTtcblxuXHRcdGlmIChjdXN0b21lci5jb21wYW55X2lkICE9PSB0ZWFtTWVtYmVyLmNvbXBhbnlfaWQpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0XCJDdXN0b21lciBub3QgZm91bmRcIixcblx0XHRcdFx0RVJST1JfQ09ERVMuQVVUSF9GT1JCSURERU4sXG5cdFx0XHRcdEhUVFBfU1RBVFVTX0ZPUkJJRERFTixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Ly8gUmV2b2tlIGFjY2Vzc1xuXHRcdGNvbnN0IHsgZXJyb3I6IHVwZGF0ZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjdXN0b21lcnNcIilcblx0XHRcdC51cGRhdGUoeyBwb3J0YWxfZW5hYmxlZDogZmFsc2UgfSlcblx0XHRcdC5lcShcImlkXCIsIGN1c3RvbWVySWQpO1xuXG5cdFx0aWYgKHVwZGF0ZUVycm9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdEVSUk9SX01FU1NBR0VTLm9wZXJhdGlvbkZhaWxlZChcInJldm9rZSBwb3J0YWwgYWNjZXNzXCIpLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9RVUVSWV9FUlJPUixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL2N1c3RvbWVyc1wiKTtcblx0XHRyZXZhbGlkYXRlUGF0aChgL2Rhc2hib2FyZC9jdXN0b21lcnMvJHtjdXN0b21lcklkfWApO1xuXHR9KTtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU0VBUkNIICYgUkVQT1JUSU5HXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogR2V0IGN1c3RvbWVyIGJ5IHBob25lIG51bWJlclxuICogVXNlZCBmb3IgaW5jb21pbmcgY2FsbCBsb29rdXBzXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDdXN0b21lckJ5UGhvbmUoXG5cdHBob25lTnVtYmVyOiBzdHJpbmcsXG5cdGNvbXBhbnlJZDogc3RyaW5nLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8dW5rbm93bj4+IHtcblx0cmV0dXJuIHdpdGhFcnJvckhhbmRsaW5nKGFzeW5jICgpID0+IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0XCJEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZFwiLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9DT05ORUNUSU9OX0VSUk9SLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyBOb3JtYWxpemUgcGhvbmUgbnVtYmVyIChyZW1vdmUgZm9ybWF0dGluZylcblx0XHRjb25zdCBub3JtYWxpemVkUGhvbmUgPSBwaG9uZU51bWJlci5yZXBsYWNlKC9cXEQvZywgXCJcIik7XG5cblx0XHQvLyBTZWFyY2ggYnkgcHJpbWFyeSBwaG9uZSBvciBzZWNvbmRhcnkgcGhvbmVcblx0XHRjb25zdCB7IGRhdGE6IGN1c3RvbWVyLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiY3VzdG9tZXJzXCIpXG5cdFx0XHQuc2VsZWN0KFxuXHRcdFx0XHRgXG4gICAgICAgICosXG4gICAgICAgIHByb3BlcnRpZXM6cHJvcGVydGllcygqKVxuICAgICAgYCxcblx0XHRcdClcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgY29tcGFueUlkKVxuXHRcdFx0Lm9yKFxuXHRcdFx0XHRgcGhvbmUuZXEuJHtwaG9uZU51bWJlcn0scGhvbmUuZXEuJHtub3JtYWxpemVkUGhvbmV9LHNlY29uZGFyeV9waG9uZS5lcS4ke3Bob25lTnVtYmVyfSxzZWNvbmRhcnlfcGhvbmUuZXEuJHtub3JtYWxpemVkUGhvbmV9YCxcblx0XHRcdClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChlcnJvciAmJiBlcnJvci5jb2RlICE9PSBcIlBHUlNUMTE2XCIpIHtcblx0XHRcdC8vIFBHUlNUMTE2ID0gbm8gcm93cyBmb3VuZFxuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRgRmFpbGVkIHRvIGZpbmQgY3VzdG9tZXI6ICR7ZXJyb3IubWVzc2FnZX1gLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9RVUVSWV9FUlJPUixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGN1c3RvbWVyIHx8IG51bGw7XG5cdH0pO1xufVxuXG4vKipcbiAqIFNlYXJjaCBjdXN0b21lcnMgYnkgbmFtZSwgZW1haWwsIHBob25lLCBvciBjb21wYW55XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZWFyY2hDdXN0b21lcnMoXG5cdHNlYXJjaFRlcm06IHN0cmluZyxcblx0b3B0aW9ucz86IHsgbGltaXQ/OiBudW1iZXI7IG9mZnNldD86IG51bWJlciB9LFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8dW5rbm93bltdPj4ge1xuXHRyZXR1cm4gd2l0aEVycm9ySGFuZGxpbmcoYXN5bmMgKCkgPT4ge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cdFx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRcIkRhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkXCIsXG5cdFx0XHRcdEVSUk9SX0NPREVTLkRCX0NPTk5FQ1RJT05fRVJST1IsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblx0XHRhc3NlcnRBdXRoZW50aWNhdGVkKHVzZXI/LmlkKTtcblxuXHRcdC8vIFVzZSB0aGUgYWN0aXZlIGNvbXBhbnkgSUQgaGVscGVyIChzYW1lIGFzIGdldEFsbEN1c3RvbWVycylcblx0XHRjb25zdCBhY3RpdmVDb21wYW55SWQgPSBhd2FpdCBnZXRBY3RpdmVDb21wYW55SWQoKTtcblx0XHRpZiAoIWFjdGl2ZUNvbXBhbnlJZCkge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRcIk5vIGFjdGl2ZSBjb21wYW55XCIsXG5cdFx0XHRcdEVSUk9SX0NPREVTLkFVVEhfRk9SQklEREVOLFxuXHRcdFx0XHRIVFRQX1NUQVRVU19GT1JCSURERU4sXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdC8vIFZlcmlmeSB1c2VyIGhhcyBhY2Nlc3MgdG8gdGhlIGFjdGl2ZSBjb21wYW55XG5cdFx0Y29uc3QgeyBkYXRhOiB0ZWFtTWVtYmVyIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjb21wYW55X21lbWJlcnNoaXBzXCIpXG5cdFx0XHQuc2VsZWN0KFwiY29tcGFueV9pZFwiKVxuXHRcdFx0LmVxKFwidXNlcl9pZFwiLCB1c2VyLmlkKVxuXHRcdFx0LmVxKFwiY29tcGFueV9pZFwiLCBhY3RpdmVDb21wYW55SWQpXG5cdFx0XHQuZXEoXCJzdGF0dXNcIiwgXCJhY3RpdmVcIilcblx0XHRcdC5tYXliZVNpbmdsZSgpO1xuXG5cdFx0aWYgKCF0ZWFtTWVtYmVyPy5jb21wYW55X2lkKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdFwiWW91IGRvbid0IGhhdmUgYWNjZXNzIHRvIHRoaXMgY29tcGFueVwiLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5BVVRIX0ZPUkJJRERFTixcblx0XHRcdFx0SFRUUF9TVEFUVVNfRk9SQklEREVOLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyBVc2UgZnVsbC10ZXh0IHNlYXJjaCB3aXRoIHJhbmtpbmcgZm9yIGJlc3QgbWF0Y2hlc1xuXHRcdC8vIFNlYXJjaGVzIGFjcm9zczogZmlyc3RfbmFtZSwgbGFzdF9uYW1lLCBkaXNwbGF5X25hbWUsIGVtYWlsLCBwaG9uZSxcblx0XHQvLyBzZWNvbmRhcnlfcGhvbmUsIGNvbXBhbnlfbmFtZSwgYWRkcmVzcywgY2l0eSwgc3RhdGVcblx0XHQvLyBSZXR1cm5zIHJlc3VsdHMgb3JkZXJlZCBieSByZWxldmFuY2UgKHdlaWdodGVkOiBuYW1lID4gY29udGFjdCA+IGFkZHJlc3MpXG5cdFx0Y29uc3QgeyBzZWFyY2hDdXN0b21lcnNGdWxsVGV4dCB9ID0gYXdhaXQgaW1wb3J0KFxuXHRcdFx0XCJAL2xpYi9zZWFyY2gvZnVsbC10ZXh0LXNlYXJjaFwiXG5cdFx0KTtcblxuXHRcdGNvbnN0IGN1c3RvbWVycyA9IGF3YWl0IHNlYXJjaEN1c3RvbWVyc0Z1bGxUZXh0KFxuXHRcdFx0c3VwYWJhc2UsXG5cdFx0XHRhY3RpdmVDb21wYW55SWQsXG5cdFx0XHRzZWFyY2hUZXJtLFxuXHRcdFx0e1xuXHRcdFx0XHRsaW1pdDogb3B0aW9ucz8ubGltaXQgfHwgREVGQVVMVF9TRUFSQ0hfTElNSVQsXG5cdFx0XHRcdG9mZnNldDogb3B0aW9ucz8ub2Zmc2V0IHx8IDAsXG5cdFx0XHR9LFxuXHRcdCk7XG5cblx0XHRyZXR1cm4gY3VzdG9tZXJzO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBHZXQgdG9wIGN1c3RvbWVycyBieSByZXZlbnVlXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldFRvcEN1c3RvbWVycyhcblx0bGltaXQgPSAxMCxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PHVua25vd25bXT4+IHtcblx0cmV0dXJuIHdpdGhFcnJvckhhbmRsaW5nKGFzeW5jICgpID0+IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0XCJEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZFwiLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9DT05ORUNUSU9OX0VSUk9SLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cdFx0YXNzZXJ0QXV0aGVudGljYXRlZCh1c2VyPy5pZCk7XG5cblx0XHRjb25zdCB7IGRhdGE6IHRlYW1NZW1iZXIgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfbWVtYmVyc2hpcHNcIilcblx0XHRcdC5zZWxlY3QoXCJjb21wYW55X2lkXCIpXG5cdFx0XHQuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoIXRlYW1NZW1iZXI/LmNvbXBhbnlfaWQpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0XCJZb3UgbXVzdCBiZSBwYXJ0IG9mIGEgY29tcGFueVwiLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5BVVRIX0ZPUkJJRERFTixcblx0XHRcdFx0SFRUUF9TVEFUVVNfRk9SQklEREVOLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRjb25zdCB7IGRhdGE6IGN1c3RvbWVycywgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImN1c3RvbWVyc1wiKVxuXHRcdFx0LnNlbGVjdChcIipcIilcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgdGVhbU1lbWJlci5jb21wYW55X2lkKVxuXHRcdFx0LmVxKFwic3RhdHVzXCIsIFwiYWN0aXZlXCIpXG5cdFx0XHQuaXMoXCJkZWxldGVkX2F0XCIsIG51bGwpXG5cdFx0XHQub3JkZXIoXCJ0b3RhbF9yZXZlbnVlXCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxuXHRcdFx0LmxpbWl0KGxpbWl0KTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRFUlJPUl9NRVNTQUdFUy5vcGVyYXRpb25GYWlsZWQoXCJmZXRjaCB0b3AgY3VzdG9tZXJzXCIpLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9RVUVSWV9FUlJPUixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGN1c3RvbWVycyB8fCBbXTtcblx0fSk7XG59XG5cbi8qKlxuICogR2V0IGN1c3RvbWVycyB3aXRoIG91dHN0YW5kaW5nIGJhbGFuY2VcbiAqL1xudHlwZSBDdXN0b21lcldpdGhCYWxhbmNlID0ge1xuXHRpZDogc3RyaW5nO1xuXHRkaXNwbGF5X25hbWU6IHN0cmluZztcblx0YmFsYW5jZTogbnVtYmVyO1xufTtcblxuYXN5bmMgZnVuY3Rpb24gZ2V0Q3VzdG9tZXJzV2l0aEJhbGFuY2UoKTogUHJvbWlzZTxcblx0QWN0aW9uUmVzdWx0PEN1c3RvbWVyV2l0aEJhbGFuY2VbXT5cbj4ge1xuXHRyZXR1cm4gd2l0aEVycm9ySGFuZGxpbmcoYXN5bmMgKCkgPT4ge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cdFx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRcIkRhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkXCIsXG5cdFx0XHRcdEVSUk9SX0NPREVTLkRCX0NPTk5FQ1RJT05fRVJST1IsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblx0XHRhc3NlcnRBdXRoZW50aWNhdGVkKHVzZXI/LmlkKTtcblxuXHRcdGNvbnN0IHsgZGF0YTogdGVhbU1lbWJlciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiY29tcGFueV9tZW1iZXJzaGlwc1wiKVxuXHRcdFx0LnNlbGVjdChcImNvbXBhbnlfaWRcIilcblx0XHRcdC5lcShcInVzZXJfaWRcIiwgdXNlci5pZClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghdGVhbU1lbWJlcj8uY29tcGFueV9pZCkge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRcIllvdSBtdXN0IGJlIHBhcnQgb2YgYSBjb21wYW55XCIsXG5cdFx0XHRcdEVSUk9SX0NPREVTLkFVVEhfRk9SQklEREVOLFxuXHRcdFx0XHRIVFRQX1NUQVRVU19GT1JCSURERU4sXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGNvbnN0IHsgZGF0YTogY3VzdG9tZXJzLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiY3VzdG9tZXJzXCIpXG5cdFx0XHQuc2VsZWN0KFwiKlwiKVxuXHRcdFx0LmVxKFwiY29tcGFueV9pZFwiLCB0ZWFtTWVtYmVyLmNvbXBhbnlfaWQpXG5cdFx0XHQuaXMoXCJkZWxldGVkX2F0XCIsIG51bGwpXG5cdFx0XHQuZ3QoXCJvdXRzdGFuZGluZ19iYWxhbmNlXCIsIDApXG5cdFx0XHQub3JkZXIoXCJvdXRzdGFuZGluZ19iYWxhbmNlXCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxuXHRcdFx0LmxpbWl0KDEwMCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0RVJST1JfTUVTU0FHRVMub3BlcmF0aW9uRmFpbGVkKFwiZmV0Y2ggY3VzdG9tZXJzIHdpdGggYmFsYW5jZVwiKSxcblx0XHRcdFx0RVJST1JfQ09ERVMuREJfUVVFUllfRVJST1IsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdHJldHVybiBjdXN0b21lcnMgfHwgW107XG5cdH0pO1xufVxuXG50eXBlIEN1c3RvbWVyUmVjb3JkID0ge1xuXHRpZDogc3RyaW5nO1xuXHRjb21wYW55X2lkOiBzdHJpbmc7XG5cdHR5cGU6IHN0cmluZztcblx0Zmlyc3RfbmFtZTogc3RyaW5nO1xuXHRsYXN0X25hbWU6IHN0cmluZztcblx0ZGlzcGxheV9uYW1lOiBzdHJpbmc7XG5cdGNvbXBhbnlfbmFtZT86IHN0cmluZyB8IG51bGw7XG5cdGVtYWlsOiBzdHJpbmc7XG5cdHBob25lOiBzdHJpbmc7XG5cdHNlY29uZGFyeV9waG9uZT86IHN0cmluZztcblx0YWRkcmVzcz86IHN0cmluZztcblx0YWRkcmVzczI/OiBzdHJpbmc7XG5cdGNpdHk/OiBzdHJpbmc7XG5cdHN0YXRlPzogc3RyaW5nO1xuXHR6aXBfY29kZT86IHN0cmluZztcblx0c3RhdHVzOiBzdHJpbmc7XG5cdHRvdGFsX3JldmVudWU/OiBudW1iZXI7XG5cdHRvdGFsX2pvYnM/OiBudW1iZXI7XG5cdHRvdGFsX2ludm9pY2VzPzogbnVtYmVyO1xuXHRvdXRzdGFuZGluZ19iYWxhbmNlPzogbnVtYmVyO1xuXHRsYXN0X2pvYl9kYXRlPzogc3RyaW5nO1xuXHRuZXh0X3NjaGVkdWxlZF9qb2I/OiBzdHJpbmc7XG5cdGNyZWF0ZWRfYXQ6IHN0cmluZztcblx0dXBkYXRlZF9hdDogc3RyaW5nO1xuXHRhcmNoaXZlZF9hdD86IHN0cmluZyB8IG51bGw7XG5cdGRlbGV0ZWRfYXQ/OiBzdHJpbmcgfCBudWxsO1xufTtcblxuLyoqXG4gKiBHZXQgY3VzdG9tZXJzIGZvciBwaG9uZSBkaWFsZXIgKGxpZ2h0d2VpZ2h0LCBubyBlbnJpY2htZW50KVxuICpcbiAqIFBFUkZPUk1BTkNFOiBSZXR1cm5zIG9ubHkgYmFzaWMgY29udGFjdCBpbmZvIG5lZWRlZCBmb3IgZGlhbGVyLlxuICogVXNlIHRoaXMgaW5zdGVhZCBvZiBnZXRBbGxDdXN0b21lcnMoKSBpbiBBcHBIZWFkZXIgdG8gYXZvaWQgTisxIHF1ZXJpZXMuXG4gKlxuICogRXhwZWN0ZWQ6IDUwLTEwMG1zIChzaW5nbGUgcXVlcnkpXG4gKiB2cyBnZXRBbGxDdXN0b21lcnMoKTogMTIwMC0yMDAwbXMgKDE1MSBxdWVyaWVzIHdpdGggZW5yaWNobWVudClcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEN1c3RvbWVyc0ZvckRpYWxlcigpOiBQcm9taXNlPFxuXHRBY3Rpb25SZXN1bHQ8XG5cdFx0QXJyYXk8e1xuXHRcdFx0aWQ6IHN0cmluZztcblx0XHRcdGZpcnN0X25hbWU6IHN0cmluZyB8IG51bGw7XG5cdFx0XHRsYXN0X25hbWU6IHN0cmluZyB8IG51bGw7XG5cdFx0XHRkaXNwbGF5X25hbWU6IHN0cmluZyB8IG51bGw7XG5cdFx0XHRlbWFpbDogc3RyaW5nIHwgbnVsbDtcblx0XHRcdHBob25lOiBzdHJpbmcgfCBudWxsO1xuXHRcdFx0c2Vjb25kYXJ5X3Bob25lPzogc3RyaW5nIHwgbnVsbDtcblx0XHRcdGNvbXBhbnlfbmFtZTogc3RyaW5nIHwgbnVsbDtcblx0XHRcdGFkZHJlc3M6IHN0cmluZyB8IG51bGw7XG5cdFx0XHRhZGRyZXNzMjogc3RyaW5nIHwgbnVsbDtcblx0XHRcdGNpdHk6IHN0cmluZyB8IG51bGw7XG5cdFx0XHRzdGF0ZTogc3RyaW5nIHwgbnVsbDtcblx0XHRcdHppcF9jb2RlOiBzdHJpbmcgfCBudWxsO1xuXHRcdH0+XG5cdD5cbj4ge1xuXHRyZXR1cm4gd2l0aEVycm9ySGFuZGxpbmcoYXN5bmMgKCkgPT4ge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cdFx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRcIkRhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkXCIsXG5cdFx0XHRcdEVSUk9SX0NPREVTLkRCX0NPTk5FQ1RJT05fRVJST1IsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblx0XHRhc3NlcnRBdXRoZW50aWNhdGVkKHVzZXI/LmlkKTtcblxuXHRcdGNvbnN0IGFjdGl2ZUNvbXBhbnlJZCA9IGF3YWl0IGdldEFjdGl2ZUNvbXBhbnlJZCgpO1xuXHRcdGlmICghYWN0aXZlQ29tcGFueUlkKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdFwiTm8gYWN0aXZlIGNvbXBhbnlcIixcblx0XHRcdFx0RVJST1JfQ09ERVMuQVVUSF9GT1JCSURERU4sXG5cdFx0XHRcdDQwMyxcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Ly8gU2luZ2xlIGxpZ2h0d2VpZ2h0IHF1ZXJ5IC0gbm8gam9pbnMsIG5vIGVucmljaG1lbnRcblx0XHRjb25zdCB7IGRhdGE6IGN1c3RvbWVycywgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImN1c3RvbWVyc1wiKVxuXHRcdFx0LnNlbGVjdChcblx0XHRcdFx0XCJpZCwgZmlyc3RfbmFtZSwgbGFzdF9uYW1lLCBkaXNwbGF5X25hbWUsIGVtYWlsLCBwaG9uZSwgc2Vjb25kYXJ5X3Bob25lLCBjb21wYW55X25hbWUsIGFkZHJlc3MsIGFkZHJlc3MyLCBjaXR5LCBzdGF0ZSwgemlwX2NvZGVcIixcblx0XHRcdClcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgYWN0aXZlQ29tcGFueUlkKVxuXHRcdFx0LmlzKFwiZGVsZXRlZF9hdFwiLCBudWxsKVxuXHRcdFx0Lm9yZGVyKFwiZGlzcGxheV9uYW1lXCIsIHsgYXNjZW5kaW5nOiB0cnVlIH0pO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdEVSUk9SX01FU1NBR0VTLm9wZXJhdGlvbkZhaWxlZChcImZldGNoIGN1c3RvbWVyc1wiKSxcblx0XHRcdFx0RVJST1JfQ09ERVMuREJfUVVFUllfRVJST1IsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdHJldHVybiBjdXN0b21lcnMgfHwgW107XG5cdH0pO1xufVxuXG4vKipcbiAqIEdldCBhbGwgY3VzdG9tZXJzIGZvciB0aGUgY3VycmVudCBjb21wYW55IChXSVRIIEVOUklDSE1FTlQpXG4gKlxuICogV0FSTklORzogVGhpcyBmdW5jdGlvbiBkb2VzIDE1MSBkYXRhYmFzZSBxdWVyaWVzIGZvciA1MCBjdXN0b21lcnMgKE4rMSBwYXR0ZXJuKS5cbiAqIEV4cGVjdGVkIHRpbWU6IDEyMDAtMjAwMG1zXG4gKlxuICogRE8gTk9UIHVzZSBpbiBBcHBIZWFkZXIgb3Igb3RoZXIgZnJlcXVlbnRseSByZW5kZXJlZCBjb21wb25lbnRzLlxuICogVXNlIGdldEN1c3RvbWVyc0ZvckRpYWxlcigpIGluc3RlYWQgZm9yIGxpZ2h0d2VpZ2h0IGNvbnRhY3QgaW5mby5cbiAqXG4gKiBPbmx5IHVzZSB0aGlzIG9uIGRlZGljYXRlZCBjdXN0b21lciBsaXN0IHBhZ2VzIHdoZXJlIHRoZSBlbnJpY2hlZCBkYXRhIGlzIG5lZWRlZC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2V0QWxsQ3VzdG9tZXJzKCk6IFByb21pc2U8XG5cdEFjdGlvblJlc3VsdDxDdXN0b21lclJlY29yZFtdPlxuPiB7XG5cdHJldHVybiB3aXRoRXJyb3JIYW5kbGluZyhhc3luYyAoKSA9PiB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdFwiRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWRcIixcblx0XHRcdFx0RVJST1JfQ09ERVMuREJfQ09OTkVDVElPTl9FUlJPUixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXHRcdGFzc2VydEF1dGhlbnRpY2F0ZWQodXNlcj8uaWQpO1xuXG5cdFx0Ly8gR2V0IGFjdGl2ZSBjb21wYW55IElEIChmcm9tIGNvb2tpZSBvciBmaXJzdCBhdmFpbGFibGUpXG5cdFx0Y29uc3QgYWN0aXZlQ29tcGFueUlkID0gYXdhaXQgZ2V0QWN0aXZlQ29tcGFueUlkKCk7XG5cblx0XHRjb25zdCBGT1JCSURERU5fU1RBVFVTX0NPREUgPSA0MDM7XG5cdFx0aWYgKCFhY3RpdmVDb21wYW55SWQpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0XCJZb3UgbXVzdCBiZSBwYXJ0IG9mIGEgY29tcGFueVwiLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5BVVRIX0ZPUkJJRERFTixcblx0XHRcdFx0Rk9SQklEREVOX1NUQVRVU19DT0RFLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyBWZXJpZnkgdXNlciBoYXMgYWNjZXNzIHRvIHRoZSBhY3RpdmUgY29tcGFueVxuXHRcdGNvbnN0IHsgZGF0YTogdGVhbU1lbWJlciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiY29tcGFueV9tZW1iZXJzaGlwc1wiKVxuXHRcdFx0LnNlbGVjdChcImNvbXBhbnlfaWRcIilcblx0XHRcdC5lcShcInVzZXJfaWRcIiwgdXNlci5pZClcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgYWN0aXZlQ29tcGFueUlkKVxuXHRcdFx0LmVxKFwic3RhdHVzXCIsIFwiYWN0aXZlXCIpXG5cdFx0XHQubWF5YmVTaW5nbGUoKTtcblxuXHRcdGlmICghdGVhbU1lbWJlcj8uY29tcGFueV9pZCkge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRcIllvdSBkb24ndCBoYXZlIGFjY2VzcyB0byB0aGlzIGNvbXBhbnlcIixcblx0XHRcdFx0RVJST1JfQ09ERVMuQVVUSF9GT1JCSURERU4sXG5cdFx0XHRcdEZPUkJJRERFTl9TVEFUVVNfQ09ERSxcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgeyBkYXRhOiBjdXN0b21lcnMsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjdXN0b21lcnNcIilcblx0XHRcdC5zZWxlY3QoXCIqXCIpXG5cdFx0XHQuZXEoXCJjb21wYW55X2lkXCIsIGFjdGl2ZUNvbXBhbnlJZClcblx0XHRcdC5pcyhcImRlbGV0ZWRfYXRcIiwgbnVsbClcblx0XHRcdC5vcmRlcihcImRpc3BsYXlfbmFtZVwiLCB7IGFzY2VuZGluZzogdHJ1ZSB9KTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRFUlJPUl9NRVNTQUdFUy5vcGVyYXRpb25GYWlsZWQoXCJmZXRjaCBjdXN0b21lcnNcIiksXG5cdFx0XHRcdEVSUk9SX0NPREVTLkRCX1FVRVJZX0VSUk9SLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyBQRVJGT1JNQU5DRSBPUFRJTUlaRUQ6IFVzZSBSUEMgZnVuY3Rpb24gaW5zdGVhZCBvZiBOKzEgcXVlcmllc1xuXHRcdC8vIEJFRk9SRTogMTUxIHF1ZXJpZXMgZm9yIDUwIGN1c3RvbWVycyAoMSBiYXNlICsgNTAgw5cgMyBxdWVyaWVzIGVhY2gpXG5cdFx0Ly8gQUZURVI6IDEgUlBDIGNhbGwgd2l0aCBlZmZpY2llbnQgTEFURVJBTCBqb2luc1xuXHRcdC8vIFBlcmZvcm1hbmNlIGdhaW46IDUtMTAgc2Vjb25kcyBmYXN0ZXJcblxuXHRcdC8vIE5vdGU6IGN1c3RvbWVycyB2YXJpYWJsZSBjb250YWlucyB0aGUgYmFzZSBjdXN0b21lciBkYXRhIGZyb20gYWJvdmUgcXVlcnlcblx0XHQvLyBXZSByZXBsYWNlIHRoZSBlbnJpY2htZW50IGxvZ2ljIHdpdGggYSBzaW5nbGUgUlBDIGNhbGxcblx0XHRjb25zdCB7IGRhdGE6IGVucmljaGVkRGF0YSwgZXJyb3I6IGVucmljaEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5ycGMoXG5cdFx0XHRcImdldF9lbnJpY2hlZF9jdXN0b21lcnNfcnBjXCIsXG5cdFx0XHR7XG5cdFx0XHRcdHBfY29tcGFueV9pZDogYWN0aXZlQ29tcGFueUlkLFxuXHRcdFx0fSxcblx0XHQpO1xuXG5cdFx0aWYgKGVucmljaEVycm9yKSB7XG5cdFx0XHQvLyBGYWxsYmFjayB0byBiYXNlIGN1c3RvbWVycyBpZiBlbnJpY2htZW50IGZhaWxzXG5cdFx0XHRjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGVucmljaCBjdXN0b21lcnM6XCIsIGVucmljaEVycm9yKTtcblx0XHRcdHJldHVybiBjdXN0b21lcnMgYXMgQ3VzdG9tZXJSZWNvcmRbXTtcblx0XHR9XG5cblx0XHQvLyBNZXJnZSBlbnJpY2hlZCBkYXRhIHdpdGggYmFzZSBjdXN0b21lciBkYXRhXG5cdFx0Y29uc3QgZW5yaWNoZWRDdXN0b21lcnMgPSAoZW5yaWNoZWREYXRhIHx8IFtdKS5tYXAoKGN1c3RvbWVyOiBhbnkpID0+ICh7XG5cdFx0XHQuLi5jdXN0b21lcixcblx0XHRcdC8vIE92ZXJyaWRlIHRvdGFsX2pvYnMgYW5kIHRvdGFsX3JldmVudWUgd2l0aCBmcmVzaCBhZ2dyZWdhdGVkIHZhbHVlc1xuXHRcdFx0dG90YWxfam9iczogY3VzdG9tZXIuZW5yaWNoZWRfdG90YWxfam9icyB8fCBjdXN0b21lci50b3RhbF9qb2JzIHx8IDAsXG5cdFx0XHR0b3RhbF9yZXZlbnVlOlxuXHRcdFx0XHRjdXN0b21lci5lbnJpY2hlZF90b3RhbF9yZXZlbnVlIHx8IGN1c3RvbWVyLnRvdGFsX3JldmVudWUgfHwgMCxcblx0XHR9KSk7XG5cblx0XHRyZXR1cm4gZW5yaWNoZWRDdXN0b21lcnMgYXMgQ3VzdG9tZXJSZWNvcmRbXTtcblx0fSk7XG59XG5cbi8qKlxuICogVXBkYXRlIGN1c3RvbWVyIHBhZ2UgY29udGVudCAoTm92ZWwvVGlwdGFwIEpTT04pXG4gKlxuICogU2F2ZXMgdGhlIGN1c3RvbWVyJ3MgZWRpdGFibGUgcGFnZSBsYXlvdXQgYW5kIGNvbnRlbnRcbiAqIFVzZWQgYnkgdGhlIE5vdmVsIGVkaXRvciBmb3IgYXV0by1zYXZlIGZ1bmN0aW9uYWxpdHlcbiAqL1xuYXN5bmMgZnVuY3Rpb24gdXBkYXRlQ3VzdG9tZXJQYWdlQ29udGVudChcblx0Y3VzdG9tZXJJZDogc3RyaW5nLFxuXHRwYWdlQ29udGVudDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4pOiBQcm9taXNlPEFjdGlvblJlc3VsdDx2b2lkPj4ge1xuXHRyZXR1cm4gd2l0aEVycm9ySGFuZGxpbmcoYXN5bmMgKCkgPT4ge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cdFx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRcIkRhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkXCIsXG5cdFx0XHRcdEVSUk9SX0NPREVTLkRCX0NPTk5FQ1RJT05fRVJST1IsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblx0XHRhc3NlcnRBdXRoZW50aWNhdGVkKHVzZXI/LmlkKTtcblxuXHRcdGNvbnN0IHsgZGF0YTogdGVhbU1lbWJlciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiY29tcGFueV9tZW1iZXJzaGlwc1wiKVxuXHRcdFx0LnNlbGVjdChcImNvbXBhbnlfaWRcIilcblx0XHRcdC5lcShcInVzZXJfaWRcIiwgdXNlci5pZClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghdGVhbU1lbWJlcj8uY29tcGFueV9pZCkge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRcIllvdSBtdXN0IGJlIHBhcnQgb2YgYSBjb21wYW55XCIsXG5cdFx0XHRcdEVSUk9SX0NPREVTLkFVVEhfRk9SQklEREVOLFxuXHRcdFx0XHRIVFRQX1NUQVRVU19GT1JCSURERU4sXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdC8vIFZlcmlmeSBjdXN0b21lciBleGlzdHMgYW5kIGJlbG9uZ3MgdG8gY29tcGFueVxuXHRcdGNvbnN0IHsgZGF0YTogY3VzdG9tZXIgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImN1c3RvbWVyc1wiKVxuXHRcdFx0LnNlbGVjdChcImlkLCBjb21wYW55X2lkXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBjdXN0b21lcklkKVxuXHRcdFx0LmlzKFwiZGVsZXRlZF9hdFwiLCBudWxsKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0YXNzZXJ0RXhpc3RzKGN1c3RvbWVyLCBcIkN1c3RvbWVyXCIpO1xuXG5cdFx0aWYgKGN1c3RvbWVyLmNvbXBhbnlfaWQgIT09IHRlYW1NZW1iZXIuY29tcGFueV9pZCkge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRFUlJPUl9NRVNTQUdFUy5mb3JiaWRkZW4oXCJjdXN0b21lclwiKSxcblx0XHRcdFx0RVJST1JfQ09ERVMuQVVUSF9GT1JCSURERU4sXG5cdFx0XHRcdEhUVFBfU1RBVFVTX0ZPUkJJRERFTixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Ly8gVXBkYXRlIHBhZ2UgY29udGVudFxuXHRcdGNvbnN0IHsgZXJyb3I6IHVwZGF0ZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjdXN0b21lcnNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRwYWdlX2NvbnRlbnQ6IHBhZ2VDb250ZW50LFxuXHRcdFx0XHRjb250ZW50X3VwZGF0ZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgY3VzdG9tZXJJZCk7XG5cblx0XHRpZiAodXBkYXRlRXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0RVJST1JfTUVTU0FHRVMub3BlcmF0aW9uRmFpbGVkKFwidXBkYXRlIGN1c3RvbWVyIHBhZ2VcIiksXG5cdFx0XHRcdEVSUk9SX0NPREVTLkRCX1FVRVJZX0VSUk9SLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRyZXZhbGlkYXRlUGF0aChgL2Rhc2hib2FyZC9jdXN0b21lcnMvJHtjdXN0b21lcklkfWApO1xuXHR9KTtcbn1cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiMFNBd29Dc0IifQ==
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:3c28f6 [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"00337bf9ccf6d7f5002dfdd1c39a50a1925fa9cd70":"getCustomersForDialer"},"apps/web/src/actions/customers.ts",""] */ __turbopack_context__.s([
    "getCustomersForDialer",
    ()=>getCustomersForDialer
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var getCustomersForDialer = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("00337bf9ccf6d7f5002dfdd1c39a50a1925fa9cd70", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "getCustomersForDialer"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vY3VzdG9tZXJzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ3VzdG9tZXIgTWFuYWdlbWVudCBTZXJ2ZXIgQWN0aW9uc1xuICpcbiAqIENvbXByZWhlbnNpdmUgY3VzdG9tZXIgcmVsYXRpb25zaGlwIG1hbmFnZW1lbnQgd2l0aDpcbiAqIC0gQ3VzdG9tZXIgQ1JVRCBvcGVyYXRpb25zXG4gKiAtIEN1c3RvbWVyIHBvcnRhbCBpbnZpdGF0aW9uIGFuZCBhY2Nlc3NcbiAqIC0gQ3VzdG9tZXIgbWV0cmljcyB0cmFja2luZyAocmV2ZW51ZSwgam9icywgaW52b2ljZXMpXG4gKiAtIENvbW11bmljYXRpb24gcHJlZmVyZW5jZXNcbiAqIC0gU29mdCBkZWxldGUvYXJjaGl2ZSBzdXBwb3J0XG4gKiAtIEN1c3RvbWVyIHNlYXJjaCBhbmQgZmlsdGVyaW5nXG4gKi9cblxuXCJ1c2Ugc2VydmVyXCI7XG5cbmltcG9ydCB7IGdldEFjdGl2ZUNvbXBhbnlJZCB9IGZyb20gXCJAL2xpYi9hdXRoL2NvbXBhbnktY29udGV4dFwiO1xuaW1wb3J0IHsgc2VuZEVtYWlsIH0gZnJvbSBcIkAvbGliL2VtYWlsL2VtYWlsLXNlbmRlclwiO1xuaW1wb3J0IHsgRW1haWxUZW1wbGF0ZSB9IGZyb20gXCJAL2xpYi9lbWFpbC9lbWFpbC10eXBlc1wiO1xuaW1wb3J0IHtcbiAgICBBY3Rpb25FcnJvcixcbiAgICBFUlJPUl9DT0RFUyxcbiAgICBFUlJPUl9NRVNTQUdFUyxcbn0gZnJvbSBcIkAvbGliL2Vycm9ycy9hY3Rpb24tZXJyb3JcIjtcbmltcG9ydCB7XG4gICAgdHlwZSBBY3Rpb25SZXN1bHQsXG4gICAgYXNzZXJ0QXV0aGVudGljYXRlZCxcbiAgICBhc3NlcnRFeGlzdHMsXG4gICAgd2l0aEVycm9ySGFuZGxpbmcsXG59IGZyb20gXCJAL2xpYi9lcnJvcnMvd2l0aC1lcnJvci1oYW5kbGluZ1wiO1xuaW1wb3J0IHsgZ2VvY29kZUFkZHJlc3NTaWxlbnQgfSBmcm9tIFwiQC9saWIvc2VydmljZXMvZ2VvY29kaW5nXCI7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tIFwiQC9saWIvc3VwYWJhc2Uvc2VydmVyXCI7XG5pbXBvcnQgeyByZXZhbGlkYXRlUGF0aCB9IGZyb20gXCJuZXh0L2NhY2hlXCI7XG5pbXBvcnQgeyB6IH0gZnJvbSBcInpvZFwiO1xuaW1wb3J0IFBvcnRhbEludml0YXRpb25FbWFpbCBmcm9tIFwiLi4vLi4vZW1haWxzL3RlbXBsYXRlcy9jdXN0b21lci9wb3J0YWwtaW52aXRhdGlvblwiO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBWQUxJREFUSU9OIFNDSEVNQVNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuY29uc3QgQ1VTVE9NRVJfTkFNRV9NQVhfTEVOR1RIID0gMTAwO1xuY29uc3QgQ1VTVE9NRVJfQ09NUEFOWV9NQVhfTEVOR1RIID0gMjAwO1xuY29uc3QgQ1VTVE9NRVJfUEhPTkVfTUFYX0xFTkdUSCA9IDIwO1xuY29uc3QgQ1VTVE9NRVJfQUREUkVTU19NQVhfTEVOR1RIID0gMjAwO1xuY29uc3QgQ1VTVE9NRVJfQUREUkVTUzJfTUFYX0xFTkdUSCA9IDEwMDtcbmNvbnN0IENVU1RPTUVSX0NJVFlfTUFYX0xFTkdUSCA9IDEwMDtcbmNvbnN0IENVU1RPTUVSX1NUQVRFX01BWF9MRU5HVEggPSA1MDtcblxuLy8gSFRUUCBTdGF0dXMgY29kZXNcbmNvbnN0IEhUVFBfU1RBVFVTX0ZPUkJJRERFTiA9IDQwMztcblxuLy8gU2VhcmNoIGRlZmF1bHRzXG5jb25zdCBERUZBVUxUX1NFQVJDSF9MSU1JVCA9IDUwO1xuY29uc3QgQ1VTVE9NRVJfWklQX01BWF9MRU5HVEggPSAyMDtcbmNvbnN0IENVU1RPTUVSX0NPVU5UUllfTUFYX0xFTkdUSCA9IDUwO1xuY29uc3QgQ1VTVE9NRVJfVEFYX0VYRU1QVF9OVU1CRVJfTUFYX0xFTkdUSCA9IDUwO1xuY29uc3QgQ0VOVFNfUEVSX0RPTExBUiA9IDEwMDtcblxuZnVuY3Rpb24gcmVxdWlyZVNpdGVVcmwoKTogc3RyaW5nIHtcblx0Y29uc3Qgc2l0ZVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NJVEVfVVJMO1xuXHRpZiAoIXNpdGVVcmwpIHtcblx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcIk5FWFRfUFVCTElDX1NJVEVfVVJMIGlzIG5vdCBjb25maWd1cmVkXCIsXG5cdFx0XHRFUlJPUl9DT0RFUy5JTlRFUk5BTF9TRVJWRVJfRVJST1IsXG5cdFx0KTtcblx0fVxuXHRyZXR1cm4gc2l0ZVVybC5yZXBsYWNlKC9cXC8kLywgXCJcIik7XG59XG5cbmNvbnN0IGN1c3RvbWVyU2NoZW1hID0gei5vYmplY3Qoe1xuXHR0eXBlOiB6XG5cdFx0LmVudW0oW1wicmVzaWRlbnRpYWxcIiwgXCJjb21tZXJjaWFsXCIsIFwiaW5kdXN0cmlhbFwiXSlcblx0XHQuZGVmYXVsdChcInJlc2lkZW50aWFsXCIpLFxuXHRmaXJzdE5hbWU6IHpcblx0XHQuc3RyaW5nKClcblx0XHQubWluKDEsIFwiRmlyc3QgbmFtZSBpcyByZXF1aXJlZFwiKVxuXHRcdC5tYXgoQ1VTVE9NRVJfTkFNRV9NQVhfTEVOR1RIKSxcblx0bGFzdE5hbWU6IHpcblx0XHQuc3RyaW5nKClcblx0XHQubWluKDEsIFwiTGFzdCBuYW1lIGlzIHJlcXVpcmVkXCIpXG5cdFx0Lm1heChDVVNUT01FUl9OQU1FX01BWF9MRU5HVEgpLFxuXHRjb21wYW55TmFtZTogei5zdHJpbmcoKS5tYXgoQ1VTVE9NRVJfQ09NUEFOWV9NQVhfTEVOR1RIKS5vcHRpb25hbCgpLFxuXHRlbWFpbDogei5zdHJpbmcoKS5lbWFpbChcIkludmFsaWQgZW1haWwgYWRkcmVzc1wiKSxcblx0cGhvbmU6IHouc3RyaW5nKCkubWluKDEsIFwiUGhvbmUgaXMgcmVxdWlyZWRcIikubWF4KENVU1RPTUVSX1BIT05FX01BWF9MRU5HVEgpLFxuXHRzZWNvbmRhcnlQaG9uZTogei5zdHJpbmcoKS5tYXgoQ1VTVE9NRVJfUEhPTkVfTUFYX0xFTkdUSCkub3B0aW9uYWwoKSxcblx0YWRkcmVzczogei5zdHJpbmcoKS5tYXgoQ1VTVE9NRVJfQUREUkVTU19NQVhfTEVOR1RIKS5vcHRpb25hbCgpLFxuXHRhZGRyZXNzMjogei5zdHJpbmcoKS5tYXgoQ1VTVE9NRVJfQUREUkVTUzJfTUFYX0xFTkdUSCkub3B0aW9uYWwoKSxcblx0Y2l0eTogei5zdHJpbmcoKS5tYXgoQ1VTVE9NRVJfQ0lUWV9NQVhfTEVOR1RIKS5vcHRpb25hbCgpLFxuXHRzdGF0ZTogei5zdHJpbmcoKS5tYXgoQ1VTVE9NRVJfU1RBVEVfTUFYX0xFTkdUSCkub3B0aW9uYWwoKSxcblx0emlwQ29kZTogei5zdHJpbmcoKS5tYXgoQ1VTVE9NRVJfWklQX01BWF9MRU5HVEgpLm9wdGlvbmFsKCksXG5cdGNvdW50cnk6IHouc3RyaW5nKCkubWF4KENVU1RPTUVSX0NPVU5UUllfTUFYX0xFTkdUSCkuZGVmYXVsdChcIlVTQVwiKSxcblx0c291cmNlOiB6XG5cdFx0LmVudW0oW1wicmVmZXJyYWxcIiwgXCJnb29nbGVcIiwgXCJmYWNlYm9va1wiLCBcImRpcmVjdFwiLCBcInllbHBcIiwgXCJvdGhlclwiXSlcblx0XHQub3B0aW9uYWwoKSxcblx0cmVmZXJyZWRCeTogei5zdHJpbmcoKS51dWlkKCkub3B0aW9uYWwoKS5udWxsYWJsZSgpLFxuXHRwcmVmZXJyZWRDb250YWN0TWV0aG9kOiB6LmVudW0oW1wiZW1haWxcIiwgXCJwaG9uZVwiLCBcInNtc1wiXSkuZGVmYXVsdChcImVtYWlsXCIpLFxuXHRwcmVmZXJyZWRUZWNobmljaWFuOiB6LnN0cmluZygpLnV1aWQoKS5vcHRpb25hbCgpLm51bGxhYmxlKCksXG5cdGJpbGxpbmdFbWFpbDogei5zdHJpbmcoKS5lbWFpbCgpLm9wdGlvbmFsKCkubnVsbGFibGUoKSxcblx0cGF5bWVudFRlcm1zOiB6XG5cdFx0LmVudW0oW1wiZHVlX29uX3JlY2VpcHRcIiwgXCJuZXRfMTVcIiwgXCJuZXRfMzBcIiwgXCJuZXRfNjBcIl0pXG5cdFx0LmRlZmF1bHQoXCJkdWVfb25fcmVjZWlwdFwiKSxcblx0Y3JlZGl0TGltaXQ6IHoubnVtYmVyKCkuaW50KCkubWluKDApLmRlZmF1bHQoMCksIC8vIEluIGNlbnRzXG5cdHRheEV4ZW1wdDogei5ib29sZWFuKCkuZGVmYXVsdChmYWxzZSksXG5cdHRheEV4ZW1wdE51bWJlcjogelxuXHRcdC5zdHJpbmcoKVxuXHRcdC5tYXgoQ1VTVE9NRVJfVEFYX0VYRU1QVF9OVU1CRVJfTUFYX0xFTkdUSClcblx0XHQub3B0aW9uYWwoKSxcblx0dGFnczogei5hcnJheSh6LnN0cmluZygpKS5vcHRpb25hbCgpLFxuXHRub3Rlczogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuXHRpbnRlcm5hbE5vdGVzOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG59KTtcblxuY29uc3QgY29tbXVuaWNhdGlvblByZWZlcmVuY2VzU2NoZW1hID0gei5vYmplY3Qoe1xuXHRlbWFpbDogei5ib29sZWFuKCkuZGVmYXVsdCh0cnVlKSxcblx0c21zOiB6LmJvb2xlYW4oKS5kZWZhdWx0KHRydWUpLFxuXHRwaG9uZTogei5ib29sZWFuKCkuZGVmYXVsdCh0cnVlKSxcblx0bWFya2V0aW5nOiB6LmJvb2xlYW4oKS5kZWZhdWx0KGZhbHNlKSxcbn0pO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBDVVNUT01FUiBDUlVEIE9QRVJBVElPTlNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgY3VzdG9tZXIgd2l0aCBtdWx0aXBsZSBjb250YWN0cyBhbmQgcHJvcGVydGllc1xuICovXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVDdXN0b21lcihcblx0Zm9ybURhdGE6IEZvcm1EYXRhLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8c3RyaW5nPj4ge1xuXHRyZXR1cm4gd2l0aEVycm9ySGFuZGxpbmcoYXN5bmMgKCkgPT4ge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cdFx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRcIkRhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkXCIsXG5cdFx0XHRcdEVSUk9SX0NPREVTLkRCX0NPTk5FQ1RJT05fRVJST1IsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblx0XHRhc3NlcnRBdXRoZW50aWNhdGVkKHVzZXI/LmlkKTtcblxuXHRcdGNvbnN0IHRlYW1NZW1iZXIgPSBhd2FpdCByZXF1aXJlQ3VzdG9tZXJDb21wYW55TWVtYmVyc2hpcChcblx0XHRcdHN1cGFiYXNlLFxuXHRcdFx0dXNlci5pZCxcblx0XHQpO1xuXHRcdGNvbnN0IHsgY29udGFjdHMsIHByb3BlcnRpZXMsIHRhZ3MgfSA9XG5cdFx0XHRwYXJzZUN1c3RvbWVyQ29udGFjdHNQcm9wZXJ0aWVzQW5kVGFncyhmb3JtRGF0YSk7XG5cdFx0Y29uc3QgcHJpbWFyeUNvbnRhY3QgPSBnZXRQcmltYXJ5Q29udGFjdE9yVGhyb3coY29udGFjdHMpO1xuXHRcdGNvbnN0IHByaW1hcnlQcm9wZXJ0eSA9IGdldFByaW1hcnlQcm9wZXJ0eShwcm9wZXJ0aWVzKTtcblxuXHRcdGF3YWl0IGFzc2VydEN1c3RvbWVyRW1haWxOb3REdXBsaWNhdGUoXG5cdFx0XHRzdXBhYmFzZSxcblx0XHRcdHRlYW1NZW1iZXIuY29tcGFueV9pZCxcblx0XHRcdHByaW1hcnlDb250YWN0LmVtYWlsLFxuXHRcdCk7XG5cblx0XHRjb25zdCBjdXN0b21lclR5cGUgPSBmb3JtRGF0YS5nZXQoXCJ0eXBlXCIpIHx8IFwicmVzaWRlbnRpYWxcIjtcblx0XHRjb25zdCBjb21wYW55TmFtZSA9IGZvcm1EYXRhLmdldChcImNvbXBhbnlOYW1lXCIpO1xuXHRcdGNvbnN0IGRpc3BsYXlOYW1lID0gYnVpbGRDdXN0b21lckRpc3BsYXlOYW1lKFxuXHRcdFx0Y3VzdG9tZXJUeXBlLFxuXHRcdFx0Y29tcGFueU5hbWUsXG5cdFx0XHRwcmltYXJ5Q29udGFjdCxcblx0XHQpO1xuXG5cdFx0Y29uc3QgY29tbXVuaWNhdGlvblByZWZlcmVuY2VzID0gYnVpbGREZWZhdWx0Q29tbXVuaWNhdGlvblByZWZlcmVuY2VzKCk7XG5cdFx0Y29uc3QgY3VzdG9tZXJNZXRhZGF0YSA9IGJ1aWxkQ3VzdG9tZXJNZXRhZGF0YShjb250YWN0cyk7XG5cblx0XHRjb25zdCB7IGxhdDogY3VzdG9tZXJMYXQsIGxvbjogY3VzdG9tZXJMb24gfSA9XG5cdFx0XHRhd2FpdCBnZW9jb2RlUHJpbWFyeVByb3BlcnR5SWZBdmFpbGFibGUocHJpbWFyeVByb3BlcnR5KTtcblxuXHRcdGNvbnN0IGN1c3RvbWVyID0gYXdhaXQgaW5zZXJ0Q3VzdG9tZXJSZWNvcmQoc3VwYWJhc2UsIHtcblx0XHRcdGNvbXBhbnlJZDogdGVhbU1lbWJlci5jb21wYW55X2lkLFxuXHRcdFx0Y3VzdG9tZXJUeXBlLFxuXHRcdFx0cHJpbWFyeUNvbnRhY3QsXG5cdFx0XHRjb21wYW55TmFtZVZhbHVlOiBjb21wYW55TmFtZSxcblx0XHRcdGRpc3BsYXlOYW1lLFxuXHRcdFx0cHJpbWFyeVByb3BlcnR5LFxuXHRcdFx0Y3VzdG9tZXJMYXQsXG5cdFx0XHRjdXN0b21lckxvbixcblx0XHRcdGZvcm1EYXRhLFxuXHRcdFx0dGFncyxcblx0XHRcdGNvbW11bmljYXRpb25QcmVmZXJlbmNlcyxcblx0XHRcdGN1c3RvbWVyTWV0YWRhdGEsXG5cdFx0fSk7XG5cblx0XHRhd2FpdCBpbnNlcnRBZGRpdGlvbmFsUHJvcGVydGllc0lmQW55KFxuXHRcdFx0c3VwYWJhc2UsXG5cdFx0XHR0ZWFtTWVtYmVyLmNvbXBhbnlfaWQsXG5cdFx0XHRjdXN0b21lci5pZCxcblx0XHRcdHByb3BlcnRpZXMsXG5cdFx0KTtcblxuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9jdXN0b21lcnNcIik7XG5cdFx0cmV0dXJuIGN1c3RvbWVyLmlkO1xuXHR9KTtcbn1cblxudHlwZSBQYXJzZWRDdXN0b21lckNvbnRhY3QgPSB7XG5cdGZpcnN0TmFtZTogc3RyaW5nO1xuXHRsYXN0TmFtZTogc3RyaW5nO1xuXHRlbWFpbDogc3RyaW5nO1xuXHRwaG9uZTogc3RyaW5nO1xuXHRyb2xlOiBzdHJpbmc7XG5cdGlzUHJpbWFyeTogYm9vbGVhbjtcbn07XG5cbnR5cGUgUGFyc2VkQ3VzdG9tZXJQcm9wZXJ0eSA9IHtcblx0bmFtZTogc3RyaW5nO1xuXHRhZGRyZXNzOiBzdHJpbmc7XG5cdGFkZHJlc3MyOiBzdHJpbmc7XG5cdGNpdHk6IHN0cmluZztcblx0c3RhdGU6IHN0cmluZztcblx0emlwQ29kZTogc3RyaW5nO1xuXHRjb3VudHJ5OiBzdHJpbmc7XG5cdHByb3BlcnR5VHlwZTogc3RyaW5nO1xuXHRpc1ByaW1hcnk6IGJvb2xlYW47XG5cdG5vdGVzOiBzdHJpbmc7XG59O1xuXG50eXBlIFBhcnNlZEN1c3RvbWVyRm9ybUNvbGxlY3Rpb25zID0ge1xuXHRjb250YWN0czogUGFyc2VkQ3VzdG9tZXJDb250YWN0W107XG5cdHByb3BlcnRpZXM6IFBhcnNlZEN1c3RvbWVyUHJvcGVydHlbXTtcblx0dGFncz86IHN0cmluZ1tdO1xufTtcblxuYXN5bmMgZnVuY3Rpb24gcmVxdWlyZUN1c3RvbWVyQ29tcGFueU1lbWJlcnNoaXAoXG5cdHN1cGFiYXNlOiBOb25OdWxsYWJsZTxBd2FpdGVkPFJldHVyblR5cGU8dHlwZW9mIGNyZWF0ZUNsaWVudD4+Pixcblx0dXNlcklkOiBzdHJpbmcsXG4pIHtcblx0Y29uc3QgeyBkYXRhOiB0ZWFtTWVtYmVyIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdC5mcm9tKFwiY29tcGFueV9tZW1iZXJzaGlwc1wiKVxuXHRcdC5zZWxlY3QoXCJjb21wYW55X2lkXCIpXG5cdFx0LmVxKFwidXNlcl9pZFwiLCB1c2VySWQpXG5cdFx0LnNpbmdsZSgpO1xuXG5cdGlmICghdGVhbU1lbWJlcj8uY29tcGFueV9pZCkge1xuXHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFwiWW91IG11c3QgYmUgcGFydCBvZiBhIGNvbXBhbnlcIixcblx0XHRcdEVSUk9SX0NPREVTLkFVVEhfRk9SQklEREVOLFxuXHRcdFx0SFRUUF9TVEFUVVNfRk9SQklEREVOLFxuXHRcdCk7XG5cdH1cblxuXHRyZXR1cm4gdGVhbU1lbWJlcjtcbn1cblxuZnVuY3Rpb24gcGFyc2VDdXN0b21lckNvbnRhY3RzUHJvcGVydGllc0FuZFRhZ3MoXG5cdGZvcm1EYXRhOiBGb3JtRGF0YSxcbik6IFBhcnNlZEN1c3RvbWVyRm9ybUNvbGxlY3Rpb25zIHtcblx0Y29uc3QgY29udGFjdHMgPSBwYXJzZUNvbnRhY3RzKGZvcm1EYXRhLmdldChcImNvbnRhY3RzXCIpKTtcblx0Y29uc3QgcHJvcGVydGllcyA9IHBhcnNlUHJvcGVydGllcyhmb3JtRGF0YS5nZXQoXCJwcm9wZXJ0aWVzXCIpKTtcblx0Y29uc3QgdGFncyA9IHBhcnNlVGFnc0ZpZWxkKGZvcm1EYXRhLmdldChcInRhZ3NcIikpO1xuXG5cdHJldHVybiB7IGNvbnRhY3RzLCBwcm9wZXJ0aWVzLCB0YWdzIH07XG59XG5cbmZ1bmN0aW9uIHBhcnNlQ29udGFjdHMoXG5cdHZhbHVlOiBGb3JtRGF0YUVudHJ5VmFsdWUgfCBudWxsLFxuKTogUGFyc2VkQ3VzdG9tZXJDb250YWN0W10ge1xuXHRpZiAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIikge1xuXHRcdHJldHVybiBbXTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0cmV0dXJuIEpTT04ucGFyc2UodmFsdWUpIGFzIFBhcnNlZEN1c3RvbWVyQ29udGFjdFtdO1xuXHR9IGNhdGNoIHtcblx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcIkludmFsaWQgY29udGFjdHMgZGF0YVwiLFxuXHRcdFx0RVJST1JfQ09ERVMuVkFMSURBVElPTl9GQUlMRUQsXG5cdFx0KTtcblx0fVxufVxuXG5mdW5jdGlvbiBwYXJzZVByb3BlcnRpZXMoXG5cdHZhbHVlOiBGb3JtRGF0YUVudHJ5VmFsdWUgfCBudWxsLFxuKTogUGFyc2VkQ3VzdG9tZXJQcm9wZXJ0eVtdIHtcblx0aWYgKCF2YWx1ZSB8fCB0eXBlb2YgdmFsdWUgIT09IFwic3RyaW5nXCIpIHtcblx0XHRyZXR1cm4gW107XG5cdH1cblxuXHR0cnkge1xuXHRcdHJldHVybiBKU09OLnBhcnNlKHZhbHVlKSBhcyBQYXJzZWRDdXN0b21lclByb3BlcnR5W107XG5cdH0gY2F0Y2gge1xuXHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFwiSW52YWxpZCBwcm9wZXJ0aWVzIGRhdGFcIixcblx0XHRcdEVSUk9SX0NPREVTLlZBTElEQVRJT05fRkFJTEVELFxuXHRcdCk7XG5cdH1cbn1cblxuZnVuY3Rpb24gcGFyc2VUYWdzRmllbGQoXG5cdHZhbHVlOiBGb3JtRGF0YUVudHJ5VmFsdWUgfCBudWxsLFxuKTogc3RyaW5nW10gfCB1bmRlZmluZWQge1xuXHRpZiAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIikge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdHRyeSB7XG5cdFx0cmV0dXJuIEpTT04ucGFyc2UodmFsdWUpIGFzIHN0cmluZ1tdO1xuXHR9IGNhdGNoIHtcblx0XHRyZXR1cm4gdmFsdWUuc3BsaXQoXCIsXCIpLm1hcCgodCkgPT4gdC50cmltKCkpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGdldFByaW1hcnlDb250YWN0T3JUaHJvdyhcblx0Y29udGFjdHM6IFBhcnNlZEN1c3RvbWVyQ29udGFjdFtdLFxuKTogUGFyc2VkQ3VzdG9tZXJDb250YWN0IHtcblx0Y29uc3QgcHJpbWFyeUNvbnRhY3QgPSBjb250YWN0cy5maW5kKChjKSA9PiBjLmlzUHJpbWFyeSkgfHwgY29udGFjdHNbMF07XG5cdGlmICghcHJpbWFyeUNvbnRhY3QpIHtcblx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcIkF0IGxlYXN0IG9uZSBjb250YWN0IGlzIHJlcXVpcmVkXCIsXG5cdFx0XHRFUlJPUl9DT0RFUy5WQUxJREFUSU9OX0ZBSUxFRCxcblx0XHQpO1xuXHR9XG5cdHJldHVybiBwcmltYXJ5Q29udGFjdDtcbn1cblxuZnVuY3Rpb24gZ2V0UHJpbWFyeVByb3BlcnR5KFxuXHRwcm9wZXJ0aWVzOiBQYXJzZWRDdXN0b21lclByb3BlcnR5W10sXG4pOiBQYXJzZWRDdXN0b21lclByb3BlcnR5IHwgdW5kZWZpbmVkIHtcblx0cmV0dXJuIHByb3BlcnRpZXMuZmluZCgocCkgPT4gcC5pc1ByaW1hcnkpIHx8IHByb3BlcnRpZXNbMF07XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGFzc2VydEN1c3RvbWVyRW1haWxOb3REdXBsaWNhdGUoXG5cdHN1cGFiYXNlOiBOb25OdWxsYWJsZTxBd2FpdGVkPFJldHVyblR5cGU8dHlwZW9mIGNyZWF0ZUNsaWVudD4+Pixcblx0Y29tcGFueUlkOiBzdHJpbmcsXG5cdGVtYWlsOiBzdHJpbmcsXG4pIHtcblx0Y29uc3QgeyBkYXRhOiBleGlzdGluZ0VtYWlsIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdC5mcm9tKFwiY3VzdG9tZXJzXCIpXG5cdFx0LnNlbGVjdChcImlkXCIpXG5cdFx0LmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpXG5cdFx0LmVxKFwiZW1haWxcIiwgZW1haWwpXG5cdFx0LmlzKFwiZGVsZXRlZF9hdFwiLCBudWxsKVxuXHRcdC5zaW5nbGUoKTtcblxuXHRpZiAoZXhpc3RpbmdFbWFpbCkge1xuXHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFwiQSBjdXN0b21lciB3aXRoIHRoaXMgZW1haWwgYWxyZWFkeSBleGlzdHNcIixcblx0XHRcdEVSUk9SX0NPREVTLkRCX0RVUExJQ0FURV9FTlRSWSxcblx0XHQpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGJ1aWxkQ3VzdG9tZXJEaXNwbGF5TmFtZShcblx0Y3VzdG9tZXJUeXBlOiBGb3JtRGF0YUVudHJ5VmFsdWUgfCBudWxsLFxuXHRjb21wYW55TmFtZVZhbHVlOiBGb3JtRGF0YUVudHJ5VmFsdWUgfCBudWxsLFxuXHRwcmltYXJ5Q29udGFjdDogUGFyc2VkQ3VzdG9tZXJDb250YWN0LFxuKTogc3RyaW5nIHtcblx0Y29uc3QgY29tcGFueU5hbWUgPSBjb21wYW55TmFtZVZhbHVlID8gU3RyaW5nKGNvbXBhbnlOYW1lVmFsdWUpIDogbnVsbDtcblxuXHRpZiAoY3VzdG9tZXJUeXBlID09PSBcImNvbW1lcmNpYWxcIiAmJiBjb21wYW55TmFtZSkge1xuXHRcdHJldHVybiBjb21wYW55TmFtZTtcblx0fVxuXG5cdHJldHVybiBgJHtwcmltYXJ5Q29udGFjdC5maXJzdE5hbWV9ICR7cHJpbWFyeUNvbnRhY3QubGFzdE5hbWV9YDtcbn1cblxuZnVuY3Rpb24gYnVpbGREZWZhdWx0Q29tbXVuaWNhdGlvblByZWZlcmVuY2VzKCkge1xuXHRyZXR1cm4ge1xuXHRcdGVtYWlsOiB0cnVlLFxuXHRcdHNtczogdHJ1ZSxcblx0XHRwaG9uZTogdHJ1ZSxcblx0XHRtYXJrZXRpbmc6IGZhbHNlLFxuXHR9O1xufVxuXG5mdW5jdGlvbiBidWlsZEN1c3RvbWVyTWV0YWRhdGEoY29udGFjdHM6IFBhcnNlZEN1c3RvbWVyQ29udGFjdFtdKSB7XG5cdHJldHVybiB7XG5cdFx0Y29udGFjdHM6IGNvbnRhY3RzLm1hcCgoYykgPT4gKHtcblx0XHRcdGZpcnN0TmFtZTogYy5maXJzdE5hbWUsXG5cdFx0XHRsYXN0TmFtZTogYy5sYXN0TmFtZSxcblx0XHRcdGVtYWlsOiBjLmVtYWlsLFxuXHRcdFx0cGhvbmU6IGMucGhvbmUsXG5cdFx0XHRyb2xlOiBjLnJvbGUsXG5cdFx0XHRpc1ByaW1hcnk6IGMuaXNQcmltYXJ5LFxuXHRcdH0pKSxcblx0fTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2VvY29kZVByaW1hcnlQcm9wZXJ0eUlmQXZhaWxhYmxlKFxuXHRwcmltYXJ5UHJvcGVydHk6IFBhcnNlZEN1c3RvbWVyUHJvcGVydHkgfCB1bmRlZmluZWQsXG4pOiBQcm9taXNlPHsgbGF0OiBudW1iZXIgfCBudWxsOyBsb246IG51bWJlciB8IG51bGwgfT4ge1xuXHRpZiAoXG5cdFx0IShcblx0XHRcdHByaW1hcnlQcm9wZXJ0eT8uYWRkcmVzcyAmJlxuXHRcdFx0cHJpbWFyeVByb3BlcnR5LmNpdHkgJiZcblx0XHRcdHByaW1hcnlQcm9wZXJ0eS5zdGF0ZSAmJlxuXHRcdFx0cHJpbWFyeVByb3BlcnR5LnppcENvZGVcblx0XHQpXG5cdCkge1xuXHRcdHJldHVybiB7IGxhdDogbnVsbCwgbG9uOiBudWxsIH07XG5cdH1cblxuXHRjb25zdCBnZW9jb2RlUmVzdWx0ID0gYXdhaXQgZ2VvY29kZUFkZHJlc3NTaWxlbnQoXG5cdFx0cHJpbWFyeVByb3BlcnR5LmFkZHJlc3MsXG5cdFx0cHJpbWFyeVByb3BlcnR5LmNpdHksXG5cdFx0cHJpbWFyeVByb3BlcnR5LnN0YXRlLFxuXHRcdHByaW1hcnlQcm9wZXJ0eS56aXBDb2RlLFxuXHRcdHByaW1hcnlQcm9wZXJ0eS5jb3VudHJ5IHx8IFwiVVNBXCIsXG5cdCk7XG5cblx0aWYgKCFnZW9jb2RlUmVzdWx0KSB7XG5cdFx0cmV0dXJuIHsgbGF0OiBudWxsLCBsb246IG51bGwgfTtcblx0fVxuXG5cdHJldHVybiB7IGxhdDogZ2VvY29kZVJlc3VsdC5sYXQsIGxvbjogZ2VvY29kZVJlc3VsdC5sb24gfTtcbn1cblxudHlwZSBJbnNlcnRDdXN0b21lclBhcmFtcyA9IHtcblx0Y29tcGFueUlkOiBzdHJpbmc7XG5cdGN1c3RvbWVyVHlwZTogRm9ybURhdGFFbnRyeVZhbHVlIHwgbnVsbDtcblx0cHJpbWFyeUNvbnRhY3Q6IFBhcnNlZEN1c3RvbWVyQ29udGFjdDtcblx0Y29tcGFueU5hbWVWYWx1ZTogRm9ybURhdGFFbnRyeVZhbHVlIHwgbnVsbDtcblx0ZGlzcGxheU5hbWU6IHN0cmluZztcblx0cHJpbWFyeVByb3BlcnR5PzogUGFyc2VkQ3VzdG9tZXJQcm9wZXJ0eTtcblx0Y3VzdG9tZXJMYXQ6IG51bWJlciB8IG51bGw7XG5cdGN1c3RvbWVyTG9uOiBudW1iZXIgfCBudWxsO1xuXHRmb3JtRGF0YTogRm9ybURhdGE7XG5cdHRhZ3M/OiBzdHJpbmdbXTtcblx0Y29tbXVuaWNhdGlvblByZWZlcmVuY2VzOiB7XG5cdFx0ZW1haWw6IGJvb2xlYW47XG5cdFx0c21zOiBib29sZWFuO1xuXHRcdHBob25lOiBib29sZWFuO1xuXHRcdG1hcmtldGluZzogYm9vbGVhbjtcblx0fTtcblx0Y3VzdG9tZXJNZXRhZGF0YTogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG59O1xuXG5hc3luYyBmdW5jdGlvbiBpbnNlcnRDdXN0b21lclJlY29yZChcblx0c3VwYWJhc2U6IE5vbk51bGxhYmxlPEF3YWl0ZWQ8UmV0dXJuVHlwZTx0eXBlb2YgY3JlYXRlQ2xpZW50Pj4+LFxuXHRwYXJhbXM6IEluc2VydEN1c3RvbWVyUGFyYW1zLFxuKSB7XG5cdGNvbnN0IHBheWxvYWQgPSBidWlsZEN1c3RvbWVySW5zZXJ0UGF5bG9hZChwYXJhbXMpO1xuXG5cdGNvbnN0IHsgZGF0YTogY3VzdG9tZXIsIGVycm9yOiBjcmVhdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHQuZnJvbShcImN1c3RvbWVyc1wiKVxuXHRcdC5pbnNlcnQocGF5bG9hZClcblx0XHQuc2VsZWN0KFwiaWRcIilcblx0XHQuc2luZ2xlKCk7XG5cblx0aWYgKGNyZWF0ZUVycm9yIHx8ICFjdXN0b21lcikge1xuXHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdEVSUk9SX01FU1NBR0VTLm9wZXJhdGlvbkZhaWxlZChcImNyZWF0ZSBjdXN0b21lclwiKSxcblx0XHRcdEVSUk9SX0NPREVTLkRCX1FVRVJZX0VSUk9SLFxuXHRcdCk7XG5cdH1cblxuXHRyZXR1cm4gY3VzdG9tZXI7XG59XG5cbmZ1bmN0aW9uIGJ1aWxkQ3VzdG9tZXJJbnNlcnRQYXlsb2FkKFxuXHRwYXJhbXM6IEluc2VydEN1c3RvbWVyUGFyYW1zLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4ge1xuXHRjb25zdCB7XG5cdFx0Y29tcGFueUlkLFxuXHRcdGN1c3RvbWVyVHlwZSxcblx0XHRwcmltYXJ5Q29udGFjdCxcblx0XHRjb21wYW55TmFtZVZhbHVlLFxuXHRcdGRpc3BsYXlOYW1lLFxuXHRcdHByaW1hcnlQcm9wZXJ0eSxcblx0XHRjdXN0b21lckxhdCxcblx0XHRjdXN0b21lckxvbixcblx0XHRmb3JtRGF0YSxcblx0XHR0YWdzLFxuXHRcdGNvbW11bmljYXRpb25QcmVmZXJlbmNlcyxcblx0XHRjdXN0b21lck1ldGFkYXRhLFxuXHR9ID0gcGFyYW1zO1xuXG5cdGNvbnN0IGNvbXBhbnlOYW1lID0gY29tcGFueU5hbWVWYWx1ZSA/IFN0cmluZyhjb21wYW55TmFtZVZhbHVlKSA6IG51bGw7XG5cblx0cmV0dXJuIHtcblx0XHRjb21wYW55X2lkOiBjb21wYW55SWQsXG5cdFx0dHlwZTogU3RyaW5nKGN1c3RvbWVyVHlwZSB8fCBcInJlc2lkZW50aWFsXCIpLFxuXHRcdGZpcnN0X25hbWU6IHByaW1hcnlDb250YWN0LmZpcnN0TmFtZSxcblx0XHRsYXN0X25hbWU6IHByaW1hcnlDb250YWN0Lmxhc3ROYW1lLFxuXHRcdGNvbXBhbnlfbmFtZTogY29tcGFueU5hbWUsXG5cdFx0ZGlzcGxheV9uYW1lOiBkaXNwbGF5TmFtZSxcblx0XHRlbWFpbDogcHJpbWFyeUNvbnRhY3QuZW1haWwsXG5cdFx0cGhvbmU6IHByaW1hcnlDb250YWN0LnBob25lLFxuXHRcdHNlY29uZGFyeV9waG9uZTogbnVsbCxcblx0XHRhZGRyZXNzOiBwcmltYXJ5UHJvcGVydHk/LmFkZHJlc3MgfHwgbnVsbCxcblx0XHRhZGRyZXNzMjogcHJpbWFyeVByb3BlcnR5Py5hZGRyZXNzMiB8fCBudWxsLFxuXHRcdGNpdHk6IHByaW1hcnlQcm9wZXJ0eT8uY2l0eSB8fCBudWxsLFxuXHRcdHN0YXRlOiBwcmltYXJ5UHJvcGVydHk/LnN0YXRlIHx8IG51bGwsXG5cdFx0emlwX2NvZGU6IHByaW1hcnlQcm9wZXJ0eT8uemlwQ29kZSB8fCBudWxsLFxuXHRcdGNvdW50cnk6IHByaW1hcnlQcm9wZXJ0eT8uY291bnRyeSB8fCBcIlVTQVwiLFxuXHRcdGxhdDogY3VzdG9tZXJMYXQsXG5cdFx0bG9uOiBjdXN0b21lckxvbixcblx0XHRzb3VyY2U6IGZvcm1EYXRhLmdldChcInNvdXJjZVwiKSA/IFN0cmluZyhmb3JtRGF0YS5nZXQoXCJzb3VyY2VcIikpIDogbnVsbCxcblx0XHRyZWZlcnJlZF9ieTogZm9ybURhdGEuZ2V0KFwicmVmZXJyZWRCeVwiKVxuXHRcdFx0PyBTdHJpbmcoZm9ybURhdGEuZ2V0KFwicmVmZXJyZWRCeVwiKSlcblx0XHRcdDogbnVsbCxcblx0XHRwcmVmZXJyZWRfY29udGFjdF9tZXRob2Q6XG5cdFx0XHRTdHJpbmcoZm9ybURhdGEuZ2V0KFwicHJlZmVycmVkQ29udGFjdE1ldGhvZFwiKSkgfHwgXCJlbWFpbFwiLFxuXHRcdHByZWZlcnJlZF90ZWNobmljaWFuOiBmb3JtRGF0YS5nZXQoXCJwcmVmZXJyZWRUZWNobmljaWFuXCIpXG5cdFx0XHQ/IFN0cmluZyhmb3JtRGF0YS5nZXQoXCJwcmVmZXJyZWRUZWNobmljaWFuXCIpKVxuXHRcdFx0OiBudWxsLFxuXHRcdGJpbGxpbmdfZW1haWw6IGZvcm1EYXRhLmdldChcImJpbGxpbmdFbWFpbFwiKVxuXHRcdFx0PyBTdHJpbmcoZm9ybURhdGEuZ2V0KFwiYmlsbGluZ0VtYWlsXCIpKVxuXHRcdFx0OiBudWxsLFxuXHRcdHBheW1lbnRfdGVybXM6IFN0cmluZyhmb3JtRGF0YS5nZXQoXCJwYXltZW50VGVybXNcIikpIHx8IFwiZHVlX29uX3JlY2VpcHRcIixcblx0XHRjcmVkaXRfbGltaXQ6IGZvcm1EYXRhLmdldChcImNyZWRpdExpbWl0XCIpXG5cdFx0XHQ/IE51bWJlcihmb3JtRGF0YS5nZXQoXCJjcmVkaXRMaW1pdFwiKSkgKiBDRU5UU19QRVJfRE9MTEFSXG5cdFx0XHQ6IDAsXG5cdFx0dGF4X2V4ZW1wdDogZm9ybURhdGEuZ2V0KFwidGF4RXhlbXB0XCIpID09PSBcIm9uXCIsXG5cdFx0dGF4X2V4ZW1wdF9udW1iZXI6IGZvcm1EYXRhLmdldChcInRheEV4ZW1wdE51bWJlclwiKVxuXHRcdFx0PyBTdHJpbmcoZm9ybURhdGEuZ2V0KFwidGF4RXhlbXB0TnVtYmVyXCIpKVxuXHRcdFx0OiBudWxsLFxuXHRcdHRhZ3M6IHRhZ3MgfHwgbnVsbCxcblx0XHRjb21tdW5pY2F0aW9uX3ByZWZlcmVuY2VzOiBjb21tdW5pY2F0aW9uUHJlZmVyZW5jZXMsXG5cdFx0bm90ZXM6IGZvcm1EYXRhLmdldChcIm5vdGVzXCIpID8gU3RyaW5nKGZvcm1EYXRhLmdldChcIm5vdGVzXCIpKSA6IG51bGwsXG5cdFx0aW50ZXJuYWxfbm90ZXM6IGZvcm1EYXRhLmdldChcImludGVybmFsTm90ZXNcIilcblx0XHRcdD8gU3RyaW5nKGZvcm1EYXRhLmdldChcImludGVybmFsTm90ZXNcIikpXG5cdFx0XHQ6IG51bGwsXG5cdFx0bWV0YWRhdGE6IGN1c3RvbWVyTWV0YWRhdGEsXG5cdFx0c3RhdHVzOiBcImFjdGl2ZVwiLFxuXHRcdHBvcnRhbF9lbmFibGVkOiBmYWxzZSxcblx0XHR0b3RhbF9yZXZlbnVlOiAwLFxuXHRcdHRvdGFsX2pvYnM6IDAsXG5cdFx0dG90YWxfaW52b2ljZXM6IDAsXG5cdFx0YXZlcmFnZV9qb2JfdmFsdWU6IDAsXG5cdFx0b3V0c3RhbmRpbmdfYmFsYW5jZTogMCxcblx0fTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gaW5zZXJ0QWRkaXRpb25hbFByb3BlcnRpZXNJZkFueShcblx0c3VwYWJhc2U6IE5vbk51bGxhYmxlPEF3YWl0ZWQ8UmV0dXJuVHlwZTx0eXBlb2YgY3JlYXRlQ2xpZW50Pj4+LFxuXHRjb21wYW55SWQ6IHN0cmluZyxcblx0Y3VzdG9tZXJJZDogc3RyaW5nLFxuXHRwcm9wZXJ0aWVzOiBQYXJzZWRDdXN0b21lclByb3BlcnR5W10sXG4pIHtcblx0Y29uc3QgYWRkaXRpb25hbFByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzLmZpbHRlcigocCkgPT4gIXAuaXNQcmltYXJ5KTtcblx0aWYgKGFkZGl0aW9uYWxQcm9wZXJ0aWVzLmxlbmd0aCA9PT0gMCkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGNvbnN0IHByb3BlcnRpZXNUb0luc2VydCA9IGF3YWl0IFByb21pc2UuYWxsKFxuXHRcdGFkZGl0aW9uYWxQcm9wZXJ0aWVzLm1hcChhc3luYyAocHJvcCkgPT4ge1xuXHRcdFx0bGV0IHByb3BMYXQ6IG51bWJlciB8IG51bGwgPSBudWxsO1xuXHRcdFx0bGV0IHByb3BMb246IG51bWJlciB8IG51bGwgPSBudWxsO1xuXG5cdFx0XHRpZiAocHJvcC5hZGRyZXNzICYmIHByb3AuY2l0eSAmJiBwcm9wLnN0YXRlICYmIHByb3AuemlwQ29kZSkge1xuXHRcdFx0XHRjb25zdCBnZW9jb2RlUmVzdWx0ID0gYXdhaXQgZ2VvY29kZUFkZHJlc3NTaWxlbnQoXG5cdFx0XHRcdFx0cHJvcC5hZGRyZXNzLFxuXHRcdFx0XHRcdHByb3AuY2l0eSxcblx0XHRcdFx0XHRwcm9wLnN0YXRlLFxuXHRcdFx0XHRcdHByb3AuemlwQ29kZSxcblx0XHRcdFx0XHRwcm9wLmNvdW50cnkgfHwgXCJVU0FcIixcblx0XHRcdFx0KTtcblxuXHRcdFx0XHRpZiAoZ2VvY29kZVJlc3VsdCkge1xuXHRcdFx0XHRcdHByb3BMYXQgPSBnZW9jb2RlUmVzdWx0LmxhdDtcblx0XHRcdFx0XHRwcm9wTG9uID0gZ2VvY29kZVJlc3VsdC5sb247XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0Y29tcGFueV9pZDogY29tcGFueUlkLFxuXHRcdFx0XHRjdXN0b21lcl9pZDogY3VzdG9tZXJJZCxcblx0XHRcdFx0bmFtZTogcHJvcC5uYW1lIHx8IFwiQWRkaXRpb25hbCBQcm9wZXJ0eVwiLFxuXHRcdFx0XHRhZGRyZXNzOiBwcm9wLmFkZHJlc3MsXG5cdFx0XHRcdGFkZHJlc3MyOiBwcm9wLmFkZHJlc3MyIHx8IG51bGwsXG5cdFx0XHRcdGNpdHk6IHByb3AuY2l0eSxcblx0XHRcdFx0c3RhdGU6IHByb3Auc3RhdGUsXG5cdFx0XHRcdHppcF9jb2RlOiBwcm9wLnppcENvZGUsXG5cdFx0XHRcdGNvdW50cnk6IHByb3AuY291bnRyeSB8fCBcIlVTQVwiLFxuXHRcdFx0XHRwcm9wZXJ0eV90eXBlOiBwcm9wLnByb3BlcnR5VHlwZSB8fCBcInJlc2lkZW50aWFsXCIsXG5cdFx0XHRcdG5vdGVzOiBwcm9wLm5vdGVzIHx8IG51bGwsXG5cdFx0XHRcdGxhdDogcHJvcExhdCxcblx0XHRcdFx0bG9uOiBwcm9wTG9uLFxuXHRcdFx0fTtcblx0XHR9KSxcblx0KTtcblxuXHRhd2FpdCBzdXBhYmFzZS5mcm9tKFwicHJvcGVydGllc1wiKS5pbnNlcnQocHJvcGVydGllc1RvSW5zZXJ0KTtcbn1cblxuLyoqXG4gKiBVcGRhdGUgZXhpc3RpbmcgY3VzdG9tZXJcbiAqL1xuYXN5bmMgZnVuY3Rpb24gdXBkYXRlQ3VzdG9tZXIoXG5cdGN1c3RvbWVySWQ6IHN0cmluZyxcblx0Zm9ybURhdGE6IEZvcm1EYXRhLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8dm9pZD4+IHtcblx0cmV0dXJuIHdpdGhFcnJvckhhbmRsaW5nKGFzeW5jICgpID0+IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0XCJEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZFwiLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9DT05ORUNUSU9OX0VSUk9SLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cdFx0YXNzZXJ0QXV0aGVudGljYXRlZCh1c2VyPy5pZCk7XG5cblx0XHRjb25zdCB0ZWFtTWVtYmVyID0gYXdhaXQgcmVxdWlyZUN1c3RvbWVyQ29tcGFueU1lbWJlcnNoaXAoXG5cdFx0XHRzdXBhYmFzZSxcblx0XHRcdHVzZXIuaWQsXG5cdFx0KTtcblxuXHRcdC8vIFZlcmlmeSBjdXN0b21lciBleGlzdHMgYW5kIGJlbG9uZ3MgdG8gY29tcGFueVxuXHRcdGNvbnN0IHsgZGF0YTogY3VzdG9tZXIgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImN1c3RvbWVyc1wiKVxuXHRcdFx0LnNlbGVjdChcImlkLCBjb21wYW55X2lkLCBlbWFpbFwiKVxuXHRcdFx0LmVxKFwiaWRcIiwgY3VzdG9tZXJJZClcblx0XHRcdC5pcyhcImRlbGV0ZWRfYXRcIiwgbnVsbClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGFzc2VydEV4aXN0cyhjdXN0b21lciwgXCJDdXN0b21lclwiKTtcblxuXHRcdGlmIChjdXN0b21lci5jb21wYW55X2lkICE9PSB0ZWFtTWVtYmVyLmNvbXBhbnlfaWQpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0XCJDdXN0b21lciBub3QgZm91bmRcIixcblx0XHRcdFx0RVJST1JfQ09ERVMuQVVUSF9GT1JCSURERU4sXG5cdFx0XHRcdEhUVFBfU1RBVFVTX0ZPUkJJRERFTixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Ly8gUGFyc2UgdGFncyBpZiBwcm92aWRlZFxuXHRcdGxldCB0YWdzOiBzdHJpbmdbXSB8IHVuZGVmaW5lZDtcblx0XHRjb25zdCB0YWdzU3RyaW5nID0gZm9ybURhdGEuZ2V0KFwidGFnc1wiKTtcblx0XHRpZiAodGFnc1N0cmluZyAmJiB0eXBlb2YgdGFnc1N0cmluZyA9PT0gXCJzdHJpbmdcIikge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0dGFncyA9IEpTT04ucGFyc2UodGFnc1N0cmluZyk7XG5cdFx0XHR9IGNhdGNoIHtcblx0XHRcdFx0dGFncyA9IHRhZ3NTdHJpbmcuc3BsaXQoXCIsXCIpLm1hcCgodCkgPT4gdC50cmltKCkpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFZhbGlkYXRlIGlucHV0XG5cdFx0Y29uc3QgZGF0YSA9IGN1c3RvbWVyU2NoZW1hLnBhcnNlKHtcblx0XHRcdHR5cGU6IGZvcm1EYXRhLmdldChcInR5cGVcIikgfHwgXCJyZXNpZGVudGlhbFwiLFxuXHRcdFx0Zmlyc3ROYW1lOiBmb3JtRGF0YS5nZXQoXCJmaXJzdE5hbWVcIiksXG5cdFx0XHRsYXN0TmFtZTogZm9ybURhdGEuZ2V0KFwibGFzdE5hbWVcIiksXG5cdFx0XHRjb21wYW55TmFtZTogZm9ybURhdGEuZ2V0KFwiY29tcGFueU5hbWVcIikgfHwgdW5kZWZpbmVkLFxuXHRcdFx0ZW1haWw6IGZvcm1EYXRhLmdldChcImVtYWlsXCIpLFxuXHRcdFx0cGhvbmU6IGZvcm1EYXRhLmdldChcInBob25lXCIpLFxuXHRcdFx0c2Vjb25kYXJ5UGhvbmU6IGZvcm1EYXRhLmdldChcInNlY29uZGFyeVBob25lXCIpIHx8IHVuZGVmaW5lZCxcblx0XHRcdGFkZHJlc3M6IGZvcm1EYXRhLmdldChcImFkZHJlc3NcIikgfHwgdW5kZWZpbmVkLFxuXHRcdFx0YWRkcmVzczI6IGZvcm1EYXRhLmdldChcImFkZHJlc3MyXCIpIHx8IHVuZGVmaW5lZCxcblx0XHRcdGNpdHk6IGZvcm1EYXRhLmdldChcImNpdHlcIikgfHwgdW5kZWZpbmVkLFxuXHRcdFx0c3RhdGU6IGZvcm1EYXRhLmdldChcInN0YXRlXCIpIHx8IHVuZGVmaW5lZCxcblx0XHRcdHppcENvZGU6IGZvcm1EYXRhLmdldChcInppcENvZGVcIikgfHwgdW5kZWZpbmVkLFxuXHRcdFx0Y291bnRyeTogZm9ybURhdGEuZ2V0KFwiY291bnRyeVwiKSB8fCBcIlVTQVwiLFxuXHRcdFx0c291cmNlOiBmb3JtRGF0YS5nZXQoXCJzb3VyY2VcIikgfHwgdW5kZWZpbmVkLFxuXHRcdFx0cmVmZXJyZWRCeTogZm9ybURhdGEuZ2V0KFwicmVmZXJyZWRCeVwiKSB8fCBudWxsLFxuXHRcdFx0cHJlZmVycmVkQ29udGFjdE1ldGhvZDogZm9ybURhdGEuZ2V0KFwicHJlZmVycmVkQ29udGFjdE1ldGhvZFwiKSB8fCBcImVtYWlsXCIsXG5cdFx0XHRwcmVmZXJyZWRUZWNobmljaWFuOiBmb3JtRGF0YS5nZXQoXCJwcmVmZXJyZWRUZWNobmljaWFuXCIpIHx8IG51bGwsXG5cdFx0XHRiaWxsaW5nRW1haWw6IGZvcm1EYXRhLmdldChcImJpbGxpbmdFbWFpbFwiKSB8fCBudWxsLFxuXHRcdFx0cGF5bWVudFRlcm1zOiBmb3JtRGF0YS5nZXQoXCJwYXltZW50VGVybXNcIikgfHwgXCJkdWVfb25fcmVjZWlwdFwiLFxuXHRcdFx0Y3JlZGl0TGltaXQ6IGZvcm1EYXRhLmdldChcImNyZWRpdExpbWl0XCIpXG5cdFx0XHRcdD8gTnVtYmVyKGZvcm1EYXRhLmdldChcImNyZWRpdExpbWl0XCIpKVxuXHRcdFx0XHQ6IDAsXG5cdFx0XHR0YXhFeGVtcHQ6IGZvcm1EYXRhLmdldChcInRheEV4ZW1wdFwiKSA9PT0gXCJ0cnVlXCIsXG5cdFx0XHR0YXhFeGVtcHROdW1iZXI6IGZvcm1EYXRhLmdldChcInRheEV4ZW1wdE51bWJlclwiKSB8fCB1bmRlZmluZWQsXG5cdFx0XHR0YWdzLFxuXHRcdFx0bm90ZXM6IGZvcm1EYXRhLmdldChcIm5vdGVzXCIpIHx8IHVuZGVmaW5lZCxcblx0XHRcdGludGVybmFsTm90ZXM6IGZvcm1EYXRhLmdldChcImludGVybmFsTm90ZXNcIikgfHwgdW5kZWZpbmVkLFxuXHRcdH0pO1xuXG5cdFx0Ly8gQ2hlY2sgaWYgZW1haWwgYWxyZWFkeSBleGlzdHMgKGV4Y2x1ZGluZyBjdXJyZW50IGN1c3RvbWVyKVxuXHRcdGlmIChkYXRhLmVtYWlsICE9PSBjdXN0b21lci5lbWFpbCkge1xuXHRcdFx0Y29uc3QgeyBkYXRhOiBleGlzdGluZ0VtYWlsIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0XHQuZnJvbShcImN1c3RvbWVyc1wiKVxuXHRcdFx0XHQuc2VsZWN0KFwiaWRcIilcblx0XHRcdFx0LmVxKFwiY29tcGFueV9pZFwiLCB0ZWFtTWVtYmVyLmNvbXBhbnlfaWQpXG5cdFx0XHRcdC5lcShcImVtYWlsXCIsIGRhdGEuZW1haWwpXG5cdFx0XHRcdC5uZXEoXCJpZFwiLCBjdXN0b21lcklkKVxuXHRcdFx0XHQuaXMoXCJkZWxldGVkX2F0XCIsIG51bGwpXG5cdFx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdFx0aWYgKGV4aXN0aW5nRW1haWwpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRcdFwiQSBjdXN0b21lciB3aXRoIHRoaXMgZW1haWwgYWxyZWFkeSBleGlzdHNcIixcblx0XHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9EVVBMSUNBVEVfRU5UUlksXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gR2VuZXJhdGUgZGlzcGxheSBuYW1lXG5cdFx0Y29uc3QgZGlzcGxheU5hbWUgPVxuXHRcdFx0ZGF0YS50eXBlID09PSBcImNvbW1lcmNpYWxcIiAmJiBkYXRhLmNvbXBhbnlOYW1lXG5cdFx0XHRcdD8gZGF0YS5jb21wYW55TmFtZVxuXHRcdFx0XHQ6IGAke2RhdGEuZmlyc3ROYW1lfSAke2RhdGEubGFzdE5hbWV9YDtcblxuXHRcdGNvbnN0IGNvbXBhbnlOYW1lID0gZGF0YS5jb21wYW55TmFtZSA/IFN0cmluZyhkYXRhLmNvbXBhbnlOYW1lKSA6IG51bGw7XG5cblx0XHQvLyBVcGRhdGUgY3VzdG9tZXJcblx0XHRjb25zdCB7IGVycm9yOiB1cGRhdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiY3VzdG9tZXJzXCIpXG5cdFx0XHQudXBkYXRlKHtcblx0XHRcdFx0dHlwZTogZGF0YS50eXBlLFxuXHRcdFx0XHRmaXJzdF9uYW1lOiBkYXRhLmZpcnN0TmFtZSxcblx0XHRcdFx0bGFzdF9uYW1lOiBkYXRhLmxhc3ROYW1lLFxuXHRcdFx0XHRjb21wYW55X25hbWU6IGNvbXBhbnlOYW1lLFxuXHRcdFx0XHRkaXNwbGF5X25hbWU6IGRpc3BsYXlOYW1lLFxuXHRcdFx0XHRlbWFpbDogZGF0YS5lbWFpbCxcblx0XHRcdFx0cGhvbmU6IGRhdGEucGhvbmUsXG5cdFx0XHRcdHNlY29uZGFyeV9waG9uZTogZGF0YS5zZWNvbmRhcnlQaG9uZSxcblx0XHRcdFx0YWRkcmVzczogZGF0YS5hZGRyZXNzLFxuXHRcdFx0XHRhZGRyZXNzMjogZGF0YS5hZGRyZXNzMixcblx0XHRcdFx0Y2l0eTogZGF0YS5jaXR5LFxuXHRcdFx0XHRzdGF0ZTogZGF0YS5zdGF0ZSxcblx0XHRcdFx0emlwX2NvZGU6IGRhdGEuemlwQ29kZSxcblx0XHRcdFx0Y291bnRyeTogZGF0YS5jb3VudHJ5LFxuXHRcdFx0XHRzb3VyY2U6IGRhdGEuc291cmNlLFxuXHRcdFx0XHRyZWZlcnJlZF9ieTogZGF0YS5yZWZlcnJlZEJ5LFxuXHRcdFx0XHRwcmVmZXJyZWRfY29udGFjdF9tZXRob2Q6IGRhdGEucHJlZmVycmVkQ29udGFjdE1ldGhvZCxcblx0XHRcdFx0cHJlZmVycmVkX3RlY2huaWNpYW46IGRhdGEucHJlZmVycmVkVGVjaG5pY2lhbixcblx0XHRcdFx0YmlsbGluZ19lbWFpbDogZGF0YS5iaWxsaW5nRW1haWwsXG5cdFx0XHRcdHBheW1lbnRfdGVybXM6IGRhdGEucGF5bWVudFRlcm1zLFxuXHRcdFx0XHRjcmVkaXRfbGltaXQ6IGRhdGEuY3JlZGl0TGltaXQsXG5cdFx0XHRcdHRheF9leGVtcHQ6IGRhdGEudGF4RXhlbXB0LFxuXHRcdFx0XHR0YXhfZXhlbXB0X251bWJlcjogZGF0YS50YXhFeGVtcHROdW1iZXIsXG5cdFx0XHRcdHRhZ3M6IGRhdGEudGFncyxcblx0XHRcdFx0bm90ZXM6IGRhdGEubm90ZXMsXG5cdFx0XHRcdGludGVybmFsX25vdGVzOiBkYXRhLmludGVybmFsTm90ZXMsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgY3VzdG9tZXJJZCk7XG5cblx0XHRpZiAodXBkYXRlRXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0RVJST1JfTUVTU0FHRVMub3BlcmF0aW9uRmFpbGVkKFwidXBkYXRlIGN1c3RvbWVyXCIpLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9RVUVSWV9FUlJPUixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL2N1c3RvbWVyc1wiKTtcblx0XHRyZXZhbGlkYXRlUGF0aChgL2Rhc2hib2FyZC9jdXN0b21lcnMvJHtjdXN0b21lcklkfWApO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBEZWxldGUgY3VzdG9tZXIgKHNvZnQgZGVsZXRlL2FyY2hpdmUpXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVDdXN0b21lcihcblx0Y3VzdG9tZXJJZDogc3RyaW5nLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8dm9pZD4+IHtcblx0cmV0dXJuIHdpdGhFcnJvckhhbmRsaW5nKGFzeW5jICgpID0+IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0XCJEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZFwiLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9DT05ORUNUSU9OX0VSUk9SLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cdFx0YXNzZXJ0QXV0aGVudGljYXRlZCh1c2VyPy5pZCk7XG5cblx0XHRjb25zdCB0ZWFtTWVtYmVyID0gYXdhaXQgcmVxdWlyZUN1c3RvbWVyQ29tcGFueU1lbWJlcnNoaXAoXG5cdFx0XHRzdXBhYmFzZSxcblx0XHRcdHVzZXIuaWQsXG5cdFx0KTtcblxuXHRcdC8vIFZlcmlmeSBjdXN0b21lciBleGlzdHMgYW5kIGJlbG9uZ3MgdG8gY29tcGFueVxuXHRcdGNvbnN0IHsgZGF0YTogY3VzdG9tZXIgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImN1c3RvbWVyc1wiKVxuXHRcdFx0LnNlbGVjdChcImlkLCBjb21wYW55X2lkLCBvdXRzdGFuZGluZ19iYWxhbmNlXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBjdXN0b21lcklkKVxuXHRcdFx0LmlzKFwiZGVsZXRlZF9hdFwiLCBudWxsKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0YXNzZXJ0RXhpc3RzKGN1c3RvbWVyLCBcIkN1c3RvbWVyXCIpO1xuXG5cdFx0aWYgKGN1c3RvbWVyLmNvbXBhbnlfaWQgIT09IHRlYW1NZW1iZXIuY29tcGFueV9pZCkge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRcIkN1c3RvbWVyIG5vdCBmb3VuZFwiLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5BVVRIX0ZPUkJJRERFTixcblx0XHRcdFx0SFRUUF9TVEFUVVNfRk9SQklEREVOLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyBQcmV2ZW50IGRlbGV0aW9uIGlmIGN1c3RvbWVyIGhhcyBvdXRzdGFuZGluZyBiYWxhbmNlXG5cdFx0aWYgKGN1c3RvbWVyLm91dHN0YW5kaW5nX2JhbGFuY2UgPiAwKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdFwiQ2Fubm90IGRlbGV0ZSBjdXN0b21lciB3aXRoIG91dHN0YW5kaW5nIGJhbGFuY2UuIENvbGxlY3QgcGF5bWVudCBmaXJzdC5cIixcblx0XHRcdFx0RVJST1JfQ09ERVMuQlVTSU5FU1NfUlVMRV9WSU9MQVRJT04sXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdC8vIFNvZnQgZGVsZXRlXG5cdFx0Y29uc3QgeyBlcnJvcjogZGVsZXRlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImN1c3RvbWVyc1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdGRlbGV0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdFx0ZGVsZXRlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0c3RhdHVzOiBcImFyY2hpdmVkXCIsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgY3VzdG9tZXJJZCk7XG5cblx0XHRpZiAoZGVsZXRlRXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0RVJST1JfTUVTU0FHRVMub3BlcmF0aW9uRmFpbGVkKFwiZGVsZXRlIGN1c3RvbWVyXCIpLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9RVUVSWV9FUlJPUixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL2N1c3RvbWVyc1wiKTtcblx0fSk7XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIENVU1RPTUVSIFNUQVRVUyAmIFBSRUZFUkVOQ0VTXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogVXBkYXRlIGN1c3RvbWVyIHN0YXR1c1xuICovXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVDdXN0b21lclN0YXR1cyhcblx0Y3VzdG9tZXJJZDogc3RyaW5nLFxuXHRzdGF0dXM6IFwiYWN0aXZlXCIgfCBcImluYWN0aXZlXCIgfCBcImFyY2hpdmVkXCIgfCBcImJsb2NrZWRcIixcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PHZvaWQ+PiB7XG5cdHJldHVybiB3aXRoRXJyb3JIYW5kbGluZyhhc3luYyAoKSA9PiB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdFwiRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWRcIixcblx0XHRcdFx0RVJST1JfQ09ERVMuREJfQ09OTkVDVElPTl9FUlJPUixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXHRcdGFzc2VydEF1dGhlbnRpY2F0ZWQodXNlcj8uaWQpO1xuXG5cdFx0Y29uc3QgdGVhbU1lbWJlciA9IGF3YWl0IHJlcXVpcmVDdXN0b21lckNvbXBhbnlNZW1iZXJzaGlwKFxuXHRcdFx0c3VwYWJhc2UsXG5cdFx0XHR1c2VyLmlkLFxuXHRcdCk7XG5cblx0XHQvLyBWZXJpZnkgY3VzdG9tZXIgZXhpc3RzIGFuZCBiZWxvbmdzIHRvIGNvbXBhbnlcblx0XHRjb25zdCB7IGRhdGE6IGN1c3RvbWVyIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjdXN0b21lcnNcIilcblx0XHRcdC5zZWxlY3QoXCJpZCwgY29tcGFueV9pZFwiKVxuXHRcdFx0LmVxKFwiaWRcIiwgY3VzdG9tZXJJZClcblx0XHRcdC5pcyhcImRlbGV0ZWRfYXRcIiwgbnVsbClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGFzc2VydEV4aXN0cyhjdXN0b21lciwgXCJDdXN0b21lclwiKTtcblxuXHRcdGlmIChjdXN0b21lci5jb21wYW55X2lkICE9PSB0ZWFtTWVtYmVyLmNvbXBhbnlfaWQpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0XCJDdXN0b21lciBub3QgZm91bmRcIixcblx0XHRcdFx0RVJST1JfQ09ERVMuQVVUSF9GT1JCSURERU4sXG5cdFx0XHRcdEhUVFBfU1RBVFVTX0ZPUkJJRERFTixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Ly8gVXBkYXRlIHN0YXR1c1xuXHRcdGNvbnN0IHsgZXJyb3I6IHVwZGF0ZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjdXN0b21lcnNcIilcblx0XHRcdC51cGRhdGUoeyBzdGF0dXMgfSlcblx0XHRcdC5lcShcImlkXCIsIGN1c3RvbWVySWQpO1xuXG5cdFx0aWYgKHVwZGF0ZUVycm9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdEVSUk9SX01FU1NBR0VTLm9wZXJhdGlvbkZhaWxlZChcInVwZGF0ZSBjdXN0b21lciBzdGF0dXNcIiksXG5cdFx0XHRcdEVSUk9SX0NPREVTLkRCX1FVRVJZX0VSUk9SLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvY3VzdG9tZXJzXCIpO1xuXHRcdHJldmFsaWRhdGVQYXRoKGAvZGFzaGJvYXJkL2N1c3RvbWVycy8ke2N1c3RvbWVySWR9YCk7XG5cdH0pO1xufVxuXG4vKipcbiAqIFVwZGF0ZSBjb21tdW5pY2F0aW9uIHByZWZlcmVuY2VzXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUNvbW11bmljYXRpb25QcmVmZXJlbmNlcyhcblx0Y3VzdG9tZXJJZDogc3RyaW5nLFxuXHRmb3JtRGF0YTogRm9ybURhdGEsXG4pOiBQcm9taXNlPEFjdGlvblJlc3VsdDx2b2lkPj4ge1xuXHRyZXR1cm4gd2l0aEVycm9ySGFuZGxpbmcoYXN5bmMgKCkgPT4ge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cdFx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRcIkRhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkXCIsXG5cdFx0XHRcdEVSUk9SX0NPREVTLkRCX0NPTk5FQ1RJT05fRVJST1IsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblx0XHRhc3NlcnRBdXRoZW50aWNhdGVkKHVzZXI/LmlkKTtcblxuXHRcdGNvbnN0IHRlYW1NZW1iZXIgPSBhd2FpdCByZXF1aXJlQ3VzdG9tZXJDb21wYW55TWVtYmVyc2hpcChcblx0XHRcdHN1cGFiYXNlLFxuXHRcdFx0dXNlci5pZCxcblx0XHQpO1xuXG5cdFx0Ly8gVmVyaWZ5IGN1c3RvbWVyIGV4aXN0cyBhbmQgYmVsb25ncyB0byBjb21wYW55XG5cdFx0Y29uc3QgeyBkYXRhOiBjdXN0b21lciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiY3VzdG9tZXJzXCIpXG5cdFx0XHQuc2VsZWN0KFwiaWQsIGNvbXBhbnlfaWRcIilcblx0XHRcdC5lcShcImlkXCIsIGN1c3RvbWVySWQpXG5cdFx0XHQuaXMoXCJkZWxldGVkX2F0XCIsIG51bGwpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRhc3NlcnRFeGlzdHMoY3VzdG9tZXIsIFwiQ3VzdG9tZXJcIik7XG5cblx0XHRpZiAoY3VzdG9tZXIuY29tcGFueV9pZCAhPT0gdGVhbU1lbWJlci5jb21wYW55X2lkKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdFwiQ3VzdG9tZXIgbm90IGZvdW5kXCIsXG5cdFx0XHRcdEVSUk9SX0NPREVTLkFVVEhfRk9SQklEREVOLFxuXHRcdFx0XHRIVFRQX1NUQVRVU19GT1JCSURERU4sXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdC8vIFZhbGlkYXRlIGlucHV0XG5cdFx0Y29uc3QgcHJlZmVyZW5jZXMgPSBjb21tdW5pY2F0aW9uUHJlZmVyZW5jZXNTY2hlbWEucGFyc2Uoe1xuXHRcdFx0ZW1haWw6IGZvcm1EYXRhLmdldChcImVtYWlsXCIpID09PSBcInRydWVcIixcblx0XHRcdHNtczogZm9ybURhdGEuZ2V0KFwic21zXCIpID09PSBcInRydWVcIixcblx0XHRcdHBob25lOiBmb3JtRGF0YS5nZXQoXCJwaG9uZVwiKSA9PT0gXCJ0cnVlXCIsXG5cdFx0XHRtYXJrZXRpbmc6IGZvcm1EYXRhLmdldChcIm1hcmtldGluZ1wiKSA9PT0gXCJ0cnVlXCIsXG5cdFx0fSk7XG5cblx0XHQvLyBVcGRhdGUgcHJlZmVyZW5jZXNcblx0XHRjb25zdCB7IGVycm9yOiB1cGRhdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiY3VzdG9tZXJzXCIpXG5cdFx0XHQudXBkYXRlKHsgY29tbXVuaWNhdGlvbl9wcmVmZXJlbmNlczogcHJlZmVyZW5jZXMgfSlcblx0XHRcdC5lcShcImlkXCIsIGN1c3RvbWVySWQpO1xuXG5cdFx0aWYgKHVwZGF0ZUVycm9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdEVSUk9SX01FU1NBR0VTLm9wZXJhdGlvbkZhaWxlZChcInVwZGF0ZSBjb21tdW5pY2F0aW9uIHByZWZlcmVuY2VzXCIpLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9RVUVSWV9FUlJPUixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoYC9kYXNoYm9hcmQvY3VzdG9tZXJzLyR7Y3VzdG9tZXJJZH1gKTtcblx0fSk7XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIENVU1RPTUVSIFBPUlRBTFxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4vKipcbiAqIEludml0ZSBjdXN0b21lciB0byBwb3J0YWxcbiAqIFNlbmRzIGFuIGVtYWlsIHdpdGggYSBzZWN1cmUgdG9rZW4tYmFzZWQgaW52aXRhdGlvbiBsaW5rLlxuICovXG5hc3luYyBmdW5jdGlvbiBpbnZpdGVUb1BvcnRhbChcblx0Y3VzdG9tZXJJZDogc3RyaW5nLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8dm9pZD4+IHtcblx0cmV0dXJuIHdpdGhFcnJvckhhbmRsaW5nKGFzeW5jICgpID0+IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0XCJEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZFwiLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9DT05ORUNUSU9OX0VSUk9SLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cdFx0YXNzZXJ0QXV0aGVudGljYXRlZCh1c2VyPy5pZCk7XG5cblx0XHRjb25zdCB0ZWFtTWVtYmVyID0gYXdhaXQgcmVxdWlyZUN1c3RvbWVyQ29tcGFueU1lbWJlcnNoaXAoXG5cdFx0XHRzdXBhYmFzZSxcblx0XHRcdHVzZXIuaWQsXG5cdFx0KTtcblxuXHRcdC8vIFZlcmlmeSBjdXN0b21lciBleGlzdHMgYW5kIGJlbG9uZ3MgdG8gY29tcGFueVxuXHRcdGNvbnN0IHsgZGF0YTogY3VzdG9tZXIgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImN1c3RvbWVyc1wiKVxuXHRcdFx0LnNlbGVjdChcImlkLCBjb21wYW55X2lkLCBlbWFpbCwgZGlzcGxheV9uYW1lLCBwb3J0YWxfZW5hYmxlZFwiKVxuXHRcdFx0LmVxKFwiaWRcIiwgY3VzdG9tZXJJZClcblx0XHRcdC5pcyhcImRlbGV0ZWRfYXRcIiwgbnVsbClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGFzc2VydEV4aXN0cyhjdXN0b21lciwgXCJDdXN0b21lclwiKTtcblxuXHRcdGlmIChjdXN0b21lci5jb21wYW55X2lkICE9PSB0ZWFtTWVtYmVyLmNvbXBhbnlfaWQpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0XCJDdXN0b21lciBub3QgZm91bmRcIixcblx0XHRcdFx0RVJST1JfQ09ERVMuQVVUSF9GT1JCSURERU4sXG5cdFx0XHRcdEhUVFBfU1RBVFVTX0ZPUkJJRERFTixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0aWYgKGN1c3RvbWVyLnBvcnRhbF9lbmFibGVkKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdFwiQ3VzdG9tZXIgaXMgYWxyZWFkeSBpbnZpdGVkIHRvIHBvcnRhbFwiLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5CVVNJTkVTU19SVUxFX1ZJT0xBVElPTixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Ly8gR2VuZXJhdGUgc2VjdXJlIHBvcnRhbCBpbnZpdGF0aW9uIHRva2VuXG5cdFx0Y29uc3QgaW52aXRlVG9rZW4gPSBCdWZmZXIuZnJvbShcblx0XHRcdGAke2N1c3RvbWVySWR9OiR7RGF0ZS5ub3coKX06JHtNYXRoLnJhbmRvbSgpfWAsXG5cdFx0KS50b1N0cmluZyhcImJhc2U2NHVybFwiKTtcblxuXHRcdC8vIFVwZGF0ZSBjdXN0b21lclxuXHRcdGNvbnN0IHsgZXJyb3I6IHVwZGF0ZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjdXN0b21lcnNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRwb3J0YWxfZW5hYmxlZDogdHJ1ZSxcblx0XHRcdFx0cG9ydGFsX2ludml0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBjdXN0b21lcklkKTtcblxuXHRcdGlmICh1cGRhdGVFcnJvcikge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRFUlJPUl9NRVNTQUdFUy5vcGVyYXRpb25GYWlsZWQoXCJpbnZpdGUgY3VzdG9tZXIgdG8gcG9ydGFsXCIpLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9RVUVSWV9FUlJPUixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Ly8gU2VuZCBpbnZpdGF0aW9uIGVtYWlsXG5cdFx0Y29uc3Qgc2l0ZVVybCA9IHJlcXVpcmVTaXRlVXJsKCk7XG5cdFx0Y29uc3QgcG9ydGFsVXJsID0gYCR7c2l0ZVVybH0vcG9ydGFsL3NldHVwP3Rva2VuPSR7aW52aXRlVG9rZW59YDtcblxuXHRcdGNvbnN0IGVtYWlsUmVzdWx0ID0gYXdhaXQgc2VuZEVtYWlsKHtcblx0XHRcdHRvOiBjdXN0b21lci5lbWFpbCxcblx0XHRcdHN1YmplY3Q6IFwiWW91J3ZlIGJlZW4gaW52aXRlZCB0byB5b3VyIEN1c3RvbWVyIFBvcnRhbFwiLFxuXHRcdFx0dGVtcGxhdGU6IFBvcnRhbEludml0YXRpb25FbWFpbCh7XG5cdFx0XHRcdGN1c3RvbWVyTmFtZTogY3VzdG9tZXIuZGlzcGxheV9uYW1lLFxuXHRcdFx0XHRwb3J0YWxVcmwsXG5cdFx0XHRcdGV4cGlyZXNJbkhvdXJzOiAxNjgsIC8vIDcgZGF5c1xuXHRcdFx0XHRzdXBwb3J0RW1haWw6IHByb2Nlc3MuZW52LlJFU0VORF9GUk9NX0VNQUlMIHx8IFwic3VwcG9ydEB0aG9yYmlzLmNvbVwiLFxuXHRcdFx0XHRzdXBwb3J0UGhvbmU6IFwiKDU1NSkgMTIzLTQ1NjdcIixcblx0XHRcdH0pLFxuXHRcdFx0dGVtcGxhdGVUeXBlOiBFbWFpbFRlbXBsYXRlLlBPUlRBTF9JTlZJVEFUSU9OLFxuXHRcdH0pO1xuXG5cdFx0aWYgKCFlbWFpbFJlc3VsdC5zdWNjZXNzKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL2N1c3RvbWVyc1wiKTtcblx0XHRyZXZhbGlkYXRlUGF0aChgL2Rhc2hib2FyZC9jdXN0b21lcnMvJHtjdXN0b21lcklkfWApO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBSZXZva2UgcG9ydGFsIGFjY2Vzc1xuICovXG5hc3luYyBmdW5jdGlvbiByZXZva2VQb3J0YWxBY2Nlc3MoXG5cdGN1c3RvbWVySWQ6IHN0cmluZyxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PHZvaWQ+PiB7XG5cdHJldHVybiB3aXRoRXJyb3JIYW5kbGluZyhhc3luYyAoKSA9PiB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdFwiRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWRcIixcblx0XHRcdFx0RVJST1JfQ09ERVMuREJfQ09OTkVDVElPTl9FUlJPUixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXHRcdGFzc2VydEF1dGhlbnRpY2F0ZWQodXNlcj8uaWQpO1xuXG5cdFx0Y29uc3QgdGVhbU1lbWJlciA9IGF3YWl0IHJlcXVpcmVDdXN0b21lckNvbXBhbnlNZW1iZXJzaGlwKFxuXHRcdFx0c3VwYWJhc2UsXG5cdFx0XHR1c2VyLmlkLFxuXHRcdCk7XG5cblx0XHQvLyBWZXJpZnkgY3VzdG9tZXIgZXhpc3RzIGFuZCBiZWxvbmdzIHRvIGNvbXBhbnlcblx0XHRjb25zdCB7IGRhdGE6IGN1c3RvbWVyIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjdXN0b21lcnNcIilcblx0XHRcdC5zZWxlY3QoXCJpZCwgY29tcGFueV9pZFwiKVxuXHRcdFx0LmVxKFwiaWRcIiwgY3VzdG9tZXJJZClcblx0XHRcdC5pcyhcImRlbGV0ZWRfYXRcIiwgbnVsbClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGFzc2VydEV4aXN0cyhjdXN0b21lciwgXCJDdXN0b21lclwiKTtcblxuXHRcdGlmIChjdXN0b21lci5jb21wYW55X2lkICE9PSB0ZWFtTWVtYmVyLmNvbXBhbnlfaWQpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0XCJDdXN0b21lciBub3QgZm91bmRcIixcblx0XHRcdFx0RVJST1JfQ09ERVMuQVVUSF9GT1JCSURERU4sXG5cdFx0XHRcdEhUVFBfU1RBVFVTX0ZPUkJJRERFTixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Ly8gUmV2b2tlIGFjY2Vzc1xuXHRcdGNvbnN0IHsgZXJyb3I6IHVwZGF0ZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjdXN0b21lcnNcIilcblx0XHRcdC51cGRhdGUoeyBwb3J0YWxfZW5hYmxlZDogZmFsc2UgfSlcblx0XHRcdC5lcShcImlkXCIsIGN1c3RvbWVySWQpO1xuXG5cdFx0aWYgKHVwZGF0ZUVycm9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdEVSUk9SX01FU1NBR0VTLm9wZXJhdGlvbkZhaWxlZChcInJldm9rZSBwb3J0YWwgYWNjZXNzXCIpLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9RVUVSWV9FUlJPUixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL2N1c3RvbWVyc1wiKTtcblx0XHRyZXZhbGlkYXRlUGF0aChgL2Rhc2hib2FyZC9jdXN0b21lcnMvJHtjdXN0b21lcklkfWApO1xuXHR9KTtcbn1cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU0VBUkNIICYgUkVQT1JUSU5HXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbi8qKlxuICogR2V0IGN1c3RvbWVyIGJ5IHBob25lIG51bWJlclxuICogVXNlZCBmb3IgaW5jb21pbmcgY2FsbCBsb29rdXBzXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRDdXN0b21lckJ5UGhvbmUoXG5cdHBob25lTnVtYmVyOiBzdHJpbmcsXG5cdGNvbXBhbnlJZDogc3RyaW5nLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8dW5rbm93bj4+IHtcblx0cmV0dXJuIHdpdGhFcnJvckhhbmRsaW5nKGFzeW5jICgpID0+IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0XCJEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZFwiLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9DT05ORUNUSU9OX0VSUk9SLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyBOb3JtYWxpemUgcGhvbmUgbnVtYmVyIChyZW1vdmUgZm9ybWF0dGluZylcblx0XHRjb25zdCBub3JtYWxpemVkUGhvbmUgPSBwaG9uZU51bWJlci5yZXBsYWNlKC9cXEQvZywgXCJcIik7XG5cblx0XHQvLyBTZWFyY2ggYnkgcHJpbWFyeSBwaG9uZSBvciBzZWNvbmRhcnkgcGhvbmVcblx0XHRjb25zdCB7IGRhdGE6IGN1c3RvbWVyLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiY3VzdG9tZXJzXCIpXG5cdFx0XHQuc2VsZWN0KFxuXHRcdFx0XHRgXG4gICAgICAgICosXG4gICAgICAgIHByb3BlcnRpZXM6cHJvcGVydGllcygqKVxuICAgICAgYCxcblx0XHRcdClcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgY29tcGFueUlkKVxuXHRcdFx0Lm9yKFxuXHRcdFx0XHRgcGhvbmUuZXEuJHtwaG9uZU51bWJlcn0scGhvbmUuZXEuJHtub3JtYWxpemVkUGhvbmV9LHNlY29uZGFyeV9waG9uZS5lcS4ke3Bob25lTnVtYmVyfSxzZWNvbmRhcnlfcGhvbmUuZXEuJHtub3JtYWxpemVkUGhvbmV9YCxcblx0XHRcdClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChlcnJvciAmJiBlcnJvci5jb2RlICE9PSBcIlBHUlNUMTE2XCIpIHtcblx0XHRcdC8vIFBHUlNUMTE2ID0gbm8gcm93cyBmb3VuZFxuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRgRmFpbGVkIHRvIGZpbmQgY3VzdG9tZXI6ICR7ZXJyb3IubWVzc2FnZX1gLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9RVUVSWV9FUlJPUixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGN1c3RvbWVyIHx8IG51bGw7XG5cdH0pO1xufVxuXG4vKipcbiAqIFNlYXJjaCBjdXN0b21lcnMgYnkgbmFtZSwgZW1haWwsIHBob25lLCBvciBjb21wYW55XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZWFyY2hDdXN0b21lcnMoXG5cdHNlYXJjaFRlcm06IHN0cmluZyxcblx0b3B0aW9ucz86IHsgbGltaXQ/OiBudW1iZXI7IG9mZnNldD86IG51bWJlciB9LFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8dW5rbm93bltdPj4ge1xuXHRyZXR1cm4gd2l0aEVycm9ySGFuZGxpbmcoYXN5bmMgKCkgPT4ge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cdFx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRcIkRhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkXCIsXG5cdFx0XHRcdEVSUk9SX0NPREVTLkRCX0NPTk5FQ1RJT05fRVJST1IsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblx0XHRhc3NlcnRBdXRoZW50aWNhdGVkKHVzZXI/LmlkKTtcblxuXHRcdC8vIFVzZSB0aGUgYWN0aXZlIGNvbXBhbnkgSUQgaGVscGVyIChzYW1lIGFzIGdldEFsbEN1c3RvbWVycylcblx0XHRjb25zdCBhY3RpdmVDb21wYW55SWQgPSBhd2FpdCBnZXRBY3RpdmVDb21wYW55SWQoKTtcblx0XHRpZiAoIWFjdGl2ZUNvbXBhbnlJZCkge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRcIk5vIGFjdGl2ZSBjb21wYW55XCIsXG5cdFx0XHRcdEVSUk9SX0NPREVTLkFVVEhfRk9SQklEREVOLFxuXHRcdFx0XHRIVFRQX1NUQVRVU19GT1JCSURERU4sXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdC8vIFZlcmlmeSB1c2VyIGhhcyBhY2Nlc3MgdG8gdGhlIGFjdGl2ZSBjb21wYW55XG5cdFx0Y29uc3QgeyBkYXRhOiB0ZWFtTWVtYmVyIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjb21wYW55X21lbWJlcnNoaXBzXCIpXG5cdFx0XHQuc2VsZWN0KFwiY29tcGFueV9pZFwiKVxuXHRcdFx0LmVxKFwidXNlcl9pZFwiLCB1c2VyLmlkKVxuXHRcdFx0LmVxKFwiY29tcGFueV9pZFwiLCBhY3RpdmVDb21wYW55SWQpXG5cdFx0XHQuZXEoXCJzdGF0dXNcIiwgXCJhY3RpdmVcIilcblx0XHRcdC5tYXliZVNpbmdsZSgpO1xuXG5cdFx0aWYgKCF0ZWFtTWVtYmVyPy5jb21wYW55X2lkKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdFwiWW91IGRvbid0IGhhdmUgYWNjZXNzIHRvIHRoaXMgY29tcGFueVwiLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5BVVRIX0ZPUkJJRERFTixcblx0XHRcdFx0SFRUUF9TVEFUVVNfRk9SQklEREVOLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyBVc2UgZnVsbC10ZXh0IHNlYXJjaCB3aXRoIHJhbmtpbmcgZm9yIGJlc3QgbWF0Y2hlc1xuXHRcdC8vIFNlYXJjaGVzIGFjcm9zczogZmlyc3RfbmFtZSwgbGFzdF9uYW1lLCBkaXNwbGF5X25hbWUsIGVtYWlsLCBwaG9uZSxcblx0XHQvLyBzZWNvbmRhcnlfcGhvbmUsIGNvbXBhbnlfbmFtZSwgYWRkcmVzcywgY2l0eSwgc3RhdGVcblx0XHQvLyBSZXR1cm5zIHJlc3VsdHMgb3JkZXJlZCBieSByZWxldmFuY2UgKHdlaWdodGVkOiBuYW1lID4gY29udGFjdCA+IGFkZHJlc3MpXG5cdFx0Y29uc3QgeyBzZWFyY2hDdXN0b21lcnNGdWxsVGV4dCB9ID0gYXdhaXQgaW1wb3J0KFxuXHRcdFx0XCJAL2xpYi9zZWFyY2gvZnVsbC10ZXh0LXNlYXJjaFwiXG5cdFx0KTtcblxuXHRcdGNvbnN0IGN1c3RvbWVycyA9IGF3YWl0IHNlYXJjaEN1c3RvbWVyc0Z1bGxUZXh0KFxuXHRcdFx0c3VwYWJhc2UsXG5cdFx0XHRhY3RpdmVDb21wYW55SWQsXG5cdFx0XHRzZWFyY2hUZXJtLFxuXHRcdFx0e1xuXHRcdFx0XHRsaW1pdDogb3B0aW9ucz8ubGltaXQgfHwgREVGQVVMVF9TRUFSQ0hfTElNSVQsXG5cdFx0XHRcdG9mZnNldDogb3B0aW9ucz8ub2Zmc2V0IHx8IDAsXG5cdFx0XHR9LFxuXHRcdCk7XG5cblx0XHRyZXR1cm4gY3VzdG9tZXJzO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBHZXQgdG9wIGN1c3RvbWVycyBieSByZXZlbnVlXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGdldFRvcEN1c3RvbWVycyhcblx0bGltaXQgPSAxMCxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PHVua25vd25bXT4+IHtcblx0cmV0dXJuIHdpdGhFcnJvckhhbmRsaW5nKGFzeW5jICgpID0+IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRcdGlmICghc3VwYWJhc2UpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0XCJEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZFwiLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9DT05ORUNUSU9OX0VSUk9SLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cdFx0YXNzZXJ0QXV0aGVudGljYXRlZCh1c2VyPy5pZCk7XG5cblx0XHRjb25zdCB7IGRhdGE6IHRlYW1NZW1iZXIgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfbWVtYmVyc2hpcHNcIilcblx0XHRcdC5zZWxlY3QoXCJjb21wYW55X2lkXCIpXG5cdFx0XHQuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoIXRlYW1NZW1iZXI/LmNvbXBhbnlfaWQpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0XCJZb3UgbXVzdCBiZSBwYXJ0IG9mIGEgY29tcGFueVwiLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5BVVRIX0ZPUkJJRERFTixcblx0XHRcdFx0SFRUUF9TVEFUVVNfRk9SQklEREVOLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRjb25zdCB7IGRhdGE6IGN1c3RvbWVycywgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImN1c3RvbWVyc1wiKVxuXHRcdFx0LnNlbGVjdChcIipcIilcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgdGVhbU1lbWJlci5jb21wYW55X2lkKVxuXHRcdFx0LmVxKFwic3RhdHVzXCIsIFwiYWN0aXZlXCIpXG5cdFx0XHQuaXMoXCJkZWxldGVkX2F0XCIsIG51bGwpXG5cdFx0XHQub3JkZXIoXCJ0b3RhbF9yZXZlbnVlXCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxuXHRcdFx0LmxpbWl0KGxpbWl0KTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRFUlJPUl9NRVNTQUdFUy5vcGVyYXRpb25GYWlsZWQoXCJmZXRjaCB0b3AgY3VzdG9tZXJzXCIpLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9RVUVSWV9FUlJPUixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGN1c3RvbWVycyB8fCBbXTtcblx0fSk7XG59XG5cbi8qKlxuICogR2V0IGN1c3RvbWVycyB3aXRoIG91dHN0YW5kaW5nIGJhbGFuY2VcbiAqL1xudHlwZSBDdXN0b21lcldpdGhCYWxhbmNlID0ge1xuXHRpZDogc3RyaW5nO1xuXHRkaXNwbGF5X25hbWU6IHN0cmluZztcblx0YmFsYW5jZTogbnVtYmVyO1xufTtcblxuYXN5bmMgZnVuY3Rpb24gZ2V0Q3VzdG9tZXJzV2l0aEJhbGFuY2UoKTogUHJvbWlzZTxcblx0QWN0aW9uUmVzdWx0PEN1c3RvbWVyV2l0aEJhbGFuY2VbXT5cbj4ge1xuXHRyZXR1cm4gd2l0aEVycm9ySGFuZGxpbmcoYXN5bmMgKCkgPT4ge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cdFx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRcIkRhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkXCIsXG5cdFx0XHRcdEVSUk9SX0NPREVTLkRCX0NPTk5FQ1RJT05fRVJST1IsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblx0XHRhc3NlcnRBdXRoZW50aWNhdGVkKHVzZXI/LmlkKTtcblxuXHRcdGNvbnN0IHsgZGF0YTogdGVhbU1lbWJlciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiY29tcGFueV9tZW1iZXJzaGlwc1wiKVxuXHRcdFx0LnNlbGVjdChcImNvbXBhbnlfaWRcIilcblx0XHRcdC5lcShcInVzZXJfaWRcIiwgdXNlci5pZClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghdGVhbU1lbWJlcj8uY29tcGFueV9pZCkge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRcIllvdSBtdXN0IGJlIHBhcnQgb2YgYSBjb21wYW55XCIsXG5cdFx0XHRcdEVSUk9SX0NPREVTLkFVVEhfRk9SQklEREVOLFxuXHRcdFx0XHRIVFRQX1NUQVRVU19GT1JCSURERU4sXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGNvbnN0IHsgZGF0YTogY3VzdG9tZXJzLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiY3VzdG9tZXJzXCIpXG5cdFx0XHQuc2VsZWN0KFwiKlwiKVxuXHRcdFx0LmVxKFwiY29tcGFueV9pZFwiLCB0ZWFtTWVtYmVyLmNvbXBhbnlfaWQpXG5cdFx0XHQuaXMoXCJkZWxldGVkX2F0XCIsIG51bGwpXG5cdFx0XHQuZ3QoXCJvdXRzdGFuZGluZ19iYWxhbmNlXCIsIDApXG5cdFx0XHQub3JkZXIoXCJvdXRzdGFuZGluZ19iYWxhbmNlXCIsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxuXHRcdFx0LmxpbWl0KDEwMCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0RVJST1JfTUVTU0FHRVMub3BlcmF0aW9uRmFpbGVkKFwiZmV0Y2ggY3VzdG9tZXJzIHdpdGggYmFsYW5jZVwiKSxcblx0XHRcdFx0RVJST1JfQ09ERVMuREJfUVVFUllfRVJST1IsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdHJldHVybiBjdXN0b21lcnMgfHwgW107XG5cdH0pO1xufVxuXG50eXBlIEN1c3RvbWVyUmVjb3JkID0ge1xuXHRpZDogc3RyaW5nO1xuXHRjb21wYW55X2lkOiBzdHJpbmc7XG5cdHR5cGU6IHN0cmluZztcblx0Zmlyc3RfbmFtZTogc3RyaW5nO1xuXHRsYXN0X25hbWU6IHN0cmluZztcblx0ZGlzcGxheV9uYW1lOiBzdHJpbmc7XG5cdGNvbXBhbnlfbmFtZT86IHN0cmluZyB8IG51bGw7XG5cdGVtYWlsOiBzdHJpbmc7XG5cdHBob25lOiBzdHJpbmc7XG5cdHNlY29uZGFyeV9waG9uZT86IHN0cmluZztcblx0YWRkcmVzcz86IHN0cmluZztcblx0YWRkcmVzczI/OiBzdHJpbmc7XG5cdGNpdHk/OiBzdHJpbmc7XG5cdHN0YXRlPzogc3RyaW5nO1xuXHR6aXBfY29kZT86IHN0cmluZztcblx0c3RhdHVzOiBzdHJpbmc7XG5cdHRvdGFsX3JldmVudWU/OiBudW1iZXI7XG5cdHRvdGFsX2pvYnM/OiBudW1iZXI7XG5cdHRvdGFsX2ludm9pY2VzPzogbnVtYmVyO1xuXHRvdXRzdGFuZGluZ19iYWxhbmNlPzogbnVtYmVyO1xuXHRsYXN0X2pvYl9kYXRlPzogc3RyaW5nO1xuXHRuZXh0X3NjaGVkdWxlZF9qb2I/OiBzdHJpbmc7XG5cdGNyZWF0ZWRfYXQ6IHN0cmluZztcblx0dXBkYXRlZF9hdDogc3RyaW5nO1xuXHRhcmNoaXZlZF9hdD86IHN0cmluZyB8IG51bGw7XG5cdGRlbGV0ZWRfYXQ/OiBzdHJpbmcgfCBudWxsO1xufTtcblxuLyoqXG4gKiBHZXQgY3VzdG9tZXJzIGZvciBwaG9uZSBkaWFsZXIgKGxpZ2h0d2VpZ2h0LCBubyBlbnJpY2htZW50KVxuICpcbiAqIFBFUkZPUk1BTkNFOiBSZXR1cm5zIG9ubHkgYmFzaWMgY29udGFjdCBpbmZvIG5lZWRlZCBmb3IgZGlhbGVyLlxuICogVXNlIHRoaXMgaW5zdGVhZCBvZiBnZXRBbGxDdXN0b21lcnMoKSBpbiBBcHBIZWFkZXIgdG8gYXZvaWQgTisxIHF1ZXJpZXMuXG4gKlxuICogRXhwZWN0ZWQ6IDUwLTEwMG1zIChzaW5nbGUgcXVlcnkpXG4gKiB2cyBnZXRBbGxDdXN0b21lcnMoKTogMTIwMC0yMDAwbXMgKDE1MSBxdWVyaWVzIHdpdGggZW5yaWNobWVudClcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEN1c3RvbWVyc0ZvckRpYWxlcigpOiBQcm9taXNlPFxuXHRBY3Rpb25SZXN1bHQ8XG5cdFx0QXJyYXk8e1xuXHRcdFx0aWQ6IHN0cmluZztcblx0XHRcdGZpcnN0X25hbWU6IHN0cmluZyB8IG51bGw7XG5cdFx0XHRsYXN0X25hbWU6IHN0cmluZyB8IG51bGw7XG5cdFx0XHRkaXNwbGF5X25hbWU6IHN0cmluZyB8IG51bGw7XG5cdFx0XHRlbWFpbDogc3RyaW5nIHwgbnVsbDtcblx0XHRcdHBob25lOiBzdHJpbmcgfCBudWxsO1xuXHRcdFx0c2Vjb25kYXJ5X3Bob25lPzogc3RyaW5nIHwgbnVsbDtcblx0XHRcdGNvbXBhbnlfbmFtZTogc3RyaW5nIHwgbnVsbDtcblx0XHRcdGFkZHJlc3M6IHN0cmluZyB8IG51bGw7XG5cdFx0XHRhZGRyZXNzMjogc3RyaW5nIHwgbnVsbDtcblx0XHRcdGNpdHk6IHN0cmluZyB8IG51bGw7XG5cdFx0XHRzdGF0ZTogc3RyaW5nIHwgbnVsbDtcblx0XHRcdHppcF9jb2RlOiBzdHJpbmcgfCBudWxsO1xuXHRcdH0+XG5cdD5cbj4ge1xuXHRyZXR1cm4gd2l0aEVycm9ySGFuZGxpbmcoYXN5bmMgKCkgPT4ge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cdFx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRcIkRhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkXCIsXG5cdFx0XHRcdEVSUk9SX0NPREVTLkRCX0NPTk5FQ1RJT05fRVJST1IsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblx0XHRhc3NlcnRBdXRoZW50aWNhdGVkKHVzZXI/LmlkKTtcblxuXHRcdGNvbnN0IGFjdGl2ZUNvbXBhbnlJZCA9IGF3YWl0IGdldEFjdGl2ZUNvbXBhbnlJZCgpO1xuXHRcdGlmICghYWN0aXZlQ29tcGFueUlkKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdFwiTm8gYWN0aXZlIGNvbXBhbnlcIixcblx0XHRcdFx0RVJST1JfQ09ERVMuQVVUSF9GT1JCSURERU4sXG5cdFx0XHRcdDQwMyxcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Ly8gU2luZ2xlIGxpZ2h0d2VpZ2h0IHF1ZXJ5IC0gbm8gam9pbnMsIG5vIGVucmljaG1lbnRcblx0XHRjb25zdCB7IGRhdGE6IGN1c3RvbWVycywgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImN1c3RvbWVyc1wiKVxuXHRcdFx0LnNlbGVjdChcblx0XHRcdFx0XCJpZCwgZmlyc3RfbmFtZSwgbGFzdF9uYW1lLCBkaXNwbGF5X25hbWUsIGVtYWlsLCBwaG9uZSwgc2Vjb25kYXJ5X3Bob25lLCBjb21wYW55X25hbWUsIGFkZHJlc3MsIGFkZHJlc3MyLCBjaXR5LCBzdGF0ZSwgemlwX2NvZGVcIixcblx0XHRcdClcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgYWN0aXZlQ29tcGFueUlkKVxuXHRcdFx0LmlzKFwiZGVsZXRlZF9hdFwiLCBudWxsKVxuXHRcdFx0Lm9yZGVyKFwiZGlzcGxheV9uYW1lXCIsIHsgYXNjZW5kaW5nOiB0cnVlIH0pO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdEVSUk9SX01FU1NBR0VTLm9wZXJhdGlvbkZhaWxlZChcImZldGNoIGN1c3RvbWVyc1wiKSxcblx0XHRcdFx0RVJST1JfQ09ERVMuREJfUVVFUllfRVJST1IsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdHJldHVybiBjdXN0b21lcnMgfHwgW107XG5cdH0pO1xufVxuXG4vKipcbiAqIEdldCBhbGwgY3VzdG9tZXJzIGZvciB0aGUgY3VycmVudCBjb21wYW55IChXSVRIIEVOUklDSE1FTlQpXG4gKlxuICogV0FSTklORzogVGhpcyBmdW5jdGlvbiBkb2VzIDE1MSBkYXRhYmFzZSBxdWVyaWVzIGZvciA1MCBjdXN0b21lcnMgKE4rMSBwYXR0ZXJuKS5cbiAqIEV4cGVjdGVkIHRpbWU6IDEyMDAtMjAwMG1zXG4gKlxuICogRE8gTk9UIHVzZSBpbiBBcHBIZWFkZXIgb3Igb3RoZXIgZnJlcXVlbnRseSByZW5kZXJlZCBjb21wb25lbnRzLlxuICogVXNlIGdldEN1c3RvbWVyc0ZvckRpYWxlcigpIGluc3RlYWQgZm9yIGxpZ2h0d2VpZ2h0IGNvbnRhY3QgaW5mby5cbiAqXG4gKiBPbmx5IHVzZSB0aGlzIG9uIGRlZGljYXRlZCBjdXN0b21lciBsaXN0IHBhZ2VzIHdoZXJlIHRoZSBlbnJpY2hlZCBkYXRhIGlzIG5lZWRlZC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2V0QWxsQ3VzdG9tZXJzKCk6IFByb21pc2U8XG5cdEFjdGlvblJlc3VsdDxDdXN0b21lclJlY29yZFtdPlxuPiB7XG5cdHJldHVybiB3aXRoRXJyb3JIYW5kbGluZyhhc3luYyAoKSA9PiB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblx0XHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdFwiRGF0YWJhc2UgY29ubmVjdGlvbiBmYWlsZWRcIixcblx0XHRcdFx0RVJST1JfQ09ERVMuREJfQ09OTkVDVElPTl9FUlJPUixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXHRcdGFzc2VydEF1dGhlbnRpY2F0ZWQodXNlcj8uaWQpO1xuXG5cdFx0Ly8gR2V0IGFjdGl2ZSBjb21wYW55IElEIChmcm9tIGNvb2tpZSBvciBmaXJzdCBhdmFpbGFibGUpXG5cdFx0Y29uc3QgYWN0aXZlQ29tcGFueUlkID0gYXdhaXQgZ2V0QWN0aXZlQ29tcGFueUlkKCk7XG5cblx0XHRjb25zdCBGT1JCSURERU5fU1RBVFVTX0NPREUgPSA0MDM7XG5cdFx0aWYgKCFhY3RpdmVDb21wYW55SWQpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0XCJZb3UgbXVzdCBiZSBwYXJ0IG9mIGEgY29tcGFueVwiLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5BVVRIX0ZPUkJJRERFTixcblx0XHRcdFx0Rk9SQklEREVOX1NUQVRVU19DT0RFLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyBWZXJpZnkgdXNlciBoYXMgYWNjZXNzIHRvIHRoZSBhY3RpdmUgY29tcGFueVxuXHRcdGNvbnN0IHsgZGF0YTogdGVhbU1lbWJlciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiY29tcGFueV9tZW1iZXJzaGlwc1wiKVxuXHRcdFx0LnNlbGVjdChcImNvbXBhbnlfaWRcIilcblx0XHRcdC5lcShcInVzZXJfaWRcIiwgdXNlci5pZClcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgYWN0aXZlQ29tcGFueUlkKVxuXHRcdFx0LmVxKFwic3RhdHVzXCIsIFwiYWN0aXZlXCIpXG5cdFx0XHQubWF5YmVTaW5nbGUoKTtcblxuXHRcdGlmICghdGVhbU1lbWJlcj8uY29tcGFueV9pZCkge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRcIllvdSBkb24ndCBoYXZlIGFjY2VzcyB0byB0aGlzIGNvbXBhbnlcIixcblx0XHRcdFx0RVJST1JfQ09ERVMuQVVUSF9GT1JCSURERU4sXG5cdFx0XHRcdEZPUkJJRERFTl9TVEFUVVNfQ09ERSxcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgeyBkYXRhOiBjdXN0b21lcnMsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjdXN0b21lcnNcIilcblx0XHRcdC5zZWxlY3QoXCIqXCIpXG5cdFx0XHQuZXEoXCJjb21wYW55X2lkXCIsIGFjdGl2ZUNvbXBhbnlJZClcblx0XHRcdC5pcyhcImRlbGV0ZWRfYXRcIiwgbnVsbClcblx0XHRcdC5vcmRlcihcImRpc3BsYXlfbmFtZVwiLCB7IGFzY2VuZGluZzogdHJ1ZSB9KTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRFUlJPUl9NRVNTQUdFUy5vcGVyYXRpb25GYWlsZWQoXCJmZXRjaCBjdXN0b21lcnNcIiksXG5cdFx0XHRcdEVSUk9SX0NPREVTLkRCX1FVRVJZX0VSUk9SLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyBQRVJGT1JNQU5DRSBPUFRJTUlaRUQ6IFVzZSBSUEMgZnVuY3Rpb24gaW5zdGVhZCBvZiBOKzEgcXVlcmllc1xuXHRcdC8vIEJFRk9SRTogMTUxIHF1ZXJpZXMgZm9yIDUwIGN1c3RvbWVycyAoMSBiYXNlICsgNTAgw5cgMyBxdWVyaWVzIGVhY2gpXG5cdFx0Ly8gQUZURVI6IDEgUlBDIGNhbGwgd2l0aCBlZmZpY2llbnQgTEFURVJBTCBqb2luc1xuXHRcdC8vIFBlcmZvcm1hbmNlIGdhaW46IDUtMTAgc2Vjb25kcyBmYXN0ZXJcblxuXHRcdC8vIE5vdGU6IGN1c3RvbWVycyB2YXJpYWJsZSBjb250YWlucyB0aGUgYmFzZSBjdXN0b21lciBkYXRhIGZyb20gYWJvdmUgcXVlcnlcblx0XHQvLyBXZSByZXBsYWNlIHRoZSBlbnJpY2htZW50IGxvZ2ljIHdpdGggYSBzaW5nbGUgUlBDIGNhbGxcblx0XHRjb25zdCB7IGRhdGE6IGVucmljaGVkRGF0YSwgZXJyb3I6IGVucmljaEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5ycGMoXG5cdFx0XHRcImdldF9lbnJpY2hlZF9jdXN0b21lcnNfcnBjXCIsXG5cdFx0XHR7XG5cdFx0XHRcdHBfY29tcGFueV9pZDogYWN0aXZlQ29tcGFueUlkLFxuXHRcdFx0fSxcblx0XHQpO1xuXG5cdFx0aWYgKGVucmljaEVycm9yKSB7XG5cdFx0XHQvLyBGYWxsYmFjayB0byBiYXNlIGN1c3RvbWVycyBpZiBlbnJpY2htZW50IGZhaWxzXG5cdFx0XHRjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIGVucmljaCBjdXN0b21lcnM6XCIsIGVucmljaEVycm9yKTtcblx0XHRcdHJldHVybiBjdXN0b21lcnMgYXMgQ3VzdG9tZXJSZWNvcmRbXTtcblx0XHR9XG5cblx0XHQvLyBNZXJnZSBlbnJpY2hlZCBkYXRhIHdpdGggYmFzZSBjdXN0b21lciBkYXRhXG5cdFx0Y29uc3QgZW5yaWNoZWRDdXN0b21lcnMgPSAoZW5yaWNoZWREYXRhIHx8IFtdKS5tYXAoKGN1c3RvbWVyOiBhbnkpID0+ICh7XG5cdFx0XHQuLi5jdXN0b21lcixcblx0XHRcdC8vIE92ZXJyaWRlIHRvdGFsX2pvYnMgYW5kIHRvdGFsX3JldmVudWUgd2l0aCBmcmVzaCBhZ2dyZWdhdGVkIHZhbHVlc1xuXHRcdFx0dG90YWxfam9iczogY3VzdG9tZXIuZW5yaWNoZWRfdG90YWxfam9icyB8fCBjdXN0b21lci50b3RhbF9qb2JzIHx8IDAsXG5cdFx0XHR0b3RhbF9yZXZlbnVlOlxuXHRcdFx0XHRjdXN0b21lci5lbnJpY2hlZF90b3RhbF9yZXZlbnVlIHx8IGN1c3RvbWVyLnRvdGFsX3JldmVudWUgfHwgMCxcblx0XHR9KSk7XG5cblx0XHRyZXR1cm4gZW5yaWNoZWRDdXN0b21lcnMgYXMgQ3VzdG9tZXJSZWNvcmRbXTtcblx0fSk7XG59XG5cbi8qKlxuICogVXBkYXRlIGN1c3RvbWVyIHBhZ2UgY29udGVudCAoTm92ZWwvVGlwdGFwIEpTT04pXG4gKlxuICogU2F2ZXMgdGhlIGN1c3RvbWVyJ3MgZWRpdGFibGUgcGFnZSBsYXlvdXQgYW5kIGNvbnRlbnRcbiAqIFVzZWQgYnkgdGhlIE5vdmVsIGVkaXRvciBmb3IgYXV0by1zYXZlIGZ1bmN0aW9uYWxpdHlcbiAqL1xuYXN5bmMgZnVuY3Rpb24gdXBkYXRlQ3VzdG9tZXJQYWdlQ29udGVudChcblx0Y3VzdG9tZXJJZDogc3RyaW5nLFxuXHRwYWdlQ29udGVudDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4pOiBQcm9taXNlPEFjdGlvblJlc3VsdDx2b2lkPj4ge1xuXHRyZXR1cm4gd2l0aEVycm9ySGFuZGxpbmcoYXN5bmMgKCkgPT4ge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cdFx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRcIkRhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkXCIsXG5cdFx0XHRcdEVSUk9SX0NPREVTLkRCX0NPTk5FQ1RJT05fRVJST1IsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblx0XHRhc3NlcnRBdXRoZW50aWNhdGVkKHVzZXI/LmlkKTtcblxuXHRcdGNvbnN0IHsgZGF0YTogdGVhbU1lbWJlciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiY29tcGFueV9tZW1iZXJzaGlwc1wiKVxuXHRcdFx0LnNlbGVjdChcImNvbXBhbnlfaWRcIilcblx0XHRcdC5lcShcInVzZXJfaWRcIiwgdXNlci5pZClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghdGVhbU1lbWJlcj8uY29tcGFueV9pZCkge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRcIllvdSBtdXN0IGJlIHBhcnQgb2YgYSBjb21wYW55XCIsXG5cdFx0XHRcdEVSUk9SX0NPREVTLkFVVEhfRk9SQklEREVOLFxuXHRcdFx0XHRIVFRQX1NUQVRVU19GT1JCSURERU4sXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdC8vIFZlcmlmeSBjdXN0b21lciBleGlzdHMgYW5kIGJlbG9uZ3MgdG8gY29tcGFueVxuXHRcdGNvbnN0IHsgZGF0YTogY3VzdG9tZXIgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImN1c3RvbWVyc1wiKVxuXHRcdFx0LnNlbGVjdChcImlkLCBjb21wYW55X2lkXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBjdXN0b21lcklkKVxuXHRcdFx0LmlzKFwiZGVsZXRlZF9hdFwiLCBudWxsKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0YXNzZXJ0RXhpc3RzKGN1c3RvbWVyLCBcIkN1c3RvbWVyXCIpO1xuXG5cdFx0aWYgKGN1c3RvbWVyLmNvbXBhbnlfaWQgIT09IHRlYW1NZW1iZXIuY29tcGFueV9pZCkge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRFUlJPUl9NRVNTQUdFUy5mb3JiaWRkZW4oXCJjdXN0b21lclwiKSxcblx0XHRcdFx0RVJST1JfQ09ERVMuQVVUSF9GT1JCSURERU4sXG5cdFx0XHRcdEhUVFBfU1RBVFVTX0ZPUkJJRERFTixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Ly8gVXBkYXRlIHBhZ2UgY29udGVudFxuXHRcdGNvbnN0IHsgZXJyb3I6IHVwZGF0ZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjdXN0b21lcnNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRwYWdlX2NvbnRlbnQ6IHBhZ2VDb250ZW50LFxuXHRcdFx0XHRjb250ZW50X3VwZGF0ZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgY3VzdG9tZXJJZCk7XG5cblx0XHRpZiAodXBkYXRlRXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0RVJST1JfTUVTU0FHRVMub3BlcmF0aW9uRmFpbGVkKFwidXBkYXRlIGN1c3RvbWVyIHBhZ2VcIiksXG5cdFx0XHRcdEVSUk9SX0NPREVTLkRCX1FVRVJZX0VSUk9SLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRyZXZhbGlkYXRlUGF0aChgL2Rhc2hib2FyZC9jdXN0b21lcnMvJHtjdXN0b21lcklkfWApO1xuXHR9KTtcbn1cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiZ1RBbTJDc0IifQ==
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/customers.ts [app-client] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "deleteCustomer",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$5f9942__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["deleteCustomer"],
    "getCustomerByPhone",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$c3ede4__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["getCustomerByPhone"],
    "getCustomersForDialer",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$3c28f6__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["getCustomersForDialer"],
    "searchCustomers",
    ()=>__TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$1db406__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__["searchCustomers"]
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$customers$2e$ts__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/apps/web/src/actions/customers.ts [app-client] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$5f9942__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/apps/web/src/actions/data:5f9942 [app-client] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$c3ede4__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/apps/web/src/actions/data:c3ede4 [app-client] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$1db406__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/apps/web/src/actions/data:1db406 [app-client] (ecmascript) <text/javascript>");
var __TURBOPACK__imported__module__$5b$project$5d2f$apps$2f$web$2f$src$2f$actions$2f$data$3a$3c28f6__$5b$app$2d$client$5d$__$28$ecmascript$29$__$3c$text$2f$javascript$3e$__ = __turbopack_context__.i("[project]/apps/web/src/actions/data:3c28f6 [app-client] (ecmascript) <text/javascript>");
}),
]);

//# sourceMappingURL=apps_web_src_actions_f07a870a._.js.map