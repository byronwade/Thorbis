(globalThis.TURBOPACK || (globalThis.TURBOPACK = [])).push([typeof document === "object" ? document.currentScript : undefined,
"[project]/apps/web/src/actions/data:9172bf [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"400039e7a7c330743dd05d571e0e32d4d4c8a51996":"arriveAppointment"},"apps/web/src/actions/schedule-assignments.ts",""] */ __turbopack_context__.s([
    "arriveAppointment",
    ()=>arriveAppointment
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var arriveAppointment = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("400039e7a7c330743dd05d571e0e32d4d4c8a51996", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "arriveAppointment"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vc2NoZWR1bGUtYXNzaWdubWVudHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc2VydmVyXCI7XG5cbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gXCJAL2xpYi9zdXBhYmFzZS9zZXJ2ZXJcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFzc2lnbkpvYlRvVGVjaG5pY2lhbihcblx0X2pvYklkOiBzdHJpbmcsXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0dGVjaG5pY2lhbklkOiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHQvLyBGaXJzdCBjaGVjayBpZiB0aGUgc2NoZWR1bGUgZXhpc3RzIGFuZCBnZXQgY3VycmVudCBhc3NpZ25tZW50XG5cdFx0Y29uc3QgeyBkYXRhOiBleGlzdGluZ1NjaGVkdWxlLCBlcnJvcjogY2hlY2tFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQuc2VsZWN0KFwiaWQsIGFzc2lnbmVkX3RvXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0aWYgKGNoZWNrRXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgU2NoZWR1bGUgY2hlY2sgZmFpbGVkOiAke2NoZWNrRXJyb3IubWVzc2FnZX1gKTtcblx0XHR9XG5cblx0XHRpZiAoIWV4aXN0aW5nU2NoZWR1bGUpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIlNjaGVkdWxlIG5vdCBmb3VuZFwiKTtcblx0XHR9XG5cblx0XHQvLyBVcGRhdGUgdGhlIHNjaGVkdWxlJ3MgYXNzaWduZWRfdG8gZmllbGRcblx0XHRjb25zdCB7IGRhdGE6IHVwZGF0ZWRTY2hlZHVsZSwgZXJyb3I6IHNjaGVkdWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7IGFzc2lnbmVkX3RvOiB0ZWNobmljaWFuSWQgfSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChzY2hlZHVsZUVycm9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYFNjaGVkdWxlIHVwZGF0ZSBmYWlsZWQ6ICR7c2NoZWR1bGVFcnJvci5tZXNzYWdlfWApO1xuXHRcdH1cblxuXHRcdC8vIERvbid0IHJldmFsaWRhdGUgaW1tZWRpYXRlbHkgLSBsZXQgdGhlIG9wdGltaXN0aWMgdXBkYXRlIHNob3dcblx0XHQvLyByZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvc2NoZWR1bGVcIik7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogdXBkYXRlZFNjaGVkdWxlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gYXNzaWduIGpvYlwiLFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUFwcG9pbnRtZW50VGltZXMoXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0c3RhcnRUaW1lOiBEYXRlLFxuXHRlbmRUaW1lOiBEYXRlLFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgZHVyYXRpb24gPSBNYXRoLnJvdW5kKFxuXHRcdFx0KGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSxcblx0XHQpO1xuXG5cdFx0Ly8gRm9ybWF0IGFzIGxvY2FsIGRhdGV0aW1lIHN0cmluZyBXSVRIT1VUIHRpbWV6b25lIGNvbnZlcnNpb25cblx0XHQvLyBHZXQgeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWludXRlIGZyb20gdGhlIERhdGUgb2JqZWN0IGRpcmVjdGx5XG5cdFx0Y29uc3QgZm9ybWF0TG9jYWxEYXRlVGltZSA9IChkYXRlOiBEYXRlKSA9PiB7XG5cdFx0XHRjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0Y29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBob3VyID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgbWludXRlID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBzZWNvbmQgPSBTdHJpbmcoZGF0ZS5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX0gJHtob3VyfToke21pbnV0ZX06JHtzZWNvbmR9YDtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3RhcnRTdHIgPSBmb3JtYXRMb2NhbERhdGVUaW1lKHN0YXJ0VGltZSk7XG5cdFx0Y29uc3QgZW5kU3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShlbmRUaW1lKTtcblxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXJ0X3RpbWU6IHN0YXJ0U3RyLFxuXHRcdFx0XHRlbmRfdGltZTogZW5kU3RyLFxuXHRcdFx0XHRkdXJhdGlvbixcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gRG9uJ3QgcmV2YWxpZGF0ZSBpbW1lZGlhdGVseSAtIGxldCB0aGUgb3B0aW1pc3RpYyB1cGRhdGUgc2hvd1xuXHRcdC8vIHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9zY2hlZHVsZVwiKTtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gdXBkYXRlIHRpbWVzXCIsXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2FuY2VsQXBwb2ludG1lbnQoc2NoZWR1bGVJZDogc3RyaW5nLCByZWFzb24/OiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gQ2FuY2VsIGFwcG9pbnRtZW50IC0gdW5zY2hlZHVsZSBpdCAocmVtb3ZlIGFzc2lnbmVkX3RvKVxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIixcblx0XHRcdFx0YXNzaWduZWRfdG86IG51bGwsIC8vIFVuYXNzaWduIHRlY2huaWNpYW5cblx0XHRcdFx0Y2FuY2VsbGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG5cdFx0XHRcdGNhbmNlbGxlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0Y2FuY2VsbGF0aW9uX3JlYXNvbjogcmVhc29uIHx8IG51bGwsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgc2NoZWR1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byBjYW5jZWwgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjYW5jZWxKb2JBbmRBcHBvaW50bWVudChcblx0c2NoZWR1bGVJZDogc3RyaW5nLFxuXHRqb2JJZDogc3RyaW5nLFxuXHRyZWFzb24/OiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG5cdFx0Ly8gQ2FuY2VsIHRoZSBhcHBvaW50bWVudFxuXHRcdGNvbnN0IHsgZXJyb3I6IHNjaGVkdWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIixcblx0XHRcdFx0YXNzaWduZWRfdG86IG51bGwsXG5cdFx0XHRcdGNhbmNlbGxlZF9hdDogbm93LFxuXHRcdFx0XHRjYW5jZWxsZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHRcdGNhbmNlbGxhdGlvbl9yZWFzb246IHJlYXNvbiB8fCBudWxsLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKHNjaGVkdWxlRXJyb3IpIHtcblx0XHRcdHRocm93IHNjaGVkdWxlRXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gQWxzbyBjYW5jZWwgdGhlIGpvYiBpZiBpdCBleGlzdHNcblx0XHRpZiAoam9iSWQpIHtcblx0XHRcdGNvbnN0IHsgZXJyb3I6IGpvYkVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0XHQuZnJvbShcImpvYnNcIilcblx0XHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdFx0c3RhdHVzOiBcImNhbmNlbGxlZFwiLFxuXHRcdFx0XHRcdGNhbmNlbGxlZF9hdDogbm93LFxuXHRcdFx0XHRcdGNhbmNlbGxlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0XHRjYW5jZWxsYXRpb25fcmVhc29uOiByZWFzb24gfHwgbnVsbCxcblx0XHRcdFx0fSlcblx0XHRcdFx0LmVxKFwiaWRcIiwgam9iSWQpO1xuXG5cdFx0XHRpZiAoam9iRXJyb3IpIHtcblx0XHRcdFx0dGhyb3cgam9iRXJyb3I7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byBjYW5jZWwgam9iIGFuZCBhcHBvaW50bWVudFwiLFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFyY2hpdmVBcHBvaW50bWVudChzY2hlZHVsZUlkOiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRhcmNoaXZlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIGFyY2hpdmUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb21wbGV0ZUFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG5cdGlmICghc3VwYWJhc2UpIHtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRGF0YWJhc2Ugbm90IGF2YWlsYWJsZVwiIH07XG5cdH1cblxuXHR0cnkge1xuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblxuXHRcdGlmICghdXNlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vdCBhdXRoZW50aWNhdGVkXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRzdGF0dXM6IFwiY29tcGxldGVkXCIsXG5cdFx0XHRcdGFjdHVhbF9lbmRfdGltZTogbm93LFxuXHRcdFx0XHRjb21wbGV0ZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgc2NoZWR1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gY29tcGxldGUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbnR5cGUgRGlzcGF0Y2hTdGF0dXMgPSBcImRpc3BhdGNoZWRcIiB8IFwiYXJyaXZlZFwiIHwgXCJjbG9zZWRcIjtcblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlU2NoZWR1bGVTdGF0dXMoXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0c3RhdHVzOiBEaXNwYXRjaFN0YXR1cyxcblx0ZXh0cmFVcGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9LFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblx0XHRjb25zdCB1cGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHtcblx0XHRcdHN0YXR1cyxcblx0XHRcdHVwZGF0ZWRfYXQ6IG5vdyxcblx0XHRcdC4uLmV4dHJhVXBkYXRlcyxcblx0XHR9O1xuXG5cdFx0aWYgKHN0YXR1cyA9PT0gXCJjbG9zZWRcIikge1xuXHRcdFx0dXBkYXRlcy5jb21wbGV0ZWRfYnkgPSB1c2VyLmlkO1xuXHRcdFx0dXBkYXRlcy5hY3R1YWxfZW5kX3RpbWUgPSB1cGRhdGVzLmFjdHVhbF9lbmRfdGltZSA/PyBub3c7XG5cdFx0fVxuXG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHVwZGF0ZXMpXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBgRmFpbGVkIHRvIHVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMgdG8gJHtzdGF0dXN9YCxcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkaXNwYXRjaEFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRyZXR1cm4gdXBkYXRlU2NoZWR1bGVTdGF0dXMoc2NoZWR1bGVJZCwgXCJkaXNwYXRjaGVkXCIpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXJyaXZlQXBwb2ludG1lbnQoc2NoZWR1bGVJZDogc3RyaW5nKSB7XG5cdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblx0cmV0dXJuIHVwZGF0ZVNjaGVkdWxlU3RhdHVzKHNjaGVkdWxlSWQsIFwiYXJyaXZlZFwiLCB7XG5cdFx0YWN0dWFsX3N0YXJ0X3RpbWU6IG5vdyxcblx0fSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbG9zZUFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cdHJldHVybiB1cGRhdGVTY2hlZHVsZVN0YXR1cyhzY2hlZHVsZUlkLCBcImNsb3NlZFwiLCB7XG5cdFx0YWN0dWFsX2VuZF90aW1lOiBub3csXG5cdH0pO1xufVxuXG4vKipcbiAqIE1vdmUgYW4gZXhpc3RpbmcgYXBwb2ludG1lbnQgdG8gYSBuZXcgdGVjaG5pY2lhbiBhbmQvb3IgdGltZSBzbG90XG4gKiBCYXRjaGVzIGJvdGggb3BlcmF0aW9ucyBpbiBhIHNpbmdsZSBkYXRhYmFzZSBjYWxsIGZvciBwZXJmb3JtYW5jZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbW92ZUFwcG9pbnRtZW50KFxuXHRzY2hlZHVsZUlkOiBzdHJpbmcsXG5cdHRlY2huaWNpYW5JZDogc3RyaW5nLFxuXHRzdGFydFRpbWU6IERhdGUsXG5cdGVuZFRpbWU6IERhdGUsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCBkdXJhdGlvbiA9IE1hdGgucm91bmQoXG5cdFx0XHQoZW5kVGltZS5nZXRUaW1lKCkgLSBzdGFydFRpbWUuZ2V0VGltZSgpKSAvICgxMDAwICogNjApLFxuXHRcdCk7XG5cblx0XHQvLyBGb3JtYXQgYXMgbG9jYWwgZGF0ZXRpbWUgc3RyaW5nIFdJVEhPVVQgdGltZXpvbmUgY29udmVyc2lvblxuXHRcdGNvbnN0IGZvcm1hdExvY2FsRGF0ZVRpbWUgPSAoZGF0ZTogRGF0ZSkgPT4ge1xuXHRcdFx0Y29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcblx0XHRcdGNvbnN0IG1vbnRoID0gU3RyaW5nKGRhdGUuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGNvbnN0IGRheSA9IFN0cmluZyhkYXRlLmdldERhdGUoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgaG91ciA9IFN0cmluZyhkYXRlLmdldEhvdXJzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGNvbnN0IG1pbnV0ZSA9IFN0cmluZyhkYXRlLmdldE1pbnV0ZXMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3Qgc2Vjb25kID0gU3RyaW5nKGRhdGUuZ2V0U2Vjb25kcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRyZXR1cm4gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9ICR7aG91cn06JHttaW51dGV9OiR7c2Vjb25kfWA7XG5cdFx0fTtcblxuXHRcdGNvbnN0IHN0YXJ0U3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShzdGFydFRpbWUpO1xuXHRcdGNvbnN0IGVuZFN0ciA9IGZvcm1hdExvY2FsRGF0ZVRpbWUoZW5kVGltZSk7XG5cblx0XHQvLyBTaW5nbGUgYXRvbWljIHVwZGF0ZSBmb3IgYm90aCBhc3NpZ25tZW50IGFuZCB0aW1lc1xuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdGFzc2lnbmVkX3RvOiB0ZWNobmljaWFuSWQsXG5cdFx0XHRcdHN0YXJ0X3RpbWU6IHN0YXJ0U3RyLFxuXHRcdFx0XHRlbmRfdGltZTogZW5kU3RyLFxuXHRcdFx0XHRkdXJhdGlvbixcblx0XHRcdFx0dXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiRmFpbGVkIHRvIG1vdmUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogQXNzaWduIGFuIHVuYXNzaWduZWQgam9iIHRvIGEgdGVjaG5pY2lhbiB3aXRoIGEgc3BlY2lmaWMgdGltZSBzbG90XG4gKiBVc2VkIHdoZW4gZHJhZ2dpbmcgZnJvbSB1bmFzc2lnbmVkIHBhbmVsIHRvIGEgdGVjaG5pY2lhbiBsYW5lXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhc3NpZ25OZXdBcHBvaW50bWVudChcblx0c2NoZWR1bGVJZDogc3RyaW5nLFxuXHR0ZWNobmljaWFuSWQ6IHN0cmluZyxcblx0c3RhcnRUaW1lOiBEYXRlLFxuXHRlbmRUaW1lOiBEYXRlLFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgZHVyYXRpb24gPSBNYXRoLnJvdW5kKFxuXHRcdFx0KGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSxcblx0XHQpO1xuXG5cdFx0Y29uc3QgZm9ybWF0TG9jYWxEYXRlVGltZSA9IChkYXRlOiBEYXRlKSA9PiB7XG5cdFx0XHRjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0Y29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBob3VyID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgbWludXRlID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBzZWNvbmQgPSBTdHJpbmcoZGF0ZS5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX0gJHtob3VyfToke21pbnV0ZX06JHtzZWNvbmR9YDtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3RhcnRTdHIgPSBmb3JtYXRMb2NhbERhdGVUaW1lKHN0YXJ0VGltZSk7XG5cdFx0Y29uc3QgZW5kU3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShlbmRUaW1lKTtcblxuXHRcdC8vIFNpbmdsZSBhdG9taWMgdXBkYXRlIGZvciBhc3NpZ25tZW50XG5cdFx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHtcblx0XHRcdFx0YXNzaWduZWRfdG86IHRlY2huaWNpYW5JZCxcblx0XHRcdFx0c3RhcnRfdGltZTogc3RhcnRTdHIsXG5cdFx0XHRcdGVuZF90aW1lOiBlbmRTdHIsXG5cdFx0XHRcdGR1cmF0aW9uLFxuXHRcdFx0XHRzdGF0dXM6IFwic2NoZWR1bGVkXCIsXG5cdFx0XHRcdHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKVxuXHRcdFx0LnNlbGVjdCgpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGEgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gYXNzaWduIGFwcG9pbnRtZW50XCIsXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdW5hc3NpZ25BcHBvaW50bWVudChzY2hlZHVsZUlkOiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRhc3NpZ25lZF90bzogbnVsbCxcblx0XHRcdFx0dXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIG1vdmUgYXBwb2ludG1lbnQgdG8gVW5zY2hlZHVsZWRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogU2VuZCBcIk9uIE15IFdheVwiIFNNUyBub3RpZmljYXRpb24gdG8gY3VzdG9tZXJcbiAqIEluY2x1ZGVzIHRlY2huaWNpYW4gbmFtZSBhbmQgZXN0aW1hdGVkIGFycml2YWwgdGltZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZE9uTXlXYXlOb3RpZmljYXRpb24oXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0dGVjaG5pY2lhbk5hbWU6IHN0cmluZyxcblx0Y3VzdG9tZXJQaG9uZTogc3RyaW5nLFxuXHRkZXN0aW5hdGlvbkFkZHJlc3M/OiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHQvLyBHZXQgdXNlciBhbmQgY29tcGFueSBpbmZvXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBjb21wYW55J3MgVGVsbnl4IHNldHRpbmdzIGZvciB0aGUgZnJvbSBudW1iZXJcblx0XHRjb25zdCB7IGRhdGE6IG1lbWJlcnNoaXAgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfbWVtYmVyc2hpcHNcIilcblx0XHRcdC5zZWxlY3QoXCJjb21wYW55X2lkXCIpXG5cdFx0XHQuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpXG5cdFx0XHQuZXEoXCJzdGF0dXNcIiwgXCJhY3RpdmVcIilcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghbWVtYmVyc2hpcD8uY29tcGFueV9pZCkge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIGFjdGl2ZSBjb21wYW55IG1lbWJlcnNoaXBcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IHsgZGF0YTogdGVsbnl4U2V0dGluZ3MgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfdGVsbnl4X3NldHRpbmdzXCIpXG5cdFx0XHQuc2VsZWN0KFwicGhvbmVfbnVtYmVyLCBzdGF0dXNcIilcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgbWVtYmVyc2hpcC5jb21wYW55X2lkKVxuXHRcdFx0LmVxKFwic3RhdHVzXCIsIFwicmVhZHlcIilcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghdGVsbnl4U2V0dGluZ3M/LnBob25lX251bWJlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIHBob25lIG51bWJlciBjb25maWd1cmVkIGZvciBTTVNcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBjb21wYW55IG5hbWUgZm9yIHRoZSBtZXNzYWdlXG5cdFx0Y29uc3QgeyBkYXRhOiBjb21wYW55IH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjb21wYW5pZXNcIilcblx0XHRcdC5zZWxlY3QoXCJuYW1lXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBtZW1iZXJzaGlwLmNvbXBhbnlfaWQpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHQvLyBCdWlsZCB0aGUgXCJPbiBNeSBXYXlcIiBtZXNzYWdlXG5cdFx0bGV0IG1lc3NhZ2UgPSBgSGkhICR7dGVjaG5pY2lhbk5hbWV9IGZyb20gJHtjb21wYW55Py5uYW1lIHx8IFwieW91ciBzZXJ2aWNlIHByb3ZpZGVyXCJ9IGlzIG9uIHRoZSB3YXkgdG8geW91ciBhcHBvaW50bWVudC5gO1xuXG5cdFx0Ly8gVHJ5IHRvIGdldCB0cmF2ZWwgdGltZSBlc3RpbWF0ZSBpZiB3ZSBoYXZlIGEgZGVzdGluYXRpb25cblx0XHRpZiAoZGVzdGluYXRpb25BZGRyZXNzKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCBiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBQX1VSTCB8fCBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMFwiO1xuXHRcdFx0XHRjb25zdCB0cmF2ZWxSZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0XHRcdGAke2Jhc2VVcmx9L2FwaS90cmF2ZWwtdGltZT9kZXN0aW5hdGlvbj0ke2VuY29kZVVSSUNvbXBvbmVudChkZXN0aW5hdGlvbkFkZHJlc3MpfWAsXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0aGVhZGVyczoge1xuXHRcdFx0XHRcdFx0XHRDb29raWU6IGBzYi1hY2Nlc3MtdG9rZW49JHt1c2VyLmlkfWAsIC8vIFBhc3MgYXV0aCBjb250ZXh0XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0aWYgKHRyYXZlbFJlc3BvbnNlLm9rKSB7XG5cdFx0XHRcdFx0Y29uc3QgdHJhdmVsRGF0YSA9IGF3YWl0IHRyYXZlbFJlc3BvbnNlLmpzb24oKTtcblx0XHRcdFx0XHRpZiAodHJhdmVsRGF0YS5kdXJhdGlvblRleHQpIHtcblx0XHRcdFx0XHRcdG1lc3NhZ2UgKz0gYCBFc3RpbWF0ZWQgYXJyaXZhbDogJHt0cmF2ZWxEYXRhLmR1cmF0aW9uVGV4dH0uYDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHQvLyBUcmF2ZWwgdGltZSBmZXRjaCBmYWlsZWQgLSBjb250aW51ZSB3aXRob3V0IGl0XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0bWVzc2FnZSArPSBcIiBXZSdsbCBzZWUgeW91IHNvb24hXCI7XG5cblx0XHQvLyBTZW5kIHRoZSBTTVMgdmlhIFRlbG55eFxuXHRcdGNvbnN0IHsgc2VuZFNNUyB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvdGVsbnl4L21lc3NhZ2luZ1wiKTtcblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kU01TKHtcblx0XHRcdHRvOiBjdXN0b21lclBob25lLFxuXHRcdFx0ZnJvbTogdGVsbnl4U2V0dGluZ3MucGhvbmVfbnVtYmVyLFxuXHRcdFx0dGV4dDogbWVzc2FnZSxcblx0XHR9KTtcblxuXHRcdGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gc2VuZCBTTVNcIiB9O1xuXHRcdH1cblxuXHRcdC8vIFVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMgdG8gZGlzcGF0Y2hlZFxuXHRcdGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJkaXNwYXRjaGVkXCIsXG5cdFx0XHRcdGRpc3BhdGNoZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0bWVzc2FnZTogXCJPbiBNeSBXYXkgbm90aWZpY2F0aW9uIHNlbnQgc3VjY2Vzc2Z1bGx5XCIsXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gc2VuZCBPbiBNeSBXYXkgbm90aWZpY2F0aW9uXCIsXG5cdFx0fTtcblx0fVxufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJ1VEErVnNCIn0=
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:b65163 [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"70c28007c87445b560f347ee537dbbc67935d42730":"assignJobToTechnician"},"apps/web/src/actions/schedule-assignments.ts",""] */ __turbopack_context__.s([
    "assignJobToTechnician",
    ()=>assignJobToTechnician
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var assignJobToTechnician = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("70c28007c87445b560f347ee537dbbc67935d42730", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "assignJobToTechnician"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vc2NoZWR1bGUtYXNzaWdubWVudHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc2VydmVyXCI7XG5cbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gXCJAL2xpYi9zdXBhYmFzZS9zZXJ2ZXJcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFzc2lnbkpvYlRvVGVjaG5pY2lhbihcblx0X2pvYklkOiBzdHJpbmcsXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0dGVjaG5pY2lhbklkOiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHQvLyBGaXJzdCBjaGVjayBpZiB0aGUgc2NoZWR1bGUgZXhpc3RzIGFuZCBnZXQgY3VycmVudCBhc3NpZ25tZW50XG5cdFx0Y29uc3QgeyBkYXRhOiBleGlzdGluZ1NjaGVkdWxlLCBlcnJvcjogY2hlY2tFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQuc2VsZWN0KFwiaWQsIGFzc2lnbmVkX3RvXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0aWYgKGNoZWNrRXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgU2NoZWR1bGUgY2hlY2sgZmFpbGVkOiAke2NoZWNrRXJyb3IubWVzc2FnZX1gKTtcblx0XHR9XG5cblx0XHRpZiAoIWV4aXN0aW5nU2NoZWR1bGUpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIlNjaGVkdWxlIG5vdCBmb3VuZFwiKTtcblx0XHR9XG5cblx0XHQvLyBVcGRhdGUgdGhlIHNjaGVkdWxlJ3MgYXNzaWduZWRfdG8gZmllbGRcblx0XHRjb25zdCB7IGRhdGE6IHVwZGF0ZWRTY2hlZHVsZSwgZXJyb3I6IHNjaGVkdWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7IGFzc2lnbmVkX3RvOiB0ZWNobmljaWFuSWQgfSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChzY2hlZHVsZUVycm9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYFNjaGVkdWxlIHVwZGF0ZSBmYWlsZWQ6ICR7c2NoZWR1bGVFcnJvci5tZXNzYWdlfWApO1xuXHRcdH1cblxuXHRcdC8vIERvbid0IHJldmFsaWRhdGUgaW1tZWRpYXRlbHkgLSBsZXQgdGhlIG9wdGltaXN0aWMgdXBkYXRlIHNob3dcblx0XHQvLyByZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvc2NoZWR1bGVcIik7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogdXBkYXRlZFNjaGVkdWxlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gYXNzaWduIGpvYlwiLFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUFwcG9pbnRtZW50VGltZXMoXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0c3RhcnRUaW1lOiBEYXRlLFxuXHRlbmRUaW1lOiBEYXRlLFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgZHVyYXRpb24gPSBNYXRoLnJvdW5kKFxuXHRcdFx0KGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSxcblx0XHQpO1xuXG5cdFx0Ly8gRm9ybWF0IGFzIGxvY2FsIGRhdGV0aW1lIHN0cmluZyBXSVRIT1VUIHRpbWV6b25lIGNvbnZlcnNpb25cblx0XHQvLyBHZXQgeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWludXRlIGZyb20gdGhlIERhdGUgb2JqZWN0IGRpcmVjdGx5XG5cdFx0Y29uc3QgZm9ybWF0TG9jYWxEYXRlVGltZSA9IChkYXRlOiBEYXRlKSA9PiB7XG5cdFx0XHRjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0Y29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBob3VyID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgbWludXRlID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBzZWNvbmQgPSBTdHJpbmcoZGF0ZS5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX0gJHtob3VyfToke21pbnV0ZX06JHtzZWNvbmR9YDtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3RhcnRTdHIgPSBmb3JtYXRMb2NhbERhdGVUaW1lKHN0YXJ0VGltZSk7XG5cdFx0Y29uc3QgZW5kU3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShlbmRUaW1lKTtcblxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXJ0X3RpbWU6IHN0YXJ0U3RyLFxuXHRcdFx0XHRlbmRfdGltZTogZW5kU3RyLFxuXHRcdFx0XHRkdXJhdGlvbixcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gRG9uJ3QgcmV2YWxpZGF0ZSBpbW1lZGlhdGVseSAtIGxldCB0aGUgb3B0aW1pc3RpYyB1cGRhdGUgc2hvd1xuXHRcdC8vIHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9zY2hlZHVsZVwiKTtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gdXBkYXRlIHRpbWVzXCIsXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2FuY2VsQXBwb2ludG1lbnQoc2NoZWR1bGVJZDogc3RyaW5nLCByZWFzb24/OiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gQ2FuY2VsIGFwcG9pbnRtZW50IC0gdW5zY2hlZHVsZSBpdCAocmVtb3ZlIGFzc2lnbmVkX3RvKVxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIixcblx0XHRcdFx0YXNzaWduZWRfdG86IG51bGwsIC8vIFVuYXNzaWduIHRlY2huaWNpYW5cblx0XHRcdFx0Y2FuY2VsbGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG5cdFx0XHRcdGNhbmNlbGxlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0Y2FuY2VsbGF0aW9uX3JlYXNvbjogcmVhc29uIHx8IG51bGwsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgc2NoZWR1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byBjYW5jZWwgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjYW5jZWxKb2JBbmRBcHBvaW50bWVudChcblx0c2NoZWR1bGVJZDogc3RyaW5nLFxuXHRqb2JJZDogc3RyaW5nLFxuXHRyZWFzb24/OiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG5cdFx0Ly8gQ2FuY2VsIHRoZSBhcHBvaW50bWVudFxuXHRcdGNvbnN0IHsgZXJyb3I6IHNjaGVkdWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIixcblx0XHRcdFx0YXNzaWduZWRfdG86IG51bGwsXG5cdFx0XHRcdGNhbmNlbGxlZF9hdDogbm93LFxuXHRcdFx0XHRjYW5jZWxsZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHRcdGNhbmNlbGxhdGlvbl9yZWFzb246IHJlYXNvbiB8fCBudWxsLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKHNjaGVkdWxlRXJyb3IpIHtcblx0XHRcdHRocm93IHNjaGVkdWxlRXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gQWxzbyBjYW5jZWwgdGhlIGpvYiBpZiBpdCBleGlzdHNcblx0XHRpZiAoam9iSWQpIHtcblx0XHRcdGNvbnN0IHsgZXJyb3I6IGpvYkVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0XHQuZnJvbShcImpvYnNcIilcblx0XHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdFx0c3RhdHVzOiBcImNhbmNlbGxlZFwiLFxuXHRcdFx0XHRcdGNhbmNlbGxlZF9hdDogbm93LFxuXHRcdFx0XHRcdGNhbmNlbGxlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0XHRjYW5jZWxsYXRpb25fcmVhc29uOiByZWFzb24gfHwgbnVsbCxcblx0XHRcdFx0fSlcblx0XHRcdFx0LmVxKFwiaWRcIiwgam9iSWQpO1xuXG5cdFx0XHRpZiAoam9iRXJyb3IpIHtcblx0XHRcdFx0dGhyb3cgam9iRXJyb3I7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byBjYW5jZWwgam9iIGFuZCBhcHBvaW50bWVudFwiLFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFyY2hpdmVBcHBvaW50bWVudChzY2hlZHVsZUlkOiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRhcmNoaXZlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIGFyY2hpdmUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb21wbGV0ZUFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG5cdGlmICghc3VwYWJhc2UpIHtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRGF0YWJhc2Ugbm90IGF2YWlsYWJsZVwiIH07XG5cdH1cblxuXHR0cnkge1xuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblxuXHRcdGlmICghdXNlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vdCBhdXRoZW50aWNhdGVkXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRzdGF0dXM6IFwiY29tcGxldGVkXCIsXG5cdFx0XHRcdGFjdHVhbF9lbmRfdGltZTogbm93LFxuXHRcdFx0XHRjb21wbGV0ZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgc2NoZWR1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gY29tcGxldGUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbnR5cGUgRGlzcGF0Y2hTdGF0dXMgPSBcImRpc3BhdGNoZWRcIiB8IFwiYXJyaXZlZFwiIHwgXCJjbG9zZWRcIjtcblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlU2NoZWR1bGVTdGF0dXMoXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0c3RhdHVzOiBEaXNwYXRjaFN0YXR1cyxcblx0ZXh0cmFVcGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9LFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblx0XHRjb25zdCB1cGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHtcblx0XHRcdHN0YXR1cyxcblx0XHRcdHVwZGF0ZWRfYXQ6IG5vdyxcblx0XHRcdC4uLmV4dHJhVXBkYXRlcyxcblx0XHR9O1xuXG5cdFx0aWYgKHN0YXR1cyA9PT0gXCJjbG9zZWRcIikge1xuXHRcdFx0dXBkYXRlcy5jb21wbGV0ZWRfYnkgPSB1c2VyLmlkO1xuXHRcdFx0dXBkYXRlcy5hY3R1YWxfZW5kX3RpbWUgPSB1cGRhdGVzLmFjdHVhbF9lbmRfdGltZSA/PyBub3c7XG5cdFx0fVxuXG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHVwZGF0ZXMpXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBgRmFpbGVkIHRvIHVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMgdG8gJHtzdGF0dXN9YCxcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkaXNwYXRjaEFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRyZXR1cm4gdXBkYXRlU2NoZWR1bGVTdGF0dXMoc2NoZWR1bGVJZCwgXCJkaXNwYXRjaGVkXCIpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXJyaXZlQXBwb2ludG1lbnQoc2NoZWR1bGVJZDogc3RyaW5nKSB7XG5cdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblx0cmV0dXJuIHVwZGF0ZVNjaGVkdWxlU3RhdHVzKHNjaGVkdWxlSWQsIFwiYXJyaXZlZFwiLCB7XG5cdFx0YWN0dWFsX3N0YXJ0X3RpbWU6IG5vdyxcblx0fSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbG9zZUFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cdHJldHVybiB1cGRhdGVTY2hlZHVsZVN0YXR1cyhzY2hlZHVsZUlkLCBcImNsb3NlZFwiLCB7XG5cdFx0YWN0dWFsX2VuZF90aW1lOiBub3csXG5cdH0pO1xufVxuXG4vKipcbiAqIE1vdmUgYW4gZXhpc3RpbmcgYXBwb2ludG1lbnQgdG8gYSBuZXcgdGVjaG5pY2lhbiBhbmQvb3IgdGltZSBzbG90XG4gKiBCYXRjaGVzIGJvdGggb3BlcmF0aW9ucyBpbiBhIHNpbmdsZSBkYXRhYmFzZSBjYWxsIGZvciBwZXJmb3JtYW5jZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbW92ZUFwcG9pbnRtZW50KFxuXHRzY2hlZHVsZUlkOiBzdHJpbmcsXG5cdHRlY2huaWNpYW5JZDogc3RyaW5nLFxuXHRzdGFydFRpbWU6IERhdGUsXG5cdGVuZFRpbWU6IERhdGUsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCBkdXJhdGlvbiA9IE1hdGgucm91bmQoXG5cdFx0XHQoZW5kVGltZS5nZXRUaW1lKCkgLSBzdGFydFRpbWUuZ2V0VGltZSgpKSAvICgxMDAwICogNjApLFxuXHRcdCk7XG5cblx0XHQvLyBGb3JtYXQgYXMgbG9jYWwgZGF0ZXRpbWUgc3RyaW5nIFdJVEhPVVQgdGltZXpvbmUgY29udmVyc2lvblxuXHRcdGNvbnN0IGZvcm1hdExvY2FsRGF0ZVRpbWUgPSAoZGF0ZTogRGF0ZSkgPT4ge1xuXHRcdFx0Y29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcblx0XHRcdGNvbnN0IG1vbnRoID0gU3RyaW5nKGRhdGUuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGNvbnN0IGRheSA9IFN0cmluZyhkYXRlLmdldERhdGUoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgaG91ciA9IFN0cmluZyhkYXRlLmdldEhvdXJzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGNvbnN0IG1pbnV0ZSA9IFN0cmluZyhkYXRlLmdldE1pbnV0ZXMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3Qgc2Vjb25kID0gU3RyaW5nKGRhdGUuZ2V0U2Vjb25kcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRyZXR1cm4gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9ICR7aG91cn06JHttaW51dGV9OiR7c2Vjb25kfWA7XG5cdFx0fTtcblxuXHRcdGNvbnN0IHN0YXJ0U3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShzdGFydFRpbWUpO1xuXHRcdGNvbnN0IGVuZFN0ciA9IGZvcm1hdExvY2FsRGF0ZVRpbWUoZW5kVGltZSk7XG5cblx0XHQvLyBTaW5nbGUgYXRvbWljIHVwZGF0ZSBmb3IgYm90aCBhc3NpZ25tZW50IGFuZCB0aW1lc1xuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdGFzc2lnbmVkX3RvOiB0ZWNobmljaWFuSWQsXG5cdFx0XHRcdHN0YXJ0X3RpbWU6IHN0YXJ0U3RyLFxuXHRcdFx0XHRlbmRfdGltZTogZW5kU3RyLFxuXHRcdFx0XHRkdXJhdGlvbixcblx0XHRcdFx0dXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiRmFpbGVkIHRvIG1vdmUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogQXNzaWduIGFuIHVuYXNzaWduZWQgam9iIHRvIGEgdGVjaG5pY2lhbiB3aXRoIGEgc3BlY2lmaWMgdGltZSBzbG90XG4gKiBVc2VkIHdoZW4gZHJhZ2dpbmcgZnJvbSB1bmFzc2lnbmVkIHBhbmVsIHRvIGEgdGVjaG5pY2lhbiBsYW5lXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhc3NpZ25OZXdBcHBvaW50bWVudChcblx0c2NoZWR1bGVJZDogc3RyaW5nLFxuXHR0ZWNobmljaWFuSWQ6IHN0cmluZyxcblx0c3RhcnRUaW1lOiBEYXRlLFxuXHRlbmRUaW1lOiBEYXRlLFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgZHVyYXRpb24gPSBNYXRoLnJvdW5kKFxuXHRcdFx0KGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSxcblx0XHQpO1xuXG5cdFx0Y29uc3QgZm9ybWF0TG9jYWxEYXRlVGltZSA9IChkYXRlOiBEYXRlKSA9PiB7XG5cdFx0XHRjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0Y29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBob3VyID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgbWludXRlID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBzZWNvbmQgPSBTdHJpbmcoZGF0ZS5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX0gJHtob3VyfToke21pbnV0ZX06JHtzZWNvbmR9YDtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3RhcnRTdHIgPSBmb3JtYXRMb2NhbERhdGVUaW1lKHN0YXJ0VGltZSk7XG5cdFx0Y29uc3QgZW5kU3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShlbmRUaW1lKTtcblxuXHRcdC8vIFNpbmdsZSBhdG9taWMgdXBkYXRlIGZvciBhc3NpZ25tZW50XG5cdFx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHtcblx0XHRcdFx0YXNzaWduZWRfdG86IHRlY2huaWNpYW5JZCxcblx0XHRcdFx0c3RhcnRfdGltZTogc3RhcnRTdHIsXG5cdFx0XHRcdGVuZF90aW1lOiBlbmRTdHIsXG5cdFx0XHRcdGR1cmF0aW9uLFxuXHRcdFx0XHRzdGF0dXM6IFwic2NoZWR1bGVkXCIsXG5cdFx0XHRcdHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKVxuXHRcdFx0LnNlbGVjdCgpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGEgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gYXNzaWduIGFwcG9pbnRtZW50XCIsXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdW5hc3NpZ25BcHBvaW50bWVudChzY2hlZHVsZUlkOiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRhc3NpZ25lZF90bzogbnVsbCxcblx0XHRcdFx0dXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIG1vdmUgYXBwb2ludG1lbnQgdG8gVW5zY2hlZHVsZWRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogU2VuZCBcIk9uIE15IFdheVwiIFNNUyBub3RpZmljYXRpb24gdG8gY3VzdG9tZXJcbiAqIEluY2x1ZGVzIHRlY2huaWNpYW4gbmFtZSBhbmQgZXN0aW1hdGVkIGFycml2YWwgdGltZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZE9uTXlXYXlOb3RpZmljYXRpb24oXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0dGVjaG5pY2lhbk5hbWU6IHN0cmluZyxcblx0Y3VzdG9tZXJQaG9uZTogc3RyaW5nLFxuXHRkZXN0aW5hdGlvbkFkZHJlc3M/OiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHQvLyBHZXQgdXNlciBhbmQgY29tcGFueSBpbmZvXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBjb21wYW55J3MgVGVsbnl4IHNldHRpbmdzIGZvciB0aGUgZnJvbSBudW1iZXJcblx0XHRjb25zdCB7IGRhdGE6IG1lbWJlcnNoaXAgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfbWVtYmVyc2hpcHNcIilcblx0XHRcdC5zZWxlY3QoXCJjb21wYW55X2lkXCIpXG5cdFx0XHQuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpXG5cdFx0XHQuZXEoXCJzdGF0dXNcIiwgXCJhY3RpdmVcIilcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghbWVtYmVyc2hpcD8uY29tcGFueV9pZCkge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIGFjdGl2ZSBjb21wYW55IG1lbWJlcnNoaXBcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IHsgZGF0YTogdGVsbnl4U2V0dGluZ3MgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfdGVsbnl4X3NldHRpbmdzXCIpXG5cdFx0XHQuc2VsZWN0KFwicGhvbmVfbnVtYmVyLCBzdGF0dXNcIilcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgbWVtYmVyc2hpcC5jb21wYW55X2lkKVxuXHRcdFx0LmVxKFwic3RhdHVzXCIsIFwicmVhZHlcIilcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghdGVsbnl4U2V0dGluZ3M/LnBob25lX251bWJlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIHBob25lIG51bWJlciBjb25maWd1cmVkIGZvciBTTVNcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBjb21wYW55IG5hbWUgZm9yIHRoZSBtZXNzYWdlXG5cdFx0Y29uc3QgeyBkYXRhOiBjb21wYW55IH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjb21wYW5pZXNcIilcblx0XHRcdC5zZWxlY3QoXCJuYW1lXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBtZW1iZXJzaGlwLmNvbXBhbnlfaWQpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHQvLyBCdWlsZCB0aGUgXCJPbiBNeSBXYXlcIiBtZXNzYWdlXG5cdFx0bGV0IG1lc3NhZ2UgPSBgSGkhICR7dGVjaG5pY2lhbk5hbWV9IGZyb20gJHtjb21wYW55Py5uYW1lIHx8IFwieW91ciBzZXJ2aWNlIHByb3ZpZGVyXCJ9IGlzIG9uIHRoZSB3YXkgdG8geW91ciBhcHBvaW50bWVudC5gO1xuXG5cdFx0Ly8gVHJ5IHRvIGdldCB0cmF2ZWwgdGltZSBlc3RpbWF0ZSBpZiB3ZSBoYXZlIGEgZGVzdGluYXRpb25cblx0XHRpZiAoZGVzdGluYXRpb25BZGRyZXNzKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCBiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBQX1VSTCB8fCBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMFwiO1xuXHRcdFx0XHRjb25zdCB0cmF2ZWxSZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0XHRcdGAke2Jhc2VVcmx9L2FwaS90cmF2ZWwtdGltZT9kZXN0aW5hdGlvbj0ke2VuY29kZVVSSUNvbXBvbmVudChkZXN0aW5hdGlvbkFkZHJlc3MpfWAsXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0aGVhZGVyczoge1xuXHRcdFx0XHRcdFx0XHRDb29raWU6IGBzYi1hY2Nlc3MtdG9rZW49JHt1c2VyLmlkfWAsIC8vIFBhc3MgYXV0aCBjb250ZXh0XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0aWYgKHRyYXZlbFJlc3BvbnNlLm9rKSB7XG5cdFx0XHRcdFx0Y29uc3QgdHJhdmVsRGF0YSA9IGF3YWl0IHRyYXZlbFJlc3BvbnNlLmpzb24oKTtcblx0XHRcdFx0XHRpZiAodHJhdmVsRGF0YS5kdXJhdGlvblRleHQpIHtcblx0XHRcdFx0XHRcdG1lc3NhZ2UgKz0gYCBFc3RpbWF0ZWQgYXJyaXZhbDogJHt0cmF2ZWxEYXRhLmR1cmF0aW9uVGV4dH0uYDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHQvLyBUcmF2ZWwgdGltZSBmZXRjaCBmYWlsZWQgLSBjb250aW51ZSB3aXRob3V0IGl0XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0bWVzc2FnZSArPSBcIiBXZSdsbCBzZWUgeW91IHNvb24hXCI7XG5cblx0XHQvLyBTZW5kIHRoZSBTTVMgdmlhIFRlbG55eFxuXHRcdGNvbnN0IHsgc2VuZFNNUyB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvdGVsbnl4L21lc3NhZ2luZ1wiKTtcblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kU01TKHtcblx0XHRcdHRvOiBjdXN0b21lclBob25lLFxuXHRcdFx0ZnJvbTogdGVsbnl4U2V0dGluZ3MucGhvbmVfbnVtYmVyLFxuXHRcdFx0dGV4dDogbWVzc2FnZSxcblx0XHR9KTtcblxuXHRcdGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gc2VuZCBTTVNcIiB9O1xuXHRcdH1cblxuXHRcdC8vIFVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMgdG8gZGlzcGF0Y2hlZFxuXHRcdGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJkaXNwYXRjaGVkXCIsXG5cdFx0XHRcdGRpc3BhdGNoZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0bWVzc2FnZTogXCJPbiBNeSBXYXkgbm90aWZpY2F0aW9uIHNlbnQgc3VjY2Vzc2Z1bGx5XCIsXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gc2VuZCBPbiBNeSBXYXkgbm90aWZpY2F0aW9uXCIsXG5cdFx0fTtcblx0fVxufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiIyVEFJc0IifQ==
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:a1731c [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"404f9cd9abeb38c3a5544ae22951126eedee6a341e":"completeAppointment"},"apps/web/src/actions/schedule-assignments.ts",""] */ __turbopack_context__.s([
    "completeAppointment",
    ()=>completeAppointment
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var completeAppointment = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("404f9cd9abeb38c3a5544ae22951126eedee6a341e", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "completeAppointment"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vc2NoZWR1bGUtYXNzaWdubWVudHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc2VydmVyXCI7XG5cbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gXCJAL2xpYi9zdXBhYmFzZS9zZXJ2ZXJcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFzc2lnbkpvYlRvVGVjaG5pY2lhbihcblx0X2pvYklkOiBzdHJpbmcsXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0dGVjaG5pY2lhbklkOiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHQvLyBGaXJzdCBjaGVjayBpZiB0aGUgc2NoZWR1bGUgZXhpc3RzIGFuZCBnZXQgY3VycmVudCBhc3NpZ25tZW50XG5cdFx0Y29uc3QgeyBkYXRhOiBleGlzdGluZ1NjaGVkdWxlLCBlcnJvcjogY2hlY2tFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQuc2VsZWN0KFwiaWQsIGFzc2lnbmVkX3RvXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0aWYgKGNoZWNrRXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgU2NoZWR1bGUgY2hlY2sgZmFpbGVkOiAke2NoZWNrRXJyb3IubWVzc2FnZX1gKTtcblx0XHR9XG5cblx0XHRpZiAoIWV4aXN0aW5nU2NoZWR1bGUpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIlNjaGVkdWxlIG5vdCBmb3VuZFwiKTtcblx0XHR9XG5cblx0XHQvLyBVcGRhdGUgdGhlIHNjaGVkdWxlJ3MgYXNzaWduZWRfdG8gZmllbGRcblx0XHRjb25zdCB7IGRhdGE6IHVwZGF0ZWRTY2hlZHVsZSwgZXJyb3I6IHNjaGVkdWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7IGFzc2lnbmVkX3RvOiB0ZWNobmljaWFuSWQgfSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChzY2hlZHVsZUVycm9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYFNjaGVkdWxlIHVwZGF0ZSBmYWlsZWQ6ICR7c2NoZWR1bGVFcnJvci5tZXNzYWdlfWApO1xuXHRcdH1cblxuXHRcdC8vIERvbid0IHJldmFsaWRhdGUgaW1tZWRpYXRlbHkgLSBsZXQgdGhlIG9wdGltaXN0aWMgdXBkYXRlIHNob3dcblx0XHQvLyByZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvc2NoZWR1bGVcIik7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogdXBkYXRlZFNjaGVkdWxlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gYXNzaWduIGpvYlwiLFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUFwcG9pbnRtZW50VGltZXMoXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0c3RhcnRUaW1lOiBEYXRlLFxuXHRlbmRUaW1lOiBEYXRlLFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgZHVyYXRpb24gPSBNYXRoLnJvdW5kKFxuXHRcdFx0KGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSxcblx0XHQpO1xuXG5cdFx0Ly8gRm9ybWF0IGFzIGxvY2FsIGRhdGV0aW1lIHN0cmluZyBXSVRIT1VUIHRpbWV6b25lIGNvbnZlcnNpb25cblx0XHQvLyBHZXQgeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWludXRlIGZyb20gdGhlIERhdGUgb2JqZWN0IGRpcmVjdGx5XG5cdFx0Y29uc3QgZm9ybWF0TG9jYWxEYXRlVGltZSA9IChkYXRlOiBEYXRlKSA9PiB7XG5cdFx0XHRjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0Y29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBob3VyID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgbWludXRlID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBzZWNvbmQgPSBTdHJpbmcoZGF0ZS5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX0gJHtob3VyfToke21pbnV0ZX06JHtzZWNvbmR9YDtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3RhcnRTdHIgPSBmb3JtYXRMb2NhbERhdGVUaW1lKHN0YXJ0VGltZSk7XG5cdFx0Y29uc3QgZW5kU3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShlbmRUaW1lKTtcblxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXJ0X3RpbWU6IHN0YXJ0U3RyLFxuXHRcdFx0XHRlbmRfdGltZTogZW5kU3RyLFxuXHRcdFx0XHRkdXJhdGlvbixcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gRG9uJ3QgcmV2YWxpZGF0ZSBpbW1lZGlhdGVseSAtIGxldCB0aGUgb3B0aW1pc3RpYyB1cGRhdGUgc2hvd1xuXHRcdC8vIHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9zY2hlZHVsZVwiKTtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gdXBkYXRlIHRpbWVzXCIsXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2FuY2VsQXBwb2ludG1lbnQoc2NoZWR1bGVJZDogc3RyaW5nLCByZWFzb24/OiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gQ2FuY2VsIGFwcG9pbnRtZW50IC0gdW5zY2hlZHVsZSBpdCAocmVtb3ZlIGFzc2lnbmVkX3RvKVxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIixcblx0XHRcdFx0YXNzaWduZWRfdG86IG51bGwsIC8vIFVuYXNzaWduIHRlY2huaWNpYW5cblx0XHRcdFx0Y2FuY2VsbGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG5cdFx0XHRcdGNhbmNlbGxlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0Y2FuY2VsbGF0aW9uX3JlYXNvbjogcmVhc29uIHx8IG51bGwsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgc2NoZWR1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byBjYW5jZWwgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjYW5jZWxKb2JBbmRBcHBvaW50bWVudChcblx0c2NoZWR1bGVJZDogc3RyaW5nLFxuXHRqb2JJZDogc3RyaW5nLFxuXHRyZWFzb24/OiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG5cdFx0Ly8gQ2FuY2VsIHRoZSBhcHBvaW50bWVudFxuXHRcdGNvbnN0IHsgZXJyb3I6IHNjaGVkdWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIixcblx0XHRcdFx0YXNzaWduZWRfdG86IG51bGwsXG5cdFx0XHRcdGNhbmNlbGxlZF9hdDogbm93LFxuXHRcdFx0XHRjYW5jZWxsZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHRcdGNhbmNlbGxhdGlvbl9yZWFzb246IHJlYXNvbiB8fCBudWxsLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKHNjaGVkdWxlRXJyb3IpIHtcblx0XHRcdHRocm93IHNjaGVkdWxlRXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gQWxzbyBjYW5jZWwgdGhlIGpvYiBpZiBpdCBleGlzdHNcblx0XHRpZiAoam9iSWQpIHtcblx0XHRcdGNvbnN0IHsgZXJyb3I6IGpvYkVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0XHQuZnJvbShcImpvYnNcIilcblx0XHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdFx0c3RhdHVzOiBcImNhbmNlbGxlZFwiLFxuXHRcdFx0XHRcdGNhbmNlbGxlZF9hdDogbm93LFxuXHRcdFx0XHRcdGNhbmNlbGxlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0XHRjYW5jZWxsYXRpb25fcmVhc29uOiByZWFzb24gfHwgbnVsbCxcblx0XHRcdFx0fSlcblx0XHRcdFx0LmVxKFwiaWRcIiwgam9iSWQpO1xuXG5cdFx0XHRpZiAoam9iRXJyb3IpIHtcblx0XHRcdFx0dGhyb3cgam9iRXJyb3I7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byBjYW5jZWwgam9iIGFuZCBhcHBvaW50bWVudFwiLFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFyY2hpdmVBcHBvaW50bWVudChzY2hlZHVsZUlkOiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRhcmNoaXZlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIGFyY2hpdmUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb21wbGV0ZUFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG5cdGlmICghc3VwYWJhc2UpIHtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRGF0YWJhc2Ugbm90IGF2YWlsYWJsZVwiIH07XG5cdH1cblxuXHR0cnkge1xuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblxuXHRcdGlmICghdXNlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vdCBhdXRoZW50aWNhdGVkXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRzdGF0dXM6IFwiY29tcGxldGVkXCIsXG5cdFx0XHRcdGFjdHVhbF9lbmRfdGltZTogbm93LFxuXHRcdFx0XHRjb21wbGV0ZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgc2NoZWR1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gY29tcGxldGUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbnR5cGUgRGlzcGF0Y2hTdGF0dXMgPSBcImRpc3BhdGNoZWRcIiB8IFwiYXJyaXZlZFwiIHwgXCJjbG9zZWRcIjtcblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlU2NoZWR1bGVTdGF0dXMoXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0c3RhdHVzOiBEaXNwYXRjaFN0YXR1cyxcblx0ZXh0cmFVcGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9LFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblx0XHRjb25zdCB1cGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHtcblx0XHRcdHN0YXR1cyxcblx0XHRcdHVwZGF0ZWRfYXQ6IG5vdyxcblx0XHRcdC4uLmV4dHJhVXBkYXRlcyxcblx0XHR9O1xuXG5cdFx0aWYgKHN0YXR1cyA9PT0gXCJjbG9zZWRcIikge1xuXHRcdFx0dXBkYXRlcy5jb21wbGV0ZWRfYnkgPSB1c2VyLmlkO1xuXHRcdFx0dXBkYXRlcy5hY3R1YWxfZW5kX3RpbWUgPSB1cGRhdGVzLmFjdHVhbF9lbmRfdGltZSA/PyBub3c7XG5cdFx0fVxuXG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHVwZGF0ZXMpXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBgRmFpbGVkIHRvIHVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMgdG8gJHtzdGF0dXN9YCxcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkaXNwYXRjaEFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRyZXR1cm4gdXBkYXRlU2NoZWR1bGVTdGF0dXMoc2NoZWR1bGVJZCwgXCJkaXNwYXRjaGVkXCIpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXJyaXZlQXBwb2ludG1lbnQoc2NoZWR1bGVJZDogc3RyaW5nKSB7XG5cdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblx0cmV0dXJuIHVwZGF0ZVNjaGVkdWxlU3RhdHVzKHNjaGVkdWxlSWQsIFwiYXJyaXZlZFwiLCB7XG5cdFx0YWN0dWFsX3N0YXJ0X3RpbWU6IG5vdyxcblx0fSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbG9zZUFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cdHJldHVybiB1cGRhdGVTY2hlZHVsZVN0YXR1cyhzY2hlZHVsZUlkLCBcImNsb3NlZFwiLCB7XG5cdFx0YWN0dWFsX2VuZF90aW1lOiBub3csXG5cdH0pO1xufVxuXG4vKipcbiAqIE1vdmUgYW4gZXhpc3RpbmcgYXBwb2ludG1lbnQgdG8gYSBuZXcgdGVjaG5pY2lhbiBhbmQvb3IgdGltZSBzbG90XG4gKiBCYXRjaGVzIGJvdGggb3BlcmF0aW9ucyBpbiBhIHNpbmdsZSBkYXRhYmFzZSBjYWxsIGZvciBwZXJmb3JtYW5jZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbW92ZUFwcG9pbnRtZW50KFxuXHRzY2hlZHVsZUlkOiBzdHJpbmcsXG5cdHRlY2huaWNpYW5JZDogc3RyaW5nLFxuXHRzdGFydFRpbWU6IERhdGUsXG5cdGVuZFRpbWU6IERhdGUsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCBkdXJhdGlvbiA9IE1hdGgucm91bmQoXG5cdFx0XHQoZW5kVGltZS5nZXRUaW1lKCkgLSBzdGFydFRpbWUuZ2V0VGltZSgpKSAvICgxMDAwICogNjApLFxuXHRcdCk7XG5cblx0XHQvLyBGb3JtYXQgYXMgbG9jYWwgZGF0ZXRpbWUgc3RyaW5nIFdJVEhPVVQgdGltZXpvbmUgY29udmVyc2lvblxuXHRcdGNvbnN0IGZvcm1hdExvY2FsRGF0ZVRpbWUgPSAoZGF0ZTogRGF0ZSkgPT4ge1xuXHRcdFx0Y29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcblx0XHRcdGNvbnN0IG1vbnRoID0gU3RyaW5nKGRhdGUuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGNvbnN0IGRheSA9IFN0cmluZyhkYXRlLmdldERhdGUoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgaG91ciA9IFN0cmluZyhkYXRlLmdldEhvdXJzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGNvbnN0IG1pbnV0ZSA9IFN0cmluZyhkYXRlLmdldE1pbnV0ZXMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3Qgc2Vjb25kID0gU3RyaW5nKGRhdGUuZ2V0U2Vjb25kcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRyZXR1cm4gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9ICR7aG91cn06JHttaW51dGV9OiR7c2Vjb25kfWA7XG5cdFx0fTtcblxuXHRcdGNvbnN0IHN0YXJ0U3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShzdGFydFRpbWUpO1xuXHRcdGNvbnN0IGVuZFN0ciA9IGZvcm1hdExvY2FsRGF0ZVRpbWUoZW5kVGltZSk7XG5cblx0XHQvLyBTaW5nbGUgYXRvbWljIHVwZGF0ZSBmb3IgYm90aCBhc3NpZ25tZW50IGFuZCB0aW1lc1xuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdGFzc2lnbmVkX3RvOiB0ZWNobmljaWFuSWQsXG5cdFx0XHRcdHN0YXJ0X3RpbWU6IHN0YXJ0U3RyLFxuXHRcdFx0XHRlbmRfdGltZTogZW5kU3RyLFxuXHRcdFx0XHRkdXJhdGlvbixcblx0XHRcdFx0dXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiRmFpbGVkIHRvIG1vdmUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogQXNzaWduIGFuIHVuYXNzaWduZWQgam9iIHRvIGEgdGVjaG5pY2lhbiB3aXRoIGEgc3BlY2lmaWMgdGltZSBzbG90XG4gKiBVc2VkIHdoZW4gZHJhZ2dpbmcgZnJvbSB1bmFzc2lnbmVkIHBhbmVsIHRvIGEgdGVjaG5pY2lhbiBsYW5lXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhc3NpZ25OZXdBcHBvaW50bWVudChcblx0c2NoZWR1bGVJZDogc3RyaW5nLFxuXHR0ZWNobmljaWFuSWQ6IHN0cmluZyxcblx0c3RhcnRUaW1lOiBEYXRlLFxuXHRlbmRUaW1lOiBEYXRlLFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgZHVyYXRpb24gPSBNYXRoLnJvdW5kKFxuXHRcdFx0KGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSxcblx0XHQpO1xuXG5cdFx0Y29uc3QgZm9ybWF0TG9jYWxEYXRlVGltZSA9IChkYXRlOiBEYXRlKSA9PiB7XG5cdFx0XHRjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0Y29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBob3VyID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgbWludXRlID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBzZWNvbmQgPSBTdHJpbmcoZGF0ZS5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX0gJHtob3VyfToke21pbnV0ZX06JHtzZWNvbmR9YDtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3RhcnRTdHIgPSBmb3JtYXRMb2NhbERhdGVUaW1lKHN0YXJ0VGltZSk7XG5cdFx0Y29uc3QgZW5kU3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShlbmRUaW1lKTtcblxuXHRcdC8vIFNpbmdsZSBhdG9taWMgdXBkYXRlIGZvciBhc3NpZ25tZW50XG5cdFx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHtcblx0XHRcdFx0YXNzaWduZWRfdG86IHRlY2huaWNpYW5JZCxcblx0XHRcdFx0c3RhcnRfdGltZTogc3RhcnRTdHIsXG5cdFx0XHRcdGVuZF90aW1lOiBlbmRTdHIsXG5cdFx0XHRcdGR1cmF0aW9uLFxuXHRcdFx0XHRzdGF0dXM6IFwic2NoZWR1bGVkXCIsXG5cdFx0XHRcdHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKVxuXHRcdFx0LnNlbGVjdCgpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGEgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gYXNzaWduIGFwcG9pbnRtZW50XCIsXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdW5hc3NpZ25BcHBvaW50bWVudChzY2hlZHVsZUlkOiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRhc3NpZ25lZF90bzogbnVsbCxcblx0XHRcdFx0dXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIG1vdmUgYXBwb2ludG1lbnQgdG8gVW5zY2hlZHVsZWRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogU2VuZCBcIk9uIE15IFdheVwiIFNNUyBub3RpZmljYXRpb24gdG8gY3VzdG9tZXJcbiAqIEluY2x1ZGVzIHRlY2huaWNpYW4gbmFtZSBhbmQgZXN0aW1hdGVkIGFycml2YWwgdGltZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZE9uTXlXYXlOb3RpZmljYXRpb24oXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0dGVjaG5pY2lhbk5hbWU6IHN0cmluZyxcblx0Y3VzdG9tZXJQaG9uZTogc3RyaW5nLFxuXHRkZXN0aW5hdGlvbkFkZHJlc3M/OiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHQvLyBHZXQgdXNlciBhbmQgY29tcGFueSBpbmZvXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBjb21wYW55J3MgVGVsbnl4IHNldHRpbmdzIGZvciB0aGUgZnJvbSBudW1iZXJcblx0XHRjb25zdCB7IGRhdGE6IG1lbWJlcnNoaXAgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfbWVtYmVyc2hpcHNcIilcblx0XHRcdC5zZWxlY3QoXCJjb21wYW55X2lkXCIpXG5cdFx0XHQuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpXG5cdFx0XHQuZXEoXCJzdGF0dXNcIiwgXCJhY3RpdmVcIilcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghbWVtYmVyc2hpcD8uY29tcGFueV9pZCkge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIGFjdGl2ZSBjb21wYW55IG1lbWJlcnNoaXBcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IHsgZGF0YTogdGVsbnl4U2V0dGluZ3MgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfdGVsbnl4X3NldHRpbmdzXCIpXG5cdFx0XHQuc2VsZWN0KFwicGhvbmVfbnVtYmVyLCBzdGF0dXNcIilcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgbWVtYmVyc2hpcC5jb21wYW55X2lkKVxuXHRcdFx0LmVxKFwic3RhdHVzXCIsIFwicmVhZHlcIilcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghdGVsbnl4U2V0dGluZ3M/LnBob25lX251bWJlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIHBob25lIG51bWJlciBjb25maWd1cmVkIGZvciBTTVNcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBjb21wYW55IG5hbWUgZm9yIHRoZSBtZXNzYWdlXG5cdFx0Y29uc3QgeyBkYXRhOiBjb21wYW55IH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjb21wYW5pZXNcIilcblx0XHRcdC5zZWxlY3QoXCJuYW1lXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBtZW1iZXJzaGlwLmNvbXBhbnlfaWQpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHQvLyBCdWlsZCB0aGUgXCJPbiBNeSBXYXlcIiBtZXNzYWdlXG5cdFx0bGV0IG1lc3NhZ2UgPSBgSGkhICR7dGVjaG5pY2lhbk5hbWV9IGZyb20gJHtjb21wYW55Py5uYW1lIHx8IFwieW91ciBzZXJ2aWNlIHByb3ZpZGVyXCJ9IGlzIG9uIHRoZSB3YXkgdG8geW91ciBhcHBvaW50bWVudC5gO1xuXG5cdFx0Ly8gVHJ5IHRvIGdldCB0cmF2ZWwgdGltZSBlc3RpbWF0ZSBpZiB3ZSBoYXZlIGEgZGVzdGluYXRpb25cblx0XHRpZiAoZGVzdGluYXRpb25BZGRyZXNzKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCBiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBQX1VSTCB8fCBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMFwiO1xuXHRcdFx0XHRjb25zdCB0cmF2ZWxSZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0XHRcdGAke2Jhc2VVcmx9L2FwaS90cmF2ZWwtdGltZT9kZXN0aW5hdGlvbj0ke2VuY29kZVVSSUNvbXBvbmVudChkZXN0aW5hdGlvbkFkZHJlc3MpfWAsXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0aGVhZGVyczoge1xuXHRcdFx0XHRcdFx0XHRDb29raWU6IGBzYi1hY2Nlc3MtdG9rZW49JHt1c2VyLmlkfWAsIC8vIFBhc3MgYXV0aCBjb250ZXh0XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0aWYgKHRyYXZlbFJlc3BvbnNlLm9rKSB7XG5cdFx0XHRcdFx0Y29uc3QgdHJhdmVsRGF0YSA9IGF3YWl0IHRyYXZlbFJlc3BvbnNlLmpzb24oKTtcblx0XHRcdFx0XHRpZiAodHJhdmVsRGF0YS5kdXJhdGlvblRleHQpIHtcblx0XHRcdFx0XHRcdG1lc3NhZ2UgKz0gYCBFc3RpbWF0ZWQgYXJyaXZhbDogJHt0cmF2ZWxEYXRhLmR1cmF0aW9uVGV4dH0uYDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHQvLyBUcmF2ZWwgdGltZSBmZXRjaCBmYWlsZWQgLSBjb250aW51ZSB3aXRob3V0IGl0XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0bWVzc2FnZSArPSBcIiBXZSdsbCBzZWUgeW91IHNvb24hXCI7XG5cblx0XHQvLyBTZW5kIHRoZSBTTVMgdmlhIFRlbG55eFxuXHRcdGNvbnN0IHsgc2VuZFNNUyB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvdGVsbnl4L21lc3NhZ2luZ1wiKTtcblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kU01TKHtcblx0XHRcdHRvOiBjdXN0b21lclBob25lLFxuXHRcdFx0ZnJvbTogdGVsbnl4U2V0dGluZ3MucGhvbmVfbnVtYmVyLFxuXHRcdFx0dGV4dDogbWVzc2FnZSxcblx0XHR9KTtcblxuXHRcdGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gc2VuZCBTTVNcIiB9O1xuXHRcdH1cblxuXHRcdC8vIFVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMgdG8gZGlzcGF0Y2hlZFxuXHRcdGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJkaXNwYXRjaGVkXCIsXG5cdFx0XHRcdGRpc3BhdGNoZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0bWVzc2FnZTogXCJPbiBNeSBXYXkgbm90aWZpY2F0aW9uIHNlbnQgc3VjY2Vzc2Z1bGx5XCIsXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gc2VuZCBPbiBNeSBXYXkgbm90aWZpY2F0aW9uXCIsXG5cdFx0fTtcblx0fVxufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJ5VEF5UHNCIn0=
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:06ff41 [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"40940211ec0e3e051ede54e28f158fbb78e431e54c":"dispatchAppointment"},"apps/web/src/actions/schedule-assignments.ts",""] */ __turbopack_context__.s([
    "dispatchAppointment",
    ()=>dispatchAppointment
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var dispatchAppointment = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("40940211ec0e3e051ede54e28f158fbb78e431e54c", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "dispatchAppointment"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vc2NoZWR1bGUtYXNzaWdubWVudHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc2VydmVyXCI7XG5cbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gXCJAL2xpYi9zdXBhYmFzZS9zZXJ2ZXJcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFzc2lnbkpvYlRvVGVjaG5pY2lhbihcblx0X2pvYklkOiBzdHJpbmcsXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0dGVjaG5pY2lhbklkOiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHQvLyBGaXJzdCBjaGVjayBpZiB0aGUgc2NoZWR1bGUgZXhpc3RzIGFuZCBnZXQgY3VycmVudCBhc3NpZ25tZW50XG5cdFx0Y29uc3QgeyBkYXRhOiBleGlzdGluZ1NjaGVkdWxlLCBlcnJvcjogY2hlY2tFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQuc2VsZWN0KFwiaWQsIGFzc2lnbmVkX3RvXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0aWYgKGNoZWNrRXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgU2NoZWR1bGUgY2hlY2sgZmFpbGVkOiAke2NoZWNrRXJyb3IubWVzc2FnZX1gKTtcblx0XHR9XG5cblx0XHRpZiAoIWV4aXN0aW5nU2NoZWR1bGUpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIlNjaGVkdWxlIG5vdCBmb3VuZFwiKTtcblx0XHR9XG5cblx0XHQvLyBVcGRhdGUgdGhlIHNjaGVkdWxlJ3MgYXNzaWduZWRfdG8gZmllbGRcblx0XHRjb25zdCB7IGRhdGE6IHVwZGF0ZWRTY2hlZHVsZSwgZXJyb3I6IHNjaGVkdWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7IGFzc2lnbmVkX3RvOiB0ZWNobmljaWFuSWQgfSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChzY2hlZHVsZUVycm9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYFNjaGVkdWxlIHVwZGF0ZSBmYWlsZWQ6ICR7c2NoZWR1bGVFcnJvci5tZXNzYWdlfWApO1xuXHRcdH1cblxuXHRcdC8vIERvbid0IHJldmFsaWRhdGUgaW1tZWRpYXRlbHkgLSBsZXQgdGhlIG9wdGltaXN0aWMgdXBkYXRlIHNob3dcblx0XHQvLyByZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvc2NoZWR1bGVcIik7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogdXBkYXRlZFNjaGVkdWxlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gYXNzaWduIGpvYlwiLFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUFwcG9pbnRtZW50VGltZXMoXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0c3RhcnRUaW1lOiBEYXRlLFxuXHRlbmRUaW1lOiBEYXRlLFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgZHVyYXRpb24gPSBNYXRoLnJvdW5kKFxuXHRcdFx0KGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSxcblx0XHQpO1xuXG5cdFx0Ly8gRm9ybWF0IGFzIGxvY2FsIGRhdGV0aW1lIHN0cmluZyBXSVRIT1VUIHRpbWV6b25lIGNvbnZlcnNpb25cblx0XHQvLyBHZXQgeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWludXRlIGZyb20gdGhlIERhdGUgb2JqZWN0IGRpcmVjdGx5XG5cdFx0Y29uc3QgZm9ybWF0TG9jYWxEYXRlVGltZSA9IChkYXRlOiBEYXRlKSA9PiB7XG5cdFx0XHRjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0Y29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBob3VyID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgbWludXRlID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBzZWNvbmQgPSBTdHJpbmcoZGF0ZS5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX0gJHtob3VyfToke21pbnV0ZX06JHtzZWNvbmR9YDtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3RhcnRTdHIgPSBmb3JtYXRMb2NhbERhdGVUaW1lKHN0YXJ0VGltZSk7XG5cdFx0Y29uc3QgZW5kU3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShlbmRUaW1lKTtcblxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXJ0X3RpbWU6IHN0YXJ0U3RyLFxuXHRcdFx0XHRlbmRfdGltZTogZW5kU3RyLFxuXHRcdFx0XHRkdXJhdGlvbixcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gRG9uJ3QgcmV2YWxpZGF0ZSBpbW1lZGlhdGVseSAtIGxldCB0aGUgb3B0aW1pc3RpYyB1cGRhdGUgc2hvd1xuXHRcdC8vIHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9zY2hlZHVsZVwiKTtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gdXBkYXRlIHRpbWVzXCIsXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2FuY2VsQXBwb2ludG1lbnQoc2NoZWR1bGVJZDogc3RyaW5nLCByZWFzb24/OiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gQ2FuY2VsIGFwcG9pbnRtZW50IC0gdW5zY2hlZHVsZSBpdCAocmVtb3ZlIGFzc2lnbmVkX3RvKVxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIixcblx0XHRcdFx0YXNzaWduZWRfdG86IG51bGwsIC8vIFVuYXNzaWduIHRlY2huaWNpYW5cblx0XHRcdFx0Y2FuY2VsbGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG5cdFx0XHRcdGNhbmNlbGxlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0Y2FuY2VsbGF0aW9uX3JlYXNvbjogcmVhc29uIHx8IG51bGwsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgc2NoZWR1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byBjYW5jZWwgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjYW5jZWxKb2JBbmRBcHBvaW50bWVudChcblx0c2NoZWR1bGVJZDogc3RyaW5nLFxuXHRqb2JJZDogc3RyaW5nLFxuXHRyZWFzb24/OiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG5cdFx0Ly8gQ2FuY2VsIHRoZSBhcHBvaW50bWVudFxuXHRcdGNvbnN0IHsgZXJyb3I6IHNjaGVkdWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIixcblx0XHRcdFx0YXNzaWduZWRfdG86IG51bGwsXG5cdFx0XHRcdGNhbmNlbGxlZF9hdDogbm93LFxuXHRcdFx0XHRjYW5jZWxsZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHRcdGNhbmNlbGxhdGlvbl9yZWFzb246IHJlYXNvbiB8fCBudWxsLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKHNjaGVkdWxlRXJyb3IpIHtcblx0XHRcdHRocm93IHNjaGVkdWxlRXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gQWxzbyBjYW5jZWwgdGhlIGpvYiBpZiBpdCBleGlzdHNcblx0XHRpZiAoam9iSWQpIHtcblx0XHRcdGNvbnN0IHsgZXJyb3I6IGpvYkVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0XHQuZnJvbShcImpvYnNcIilcblx0XHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdFx0c3RhdHVzOiBcImNhbmNlbGxlZFwiLFxuXHRcdFx0XHRcdGNhbmNlbGxlZF9hdDogbm93LFxuXHRcdFx0XHRcdGNhbmNlbGxlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0XHRjYW5jZWxsYXRpb25fcmVhc29uOiByZWFzb24gfHwgbnVsbCxcblx0XHRcdFx0fSlcblx0XHRcdFx0LmVxKFwiaWRcIiwgam9iSWQpO1xuXG5cdFx0XHRpZiAoam9iRXJyb3IpIHtcblx0XHRcdFx0dGhyb3cgam9iRXJyb3I7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byBjYW5jZWwgam9iIGFuZCBhcHBvaW50bWVudFwiLFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFyY2hpdmVBcHBvaW50bWVudChzY2hlZHVsZUlkOiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRhcmNoaXZlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIGFyY2hpdmUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb21wbGV0ZUFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG5cdGlmICghc3VwYWJhc2UpIHtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRGF0YWJhc2Ugbm90IGF2YWlsYWJsZVwiIH07XG5cdH1cblxuXHR0cnkge1xuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblxuXHRcdGlmICghdXNlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vdCBhdXRoZW50aWNhdGVkXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRzdGF0dXM6IFwiY29tcGxldGVkXCIsXG5cdFx0XHRcdGFjdHVhbF9lbmRfdGltZTogbm93LFxuXHRcdFx0XHRjb21wbGV0ZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgc2NoZWR1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gY29tcGxldGUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbnR5cGUgRGlzcGF0Y2hTdGF0dXMgPSBcImRpc3BhdGNoZWRcIiB8IFwiYXJyaXZlZFwiIHwgXCJjbG9zZWRcIjtcblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlU2NoZWR1bGVTdGF0dXMoXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0c3RhdHVzOiBEaXNwYXRjaFN0YXR1cyxcblx0ZXh0cmFVcGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9LFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblx0XHRjb25zdCB1cGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHtcblx0XHRcdHN0YXR1cyxcblx0XHRcdHVwZGF0ZWRfYXQ6IG5vdyxcblx0XHRcdC4uLmV4dHJhVXBkYXRlcyxcblx0XHR9O1xuXG5cdFx0aWYgKHN0YXR1cyA9PT0gXCJjbG9zZWRcIikge1xuXHRcdFx0dXBkYXRlcy5jb21wbGV0ZWRfYnkgPSB1c2VyLmlkO1xuXHRcdFx0dXBkYXRlcy5hY3R1YWxfZW5kX3RpbWUgPSB1cGRhdGVzLmFjdHVhbF9lbmRfdGltZSA/PyBub3c7XG5cdFx0fVxuXG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHVwZGF0ZXMpXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBgRmFpbGVkIHRvIHVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMgdG8gJHtzdGF0dXN9YCxcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkaXNwYXRjaEFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRyZXR1cm4gdXBkYXRlU2NoZWR1bGVTdGF0dXMoc2NoZWR1bGVJZCwgXCJkaXNwYXRjaGVkXCIpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXJyaXZlQXBwb2ludG1lbnQoc2NoZWR1bGVJZDogc3RyaW5nKSB7XG5cdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblx0cmV0dXJuIHVwZGF0ZVNjaGVkdWxlU3RhdHVzKHNjaGVkdWxlSWQsIFwiYXJyaXZlZFwiLCB7XG5cdFx0YWN0dWFsX3N0YXJ0X3RpbWU6IG5vdyxcblx0fSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbG9zZUFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cdHJldHVybiB1cGRhdGVTY2hlZHVsZVN0YXR1cyhzY2hlZHVsZUlkLCBcImNsb3NlZFwiLCB7XG5cdFx0YWN0dWFsX2VuZF90aW1lOiBub3csXG5cdH0pO1xufVxuXG4vKipcbiAqIE1vdmUgYW4gZXhpc3RpbmcgYXBwb2ludG1lbnQgdG8gYSBuZXcgdGVjaG5pY2lhbiBhbmQvb3IgdGltZSBzbG90XG4gKiBCYXRjaGVzIGJvdGggb3BlcmF0aW9ucyBpbiBhIHNpbmdsZSBkYXRhYmFzZSBjYWxsIGZvciBwZXJmb3JtYW5jZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbW92ZUFwcG9pbnRtZW50KFxuXHRzY2hlZHVsZUlkOiBzdHJpbmcsXG5cdHRlY2huaWNpYW5JZDogc3RyaW5nLFxuXHRzdGFydFRpbWU6IERhdGUsXG5cdGVuZFRpbWU6IERhdGUsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCBkdXJhdGlvbiA9IE1hdGgucm91bmQoXG5cdFx0XHQoZW5kVGltZS5nZXRUaW1lKCkgLSBzdGFydFRpbWUuZ2V0VGltZSgpKSAvICgxMDAwICogNjApLFxuXHRcdCk7XG5cblx0XHQvLyBGb3JtYXQgYXMgbG9jYWwgZGF0ZXRpbWUgc3RyaW5nIFdJVEhPVVQgdGltZXpvbmUgY29udmVyc2lvblxuXHRcdGNvbnN0IGZvcm1hdExvY2FsRGF0ZVRpbWUgPSAoZGF0ZTogRGF0ZSkgPT4ge1xuXHRcdFx0Y29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcblx0XHRcdGNvbnN0IG1vbnRoID0gU3RyaW5nKGRhdGUuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGNvbnN0IGRheSA9IFN0cmluZyhkYXRlLmdldERhdGUoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgaG91ciA9IFN0cmluZyhkYXRlLmdldEhvdXJzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGNvbnN0IG1pbnV0ZSA9IFN0cmluZyhkYXRlLmdldE1pbnV0ZXMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3Qgc2Vjb25kID0gU3RyaW5nKGRhdGUuZ2V0U2Vjb25kcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRyZXR1cm4gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9ICR7aG91cn06JHttaW51dGV9OiR7c2Vjb25kfWA7XG5cdFx0fTtcblxuXHRcdGNvbnN0IHN0YXJ0U3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShzdGFydFRpbWUpO1xuXHRcdGNvbnN0IGVuZFN0ciA9IGZvcm1hdExvY2FsRGF0ZVRpbWUoZW5kVGltZSk7XG5cblx0XHQvLyBTaW5nbGUgYXRvbWljIHVwZGF0ZSBmb3IgYm90aCBhc3NpZ25tZW50IGFuZCB0aW1lc1xuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdGFzc2lnbmVkX3RvOiB0ZWNobmljaWFuSWQsXG5cdFx0XHRcdHN0YXJ0X3RpbWU6IHN0YXJ0U3RyLFxuXHRcdFx0XHRlbmRfdGltZTogZW5kU3RyLFxuXHRcdFx0XHRkdXJhdGlvbixcblx0XHRcdFx0dXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiRmFpbGVkIHRvIG1vdmUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogQXNzaWduIGFuIHVuYXNzaWduZWQgam9iIHRvIGEgdGVjaG5pY2lhbiB3aXRoIGEgc3BlY2lmaWMgdGltZSBzbG90XG4gKiBVc2VkIHdoZW4gZHJhZ2dpbmcgZnJvbSB1bmFzc2lnbmVkIHBhbmVsIHRvIGEgdGVjaG5pY2lhbiBsYW5lXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhc3NpZ25OZXdBcHBvaW50bWVudChcblx0c2NoZWR1bGVJZDogc3RyaW5nLFxuXHR0ZWNobmljaWFuSWQ6IHN0cmluZyxcblx0c3RhcnRUaW1lOiBEYXRlLFxuXHRlbmRUaW1lOiBEYXRlLFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgZHVyYXRpb24gPSBNYXRoLnJvdW5kKFxuXHRcdFx0KGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSxcblx0XHQpO1xuXG5cdFx0Y29uc3QgZm9ybWF0TG9jYWxEYXRlVGltZSA9IChkYXRlOiBEYXRlKSA9PiB7XG5cdFx0XHRjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0Y29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBob3VyID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgbWludXRlID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBzZWNvbmQgPSBTdHJpbmcoZGF0ZS5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX0gJHtob3VyfToke21pbnV0ZX06JHtzZWNvbmR9YDtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3RhcnRTdHIgPSBmb3JtYXRMb2NhbERhdGVUaW1lKHN0YXJ0VGltZSk7XG5cdFx0Y29uc3QgZW5kU3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShlbmRUaW1lKTtcblxuXHRcdC8vIFNpbmdsZSBhdG9taWMgdXBkYXRlIGZvciBhc3NpZ25tZW50XG5cdFx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHtcblx0XHRcdFx0YXNzaWduZWRfdG86IHRlY2huaWNpYW5JZCxcblx0XHRcdFx0c3RhcnRfdGltZTogc3RhcnRTdHIsXG5cdFx0XHRcdGVuZF90aW1lOiBlbmRTdHIsXG5cdFx0XHRcdGR1cmF0aW9uLFxuXHRcdFx0XHRzdGF0dXM6IFwic2NoZWR1bGVkXCIsXG5cdFx0XHRcdHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKVxuXHRcdFx0LnNlbGVjdCgpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGEgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gYXNzaWduIGFwcG9pbnRtZW50XCIsXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdW5hc3NpZ25BcHBvaW50bWVudChzY2hlZHVsZUlkOiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRhc3NpZ25lZF90bzogbnVsbCxcblx0XHRcdFx0dXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIG1vdmUgYXBwb2ludG1lbnQgdG8gVW5zY2hlZHVsZWRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogU2VuZCBcIk9uIE15IFdheVwiIFNNUyBub3RpZmljYXRpb24gdG8gY3VzdG9tZXJcbiAqIEluY2x1ZGVzIHRlY2huaWNpYW4gbmFtZSBhbmQgZXN0aW1hdGVkIGFycml2YWwgdGltZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZE9uTXlXYXlOb3RpZmljYXRpb24oXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0dGVjaG5pY2lhbk5hbWU6IHN0cmluZyxcblx0Y3VzdG9tZXJQaG9uZTogc3RyaW5nLFxuXHRkZXN0aW5hdGlvbkFkZHJlc3M/OiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHQvLyBHZXQgdXNlciBhbmQgY29tcGFueSBpbmZvXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBjb21wYW55J3MgVGVsbnl4IHNldHRpbmdzIGZvciB0aGUgZnJvbSBudW1iZXJcblx0XHRjb25zdCB7IGRhdGE6IG1lbWJlcnNoaXAgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfbWVtYmVyc2hpcHNcIilcblx0XHRcdC5zZWxlY3QoXCJjb21wYW55X2lkXCIpXG5cdFx0XHQuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpXG5cdFx0XHQuZXEoXCJzdGF0dXNcIiwgXCJhY3RpdmVcIilcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghbWVtYmVyc2hpcD8uY29tcGFueV9pZCkge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIGFjdGl2ZSBjb21wYW55IG1lbWJlcnNoaXBcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IHsgZGF0YTogdGVsbnl4U2V0dGluZ3MgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfdGVsbnl4X3NldHRpbmdzXCIpXG5cdFx0XHQuc2VsZWN0KFwicGhvbmVfbnVtYmVyLCBzdGF0dXNcIilcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgbWVtYmVyc2hpcC5jb21wYW55X2lkKVxuXHRcdFx0LmVxKFwic3RhdHVzXCIsIFwicmVhZHlcIilcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghdGVsbnl4U2V0dGluZ3M/LnBob25lX251bWJlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIHBob25lIG51bWJlciBjb25maWd1cmVkIGZvciBTTVNcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBjb21wYW55IG5hbWUgZm9yIHRoZSBtZXNzYWdlXG5cdFx0Y29uc3QgeyBkYXRhOiBjb21wYW55IH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjb21wYW5pZXNcIilcblx0XHRcdC5zZWxlY3QoXCJuYW1lXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBtZW1iZXJzaGlwLmNvbXBhbnlfaWQpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHQvLyBCdWlsZCB0aGUgXCJPbiBNeSBXYXlcIiBtZXNzYWdlXG5cdFx0bGV0IG1lc3NhZ2UgPSBgSGkhICR7dGVjaG5pY2lhbk5hbWV9IGZyb20gJHtjb21wYW55Py5uYW1lIHx8IFwieW91ciBzZXJ2aWNlIHByb3ZpZGVyXCJ9IGlzIG9uIHRoZSB3YXkgdG8geW91ciBhcHBvaW50bWVudC5gO1xuXG5cdFx0Ly8gVHJ5IHRvIGdldCB0cmF2ZWwgdGltZSBlc3RpbWF0ZSBpZiB3ZSBoYXZlIGEgZGVzdGluYXRpb25cblx0XHRpZiAoZGVzdGluYXRpb25BZGRyZXNzKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCBiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBQX1VSTCB8fCBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMFwiO1xuXHRcdFx0XHRjb25zdCB0cmF2ZWxSZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0XHRcdGAke2Jhc2VVcmx9L2FwaS90cmF2ZWwtdGltZT9kZXN0aW5hdGlvbj0ke2VuY29kZVVSSUNvbXBvbmVudChkZXN0aW5hdGlvbkFkZHJlc3MpfWAsXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0aGVhZGVyczoge1xuXHRcdFx0XHRcdFx0XHRDb29raWU6IGBzYi1hY2Nlc3MtdG9rZW49JHt1c2VyLmlkfWAsIC8vIFBhc3MgYXV0aCBjb250ZXh0XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0aWYgKHRyYXZlbFJlc3BvbnNlLm9rKSB7XG5cdFx0XHRcdFx0Y29uc3QgdHJhdmVsRGF0YSA9IGF3YWl0IHRyYXZlbFJlc3BvbnNlLmpzb24oKTtcblx0XHRcdFx0XHRpZiAodHJhdmVsRGF0YS5kdXJhdGlvblRleHQpIHtcblx0XHRcdFx0XHRcdG1lc3NhZ2UgKz0gYCBFc3RpbWF0ZWQgYXJyaXZhbDogJHt0cmF2ZWxEYXRhLmR1cmF0aW9uVGV4dH0uYDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHQvLyBUcmF2ZWwgdGltZSBmZXRjaCBmYWlsZWQgLSBjb250aW51ZSB3aXRob3V0IGl0XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0bWVzc2FnZSArPSBcIiBXZSdsbCBzZWUgeW91IHNvb24hXCI7XG5cblx0XHQvLyBTZW5kIHRoZSBTTVMgdmlhIFRlbG55eFxuXHRcdGNvbnN0IHsgc2VuZFNNUyB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvdGVsbnl4L21lc3NhZ2luZ1wiKTtcblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kU01TKHtcblx0XHRcdHRvOiBjdXN0b21lclBob25lLFxuXHRcdFx0ZnJvbTogdGVsbnl4U2V0dGluZ3MucGhvbmVfbnVtYmVyLFxuXHRcdFx0dGV4dDogbWVzc2FnZSxcblx0XHR9KTtcblxuXHRcdGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gc2VuZCBTTVNcIiB9O1xuXHRcdH1cblxuXHRcdC8vIFVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMgdG8gZGlzcGF0Y2hlZFxuXHRcdGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJkaXNwYXRjaGVkXCIsXG5cdFx0XHRcdGRpc3BhdGNoZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0bWVzc2FnZTogXCJPbiBNeSBXYXkgbm90aWZpY2F0aW9uIHNlbnQgc3VjY2Vzc2Z1bGx5XCIsXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gc2VuZCBPbiBNeSBXYXkgbm90aWZpY2F0aW9uXCIsXG5cdFx0fTtcblx0fVxufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJ5VEEyVnNCIn0=
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:ddf154 [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"4015a7cdb65e79d03132ce791ef81d9a76c1c91602":"unassignAppointment"},"apps/web/src/actions/schedule-assignments.ts",""] */ __turbopack_context__.s([
    "unassignAppointment",
    ()=>unassignAppointment
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var unassignAppointment = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("4015a7cdb65e79d03132ce791ef81d9a76c1c91602", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "unassignAppointment"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vc2NoZWR1bGUtYXNzaWdubWVudHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc2VydmVyXCI7XG5cbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gXCJAL2xpYi9zdXBhYmFzZS9zZXJ2ZXJcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFzc2lnbkpvYlRvVGVjaG5pY2lhbihcblx0X2pvYklkOiBzdHJpbmcsXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0dGVjaG5pY2lhbklkOiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHQvLyBGaXJzdCBjaGVjayBpZiB0aGUgc2NoZWR1bGUgZXhpc3RzIGFuZCBnZXQgY3VycmVudCBhc3NpZ25tZW50XG5cdFx0Y29uc3QgeyBkYXRhOiBleGlzdGluZ1NjaGVkdWxlLCBlcnJvcjogY2hlY2tFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQuc2VsZWN0KFwiaWQsIGFzc2lnbmVkX3RvXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0aWYgKGNoZWNrRXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgU2NoZWR1bGUgY2hlY2sgZmFpbGVkOiAke2NoZWNrRXJyb3IubWVzc2FnZX1gKTtcblx0XHR9XG5cblx0XHRpZiAoIWV4aXN0aW5nU2NoZWR1bGUpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIlNjaGVkdWxlIG5vdCBmb3VuZFwiKTtcblx0XHR9XG5cblx0XHQvLyBVcGRhdGUgdGhlIHNjaGVkdWxlJ3MgYXNzaWduZWRfdG8gZmllbGRcblx0XHRjb25zdCB7IGRhdGE6IHVwZGF0ZWRTY2hlZHVsZSwgZXJyb3I6IHNjaGVkdWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7IGFzc2lnbmVkX3RvOiB0ZWNobmljaWFuSWQgfSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChzY2hlZHVsZUVycm9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYFNjaGVkdWxlIHVwZGF0ZSBmYWlsZWQ6ICR7c2NoZWR1bGVFcnJvci5tZXNzYWdlfWApO1xuXHRcdH1cblxuXHRcdC8vIERvbid0IHJldmFsaWRhdGUgaW1tZWRpYXRlbHkgLSBsZXQgdGhlIG9wdGltaXN0aWMgdXBkYXRlIHNob3dcblx0XHQvLyByZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvc2NoZWR1bGVcIik7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogdXBkYXRlZFNjaGVkdWxlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gYXNzaWduIGpvYlwiLFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUFwcG9pbnRtZW50VGltZXMoXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0c3RhcnRUaW1lOiBEYXRlLFxuXHRlbmRUaW1lOiBEYXRlLFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgZHVyYXRpb24gPSBNYXRoLnJvdW5kKFxuXHRcdFx0KGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSxcblx0XHQpO1xuXG5cdFx0Ly8gRm9ybWF0IGFzIGxvY2FsIGRhdGV0aW1lIHN0cmluZyBXSVRIT1VUIHRpbWV6b25lIGNvbnZlcnNpb25cblx0XHQvLyBHZXQgeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWludXRlIGZyb20gdGhlIERhdGUgb2JqZWN0IGRpcmVjdGx5XG5cdFx0Y29uc3QgZm9ybWF0TG9jYWxEYXRlVGltZSA9IChkYXRlOiBEYXRlKSA9PiB7XG5cdFx0XHRjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0Y29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBob3VyID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgbWludXRlID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBzZWNvbmQgPSBTdHJpbmcoZGF0ZS5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX0gJHtob3VyfToke21pbnV0ZX06JHtzZWNvbmR9YDtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3RhcnRTdHIgPSBmb3JtYXRMb2NhbERhdGVUaW1lKHN0YXJ0VGltZSk7XG5cdFx0Y29uc3QgZW5kU3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShlbmRUaW1lKTtcblxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXJ0X3RpbWU6IHN0YXJ0U3RyLFxuXHRcdFx0XHRlbmRfdGltZTogZW5kU3RyLFxuXHRcdFx0XHRkdXJhdGlvbixcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gRG9uJ3QgcmV2YWxpZGF0ZSBpbW1lZGlhdGVseSAtIGxldCB0aGUgb3B0aW1pc3RpYyB1cGRhdGUgc2hvd1xuXHRcdC8vIHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9zY2hlZHVsZVwiKTtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gdXBkYXRlIHRpbWVzXCIsXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2FuY2VsQXBwb2ludG1lbnQoc2NoZWR1bGVJZDogc3RyaW5nLCByZWFzb24/OiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gQ2FuY2VsIGFwcG9pbnRtZW50IC0gdW5zY2hlZHVsZSBpdCAocmVtb3ZlIGFzc2lnbmVkX3RvKVxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIixcblx0XHRcdFx0YXNzaWduZWRfdG86IG51bGwsIC8vIFVuYXNzaWduIHRlY2huaWNpYW5cblx0XHRcdFx0Y2FuY2VsbGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG5cdFx0XHRcdGNhbmNlbGxlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0Y2FuY2VsbGF0aW9uX3JlYXNvbjogcmVhc29uIHx8IG51bGwsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgc2NoZWR1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byBjYW5jZWwgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjYW5jZWxKb2JBbmRBcHBvaW50bWVudChcblx0c2NoZWR1bGVJZDogc3RyaW5nLFxuXHRqb2JJZDogc3RyaW5nLFxuXHRyZWFzb24/OiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG5cdFx0Ly8gQ2FuY2VsIHRoZSBhcHBvaW50bWVudFxuXHRcdGNvbnN0IHsgZXJyb3I6IHNjaGVkdWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIixcblx0XHRcdFx0YXNzaWduZWRfdG86IG51bGwsXG5cdFx0XHRcdGNhbmNlbGxlZF9hdDogbm93LFxuXHRcdFx0XHRjYW5jZWxsZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHRcdGNhbmNlbGxhdGlvbl9yZWFzb246IHJlYXNvbiB8fCBudWxsLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKHNjaGVkdWxlRXJyb3IpIHtcblx0XHRcdHRocm93IHNjaGVkdWxlRXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gQWxzbyBjYW5jZWwgdGhlIGpvYiBpZiBpdCBleGlzdHNcblx0XHRpZiAoam9iSWQpIHtcblx0XHRcdGNvbnN0IHsgZXJyb3I6IGpvYkVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0XHQuZnJvbShcImpvYnNcIilcblx0XHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdFx0c3RhdHVzOiBcImNhbmNlbGxlZFwiLFxuXHRcdFx0XHRcdGNhbmNlbGxlZF9hdDogbm93LFxuXHRcdFx0XHRcdGNhbmNlbGxlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0XHRjYW5jZWxsYXRpb25fcmVhc29uOiByZWFzb24gfHwgbnVsbCxcblx0XHRcdFx0fSlcblx0XHRcdFx0LmVxKFwiaWRcIiwgam9iSWQpO1xuXG5cdFx0XHRpZiAoam9iRXJyb3IpIHtcblx0XHRcdFx0dGhyb3cgam9iRXJyb3I7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byBjYW5jZWwgam9iIGFuZCBhcHBvaW50bWVudFwiLFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFyY2hpdmVBcHBvaW50bWVudChzY2hlZHVsZUlkOiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRhcmNoaXZlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIGFyY2hpdmUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb21wbGV0ZUFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG5cdGlmICghc3VwYWJhc2UpIHtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRGF0YWJhc2Ugbm90IGF2YWlsYWJsZVwiIH07XG5cdH1cblxuXHR0cnkge1xuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblxuXHRcdGlmICghdXNlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vdCBhdXRoZW50aWNhdGVkXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRzdGF0dXM6IFwiY29tcGxldGVkXCIsXG5cdFx0XHRcdGFjdHVhbF9lbmRfdGltZTogbm93LFxuXHRcdFx0XHRjb21wbGV0ZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgc2NoZWR1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gY29tcGxldGUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbnR5cGUgRGlzcGF0Y2hTdGF0dXMgPSBcImRpc3BhdGNoZWRcIiB8IFwiYXJyaXZlZFwiIHwgXCJjbG9zZWRcIjtcblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlU2NoZWR1bGVTdGF0dXMoXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0c3RhdHVzOiBEaXNwYXRjaFN0YXR1cyxcblx0ZXh0cmFVcGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9LFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblx0XHRjb25zdCB1cGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHtcblx0XHRcdHN0YXR1cyxcblx0XHRcdHVwZGF0ZWRfYXQ6IG5vdyxcblx0XHRcdC4uLmV4dHJhVXBkYXRlcyxcblx0XHR9O1xuXG5cdFx0aWYgKHN0YXR1cyA9PT0gXCJjbG9zZWRcIikge1xuXHRcdFx0dXBkYXRlcy5jb21wbGV0ZWRfYnkgPSB1c2VyLmlkO1xuXHRcdFx0dXBkYXRlcy5hY3R1YWxfZW5kX3RpbWUgPSB1cGRhdGVzLmFjdHVhbF9lbmRfdGltZSA/PyBub3c7XG5cdFx0fVxuXG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHVwZGF0ZXMpXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBgRmFpbGVkIHRvIHVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMgdG8gJHtzdGF0dXN9YCxcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkaXNwYXRjaEFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRyZXR1cm4gdXBkYXRlU2NoZWR1bGVTdGF0dXMoc2NoZWR1bGVJZCwgXCJkaXNwYXRjaGVkXCIpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXJyaXZlQXBwb2ludG1lbnQoc2NoZWR1bGVJZDogc3RyaW5nKSB7XG5cdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblx0cmV0dXJuIHVwZGF0ZVNjaGVkdWxlU3RhdHVzKHNjaGVkdWxlSWQsIFwiYXJyaXZlZFwiLCB7XG5cdFx0YWN0dWFsX3N0YXJ0X3RpbWU6IG5vdyxcblx0fSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbG9zZUFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cdHJldHVybiB1cGRhdGVTY2hlZHVsZVN0YXR1cyhzY2hlZHVsZUlkLCBcImNsb3NlZFwiLCB7XG5cdFx0YWN0dWFsX2VuZF90aW1lOiBub3csXG5cdH0pO1xufVxuXG4vKipcbiAqIE1vdmUgYW4gZXhpc3RpbmcgYXBwb2ludG1lbnQgdG8gYSBuZXcgdGVjaG5pY2lhbiBhbmQvb3IgdGltZSBzbG90XG4gKiBCYXRjaGVzIGJvdGggb3BlcmF0aW9ucyBpbiBhIHNpbmdsZSBkYXRhYmFzZSBjYWxsIGZvciBwZXJmb3JtYW5jZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbW92ZUFwcG9pbnRtZW50KFxuXHRzY2hlZHVsZUlkOiBzdHJpbmcsXG5cdHRlY2huaWNpYW5JZDogc3RyaW5nLFxuXHRzdGFydFRpbWU6IERhdGUsXG5cdGVuZFRpbWU6IERhdGUsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCBkdXJhdGlvbiA9IE1hdGgucm91bmQoXG5cdFx0XHQoZW5kVGltZS5nZXRUaW1lKCkgLSBzdGFydFRpbWUuZ2V0VGltZSgpKSAvICgxMDAwICogNjApLFxuXHRcdCk7XG5cblx0XHQvLyBGb3JtYXQgYXMgbG9jYWwgZGF0ZXRpbWUgc3RyaW5nIFdJVEhPVVQgdGltZXpvbmUgY29udmVyc2lvblxuXHRcdGNvbnN0IGZvcm1hdExvY2FsRGF0ZVRpbWUgPSAoZGF0ZTogRGF0ZSkgPT4ge1xuXHRcdFx0Y29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcblx0XHRcdGNvbnN0IG1vbnRoID0gU3RyaW5nKGRhdGUuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGNvbnN0IGRheSA9IFN0cmluZyhkYXRlLmdldERhdGUoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgaG91ciA9IFN0cmluZyhkYXRlLmdldEhvdXJzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGNvbnN0IG1pbnV0ZSA9IFN0cmluZyhkYXRlLmdldE1pbnV0ZXMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3Qgc2Vjb25kID0gU3RyaW5nKGRhdGUuZ2V0U2Vjb25kcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRyZXR1cm4gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9ICR7aG91cn06JHttaW51dGV9OiR7c2Vjb25kfWA7XG5cdFx0fTtcblxuXHRcdGNvbnN0IHN0YXJ0U3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShzdGFydFRpbWUpO1xuXHRcdGNvbnN0IGVuZFN0ciA9IGZvcm1hdExvY2FsRGF0ZVRpbWUoZW5kVGltZSk7XG5cblx0XHQvLyBTaW5nbGUgYXRvbWljIHVwZGF0ZSBmb3IgYm90aCBhc3NpZ25tZW50IGFuZCB0aW1lc1xuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdGFzc2lnbmVkX3RvOiB0ZWNobmljaWFuSWQsXG5cdFx0XHRcdHN0YXJ0X3RpbWU6IHN0YXJ0U3RyLFxuXHRcdFx0XHRlbmRfdGltZTogZW5kU3RyLFxuXHRcdFx0XHRkdXJhdGlvbixcblx0XHRcdFx0dXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiRmFpbGVkIHRvIG1vdmUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogQXNzaWduIGFuIHVuYXNzaWduZWQgam9iIHRvIGEgdGVjaG5pY2lhbiB3aXRoIGEgc3BlY2lmaWMgdGltZSBzbG90XG4gKiBVc2VkIHdoZW4gZHJhZ2dpbmcgZnJvbSB1bmFzc2lnbmVkIHBhbmVsIHRvIGEgdGVjaG5pY2lhbiBsYW5lXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhc3NpZ25OZXdBcHBvaW50bWVudChcblx0c2NoZWR1bGVJZDogc3RyaW5nLFxuXHR0ZWNobmljaWFuSWQ6IHN0cmluZyxcblx0c3RhcnRUaW1lOiBEYXRlLFxuXHRlbmRUaW1lOiBEYXRlLFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgZHVyYXRpb24gPSBNYXRoLnJvdW5kKFxuXHRcdFx0KGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSxcblx0XHQpO1xuXG5cdFx0Y29uc3QgZm9ybWF0TG9jYWxEYXRlVGltZSA9IChkYXRlOiBEYXRlKSA9PiB7XG5cdFx0XHRjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0Y29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBob3VyID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgbWludXRlID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBzZWNvbmQgPSBTdHJpbmcoZGF0ZS5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX0gJHtob3VyfToke21pbnV0ZX06JHtzZWNvbmR9YDtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3RhcnRTdHIgPSBmb3JtYXRMb2NhbERhdGVUaW1lKHN0YXJ0VGltZSk7XG5cdFx0Y29uc3QgZW5kU3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShlbmRUaW1lKTtcblxuXHRcdC8vIFNpbmdsZSBhdG9taWMgdXBkYXRlIGZvciBhc3NpZ25tZW50XG5cdFx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHtcblx0XHRcdFx0YXNzaWduZWRfdG86IHRlY2huaWNpYW5JZCxcblx0XHRcdFx0c3RhcnRfdGltZTogc3RhcnRTdHIsXG5cdFx0XHRcdGVuZF90aW1lOiBlbmRTdHIsXG5cdFx0XHRcdGR1cmF0aW9uLFxuXHRcdFx0XHRzdGF0dXM6IFwic2NoZWR1bGVkXCIsXG5cdFx0XHRcdHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKVxuXHRcdFx0LnNlbGVjdCgpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGEgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gYXNzaWduIGFwcG9pbnRtZW50XCIsXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdW5hc3NpZ25BcHBvaW50bWVudChzY2hlZHVsZUlkOiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRhc3NpZ25lZF90bzogbnVsbCxcblx0XHRcdFx0dXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIG1vdmUgYXBwb2ludG1lbnQgdG8gVW5zY2hlZHVsZWRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogU2VuZCBcIk9uIE15IFdheVwiIFNNUyBub3RpZmljYXRpb24gdG8gY3VzdG9tZXJcbiAqIEluY2x1ZGVzIHRlY2huaWNpYW4gbmFtZSBhbmQgZXN0aW1hdGVkIGFycml2YWwgdGltZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZE9uTXlXYXlOb3RpZmljYXRpb24oXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0dGVjaG5pY2lhbk5hbWU6IHN0cmluZyxcblx0Y3VzdG9tZXJQaG9uZTogc3RyaW5nLFxuXHRkZXN0aW5hdGlvbkFkZHJlc3M/OiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHQvLyBHZXQgdXNlciBhbmQgY29tcGFueSBpbmZvXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBjb21wYW55J3MgVGVsbnl4IHNldHRpbmdzIGZvciB0aGUgZnJvbSBudW1iZXJcblx0XHRjb25zdCB7IGRhdGE6IG1lbWJlcnNoaXAgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfbWVtYmVyc2hpcHNcIilcblx0XHRcdC5zZWxlY3QoXCJjb21wYW55X2lkXCIpXG5cdFx0XHQuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpXG5cdFx0XHQuZXEoXCJzdGF0dXNcIiwgXCJhY3RpdmVcIilcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghbWVtYmVyc2hpcD8uY29tcGFueV9pZCkge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIGFjdGl2ZSBjb21wYW55IG1lbWJlcnNoaXBcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IHsgZGF0YTogdGVsbnl4U2V0dGluZ3MgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfdGVsbnl4X3NldHRpbmdzXCIpXG5cdFx0XHQuc2VsZWN0KFwicGhvbmVfbnVtYmVyLCBzdGF0dXNcIilcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgbWVtYmVyc2hpcC5jb21wYW55X2lkKVxuXHRcdFx0LmVxKFwic3RhdHVzXCIsIFwicmVhZHlcIilcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghdGVsbnl4U2V0dGluZ3M/LnBob25lX251bWJlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIHBob25lIG51bWJlciBjb25maWd1cmVkIGZvciBTTVNcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBjb21wYW55IG5hbWUgZm9yIHRoZSBtZXNzYWdlXG5cdFx0Y29uc3QgeyBkYXRhOiBjb21wYW55IH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjb21wYW5pZXNcIilcblx0XHRcdC5zZWxlY3QoXCJuYW1lXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBtZW1iZXJzaGlwLmNvbXBhbnlfaWQpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHQvLyBCdWlsZCB0aGUgXCJPbiBNeSBXYXlcIiBtZXNzYWdlXG5cdFx0bGV0IG1lc3NhZ2UgPSBgSGkhICR7dGVjaG5pY2lhbk5hbWV9IGZyb20gJHtjb21wYW55Py5uYW1lIHx8IFwieW91ciBzZXJ2aWNlIHByb3ZpZGVyXCJ9IGlzIG9uIHRoZSB3YXkgdG8geW91ciBhcHBvaW50bWVudC5gO1xuXG5cdFx0Ly8gVHJ5IHRvIGdldCB0cmF2ZWwgdGltZSBlc3RpbWF0ZSBpZiB3ZSBoYXZlIGEgZGVzdGluYXRpb25cblx0XHRpZiAoZGVzdGluYXRpb25BZGRyZXNzKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCBiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBQX1VSTCB8fCBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMFwiO1xuXHRcdFx0XHRjb25zdCB0cmF2ZWxSZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0XHRcdGAke2Jhc2VVcmx9L2FwaS90cmF2ZWwtdGltZT9kZXN0aW5hdGlvbj0ke2VuY29kZVVSSUNvbXBvbmVudChkZXN0aW5hdGlvbkFkZHJlc3MpfWAsXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0aGVhZGVyczoge1xuXHRcdFx0XHRcdFx0XHRDb29raWU6IGBzYi1hY2Nlc3MtdG9rZW49JHt1c2VyLmlkfWAsIC8vIFBhc3MgYXV0aCBjb250ZXh0XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0aWYgKHRyYXZlbFJlc3BvbnNlLm9rKSB7XG5cdFx0XHRcdFx0Y29uc3QgdHJhdmVsRGF0YSA9IGF3YWl0IHRyYXZlbFJlc3BvbnNlLmpzb24oKTtcblx0XHRcdFx0XHRpZiAodHJhdmVsRGF0YS5kdXJhdGlvblRleHQpIHtcblx0XHRcdFx0XHRcdG1lc3NhZ2UgKz0gYCBFc3RpbWF0ZWQgYXJyaXZhbDogJHt0cmF2ZWxEYXRhLmR1cmF0aW9uVGV4dH0uYDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHQvLyBUcmF2ZWwgdGltZSBmZXRjaCBmYWlsZWQgLSBjb250aW51ZSB3aXRob3V0IGl0XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0bWVzc2FnZSArPSBcIiBXZSdsbCBzZWUgeW91IHNvb24hXCI7XG5cblx0XHQvLyBTZW5kIHRoZSBTTVMgdmlhIFRlbG55eFxuXHRcdGNvbnN0IHsgc2VuZFNNUyB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvdGVsbnl4L21lc3NhZ2luZ1wiKTtcblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kU01TKHtcblx0XHRcdHRvOiBjdXN0b21lclBob25lLFxuXHRcdFx0ZnJvbTogdGVsbnl4U2V0dGluZ3MucGhvbmVfbnVtYmVyLFxuXHRcdFx0dGV4dDogbWVzc2FnZSxcblx0XHR9KTtcblxuXHRcdGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gc2VuZCBTTVNcIiB9O1xuXHRcdH1cblxuXHRcdC8vIFVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMgdG8gZGlzcGF0Y2hlZFxuXHRcdGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJkaXNwYXRjaGVkXCIsXG5cdFx0XHRcdGRpc3BhdGNoZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0bWVzc2FnZTogXCJPbiBNeSBXYXkgbm90aWZpY2F0aW9uIHNlbnQgc3VjY2Vzc2Z1bGx5XCIsXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gc2VuZCBPbiBNeSBXYXkgbm90aWZpY2F0aW9uXCIsXG5cdFx0fTtcblx0fVxufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJ5VEE2ZXNCIn0=
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:6872f5 [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"7014469e6a94a0758bd8324b7dc3c658982bdefbf3":"updateAppointmentTimes"},"apps/web/src/actions/schedule-assignments.ts",""] */ __turbopack_context__.s([
    "updateAppointmentTimes",
    ()=>updateAppointmentTimes
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var updateAppointmentTimes = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("7014469e6a94a0758bd8324b7dc3c658982bdefbf3", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "updateAppointmentTimes"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vc2NoZWR1bGUtYXNzaWdubWVudHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc2VydmVyXCI7XG5cbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gXCJAL2xpYi9zdXBhYmFzZS9zZXJ2ZXJcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFzc2lnbkpvYlRvVGVjaG5pY2lhbihcblx0X2pvYklkOiBzdHJpbmcsXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0dGVjaG5pY2lhbklkOiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHQvLyBGaXJzdCBjaGVjayBpZiB0aGUgc2NoZWR1bGUgZXhpc3RzIGFuZCBnZXQgY3VycmVudCBhc3NpZ25tZW50XG5cdFx0Y29uc3QgeyBkYXRhOiBleGlzdGluZ1NjaGVkdWxlLCBlcnJvcjogY2hlY2tFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQuc2VsZWN0KFwiaWQsIGFzc2lnbmVkX3RvXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0aWYgKGNoZWNrRXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgU2NoZWR1bGUgY2hlY2sgZmFpbGVkOiAke2NoZWNrRXJyb3IubWVzc2FnZX1gKTtcblx0XHR9XG5cblx0XHRpZiAoIWV4aXN0aW5nU2NoZWR1bGUpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIlNjaGVkdWxlIG5vdCBmb3VuZFwiKTtcblx0XHR9XG5cblx0XHQvLyBVcGRhdGUgdGhlIHNjaGVkdWxlJ3MgYXNzaWduZWRfdG8gZmllbGRcblx0XHRjb25zdCB7IGRhdGE6IHVwZGF0ZWRTY2hlZHVsZSwgZXJyb3I6IHNjaGVkdWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7IGFzc2lnbmVkX3RvOiB0ZWNobmljaWFuSWQgfSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChzY2hlZHVsZUVycm9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYFNjaGVkdWxlIHVwZGF0ZSBmYWlsZWQ6ICR7c2NoZWR1bGVFcnJvci5tZXNzYWdlfWApO1xuXHRcdH1cblxuXHRcdC8vIERvbid0IHJldmFsaWRhdGUgaW1tZWRpYXRlbHkgLSBsZXQgdGhlIG9wdGltaXN0aWMgdXBkYXRlIHNob3dcblx0XHQvLyByZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvc2NoZWR1bGVcIik7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogdXBkYXRlZFNjaGVkdWxlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gYXNzaWduIGpvYlwiLFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUFwcG9pbnRtZW50VGltZXMoXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0c3RhcnRUaW1lOiBEYXRlLFxuXHRlbmRUaW1lOiBEYXRlLFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgZHVyYXRpb24gPSBNYXRoLnJvdW5kKFxuXHRcdFx0KGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSxcblx0XHQpO1xuXG5cdFx0Ly8gRm9ybWF0IGFzIGxvY2FsIGRhdGV0aW1lIHN0cmluZyBXSVRIT1VUIHRpbWV6b25lIGNvbnZlcnNpb25cblx0XHQvLyBHZXQgeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWludXRlIGZyb20gdGhlIERhdGUgb2JqZWN0IGRpcmVjdGx5XG5cdFx0Y29uc3QgZm9ybWF0TG9jYWxEYXRlVGltZSA9IChkYXRlOiBEYXRlKSA9PiB7XG5cdFx0XHRjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0Y29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBob3VyID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgbWludXRlID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBzZWNvbmQgPSBTdHJpbmcoZGF0ZS5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX0gJHtob3VyfToke21pbnV0ZX06JHtzZWNvbmR9YDtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3RhcnRTdHIgPSBmb3JtYXRMb2NhbERhdGVUaW1lKHN0YXJ0VGltZSk7XG5cdFx0Y29uc3QgZW5kU3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShlbmRUaW1lKTtcblxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXJ0X3RpbWU6IHN0YXJ0U3RyLFxuXHRcdFx0XHRlbmRfdGltZTogZW5kU3RyLFxuXHRcdFx0XHRkdXJhdGlvbixcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gRG9uJ3QgcmV2YWxpZGF0ZSBpbW1lZGlhdGVseSAtIGxldCB0aGUgb3B0aW1pc3RpYyB1cGRhdGUgc2hvd1xuXHRcdC8vIHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9zY2hlZHVsZVwiKTtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gdXBkYXRlIHRpbWVzXCIsXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2FuY2VsQXBwb2ludG1lbnQoc2NoZWR1bGVJZDogc3RyaW5nLCByZWFzb24/OiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gQ2FuY2VsIGFwcG9pbnRtZW50IC0gdW5zY2hlZHVsZSBpdCAocmVtb3ZlIGFzc2lnbmVkX3RvKVxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIixcblx0XHRcdFx0YXNzaWduZWRfdG86IG51bGwsIC8vIFVuYXNzaWduIHRlY2huaWNpYW5cblx0XHRcdFx0Y2FuY2VsbGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG5cdFx0XHRcdGNhbmNlbGxlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0Y2FuY2VsbGF0aW9uX3JlYXNvbjogcmVhc29uIHx8IG51bGwsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgc2NoZWR1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byBjYW5jZWwgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjYW5jZWxKb2JBbmRBcHBvaW50bWVudChcblx0c2NoZWR1bGVJZDogc3RyaW5nLFxuXHRqb2JJZDogc3RyaW5nLFxuXHRyZWFzb24/OiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG5cdFx0Ly8gQ2FuY2VsIHRoZSBhcHBvaW50bWVudFxuXHRcdGNvbnN0IHsgZXJyb3I6IHNjaGVkdWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIixcblx0XHRcdFx0YXNzaWduZWRfdG86IG51bGwsXG5cdFx0XHRcdGNhbmNlbGxlZF9hdDogbm93LFxuXHRcdFx0XHRjYW5jZWxsZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHRcdGNhbmNlbGxhdGlvbl9yZWFzb246IHJlYXNvbiB8fCBudWxsLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKHNjaGVkdWxlRXJyb3IpIHtcblx0XHRcdHRocm93IHNjaGVkdWxlRXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gQWxzbyBjYW5jZWwgdGhlIGpvYiBpZiBpdCBleGlzdHNcblx0XHRpZiAoam9iSWQpIHtcblx0XHRcdGNvbnN0IHsgZXJyb3I6IGpvYkVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0XHQuZnJvbShcImpvYnNcIilcblx0XHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdFx0c3RhdHVzOiBcImNhbmNlbGxlZFwiLFxuXHRcdFx0XHRcdGNhbmNlbGxlZF9hdDogbm93LFxuXHRcdFx0XHRcdGNhbmNlbGxlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0XHRjYW5jZWxsYXRpb25fcmVhc29uOiByZWFzb24gfHwgbnVsbCxcblx0XHRcdFx0fSlcblx0XHRcdFx0LmVxKFwiaWRcIiwgam9iSWQpO1xuXG5cdFx0XHRpZiAoam9iRXJyb3IpIHtcblx0XHRcdFx0dGhyb3cgam9iRXJyb3I7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byBjYW5jZWwgam9iIGFuZCBhcHBvaW50bWVudFwiLFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFyY2hpdmVBcHBvaW50bWVudChzY2hlZHVsZUlkOiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRhcmNoaXZlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIGFyY2hpdmUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb21wbGV0ZUFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG5cdGlmICghc3VwYWJhc2UpIHtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRGF0YWJhc2Ugbm90IGF2YWlsYWJsZVwiIH07XG5cdH1cblxuXHR0cnkge1xuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblxuXHRcdGlmICghdXNlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vdCBhdXRoZW50aWNhdGVkXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRzdGF0dXM6IFwiY29tcGxldGVkXCIsXG5cdFx0XHRcdGFjdHVhbF9lbmRfdGltZTogbm93LFxuXHRcdFx0XHRjb21wbGV0ZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgc2NoZWR1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gY29tcGxldGUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbnR5cGUgRGlzcGF0Y2hTdGF0dXMgPSBcImRpc3BhdGNoZWRcIiB8IFwiYXJyaXZlZFwiIHwgXCJjbG9zZWRcIjtcblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlU2NoZWR1bGVTdGF0dXMoXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0c3RhdHVzOiBEaXNwYXRjaFN0YXR1cyxcblx0ZXh0cmFVcGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9LFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblx0XHRjb25zdCB1cGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHtcblx0XHRcdHN0YXR1cyxcblx0XHRcdHVwZGF0ZWRfYXQ6IG5vdyxcblx0XHRcdC4uLmV4dHJhVXBkYXRlcyxcblx0XHR9O1xuXG5cdFx0aWYgKHN0YXR1cyA9PT0gXCJjbG9zZWRcIikge1xuXHRcdFx0dXBkYXRlcy5jb21wbGV0ZWRfYnkgPSB1c2VyLmlkO1xuXHRcdFx0dXBkYXRlcy5hY3R1YWxfZW5kX3RpbWUgPSB1cGRhdGVzLmFjdHVhbF9lbmRfdGltZSA/PyBub3c7XG5cdFx0fVxuXG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHVwZGF0ZXMpXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBgRmFpbGVkIHRvIHVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMgdG8gJHtzdGF0dXN9YCxcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkaXNwYXRjaEFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRyZXR1cm4gdXBkYXRlU2NoZWR1bGVTdGF0dXMoc2NoZWR1bGVJZCwgXCJkaXNwYXRjaGVkXCIpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXJyaXZlQXBwb2ludG1lbnQoc2NoZWR1bGVJZDogc3RyaW5nKSB7XG5cdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblx0cmV0dXJuIHVwZGF0ZVNjaGVkdWxlU3RhdHVzKHNjaGVkdWxlSWQsIFwiYXJyaXZlZFwiLCB7XG5cdFx0YWN0dWFsX3N0YXJ0X3RpbWU6IG5vdyxcblx0fSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbG9zZUFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cdHJldHVybiB1cGRhdGVTY2hlZHVsZVN0YXR1cyhzY2hlZHVsZUlkLCBcImNsb3NlZFwiLCB7XG5cdFx0YWN0dWFsX2VuZF90aW1lOiBub3csXG5cdH0pO1xufVxuXG4vKipcbiAqIE1vdmUgYW4gZXhpc3RpbmcgYXBwb2ludG1lbnQgdG8gYSBuZXcgdGVjaG5pY2lhbiBhbmQvb3IgdGltZSBzbG90XG4gKiBCYXRjaGVzIGJvdGggb3BlcmF0aW9ucyBpbiBhIHNpbmdsZSBkYXRhYmFzZSBjYWxsIGZvciBwZXJmb3JtYW5jZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbW92ZUFwcG9pbnRtZW50KFxuXHRzY2hlZHVsZUlkOiBzdHJpbmcsXG5cdHRlY2huaWNpYW5JZDogc3RyaW5nLFxuXHRzdGFydFRpbWU6IERhdGUsXG5cdGVuZFRpbWU6IERhdGUsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCBkdXJhdGlvbiA9IE1hdGgucm91bmQoXG5cdFx0XHQoZW5kVGltZS5nZXRUaW1lKCkgLSBzdGFydFRpbWUuZ2V0VGltZSgpKSAvICgxMDAwICogNjApLFxuXHRcdCk7XG5cblx0XHQvLyBGb3JtYXQgYXMgbG9jYWwgZGF0ZXRpbWUgc3RyaW5nIFdJVEhPVVQgdGltZXpvbmUgY29udmVyc2lvblxuXHRcdGNvbnN0IGZvcm1hdExvY2FsRGF0ZVRpbWUgPSAoZGF0ZTogRGF0ZSkgPT4ge1xuXHRcdFx0Y29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcblx0XHRcdGNvbnN0IG1vbnRoID0gU3RyaW5nKGRhdGUuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGNvbnN0IGRheSA9IFN0cmluZyhkYXRlLmdldERhdGUoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgaG91ciA9IFN0cmluZyhkYXRlLmdldEhvdXJzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGNvbnN0IG1pbnV0ZSA9IFN0cmluZyhkYXRlLmdldE1pbnV0ZXMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3Qgc2Vjb25kID0gU3RyaW5nKGRhdGUuZ2V0U2Vjb25kcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRyZXR1cm4gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9ICR7aG91cn06JHttaW51dGV9OiR7c2Vjb25kfWA7XG5cdFx0fTtcblxuXHRcdGNvbnN0IHN0YXJ0U3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShzdGFydFRpbWUpO1xuXHRcdGNvbnN0IGVuZFN0ciA9IGZvcm1hdExvY2FsRGF0ZVRpbWUoZW5kVGltZSk7XG5cblx0XHQvLyBTaW5nbGUgYXRvbWljIHVwZGF0ZSBmb3IgYm90aCBhc3NpZ25tZW50IGFuZCB0aW1lc1xuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdGFzc2lnbmVkX3RvOiB0ZWNobmljaWFuSWQsXG5cdFx0XHRcdHN0YXJ0X3RpbWU6IHN0YXJ0U3RyLFxuXHRcdFx0XHRlbmRfdGltZTogZW5kU3RyLFxuXHRcdFx0XHRkdXJhdGlvbixcblx0XHRcdFx0dXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiRmFpbGVkIHRvIG1vdmUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogQXNzaWduIGFuIHVuYXNzaWduZWQgam9iIHRvIGEgdGVjaG5pY2lhbiB3aXRoIGEgc3BlY2lmaWMgdGltZSBzbG90XG4gKiBVc2VkIHdoZW4gZHJhZ2dpbmcgZnJvbSB1bmFzc2lnbmVkIHBhbmVsIHRvIGEgdGVjaG5pY2lhbiBsYW5lXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhc3NpZ25OZXdBcHBvaW50bWVudChcblx0c2NoZWR1bGVJZDogc3RyaW5nLFxuXHR0ZWNobmljaWFuSWQ6IHN0cmluZyxcblx0c3RhcnRUaW1lOiBEYXRlLFxuXHRlbmRUaW1lOiBEYXRlLFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgZHVyYXRpb24gPSBNYXRoLnJvdW5kKFxuXHRcdFx0KGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSxcblx0XHQpO1xuXG5cdFx0Y29uc3QgZm9ybWF0TG9jYWxEYXRlVGltZSA9IChkYXRlOiBEYXRlKSA9PiB7XG5cdFx0XHRjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0Y29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBob3VyID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgbWludXRlID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBzZWNvbmQgPSBTdHJpbmcoZGF0ZS5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX0gJHtob3VyfToke21pbnV0ZX06JHtzZWNvbmR9YDtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3RhcnRTdHIgPSBmb3JtYXRMb2NhbERhdGVUaW1lKHN0YXJ0VGltZSk7XG5cdFx0Y29uc3QgZW5kU3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShlbmRUaW1lKTtcblxuXHRcdC8vIFNpbmdsZSBhdG9taWMgdXBkYXRlIGZvciBhc3NpZ25tZW50XG5cdFx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHtcblx0XHRcdFx0YXNzaWduZWRfdG86IHRlY2huaWNpYW5JZCxcblx0XHRcdFx0c3RhcnRfdGltZTogc3RhcnRTdHIsXG5cdFx0XHRcdGVuZF90aW1lOiBlbmRTdHIsXG5cdFx0XHRcdGR1cmF0aW9uLFxuXHRcdFx0XHRzdGF0dXM6IFwic2NoZWR1bGVkXCIsXG5cdFx0XHRcdHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKVxuXHRcdFx0LnNlbGVjdCgpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGEgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gYXNzaWduIGFwcG9pbnRtZW50XCIsXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdW5hc3NpZ25BcHBvaW50bWVudChzY2hlZHVsZUlkOiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRhc3NpZ25lZF90bzogbnVsbCxcblx0XHRcdFx0dXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIG1vdmUgYXBwb2ludG1lbnQgdG8gVW5zY2hlZHVsZWRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogU2VuZCBcIk9uIE15IFdheVwiIFNNUyBub3RpZmljYXRpb24gdG8gY3VzdG9tZXJcbiAqIEluY2x1ZGVzIHRlY2huaWNpYW4gbmFtZSBhbmQgZXN0aW1hdGVkIGFycml2YWwgdGltZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZE9uTXlXYXlOb3RpZmljYXRpb24oXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0dGVjaG5pY2lhbk5hbWU6IHN0cmluZyxcblx0Y3VzdG9tZXJQaG9uZTogc3RyaW5nLFxuXHRkZXN0aW5hdGlvbkFkZHJlc3M/OiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHQvLyBHZXQgdXNlciBhbmQgY29tcGFueSBpbmZvXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBjb21wYW55J3MgVGVsbnl4IHNldHRpbmdzIGZvciB0aGUgZnJvbSBudW1iZXJcblx0XHRjb25zdCB7IGRhdGE6IG1lbWJlcnNoaXAgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfbWVtYmVyc2hpcHNcIilcblx0XHRcdC5zZWxlY3QoXCJjb21wYW55X2lkXCIpXG5cdFx0XHQuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpXG5cdFx0XHQuZXEoXCJzdGF0dXNcIiwgXCJhY3RpdmVcIilcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghbWVtYmVyc2hpcD8uY29tcGFueV9pZCkge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIGFjdGl2ZSBjb21wYW55IG1lbWJlcnNoaXBcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IHsgZGF0YTogdGVsbnl4U2V0dGluZ3MgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfdGVsbnl4X3NldHRpbmdzXCIpXG5cdFx0XHQuc2VsZWN0KFwicGhvbmVfbnVtYmVyLCBzdGF0dXNcIilcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgbWVtYmVyc2hpcC5jb21wYW55X2lkKVxuXHRcdFx0LmVxKFwic3RhdHVzXCIsIFwicmVhZHlcIilcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghdGVsbnl4U2V0dGluZ3M/LnBob25lX251bWJlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIHBob25lIG51bWJlciBjb25maWd1cmVkIGZvciBTTVNcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBjb21wYW55IG5hbWUgZm9yIHRoZSBtZXNzYWdlXG5cdFx0Y29uc3QgeyBkYXRhOiBjb21wYW55IH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjb21wYW5pZXNcIilcblx0XHRcdC5zZWxlY3QoXCJuYW1lXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBtZW1iZXJzaGlwLmNvbXBhbnlfaWQpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHQvLyBCdWlsZCB0aGUgXCJPbiBNeSBXYXlcIiBtZXNzYWdlXG5cdFx0bGV0IG1lc3NhZ2UgPSBgSGkhICR7dGVjaG5pY2lhbk5hbWV9IGZyb20gJHtjb21wYW55Py5uYW1lIHx8IFwieW91ciBzZXJ2aWNlIHByb3ZpZGVyXCJ9IGlzIG9uIHRoZSB3YXkgdG8geW91ciBhcHBvaW50bWVudC5gO1xuXG5cdFx0Ly8gVHJ5IHRvIGdldCB0cmF2ZWwgdGltZSBlc3RpbWF0ZSBpZiB3ZSBoYXZlIGEgZGVzdGluYXRpb25cblx0XHRpZiAoZGVzdGluYXRpb25BZGRyZXNzKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCBiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBQX1VSTCB8fCBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMFwiO1xuXHRcdFx0XHRjb25zdCB0cmF2ZWxSZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0XHRcdGAke2Jhc2VVcmx9L2FwaS90cmF2ZWwtdGltZT9kZXN0aW5hdGlvbj0ke2VuY29kZVVSSUNvbXBvbmVudChkZXN0aW5hdGlvbkFkZHJlc3MpfWAsXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0aGVhZGVyczoge1xuXHRcdFx0XHRcdFx0XHRDb29raWU6IGBzYi1hY2Nlc3MtdG9rZW49JHt1c2VyLmlkfWAsIC8vIFBhc3MgYXV0aCBjb250ZXh0XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0aWYgKHRyYXZlbFJlc3BvbnNlLm9rKSB7XG5cdFx0XHRcdFx0Y29uc3QgdHJhdmVsRGF0YSA9IGF3YWl0IHRyYXZlbFJlc3BvbnNlLmpzb24oKTtcblx0XHRcdFx0XHRpZiAodHJhdmVsRGF0YS5kdXJhdGlvblRleHQpIHtcblx0XHRcdFx0XHRcdG1lc3NhZ2UgKz0gYCBFc3RpbWF0ZWQgYXJyaXZhbDogJHt0cmF2ZWxEYXRhLmR1cmF0aW9uVGV4dH0uYDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHQvLyBUcmF2ZWwgdGltZSBmZXRjaCBmYWlsZWQgLSBjb250aW51ZSB3aXRob3V0IGl0XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0bWVzc2FnZSArPSBcIiBXZSdsbCBzZWUgeW91IHNvb24hXCI7XG5cblx0XHQvLyBTZW5kIHRoZSBTTVMgdmlhIFRlbG55eFxuXHRcdGNvbnN0IHsgc2VuZFNNUyB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvdGVsbnl4L21lc3NhZ2luZ1wiKTtcblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kU01TKHtcblx0XHRcdHRvOiBjdXN0b21lclBob25lLFxuXHRcdFx0ZnJvbTogdGVsbnl4U2V0dGluZ3MucGhvbmVfbnVtYmVyLFxuXHRcdFx0dGV4dDogbWVzc2FnZSxcblx0XHR9KTtcblxuXHRcdGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gc2VuZCBTTVNcIiB9O1xuXHRcdH1cblxuXHRcdC8vIFVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMgdG8gZGlzcGF0Y2hlZFxuXHRcdGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJkaXNwYXRjaGVkXCIsXG5cdFx0XHRcdGRpc3BhdGNoZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0bWVzc2FnZTogXCJPbiBNeSBXYXkgbm90aWZpY2F0aW9uIHNlbnQgc3VjY2Vzc2Z1bGx5XCIsXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gc2VuZCBPbiBNeSBXYXkgbm90aWZpY2F0aW9uXCIsXG5cdFx0fTtcblx0fVxufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI0VEFzRHNCIn0=
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:1cbe4f [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"40705afccdaf61ea93aab5e1df330e4942a03722e6":"archiveAppointment"},"apps/web/src/actions/schedule-assignments.ts",""] */ __turbopack_context__.s([
    "archiveAppointment",
    ()=>archiveAppointment
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var archiveAppointment = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("40705afccdaf61ea93aab5e1df330e4942a03722e6", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "archiveAppointment"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vc2NoZWR1bGUtYXNzaWdubWVudHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc2VydmVyXCI7XG5cbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gXCJAL2xpYi9zdXBhYmFzZS9zZXJ2ZXJcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFzc2lnbkpvYlRvVGVjaG5pY2lhbihcblx0X2pvYklkOiBzdHJpbmcsXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0dGVjaG5pY2lhbklkOiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHQvLyBGaXJzdCBjaGVjayBpZiB0aGUgc2NoZWR1bGUgZXhpc3RzIGFuZCBnZXQgY3VycmVudCBhc3NpZ25tZW50XG5cdFx0Y29uc3QgeyBkYXRhOiBleGlzdGluZ1NjaGVkdWxlLCBlcnJvcjogY2hlY2tFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQuc2VsZWN0KFwiaWQsIGFzc2lnbmVkX3RvXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0aWYgKGNoZWNrRXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgU2NoZWR1bGUgY2hlY2sgZmFpbGVkOiAke2NoZWNrRXJyb3IubWVzc2FnZX1gKTtcblx0XHR9XG5cblx0XHRpZiAoIWV4aXN0aW5nU2NoZWR1bGUpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIlNjaGVkdWxlIG5vdCBmb3VuZFwiKTtcblx0XHR9XG5cblx0XHQvLyBVcGRhdGUgdGhlIHNjaGVkdWxlJ3MgYXNzaWduZWRfdG8gZmllbGRcblx0XHRjb25zdCB7IGRhdGE6IHVwZGF0ZWRTY2hlZHVsZSwgZXJyb3I6IHNjaGVkdWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7IGFzc2lnbmVkX3RvOiB0ZWNobmljaWFuSWQgfSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChzY2hlZHVsZUVycm9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYFNjaGVkdWxlIHVwZGF0ZSBmYWlsZWQ6ICR7c2NoZWR1bGVFcnJvci5tZXNzYWdlfWApO1xuXHRcdH1cblxuXHRcdC8vIERvbid0IHJldmFsaWRhdGUgaW1tZWRpYXRlbHkgLSBsZXQgdGhlIG9wdGltaXN0aWMgdXBkYXRlIHNob3dcblx0XHQvLyByZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvc2NoZWR1bGVcIik7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogdXBkYXRlZFNjaGVkdWxlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gYXNzaWduIGpvYlwiLFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUFwcG9pbnRtZW50VGltZXMoXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0c3RhcnRUaW1lOiBEYXRlLFxuXHRlbmRUaW1lOiBEYXRlLFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgZHVyYXRpb24gPSBNYXRoLnJvdW5kKFxuXHRcdFx0KGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSxcblx0XHQpO1xuXG5cdFx0Ly8gRm9ybWF0IGFzIGxvY2FsIGRhdGV0aW1lIHN0cmluZyBXSVRIT1VUIHRpbWV6b25lIGNvbnZlcnNpb25cblx0XHQvLyBHZXQgeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWludXRlIGZyb20gdGhlIERhdGUgb2JqZWN0IGRpcmVjdGx5XG5cdFx0Y29uc3QgZm9ybWF0TG9jYWxEYXRlVGltZSA9IChkYXRlOiBEYXRlKSA9PiB7XG5cdFx0XHRjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0Y29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBob3VyID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgbWludXRlID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBzZWNvbmQgPSBTdHJpbmcoZGF0ZS5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX0gJHtob3VyfToke21pbnV0ZX06JHtzZWNvbmR9YDtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3RhcnRTdHIgPSBmb3JtYXRMb2NhbERhdGVUaW1lKHN0YXJ0VGltZSk7XG5cdFx0Y29uc3QgZW5kU3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShlbmRUaW1lKTtcblxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXJ0X3RpbWU6IHN0YXJ0U3RyLFxuXHRcdFx0XHRlbmRfdGltZTogZW5kU3RyLFxuXHRcdFx0XHRkdXJhdGlvbixcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gRG9uJ3QgcmV2YWxpZGF0ZSBpbW1lZGlhdGVseSAtIGxldCB0aGUgb3B0aW1pc3RpYyB1cGRhdGUgc2hvd1xuXHRcdC8vIHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9zY2hlZHVsZVwiKTtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gdXBkYXRlIHRpbWVzXCIsXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2FuY2VsQXBwb2ludG1lbnQoc2NoZWR1bGVJZDogc3RyaW5nLCByZWFzb24/OiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gQ2FuY2VsIGFwcG9pbnRtZW50IC0gdW5zY2hlZHVsZSBpdCAocmVtb3ZlIGFzc2lnbmVkX3RvKVxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIixcblx0XHRcdFx0YXNzaWduZWRfdG86IG51bGwsIC8vIFVuYXNzaWduIHRlY2huaWNpYW5cblx0XHRcdFx0Y2FuY2VsbGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG5cdFx0XHRcdGNhbmNlbGxlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0Y2FuY2VsbGF0aW9uX3JlYXNvbjogcmVhc29uIHx8IG51bGwsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgc2NoZWR1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byBjYW5jZWwgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjYW5jZWxKb2JBbmRBcHBvaW50bWVudChcblx0c2NoZWR1bGVJZDogc3RyaW5nLFxuXHRqb2JJZDogc3RyaW5nLFxuXHRyZWFzb24/OiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG5cdFx0Ly8gQ2FuY2VsIHRoZSBhcHBvaW50bWVudFxuXHRcdGNvbnN0IHsgZXJyb3I6IHNjaGVkdWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIixcblx0XHRcdFx0YXNzaWduZWRfdG86IG51bGwsXG5cdFx0XHRcdGNhbmNlbGxlZF9hdDogbm93LFxuXHRcdFx0XHRjYW5jZWxsZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHRcdGNhbmNlbGxhdGlvbl9yZWFzb246IHJlYXNvbiB8fCBudWxsLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKHNjaGVkdWxlRXJyb3IpIHtcblx0XHRcdHRocm93IHNjaGVkdWxlRXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gQWxzbyBjYW5jZWwgdGhlIGpvYiBpZiBpdCBleGlzdHNcblx0XHRpZiAoam9iSWQpIHtcblx0XHRcdGNvbnN0IHsgZXJyb3I6IGpvYkVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0XHQuZnJvbShcImpvYnNcIilcblx0XHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdFx0c3RhdHVzOiBcImNhbmNlbGxlZFwiLFxuXHRcdFx0XHRcdGNhbmNlbGxlZF9hdDogbm93LFxuXHRcdFx0XHRcdGNhbmNlbGxlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0XHRjYW5jZWxsYXRpb25fcmVhc29uOiByZWFzb24gfHwgbnVsbCxcblx0XHRcdFx0fSlcblx0XHRcdFx0LmVxKFwiaWRcIiwgam9iSWQpO1xuXG5cdFx0XHRpZiAoam9iRXJyb3IpIHtcblx0XHRcdFx0dGhyb3cgam9iRXJyb3I7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byBjYW5jZWwgam9iIGFuZCBhcHBvaW50bWVudFwiLFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFyY2hpdmVBcHBvaW50bWVudChzY2hlZHVsZUlkOiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRhcmNoaXZlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIGFyY2hpdmUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb21wbGV0ZUFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG5cdGlmICghc3VwYWJhc2UpIHtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRGF0YWJhc2Ugbm90IGF2YWlsYWJsZVwiIH07XG5cdH1cblxuXHR0cnkge1xuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblxuXHRcdGlmICghdXNlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vdCBhdXRoZW50aWNhdGVkXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRzdGF0dXM6IFwiY29tcGxldGVkXCIsXG5cdFx0XHRcdGFjdHVhbF9lbmRfdGltZTogbm93LFxuXHRcdFx0XHRjb21wbGV0ZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgc2NoZWR1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gY29tcGxldGUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbnR5cGUgRGlzcGF0Y2hTdGF0dXMgPSBcImRpc3BhdGNoZWRcIiB8IFwiYXJyaXZlZFwiIHwgXCJjbG9zZWRcIjtcblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlU2NoZWR1bGVTdGF0dXMoXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0c3RhdHVzOiBEaXNwYXRjaFN0YXR1cyxcblx0ZXh0cmFVcGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9LFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblx0XHRjb25zdCB1cGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHtcblx0XHRcdHN0YXR1cyxcblx0XHRcdHVwZGF0ZWRfYXQ6IG5vdyxcblx0XHRcdC4uLmV4dHJhVXBkYXRlcyxcblx0XHR9O1xuXG5cdFx0aWYgKHN0YXR1cyA9PT0gXCJjbG9zZWRcIikge1xuXHRcdFx0dXBkYXRlcy5jb21wbGV0ZWRfYnkgPSB1c2VyLmlkO1xuXHRcdFx0dXBkYXRlcy5hY3R1YWxfZW5kX3RpbWUgPSB1cGRhdGVzLmFjdHVhbF9lbmRfdGltZSA/PyBub3c7XG5cdFx0fVxuXG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHVwZGF0ZXMpXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBgRmFpbGVkIHRvIHVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMgdG8gJHtzdGF0dXN9YCxcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkaXNwYXRjaEFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRyZXR1cm4gdXBkYXRlU2NoZWR1bGVTdGF0dXMoc2NoZWR1bGVJZCwgXCJkaXNwYXRjaGVkXCIpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXJyaXZlQXBwb2ludG1lbnQoc2NoZWR1bGVJZDogc3RyaW5nKSB7XG5cdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblx0cmV0dXJuIHVwZGF0ZVNjaGVkdWxlU3RhdHVzKHNjaGVkdWxlSWQsIFwiYXJyaXZlZFwiLCB7XG5cdFx0YWN0dWFsX3N0YXJ0X3RpbWU6IG5vdyxcblx0fSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbG9zZUFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cdHJldHVybiB1cGRhdGVTY2hlZHVsZVN0YXR1cyhzY2hlZHVsZUlkLCBcImNsb3NlZFwiLCB7XG5cdFx0YWN0dWFsX2VuZF90aW1lOiBub3csXG5cdH0pO1xufVxuXG4vKipcbiAqIE1vdmUgYW4gZXhpc3RpbmcgYXBwb2ludG1lbnQgdG8gYSBuZXcgdGVjaG5pY2lhbiBhbmQvb3IgdGltZSBzbG90XG4gKiBCYXRjaGVzIGJvdGggb3BlcmF0aW9ucyBpbiBhIHNpbmdsZSBkYXRhYmFzZSBjYWxsIGZvciBwZXJmb3JtYW5jZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbW92ZUFwcG9pbnRtZW50KFxuXHRzY2hlZHVsZUlkOiBzdHJpbmcsXG5cdHRlY2huaWNpYW5JZDogc3RyaW5nLFxuXHRzdGFydFRpbWU6IERhdGUsXG5cdGVuZFRpbWU6IERhdGUsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCBkdXJhdGlvbiA9IE1hdGgucm91bmQoXG5cdFx0XHQoZW5kVGltZS5nZXRUaW1lKCkgLSBzdGFydFRpbWUuZ2V0VGltZSgpKSAvICgxMDAwICogNjApLFxuXHRcdCk7XG5cblx0XHQvLyBGb3JtYXQgYXMgbG9jYWwgZGF0ZXRpbWUgc3RyaW5nIFdJVEhPVVQgdGltZXpvbmUgY29udmVyc2lvblxuXHRcdGNvbnN0IGZvcm1hdExvY2FsRGF0ZVRpbWUgPSAoZGF0ZTogRGF0ZSkgPT4ge1xuXHRcdFx0Y29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcblx0XHRcdGNvbnN0IG1vbnRoID0gU3RyaW5nKGRhdGUuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGNvbnN0IGRheSA9IFN0cmluZyhkYXRlLmdldERhdGUoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgaG91ciA9IFN0cmluZyhkYXRlLmdldEhvdXJzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGNvbnN0IG1pbnV0ZSA9IFN0cmluZyhkYXRlLmdldE1pbnV0ZXMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3Qgc2Vjb25kID0gU3RyaW5nKGRhdGUuZ2V0U2Vjb25kcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRyZXR1cm4gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9ICR7aG91cn06JHttaW51dGV9OiR7c2Vjb25kfWA7XG5cdFx0fTtcblxuXHRcdGNvbnN0IHN0YXJ0U3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShzdGFydFRpbWUpO1xuXHRcdGNvbnN0IGVuZFN0ciA9IGZvcm1hdExvY2FsRGF0ZVRpbWUoZW5kVGltZSk7XG5cblx0XHQvLyBTaW5nbGUgYXRvbWljIHVwZGF0ZSBmb3IgYm90aCBhc3NpZ25tZW50IGFuZCB0aW1lc1xuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdGFzc2lnbmVkX3RvOiB0ZWNobmljaWFuSWQsXG5cdFx0XHRcdHN0YXJ0X3RpbWU6IHN0YXJ0U3RyLFxuXHRcdFx0XHRlbmRfdGltZTogZW5kU3RyLFxuXHRcdFx0XHRkdXJhdGlvbixcblx0XHRcdFx0dXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiRmFpbGVkIHRvIG1vdmUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogQXNzaWduIGFuIHVuYXNzaWduZWQgam9iIHRvIGEgdGVjaG5pY2lhbiB3aXRoIGEgc3BlY2lmaWMgdGltZSBzbG90XG4gKiBVc2VkIHdoZW4gZHJhZ2dpbmcgZnJvbSB1bmFzc2lnbmVkIHBhbmVsIHRvIGEgdGVjaG5pY2lhbiBsYW5lXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhc3NpZ25OZXdBcHBvaW50bWVudChcblx0c2NoZWR1bGVJZDogc3RyaW5nLFxuXHR0ZWNobmljaWFuSWQ6IHN0cmluZyxcblx0c3RhcnRUaW1lOiBEYXRlLFxuXHRlbmRUaW1lOiBEYXRlLFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgZHVyYXRpb24gPSBNYXRoLnJvdW5kKFxuXHRcdFx0KGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSxcblx0XHQpO1xuXG5cdFx0Y29uc3QgZm9ybWF0TG9jYWxEYXRlVGltZSA9IChkYXRlOiBEYXRlKSA9PiB7XG5cdFx0XHRjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0Y29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBob3VyID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgbWludXRlID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBzZWNvbmQgPSBTdHJpbmcoZGF0ZS5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX0gJHtob3VyfToke21pbnV0ZX06JHtzZWNvbmR9YDtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3RhcnRTdHIgPSBmb3JtYXRMb2NhbERhdGVUaW1lKHN0YXJ0VGltZSk7XG5cdFx0Y29uc3QgZW5kU3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShlbmRUaW1lKTtcblxuXHRcdC8vIFNpbmdsZSBhdG9taWMgdXBkYXRlIGZvciBhc3NpZ25tZW50XG5cdFx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHtcblx0XHRcdFx0YXNzaWduZWRfdG86IHRlY2huaWNpYW5JZCxcblx0XHRcdFx0c3RhcnRfdGltZTogc3RhcnRTdHIsXG5cdFx0XHRcdGVuZF90aW1lOiBlbmRTdHIsXG5cdFx0XHRcdGR1cmF0aW9uLFxuXHRcdFx0XHRzdGF0dXM6IFwic2NoZWR1bGVkXCIsXG5cdFx0XHRcdHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKVxuXHRcdFx0LnNlbGVjdCgpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGEgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gYXNzaWduIGFwcG9pbnRtZW50XCIsXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdW5hc3NpZ25BcHBvaW50bWVudChzY2hlZHVsZUlkOiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRhc3NpZ25lZF90bzogbnVsbCxcblx0XHRcdFx0dXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIG1vdmUgYXBwb2ludG1lbnQgdG8gVW5zY2hlZHVsZWRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogU2VuZCBcIk9uIE15IFdheVwiIFNNUyBub3RpZmljYXRpb24gdG8gY3VzdG9tZXJcbiAqIEluY2x1ZGVzIHRlY2huaWNpYW4gbmFtZSBhbmQgZXN0aW1hdGVkIGFycml2YWwgdGltZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZE9uTXlXYXlOb3RpZmljYXRpb24oXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0dGVjaG5pY2lhbk5hbWU6IHN0cmluZyxcblx0Y3VzdG9tZXJQaG9uZTogc3RyaW5nLFxuXHRkZXN0aW5hdGlvbkFkZHJlc3M/OiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHQvLyBHZXQgdXNlciBhbmQgY29tcGFueSBpbmZvXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBjb21wYW55J3MgVGVsbnl4IHNldHRpbmdzIGZvciB0aGUgZnJvbSBudW1iZXJcblx0XHRjb25zdCB7IGRhdGE6IG1lbWJlcnNoaXAgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfbWVtYmVyc2hpcHNcIilcblx0XHRcdC5zZWxlY3QoXCJjb21wYW55X2lkXCIpXG5cdFx0XHQuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpXG5cdFx0XHQuZXEoXCJzdGF0dXNcIiwgXCJhY3RpdmVcIilcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghbWVtYmVyc2hpcD8uY29tcGFueV9pZCkge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIGFjdGl2ZSBjb21wYW55IG1lbWJlcnNoaXBcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IHsgZGF0YTogdGVsbnl4U2V0dGluZ3MgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfdGVsbnl4X3NldHRpbmdzXCIpXG5cdFx0XHQuc2VsZWN0KFwicGhvbmVfbnVtYmVyLCBzdGF0dXNcIilcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgbWVtYmVyc2hpcC5jb21wYW55X2lkKVxuXHRcdFx0LmVxKFwic3RhdHVzXCIsIFwicmVhZHlcIilcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghdGVsbnl4U2V0dGluZ3M/LnBob25lX251bWJlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIHBob25lIG51bWJlciBjb25maWd1cmVkIGZvciBTTVNcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBjb21wYW55IG5hbWUgZm9yIHRoZSBtZXNzYWdlXG5cdFx0Y29uc3QgeyBkYXRhOiBjb21wYW55IH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjb21wYW5pZXNcIilcblx0XHRcdC5zZWxlY3QoXCJuYW1lXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBtZW1iZXJzaGlwLmNvbXBhbnlfaWQpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHQvLyBCdWlsZCB0aGUgXCJPbiBNeSBXYXlcIiBtZXNzYWdlXG5cdFx0bGV0IG1lc3NhZ2UgPSBgSGkhICR7dGVjaG5pY2lhbk5hbWV9IGZyb20gJHtjb21wYW55Py5uYW1lIHx8IFwieW91ciBzZXJ2aWNlIHByb3ZpZGVyXCJ9IGlzIG9uIHRoZSB3YXkgdG8geW91ciBhcHBvaW50bWVudC5gO1xuXG5cdFx0Ly8gVHJ5IHRvIGdldCB0cmF2ZWwgdGltZSBlc3RpbWF0ZSBpZiB3ZSBoYXZlIGEgZGVzdGluYXRpb25cblx0XHRpZiAoZGVzdGluYXRpb25BZGRyZXNzKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCBiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBQX1VSTCB8fCBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMFwiO1xuXHRcdFx0XHRjb25zdCB0cmF2ZWxSZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0XHRcdGAke2Jhc2VVcmx9L2FwaS90cmF2ZWwtdGltZT9kZXN0aW5hdGlvbj0ke2VuY29kZVVSSUNvbXBvbmVudChkZXN0aW5hdGlvbkFkZHJlc3MpfWAsXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0aGVhZGVyczoge1xuXHRcdFx0XHRcdFx0XHRDb29raWU6IGBzYi1hY2Nlc3MtdG9rZW49JHt1c2VyLmlkfWAsIC8vIFBhc3MgYXV0aCBjb250ZXh0XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0aWYgKHRyYXZlbFJlc3BvbnNlLm9rKSB7XG5cdFx0XHRcdFx0Y29uc3QgdHJhdmVsRGF0YSA9IGF3YWl0IHRyYXZlbFJlc3BvbnNlLmpzb24oKTtcblx0XHRcdFx0XHRpZiAodHJhdmVsRGF0YS5kdXJhdGlvblRleHQpIHtcblx0XHRcdFx0XHRcdG1lc3NhZ2UgKz0gYCBFc3RpbWF0ZWQgYXJyaXZhbDogJHt0cmF2ZWxEYXRhLmR1cmF0aW9uVGV4dH0uYDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHQvLyBUcmF2ZWwgdGltZSBmZXRjaCBmYWlsZWQgLSBjb250aW51ZSB3aXRob3V0IGl0XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0bWVzc2FnZSArPSBcIiBXZSdsbCBzZWUgeW91IHNvb24hXCI7XG5cblx0XHQvLyBTZW5kIHRoZSBTTVMgdmlhIFRlbG55eFxuXHRcdGNvbnN0IHsgc2VuZFNNUyB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvdGVsbnl4L21lc3NhZ2luZ1wiKTtcblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kU01TKHtcblx0XHRcdHRvOiBjdXN0b21lclBob25lLFxuXHRcdFx0ZnJvbTogdGVsbnl4U2V0dGluZ3MucGhvbmVfbnVtYmVyLFxuXHRcdFx0dGV4dDogbWVzc2FnZSxcblx0XHR9KTtcblxuXHRcdGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gc2VuZCBTTVNcIiB9O1xuXHRcdH1cblxuXHRcdC8vIFVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMgdG8gZGlzcGF0Y2hlZFxuXHRcdGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJkaXNwYXRjaGVkXCIsXG5cdFx0XHRcdGRpc3BhdGNoZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0bWVzc2FnZTogXCJPbiBNeSBXYXkgbm90aWZpY2F0aW9uIHNlbnQgc3VjY2Vzc2Z1bGx5XCIsXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gc2VuZCBPbiBNeSBXYXkgbm90aWZpY2F0aW9uXCIsXG5cdFx0fTtcblx0fVxufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJ3VEEwTnNCIn0=
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:7ac4ae [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"606578cdf7250e905f11d3f7a32b103d788ec7a30d":"cancelAppointment"},"apps/web/src/actions/schedule-assignments.ts",""] */ __turbopack_context__.s([
    "cancelAppointment",
    ()=>cancelAppointment
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var cancelAppointment = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("606578cdf7250e905f11d3f7a32b103d788ec7a30d", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "cancelAppointment"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vc2NoZWR1bGUtYXNzaWdubWVudHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc2VydmVyXCI7XG5cbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gXCJAL2xpYi9zdXBhYmFzZS9zZXJ2ZXJcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFzc2lnbkpvYlRvVGVjaG5pY2lhbihcblx0X2pvYklkOiBzdHJpbmcsXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0dGVjaG5pY2lhbklkOiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHQvLyBGaXJzdCBjaGVjayBpZiB0aGUgc2NoZWR1bGUgZXhpc3RzIGFuZCBnZXQgY3VycmVudCBhc3NpZ25tZW50XG5cdFx0Y29uc3QgeyBkYXRhOiBleGlzdGluZ1NjaGVkdWxlLCBlcnJvcjogY2hlY2tFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQuc2VsZWN0KFwiaWQsIGFzc2lnbmVkX3RvXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0aWYgKGNoZWNrRXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgU2NoZWR1bGUgY2hlY2sgZmFpbGVkOiAke2NoZWNrRXJyb3IubWVzc2FnZX1gKTtcblx0XHR9XG5cblx0XHRpZiAoIWV4aXN0aW5nU2NoZWR1bGUpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIlNjaGVkdWxlIG5vdCBmb3VuZFwiKTtcblx0XHR9XG5cblx0XHQvLyBVcGRhdGUgdGhlIHNjaGVkdWxlJ3MgYXNzaWduZWRfdG8gZmllbGRcblx0XHRjb25zdCB7IGRhdGE6IHVwZGF0ZWRTY2hlZHVsZSwgZXJyb3I6IHNjaGVkdWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7IGFzc2lnbmVkX3RvOiB0ZWNobmljaWFuSWQgfSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChzY2hlZHVsZUVycm9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYFNjaGVkdWxlIHVwZGF0ZSBmYWlsZWQ6ICR7c2NoZWR1bGVFcnJvci5tZXNzYWdlfWApO1xuXHRcdH1cblxuXHRcdC8vIERvbid0IHJldmFsaWRhdGUgaW1tZWRpYXRlbHkgLSBsZXQgdGhlIG9wdGltaXN0aWMgdXBkYXRlIHNob3dcblx0XHQvLyByZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvc2NoZWR1bGVcIik7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogdXBkYXRlZFNjaGVkdWxlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gYXNzaWduIGpvYlwiLFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUFwcG9pbnRtZW50VGltZXMoXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0c3RhcnRUaW1lOiBEYXRlLFxuXHRlbmRUaW1lOiBEYXRlLFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgZHVyYXRpb24gPSBNYXRoLnJvdW5kKFxuXHRcdFx0KGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSxcblx0XHQpO1xuXG5cdFx0Ly8gRm9ybWF0IGFzIGxvY2FsIGRhdGV0aW1lIHN0cmluZyBXSVRIT1VUIHRpbWV6b25lIGNvbnZlcnNpb25cblx0XHQvLyBHZXQgeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWludXRlIGZyb20gdGhlIERhdGUgb2JqZWN0IGRpcmVjdGx5XG5cdFx0Y29uc3QgZm9ybWF0TG9jYWxEYXRlVGltZSA9IChkYXRlOiBEYXRlKSA9PiB7XG5cdFx0XHRjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0Y29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBob3VyID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgbWludXRlID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBzZWNvbmQgPSBTdHJpbmcoZGF0ZS5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX0gJHtob3VyfToke21pbnV0ZX06JHtzZWNvbmR9YDtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3RhcnRTdHIgPSBmb3JtYXRMb2NhbERhdGVUaW1lKHN0YXJ0VGltZSk7XG5cdFx0Y29uc3QgZW5kU3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShlbmRUaW1lKTtcblxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXJ0X3RpbWU6IHN0YXJ0U3RyLFxuXHRcdFx0XHRlbmRfdGltZTogZW5kU3RyLFxuXHRcdFx0XHRkdXJhdGlvbixcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gRG9uJ3QgcmV2YWxpZGF0ZSBpbW1lZGlhdGVseSAtIGxldCB0aGUgb3B0aW1pc3RpYyB1cGRhdGUgc2hvd1xuXHRcdC8vIHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9zY2hlZHVsZVwiKTtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gdXBkYXRlIHRpbWVzXCIsXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2FuY2VsQXBwb2ludG1lbnQoc2NoZWR1bGVJZDogc3RyaW5nLCByZWFzb24/OiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gQ2FuY2VsIGFwcG9pbnRtZW50IC0gdW5zY2hlZHVsZSBpdCAocmVtb3ZlIGFzc2lnbmVkX3RvKVxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIixcblx0XHRcdFx0YXNzaWduZWRfdG86IG51bGwsIC8vIFVuYXNzaWduIHRlY2huaWNpYW5cblx0XHRcdFx0Y2FuY2VsbGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG5cdFx0XHRcdGNhbmNlbGxlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0Y2FuY2VsbGF0aW9uX3JlYXNvbjogcmVhc29uIHx8IG51bGwsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgc2NoZWR1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byBjYW5jZWwgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjYW5jZWxKb2JBbmRBcHBvaW50bWVudChcblx0c2NoZWR1bGVJZDogc3RyaW5nLFxuXHRqb2JJZDogc3RyaW5nLFxuXHRyZWFzb24/OiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG5cdFx0Ly8gQ2FuY2VsIHRoZSBhcHBvaW50bWVudFxuXHRcdGNvbnN0IHsgZXJyb3I6IHNjaGVkdWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIixcblx0XHRcdFx0YXNzaWduZWRfdG86IG51bGwsXG5cdFx0XHRcdGNhbmNlbGxlZF9hdDogbm93LFxuXHRcdFx0XHRjYW5jZWxsZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHRcdGNhbmNlbGxhdGlvbl9yZWFzb246IHJlYXNvbiB8fCBudWxsLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKHNjaGVkdWxlRXJyb3IpIHtcblx0XHRcdHRocm93IHNjaGVkdWxlRXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gQWxzbyBjYW5jZWwgdGhlIGpvYiBpZiBpdCBleGlzdHNcblx0XHRpZiAoam9iSWQpIHtcblx0XHRcdGNvbnN0IHsgZXJyb3I6IGpvYkVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0XHQuZnJvbShcImpvYnNcIilcblx0XHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdFx0c3RhdHVzOiBcImNhbmNlbGxlZFwiLFxuXHRcdFx0XHRcdGNhbmNlbGxlZF9hdDogbm93LFxuXHRcdFx0XHRcdGNhbmNlbGxlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0XHRjYW5jZWxsYXRpb25fcmVhc29uOiByZWFzb24gfHwgbnVsbCxcblx0XHRcdFx0fSlcblx0XHRcdFx0LmVxKFwiaWRcIiwgam9iSWQpO1xuXG5cdFx0XHRpZiAoam9iRXJyb3IpIHtcblx0XHRcdFx0dGhyb3cgam9iRXJyb3I7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byBjYW5jZWwgam9iIGFuZCBhcHBvaW50bWVudFwiLFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFyY2hpdmVBcHBvaW50bWVudChzY2hlZHVsZUlkOiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRhcmNoaXZlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIGFyY2hpdmUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb21wbGV0ZUFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG5cdGlmICghc3VwYWJhc2UpIHtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRGF0YWJhc2Ugbm90IGF2YWlsYWJsZVwiIH07XG5cdH1cblxuXHR0cnkge1xuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblxuXHRcdGlmICghdXNlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vdCBhdXRoZW50aWNhdGVkXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRzdGF0dXM6IFwiY29tcGxldGVkXCIsXG5cdFx0XHRcdGFjdHVhbF9lbmRfdGltZTogbm93LFxuXHRcdFx0XHRjb21wbGV0ZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgc2NoZWR1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gY29tcGxldGUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbnR5cGUgRGlzcGF0Y2hTdGF0dXMgPSBcImRpc3BhdGNoZWRcIiB8IFwiYXJyaXZlZFwiIHwgXCJjbG9zZWRcIjtcblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlU2NoZWR1bGVTdGF0dXMoXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0c3RhdHVzOiBEaXNwYXRjaFN0YXR1cyxcblx0ZXh0cmFVcGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9LFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblx0XHRjb25zdCB1cGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHtcblx0XHRcdHN0YXR1cyxcblx0XHRcdHVwZGF0ZWRfYXQ6IG5vdyxcblx0XHRcdC4uLmV4dHJhVXBkYXRlcyxcblx0XHR9O1xuXG5cdFx0aWYgKHN0YXR1cyA9PT0gXCJjbG9zZWRcIikge1xuXHRcdFx0dXBkYXRlcy5jb21wbGV0ZWRfYnkgPSB1c2VyLmlkO1xuXHRcdFx0dXBkYXRlcy5hY3R1YWxfZW5kX3RpbWUgPSB1cGRhdGVzLmFjdHVhbF9lbmRfdGltZSA/PyBub3c7XG5cdFx0fVxuXG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHVwZGF0ZXMpXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBgRmFpbGVkIHRvIHVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMgdG8gJHtzdGF0dXN9YCxcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkaXNwYXRjaEFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRyZXR1cm4gdXBkYXRlU2NoZWR1bGVTdGF0dXMoc2NoZWR1bGVJZCwgXCJkaXNwYXRjaGVkXCIpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXJyaXZlQXBwb2ludG1lbnQoc2NoZWR1bGVJZDogc3RyaW5nKSB7XG5cdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblx0cmV0dXJuIHVwZGF0ZVNjaGVkdWxlU3RhdHVzKHNjaGVkdWxlSWQsIFwiYXJyaXZlZFwiLCB7XG5cdFx0YWN0dWFsX3N0YXJ0X3RpbWU6IG5vdyxcblx0fSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbG9zZUFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cdHJldHVybiB1cGRhdGVTY2hlZHVsZVN0YXR1cyhzY2hlZHVsZUlkLCBcImNsb3NlZFwiLCB7XG5cdFx0YWN0dWFsX2VuZF90aW1lOiBub3csXG5cdH0pO1xufVxuXG4vKipcbiAqIE1vdmUgYW4gZXhpc3RpbmcgYXBwb2ludG1lbnQgdG8gYSBuZXcgdGVjaG5pY2lhbiBhbmQvb3IgdGltZSBzbG90XG4gKiBCYXRjaGVzIGJvdGggb3BlcmF0aW9ucyBpbiBhIHNpbmdsZSBkYXRhYmFzZSBjYWxsIGZvciBwZXJmb3JtYW5jZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbW92ZUFwcG9pbnRtZW50KFxuXHRzY2hlZHVsZUlkOiBzdHJpbmcsXG5cdHRlY2huaWNpYW5JZDogc3RyaW5nLFxuXHRzdGFydFRpbWU6IERhdGUsXG5cdGVuZFRpbWU6IERhdGUsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCBkdXJhdGlvbiA9IE1hdGgucm91bmQoXG5cdFx0XHQoZW5kVGltZS5nZXRUaW1lKCkgLSBzdGFydFRpbWUuZ2V0VGltZSgpKSAvICgxMDAwICogNjApLFxuXHRcdCk7XG5cblx0XHQvLyBGb3JtYXQgYXMgbG9jYWwgZGF0ZXRpbWUgc3RyaW5nIFdJVEhPVVQgdGltZXpvbmUgY29udmVyc2lvblxuXHRcdGNvbnN0IGZvcm1hdExvY2FsRGF0ZVRpbWUgPSAoZGF0ZTogRGF0ZSkgPT4ge1xuXHRcdFx0Y29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcblx0XHRcdGNvbnN0IG1vbnRoID0gU3RyaW5nKGRhdGUuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGNvbnN0IGRheSA9IFN0cmluZyhkYXRlLmdldERhdGUoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgaG91ciA9IFN0cmluZyhkYXRlLmdldEhvdXJzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGNvbnN0IG1pbnV0ZSA9IFN0cmluZyhkYXRlLmdldE1pbnV0ZXMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3Qgc2Vjb25kID0gU3RyaW5nKGRhdGUuZ2V0U2Vjb25kcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRyZXR1cm4gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9ICR7aG91cn06JHttaW51dGV9OiR7c2Vjb25kfWA7XG5cdFx0fTtcblxuXHRcdGNvbnN0IHN0YXJ0U3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShzdGFydFRpbWUpO1xuXHRcdGNvbnN0IGVuZFN0ciA9IGZvcm1hdExvY2FsRGF0ZVRpbWUoZW5kVGltZSk7XG5cblx0XHQvLyBTaW5nbGUgYXRvbWljIHVwZGF0ZSBmb3IgYm90aCBhc3NpZ25tZW50IGFuZCB0aW1lc1xuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdGFzc2lnbmVkX3RvOiB0ZWNobmljaWFuSWQsXG5cdFx0XHRcdHN0YXJ0X3RpbWU6IHN0YXJ0U3RyLFxuXHRcdFx0XHRlbmRfdGltZTogZW5kU3RyLFxuXHRcdFx0XHRkdXJhdGlvbixcblx0XHRcdFx0dXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiRmFpbGVkIHRvIG1vdmUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogQXNzaWduIGFuIHVuYXNzaWduZWQgam9iIHRvIGEgdGVjaG5pY2lhbiB3aXRoIGEgc3BlY2lmaWMgdGltZSBzbG90XG4gKiBVc2VkIHdoZW4gZHJhZ2dpbmcgZnJvbSB1bmFzc2lnbmVkIHBhbmVsIHRvIGEgdGVjaG5pY2lhbiBsYW5lXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhc3NpZ25OZXdBcHBvaW50bWVudChcblx0c2NoZWR1bGVJZDogc3RyaW5nLFxuXHR0ZWNobmljaWFuSWQ6IHN0cmluZyxcblx0c3RhcnRUaW1lOiBEYXRlLFxuXHRlbmRUaW1lOiBEYXRlLFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgZHVyYXRpb24gPSBNYXRoLnJvdW5kKFxuXHRcdFx0KGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSxcblx0XHQpO1xuXG5cdFx0Y29uc3QgZm9ybWF0TG9jYWxEYXRlVGltZSA9IChkYXRlOiBEYXRlKSA9PiB7XG5cdFx0XHRjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0Y29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBob3VyID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgbWludXRlID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBzZWNvbmQgPSBTdHJpbmcoZGF0ZS5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX0gJHtob3VyfToke21pbnV0ZX06JHtzZWNvbmR9YDtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3RhcnRTdHIgPSBmb3JtYXRMb2NhbERhdGVUaW1lKHN0YXJ0VGltZSk7XG5cdFx0Y29uc3QgZW5kU3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShlbmRUaW1lKTtcblxuXHRcdC8vIFNpbmdsZSBhdG9taWMgdXBkYXRlIGZvciBhc3NpZ25tZW50XG5cdFx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHtcblx0XHRcdFx0YXNzaWduZWRfdG86IHRlY2huaWNpYW5JZCxcblx0XHRcdFx0c3RhcnRfdGltZTogc3RhcnRTdHIsXG5cdFx0XHRcdGVuZF90aW1lOiBlbmRTdHIsXG5cdFx0XHRcdGR1cmF0aW9uLFxuXHRcdFx0XHRzdGF0dXM6IFwic2NoZWR1bGVkXCIsXG5cdFx0XHRcdHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKVxuXHRcdFx0LnNlbGVjdCgpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGEgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gYXNzaWduIGFwcG9pbnRtZW50XCIsXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdW5hc3NpZ25BcHBvaW50bWVudChzY2hlZHVsZUlkOiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRhc3NpZ25lZF90bzogbnVsbCxcblx0XHRcdFx0dXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIG1vdmUgYXBwb2ludG1lbnQgdG8gVW5zY2hlZHVsZWRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogU2VuZCBcIk9uIE15IFdheVwiIFNNUyBub3RpZmljYXRpb24gdG8gY3VzdG9tZXJcbiAqIEluY2x1ZGVzIHRlY2huaWNpYW4gbmFtZSBhbmQgZXN0aW1hdGVkIGFycml2YWwgdGltZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZE9uTXlXYXlOb3RpZmljYXRpb24oXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0dGVjaG5pY2lhbk5hbWU6IHN0cmluZyxcblx0Y3VzdG9tZXJQaG9uZTogc3RyaW5nLFxuXHRkZXN0aW5hdGlvbkFkZHJlc3M/OiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHQvLyBHZXQgdXNlciBhbmQgY29tcGFueSBpbmZvXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBjb21wYW55J3MgVGVsbnl4IHNldHRpbmdzIGZvciB0aGUgZnJvbSBudW1iZXJcblx0XHRjb25zdCB7IGRhdGE6IG1lbWJlcnNoaXAgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfbWVtYmVyc2hpcHNcIilcblx0XHRcdC5zZWxlY3QoXCJjb21wYW55X2lkXCIpXG5cdFx0XHQuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpXG5cdFx0XHQuZXEoXCJzdGF0dXNcIiwgXCJhY3RpdmVcIilcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghbWVtYmVyc2hpcD8uY29tcGFueV9pZCkge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIGFjdGl2ZSBjb21wYW55IG1lbWJlcnNoaXBcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IHsgZGF0YTogdGVsbnl4U2V0dGluZ3MgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfdGVsbnl4X3NldHRpbmdzXCIpXG5cdFx0XHQuc2VsZWN0KFwicGhvbmVfbnVtYmVyLCBzdGF0dXNcIilcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgbWVtYmVyc2hpcC5jb21wYW55X2lkKVxuXHRcdFx0LmVxKFwic3RhdHVzXCIsIFwicmVhZHlcIilcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghdGVsbnl4U2V0dGluZ3M/LnBob25lX251bWJlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIHBob25lIG51bWJlciBjb25maWd1cmVkIGZvciBTTVNcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBjb21wYW55IG5hbWUgZm9yIHRoZSBtZXNzYWdlXG5cdFx0Y29uc3QgeyBkYXRhOiBjb21wYW55IH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjb21wYW5pZXNcIilcblx0XHRcdC5zZWxlY3QoXCJuYW1lXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBtZW1iZXJzaGlwLmNvbXBhbnlfaWQpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHQvLyBCdWlsZCB0aGUgXCJPbiBNeSBXYXlcIiBtZXNzYWdlXG5cdFx0bGV0IG1lc3NhZ2UgPSBgSGkhICR7dGVjaG5pY2lhbk5hbWV9IGZyb20gJHtjb21wYW55Py5uYW1lIHx8IFwieW91ciBzZXJ2aWNlIHByb3ZpZGVyXCJ9IGlzIG9uIHRoZSB3YXkgdG8geW91ciBhcHBvaW50bWVudC5gO1xuXG5cdFx0Ly8gVHJ5IHRvIGdldCB0cmF2ZWwgdGltZSBlc3RpbWF0ZSBpZiB3ZSBoYXZlIGEgZGVzdGluYXRpb25cblx0XHRpZiAoZGVzdGluYXRpb25BZGRyZXNzKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCBiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBQX1VSTCB8fCBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMFwiO1xuXHRcdFx0XHRjb25zdCB0cmF2ZWxSZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0XHRcdGAke2Jhc2VVcmx9L2FwaS90cmF2ZWwtdGltZT9kZXN0aW5hdGlvbj0ke2VuY29kZVVSSUNvbXBvbmVudChkZXN0aW5hdGlvbkFkZHJlc3MpfWAsXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0aGVhZGVyczoge1xuXHRcdFx0XHRcdFx0XHRDb29raWU6IGBzYi1hY2Nlc3MtdG9rZW49JHt1c2VyLmlkfWAsIC8vIFBhc3MgYXV0aCBjb250ZXh0XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0aWYgKHRyYXZlbFJlc3BvbnNlLm9rKSB7XG5cdFx0XHRcdFx0Y29uc3QgdHJhdmVsRGF0YSA9IGF3YWl0IHRyYXZlbFJlc3BvbnNlLmpzb24oKTtcblx0XHRcdFx0XHRpZiAodHJhdmVsRGF0YS5kdXJhdGlvblRleHQpIHtcblx0XHRcdFx0XHRcdG1lc3NhZ2UgKz0gYCBFc3RpbWF0ZWQgYXJyaXZhbDogJHt0cmF2ZWxEYXRhLmR1cmF0aW9uVGV4dH0uYDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHQvLyBUcmF2ZWwgdGltZSBmZXRjaCBmYWlsZWQgLSBjb250aW51ZSB3aXRob3V0IGl0XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0bWVzc2FnZSArPSBcIiBXZSdsbCBzZWUgeW91IHNvb24hXCI7XG5cblx0XHQvLyBTZW5kIHRoZSBTTVMgdmlhIFRlbG55eFxuXHRcdGNvbnN0IHsgc2VuZFNNUyB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvdGVsbnl4L21lc3NhZ2luZ1wiKTtcblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kU01TKHtcblx0XHRcdHRvOiBjdXN0b21lclBob25lLFxuXHRcdFx0ZnJvbTogdGVsbnl4U2V0dGluZ3MucGhvbmVfbnVtYmVyLFxuXHRcdFx0dGV4dDogbWVzc2FnZSxcblx0XHR9KTtcblxuXHRcdGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gc2VuZCBTTVNcIiB9O1xuXHRcdH1cblxuXHRcdC8vIFVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMgdG8gZGlzcGF0Y2hlZFxuXHRcdGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJkaXNwYXRjaGVkXCIsXG5cdFx0XHRcdGRpc3BhdGNoZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0bWVzc2FnZTogXCJPbiBNeSBXYXkgbm90aWZpY2F0aW9uIHNlbnQgc3VjY2Vzc2Z1bGx5XCIsXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gc2VuZCBPbiBNeSBXYXkgbm90aWZpY2F0aW9uXCIsXG5cdFx0fTtcblx0fVxufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJ1VEE2R3NCIn0=
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:95a531 [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"700f463a333f637198b74fa1dc1e44cbf8498ce5ff":"cancelJobAndAppointment"},"apps/web/src/actions/schedule-assignments.ts",""] */ __turbopack_context__.s([
    "cancelJobAndAppointment",
    ()=>cancelJobAndAppointment
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var cancelJobAndAppointment = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("700f463a333f637198b74fa1dc1e44cbf8498ce5ff", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "cancelJobAndAppointment"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vc2NoZWR1bGUtYXNzaWdubWVudHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc2VydmVyXCI7XG5cbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gXCJAL2xpYi9zdXBhYmFzZS9zZXJ2ZXJcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFzc2lnbkpvYlRvVGVjaG5pY2lhbihcblx0X2pvYklkOiBzdHJpbmcsXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0dGVjaG5pY2lhbklkOiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHQvLyBGaXJzdCBjaGVjayBpZiB0aGUgc2NoZWR1bGUgZXhpc3RzIGFuZCBnZXQgY3VycmVudCBhc3NpZ25tZW50XG5cdFx0Y29uc3QgeyBkYXRhOiBleGlzdGluZ1NjaGVkdWxlLCBlcnJvcjogY2hlY2tFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQuc2VsZWN0KFwiaWQsIGFzc2lnbmVkX3RvXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0aWYgKGNoZWNrRXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgU2NoZWR1bGUgY2hlY2sgZmFpbGVkOiAke2NoZWNrRXJyb3IubWVzc2FnZX1gKTtcblx0XHR9XG5cblx0XHRpZiAoIWV4aXN0aW5nU2NoZWR1bGUpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIlNjaGVkdWxlIG5vdCBmb3VuZFwiKTtcblx0XHR9XG5cblx0XHQvLyBVcGRhdGUgdGhlIHNjaGVkdWxlJ3MgYXNzaWduZWRfdG8gZmllbGRcblx0XHRjb25zdCB7IGRhdGE6IHVwZGF0ZWRTY2hlZHVsZSwgZXJyb3I6IHNjaGVkdWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7IGFzc2lnbmVkX3RvOiB0ZWNobmljaWFuSWQgfSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChzY2hlZHVsZUVycm9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYFNjaGVkdWxlIHVwZGF0ZSBmYWlsZWQ6ICR7c2NoZWR1bGVFcnJvci5tZXNzYWdlfWApO1xuXHRcdH1cblxuXHRcdC8vIERvbid0IHJldmFsaWRhdGUgaW1tZWRpYXRlbHkgLSBsZXQgdGhlIG9wdGltaXN0aWMgdXBkYXRlIHNob3dcblx0XHQvLyByZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvc2NoZWR1bGVcIik7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogdXBkYXRlZFNjaGVkdWxlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gYXNzaWduIGpvYlwiLFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUFwcG9pbnRtZW50VGltZXMoXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0c3RhcnRUaW1lOiBEYXRlLFxuXHRlbmRUaW1lOiBEYXRlLFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgZHVyYXRpb24gPSBNYXRoLnJvdW5kKFxuXHRcdFx0KGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSxcblx0XHQpO1xuXG5cdFx0Ly8gRm9ybWF0IGFzIGxvY2FsIGRhdGV0aW1lIHN0cmluZyBXSVRIT1VUIHRpbWV6b25lIGNvbnZlcnNpb25cblx0XHQvLyBHZXQgeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWludXRlIGZyb20gdGhlIERhdGUgb2JqZWN0IGRpcmVjdGx5XG5cdFx0Y29uc3QgZm9ybWF0TG9jYWxEYXRlVGltZSA9IChkYXRlOiBEYXRlKSA9PiB7XG5cdFx0XHRjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0Y29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBob3VyID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgbWludXRlID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBzZWNvbmQgPSBTdHJpbmcoZGF0ZS5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX0gJHtob3VyfToke21pbnV0ZX06JHtzZWNvbmR9YDtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3RhcnRTdHIgPSBmb3JtYXRMb2NhbERhdGVUaW1lKHN0YXJ0VGltZSk7XG5cdFx0Y29uc3QgZW5kU3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShlbmRUaW1lKTtcblxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXJ0X3RpbWU6IHN0YXJ0U3RyLFxuXHRcdFx0XHRlbmRfdGltZTogZW5kU3RyLFxuXHRcdFx0XHRkdXJhdGlvbixcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gRG9uJ3QgcmV2YWxpZGF0ZSBpbW1lZGlhdGVseSAtIGxldCB0aGUgb3B0aW1pc3RpYyB1cGRhdGUgc2hvd1xuXHRcdC8vIHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9zY2hlZHVsZVwiKTtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gdXBkYXRlIHRpbWVzXCIsXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2FuY2VsQXBwb2ludG1lbnQoc2NoZWR1bGVJZDogc3RyaW5nLCByZWFzb24/OiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gQ2FuY2VsIGFwcG9pbnRtZW50IC0gdW5zY2hlZHVsZSBpdCAocmVtb3ZlIGFzc2lnbmVkX3RvKVxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIixcblx0XHRcdFx0YXNzaWduZWRfdG86IG51bGwsIC8vIFVuYXNzaWduIHRlY2huaWNpYW5cblx0XHRcdFx0Y2FuY2VsbGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG5cdFx0XHRcdGNhbmNlbGxlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0Y2FuY2VsbGF0aW9uX3JlYXNvbjogcmVhc29uIHx8IG51bGwsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgc2NoZWR1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byBjYW5jZWwgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjYW5jZWxKb2JBbmRBcHBvaW50bWVudChcblx0c2NoZWR1bGVJZDogc3RyaW5nLFxuXHRqb2JJZDogc3RyaW5nLFxuXHRyZWFzb24/OiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG5cdFx0Ly8gQ2FuY2VsIHRoZSBhcHBvaW50bWVudFxuXHRcdGNvbnN0IHsgZXJyb3I6IHNjaGVkdWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIixcblx0XHRcdFx0YXNzaWduZWRfdG86IG51bGwsXG5cdFx0XHRcdGNhbmNlbGxlZF9hdDogbm93LFxuXHRcdFx0XHRjYW5jZWxsZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHRcdGNhbmNlbGxhdGlvbl9yZWFzb246IHJlYXNvbiB8fCBudWxsLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKHNjaGVkdWxlRXJyb3IpIHtcblx0XHRcdHRocm93IHNjaGVkdWxlRXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gQWxzbyBjYW5jZWwgdGhlIGpvYiBpZiBpdCBleGlzdHNcblx0XHRpZiAoam9iSWQpIHtcblx0XHRcdGNvbnN0IHsgZXJyb3I6IGpvYkVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0XHQuZnJvbShcImpvYnNcIilcblx0XHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdFx0c3RhdHVzOiBcImNhbmNlbGxlZFwiLFxuXHRcdFx0XHRcdGNhbmNlbGxlZF9hdDogbm93LFxuXHRcdFx0XHRcdGNhbmNlbGxlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0XHRjYW5jZWxsYXRpb25fcmVhc29uOiByZWFzb24gfHwgbnVsbCxcblx0XHRcdFx0fSlcblx0XHRcdFx0LmVxKFwiaWRcIiwgam9iSWQpO1xuXG5cdFx0XHRpZiAoam9iRXJyb3IpIHtcblx0XHRcdFx0dGhyb3cgam9iRXJyb3I7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byBjYW5jZWwgam9iIGFuZCBhcHBvaW50bWVudFwiLFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFyY2hpdmVBcHBvaW50bWVudChzY2hlZHVsZUlkOiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRhcmNoaXZlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIGFyY2hpdmUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb21wbGV0ZUFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG5cdGlmICghc3VwYWJhc2UpIHtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRGF0YWJhc2Ugbm90IGF2YWlsYWJsZVwiIH07XG5cdH1cblxuXHR0cnkge1xuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblxuXHRcdGlmICghdXNlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vdCBhdXRoZW50aWNhdGVkXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRzdGF0dXM6IFwiY29tcGxldGVkXCIsXG5cdFx0XHRcdGFjdHVhbF9lbmRfdGltZTogbm93LFxuXHRcdFx0XHRjb21wbGV0ZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgc2NoZWR1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gY29tcGxldGUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbnR5cGUgRGlzcGF0Y2hTdGF0dXMgPSBcImRpc3BhdGNoZWRcIiB8IFwiYXJyaXZlZFwiIHwgXCJjbG9zZWRcIjtcblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlU2NoZWR1bGVTdGF0dXMoXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0c3RhdHVzOiBEaXNwYXRjaFN0YXR1cyxcblx0ZXh0cmFVcGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9LFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblx0XHRjb25zdCB1cGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHtcblx0XHRcdHN0YXR1cyxcblx0XHRcdHVwZGF0ZWRfYXQ6IG5vdyxcblx0XHRcdC4uLmV4dHJhVXBkYXRlcyxcblx0XHR9O1xuXG5cdFx0aWYgKHN0YXR1cyA9PT0gXCJjbG9zZWRcIikge1xuXHRcdFx0dXBkYXRlcy5jb21wbGV0ZWRfYnkgPSB1c2VyLmlkO1xuXHRcdFx0dXBkYXRlcy5hY3R1YWxfZW5kX3RpbWUgPSB1cGRhdGVzLmFjdHVhbF9lbmRfdGltZSA/PyBub3c7XG5cdFx0fVxuXG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHVwZGF0ZXMpXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBgRmFpbGVkIHRvIHVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMgdG8gJHtzdGF0dXN9YCxcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkaXNwYXRjaEFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRyZXR1cm4gdXBkYXRlU2NoZWR1bGVTdGF0dXMoc2NoZWR1bGVJZCwgXCJkaXNwYXRjaGVkXCIpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXJyaXZlQXBwb2ludG1lbnQoc2NoZWR1bGVJZDogc3RyaW5nKSB7XG5cdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblx0cmV0dXJuIHVwZGF0ZVNjaGVkdWxlU3RhdHVzKHNjaGVkdWxlSWQsIFwiYXJyaXZlZFwiLCB7XG5cdFx0YWN0dWFsX3N0YXJ0X3RpbWU6IG5vdyxcblx0fSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbG9zZUFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cdHJldHVybiB1cGRhdGVTY2hlZHVsZVN0YXR1cyhzY2hlZHVsZUlkLCBcImNsb3NlZFwiLCB7XG5cdFx0YWN0dWFsX2VuZF90aW1lOiBub3csXG5cdH0pO1xufVxuXG4vKipcbiAqIE1vdmUgYW4gZXhpc3RpbmcgYXBwb2ludG1lbnQgdG8gYSBuZXcgdGVjaG5pY2lhbiBhbmQvb3IgdGltZSBzbG90XG4gKiBCYXRjaGVzIGJvdGggb3BlcmF0aW9ucyBpbiBhIHNpbmdsZSBkYXRhYmFzZSBjYWxsIGZvciBwZXJmb3JtYW5jZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbW92ZUFwcG9pbnRtZW50KFxuXHRzY2hlZHVsZUlkOiBzdHJpbmcsXG5cdHRlY2huaWNpYW5JZDogc3RyaW5nLFxuXHRzdGFydFRpbWU6IERhdGUsXG5cdGVuZFRpbWU6IERhdGUsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCBkdXJhdGlvbiA9IE1hdGgucm91bmQoXG5cdFx0XHQoZW5kVGltZS5nZXRUaW1lKCkgLSBzdGFydFRpbWUuZ2V0VGltZSgpKSAvICgxMDAwICogNjApLFxuXHRcdCk7XG5cblx0XHQvLyBGb3JtYXQgYXMgbG9jYWwgZGF0ZXRpbWUgc3RyaW5nIFdJVEhPVVQgdGltZXpvbmUgY29udmVyc2lvblxuXHRcdGNvbnN0IGZvcm1hdExvY2FsRGF0ZVRpbWUgPSAoZGF0ZTogRGF0ZSkgPT4ge1xuXHRcdFx0Y29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcblx0XHRcdGNvbnN0IG1vbnRoID0gU3RyaW5nKGRhdGUuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGNvbnN0IGRheSA9IFN0cmluZyhkYXRlLmdldERhdGUoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgaG91ciA9IFN0cmluZyhkYXRlLmdldEhvdXJzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGNvbnN0IG1pbnV0ZSA9IFN0cmluZyhkYXRlLmdldE1pbnV0ZXMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3Qgc2Vjb25kID0gU3RyaW5nKGRhdGUuZ2V0U2Vjb25kcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRyZXR1cm4gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9ICR7aG91cn06JHttaW51dGV9OiR7c2Vjb25kfWA7XG5cdFx0fTtcblxuXHRcdGNvbnN0IHN0YXJ0U3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShzdGFydFRpbWUpO1xuXHRcdGNvbnN0IGVuZFN0ciA9IGZvcm1hdExvY2FsRGF0ZVRpbWUoZW5kVGltZSk7XG5cblx0XHQvLyBTaW5nbGUgYXRvbWljIHVwZGF0ZSBmb3IgYm90aCBhc3NpZ25tZW50IGFuZCB0aW1lc1xuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdGFzc2lnbmVkX3RvOiB0ZWNobmljaWFuSWQsXG5cdFx0XHRcdHN0YXJ0X3RpbWU6IHN0YXJ0U3RyLFxuXHRcdFx0XHRlbmRfdGltZTogZW5kU3RyLFxuXHRcdFx0XHRkdXJhdGlvbixcblx0XHRcdFx0dXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiRmFpbGVkIHRvIG1vdmUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogQXNzaWduIGFuIHVuYXNzaWduZWQgam9iIHRvIGEgdGVjaG5pY2lhbiB3aXRoIGEgc3BlY2lmaWMgdGltZSBzbG90XG4gKiBVc2VkIHdoZW4gZHJhZ2dpbmcgZnJvbSB1bmFzc2lnbmVkIHBhbmVsIHRvIGEgdGVjaG5pY2lhbiBsYW5lXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhc3NpZ25OZXdBcHBvaW50bWVudChcblx0c2NoZWR1bGVJZDogc3RyaW5nLFxuXHR0ZWNobmljaWFuSWQ6IHN0cmluZyxcblx0c3RhcnRUaW1lOiBEYXRlLFxuXHRlbmRUaW1lOiBEYXRlLFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgZHVyYXRpb24gPSBNYXRoLnJvdW5kKFxuXHRcdFx0KGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSxcblx0XHQpO1xuXG5cdFx0Y29uc3QgZm9ybWF0TG9jYWxEYXRlVGltZSA9IChkYXRlOiBEYXRlKSA9PiB7XG5cdFx0XHRjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0Y29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBob3VyID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgbWludXRlID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBzZWNvbmQgPSBTdHJpbmcoZGF0ZS5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX0gJHtob3VyfToke21pbnV0ZX06JHtzZWNvbmR9YDtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3RhcnRTdHIgPSBmb3JtYXRMb2NhbERhdGVUaW1lKHN0YXJ0VGltZSk7XG5cdFx0Y29uc3QgZW5kU3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShlbmRUaW1lKTtcblxuXHRcdC8vIFNpbmdsZSBhdG9taWMgdXBkYXRlIGZvciBhc3NpZ25tZW50XG5cdFx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHtcblx0XHRcdFx0YXNzaWduZWRfdG86IHRlY2huaWNpYW5JZCxcblx0XHRcdFx0c3RhcnRfdGltZTogc3RhcnRTdHIsXG5cdFx0XHRcdGVuZF90aW1lOiBlbmRTdHIsXG5cdFx0XHRcdGR1cmF0aW9uLFxuXHRcdFx0XHRzdGF0dXM6IFwic2NoZWR1bGVkXCIsXG5cdFx0XHRcdHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKVxuXHRcdFx0LnNlbGVjdCgpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGEgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gYXNzaWduIGFwcG9pbnRtZW50XCIsXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdW5hc3NpZ25BcHBvaW50bWVudChzY2hlZHVsZUlkOiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRhc3NpZ25lZF90bzogbnVsbCxcblx0XHRcdFx0dXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIG1vdmUgYXBwb2ludG1lbnQgdG8gVW5zY2hlZHVsZWRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogU2VuZCBcIk9uIE15IFdheVwiIFNNUyBub3RpZmljYXRpb24gdG8gY3VzdG9tZXJcbiAqIEluY2x1ZGVzIHRlY2huaWNpYW4gbmFtZSBhbmQgZXN0aW1hdGVkIGFycml2YWwgdGltZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZE9uTXlXYXlOb3RpZmljYXRpb24oXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0dGVjaG5pY2lhbk5hbWU6IHN0cmluZyxcblx0Y3VzdG9tZXJQaG9uZTogc3RyaW5nLFxuXHRkZXN0aW5hdGlvbkFkZHJlc3M/OiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHQvLyBHZXQgdXNlciBhbmQgY29tcGFueSBpbmZvXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBjb21wYW55J3MgVGVsbnl4IHNldHRpbmdzIGZvciB0aGUgZnJvbSBudW1iZXJcblx0XHRjb25zdCB7IGRhdGE6IG1lbWJlcnNoaXAgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfbWVtYmVyc2hpcHNcIilcblx0XHRcdC5zZWxlY3QoXCJjb21wYW55X2lkXCIpXG5cdFx0XHQuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpXG5cdFx0XHQuZXEoXCJzdGF0dXNcIiwgXCJhY3RpdmVcIilcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghbWVtYmVyc2hpcD8uY29tcGFueV9pZCkge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIGFjdGl2ZSBjb21wYW55IG1lbWJlcnNoaXBcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IHsgZGF0YTogdGVsbnl4U2V0dGluZ3MgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfdGVsbnl4X3NldHRpbmdzXCIpXG5cdFx0XHQuc2VsZWN0KFwicGhvbmVfbnVtYmVyLCBzdGF0dXNcIilcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgbWVtYmVyc2hpcC5jb21wYW55X2lkKVxuXHRcdFx0LmVxKFwic3RhdHVzXCIsIFwicmVhZHlcIilcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghdGVsbnl4U2V0dGluZ3M/LnBob25lX251bWJlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIHBob25lIG51bWJlciBjb25maWd1cmVkIGZvciBTTVNcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBjb21wYW55IG5hbWUgZm9yIHRoZSBtZXNzYWdlXG5cdFx0Y29uc3QgeyBkYXRhOiBjb21wYW55IH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjb21wYW5pZXNcIilcblx0XHRcdC5zZWxlY3QoXCJuYW1lXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBtZW1iZXJzaGlwLmNvbXBhbnlfaWQpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHQvLyBCdWlsZCB0aGUgXCJPbiBNeSBXYXlcIiBtZXNzYWdlXG5cdFx0bGV0IG1lc3NhZ2UgPSBgSGkhICR7dGVjaG5pY2lhbk5hbWV9IGZyb20gJHtjb21wYW55Py5uYW1lIHx8IFwieW91ciBzZXJ2aWNlIHByb3ZpZGVyXCJ9IGlzIG9uIHRoZSB3YXkgdG8geW91ciBhcHBvaW50bWVudC5gO1xuXG5cdFx0Ly8gVHJ5IHRvIGdldCB0cmF2ZWwgdGltZSBlc3RpbWF0ZSBpZiB3ZSBoYXZlIGEgZGVzdGluYXRpb25cblx0XHRpZiAoZGVzdGluYXRpb25BZGRyZXNzKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCBiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBQX1VSTCB8fCBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMFwiO1xuXHRcdFx0XHRjb25zdCB0cmF2ZWxSZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0XHRcdGAke2Jhc2VVcmx9L2FwaS90cmF2ZWwtdGltZT9kZXN0aW5hdGlvbj0ke2VuY29kZVVSSUNvbXBvbmVudChkZXN0aW5hdGlvbkFkZHJlc3MpfWAsXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0aGVhZGVyczoge1xuXHRcdFx0XHRcdFx0XHRDb29raWU6IGBzYi1hY2Nlc3MtdG9rZW49JHt1c2VyLmlkfWAsIC8vIFBhc3MgYXV0aCBjb250ZXh0XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0aWYgKHRyYXZlbFJlc3BvbnNlLm9rKSB7XG5cdFx0XHRcdFx0Y29uc3QgdHJhdmVsRGF0YSA9IGF3YWl0IHRyYXZlbFJlc3BvbnNlLmpzb24oKTtcblx0XHRcdFx0XHRpZiAodHJhdmVsRGF0YS5kdXJhdGlvblRleHQpIHtcblx0XHRcdFx0XHRcdG1lc3NhZ2UgKz0gYCBFc3RpbWF0ZWQgYXJyaXZhbDogJHt0cmF2ZWxEYXRhLmR1cmF0aW9uVGV4dH0uYDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHQvLyBUcmF2ZWwgdGltZSBmZXRjaCBmYWlsZWQgLSBjb250aW51ZSB3aXRob3V0IGl0XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0bWVzc2FnZSArPSBcIiBXZSdsbCBzZWUgeW91IHNvb24hXCI7XG5cblx0XHQvLyBTZW5kIHRoZSBTTVMgdmlhIFRlbG55eFxuXHRcdGNvbnN0IHsgc2VuZFNNUyB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvdGVsbnl4L21lc3NhZ2luZ1wiKTtcblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kU01TKHtcblx0XHRcdHRvOiBjdXN0b21lclBob25lLFxuXHRcdFx0ZnJvbTogdGVsbnl4U2V0dGluZ3MucGhvbmVfbnVtYmVyLFxuXHRcdFx0dGV4dDogbWVzc2FnZSxcblx0XHR9KTtcblxuXHRcdGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gc2VuZCBTTVNcIiB9O1xuXHRcdH1cblxuXHRcdC8vIFVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMgdG8gZGlzcGF0Y2hlZFxuXHRcdGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJkaXNwYXRjaGVkXCIsXG5cdFx0XHRcdGRpc3BhdGNoZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0bWVzc2FnZTogXCJPbiBNeSBXYXkgbm90aWZpY2F0aW9uIHNlbnQgc3VjY2Vzc2Z1bGx5XCIsXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gc2VuZCBPbiBNeSBXYXkgbm90aWZpY2F0aW9uXCIsXG5cdFx0fTtcblx0fVxufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI2VEF1SnNCIn0=
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:c144d7 [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"405645e6df1983c34b10006ca5db8d7c163a9d8022":"closeAppointment"},"apps/web/src/actions/schedule-assignments.ts",""] */ __turbopack_context__.s([
    "closeAppointment",
    ()=>closeAppointment
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var closeAppointment = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("405645e6df1983c34b10006ca5db8d7c163a9d8022", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "closeAppointment"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vc2NoZWR1bGUtYXNzaWdubWVudHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc2VydmVyXCI7XG5cbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gXCJAL2xpYi9zdXBhYmFzZS9zZXJ2ZXJcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFzc2lnbkpvYlRvVGVjaG5pY2lhbihcblx0X2pvYklkOiBzdHJpbmcsXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0dGVjaG5pY2lhbklkOiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHQvLyBGaXJzdCBjaGVjayBpZiB0aGUgc2NoZWR1bGUgZXhpc3RzIGFuZCBnZXQgY3VycmVudCBhc3NpZ25tZW50XG5cdFx0Y29uc3QgeyBkYXRhOiBleGlzdGluZ1NjaGVkdWxlLCBlcnJvcjogY2hlY2tFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQuc2VsZWN0KFwiaWQsIGFzc2lnbmVkX3RvXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0aWYgKGNoZWNrRXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgU2NoZWR1bGUgY2hlY2sgZmFpbGVkOiAke2NoZWNrRXJyb3IubWVzc2FnZX1gKTtcblx0XHR9XG5cblx0XHRpZiAoIWV4aXN0aW5nU2NoZWR1bGUpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIlNjaGVkdWxlIG5vdCBmb3VuZFwiKTtcblx0XHR9XG5cblx0XHQvLyBVcGRhdGUgdGhlIHNjaGVkdWxlJ3MgYXNzaWduZWRfdG8gZmllbGRcblx0XHRjb25zdCB7IGRhdGE6IHVwZGF0ZWRTY2hlZHVsZSwgZXJyb3I6IHNjaGVkdWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7IGFzc2lnbmVkX3RvOiB0ZWNobmljaWFuSWQgfSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChzY2hlZHVsZUVycm9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYFNjaGVkdWxlIHVwZGF0ZSBmYWlsZWQ6ICR7c2NoZWR1bGVFcnJvci5tZXNzYWdlfWApO1xuXHRcdH1cblxuXHRcdC8vIERvbid0IHJldmFsaWRhdGUgaW1tZWRpYXRlbHkgLSBsZXQgdGhlIG9wdGltaXN0aWMgdXBkYXRlIHNob3dcblx0XHQvLyByZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvc2NoZWR1bGVcIik7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogdXBkYXRlZFNjaGVkdWxlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gYXNzaWduIGpvYlwiLFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUFwcG9pbnRtZW50VGltZXMoXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0c3RhcnRUaW1lOiBEYXRlLFxuXHRlbmRUaW1lOiBEYXRlLFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgZHVyYXRpb24gPSBNYXRoLnJvdW5kKFxuXHRcdFx0KGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSxcblx0XHQpO1xuXG5cdFx0Ly8gRm9ybWF0IGFzIGxvY2FsIGRhdGV0aW1lIHN0cmluZyBXSVRIT1VUIHRpbWV6b25lIGNvbnZlcnNpb25cblx0XHQvLyBHZXQgeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWludXRlIGZyb20gdGhlIERhdGUgb2JqZWN0IGRpcmVjdGx5XG5cdFx0Y29uc3QgZm9ybWF0TG9jYWxEYXRlVGltZSA9IChkYXRlOiBEYXRlKSA9PiB7XG5cdFx0XHRjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0Y29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBob3VyID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgbWludXRlID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBzZWNvbmQgPSBTdHJpbmcoZGF0ZS5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX0gJHtob3VyfToke21pbnV0ZX06JHtzZWNvbmR9YDtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3RhcnRTdHIgPSBmb3JtYXRMb2NhbERhdGVUaW1lKHN0YXJ0VGltZSk7XG5cdFx0Y29uc3QgZW5kU3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShlbmRUaW1lKTtcblxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXJ0X3RpbWU6IHN0YXJ0U3RyLFxuXHRcdFx0XHRlbmRfdGltZTogZW5kU3RyLFxuXHRcdFx0XHRkdXJhdGlvbixcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gRG9uJ3QgcmV2YWxpZGF0ZSBpbW1lZGlhdGVseSAtIGxldCB0aGUgb3B0aW1pc3RpYyB1cGRhdGUgc2hvd1xuXHRcdC8vIHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9zY2hlZHVsZVwiKTtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gdXBkYXRlIHRpbWVzXCIsXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2FuY2VsQXBwb2ludG1lbnQoc2NoZWR1bGVJZDogc3RyaW5nLCByZWFzb24/OiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gQ2FuY2VsIGFwcG9pbnRtZW50IC0gdW5zY2hlZHVsZSBpdCAocmVtb3ZlIGFzc2lnbmVkX3RvKVxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIixcblx0XHRcdFx0YXNzaWduZWRfdG86IG51bGwsIC8vIFVuYXNzaWduIHRlY2huaWNpYW5cblx0XHRcdFx0Y2FuY2VsbGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG5cdFx0XHRcdGNhbmNlbGxlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0Y2FuY2VsbGF0aW9uX3JlYXNvbjogcmVhc29uIHx8IG51bGwsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgc2NoZWR1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byBjYW5jZWwgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjYW5jZWxKb2JBbmRBcHBvaW50bWVudChcblx0c2NoZWR1bGVJZDogc3RyaW5nLFxuXHRqb2JJZDogc3RyaW5nLFxuXHRyZWFzb24/OiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG5cdFx0Ly8gQ2FuY2VsIHRoZSBhcHBvaW50bWVudFxuXHRcdGNvbnN0IHsgZXJyb3I6IHNjaGVkdWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIixcblx0XHRcdFx0YXNzaWduZWRfdG86IG51bGwsXG5cdFx0XHRcdGNhbmNlbGxlZF9hdDogbm93LFxuXHRcdFx0XHRjYW5jZWxsZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHRcdGNhbmNlbGxhdGlvbl9yZWFzb246IHJlYXNvbiB8fCBudWxsLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKHNjaGVkdWxlRXJyb3IpIHtcblx0XHRcdHRocm93IHNjaGVkdWxlRXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gQWxzbyBjYW5jZWwgdGhlIGpvYiBpZiBpdCBleGlzdHNcblx0XHRpZiAoam9iSWQpIHtcblx0XHRcdGNvbnN0IHsgZXJyb3I6IGpvYkVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0XHQuZnJvbShcImpvYnNcIilcblx0XHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdFx0c3RhdHVzOiBcImNhbmNlbGxlZFwiLFxuXHRcdFx0XHRcdGNhbmNlbGxlZF9hdDogbm93LFxuXHRcdFx0XHRcdGNhbmNlbGxlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0XHRjYW5jZWxsYXRpb25fcmVhc29uOiByZWFzb24gfHwgbnVsbCxcblx0XHRcdFx0fSlcblx0XHRcdFx0LmVxKFwiaWRcIiwgam9iSWQpO1xuXG5cdFx0XHRpZiAoam9iRXJyb3IpIHtcblx0XHRcdFx0dGhyb3cgam9iRXJyb3I7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byBjYW5jZWwgam9iIGFuZCBhcHBvaW50bWVudFwiLFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFyY2hpdmVBcHBvaW50bWVudChzY2hlZHVsZUlkOiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRhcmNoaXZlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIGFyY2hpdmUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb21wbGV0ZUFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG5cdGlmICghc3VwYWJhc2UpIHtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRGF0YWJhc2Ugbm90IGF2YWlsYWJsZVwiIH07XG5cdH1cblxuXHR0cnkge1xuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblxuXHRcdGlmICghdXNlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vdCBhdXRoZW50aWNhdGVkXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRzdGF0dXM6IFwiY29tcGxldGVkXCIsXG5cdFx0XHRcdGFjdHVhbF9lbmRfdGltZTogbm93LFxuXHRcdFx0XHRjb21wbGV0ZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgc2NoZWR1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gY29tcGxldGUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbnR5cGUgRGlzcGF0Y2hTdGF0dXMgPSBcImRpc3BhdGNoZWRcIiB8IFwiYXJyaXZlZFwiIHwgXCJjbG9zZWRcIjtcblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlU2NoZWR1bGVTdGF0dXMoXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0c3RhdHVzOiBEaXNwYXRjaFN0YXR1cyxcblx0ZXh0cmFVcGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9LFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblx0XHRjb25zdCB1cGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHtcblx0XHRcdHN0YXR1cyxcblx0XHRcdHVwZGF0ZWRfYXQ6IG5vdyxcblx0XHRcdC4uLmV4dHJhVXBkYXRlcyxcblx0XHR9O1xuXG5cdFx0aWYgKHN0YXR1cyA9PT0gXCJjbG9zZWRcIikge1xuXHRcdFx0dXBkYXRlcy5jb21wbGV0ZWRfYnkgPSB1c2VyLmlkO1xuXHRcdFx0dXBkYXRlcy5hY3R1YWxfZW5kX3RpbWUgPSB1cGRhdGVzLmFjdHVhbF9lbmRfdGltZSA/PyBub3c7XG5cdFx0fVxuXG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHVwZGF0ZXMpXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBgRmFpbGVkIHRvIHVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMgdG8gJHtzdGF0dXN9YCxcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkaXNwYXRjaEFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRyZXR1cm4gdXBkYXRlU2NoZWR1bGVTdGF0dXMoc2NoZWR1bGVJZCwgXCJkaXNwYXRjaGVkXCIpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXJyaXZlQXBwb2ludG1lbnQoc2NoZWR1bGVJZDogc3RyaW5nKSB7XG5cdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblx0cmV0dXJuIHVwZGF0ZVNjaGVkdWxlU3RhdHVzKHNjaGVkdWxlSWQsIFwiYXJyaXZlZFwiLCB7XG5cdFx0YWN0dWFsX3N0YXJ0X3RpbWU6IG5vdyxcblx0fSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbG9zZUFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cdHJldHVybiB1cGRhdGVTY2hlZHVsZVN0YXR1cyhzY2hlZHVsZUlkLCBcImNsb3NlZFwiLCB7XG5cdFx0YWN0dWFsX2VuZF90aW1lOiBub3csXG5cdH0pO1xufVxuXG4vKipcbiAqIE1vdmUgYW4gZXhpc3RpbmcgYXBwb2ludG1lbnQgdG8gYSBuZXcgdGVjaG5pY2lhbiBhbmQvb3IgdGltZSBzbG90XG4gKiBCYXRjaGVzIGJvdGggb3BlcmF0aW9ucyBpbiBhIHNpbmdsZSBkYXRhYmFzZSBjYWxsIGZvciBwZXJmb3JtYW5jZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbW92ZUFwcG9pbnRtZW50KFxuXHRzY2hlZHVsZUlkOiBzdHJpbmcsXG5cdHRlY2huaWNpYW5JZDogc3RyaW5nLFxuXHRzdGFydFRpbWU6IERhdGUsXG5cdGVuZFRpbWU6IERhdGUsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCBkdXJhdGlvbiA9IE1hdGgucm91bmQoXG5cdFx0XHQoZW5kVGltZS5nZXRUaW1lKCkgLSBzdGFydFRpbWUuZ2V0VGltZSgpKSAvICgxMDAwICogNjApLFxuXHRcdCk7XG5cblx0XHQvLyBGb3JtYXQgYXMgbG9jYWwgZGF0ZXRpbWUgc3RyaW5nIFdJVEhPVVQgdGltZXpvbmUgY29udmVyc2lvblxuXHRcdGNvbnN0IGZvcm1hdExvY2FsRGF0ZVRpbWUgPSAoZGF0ZTogRGF0ZSkgPT4ge1xuXHRcdFx0Y29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcblx0XHRcdGNvbnN0IG1vbnRoID0gU3RyaW5nKGRhdGUuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGNvbnN0IGRheSA9IFN0cmluZyhkYXRlLmdldERhdGUoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgaG91ciA9IFN0cmluZyhkYXRlLmdldEhvdXJzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGNvbnN0IG1pbnV0ZSA9IFN0cmluZyhkYXRlLmdldE1pbnV0ZXMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3Qgc2Vjb25kID0gU3RyaW5nKGRhdGUuZ2V0U2Vjb25kcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRyZXR1cm4gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9ICR7aG91cn06JHttaW51dGV9OiR7c2Vjb25kfWA7XG5cdFx0fTtcblxuXHRcdGNvbnN0IHN0YXJ0U3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShzdGFydFRpbWUpO1xuXHRcdGNvbnN0IGVuZFN0ciA9IGZvcm1hdExvY2FsRGF0ZVRpbWUoZW5kVGltZSk7XG5cblx0XHQvLyBTaW5nbGUgYXRvbWljIHVwZGF0ZSBmb3IgYm90aCBhc3NpZ25tZW50IGFuZCB0aW1lc1xuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdGFzc2lnbmVkX3RvOiB0ZWNobmljaWFuSWQsXG5cdFx0XHRcdHN0YXJ0X3RpbWU6IHN0YXJ0U3RyLFxuXHRcdFx0XHRlbmRfdGltZTogZW5kU3RyLFxuXHRcdFx0XHRkdXJhdGlvbixcblx0XHRcdFx0dXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiRmFpbGVkIHRvIG1vdmUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogQXNzaWduIGFuIHVuYXNzaWduZWQgam9iIHRvIGEgdGVjaG5pY2lhbiB3aXRoIGEgc3BlY2lmaWMgdGltZSBzbG90XG4gKiBVc2VkIHdoZW4gZHJhZ2dpbmcgZnJvbSB1bmFzc2lnbmVkIHBhbmVsIHRvIGEgdGVjaG5pY2lhbiBsYW5lXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhc3NpZ25OZXdBcHBvaW50bWVudChcblx0c2NoZWR1bGVJZDogc3RyaW5nLFxuXHR0ZWNobmljaWFuSWQ6IHN0cmluZyxcblx0c3RhcnRUaW1lOiBEYXRlLFxuXHRlbmRUaW1lOiBEYXRlLFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgZHVyYXRpb24gPSBNYXRoLnJvdW5kKFxuXHRcdFx0KGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSxcblx0XHQpO1xuXG5cdFx0Y29uc3QgZm9ybWF0TG9jYWxEYXRlVGltZSA9IChkYXRlOiBEYXRlKSA9PiB7XG5cdFx0XHRjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0Y29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBob3VyID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgbWludXRlID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBzZWNvbmQgPSBTdHJpbmcoZGF0ZS5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX0gJHtob3VyfToke21pbnV0ZX06JHtzZWNvbmR9YDtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3RhcnRTdHIgPSBmb3JtYXRMb2NhbERhdGVUaW1lKHN0YXJ0VGltZSk7XG5cdFx0Y29uc3QgZW5kU3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShlbmRUaW1lKTtcblxuXHRcdC8vIFNpbmdsZSBhdG9taWMgdXBkYXRlIGZvciBhc3NpZ25tZW50XG5cdFx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHtcblx0XHRcdFx0YXNzaWduZWRfdG86IHRlY2huaWNpYW5JZCxcblx0XHRcdFx0c3RhcnRfdGltZTogc3RhcnRTdHIsXG5cdFx0XHRcdGVuZF90aW1lOiBlbmRTdHIsXG5cdFx0XHRcdGR1cmF0aW9uLFxuXHRcdFx0XHRzdGF0dXM6IFwic2NoZWR1bGVkXCIsXG5cdFx0XHRcdHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKVxuXHRcdFx0LnNlbGVjdCgpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGEgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gYXNzaWduIGFwcG9pbnRtZW50XCIsXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdW5hc3NpZ25BcHBvaW50bWVudChzY2hlZHVsZUlkOiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRhc3NpZ25lZF90bzogbnVsbCxcblx0XHRcdFx0dXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIG1vdmUgYXBwb2ludG1lbnQgdG8gVW5zY2hlZHVsZWRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogU2VuZCBcIk9uIE15IFdheVwiIFNNUyBub3RpZmljYXRpb24gdG8gY3VzdG9tZXJcbiAqIEluY2x1ZGVzIHRlY2huaWNpYW4gbmFtZSBhbmQgZXN0aW1hdGVkIGFycml2YWwgdGltZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZE9uTXlXYXlOb3RpZmljYXRpb24oXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0dGVjaG5pY2lhbk5hbWU6IHN0cmluZyxcblx0Y3VzdG9tZXJQaG9uZTogc3RyaW5nLFxuXHRkZXN0aW5hdGlvbkFkZHJlc3M/OiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHQvLyBHZXQgdXNlciBhbmQgY29tcGFueSBpbmZvXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBjb21wYW55J3MgVGVsbnl4IHNldHRpbmdzIGZvciB0aGUgZnJvbSBudW1iZXJcblx0XHRjb25zdCB7IGRhdGE6IG1lbWJlcnNoaXAgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfbWVtYmVyc2hpcHNcIilcblx0XHRcdC5zZWxlY3QoXCJjb21wYW55X2lkXCIpXG5cdFx0XHQuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpXG5cdFx0XHQuZXEoXCJzdGF0dXNcIiwgXCJhY3RpdmVcIilcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghbWVtYmVyc2hpcD8uY29tcGFueV9pZCkge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIGFjdGl2ZSBjb21wYW55IG1lbWJlcnNoaXBcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IHsgZGF0YTogdGVsbnl4U2V0dGluZ3MgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfdGVsbnl4X3NldHRpbmdzXCIpXG5cdFx0XHQuc2VsZWN0KFwicGhvbmVfbnVtYmVyLCBzdGF0dXNcIilcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgbWVtYmVyc2hpcC5jb21wYW55X2lkKVxuXHRcdFx0LmVxKFwic3RhdHVzXCIsIFwicmVhZHlcIilcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghdGVsbnl4U2V0dGluZ3M/LnBob25lX251bWJlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIHBob25lIG51bWJlciBjb25maWd1cmVkIGZvciBTTVNcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBjb21wYW55IG5hbWUgZm9yIHRoZSBtZXNzYWdlXG5cdFx0Y29uc3QgeyBkYXRhOiBjb21wYW55IH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjb21wYW5pZXNcIilcblx0XHRcdC5zZWxlY3QoXCJuYW1lXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBtZW1iZXJzaGlwLmNvbXBhbnlfaWQpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHQvLyBCdWlsZCB0aGUgXCJPbiBNeSBXYXlcIiBtZXNzYWdlXG5cdFx0bGV0IG1lc3NhZ2UgPSBgSGkhICR7dGVjaG5pY2lhbk5hbWV9IGZyb20gJHtjb21wYW55Py5uYW1lIHx8IFwieW91ciBzZXJ2aWNlIHByb3ZpZGVyXCJ9IGlzIG9uIHRoZSB3YXkgdG8geW91ciBhcHBvaW50bWVudC5gO1xuXG5cdFx0Ly8gVHJ5IHRvIGdldCB0cmF2ZWwgdGltZSBlc3RpbWF0ZSBpZiB3ZSBoYXZlIGEgZGVzdGluYXRpb25cblx0XHRpZiAoZGVzdGluYXRpb25BZGRyZXNzKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCBiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBQX1VSTCB8fCBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMFwiO1xuXHRcdFx0XHRjb25zdCB0cmF2ZWxSZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0XHRcdGAke2Jhc2VVcmx9L2FwaS90cmF2ZWwtdGltZT9kZXN0aW5hdGlvbj0ke2VuY29kZVVSSUNvbXBvbmVudChkZXN0aW5hdGlvbkFkZHJlc3MpfWAsXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0aGVhZGVyczoge1xuXHRcdFx0XHRcdFx0XHRDb29raWU6IGBzYi1hY2Nlc3MtdG9rZW49JHt1c2VyLmlkfWAsIC8vIFBhc3MgYXV0aCBjb250ZXh0XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0aWYgKHRyYXZlbFJlc3BvbnNlLm9rKSB7XG5cdFx0XHRcdFx0Y29uc3QgdHJhdmVsRGF0YSA9IGF3YWl0IHRyYXZlbFJlc3BvbnNlLmpzb24oKTtcblx0XHRcdFx0XHRpZiAodHJhdmVsRGF0YS5kdXJhdGlvblRleHQpIHtcblx0XHRcdFx0XHRcdG1lc3NhZ2UgKz0gYCBFc3RpbWF0ZWQgYXJyaXZhbDogJHt0cmF2ZWxEYXRhLmR1cmF0aW9uVGV4dH0uYDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHQvLyBUcmF2ZWwgdGltZSBmZXRjaCBmYWlsZWQgLSBjb250aW51ZSB3aXRob3V0IGl0XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0bWVzc2FnZSArPSBcIiBXZSdsbCBzZWUgeW91IHNvb24hXCI7XG5cblx0XHQvLyBTZW5kIHRoZSBTTVMgdmlhIFRlbG55eFxuXHRcdGNvbnN0IHsgc2VuZFNNUyB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvdGVsbnl4L21lc3NhZ2luZ1wiKTtcblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kU01TKHtcblx0XHRcdHRvOiBjdXN0b21lclBob25lLFxuXHRcdFx0ZnJvbTogdGVsbnl4U2V0dGluZ3MucGhvbmVfbnVtYmVyLFxuXHRcdFx0dGV4dDogbWVzc2FnZSxcblx0XHR9KTtcblxuXHRcdGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gc2VuZCBTTVNcIiB9O1xuXHRcdH1cblxuXHRcdC8vIFVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMgdG8gZGlzcGF0Y2hlZFxuXHRcdGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJkaXNwYXRjaGVkXCIsXG5cdFx0XHRcdGRpc3BhdGNoZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0bWVzc2FnZTogXCJPbiBNeSBXYXkgbm90aWZpY2F0aW9uIHNlbnQgc3VjY2Vzc2Z1bGx5XCIsXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gc2VuZCBPbiBNeSBXYXkgbm90aWZpY2F0aW9uXCIsXG5cdFx0fTtcblx0fVxufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJzVEFzV3NCIn0=
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:4f33a2 [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"7801ac5aea367d1da5c49d91d55f438a37887718ea":"sendOnMyWayNotification"},"apps/web/src/actions/schedule-assignments.ts",""] */ __turbopack_context__.s([
    "sendOnMyWayNotification",
    ()=>sendOnMyWayNotification
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var sendOnMyWayNotification = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("7801ac5aea367d1da5c49d91d55f438a37887718ea", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "sendOnMyWayNotification"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vc2NoZWR1bGUtYXNzaWdubWVudHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc2VydmVyXCI7XG5cbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gXCJAL2xpYi9zdXBhYmFzZS9zZXJ2ZXJcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFzc2lnbkpvYlRvVGVjaG5pY2lhbihcblx0X2pvYklkOiBzdHJpbmcsXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0dGVjaG5pY2lhbklkOiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHQvLyBGaXJzdCBjaGVjayBpZiB0aGUgc2NoZWR1bGUgZXhpc3RzIGFuZCBnZXQgY3VycmVudCBhc3NpZ25tZW50XG5cdFx0Y29uc3QgeyBkYXRhOiBleGlzdGluZ1NjaGVkdWxlLCBlcnJvcjogY2hlY2tFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQuc2VsZWN0KFwiaWQsIGFzc2lnbmVkX3RvXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0aWYgKGNoZWNrRXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgU2NoZWR1bGUgY2hlY2sgZmFpbGVkOiAke2NoZWNrRXJyb3IubWVzc2FnZX1gKTtcblx0XHR9XG5cblx0XHRpZiAoIWV4aXN0aW5nU2NoZWR1bGUpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIlNjaGVkdWxlIG5vdCBmb3VuZFwiKTtcblx0XHR9XG5cblx0XHQvLyBVcGRhdGUgdGhlIHNjaGVkdWxlJ3MgYXNzaWduZWRfdG8gZmllbGRcblx0XHRjb25zdCB7IGRhdGE6IHVwZGF0ZWRTY2hlZHVsZSwgZXJyb3I6IHNjaGVkdWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7IGFzc2lnbmVkX3RvOiB0ZWNobmljaWFuSWQgfSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChzY2hlZHVsZUVycm9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYFNjaGVkdWxlIHVwZGF0ZSBmYWlsZWQ6ICR7c2NoZWR1bGVFcnJvci5tZXNzYWdlfWApO1xuXHRcdH1cblxuXHRcdC8vIERvbid0IHJldmFsaWRhdGUgaW1tZWRpYXRlbHkgLSBsZXQgdGhlIG9wdGltaXN0aWMgdXBkYXRlIHNob3dcblx0XHQvLyByZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvc2NoZWR1bGVcIik7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogdXBkYXRlZFNjaGVkdWxlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gYXNzaWduIGpvYlwiLFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZUFwcG9pbnRtZW50VGltZXMoXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0c3RhcnRUaW1lOiBEYXRlLFxuXHRlbmRUaW1lOiBEYXRlLFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgZHVyYXRpb24gPSBNYXRoLnJvdW5kKFxuXHRcdFx0KGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSxcblx0XHQpO1xuXG5cdFx0Ly8gRm9ybWF0IGFzIGxvY2FsIGRhdGV0aW1lIHN0cmluZyBXSVRIT1VUIHRpbWV6b25lIGNvbnZlcnNpb25cblx0XHQvLyBHZXQgeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWludXRlIGZyb20gdGhlIERhdGUgb2JqZWN0IGRpcmVjdGx5XG5cdFx0Y29uc3QgZm9ybWF0TG9jYWxEYXRlVGltZSA9IChkYXRlOiBEYXRlKSA9PiB7XG5cdFx0XHRjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0Y29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBob3VyID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgbWludXRlID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBzZWNvbmQgPSBTdHJpbmcoZGF0ZS5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX0gJHtob3VyfToke21pbnV0ZX06JHtzZWNvbmR9YDtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3RhcnRTdHIgPSBmb3JtYXRMb2NhbERhdGVUaW1lKHN0YXJ0VGltZSk7XG5cdFx0Y29uc3QgZW5kU3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShlbmRUaW1lKTtcblxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXJ0X3RpbWU6IHN0YXJ0U3RyLFxuXHRcdFx0XHRlbmRfdGltZTogZW5kU3RyLFxuXHRcdFx0XHRkdXJhdGlvbixcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gRG9uJ3QgcmV2YWxpZGF0ZSBpbW1lZGlhdGVseSAtIGxldCB0aGUgb3B0aW1pc3RpYyB1cGRhdGUgc2hvd1xuXHRcdC8vIHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9zY2hlZHVsZVwiKTtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogXCJGYWlsZWQgdG8gdXBkYXRlIHRpbWVzXCIsXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2FuY2VsQXBwb2ludG1lbnQoc2NoZWR1bGVJZDogc3RyaW5nLCByZWFzb24/OiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Ly8gQ2FuY2VsIGFwcG9pbnRtZW50IC0gdW5zY2hlZHVsZSBpdCAocmVtb3ZlIGFzc2lnbmVkX3RvKVxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIixcblx0XHRcdFx0YXNzaWduZWRfdG86IG51bGwsIC8vIFVuYXNzaWduIHRlY2huaWNpYW5cblx0XHRcdFx0Y2FuY2VsbGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG5cdFx0XHRcdGNhbmNlbGxlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0Y2FuY2VsbGF0aW9uX3JlYXNvbjogcmVhc29uIHx8IG51bGwsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgc2NoZWR1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBcIkZhaWxlZCB0byBjYW5jZWwgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjYW5jZWxKb2JBbmRBcHBvaW50bWVudChcblx0c2NoZWR1bGVJZDogc3RyaW5nLFxuXHRqb2JJZDogc3RyaW5nLFxuXHRyZWFzb24/OiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cblx0XHRpZiAoIXVzZXIpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJOb3QgYXV0aGVudGljYXRlZFwiIH07XG5cdFx0fVxuXG5cdFx0Y29uc3Qgbm93ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG5cdFx0Ly8gQ2FuY2VsIHRoZSBhcHBvaW50bWVudFxuXHRcdGNvbnN0IHsgZXJyb3I6IHNjaGVkdWxlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIixcblx0XHRcdFx0YXNzaWduZWRfdG86IG51bGwsXG5cdFx0XHRcdGNhbmNlbGxlZF9hdDogbm93LFxuXHRcdFx0XHRjYW5jZWxsZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHRcdGNhbmNlbGxhdGlvbl9yZWFzb246IHJlYXNvbiB8fCBudWxsLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKHNjaGVkdWxlRXJyb3IpIHtcblx0XHRcdHRocm93IHNjaGVkdWxlRXJyb3I7XG5cdFx0fVxuXG5cdFx0Ly8gQWxzbyBjYW5jZWwgdGhlIGpvYiBpZiBpdCBleGlzdHNcblx0XHRpZiAoam9iSWQpIHtcblx0XHRcdGNvbnN0IHsgZXJyb3I6IGpvYkVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0XHQuZnJvbShcImpvYnNcIilcblx0XHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdFx0c3RhdHVzOiBcImNhbmNlbGxlZFwiLFxuXHRcdFx0XHRcdGNhbmNlbGxlZF9hdDogbm93LFxuXHRcdFx0XHRcdGNhbmNlbGxlZF9ieTogdXNlci5pZCxcblx0XHRcdFx0XHRjYW5jZWxsYXRpb25fcmVhc29uOiByZWFzb24gfHwgbnVsbCxcblx0XHRcdFx0fSlcblx0XHRcdFx0LmVxKFwiaWRcIiwgam9iSWQpO1xuXG5cdFx0XHRpZiAoam9iRXJyb3IpIHtcblx0XHRcdFx0dGhyb3cgam9iRXJyb3I7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBcIkZhaWxlZCB0byBjYW5jZWwgam9iIGFuZCBhcHBvaW50bWVudFwiLFxuXHRcdH07XG5cdH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGFyY2hpdmVBcHBvaW50bWVudChzY2hlZHVsZUlkOiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRhcmNoaXZlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIGFyY2hpdmUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjb21wbGV0ZUFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXG5cdGlmICghc3VwYWJhc2UpIHtcblx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiRGF0YWJhc2Ugbm90IGF2YWlsYWJsZVwiIH07XG5cdH1cblxuXHR0cnkge1xuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblxuXHRcdGlmICghdXNlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vdCBhdXRoZW50aWNhdGVkXCIgfTtcblx0XHR9XG5cblx0XHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRzdGF0dXM6IFwiY29tcGxldGVkXCIsXG5cdFx0XHRcdGFjdHVhbF9lbmRfdGltZTogbm93LFxuXHRcdFx0XHRjb21wbGV0ZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHR9KVxuXHRcdFx0LmVxKFwiaWRcIiwgc2NoZWR1bGVJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gY29tcGxldGUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbnR5cGUgRGlzcGF0Y2hTdGF0dXMgPSBcImRpc3BhdGNoZWRcIiB8IFwiYXJyaXZlZFwiIHwgXCJjbG9zZWRcIjtcblxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlU2NoZWR1bGVTdGF0dXMoXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0c3RhdHVzOiBEaXNwYXRjaFN0YXR1cyxcblx0ZXh0cmFVcGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9LFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblx0XHRjb25zdCB1cGRhdGVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHtcblx0XHRcdHN0YXR1cyxcblx0XHRcdHVwZGF0ZWRfYXQ6IG5vdyxcblx0XHRcdC4uLmV4dHJhVXBkYXRlcyxcblx0XHR9O1xuXG5cdFx0aWYgKHN0YXR1cyA9PT0gXCJjbG9zZWRcIikge1xuXHRcdFx0dXBkYXRlcy5jb21wbGV0ZWRfYnkgPSB1c2VyLmlkO1xuXHRcdFx0dXBkYXRlcy5hY3R1YWxfZW5kX3RpbWUgPSB1cGRhdGVzLmFjdHVhbF9lbmRfdGltZSA/PyBub3c7XG5cdFx0fVxuXG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHVwZGF0ZXMpXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yXG5cdFx0XHRcdFx0PyBlcnJvci5tZXNzYWdlXG5cdFx0XHRcdFx0OiBgRmFpbGVkIHRvIHVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMgdG8gJHtzdGF0dXN9YCxcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkaXNwYXRjaEFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRyZXR1cm4gdXBkYXRlU2NoZWR1bGVTdGF0dXMoc2NoZWR1bGVJZCwgXCJkaXNwYXRjaGVkXCIpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYXJyaXZlQXBwb2ludG1lbnQoc2NoZWR1bGVJZDogc3RyaW5nKSB7XG5cdGNvbnN0IG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcblx0cmV0dXJuIHVwZGF0ZVNjaGVkdWxlU3RhdHVzKHNjaGVkdWxlSWQsIFwiYXJyaXZlZFwiLCB7XG5cdFx0YWN0dWFsX3N0YXJ0X3RpbWU6IG5vdyxcblx0fSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbG9zZUFwcG9pbnRtZW50KHNjaGVkdWxlSWQ6IHN0cmluZykge1xuXHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cdHJldHVybiB1cGRhdGVTY2hlZHVsZVN0YXR1cyhzY2hlZHVsZUlkLCBcImNsb3NlZFwiLCB7XG5cdFx0YWN0dWFsX2VuZF90aW1lOiBub3csXG5cdH0pO1xufVxuXG4vKipcbiAqIE1vdmUgYW4gZXhpc3RpbmcgYXBwb2ludG1lbnQgdG8gYSBuZXcgdGVjaG5pY2lhbiBhbmQvb3IgdGltZSBzbG90XG4gKiBCYXRjaGVzIGJvdGggb3BlcmF0aW9ucyBpbiBhIHNpbmdsZSBkYXRhYmFzZSBjYWxsIGZvciBwZXJmb3JtYW5jZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gbW92ZUFwcG9pbnRtZW50KFxuXHRzY2hlZHVsZUlkOiBzdHJpbmcsXG5cdHRlY2huaWNpYW5JZDogc3RyaW5nLFxuXHRzdGFydFRpbWU6IERhdGUsXG5cdGVuZFRpbWU6IERhdGUsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCBkdXJhdGlvbiA9IE1hdGgucm91bmQoXG5cdFx0XHQoZW5kVGltZS5nZXRUaW1lKCkgLSBzdGFydFRpbWUuZ2V0VGltZSgpKSAvICgxMDAwICogNjApLFxuXHRcdCk7XG5cblx0XHQvLyBGb3JtYXQgYXMgbG9jYWwgZGF0ZXRpbWUgc3RyaW5nIFdJVEhPVVQgdGltZXpvbmUgY29udmVyc2lvblxuXHRcdGNvbnN0IGZvcm1hdExvY2FsRGF0ZVRpbWUgPSAoZGF0ZTogRGF0ZSkgPT4ge1xuXHRcdFx0Y29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcblx0XHRcdGNvbnN0IG1vbnRoID0gU3RyaW5nKGRhdGUuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGNvbnN0IGRheSA9IFN0cmluZyhkYXRlLmdldERhdGUoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgaG91ciA9IFN0cmluZyhkYXRlLmdldEhvdXJzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdGNvbnN0IG1pbnV0ZSA9IFN0cmluZyhkYXRlLmdldE1pbnV0ZXMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3Qgc2Vjb25kID0gU3RyaW5nKGRhdGUuZ2V0U2Vjb25kcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRyZXR1cm4gYCR7eWVhcn0tJHttb250aH0tJHtkYXl9ICR7aG91cn06JHttaW51dGV9OiR7c2Vjb25kfWA7XG5cdFx0fTtcblxuXHRcdGNvbnN0IHN0YXJ0U3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShzdGFydFRpbWUpO1xuXHRcdGNvbnN0IGVuZFN0ciA9IGZvcm1hdExvY2FsRGF0ZVRpbWUoZW5kVGltZSk7XG5cblx0XHQvLyBTaW5nbGUgYXRvbWljIHVwZGF0ZSBmb3IgYm90aCBhc3NpZ25tZW50IGFuZCB0aW1lc1xuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdGFzc2lnbmVkX3RvOiB0ZWNobmljaWFuSWQsXG5cdFx0XHRcdHN0YXJ0X3RpbWU6IHN0YXJ0U3RyLFxuXHRcdFx0XHRlbmRfdGltZTogZW5kU3RyLFxuXHRcdFx0XHRkdXJhdGlvbixcblx0XHRcdFx0dXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpXG5cdFx0XHQuc2VsZWN0KClcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YSB9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiBmYWxzZSxcblx0XHRcdGVycm9yOlxuXHRcdFx0XHRlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFwiRmFpbGVkIHRvIG1vdmUgYXBwb2ludG1lbnRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogQXNzaWduIGFuIHVuYXNzaWduZWQgam9iIHRvIGEgdGVjaG5pY2lhbiB3aXRoIGEgc3BlY2lmaWMgdGltZSBzbG90XG4gKiBVc2VkIHdoZW4gZHJhZ2dpbmcgZnJvbSB1bmFzc2lnbmVkIHBhbmVsIHRvIGEgdGVjaG5pY2lhbiBsYW5lXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhc3NpZ25OZXdBcHBvaW50bWVudChcblx0c2NoZWR1bGVJZDogc3RyaW5nLFxuXHR0ZWNobmljaWFuSWQ6IHN0cmluZyxcblx0c3RhcnRUaW1lOiBEYXRlLFxuXHRlbmRUaW1lOiBEYXRlLFxuKSB7XG5cdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlQ2xpZW50KCk7XG5cblx0aWYgKCFzdXBhYmFzZSkge1xuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJEYXRhYmFzZSBub3QgYXZhaWxhYmxlXCIgfTtcblx0fVxuXG5cdHRyeSB7XG5cdFx0Y29uc3QgZHVyYXRpb24gPSBNYXRoLnJvdW5kKFxuXHRcdFx0KGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSxcblx0XHQpO1xuXG5cdFx0Y29uc3QgZm9ybWF0TG9jYWxEYXRlVGltZSA9IChkYXRlOiBEYXRlKSA9PiB7XG5cdFx0XHRjb25zdCB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuXHRcdFx0Y29uc3QgbW9udGggPSBTdHJpbmcoZGF0ZS5nZXRNb250aCgpICsgMSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgZGF5ID0gU3RyaW5nKGRhdGUuZ2V0RGF0ZSgpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBob3VyID0gU3RyaW5nKGRhdGUuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwgXCIwXCIpO1xuXHRcdFx0Y29uc3QgbWludXRlID0gU3RyaW5nKGRhdGUuZ2V0TWludXRlcygpKS5wYWRTdGFydCgyLCBcIjBcIik7XG5cdFx0XHRjb25zdCBzZWNvbmQgPSBTdHJpbmcoZGF0ZS5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsIFwiMFwiKTtcblx0XHRcdHJldHVybiBgJHt5ZWFyfS0ke21vbnRofS0ke2RheX0gJHtob3VyfToke21pbnV0ZX06JHtzZWNvbmR9YDtcblx0XHR9O1xuXG5cdFx0Y29uc3Qgc3RhcnRTdHIgPSBmb3JtYXRMb2NhbERhdGVUaW1lKHN0YXJ0VGltZSk7XG5cdFx0Y29uc3QgZW5kU3RyID0gZm9ybWF0TG9jYWxEYXRlVGltZShlbmRUaW1lKTtcblxuXHRcdC8vIFNpbmdsZSBhdG9taWMgdXBkYXRlIGZvciBhc3NpZ25tZW50XG5cdFx0Y29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHtcblx0XHRcdFx0YXNzaWduZWRfdG86IHRlY2huaWNpYW5JZCxcblx0XHRcdFx0c3RhcnRfdGltZTogc3RhcnRTdHIsXG5cdFx0XHRcdGVuZF90aW1lOiBlbmRTdHIsXG5cdFx0XHRcdGR1cmF0aW9uLFxuXHRcdFx0XHRzdGF0dXM6IFwic2NoZWR1bGVkXCIsXG5cdFx0XHRcdHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKVxuXHRcdFx0LnNlbGVjdCgpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IGVycm9yO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGEgfTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gYXNzaWduIGFwcG9pbnRtZW50XCIsXG5cdFx0fTtcblx0fVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdW5hc3NpZ25BcHBvaW50bWVudChzY2hlZHVsZUlkOiBzdHJpbmcpIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRhc3NpZ25lZF90bzogbnVsbCxcblx0XHRcdFx0dXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIHNjaGVkdWxlSWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBlcnJvcjtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHN1Y2Nlc3M6IGZhbHNlLFxuXHRcdFx0ZXJyb3I6XG5cdFx0XHRcdGVycm9yIGluc3RhbmNlb2YgRXJyb3Jcblx0XHRcdFx0XHQ/IGVycm9yLm1lc3NhZ2Vcblx0XHRcdFx0XHQ6IFwiRmFpbGVkIHRvIG1vdmUgYXBwb2ludG1lbnQgdG8gVW5zY2hlZHVsZWRcIixcblx0XHR9O1xuXHR9XG59XG5cbi8qKlxuICogU2VuZCBcIk9uIE15IFdheVwiIFNNUyBub3RpZmljYXRpb24gdG8gY3VzdG9tZXJcbiAqIEluY2x1ZGVzIHRlY2huaWNpYW4gbmFtZSBhbmQgZXN0aW1hdGVkIGFycml2YWwgdGltZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZE9uTXlXYXlOb3RpZmljYXRpb24oXG5cdHNjaGVkdWxlSWQ6IHN0cmluZyxcblx0dGVjaG5pY2lhbk5hbWU6IHN0cmluZyxcblx0Y3VzdG9tZXJQaG9uZTogc3RyaW5nLFxuXHRkZXN0aW5hdGlvbkFkZHJlc3M/OiBzdHJpbmcsXG4pIHtcblx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVDbGllbnQoKTtcblxuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIkRhdGFiYXNlIG5vdCBhdmFpbGFibGVcIiB9O1xuXHR9XG5cblx0dHJ5IHtcblx0XHQvLyBHZXQgdXNlciBhbmQgY29tcGFueSBpbmZvXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXG5cdFx0aWYgKCF1c2VyKSB7XG5cdFx0XHRyZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IFwiTm90IGF1dGhlbnRpY2F0ZWRcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBjb21wYW55J3MgVGVsbnl4IHNldHRpbmdzIGZvciB0aGUgZnJvbSBudW1iZXJcblx0XHRjb25zdCB7IGRhdGE6IG1lbWJlcnNoaXAgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfbWVtYmVyc2hpcHNcIilcblx0XHRcdC5zZWxlY3QoXCJjb21wYW55X2lkXCIpXG5cdFx0XHQuZXEoXCJ1c2VyX2lkXCIsIHVzZXIuaWQpXG5cdFx0XHQuZXEoXCJzdGF0dXNcIiwgXCJhY3RpdmVcIilcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghbWVtYmVyc2hpcD8uY29tcGFueV9pZCkge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIGFjdGl2ZSBjb21wYW55IG1lbWJlcnNoaXBcIiB9O1xuXHRcdH1cblxuXHRcdGNvbnN0IHsgZGF0YTogdGVsbnl4U2V0dGluZ3MgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImNvbXBhbnlfdGVsbnl4X3NldHRpbmdzXCIpXG5cdFx0XHQuc2VsZWN0KFwicGhvbmVfbnVtYmVyLCBzdGF0dXNcIilcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgbWVtYmVyc2hpcC5jb21wYW55X2lkKVxuXHRcdFx0LmVxKFwic3RhdHVzXCIsIFwicmVhZHlcIilcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghdGVsbnl4U2V0dGluZ3M/LnBob25lX251bWJlcikge1xuXHRcdFx0cmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBcIk5vIHBob25lIG51bWJlciBjb25maWd1cmVkIGZvciBTTVNcIiB9O1xuXHRcdH1cblxuXHRcdC8vIEdldCBjb21wYW55IG5hbWUgZm9yIHRoZSBtZXNzYWdlXG5cdFx0Y29uc3QgeyBkYXRhOiBjb21wYW55IH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJjb21wYW5pZXNcIilcblx0XHRcdC5zZWxlY3QoXCJuYW1lXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBtZW1iZXJzaGlwLmNvbXBhbnlfaWQpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHQvLyBCdWlsZCB0aGUgXCJPbiBNeSBXYXlcIiBtZXNzYWdlXG5cdFx0bGV0IG1lc3NhZ2UgPSBgSGkhICR7dGVjaG5pY2lhbk5hbWV9IGZyb20gJHtjb21wYW55Py5uYW1lIHx8IFwieW91ciBzZXJ2aWNlIHByb3ZpZGVyXCJ9IGlzIG9uIHRoZSB3YXkgdG8geW91ciBhcHBvaW50bWVudC5gO1xuXG5cdFx0Ly8gVHJ5IHRvIGdldCB0cmF2ZWwgdGltZSBlc3RpbWF0ZSBpZiB3ZSBoYXZlIGEgZGVzdGluYXRpb25cblx0XHRpZiAoZGVzdGluYXRpb25BZGRyZXNzKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCBiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBQX1VSTCB8fCBcImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMFwiO1xuXHRcdFx0XHRjb25zdCB0cmF2ZWxSZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0XHRcdGAke2Jhc2VVcmx9L2FwaS90cmF2ZWwtdGltZT9kZXN0aW5hdGlvbj0ke2VuY29kZVVSSUNvbXBvbmVudChkZXN0aW5hdGlvbkFkZHJlc3MpfWAsXG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0aGVhZGVyczoge1xuXHRcdFx0XHRcdFx0XHRDb29raWU6IGBzYi1hY2Nlc3MtdG9rZW49JHt1c2VyLmlkfWAsIC8vIFBhc3MgYXV0aCBjb250ZXh0XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0aWYgKHRyYXZlbFJlc3BvbnNlLm9rKSB7XG5cdFx0XHRcdFx0Y29uc3QgdHJhdmVsRGF0YSA9IGF3YWl0IHRyYXZlbFJlc3BvbnNlLmpzb24oKTtcblx0XHRcdFx0XHRpZiAodHJhdmVsRGF0YS5kdXJhdGlvblRleHQpIHtcblx0XHRcdFx0XHRcdG1lc3NhZ2UgKz0gYCBFc3RpbWF0ZWQgYXJyaXZhbDogJHt0cmF2ZWxEYXRhLmR1cmF0aW9uVGV4dH0uYDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2gge1xuXHRcdFx0XHQvLyBUcmF2ZWwgdGltZSBmZXRjaCBmYWlsZWQgLSBjb250aW51ZSB3aXRob3V0IGl0XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0bWVzc2FnZSArPSBcIiBXZSdsbCBzZWUgeW91IHNvb24hXCI7XG5cblx0XHQvLyBTZW5kIHRoZSBTTVMgdmlhIFRlbG55eFxuXHRcdGNvbnN0IHsgc2VuZFNNUyB9ID0gYXdhaXQgaW1wb3J0KFwiQC9saWIvdGVsbnl4L21lc3NhZ2luZ1wiKTtcblx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCBzZW5kU01TKHtcblx0XHRcdHRvOiBjdXN0b21lclBob25lLFxuXHRcdFx0ZnJvbTogdGVsbnl4U2V0dGluZ3MucGhvbmVfbnVtYmVyLFxuXHRcdFx0dGV4dDogbWVzc2FnZSxcblx0XHR9KTtcblxuXHRcdGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcblx0XHRcdHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogXCJGYWlsZWQgdG8gc2VuZCBTTVNcIiB9O1xuXHRcdH1cblxuXHRcdC8vIFVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMgdG8gZGlzcGF0Y2hlZFxuXHRcdGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJkaXNwYXRjaGVkXCIsXG5cdFx0XHRcdGRpc3BhdGNoZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBzY2hlZHVsZUlkKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdWNjZXNzOiB0cnVlLFxuXHRcdFx0bWVzc2FnZTogXCJPbiBNeSBXYXkgbm90aWZpY2F0aW9uIHNlbnQgc3VjY2Vzc2Z1bGx5XCIsXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0c3VjY2VzczogZmFsc2UsXG5cdFx0XHRlcnJvcjpcblx0XHRcdFx0ZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuXHRcdFx0XHRcdD8gZXJyb3IubWVzc2FnZVxuXHRcdFx0XHRcdDogXCJGYWlsZWQgdG8gc2VuZCBPbiBNeSBXYXkgbm90aWZpY2F0aW9uXCIsXG5cdFx0fTtcblx0fVxufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI2VEFpaEJzQiJ9
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
"[project]/apps/web/src/actions/data:181103 [app-client] (ecmascript) <text/javascript>", ((__turbopack_context__) => {
"use strict";

/* __next_internal_action_entry_do_not_use__ [{"401e76a8087631691f7ec36839ee72d94471c73491":"createAppointment"},"apps/web/src/actions/appointments.ts",""] */ __turbopack_context__.s([
    "createAppointment",
    ()=>createAppointment
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/.pnpm/next@16.0.4_@opentelemetry+api@1.9.0_react-dom@19.2.0_react@19.2.0__react@19.2.0/node_modules/next/dist/build/webpack/loaders/next-flight-loader/action-client-wrapper.js [app-client] (ecmascript)");
"use turbopack no side effects";
;
var createAppointment = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["createServerReference"])("401e76a8087631691f7ec36839ee72d94471c73491", __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["callServer"], void 0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f2e$pnpm$2f$next$40$16$2e$0$2e$4_$40$opentelemetry$2b$api$40$1$2e$9$2e$0_react$2d$dom$40$19$2e$2$2e$0_react$40$19$2e$2$2e$0_$5f$react$40$19$2e$2$2e$0$2f$node_modules$2f$next$2f$dist$2f$build$2f$webpack$2f$loaders$2f$next$2d$flight$2d$loader$2f$action$2d$client$2d$wrapper$2e$js__$5b$app$2d$client$5d$__$28$ecmascript$29$__["findSourceMapURL"], "createAppointment"); //# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4vYXBwb2ludG1lbnRzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQXBwb2ludG1lbnRzIFNlcnZlciBBY3Rpb25zXG4gKlxuICogSGFuZGxlcyBhcHBvaW50bWVudCBzY2hlZHVsaW5nIGFuZCBtYW5hZ2VtZW50IHdpdGggY29tcHJlaGVuc2l2ZSBDUlVEIG9wZXJhdGlvbnMsXG4gKiBzdGF0dXMgdHJhbnNpdGlvbnMsIHJlbWluZGVycywgYW5kIHRlYW0gYXNzaWdubWVudCBsb2dpYy5cbiAqL1xuXG5cInVzZSBzZXJ2ZXJcIjtcblxuaW1wb3J0IHsgcmV2YWxpZGF0ZVBhdGggfSBmcm9tIFwibmV4dC9jYWNoZVwiO1xuaW1wb3J0IHsgeiB9IGZyb20gXCJ6b2RcIjtcbmltcG9ydCB7IGdldEFjdGl2ZUNvbXBhbnlJZCB9IGZyb20gXCJAL2xpYi9hdXRoL2NvbXBhbnktY29udGV4dFwiO1xuaW1wb3J0IHsgQWN0aW9uRXJyb3IsIEVSUk9SX0NPREVTIH0gZnJvbSBcIkAvbGliL2Vycm9ycy9hY3Rpb24tZXJyb3JcIjtcbmltcG9ydCB7XG5cdHR5cGUgQWN0aW9uUmVzdWx0LFxuXHRhc3NlcnRBdXRoZW50aWNhdGVkLFxuXHRhc3NlcnRFeGlzdHMsXG5cdHdpdGhFcnJvckhhbmRsaW5nLFxufSBmcm9tIFwiQC9saWIvZXJyb3JzL3dpdGgtZXJyb3ItaGFuZGxpbmdcIjtcbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gXCJAL2xpYi9zdXBhYmFzZS9zZXJ2ZXJcIjtcblxudHlwZSBTdXBhYmFzZVNlcnZlckNsaWVudCA9IEV4Y2x1ZGU8XG5cdEF3YWl0ZWQ8UmV0dXJuVHlwZTx0eXBlb2YgY3JlYXRlQ2xpZW50Pj4sXG5cdG51bGxcbj47XG5cbmNvbnN0IEFQUE9JTlRNRU5UX05VTUJFUl9SRUdFWCA9IC9BUFQtKFxcZCspLztcbmNvbnN0IEFQUE9JTlRNRU5UX05VTUJFUl9MRU5HVEggPSA2O1xuY29uc3QgTUlMTElTRUNPTkRTX1BFUl9NSU5VVEUgPSA2MF8wMDA7XG5jb25zdCBERUZBVUxUX1NFQVJDSF9MSU1JVCA9IDUwO1xuY29uc3QgREVGQVVMVF9TRUFSQ0hfT0ZGU0VUID0gMDtcblxuY29uc3QgZ2V0U3VwYWJhc2VTZXJ2ZXJDbGllbnQgPSBhc3luYyAoKTogUHJvbWlzZTxTdXBhYmFzZVNlcnZlckNsaWVudD4gPT4ge1xuXHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGNyZWF0ZUNsaWVudCgpO1xuXHRpZiAoIXN1cGFiYXNlKSB7XG5cdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XCJEYXRhYmFzZSBjb25uZWN0aW9uIGZhaWxlZFwiLFxuXHRcdFx0RVJST1JfQ09ERVMuREJfQ09OTkVDVElPTl9FUlJPUixcblx0XHQpO1xuXHR9XG5cdHJldHVybiBzdXBhYmFzZSBhcyBTdXBhYmFzZVNlcnZlckNsaWVudDtcbn07XG5cbi8vIFZhbGlkYXRpb24gU2NoZW1hc1xuY29uc3QgY3JlYXRlQXBwb2ludG1lbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG5cdGN1c3RvbWVySWQ6IHouc3RyaW5nKCkudXVpZChcIkludmFsaWQgY3VzdG9tZXIgSURcIiksXG5cdHByb3BlcnR5SWQ6IHouc3RyaW5nKCkudXVpZChcIkludmFsaWQgcHJvcGVydHkgSURcIikub3B0aW9uYWwoKSxcblx0am9iSWQ6IHouc3RyaW5nKCkudXVpZChcIkludmFsaWQgam9iIElEXCIpLm9wdGlvbmFsKCksXG5cdGFzc2lnbmVkVG86IHouc3RyaW5nKCkudXVpZChcIkludmFsaWQgdXNlciBJRFwiKS5vcHRpb25hbCgpLFxuXHR0aXRsZTogei5zdHJpbmcoKS5taW4oMSwgXCJBcHBvaW50bWVudCB0aXRsZSBpcyByZXF1aXJlZFwiKSxcblx0ZGVzY3JpcHRpb246IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcblx0Y2F0ZWdvcnk6IHpcblx0XHQuZW51bShbXG5cdFx0XHRcImpvYl9hcHBvaW50bWVudFwiLFxuXHRcdFx0XCJlc3RpbWF0ZV9hcHBvaW50bWVudFwiLFxuXHRcdFx0XCJldmVudFwiLFxuXHRcdFx0XCJtZWV0aW5nXCIsXG5cdFx0XHRcImZvbGxvd191cFwiLFxuXHRcdFx0XCJyZWN1cnJpbmdfc2VydmljZVwiLFxuXHRcdF0pXG5cdFx0LmRlZmF1bHQoXCJqb2JfYXBwb2ludG1lbnRcIiksXG5cdHR5cGU6IHpcblx0XHQuZW51bShbXG5cdFx0XHRcInNlcnZpY2VfY2FsbFwiLFxuXHRcdFx0XCJpbnN0YWxsYXRpb25cIixcblx0XHRcdFwibWFpbnRlbmFuY2VcIixcblx0XHRcdFwiaW5zcGVjdGlvblwiLFxuXHRcdFx0XCJyZXBhaXJcIixcblx0XHRcdFwiZXN0aW1hdGVcIixcblx0XHRcdFwiZm9sbG93X3VwXCIsXG5cdFx0XHRcIndpbnRlcml6YXRpb25cIixcblx0XHRcdFwiZW1lcmdlbmN5XCIsXG5cdFx0XSlcblx0XHQub3B0aW9uYWwoKSxcblx0cHJpb3JpdHk6IHouZW51bShbXCJsb3dcIiwgXCJub3JtYWxcIiwgXCJoaWdoXCIsIFwidXJnZW50XCJdKS5kZWZhdWx0KFwibm9ybWFsXCIpLFxuXHRzY2hlZHVsZWRTdGFydDogei5zdHJpbmcoKS5taW4oMSwgXCJTdGFydCB0aW1lIGlzIHJlcXVpcmVkXCIpLFxuXHRzY2hlZHVsZWRFbmQ6IHouc3RyaW5nKCkubWluKDEsIFwiRW5kIHRpbWUgaXMgcmVxdWlyZWRcIiksXG5cdG5vdGVzOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG5cdHRyYXZlbFRpbWVNaW51dGVzOiB6Lm51bWJlcigpLmludCgpLm1pbigwKS5vcHRpb25hbCgpLFxufSk7XG5cbmNvbnN0IHVwZGF0ZUFwcG9pbnRtZW50U2NoZW1hID0gei5vYmplY3Qoe1xuXHR0aXRsZTogei5zdHJpbmcoKS5taW4oMSwgXCJBcHBvaW50bWVudCB0aXRsZSBpcyByZXF1aXJlZFwiKS5vcHRpb25hbCgpLFxuXHRkZXNjcmlwdGlvbjogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuXHRzdGF0dXM6IHpcblx0XHQuZW51bShbXG5cdFx0XHRcInNjaGVkdWxlZFwiLFxuXHRcdFx0XCJjb25maXJtZWRcIixcblx0XHRcdFwiaW5fcHJvZ3Jlc3NcIixcblx0XHRcdFwiY29tcGxldGVkXCIsXG5cdFx0XHRcImNhbmNlbGxlZFwiLFxuXHRcdFx0XCJub19zaG93XCIsXG5cdFx0XHRcInJlc2NoZWR1bGVkXCIsXG5cdFx0XSlcblx0XHQub3B0aW9uYWwoKSxcblx0dHlwZTogelxuXHRcdC5lbnVtKFtcblx0XHRcdFwic2VydmljZVwiLFxuXHRcdFx0XCJjb25zdWx0YXRpb25cIixcblx0XHRcdFwiZXN0aW1hdGVcIixcblx0XHRcdFwiZm9sbG93X3VwXCIsXG5cdFx0XHRcIm1haW50ZW5hbmNlXCIsXG5cdFx0XHRcImVtZXJnZW5jeVwiLFxuXHRcdFx0XCJpbnNwZWN0aW9uXCIsXG5cdFx0XSlcblx0XHQub3B0aW9uYWwoKSxcblx0cHJpb3JpdHk6IHouZW51bShbXCJsb3dcIiwgXCJub3JtYWxcIiwgXCJoaWdoXCIsIFwidXJnZW50XCJdKS5vcHRpb25hbCgpLFxuXHRzY2hlZHVsZWRTdGFydDogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuXHRzY2hlZHVsZWRFbmQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcblx0YWN0dWFsU3RhcnQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcblx0YWN0dWFsRW5kOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG5cdGFzc2lnbmVkVG86IHouc3RyaW5nKCkudXVpZChcIkludmFsaWQgdXNlciBJRFwiKS5vcHRpb25hbCgpLm51bGxhYmxlKCksXG5cdG5vdGVzOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG5cdGNhbmNlbGxhdGlvblJlYXNvbjogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxufSk7XG5cbmNvbnN0IHJlc2NoZWR1bGVBcHBvaW50bWVudFNjaGVtYSA9IHoub2JqZWN0KHtcblx0c2NoZWR1bGVkU3RhcnQ6IHouc3RyaW5nKCkubWluKDEsIFwiU3RhcnQgdGltZSBpcyByZXF1aXJlZFwiKSxcblx0c2NoZWR1bGVkRW5kOiB6LnN0cmluZygpLm1pbigxLCBcIkVuZCB0aW1lIGlzIHJlcXVpcmVkXCIpLFxuXHRyZWFzb246IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbn0pO1xuXG4vKipcbiAqIEdlbmVyYXRlIHVuaXF1ZSBhcHBvaW50bWVudCBudW1iZXIgdXNpbmcgZGF0YWJhc2UgZnVuY3Rpb25cbiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVBcHBvaW50bWVudE51bWJlcihcblx0c3VwYWJhc2U6IFN1cGFiYXNlU2VydmVyQ2xpZW50LFxuXHRjb21wYW55SWQ6IHN0cmluZyxcbik6IFByb21pc2U8c3RyaW5nPiB7XG5cdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnJwYyhcImdlbmVyYXRlX2FwcG9pbnRtZW50X251bWJlclwiLCB7XG5cdFx0cF9jb21wYW55X2lkOiBjb21wYW55SWQsXG5cdH0pO1xuXG5cdGlmIChlcnJvciB8fCAhZGF0YSkge1xuXHRcdC8vIEZhbGxiYWNrIHRvIG1hbnVhbCBnZW5lcmF0aW9uXG5cdFx0Y29uc3QgeyBkYXRhOiBsYXRlc3RBcHBvaW50bWVudCB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQuc2VsZWN0KFwiYXBwb2ludG1lbnRfbnVtYmVyXCIpXG5cdFx0XHQuZXEoXCJjb21wYW55X2lkXCIsIGNvbXBhbnlJZClcblx0XHRcdC5vcmRlcihcImNyZWF0ZWRfYXRcIiwgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXG5cdFx0XHQubGltaXQoMSlcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmICghbGF0ZXN0QXBwb2ludG1lbnQpIHtcblx0XHRcdHJldHVybiBcIkFQVC0wMDAwMDFcIjtcblx0XHR9XG5cblx0XHRjb25zdCBtYXRjaCA9IGxhdGVzdEFwcG9pbnRtZW50LmFwcG9pbnRtZW50X251bWJlci5tYXRjaChcblx0XHRcdEFQUE9JTlRNRU5UX05VTUJFUl9SRUdFWCxcblx0XHQpO1xuXHRcdGlmIChtYXRjaCkge1xuXHRcdFx0Y29uc3QgbmV4dE51bWJlciA9IE51bWJlci5wYXJzZUludChtYXRjaFsxXSwgMTApICsgMTtcblx0XHRcdHJldHVybiBgQVBULSR7bmV4dE51bWJlci50b1N0cmluZygpLnBhZFN0YXJ0KEFQUE9JTlRNRU5UX05VTUJFUl9MRU5HVEgsIFwiMFwiKX1gO1xuXHRcdH1cblxuXHRcdHJldHVybiBgQVBULSR7RGF0ZS5ub3coKS50b1N0cmluZygpLnNsaWNlKC1BUFBPSU5UTUVOVF9OVU1CRVJfTEVOR1RIKX1gO1xuXHR9XG5cblx0cmV0dXJuIGRhdGE7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlIGR1cmF0aW9uIGluIG1pbnV0ZXMgYmV0d2VlbiB0d28gZGF0ZXNcbiAqL1xuZnVuY3Rpb24gY2FsY3VsYXRlRHVyYXRpb24oc3RhcnQ6IHN0cmluZywgZW5kOiBzdHJpbmcpOiBudW1iZXIge1xuXHRjb25zdCBzdGFydERhdGUgPSBuZXcgRGF0ZShzdGFydCk7XG5cdGNvbnN0IGVuZERhdGUgPSBuZXcgRGF0ZShlbmQpO1xuXHRyZXR1cm4gTWF0aC5yb3VuZChcblx0XHQoZW5kRGF0ZS5nZXRUaW1lKCkgLSBzdGFydERhdGUuZ2V0VGltZSgpKSAvIE1JTExJU0VDT05EU19QRVJfTUlOVVRFLFxuXHQpO1xufVxuXG4vKipcbiAqIFZhbGlkYXRlIGFwcG9pbnRtZW50IHRpbWVzXG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlQXBwb2ludG1lbnRUaW1lcyhzdGFydDogc3RyaW5nLCBlbmQ6IHN0cmluZyk6IHZvaWQge1xuXHRjb25zdCBzdGFydERhdGUgPSBuZXcgRGF0ZShzdGFydCk7XG5cdGNvbnN0IGVuZERhdGUgPSBuZXcgRGF0ZShlbmQpO1xuXG5cdGlmIChlbmREYXRlIDw9IHN0YXJ0RGF0ZSkge1xuXHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFwiRW5kIHRpbWUgbXVzdCBiZSBhZnRlciBzdGFydCB0aW1lXCIsXG5cdFx0XHRFUlJPUl9DT0RFUy5WQUxJREFUSU9OX0ZBSUxFRCxcblx0XHQpO1xuXHR9XG5cblx0aWYgKHN0YXJ0RGF0ZSA8IG5ldyBEYXRlKCkpIHtcblx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcIkNhbm5vdCBzY2hlZHVsZSBhcHBvaW50bWVudHMgaW4gdGhlIHBhc3RcIixcblx0XHRcdEVSUk9SX0NPREVTLlZBTElEQVRJT05fRkFJTEVELFxuXHRcdCk7XG5cdH1cbn1cblxuY29uc3QgZXh0cmFjdEZvcm1WYWx1ZXMgPSAoXG5cdGZvcm1EYXRhOiBGb3JtRGF0YSxcblx0ZmllbGRzOiBzdHJpbmdbXSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0+IHtcblx0Y29uc3QgcmVzdWx0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXHRmb3IgKGNvbnN0IGZpZWxkIG9mIGZpZWxkcykge1xuXHRcdGNvbnN0IHZhbHVlID0gZm9ybURhdGEuZ2V0KGZpZWxkKTtcblx0XHRpZiAodmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZSAhPT0gXCJcIikge1xuXHRcdFx0cmVzdWx0W2ZpZWxkXSA9IHZhbHVlO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufTtcblxuY29uc3QgYnVpbGRVcGRhdGVQYXlsb2FkID0gKFxuXHRkYXRhOiB6LmluZmVyPHR5cGVvZiB1cGRhdGVBcHBvaW50bWVudFNjaGVtYT4sXG5cdGR1cmF0aW9uPzogbnVtYmVyLFxuKTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPT4ge1xuXHRjb25zdCB1cGRhdGVEYXRhOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHsgLi4uZGF0YSB9O1xuXHRpZiAoZHVyYXRpb24pIHtcblx0XHR1cGRhdGVEYXRhLmR1cmF0aW9uX21pbnV0ZXMgPSBkdXJhdGlvbjtcblx0fVxuXG5cdGlmIChkYXRhLmFjdHVhbFN0YXJ0ICYmIGRhdGEuYWN0dWFsRW5kKSB7XG5cdFx0dXBkYXRlRGF0YS5hY3R1YWxfZHVyYXRpb25fbWludXRlcyA9IGNhbGN1bGF0ZUR1cmF0aW9uKFxuXHRcdFx0ZGF0YS5hY3R1YWxTdGFydCxcblx0XHRcdGRhdGEuYWN0dWFsRW5kLFxuXHRcdCk7XG5cdH1cblxuXHRyZXR1cm4gdXBkYXRlRGF0YTtcbn07XG5cbmNvbnN0IHRvU25ha2VDYXNlUmVjb3JkID0gKGRhdGE6IFJlY29yZDxzdHJpbmcsIHVua25vd24+KSA9PiB7XG5cdGNvbnN0IHJlc3VsdDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSB7fTtcblx0Zm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZGF0YSkpIHtcblx0XHRjb25zdCBzbmFrZUtleSA9IGtleS5yZXBsYWNlKC8oW0EtWl0pL2csIFwiXyQxXCIpLnRvTG93ZXJDYXNlKCk7XG5cdFx0cmVzdWx0W3NuYWtlS2V5XSA9IHZhbHVlO1xuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBhcHBvaW50bWVudFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlQXBwb2ludG1lbnQoXG5cdGZvcm1EYXRhOiBGb3JtRGF0YSxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PHN0cmluZz4+IHtcblx0cmV0dXJuIGF3YWl0IHdpdGhFcnJvckhhbmRsaW5nKGFzeW5jICgpID0+IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGdldFN1cGFiYXNlU2VydmVyQ2xpZW50KCk7XG5cblx0XHQvLyBHZXQgY3VycmVudCB1c2VyXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXHRcdGFzc2VydEF1dGhlbnRpY2F0ZWQodXNlcj8uaWQpO1xuXG5cdFx0Ly8gR2V0IHVzZXIncyBjb21wYW55XG5cdFx0Y29uc3QgY29tcGFueUlkID0gYXdhaXQgZ2V0QWN0aXZlQ29tcGFueUlkKCk7XG5cdFx0YXNzZXJ0RXhpc3RzKGNvbXBhbnlJZCwgXCJDb21wYW55IG5vdCBmb3VuZCBmb3IgdXNlclwiKTtcblxuXHRcdC8vIFBhcnNlIGFuZCB2YWxpZGF0ZSBmb3JtIGRhdGFcblx0XHRjb25zdCByYXdEYXRhID0ge1xuXHRcdFx0Y3VzdG9tZXJJZDogZm9ybURhdGEuZ2V0KFwiY3VzdG9tZXJJZFwiKSBhcyBzdHJpbmcsXG5cdFx0XHRwcm9wZXJ0eUlkOiAoZm9ybURhdGEuZ2V0KFwicHJvcGVydHlJZFwiKSBhcyBzdHJpbmcpIHx8IHVuZGVmaW5lZCxcblx0XHRcdGpvYklkOiAoZm9ybURhdGEuZ2V0KFwiam9iSWRcIikgYXMgc3RyaW5nKSB8fCB1bmRlZmluZWQsXG5cdFx0XHRhc3NpZ25lZFRvOiAoZm9ybURhdGEuZ2V0KFwiYXNzaWduZWRUb1wiKSBhcyBzdHJpbmcpIHx8IHVuZGVmaW5lZCxcblx0XHRcdHRpdGxlOiBmb3JtRGF0YS5nZXQoXCJ0aXRsZVwiKSBhcyBzdHJpbmcsXG5cdFx0XHRkZXNjcmlwdGlvbjogKGZvcm1EYXRhLmdldChcImRlc2NyaXB0aW9uXCIpIGFzIHN0cmluZykgfHwgdW5kZWZpbmVkLFxuXHRcdFx0Y2F0ZWdvcnk6IChmb3JtRGF0YS5nZXQoXCJjYXRlZ29yeVwiKSBhcyBzdHJpbmcpIHx8IFwiam9iX2FwcG9pbnRtZW50XCIsXG5cdFx0XHR0eXBlOiAoZm9ybURhdGEuZ2V0KFwidHlwZVwiKSBhcyBzdHJpbmcpIHx8IHVuZGVmaW5lZCxcblx0XHRcdHByaW9yaXR5OiAoZm9ybURhdGEuZ2V0KFwicHJpb3JpdHlcIikgYXMgc3RyaW5nKSB8fCBcIm5vcm1hbFwiLFxuXHRcdFx0c2NoZWR1bGVkU3RhcnQ6IGZvcm1EYXRhLmdldChcInNjaGVkdWxlZFN0YXJ0XCIpIGFzIHN0cmluZyxcblx0XHRcdHNjaGVkdWxlZEVuZDogZm9ybURhdGEuZ2V0KFwic2NoZWR1bGVkRW5kXCIpIGFzIHN0cmluZyxcblx0XHRcdG5vdGVzOiAoZm9ybURhdGEuZ2V0KFwibm90ZXNcIikgYXMgc3RyaW5nKSB8fCB1bmRlZmluZWQsXG5cdFx0XHR0cmF2ZWxUaW1lTWludXRlczogZm9ybURhdGEuZ2V0KFwidHJhdmVsVGltZU1pbnV0ZXNcIilcblx0XHRcdFx0PyBOdW1iZXIucGFyc2VJbnQoZm9ybURhdGEuZ2V0KFwidHJhdmVsVGltZU1pbnV0ZXNcIikgYXMgc3RyaW5nLCAxMClcblx0XHRcdFx0OiB1bmRlZmluZWQsXG5cdFx0fTtcblxuXHRcdGNvbnN0IHZhbGlkYXRlZERhdGEgPSBjcmVhdGVBcHBvaW50bWVudFNjaGVtYS5wYXJzZShyYXdEYXRhKTtcblxuXHRcdC8vIFZhbGlkYXRlIGFwcG9pbnRtZW50IHRpbWVzXG5cdFx0dmFsaWRhdGVBcHBvaW50bWVudFRpbWVzKFxuXHRcdFx0dmFsaWRhdGVkRGF0YS5zY2hlZHVsZWRTdGFydCxcblx0XHRcdHZhbGlkYXRlZERhdGEuc2NoZWR1bGVkRW5kLFxuXHRcdCk7XG5cblx0XHQvLyBDYWxjdWxhdGUgZHVyYXRpb25cblx0XHRjb25zdCBkdXJhdGlvbiA9IGNhbGN1bGF0ZUR1cmF0aW9uKFxuXHRcdFx0dmFsaWRhdGVkRGF0YS5zY2hlZHVsZWRTdGFydCxcblx0XHRcdHZhbGlkYXRlZERhdGEuc2NoZWR1bGVkRW5kLFxuXHRcdCk7XG5cblx0XHQvLyBHZW5lcmF0ZSBhcHBvaW50bWVudCBudW1iZXJcblx0XHRjb25zdCBhcHBvaW50bWVudE51bWJlciA9IGF3YWl0IGdlbmVyYXRlQXBwb2ludG1lbnROdW1iZXIoXG5cdFx0XHRzdXBhYmFzZSxcblx0XHRcdGNvbXBhbnlJZCxcblx0XHQpO1xuXG5cdFx0Ly8gQ3JlYXRlIGFwcG9pbnRtZW50XG5cdFx0Y29uc3QgeyBkYXRhOiBhcHBvaW50bWVudCwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0Lmluc2VydCh7XG5cdFx0XHRcdGNvbXBhbnlfaWQ6IGNvbXBhbnlJZCxcblx0XHRcdFx0Y3VzdG9tZXJfaWQ6IHZhbGlkYXRlZERhdGEuY3VzdG9tZXJJZCxcblx0XHRcdFx0cHJvcGVydHlfaWQ6IHZhbGlkYXRlZERhdGEucHJvcGVydHlJZCxcblx0XHRcdFx0am9iX2lkOiB2YWxpZGF0ZWREYXRhLmpvYklkLFxuXHRcdFx0XHRhc3NpZ25lZF90bzogdmFsaWRhdGVkRGF0YS5hc3NpZ25lZFRvLFxuXHRcdFx0XHRhcHBvaW50bWVudF9udW1iZXI6IGFwcG9pbnRtZW50TnVtYmVyLFxuXHRcdFx0XHR0aXRsZTogdmFsaWRhdGVkRGF0YS50aXRsZSxcblx0XHRcdFx0ZGVzY3JpcHRpb246IHZhbGlkYXRlZERhdGEuZGVzY3JpcHRpb24sXG5cdFx0XHRcdGNhdGVnb3J5OiB2YWxpZGF0ZWREYXRhLmNhdGVnb3J5LFxuXHRcdFx0XHR0eXBlOiB2YWxpZGF0ZWREYXRhLnR5cGUsXG5cdFx0XHRcdHByaW9yaXR5OiB2YWxpZGF0ZWREYXRhLnByaW9yaXR5LFxuXHRcdFx0XHRzY2hlZHVsZWRfc3RhcnQ6IHZhbGlkYXRlZERhdGEuc2NoZWR1bGVkU3RhcnQsXG5cdFx0XHRcdHNjaGVkdWxlZF9lbmQ6IHZhbGlkYXRlZERhdGEuc2NoZWR1bGVkRW5kLFxuXHRcdFx0XHRkdXJhdGlvbl9taW51dGVzOiBkdXJhdGlvbixcblx0XHRcdFx0bm90ZXM6IHZhbGlkYXRlZERhdGEubm90ZXMsXG5cdFx0XHRcdHRyYXZlbF90aW1lX21pbnV0ZXM6IHZhbGlkYXRlZERhdGEudHJhdmVsVGltZU1pbnV0ZXMsXG5cdFx0XHRcdHN0YXR1czogXCJzY2hlZHVsZWRcIixcblx0XHRcdFx0Y3JlYXRlZF9ieTogdXNlci5pZCxcblx0XHRcdH0pXG5cdFx0XHQuc2VsZWN0KFwiaWRcIilcblx0XHRcdC5zaW5nbGUoKTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRgRmFpbGVkIHRvIGNyZWF0ZSBhcHBvaW50bWVudDogJHtlcnJvci5tZXNzYWdlfWAsXG5cdFx0XHRcdEVSUk9SX0NPREVTLkRCX1FVRVJZX0VSUk9SLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyBSZXZhbGlkYXRlIHJlbGV2YW50IHBhdGhzXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL3dvcmsvYXBwb2ludG1lbnRzXCIpO1xuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9zY2hlZHVsZVwiKTtcblx0XHRpZiAodmFsaWRhdGVkRGF0YS5qb2JJZCkge1xuXHRcdFx0cmV2YWxpZGF0ZVBhdGgoYC9kYXNoYm9hcmQvd29yay8ke3ZhbGlkYXRlZERhdGEuam9iSWR9YCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGFwcG9pbnRtZW50LmlkO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBVcGRhdGUgYW4gZXhpc3RpbmcgYXBwb2ludG1lbnRcbiAqL1xuYXN5bmMgZnVuY3Rpb24gdXBkYXRlQXBwb2ludG1lbnQoXG5cdGFwcG9pbnRtZW50SWQ6IHN0cmluZyxcblx0Zm9ybURhdGE6IEZvcm1EYXRhLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8Ym9vbGVhbj4+IHtcblx0cmV0dXJuIGF3YWl0IHdpdGhFcnJvckhhbmRsaW5nKGFzeW5jICgpID0+IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGdldFN1cGFiYXNlU2VydmVyQ2xpZW50KCk7XG5cblx0XHQvLyBHZXQgY3VycmVudCB1c2VyXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXHRcdGFzc2VydEF1dGhlbnRpY2F0ZWQodXNlcj8uaWQpO1xuXG5cdFx0Ly8gR2V0IHVzZXIncyBjb21wYW55XG5cdFx0Y29uc3QgY29tcGFueUlkID0gYXdhaXQgZ2V0QWN0aXZlQ29tcGFueUlkKCk7XG5cdFx0YXNzZXJ0RXhpc3RzKGNvbXBhbnlJZCwgXCJDb21wYW55IG5vdCBmb3VuZCBmb3IgdXNlclwiKTtcblxuXHRcdC8vIFZlcmlmeSBhcHBvaW50bWVudCBleGlzdHMgYW5kIGJlbG9uZ3MgdG8gY29tcGFueVxuXHRcdGNvbnN0IHsgZGF0YTogZXhpc3RpbmdBcHBvaW50bWVudCwgZXJyb3I6IGZldGNoRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnNlbGVjdChcImlkLCBjb21wYW55X2lkLCBzdGF0dXMsIHNjaGVkdWxlZF9zdGFydCwgc2NoZWR1bGVkX2VuZCwgam9iX2lkXCIpXG5cdFx0XHQuZXEoXCJpZFwiLCBhcHBvaW50bWVudElkKVxuXHRcdFx0LmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpXG5cdFx0XHQuc2luZ2xlKCk7XG5cblx0XHRpZiAoZmV0Y2hFcnJvciB8fCAhZXhpc3RpbmdBcHBvaW50bWVudCkge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRcIkFwcG9pbnRtZW50IG5vdCBmb3VuZFwiLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9SRUNPUkRfTk9UX0ZPVU5ELFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyBQYXJzZSBhbmQgdmFsaWRhdGUgZm9ybSBkYXRhXG5cdFx0Y29uc3QgcmF3RGF0YSA9IGV4dHJhY3RGb3JtVmFsdWVzKGZvcm1EYXRhLCBbXG5cdFx0XHRcInRpdGxlXCIsXG5cdFx0XHRcImRlc2NyaXB0aW9uXCIsXG5cdFx0XHRcInN0YXR1c1wiLFxuXHRcdFx0XCJ0eXBlXCIsXG5cdFx0XHRcInByaW9yaXR5XCIsXG5cdFx0XHRcInNjaGVkdWxlZFN0YXJ0XCIsXG5cdFx0XHRcInNjaGVkdWxlZEVuZFwiLFxuXHRcdFx0XCJhY3R1YWxTdGFydFwiLFxuXHRcdFx0XCJhY3R1YWxFbmRcIixcblx0XHRcdFwiYXNzaWduZWRUb1wiLFxuXHRcdFx0XCJub3Rlc1wiLFxuXHRcdFx0XCJjYW5jZWxsYXRpb25SZWFzb25cIixcblx0XHRdKTtcblxuXHRcdGNvbnN0IHZhbGlkYXRlZERhdGEgPSB1cGRhdGVBcHBvaW50bWVudFNjaGVtYS5wYXJzZShyYXdEYXRhKTtcblxuXHRcdC8vIFZhbGlkYXRlIHRpbWVzIGlmIGJvdGggYXJlIHByb3ZpZGVkXG5cdFx0aWYgKHZhbGlkYXRlZERhdGEuc2NoZWR1bGVkU3RhcnQgJiYgdmFsaWRhdGVkRGF0YS5zY2hlZHVsZWRFbmQpIHtcblx0XHRcdHZhbGlkYXRlQXBwb2ludG1lbnRUaW1lcyhcblx0XHRcdFx0dmFsaWRhdGVkRGF0YS5zY2hlZHVsZWRTdGFydCxcblx0XHRcdFx0dmFsaWRhdGVkRGF0YS5zY2hlZHVsZWRFbmQsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdC8vIENhbGN1bGF0ZSBuZXcgZHVyYXRpb24gaWYgdGltZXMgY2hhbmdlZFxuXHRcdGxldCBkdXJhdGlvbjogbnVtYmVyIHwgdW5kZWZpbmVkO1xuXHRcdGlmICh2YWxpZGF0ZWREYXRhLnNjaGVkdWxlZFN0YXJ0ICYmIHZhbGlkYXRlZERhdGEuc2NoZWR1bGVkRW5kKSB7XG5cdFx0XHRkdXJhdGlvbiA9IGNhbGN1bGF0ZUR1cmF0aW9uKFxuXHRcdFx0XHR2YWxpZGF0ZWREYXRhLnNjaGVkdWxlZFN0YXJ0LFxuXHRcdFx0XHR2YWxpZGF0ZWREYXRhLnNjaGVkdWxlZEVuZCxcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Ly8gQnVpbGQgdXBkYXRlIG9iamVjdFxuXHRcdGNvbnN0IHVwZGF0ZURhdGEgPSBidWlsZFVwZGF0ZVBheWxvYWQodmFsaWRhdGVkRGF0YSwgZHVyYXRpb24pO1xuXHRcdGNvbnN0IGRiVXBkYXRlRGF0YSA9IHRvU25ha2VDYXNlUmVjb3JkKHVwZGF0ZURhdGEpO1xuXG5cdFx0Ly8gVXBkYXRlIGFwcG9pbnRtZW50XG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKGRiVXBkYXRlRGF0YSlcblx0XHRcdC5lcShcImlkXCIsIGFwcG9pbnRtZW50SWQpXG5cdFx0XHQuZXEoXCJjb21wYW55X2lkXCIsIGNvbXBhbnlJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0YEZhaWxlZCB0byB1cGRhdGUgYXBwb2ludG1lbnQ6ICR7ZXJyb3IubWVzc2FnZX1gLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9RVUVSWV9FUlJPUixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Ly8gUmV2YWxpZGF0ZSByZWxldmFudCBwYXRoc1xuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC93b3JrL2FwcG9pbnRtZW50c1wiKTtcblx0XHRyZXZhbGlkYXRlUGF0aChgL2Rhc2hib2FyZC93b3JrL2FwcG9pbnRtZW50cy8ke2FwcG9pbnRtZW50SWR9YCk7XG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL3NjaGVkdWxlXCIpO1xuXHRcdGlmIChleGlzdGluZ0FwcG9pbnRtZW50LmpvYl9pZCkge1xuXHRcdFx0cmV2YWxpZGF0ZVBhdGgoYC9kYXNoYm9hcmQvd29yay8ke2V4aXN0aW5nQXBwb2ludG1lbnQuam9iX2lkfWApO1xuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBSZXNjaGVkdWxlIGFuIGFwcG9pbnRtZW50XG4gKi9cbmFzeW5jIGZ1bmN0aW9uIHJlc2NoZWR1bGVBcHBvaW50bWVudChcblx0YXBwb2ludG1lbnRJZDogc3RyaW5nLFxuXHRmb3JtRGF0YTogRm9ybURhdGEsXG4pOiBQcm9taXNlPEFjdGlvblJlc3VsdDxib29sZWFuPj4ge1xuXHRyZXR1cm4gYXdhaXQgd2l0aEVycm9ySGFuZGxpbmcoYXN5bmMgKCkgPT4ge1xuXHRcdGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgZ2V0U3VwYWJhc2VTZXJ2ZXJDbGllbnQoKTtcblxuXHRcdC8vIEdldCBjdXJyZW50IHVzZXJcblx0XHRjb25zdCB7XG5cdFx0XHRkYXRhOiB7IHVzZXIgfSxcblx0XHR9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKCk7XG5cdFx0YXNzZXJ0QXV0aGVudGljYXRlZCh1c2VyPy5pZCk7XG5cblx0XHQvLyBHZXQgdXNlcidzIGNvbXBhbnlcblx0XHRjb25zdCBjb21wYW55SWQgPSBhd2FpdCBnZXRBY3RpdmVDb21wYW55SWQoKTtcblx0XHRhc3NlcnRFeGlzdHMoY29tcGFueUlkLCBcIkNvbXBhbnkgbm90IGZvdW5kIGZvciB1c2VyXCIpO1xuXG5cdFx0Ly8gUGFyc2UgYW5kIHZhbGlkYXRlIGZvcm0gZGF0YVxuXHRcdGNvbnN0IHJhd0RhdGEgPSB7XG5cdFx0XHRzY2hlZHVsZWRTdGFydDogZm9ybURhdGEuZ2V0KFwic2NoZWR1bGVkU3RhcnRcIikgYXMgc3RyaW5nLFxuXHRcdFx0c2NoZWR1bGVkRW5kOiBmb3JtRGF0YS5nZXQoXCJzY2hlZHVsZWRFbmRcIikgYXMgc3RyaW5nLFxuXHRcdFx0cmVhc29uOiAoZm9ybURhdGEuZ2V0KFwicmVhc29uXCIpIGFzIHN0cmluZykgfHwgdW5kZWZpbmVkLFxuXHRcdH07XG5cblx0XHRjb25zdCB2YWxpZGF0ZWREYXRhID0gcmVzY2hlZHVsZUFwcG9pbnRtZW50U2NoZW1hLnBhcnNlKHJhd0RhdGEpO1xuXG5cdFx0Ly8gVmFsaWRhdGUgYXBwb2ludG1lbnQgdGltZXNcblx0XHR2YWxpZGF0ZUFwcG9pbnRtZW50VGltZXMoXG5cdFx0XHR2YWxpZGF0ZWREYXRhLnNjaGVkdWxlZFN0YXJ0LFxuXHRcdFx0dmFsaWRhdGVkRGF0YS5zY2hlZHVsZWRFbmQsXG5cdFx0KTtcblxuXHRcdC8vIENhbGN1bGF0ZSBuZXcgZHVyYXRpb25cblx0XHRjb25zdCBkdXJhdGlvbiA9IGNhbGN1bGF0ZUR1cmF0aW9uKFxuXHRcdFx0dmFsaWRhdGVkRGF0YS5zY2hlZHVsZWRTdGFydCxcblx0XHRcdHZhbGlkYXRlZERhdGEuc2NoZWR1bGVkRW5kLFxuXHRcdCk7XG5cblx0XHQvLyBVcGRhdGUgYXBwb2ludG1lbnQgd2l0aCByZXNjaGVkdWxlZCBzdGF0dXNcblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRzY2hlZHVsZWRfc3RhcnQ6IHZhbGlkYXRlZERhdGEuc2NoZWR1bGVkU3RhcnQsXG5cdFx0XHRcdHNjaGVkdWxlZF9lbmQ6IHZhbGlkYXRlZERhdGEuc2NoZWR1bGVkRW5kLFxuXHRcdFx0XHRkdXJhdGlvbl9taW51dGVzOiBkdXJhdGlvbixcblx0XHRcdFx0c3RhdHVzOiBcInJlc2NoZWR1bGVkXCIsXG5cdFx0XHRcdG5vdGVzOiB2YWxpZGF0ZWREYXRhLnJlYXNvblxuXHRcdFx0XHRcdD8gYFJlc2NoZWR1bGVkOiAke3ZhbGlkYXRlZERhdGEucmVhc29ufWBcblx0XHRcdFx0XHQ6IHVuZGVmaW5lZCxcblx0XHRcdH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBhcHBvaW50bWVudElkKVxuXHRcdFx0LmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdGBGYWlsZWQgdG8gcmVzY2hlZHVsZSBhcHBvaW50bWVudDogJHtlcnJvci5tZXNzYWdlfWAsXG5cdFx0XHRcdEVSUk9SX0NPREVTLkRCX1FVRVJZX0VSUk9SLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyBSZXZhbGlkYXRlIHJlbGV2YW50IHBhdGhzXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL3dvcmsvYXBwb2ludG1lbnRzXCIpO1xuXHRcdHJldmFsaWRhdGVQYXRoKGAvZGFzaGJvYXJkL3dvcmsvYXBwb2ludG1lbnRzLyR7YXBwb2ludG1lbnRJZH1gKTtcblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvc2NoZWR1bGVcIik7XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSk7XG59XG5cbi8qKlxuICogQ2FuY2VsIGFuIGFwcG9pbnRtZW50XG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGNhbmNlbEFwcG9pbnRtZW50KFxuXHRhcHBvaW50bWVudElkOiBzdHJpbmcsXG5cdHJlYXNvbj86IHN0cmluZyxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PGJvb2xlYW4+PiB7XG5cdHJldHVybiBhd2FpdCB3aXRoRXJyb3JIYW5kbGluZyhhc3luYyAoKSA9PiB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBnZXRTdXBhYmFzZVNlcnZlckNsaWVudCgpO1xuXG5cdFx0Ly8gR2V0IGN1cnJlbnQgdXNlclxuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblx0XHRhc3NlcnRBdXRoZW50aWNhdGVkKHVzZXI/LmlkKTtcblxuXHRcdC8vIEdldCB1c2VyJ3MgY29tcGFueVxuXHRcdGNvbnN0IGNvbXBhbnlJZCA9IGF3YWl0IGdldEFjdGl2ZUNvbXBhbnlJZCgpO1xuXHRcdGFzc2VydEV4aXN0cyhjb21wYW55SWQsIFwiQ29tcGFueSBub3QgZm91bmQgZm9yIHVzZXJcIik7XG5cblx0XHQvLyBVcGRhdGUgYXBwb2ludG1lbnQgc3RhdHVzIHRvIGNhbmNlbGxlZFxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LnVwZGF0ZSh7XG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIixcblx0XHRcdFx0Y2FuY2VsbGF0aW9uX3JlYXNvbjogcmVhc29uLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIGFwcG9pbnRtZW50SWQpXG5cdFx0XHQuZXEoXCJjb21wYW55X2lkXCIsIGNvbXBhbnlJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0YEZhaWxlZCB0byBjYW5jZWwgYXBwb2ludG1lbnQ6ICR7ZXJyb3IubWVzc2FnZX1gLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9RVUVSWV9FUlJPUixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Ly8gUmV2YWxpZGF0ZSByZWxldmFudCBwYXRoc1xuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC93b3JrL2FwcG9pbnRtZW50c1wiKTtcblx0XHRyZXZhbGlkYXRlUGF0aChgL2Rhc2hib2FyZC93b3JrL2FwcG9pbnRtZW50cy8ke2FwcG9pbnRtZW50SWR9YCk7XG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL3NjaGVkdWxlXCIpO1xuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH0pO1xufVxuXG4vKipcbiAqIENvbXBsZXRlIGFuIGFwcG9pbnRtZW50XG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGNvbXBsZXRlQXBwb2ludG1lbnQoXG5cdGFwcG9pbnRtZW50SWQ6IHN0cmluZyxcblx0YWN0dWFsRW5kPzogc3RyaW5nLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8Ym9vbGVhbj4+IHtcblx0cmV0dXJuIGF3YWl0IHdpdGhFcnJvckhhbmRsaW5nKGFzeW5jICgpID0+IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGdldFN1cGFiYXNlU2VydmVyQ2xpZW50KCk7XG5cblx0XHQvLyBHZXQgY3VycmVudCB1c2VyXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXHRcdGFzc2VydEF1dGhlbnRpY2F0ZWQodXNlcj8uaWQpO1xuXG5cdFx0Ly8gR2V0IHVzZXIncyBjb21wYW55XG5cdFx0Y29uc3QgY29tcGFueUlkID0gYXdhaXQgZ2V0QWN0aXZlQ29tcGFueUlkKCk7XG5cdFx0YXNzZXJ0RXhpc3RzKGNvbXBhbnlJZCwgXCJDb21wYW55IG5vdCBmb3VuZCBmb3IgdXNlclwiKTtcblxuXHRcdC8vIFVwZGF0ZSBhcHBvaW50bWVudCBzdGF0dXMgdG8gY29tcGxldGVkXG5cdFx0Y29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHtcblx0XHRcdFx0c3RhdHVzOiBcImNvbXBsZXRlZFwiLFxuXHRcdFx0XHRhY3R1YWxfZW5kOiBhY3R1YWxFbmQgfHwgbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIGFwcG9pbnRtZW50SWQpXG5cdFx0XHQuZXEoXCJjb21wYW55X2lkXCIsIGNvbXBhbnlJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0YEZhaWxlZCB0byBjb21wbGV0ZSBhcHBvaW50bWVudDogJHtlcnJvci5tZXNzYWdlfWAsXG5cdFx0XHRcdEVSUk9SX0NPREVTLkRCX1FVRVJZX0VSUk9SLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHQvLyBSZXZhbGlkYXRlIHJlbGV2YW50IHBhdGhzXG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL3dvcmsvYXBwb2ludG1lbnRzXCIpO1xuXHRcdHJldmFsaWRhdGVQYXRoKGAvZGFzaGJvYXJkL3dvcmsvYXBwb2ludG1lbnRzLyR7YXBwb2ludG1lbnRJZH1gKTtcblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvc2NoZWR1bGVcIik7XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fSk7XG59XG5cbi8qKlxuICogQXJjaGl2ZSBhbiBhcHBvaW50bWVudCAoc29mdCBkZWxldGUpXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhcmNoaXZlQXBwb2ludG1lbnQoXG5cdGFwcG9pbnRtZW50SWQ6IHN0cmluZyxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PGJvb2xlYW4+PiB7XG5cdHJldHVybiBhd2FpdCB3aXRoRXJyb3JIYW5kbGluZyhhc3luYyAoKSA9PiB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBnZXRTdXBhYmFzZVNlcnZlckNsaWVudCgpO1xuXG5cdFx0Ly8gR2V0IGN1cnJlbnQgdXNlclxuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblx0XHRhc3NlcnRBdXRoZW50aWNhdGVkKHVzZXI/LmlkKTtcblxuXHRcdC8vIEdldCB1c2VyJ3MgY29tcGFueVxuXHRcdGNvbnN0IGNvbXBhbnlJZCA9IGF3YWl0IGdldEFjdGl2ZUNvbXBhbnlJZCgpO1xuXHRcdGFzc2VydEV4aXN0cyhjb21wYW55SWQsIFwiQ29tcGFueSBub3QgZm91bmQgZm9yIHVzZXJcIik7XG5cblx0XHQvLyBBcmNoaXZlIGFwcG9pbnRtZW50IChzb2Z0IGRlbGV0ZSlcblx0XHRjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG5cblx0XHRjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuXHRcdFx0LmZyb20oXCJhcHBvaW50bWVudHNcIilcblx0XHRcdC51cGRhdGUoe1xuXHRcdFx0XHRhcmNoaXZlZF9hdDogbm93LFxuXHRcdFx0XHRkZWxldGVkX2F0OiBub3csXG5cdFx0XHRcdGRlbGV0ZWRfYnk6IHVzZXIuaWQsXG5cdFx0XHRcdHN0YXR1czogXCJjYW5jZWxsZWRcIiwgLy8gTWFyayBhcyBjYW5jZWxsZWQgd2hlbiBhcmNoaXZlZFxuXHRcdFx0fSlcblx0XHRcdC5lcShcImlkXCIsIGFwcG9pbnRtZW50SWQpXG5cdFx0XHQuZXEoXCJjb21wYW55X2lkXCIsIGNvbXBhbnlJZCk7XG5cblx0XHRpZiAoZXJyb3IpIHtcblx0XHRcdHRocm93IG5ldyBBY3Rpb25FcnJvcihcblx0XHRcdFx0YEZhaWxlZCB0byBhcmNoaXZlIGFwcG9pbnRtZW50OiAke2Vycm9yLm1lc3NhZ2V9YCxcblx0XHRcdFx0RVJST1JfQ09ERVMuREJfUVVFUllfRVJST1IsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0cnVlO1xuXHR9KTtcbn1cblxuLyoqXG4gKiBEZWxldGUgYW4gYXBwb2ludG1lbnQgKGhhcmQgZGVsZXRlKVxuICovXG5hc3luYyBmdW5jdGlvbiBkZWxldGVBcHBvaW50bWVudChcblx0YXBwb2ludG1lbnRJZDogc3RyaW5nLFxuKTogUHJvbWlzZTxBY3Rpb25SZXN1bHQ8Ym9vbGVhbj4+IHtcblx0cmV0dXJuIGF3YWl0IHdpdGhFcnJvckhhbmRsaW5nKGFzeW5jICgpID0+IHtcblx0XHRjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGdldFN1cGFiYXNlU2VydmVyQ2xpZW50KCk7XG5cblx0XHQvLyBHZXQgY3VycmVudCB1c2VyXG5cdFx0Y29uc3Qge1xuXHRcdFx0ZGF0YTogeyB1c2VyIH0sXG5cdFx0fSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpO1xuXHRcdGFzc2VydEF1dGhlbnRpY2F0ZWQodXNlcj8uaWQpO1xuXG5cdFx0Ly8gR2V0IHVzZXIncyBjb21wYW55XG5cdFx0Y29uc3QgY29tcGFueUlkID0gYXdhaXQgZ2V0QWN0aXZlQ29tcGFueUlkKCk7XG5cdFx0YXNzZXJ0RXhpc3RzKGNvbXBhbnlJZCwgXCJDb21wYW55IG5vdCBmb3VuZCBmb3IgdXNlclwiKTtcblxuXHRcdC8vIERlbGV0ZSBhcHBvaW50bWVudFxuXHRcdGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG5cdFx0XHQuZnJvbShcImFwcG9pbnRtZW50c1wiKVxuXHRcdFx0LmRlbGV0ZSgpXG5cdFx0XHQuZXEoXCJpZFwiLCBhcHBvaW50bWVudElkKVxuXHRcdFx0LmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpO1xuXG5cdFx0aWYgKGVycm9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdGBGYWlsZWQgdG8gZGVsZXRlIGFwcG9pbnRtZW50OiAke2Vycm9yLm1lc3NhZ2V9YCxcblx0XHRcdFx0RVJST1JfQ09ERVMuREJfUVVFUllfRVJST1IsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdC8vIFJldmFsaWRhdGUgcmVsZXZhbnQgcGF0aHNcblx0XHRyZXZhbGlkYXRlUGF0aChcIi9kYXNoYm9hcmQvd29yay9hcHBvaW50bWVudHNcIik7XG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL3NjaGVkdWxlXCIpO1xuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH0pO1xufVxuXG4vKipcbiAqIFNlYXJjaCBhcHBvaW50bWVudHNcbiAqL1xuYXN5bmMgZnVuY3Rpb24gc2VhcmNoQXBwb2ludG1lbnRzKFxuXHRzZWFyY2hRdWVyeTogc3RyaW5nLFxuXHRvcHRpb25zPzoge1xuXHRcdGxpbWl0PzogbnVtYmVyO1xuXHRcdG9mZnNldD86IG51bWJlcjtcblx0fSxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PFJlY29yZDxzdHJpbmcsIHVua25vd24+W10+PiB7XG5cdHJldHVybiBhd2FpdCB3aXRoRXJyb3JIYW5kbGluZyhhc3luYyAoKSA9PiB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBnZXRTdXBhYmFzZVNlcnZlckNsaWVudCgpO1xuXG5cdFx0Ly8gR2V0IGN1cnJlbnQgdXNlclxuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblx0XHRhc3NlcnRBdXRoZW50aWNhdGVkKHVzZXI/LmlkKTtcblxuXHRcdC8vIEdldCB1c2VyJ3MgY29tcGFueVxuXHRcdGNvbnN0IGNvbXBhbnlJZCA9IGF3YWl0IGdldEFjdGl2ZUNvbXBhbnlJZCgpO1xuXHRcdGFzc2VydEV4aXN0cyhjb21wYW55SWQsIFwiQ29tcGFueSBub3QgZm91bmQgZm9yIHVzZXJcIik7XG5cblx0XHQvLyBVc2UgdGhlIFJQQyBmdW5jdGlvbiBmb3IgcmFua2VkIHNlYXJjaFxuXHRcdGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnJwYyhcInNlYXJjaF9hcHBvaW50bWVudHNfcmFua2VkXCIsIHtcblx0XHRcdHBfY29tcGFueV9pZDogY29tcGFueUlkLFxuXHRcdFx0cF9zZWFyY2hfcXVlcnk6IHNlYXJjaFF1ZXJ5LFxuXHRcdFx0cF9saW1pdDogb3B0aW9ucz8ubGltaXQgPz8gREVGQVVMVF9TRUFSQ0hfTElNSVQsXG5cdFx0XHRwX29mZnNldDogb3B0aW9ucz8ub2Zmc2V0ID8/IERFRkFVTFRfU0VBUkNIX09GRlNFVCxcblx0XHR9KTtcblxuXHRcdGlmIChlcnJvcikge1xuXHRcdFx0dGhyb3cgbmV3IEFjdGlvbkVycm9yKFxuXHRcdFx0XHRgU2VhcmNoIGZhaWxlZDogJHtlcnJvci5tZXNzYWdlfWAsXG5cdFx0XHRcdEVSUk9SX0NPREVTLkRCX1FVRVJZX0VSUk9SLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gKGRhdGEgYXMgUmVjb3JkPHN0cmluZywgdW5rbm93bj5bXSkgfHwgW107XG5cdH0pO1xufVxuXG4vKipcbiAqIFVubGluayBhcHBvaW50bWVudCBmcm9tIGpvYlxuICogUmVtb3ZlcyB0aGUgam9iIGFzc29jaWF0aW9uIChzZXRzIGpvYl9pZCB0byBOVUxMKVxuICogQmlkaXJlY3Rpb25hbCBvcGVyYXRpb24gLSB1cGRhdGVzIGJvdGggYXBwb2ludG1lbnQgYW5kIGpvYiB2aWV3c1xuICovXG5hc3luYyBmdW5jdGlvbiB1bmxpbmtTY2hlZHVsZUZyb21Kb2IoXG5cdGFwcG9pbnRtZW50SWQ6IHN0cmluZyxcbik6IFByb21pc2U8QWN0aW9uUmVzdWx0PHZvaWQ+PiB7XG5cdHJldHVybiBhd2FpdCB3aXRoRXJyb3JIYW5kbGluZyhhc3luYyAoKSA9PiB7XG5cdFx0Y29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBnZXRTdXBhYmFzZVNlcnZlckNsaWVudCgpO1xuXG5cdFx0Ly8gR2V0IGN1cnJlbnQgdXNlclxuXHRcdGNvbnN0IHtcblx0XHRcdGRhdGE6IHsgdXNlciB9LFxuXHRcdH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKTtcblx0XHRhc3NlcnRBdXRoZW50aWNhdGVkKHVzZXI/LmlkKTtcblxuXHRcdC8vIEdldCB1c2VyJ3MgY29tcGFueVxuXHRcdGNvbnN0IGNvbXBhbnlJZCA9IGF3YWl0IGdldEFjdGl2ZUNvbXBhbnlJZCgpO1xuXHRcdGFzc2VydEV4aXN0cyhjb21wYW55SWQsIFwiQ29tcGFueSBub3QgZm91bmQgZm9yIHVzZXJcIik7XG5cblx0XHQvLyBHZXQgY3VycmVudCBhcHBvaW50bWVudCB0byB2ZXJpZnkgZXhpc3RzIGFuZCBnZXQgam9iX2lkIGZvciByZXZhbGlkYXRpb25cblx0XHRjb25zdCB7IGRhdGE6IGFwcG9pbnRtZW50LCBlcnJvcjogZmV0Y2hFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQuc2VsZWN0KFwiaWQsIGpvYl9pZFwiKVxuXHRcdFx0LmVxKFwiaWRcIiwgYXBwb2ludG1lbnRJZClcblx0XHRcdC5lcShcImNvbXBhbnlfaWRcIiwgY29tcGFueUlkKVxuXHRcdFx0LnNpbmdsZSgpO1xuXG5cdFx0aWYgKGZldGNoRXJyb3IgfHwgIWFwcG9pbnRtZW50KSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdFwiQXBwb2ludG1lbnQgbm90IGZvdW5kXCIsXG5cdFx0XHRcdEVSUk9SX0NPREVTLkRCX1JFQ09SRF9OT1RfRk9VTkQsXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdGNvbnN0IHByZXZpb3VzSm9iSWQgPSBhcHBvaW50bWVudC5qb2JfaWQ7XG5cblx0XHQvLyBVbmxpbmsgYXBwb2ludG1lbnQgZnJvbSBqb2IgKHNldCBqb2JfaWQgdG8gTlVMTClcblx0XHRjb25zdCB7IGVycm9yOiB1bmxpbmtFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Vcblx0XHRcdC5mcm9tKFwiYXBwb2ludG1lbnRzXCIpXG5cdFx0XHQudXBkYXRlKHsgam9iX2lkOiBudWxsIH0pXG5cdFx0XHQuZXEoXCJpZFwiLCBhcHBvaW50bWVudElkKVxuXHRcdFx0LmVxKFwiY29tcGFueV9pZFwiLCBjb21wYW55SWQpO1xuXG5cdFx0aWYgKHVubGlua0Vycm9yKSB7XG5cdFx0XHR0aHJvdyBuZXcgQWN0aW9uRXJyb3IoXG5cdFx0XHRcdFwiRmFpbGVkIHRvIHVubGluayBhcHBvaW50bWVudCBmcm9tIGpvYlwiLFxuXHRcdFx0XHRFUlJPUl9DT0RFUy5EQl9RVUVSWV9FUlJPUixcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0Ly8gUmV2YWxpZGF0ZSBib3RoIHBhZ2VzXG5cdFx0cmV2YWxpZGF0ZVBhdGgoYC9kYXNoYm9hcmQvd29yay9hcHBvaW50bWVudHMvJHthcHBvaW50bWVudElkfWApO1xuXHRcdGlmIChwcmV2aW91c0pvYklkKSB7XG5cdFx0XHRyZXZhbGlkYXRlUGF0aChgL2Rhc2hib2FyZC93b3JrLyR7cHJldmlvdXNKb2JJZH1gKTtcblx0XHR9XG5cdFx0cmV2YWxpZGF0ZVBhdGgoXCIvZGFzaGJvYXJkL3dvcmsvYXBwb2ludG1lbnRzXCIpO1xuXHRcdHJldmFsaWRhdGVQYXRoKFwiL2Rhc2hib2FyZC9zY2hlZHVsZVwiKTtcblx0fSk7XG59XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IitTQStPc0IifQ==
if (typeof globalThis.$RefreshHelpers$ === 'object' && globalThis.$RefreshHelpers !== null) {
    __turbopack_context__.k.registerExports(__turbopack_context__.m, globalThis.$RefreshHelpers$);
}
}),
]);

//# sourceMappingURL=apps_web_src_actions_4a2fea34._.js.map