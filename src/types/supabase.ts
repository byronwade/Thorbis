export type Json =
  | string
  | number
  | boolean
  | null
  | { [key: string]: Json | undefined }
  | Json[]

export type Database = {
  // Allows to automatically instantiate createClient with right options
  // instead of createClient<Database, { PostgrestVersion: 'XX' }>(URL, KEY)
  __InternalSupabase: {
    PostgrestVersion: "13.0.5"
  }
  public: {
    Tables: {
      activities: {
        Row: {
          action: string
          activity_type: string
          actor_id: string | null
          actor_name: string | null
          actor_type: string
          ai_model: string | null
          attachment_name: string | null
          attachment_type: string | null
          attachment_url: string | null
          automation_workflow_id: string | null
          automation_workflow_name: string | null
          category: string
          company_id: string
          created_at: string
          description: string | null
          entity_id: string
          entity_type: string
          field_name: string | null
          id: string
          is_important: boolean
          is_system_generated: boolean
          is_visible: boolean
          metadata: Json | null
          new_value: string | null
          occurred_at: string
          old_value: string | null
          related_entity_id: string | null
          related_entity_type: string | null
        }
        Insert: {
          action: string
          activity_type: string
          actor_id?: string | null
          actor_name?: string | null
          actor_type?: string
          ai_model?: string | null
          attachment_name?: string | null
          attachment_type?: string | null
          attachment_url?: string | null
          automation_workflow_id?: string | null
          automation_workflow_name?: string | null
          category: string
          company_id: string
          created_at?: string
          description?: string | null
          entity_id: string
          entity_type: string
          field_name?: string | null
          id?: string
          is_important?: boolean
          is_system_generated?: boolean
          is_visible?: boolean
          metadata?: Json | null
          new_value?: string | null
          occurred_at?: string
          old_value?: string | null
          related_entity_id?: string | null
          related_entity_type?: string | null
        }
        Update: {
          action?: string
          activity_type?: string
          actor_id?: string | null
          actor_name?: string | null
          actor_type?: string
          ai_model?: string | null
          attachment_name?: string | null
          attachment_type?: string | null
          attachment_url?: string | null
          automation_workflow_id?: string | null
          automation_workflow_name?: string | null
          category?: string
          company_id?: string
          created_at?: string
          description?: string | null
          entity_id?: string
          entity_type?: string
          field_name?: string | null
          id?: string
          is_important?: boolean
          is_system_generated?: boolean
          is_visible?: boolean
          metadata?: Json | null
          new_value?: string | null
          occurred_at?: string
          old_value?: string | null
          related_entity_id?: string | null
          related_entity_type?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "activities_actor_id_users_id_fk"
            columns: ["actor_id"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "activities_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "activities_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      admin_alerts: {
        Row: {
          acknowledged_at: string | null
          acknowledged_by: string | null
          action_taken: string | null
          alert_data: Json | null
          alert_type: string
          auto_generated: boolean | null
          company_id: string | null
          created_at: string | null
          current_value: number | null
          description: string | null
          escalated_at: string | null
          escalated_to: string | null
          escalation_reason: string | null
          follow_up_date: string | null
          id: string
          requires_action: boolean | null
          resolution_notes: string | null
          resolved_at: string | null
          resolved_by: string | null
          rule_id: string | null
          severity: string
          status: string
          suppressed: boolean | null
          suppressed_until: string | null
          threshold_value: number | null
          title: string
          updated_at: string | null
          user_id: string | null
        }
        Insert: {
          acknowledged_at?: string | null
          acknowledged_by?: string | null
          action_taken?: string | null
          alert_data?: Json | null
          alert_type: string
          auto_generated?: boolean | null
          company_id?: string | null
          created_at?: string | null
          current_value?: number | null
          description?: string | null
          escalated_at?: string | null
          escalated_to?: string | null
          escalation_reason?: string | null
          follow_up_date?: string | null
          id?: string
          requires_action?: boolean | null
          resolution_notes?: string | null
          resolved_at?: string | null
          resolved_by?: string | null
          rule_id?: string | null
          severity?: string
          status?: string
          suppressed?: boolean | null
          suppressed_until?: string | null
          threshold_value?: number | null
          title: string
          updated_at?: string | null
          user_id?: string | null
        }
        Update: {
          acknowledged_at?: string | null
          acknowledged_by?: string | null
          action_taken?: string | null
          alert_data?: Json | null
          alert_type?: string
          auto_generated?: boolean | null
          company_id?: string | null
          created_at?: string | null
          current_value?: number | null
          description?: string | null
          escalated_at?: string | null
          escalated_to?: string | null
          escalation_reason?: string | null
          follow_up_date?: string | null
          id?: string
          requires_action?: boolean | null
          resolution_notes?: string | null
          resolved_at?: string | null
          resolved_by?: string | null
          rule_id?: string | null
          severity?: string
          status?: string
          suppressed?: boolean | null
          suppressed_until?: string | null
          threshold_value?: number | null
          title?: string
          updated_at?: string | null
          user_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "admin_alerts_acknowledged_by_fkey"
            columns: ["acknowledged_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "admin_alerts_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "admin_alerts_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "admin_alerts_resolved_by_fkey"
            columns: ["resolved_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "admin_alerts_user_id_fkey"
            columns: ["user_id"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      admin_company_health_override: {
        Row: {
          churn_risk_override: string | null
          company_id: string
          created_at: string
          health_score_override: number | null
          id: string
          is_active: boolean | null
          override_reason: string
          set_at: string
          set_by: string
          updated_at: string
          valid_until: string | null
        }
        Insert: {
          churn_risk_override?: string | null
          company_id: string
          created_at?: string
          health_score_override?: number | null
          id?: string
          is_active?: boolean | null
          override_reason: string
          set_at?: string
          set_by: string
          updated_at?: string
          valid_until?: string | null
        }
        Update: {
          churn_risk_override?: string | null
          company_id?: string
          created_at?: string
          health_score_override?: number | null
          id?: string
          is_active?: boolean | null
          override_reason?: string
          set_at?: string
          set_by?: string
          updated_at?: string
          valid_until?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "admin_company_health_override_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "admin_company_health_override_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      admin_company_notes: {
        Row: {
          attachments: Json | null
          company_id: string
          content: string
          created_at: string
          created_by_email: string
          created_by_name: string | null
          followup_assigned_to: string | null
          followup_date: string | null
          id: string
          is_pinned: boolean | null
          is_resolved: boolean | null
          note_type: string
          priority: string | null
          related_alert_id: string | null
          related_event_id: string | null
          related_ticket_id: string | null
          requires_followup: boolean | null
          resolved_at: string | null
          resolved_by: string | null
          tags: string[] | null
          title: string | null
          updated_at: string
        }
        Insert: {
          attachments?: Json | null
          company_id: string
          content: string
          created_at?: string
          created_by_email: string
          created_by_name?: string | null
          followup_assigned_to?: string | null
          followup_date?: string | null
          id?: string
          is_pinned?: boolean | null
          is_resolved?: boolean | null
          note_type?: string
          priority?: string | null
          related_alert_id?: string | null
          related_event_id?: string | null
          related_ticket_id?: string | null
          requires_followup?: boolean | null
          resolved_at?: string | null
          resolved_by?: string | null
          tags?: string[] | null
          title?: string | null
          updated_at?: string
        }
        Update: {
          attachments?: Json | null
          company_id?: string
          content?: string
          created_at?: string
          created_by_email?: string
          created_by_name?: string | null
          followup_assigned_to?: string | null
          followup_date?: string | null
          id?: string
          is_pinned?: boolean | null
          is_resolved?: boolean | null
          note_type?: string
          priority?: string | null
          related_alert_id?: string | null
          related_event_id?: string | null
          related_ticket_id?: string | null
          requires_followup?: boolean | null
          resolved_at?: string | null
          resolved_by?: string | null
          tags?: string[] | null
          title?: string | null
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "admin_company_notes_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "admin_company_notes_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      admin_company_tags: {
        Row: {
          added_at: string
          added_by: string
          company_id: string
          id: string
          tag_category: string | null
          tag_color: string | null
          tag_name: string
        }
        Insert: {
          added_at?: string
          added_by: string
          company_id: string
          id?: string
          tag_category?: string | null
          tag_color?: string | null
          tag_name: string
        }
        Update: {
          added_at?: string
          added_by?: string
          company_id?: string
          id?: string
          tag_category?: string | null
          tag_color?: string | null
          tag_name?: string
        }
        Relationships: [
          {
            foreignKeyName: "admin_company_tags_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "admin_company_tags_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      after_hours_settings: {
        Row: {
          auto_reply_sms_enabled: boolean | null
          auto_reply_sms_message: string | null
          company_id: string
          created_at: string | null
          emergency_enabled: boolean | null
          emergency_number: string | null
          enabled: boolean | null
          id: string
          message: string | null
          updated_at: string | null
          voicemail_enabled: boolean | null
          voicemail_greeting: string | null
        }
        Insert: {
          auto_reply_sms_enabled?: boolean | null
          auto_reply_sms_message?: string | null
          company_id: string
          created_at?: string | null
          emergency_enabled?: boolean | null
          emergency_number?: string | null
          enabled?: boolean | null
          id?: string
          message?: string | null
          updated_at?: string | null
          voicemail_enabled?: boolean | null
          voicemail_greeting?: string | null
        }
        Update: {
          auto_reply_sms_enabled?: boolean | null
          auto_reply_sms_message?: string | null
          company_id?: string
          created_at?: string | null
          emergency_enabled?: boolean | null
          emergency_number?: string | null
          enabled?: boolean | null
          id?: string
          message?: string | null
          updated_at?: string | null
          voicemail_enabled?: boolean | null
          voicemail_greeting?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "after_hours_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "after_hours_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      ai_action_log: {
        Row: {
          action_description: string | null
          action_name: string
          action_type: Database["public"]["Enums"]["ai_action_type"]
          communication_id: string | null
          company_id: string
          created_at: string
          customer_id: string | null
          error_message: string | null
          executed_at: string | null
          id: string
          input_data: Json | null
          invoice_id: string | null
          job_id: string | null
          output_data: Json | null
          permission_granted: boolean | null
          permission_granted_at: string | null
          permission_granted_by: string | null
          permission_mode: Database["public"]["Enums"]["ai_permission_mode"]
          permission_requested: boolean
          requested_at: string
          status: string
          user_id: string | null
        }
        Insert: {
          action_description?: string | null
          action_name: string
          action_type: Database["public"]["Enums"]["ai_action_type"]
          communication_id?: string | null
          company_id: string
          created_at?: string
          customer_id?: string | null
          error_message?: string | null
          executed_at?: string | null
          id?: string
          input_data?: Json | null
          invoice_id?: string | null
          job_id?: string | null
          output_data?: Json | null
          permission_granted?: boolean | null
          permission_granted_at?: string | null
          permission_granted_by?: string | null
          permission_mode: Database["public"]["Enums"]["ai_permission_mode"]
          permission_requested?: boolean
          requested_at?: string
          status?: string
          user_id?: string | null
        }
        Update: {
          action_description?: string | null
          action_name?: string
          action_type?: Database["public"]["Enums"]["ai_action_type"]
          communication_id?: string | null
          company_id?: string
          created_at?: string
          customer_id?: string | null
          error_message?: string | null
          executed_at?: string | null
          id?: string
          input_data?: Json | null
          invoice_id?: string | null
          job_id?: string | null
          output_data?: Json | null
          permission_granted?: boolean | null
          permission_granted_at?: string | null
          permission_granted_by?: string | null
          permission_mode?: Database["public"]["Enums"]["ai_permission_mode"]
          permission_requested?: boolean
          requested_at?: string
          status?: string
          user_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "ai_action_log_communication_id_fkey"
            columns: ["communication_id"]
            isOneToOne: false
            referencedRelation: "communications"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_action_log_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_action_log_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "ai_action_log_customer_id_fkey"
            columns: ["customer_id"]
            isOneToOne: false
            referencedRelation: "customers"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_action_log_invoice_id_fkey"
            columns: ["invoice_id"]
            isOneToOne: false
            referencedRelation: "invoices"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_action_log_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: false
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_action_log_permission_granted_by_fkey"
            columns: ["permission_granted_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_action_log_user_id_fkey"
            columns: ["user_id"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      ai_action_snapshots: {
        Row: {
          audit_log_id: string
          captured_at: string
          captured_by: string
          company_id: string
          created_at: string
          entity_id: string
          entity_table: string
          entity_type: string
          expires_at: string | null
          full_record: Json
          id: string
          is_permanent: boolean | null
          is_restored: boolean | null
          record_checksum: string | null
          record_version: number | null
          related_entities: Json | null
          restored_at: string | null
          restored_by: string | null
          snapshot_type: string
        }
        Insert: {
          audit_log_id: string
          captured_at?: string
          captured_by?: string
          company_id: string
          created_at?: string
          entity_id: string
          entity_table: string
          entity_type: string
          expires_at?: string | null
          full_record: Json
          id?: string
          is_permanent?: boolean | null
          is_restored?: boolean | null
          record_checksum?: string | null
          record_version?: number | null
          related_entities?: Json | null
          restored_at?: string | null
          restored_by?: string | null
          snapshot_type: string
        }
        Update: {
          audit_log_id?: string
          captured_at?: string
          captured_by?: string
          company_id?: string
          created_at?: string
          entity_id?: string
          entity_table?: string
          entity_type?: string
          expires_at?: string | null
          full_record?: Json
          id?: string
          is_permanent?: boolean | null
          is_restored?: boolean | null
          record_checksum?: string | null
          record_version?: number | null
          related_entities?: Json | null
          restored_at?: string | null
          restored_by?: string | null
          snapshot_type?: string
        }
        Relationships: [
          {
            foreignKeyName: "ai_action_snapshots_audit_log_id_fkey"
            columns: ["audit_log_id"]
            isOneToOne: false
            referencedRelation: "ai_audit_log"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_action_snapshots_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_action_snapshots_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "ai_action_snapshots_restored_by_fkey"
            columns: ["restored_by"]
            isOneToOne: false
            referencedRelation: "profiles"
            referencedColumns: ["id"]
          },
        ]
      }
      ai_agent_settings: {
        Row: {
          action_permissions: Json
          active_days: number[] | null
          active_hours_end: string | null
          active_hours_start: string | null
          can_access_detailed_reports: boolean | null
          can_access_equipment: boolean | null
          can_access_properties: boolean | null
          can_archive_customers: boolean
          can_cancel_appointments: boolean
          can_create_appointments: boolean
          can_create_customers: boolean
          can_create_invoices: boolean
          can_email_team: boolean | null
          can_email_vendors: boolean | null
          can_make_calls: boolean
          can_manage_buckets: boolean
          can_move_funds: boolean
          can_reschedule: boolean
          can_schedule_reminders: boolean | null
          can_send_emails: boolean
          can_send_sms: boolean
          can_sms_team: boolean | null
          can_sms_vendors: boolean | null
          can_update_customers: boolean
          company_context: string | null
          company_id: string
          created_at: string
          created_by: string | null
          custom_system_prompt: string | null
          id: string
          max_transaction_amount: number | null
          model_temperature: number
          notification_email: string | null
          notification_sms: string | null
          notify_on_action: boolean
          permission_mode: Database["public"]["Enums"]["ai_permission_mode"]
          preferred_model: string
          proactive_customer_outreach: boolean
          proactive_financial_advice: boolean
          proactive_scheduling_suggestions: boolean
          updated_at: string
          updated_by: string | null
        }
        Insert: {
          action_permissions?: Json
          active_days?: number[] | null
          active_hours_end?: string | null
          active_hours_start?: string | null
          can_access_detailed_reports?: boolean | null
          can_access_equipment?: boolean | null
          can_access_properties?: boolean | null
          can_archive_customers?: boolean
          can_cancel_appointments?: boolean
          can_create_appointments?: boolean
          can_create_customers?: boolean
          can_create_invoices?: boolean
          can_email_team?: boolean | null
          can_email_vendors?: boolean | null
          can_make_calls?: boolean
          can_manage_buckets?: boolean
          can_move_funds?: boolean
          can_reschedule?: boolean
          can_schedule_reminders?: boolean | null
          can_send_emails?: boolean
          can_send_sms?: boolean
          can_sms_team?: boolean | null
          can_sms_vendors?: boolean | null
          can_update_customers?: boolean
          company_context?: string | null
          company_id: string
          created_at?: string
          created_by?: string | null
          custom_system_prompt?: string | null
          id?: string
          max_transaction_amount?: number | null
          model_temperature?: number
          notification_email?: string | null
          notification_sms?: string | null
          notify_on_action?: boolean
          permission_mode?: Database["public"]["Enums"]["ai_permission_mode"]
          preferred_model?: string
          proactive_customer_outreach?: boolean
          proactive_financial_advice?: boolean
          proactive_scheduling_suggestions?: boolean
          updated_at?: string
          updated_by?: string | null
        }
        Update: {
          action_permissions?: Json
          active_days?: number[] | null
          active_hours_end?: string | null
          active_hours_start?: string | null
          can_access_detailed_reports?: boolean | null
          can_access_equipment?: boolean | null
          can_access_properties?: boolean | null
          can_archive_customers?: boolean
          can_cancel_appointments?: boolean
          can_create_appointments?: boolean
          can_create_customers?: boolean
          can_create_invoices?: boolean
          can_email_team?: boolean | null
          can_email_vendors?: boolean | null
          can_make_calls?: boolean
          can_manage_buckets?: boolean
          can_move_funds?: boolean
          can_reschedule?: boolean
          can_schedule_reminders?: boolean | null
          can_send_emails?: boolean
          can_send_sms?: boolean
          can_sms_team?: boolean | null
          can_sms_vendors?: boolean | null
          can_update_customers?: boolean
          company_context?: string | null
          company_id?: string
          created_at?: string
          created_by?: string | null
          custom_system_prompt?: string | null
          id?: string
          max_transaction_amount?: number | null
          model_temperature?: number
          notification_email?: string | null
          notification_sms?: string | null
          notify_on_action?: boolean
          permission_mode?: Database["public"]["Enums"]["ai_permission_mode"]
          preferred_model?: string
          proactive_customer_outreach?: boolean
          proactive_financial_advice?: boolean
          proactive_scheduling_suggestions?: boolean
          updated_at?: string
          updated_by?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "ai_agent_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_agent_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "ai_agent_settings_created_by_fkey"
            columns: ["created_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_agent_settings_updated_by_fkey"
            columns: ["updated_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      ai_audit_log: {
        Row: {
          action_description: string | null
          action_name: string
          action_type: string
          actor_id: string | null
          actor_name: string | null
          actor_type: string
          affected_fields: string[] | null
          after_state: Json | null
          ai_confidence: number | null
          ai_intent: string | null
          ai_reasoning: string | null
          before_state: Json | null
          change_diff: Json | null
          chat_id: string | null
          checksum: string | null
          company_id: string
          created_at: string
          entity_display_name: string | null
          entity_id: string | null
          entity_type: string
          error_message: string | null
          id: string
          ip_address: unknown
          is_reversible: boolean | null
          is_reverted: boolean | null
          message_id: string | null
          previous_checksum: string | null
          request_id: string | null
          reversal_complexity: string | null
          reversal_deadline: string | null
          reversal_notes: string | null
          revert_reason: string | null
          reverted_at: string | null
          reverted_by: string | null
          span_id: string | null
          status: string | null
          trace_id: string | null
          updated_at: string
          user_agent: string | null
          user_prompt: string | null
        }
        Insert: {
          action_description?: string | null
          action_name: string
          action_type: string
          actor_id?: string | null
          actor_name?: string | null
          actor_type: string
          affected_fields?: string[] | null
          after_state?: Json | null
          ai_confidence?: number | null
          ai_intent?: string | null
          ai_reasoning?: string | null
          before_state?: Json | null
          change_diff?: Json | null
          chat_id?: string | null
          checksum?: string | null
          company_id: string
          created_at?: string
          entity_display_name?: string | null
          entity_id?: string | null
          entity_type: string
          error_message?: string | null
          id?: string
          ip_address?: unknown
          is_reversible?: boolean | null
          is_reverted?: boolean | null
          message_id?: string | null
          previous_checksum?: string | null
          request_id?: string | null
          reversal_complexity?: string | null
          reversal_deadline?: string | null
          reversal_notes?: string | null
          revert_reason?: string | null
          reverted_at?: string | null
          reverted_by?: string | null
          span_id?: string | null
          status?: string | null
          trace_id?: string | null
          updated_at?: string
          user_agent?: string | null
          user_prompt?: string | null
        }
        Update: {
          action_description?: string | null
          action_name?: string
          action_type?: string
          actor_id?: string | null
          actor_name?: string | null
          actor_type?: string
          affected_fields?: string[] | null
          after_state?: Json | null
          ai_confidence?: number | null
          ai_intent?: string | null
          ai_reasoning?: string | null
          before_state?: Json | null
          change_diff?: Json | null
          chat_id?: string | null
          checksum?: string | null
          company_id?: string
          created_at?: string
          entity_display_name?: string | null
          entity_id?: string | null
          entity_type?: string
          error_message?: string | null
          id?: string
          ip_address?: unknown
          is_reversible?: boolean | null
          is_reverted?: boolean | null
          message_id?: string | null
          previous_checksum?: string | null
          request_id?: string | null
          reversal_complexity?: string | null
          reversal_deadline?: string | null
          reversal_notes?: string | null
          revert_reason?: string | null
          reverted_at?: string | null
          reverted_by?: string | null
          span_id?: string | null
          status?: string | null
          trace_id?: string | null
          updated_at?: string
          user_agent?: string | null
          user_prompt?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "ai_audit_log_chat_id_fkey"
            columns: ["chat_id"]
            isOneToOne: false
            referencedRelation: "chats"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_audit_log_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_audit_log_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "ai_audit_log_reverted_by_fkey"
            columns: ["reverted_by"]
            isOneToOne: false
            referencedRelation: "profiles"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_audit_log_span_id_fkey"
            columns: ["span_id"]
            isOneToOne: false
            referencedRelation: "ai_traces"
            referencedColumns: ["id"]
          },
        ]
      }
      ai_audit_reversal: {
        Row: {
          audit_log_id: string
          blockers: Json | null
          company_id: string
          created_at: string
          dependent_actions_also_reverted: string[] | null
          dependent_actions_found: number | null
          fields_reversed: string[] | null
          id: string
          notes: string | null
          reason: string | null
          restored_state: Json | null
          reversal_method: string
          reversal_result: string
          reversal_type: string
          reversed_by: string | null
          reversed_by_type: string
          warnings: Json | null
        }
        Insert: {
          audit_log_id: string
          blockers?: Json | null
          company_id: string
          created_at?: string
          dependent_actions_also_reverted?: string[] | null
          dependent_actions_found?: number | null
          fields_reversed?: string[] | null
          id?: string
          notes?: string | null
          reason?: string | null
          restored_state?: Json | null
          reversal_method: string
          reversal_result: string
          reversal_type: string
          reversed_by?: string | null
          reversed_by_type: string
          warnings?: Json | null
        }
        Update: {
          audit_log_id?: string
          blockers?: Json | null
          company_id?: string
          created_at?: string
          dependent_actions_also_reverted?: string[] | null
          dependent_actions_found?: number | null
          fields_reversed?: string[] | null
          id?: string
          notes?: string | null
          reason?: string | null
          restored_state?: Json | null
          reversal_method?: string
          reversal_result?: string
          reversal_type?: string
          reversed_by?: string | null
          reversed_by_type?: string
          warnings?: Json | null
        }
        Relationships: [
          {
            foreignKeyName: "ai_audit_reversal_audit_log_id_fkey"
            columns: ["audit_log_id"]
            isOneToOne: false
            referencedRelation: "ai_audit_log"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_audit_reversal_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_audit_reversal_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "ai_audit_reversal_reversed_by_fkey"
            columns: ["reversed_by"]
            isOneToOne: false
            referencedRelation: "profiles"
            referencedColumns: ["id"]
          },
        ]
      }
      ai_conversation_context: {
        Row: {
          active_customer_id: string | null
          active_invoice_id: string | null
          active_job_id: string | null
          chat_id: string | null
          company_id: string
          created_at: string
          current_workflow: string | null
          id: string
          short_term_memory: Json | null
          updated_at: string
          user_id: string | null
          workflow_data: Json | null
          workflow_step: number | null
        }
        Insert: {
          active_customer_id?: string | null
          active_invoice_id?: string | null
          active_job_id?: string | null
          chat_id?: string | null
          company_id: string
          created_at?: string
          current_workflow?: string | null
          id?: string
          short_term_memory?: Json | null
          updated_at?: string
          user_id?: string | null
          workflow_data?: Json | null
          workflow_step?: number | null
        }
        Update: {
          active_customer_id?: string | null
          active_invoice_id?: string | null
          active_job_id?: string | null
          chat_id?: string | null
          company_id?: string
          created_at?: string
          current_workflow?: string | null
          id?: string
          short_term_memory?: Json | null
          updated_at?: string
          user_id?: string | null
          workflow_data?: Json | null
          workflow_step?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "ai_conversation_context_active_customer_id_fkey"
            columns: ["active_customer_id"]
            isOneToOne: false
            referencedRelation: "customers"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_conversation_context_active_invoice_id_fkey"
            columns: ["active_invoice_id"]
            isOneToOne: false
            referencedRelation: "invoices"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_conversation_context_active_job_id_fkey"
            columns: ["active_job_id"]
            isOneToOne: false
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_conversation_context_chat_id_fkey"
            columns: ["chat_id"]
            isOneToOne: false
            referencedRelation: "chats"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_conversation_context_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_conversation_context_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "ai_conversation_context_user_id_fkey"
            columns: ["user_id"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      ai_insights: {
        Row: {
          action_result: string | null
          action_taken: string | null
          actioned_at: string | null
          actioned_by: string | null
          affected_entities: Json | null
          analysis_query: string | null
          category: string
          company_id: string
          created_at: string
          description: string
          dismissed_at: string | null
          dismissed_by: string | null
          dismissed_reason: string | null
          evidence: Json | null
          expires_at: string | null
          feedback_notes: string | null
          id: string
          insight_type: string
          is_actioned: boolean | null
          is_dismissed: boolean | null
          is_recurring: boolean | null
          last_occurrence_at: string | null
          metrics: Json | null
          occurrence_count: number | null
          priority: string
          recurrence_key: string | null
          snooze_count: number | null
          snoozed_until: string | null
          source: string
          status: string
          suggested_actions: Json | null
          summary: string | null
          title: string
          updated_at: string
          was_helpful: boolean | null
        }
        Insert: {
          action_result?: string | null
          action_taken?: string | null
          actioned_at?: string | null
          actioned_by?: string | null
          affected_entities?: Json | null
          analysis_query?: string | null
          category: string
          company_id: string
          created_at?: string
          description: string
          dismissed_at?: string | null
          dismissed_by?: string | null
          dismissed_reason?: string | null
          evidence?: Json | null
          expires_at?: string | null
          feedback_notes?: string | null
          id?: string
          insight_type: string
          is_actioned?: boolean | null
          is_dismissed?: boolean | null
          is_recurring?: boolean | null
          last_occurrence_at?: string | null
          metrics?: Json | null
          occurrence_count?: number | null
          priority?: string
          recurrence_key?: string | null
          snooze_count?: number | null
          snoozed_until?: string | null
          source?: string
          status?: string
          suggested_actions?: Json | null
          summary?: string | null
          title: string
          updated_at?: string
          was_helpful?: boolean | null
        }
        Update: {
          action_result?: string | null
          action_taken?: string | null
          actioned_at?: string | null
          actioned_by?: string | null
          affected_entities?: Json | null
          analysis_query?: string | null
          category?: string
          company_id?: string
          created_at?: string
          description?: string
          dismissed_at?: string | null
          dismissed_by?: string | null
          dismissed_reason?: string | null
          evidence?: Json | null
          expires_at?: string | null
          feedback_notes?: string | null
          id?: string
          insight_type?: string
          is_actioned?: boolean | null
          is_dismissed?: boolean | null
          is_recurring?: boolean | null
          last_occurrence_at?: string | null
          metrics?: Json | null
          occurrence_count?: number | null
          priority?: string
          recurrence_key?: string | null
          snooze_count?: number | null
          snoozed_until?: string | null
          source?: string
          status?: string
          suggested_actions?: Json | null
          summary?: string | null
          title?: string
          updated_at?: string
          was_helpful?: boolean | null
        }
        Relationships: [
          {
            foreignKeyName: "ai_insights_actioned_by_fkey"
            columns: ["actioned_by"]
            isOneToOne: false
            referencedRelation: "profiles"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_insights_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_insights_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "ai_insights_dismissed_by_fkey"
            columns: ["dismissed_by"]
            isOneToOne: false
            referencedRelation: "profiles"
            referencedColumns: ["id"]
          },
        ]
      }
      ai_memory: {
        Row: {
          access_count: number | null
          company_id: string
          confidence_score: number | null
          content: string
          content_hash: string | null
          created_at: string
          deactivated_at: string | null
          deactivated_reason: string | null
          embedding: string | null
          entity_id: string | null
          entity_refs: Json | null
          entity_type: string | null
          expires_at: string | null
          id: string
          importance: string | null
          is_active: boolean | null
          is_permanent: boolean | null
          is_superseded: boolean | null
          is_verified: boolean | null
          last_accessed_at: string | null
          memory_type: string
          source_chat_id: string | null
          source_context: string | null
          source_message_id: string | null
          source_type: string
          superseded_by: string | null
          supersedes_id: string | null
          tags: string[] | null
          updated_at: string
          user_id: string | null
          verified_at: string | null
          verified_by: string | null
        }
        Insert: {
          access_count?: number | null
          company_id: string
          confidence_score?: number | null
          content: string
          content_hash?: string | null
          created_at?: string
          deactivated_at?: string | null
          deactivated_reason?: string | null
          embedding?: string | null
          entity_id?: string | null
          entity_refs?: Json | null
          entity_type?: string | null
          expires_at?: string | null
          id?: string
          importance?: string | null
          is_active?: boolean | null
          is_permanent?: boolean | null
          is_superseded?: boolean | null
          is_verified?: boolean | null
          last_accessed_at?: string | null
          memory_type: string
          source_chat_id?: string | null
          source_context?: string | null
          source_message_id?: string | null
          source_type: string
          superseded_by?: string | null
          supersedes_id?: string | null
          tags?: string[] | null
          updated_at?: string
          user_id?: string | null
          verified_at?: string | null
          verified_by?: string | null
        }
        Update: {
          access_count?: number | null
          company_id?: string
          confidence_score?: number | null
          content?: string
          content_hash?: string | null
          created_at?: string
          deactivated_at?: string | null
          deactivated_reason?: string | null
          embedding?: string | null
          entity_id?: string | null
          entity_refs?: Json | null
          entity_type?: string | null
          expires_at?: string | null
          id?: string
          importance?: string | null
          is_active?: boolean | null
          is_permanent?: boolean | null
          is_superseded?: boolean | null
          is_verified?: boolean | null
          last_accessed_at?: string | null
          memory_type?: string
          source_chat_id?: string | null
          source_context?: string | null
          source_message_id?: string | null
          source_type?: string
          superseded_by?: string | null
          supersedes_id?: string | null
          tags?: string[] | null
          updated_at?: string
          user_id?: string | null
          verified_at?: string | null
          verified_by?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "ai_memory_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_memory_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "ai_memory_source_chat_id_fkey"
            columns: ["source_chat_id"]
            isOneToOne: false
            referencedRelation: "chats"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_memory_superseded_by_fkey"
            columns: ["superseded_by"]
            isOneToOne: false
            referencedRelation: "ai_memory"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_memory_supersedes_id_fkey"
            columns: ["supersedes_id"]
            isOneToOne: false
            referencedRelation: "ai_memory"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_memory_user_id_fkey"
            columns: ["user_id"]
            isOneToOne: false
            referencedRelation: "profiles"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_memory_verified_by_fkey"
            columns: ["verified_by"]
            isOneToOne: false
            referencedRelation: "profiles"
            referencedColumns: ["id"]
          },
        ]
      }
      ai_message_feedback: {
        Row: {
          added_to_training_at: string | null
          audit_log_id: string | null
          chat_id: string | null
          company_id: string
          context_snapshot: Json | null
          created_at: string
          device_type: string | null
          expected_action: string | null
          feedback_categories: string[] | null
          follow_up_question: string | null
          follow_up_response: string | null
          id: string
          is_reviewed: boolean | null
          is_training_candidate: boolean | null
          message_id: string
          message_position: number | null
          rating: string
          reaction_emoji: string | null
          review_notes: string | null
          reviewed_at: string | null
          reviewed_by: string | null
          session_duration_seconds: number | null
          severity: string | null
          tool_calls_at_message: Json | null
          trace_id: string | null
          user_correction: string | null
          user_id: string | null
        }
        Insert: {
          added_to_training_at?: string | null
          audit_log_id?: string | null
          chat_id?: string | null
          company_id: string
          context_snapshot?: Json | null
          created_at?: string
          device_type?: string | null
          expected_action?: string | null
          feedback_categories?: string[] | null
          follow_up_question?: string | null
          follow_up_response?: string | null
          id?: string
          is_reviewed?: boolean | null
          is_training_candidate?: boolean | null
          message_id: string
          message_position?: number | null
          rating: string
          reaction_emoji?: string | null
          review_notes?: string | null
          reviewed_at?: string | null
          reviewed_by?: string | null
          session_duration_seconds?: number | null
          severity?: string | null
          tool_calls_at_message?: Json | null
          trace_id?: string | null
          user_correction?: string | null
          user_id?: string | null
        }
        Update: {
          added_to_training_at?: string | null
          audit_log_id?: string | null
          chat_id?: string | null
          company_id?: string
          context_snapshot?: Json | null
          created_at?: string
          device_type?: string | null
          expected_action?: string | null
          feedback_categories?: string[] | null
          follow_up_question?: string | null
          follow_up_response?: string | null
          id?: string
          is_reviewed?: boolean | null
          is_training_candidate?: boolean | null
          message_id?: string
          message_position?: number | null
          rating?: string
          reaction_emoji?: string | null
          review_notes?: string | null
          reviewed_at?: string | null
          reviewed_by?: string | null
          session_duration_seconds?: number | null
          severity?: string | null
          tool_calls_at_message?: Json | null
          trace_id?: string | null
          user_correction?: string | null
          user_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "ai_message_feedback_audit_log_id_fkey"
            columns: ["audit_log_id"]
            isOneToOne: false
            referencedRelation: "ai_audit_log"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_message_feedback_chat_id_fkey"
            columns: ["chat_id"]
            isOneToOne: false
            referencedRelation: "chats"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_message_feedback_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_message_feedback_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "ai_message_feedback_reviewed_by_fkey"
            columns: ["reviewed_by"]
            isOneToOne: false
            referencedRelation: "profiles"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_message_feedback_user_id_fkey"
            columns: ["user_id"]
            isOneToOne: false
            referencedRelation: "profiles"
            referencedColumns: ["id"]
          },
        ]
      }
      ai_pending_actions: {
        Row: {
          action_details: Json
          action_log_id: string
          action_summary: string
          action_title: string
          action_type: Database["public"]["Enums"]["ai_action_type"]
          affected_count: number | null
          affected_entity_ids: string[] | null
          affected_entity_type: string | null
          approved_at: string | null
          approved_by: string | null
          chat_id: string | null
          company_id: string
          created_at: string
          executed_at: string | null
          execution_error: string | null
          execution_result: Json | null
          expires_at: string | null
          id: string
          message_id: string | null
          rejection_reason: string | null
          review_note: string | null
          reviewed_at: string | null
          reviewed_by: string | null
          risk_level: string | null
          status: string
          tool_args: Json | null
          tool_name: string | null
          updated_at: string | null
          urgency: string
          user_id: string | null
        }
        Insert: {
          action_details: Json
          action_log_id: string
          action_summary: string
          action_title: string
          action_type: Database["public"]["Enums"]["ai_action_type"]
          affected_count?: number | null
          affected_entity_ids?: string[] | null
          affected_entity_type?: string | null
          approved_at?: string | null
          approved_by?: string | null
          chat_id?: string | null
          company_id: string
          created_at?: string
          executed_at?: string | null
          execution_error?: string | null
          execution_result?: Json | null
          expires_at?: string | null
          id?: string
          message_id?: string | null
          rejection_reason?: string | null
          review_note?: string | null
          reviewed_at?: string | null
          reviewed_by?: string | null
          risk_level?: string | null
          status?: string
          tool_args?: Json | null
          tool_name?: string | null
          updated_at?: string | null
          urgency?: string
          user_id?: string | null
        }
        Update: {
          action_details?: Json
          action_log_id?: string
          action_summary?: string
          action_title?: string
          action_type?: Database["public"]["Enums"]["ai_action_type"]
          affected_count?: number | null
          affected_entity_ids?: string[] | null
          affected_entity_type?: string | null
          approved_at?: string | null
          approved_by?: string | null
          chat_id?: string | null
          company_id?: string
          created_at?: string
          executed_at?: string | null
          execution_error?: string | null
          execution_result?: Json | null
          expires_at?: string | null
          id?: string
          message_id?: string | null
          rejection_reason?: string | null
          review_note?: string | null
          reviewed_at?: string | null
          reviewed_by?: string | null
          risk_level?: string | null
          status?: string
          tool_args?: Json | null
          tool_name?: string | null
          updated_at?: string | null
          urgency?: string
          user_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "ai_pending_actions_action_log_id_fkey"
            columns: ["action_log_id"]
            isOneToOne: false
            referencedRelation: "ai_action_log"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_pending_actions_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_pending_actions_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "ai_pending_actions_reviewed_by_fkey"
            columns: ["reviewed_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      ai_plans: {
        Row: {
          actual_duration_ms: number | null
          auto_rollback_on_failure: boolean | null
          can_parallelize: boolean | null
          chat_id: string | null
          company_id: string
          completed_at: string | null
          completed_steps: number | null
          created_at: string
          current_step: number | null
          error_at_step: number | null
          error_message: string | null
          estimated_duration_ms: number | null
          failed_steps: number | null
          final_result: Json | null
          final_summary: string | null
          goal: string
          goal_type: string | null
          id: string
          is_rolled_back: boolean | null
          metadata: Json | null
          requires_approval: boolean | null
          rollback_reason: string | null
          rolled_back_at: string | null
          started_at: string | null
          status: string
          steps: Json
          stop_on_error: boolean | null
          total_steps: number | null
          trace_id: string | null
          updated_at: string
          user_id: string | null
          user_request: string | null
        }
        Insert: {
          actual_duration_ms?: number | null
          auto_rollback_on_failure?: boolean | null
          can_parallelize?: boolean | null
          chat_id?: string | null
          company_id: string
          completed_at?: string | null
          completed_steps?: number | null
          created_at?: string
          current_step?: number | null
          error_at_step?: number | null
          error_message?: string | null
          estimated_duration_ms?: number | null
          failed_steps?: number | null
          final_result?: Json | null
          final_summary?: string | null
          goal: string
          goal_type?: string | null
          id?: string
          is_rolled_back?: boolean | null
          metadata?: Json | null
          requires_approval?: boolean | null
          rollback_reason?: string | null
          rolled_back_at?: string | null
          started_at?: string | null
          status?: string
          steps?: Json
          stop_on_error?: boolean | null
          total_steps?: number | null
          trace_id?: string | null
          updated_at?: string
          user_id?: string | null
          user_request?: string | null
        }
        Update: {
          actual_duration_ms?: number | null
          auto_rollback_on_failure?: boolean | null
          can_parallelize?: boolean | null
          chat_id?: string | null
          company_id?: string
          completed_at?: string | null
          completed_steps?: number | null
          created_at?: string
          current_step?: number | null
          error_at_step?: number | null
          error_message?: string | null
          estimated_duration_ms?: number | null
          failed_steps?: number | null
          final_result?: Json | null
          final_summary?: string | null
          goal?: string
          goal_type?: string | null
          id?: string
          is_rolled_back?: boolean | null
          metadata?: Json | null
          requires_approval?: boolean | null
          rollback_reason?: string | null
          rolled_back_at?: string | null
          started_at?: string | null
          status?: string
          steps?: Json
          stop_on_error?: boolean | null
          total_steps?: number | null
          trace_id?: string | null
          updated_at?: string
          user_id?: string | null
          user_request?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "ai_plans_chat_id_fkey"
            columns: ["chat_id"]
            isOneToOne: false
            referencedRelation: "chats"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_plans_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_plans_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "ai_plans_user_id_fkey"
            columns: ["user_id"]
            isOneToOne: false
            referencedRelation: "profiles"
            referencedColumns: ["id"]
          },
        ]
      }
      ai_span_events: {
        Row: {
          attributes: Json | null
          company_id: string
          created_at: string
          duration_ms: number | null
          event_name: string
          event_type: string
          exception_message: string | null
          exception_stack: string | null
          exception_type: string | null
          id: string
          level: string | null
          message: string | null
          span_id: string
          timestamp: string
          trace_id: string
        }
        Insert: {
          attributes?: Json | null
          company_id: string
          created_at?: string
          duration_ms?: number | null
          event_name: string
          event_type: string
          exception_message?: string | null
          exception_stack?: string | null
          exception_type?: string | null
          id?: string
          level?: string | null
          message?: string | null
          span_id: string
          timestamp?: string
          trace_id: string
        }
        Update: {
          attributes?: Json | null
          company_id?: string
          created_at?: string
          duration_ms?: number | null
          event_name?: string
          event_type?: string
          exception_message?: string | null
          exception_stack?: string | null
          exception_type?: string | null
          id?: string
          level?: string | null
          message?: string | null
          span_id?: string
          timestamp?: string
          trace_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "ai_span_events_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_span_events_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "ai_span_events_span_id_fkey"
            columns: ["span_id"]
            isOneToOne: false
            referencedRelation: "ai_traces"
            referencedColumns: ["id"]
          },
        ]
      }
      ai_traces: {
        Row: {
          chat_id: string | null
          company_id: string
          created_at: string
          duration_ms: number | null
          ended_at: string | null
          error_message: string | null
          error_stack: string | null
          error_type: string | null
          full_input: Json | null
          full_output: Json | null
          id: string
          input_cost_cents: number | null
          input_preview: string | null
          input_tokens: number | null
          max_tokens: number | null
          metadata: Json | null
          model_id: string | null
          model_provider: string | null
          output_cost_cents: number | null
          output_preview: string | null
          output_tokens: number | null
          parent_span_id: string | null
          prompt_template_id: string | null
          prompt_version: string | null
          span_name: string
          span_type: string
          started_at: string
          status: string
          tags: string[] | null
          temperature: number | null
          time_to_first_token_ms: number | null
          tool_category: string | null
          tool_name: string | null
          tool_params: Json | null
          tool_result: Json | null
          top_p: number | null
          total_cost_cents: number | null
          total_tokens: number | null
          trace_id: string
          user_id: string | null
        }
        Insert: {
          chat_id?: string | null
          company_id: string
          created_at?: string
          duration_ms?: number | null
          ended_at?: string | null
          error_message?: string | null
          error_stack?: string | null
          error_type?: string | null
          full_input?: Json | null
          full_output?: Json | null
          id?: string
          input_cost_cents?: number | null
          input_preview?: string | null
          input_tokens?: number | null
          max_tokens?: number | null
          metadata?: Json | null
          model_id?: string | null
          model_provider?: string | null
          output_cost_cents?: number | null
          output_preview?: string | null
          output_tokens?: number | null
          parent_span_id?: string | null
          prompt_template_id?: string | null
          prompt_version?: string | null
          span_name: string
          span_type: string
          started_at?: string
          status?: string
          tags?: string[] | null
          temperature?: number | null
          time_to_first_token_ms?: number | null
          tool_category?: string | null
          tool_name?: string | null
          tool_params?: Json | null
          tool_result?: Json | null
          top_p?: number | null
          total_cost_cents?: number | null
          total_tokens?: number | null
          trace_id: string
          user_id?: string | null
        }
        Update: {
          chat_id?: string | null
          company_id?: string
          created_at?: string
          duration_ms?: number | null
          ended_at?: string | null
          error_message?: string | null
          error_stack?: string | null
          error_type?: string | null
          full_input?: Json | null
          full_output?: Json | null
          id?: string
          input_cost_cents?: number | null
          input_preview?: string | null
          input_tokens?: number | null
          max_tokens?: number | null
          metadata?: Json | null
          model_id?: string | null
          model_provider?: string | null
          output_cost_cents?: number | null
          output_preview?: string | null
          output_tokens?: number | null
          parent_span_id?: string | null
          prompt_template_id?: string | null
          prompt_version?: string | null
          span_name?: string
          span_type?: string
          started_at?: string
          status?: string
          tags?: string[] | null
          temperature?: number | null
          time_to_first_token_ms?: number | null
          tool_category?: string | null
          tool_name?: string | null
          tool_params?: Json | null
          tool_result?: Json | null
          top_p?: number | null
          total_cost_cents?: number | null
          total_tokens?: number | null
          trace_id?: string
          user_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "ai_traces_chat_id_fkey"
            columns: ["chat_id"]
            isOneToOne: false
            referencedRelation: "chats"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_traces_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_traces_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "ai_traces_user_id_fkey"
            columns: ["user_id"]
            isOneToOne: false
            referencedRelation: "profiles"
            referencedColumns: ["id"]
          },
        ]
      }
      analytics_api_usage: {
        Row: {
          auth_failures: number
          avg_request_bytes: number | null
          avg_response_bytes: number | null
          avg_response_time_ms: number | null
          calls_count: number
          client_errors_4xx: number
          company_id: string
          cost_cents: number
          created_at: string
          endpoint: string
          endpoint_category: string | null
          failed_calls: number
          id: string
          is_billable: boolean
          max_response_time_ms: number | null
          method: string
          min_response_time_ms: number | null
          p50_response_time_ms: number | null
          p95_response_time_ms: number | null
          p99_response_time_ms: number | null
          rate_limited_count: number
          request_bytes_total: number
          response_bytes_total: number
          server_errors_5xx: number
          successful_calls: number
          unique_api_keys: number
          unique_users: number
          updated_at: string
          usage_date: string
          usage_hour: number | null
        }
        Insert: {
          auth_failures?: number
          avg_request_bytes?: number | null
          avg_response_bytes?: number | null
          avg_response_time_ms?: number | null
          calls_count?: number
          client_errors_4xx?: number
          company_id: string
          cost_cents?: number
          created_at?: string
          endpoint: string
          endpoint_category?: string | null
          failed_calls?: number
          id?: string
          is_billable?: boolean
          max_response_time_ms?: number | null
          method: string
          min_response_time_ms?: number | null
          p50_response_time_ms?: number | null
          p95_response_time_ms?: number | null
          p99_response_time_ms?: number | null
          rate_limited_count?: number
          request_bytes_total?: number
          response_bytes_total?: number
          server_errors_5xx?: number
          successful_calls?: number
          unique_api_keys?: number
          unique_users?: number
          updated_at?: string
          usage_date: string
          usage_hour?: number | null
        }
        Update: {
          auth_failures?: number
          avg_request_bytes?: number | null
          avg_response_bytes?: number | null
          avg_response_time_ms?: number | null
          calls_count?: number
          client_errors_4xx?: number
          company_id?: string
          cost_cents?: number
          created_at?: string
          endpoint?: string
          endpoint_category?: string | null
          failed_calls?: number
          id?: string
          is_billable?: boolean
          max_response_time_ms?: number | null
          method?: string
          min_response_time_ms?: number | null
          p50_response_time_ms?: number | null
          p95_response_time_ms?: number | null
          p99_response_time_ms?: number | null
          rate_limited_count?: number
          request_bytes_total?: number
          response_bytes_total?: number
          server_errors_5xx?: number
          successful_calls?: number
          unique_api_keys?: number
          unique_users?: number
          updated_at?: string
          usage_date?: string
          usage_hour?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "analytics_api_usage_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "analytics_api_usage_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      analytics_api_usage_daily: {
        Row: {
          avg_response_time_ms: number | null
          calls_by_category: Json | null
          calls_by_method: Json | null
          client_errors_4xx: number
          company_id: string
          created_at: string
          failed_calls: number
          id: string
          p95_response_time_ms: number | null
          rate_limited_count: number
          server_errors_5xx: number
          successful_calls: number
          top_endpoints: Json | null
          total_calls: number
          total_cost_cents: number
          total_request_bytes: number
          total_response_bytes: number
          unique_api_keys: number
          unique_users: number
          updated_at: string
          usage_date: string
        }
        Insert: {
          avg_response_time_ms?: number | null
          calls_by_category?: Json | null
          calls_by_method?: Json | null
          client_errors_4xx?: number
          company_id: string
          created_at?: string
          failed_calls?: number
          id?: string
          p95_response_time_ms?: number | null
          rate_limited_count?: number
          server_errors_5xx?: number
          successful_calls?: number
          top_endpoints?: Json | null
          total_calls?: number
          total_cost_cents?: number
          total_request_bytes?: number
          total_response_bytes?: number
          unique_api_keys?: number
          unique_users?: number
          updated_at?: string
          usage_date: string
        }
        Update: {
          avg_response_time_ms?: number | null
          calls_by_category?: Json | null
          calls_by_method?: Json | null
          client_errors_4xx?: number
          company_id?: string
          created_at?: string
          failed_calls?: number
          id?: string
          p95_response_time_ms?: number | null
          rate_limited_count?: number
          server_errors_5xx?: number
          successful_calls?: number
          top_endpoints?: Json | null
          total_calls?: number
          total_cost_cents?: number
          total_request_bytes?: number
          total_response_bytes?: number
          unique_api_keys?: number
          unique_users?: number
          updated_at?: string
          usage_date?: string
        }
        Relationships: [
          {
            foreignKeyName: "analytics_api_usage_daily_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "analytics_api_usage_daily_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      analytics_company_billing: {
        Row: {
          active_users_count: number
          api_avg_response_ms: number | null
          api_calls_billable: number
          api_calls_by_endpoint: Json | null
          api_calls_cost: number
          api_calls_count: number
          api_calls_included: number
          api_error_count: number
          attachments_count: number
          base_plan_amount: number
          billing_period_end: string
          billing_period_start: string
          calculated_at: string
          calls_inbound: number
          calls_missed: number
          calls_outbound: number
          chargebacks_amount: number
          chargebacks_count: number
          churn_risk_score: number | null
          company_id: string
          company_outstanding_balance: number
          company_revenue_collected: number
          company_revenue_period: number
          contracts_count: number
          created_at: string
          credits_applied: number
          customers_count: number
          customers_created_period: number
          days_active_in_period: number
          days_past_due: number | null
          discounts_applied: number
          documents_count: number
          email_open_rate: number | null
          emails_billable: number
          emails_bounced: number
          emails_cost: number
          emails_delivered: number
          emails_included: number
          emails_opened: number
          emails_sent_count: number
          engagement_score: number | null
          equipment_count: number
          estimates_accepted_period: number
          estimates_cost: number
          estimates_count: number
          estimates_created_period: number
          estimates_sent_period: number
          failed_payment_attempts: number | null
          features_used: Json | null
          health_score: number | null
          id: string
          integrations_enabled: Json | null
          invoices_cost: number
          invoices_count: number
          invoices_created_period: number
          invoices_paid_period: number
          invoices_sent_period: number
          is_at_risk: boolean | null
          jobs_completed_period: number
          jobs_count: number
          jobs_created_period: number
          last_activity_at: string | null
          last_payment_amount: number | null
          last_payment_date: string | null
          logins_count: number
          next_invoice_amount: number | null
          next_invoice_date: string | null
          notes: string | null
          payment_methods_stored: number
          payment_status: string | null
          payments_cost: number
          payments_processed_count: number
          payments_processed_volume: number
          phone_cost: number
          phone_minutes_billable: number
          phone_minutes_included: number
          phone_minutes_used: number
          photos_count: number
          properties_count: number
          refunds_amount: number
          refunds_count: number
          risk_factors: Json | null
          sms_billable: number
          sms_cost: number
          sms_delivered: number
          sms_failed: number
          sms_included: number
          sms_segments_total: number
          sms_sent_count: number
          storage_billable_mb: number
          storage_cost: number
          storage_included_mb: number
          storage_used_mb: number
          stripe_customer_id: string | null
          stripe_subscription_id: string | null
          subscription_status: string | null
          subscription_tier: string
          team_members_billable: number
          team_members_cost: number
          team_members_count: number
          team_members_included: number
          total_billable_amount: number
          total_overage_amount: number
          total_usage_amount: number
          updated_at: string
          voicemails_count: number
          workflows_billable: number
          workflows_cost: number
          workflows_executed: number
          workflows_included: number
        }
        Insert: {
          active_users_count?: number
          api_avg_response_ms?: number | null
          api_calls_billable?: number
          api_calls_by_endpoint?: Json | null
          api_calls_cost?: number
          api_calls_count?: number
          api_calls_included?: number
          api_error_count?: number
          attachments_count?: number
          base_plan_amount?: number
          billing_period_end: string
          billing_period_start: string
          calculated_at?: string
          calls_inbound?: number
          calls_missed?: number
          calls_outbound?: number
          chargebacks_amount?: number
          chargebacks_count?: number
          churn_risk_score?: number | null
          company_id: string
          company_outstanding_balance?: number
          company_revenue_collected?: number
          company_revenue_period?: number
          contracts_count?: number
          created_at?: string
          credits_applied?: number
          customers_count?: number
          customers_created_period?: number
          days_active_in_period?: number
          days_past_due?: number | null
          discounts_applied?: number
          documents_count?: number
          email_open_rate?: number | null
          emails_billable?: number
          emails_bounced?: number
          emails_cost?: number
          emails_delivered?: number
          emails_included?: number
          emails_opened?: number
          emails_sent_count?: number
          engagement_score?: number | null
          equipment_count?: number
          estimates_accepted_period?: number
          estimates_cost?: number
          estimates_count?: number
          estimates_created_period?: number
          estimates_sent_period?: number
          failed_payment_attempts?: number | null
          features_used?: Json | null
          health_score?: number | null
          id?: string
          integrations_enabled?: Json | null
          invoices_cost?: number
          invoices_count?: number
          invoices_created_period?: number
          invoices_paid_period?: number
          invoices_sent_period?: number
          is_at_risk?: boolean | null
          jobs_completed_period?: number
          jobs_count?: number
          jobs_created_period?: number
          last_activity_at?: string | null
          last_payment_amount?: number | null
          last_payment_date?: string | null
          logins_count?: number
          next_invoice_amount?: number | null
          next_invoice_date?: string | null
          notes?: string | null
          payment_methods_stored?: number
          payment_status?: string | null
          payments_cost?: number
          payments_processed_count?: number
          payments_processed_volume?: number
          phone_cost?: number
          phone_minutes_billable?: number
          phone_minutes_included?: number
          phone_minutes_used?: number
          photos_count?: number
          properties_count?: number
          refunds_amount?: number
          refunds_count?: number
          risk_factors?: Json | null
          sms_billable?: number
          sms_cost?: number
          sms_delivered?: number
          sms_failed?: number
          sms_included?: number
          sms_segments_total?: number
          sms_sent_count?: number
          storage_billable_mb?: number
          storage_cost?: number
          storage_included_mb?: number
          storage_used_mb?: number
          stripe_customer_id?: string | null
          stripe_subscription_id?: string | null
          subscription_status?: string | null
          subscription_tier?: string
          team_members_billable?: number
          team_members_cost?: number
          team_members_count?: number
          team_members_included?: number
          total_billable_amount?: number
          total_overage_amount?: number
          total_usage_amount?: number
          updated_at?: string
          voicemails_count?: number
          workflows_billable?: number
          workflows_cost?: number
          workflows_executed?: number
          workflows_included?: number
        }
        Update: {
          active_users_count?: number
          api_avg_response_ms?: number | null
          api_calls_billable?: number
          api_calls_by_endpoint?: Json | null
          api_calls_cost?: number
          api_calls_count?: number
          api_calls_included?: number
          api_error_count?: number
          attachments_count?: number
          base_plan_amount?: number
          billing_period_end?: string
          billing_period_start?: string
          calculated_at?: string
          calls_inbound?: number
          calls_missed?: number
          calls_outbound?: number
          chargebacks_amount?: number
          chargebacks_count?: number
          churn_risk_score?: number | null
          company_id?: string
          company_outstanding_balance?: number
          company_revenue_collected?: number
          company_revenue_period?: number
          contracts_count?: number
          created_at?: string
          credits_applied?: number
          customers_count?: number
          customers_created_period?: number
          days_active_in_period?: number
          days_past_due?: number | null
          discounts_applied?: number
          documents_count?: number
          email_open_rate?: number | null
          emails_billable?: number
          emails_bounced?: number
          emails_cost?: number
          emails_delivered?: number
          emails_included?: number
          emails_opened?: number
          emails_sent_count?: number
          engagement_score?: number | null
          equipment_count?: number
          estimates_accepted_period?: number
          estimates_cost?: number
          estimates_count?: number
          estimates_created_period?: number
          estimates_sent_period?: number
          failed_payment_attempts?: number | null
          features_used?: Json | null
          health_score?: number | null
          id?: string
          integrations_enabled?: Json | null
          invoices_cost?: number
          invoices_count?: number
          invoices_created_period?: number
          invoices_paid_period?: number
          invoices_sent_period?: number
          is_at_risk?: boolean | null
          jobs_completed_period?: number
          jobs_count?: number
          jobs_created_period?: number
          last_activity_at?: string | null
          last_payment_amount?: number | null
          last_payment_date?: string | null
          logins_count?: number
          next_invoice_amount?: number | null
          next_invoice_date?: string | null
          notes?: string | null
          payment_methods_stored?: number
          payment_status?: string | null
          payments_cost?: number
          payments_processed_count?: number
          payments_processed_volume?: number
          phone_cost?: number
          phone_minutes_billable?: number
          phone_minutes_included?: number
          phone_minutes_used?: number
          photos_count?: number
          properties_count?: number
          refunds_amount?: number
          refunds_count?: number
          risk_factors?: Json | null
          sms_billable?: number
          sms_cost?: number
          sms_delivered?: number
          sms_failed?: number
          sms_included?: number
          sms_segments_total?: number
          sms_sent_count?: number
          storage_billable_mb?: number
          storage_cost?: number
          storage_included_mb?: number
          storage_used_mb?: number
          stripe_customer_id?: string | null
          stripe_subscription_id?: string | null
          subscription_status?: string | null
          subscription_tier?: string
          team_members_billable?: number
          team_members_cost?: number
          team_members_count?: number
          team_members_included?: number
          total_billable_amount?: number
          total_overage_amount?: number
          total_usage_amount?: number
          updated_at?: string
          voicemails_count?: number
          workflows_billable?: number
          workflows_cost?: number
          workflows_executed?: number
          workflows_included?: number
        }
        Relationships: [
          {
            foreignKeyName: "analytics_company_billing_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "analytics_company_billing_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      analytics_company_events: {
        Row: {
          city: string | null
          company_id: string
          country_code: string | null
          created_at: string
          device_type: string | null
          event_category: string
          event_data: Json | null
          event_name: string
          event_type: string
          feature_name: string | null
          feature_version: string | null
          id: string
          ip_address: unknown
          mrr_change: number | null
          occurred_at: string
          processed_at: string | null
          region: string | null
          related_entity_id: string | null
          related_entity_type: string | null
          revenue_impact: number | null
          session_id: string | null
          user_agent: string | null
          user_email: string | null
          user_id: string | null
          user_role: string | null
        }
        Insert: {
          city?: string | null
          company_id: string
          country_code?: string | null
          created_at?: string
          device_type?: string | null
          event_category: string
          event_data?: Json | null
          event_name: string
          event_type: string
          feature_name?: string | null
          feature_version?: string | null
          id?: string
          ip_address?: unknown
          mrr_change?: number | null
          occurred_at?: string
          processed_at?: string | null
          region?: string | null
          related_entity_id?: string | null
          related_entity_type?: string | null
          revenue_impact?: number | null
          session_id?: string | null
          user_agent?: string | null
          user_email?: string | null
          user_id?: string | null
          user_role?: string | null
        }
        Update: {
          city?: string | null
          company_id?: string
          country_code?: string | null
          created_at?: string
          device_type?: string | null
          event_category?: string
          event_data?: Json | null
          event_name?: string
          event_type?: string
          feature_name?: string | null
          feature_version?: string | null
          id?: string
          ip_address?: unknown
          mrr_change?: number | null
          occurred_at?: string
          processed_at?: string | null
          region?: string | null
          related_entity_id?: string | null
          related_entity_type?: string | null
          revenue_impact?: number | null
          session_id?: string | null
          user_agent?: string | null
          user_email?: string | null
          user_id?: string | null
          user_role?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "analytics_company_events_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "analytics_company_events_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      analytics_company_summary: {
        Row: {
          accounts_receivable_total: number | null
          active_contracts: number | null
          active_technicians: number | null
          after_hours_jobs: number | null
          annual_recurring_revenue: number | null
          ar_1_30: number | null
          ar_31_60: number | null
          ar_61_90: number | null
          ar_current: number | null
          ar_over_90: number | null
          avg_customer_lifetime_value: number | null
          avg_customer_ltv: number | null
          avg_days_to_pay: number | null
          avg_days_to_payment: number | null
          avg_estimate_value: number | null
          avg_job_duration_minutes: number | null
          avg_job_profitability: number | null
          avg_job_value: number | null
          avg_lead_response_time_minutes: number | null
          avg_lead_time_days: number | null
          avg_parts_margin_percent: number | null
          avg_parts_markup_percent: number | null
          avg_quote_accuracy: number | null
          avg_response_time_hours: number | null
          avg_response_time_minutes: number | null
          avg_sales_cycle_days: number | null
          avg_tech_rating: number | null
          bad_debt_amount: number | null
          bad_debt_rate: number | null
          billable_hours_ratio: number | null
          callback_rate: number | null
          calls_made: number | null
          calls_missed: number | null
          calls_received: number | null
          cancellation_rate: number | null
          capacity_utilization_percent: number | null
          cash_flow_30_day_forecast: number | null
          cash_flow_60_day_forecast: number | null
          cash_flow_90_day_forecast: number | null
          churned_customers: number | null
          collection_rate: number | null
          company_id: string
          complaints_count: number | null
          complaints_resolved_count: number | null
          contract_attachment_rate: number | null
          contract_renewal_rate: number | null
          contract_revenue: number | null
          contracts_cancelled: number | null
          contracts_created: number | null
          contracts_renewed: number | null
          created_at: string | null
          csat_score: number | null
          customer_acquisition_cost: number | null
          customer_effort_score: number | null
          customer_retention_rate: number | null
          customer_satisfaction_score: number | null
          customers_at_risk_count: number | null
          days_sales_outstanding: number | null
          email_bounce_rate: number | null
          email_open_rate: number | null
          emails_received: number | null
          emails_sent: number | null
          emergency_parts_cost: number | null
          emergency_parts_orders: number | null
          equipment_uptime_percent: number | null
          estimate_win_rate: number | null
          estimates_approved: number | null
          estimates_created: number | null
          estimates_declined: number | null
          estimates_sent: number | null
          first_call_resolution_rate: number | null
          first_contact_resolution_rate: number | null
          first_time_fix_rate: number | null
          gross_margin_percent: number | null
          gross_profit: number | null
          id: string
          inventory_turnover_rate: number | null
          job_duration_p90_minutes: number | null
          jobs_30day_ma: number | null
          jobs_7day_ma: number | null
          jobs_cancelled: number | null
          jobs_completed: number | null
          jobs_created: number | null
          jobs_in_progress: number | null
          jobs_per_tech_per_day: number | null
          jobs_scheduled: number | null
          labor_cost_ratio: number | null
          labor_cost_total: number | null
          lead_conversion_rate: number | null
          leads_converted: number | null
          leads_created: number | null
          leads_qualified: number | null
          ltv_to_cac_ratio: number | null
          materials_cost_ratio: number | null
          materials_cost_total: number | null
          median_customer_ltv: number | null
          median_days_to_pay: number | null
          median_job_value: number | null
          missed_call_rate: number | null
          monthly_recurring_revenue: number | null
          most_common_job_type: string | null
          most_common_lead_source: string | null
          most_common_payment_method: string | null
          most_common_service_day: string | null
          most_common_service_hour: number | null
          net_customer_growth: number | null
          net_margin_percent: number | null
          net_profit: number | null
          net_promoter_score: number | null
          new_customers: number | null
          no_show_rate: number | null
          nps_score: number | null
          on_time_arrival_rate: number | null
          on_time_completion_rate: number | null
          overhead_cost_ratio: number | null
          overhead_cost_total: number | null
          overtime_hours: number | null
          parts_return_rate: number | null
          parts_used_count: number | null
          parts_used_value: number | null
          payment_method_ach_percent: number | null
          payment_method_card_percent: number | null
          payment_method_cash_percent: number | null
          payment_method_check_percent: number | null
          period_type: string
          pipeline_value: number | null
          preventive_vs_reactive_ratio: number | null
          quote_to_close_rate: number | null
          recurring_revenue_percent: number | null
          referral_rate: number | null
          repeat_customer_rate: number | null
          repeat_visit_rate: number | null
          reschedule_rate: number | null
          revenue_30day_ma: number | null
          revenue_7day_ma: number | null
          revenue_forecast_30d: number | null
          revenue_forecast_7d: number | null
          revenue_forecast_90d: number | null
          revenue_growth_mom: number | null
          revenue_growth_yoy: number | null
          revenue_one_time: number | null
          revenue_parts: number | null
          revenue_per_job: number | null
          revenue_per_tech: number | null
          revenue_per_technician: number | null
          revenue_recurring: number | null
          revenue_service: number | null
          revenue_total: number | null
          rework_jobs_count: number | null
          rework_rate: number | null
          safety_incident_count: number | null
          safety_incidents_count: number | null
          schedule_fill_rate: number | null
          service_agreement_revenue: number | null
          sms_delivery_rate: number | null
          sms_received: number | null
          sms_sent: number | null
          summary_date: string
          tech_turnover_rate: number | null
          technician_utilization_rate: number | null
          total_billable_hours: number | null
          total_communications: number | null
          total_customers: number | null
          total_labor_hours: number | null
          updated_at: string | null
          utilization_rate: number | null
          warranty_claim_rate: number | null
          warranty_claims_count: number | null
          weighted_pipeline_value: number | null
        }
        Insert: {
          accounts_receivable_total?: number | null
          active_contracts?: number | null
          active_technicians?: number | null
          after_hours_jobs?: number | null
          annual_recurring_revenue?: number | null
          ar_1_30?: number | null
          ar_31_60?: number | null
          ar_61_90?: number | null
          ar_current?: number | null
          ar_over_90?: number | null
          avg_customer_lifetime_value?: number | null
          avg_customer_ltv?: number | null
          avg_days_to_pay?: number | null
          avg_days_to_payment?: number | null
          avg_estimate_value?: number | null
          avg_job_duration_minutes?: number | null
          avg_job_profitability?: number | null
          avg_job_value?: number | null
          avg_lead_response_time_minutes?: number | null
          avg_lead_time_days?: number | null
          avg_parts_margin_percent?: number | null
          avg_parts_markup_percent?: number | null
          avg_quote_accuracy?: number | null
          avg_response_time_hours?: number | null
          avg_response_time_minutes?: number | null
          avg_sales_cycle_days?: number | null
          avg_tech_rating?: number | null
          bad_debt_amount?: number | null
          bad_debt_rate?: number | null
          billable_hours_ratio?: number | null
          callback_rate?: number | null
          calls_made?: number | null
          calls_missed?: number | null
          calls_received?: number | null
          cancellation_rate?: number | null
          capacity_utilization_percent?: number | null
          cash_flow_30_day_forecast?: number | null
          cash_flow_60_day_forecast?: number | null
          cash_flow_90_day_forecast?: number | null
          churned_customers?: number | null
          collection_rate?: number | null
          company_id: string
          complaints_count?: number | null
          complaints_resolved_count?: number | null
          contract_attachment_rate?: number | null
          contract_renewal_rate?: number | null
          contract_revenue?: number | null
          contracts_cancelled?: number | null
          contracts_created?: number | null
          contracts_renewed?: number | null
          created_at?: string | null
          csat_score?: number | null
          customer_acquisition_cost?: number | null
          customer_effort_score?: number | null
          customer_retention_rate?: number | null
          customer_satisfaction_score?: number | null
          customers_at_risk_count?: number | null
          days_sales_outstanding?: number | null
          email_bounce_rate?: number | null
          email_open_rate?: number | null
          emails_received?: number | null
          emails_sent?: number | null
          emergency_parts_cost?: number | null
          emergency_parts_orders?: number | null
          equipment_uptime_percent?: number | null
          estimate_win_rate?: number | null
          estimates_approved?: number | null
          estimates_created?: number | null
          estimates_declined?: number | null
          estimates_sent?: number | null
          first_call_resolution_rate?: number | null
          first_contact_resolution_rate?: number | null
          first_time_fix_rate?: number | null
          gross_margin_percent?: number | null
          gross_profit?: number | null
          id?: string
          inventory_turnover_rate?: number | null
          job_duration_p90_minutes?: number | null
          jobs_30day_ma?: number | null
          jobs_7day_ma?: number | null
          jobs_cancelled?: number | null
          jobs_completed?: number | null
          jobs_created?: number | null
          jobs_in_progress?: number | null
          jobs_per_tech_per_day?: number | null
          jobs_scheduled?: number | null
          labor_cost_ratio?: number | null
          labor_cost_total?: number | null
          lead_conversion_rate?: number | null
          leads_converted?: number | null
          leads_created?: number | null
          leads_qualified?: number | null
          ltv_to_cac_ratio?: number | null
          materials_cost_ratio?: number | null
          materials_cost_total?: number | null
          median_customer_ltv?: number | null
          median_days_to_pay?: number | null
          median_job_value?: number | null
          missed_call_rate?: number | null
          monthly_recurring_revenue?: number | null
          most_common_job_type?: string | null
          most_common_lead_source?: string | null
          most_common_payment_method?: string | null
          most_common_service_day?: string | null
          most_common_service_hour?: number | null
          net_customer_growth?: number | null
          net_margin_percent?: number | null
          net_profit?: number | null
          net_promoter_score?: number | null
          new_customers?: number | null
          no_show_rate?: number | null
          nps_score?: number | null
          on_time_arrival_rate?: number | null
          on_time_completion_rate?: number | null
          overhead_cost_ratio?: number | null
          overhead_cost_total?: number | null
          overtime_hours?: number | null
          parts_return_rate?: number | null
          parts_used_count?: number | null
          parts_used_value?: number | null
          payment_method_ach_percent?: number | null
          payment_method_card_percent?: number | null
          payment_method_cash_percent?: number | null
          payment_method_check_percent?: number | null
          period_type?: string
          pipeline_value?: number | null
          preventive_vs_reactive_ratio?: number | null
          quote_to_close_rate?: number | null
          recurring_revenue_percent?: number | null
          referral_rate?: number | null
          repeat_customer_rate?: number | null
          repeat_visit_rate?: number | null
          reschedule_rate?: number | null
          revenue_30day_ma?: number | null
          revenue_7day_ma?: number | null
          revenue_forecast_30d?: number | null
          revenue_forecast_7d?: number | null
          revenue_forecast_90d?: number | null
          revenue_growth_mom?: number | null
          revenue_growth_yoy?: number | null
          revenue_one_time?: number | null
          revenue_parts?: number | null
          revenue_per_job?: number | null
          revenue_per_tech?: number | null
          revenue_per_technician?: number | null
          revenue_recurring?: number | null
          revenue_service?: number | null
          revenue_total?: number | null
          rework_jobs_count?: number | null
          rework_rate?: number | null
          safety_incident_count?: number | null
          safety_incidents_count?: number | null
          schedule_fill_rate?: number | null
          service_agreement_revenue?: number | null
          sms_delivery_rate?: number | null
          sms_received?: number | null
          sms_sent?: number | null
          summary_date: string
          tech_turnover_rate?: number | null
          technician_utilization_rate?: number | null
          total_billable_hours?: number | null
          total_communications?: number | null
          total_customers?: number | null
          total_labor_hours?: number | null
          updated_at?: string | null
          utilization_rate?: number | null
          warranty_claim_rate?: number | null
          warranty_claims_count?: number | null
          weighted_pipeline_value?: number | null
        }
        Update: {
          accounts_receivable_total?: number | null
          active_contracts?: number | null
          active_technicians?: number | null
          after_hours_jobs?: number | null
          annual_recurring_revenue?: number | null
          ar_1_30?: number | null
          ar_31_60?: number | null
          ar_61_90?: number | null
          ar_current?: number | null
          ar_over_90?: number | null
          avg_customer_lifetime_value?: number | null
          avg_customer_ltv?: number | null
          avg_days_to_pay?: number | null
          avg_days_to_payment?: number | null
          avg_estimate_value?: number | null
          avg_job_duration_minutes?: number | null
          avg_job_profitability?: number | null
          avg_job_value?: number | null
          avg_lead_response_time_minutes?: number | null
          avg_lead_time_days?: number | null
          avg_parts_margin_percent?: number | null
          avg_parts_markup_percent?: number | null
          avg_quote_accuracy?: number | null
          avg_response_time_hours?: number | null
          avg_response_time_minutes?: number | null
          avg_sales_cycle_days?: number | null
          avg_tech_rating?: number | null
          bad_debt_amount?: number | null
          bad_debt_rate?: number | null
          billable_hours_ratio?: number | null
          callback_rate?: number | null
          calls_made?: number | null
          calls_missed?: number | null
          calls_received?: number | null
          cancellation_rate?: number | null
          capacity_utilization_percent?: number | null
          cash_flow_30_day_forecast?: number | null
          cash_flow_60_day_forecast?: number | null
          cash_flow_90_day_forecast?: number | null
          churned_customers?: number | null
          collection_rate?: number | null
          company_id?: string
          complaints_count?: number | null
          complaints_resolved_count?: number | null
          contract_attachment_rate?: number | null
          contract_renewal_rate?: number | null
          contract_revenue?: number | null
          contracts_cancelled?: number | null
          contracts_created?: number | null
          contracts_renewed?: number | null
          created_at?: string | null
          csat_score?: number | null
          customer_acquisition_cost?: number | null
          customer_effort_score?: number | null
          customer_retention_rate?: number | null
          customer_satisfaction_score?: number | null
          customers_at_risk_count?: number | null
          days_sales_outstanding?: number | null
          email_bounce_rate?: number | null
          email_open_rate?: number | null
          emails_received?: number | null
          emails_sent?: number | null
          emergency_parts_cost?: number | null
          emergency_parts_orders?: number | null
          equipment_uptime_percent?: number | null
          estimate_win_rate?: number | null
          estimates_approved?: number | null
          estimates_created?: number | null
          estimates_declined?: number | null
          estimates_sent?: number | null
          first_call_resolution_rate?: number | null
          first_contact_resolution_rate?: number | null
          first_time_fix_rate?: number | null
          gross_margin_percent?: number | null
          gross_profit?: number | null
          id?: string
          inventory_turnover_rate?: number | null
          job_duration_p90_minutes?: number | null
          jobs_30day_ma?: number | null
          jobs_7day_ma?: number | null
          jobs_cancelled?: number | null
          jobs_completed?: number | null
          jobs_created?: number | null
          jobs_in_progress?: number | null
          jobs_per_tech_per_day?: number | null
          jobs_scheduled?: number | null
          labor_cost_ratio?: number | null
          labor_cost_total?: number | null
          lead_conversion_rate?: number | null
          leads_converted?: number | null
          leads_created?: number | null
          leads_qualified?: number | null
          ltv_to_cac_ratio?: number | null
          materials_cost_ratio?: number | null
          materials_cost_total?: number | null
          median_customer_ltv?: number | null
          median_days_to_pay?: number | null
          median_job_value?: number | null
          missed_call_rate?: number | null
          monthly_recurring_revenue?: number | null
          most_common_job_type?: string | null
          most_common_lead_source?: string | null
          most_common_payment_method?: string | null
          most_common_service_day?: string | null
          most_common_service_hour?: number | null
          net_customer_growth?: number | null
          net_margin_percent?: number | null
          net_profit?: number | null
          net_promoter_score?: number | null
          new_customers?: number | null
          no_show_rate?: number | null
          nps_score?: number | null
          on_time_arrival_rate?: number | null
          on_time_completion_rate?: number | null
          overhead_cost_ratio?: number | null
          overhead_cost_total?: number | null
          overtime_hours?: number | null
          parts_return_rate?: number | null
          parts_used_count?: number | null
          parts_used_value?: number | null
          payment_method_ach_percent?: number | null
          payment_method_card_percent?: number | null
          payment_method_cash_percent?: number | null
          payment_method_check_percent?: number | null
          period_type?: string
          pipeline_value?: number | null
          preventive_vs_reactive_ratio?: number | null
          quote_to_close_rate?: number | null
          recurring_revenue_percent?: number | null
          referral_rate?: number | null
          repeat_customer_rate?: number | null
          repeat_visit_rate?: number | null
          reschedule_rate?: number | null
          revenue_30day_ma?: number | null
          revenue_7day_ma?: number | null
          revenue_forecast_30d?: number | null
          revenue_forecast_7d?: number | null
          revenue_forecast_90d?: number | null
          revenue_growth_mom?: number | null
          revenue_growth_yoy?: number | null
          revenue_one_time?: number | null
          revenue_parts?: number | null
          revenue_per_job?: number | null
          revenue_per_tech?: number | null
          revenue_per_technician?: number | null
          revenue_recurring?: number | null
          revenue_service?: number | null
          revenue_total?: number | null
          rework_jobs_count?: number | null
          rework_rate?: number | null
          safety_incident_count?: number | null
          safety_incidents_count?: number | null
          schedule_fill_rate?: number | null
          service_agreement_revenue?: number | null
          sms_delivery_rate?: number | null
          sms_received?: number | null
          sms_sent?: number | null
          summary_date?: string
          tech_turnover_rate?: number | null
          technician_utilization_rate?: number | null
          total_billable_hours?: number | null
          total_communications?: number | null
          total_customers?: number | null
          total_labor_hours?: number | null
          updated_at?: string | null
          utilization_rate?: number | null
          warranty_claim_rate?: number | null
          warranty_claims_count?: number | null
          weighted_pipeline_value?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "analytics_company_summary_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "analytics_company_summary_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      analytics_csr_metrics: {
        Row: {
          avg_after_call_work_seconds: number | null
          avg_booked_ticket: number | null
          avg_call_quality_score: number | null
          avg_hold_time_seconds: number | null
          avg_ring_time_seconds: number | null
          avg_talk_time_seconds: number | null
          booked_revenue: number | null
          booking_rate: number | null
          booking_rate_rank: number | null
          booking_rate_target: number | null
          booking_rate_vs_target: number | null
          call_answer_rate: number | null
          call_volume_rank: number | null
          calls_target: number | null
          calls_vs_target: number | null
          company_id: string
          created_at: string | null
          csr_name: string
          customer_satisfaction_score: number | null
          date: string
          escalation_rate: number | null
          estimates_scheduled: number | null
          existing_customer_calls: number | null
          first_call_resolution_rate: number | null
          id: string
          jobs_booked: number | null
          leads_generated: number | null
          maintenance_scheduled: number | null
          negative_sentiment_calls: number | null
          new_customers_created: number | null
          overall_performance_score: number | null
          period_end: string
          period_start: string
          positive_sentiment_calls: number | null
          revenue_per_call: number | null
          revenue_rank: number | null
          revenue_target: number | null
          revenue_vs_target: number | null
          service_calls_scheduled: number | null
          total_calls_abandoned: number | null
          total_calls_answered: number | null
          total_calls_missed: number | null
          total_calls_received: number | null
          total_opportunities: number | null
          total_talk_time_minutes: number | null
          transfer_rate: number | null
          updated_at: string | null
          user_id: string
        }
        Insert: {
          avg_after_call_work_seconds?: number | null
          avg_booked_ticket?: number | null
          avg_call_quality_score?: number | null
          avg_hold_time_seconds?: number | null
          avg_ring_time_seconds?: number | null
          avg_talk_time_seconds?: number | null
          booked_revenue?: number | null
          booking_rate?: number | null
          booking_rate_rank?: number | null
          booking_rate_target?: number | null
          booking_rate_vs_target?: number | null
          call_answer_rate?: number | null
          call_volume_rank?: number | null
          calls_target?: number | null
          calls_vs_target?: number | null
          company_id: string
          created_at?: string | null
          csr_name: string
          customer_satisfaction_score?: number | null
          date: string
          escalation_rate?: number | null
          estimates_scheduled?: number | null
          existing_customer_calls?: number | null
          first_call_resolution_rate?: number | null
          id?: string
          jobs_booked?: number | null
          leads_generated?: number | null
          maintenance_scheduled?: number | null
          negative_sentiment_calls?: number | null
          new_customers_created?: number | null
          overall_performance_score?: number | null
          period_end: string
          period_start: string
          positive_sentiment_calls?: number | null
          revenue_per_call?: number | null
          revenue_rank?: number | null
          revenue_target?: number | null
          revenue_vs_target?: number | null
          service_calls_scheduled?: number | null
          total_calls_abandoned?: number | null
          total_calls_answered?: number | null
          total_calls_missed?: number | null
          total_calls_received?: number | null
          total_opportunities?: number | null
          total_talk_time_minutes?: number | null
          transfer_rate?: number | null
          updated_at?: string | null
          user_id: string
        }
        Update: {
          avg_after_call_work_seconds?: number | null
          avg_booked_ticket?: number | null
          avg_call_quality_score?: number | null
          avg_hold_time_seconds?: number | null
          avg_ring_time_seconds?: number | null
          avg_talk_time_seconds?: number | null
          booked_revenue?: number | null
          booking_rate?: number | null
          booking_rate_rank?: number | null
          booking_rate_target?: number | null
          booking_rate_vs_target?: number | null
          call_answer_rate?: number | null
          call_volume_rank?: number | null
          calls_target?: number | null
          calls_vs_target?: number | null
          company_id?: string
          created_at?: string | null
          csr_name?: string
          customer_satisfaction_score?: number | null
          date?: string
          escalation_rate?: number | null
          estimates_scheduled?: number | null
          existing_customer_calls?: number | null
          first_call_resolution_rate?: number | null
          id?: string
          jobs_booked?: number | null
          leads_generated?: number | null
          maintenance_scheduled?: number | null
          negative_sentiment_calls?: number | null
          new_customers_created?: number | null
          overall_performance_score?: number | null
          period_end?: string
          period_start?: string
          positive_sentiment_calls?: number | null
          revenue_per_call?: number | null
          revenue_rank?: number | null
          revenue_target?: number | null
          revenue_vs_target?: number | null
          service_calls_scheduled?: number | null
          total_calls_abandoned?: number | null
          total_calls_answered?: number | null
          total_calls_missed?: number | null
          total_calls_received?: number | null
          total_opportunities?: number | null
          total_talk_time_minutes?: number | null
          transfer_rate?: number | null
          updated_at?: string | null
          user_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "analytics_csr_metrics_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "analytics_csr_metrics_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "analytics_csr_metrics_user_id_fkey"
            columns: ["user_id"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      analytics_customer_cohorts: {
        Row: {
          active_count_current: number | null
          active_count_month_1: number | null
          active_count_month_12: number | null
          active_count_month_3: number | null
          active_count_month_6: number | null
          analysis_date: string
          avg_cac: number | null
          avg_days_between_jobs: number | null
          avg_jobs_per_customer: number | null
          avg_rating_current: number | null
          avg_rating_month_1: number | null
          avg_rating_month_12: number | null
          avg_rating_month_6: number | null
          churned_month_1: number | null
          churned_month_12: number | null
          churned_month_3: number | null
          churned_month_6: number | null
          cohort_month: string
          company_id: string
          contract_attachment_rate: number | null
          contract_revenue: number | null
          contracts_sold: number | null
          created_at: string | null
          customers_acquired: number | null
          customers_from_direct: number | null
          customers_from_marketing: number | null
          customers_from_referral: number | null
          id: string
          jobs_month_1: number | null
          jobs_month_12: number | null
          jobs_month_3: number | null
          jobs_month_6: number | null
          jobs_total: number | null
          ltv_at_month_1: number | null
          ltv_at_month_12: number | null
          ltv_at_month_24: number | null
          ltv_at_month_3: number | null
          ltv_at_month_6: number | null
          ltv_current: number | null
          ltv_projected: number | null
          ltv_to_cac_current: number | null
          ltv_to_cac_projected: number | null
          ltv_vs_prev_cohort: number | null
          median_days_between_jobs: number | null
          nps_current: number | null
          payback_period_months: number | null
          referral_rate: number | null
          referral_revenue: number | null
          referrals_made: number | null
          retained_month_1: number | null
          retained_month_12: number | null
          retained_month_2: number | null
          retained_month_24: number | null
          retained_month_3: number | null
          retained_month_6: number | null
          retention_vs_prev_cohort: number | null
          revenue_month_1: number | null
          revenue_month_12: number | null
          revenue_month_24: number | null
          revenue_month_3: number | null
          revenue_month_6: number | null
          revenue_total: number | null
          total_marketing_spend: number | null
          updated_at: string | null
        }
        Insert: {
          active_count_current?: number | null
          active_count_month_1?: number | null
          active_count_month_12?: number | null
          active_count_month_3?: number | null
          active_count_month_6?: number | null
          analysis_date: string
          avg_cac?: number | null
          avg_days_between_jobs?: number | null
          avg_jobs_per_customer?: number | null
          avg_rating_current?: number | null
          avg_rating_month_1?: number | null
          avg_rating_month_12?: number | null
          avg_rating_month_6?: number | null
          churned_month_1?: number | null
          churned_month_12?: number | null
          churned_month_3?: number | null
          churned_month_6?: number | null
          cohort_month: string
          company_id: string
          contract_attachment_rate?: number | null
          contract_revenue?: number | null
          contracts_sold?: number | null
          created_at?: string | null
          customers_acquired?: number | null
          customers_from_direct?: number | null
          customers_from_marketing?: number | null
          customers_from_referral?: number | null
          id?: string
          jobs_month_1?: number | null
          jobs_month_12?: number | null
          jobs_month_3?: number | null
          jobs_month_6?: number | null
          jobs_total?: number | null
          ltv_at_month_1?: number | null
          ltv_at_month_12?: number | null
          ltv_at_month_24?: number | null
          ltv_at_month_3?: number | null
          ltv_at_month_6?: number | null
          ltv_current?: number | null
          ltv_projected?: number | null
          ltv_to_cac_current?: number | null
          ltv_to_cac_projected?: number | null
          ltv_vs_prev_cohort?: number | null
          median_days_between_jobs?: number | null
          nps_current?: number | null
          payback_period_months?: number | null
          referral_rate?: number | null
          referral_revenue?: number | null
          referrals_made?: number | null
          retained_month_1?: number | null
          retained_month_12?: number | null
          retained_month_2?: number | null
          retained_month_24?: number | null
          retained_month_3?: number | null
          retained_month_6?: number | null
          retention_vs_prev_cohort?: number | null
          revenue_month_1?: number | null
          revenue_month_12?: number | null
          revenue_month_24?: number | null
          revenue_month_3?: number | null
          revenue_month_6?: number | null
          revenue_total?: number | null
          total_marketing_spend?: number | null
          updated_at?: string | null
        }
        Update: {
          active_count_current?: number | null
          active_count_month_1?: number | null
          active_count_month_12?: number | null
          active_count_month_3?: number | null
          active_count_month_6?: number | null
          analysis_date?: string
          avg_cac?: number | null
          avg_days_between_jobs?: number | null
          avg_jobs_per_customer?: number | null
          avg_rating_current?: number | null
          avg_rating_month_1?: number | null
          avg_rating_month_12?: number | null
          avg_rating_month_6?: number | null
          churned_month_1?: number | null
          churned_month_12?: number | null
          churned_month_3?: number | null
          churned_month_6?: number | null
          cohort_month?: string
          company_id?: string
          contract_attachment_rate?: number | null
          contract_revenue?: number | null
          contracts_sold?: number | null
          created_at?: string | null
          customers_acquired?: number | null
          customers_from_direct?: number | null
          customers_from_marketing?: number | null
          customers_from_referral?: number | null
          id?: string
          jobs_month_1?: number | null
          jobs_month_12?: number | null
          jobs_month_3?: number | null
          jobs_month_6?: number | null
          jobs_total?: number | null
          ltv_at_month_1?: number | null
          ltv_at_month_12?: number | null
          ltv_at_month_24?: number | null
          ltv_at_month_3?: number | null
          ltv_at_month_6?: number | null
          ltv_current?: number | null
          ltv_projected?: number | null
          ltv_to_cac_current?: number | null
          ltv_to_cac_projected?: number | null
          ltv_vs_prev_cohort?: number | null
          median_days_between_jobs?: number | null
          nps_current?: number | null
          payback_period_months?: number | null
          referral_rate?: number | null
          referral_revenue?: number | null
          referrals_made?: number | null
          retained_month_1?: number | null
          retained_month_12?: number | null
          retained_month_2?: number | null
          retained_month_24?: number | null
          retained_month_3?: number | null
          retained_month_6?: number | null
          retention_vs_prev_cohort?: number | null
          revenue_month_1?: number | null
          revenue_month_12?: number | null
          revenue_month_24?: number | null
          revenue_month_3?: number | null
          revenue_month_6?: number | null
          revenue_total?: number | null
          total_marketing_spend?: number | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "analytics_customer_cohorts_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "analytics_customer_cohorts_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      analytics_customer_health: {
        Row: {
          analysis_date: string
          avg_days_between_jobs: number | null
          avg_days_to_pay: number | null
          avg_job_value: number | null
          avg_review_rating: number | null
          churn_probability: number | null
          churn_risk_level: string | null
          company_id: string
          created_at: string | null
          csat_score: number | null
          current_ltv: number | null
          customer_id: string
          customer_segment: string | null
          days_since_last_contact: number | null
          days_since_last_service: number | null
          days_until_agreement_renewal: number | null
          days_until_likely_churn: number | null
          email_engagement_rate: number | null
          engagement_segment: string | null
          equipment_age_years: number | null
          equipment_replacement_due: boolean | null
          has_overdue_invoices: boolean | null
          has_service_agreement: boolean | null
          health_score: number | null
          health_score_trend: string | null
          health_status: string | null
          id: string
          is_recurring_customer: boolean | null
          ltv_percentile: number | null
          maintenance_overdue: boolean | null
          next_best_contact_channel: string | null
          next_best_contact_date: string | null
          nps_score: number | null
          on_time_payment_rate: number | null
          open_complaints: number | null
          outstanding_balance: number | null
          predicted_ltv: number | null
          preferred_service_type: string | null
          previous_health_score: number | null
          primary_churn_factors: Json | null
          recommended_action: string | null
          recommended_action_priority: string | null
          recommended_services: Json | null
          seasonal_pattern: string | null
          service_agreement_renewal_date: string | null
          sms_response_rate: number | null
          total_complaints: number | null
          total_interactions_30d: number | null
          total_interactions_90d: number | null
          total_jobs_12m: number | null
          total_jobs_lifetime: number | null
          total_revenue_12m: number | null
          total_revenue_lifetime: number | null
          total_reviews: number | null
          updated_at: string | null
          upsell_score: number | null
          value_segment: string | null
        }
        Insert: {
          analysis_date: string
          avg_days_between_jobs?: number | null
          avg_days_to_pay?: number | null
          avg_job_value?: number | null
          avg_review_rating?: number | null
          churn_probability?: number | null
          churn_risk_level?: string | null
          company_id: string
          created_at?: string | null
          csat_score?: number | null
          current_ltv?: number | null
          customer_id: string
          customer_segment?: string | null
          days_since_last_contact?: number | null
          days_since_last_service?: number | null
          days_until_agreement_renewal?: number | null
          days_until_likely_churn?: number | null
          email_engagement_rate?: number | null
          engagement_segment?: string | null
          equipment_age_years?: number | null
          equipment_replacement_due?: boolean | null
          has_overdue_invoices?: boolean | null
          has_service_agreement?: boolean | null
          health_score?: number | null
          health_score_trend?: string | null
          health_status?: string | null
          id?: string
          is_recurring_customer?: boolean | null
          ltv_percentile?: number | null
          maintenance_overdue?: boolean | null
          next_best_contact_channel?: string | null
          next_best_contact_date?: string | null
          nps_score?: number | null
          on_time_payment_rate?: number | null
          open_complaints?: number | null
          outstanding_balance?: number | null
          predicted_ltv?: number | null
          preferred_service_type?: string | null
          previous_health_score?: number | null
          primary_churn_factors?: Json | null
          recommended_action?: string | null
          recommended_action_priority?: string | null
          recommended_services?: Json | null
          seasonal_pattern?: string | null
          service_agreement_renewal_date?: string | null
          sms_response_rate?: number | null
          total_complaints?: number | null
          total_interactions_30d?: number | null
          total_interactions_90d?: number | null
          total_jobs_12m?: number | null
          total_jobs_lifetime?: number | null
          total_revenue_12m?: number | null
          total_revenue_lifetime?: number | null
          total_reviews?: number | null
          updated_at?: string | null
          upsell_score?: number | null
          value_segment?: string | null
        }
        Update: {
          analysis_date?: string
          avg_days_between_jobs?: number | null
          avg_days_to_pay?: number | null
          avg_job_value?: number | null
          avg_review_rating?: number | null
          churn_probability?: number | null
          churn_risk_level?: string | null
          company_id?: string
          created_at?: string | null
          csat_score?: number | null
          current_ltv?: number | null
          customer_id?: string
          customer_segment?: string | null
          days_since_last_contact?: number | null
          days_since_last_service?: number | null
          days_until_agreement_renewal?: number | null
          days_until_likely_churn?: number | null
          email_engagement_rate?: number | null
          engagement_segment?: string | null
          equipment_age_years?: number | null
          equipment_replacement_due?: boolean | null
          has_overdue_invoices?: boolean | null
          has_service_agreement?: boolean | null
          health_score?: number | null
          health_score_trend?: string | null
          health_status?: string | null
          id?: string
          is_recurring_customer?: boolean | null
          ltv_percentile?: number | null
          maintenance_overdue?: boolean | null
          next_best_contact_channel?: string | null
          next_best_contact_date?: string | null
          nps_score?: number | null
          on_time_payment_rate?: number | null
          open_complaints?: number | null
          outstanding_balance?: number | null
          predicted_ltv?: number | null
          preferred_service_type?: string | null
          previous_health_score?: number | null
          primary_churn_factors?: Json | null
          recommended_action?: string | null
          recommended_action_priority?: string | null
          recommended_services?: Json | null
          seasonal_pattern?: string | null
          service_agreement_renewal_date?: string | null
          sms_response_rate?: number | null
          total_complaints?: number | null
          total_interactions_30d?: number | null
          total_interactions_90d?: number | null
          total_jobs_12m?: number | null
          total_jobs_lifetime?: number | null
          total_revenue_12m?: number | null
          total_revenue_lifetime?: number | null
          total_reviews?: number | null
          updated_at?: string | null
          upsell_score?: number | null
          value_segment?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "analytics_customer_health_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "analytics_customer_health_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "analytics_customer_health_customer_id_fkey"
            columns: ["customer_id"]
            isOneToOne: false
            referencedRelation: "customers"
            referencedColumns: ["id"]
          },
        ]
      }
      analytics_daily_snapshots: {
        Row: {
          active_contracts: number | null
          active_technicians: number | null
          appointment_show_rate: number | null
          appointments_cancelled: number | null
          appointments_completed: number | null
          appointments_no_show: number | null
          appointments_scheduled: number | null
          average_job_duration_minutes: number | null
          average_response_time_minutes: number | null
          average_ticket: number | null
          avg_job_duration_minutes: number | null
          avg_job_profit: number | null
          avg_job_value: number | null
          avg_rating_score: number | null
          avg_response_time_minutes: number | null
          billable_hours: number | null
          callback_count: number | null
          callbacks: number | null
          calls_made: number | null
          calls_received: number | null
          capacity_available_hours: number | null
          capacity_booked_hours: number | null
          capacity_utilization: number | null
          churned_customers: number | null
          collected_revenue: number | null
          company_id: string
          contract_revenue: number | null
          contracts_cancelled: number | null
          contracts_created: number | null
          contracts_renewed: number | null
          created_at: string | null
          customer_complaints: number | null
          customer_compliments: number | null
          customer_lifetime_value_avg: number | null
          customer_trend: string | null
          customers_7day_ma: number | null
          days_sales_outstanding: number | null
          drive_time_total_minutes: number | null
          emails_received: number | null
          emails_sent: number | null
          emergency_calls: number | null
          emergency_revenue: number | null
          estimate_conversion_7day_ma: number | null
          estimate_conversion_rate: number | null
          estimate_total_value: number | null
          estimates_approved: number | null
          estimates_created: number | null
          estimates_declined: number | null
          first_time_fix_count: number | null
          five_star_reviews: number | null
          forecast_confidence_high: number | null
          forecast_confidence_low: number | null
          forecast_model_used: string | null
          id: string
          invoices_created: number | null
          invoices_overdue: number | null
          invoices_paid: number | null
          invoices_value: number | null
          job_duration_p90_minutes: number | null
          job_duration_std_dev: number | null
          job_value_p25: number | null
          job_value_p75: number | null
          job_value_p90: number | null
          job_value_std_dev: number | null
          jobs_30day_ma: number | null
          jobs_7day_ma: number | null
          jobs_cancelled: number | null
          jobs_completed: number | null
          jobs_created: number | null
          jobs_forecast_30d: number | null
          jobs_forecast_7d: number | null
          jobs_in_progress: number | null
          jobs_is_anomaly: boolean | null
          jobs_scheduled: number | null
          jobs_trend: string | null
          jobs_vs_prev_day_percent: number | null
          jobs_vs_prev_week_percent: number | null
          labor_revenue: number | null
          median_customer_ltv: number | null
          median_estimate_value: number | null
          median_job_duration_minutes: number | null
          median_job_value: number | null
          median_payment_days: number | null
          median_response_time_minutes: number | null
          most_common_job_type: string | null
          most_common_job_type_count: number | null
          most_common_lead_source: string | null
          most_common_lead_source_count: number | null
          most_common_payment_method: string | null
          most_common_payment_method_count: number | null
          most_common_service_day: string | null
          most_common_service_hour: number | null
          new_customers: number | null
          no_shows: number | null
          non_billable_hours: number | null
          outstanding_revenue: number | null
          overtime_hours: number | null
          parts_revenue: number | null
          payment_count: number | null
          payment_time_p95_days: number | null
          payments_received: number | null
          payments_value: number | null
          quotes_accepted: number | null
          quotes_rejected: number | null
          quotes_sent: number | null
          quotes_value: number | null
          rescheduled_jobs: number | null
          revenue_30day_ma: number | null
          revenue_7day_ma: number | null
          revenue_90day_ma: number | null
          revenue_anomaly_zscore: number | null
          revenue_forecast_30d: number | null
          revenue_forecast_7d: number | null
          revenue_forecast_90d: number | null
          revenue_is_anomaly: boolean | null
          revenue_seasonally_adjusted: number | null
          revenue_std_dev: number | null
          revenue_trend: string | null
          revenue_vs_prev_day_percent: number | null
          revenue_vs_prev_month_percent: number | null
          revenue_vs_prev_week_percent: number | null
          revenue_vs_prev_year_percent: number | null
          same_day_completions: number | null
          seasonal_factor: number | null
          service_revenue: number | null
          sms_received: number | null
          sms_sent: number | null
          snapshot_date: string
          tech_performance_p10: number | null
          total_active_customers: number | null
          total_labor_hours: number | null
          total_revenue: number | null
          trend_strength: number | null
          updated_at: string | null
          utilization_rate: number | null
        }
        Insert: {
          active_contracts?: number | null
          active_technicians?: number | null
          appointment_show_rate?: number | null
          appointments_cancelled?: number | null
          appointments_completed?: number | null
          appointments_no_show?: number | null
          appointments_scheduled?: number | null
          average_job_duration_minutes?: number | null
          average_response_time_minutes?: number | null
          average_ticket?: number | null
          avg_job_duration_minutes?: number | null
          avg_job_profit?: number | null
          avg_job_value?: number | null
          avg_rating_score?: number | null
          avg_response_time_minutes?: number | null
          billable_hours?: number | null
          callback_count?: number | null
          callbacks?: number | null
          calls_made?: number | null
          calls_received?: number | null
          capacity_available_hours?: number | null
          capacity_booked_hours?: number | null
          capacity_utilization?: number | null
          churned_customers?: number | null
          collected_revenue?: number | null
          company_id: string
          contract_revenue?: number | null
          contracts_cancelled?: number | null
          contracts_created?: number | null
          contracts_renewed?: number | null
          created_at?: string | null
          customer_complaints?: number | null
          customer_compliments?: number | null
          customer_lifetime_value_avg?: number | null
          customer_trend?: string | null
          customers_7day_ma?: number | null
          days_sales_outstanding?: number | null
          drive_time_total_minutes?: number | null
          emails_received?: number | null
          emails_sent?: number | null
          emergency_calls?: number | null
          emergency_revenue?: number | null
          estimate_conversion_7day_ma?: number | null
          estimate_conversion_rate?: number | null
          estimate_total_value?: number | null
          estimates_approved?: number | null
          estimates_created?: number | null
          estimates_declined?: number | null
          first_time_fix_count?: number | null
          five_star_reviews?: number | null
          forecast_confidence_high?: number | null
          forecast_confidence_low?: number | null
          forecast_model_used?: string | null
          id?: string
          invoices_created?: number | null
          invoices_overdue?: number | null
          invoices_paid?: number | null
          invoices_value?: number | null
          job_duration_p90_minutes?: number | null
          job_duration_std_dev?: number | null
          job_value_p25?: number | null
          job_value_p75?: number | null
          job_value_p90?: number | null
          job_value_std_dev?: number | null
          jobs_30day_ma?: number | null
          jobs_7day_ma?: number | null
          jobs_cancelled?: number | null
          jobs_completed?: number | null
          jobs_created?: number | null
          jobs_forecast_30d?: number | null
          jobs_forecast_7d?: number | null
          jobs_in_progress?: number | null
          jobs_is_anomaly?: boolean | null
          jobs_scheduled?: number | null
          jobs_trend?: string | null
          jobs_vs_prev_day_percent?: number | null
          jobs_vs_prev_week_percent?: number | null
          labor_revenue?: number | null
          median_customer_ltv?: number | null
          median_estimate_value?: number | null
          median_job_duration_minutes?: number | null
          median_job_value?: number | null
          median_payment_days?: number | null
          median_response_time_minutes?: number | null
          most_common_job_type?: string | null
          most_common_job_type_count?: number | null
          most_common_lead_source?: string | null
          most_common_lead_source_count?: number | null
          most_common_payment_method?: string | null
          most_common_payment_method_count?: number | null
          most_common_service_day?: string | null
          most_common_service_hour?: number | null
          new_customers?: number | null
          no_shows?: number | null
          non_billable_hours?: number | null
          outstanding_revenue?: number | null
          overtime_hours?: number | null
          parts_revenue?: number | null
          payment_count?: number | null
          payment_time_p95_days?: number | null
          payments_received?: number | null
          payments_value?: number | null
          quotes_accepted?: number | null
          quotes_rejected?: number | null
          quotes_sent?: number | null
          quotes_value?: number | null
          rescheduled_jobs?: number | null
          revenue_30day_ma?: number | null
          revenue_7day_ma?: number | null
          revenue_90day_ma?: number | null
          revenue_anomaly_zscore?: number | null
          revenue_forecast_30d?: number | null
          revenue_forecast_7d?: number | null
          revenue_forecast_90d?: number | null
          revenue_is_anomaly?: boolean | null
          revenue_seasonally_adjusted?: number | null
          revenue_std_dev?: number | null
          revenue_trend?: string | null
          revenue_vs_prev_day_percent?: number | null
          revenue_vs_prev_month_percent?: number | null
          revenue_vs_prev_week_percent?: number | null
          revenue_vs_prev_year_percent?: number | null
          same_day_completions?: number | null
          seasonal_factor?: number | null
          service_revenue?: number | null
          sms_received?: number | null
          sms_sent?: number | null
          snapshot_date: string
          tech_performance_p10?: number | null
          total_active_customers?: number | null
          total_labor_hours?: number | null
          total_revenue?: number | null
          trend_strength?: number | null
          updated_at?: string | null
          utilization_rate?: number | null
        }
        Update: {
          active_contracts?: number | null
          active_technicians?: number | null
          appointment_show_rate?: number | null
          appointments_cancelled?: number | null
          appointments_completed?: number | null
          appointments_no_show?: number | null
          appointments_scheduled?: number | null
          average_job_duration_minutes?: number | null
          average_response_time_minutes?: number | null
          average_ticket?: number | null
          avg_job_duration_minutes?: number | null
          avg_job_profit?: number | null
          avg_job_value?: number | null
          avg_rating_score?: number | null
          avg_response_time_minutes?: number | null
          billable_hours?: number | null
          callback_count?: number | null
          callbacks?: number | null
          calls_made?: number | null
          calls_received?: number | null
          capacity_available_hours?: number | null
          capacity_booked_hours?: number | null
          capacity_utilization?: number | null
          churned_customers?: number | null
          collected_revenue?: number | null
          company_id?: string
          contract_revenue?: number | null
          contracts_cancelled?: number | null
          contracts_created?: number | null
          contracts_renewed?: number | null
          created_at?: string | null
          customer_complaints?: number | null
          customer_compliments?: number | null
          customer_lifetime_value_avg?: number | null
          customer_trend?: string | null
          customers_7day_ma?: number | null
          days_sales_outstanding?: number | null
          drive_time_total_minutes?: number | null
          emails_received?: number | null
          emails_sent?: number | null
          emergency_calls?: number | null
          emergency_revenue?: number | null
          estimate_conversion_7day_ma?: number | null
          estimate_conversion_rate?: number | null
          estimate_total_value?: number | null
          estimates_approved?: number | null
          estimates_created?: number | null
          estimates_declined?: number | null
          first_time_fix_count?: number | null
          five_star_reviews?: number | null
          forecast_confidence_high?: number | null
          forecast_confidence_low?: number | null
          forecast_model_used?: string | null
          id?: string
          invoices_created?: number | null
          invoices_overdue?: number | null
          invoices_paid?: number | null
          invoices_value?: number | null
          job_duration_p90_minutes?: number | null
          job_duration_std_dev?: number | null
          job_value_p25?: number | null
          job_value_p75?: number | null
          job_value_p90?: number | null
          job_value_std_dev?: number | null
          jobs_30day_ma?: number | null
          jobs_7day_ma?: number | null
          jobs_cancelled?: number | null
          jobs_completed?: number | null
          jobs_created?: number | null
          jobs_forecast_30d?: number | null
          jobs_forecast_7d?: number | null
          jobs_in_progress?: number | null
          jobs_is_anomaly?: boolean | null
          jobs_scheduled?: number | null
          jobs_trend?: string | null
          jobs_vs_prev_day_percent?: number | null
          jobs_vs_prev_week_percent?: number | null
          labor_revenue?: number | null
          median_customer_ltv?: number | null
          median_estimate_value?: number | null
          median_job_duration_minutes?: number | null
          median_job_value?: number | null
          median_payment_days?: number | null
          median_response_time_minutes?: number | null
          most_common_job_type?: string | null
          most_common_job_type_count?: number | null
          most_common_lead_source?: string | null
          most_common_lead_source_count?: number | null
          most_common_payment_method?: string | null
          most_common_payment_method_count?: number | null
          most_common_service_day?: string | null
          most_common_service_hour?: number | null
          new_customers?: number | null
          no_shows?: number | null
          non_billable_hours?: number | null
          outstanding_revenue?: number | null
          overtime_hours?: number | null
          parts_revenue?: number | null
          payment_count?: number | null
          payment_time_p95_days?: number | null
          payments_received?: number | null
          payments_value?: number | null
          quotes_accepted?: number | null
          quotes_rejected?: number | null
          quotes_sent?: number | null
          quotes_value?: number | null
          rescheduled_jobs?: number | null
          revenue_30day_ma?: number | null
          revenue_7day_ma?: number | null
          revenue_90day_ma?: number | null
          revenue_anomaly_zscore?: number | null
          revenue_forecast_30d?: number | null
          revenue_forecast_7d?: number | null
          revenue_forecast_90d?: number | null
          revenue_is_anomaly?: boolean | null
          revenue_seasonally_adjusted?: number | null
          revenue_std_dev?: number | null
          revenue_trend?: string | null
          revenue_vs_prev_day_percent?: number | null
          revenue_vs_prev_month_percent?: number | null
          revenue_vs_prev_week_percent?: number | null
          revenue_vs_prev_year_percent?: number | null
          same_day_completions?: number | null
          seasonal_factor?: number | null
          service_revenue?: number | null
          sms_received?: number | null
          sms_sent?: number | null
          snapshot_date?: string
          tech_performance_p10?: number | null
          total_active_customers?: number | null
          total_labor_hours?: number | null
          total_revenue?: number | null
          trend_strength?: number | null
          updated_at?: string | null
          utilization_rate?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "analytics_daily_snapshots_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "analytics_daily_snapshots_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      analytics_dispatch_efficiency: {
        Row: {
          active_technicians: number | null
          auto_assignment_rate: number | null
          availability_match_rate: number | null
          avg_drive_miles_between_jobs: number | null
          avg_drive_time_between_jobs: number | null
          avg_jobs_per_tech: number | null
          avg_revenue_per_tech: number | null
          avg_time_to_arrival_minutes: number | null
          avg_time_to_dispatch_minutes: number | null
          capacity_available: number | null
          capacity_used: number | null
          capacity_utilization: number | null
          company_id: string
          created_at: string | null
          date: string
          drive_time_ratio: number | null
          early_arrival_rate: number | null
          emergency_jobs_count: number | null
          emergency_response_time_minutes: number | null
          high_value_job_priority_rate: number | null
          id: string
          jobs_auto_assigned: number | null
          jobs_completed_late: number | null
          jobs_completed_on_time: number | null
          jobs_manually_assigned: number | null
          jobs_rescheduled: number | null
          late_arrival_rate: number | null
          on_time_arrival_rate: number | null
          overbooking_count: number | null
          priority_jobs_on_time_rate: number | null
          reschedule_rate: number | null
          revenue_per_hour: number | null
          revenue_per_mile: number | null
          same_day_completion_rate: number | null
          schedule_fill_rate: number | null
          skill_match_rate: number | null
          technician_idle_time_minutes: number | null
          total_available_hours: number | null
          total_billable_hours: number | null
          total_drive_miles: number | null
          total_drive_time_minutes: number | null
          total_jobs_dispatched: number | null
          total_scheduled_hours: number | null
          underbooking_count: number | null
          updated_at: string | null
          utilization_rate: number | null
          zone_match_rate: number | null
        }
        Insert: {
          active_technicians?: number | null
          auto_assignment_rate?: number | null
          availability_match_rate?: number | null
          avg_drive_miles_between_jobs?: number | null
          avg_drive_time_between_jobs?: number | null
          avg_jobs_per_tech?: number | null
          avg_revenue_per_tech?: number | null
          avg_time_to_arrival_minutes?: number | null
          avg_time_to_dispatch_minutes?: number | null
          capacity_available?: number | null
          capacity_used?: number | null
          capacity_utilization?: number | null
          company_id: string
          created_at?: string | null
          date: string
          drive_time_ratio?: number | null
          early_arrival_rate?: number | null
          emergency_jobs_count?: number | null
          emergency_response_time_minutes?: number | null
          high_value_job_priority_rate?: number | null
          id?: string
          jobs_auto_assigned?: number | null
          jobs_completed_late?: number | null
          jobs_completed_on_time?: number | null
          jobs_manually_assigned?: number | null
          jobs_rescheduled?: number | null
          late_arrival_rate?: number | null
          on_time_arrival_rate?: number | null
          overbooking_count?: number | null
          priority_jobs_on_time_rate?: number | null
          reschedule_rate?: number | null
          revenue_per_hour?: number | null
          revenue_per_mile?: number | null
          same_day_completion_rate?: number | null
          schedule_fill_rate?: number | null
          skill_match_rate?: number | null
          technician_idle_time_minutes?: number | null
          total_available_hours?: number | null
          total_billable_hours?: number | null
          total_drive_miles?: number | null
          total_drive_time_minutes?: number | null
          total_jobs_dispatched?: number | null
          total_scheduled_hours?: number | null
          underbooking_count?: number | null
          updated_at?: string | null
          utilization_rate?: number | null
          zone_match_rate?: number | null
        }
        Update: {
          active_technicians?: number | null
          auto_assignment_rate?: number | null
          availability_match_rate?: number | null
          avg_drive_miles_between_jobs?: number | null
          avg_drive_time_between_jobs?: number | null
          avg_jobs_per_tech?: number | null
          avg_revenue_per_tech?: number | null
          avg_time_to_arrival_minutes?: number | null
          avg_time_to_dispatch_minutes?: number | null
          capacity_available?: number | null
          capacity_used?: number | null
          capacity_utilization?: number | null
          company_id?: string
          created_at?: string | null
          date?: string
          drive_time_ratio?: number | null
          early_arrival_rate?: number | null
          emergency_jobs_count?: number | null
          emergency_response_time_minutes?: number | null
          high_value_job_priority_rate?: number | null
          id?: string
          jobs_auto_assigned?: number | null
          jobs_completed_late?: number | null
          jobs_completed_on_time?: number | null
          jobs_manually_assigned?: number | null
          jobs_rescheduled?: number | null
          late_arrival_rate?: number | null
          on_time_arrival_rate?: number | null
          overbooking_count?: number | null
          priority_jobs_on_time_rate?: number | null
          reschedule_rate?: number | null
          revenue_per_hour?: number | null
          revenue_per_mile?: number | null
          same_day_completion_rate?: number | null
          schedule_fill_rate?: number | null
          skill_match_rate?: number | null
          technician_idle_time_minutes?: number | null
          total_available_hours?: number | null
          total_billable_hours?: number | null
          total_drive_miles?: number | null
          total_drive_time_minutes?: number | null
          total_jobs_dispatched?: number | null
          total_scheduled_hours?: number | null
          underbooking_count?: number | null
          updated_at?: string | null
          utilization_rate?: number | null
          zone_match_rate?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "analytics_dispatch_efficiency_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "analytics_dispatch_efficiency_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      analytics_equipment_health: {
        Row: {
          age_years: number | null
          company_id: string
          condition_rating: string | null
          cost_per_service_call: number | null
          created_at: string
          days_until_maintenance: number | null
          downtime_hours: number | null
          efficiency_rating: number | null
          emergency_calls: number | null
          energy_cost: number | null
          energy_usage_kwh: number | null
          equipment_id: string
          estimated_replacement_cost: number | null
          expected_lifespan_years: number | null
          health_score: number | null
          id: string
          labor_cost: number | null
          lifecycle_position_percent: number | null
          maintenance_overdue: boolean | null
          mtbf_hours: number | null
          mttr_hours: number | null
          parts_cost: number | null
          period_end: string
          period_start: string
          predicted_failure_date: string | null
          preventive_maintenance_count: number | null
          reactive_maintenance_count: number | null
          replacement_recommended: boolean | null
          total_maintenance_cost: number | null
          total_service_calls: number | null
          updated_at: string
          uptime_percent: number | null
          warranty_claims: number | null
          warranty_cost_recovered: number | null
          warranty_remaining_days: number | null
        }
        Insert: {
          age_years?: number | null
          company_id: string
          condition_rating?: string | null
          cost_per_service_call?: number | null
          created_at?: string
          days_until_maintenance?: number | null
          downtime_hours?: number | null
          efficiency_rating?: number | null
          emergency_calls?: number | null
          energy_cost?: number | null
          energy_usage_kwh?: number | null
          equipment_id: string
          estimated_replacement_cost?: number | null
          expected_lifespan_years?: number | null
          health_score?: number | null
          id?: string
          labor_cost?: number | null
          lifecycle_position_percent?: number | null
          maintenance_overdue?: boolean | null
          mtbf_hours?: number | null
          mttr_hours?: number | null
          parts_cost?: number | null
          period_end: string
          period_start: string
          predicted_failure_date?: string | null
          preventive_maintenance_count?: number | null
          reactive_maintenance_count?: number | null
          replacement_recommended?: boolean | null
          total_maintenance_cost?: number | null
          total_service_calls?: number | null
          updated_at?: string
          uptime_percent?: number | null
          warranty_claims?: number | null
          warranty_cost_recovered?: number | null
          warranty_remaining_days?: number | null
        }
        Update: {
          age_years?: number | null
          company_id?: string
          condition_rating?: string | null
          cost_per_service_call?: number | null
          created_at?: string
          days_until_maintenance?: number | null
          downtime_hours?: number | null
          efficiency_rating?: number | null
          emergency_calls?: number | null
          energy_cost?: number | null
          energy_usage_kwh?: number | null
          equipment_id?: string
          estimated_replacement_cost?: number | null
          expected_lifespan_years?: number | null
          health_score?: number | null
          id?: string
          labor_cost?: number | null
          lifecycle_position_percent?: number | null
          maintenance_overdue?: boolean | null
          mtbf_hours?: number | null
          mttr_hours?: number | null
          parts_cost?: number | null
          period_end?: string
          period_start?: string
          predicted_failure_date?: string | null
          preventive_maintenance_count?: number | null
          reactive_maintenance_count?: number | null
          replacement_recommended?: boolean | null
          total_maintenance_cost?: number | null
          total_service_calls?: number | null
          updated_at?: string
          uptime_percent?: number | null
          warranty_claims?: number | null
          warranty_cost_recovered?: number | null
          warranty_remaining_days?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "analytics_equipment_health_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "analytics_equipment_health_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "analytics_equipment_health_equipment_id_fkey"
            columns: ["equipment_id"]
            isOneToOne: false
            referencedRelation: "equipment"
            referencedColumns: ["id"]
          },
        ]
      }
      analytics_feature_adoption: {
        Row: {
          adoption_rate: number | null
          advanced_features_used: number | null
          ai_features_used: number | null
          billing_features_used: number | null
          communication_features_used: number | null
          company_id: string
          core_features_used: number | null
          created_at: string
          dau_mau_ratio: number | null
          engagement_score: number | null
          id: string
          integration_features_used: number | null
          is_power_user: boolean | null
          monthly_active_features: number | null
          power_user_score: number | null
          reporting_features_used: number | null
          scheduling_features_used: number | null
          snapshot_date: string
          total_features_activated: number
          total_features_available: number
          unused_features: string[] | null
          unused_paid_features: string[] | null
          weekly_active_features: number | null
        }
        Insert: {
          adoption_rate?: number | null
          advanced_features_used?: number | null
          ai_features_used?: number | null
          billing_features_used?: number | null
          communication_features_used?: number | null
          company_id: string
          core_features_used?: number | null
          created_at?: string
          dau_mau_ratio?: number | null
          engagement_score?: number | null
          id?: string
          integration_features_used?: number | null
          is_power_user?: boolean | null
          monthly_active_features?: number | null
          power_user_score?: number | null
          reporting_features_used?: number | null
          scheduling_features_used?: number | null
          snapshot_date: string
          total_features_activated?: number
          total_features_available?: number
          unused_features?: string[] | null
          unused_paid_features?: string[] | null
          weekly_active_features?: number | null
        }
        Update: {
          adoption_rate?: number | null
          advanced_features_used?: number | null
          ai_features_used?: number | null
          billing_features_used?: number | null
          communication_features_used?: number | null
          company_id?: string
          core_features_used?: number | null
          created_at?: string
          dau_mau_ratio?: number | null
          engagement_score?: number | null
          id?: string
          integration_features_used?: number | null
          is_power_user?: boolean | null
          monthly_active_features?: number | null
          power_user_score?: number | null
          reporting_features_used?: number | null
          scheduling_features_used?: number | null
          snapshot_date?: string
          total_features_activated?: number
          total_features_available?: number
          unused_features?: string[] | null
          unused_paid_features?: string[] | null
          weekly_active_features?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "analytics_feature_adoption_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "analytics_feature_adoption_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      analytics_feature_usage: {
        Row: {
          actions_performed: number | null
          company_id: string
          created_at: string
          errors_encountered: number | null
          feature_category: string
          feature_key: string
          feature_name: string
          first_used_at: string | null
          id: string
          is_activated: boolean | null
          last_used_at: string | null
          revenue_attributed: number | null
          total_duration_seconds: number | null
          unique_users: number
          updated_at: string
          usage_count: number
          usage_date: string
        }
        Insert: {
          actions_performed?: number | null
          company_id: string
          created_at?: string
          errors_encountered?: number | null
          feature_category: string
          feature_key: string
          feature_name: string
          first_used_at?: string | null
          id?: string
          is_activated?: boolean | null
          last_used_at?: string | null
          revenue_attributed?: number | null
          total_duration_seconds?: number | null
          unique_users?: number
          updated_at?: string
          usage_count?: number
          usage_date: string
        }
        Update: {
          actions_performed?: number | null
          company_id?: string
          created_at?: string
          errors_encountered?: number | null
          feature_category?: string
          feature_key?: string
          feature_name?: string
          first_used_at?: string | null
          id?: string
          is_activated?: boolean | null
          last_used_at?: string | null
          revenue_attributed?: number | null
          total_duration_seconds?: number | null
          unique_users?: number
          updated_at?: string
          usage_count?: number
          usage_date?: string
        }
        Relationships: [
          {
            foreignKeyName: "analytics_feature_usage_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "analytics_feature_usage_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      analytics_funnel_events: {
        Row: {
          campaign: string | null
          company_id: string
          contract_id: string | null
          created_at: string | null
          customer_id: string | null
          estimate_id: string | null
          id: string
          invoice_id: string | null
          job_id: string | null
          metadata: Json | null
          occurred_at: string | null
          payment_id: string | null
          performed_by: string | null
          referral_customer_id: string | null
          source: string | null
          stage: string
          stage_value: number | null
        }
        Insert: {
          campaign?: string | null
          company_id: string
          contract_id?: string | null
          created_at?: string | null
          customer_id?: string | null
          estimate_id?: string | null
          id?: string
          invoice_id?: string | null
          job_id?: string | null
          metadata?: Json | null
          occurred_at?: string | null
          payment_id?: string | null
          performed_by?: string | null
          referral_customer_id?: string | null
          source?: string | null
          stage: string
          stage_value?: number | null
        }
        Update: {
          campaign?: string | null
          company_id?: string
          contract_id?: string | null
          created_at?: string | null
          customer_id?: string | null
          estimate_id?: string | null
          id?: string
          invoice_id?: string | null
          job_id?: string | null
          metadata?: Json | null
          occurred_at?: string | null
          payment_id?: string | null
          performed_by?: string | null
          referral_customer_id?: string | null
          source?: string | null
          stage?: string
          stage_value?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "analytics_funnel_events_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "analytics_funnel_events_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "analytics_funnel_events_contract_id_fkey"
            columns: ["contract_id"]
            isOneToOne: false
            referencedRelation: "contracts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "analytics_funnel_events_customer_id_fkey"
            columns: ["customer_id"]
            isOneToOne: false
            referencedRelation: "customers"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "analytics_funnel_events_estimate_id_fkey"
            columns: ["estimate_id"]
            isOneToOne: false
            referencedRelation: "estimates"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "analytics_funnel_events_invoice_id_fkey"
            columns: ["invoice_id"]
            isOneToOne: false
            referencedRelation: "invoices"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "analytics_funnel_events_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: false
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "analytics_funnel_events_payment_id_fkey"
            columns: ["payment_id"]
            isOneToOne: false
            referencedRelation: "payments"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "analytics_funnel_events_performed_by_fkey"
            columns: ["performed_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "analytics_funnel_events_referral_customer_id_fkey"
            columns: ["referral_customer_id"]
            isOneToOne: false
            referencedRelation: "customers"
            referencedColumns: ["id"]
          },
        ]
      }
      analytics_infrastructure_costs: {
        Row: {
          ai_cost: number | null
          ai_tokens_used: number | null
          anomaly_details: Json | null
          api_bandwidth_cost: number | null
          api_bandwidth_gb: number | null
          cdn_bandwidth_gb: number | null
          cdn_cost: number | null
          company_id: string
          compute_cost: number | null
          cost_anomaly_detected: boolean | null
          cost_month: string
          cost_per_user: number | null
          cost_trend_vs_last_month: number | null
          cost_vs_plan_percent: number | null
          created_at: string | null
          database_compute_cost: number | null
          database_compute_hours: number | null
          database_egress_cost: number | null
          database_egress_gb: number | null
          database_storage_cost: number | null
          database_storage_gb: number | null
          edge_function_cost: number | null
          edge_function_invocations: number | null
          email_cost: number | null
          email_sends: number | null
          file_bandwidth_cost: number | null
          file_bandwidth_gb: number | null
          file_operations: number | null
          file_operations_cost: number | null
          file_storage_cost: number | null
          file_storage_gb: number | null
          gross_margin_percent: number | null
          gross_profit: number | null
          id: string
          is_profitable: boolean | null
          maps_api_calls: number | null
          maps_cost: number | null
          needs_plan_upgrade: boolean | null
          payment_processing_cost: number | null
          payment_processing_volume: number | null
          phone_cost: number | null
          phone_minutes: number | null
          revenue_this_month: number | null
          serverless_cost: number | null
          serverless_invocations: number | null
          sms_cost: number | null
          sms_segments: number | null
          support_cost_allocated: number | null
          support_tickets: number | null
          total_cost: number | null
          total_infrastructure_cost: number | null
          total_support_cost: number | null
          total_third_party_cost: number | null
          updated_at: string | null
        }
        Insert: {
          ai_cost?: number | null
          ai_tokens_used?: number | null
          anomaly_details?: Json | null
          api_bandwidth_cost?: number | null
          api_bandwidth_gb?: number | null
          cdn_bandwidth_gb?: number | null
          cdn_cost?: number | null
          company_id: string
          compute_cost?: number | null
          cost_anomaly_detected?: boolean | null
          cost_month: string
          cost_per_user?: number | null
          cost_trend_vs_last_month?: number | null
          cost_vs_plan_percent?: number | null
          created_at?: string | null
          database_compute_cost?: number | null
          database_compute_hours?: number | null
          database_egress_cost?: number | null
          database_egress_gb?: number | null
          database_storage_cost?: number | null
          database_storage_gb?: number | null
          edge_function_cost?: number | null
          edge_function_invocations?: number | null
          email_cost?: number | null
          email_sends?: number | null
          file_bandwidth_cost?: number | null
          file_bandwidth_gb?: number | null
          file_operations?: number | null
          file_operations_cost?: number | null
          file_storage_cost?: number | null
          file_storage_gb?: number | null
          gross_margin_percent?: number | null
          gross_profit?: number | null
          id?: string
          is_profitable?: boolean | null
          maps_api_calls?: number | null
          maps_cost?: number | null
          needs_plan_upgrade?: boolean | null
          payment_processing_cost?: number | null
          payment_processing_volume?: number | null
          phone_cost?: number | null
          phone_minutes?: number | null
          revenue_this_month?: number | null
          serverless_cost?: number | null
          serverless_invocations?: number | null
          sms_cost?: number | null
          sms_segments?: number | null
          support_cost_allocated?: number | null
          support_tickets?: number | null
          total_cost?: number | null
          total_infrastructure_cost?: number | null
          total_support_cost?: number | null
          total_third_party_cost?: number | null
          updated_at?: string | null
        }
        Update: {
          ai_cost?: number | null
          ai_tokens_used?: number | null
          anomaly_details?: Json | null
          api_bandwidth_cost?: number | null
          api_bandwidth_gb?: number | null
          cdn_bandwidth_gb?: number | null
          cdn_cost?: number | null
          company_id?: string
          compute_cost?: number | null
          cost_anomaly_detected?: boolean | null
          cost_month?: string
          cost_per_user?: number | null
          cost_trend_vs_last_month?: number | null
          cost_vs_plan_percent?: number | null
          created_at?: string | null
          database_compute_cost?: number | null
          database_compute_hours?: number | null
          database_egress_cost?: number | null
          database_egress_gb?: number | null
          database_storage_cost?: number | null
          database_storage_gb?: number | null
          edge_function_cost?: number | null
          edge_function_invocations?: number | null
          email_cost?: number | null
          email_sends?: number | null
          file_bandwidth_cost?: number | null
          file_bandwidth_gb?: number | null
          file_operations?: number | null
          file_operations_cost?: number | null
          file_storage_cost?: number | null
          file_storage_gb?: number | null
          gross_margin_percent?: number | null
          gross_profit?: number | null
          id?: string
          is_profitable?: boolean | null
          maps_api_calls?: number | null
          maps_cost?: number | null
          needs_plan_upgrade?: boolean | null
          payment_processing_cost?: number | null
          payment_processing_volume?: number | null
          phone_cost?: number | null
          phone_minutes?: number | null
          revenue_this_month?: number | null
          serverless_cost?: number | null
          serverless_invocations?: number | null
          sms_cost?: number | null
          sms_segments?: number | null
          support_cost_allocated?: number | null
          support_tickets?: number | null
          total_cost?: number | null
          total_infrastructure_cost?: number | null
          total_support_cost?: number | null
          total_third_party_cost?: number | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "analytics_infrastructure_costs_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "analytics_infrastructure_costs_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      analytics_job_type_metrics: {
        Row: {
          avg_duration_minutes: number | null
          avg_estimate_value: number | null
          avg_jobs_per_tech: number | null
          avg_lead_time_days: number | null
          avg_profit_margin: number | null
          avg_rating: number | null
          avg_revenue_per_tech: number | null
          avg_ticket: number | null
          avg_time_to_decision_days: number | null
          callback_count: number | null
          callback_rate: number | null
          company_id: string
          cost_total: number | null
          created_at: string | null
          duration_p90_minutes: number | null
          estimate_conversion_rate: number | null
          estimates_approved: number | null
          estimates_created: number | null
          first_time_fix_count: number | null
          first_time_fix_rate: number | null
          five_star_count: number | null
          gross_profit: number | null
          id: string
          job_category: string | null
          job_type: string
          jobs_cancelled: number | null
          jobs_completed: number | null
          jobs_created: number | null
          jobs_in_progress: number | null
          jobs_scheduled: number | null
          labor_cost: number | null
          margin_change_percent: number | null
          materials_cost: number | null
          max_duration_minutes: number | null
          max_ticket: number | null
          median_duration_minutes: number | null
          median_profit_margin: number | null
          median_ticket: number | null
          min_duration_minutes: number | null
          min_ticket: number | null
          on_time_completion_rate: number | null
          one_star_count: number | null
          period_end: string
          period_start: string
          period_type: string
          reschedule_rate: number | null
          revenue_change_percent: number | null
          revenue_labor: number | null
          revenue_parts: number | null
          revenue_total: number | null
          rework_count: number | null
          total_labor_hours: number | null
          total_reviews: number | null
          unique_technicians: number | null
          updated_at: string | null
          volume_change_percent: number | null
          warranty_claims: number | null
        }
        Insert: {
          avg_duration_minutes?: number | null
          avg_estimate_value?: number | null
          avg_jobs_per_tech?: number | null
          avg_lead_time_days?: number | null
          avg_profit_margin?: number | null
          avg_rating?: number | null
          avg_revenue_per_tech?: number | null
          avg_ticket?: number | null
          avg_time_to_decision_days?: number | null
          callback_count?: number | null
          callback_rate?: number | null
          company_id: string
          cost_total?: number | null
          created_at?: string | null
          duration_p90_minutes?: number | null
          estimate_conversion_rate?: number | null
          estimates_approved?: number | null
          estimates_created?: number | null
          first_time_fix_count?: number | null
          first_time_fix_rate?: number | null
          five_star_count?: number | null
          gross_profit?: number | null
          id?: string
          job_category?: string | null
          job_type: string
          jobs_cancelled?: number | null
          jobs_completed?: number | null
          jobs_created?: number | null
          jobs_in_progress?: number | null
          jobs_scheduled?: number | null
          labor_cost?: number | null
          margin_change_percent?: number | null
          materials_cost?: number | null
          max_duration_minutes?: number | null
          max_ticket?: number | null
          median_duration_minutes?: number | null
          median_profit_margin?: number | null
          median_ticket?: number | null
          min_duration_minutes?: number | null
          min_ticket?: number | null
          on_time_completion_rate?: number | null
          one_star_count?: number | null
          period_end: string
          period_start: string
          period_type?: string
          reschedule_rate?: number | null
          revenue_change_percent?: number | null
          revenue_labor?: number | null
          revenue_parts?: number | null
          revenue_total?: number | null
          rework_count?: number | null
          total_labor_hours?: number | null
          total_reviews?: number | null
          unique_technicians?: number | null
          updated_at?: string | null
          volume_change_percent?: number | null
          warranty_claims?: number | null
        }
        Update: {
          avg_duration_minutes?: number | null
          avg_estimate_value?: number | null
          avg_jobs_per_tech?: number | null
          avg_lead_time_days?: number | null
          avg_profit_margin?: number | null
          avg_rating?: number | null
          avg_revenue_per_tech?: number | null
          avg_ticket?: number | null
          avg_time_to_decision_days?: number | null
          callback_count?: number | null
          callback_rate?: number | null
          company_id?: string
          cost_total?: number | null
          created_at?: string | null
          duration_p90_minutes?: number | null
          estimate_conversion_rate?: number | null
          estimates_approved?: number | null
          estimates_created?: number | null
          first_time_fix_count?: number | null
          first_time_fix_rate?: number | null
          five_star_count?: number | null
          gross_profit?: number | null
          id?: string
          job_category?: string | null
          job_type?: string
          jobs_cancelled?: number | null
          jobs_completed?: number | null
          jobs_created?: number | null
          jobs_in_progress?: number | null
          jobs_scheduled?: number | null
          labor_cost?: number | null
          margin_change_percent?: number | null
          materials_cost?: number | null
          max_duration_minutes?: number | null
          max_ticket?: number | null
          median_duration_minutes?: number | null
          median_profit_margin?: number | null
          median_ticket?: number | null
          min_duration_minutes?: number | null
          min_ticket?: number | null
          on_time_completion_rate?: number | null
          one_star_count?: number | null
          period_end?: string
          period_start?: string
          period_type?: string
          reschedule_rate?: number | null
          revenue_change_percent?: number | null
          revenue_labor?: number | null
          revenue_parts?: number | null
          revenue_total?: number | null
          rework_count?: number | null
          total_labor_hours?: number | null
          total_reviews?: number | null
          unique_technicians?: number | null
          updated_at?: string | null
          volume_change_percent?: number | null
          warranty_claims?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "analytics_job_type_metrics_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "analytics_job_type_metrics_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      analytics_lead_source_metrics: {
        Row: {
          avg_customer_ltv: number | null
          avg_customer_rating: number | null
          avg_first_job_value: number | null
          avg_jobs_per_customer: number | null
          avg_lead_score: number | null
          avg_response_time_minutes: number | null
          avg_time_to_converted_days: number | null
          avg_time_to_qualified_hours: number | null
          cac_change_percent: number | null
          channel_type: string | null
          company_id: string
          contract_attachment_rate: number | null
          contract_revenue: number | null
          contracts_sold: number | null
          conversion_change_percent: number | null
          cost_per_lead: number | null
          cost_per_qualified_lead: number | null
          created_at: string | null
          customer_acquisition_cost: number | null
          first_time_fix_rate: number | null
          id: string
          jobs_completed: number | null
          lead_source: string
          lead_source_detail: string | null
          lead_to_qualified_rate: number | null
          leads_change_percent: number | null
          leads_converted: number | null
          leads_created: number | null
          leads_disqualified: number | null
          leads_lost: number | null
          leads_qualified: number | null
          ltv_to_cac_ratio: number | null
          marketing_spend: number | null
          overall_conversion_rate: number | null
          payback_period_days: number | null
          period_end: string
          period_start: string
          period_type: string
          qualified_to_converted_rate: number | null
          referral_rate: number | null
          repeat_customer_rate: number | null
          revenue_attributed: number | null
          revenue_change_percent: number | null
          revenue_first_job: number | null
          revenue_lifetime: number | null
          roas: number | null
          roi_percent: number | null
          updated_at: string | null
        }
        Insert: {
          avg_customer_ltv?: number | null
          avg_customer_rating?: number | null
          avg_first_job_value?: number | null
          avg_jobs_per_customer?: number | null
          avg_lead_score?: number | null
          avg_response_time_minutes?: number | null
          avg_time_to_converted_days?: number | null
          avg_time_to_qualified_hours?: number | null
          cac_change_percent?: number | null
          channel_type?: string | null
          company_id: string
          contract_attachment_rate?: number | null
          contract_revenue?: number | null
          contracts_sold?: number | null
          conversion_change_percent?: number | null
          cost_per_lead?: number | null
          cost_per_qualified_lead?: number | null
          created_at?: string | null
          customer_acquisition_cost?: number | null
          first_time_fix_rate?: number | null
          id?: string
          jobs_completed?: number | null
          lead_source: string
          lead_source_detail?: string | null
          lead_to_qualified_rate?: number | null
          leads_change_percent?: number | null
          leads_converted?: number | null
          leads_created?: number | null
          leads_disqualified?: number | null
          leads_lost?: number | null
          leads_qualified?: number | null
          ltv_to_cac_ratio?: number | null
          marketing_spend?: number | null
          overall_conversion_rate?: number | null
          payback_period_days?: number | null
          period_end: string
          period_start: string
          period_type?: string
          qualified_to_converted_rate?: number | null
          referral_rate?: number | null
          repeat_customer_rate?: number | null
          revenue_attributed?: number | null
          revenue_change_percent?: number | null
          revenue_first_job?: number | null
          revenue_lifetime?: number | null
          roas?: number | null
          roi_percent?: number | null
          updated_at?: string | null
        }
        Update: {
          avg_customer_ltv?: number | null
          avg_customer_rating?: number | null
          avg_first_job_value?: number | null
          avg_jobs_per_customer?: number | null
          avg_lead_score?: number | null
          avg_response_time_minutes?: number | null
          avg_time_to_converted_days?: number | null
          avg_time_to_qualified_hours?: number | null
          cac_change_percent?: number | null
          channel_type?: string | null
          company_id?: string
          contract_attachment_rate?: number | null
          contract_revenue?: number | null
          contracts_sold?: number | null
          conversion_change_percent?: number | null
          cost_per_lead?: number | null
          cost_per_qualified_lead?: number | null
          created_at?: string | null
          customer_acquisition_cost?: number | null
          first_time_fix_rate?: number | null
          id?: string
          jobs_completed?: number | null
          lead_source?: string
          lead_source_detail?: string | null
          lead_to_qualified_rate?: number | null
          leads_change_percent?: number | null
          leads_converted?: number | null
          leads_created?: number | null
          leads_disqualified?: number | null
          leads_lost?: number | null
          leads_qualified?: number | null
          ltv_to_cac_ratio?: number | null
          marketing_spend?: number | null
          overall_conversion_rate?: number | null
          payback_period_days?: number | null
          period_end?: string
          period_start?: string
          period_type?: string
          qualified_to_converted_rate?: number | null
          referral_rate?: number | null
          repeat_customer_rate?: number | null
          revenue_attributed?: number | null
          revenue_change_percent?: number | null
          revenue_first_job?: number | null
          revenue_lifetime?: number | null
          roas?: number | null
          roi_percent?: number | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "analytics_lead_source_metrics_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "analytics_lead_source_metrics_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      analytics_marketing_attribution: {
        Row: {
          answered_calls: number | null
          average_ticket: number | null
          avg_customer_ltv: number | null
          booked_appointments: number | null
          booking_rate: number | null
          call_answer_rate: number | null
          campaign_id: string | null
          channel: string | null
          click_through_rate: number | null
          clicks: number | null
          close_rate: number | null
          company_id: string
          completed_jobs: number | null
          cost_per_acquisition: number | null
          cost_per_click: number | null
          cost_per_impression: number | null
          cost_per_lead: number | null
          created_at: string | null
          cumulative_spend: number | null
          customer_acquisition_cost: number | null
          daily_spend: number | null
          date: string
          id: string
          impressions: number | null
          lead_source: string | null
          lead_to_qualified_rate: number | null
          ltv_to_cac_ratio: number | null
          missed_calls: number | null
          new_customers: number | null
          qualified_leads: number | null
          repeat_customers: number | null
          return_on_ad_spend: number | null
          roi_percent: number | null
          total_calls: number | null
          total_leads: number | null
          total_profit: number | null
          total_revenue: number | null
          updated_at: string | null
        }
        Insert: {
          answered_calls?: number | null
          average_ticket?: number | null
          avg_customer_ltv?: number | null
          booked_appointments?: number | null
          booking_rate?: number | null
          call_answer_rate?: number | null
          campaign_id?: string | null
          channel?: string | null
          click_through_rate?: number | null
          clicks?: number | null
          close_rate?: number | null
          company_id: string
          completed_jobs?: number | null
          cost_per_acquisition?: number | null
          cost_per_click?: number | null
          cost_per_impression?: number | null
          cost_per_lead?: number | null
          created_at?: string | null
          cumulative_spend?: number | null
          customer_acquisition_cost?: number | null
          daily_spend?: number | null
          date: string
          id?: string
          impressions?: number | null
          lead_source?: string | null
          lead_to_qualified_rate?: number | null
          ltv_to_cac_ratio?: number | null
          missed_calls?: number | null
          new_customers?: number | null
          qualified_leads?: number | null
          repeat_customers?: number | null
          return_on_ad_spend?: number | null
          roi_percent?: number | null
          total_calls?: number | null
          total_leads?: number | null
          total_profit?: number | null
          total_revenue?: number | null
          updated_at?: string | null
        }
        Update: {
          answered_calls?: number | null
          average_ticket?: number | null
          avg_customer_ltv?: number | null
          booked_appointments?: number | null
          booking_rate?: number | null
          call_answer_rate?: number | null
          campaign_id?: string | null
          channel?: string | null
          click_through_rate?: number | null
          clicks?: number | null
          close_rate?: number | null
          company_id?: string
          completed_jobs?: number | null
          cost_per_acquisition?: number | null
          cost_per_click?: number | null
          cost_per_impression?: number | null
          cost_per_lead?: number | null
          created_at?: string | null
          cumulative_spend?: number | null
          customer_acquisition_cost?: number | null
          daily_spend?: number | null
          date?: string
          id?: string
          impressions?: number | null
          lead_source?: string | null
          lead_to_qualified_rate?: number | null
          ltv_to_cac_ratio?: number | null
          missed_calls?: number | null
          new_customers?: number | null
          qualified_leads?: number | null
          repeat_customers?: number | null
          return_on_ad_spend?: number | null
          roi_percent?: number | null
          total_calls?: number | null
          total_leads?: number | null
          total_profit?: number | null
          total_revenue?: number | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "analytics_marketing_attribution_campaign_id_fkey"
            columns: ["campaign_id"]
            isOneToOne: false
            referencedRelation: "marketing_campaigns"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "analytics_marketing_attribution_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "analytics_marketing_attribution_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      analytics_platform_daily: {
        Row: {
          active_companies: number
          active_users_30d: number
          active_users_7d: number
          active_users_today: number
          api_avg_response_time_ms: number | null
          api_calls_month: number
          api_calls_today: number
          api_calls_week: number
          api_error_rate_today: number | null
          arpc: number
          arpu: number
          arr_total: number
          average_payment_amount: number
          average_session_duration_minutes: number | null
          average_trial_duration_days: number | null
          average_users_per_company: number | null
          calculated_at: string
          calculation_duration_ms: number | null
          churned_companies: number
          churned_month: number
          churned_today: number
          churned_week: number
          companies_enterprise_tier: number
          companies_free_tier: number
          companies_pro_tier: number
          companies_starter_tier: number
          created_at: string
          emails_sent_month: number
          emails_sent_today: number
          feature_adoption_score: number | null
          id: string
          logins_today: number
          metric_date: string
          metric_month: number | null
          metric_year: number | null
          mrr_api_calls: number
          mrr_base_plans: number
          mrr_communications: number
          mrr_other: number
          mrr_storage: number
          mrr_team_members: number
          mrr_total: number
          net_company_change_today: number
          new_signups_month: number
          new_signups_today: number
          new_signups_week: number
          new_users_today: number
          notes: string | null
          past_due_companies: number
          paused_companies: number
          payment_count_today: number
          payment_volume_all_time: number
          payment_volume_month: number
          payment_volume_today: number
          payment_volume_week: number
          phone_minutes_month: number
          phone_minutes_today: number
          platform_fees_month: number
          platform_fees_today: number
          revenue_collected_month: number
          revenue_collected_today: number
          revenue_collected_week: number
          sms_sent_month: number
          sms_sent_today: number
          storage_used_today_mb: number
          storage_used_total_gb: number
          total_companies: number
          total_customers_all_time: number
          total_customers_created_today: number
          total_estimates_created_today: number
          total_invoices_all_time: number
          total_invoices_created_today: number
          total_jobs_all_time: number
          total_jobs_created_today: number
          total_payments_processed_today: number
          total_users: number
          trial_conversion_rate_30d: number | null
          trialing_companies: number
          trials_converted_today: number
          trials_expired_today: number
          trials_started_today: number
          updated_at: string
        }
        Insert: {
          active_companies?: number
          active_users_30d?: number
          active_users_7d?: number
          active_users_today?: number
          api_avg_response_time_ms?: number | null
          api_calls_month?: number
          api_calls_today?: number
          api_calls_week?: number
          api_error_rate_today?: number | null
          arpc?: number
          arpu?: number
          arr_total?: number
          average_payment_amount?: number
          average_session_duration_minutes?: number | null
          average_trial_duration_days?: number | null
          average_users_per_company?: number | null
          calculated_at?: string
          calculation_duration_ms?: number | null
          churned_companies?: number
          churned_month?: number
          churned_today?: number
          churned_week?: number
          companies_enterprise_tier?: number
          companies_free_tier?: number
          companies_pro_tier?: number
          companies_starter_tier?: number
          created_at?: string
          emails_sent_month?: number
          emails_sent_today?: number
          feature_adoption_score?: number | null
          id?: string
          logins_today?: number
          metric_date: string
          metric_month?: number | null
          metric_year?: number | null
          mrr_api_calls?: number
          mrr_base_plans?: number
          mrr_communications?: number
          mrr_other?: number
          mrr_storage?: number
          mrr_team_members?: number
          mrr_total?: number
          net_company_change_today?: number
          new_signups_month?: number
          new_signups_today?: number
          new_signups_week?: number
          new_users_today?: number
          notes?: string | null
          past_due_companies?: number
          paused_companies?: number
          payment_count_today?: number
          payment_volume_all_time?: number
          payment_volume_month?: number
          payment_volume_today?: number
          payment_volume_week?: number
          phone_minutes_month?: number
          phone_minutes_today?: number
          platform_fees_month?: number
          platform_fees_today?: number
          revenue_collected_month?: number
          revenue_collected_today?: number
          revenue_collected_week?: number
          sms_sent_month?: number
          sms_sent_today?: number
          storage_used_today_mb?: number
          storage_used_total_gb?: number
          total_companies?: number
          total_customers_all_time?: number
          total_customers_created_today?: number
          total_estimates_created_today?: number
          total_invoices_all_time?: number
          total_invoices_created_today?: number
          total_jobs_all_time?: number
          total_jobs_created_today?: number
          total_payments_processed_today?: number
          total_users?: number
          trial_conversion_rate_30d?: number | null
          trialing_companies?: number
          trials_converted_today?: number
          trials_expired_today?: number
          trials_started_today?: number
          updated_at?: string
        }
        Update: {
          active_companies?: number
          active_users_30d?: number
          active_users_7d?: number
          active_users_today?: number
          api_avg_response_time_ms?: number | null
          api_calls_month?: number
          api_calls_today?: number
          api_calls_week?: number
          api_error_rate_today?: number | null
          arpc?: number
          arpu?: number
          arr_total?: number
          average_payment_amount?: number
          average_session_duration_minutes?: number | null
          average_trial_duration_days?: number | null
          average_users_per_company?: number | null
          calculated_at?: string
          calculation_duration_ms?: number | null
          churned_companies?: number
          churned_month?: number
          churned_today?: number
          churned_week?: number
          companies_enterprise_tier?: number
          companies_free_tier?: number
          companies_pro_tier?: number
          companies_starter_tier?: number
          created_at?: string
          emails_sent_month?: number
          emails_sent_today?: number
          feature_adoption_score?: number | null
          id?: string
          logins_today?: number
          metric_date?: string
          metric_month?: number | null
          metric_year?: number | null
          mrr_api_calls?: number
          mrr_base_plans?: number
          mrr_communications?: number
          mrr_other?: number
          mrr_storage?: number
          mrr_team_members?: number
          mrr_total?: number
          net_company_change_today?: number
          new_signups_month?: number
          new_signups_today?: number
          new_signups_week?: number
          new_users_today?: number
          notes?: string | null
          past_due_companies?: number
          paused_companies?: number
          payment_count_today?: number
          payment_volume_all_time?: number
          payment_volume_month?: number
          payment_volume_today?: number
          payment_volume_week?: number
          phone_minutes_month?: number
          phone_minutes_today?: number
          platform_fees_month?: number
          platform_fees_today?: number
          revenue_collected_month?: number
          revenue_collected_today?: number
          revenue_collected_week?: number
          sms_sent_month?: number
          sms_sent_today?: number
          storage_used_today_mb?: number
          storage_used_total_gb?: number
          total_companies?: number
          total_customers_all_time?: number
          total_customers_created_today?: number
          total_estimates_created_today?: number
          total_invoices_all_time?: number
          total_invoices_created_today?: number
          total_jobs_all_time?: number
          total_jobs_created_today?: number
          total_payments_processed_today?: number
          total_users?: number
          trial_conversion_rate_30d?: number | null
          trialing_companies?: number
          trials_converted_today?: number
          trials_expired_today?: number
          trials_started_today?: number
          updated_at?: string
        }
        Relationships: []
      }
      analytics_platform_revenue: {
        Row: {
          arpc: number
          arppu: number
          arpu: number
          arr_growth_rate: number | null
          arr_previous_year: number
          arr_total: number
          avg_payment_amount: number
          cac_average: number
          cac_payback_months: number | null
          calculated_at: string
          calculation_duration_ms: number | null
          chargeback_rate: number | null
          chargebacks_amount_mtd: number
          chargebacks_amount_today: number
          chargebacks_mtd: number
          chargebacks_today: number
          churn_rate_annual: number | null
          churn_rate_monthly: number | null
          cogs_mtd: number
          cogs_today: number
          cohort_retention_data: Json | null
          collection_rate: number | null
          created_at: string
          customer_lifetime_months: number | null
          customers_churned_mtd: number
          customers_churned_today: number
          data_quality_score: number | null
          days_sales_outstanding: number | null
          failed_payment_amount_mtd: number
          failed_payment_amount_today: number
          failed_payments_mtd: number
          failed_payments_today: number
          gross_margin_percent: number | null
          gross_profit_mtd: number
          gross_profit_today: number
          gross_revenue_churn_rate: number | null
          id: string
          infrastructure_cost_mtd: number
          infrastructure_cost_today: number
          invoices_generated_mtd: number
          invoices_generated_today: number
          invoices_overdue_amount: number
          invoices_overdue_count: number
          invoices_paid_mtd: number
          invoices_paid_today: number
          ltv_average: number
          ltv_by_tier: Json | null
          ltv_cac_ratio: number | null
          metric_date: string
          metric_month: number | null
          metric_year: number | null
          mrr_change: number
          mrr_change_percent: number | null
          mrr_churn: number
          mrr_contraction: number
          mrr_enterprise_tier: number
          mrr_expansion: number
          mrr_free_tier: number
          mrr_new: number
          mrr_one_time: number
          mrr_previous_month: number
          mrr_pro_tier: number
          mrr_reactivation: number
          mrr_starter_tier: number
          mrr_subscriptions: number
          mrr_total: number
          mrr_usage_based: number
          net_margin_percent: number | null
          net_mrr_change: number
          net_profit_mtd: number
          net_revenue_churn_rate: number | null
          new_paying_customers_mtd: number
          new_paying_customers_today: number
          new_trials_mtd: number
          new_trials_today: number
          notes: string | null
          payment_count_mtd: number
          payment_count_today: number
          payment_volume_mtd: number
          payment_volume_today: number
          payment_volume_ytd: number
          platform_fee_rate: number | null
          platform_fees_mtd: number
          platform_fees_today: number
          platform_fees_ytd: number
          projected_arr_eoy: number | null
          projected_mrr_next_month: number | null
          projected_revenue_mtd: number | null
          refunds_amount_mtd: number
          refunds_amount_today: number
          refunds_mtd: number
          refunds_today: number
          revenue_by_cohort: Json | null
          revenue_churned_mtd: number
          revenue_churned_today: number
          revenue_last_30d: number
          revenue_last_90d: number
          revenue_mtd: number
          revenue_other: number
          revenue_payment_processing_fees: number
          revenue_professional_services: number
          revenue_setup_fees: number
          revenue_subscriptions: number
          revenue_today: number
          revenue_usage_overages: number
          revenue_ytd: number
          third_party_costs_mtd: number
          third_party_costs_today: number
          total_paying_customers: number
          trial_conversion_rate: number | null
          updated_at: string
        }
        Insert: {
          arpc?: number
          arppu?: number
          arpu?: number
          arr_growth_rate?: number | null
          arr_previous_year?: number
          arr_total?: number
          avg_payment_amount?: number
          cac_average?: number
          cac_payback_months?: number | null
          calculated_at?: string
          calculation_duration_ms?: number | null
          chargeback_rate?: number | null
          chargebacks_amount_mtd?: number
          chargebacks_amount_today?: number
          chargebacks_mtd?: number
          chargebacks_today?: number
          churn_rate_annual?: number | null
          churn_rate_monthly?: number | null
          cogs_mtd?: number
          cogs_today?: number
          cohort_retention_data?: Json | null
          collection_rate?: number | null
          created_at?: string
          customer_lifetime_months?: number | null
          customers_churned_mtd?: number
          customers_churned_today?: number
          data_quality_score?: number | null
          days_sales_outstanding?: number | null
          failed_payment_amount_mtd?: number
          failed_payment_amount_today?: number
          failed_payments_mtd?: number
          failed_payments_today?: number
          gross_margin_percent?: number | null
          gross_profit_mtd?: number
          gross_profit_today?: number
          gross_revenue_churn_rate?: number | null
          id?: string
          infrastructure_cost_mtd?: number
          infrastructure_cost_today?: number
          invoices_generated_mtd?: number
          invoices_generated_today?: number
          invoices_overdue_amount?: number
          invoices_overdue_count?: number
          invoices_paid_mtd?: number
          invoices_paid_today?: number
          ltv_average?: number
          ltv_by_tier?: Json | null
          ltv_cac_ratio?: number | null
          metric_date: string
          metric_month?: number | null
          metric_year?: number | null
          mrr_change?: number
          mrr_change_percent?: number | null
          mrr_churn?: number
          mrr_contraction?: number
          mrr_enterprise_tier?: number
          mrr_expansion?: number
          mrr_free_tier?: number
          mrr_new?: number
          mrr_one_time?: number
          mrr_previous_month?: number
          mrr_pro_tier?: number
          mrr_reactivation?: number
          mrr_starter_tier?: number
          mrr_subscriptions?: number
          mrr_total?: number
          mrr_usage_based?: number
          net_margin_percent?: number | null
          net_mrr_change?: number
          net_profit_mtd?: number
          net_revenue_churn_rate?: number | null
          new_paying_customers_mtd?: number
          new_paying_customers_today?: number
          new_trials_mtd?: number
          new_trials_today?: number
          notes?: string | null
          payment_count_mtd?: number
          payment_count_today?: number
          payment_volume_mtd?: number
          payment_volume_today?: number
          payment_volume_ytd?: number
          platform_fee_rate?: number | null
          platform_fees_mtd?: number
          platform_fees_today?: number
          platform_fees_ytd?: number
          projected_arr_eoy?: number | null
          projected_mrr_next_month?: number | null
          projected_revenue_mtd?: number | null
          refunds_amount_mtd?: number
          refunds_amount_today?: number
          refunds_mtd?: number
          refunds_today?: number
          revenue_by_cohort?: Json | null
          revenue_churned_mtd?: number
          revenue_churned_today?: number
          revenue_last_30d?: number
          revenue_last_90d?: number
          revenue_mtd?: number
          revenue_other?: number
          revenue_payment_processing_fees?: number
          revenue_professional_services?: number
          revenue_setup_fees?: number
          revenue_subscriptions?: number
          revenue_today?: number
          revenue_usage_overages?: number
          revenue_ytd?: number
          third_party_costs_mtd?: number
          third_party_costs_today?: number
          total_paying_customers?: number
          trial_conversion_rate?: number | null
          updated_at?: string
        }
        Update: {
          arpc?: number
          arppu?: number
          arpu?: number
          arr_growth_rate?: number | null
          arr_previous_year?: number
          arr_total?: number
          avg_payment_amount?: number
          cac_average?: number
          cac_payback_months?: number | null
          calculated_at?: string
          calculation_duration_ms?: number | null
          chargeback_rate?: number | null
          chargebacks_amount_mtd?: number
          chargebacks_amount_today?: number
          chargebacks_mtd?: number
          chargebacks_today?: number
          churn_rate_annual?: number | null
          churn_rate_monthly?: number | null
          cogs_mtd?: number
          cogs_today?: number
          cohort_retention_data?: Json | null
          collection_rate?: number | null
          created_at?: string
          customer_lifetime_months?: number | null
          customers_churned_mtd?: number
          customers_churned_today?: number
          data_quality_score?: number | null
          days_sales_outstanding?: number | null
          failed_payment_amount_mtd?: number
          failed_payment_amount_today?: number
          failed_payments_mtd?: number
          failed_payments_today?: number
          gross_margin_percent?: number | null
          gross_profit_mtd?: number
          gross_profit_today?: number
          gross_revenue_churn_rate?: number | null
          id?: string
          infrastructure_cost_mtd?: number
          infrastructure_cost_today?: number
          invoices_generated_mtd?: number
          invoices_generated_today?: number
          invoices_overdue_amount?: number
          invoices_overdue_count?: number
          invoices_paid_mtd?: number
          invoices_paid_today?: number
          ltv_average?: number
          ltv_by_tier?: Json | null
          ltv_cac_ratio?: number | null
          metric_date?: string
          metric_month?: number | null
          metric_year?: number | null
          mrr_change?: number
          mrr_change_percent?: number | null
          mrr_churn?: number
          mrr_contraction?: number
          mrr_enterprise_tier?: number
          mrr_expansion?: number
          mrr_free_tier?: number
          mrr_new?: number
          mrr_one_time?: number
          mrr_previous_month?: number
          mrr_pro_tier?: number
          mrr_reactivation?: number
          mrr_starter_tier?: number
          mrr_subscriptions?: number
          mrr_total?: number
          mrr_usage_based?: number
          net_margin_percent?: number | null
          net_mrr_change?: number
          net_profit_mtd?: number
          net_revenue_churn_rate?: number | null
          new_paying_customers_mtd?: number
          new_paying_customers_today?: number
          new_trials_mtd?: number
          new_trials_today?: number
          notes?: string | null
          payment_count_mtd?: number
          payment_count_today?: number
          payment_volume_mtd?: number
          payment_volume_today?: number
          payment_volume_ytd?: number
          platform_fee_rate?: number | null
          platform_fees_mtd?: number
          platform_fees_today?: number
          platform_fees_ytd?: number
          projected_arr_eoy?: number | null
          projected_mrr_next_month?: number | null
          projected_revenue_mtd?: number | null
          refunds_amount_mtd?: number
          refunds_amount_today?: number
          refunds_mtd?: number
          refunds_today?: number
          revenue_by_cohort?: Json | null
          revenue_churned_mtd?: number
          revenue_churned_today?: number
          revenue_last_30d?: number
          revenue_last_90d?: number
          revenue_mtd?: number
          revenue_other?: number
          revenue_payment_processing_fees?: number
          revenue_professional_services?: number
          revenue_setup_fees?: number
          revenue_subscriptions?: number
          revenue_today?: number
          revenue_usage_overages?: number
          revenue_ytd?: number
          third_party_costs_mtd?: number
          third_party_costs_today?: number
          total_paying_customers?: number
          trial_conversion_rate?: number | null
          updated_at?: string
        }
        Relationships: []
      }
      analytics_pricebook_performance: {
        Row: {
          avg_days_to_restock: number | null
          avg_sold_price: number | null
          bundle_rate: number | null
          company_id: string
          created_at: string | null
          demand_score: number | null
          discount_rate: number | null
          effective_hourly_rate: number | null
          gross_margin_percent: number | null
          id: string
          inventory_turns: number | null
          item_category: string | null
          item_name: string | null
          item_type: string | null
          labor_efficiency_rate: number | null
          labor_hours_actual: number | null
          labor_hours_sold: number | null
          list_price: number | null
          margin_alert: boolean | null
          margin_trend: string | null
          margin_vs_target: number | null
          markup_percent: number | null
          markup_vs_target: number | null
          max_sold_price: number | null
          min_sold_price: number | null
          period_end: string
          period_start: string
          price_book_item_id: string | null
          price_recommendation: string | null
          price_variance_percent: number | null
          recommended_price: number | null
          sales_trend: string | null
          stock_out_count: number | null
          target_margin_percent: number | null
          target_markup_percent: number | null
          times_sold: number | null
          total_cost: number | null
          total_profit: number | null
          total_quantity_sold: number | null
          total_revenue: number | null
          unique_customers: number | null
          unique_jobs_used: number | null
          unit_cost: number | null
          updated_at: string | null
          upsell_rate: number | null
          win_rate_when_included: number | null
        }
        Insert: {
          avg_days_to_restock?: number | null
          avg_sold_price?: number | null
          bundle_rate?: number | null
          company_id: string
          created_at?: string | null
          demand_score?: number | null
          discount_rate?: number | null
          effective_hourly_rate?: number | null
          gross_margin_percent?: number | null
          id?: string
          inventory_turns?: number | null
          item_category?: string | null
          item_name?: string | null
          item_type?: string | null
          labor_efficiency_rate?: number | null
          labor_hours_actual?: number | null
          labor_hours_sold?: number | null
          list_price?: number | null
          margin_alert?: boolean | null
          margin_trend?: string | null
          margin_vs_target?: number | null
          markup_percent?: number | null
          markup_vs_target?: number | null
          max_sold_price?: number | null
          min_sold_price?: number | null
          period_end: string
          period_start: string
          price_book_item_id?: string | null
          price_recommendation?: string | null
          price_variance_percent?: number | null
          recommended_price?: number | null
          sales_trend?: string | null
          stock_out_count?: number | null
          target_margin_percent?: number | null
          target_markup_percent?: number | null
          times_sold?: number | null
          total_cost?: number | null
          total_profit?: number | null
          total_quantity_sold?: number | null
          total_revenue?: number | null
          unique_customers?: number | null
          unique_jobs_used?: number | null
          unit_cost?: number | null
          updated_at?: string | null
          upsell_rate?: number | null
          win_rate_when_included?: number | null
        }
        Update: {
          avg_days_to_restock?: number | null
          avg_sold_price?: number | null
          bundle_rate?: number | null
          company_id?: string
          created_at?: string | null
          demand_score?: number | null
          discount_rate?: number | null
          effective_hourly_rate?: number | null
          gross_margin_percent?: number | null
          id?: string
          inventory_turns?: number | null
          item_category?: string | null
          item_name?: string | null
          item_type?: string | null
          labor_efficiency_rate?: number | null
          labor_hours_actual?: number | null
          labor_hours_sold?: number | null
          list_price?: number | null
          margin_alert?: boolean | null
          margin_trend?: string | null
          margin_vs_target?: number | null
          markup_percent?: number | null
          markup_vs_target?: number | null
          max_sold_price?: number | null
          min_sold_price?: number | null
          period_end?: string
          period_start?: string
          price_book_item_id?: string | null
          price_recommendation?: string | null
          price_variance_percent?: number | null
          recommended_price?: number | null
          sales_trend?: string | null
          stock_out_count?: number | null
          target_margin_percent?: number | null
          target_markup_percent?: number | null
          times_sold?: number | null
          total_cost?: number | null
          total_profit?: number | null
          total_quantity_sold?: number | null
          total_revenue?: number | null
          unique_customers?: number | null
          unique_jobs_used?: number | null
          unit_cost?: number | null
          updated_at?: string | null
          upsell_rate?: number | null
          win_rate_when_included?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "analytics_pricebook_performance_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "analytics_pricebook_performance_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "analytics_pricebook_performance_price_book_item_id_fkey"
            columns: ["price_book_item_id"]
            isOneToOne: false
            referencedRelation: "price_book_items"
            referencedColumns: ["id"]
          },
        ]
      }
      analytics_seasonal_factors: {
        Row: {
          avg_bookings: number | null
          avg_calls: number | null
          avg_jobs: number | null
          avg_revenue: number | null
          booking_lead_time_avg_days: number | null
          call_to_booking_rate: number | null
          cancellation_rate: number | null
          commercial_demand_factor: number | null
          company_id: string
          competitor_pricing_factor: number | null
          confidence_level: number | null
          created_at: string | null
          data_end_date: string | null
          data_start_date: string | null
          day_of_week: number | null
          demand_factor: number | null
          emergency_demand_factor: number | null
          estimate_conversion_rate: number | null
          hour_of_day: number | null
          id: string
          job_category: string | null
          job_type: string | null
          jobs_std_dev: number | null
          last_calculated_at: string | null
          max_jobs_observed: number | null
          min_jobs_observed: number | null
          month_of_year: number | null
          no_show_rate: number | null
          overtime_likelihood: number | null
          pricing_factor: number | null
          recommended_techs: number | null
          residential_demand_factor: number | null
          revenue_std_dev: number | null
          same_day_booking_rate: number | null
          sample_size: number | null
          staffing_factor: number | null
          temperature_correlation: number | null
          trend_direction: string | null
          updated_at: string | null
          weather_impact_factor: number | null
          week_of_year: number | null
          yoy_growth_rate: number | null
        }
        Insert: {
          avg_bookings?: number | null
          avg_calls?: number | null
          avg_jobs?: number | null
          avg_revenue?: number | null
          booking_lead_time_avg_days?: number | null
          call_to_booking_rate?: number | null
          cancellation_rate?: number | null
          commercial_demand_factor?: number | null
          company_id: string
          competitor_pricing_factor?: number | null
          confidence_level?: number | null
          created_at?: string | null
          data_end_date?: string | null
          data_start_date?: string | null
          day_of_week?: number | null
          demand_factor?: number | null
          emergency_demand_factor?: number | null
          estimate_conversion_rate?: number | null
          hour_of_day?: number | null
          id?: string
          job_category?: string | null
          job_type?: string | null
          jobs_std_dev?: number | null
          last_calculated_at?: string | null
          max_jobs_observed?: number | null
          min_jobs_observed?: number | null
          month_of_year?: number | null
          no_show_rate?: number | null
          overtime_likelihood?: number | null
          pricing_factor?: number | null
          recommended_techs?: number | null
          residential_demand_factor?: number | null
          revenue_std_dev?: number | null
          same_day_booking_rate?: number | null
          sample_size?: number | null
          staffing_factor?: number | null
          temperature_correlation?: number | null
          trend_direction?: string | null
          updated_at?: string | null
          weather_impact_factor?: number | null
          week_of_year?: number | null
          yoy_growth_rate?: number | null
        }
        Update: {
          avg_bookings?: number | null
          avg_calls?: number | null
          avg_jobs?: number | null
          avg_revenue?: number | null
          booking_lead_time_avg_days?: number | null
          call_to_booking_rate?: number | null
          cancellation_rate?: number | null
          commercial_demand_factor?: number | null
          company_id?: string
          competitor_pricing_factor?: number | null
          confidence_level?: number | null
          created_at?: string | null
          data_end_date?: string | null
          data_start_date?: string | null
          day_of_week?: number | null
          demand_factor?: number | null
          emergency_demand_factor?: number | null
          estimate_conversion_rate?: number | null
          hour_of_day?: number | null
          id?: string
          job_category?: string | null
          job_type?: string | null
          jobs_std_dev?: number | null
          last_calculated_at?: string | null
          max_jobs_observed?: number | null
          min_jobs_observed?: number | null
          month_of_year?: number | null
          no_show_rate?: number | null
          overtime_likelihood?: number | null
          pricing_factor?: number | null
          recommended_techs?: number | null
          residential_demand_factor?: number | null
          revenue_std_dev?: number | null
          same_day_booking_rate?: number | null
          sample_size?: number | null
          staffing_factor?: number | null
          temperature_correlation?: number | null
          trend_direction?: string | null
          updated_at?: string | null
          weather_impact_factor?: number | null
          week_of_year?: number | null
          yoy_growth_rate?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "analytics_seasonal_factors_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "analytics_seasonal_factors_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      analytics_support_metrics: {
        Row: {
          avg_first_response_time: number | null
          avg_handle_time_minutes: number | null
          avg_replies_per_ticket: number | null
          avg_resolution_time: number | null
          chatbot_interactions: number | null
          chatbot_resolved: number | null
          company_id: string
          created_at: string | null
          csat_responses: number | null
          csat_score_avg: number | null
          health_impact_score: number | null
          id: string
          kb_article_views: number | null
          kb_helpful_votes: number | null
          kb_not_helpful_votes: number | null
          max_response_time: number | null
          median_first_response_time: number | null
          median_resolution_time: number | null
          metric_date: string
          nps_responses: number | null
          nps_score: number | null
          sla_at_risk: number | null
          sla_breaches: number | null
          support_cost_estimated: number | null
          tickets_billing: number | null
          tickets_bug_report: number | null
          tickets_critical_priority: number | null
          tickets_escalated: number | null
          tickets_feature_request: number | null
          tickets_general: number | null
          tickets_high_priority: number | null
          tickets_low_priority: number | null
          tickets_medium_priority: number | null
          tickets_onboarding: number | null
          tickets_opened: number | null
          tickets_pending: number | null
          tickets_reopened: number | null
          tickets_resolved: number | null
          tickets_technical: number | null
          total_handle_time_minutes: number | null
          total_replies: number | null
          unique_agents_helped: number | null
          updated_at: string | null
          within_sla_percent: number | null
        }
        Insert: {
          avg_first_response_time?: number | null
          avg_handle_time_minutes?: number | null
          avg_replies_per_ticket?: number | null
          avg_resolution_time?: number | null
          chatbot_interactions?: number | null
          chatbot_resolved?: number | null
          company_id: string
          created_at?: string | null
          csat_responses?: number | null
          csat_score_avg?: number | null
          health_impact_score?: number | null
          id?: string
          kb_article_views?: number | null
          kb_helpful_votes?: number | null
          kb_not_helpful_votes?: number | null
          max_response_time?: number | null
          median_first_response_time?: number | null
          median_resolution_time?: number | null
          metric_date: string
          nps_responses?: number | null
          nps_score?: number | null
          sla_at_risk?: number | null
          sla_breaches?: number | null
          support_cost_estimated?: number | null
          tickets_billing?: number | null
          tickets_bug_report?: number | null
          tickets_critical_priority?: number | null
          tickets_escalated?: number | null
          tickets_feature_request?: number | null
          tickets_general?: number | null
          tickets_high_priority?: number | null
          tickets_low_priority?: number | null
          tickets_medium_priority?: number | null
          tickets_onboarding?: number | null
          tickets_opened?: number | null
          tickets_pending?: number | null
          tickets_reopened?: number | null
          tickets_resolved?: number | null
          tickets_technical?: number | null
          total_handle_time_minutes?: number | null
          total_replies?: number | null
          unique_agents_helped?: number | null
          updated_at?: string | null
          within_sla_percent?: number | null
        }
        Update: {
          avg_first_response_time?: number | null
          avg_handle_time_minutes?: number | null
          avg_replies_per_ticket?: number | null
          avg_resolution_time?: number | null
          chatbot_interactions?: number | null
          chatbot_resolved?: number | null
          company_id?: string
          created_at?: string | null
          csat_responses?: number | null
          csat_score_avg?: number | null
          health_impact_score?: number | null
          id?: string
          kb_article_views?: number | null
          kb_helpful_votes?: number | null
          kb_not_helpful_votes?: number | null
          max_response_time?: number | null
          median_first_response_time?: number | null
          median_resolution_time?: number | null
          metric_date?: string
          nps_responses?: number | null
          nps_score?: number | null
          sla_at_risk?: number | null
          sla_breaches?: number | null
          support_cost_estimated?: number | null
          tickets_billing?: number | null
          tickets_bug_report?: number | null
          tickets_critical_priority?: number | null
          tickets_escalated?: number | null
          tickets_feature_request?: number | null
          tickets_general?: number | null
          tickets_high_priority?: number | null
          tickets_low_priority?: number | null
          tickets_medium_priority?: number | null
          tickets_onboarding?: number | null
          tickets_opened?: number | null
          tickets_pending?: number | null
          tickets_reopened?: number | null
          tickets_resolved?: number | null
          tickets_technical?: number | null
          total_handle_time_minutes?: number | null
          total_replies?: number | null
          unique_agents_helped?: number | null
          updated_at?: string | null
          within_sla_percent?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "analytics_support_metrics_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "analytics_support_metrics_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      analytics_technician_metrics: {
        Row: {
          average_job_duration_minutes: number | null
          average_minutes_late: number | null
          average_rating: number | null
          average_ticket: number | null
          average_travel_time_minutes: number | null
          avg_job_duration_minutes: number | null
          avg_job_profit: number | null
          avg_job_value: number | null
          billable_hours: number | null
          billable_ratio: number | null
          callback_count: number | null
          callback_rate: number | null
          callbacks: number | null
          certifications_current: boolean | null
          certifications_held: number | null
          company_id: string
          compliance_violations: number | null
          created_at: string | null
          customer_complaints: number | null
          customer_compliments: number | null
          customer_follow_ups: number | null
          drive_time_cost: number | null
          drive_time_minutes: number | null
          efficiency_rank: number | null
          efficiency_score: number | null
          emergency_jobs: number | null
          emergency_revenue: number | null
          estimate_conversion_rate: number | null
          estimate_value_total: number | null
          estimates_approved: number | null
          estimates_created: number | null
          first_time_fix_count: number | null
          first_time_fix_rate: number | null
          five_star_reviews: number | null
          gross_profit: number | null
          id: string
          jobs_assigned: number | null
          jobs_cancelled: number | null
          jobs_completed: number | null
          jobs_rescheduled: number | null
          late_arrival_count: number | null
          negative_reviews: number | null
          non_billable_hours: number | null
          nps_score: number | null
          on_time_arrival_count: number | null
          on_time_rate: number | null
          overall_performance_score: number | null
          overtime_hours: number | null
          parts_margin: number | null
          parts_sold_value: number | null
          period_end: string
          period_start: string
          period_type: string
          profit_margin: number | null
          profit_margin_percent: number | null
          quality_score: number | null
          rank_in_company: number | null
          rating_rank: number | null
          response_time_average_minutes: number | null
          revenue_per_hour: number | null
          revenue_rank: number | null
          safety_incidents: number | null
          same_day_completions: number | null
          same_day_rate: number | null
          service_agreements_sold: number | null
          service_agreements_value: number | null
          skill_level: string | null
          total_billable_hours: number | null
          total_communications: number | null
          total_hours_worked: number | null
          total_labor_cost: number | null
          total_non_billable_hours: number | null
          total_parts_cost: number | null
          total_parts_sold: number | null
          total_revenue: number | null
          total_reviews: number | null
          total_travel_time_minutes: number | null
          training_hours: number | null
          updated_at: string | null
          upsell_count: number | null
          upsell_revenue: number | null
          user_id: string
          utilization_rate: number | null
          warranty_claims: number | null
          warranty_cost: number | null
        }
        Insert: {
          average_job_duration_minutes?: number | null
          average_minutes_late?: number | null
          average_rating?: number | null
          average_ticket?: number | null
          average_travel_time_minutes?: number | null
          avg_job_duration_minutes?: number | null
          avg_job_profit?: number | null
          avg_job_value?: number | null
          billable_hours?: number | null
          billable_ratio?: number | null
          callback_count?: number | null
          callback_rate?: number | null
          callbacks?: number | null
          certifications_current?: boolean | null
          certifications_held?: number | null
          company_id: string
          compliance_violations?: number | null
          created_at?: string | null
          customer_complaints?: number | null
          customer_compliments?: number | null
          customer_follow_ups?: number | null
          drive_time_cost?: number | null
          drive_time_minutes?: number | null
          efficiency_rank?: number | null
          efficiency_score?: number | null
          emergency_jobs?: number | null
          emergency_revenue?: number | null
          estimate_conversion_rate?: number | null
          estimate_value_total?: number | null
          estimates_approved?: number | null
          estimates_created?: number | null
          first_time_fix_count?: number | null
          first_time_fix_rate?: number | null
          five_star_reviews?: number | null
          gross_profit?: number | null
          id?: string
          jobs_assigned?: number | null
          jobs_cancelled?: number | null
          jobs_completed?: number | null
          jobs_rescheduled?: number | null
          late_arrival_count?: number | null
          negative_reviews?: number | null
          non_billable_hours?: number | null
          nps_score?: number | null
          on_time_arrival_count?: number | null
          on_time_rate?: number | null
          overall_performance_score?: number | null
          overtime_hours?: number | null
          parts_margin?: number | null
          parts_sold_value?: number | null
          period_end: string
          period_start: string
          period_type: string
          profit_margin?: number | null
          profit_margin_percent?: number | null
          quality_score?: number | null
          rank_in_company?: number | null
          rating_rank?: number | null
          response_time_average_minutes?: number | null
          revenue_per_hour?: number | null
          revenue_rank?: number | null
          safety_incidents?: number | null
          same_day_completions?: number | null
          same_day_rate?: number | null
          service_agreements_sold?: number | null
          service_agreements_value?: number | null
          skill_level?: string | null
          total_billable_hours?: number | null
          total_communications?: number | null
          total_hours_worked?: number | null
          total_labor_cost?: number | null
          total_non_billable_hours?: number | null
          total_parts_cost?: number | null
          total_parts_sold?: number | null
          total_revenue?: number | null
          total_reviews?: number | null
          total_travel_time_minutes?: number | null
          training_hours?: number | null
          updated_at?: string | null
          upsell_count?: number | null
          upsell_revenue?: number | null
          user_id: string
          utilization_rate?: number | null
          warranty_claims?: number | null
          warranty_cost?: number | null
        }
        Update: {
          average_job_duration_minutes?: number | null
          average_minutes_late?: number | null
          average_rating?: number | null
          average_ticket?: number | null
          average_travel_time_minutes?: number | null
          avg_job_duration_minutes?: number | null
          avg_job_profit?: number | null
          avg_job_value?: number | null
          billable_hours?: number | null
          billable_ratio?: number | null
          callback_count?: number | null
          callback_rate?: number | null
          callbacks?: number | null
          certifications_current?: boolean | null
          certifications_held?: number | null
          company_id?: string
          compliance_violations?: number | null
          created_at?: string | null
          customer_complaints?: number | null
          customer_compliments?: number | null
          customer_follow_ups?: number | null
          drive_time_cost?: number | null
          drive_time_minutes?: number | null
          efficiency_rank?: number | null
          efficiency_score?: number | null
          emergency_jobs?: number | null
          emergency_revenue?: number | null
          estimate_conversion_rate?: number | null
          estimate_value_total?: number | null
          estimates_approved?: number | null
          estimates_created?: number | null
          first_time_fix_count?: number | null
          first_time_fix_rate?: number | null
          five_star_reviews?: number | null
          gross_profit?: number | null
          id?: string
          jobs_assigned?: number | null
          jobs_cancelled?: number | null
          jobs_completed?: number | null
          jobs_rescheduled?: number | null
          late_arrival_count?: number | null
          negative_reviews?: number | null
          non_billable_hours?: number | null
          nps_score?: number | null
          on_time_arrival_count?: number | null
          on_time_rate?: number | null
          overall_performance_score?: number | null
          overtime_hours?: number | null
          parts_margin?: number | null
          parts_sold_value?: number | null
          period_end?: string
          period_start?: string
          period_type?: string
          profit_margin?: number | null
          profit_margin_percent?: number | null
          quality_score?: number | null
          rank_in_company?: number | null
          rating_rank?: number | null
          response_time_average_minutes?: number | null
          revenue_per_hour?: number | null
          revenue_rank?: number | null
          safety_incidents?: number | null
          same_day_completions?: number | null
          same_day_rate?: number | null
          service_agreements_sold?: number | null
          service_agreements_value?: number | null
          skill_level?: string | null
          total_billable_hours?: number | null
          total_communications?: number | null
          total_hours_worked?: number | null
          total_labor_cost?: number | null
          total_non_billable_hours?: number | null
          total_parts_cost?: number | null
          total_parts_sold?: number | null
          total_revenue?: number | null
          total_reviews?: number | null
          total_travel_time_minutes?: number | null
          training_hours?: number | null
          updated_at?: string | null
          upsell_count?: number | null
          upsell_revenue?: number | null
          user_id?: string
          utilization_rate?: number | null
          warranty_claims?: number | null
          warranty_cost?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "analytics_technician_metrics_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "analytics_technician_metrics_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "analytics_technician_metrics_user_id_fkey"
            columns: ["user_id"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      api_keys: {
        Row: {
          company_id: string
          created_at: string
          created_by: string | null
          expires_at: string | null
          id: string
          key_hash: string
          key_prefix: string
          last_used_at: string | null
          name: string
          permissions: Json
          rate_limit: number
          revoked_at: string | null
        }
        Insert: {
          company_id: string
          created_at?: string
          created_by?: string | null
          expires_at?: string | null
          id?: string
          key_hash: string
          key_prefix: string
          last_used_at?: string | null
          name: string
          permissions?: Json
          rate_limit?: number
          revoked_at?: string | null
        }
        Update: {
          company_id?: string
          created_at?: string
          created_by?: string | null
          expires_at?: string | null
          id?: string
          key_hash?: string
          key_prefix?: string
          last_used_at?: string | null
          name?: string
          permissions?: Json
          rate_limit?: number
          revoked_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "api_keys_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "api_keys_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "api_keys_created_by_fkey"
            columns: ["created_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      appointment_equipment: {
        Row: {
          added_at: string | null
          added_by: string | null
          appointment_id: string
          company_id: string
          created_at: string | null
          equipment_id: string
          id: string
          notes: string | null
          removed_at: string | null
          removed_by: string | null
          updated_at: string | null
        }
        Insert: {
          added_at?: string | null
          added_by?: string | null
          appointment_id: string
          company_id: string
          created_at?: string | null
          equipment_id: string
          id?: string
          notes?: string | null
          removed_at?: string | null
          removed_by?: string | null
          updated_at?: string | null
        }
        Update: {
          added_at?: string | null
          added_by?: string | null
          appointment_id?: string
          company_id?: string
          created_at?: string | null
          equipment_id?: string
          id?: string
          notes?: string | null
          removed_at?: string | null
          removed_by?: string | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "appointment_equipment_appointment_id_fkey"
            columns: ["appointment_id"]
            isOneToOne: false
            referencedRelation: "appointments"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "appointment_equipment_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "appointment_equipment_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "appointment_equipment_equipment_id_fkey"
            columns: ["equipment_id"]
            isOneToOne: false
            referencedRelation: "equipment"
            referencedColumns: ["id"]
          },
        ]
      }
      appointment_tags: {
        Row: {
          appointment_id: string
          created_at: string
          tag_id: string
        }
        Insert: {
          appointment_id: string
          created_at?: string
          tag_id: string
        }
        Update: {
          appointment_id?: string
          created_at?: string
          tag_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "appointment_tags_appointment_id_fkey"
            columns: ["appointment_id"]
            isOneToOne: false
            referencedRelation: "appointments"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "appointment_tags_tag_id_fkey"
            columns: ["tag_id"]
            isOneToOne: false
            referencedRelation: "tags"
            referencedColumns: ["id"]
          },
        ]
      }
      appointment_team_assignments: {
        Row: {
          appointment_id: string
          assigned_at: string | null
          assigned_by: string | null
          company_id: string
          created_at: string | null
          id: string
          notes: string | null
          removed_at: string | null
          removed_by: string | null
          role: string | null
          team_member_id: string
          updated_at: string | null
        }
        Insert: {
          appointment_id: string
          assigned_at?: string | null
          assigned_by?: string | null
          company_id: string
          created_at?: string | null
          id?: string
          notes?: string | null
          removed_at?: string | null
          removed_by?: string | null
          role?: string | null
          team_member_id: string
          updated_at?: string | null
        }
        Update: {
          appointment_id?: string
          assigned_at?: string | null
          assigned_by?: string | null
          company_id?: string
          created_at?: string | null
          id?: string
          notes?: string | null
          removed_at?: string | null
          removed_by?: string | null
          role?: string | null
          team_member_id?: string
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "appointment_team_assignments_appointment_id_fkey"
            columns: ["appointment_id"]
            isOneToOne: false
            referencedRelation: "appointments"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "appointment_team_assignments_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "appointment_team_assignments_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "appointment_team_assignments_team_member_id_fkey"
            columns: ["team_member_id"]
            isOneToOne: false
            referencedRelation: "team_members"
            referencedColumns: ["id"]
          },
        ]
      }
      appointments: {
        Row: {
          access_instructions: string | null
          access_issue_description: string | null
          access_issues: boolean | null
          actual_duration: number | null
          actual_end_time: string | null
          actual_start_time: string | null
          additional_services_identified: boolean | null
          all_day: boolean
          appointment_efficiency_score: number | null
          archived_at: string | null
          assigned_to: string | null
          booked_at: string | null
          booked_by_customer: boolean | null
          booking_source: string | null
          booking_to_appointment_days: number | null
          cancellation_reason: string | null
          cancelled_at: string | null
          cancelled_by: string | null
          category: string | null
          cleanup_time_minutes: number | null
          color: string | null
          company_id: string
          completed_by: string | null
          confirmation_attempts: number | null
          confirmation_method: string | null
          confirmation_response_time_hours: number | null
          confirmed_at: string | null
          confirmed_by: string | null
          created_at: string
          created_by: string | null
          customer_arrived_at: string | null
          customer_feedback: string | null
          customer_id: string
          customer_notes: string | null
          customer_punctuality: string | null
          customer_rating: number | null
          customer_wait_minutes: number | null
          deleted_at: string | null
          deleted_by: string | null
          description: string | null
          drive_distance_miles: number | null
          drive_time_minutes: number | null
          duration: number
          end_time: string
          estimated_cost: number | null
          feedback_submitted_at: string | null
          follow_up_appointment_created: boolean | null
          id: string
          idle_time_minutes: number | null
          is_recurring: boolean
          job_id: string | null
          last_confirmation_attempt_at: string | null
          late_arrival_minutes: number | null
          lead_time_days: number | null
          location: string | null
          marked_no_show_at: string | null
          metadata: Json | null
          next_appointment_id: string | null
          no_show_reason: string | null
          notes: string | null
          original_appointment_id: string | null
          parent_appointment_id: string | null
          pre_appointment_calls: number | null
          preparation_time_minutes: number | null
          previous_appointment_id: string | null
          property_id: string
          recurrence_end_date: string | null
          recurrence_rule: Json | null
          reminder_count: number | null
          reminder_hours_before: number | null
          reminder_method: string | null
          reminder_sent: boolean
          reminder_sent_at: string | null
          reminders_acknowledged: number | null
          reschedule_count: number | null
          reschedule_reason: string | null
          rescheduled_from_id: string | null
          rescheduled_to_id: string | null
          revenue_generated: number | null
          service_completed_at: string | null
          service_duration_minutes: number | null
          service_plan_id: string | null
          service_started_at: string | null
          service_types: Json | null
          show_status: string | null
          slot_selected_index: number | null
          slot_type: string | null
          slots_offered: number | null
          start_time: string
          status: string
          title: string
          type: string
          updated_at: string
          updated_by: string | null
          upsell_accepted: boolean | null
          upsell_offered: boolean | null
          upsell_type: string | null
          upsell_value: number | null
          waiting_time_minutes: number | null
          was_preferred_slot: boolean | null
          weather_at_appointment: string | null
          weather_impact: string | null
        }
        Insert: {
          access_instructions?: string | null
          access_issue_description?: string | null
          access_issues?: boolean | null
          actual_duration?: number | null
          actual_end_time?: string | null
          actual_start_time?: string | null
          additional_services_identified?: boolean | null
          all_day?: boolean
          appointment_efficiency_score?: number | null
          archived_at?: string | null
          assigned_to?: string | null
          booked_at?: string | null
          booked_by_customer?: boolean | null
          booking_source?: string | null
          booking_to_appointment_days?: number | null
          cancellation_reason?: string | null
          cancelled_at?: string | null
          cancelled_by?: string | null
          category?: string | null
          cleanup_time_minutes?: number | null
          color?: string | null
          company_id: string
          completed_by?: string | null
          confirmation_attempts?: number | null
          confirmation_method?: string | null
          confirmation_response_time_hours?: number | null
          confirmed_at?: string | null
          confirmed_by?: string | null
          created_at?: string
          created_by?: string | null
          customer_arrived_at?: string | null
          customer_feedback?: string | null
          customer_id: string
          customer_notes?: string | null
          customer_punctuality?: string | null
          customer_rating?: number | null
          customer_wait_minutes?: number | null
          deleted_at?: string | null
          deleted_by?: string | null
          description?: string | null
          drive_distance_miles?: number | null
          drive_time_minutes?: number | null
          duration: number
          end_time: string
          estimated_cost?: number | null
          feedback_submitted_at?: string | null
          follow_up_appointment_created?: boolean | null
          id?: string
          idle_time_minutes?: number | null
          is_recurring?: boolean
          job_id?: string | null
          last_confirmation_attempt_at?: string | null
          late_arrival_minutes?: number | null
          lead_time_days?: number | null
          location?: string | null
          marked_no_show_at?: string | null
          metadata?: Json | null
          next_appointment_id?: string | null
          no_show_reason?: string | null
          notes?: string | null
          original_appointment_id?: string | null
          parent_appointment_id?: string | null
          pre_appointment_calls?: number | null
          preparation_time_minutes?: number | null
          previous_appointment_id?: string | null
          property_id: string
          recurrence_end_date?: string | null
          recurrence_rule?: Json | null
          reminder_count?: number | null
          reminder_hours_before?: number | null
          reminder_method?: string | null
          reminder_sent?: boolean
          reminder_sent_at?: string | null
          reminders_acknowledged?: number | null
          reschedule_count?: number | null
          reschedule_reason?: string | null
          rescheduled_from_id?: string | null
          rescheduled_to_id?: string | null
          revenue_generated?: number | null
          service_completed_at?: string | null
          service_duration_minutes?: number | null
          service_plan_id?: string | null
          service_started_at?: string | null
          service_types?: Json | null
          show_status?: string | null
          slot_selected_index?: number | null
          slot_type?: string | null
          slots_offered?: number | null
          start_time: string
          status?: string
          title: string
          type?: string
          updated_at?: string
          updated_by?: string | null
          upsell_accepted?: boolean | null
          upsell_offered?: boolean | null
          upsell_type?: string | null
          upsell_value?: number | null
          waiting_time_minutes?: number | null
          was_preferred_slot?: boolean | null
          weather_at_appointment?: string | null
          weather_impact?: string | null
        }
        Update: {
          access_instructions?: string | null
          access_issue_description?: string | null
          access_issues?: boolean | null
          actual_duration?: number | null
          actual_end_time?: string | null
          actual_start_time?: string | null
          additional_services_identified?: boolean | null
          all_day?: boolean
          appointment_efficiency_score?: number | null
          archived_at?: string | null
          assigned_to?: string | null
          booked_at?: string | null
          booked_by_customer?: boolean | null
          booking_source?: string | null
          booking_to_appointment_days?: number | null
          cancellation_reason?: string | null
          cancelled_at?: string | null
          cancelled_by?: string | null
          category?: string | null
          cleanup_time_minutes?: number | null
          color?: string | null
          company_id?: string
          completed_by?: string | null
          confirmation_attempts?: number | null
          confirmation_method?: string | null
          confirmation_response_time_hours?: number | null
          confirmed_at?: string | null
          confirmed_by?: string | null
          created_at?: string
          created_by?: string | null
          customer_arrived_at?: string | null
          customer_feedback?: string | null
          customer_id?: string
          customer_notes?: string | null
          customer_punctuality?: string | null
          customer_rating?: number | null
          customer_wait_minutes?: number | null
          deleted_at?: string | null
          deleted_by?: string | null
          description?: string | null
          drive_distance_miles?: number | null
          drive_time_minutes?: number | null
          duration?: number
          end_time?: string
          estimated_cost?: number | null
          feedback_submitted_at?: string | null
          follow_up_appointment_created?: boolean | null
          id?: string
          idle_time_minutes?: number | null
          is_recurring?: boolean
          job_id?: string | null
          last_confirmation_attempt_at?: string | null
          late_arrival_minutes?: number | null
          lead_time_days?: number | null
          location?: string | null
          marked_no_show_at?: string | null
          metadata?: Json | null
          next_appointment_id?: string | null
          no_show_reason?: string | null
          notes?: string | null
          original_appointment_id?: string | null
          parent_appointment_id?: string | null
          pre_appointment_calls?: number | null
          preparation_time_minutes?: number | null
          previous_appointment_id?: string | null
          property_id?: string
          recurrence_end_date?: string | null
          recurrence_rule?: Json | null
          reminder_count?: number | null
          reminder_hours_before?: number | null
          reminder_method?: string | null
          reminder_sent?: boolean
          reminder_sent_at?: string | null
          reminders_acknowledged?: number | null
          reschedule_count?: number | null
          reschedule_reason?: string | null
          rescheduled_from_id?: string | null
          rescheduled_to_id?: string | null
          revenue_generated?: number | null
          service_completed_at?: string | null
          service_duration_minutes?: number | null
          service_plan_id?: string | null
          service_started_at?: string | null
          service_types?: Json | null
          show_status?: string | null
          slot_selected_index?: number | null
          slot_type?: string | null
          slots_offered?: number | null
          start_time?: string
          status?: string
          title?: string
          type?: string
          updated_at?: string
          updated_by?: string | null
          upsell_accepted?: boolean | null
          upsell_offered?: boolean | null
          upsell_type?: string | null
          upsell_value?: number | null
          waiting_time_minutes?: number | null
          was_preferred_slot?: boolean | null
          weather_at_appointment?: string | null
          weather_impact?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "appointments_assigned_to_users_id_fk"
            columns: ["assigned_to"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "appointments_cancelled_by_users_id_fk"
            columns: ["cancelled_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "appointments_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "appointments_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "appointments_completed_by_users_id_fk"
            columns: ["completed_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "appointments_created_by_fkey"
            columns: ["created_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "appointments_customer_id_customers_id_fk"
            columns: ["customer_id"]
            isOneToOne: false
            referencedRelation: "customers"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "appointments_deleted_by_users_id_fk"
            columns: ["deleted_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "appointments_job_id_jobs_id_fk"
            columns: ["job_id"]
            isOneToOne: false
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "appointments_next_appointment_id_fkey"
            columns: ["next_appointment_id"]
            isOneToOne: false
            referencedRelation: "appointments"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "appointments_original_appointment_id_fkey"
            columns: ["original_appointment_id"]
            isOneToOne: false
            referencedRelation: "appointments"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "appointments_parent_appointment_id_appointments_id_fk"
            columns: ["parent_appointment_id"]
            isOneToOne: false
            referencedRelation: "appointments"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "appointments_previous_appointment_id_fkey"
            columns: ["previous_appointment_id"]
            isOneToOne: false
            referencedRelation: "appointments"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "appointments_property_id_properties_id_fk"
            columns: ["property_id"]
            isOneToOne: false
            referencedRelation: "properties"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "appointments_rescheduled_from_id_appointments_id_fk"
            columns: ["rescheduled_from_id"]
            isOneToOne: false
            referencedRelation: "appointments"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "appointments_rescheduled_to_id_appointments_id_fk"
            columns: ["rescheduled_to_id"]
            isOneToOne: false
            referencedRelation: "appointments"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "appointments_service_plan_id_service_plans_id_fk"
            columns: ["service_plan_id"]
            isOneToOne: false
            referencedRelation: "service_plans"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "appointments_updated_by_fkey"
            columns: ["updated_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      attachments: {
        Row: {
          access_count: number | null
          category: string | null
          checksum: string | null
          company_id: string
          created_at: string
          deleted_at: string | null
          deleted_by: string | null
          description: string | null
          download_count: number | null
          duration: number | null
          entity_id: string
          entity_type: string
          expiry_date: string | null
          file_extension: string | null
          file_name: string
          file_size: number
          folder_path: string | null
          height: number | null
          id: string
          is_document: boolean
          is_favorite: boolean | null
          is_image: boolean
          is_internal: boolean
          is_public: boolean
          is_video: boolean
          last_accessed_at: string | null
          last_accessed_by: string | null
          last_downloaded_at: string | null
          metadata: Json | null
          mime_type: string
          original_file_name: string
          parent_id: string | null
          storage_bucket: string | null
          storage_path: string
          storage_provider: string
          storage_url: string
          tags: Json | null
          thumbnail_url: string | null
          updated_at: string
          uploaded_at: string
          uploaded_by: string
          version: number | null
          virus_scan_result: Json | null
          virus_scan_status:
            | Database["public"]["Enums"]["virus_scan_status"]
            | null
          virus_scanned_at: string | null
          width: number | null
        }
        Insert: {
          access_count?: number | null
          category?: string | null
          checksum?: string | null
          company_id: string
          created_at?: string
          deleted_at?: string | null
          deleted_by?: string | null
          description?: string | null
          download_count?: number | null
          duration?: number | null
          entity_id: string
          entity_type: string
          expiry_date?: string | null
          file_extension?: string | null
          file_name: string
          file_size: number
          folder_path?: string | null
          height?: number | null
          id?: string
          is_document?: boolean
          is_favorite?: boolean | null
          is_image?: boolean
          is_internal?: boolean
          is_public?: boolean
          is_video?: boolean
          last_accessed_at?: string | null
          last_accessed_by?: string | null
          last_downloaded_at?: string | null
          metadata?: Json | null
          mime_type: string
          original_file_name: string
          parent_id?: string | null
          storage_bucket?: string | null
          storage_path: string
          storage_provider?: string
          storage_url: string
          tags?: Json | null
          thumbnail_url?: string | null
          updated_at?: string
          uploaded_at?: string
          uploaded_by: string
          version?: number | null
          virus_scan_result?: Json | null
          virus_scan_status?:
            | Database["public"]["Enums"]["virus_scan_status"]
            | null
          virus_scanned_at?: string | null
          width?: number | null
        }
        Update: {
          access_count?: number | null
          category?: string | null
          checksum?: string | null
          company_id?: string
          created_at?: string
          deleted_at?: string | null
          deleted_by?: string | null
          description?: string | null
          download_count?: number | null
          duration?: number | null
          entity_id?: string
          entity_type?: string
          expiry_date?: string | null
          file_extension?: string | null
          file_name?: string
          file_size?: number
          folder_path?: string | null
          height?: number | null
          id?: string
          is_document?: boolean
          is_favorite?: boolean | null
          is_image?: boolean
          is_internal?: boolean
          is_public?: boolean
          is_video?: boolean
          last_accessed_at?: string | null
          last_accessed_by?: string | null
          last_downloaded_at?: string | null
          metadata?: Json | null
          mime_type?: string
          original_file_name?: string
          parent_id?: string | null
          storage_bucket?: string | null
          storage_path?: string
          storage_provider?: string
          storage_url?: string
          tags?: Json | null
          thumbnail_url?: string | null
          updated_at?: string
          uploaded_at?: string
          uploaded_by?: string
          version?: number | null
          virus_scan_result?: Json | null
          virus_scan_status?:
            | Database["public"]["Enums"]["virus_scan_status"]
            | null
          virus_scanned_at?: string | null
          width?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "attachments_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "attachments_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "attachments_deleted_by_users_id_fk"
            columns: ["deleted_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "attachments_last_accessed_by_fkey"
            columns: ["last_accessed_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "attachments_parent_id_fkey"
            columns: ["parent_id"]
            isOneToOne: false
            referencedRelation: "attachments"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "attachments_uploaded_by_users_id_fk"
            columns: ["uploaded_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      audit_logs: {
        Row: {
          action: string
          company_id: string
          created_at: string
          entity_id: string | null
          entity_type: string
          id: string
          ip_address: unknown
          new_values: Json | null
          old_values: Json | null
          user_agent: string | null
          user_id: string | null
        }
        Insert: {
          action: string
          company_id: string
          created_at?: string
          entity_id?: string | null
          entity_type: string
          id?: string
          ip_address?: unknown
          new_values?: Json | null
          old_values?: Json | null
          user_agent?: string | null
          user_id?: string | null
        }
        Update: {
          action?: string
          company_id?: string
          created_at?: string
          entity_id?: string | null
          entity_type?: string
          id?: string
          ip_address?: unknown
          new_values?: Json | null
          old_values?: Json | null
          user_agent?: string | null
          user_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "audit_logs_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "audit_logs_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "audit_logs_user_id_fkey"
            columns: ["user_id"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      background_jobs: {
        Row: {
          attempts: number
          company_id: string | null
          completed_at: string | null
          created_at: string
          error_message: string | null
          id: string
          job_type: string
          max_attempts: number
          payload: Json
          priority: number
          scheduled_for: string
          started_at: string | null
          status: string
        }
        Insert: {
          attempts?: number
          company_id?: string | null
          completed_at?: string | null
          created_at?: string
          error_message?: string | null
          id?: string
          job_type: string
          max_attempts?: number
          payload: Json
          priority?: number
          scheduled_for?: string
          started_at?: string | null
          status?: string
        }
        Update: {
          attempts?: number
          company_id?: string | null
          completed_at?: string | null
          created_at?: string
          error_message?: string | null
          id?: string
          job_type?: string
          max_attempts?: number
          payload?: Json
          priority?: number
          scheduled_for?: string
          started_at?: string | null
          status?: string
        }
        Relationships: [
          {
            foreignKeyName: "background_jobs_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "background_jobs_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      blog_authors: {
        Row: {
          avatar_url: string | null
          bio: string | null
          created_at: string
          id: string
          linkedin_url: string | null
          name: string
          slug: string
          title: string | null
          twitter_url: string | null
          updated_at: string
          website_url: string | null
        }
        Insert: {
          avatar_url?: string | null
          bio?: string | null
          created_at?: string
          id?: string
          linkedin_url?: string | null
          name: string
          slug: string
          title?: string | null
          twitter_url?: string | null
          updated_at?: string
          website_url?: string | null
        }
        Update: {
          avatar_url?: string | null
          bio?: string | null
          created_at?: string
          id?: string
          linkedin_url?: string | null
          name?: string
          slug?: string
          title?: string | null
          twitter_url?: string | null
          updated_at?: string
          website_url?: string | null
        }
        Relationships: []
      }
      blog_categories: {
        Row: {
          color: string | null
          created_at: string
          description: string | null
          icon: string | null
          id: string
          name: string
          slug: string
          updated_at: string
        }
        Insert: {
          color?: string | null
          created_at?: string
          description?: string | null
          icon?: string | null
          id?: string
          name: string
          slug: string
          updated_at?: string
        }
        Update: {
          color?: string | null
          created_at?: string
          description?: string | null
          icon?: string | null
          id?: string
          name?: string
          slug?: string
          updated_at?: string
        }
        Relationships: []
      }
      blog_post_tags: {
        Row: {
          post_id: string
          tag_id: string
        }
        Insert: {
          post_id: string
          tag_id: string
        }
        Update: {
          post_id?: string
          tag_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "blog_post_tags_post_id_fkey"
            columns: ["post_id"]
            isOneToOne: false
            referencedRelation: "blog_posts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "blog_post_tags_tag_id_fkey"
            columns: ["tag_id"]
            isOneToOne: false
            referencedRelation: "content_tags"
            referencedColumns: ["id"]
          },
        ]
      }
      blog_posts: {
        Row: {
          allow_comments: boolean
          author_id: string | null
          canonical_url: string | null
          category_id: string | null
          content: string
          created_at: string
          excerpt: string | null
          featured: boolean
          hero_image_url: string | null
          id: string
          metadata: Json
          pinned: boolean
          published_at: string | null
          reading_time: number
          search_vector: unknown
          seo_description: string | null
          seo_keywords: string[] | null
          seo_title: string | null
          slug: string
          status: Database["public"]["Enums"]["content_status"]
          title: string
          updated_at: string
        }
        Insert: {
          allow_comments?: boolean
          author_id?: string | null
          canonical_url?: string | null
          category_id?: string | null
          content: string
          created_at?: string
          excerpt?: string | null
          featured?: boolean
          hero_image_url?: string | null
          id?: string
          metadata?: Json
          pinned?: boolean
          published_at?: string | null
          reading_time?: number
          search_vector?: unknown
          seo_description?: string | null
          seo_keywords?: string[] | null
          seo_title?: string | null
          slug: string
          status?: Database["public"]["Enums"]["content_status"]
          title: string
          updated_at?: string
        }
        Update: {
          allow_comments?: boolean
          author_id?: string | null
          canonical_url?: string | null
          category_id?: string | null
          content?: string
          created_at?: string
          excerpt?: string | null
          featured?: boolean
          hero_image_url?: string | null
          id?: string
          metadata?: Json
          pinned?: boolean
          published_at?: string | null
          reading_time?: number
          search_vector?: unknown
          seo_description?: string | null
          seo_keywords?: string[] | null
          seo_title?: string | null
          slug?: string
          status?: Database["public"]["Enums"]["content_status"]
          title?: string
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "blog_posts_author_id_fkey"
            columns: ["author_id"]
            isOneToOne: false
            referencedRelation: "blog_authors"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "blog_posts_category_id_fkey"
            columns: ["category_id"]
            isOneToOne: false
            referencedRelation: "blog_categories"
            referencedColumns: ["id"]
          },
        ]
      }
      booking_settings: {
        Row: {
          allow_time_preferences: boolean | null
          available_services: Json | null
          company_id: string
          created_at: string | null
          id: string
          max_bookings_per_day: number | null
          min_booking_notice_hours: number | null
          online_booking_enabled: boolean | null
          require_account: boolean | null
          require_immediate_payment: boolean | null
          require_service_selection: boolean | null
          send_confirmation_email: boolean | null
          send_confirmation_sms: boolean | null
          show_pricing: boolean | null
          updated_at: string | null
        }
        Insert: {
          allow_time_preferences?: boolean | null
          available_services?: Json | null
          company_id: string
          created_at?: string | null
          id?: string
          max_bookings_per_day?: number | null
          min_booking_notice_hours?: number | null
          online_booking_enabled?: boolean | null
          require_account?: boolean | null
          require_immediate_payment?: boolean | null
          require_service_selection?: boolean | null
          send_confirmation_email?: boolean | null
          send_confirmation_sms?: boolean | null
          show_pricing?: boolean | null
          updated_at?: string | null
        }
        Update: {
          allow_time_preferences?: boolean | null
          available_services?: Json | null
          company_id?: string
          created_at?: string | null
          id?: string
          max_bookings_per_day?: number | null
          min_booking_notice_hours?: number | null
          online_booking_enabled?: boolean | null
          require_account?: boolean | null
          require_immediate_payment?: boolean | null
          require_service_selection?: boolean | null
          send_confirmation_email?: boolean | null
          send_confirmation_sms?: boolean | null
          show_pricing?: boolean | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "booking_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "booking_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      business_hours: {
        Row: {
          close_time: string | null
          company_id: string
          created_at: string | null
          day_of_week: string
          id: string
          is_open: boolean | null
          open_time: string | null
          updated_at: string | null
        }
        Insert: {
          close_time?: string | null
          company_id: string
          created_at?: string | null
          day_of_week: string
          id?: string
          is_open?: boolean | null
          open_time?: string | null
          updated_at?: string | null
        }
        Update: {
          close_time?: string | null
          company_id?: string
          created_at?: string | null
          day_of_week?: string
          id?: string
          is_open?: boolean | null
          open_time?: string | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "business_hours_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "business_hours_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      business_verification: {
        Row: {
          address_verification_method: string | null
          address_verified: boolean | null
          address_verified_at: string | null
          articles_of_incorporation_url: string | null
          bank_account_verified: boolean | null
          bank_account_verified_at: string | null
          bank_verification_method: string | null
          company_id: string
          contractor_license_url: string | null
          created_at: string | null
          ein_verification_method: string | null
          ein_verified: boolean | null
          ein_verified_at: string | null
          general_liability_carrier: string | null
          general_liability_coverage: number | null
          general_liability_expiration: string | null
          general_liability_policy: string | null
          id: string
          insurance_certificate_url: string | null
          insurance_verified: boolean | null
          insurance_verified_at: string | null
          license_expiration: string | null
          license_number: string | null
          license_state: string | null
          license_verification_method: string | null
          license_verified: boolean | null
          license_verified_at: string | null
          overall_status: string | null
          updated_at: string | null
          usps_verification_data: Json | null
          w9_form_url: string | null
          workers_comp_carrier: string | null
          workers_comp_expiration: string | null
          workers_comp_policy: string | null
        }
        Insert: {
          address_verification_method?: string | null
          address_verified?: boolean | null
          address_verified_at?: string | null
          articles_of_incorporation_url?: string | null
          bank_account_verified?: boolean | null
          bank_account_verified_at?: string | null
          bank_verification_method?: string | null
          company_id: string
          contractor_license_url?: string | null
          created_at?: string | null
          ein_verification_method?: string | null
          ein_verified?: boolean | null
          ein_verified_at?: string | null
          general_liability_carrier?: string | null
          general_liability_coverage?: number | null
          general_liability_expiration?: string | null
          general_liability_policy?: string | null
          id?: string
          insurance_certificate_url?: string | null
          insurance_verified?: boolean | null
          insurance_verified_at?: string | null
          license_expiration?: string | null
          license_number?: string | null
          license_state?: string | null
          license_verification_method?: string | null
          license_verified?: boolean | null
          license_verified_at?: string | null
          overall_status?: string | null
          updated_at?: string | null
          usps_verification_data?: Json | null
          w9_form_url?: string | null
          workers_comp_carrier?: string | null
          workers_comp_expiration?: string | null
          workers_comp_policy?: string | null
        }
        Update: {
          address_verification_method?: string | null
          address_verified?: boolean | null
          address_verified_at?: string | null
          articles_of_incorporation_url?: string | null
          bank_account_verified?: boolean | null
          bank_account_verified_at?: string | null
          bank_verification_method?: string | null
          company_id?: string
          contractor_license_url?: string | null
          created_at?: string | null
          ein_verification_method?: string | null
          ein_verified?: boolean | null
          ein_verified_at?: string | null
          general_liability_carrier?: string | null
          general_liability_coverage?: number | null
          general_liability_expiration?: string | null
          general_liability_policy?: string | null
          id?: string
          insurance_certificate_url?: string | null
          insurance_verified?: boolean | null
          insurance_verified_at?: string | null
          license_expiration?: string | null
          license_number?: string | null
          license_state?: string | null
          license_verification_method?: string | null
          license_verified?: boolean | null
          license_verified_at?: string | null
          overall_status?: string | null
          updated_at?: string | null
          usps_verification_data?: Json | null
          w9_form_url?: string | null
          workers_comp_carrier?: string | null
          workers_comp_expiration?: string | null
          workers_comp_policy?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "business_verification_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "business_verification_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      call_logs: {
        Row: {
          answered_at: string | null
          billable_seconds: number | null
          call_sid: string
          call_status: string | null
          caller_name: string | null
          company_id: string
          cost_cents: number | null
          created_at: string | null
          customer_id: string | null
          direction: string
          duration_seconds: number | null
          ended_at: string | null
          from_number: string
          id: string
          job_id: string | null
          metadata: Json | null
          notes: string | null
          phone_number_id: string | null
          queue_time_seconds: number | null
          recording_duration: number | null
          recording_url: string | null
          routing_rule_id: string | null
          started_at: string | null
          tags: string[] | null
          team_member_id: string | null
          to_number: string
          transfer_type: string | null
          transferred_from_team_member_id: string | null
          updated_at: string | null
          voicemail_id: string | null
        }
        Insert: {
          answered_at?: string | null
          billable_seconds?: number | null
          call_sid: string
          call_status?: string | null
          caller_name?: string | null
          company_id: string
          cost_cents?: number | null
          created_at?: string | null
          customer_id?: string | null
          direction: string
          duration_seconds?: number | null
          ended_at?: string | null
          from_number: string
          id?: string
          job_id?: string | null
          metadata?: Json | null
          notes?: string | null
          phone_number_id?: string | null
          queue_time_seconds?: number | null
          recording_duration?: number | null
          recording_url?: string | null
          routing_rule_id?: string | null
          started_at?: string | null
          tags?: string[] | null
          team_member_id?: string | null
          to_number: string
          transfer_type?: string | null
          transferred_from_team_member_id?: string | null
          updated_at?: string | null
          voicemail_id?: string | null
        }
        Update: {
          answered_at?: string | null
          billable_seconds?: number | null
          call_sid?: string
          call_status?: string | null
          caller_name?: string | null
          company_id?: string
          cost_cents?: number | null
          created_at?: string | null
          customer_id?: string | null
          direction?: string
          duration_seconds?: number | null
          ended_at?: string | null
          from_number?: string
          id?: string
          job_id?: string | null
          metadata?: Json | null
          notes?: string | null
          phone_number_id?: string | null
          queue_time_seconds?: number | null
          recording_duration?: number | null
          recording_url?: string | null
          routing_rule_id?: string | null
          started_at?: string | null
          tags?: string[] | null
          team_member_id?: string | null
          to_number?: string
          transfer_type?: string | null
          transferred_from_team_member_id?: string | null
          updated_at?: string | null
          voicemail_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "call_logs_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "call_logs_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "call_logs_customer_id_fkey"
            columns: ["customer_id"]
            isOneToOne: false
            referencedRelation: "customers"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "call_logs_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: false
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "call_logs_phone_number_id_fkey"
            columns: ["phone_number_id"]
            isOneToOne: false
            referencedRelation: "phone_numbers"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "call_logs_routing_rule_id_fkey"
            columns: ["routing_rule_id"]
            isOneToOne: false
            referencedRelation: "call_routing_rules"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "call_logs_team_member_id_fkey"
            columns: ["team_member_id"]
            isOneToOne: false
            referencedRelation: "team_members"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "call_logs_transferred_from_team_member_id_fkey"
            columns: ["transferred_from_team_member_id"]
            isOneToOne: false
            referencedRelation: "team_members"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "call_logs_voicemail_id_fkey"
            columns: ["voicemail_id"]
            isOneToOne: false
            referencedRelation: "voicemails"
            referencedColumns: ["id"]
          },
        ]
      }
      call_queue: {
        Row: {
          assigned_team_member_id: string | null
          call_sid: string
          caller_name: string | null
          caller_phone_number: string
          company_id: string
          connected_at: string | null
          created_at: string | null
          ended_at: string | null
          id: string
          metadata: Json | null
          phone_number_id: string | null
          queue_position: number
          queued_at: string | null
          routing_rule_id: string | null
          status: string | null
          updated_at: string | null
          wait_time_seconds: number | null
        }
        Insert: {
          assigned_team_member_id?: string | null
          call_sid: string
          caller_name?: string | null
          caller_phone_number: string
          company_id: string
          connected_at?: string | null
          created_at?: string | null
          ended_at?: string | null
          id?: string
          metadata?: Json | null
          phone_number_id?: string | null
          queue_position?: number
          queued_at?: string | null
          routing_rule_id?: string | null
          status?: string | null
          updated_at?: string | null
          wait_time_seconds?: number | null
        }
        Update: {
          assigned_team_member_id?: string | null
          call_sid?: string
          caller_name?: string | null
          caller_phone_number?: string
          company_id?: string
          connected_at?: string | null
          created_at?: string | null
          ended_at?: string | null
          id?: string
          metadata?: Json | null
          phone_number_id?: string | null
          queue_position?: number
          queued_at?: string | null
          routing_rule_id?: string | null
          status?: string | null
          updated_at?: string | null
          wait_time_seconds?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "call_queue_assigned_team_member_id_fkey"
            columns: ["assigned_team_member_id"]
            isOneToOne: false
            referencedRelation: "team_members"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "call_queue_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "call_queue_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "call_queue_phone_number_id_fkey"
            columns: ["phone_number_id"]
            isOneToOne: false
            referencedRelation: "phone_numbers"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "call_queue_routing_rule_id_fkey"
            columns: ["routing_rule_id"]
            isOneToOne: false
            referencedRelation: "call_routing_rules"
            referencedColumns: ["id"]
          },
        ]
      }
      call_routing_rules: {
        Row: {
          after_hours_action: string | null
          after_hours_forward_to: string | null
          business_hours: Json | null
          company_id: string
          conditions: Json | null
          created_at: string | null
          created_by: string | null
          current_index: number | null
          deleted_at: string | null
          deleted_by: string | null
          description: string | null
          enable_voicemail: boolean | null
          forward_to_number: string | null
          forward_to_user_id: string | null
          id: string
          is_active: boolean | null
          ivr_greeting_url: string | null
          ivr_invalid_retry_count: number | null
          ivr_menu: Json | null
          ivr_timeout: number | null
          name: string
          priority: number | null
          record_calls: boolean | null
          recording_channels: string | null
          ring_timeout: number | null
          routing_type: string
          team_members: string[] | null
          timezone: string | null
          updated_at: string | null
          voicemail_email_notifications: boolean | null
          voicemail_greeting_url: string | null
          voicemail_notification_recipients: string[] | null
          voicemail_sms_notifications: boolean | null
          voicemail_transcription_enabled: boolean | null
        }
        Insert: {
          after_hours_action?: string | null
          after_hours_forward_to?: string | null
          business_hours?: Json | null
          company_id: string
          conditions?: Json | null
          created_at?: string | null
          created_by?: string | null
          current_index?: number | null
          deleted_at?: string | null
          deleted_by?: string | null
          description?: string | null
          enable_voicemail?: boolean | null
          forward_to_number?: string | null
          forward_to_user_id?: string | null
          id?: string
          is_active?: boolean | null
          ivr_greeting_url?: string | null
          ivr_invalid_retry_count?: number | null
          ivr_menu?: Json | null
          ivr_timeout?: number | null
          name: string
          priority?: number | null
          record_calls?: boolean | null
          recording_channels?: string | null
          ring_timeout?: number | null
          routing_type: string
          team_members?: string[] | null
          timezone?: string | null
          updated_at?: string | null
          voicemail_email_notifications?: boolean | null
          voicemail_greeting_url?: string | null
          voicemail_notification_recipients?: string[] | null
          voicemail_sms_notifications?: boolean | null
          voicemail_transcription_enabled?: boolean | null
        }
        Update: {
          after_hours_action?: string | null
          after_hours_forward_to?: string | null
          business_hours?: Json | null
          company_id?: string
          conditions?: Json | null
          created_at?: string | null
          created_by?: string | null
          current_index?: number | null
          deleted_at?: string | null
          deleted_by?: string | null
          description?: string | null
          enable_voicemail?: boolean | null
          forward_to_number?: string | null
          forward_to_user_id?: string | null
          id?: string
          is_active?: boolean | null
          ivr_greeting_url?: string | null
          ivr_invalid_retry_count?: number | null
          ivr_menu?: Json | null
          ivr_timeout?: number | null
          name?: string
          priority?: number | null
          record_calls?: boolean | null
          recording_channels?: string | null
          ring_timeout?: number | null
          routing_type?: string
          team_members?: string[] | null
          timezone?: string | null
          updated_at?: string | null
          voicemail_email_notifications?: boolean | null
          voicemail_greeting_url?: string | null
          voicemail_notification_recipients?: string[] | null
          voicemail_sms_notifications?: boolean | null
          voicemail_transcription_enabled?: boolean | null
        }
        Relationships: [
          {
            foreignKeyName: "call_routing_rules_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "call_routing_rules_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      chats: {
        Row: {
          company_id: string | null
          created_at: string
          id: string
          title: string
          user_id: string
          visibility: string
        }
        Insert: {
          company_id?: string | null
          created_at?: string
          id?: string
          title: string
          user_id: string
          visibility?: string
        }
        Update: {
          company_id?: string | null
          created_at?: string
          id?: string
          title?: string
          user_id?: string
          visibility?: string
        }
        Relationships: [
          {
            foreignKeyName: "chats_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "chats_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "chats_user_id_users_id_fk"
            columns: ["user_id"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      check_deposits: {
        Row: {
          account_number_encrypted: string | null
          account_number_masked: string | null
          amount: number
          amount_confidence: number | null
          back_image_path: string
          back_image_quality_score: number | null
          bank_name: string | null
          capture_device: string | null
          capture_location: Json | null
          captured_by: string | null
          captured_offline: boolean | null
          check_number: string | null
          company_id: string
          created_at: string
          currency: string | null
          customer_id: string | null
          deposited_at: string | null
          duplicate_of_id: string | null
          fraud_flags: Json | null
          front_image_path: string
          front_image_quality_score: number | null
          funds_available_at: string | null
          id: string
          invoice_id: string | null
          is_duplicate: boolean | null
          job_id: string | null
          manual_review_required: boolean | null
          micr_raw: string | null
          mitek_response: Json | null
          mitek_transaction_id: string | null
          ocr_data: Json | null
          offline_queue_id: string | null
          payer_address: string | null
          payer_name: string | null
          payment_id: string | null
          processed_at: string | null
          processor_response: Json | null
          processor_transaction_id: string | null
          processor_type: string | null
          return_reason: string | null
          return_reason_code: string | null
          returned_at: string | null
          reviewed_at: string | null
          reviewed_by: string | null
          routing_number: string | null
          status: string
          submitted_at: string | null
          updated_at: string
        }
        Insert: {
          account_number_encrypted?: string | null
          account_number_masked?: string | null
          amount: number
          amount_confidence?: number | null
          back_image_path: string
          back_image_quality_score?: number | null
          bank_name?: string | null
          capture_device?: string | null
          capture_location?: Json | null
          captured_by?: string | null
          captured_offline?: boolean | null
          check_number?: string | null
          company_id: string
          created_at?: string
          currency?: string | null
          customer_id?: string | null
          deposited_at?: string | null
          duplicate_of_id?: string | null
          fraud_flags?: Json | null
          front_image_path: string
          front_image_quality_score?: number | null
          funds_available_at?: string | null
          id?: string
          invoice_id?: string | null
          is_duplicate?: boolean | null
          job_id?: string | null
          manual_review_required?: boolean | null
          micr_raw?: string | null
          mitek_response?: Json | null
          mitek_transaction_id?: string | null
          ocr_data?: Json | null
          offline_queue_id?: string | null
          payer_address?: string | null
          payer_name?: string | null
          payment_id?: string | null
          processed_at?: string | null
          processor_response?: Json | null
          processor_transaction_id?: string | null
          processor_type?: string | null
          return_reason?: string | null
          return_reason_code?: string | null
          returned_at?: string | null
          reviewed_at?: string | null
          reviewed_by?: string | null
          routing_number?: string | null
          status?: string
          submitted_at?: string | null
          updated_at?: string
        }
        Update: {
          account_number_encrypted?: string | null
          account_number_masked?: string | null
          amount?: number
          amount_confidence?: number | null
          back_image_path?: string
          back_image_quality_score?: number | null
          bank_name?: string | null
          capture_device?: string | null
          capture_location?: Json | null
          captured_by?: string | null
          captured_offline?: boolean | null
          check_number?: string | null
          company_id?: string
          created_at?: string
          currency?: string | null
          customer_id?: string | null
          deposited_at?: string | null
          duplicate_of_id?: string | null
          fraud_flags?: Json | null
          front_image_path?: string
          front_image_quality_score?: number | null
          funds_available_at?: string | null
          id?: string
          invoice_id?: string | null
          is_duplicate?: boolean | null
          job_id?: string | null
          manual_review_required?: boolean | null
          micr_raw?: string | null
          mitek_response?: Json | null
          mitek_transaction_id?: string | null
          ocr_data?: Json | null
          offline_queue_id?: string | null
          payer_address?: string | null
          payer_name?: string | null
          payment_id?: string | null
          processed_at?: string | null
          processor_response?: Json | null
          processor_transaction_id?: string | null
          processor_type?: string | null
          return_reason?: string | null
          return_reason_code?: string | null
          returned_at?: string | null
          reviewed_at?: string | null
          reviewed_by?: string | null
          routing_number?: string | null
          status?: string
          submitted_at?: string | null
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "check_deposits_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "check_deposits_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "check_deposits_customer_id_fkey"
            columns: ["customer_id"]
            isOneToOne: false
            referencedRelation: "customers"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "check_deposits_duplicate_of_id_fkey"
            columns: ["duplicate_of_id"]
            isOneToOne: false
            referencedRelation: "check_deposits"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "check_deposits_invoice_id_fkey"
            columns: ["invoice_id"]
            isOneToOne: false
            referencedRelation: "invoices"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "check_deposits_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: false
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "check_deposits_offline_queue_id_fkey"
            columns: ["offline_queue_id"]
            isOneToOne: false
            referencedRelation: "payment_offline_queue"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "check_deposits_payment_id_fkey"
            columns: ["payment_id"]
            isOneToOne: false
            referencedRelation: "payments"
            referencedColumns: ["id"]
          },
        ]
      }
      checklist_settings: {
        Row: {
          allow_skip_items: boolean | null
          auto_assign_by_job_type: boolean | null
          company_id: string
          created_at: string | null
          default_template_id: string | null
          id: string
          require_checklist_completion: boolean | null
          require_photos_for_checklist: boolean | null
          updated_at: string | null
        }
        Insert: {
          allow_skip_items?: boolean | null
          auto_assign_by_job_type?: boolean | null
          company_id: string
          created_at?: string | null
          default_template_id?: string | null
          id?: string
          require_checklist_completion?: boolean | null
          require_photos_for_checklist?: boolean | null
          updated_at?: string | null
        }
        Update: {
          allow_skip_items?: boolean | null
          auto_assign_by_job_type?: boolean | null
          company_id?: string
          created_at?: string | null
          default_template_id?: string | null
          id?: string
          require_checklist_completion?: boolean | null
          require_photos_for_checklist?: boolean | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "checklist_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "checklist_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      communication_email_inbound_routes: {
        Row: {
          company_id: string
          created_at: string | null
          description: string | null
          enabled: boolean
          id: string
          name: string
          resend_route_id: string | null
          route_address: string
          updated_at: string | null
          webhook_url: string | null
        }
        Insert: {
          company_id: string
          created_at?: string | null
          description?: string | null
          enabled?: boolean
          id?: string
          name: string
          resend_route_id?: string | null
          route_address: string
          updated_at?: string | null
          webhook_url?: string | null
        }
        Update: {
          company_id?: string
          created_at?: string | null
          description?: string | null
          enabled?: boolean
          id?: string
          name?: string
          resend_route_id?: string | null
          route_address?: string
          updated_at?: string | null
          webhook_url?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "communication_email_inbound_routes_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "communication_email_inbound_routes_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      communication_email_settings: {
        Row: {
          auto_cc_email: string | null
          auto_cc_enabled: boolean | null
          company_id: string
          created_at: string | null
          default_signature: string | null
          email_logo_url: string | null
          id: string
          primary_color: string | null
          smtp_enabled: boolean | null
          smtp_from_email: string | null
          smtp_from_name: string | null
          smtp_host: string | null
          smtp_password_encrypted: string | null
          smtp_port: number | null
          smtp_use_tls: boolean | null
          smtp_username: string | null
          track_clicks: boolean | null
          track_opens: boolean | null
          updated_at: string | null
        }
        Insert: {
          auto_cc_email?: string | null
          auto_cc_enabled?: boolean | null
          company_id: string
          created_at?: string | null
          default_signature?: string | null
          email_logo_url?: string | null
          id?: string
          primary_color?: string | null
          smtp_enabled?: boolean | null
          smtp_from_email?: string | null
          smtp_from_name?: string | null
          smtp_host?: string | null
          smtp_password_encrypted?: string | null
          smtp_port?: number | null
          smtp_use_tls?: boolean | null
          smtp_username?: string | null
          track_clicks?: boolean | null
          track_opens?: boolean | null
          updated_at?: string | null
        }
        Update: {
          auto_cc_email?: string | null
          auto_cc_enabled?: boolean | null
          company_id?: string
          created_at?: string | null
          default_signature?: string | null
          email_logo_url?: string | null
          id?: string
          primary_color?: string | null
          smtp_enabled?: boolean | null
          smtp_from_email?: string | null
          smtp_from_name?: string | null
          smtp_host?: string | null
          smtp_password_encrypted?: string | null
          smtp_port?: number | null
          smtp_use_tls?: boolean | null
          smtp_username?: string | null
          track_clicks?: boolean | null
          track_opens?: boolean | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "communication_email_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "communication_email_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      communication_notification_settings: {
        Row: {
          company_id: string
          created_at: string | null
          email_notifications: boolean | null
          id: string
          in_app_notifications: boolean | null
          notify_customer_updates: boolean | null
          notify_estimate_approved: boolean | null
          notify_estimate_declined: boolean | null
          notify_estimate_sent: boolean | null
          notify_invoice_overdue: boolean | null
          notify_invoice_paid: boolean | null
          notify_invoice_sent: boolean | null
          notify_job_completions: boolean | null
          notify_job_updates: boolean | null
          notify_new_customers: boolean | null
          notify_new_jobs: boolean | null
          notify_schedule_changes: boolean | null
          notify_technician_assigned: boolean | null
          push_notifications: boolean | null
          sms_notifications: boolean | null
          updated_at: string | null
        }
        Insert: {
          company_id: string
          created_at?: string | null
          email_notifications?: boolean | null
          id?: string
          in_app_notifications?: boolean | null
          notify_customer_updates?: boolean | null
          notify_estimate_approved?: boolean | null
          notify_estimate_declined?: boolean | null
          notify_estimate_sent?: boolean | null
          notify_invoice_overdue?: boolean | null
          notify_invoice_paid?: boolean | null
          notify_invoice_sent?: boolean | null
          notify_job_completions?: boolean | null
          notify_job_updates?: boolean | null
          notify_new_customers?: boolean | null
          notify_new_jobs?: boolean | null
          notify_schedule_changes?: boolean | null
          notify_technician_assigned?: boolean | null
          push_notifications?: boolean | null
          sms_notifications?: boolean | null
          updated_at?: string | null
        }
        Update: {
          company_id?: string
          created_at?: string | null
          email_notifications?: boolean | null
          id?: string
          in_app_notifications?: boolean | null
          notify_customer_updates?: boolean | null
          notify_estimate_approved?: boolean | null
          notify_estimate_declined?: boolean | null
          notify_estimate_sent?: boolean | null
          notify_invoice_overdue?: boolean | null
          notify_invoice_paid?: boolean | null
          notify_invoice_sent?: boolean | null
          notify_job_completions?: boolean | null
          notify_job_updates?: boolean | null
          notify_new_customers?: boolean | null
          notify_new_jobs?: boolean | null
          notify_schedule_changes?: boolean | null
          notify_technician_assigned?: boolean | null
          push_notifications?: boolean | null
          sms_notifications?: boolean | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "communication_notification_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "communication_notification_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      communication_phone_settings: {
        Row: {
          branding_payload: Json | null
          business_hours_only: boolean | null
          caller_id_label: string | null
          company_id: string
          created_at: string | null
          fallback_number: string | null
          id: string
          ivr_enabled: boolean | null
          ivr_menu: Json | null
          recording_announcement: string | null
          recording_consent_required: boolean | null
          recording_enabled: boolean | null
          routing_strategy: string | null
          sms_sender_name: string | null
          sms_signature: string | null
          updated_at: string | null
          voicemail_email_notifications: boolean | null
          voicemail_enabled: boolean | null
          voicemail_greeting_url: string | null
          voicemail_transcription_enabled: boolean | null
        }
        Insert: {
          branding_payload?: Json | null
          business_hours_only?: boolean | null
          caller_id_label?: string | null
          company_id: string
          created_at?: string | null
          fallback_number?: string | null
          id?: string
          ivr_enabled?: boolean | null
          ivr_menu?: Json | null
          recording_announcement?: string | null
          recording_consent_required?: boolean | null
          recording_enabled?: boolean | null
          routing_strategy?: string | null
          sms_sender_name?: string | null
          sms_signature?: string | null
          updated_at?: string | null
          voicemail_email_notifications?: boolean | null
          voicemail_enabled?: boolean | null
          voicemail_greeting_url?: string | null
          voicemail_transcription_enabled?: boolean | null
        }
        Update: {
          branding_payload?: Json | null
          business_hours_only?: boolean | null
          caller_id_label?: string | null
          company_id?: string
          created_at?: string | null
          fallback_number?: string | null
          id?: string
          ivr_enabled?: boolean | null
          ivr_menu?: Json | null
          recording_announcement?: string | null
          recording_consent_required?: boolean | null
          recording_enabled?: boolean | null
          routing_strategy?: string | null
          sms_sender_name?: string | null
          sms_signature?: string | null
          updated_at?: string | null
          voicemail_email_notifications?: boolean | null
          voicemail_enabled?: boolean | null
          voicemail_greeting_url?: string | null
          voicemail_transcription_enabled?: boolean | null
        }
        Relationships: [
          {
            foreignKeyName: "communication_phone_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "communication_phone_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      communication_sms_settings: {
        Row: {
          auto_reply_enabled: boolean | null
          auto_reply_message: string | null
          company_id: string
          consent_required: boolean | null
          created_at: string | null
          id: string
          include_opt_out: boolean | null
          opt_out_message: string | null
          provider: string | null
          provider_api_key_encrypted: string | null
          sender_number: string | null
          updated_at: string | null
        }
        Insert: {
          auto_reply_enabled?: boolean | null
          auto_reply_message?: string | null
          company_id: string
          consent_required?: boolean | null
          created_at?: string | null
          id?: string
          include_opt_out?: boolean | null
          opt_out_message?: string | null
          provider?: string | null
          provider_api_key_encrypted?: string | null
          sender_number?: string | null
          updated_at?: string | null
        }
        Update: {
          auto_reply_enabled?: boolean | null
          auto_reply_message?: string | null
          company_id?: string
          consent_required?: boolean | null
          created_at?: string | null
          id?: string
          include_opt_out?: boolean | null
          opt_out_message?: string | null
          provider?: string | null
          provider_api_key_encrypted?: string | null
          sender_number?: string | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "communication_sms_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "communication_sms_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      communication_templates: {
        Row: {
          body: string
          category: string | null
          company_id: string
          created_at: string | null
          id: string
          is_active: boolean | null
          is_default: boolean | null
          name: string
          subject: string | null
          type: string
          updated_at: string | null
          use_count: number | null
          variables: Json | null
        }
        Insert: {
          body: string
          category?: string | null
          company_id: string
          created_at?: string | null
          id?: string
          is_active?: boolean | null
          is_default?: boolean | null
          name: string
          subject?: string | null
          type: string
          updated_at?: string | null
          use_count?: number | null
          variables?: Json | null
        }
        Update: {
          body?: string
          category?: string | null
          company_id?: string
          created_at?: string | null
          id?: string
          is_active?: boolean | null
          is_default?: boolean | null
          name?: string
          subject?: string | null
          type?: string
          updated_at?: string | null
          use_count?: number | null
          variables?: Json | null
        }
        Relationships: [
          {
            foreignKeyName: "communication_templates_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "communication_templates_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      communication_unrouted_emails: {
        Row: {
          company_id: string | null
          created_at: string
          error_message: string | null
          from_address: string
          id: string
          payload: Json
          processed_at: string | null
          received_at: string
          status: string
          subject: string | null
          to_address: string
          updated_at: string
        }
        Insert: {
          company_id?: string | null
          created_at?: string
          error_message?: string | null
          from_address: string
          id?: string
          payload: Json
          processed_at?: string | null
          received_at?: string
          status?: string
          subject?: string | null
          to_address: string
          updated_at?: string
        }
        Update: {
          company_id?: string | null
          created_at?: string
          error_message?: string | null
          from_address?: string
          id?: string
          payload?: Json
          processed_at?: string | null
          received_at?: string
          status?: string
          subject?: string | null
          to_address?: string
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "communication_unrouted_emails_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "communication_unrouted_emails_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      communications: {
        Row: {
          action_items_count: number | null
          answering_machine_detected: boolean | null
          assigned_to: string | null
          attachment_count: number | null
          attachment_opened: boolean | null
          attachments: Json | null
          automation_template_id: string | null
          automation_trigger: string | null
          automation_workflow_id: string | null
          bcc_address: string | null
          bcc_addresses: Json | null
          body: string
          body_html: string | null
          body_plain: string | null
          booking_id: string | null
          bounce_type: string | null
          call_answered_at: string | null
          call_duration: number | null
          call_ended_at: string | null
          call_recording_url: string | null
          call_sentiment: string | null
          call_transcript: string | null
          callback_completed: boolean | null
          callback_requested: boolean | null
          category: string | null
          cc_address: string | null
          cc_addresses: Json | null
          channel: string | null
          click_count: number | null
          clicked_at: string | null
          company_id: string
          compliance_flags: string[] | null
          compliance_reviewed: boolean | null
          cost: number | null
          created_at: string
          created_by: string | null
          customer_id: string | null
          customer_satisfaction_predicted: number | null
          deleted_at: string | null
          deleted_by: string | null
          delivered_at: string | null
          delivery_error_code: string | null
          delivery_status: string | null
          direction: string
          emotion_detected: string | null
          escalated_to_user_id: string | null
          escalation_reason: string | null
          escalation_required: boolean | null
          estimate_id: string | null
          failure_reason: string | null
          first_contact_resolution: boolean | null
          from_address: string | null
          from_name: string | null
          hangup_cause: string | null
          hangup_source: string | null
          hold_time_seconds: number | null
          id: string
          intent_detected: string | null
          invoice_id: string | null
          is_archived: boolean
          is_automated: boolean
          is_internal: boolean
          is_spam: boolean | null
          is_thread_starter: boolean
          job_id: string | null
          keyword_matches: string[] | null
          lead_to_booking: boolean | null
          link_clicks: number | null
          links_clicked: string[] | null
          open_count: number | null
          opened_at: string | null
          parent_id: string | null
          phone_number_id: string | null
          pii_detected: boolean | null
          priority: string
          property_id: string | null
          provider_message_id: string | null
          provider_metadata: Json | null
          provider_status: string | null
          quality_score: number | null
          read_at: string | null
          recording_channels: string | null
          recording_url: string | null
          resolution_time_minutes: number | null
          response_time_minutes: number | null
          retry_count: number | null
          revenue_attributed: number | null
          scheduled_for: string | null
          sent_at: string | null
          sent_by: string | null
          sentiment_label: string | null
          sentiment_score: number | null
          silence_percentage: number | null
          sms_segments: number | null
          snoozed_until: string | null
          spam_score: number | null
          status: string
          subject: string | null
          tags: Json | null
          talk_time_seconds: number | null
          telnyx_call_control_id: string | null
          telnyx_call_session_id: string | null
          telnyx_message_id: string | null
          template_id: string | null
          thread_id: string | null
          to_address: string
          to_name: string | null
          topics: string[] | null
          transfer_count: number | null
          type: string
          unsubscribe_triggered: boolean | null
          updated_at: string
          updated_by: string | null
          urgency_detected: boolean | null
          urgency_keywords: string[] | null
          voicemail_left: boolean | null
        }
        Insert: {
          action_items_count?: number | null
          answering_machine_detected?: boolean | null
          assigned_to?: string | null
          attachment_count?: number | null
          attachment_opened?: boolean | null
          attachments?: Json | null
          automation_template_id?: string | null
          automation_trigger?: string | null
          automation_workflow_id?: string | null
          bcc_address?: string | null
          bcc_addresses?: Json | null
          body: string
          body_html?: string | null
          body_plain?: string | null
          booking_id?: string | null
          bounce_type?: string | null
          call_answered_at?: string | null
          call_duration?: number | null
          call_ended_at?: string | null
          call_recording_url?: string | null
          call_sentiment?: string | null
          call_transcript?: string | null
          callback_completed?: boolean | null
          callback_requested?: boolean | null
          category?: string | null
          cc_address?: string | null
          cc_addresses?: Json | null
          channel?: string | null
          click_count?: number | null
          clicked_at?: string | null
          company_id: string
          compliance_flags?: string[] | null
          compliance_reviewed?: boolean | null
          cost?: number | null
          created_at?: string
          created_by?: string | null
          customer_id?: string | null
          customer_satisfaction_predicted?: number | null
          deleted_at?: string | null
          deleted_by?: string | null
          delivered_at?: string | null
          delivery_error_code?: string | null
          delivery_status?: string | null
          direction: string
          emotion_detected?: string | null
          escalated_to_user_id?: string | null
          escalation_reason?: string | null
          escalation_required?: boolean | null
          estimate_id?: string | null
          failure_reason?: string | null
          first_contact_resolution?: boolean | null
          from_address?: string | null
          from_name?: string | null
          hangup_cause?: string | null
          hangup_source?: string | null
          hold_time_seconds?: number | null
          id?: string
          intent_detected?: string | null
          invoice_id?: string | null
          is_archived?: boolean
          is_automated?: boolean
          is_internal?: boolean
          is_spam?: boolean | null
          is_thread_starter?: boolean
          job_id?: string | null
          keyword_matches?: string[] | null
          lead_to_booking?: boolean | null
          link_clicks?: number | null
          links_clicked?: string[] | null
          open_count?: number | null
          opened_at?: string | null
          parent_id?: string | null
          phone_number_id?: string | null
          pii_detected?: boolean | null
          priority?: string
          property_id?: string | null
          provider_message_id?: string | null
          provider_metadata?: Json | null
          provider_status?: string | null
          quality_score?: number | null
          read_at?: string | null
          recording_channels?: string | null
          recording_url?: string | null
          resolution_time_minutes?: number | null
          response_time_minutes?: number | null
          retry_count?: number | null
          revenue_attributed?: number | null
          scheduled_for?: string | null
          sent_at?: string | null
          sent_by?: string | null
          sentiment_label?: string | null
          sentiment_score?: number | null
          silence_percentage?: number | null
          sms_segments?: number | null
          snoozed_until?: string | null
          spam_score?: number | null
          status?: string
          subject?: string | null
          tags?: Json | null
          talk_time_seconds?: number | null
          telnyx_call_control_id?: string | null
          telnyx_call_session_id?: string | null
          telnyx_message_id?: string | null
          template_id?: string | null
          thread_id?: string | null
          to_address: string
          to_name?: string | null
          topics?: string[] | null
          transfer_count?: number | null
          type: string
          unsubscribe_triggered?: boolean | null
          updated_at?: string
          updated_by?: string | null
          urgency_detected?: boolean | null
          urgency_keywords?: string[] | null
          voicemail_left?: boolean | null
        }
        Update: {
          action_items_count?: number | null
          answering_machine_detected?: boolean | null
          assigned_to?: string | null
          attachment_count?: number | null
          attachment_opened?: boolean | null
          attachments?: Json | null
          automation_template_id?: string | null
          automation_trigger?: string | null
          automation_workflow_id?: string | null
          bcc_address?: string | null
          bcc_addresses?: Json | null
          body?: string
          body_html?: string | null
          body_plain?: string | null
          booking_id?: string | null
          bounce_type?: string | null
          call_answered_at?: string | null
          call_duration?: number | null
          call_ended_at?: string | null
          call_recording_url?: string | null
          call_sentiment?: string | null
          call_transcript?: string | null
          callback_completed?: boolean | null
          callback_requested?: boolean | null
          category?: string | null
          cc_address?: string | null
          cc_addresses?: Json | null
          channel?: string | null
          click_count?: number | null
          clicked_at?: string | null
          company_id?: string
          compliance_flags?: string[] | null
          compliance_reviewed?: boolean | null
          cost?: number | null
          created_at?: string
          created_by?: string | null
          customer_id?: string | null
          customer_satisfaction_predicted?: number | null
          deleted_at?: string | null
          deleted_by?: string | null
          delivered_at?: string | null
          delivery_error_code?: string | null
          delivery_status?: string | null
          direction?: string
          emotion_detected?: string | null
          escalated_to_user_id?: string | null
          escalation_reason?: string | null
          escalation_required?: boolean | null
          estimate_id?: string | null
          failure_reason?: string | null
          first_contact_resolution?: boolean | null
          from_address?: string | null
          from_name?: string | null
          hangup_cause?: string | null
          hangup_source?: string | null
          hold_time_seconds?: number | null
          id?: string
          intent_detected?: string | null
          invoice_id?: string | null
          is_archived?: boolean
          is_automated?: boolean
          is_internal?: boolean
          is_spam?: boolean | null
          is_thread_starter?: boolean
          job_id?: string | null
          keyword_matches?: string[] | null
          lead_to_booking?: boolean | null
          link_clicks?: number | null
          links_clicked?: string[] | null
          open_count?: number | null
          opened_at?: string | null
          parent_id?: string | null
          phone_number_id?: string | null
          pii_detected?: boolean | null
          priority?: string
          property_id?: string | null
          provider_message_id?: string | null
          provider_metadata?: Json | null
          provider_status?: string | null
          quality_score?: number | null
          read_at?: string | null
          recording_channels?: string | null
          recording_url?: string | null
          resolution_time_minutes?: number | null
          response_time_minutes?: number | null
          retry_count?: number | null
          revenue_attributed?: number | null
          scheduled_for?: string | null
          sent_at?: string | null
          sent_by?: string | null
          sentiment_label?: string | null
          sentiment_score?: number | null
          silence_percentage?: number | null
          sms_segments?: number | null
          snoozed_until?: string | null
          spam_score?: number | null
          status?: string
          subject?: string | null
          tags?: Json | null
          talk_time_seconds?: number | null
          telnyx_call_control_id?: string | null
          telnyx_call_session_id?: string | null
          telnyx_message_id?: string | null
          template_id?: string | null
          thread_id?: string | null
          to_address?: string
          to_name?: string | null
          topics?: string[] | null
          transfer_count?: number | null
          type?: string
          unsubscribe_triggered?: boolean | null
          updated_at?: string
          updated_by?: string | null
          urgency_detected?: boolean | null
          urgency_keywords?: string[] | null
          voicemail_left?: boolean | null
        }
        Relationships: [
          {
            foreignKeyName: "communications_assigned_to_users_id_fk"
            columns: ["assigned_to"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "communications_booking_id_fkey"
            columns: ["booking_id"]
            isOneToOne: false
            referencedRelation: "appointments"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "communications_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "communications_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "communications_created_by_fkey"
            columns: ["created_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "communications_customer_id_customers_id_fk"
            columns: ["customer_id"]
            isOneToOne: false
            referencedRelation: "customers"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "communications_deleted_by_users_id_fk"
            columns: ["deleted_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "communications_escalated_to_user_id_fkey"
            columns: ["escalated_to_user_id"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "communications_estimate_id_estimates_id_fk"
            columns: ["estimate_id"]
            isOneToOne: false
            referencedRelation: "estimates"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "communications_invoice_id_invoices_id_fk"
            columns: ["invoice_id"]
            isOneToOne: false
            referencedRelation: "invoices"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "communications_job_id_jobs_id_fk"
            columns: ["job_id"]
            isOneToOne: false
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "communications_parent_id_communications_id_fk"
            columns: ["parent_id"]
            isOneToOne: false
            referencedRelation: "communications"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "communications_phone_number_id_fkey"
            columns: ["phone_number_id"]
            isOneToOne: false
            referencedRelation: "phone_numbers"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "communications_property_id_fkey"
            columns: ["property_id"]
            isOneToOne: false
            referencedRelation: "properties"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "communications_sent_by_users_id_fk"
            columns: ["sent_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "communications_updated_by_fkey"
            columns: ["updated_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      companies: {
        Row: {
          address: string | null
          archived_at: string | null
          brand_accent_color: string | null
          brand_color: string | null
          brand_font: string | null
          brand_primary_color: string | null
          brand_secondary_color: string | null
          business_timezone: string | null
          city: string | null
          company_size: string | null
          created_at: string
          created_by: string | null
          deleted_at: string | null
          deleted_by: string | null
          doing_business_as: string | null
          ein: string | null
          email: string | null
          email_provider:
            | Database["public"]["Enums"]["company_email_provider"]
            | null
          email_provider_updated_at: string | null
          email_provider_updated_by: string | null
          email_settings: Json | null
          email_tier: string
          email_verified: boolean | null
          email_verified_at: string | null
          id: string
          industry: string | null
          lat: number | null
          legal_name: string | null
          license_number: string | null
          logo: string | null
          logo_square_url: string | null
          logo_url: string | null
          lon: number | null
          name: string
          onboarding_completed_at: string | null
          onboarding_completion_percentage: number | null
          onboarding_data: Json | null
          onboarding_progress: Json | null
          onboarding_step: number | null
          onboarding_step_completed: Json | null
          owner_id: string
          permanent_delete_scheduled_at: string | null
          phone: string | null
          portal_settings: Json | null
          refund_settings: Json | null
          slug: string
          state: string | null
          stripe_subscription_id: string | null
          stripe_subscription_status: string | null
          subscription_cancel_at_period_end: boolean | null
          subscription_current_period_end: string | null
          subscription_current_period_start: string | null
          support_email: string | null
          support_phone: string | null
          tax_id: string | null
          trial_ends_at: string | null
          updated_at: string
          website: string | null
          website_url: string | null
          zip_code: string | null
        }
        Insert: {
          address?: string | null
          archived_at?: string | null
          brand_accent_color?: string | null
          brand_color?: string | null
          brand_font?: string | null
          brand_primary_color?: string | null
          brand_secondary_color?: string | null
          business_timezone?: string | null
          city?: string | null
          company_size?: string | null
          created_at?: string
          created_by?: string | null
          deleted_at?: string | null
          deleted_by?: string | null
          doing_business_as?: string | null
          ein?: string | null
          email?: string | null
          email_provider?:
            | Database["public"]["Enums"]["company_email_provider"]
            | null
          email_provider_updated_at?: string | null
          email_provider_updated_by?: string | null
          email_settings?: Json | null
          email_tier?: string
          email_verified?: boolean | null
          email_verified_at?: string | null
          id?: string
          industry?: string | null
          lat?: number | null
          legal_name?: string | null
          license_number?: string | null
          logo?: string | null
          logo_square_url?: string | null
          logo_url?: string | null
          lon?: number | null
          name: string
          onboarding_completed_at?: string | null
          onboarding_completion_percentage?: number | null
          onboarding_data?: Json | null
          onboarding_progress?: Json | null
          onboarding_step?: number | null
          onboarding_step_completed?: Json | null
          owner_id: string
          permanent_delete_scheduled_at?: string | null
          phone?: string | null
          portal_settings?: Json | null
          refund_settings?: Json | null
          slug: string
          state?: string | null
          stripe_subscription_id?: string | null
          stripe_subscription_status?: string | null
          subscription_cancel_at_period_end?: boolean | null
          subscription_current_period_end?: string | null
          subscription_current_period_start?: string | null
          support_email?: string | null
          support_phone?: string | null
          tax_id?: string | null
          trial_ends_at?: string | null
          updated_at?: string
          website?: string | null
          website_url?: string | null
          zip_code?: string | null
        }
        Update: {
          address?: string | null
          archived_at?: string | null
          brand_accent_color?: string | null
          brand_color?: string | null
          brand_font?: string | null
          brand_primary_color?: string | null
          brand_secondary_color?: string | null
          business_timezone?: string | null
          city?: string | null
          company_size?: string | null
          created_at?: string
          created_by?: string | null
          deleted_at?: string | null
          deleted_by?: string | null
          doing_business_as?: string | null
          ein?: string | null
          email?: string | null
          email_provider?:
            | Database["public"]["Enums"]["company_email_provider"]
            | null
          email_provider_updated_at?: string | null
          email_provider_updated_by?: string | null
          email_settings?: Json | null
          email_tier?: string
          email_verified?: boolean | null
          email_verified_at?: string | null
          id?: string
          industry?: string | null
          lat?: number | null
          legal_name?: string | null
          license_number?: string | null
          logo?: string | null
          logo_square_url?: string | null
          logo_url?: string | null
          lon?: number | null
          name?: string
          onboarding_completed_at?: string | null
          onboarding_completion_percentage?: number | null
          onboarding_data?: Json | null
          onboarding_progress?: Json | null
          onboarding_step?: number | null
          onboarding_step_completed?: Json | null
          owner_id?: string
          permanent_delete_scheduled_at?: string | null
          phone?: string | null
          portal_settings?: Json | null
          refund_settings?: Json | null
          slug?: string
          state?: string | null
          stripe_subscription_id?: string | null
          stripe_subscription_status?: string | null
          subscription_cancel_at_period_end?: boolean | null
          subscription_current_period_end?: string | null
          subscription_current_period_start?: string | null
          support_email?: string | null
          support_phone?: string | null
          tax_id?: string | null
          trial_ends_at?: string | null
          updated_at?: string
          website?: string | null
          website_url?: string | null
          zip_code?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "companies_owner_id_fkey"
            columns: ["owner_id"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      company_email_domains: {
        Row: {
          bounce_rate: number | null
          company_id: string
          created_at: string
          custom_return_path: string | null
          daily_limit: number
          dkim_verified: boolean | null
          dmarc_verified: boolean | null
          dns_records: Json | null
          domain_name: string
          emails_sent_this_hour: number
          emails_sent_today: number
          hard_bounces: number
          hourly_limit: number
          id: string
          is_platform_subdomain: boolean
          is_suspended: boolean
          last_day_reset: string | null
          last_health_check: string | null
          last_hour_reset: string | null
          last_synced_at: string | null
          last_verified_at: string | null
          postmark_confirmed: boolean | null
          postmark_dkim_verified: boolean | null
          postmark_return_path_verified: boolean | null
          postmark_signature_id: number | null
          receiving_enabled: boolean | null
          region: string | null
          reply_to_email: string | null
          reputation_score: number | null
          resend_api_key_encrypted: string | null
          resend_domain_id: string | null
          sending_addresses: Json | null
          sending_enabled: boolean | null
          soft_bounces: number
          spam_complaints: number
          spf_verified: boolean | null
          status: string
          subdomain: string
          suspended_at: string | null
          suspension_reason: string | null
          tier: string
          total_emails_sent: number
          updated_at: string
          warmup_completed: boolean | null
        }
        Insert: {
          bounce_rate?: number | null
          company_id: string
          created_at?: string
          custom_return_path?: string | null
          daily_limit?: number
          dkim_verified?: boolean | null
          dmarc_verified?: boolean | null
          dns_records?: Json | null
          domain_name: string
          emails_sent_this_hour?: number
          emails_sent_today?: number
          hard_bounces?: number
          hourly_limit?: number
          id?: string
          is_platform_subdomain?: boolean
          is_suspended?: boolean
          last_day_reset?: string | null
          last_health_check?: string | null
          last_hour_reset?: string | null
          last_synced_at?: string | null
          last_verified_at?: string | null
          postmark_confirmed?: boolean | null
          postmark_dkim_verified?: boolean | null
          postmark_return_path_verified?: boolean | null
          postmark_signature_id?: number | null
          receiving_enabled?: boolean | null
          region?: string | null
          reply_to_email?: string | null
          reputation_score?: number | null
          resend_api_key_encrypted?: string | null
          resend_domain_id?: string | null
          sending_addresses?: Json | null
          sending_enabled?: boolean | null
          soft_bounces?: number
          spam_complaints?: number
          spf_verified?: boolean | null
          status?: string
          subdomain?: string
          suspended_at?: string | null
          suspension_reason?: string | null
          tier?: string
          total_emails_sent?: number
          updated_at?: string
          warmup_completed?: boolean | null
        }
        Update: {
          bounce_rate?: number | null
          company_id?: string
          created_at?: string
          custom_return_path?: string | null
          daily_limit?: number
          dkim_verified?: boolean | null
          dmarc_verified?: boolean | null
          dns_records?: Json | null
          domain_name?: string
          emails_sent_this_hour?: number
          emails_sent_today?: number
          hard_bounces?: number
          hourly_limit?: number
          id?: string
          is_platform_subdomain?: boolean
          is_suspended?: boolean
          last_day_reset?: string | null
          last_health_check?: string | null
          last_hour_reset?: string | null
          last_synced_at?: string | null
          last_verified_at?: string | null
          postmark_confirmed?: boolean | null
          postmark_dkim_verified?: boolean | null
          postmark_return_path_verified?: boolean | null
          postmark_signature_id?: number | null
          receiving_enabled?: boolean | null
          region?: string | null
          reply_to_email?: string | null
          reputation_score?: number | null
          resend_api_key_encrypted?: string | null
          resend_domain_id?: string | null
          sending_addresses?: Json | null
          sending_enabled?: boolean | null
          soft_bounces?: number
          spam_complaints?: number
          spf_verified?: boolean | null
          status?: string
          subdomain?: string
          suspended_at?: string | null
          suspension_reason?: string | null
          tier?: string
          total_emails_sent?: number
          updated_at?: string
          warmup_completed?: boolean | null
        }
        Relationships: [
          {
            foreignKeyName: "company_email_domains_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "company_email_domains_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      company_gmail_tokens: {
        Row: {
          access_token: string
          company_id: string
          connected_by: string | null
          connected_by_name: string | null
          created_at: string | null
          gmail_display_name: string | null
          gmail_email: string
          id: string
          is_valid: boolean | null
          last_error: string | null
          last_used_at: string | null
          refresh_token: string
          scopes: string[] | null
          token_expires_at: string
          updated_at: string | null
        }
        Insert: {
          access_token: string
          company_id: string
          connected_by?: string | null
          connected_by_name?: string | null
          created_at?: string | null
          gmail_display_name?: string | null
          gmail_email: string
          id?: string
          is_valid?: boolean | null
          last_error?: string | null
          last_used_at?: string | null
          refresh_token: string
          scopes?: string[] | null
          token_expires_at: string
          updated_at?: string | null
        }
        Update: {
          access_token?: string
          company_id?: string
          connected_by?: string | null
          connected_by_name?: string | null
          created_at?: string | null
          gmail_display_name?: string | null
          gmail_email?: string
          id?: string
          is_valid?: boolean | null
          last_error?: string | null
          last_used_at?: string | null
          refresh_token?: string
          scopes?: string[] | null
          token_expires_at?: string
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "company_gmail_tokens_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "company_gmail_tokens_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      company_holidays: {
        Row: {
          company_id: string
          created_at: string | null
          enabled: boolean | null
          holiday_date: string
          id: string
          is_recurring: boolean | null
          name: string
          recurrence_type: string | null
          routing_rule_id: string | null
          special_greeting_message: string | null
          updated_at: string | null
        }
        Insert: {
          company_id: string
          created_at?: string | null
          enabled?: boolean | null
          holiday_date: string
          id?: string
          is_recurring?: boolean | null
          name: string
          recurrence_type?: string | null
          routing_rule_id?: string | null
          special_greeting_message?: string | null
          updated_at?: string | null
        }
        Update: {
          company_id?: string
          created_at?: string | null
          enabled?: boolean | null
          holiday_date?: string
          id?: string
          is_recurring?: boolean | null
          name?: string
          recurrence_type?: string | null
          routing_rule_id?: string | null
          special_greeting_message?: string | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "company_holidays_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "company_holidays_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "company_holidays_routing_rule_id_fkey"
            columns: ["routing_rule_id"]
            isOneToOne: false
            referencedRelation: "call_routing_rules"
            referencedColumns: ["id"]
          },
        ]
      }
      company_memberships: {
        Row: {
          accepted_at: string | null
          annual_salary: number | null
          archived_at: string | null
          availability_schedule: Json | null
          certifications: Json | null
          city: string | null
          commission_rate: number | null
          commission_structure: Json | null
          company_id: string
          country: string | null
          created_at: string | null
          department_id: string | null
          emergency_contact_name: string | null
          emergency_contact_phone: string | null
          emergency_contact_relationship: string | null
          employee_id: string | null
          employment_type: string | null
          hire_date: string | null
          hourly_rate: number | null
          id: string
          invited_at: string | null
          job_title: string | null
          last_review_date: string | null
          licenses: Json | null
          max_weekly_hours: number | null
          next_review_date: string | null
          notes: string | null
          overtime_eligible: boolean | null
          pay_type: string | null
          performance_notes: string | null
          permissions: Json | null
          postal_code: string | null
          preferred_job_types: string[] | null
          role: string
          service_areas: string[] | null
          skills: string[] | null
          state: string | null
          status: string
          street_address: string | null
          updated_at: string | null
          user_id: string
          work_location: string | null
          work_schedule: string | null
        }
        Insert: {
          accepted_at?: string | null
          annual_salary?: number | null
          archived_at?: string | null
          availability_schedule?: Json | null
          certifications?: Json | null
          city?: string | null
          commission_rate?: number | null
          commission_structure?: Json | null
          company_id: string
          country?: string | null
          created_at?: string | null
          department_id?: string | null
          emergency_contact_name?: string | null
          emergency_contact_phone?: string | null
          emergency_contact_relationship?: string | null
          employee_id?: string | null
          employment_type?: string | null
          hire_date?: string | null
          hourly_rate?: number | null
          id?: string
          invited_at?: string | null
          job_title?: string | null
          last_review_date?: string | null
          licenses?: Json | null
          max_weekly_hours?: number | null
          next_review_date?: string | null
          notes?: string | null
          overtime_eligible?: boolean | null
          pay_type?: string | null
          performance_notes?: string | null
          permissions?: Json | null
          postal_code?: string | null
          preferred_job_types?: string[] | null
          role: string
          service_areas?: string[] | null
          skills?: string[] | null
          state?: string | null
          status?: string
          street_address?: string | null
          updated_at?: string | null
          user_id: string
          work_location?: string | null
          work_schedule?: string | null
        }
        Update: {
          accepted_at?: string | null
          annual_salary?: number | null
          archived_at?: string | null
          availability_schedule?: Json | null
          certifications?: Json | null
          city?: string | null
          commission_rate?: number | null
          commission_structure?: Json | null
          company_id?: string
          country?: string | null
          created_at?: string | null
          department_id?: string | null
          emergency_contact_name?: string | null
          emergency_contact_phone?: string | null
          emergency_contact_relationship?: string | null
          employee_id?: string | null
          employment_type?: string | null
          hire_date?: string | null
          hourly_rate?: number | null
          id?: string
          invited_at?: string | null
          job_title?: string | null
          last_review_date?: string | null
          licenses?: Json | null
          max_weekly_hours?: number | null
          next_review_date?: string | null
          notes?: string | null
          overtime_eligible?: boolean | null
          pay_type?: string | null
          performance_notes?: string | null
          permissions?: Json | null
          postal_code?: string | null
          preferred_job_types?: string[] | null
          role?: string
          service_areas?: string[] | null
          skills?: string[] | null
          state?: string | null
          status?: string
          street_address?: string | null
          updated_at?: string | null
          user_id?: string
          work_location?: string | null
          work_schedule?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "company_memberships_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "company_memberships_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "company_memberships_department_id_fkey"
            columns: ["department_id"]
            isOneToOne: false
            referencedRelation: "departments"
            referencedColumns: ["id"]
          },
        ]
      }
      company_payment_processors: {
        Row: {
          adyen_account_id: string | null
          adyen_api_key_encrypted: string | null
          adyen_capabilities: Json | null
          adyen_client_key: string | null
          adyen_live_mode: boolean | null
          adyen_merchant_account: string | null
          adyen_onboarding_status: string | null
          bank_account_id: string | null
          company_id: string
          created_at: string
          id: string
          is_primary: boolean | null
          kyc_approved_at: string | null
          kyc_status: string | null
          kyc_submitted_at: string | null
          max_daily_volume: number | null
          max_payment_amount: number | null
          metadata: Json | null
          plaid_access_token_encrypted: string | null
          plaid_client_id: string | null
          plaid_environment: string | null
          plaid_secret_encrypted: string | null
          processor_type: string
          profitstars_account_number_encrypted: string | null
          profitstars_api_key_encrypted: string | null
          profitstars_merchant_id: string | null
          profitstars_routing_number: string | null
          requires_approval_above: number | null
          status: string
          trust_score: number | null
          updated_at: string
        }
        Insert: {
          adyen_account_id?: string | null
          adyen_api_key_encrypted?: string | null
          adyen_capabilities?: Json | null
          adyen_client_key?: string | null
          adyen_live_mode?: boolean | null
          adyen_merchant_account?: string | null
          adyen_onboarding_status?: string | null
          bank_account_id?: string | null
          company_id: string
          created_at?: string
          id?: string
          is_primary?: boolean | null
          kyc_approved_at?: string | null
          kyc_status?: string | null
          kyc_submitted_at?: string | null
          max_daily_volume?: number | null
          max_payment_amount?: number | null
          metadata?: Json | null
          plaid_access_token_encrypted?: string | null
          plaid_client_id?: string | null
          plaid_environment?: string | null
          plaid_secret_encrypted?: string | null
          processor_type: string
          profitstars_account_number_encrypted?: string | null
          profitstars_api_key_encrypted?: string | null
          profitstars_merchant_id?: string | null
          profitstars_routing_number?: string | null
          requires_approval_above?: number | null
          status?: string
          trust_score?: number | null
          updated_at?: string
        }
        Update: {
          adyen_account_id?: string | null
          adyen_api_key_encrypted?: string | null
          adyen_capabilities?: Json | null
          adyen_client_key?: string | null
          adyen_live_mode?: boolean | null
          adyen_merchant_account?: string | null
          adyen_onboarding_status?: string | null
          bank_account_id?: string | null
          company_id?: string
          created_at?: string
          id?: string
          is_primary?: boolean | null
          kyc_approved_at?: string | null
          kyc_status?: string | null
          kyc_submitted_at?: string | null
          max_daily_volume?: number | null
          max_payment_amount?: number | null
          metadata?: Json | null
          plaid_access_token_encrypted?: string | null
          plaid_client_id?: string | null
          plaid_environment?: string | null
          plaid_secret_encrypted?: string | null
          processor_type?: string
          profitstars_account_number_encrypted?: string | null
          profitstars_api_key_encrypted?: string | null
          profitstars_merchant_id?: string | null
          profitstars_routing_number?: string | null
          requires_approval_above?: number | null
          status?: string
          trust_score?: number | null
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "company_payment_processors_bank_account_id_fkey"
            columns: ["bank_account_id"]
            isOneToOne: false
            referencedRelation: "finance_bank_accounts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "company_payment_processors_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "company_payment_processors_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      company_settings: {
        Row: {
          address: string | null
          address2: string | null
          city: string | null
          company_feed_enabled: boolean | null
          company_id: string
          country: string | null
          created_at: string
          feed_visibility: string | null
          hours_of_operation: Json
          id: string
          service_area_type: string
          service_areas: Json | null
          service_radius: number | null
          state: string | null
          updated_at: string
          zip_code: string | null
        }
        Insert: {
          address?: string | null
          address2?: string | null
          city?: string | null
          company_feed_enabled?: boolean | null
          company_id: string
          country?: string | null
          created_at?: string
          feed_visibility?: string | null
          hours_of_operation: Json
          id?: string
          service_area_type?: string
          service_areas?: Json | null
          service_radius?: number | null
          state?: string | null
          updated_at?: string
          zip_code?: string | null
        }
        Update: {
          address?: string | null
          address2?: string | null
          city?: string | null
          company_feed_enabled?: boolean | null
          company_id?: string
          country?: string | null
          created_at?: string
          feed_visibility?: string | null
          hours_of_operation?: Json
          id?: string
          service_area_type?: string
          service_areas?: Json | null
          service_radius?: number | null
          state?: string | null
          updated_at?: string
          zip_code?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "company_settings_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "company_settings_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      company_telnyx_settings: {
        Row: {
          call_control_application_id: string | null
          company_id: string
          created_at: string
          default_outbound_number: string | null
          default_outbound_phone_number_id: string | null
          last_provisioned_at: string | null
          messaging_profile_id: string | null
          metadata: Json | null
          status: string
          ten_dlc_brand_id: string | null
          ten_dlc_campaign_id: string | null
          updated_at: string
          webhook_secret: string | null
        }
        Insert: {
          call_control_application_id?: string | null
          company_id: string
          created_at?: string
          default_outbound_number?: string | null
          default_outbound_phone_number_id?: string | null
          last_provisioned_at?: string | null
          messaging_profile_id?: string | null
          metadata?: Json | null
          status?: string
          ten_dlc_brand_id?: string | null
          ten_dlc_campaign_id?: string | null
          updated_at?: string
          webhook_secret?: string | null
        }
        Update: {
          call_control_application_id?: string | null
          company_id?: string
          created_at?: string
          default_outbound_number?: string | null
          default_outbound_phone_number_id?: string | null
          last_provisioned_at?: string | null
          messaging_profile_id?: string | null
          metadata?: Json | null
          status?: string
          ten_dlc_brand_id?: string | null
          ten_dlc_campaign_id?: string | null
          updated_at?: string
          webhook_secret?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "company_telnyx_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "company_telnyx_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      consumer_financing_offers: {
        Row: {
          amount: number
          application_url: string | null
          applied_at: string | null
          apr: number | null
          company_id: string
          contractor_fee_amount: number | null
          created_at: string
          created_by: string | null
          currency: string | null
          customer_id: string | null
          decision: string | null
          decision_at: string | null
          decline_reason: string | null
          estimate_id: string | null
          expires_at: string | null
          funded_amount: number | null
          funded_at: string | null
          id: string
          invoice_id: string | null
          job_id: string | null
          metadata: Json | null
          monthly_payment: number | null
          net_funded_amount: number | null
          notes: string | null
          provider: string
          provider_checkout_id: string | null
          provider_loan_id: string | null
          provider_offer_id: string | null
          provider_response: Json | null
          sent_at: string | null
          status: string
          term_months: number | null
          total_amount: number | null
          total_interest: number | null
          updated_at: string
          viewed_at: string | null
        }
        Insert: {
          amount: number
          application_url?: string | null
          applied_at?: string | null
          apr?: number | null
          company_id: string
          contractor_fee_amount?: number | null
          created_at?: string
          created_by?: string | null
          currency?: string | null
          customer_id?: string | null
          decision?: string | null
          decision_at?: string | null
          decline_reason?: string | null
          estimate_id?: string | null
          expires_at?: string | null
          funded_amount?: number | null
          funded_at?: string | null
          id?: string
          invoice_id?: string | null
          job_id?: string | null
          metadata?: Json | null
          monthly_payment?: number | null
          net_funded_amount?: number | null
          notes?: string | null
          provider: string
          provider_checkout_id?: string | null
          provider_loan_id?: string | null
          provider_offer_id?: string | null
          provider_response?: Json | null
          sent_at?: string | null
          status?: string
          term_months?: number | null
          total_amount?: number | null
          total_interest?: number | null
          updated_at?: string
          viewed_at?: string | null
        }
        Update: {
          amount?: number
          application_url?: string | null
          applied_at?: string | null
          apr?: number | null
          company_id?: string
          contractor_fee_amount?: number | null
          created_at?: string
          created_by?: string | null
          currency?: string | null
          customer_id?: string | null
          decision?: string | null
          decision_at?: string | null
          decline_reason?: string | null
          estimate_id?: string | null
          expires_at?: string | null
          funded_amount?: number | null
          funded_at?: string | null
          id?: string
          invoice_id?: string | null
          job_id?: string | null
          metadata?: Json | null
          monthly_payment?: number | null
          net_funded_amount?: number | null
          notes?: string | null
          provider?: string
          provider_checkout_id?: string | null
          provider_loan_id?: string | null
          provider_offer_id?: string | null
          provider_response?: Json | null
          sent_at?: string | null
          status?: string
          term_months?: number | null
          total_amount?: number | null
          total_interest?: number | null
          updated_at?: string
          viewed_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "consumer_financing_offers_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "consumer_financing_offers_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "consumer_financing_offers_customer_id_fkey"
            columns: ["customer_id"]
            isOneToOne: false
            referencedRelation: "customers"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "consumer_financing_offers_estimate_id_fkey"
            columns: ["estimate_id"]
            isOneToOne: false
            referencedRelation: "estimates"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "consumer_financing_offers_invoice_id_fkey"
            columns: ["invoice_id"]
            isOneToOne: false
            referencedRelation: "invoices"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "consumer_financing_offers_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: false
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
        ]
      }
      content_tags: {
        Row: {
          created_at: string
          description: string | null
          id: string
          name: string
          slug: string
        }
        Insert: {
          created_at?: string
          description?: string | null
          id?: string
          name: string
          slug: string
        }
        Update: {
          created_at?: string
          description?: string | null
          id?: string
          name?: string
          slug?: string
        }
        Relationships: []
      }
      contract_tags: {
        Row: {
          contract_id: string
          created_at: string
          tag_id: string
        }
        Insert: {
          contract_id: string
          created_at?: string
          tag_id: string
        }
        Update: {
          contract_id?: string
          created_at?: string
          tag_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "contract_tags_contract_id_fkey"
            columns: ["contract_id"]
            isOneToOne: false
            referencedRelation: "contracts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "contract_tags_tag_id_fkey"
            columns: ["tag_id"]
            isOneToOne: false
            referencedRelation: "tags"
            referencedColumns: ["id"]
          },
        ]
      }
      contracts: {
        Row: {
          amendment_count: number | null
          annual_recurring_value: number | null
          archived_at: string | null
          autopay_enabled: boolean | null
          campaign_source: string | null
          churn_risk_score: number | null
          company_id: string
          complaints_count: number | null
          content: string
          contract_number: string
          contract_type: string
          created_at: string
          created_by: string | null
          customer_satisfaction_avg: number | null
          days_since_last_service: number | null
          days_to_expiry: number | null
          deleted_at: string | null
          deleted_by: string | null
          description: string | null
          discount_amount: number | null
          discount_percent: number | null
          discount_reason: string | null
          downgrade_count: number | null
          escalations_count: number | null
          estimate_id: string | null
          id: string
          invoice_id: string | null
          ip_address: string | null
          issues_count: number | null
          job_id: string | null
          last_service_under_contract: string | null
          late_payment_count: number | null
          metadata: Json | null
          monthly_recurring_value: number | null
          next_service_under_contract: string | null
          notes: string | null
          nps_score: number | null
          original_contract_id: string | null
          overage_count: number | null
          overage_revenue: number | null
          payment_failures_count: number | null
          payment_method: string | null
          permanent_delete_scheduled_at: string | null
          previous_contract_value: number | null
          price_increases_count: number | null
          referral_revenue: number | null
          referrals_from_contract: number | null
          renewal_count: number | null
          renewal_price_change: number | null
          renewal_price_change_percent: number | null
          renewal_probability: number | null
          sales_method: string | null
          search_vector: unknown
          sent_at: string | null
          services_delivered_count: number | null
          services_included: number | null
          services_remaining_count: number | null
          setup_fee: number | null
          signature: string | null
          signed_at: string | null
          signer_company: string | null
          signer_email: string | null
          signer_name: string | null
          signer_title: string | null
          sold_by_user_id: string | null
          sold_during_job_id: string | null
          status: string
          template_id: string | null
          terms: string | null
          title: string
          total_price_increase_amount: number | null
          total_value: number | null
          updated_at: string
          updated_by: string | null
          upgrade_count: number | null
          utilization_rate: number | null
          valid_from: string | null
          valid_until: string | null
          value_delivered: number | null
          value_remaining: number | null
          viewed_at: string | null
        }
        Insert: {
          amendment_count?: number | null
          annual_recurring_value?: number | null
          archived_at?: string | null
          autopay_enabled?: boolean | null
          campaign_source?: string | null
          churn_risk_score?: number | null
          company_id: string
          complaints_count?: number | null
          content: string
          contract_number: string
          contract_type?: string
          created_at?: string
          created_by?: string | null
          customer_satisfaction_avg?: number | null
          days_since_last_service?: number | null
          days_to_expiry?: number | null
          deleted_at?: string | null
          deleted_by?: string | null
          description?: string | null
          discount_amount?: number | null
          discount_percent?: number | null
          discount_reason?: string | null
          downgrade_count?: number | null
          escalations_count?: number | null
          estimate_id?: string | null
          id?: string
          invoice_id?: string | null
          ip_address?: string | null
          issues_count?: number | null
          job_id?: string | null
          last_service_under_contract?: string | null
          late_payment_count?: number | null
          metadata?: Json | null
          monthly_recurring_value?: number | null
          next_service_under_contract?: string | null
          notes?: string | null
          nps_score?: number | null
          original_contract_id?: string | null
          overage_count?: number | null
          overage_revenue?: number | null
          payment_failures_count?: number | null
          payment_method?: string | null
          permanent_delete_scheduled_at?: string | null
          previous_contract_value?: number | null
          price_increases_count?: number | null
          referral_revenue?: number | null
          referrals_from_contract?: number | null
          renewal_count?: number | null
          renewal_price_change?: number | null
          renewal_price_change_percent?: number | null
          renewal_probability?: number | null
          sales_method?: string | null
          search_vector?: unknown
          sent_at?: string | null
          services_delivered_count?: number | null
          services_included?: number | null
          services_remaining_count?: number | null
          setup_fee?: number | null
          signature?: string | null
          signed_at?: string | null
          signer_company?: string | null
          signer_email?: string | null
          signer_name?: string | null
          signer_title?: string | null
          sold_by_user_id?: string | null
          sold_during_job_id?: string | null
          status?: string
          template_id?: string | null
          terms?: string | null
          title: string
          total_price_increase_amount?: number | null
          total_value?: number | null
          updated_at?: string
          updated_by?: string | null
          upgrade_count?: number | null
          utilization_rate?: number | null
          valid_from?: string | null
          valid_until?: string | null
          value_delivered?: number | null
          value_remaining?: number | null
          viewed_at?: string | null
        }
        Update: {
          amendment_count?: number | null
          annual_recurring_value?: number | null
          archived_at?: string | null
          autopay_enabled?: boolean | null
          campaign_source?: string | null
          churn_risk_score?: number | null
          company_id?: string
          complaints_count?: number | null
          content?: string
          contract_number?: string
          contract_type?: string
          created_at?: string
          created_by?: string | null
          customer_satisfaction_avg?: number | null
          days_since_last_service?: number | null
          days_to_expiry?: number | null
          deleted_at?: string | null
          deleted_by?: string | null
          description?: string | null
          discount_amount?: number | null
          discount_percent?: number | null
          discount_reason?: string | null
          downgrade_count?: number | null
          escalations_count?: number | null
          estimate_id?: string | null
          id?: string
          invoice_id?: string | null
          ip_address?: string | null
          issues_count?: number | null
          job_id?: string | null
          last_service_under_contract?: string | null
          late_payment_count?: number | null
          metadata?: Json | null
          monthly_recurring_value?: number | null
          next_service_under_contract?: string | null
          notes?: string | null
          nps_score?: number | null
          original_contract_id?: string | null
          overage_count?: number | null
          overage_revenue?: number | null
          payment_failures_count?: number | null
          payment_method?: string | null
          permanent_delete_scheduled_at?: string | null
          previous_contract_value?: number | null
          price_increases_count?: number | null
          referral_revenue?: number | null
          referrals_from_contract?: number | null
          renewal_count?: number | null
          renewal_price_change?: number | null
          renewal_price_change_percent?: number | null
          renewal_probability?: number | null
          sales_method?: string | null
          search_vector?: unknown
          sent_at?: string | null
          services_delivered_count?: number | null
          services_included?: number | null
          services_remaining_count?: number | null
          setup_fee?: number | null
          signature?: string | null
          signed_at?: string | null
          signer_company?: string | null
          signer_email?: string | null
          signer_name?: string | null
          signer_title?: string | null
          sold_by_user_id?: string | null
          sold_during_job_id?: string | null
          status?: string
          template_id?: string | null
          terms?: string | null
          title?: string
          total_price_increase_amount?: number | null
          total_value?: number | null
          updated_at?: string
          updated_by?: string | null
          upgrade_count?: number | null
          utilization_rate?: number | null
          valid_from?: string | null
          valid_until?: string | null
          value_delivered?: number | null
          value_remaining?: number | null
          viewed_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "contracts_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "contracts_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "contracts_created_by_fkey"
            columns: ["created_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "contracts_deleted_by_fkey"
            columns: ["deleted_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "contracts_estimate_id_estimates_id_fk"
            columns: ["estimate_id"]
            isOneToOne: false
            referencedRelation: "estimates"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "contracts_invoice_id_invoices_id_fk"
            columns: ["invoice_id"]
            isOneToOne: false
            referencedRelation: "invoices"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "contracts_job_id_jobs_id_fk"
            columns: ["job_id"]
            isOneToOne: false
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "contracts_original_contract_id_fkey"
            columns: ["original_contract_id"]
            isOneToOne: false
            referencedRelation: "contracts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "contracts_sold_by_user_id_fkey"
            columns: ["sold_by_user_id"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "contracts_sold_during_job_id_fkey"
            columns: ["sold_during_job_id"]
            isOneToOne: false
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "contracts_updated_by_fkey"
            columns: ["updated_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      custom_roles: {
        Row: {
          color: string | null
          company_id: string
          created_at: string
          description: string | null
          id: string
          is_system: boolean
          name: string
          permissions: Json
          updated_at: string
        }
        Insert: {
          color?: string | null
          company_id: string
          created_at?: string
          description?: string | null
          id?: string
          is_system?: boolean
          name: string
          permissions: Json
          updated_at?: string
        }
        Update: {
          color?: string | null
          company_id?: string
          created_at?: string
          description?: string | null
          id?: string
          is_system?: boolean
          name?: string
          permissions?: Json
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "custom_roles_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "custom_roles_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      customer_addresses: {
        Row: {
          access_notes: string | null
          address_line1: string
          address_line2: string | null
          address_type: string
          city: string
          company_id: string
          country: string | null
          created_at: string
          customer_id: string
          deleted_at: string | null
          directions: string | null
          gate_code: string | null
          id: string
          is_default: boolean | null
          label: string | null
          latitude: number | null
          longitude: number | null
          parking_instructions: string | null
          state: string
          updated_at: string
          zip_code: string
        }
        Insert: {
          access_notes?: string | null
          address_line1: string
          address_line2?: string | null
          address_type: string
          city: string
          company_id: string
          country?: string | null
          created_at?: string
          customer_id: string
          deleted_at?: string | null
          directions?: string | null
          gate_code?: string | null
          id?: string
          is_default?: boolean | null
          label?: string | null
          latitude?: number | null
          longitude?: number | null
          parking_instructions?: string | null
          state: string
          updated_at?: string
          zip_code: string
        }
        Update: {
          access_notes?: string | null
          address_line1?: string
          address_line2?: string | null
          address_type?: string
          city?: string
          company_id?: string
          country?: string | null
          created_at?: string
          customer_id?: string
          deleted_at?: string | null
          directions?: string | null
          gate_code?: string | null
          id?: string
          is_default?: boolean | null
          label?: string | null
          latitude?: number | null
          longitude?: number | null
          parking_instructions?: string | null
          state?: string
          updated_at?: string
          zip_code?: string
        }
        Relationships: [
          {
            foreignKeyName: "customer_addresses_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "customer_addresses_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "customer_addresses_customer_id_fkey"
            columns: ["customer_id"]
            isOneToOne: false
            referencedRelation: "customers"
            referencedColumns: ["id"]
          },
        ]
      }
      customer_badges: {
        Row: {
          auto_generated_key: string | null
          badge_type: string
          company_id: string
          created_at: string | null
          customer_id: string
          deleted_at: string | null
          display_order: number | null
          icon: string | null
          id: string
          is_active: boolean | null
          label: string
          metadata: Json | null
          updated_at: string | null
          variant: string | null
        }
        Insert: {
          auto_generated_key?: string | null
          badge_type: string
          company_id: string
          created_at?: string | null
          customer_id: string
          deleted_at?: string | null
          display_order?: number | null
          icon?: string | null
          id?: string
          is_active?: boolean | null
          label: string
          metadata?: Json | null
          updated_at?: string | null
          variant?: string | null
        }
        Update: {
          auto_generated_key?: string | null
          badge_type?: string
          company_id?: string
          created_at?: string | null
          customer_id?: string
          deleted_at?: string | null
          display_order?: number | null
          icon?: string | null
          id?: string
          is_active?: boolean | null
          label?: string
          metadata?: Json | null
          updated_at?: string | null
          variant?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "customer_badges_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "customer_badges_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "customer_badges_customer_id_fkey"
            columns: ["customer_id"]
            isOneToOne: false
            referencedRelation: "customers"
            referencedColumns: ["id"]
          },
        ]
      }
      customer_contacts: {
        Row: {
          company_id: string
          created_at: string
          customer_id: string
          deleted_at: string | null
          email: string
          first_name: string
          id: string
          is_billing_contact: boolean | null
          is_emergency_contact: boolean | null
          is_primary: boolean | null
          last_name: string
          notes: string | null
          phone: string
          preferred_contact_method: string | null
          secondary_phone: string | null
          title: string | null
          updated_at: string
        }
        Insert: {
          company_id: string
          created_at?: string
          customer_id: string
          deleted_at?: string | null
          email: string
          first_name: string
          id?: string
          is_billing_contact?: boolean | null
          is_emergency_contact?: boolean | null
          is_primary?: boolean | null
          last_name: string
          notes?: string | null
          phone: string
          preferred_contact_method?: string | null
          secondary_phone?: string | null
          title?: string | null
          updated_at?: string
        }
        Update: {
          company_id?: string
          created_at?: string
          customer_id?: string
          deleted_at?: string | null
          email?: string
          first_name?: string
          id?: string
          is_billing_contact?: boolean | null
          is_emergency_contact?: boolean | null
          is_primary?: boolean | null
          last_name?: string
          notes?: string | null
          phone?: string
          preferred_contact_method?: string | null
          secondary_phone?: string | null
          title?: string | null
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "customer_contacts_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "customer_contacts_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "customer_contacts_customer_id_fkey"
            columns: ["customer_id"]
            isOneToOne: false
            referencedRelation: "customers"
            referencedColumns: ["id"]
          },
        ]
      }
      customer_custom_fields: {
        Row: {
          company_id: string
          created_at: string | null
          display_order: number | null
          field_key: string
          field_name: string
          field_options: Json | null
          field_type: string
          id: string
          is_active: boolean | null
          is_required: boolean | null
          show_in_list: boolean | null
          updated_at: string | null
        }
        Insert: {
          company_id: string
          created_at?: string | null
          display_order?: number | null
          field_key: string
          field_name: string
          field_options?: Json | null
          field_type: string
          id?: string
          is_active?: boolean | null
          is_required?: boolean | null
          show_in_list?: boolean | null
          updated_at?: string | null
        }
        Update: {
          company_id?: string
          created_at?: string | null
          display_order?: number | null
          field_key?: string
          field_name?: string
          field_options?: Json | null
          field_type?: string
          id?: string
          is_active?: boolean | null
          is_required?: boolean | null
          show_in_list?: boolean | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "customer_custom_fields_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "customer_custom_fields_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      customer_intake_settings: {
        Row: {
          auto_assign_technician: boolean | null
          auto_create_job: boolean | null
          company_id: string
          created_at: string | null
          custom_questions: Json | null
          id: string
          require_address: boolean | null
          require_email: boolean | null
          require_lead_source: boolean | null
          require_phone: boolean | null
          require_property_type: boolean | null
          send_welcome_email: boolean | null
          track_lead_source: boolean | null
          updated_at: string | null
          welcome_email_template_id: string | null
        }
        Insert: {
          auto_assign_technician?: boolean | null
          auto_create_job?: boolean | null
          company_id: string
          created_at?: string | null
          custom_questions?: Json | null
          id?: string
          require_address?: boolean | null
          require_email?: boolean | null
          require_lead_source?: boolean | null
          require_phone?: boolean | null
          require_property_type?: boolean | null
          send_welcome_email?: boolean | null
          track_lead_source?: boolean | null
          updated_at?: string | null
          welcome_email_template_id?: string | null
        }
        Update: {
          auto_assign_technician?: boolean | null
          auto_create_job?: boolean | null
          company_id?: string
          created_at?: string | null
          custom_questions?: Json | null
          id?: string
          require_address?: boolean | null
          require_email?: boolean | null
          require_lead_source?: boolean | null
          require_phone?: boolean | null
          require_property_type?: boolean | null
          send_welcome_email?: boolean | null
          track_lead_source?: boolean | null
          updated_at?: string | null
          welcome_email_template_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "customer_intake_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "customer_intake_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      customer_loyalty_settings: {
        Row: {
          auto_apply_rewards: boolean | null
          company_id: string
          created_at: string | null
          id: string
          loyalty_enabled: boolean | null
          notify_on_points_earned: boolean | null
          points_expiry_days: number | null
          points_per_dollar_spent: number | null
          points_per_referral: number | null
          program_name: string | null
          reward_tiers: Json | null
          updated_at: string | null
        }
        Insert: {
          auto_apply_rewards?: boolean | null
          company_id: string
          created_at?: string | null
          id?: string
          loyalty_enabled?: boolean | null
          notify_on_points_earned?: boolean | null
          points_expiry_days?: number | null
          points_per_dollar_spent?: number | null
          points_per_referral?: number | null
          program_name?: string | null
          reward_tiers?: Json | null
          updated_at?: string | null
        }
        Update: {
          auto_apply_rewards?: boolean | null
          company_id?: string
          created_at?: string | null
          id?: string
          loyalty_enabled?: boolean | null
          notify_on_points_earned?: boolean | null
          points_expiry_days?: number | null
          points_per_dollar_spent?: number | null
          points_per_referral?: number | null
          program_name?: string | null
          reward_tiers?: Json | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "customer_loyalty_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "customer_loyalty_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      customer_notes: {
        Row: {
          company_id: string
          content: string
          created_at: string | null
          customer_id: string
          deleted_at: string | null
          id: string
          is_pinned: boolean | null
          note_type: string
          updated_at: string | null
          user_id: string
        }
        Insert: {
          company_id: string
          content: string
          created_at?: string | null
          customer_id: string
          deleted_at?: string | null
          id?: string
          is_pinned?: boolean | null
          note_type: string
          updated_at?: string | null
          user_id: string
        }
        Update: {
          company_id?: string
          content?: string
          created_at?: string | null
          customer_id?: string
          deleted_at?: string | null
          id?: string
          is_pinned?: boolean | null
          note_type?: string
          updated_at?: string | null
          user_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "customer_notes_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "customer_notes_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "customer_notes_customer_id_fkey"
            columns: ["customer_id"]
            isOneToOne: false
            referencedRelation: "customers"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "customer_notes_user_id_fkey"
            columns: ["user_id"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      customer_portal_settings: {
        Row: {
          allow_booking: boolean | null
          allow_estimate_approval: boolean | null
          allow_invoice_payment: boolean | null
          allow_messaging: boolean | null
          company_id: string
          created_at: string | null
          id: string
          notify_on_appointment: boolean | null
          notify_on_new_estimate: boolean | null
          notify_on_new_invoice: boolean | null
          portal_enabled: boolean | null
          portal_logo_url: string | null
          primary_color: string | null
          require_account_approval: boolean | null
          show_estimates: boolean | null
          show_invoices: boolean | null
          show_service_history: boolean | null
          updated_at: string | null
          welcome_message: string | null
        }
        Insert: {
          allow_booking?: boolean | null
          allow_estimate_approval?: boolean | null
          allow_invoice_payment?: boolean | null
          allow_messaging?: boolean | null
          company_id: string
          created_at?: string | null
          id?: string
          notify_on_appointment?: boolean | null
          notify_on_new_estimate?: boolean | null
          notify_on_new_invoice?: boolean | null
          portal_enabled?: boolean | null
          portal_logo_url?: string | null
          primary_color?: string | null
          require_account_approval?: boolean | null
          show_estimates?: boolean | null
          show_invoices?: boolean | null
          show_service_history?: boolean | null
          updated_at?: string | null
          welcome_message?: string | null
        }
        Update: {
          allow_booking?: boolean | null
          allow_estimate_approval?: boolean | null
          allow_invoice_payment?: boolean | null
          allow_messaging?: boolean | null
          company_id?: string
          created_at?: string | null
          id?: string
          notify_on_appointment?: boolean | null
          notify_on_new_estimate?: boolean | null
          notify_on_new_invoice?: boolean | null
          portal_enabled?: boolean | null
          portal_logo_url?: string | null
          primary_color?: string | null
          require_account_approval?: boolean | null
          show_estimates?: boolean | null
          show_invoices?: boolean | null
          show_service_history?: boolean | null
          updated_at?: string | null
          welcome_message?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "customer_portal_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "customer_portal_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      customer_preference_settings: {
        Row: {
          allow_marketing_emails: boolean | null
          allow_marketing_sms: boolean | null
          auto_tag_customers: boolean | null
          company_id: string
          created_at: string | null
          default_contact_method: string | null
          feedback_delay_hours: number | null
          id: string
          reminder_hours_before: number | null
          request_feedback: boolean | null
          require_service_address: boolean | null
          send_appointment_reminders: boolean | null
          updated_at: string | null
        }
        Insert: {
          allow_marketing_emails?: boolean | null
          allow_marketing_sms?: boolean | null
          auto_tag_customers?: boolean | null
          company_id: string
          created_at?: string | null
          default_contact_method?: string | null
          feedback_delay_hours?: number | null
          id?: string
          reminder_hours_before?: number | null
          request_feedback?: boolean | null
          require_service_address?: boolean | null
          send_appointment_reminders?: boolean | null
          updated_at?: string | null
        }
        Update: {
          allow_marketing_emails?: boolean | null
          allow_marketing_sms?: boolean | null
          auto_tag_customers?: boolean | null
          company_id?: string
          created_at?: string | null
          default_contact_method?: string | null
          feedback_delay_hours?: number | null
          id?: string
          reminder_hours_before?: number | null
          request_feedback?: boolean | null
          require_service_address?: boolean | null
          send_appointment_reminders?: boolean | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "customer_preference_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "customer_preference_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      customer_privacy_settings: {
        Row: {
          auto_delete_inactive_customers: boolean | null
          company_id: string
          created_at: string | null
          data_retention_years: number | null
          enable_data_export: boolean | null
          enable_right_to_deletion: boolean | null
          id: string
          inactive_threshold_years: number | null
          privacy_policy_url: string | null
          require_data_processing_consent: boolean | null
          require_marketing_consent: boolean | null
          terms_of_service_url: string | null
          updated_at: string | null
        }
        Insert: {
          auto_delete_inactive_customers?: boolean | null
          company_id: string
          created_at?: string | null
          data_retention_years?: number | null
          enable_data_export?: boolean | null
          enable_right_to_deletion?: boolean | null
          id?: string
          inactive_threshold_years?: number | null
          privacy_policy_url?: string | null
          require_data_processing_consent?: boolean | null
          require_marketing_consent?: boolean | null
          terms_of_service_url?: string | null
          updated_at?: string | null
        }
        Update: {
          auto_delete_inactive_customers?: boolean | null
          company_id?: string
          created_at?: string | null
          data_retention_years?: number | null
          enable_data_export?: boolean | null
          enable_right_to_deletion?: boolean | null
          id?: string
          inactive_threshold_years?: number | null
          privacy_policy_url?: string | null
          require_data_processing_consent?: boolean | null
          require_marketing_consent?: boolean | null
          terms_of_service_url?: string | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "customer_privacy_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "customer_privacy_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      customer_service_flags: {
        Row: {
          color: string | null
          company_id: string
          created_at: string
          display_order: number | null
          flag_description: string | null
          flag_name: string
          flag_type: string | null
          icon: string | null
          id: string
          is_active: boolean | null
          updated_at: string
        }
        Insert: {
          color?: string | null
          company_id: string
          created_at?: string
          display_order?: number | null
          flag_description?: string | null
          flag_name: string
          flag_type?: string | null
          icon?: string | null
          id?: string
          is_active?: boolean | null
          updated_at?: string
        }
        Update: {
          color?: string | null
          company_id?: string
          created_at?: string
          display_order?: number | null
          flag_description?: string | null
          flag_name?: string
          flag_type?: string | null
          icon?: string | null
          id?: string
          is_active?: boolean | null
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "customer_service_flags_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "customer_service_flags_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      customer_tags: {
        Row: {
          added_at: string
          added_by: string | null
          customer_id: string
          tag_id: string
        }
        Insert: {
          added_at?: string
          added_by?: string | null
          customer_id: string
          tag_id: string
        }
        Update: {
          added_at?: string
          added_by?: string | null
          customer_id?: string
          tag_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "customer_tags_added_by_users_id_fk"
            columns: ["added_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "customer_tags_customer_id_customers_id_fk"
            columns: ["customer_id"]
            isOneToOne: false
            referencedRelation: "customers"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "customer_tags_tag_id_tags_id_fk"
            columns: ["tag_id"]
            isOneToOne: false
            referencedRelation: "tags"
            referencedColumns: ["id"]
          },
        ]
      }
      customers: {
        Row: {
          acquisition_cost: number | null
          acquisition_date: string | null
          active_contract_value: number | null
          address: string | null
          address2: string | null
          archived_at: string | null
          autopay_enrolled: boolean | null
          average_days_between_services: number | null
          average_days_to_pay: number | null
          average_estimate_value: number | null
          average_job_value: number | null
          average_response_time_hours: number | null
          average_satisfaction_rating: number | null
          billing_email: string | null
          cancellation_count: number | null
          churn_risk: string | null
          churn_risk_updated_at: string | null
          city: string | null
          communication_preferences: Json | null
          company_id: string
          company_name: string | null
          content_updated_at: string | null
          content_updated_by: string | null
          content_version: number | null
          contract_renewal_count: number | null
          country: string | null
          created_at: string
          created_by: string | null
          credit_limit: number | null
          customer_first_time_fix_rate: number | null
          customer_segment: string | null
          default_address_id: string | null
          deleted_at: string | null
          deleted_by: string | null
          directions: string | null
          display_name: string
          email: string
          email_engagement_score: number | null
          equipment_count: number | null
          estimate_acceptance_rate: number | null
          estimated_annual_value: number | null
          estimates_accepted: number | null
          estimates_declined: number | null
          expected_next_service_date: string | null
          first_name: string
          first_service_date: string | null
          health_score: number | null
          id: string
          internal_notes: string | null
          is_business: boolean | null
          last_contact_date: string | null
          last_invoice_date: string | null
          last_job_date: string | null
          last_name: string
          last_payment_date: string | null
          lat: number | null
          lifetime_value: number | null
          lon: number | null
          marketing_opt_in: boolean | null
          metadata: Json | null
          no_show_count: number | null
          notes: string | null
          nps_score: number | null
          on_time_payment_rate: number | null
          outstanding_balance: number | null
          page_content: Json | null
          page_layout: Json | null
          payment_terms: string | null
          payment_timeliness_score: number | null
          phone: string
          portal_enabled: boolean
          portal_invited_at: string | null
          portal_last_login_at: string | null
          preferred_contact_method: string | null
          preferred_payment_method: string | null
          preferred_service_days: string[] | null
          preferred_technician: string | null
          preferred_time_window: string | null
          primary_contact_id: string | null
          property_count: number | null
          referral_revenue: number | null
          referral_source: string | null
          referred_by: string | null
          referred_by_customer_id: string | null
          reschedule_count: number | null
          revenue_trend: string | null
          sales_context: string | null
          search_vector: unknown
          seasonal_preference: string | null
          secondary_phone: string | null
          segment_updated_at: string | null
          service_flags: Json | null
          service_frequency: string | null
          sms_opt_in: boolean | null
          source: string | null
          state: string | null
          status: string
          stripe_customer_id: string | null
          tags: Json | null
          tax_exempt: boolean
          tax_exempt_number: string | null
          total_callbacks: number | null
          total_communications: number | null
          total_contract_revenue: number | null
          total_estimates: number | null
          total_invoices: number | null
          total_jobs: number | null
          total_referrals_made: number | null
          total_revenue: number | null
          total_reviews: number | null
          type: string
          updated_at: string
          updated_by: string | null
          upsell_acceptance_rate: number | null
          upsell_revenue: number | null
          upsells_accepted: number | null
          upsells_offered: number | null
          user_id: string | null
          zip_code: string | null
        }
        Insert: {
          acquisition_cost?: number | null
          acquisition_date?: string | null
          active_contract_value?: number | null
          address?: string | null
          address2?: string | null
          archived_at?: string | null
          autopay_enrolled?: boolean | null
          average_days_between_services?: number | null
          average_days_to_pay?: number | null
          average_estimate_value?: number | null
          average_job_value?: number | null
          average_response_time_hours?: number | null
          average_satisfaction_rating?: number | null
          billing_email?: string | null
          cancellation_count?: number | null
          churn_risk?: string | null
          churn_risk_updated_at?: string | null
          city?: string | null
          communication_preferences?: Json | null
          company_id: string
          company_name?: string | null
          content_updated_at?: string | null
          content_updated_by?: string | null
          content_version?: number | null
          contract_renewal_count?: number | null
          country?: string | null
          created_at?: string
          created_by?: string | null
          credit_limit?: number | null
          customer_first_time_fix_rate?: number | null
          customer_segment?: string | null
          default_address_id?: string | null
          deleted_at?: string | null
          deleted_by?: string | null
          directions?: string | null
          display_name: string
          email: string
          email_engagement_score?: number | null
          equipment_count?: number | null
          estimate_acceptance_rate?: number | null
          estimated_annual_value?: number | null
          estimates_accepted?: number | null
          estimates_declined?: number | null
          expected_next_service_date?: string | null
          first_name: string
          first_service_date?: string | null
          health_score?: number | null
          id?: string
          internal_notes?: string | null
          is_business?: boolean | null
          last_contact_date?: string | null
          last_invoice_date?: string | null
          last_job_date?: string | null
          last_name: string
          last_payment_date?: string | null
          lat?: number | null
          lifetime_value?: number | null
          lon?: number | null
          marketing_opt_in?: boolean | null
          metadata?: Json | null
          no_show_count?: number | null
          notes?: string | null
          nps_score?: number | null
          on_time_payment_rate?: number | null
          outstanding_balance?: number | null
          page_content?: Json | null
          page_layout?: Json | null
          payment_terms?: string | null
          payment_timeliness_score?: number | null
          phone: string
          portal_enabled?: boolean
          portal_invited_at?: string | null
          portal_last_login_at?: string | null
          preferred_contact_method?: string | null
          preferred_payment_method?: string | null
          preferred_service_days?: string[] | null
          preferred_technician?: string | null
          preferred_time_window?: string | null
          primary_contact_id?: string | null
          property_count?: number | null
          referral_revenue?: number | null
          referral_source?: string | null
          referred_by?: string | null
          referred_by_customer_id?: string | null
          reschedule_count?: number | null
          revenue_trend?: string | null
          sales_context?: string | null
          search_vector?: unknown
          seasonal_preference?: string | null
          secondary_phone?: string | null
          segment_updated_at?: string | null
          service_flags?: Json | null
          service_frequency?: string | null
          sms_opt_in?: boolean | null
          source?: string | null
          state?: string | null
          status?: string
          stripe_customer_id?: string | null
          tags?: Json | null
          tax_exempt?: boolean
          tax_exempt_number?: string | null
          total_callbacks?: number | null
          total_communications?: number | null
          total_contract_revenue?: number | null
          total_estimates?: number | null
          total_invoices?: number | null
          total_jobs?: number | null
          total_referrals_made?: number | null
          total_revenue?: number | null
          total_reviews?: number | null
          type?: string
          updated_at?: string
          updated_by?: string | null
          upsell_acceptance_rate?: number | null
          upsell_revenue?: number | null
          upsells_accepted?: number | null
          upsells_offered?: number | null
          user_id?: string | null
          zip_code?: string | null
        }
        Update: {
          acquisition_cost?: number | null
          acquisition_date?: string | null
          active_contract_value?: number | null
          address?: string | null
          address2?: string | null
          archived_at?: string | null
          autopay_enrolled?: boolean | null
          average_days_between_services?: number | null
          average_days_to_pay?: number | null
          average_estimate_value?: number | null
          average_job_value?: number | null
          average_response_time_hours?: number | null
          average_satisfaction_rating?: number | null
          billing_email?: string | null
          cancellation_count?: number | null
          churn_risk?: string | null
          churn_risk_updated_at?: string | null
          city?: string | null
          communication_preferences?: Json | null
          company_id?: string
          company_name?: string | null
          content_updated_at?: string | null
          content_updated_by?: string | null
          content_version?: number | null
          contract_renewal_count?: number | null
          country?: string | null
          created_at?: string
          created_by?: string | null
          credit_limit?: number | null
          customer_first_time_fix_rate?: number | null
          customer_segment?: string | null
          default_address_id?: string | null
          deleted_at?: string | null
          deleted_by?: string | null
          directions?: string | null
          display_name?: string
          email?: string
          email_engagement_score?: number | null
          equipment_count?: number | null
          estimate_acceptance_rate?: number | null
          estimated_annual_value?: number | null
          estimates_accepted?: number | null
          estimates_declined?: number | null
          expected_next_service_date?: string | null
          first_name?: string
          first_service_date?: string | null
          health_score?: number | null
          id?: string
          internal_notes?: string | null
          is_business?: boolean | null
          last_contact_date?: string | null
          last_invoice_date?: string | null
          last_job_date?: string | null
          last_name?: string
          last_payment_date?: string | null
          lat?: number | null
          lifetime_value?: number | null
          lon?: number | null
          marketing_opt_in?: boolean | null
          metadata?: Json | null
          no_show_count?: number | null
          notes?: string | null
          nps_score?: number | null
          on_time_payment_rate?: number | null
          outstanding_balance?: number | null
          page_content?: Json | null
          page_layout?: Json | null
          payment_terms?: string | null
          payment_timeliness_score?: number | null
          phone?: string
          portal_enabled?: boolean
          portal_invited_at?: string | null
          portal_last_login_at?: string | null
          preferred_contact_method?: string | null
          preferred_payment_method?: string | null
          preferred_service_days?: string[] | null
          preferred_technician?: string | null
          preferred_time_window?: string | null
          primary_contact_id?: string | null
          property_count?: number | null
          referral_revenue?: number | null
          referral_source?: string | null
          referred_by?: string | null
          referred_by_customer_id?: string | null
          reschedule_count?: number | null
          revenue_trend?: string | null
          sales_context?: string | null
          search_vector?: unknown
          seasonal_preference?: string | null
          secondary_phone?: string | null
          segment_updated_at?: string | null
          service_flags?: Json | null
          service_frequency?: string | null
          sms_opt_in?: boolean | null
          source?: string | null
          state?: string | null
          status?: string
          stripe_customer_id?: string | null
          tags?: Json | null
          tax_exempt?: boolean
          tax_exempt_number?: string | null
          total_callbacks?: number | null
          total_communications?: number | null
          total_contract_revenue?: number | null
          total_estimates?: number | null
          total_invoices?: number | null
          total_jobs?: number | null
          total_referrals_made?: number | null
          total_revenue?: number | null
          total_reviews?: number | null
          type?: string
          updated_at?: string
          updated_by?: string | null
          upsell_acceptance_rate?: number | null
          upsell_revenue?: number | null
          upsells_accepted?: number | null
          upsells_offered?: number | null
          user_id?: string | null
          zip_code?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "customers_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "customers_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "customers_content_updated_by_fkey"
            columns: ["content_updated_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "customers_created_by_fkey"
            columns: ["created_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "customers_deleted_by_users_id_fk"
            columns: ["deleted_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "customers_preferred_technician_users_id_fk"
            columns: ["preferred_technician"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "customers_primary_contact_id_fkey"
            columns: ["primary_contact_id"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "customers_referred_by_customer_id_fkey"
            columns: ["referred_by_customer_id"]
            isOneToOne: false
            referencedRelation: "customers"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "customers_referred_by_customers_id_fk"
            columns: ["referred_by"]
            isOneToOne: false
            referencedRelation: "customers"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "customers_updated_by_fkey"
            columns: ["updated_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "customers_user_id_users_id_fk"
            columns: ["user_id"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_customers_default_address"
            columns: ["default_address_id"]
            isOneToOne: false
            referencedRelation: "customer_addresses"
            referencedColumns: ["id"]
          },
        ]
      }
      data_exports: {
        Row: {
          company_id: string | null
          created_at: string | null
          data_type: string
          expires_at: string | null
          file_url: string | null
          filters: Json | null
          format: string
          id: string
          record_count: number | null
          updated_at: string | null
          user_id: string | null
        }
        Insert: {
          company_id?: string | null
          created_at?: string | null
          data_type: string
          expires_at?: string | null
          file_url?: string | null
          filters?: Json | null
          format: string
          id?: string
          record_count?: number | null
          updated_at?: string | null
          user_id?: string | null
        }
        Update: {
          company_id?: string | null
          created_at?: string | null
          data_type?: string
          expires_at?: string | null
          file_url?: string | null
          filters?: Json | null
          format?: string
          id?: string
          record_count?: number | null
          updated_at?: string | null
          user_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "data_exports_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "data_exports_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      data_import_export_settings: {
        Row: {
          allow_bulk_import: boolean | null
          auto_deduplicate: boolean | null
          auto_export_email: string | null
          auto_export_enabled: boolean | null
          auto_export_frequency: string | null
          company_id: string
          created_at: string | null
          default_export_format: string | null
          id: string
          include_metadata: boolean | null
          require_import_approval: boolean | null
          updated_at: string | null
        }
        Insert: {
          allow_bulk_import?: boolean | null
          auto_deduplicate?: boolean | null
          auto_export_email?: string | null
          auto_export_enabled?: boolean | null
          auto_export_frequency?: string | null
          company_id: string
          created_at?: string | null
          default_export_format?: string | null
          id?: string
          include_metadata?: boolean | null
          require_import_approval?: boolean | null
          updated_at?: string | null
        }
        Update: {
          allow_bulk_import?: boolean | null
          auto_deduplicate?: boolean | null
          auto_export_email?: string | null
          auto_export_enabled?: boolean | null
          auto_export_frequency?: string | null
          company_id?: string
          created_at?: string | null
          default_export_format?: string | null
          id?: string
          include_metadata?: boolean | null
          require_import_approval?: boolean | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "data_import_export_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "data_import_export_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      data_imports: {
        Row: {
          approved_at: string | null
          approved_by: string | null
          backup_data: Json | null
          company_id: string | null
          completed_at: string | null
          created_at: string | null
          data_type: string
          dry_run: boolean | null
          errors: Json | null
          failed_rows: number | null
          file_name: string | null
          id: string
          requires_approval: boolean | null
          status: string
          successful_rows: number | null
          total_rows: number | null
          updated_at: string | null
          user_id: string | null
        }
        Insert: {
          approved_at?: string | null
          approved_by?: string | null
          backup_data?: Json | null
          company_id?: string | null
          completed_at?: string | null
          created_at?: string | null
          data_type: string
          dry_run?: boolean | null
          errors?: Json | null
          failed_rows?: number | null
          file_name?: string | null
          id?: string
          requires_approval?: boolean | null
          status?: string
          successful_rows?: number | null
          total_rows?: number | null
          updated_at?: string | null
          user_id?: string | null
        }
        Update: {
          approved_at?: string | null
          approved_by?: string | null
          backup_data?: Json | null
          company_id?: string | null
          completed_at?: string | null
          created_at?: string | null
          data_type?: string
          dry_run?: boolean | null
          errors?: Json | null
          failed_rows?: number | null
          file_name?: string | null
          id?: string
          requires_approval?: boolean | null
          status?: string
          successful_rows?: number | null
          total_rows?: number | null
          updated_at?: string | null
          user_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "data_imports_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "data_imports_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      departments: {
        Row: {
          color: string | null
          company_id: string
          created_at: string
          description: string | null
          id: string
          name: string
          updated_at: string
        }
        Insert: {
          color?: string | null
          company_id: string
          created_at?: string
          description?: string | null
          id?: string
          name: string
          updated_at?: string
        }
        Update: {
          color?: string | null
          company_id?: string
          created_at?: string
          description?: string | null
          id?: string
          name?: string
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "departments_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "departments_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      document_folders: {
        Row: {
          allowed_roles: string[] | null
          color: string | null
          company_id: string
          context_id: string | null
          context_type: string | null
          created_at: string
          created_by: string
          deleted_at: string | null
          deleted_by: string | null
          description: string | null
          file_count: number | null
          icon: string | null
          id: string
          is_private: boolean | null
          is_system: boolean | null
          name: string
          parent_id: string | null
          path: string
          permissions: Json | null
          slug: string
          sort_order: number | null
          total_size: number | null
          updated_at: string
          updated_by: string | null
        }
        Insert: {
          allowed_roles?: string[] | null
          color?: string | null
          company_id: string
          context_id?: string | null
          context_type?: string | null
          created_at?: string
          created_by: string
          deleted_at?: string | null
          deleted_by?: string | null
          description?: string | null
          file_count?: number | null
          icon?: string | null
          id?: string
          is_private?: boolean | null
          is_system?: boolean | null
          name: string
          parent_id?: string | null
          path: string
          permissions?: Json | null
          slug: string
          sort_order?: number | null
          total_size?: number | null
          updated_at?: string
          updated_by?: string | null
        }
        Update: {
          allowed_roles?: string[] | null
          color?: string | null
          company_id?: string
          context_id?: string | null
          context_type?: string | null
          created_at?: string
          created_by?: string
          deleted_at?: string | null
          deleted_by?: string | null
          description?: string | null
          file_count?: number | null
          icon?: string | null
          id?: string
          is_private?: boolean | null
          is_system?: boolean | null
          name?: string
          parent_id?: string | null
          path?: string
          permissions?: Json | null
          slug?: string
          sort_order?: number | null
          total_size?: number | null
          updated_at?: string
          updated_by?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "document_folders_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "document_folders_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "document_folders_created_by_fkey"
            columns: ["created_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "document_folders_deleted_by_fkey"
            columns: ["deleted_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "document_folders_parent_id_fkey"
            columns: ["parent_id"]
            isOneToOne: false
            referencedRelation: "document_folders"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "document_folders_updated_by_fkey"
            columns: ["updated_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      documents: {
        Row: {
          company_id: string | null
          content: string | null
          created_at: string
          id: string
          kind: string
          title: string
          user_id: string
        }
        Insert: {
          company_id?: string | null
          content?: string | null
          created_at?: string
          id: string
          kind?: string
          title: string
          user_id: string
        }
        Update: {
          company_id?: string | null
          content?: string | null
          created_at?: string
          id?: string
          kind?: string
          title?: string
          user_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "documents_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "documents_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "documents_user_id_users_id_fk"
            columns: ["user_id"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      email_folders: {
        Row: {
          color: string | null
          company_id: string
          created_at: string
          created_by: string | null
          deleted_at: string | null
          deleted_by: string | null
          description: string | null
          icon: string | null
          id: string
          is_active: boolean
          is_system: boolean
          name: string
          slug: string
          sort_order: number
          updated_at: string
        }
        Insert: {
          color?: string | null
          company_id: string
          created_at?: string
          created_by?: string | null
          deleted_at?: string | null
          deleted_by?: string | null
          description?: string | null
          icon?: string | null
          id?: string
          is_active?: boolean
          is_system?: boolean
          name: string
          slug: string
          sort_order?: number
          updated_at?: string
        }
        Update: {
          color?: string | null
          company_id?: string
          created_at?: string
          created_by?: string | null
          deleted_at?: string | null
          deleted_by?: string | null
          description?: string | null
          icon?: string | null
          id?: string
          is_active?: boolean
          is_system?: boolean
          name?: string
          slug?: string
          sort_order?: number
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "email_folders_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "email_folders_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "email_folders_created_by_fkey"
            columns: ["created_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "email_folders_deleted_by_fkey"
            columns: ["deleted_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      email_global_bounces: {
        Row: {
          bounce_count: number
          bounce_reason: string | null
          bounce_type: string
          created_at: string
          email: string
          id: string
          last_bounce_at: string
        }
        Insert: {
          bounce_count?: number
          bounce_reason?: string | null
          bounce_type: string
          created_at?: string
          email: string
          id?: string
          last_bounce_at?: string
        }
        Update: {
          bounce_count?: number
          bounce_reason?: string | null
          bounce_type?: string
          created_at?: string
          email?: string
          id?: string
          last_bounce_at?: string
        }
        Relationships: []
      }
      email_logs: {
        Row: {
          bounced_at: string | null
          clicked_at: string | null
          company_id: string | null
          created_at: string
          customer_id: string | null
          delivered_at: string | null
          error: string | null
          from: string
          id: string
          invoice_id: string | null
          job_id: string | null
          max_retries: number | null
          metadata: Json | null
          next_retry_at: string | null
          opened_at: string | null
          resend_id: string | null
          retry_count: number | null
          sent_at: string | null
          status: string
          subject: string
          tags: Json | null
          template_data: Json | null
          template_type: string
          to: string
          updated_at: string
          user_id: string | null
        }
        Insert: {
          bounced_at?: string | null
          clicked_at?: string | null
          company_id?: string | null
          created_at?: string
          customer_id?: string | null
          delivered_at?: string | null
          error?: string | null
          from: string
          id?: string
          invoice_id?: string | null
          job_id?: string | null
          max_retries?: number | null
          metadata?: Json | null
          next_retry_at?: string | null
          opened_at?: string | null
          resend_id?: string | null
          retry_count?: number | null
          sent_at?: string | null
          status?: string
          subject: string
          tags?: Json | null
          template_data?: Json | null
          template_type: string
          to: string
          updated_at?: string
          user_id?: string | null
        }
        Update: {
          bounced_at?: string | null
          clicked_at?: string | null
          company_id?: string | null
          created_at?: string
          customer_id?: string | null
          delivered_at?: string | null
          error?: string | null
          from?: string
          id?: string
          invoice_id?: string | null
          job_id?: string | null
          max_retries?: number | null
          metadata?: Json | null
          next_retry_at?: string | null
          opened_at?: string | null
          resend_id?: string | null
          retry_count?: number | null
          sent_at?: string | null
          status?: string
          subject?: string
          tags?: Json | null
          template_data?: Json | null
          template_type?: string
          to?: string
          updated_at?: string
          user_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "email_logs_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "email_logs_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      email_provider_events: {
        Row: {
          company_id: string | null
          created_at: string
          domain_id: string | null
          error_message: string | null
          event_type: string
          id: string
          latency_ms: number | null
          message_id: string | null
          metadata: Json | null
          provider: string
        }
        Insert: {
          company_id?: string | null
          created_at?: string
          domain_id?: string | null
          error_message?: string | null
          event_type: string
          id?: string
          latency_ms?: number | null
          message_id?: string | null
          metadata?: Json | null
          provider: string
        }
        Update: {
          company_id?: string | null
          created_at?: string
          domain_id?: string | null
          error_message?: string | null
          event_type?: string
          id?: string
          latency_ms?: number | null
          message_id?: string | null
          metadata?: Json | null
          provider?: string
        }
        Relationships: [
          {
            foreignKeyName: "email_provider_events_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "email_provider_events_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "email_provider_events_domain_id_fkey"
            columns: ["domain_id"]
            isOneToOne: false
            referencedRelation: "company_email_domains"
            referencedColumns: ["id"]
          },
        ]
      }
      email_provider_health: {
        Row: {
          avg_latency_ms: number | null
          fallback_count_24h: number | null
          id: string
          last_error: string | null
          last_failure_at: string | null
          last_success_at: string | null
          p95_latency_ms: number | null
          provider: string
          status: string
          success_rate_1h: number | null
          success_rate_24h: number | null
          total_failed_1h: number | null
          total_failed_24h: number | null
          total_sent_1h: number | null
          total_sent_24h: number | null
          updated_at: string
        }
        Insert: {
          avg_latency_ms?: number | null
          fallback_count_24h?: number | null
          id?: string
          last_error?: string | null
          last_failure_at?: string | null
          last_success_at?: string | null
          p95_latency_ms?: number | null
          provider: string
          status?: string
          success_rate_1h?: number | null
          success_rate_24h?: number | null
          total_failed_1h?: number | null
          total_failed_24h?: number | null
          total_sent_1h?: number | null
          total_sent_24h?: number | null
          updated_at?: string
        }
        Update: {
          avg_latency_ms?: number | null
          fallback_count_24h?: number | null
          id?: string
          last_error?: string | null
          last_failure_at?: string | null
          last_success_at?: string | null
          p95_latency_ms?: number | null
          provider?: string
          status?: string
          success_rate_1h?: number | null
          success_rate_24h?: number | null
          total_failed_1h?: number | null
          total_failed_24h?: number | null
          total_sent_1h?: number | null
          total_sent_24h?: number | null
          updated_at?: string
        }
        Relationships: []
      }
      email_suppressions: {
        Row: {
          company_id: string
          created_at: string
          details: string | null
          email: string
          id: string
          reason: string
        }
        Insert: {
          company_id: string
          created_at?: string
          details?: string | null
          email: string
          id?: string
          reason: string
        }
        Update: {
          company_id?: string
          created_at?: string
          details?: string | null
          email?: string
          id?: string
          reason?: string
        }
        Relationships: [
          {
            foreignKeyName: "email_suppressions_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "email_suppressions_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      email_verifications: {
        Row: {
          company_id: string
          created_at: string
          email: string
          error_message: string | null
          expires_at: string
          id: string
          status: string
          verification_code: string
          verified_at: string | null
        }
        Insert: {
          company_id: string
          created_at?: string
          email: string
          error_message?: string | null
          expires_at: string
          id?: string
          status?: string
          verification_code: string
          verified_at?: string | null
        }
        Update: {
          company_id?: string
          created_at?: string
          email?: string
          error_message?: string | null
          expires_at?: string
          id?: string
          status?: string
          verification_code?: string
          verified_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "email_verifications_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "email_verifications_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      entity_status_history: {
        Row: {
          change_reason: string | null
          changed_at: string | null
          changed_by: string | null
          company_id: string
          created_at: string | null
          duration_minutes: number | null
          entity_id: string
          entity_type: string
          id: string
          metadata: Json | null
          new_status: string
          old_status: string | null
        }
        Insert: {
          change_reason?: string | null
          changed_at?: string | null
          changed_by?: string | null
          company_id: string
          created_at?: string | null
          duration_minutes?: number | null
          entity_id: string
          entity_type: string
          id?: string
          metadata?: Json | null
          new_status: string
          old_status?: string | null
        }
        Update: {
          change_reason?: string | null
          changed_at?: string | null
          changed_by?: string | null
          company_id?: string
          created_at?: string | null
          duration_minutes?: number | null
          entity_id?: string
          entity_type?: string
          id?: string
          metadata?: Json | null
          new_status?: string
          old_status?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "entity_status_history_changed_by_fkey"
            columns: ["changed_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "entity_status_history_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "entity_status_history_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      equipment: {
        Row: {
          age_years: number | null
          archived_at: string | null
          asset_category: string | null
          asset_subcategory: string | null
          average_service_cost: number | null
          callback_count: number | null
          capacity: string | null
          category: string | null
          classification: Database["public"]["Enums"]["equipment_classification"]
          company_id: string
          complaints_count: number | null
          condition: string
          created_at: string
          created_by: string | null
          current_value: number | null
          customer_id: string
          customer_notes: string | null
          customer_satisfaction_rating: number | null
          deleted_at: string | null
          deleted_by: string | null
          depreciation_method: string | null
          depreciation_per_year: number | null
          documents: Json | null
          efficiency: string | null
          efficiency_decline_rate: number | null
          efficiency_rating: number | null
          efficiency_rating_original: number | null
          emergency_service_count: number | null
          end_of_life_date: string | null
          energy_consumption_monthly: number | null
          energy_cost_monthly: number | null
          equipment_number: string
          expected_lifespan_years: number | null
          extended_warranty_sold: boolean | null
          extended_warranty_value: number | null
          failure_count: number | null
          failure_history: Json | null
          fuel_type: string | null
          id: string
          install_date: string | null
          install_job_id: string | null
          installed_by: string | null
          is_under_warranty: boolean
          last_complaint_date: string | null
          last_failure_date: string | null
          last_service_date: string | null
          last_service_job_id: string | null
          location: string | null
          manufacturer: string | null
          metadata: Json | null
          model: string | null
          model_year: number | null
          mtbf_days: number | null
          mttr_hours: number | null
          name: string
          next_service_due: string | null
          notes: string | null
          original_cost: number | null
          parts_replaced_count: number | null
          parts_replaced_value: number | null
          photos: Json | null
          preventive_service_count: number | null
          property_id: string
          recommendation_date: string | null
          recommendation_reason: string | null
          recommendation_status: string | null
          remaining_useful_life_years: number | null
          replaced_by_equipment_id: string | null
          replaced_date: string | null
          replacement_cost: number | null
          replacement_priority_score: number | null
          replacement_recommended_date: string | null
          search_vector: unknown
          seasonal_usage_pattern: string | null
          serial_number: string | null
          service_interval_days: number | null
          service_plan_id: string | null
          status: string
          tool_calibration_due: string | null
          tool_serial: string | null
          total_service_cost: number | null
          total_service_count: number | null
          type: string
          updated_at: string
          updated_by: string | null
          uptime_percentage: number | null
          usage_hours_daily_avg: number | null
          usage_hours_total: number | null
          vehicle_fuel_type: string | null
          vehicle_inspection_due: string | null
          vehicle_last_service_mileage: number | null
          vehicle_license_plate: string | null
          vehicle_make: string | null
          vehicle_model: string | null
          vehicle_next_service_mileage: number | null
          vehicle_odometer: number | null
          vehicle_registration_expiration: string | null
          vehicle_vin: string | null
          vehicle_year: number | null
          warranty_claims_count: number | null
          warranty_claims_value: number | null
          warranty_expiration: string | null
          warranty_notes: string | null
          warranty_provider: string | null
        }
        Insert: {
          age_years?: number | null
          archived_at?: string | null
          asset_category?: string | null
          asset_subcategory?: string | null
          average_service_cost?: number | null
          callback_count?: number | null
          capacity?: string | null
          category?: string | null
          classification?: Database["public"]["Enums"]["equipment_classification"]
          company_id: string
          complaints_count?: number | null
          condition?: string
          created_at?: string
          created_by?: string | null
          current_value?: number | null
          customer_id: string
          customer_notes?: string | null
          customer_satisfaction_rating?: number | null
          deleted_at?: string | null
          deleted_by?: string | null
          depreciation_method?: string | null
          depreciation_per_year?: number | null
          documents?: Json | null
          efficiency?: string | null
          efficiency_decline_rate?: number | null
          efficiency_rating?: number | null
          efficiency_rating_original?: number | null
          emergency_service_count?: number | null
          end_of_life_date?: string | null
          energy_consumption_monthly?: number | null
          energy_cost_monthly?: number | null
          equipment_number: string
          expected_lifespan_years?: number | null
          extended_warranty_sold?: boolean | null
          extended_warranty_value?: number | null
          failure_count?: number | null
          failure_history?: Json | null
          fuel_type?: string | null
          id?: string
          install_date?: string | null
          install_job_id?: string | null
          installed_by?: string | null
          is_under_warranty?: boolean
          last_complaint_date?: string | null
          last_failure_date?: string | null
          last_service_date?: string | null
          last_service_job_id?: string | null
          location?: string | null
          manufacturer?: string | null
          metadata?: Json | null
          model?: string | null
          model_year?: number | null
          mtbf_days?: number | null
          mttr_hours?: number | null
          name: string
          next_service_due?: string | null
          notes?: string | null
          original_cost?: number | null
          parts_replaced_count?: number | null
          parts_replaced_value?: number | null
          photos?: Json | null
          preventive_service_count?: number | null
          property_id: string
          recommendation_date?: string | null
          recommendation_reason?: string | null
          recommendation_status?: string | null
          remaining_useful_life_years?: number | null
          replaced_by_equipment_id?: string | null
          replaced_date?: string | null
          replacement_cost?: number | null
          replacement_priority_score?: number | null
          replacement_recommended_date?: string | null
          search_vector?: unknown
          seasonal_usage_pattern?: string | null
          serial_number?: string | null
          service_interval_days?: number | null
          service_plan_id?: string | null
          status?: string
          tool_calibration_due?: string | null
          tool_serial?: string | null
          total_service_cost?: number | null
          total_service_count?: number | null
          type: string
          updated_at?: string
          updated_by?: string | null
          uptime_percentage?: number | null
          usage_hours_daily_avg?: number | null
          usage_hours_total?: number | null
          vehicle_fuel_type?: string | null
          vehicle_inspection_due?: string | null
          vehicle_last_service_mileage?: number | null
          vehicle_license_plate?: string | null
          vehicle_make?: string | null
          vehicle_model?: string | null
          vehicle_next_service_mileage?: number | null
          vehicle_odometer?: number | null
          vehicle_registration_expiration?: string | null
          vehicle_vin?: string | null
          vehicle_year?: number | null
          warranty_claims_count?: number | null
          warranty_claims_value?: number | null
          warranty_expiration?: string | null
          warranty_notes?: string | null
          warranty_provider?: string | null
        }
        Update: {
          age_years?: number | null
          archived_at?: string | null
          asset_category?: string | null
          asset_subcategory?: string | null
          average_service_cost?: number | null
          callback_count?: number | null
          capacity?: string | null
          category?: string | null
          classification?: Database["public"]["Enums"]["equipment_classification"]
          company_id?: string
          complaints_count?: number | null
          condition?: string
          created_at?: string
          created_by?: string | null
          current_value?: number | null
          customer_id?: string
          customer_notes?: string | null
          customer_satisfaction_rating?: number | null
          deleted_at?: string | null
          deleted_by?: string | null
          depreciation_method?: string | null
          depreciation_per_year?: number | null
          documents?: Json | null
          efficiency?: string | null
          efficiency_decline_rate?: number | null
          efficiency_rating?: number | null
          efficiency_rating_original?: number | null
          emergency_service_count?: number | null
          end_of_life_date?: string | null
          energy_consumption_monthly?: number | null
          energy_cost_monthly?: number | null
          equipment_number?: string
          expected_lifespan_years?: number | null
          extended_warranty_sold?: boolean | null
          extended_warranty_value?: number | null
          failure_count?: number | null
          failure_history?: Json | null
          fuel_type?: string | null
          id?: string
          install_date?: string | null
          install_job_id?: string | null
          installed_by?: string | null
          is_under_warranty?: boolean
          last_complaint_date?: string | null
          last_failure_date?: string | null
          last_service_date?: string | null
          last_service_job_id?: string | null
          location?: string | null
          manufacturer?: string | null
          metadata?: Json | null
          model?: string | null
          model_year?: number | null
          mtbf_days?: number | null
          mttr_hours?: number | null
          name?: string
          next_service_due?: string | null
          notes?: string | null
          original_cost?: number | null
          parts_replaced_count?: number | null
          parts_replaced_value?: number | null
          photos?: Json | null
          preventive_service_count?: number | null
          property_id?: string
          recommendation_date?: string | null
          recommendation_reason?: string | null
          recommendation_status?: string | null
          remaining_useful_life_years?: number | null
          replaced_by_equipment_id?: string | null
          replaced_date?: string | null
          replacement_cost?: number | null
          replacement_priority_score?: number | null
          replacement_recommended_date?: string | null
          search_vector?: unknown
          seasonal_usage_pattern?: string | null
          serial_number?: string | null
          service_interval_days?: number | null
          service_plan_id?: string | null
          status?: string
          tool_calibration_due?: string | null
          tool_serial?: string | null
          total_service_cost?: number | null
          total_service_count?: number | null
          type?: string
          updated_at?: string
          updated_by?: string | null
          uptime_percentage?: number | null
          usage_hours_daily_avg?: number | null
          usage_hours_total?: number | null
          vehicle_fuel_type?: string | null
          vehicle_inspection_due?: string | null
          vehicle_last_service_mileage?: number | null
          vehicle_license_plate?: string | null
          vehicle_make?: string | null
          vehicle_model?: string | null
          vehicle_next_service_mileage?: number | null
          vehicle_odometer?: number | null
          vehicle_registration_expiration?: string | null
          vehicle_vin?: string | null
          vehicle_year?: number | null
          warranty_claims_count?: number | null
          warranty_claims_value?: number | null
          warranty_expiration?: string | null
          warranty_notes?: string | null
          warranty_provider?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "equipment_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "equipment_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "equipment_created_by_fkey"
            columns: ["created_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "equipment_customer_id_customers_id_fk"
            columns: ["customer_id"]
            isOneToOne: false
            referencedRelation: "customers"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "equipment_deleted_by_users_id_fk"
            columns: ["deleted_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "equipment_install_job_id_jobs_id_fk"
            columns: ["install_job_id"]
            isOneToOne: false
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "equipment_installed_by_users_id_fk"
            columns: ["installed_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "equipment_last_service_job_id_jobs_id_fk"
            columns: ["last_service_job_id"]
            isOneToOne: false
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "equipment_property_id_properties_id_fk"
            columns: ["property_id"]
            isOneToOne: false
            referencedRelation: "properties"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "equipment_replaced_by_equipment_id_equipment_id_fk"
            columns: ["replaced_by_equipment_id"]
            isOneToOne: false
            referencedRelation: "equipment"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "equipment_service_plan_id_service_plans_id_fk"
            columns: ["service_plan_id"]
            isOneToOne: false
            referencedRelation: "service_plans"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "equipment_updated_by_fkey"
            columns: ["updated_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      equipment_custom_fields: {
        Row: {
          company_id: string
          created_at: string
          display_order: number | null
          equipment_id: string
          field_group: string | null
          field_name: string
          field_type: string | null
          field_value: string | null
          id: string
          updated_at: string
        }
        Insert: {
          company_id: string
          created_at?: string
          display_order?: number | null
          equipment_id: string
          field_group?: string | null
          field_name: string
          field_type?: string | null
          field_value?: string | null
          id?: string
          updated_at?: string
        }
        Update: {
          company_id?: string
          created_at?: string
          display_order?: number | null
          equipment_id?: string
          field_group?: string | null
          field_name?: string
          field_type?: string | null
          field_value?: string | null
          id?: string
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "equipment_custom_fields_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "equipment_custom_fields_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "equipment_custom_fields_equipment_id_fkey"
            columns: ["equipment_id"]
            isOneToOne: false
            referencedRelation: "equipment"
            referencedColumns: ["id"]
          },
        ]
      }
      equipment_parts: {
        Row: {
          company_id: string
          condition: string | null
          created_at: string
          deleted_at: string | null
          equipment_id: string
          id: string
          installed_by: string | null
          installed_date: string | null
          is_active: boolean | null
          job_id: string | null
          labor_cost: number | null
          manufacturer: string | null
          notes: string | null
          part_cost: number | null
          part_name: string
          part_number: string | null
          replacement_due_date: string | null
          sku: string | null
          updated_at: string
          warranty_expires_at: string | null
          warranty_months: number | null
          warranty_provider: string | null
        }
        Insert: {
          company_id: string
          condition?: string | null
          created_at?: string
          deleted_at?: string | null
          equipment_id: string
          id?: string
          installed_by?: string | null
          installed_date?: string | null
          is_active?: boolean | null
          job_id?: string | null
          labor_cost?: number | null
          manufacturer?: string | null
          notes?: string | null
          part_cost?: number | null
          part_name: string
          part_number?: string | null
          replacement_due_date?: string | null
          sku?: string | null
          updated_at?: string
          warranty_expires_at?: string | null
          warranty_months?: number | null
          warranty_provider?: string | null
        }
        Update: {
          company_id?: string
          condition?: string | null
          created_at?: string
          deleted_at?: string | null
          equipment_id?: string
          id?: string
          installed_by?: string | null
          installed_date?: string | null
          is_active?: boolean | null
          job_id?: string | null
          labor_cost?: number | null
          manufacturer?: string | null
          notes?: string | null
          part_cost?: number | null
          part_name?: string
          part_number?: string | null
          replacement_due_date?: string | null
          sku?: string | null
          updated_at?: string
          warranty_expires_at?: string | null
          warranty_months?: number | null
          warranty_provider?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "equipment_parts_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "equipment_parts_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "equipment_parts_equipment_id_fkey"
            columns: ["equipment_id"]
            isOneToOne: false
            referencedRelation: "equipment"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "equipment_parts_installed_by_fkey"
            columns: ["installed_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "equipment_parts_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: false
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
        ]
      }
      equipment_service_history: {
        Row: {
          company_id: string
          created_at: string
          customer_notes: string | null
          deleted_at: string | null
          equipment_condition: string | null
          equipment_id: string
          hours_spent: number | null
          id: string
          issues_found: string[] | null
          job_id: string | null
          labor_cost: number | null
          next_service_due_date: string | null
          parts_cost: number | null
          parts_replaced: string[] | null
          readings: Json | null
          recommendations: string[] | null
          service_date: string
          service_description: string
          service_type: string
          technician_id: string | null
          technician_notes: string | null
          total_cost: number | null
          updated_at: string
          warranty_claim_number: string | null
          warranty_work: boolean | null
        }
        Insert: {
          company_id: string
          created_at?: string
          customer_notes?: string | null
          deleted_at?: string | null
          equipment_condition?: string | null
          equipment_id: string
          hours_spent?: number | null
          id?: string
          issues_found?: string[] | null
          job_id?: string | null
          labor_cost?: number | null
          next_service_due_date?: string | null
          parts_cost?: number | null
          parts_replaced?: string[] | null
          readings?: Json | null
          recommendations?: string[] | null
          service_date: string
          service_description: string
          service_type: string
          technician_id?: string | null
          technician_notes?: string | null
          total_cost?: number | null
          updated_at?: string
          warranty_claim_number?: string | null
          warranty_work?: boolean | null
        }
        Update: {
          company_id?: string
          created_at?: string
          customer_notes?: string | null
          deleted_at?: string | null
          equipment_condition?: string | null
          equipment_id?: string
          hours_spent?: number | null
          id?: string
          issues_found?: string[] | null
          job_id?: string | null
          labor_cost?: number | null
          next_service_due_date?: string | null
          parts_cost?: number | null
          parts_replaced?: string[] | null
          readings?: Json | null
          recommendations?: string[] | null
          service_date?: string
          service_description?: string
          service_type?: string
          technician_id?: string | null
          technician_notes?: string | null
          total_cost?: number | null
          updated_at?: string
          warranty_claim_number?: string | null
          warranty_work?: boolean | null
        }
        Relationships: [
          {
            foreignKeyName: "equipment_service_history_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "equipment_service_history_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "equipment_service_history_equipment_id_fkey"
            columns: ["equipment_id"]
            isOneToOne: false
            referencedRelation: "equipment"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "equipment_service_history_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: false
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "equipment_service_history_technician_id_fkey"
            columns: ["technician_id"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      equipment_tags: {
        Row: {
          added_at: string
          added_by: string | null
          equipment_id: string
          tag_id: string
        }
        Insert: {
          added_at?: string
          added_by?: string | null
          equipment_id: string
          tag_id: string
        }
        Update: {
          added_at?: string
          added_by?: string | null
          equipment_id?: string
          tag_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "equipment_tags_added_by_users_id_fk"
            columns: ["added_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "equipment_tags_equipment_id_equipment_id_fk"
            columns: ["equipment_id"]
            isOneToOne: false
            referencedRelation: "equipment"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "equipment_tags_tag_id_tags_id_fk"
            columns: ["tag_id"]
            isOneToOne: false
            referencedRelation: "tags"
            referencedColumns: ["id"]
          },
        ]
      }
      estimate_jobs: {
        Row: {
          amount_from_job: number
          company_id: string
          created_at: string
          description: string | null
          estimate_id: string
          id: string
          job_id: string
        }
        Insert: {
          amount_from_job: number
          company_id: string
          created_at?: string
          description?: string | null
          estimate_id: string
          id?: string
          job_id: string
        }
        Update: {
          amount_from_job?: number
          company_id?: string
          created_at?: string
          description?: string | null
          estimate_id?: string
          id?: string
          job_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "estimate_jobs_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "estimate_jobs_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "estimate_jobs_estimate_id_fkey"
            columns: ["estimate_id"]
            isOneToOne: false
            referencedRelation: "estimates"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "estimate_jobs_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: false
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
        ]
      }
      estimate_settings: {
        Row: {
          allow_discounts: boolean | null
          approval_thank_you_message: string | null
          auto_convert_to_job: boolean | null
          company_id: string
          created_at: string | null
          default_estimate_email_body: string | null
          default_estimate_email_subject: string | null
          default_estimate_footer: string | null
          default_terms: string | null
          default_valid_for_days: number | null
          estimate_number_format: string | null
          estimate_number_prefix: string | null
          id: string
          include_terms_and_conditions: boolean | null
          next_estimate_number: number | null
          reminder_days_before_expiry: number | null
          require_approval: boolean | null
          send_reminder_enabled: boolean | null
          show_expiry_date: boolean | null
          show_individual_prices: boolean | null
          show_payment_terms: boolean | null
          show_subtotals: boolean | null
          show_tax_breakdown: boolean | null
          updated_at: string | null
        }
        Insert: {
          allow_discounts?: boolean | null
          approval_thank_you_message?: string | null
          auto_convert_to_job?: boolean | null
          company_id: string
          created_at?: string | null
          default_estimate_email_body?: string | null
          default_estimate_email_subject?: string | null
          default_estimate_footer?: string | null
          default_terms?: string | null
          default_valid_for_days?: number | null
          estimate_number_format?: string | null
          estimate_number_prefix?: string | null
          id?: string
          include_terms_and_conditions?: boolean | null
          next_estimate_number?: number | null
          reminder_days_before_expiry?: number | null
          require_approval?: boolean | null
          send_reminder_enabled?: boolean | null
          show_expiry_date?: boolean | null
          show_individual_prices?: boolean | null
          show_payment_terms?: boolean | null
          show_subtotals?: boolean | null
          show_tax_breakdown?: boolean | null
          updated_at?: string | null
        }
        Update: {
          allow_discounts?: boolean | null
          approval_thank_you_message?: string | null
          auto_convert_to_job?: boolean | null
          company_id?: string
          created_at?: string | null
          default_estimate_email_body?: string | null
          default_estimate_email_subject?: string | null
          default_estimate_footer?: string | null
          default_terms?: string | null
          default_valid_for_days?: number | null
          estimate_number_format?: string | null
          estimate_number_prefix?: string | null
          id?: string
          include_terms_and_conditions?: boolean | null
          next_estimate_number?: number | null
          reminder_days_before_expiry?: number | null
          require_approval?: boolean | null
          send_reminder_enabled?: boolean | null
          show_expiry_date?: boolean | null
          show_individual_prices?: boolean | null
          show_payment_terms?: boolean | null
          show_subtotals?: boolean | null
          show_tax_breakdown?: boolean | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "estimate_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "estimate_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      estimate_tags: {
        Row: {
          created_at: string
          estimate_id: string
          tag_id: string
        }
        Insert: {
          created_at?: string
          estimate_id: string
          tag_id: string
        }
        Update: {
          created_at?: string
          estimate_id?: string
          tag_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "estimate_tags_estimate_id_fkey"
            columns: ["estimate_id"]
            isOneToOne: false
            referencedRelation: "estimates"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "estimate_tags_tag_id_fkey"
            columns: ["tag_id"]
            isOneToOne: false
            referencedRelation: "tags"
            referencedColumns: ["id"]
          },
        ]
      }
      estimates: {
        Row: {
          acceptance_token: string | null
          acceptance_token_expires_at: string | null
          approval_method: string | null
          approved_by_name: string | null
          approved_by_title: string | null
          archived_at: string | null
          assigned_sales_rep_id: string | null
          assigned_salesperson_id: string | null
          budget_alignment: string | null
          company_id: string
          competitive_bid: boolean | null
          competitor_count: number | null
          competitor_name: string | null
          competitor_price: number | null
          competitor_prices: number[] | null
          conversion_status: string | null
          converted_at: string | null
          converted_to_invoice_id: string | null
          created_at: string
          created_by: string | null
          created_by_user_id: string | null
          customer_budget: number | null
          customer_id: string | null
          decision_date: string | null
          deleted_at: string | null
          deleted_by: string | null
          description: string | null
          discount_amount: number
          discount_offered_count: number | null
          discount_reason: string | null
          discount_types_offered: string[] | null
          estimate_number: string
          estimated_cost: number | null
          expires_at: string | null
          financing_offered: boolean | null
          financing_selected: boolean | null
          financing_term_months: number | null
          follow_up_count: number | null
          follow_up_notes: string | null
          good_better_best_offered: boolean | null
          id: string
          is_revision: boolean | null
          job_id: string | null
          last_follow_up_date: string | null
          last_viewed_at: string | null
          line_items: Json
          loss_reason: string | null
          loss_reason_detail: string | null
          margin_at_approval: number | null
          margin_at_completion: number | null
          margin_at_creation: number | null
          negotiation_rounds: number | null
          next_follow_up_date: string | null
          notes: string | null
          option_count: number | null
          options_presented: Json | null
          original_estimate_id: string | null
          original_total: number | null
          permanent_delete_scheduled_at: string | null
          photo_count: number | null
          price_adjustment_count: number | null
          property_id: string | null
          proposal_attachment_count: number | null
          questions_asked: number | null
          responded_at: string | null
          response_time_hours: number | null
          revision_count: number | null
          sales_notes: string | null
          sales_touches_count: number | null
          search_vector: unknown
          seasonal_factor: number | null
          selected_option_index: number | null
          sent_at: string | null
          site_visit_count: number | null
          site_visit_hours: number | null
          site_visit_required: boolean | null
          status: string
          subtotal: number
          tax_amount: number
          terms: string | null
          time_spent_viewing_seconds: number | null
          time_to_decision_days: number | null
          title: string
          total_adjustments: number | null
          total_amount: number
          total_discount_given: number | null
          updated_at: string
          updated_by: string | null
          urgency_score: number | null
          valid_until: string | null
          video_count: number | null
          view_count: number | null
          viewed_at: string | null
        }
        Insert: {
          acceptance_token?: string | null
          acceptance_token_expires_at?: string | null
          approval_method?: string | null
          approved_by_name?: string | null
          approved_by_title?: string | null
          archived_at?: string | null
          assigned_sales_rep_id?: string | null
          assigned_salesperson_id?: string | null
          budget_alignment?: string | null
          company_id: string
          competitive_bid?: boolean | null
          competitor_count?: number | null
          competitor_name?: string | null
          competitor_price?: number | null
          competitor_prices?: number[] | null
          conversion_status?: string | null
          converted_at?: string | null
          converted_to_invoice_id?: string | null
          created_at?: string
          created_by?: string | null
          created_by_user_id?: string | null
          customer_budget?: number | null
          customer_id?: string | null
          decision_date?: string | null
          deleted_at?: string | null
          deleted_by?: string | null
          description?: string | null
          discount_amount?: number
          discount_offered_count?: number | null
          discount_reason?: string | null
          discount_types_offered?: string[] | null
          estimate_number: string
          estimated_cost?: number | null
          expires_at?: string | null
          financing_offered?: boolean | null
          financing_selected?: boolean | null
          financing_term_months?: number | null
          follow_up_count?: number | null
          follow_up_notes?: string | null
          good_better_best_offered?: boolean | null
          id?: string
          is_revision?: boolean | null
          job_id?: string | null
          last_follow_up_date?: string | null
          last_viewed_at?: string | null
          line_items: Json
          loss_reason?: string | null
          loss_reason_detail?: string | null
          margin_at_approval?: number | null
          margin_at_completion?: number | null
          margin_at_creation?: number | null
          negotiation_rounds?: number | null
          next_follow_up_date?: string | null
          notes?: string | null
          option_count?: number | null
          options_presented?: Json | null
          original_estimate_id?: string | null
          original_total?: number | null
          permanent_delete_scheduled_at?: string | null
          photo_count?: number | null
          price_adjustment_count?: number | null
          property_id?: string | null
          proposal_attachment_count?: number | null
          questions_asked?: number | null
          responded_at?: string | null
          response_time_hours?: number | null
          revision_count?: number | null
          sales_notes?: string | null
          sales_touches_count?: number | null
          search_vector?: unknown
          seasonal_factor?: number | null
          selected_option_index?: number | null
          sent_at?: string | null
          site_visit_count?: number | null
          site_visit_hours?: number | null
          site_visit_required?: boolean | null
          status?: string
          subtotal?: number
          tax_amount?: number
          terms?: string | null
          time_spent_viewing_seconds?: number | null
          time_to_decision_days?: number | null
          title: string
          total_adjustments?: number | null
          total_amount?: number
          total_discount_given?: number | null
          updated_at?: string
          updated_by?: string | null
          urgency_score?: number | null
          valid_until?: string | null
          video_count?: number | null
          view_count?: number | null
          viewed_at?: string | null
        }
        Update: {
          acceptance_token?: string | null
          acceptance_token_expires_at?: string | null
          approval_method?: string | null
          approved_by_name?: string | null
          approved_by_title?: string | null
          archived_at?: string | null
          assigned_sales_rep_id?: string | null
          assigned_salesperson_id?: string | null
          budget_alignment?: string | null
          company_id?: string
          competitive_bid?: boolean | null
          competitor_count?: number | null
          competitor_name?: string | null
          competitor_price?: number | null
          competitor_prices?: number[] | null
          conversion_status?: string | null
          converted_at?: string | null
          converted_to_invoice_id?: string | null
          created_at?: string
          created_by?: string | null
          created_by_user_id?: string | null
          customer_budget?: number | null
          customer_id?: string | null
          decision_date?: string | null
          deleted_at?: string | null
          deleted_by?: string | null
          description?: string | null
          discount_amount?: number
          discount_offered_count?: number | null
          discount_reason?: string | null
          discount_types_offered?: string[] | null
          estimate_number?: string
          estimated_cost?: number | null
          expires_at?: string | null
          financing_offered?: boolean | null
          financing_selected?: boolean | null
          financing_term_months?: number | null
          follow_up_count?: number | null
          follow_up_notes?: string | null
          good_better_best_offered?: boolean | null
          id?: string
          is_revision?: boolean | null
          job_id?: string | null
          last_follow_up_date?: string | null
          last_viewed_at?: string | null
          line_items?: Json
          loss_reason?: string | null
          loss_reason_detail?: string | null
          margin_at_approval?: number | null
          margin_at_completion?: number | null
          margin_at_creation?: number | null
          negotiation_rounds?: number | null
          next_follow_up_date?: string | null
          notes?: string | null
          option_count?: number | null
          options_presented?: Json | null
          original_estimate_id?: string | null
          original_total?: number | null
          permanent_delete_scheduled_at?: string | null
          photo_count?: number | null
          price_adjustment_count?: number | null
          property_id?: string | null
          proposal_attachment_count?: number | null
          questions_asked?: number | null
          responded_at?: string | null
          response_time_hours?: number | null
          revision_count?: number | null
          sales_notes?: string | null
          sales_touches_count?: number | null
          search_vector?: unknown
          seasonal_factor?: number | null
          selected_option_index?: number | null
          sent_at?: string | null
          site_visit_count?: number | null
          site_visit_hours?: number | null
          site_visit_required?: boolean | null
          status?: string
          subtotal?: number
          tax_amount?: number
          terms?: string | null
          time_spent_viewing_seconds?: number | null
          time_to_decision_days?: number | null
          title?: string
          total_adjustments?: number | null
          total_amount?: number
          total_discount_given?: number | null
          updated_at?: string
          updated_by?: string | null
          urgency_score?: number | null
          valid_until?: string | null
          video_count?: number | null
          view_count?: number | null
          viewed_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "estimates_assigned_sales_rep_id_fkey"
            columns: ["assigned_sales_rep_id"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "estimates_assigned_salesperson_id_fkey"
            columns: ["assigned_salesperson_id"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "estimates_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "estimates_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "estimates_converted_to_invoice_id_fkey"
            columns: ["converted_to_invoice_id"]
            isOneToOne: false
            referencedRelation: "invoices"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "estimates_created_by_fkey"
            columns: ["created_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "estimates_created_by_user_id_fkey"
            columns: ["created_by_user_id"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "estimates_customer_id_customers_id_fk"
            columns: ["customer_id"]
            isOneToOne: false
            referencedRelation: "customers"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "estimates_deleted_by_fkey"
            columns: ["deleted_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "estimates_job_id_jobs_id_fk"
            columns: ["job_id"]
            isOneToOne: false
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "estimates_original_estimate_id_fkey"
            columns: ["original_estimate_id"]
            isOneToOne: false
            referencedRelation: "estimates"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "estimates_property_id_properties_id_fk"
            columns: ["property_id"]
            isOneToOne: false
            referencedRelation: "properties"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "estimates_updated_by_fkey"
            columns: ["updated_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      finance_accounting_settings: {
        Row: {
          api_key_encrypted: string | null
          api_secret_encrypted: string | null
          asset_account: string | null
          auto_sync_enabled: boolean | null
          company_id: string
          created_at: string | null
          expense_account: string | null
          id: string
          income_account: string | null
          last_sync_at: string | null
          liability_account: string | null
          provider: string | null
          provider_enabled: boolean | null
          refresh_token_encrypted: string | null
          sync_customers: boolean | null
          sync_expenses: boolean | null
          sync_frequency: string | null
          sync_invoices: boolean | null
          sync_payments: boolean | null
          updated_at: string | null
        }
        Insert: {
          api_key_encrypted?: string | null
          api_secret_encrypted?: string | null
          asset_account?: string | null
          auto_sync_enabled?: boolean | null
          company_id: string
          created_at?: string | null
          expense_account?: string | null
          id?: string
          income_account?: string | null
          last_sync_at?: string | null
          liability_account?: string | null
          provider?: string | null
          provider_enabled?: boolean | null
          refresh_token_encrypted?: string | null
          sync_customers?: boolean | null
          sync_expenses?: boolean | null
          sync_frequency?: string | null
          sync_invoices?: boolean | null
          sync_payments?: boolean | null
          updated_at?: string | null
        }
        Update: {
          api_key_encrypted?: string | null
          api_secret_encrypted?: string | null
          asset_account?: string | null
          auto_sync_enabled?: boolean | null
          company_id?: string
          created_at?: string | null
          expense_account?: string | null
          id?: string
          income_account?: string | null
          last_sync_at?: string | null
          liability_account?: string | null
          provider?: string | null
          provider_enabled?: boolean | null
          refresh_token_encrypted?: string | null
          sync_customers?: boolean | null
          sync_expenses?: boolean | null
          sync_frequency?: string | null
          sync_invoices?: boolean | null
          sync_payments?: boolean | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "finance_accounting_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "finance_accounting_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      finance_bank_accounts: {
        Row: {
          account_name: string
          account_number_last4: string | null
          account_type: string | null
          auto_import_transactions: boolean | null
          available_balance: number | null
          bank_name: string
          company_id: string
          created_at: string | null
          current_balance: number | null
          id: string
          is_active: boolean | null
          is_primary: boolean | null
          last_synced_at: string | null
          plaid_access_token_encrypted: string | null
          plaid_account_id: string | null
          plaid_item_id: string | null
          routing_number_encrypted: string | null
          updated_at: string | null
        }
        Insert: {
          account_name: string
          account_number_last4?: string | null
          account_type?: string | null
          auto_import_transactions?: boolean | null
          available_balance?: number | null
          bank_name: string
          company_id: string
          created_at?: string | null
          current_balance?: number | null
          id?: string
          is_active?: boolean | null
          is_primary?: boolean | null
          last_synced_at?: string | null
          plaid_access_token_encrypted?: string | null
          plaid_account_id?: string | null
          plaid_item_id?: string | null
          routing_number_encrypted?: string | null
          updated_at?: string | null
        }
        Update: {
          account_name?: string
          account_number_last4?: string | null
          account_type?: string | null
          auto_import_transactions?: boolean | null
          available_balance?: number | null
          bank_name?: string
          company_id?: string
          created_at?: string | null
          current_balance?: number | null
          id?: string
          is_active?: boolean | null
          is_primary?: boolean | null
          last_synced_at?: string | null
          plaid_access_token_encrypted?: string | null
          plaid_account_id?: string | null
          plaid_item_id?: string | null
          routing_number_encrypted?: string | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "finance_bank_accounts_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "finance_bank_accounts_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      finance_bank_statements: {
        Row: {
          bank_account_id: string
          company_id: string
          created_at: string | null
          end_date: string | null
          file_size_bytes: number | null
          file_url: string | null
          id: string
          start_date: string | null
          statement_date: string
        }
        Insert: {
          bank_account_id: string
          company_id: string
          created_at?: string | null
          end_date?: string | null
          file_size_bytes?: number | null
          file_url?: string | null
          id?: string
          start_date?: string | null
          statement_date: string
        }
        Update: {
          bank_account_id?: string
          company_id?: string
          created_at?: string | null
          end_date?: string | null
          file_size_bytes?: number | null
          file_url?: string | null
          id?: string
          start_date?: string | null
          statement_date?: string
        }
        Relationships: [
          {
            foreignKeyName: "finance_bank_statements_bank_account_id_fkey"
            columns: ["bank_account_id"]
            isOneToOne: false
            referencedRelation: "finance_bank_accounts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "finance_bank_statements_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "finance_bank_statements_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      finance_bank_transactions: {
        Row: {
          amount: number
          bank_account_id: string
          category_id: string | null
          category_name: string | null
          company_id: string
          created_at: string | null
          date: string
          description: string | null
          id: string
          iso_currency_code: string | null
          merchant_name: string | null
          pending: boolean | null
          plaid_transaction_id: string | null
          updated_at: string | null
        }
        Insert: {
          amount: number
          bank_account_id: string
          category_id?: string | null
          category_name?: string | null
          company_id: string
          created_at?: string | null
          date: string
          description?: string | null
          id?: string
          iso_currency_code?: string | null
          merchant_name?: string | null
          pending?: boolean | null
          plaid_transaction_id?: string | null
          updated_at?: string | null
        }
        Update: {
          amount?: number
          bank_account_id?: string
          category_id?: string | null
          category_name?: string | null
          company_id?: string
          created_at?: string | null
          date?: string
          description?: string | null
          id?: string
          iso_currency_code?: string | null
          merchant_name?: string | null
          pending?: boolean | null
          plaid_transaction_id?: string | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "finance_bank_transactions_bank_account_id_fkey"
            columns: ["bank_account_id"]
            isOneToOne: false
            referencedRelation: "finance_bank_accounts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "finance_bank_transactions_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "finance_bank_transactions_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      finance_bookkeeping_settings: {
        Row: {
          allow_manual_journal_entries: boolean | null
          auto_categorize_transactions: boolean | null
          auto_generate_reports: boolean | null
          auto_reconcile_payments: boolean | null
          company_id: string
          created_at: string | null
          default_expense_category: string | null
          default_income_category: string | null
          default_tax_category: string | null
          email_reports: boolean | null
          fiscal_year_start_day: number | null
          fiscal_year_start_month: number | null
          id: string
          report_frequency: string | null
          report_recipients: string[] | null
          require_receipt_attachment: boolean | null
          updated_at: string | null
        }
        Insert: {
          allow_manual_journal_entries?: boolean | null
          auto_categorize_transactions?: boolean | null
          auto_generate_reports?: boolean | null
          auto_reconcile_payments?: boolean | null
          company_id: string
          created_at?: string | null
          default_expense_category?: string | null
          default_income_category?: string | null
          default_tax_category?: string | null
          email_reports?: boolean | null
          fiscal_year_start_day?: number | null
          fiscal_year_start_month?: number | null
          id?: string
          report_frequency?: string | null
          report_recipients?: string[] | null
          require_receipt_attachment?: boolean | null
          updated_at?: string | null
        }
        Update: {
          allow_manual_journal_entries?: boolean | null
          auto_categorize_transactions?: boolean | null
          auto_generate_reports?: boolean | null
          auto_reconcile_payments?: boolean | null
          company_id?: string
          created_at?: string | null
          default_expense_category?: string | null
          default_income_category?: string | null
          default_tax_category?: string | null
          email_reports?: boolean | null
          fiscal_year_start_day?: number | null
          fiscal_year_start_month?: number | null
          id?: string
          report_frequency?: string | null
          report_recipients?: string[] | null
          require_receipt_attachment?: boolean | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "finance_bookkeeping_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "finance_bookkeeping_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      finance_business_financing_settings: {
        Row: {
          annual_revenue: number | null
          auto_calculate_eligibility: boolean | null
          business_credit_score: number | null
          company_id: string
          created_at: string | null
          enable_business_loans: boolean | null
          enable_equipment_financing: boolean | null
          enable_line_of_credit: boolean | null
          financing_provider: string | null
          id: string
          max_acceptable_apr: number | null
          preferred_loan_amount: number | null
          preferred_term_months: number | null
          provider_api_key_encrypted: string | null
          show_offers_in_dashboard: boolean | null
          updated_at: string | null
          years_in_business: number | null
        }
        Insert: {
          annual_revenue?: number | null
          auto_calculate_eligibility?: boolean | null
          business_credit_score?: number | null
          company_id: string
          created_at?: string | null
          enable_business_loans?: boolean | null
          enable_equipment_financing?: boolean | null
          enable_line_of_credit?: boolean | null
          financing_provider?: string | null
          id?: string
          max_acceptable_apr?: number | null
          preferred_loan_amount?: number | null
          preferred_term_months?: number | null
          provider_api_key_encrypted?: string | null
          show_offers_in_dashboard?: boolean | null
          updated_at?: string | null
          years_in_business?: number | null
        }
        Update: {
          annual_revenue?: number | null
          auto_calculate_eligibility?: boolean | null
          business_credit_score?: number | null
          company_id?: string
          created_at?: string | null
          enable_business_loans?: boolean | null
          enable_equipment_financing?: boolean | null
          enable_line_of_credit?: boolean | null
          financing_provider?: string | null
          id?: string
          max_acceptable_apr?: number | null
          preferred_loan_amount?: number | null
          preferred_term_months?: number | null
          provider_api_key_encrypted?: string | null
          show_offers_in_dashboard?: boolean | null
          updated_at?: string | null
          years_in_business?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "finance_business_financing_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "finance_business_financing_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      finance_consumer_financing_settings: {
        Row: {
          allow_instant_approval: boolean | null
          available_terms: number[] | null
          collect_ssn: boolean | null
          company_id: string
          created_at: string | null
          financing_enabled: boolean | null
          id: string
          marketing_message: string | null
          max_amount: number | null
          min_amount: number | null
          promote_financing: boolean | null
          provider: string | null
          provider_api_key_encrypted: string | null
          provider_merchant_id: string | null
          require_credit_check: boolean | null
          show_in_estimates: boolean | null
          show_in_invoices: boolean | null
          show_monthly_payment: boolean | null
          updated_at: string | null
        }
        Insert: {
          allow_instant_approval?: boolean | null
          available_terms?: number[] | null
          collect_ssn?: boolean | null
          company_id: string
          created_at?: string | null
          financing_enabled?: boolean | null
          id?: string
          marketing_message?: string | null
          max_amount?: number | null
          min_amount?: number | null
          promote_financing?: boolean | null
          provider?: string | null
          provider_api_key_encrypted?: string | null
          provider_merchant_id?: string | null
          require_credit_check?: boolean | null
          show_in_estimates?: boolean | null
          show_in_invoices?: boolean | null
          show_monthly_payment?: boolean | null
          updated_at?: string | null
        }
        Update: {
          allow_instant_approval?: boolean | null
          available_terms?: number[] | null
          collect_ssn?: boolean | null
          company_id?: string
          created_at?: string | null
          financing_enabled?: boolean | null
          id?: string
          marketing_message?: string | null
          max_amount?: number | null
          min_amount?: number | null
          promote_financing?: boolean | null
          provider?: string | null
          provider_api_key_encrypted?: string | null
          provider_merchant_id?: string | null
          require_credit_check?: boolean | null
          show_in_estimates?: boolean | null
          show_in_invoices?: boolean | null
          show_monthly_payment?: boolean | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "finance_consumer_financing_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "finance_consumer_financing_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      finance_debit_cards: {
        Row: {
          allowed_categories: string[] | null
          allowed_merchants: string[] | null
          blocked_categories: string[] | null
          card_name: string
          card_number_last4: string
          card_provider: string | null
          company_id: string
          created_at: string | null
          daily_limit: number | null
          daily_spent: number | null
          expires_at: string | null
          id: string
          is_active: boolean | null
          is_virtual: boolean | null
          last_reset_date: string | null
          monthly_limit: number | null
          monthly_spent: number | null
          team_member_id: string | null
          transaction_limit: number | null
          updated_at: string | null
        }
        Insert: {
          allowed_categories?: string[] | null
          allowed_merchants?: string[] | null
          blocked_categories?: string[] | null
          card_name: string
          card_number_last4: string
          card_provider?: string | null
          company_id: string
          created_at?: string | null
          daily_limit?: number | null
          daily_spent?: number | null
          expires_at?: string | null
          id?: string
          is_active?: boolean | null
          is_virtual?: boolean | null
          last_reset_date?: string | null
          monthly_limit?: number | null
          monthly_spent?: number | null
          team_member_id?: string | null
          transaction_limit?: number | null
          updated_at?: string | null
        }
        Update: {
          allowed_categories?: string[] | null
          allowed_merchants?: string[] | null
          blocked_categories?: string[] | null
          card_name?: string
          card_number_last4?: string
          card_provider?: string | null
          company_id?: string
          created_at?: string | null
          daily_limit?: number | null
          daily_spent?: number | null
          expires_at?: string | null
          id?: string
          is_active?: boolean | null
          is_virtual?: boolean | null
          last_reset_date?: string | null
          monthly_limit?: number | null
          monthly_spent?: number | null
          team_member_id?: string | null
          transaction_limit?: number | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "finance_debit_cards_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "finance_debit_cards_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "finance_debit_cards_team_member_id_fkey"
            columns: ["team_member_id"]
            isOneToOne: false
            referencedRelation: "team_members"
            referencedColumns: ["id"]
          },
        ]
      }
      finance_gas_cards: {
        Row: {
          allowed_fuel_types: string[] | null
          allowed_locations: string[] | null
          card_name: string
          card_number_last4: string
          card_provider: string | null
          company_id: string
          created_at: string | null
          daily_amount_limit: number | null
          daily_gallon_limit: number | null
          id: string
          is_active: boolean | null
          last_odometer_reading: number | null
          monthly_amount_limit: number | null
          monthly_gallons: number | null
          monthly_spent: number | null
          purchase_restrictions: string[] | null
          require_odometer: boolean | null
          team_member_id: string | null
          updated_at: string | null
          vehicle_id: string | null
        }
        Insert: {
          allowed_fuel_types?: string[] | null
          allowed_locations?: string[] | null
          card_name: string
          card_number_last4: string
          card_provider?: string | null
          company_id: string
          created_at?: string | null
          daily_amount_limit?: number | null
          daily_gallon_limit?: number | null
          id?: string
          is_active?: boolean | null
          last_odometer_reading?: number | null
          monthly_amount_limit?: number | null
          monthly_gallons?: number | null
          monthly_spent?: number | null
          purchase_restrictions?: string[] | null
          require_odometer?: boolean | null
          team_member_id?: string | null
          updated_at?: string | null
          vehicle_id?: string | null
        }
        Update: {
          allowed_fuel_types?: string[] | null
          allowed_locations?: string[] | null
          card_name?: string
          card_number_last4?: string
          card_provider?: string | null
          company_id?: string
          created_at?: string | null
          daily_amount_limit?: number | null
          daily_gallon_limit?: number | null
          id?: string
          is_active?: boolean | null
          last_odometer_reading?: number | null
          monthly_amount_limit?: number | null
          monthly_gallons?: number | null
          monthly_spent?: number | null
          purchase_restrictions?: string[] | null
          require_odometer?: boolean | null
          team_member_id?: string | null
          updated_at?: string | null
          vehicle_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "finance_gas_cards_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "finance_gas_cards_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "finance_gas_cards_team_member_id_fkey"
            columns: ["team_member_id"]
            isOneToOne: false
            referencedRelation: "team_members"
            referencedColumns: ["id"]
          },
        ]
      }
      finance_gift_card_settings: {
        Row: {
          allow_custom_message: boolean | null
          allow_in_person_purchase: boolean | null
          allow_multiple_cards_per_transaction: boolean | null
          allow_online_purchase: boolean | null
          allow_partial_redemption: boolean | null
          available_amounts: number[] | null
          cards_expire: boolean | null
          combine_with_other_discounts: boolean | null
          company_id: string
          created_at: string | null
          default_design_url: string | null
          expiration_months: number | null
          fixed_denominations: boolean | null
          gift_cards_enabled: boolean | null
          id: string
          max_custom_amount: number | null
          max_message_length: number | null
          min_custom_amount: number | null
          program_name: string | null
          reminder_days_before: number | null
          require_recipient_email: boolean | null
          send_expiration_reminder: boolean | null
          track_redemption_analytics: boolean | null
          updated_at: string | null
        }
        Insert: {
          allow_custom_message?: boolean | null
          allow_in_person_purchase?: boolean | null
          allow_multiple_cards_per_transaction?: boolean | null
          allow_online_purchase?: boolean | null
          allow_partial_redemption?: boolean | null
          available_amounts?: number[] | null
          cards_expire?: boolean | null
          combine_with_other_discounts?: boolean | null
          company_id: string
          created_at?: string | null
          default_design_url?: string | null
          expiration_months?: number | null
          fixed_denominations?: boolean | null
          gift_cards_enabled?: boolean | null
          id?: string
          max_custom_amount?: number | null
          max_message_length?: number | null
          min_custom_amount?: number | null
          program_name?: string | null
          reminder_days_before?: number | null
          require_recipient_email?: boolean | null
          send_expiration_reminder?: boolean | null
          track_redemption_analytics?: boolean | null
          updated_at?: string | null
        }
        Update: {
          allow_custom_message?: boolean | null
          allow_in_person_purchase?: boolean | null
          allow_multiple_cards_per_transaction?: boolean | null
          allow_online_purchase?: boolean | null
          allow_partial_redemption?: boolean | null
          available_amounts?: number[] | null
          cards_expire?: boolean | null
          combine_with_other_discounts?: boolean | null
          company_id?: string
          created_at?: string | null
          default_design_url?: string | null
          expiration_months?: number | null
          fixed_denominations?: boolean | null
          gift_cards_enabled?: boolean | null
          id?: string
          max_custom_amount?: number | null
          max_message_length?: number | null
          min_custom_amount?: number | null
          program_name?: string | null
          reminder_days_before?: number | null
          require_recipient_email?: boolean | null
          send_expiration_reminder?: boolean | null
          track_redemption_analytics?: boolean | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "finance_gift_card_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "finance_gift_card_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      finance_gift_cards: {
        Row: {
          activated_at: string | null
          card_code: string
          card_pin: string | null
          company_id: string
          created_at: string | null
          current_balance: number
          custom_message: string | null
          design_url: string | null
          expires_at: string | null
          id: string
          initial_amount: number
          last_used_at: string | null
          purchased_at: string | null
          purchaser_email: string | null
          purchaser_name: string | null
          recipient_email: string | null
          recipient_name: string | null
          status: string | null
          updated_at: string | null
        }
        Insert: {
          activated_at?: string | null
          card_code: string
          card_pin?: string | null
          company_id: string
          created_at?: string | null
          current_balance: number
          custom_message?: string | null
          design_url?: string | null
          expires_at?: string | null
          id?: string
          initial_amount: number
          last_used_at?: string | null
          purchased_at?: string | null
          purchaser_email?: string | null
          purchaser_name?: string | null
          recipient_email?: string | null
          recipient_name?: string | null
          status?: string | null
          updated_at?: string | null
        }
        Update: {
          activated_at?: string | null
          card_code?: string
          card_pin?: string | null
          company_id?: string
          created_at?: string | null
          current_balance?: number
          custom_message?: string | null
          design_url?: string | null
          expires_at?: string | null
          id?: string
          initial_amount?: number
          last_used_at?: string | null
          purchased_at?: string | null
          purchaser_email?: string | null
          purchaser_name?: string | null
          recipient_email?: string | null
          recipient_name?: string | null
          status?: string | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "finance_gift_cards_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "finance_gift_cards_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      finance_providers: {
        Row: {
          api_credentials: Json | null
          company_id: string
          contact_email: string | null
          contact_name: string | null
          contact_phone: string | null
          created_at: string
          default_interest_rate: number | null
          default_term_months: number | null
          deleted_at: string | null
          id: string
          is_active: boolean | null
          max_finance_amount: number | null
          min_finance_amount: number | null
          notes: string | null
          processing_fee_percent: number | null
          provider_code: string | null
          provider_name: string
          setup_fee: number | null
          updated_at: string
        }
        Insert: {
          api_credentials?: Json | null
          company_id: string
          contact_email?: string | null
          contact_name?: string | null
          contact_phone?: string | null
          created_at?: string
          default_interest_rate?: number | null
          default_term_months?: number | null
          deleted_at?: string | null
          id?: string
          is_active?: boolean | null
          max_finance_amount?: number | null
          min_finance_amount?: number | null
          notes?: string | null
          processing_fee_percent?: number | null
          provider_code?: string | null
          provider_name: string
          setup_fee?: number | null
          updated_at?: string
        }
        Update: {
          api_credentials?: Json | null
          company_id?: string
          contact_email?: string | null
          contact_name?: string | null
          contact_phone?: string | null
          created_at?: string
          default_interest_rate?: number | null
          default_term_months?: number | null
          deleted_at?: string | null
          id?: string
          is_active?: boolean | null
          max_finance_amount?: number | null
          min_finance_amount?: number | null
          notes?: string | null
          processing_fee_percent?: number | null
          provider_code?: string | null
          provider_name?: string
          setup_fee?: number | null
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "finance_providers_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "finance_providers_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      finance_virtual_bucket_settings: {
        Row: {
          allocation_frequency: string | null
          auto_allocate_funds: boolean | null
          company_id: string
          created_at: string | null
          emergency_fund_percentage: number | null
          emergency_fund_target: number | null
          id: string
          low_balance_threshold: number | null
          min_operating_balance: number | null
          notify_bucket_goals_met: boolean | null
          notify_low_balance: boolean | null
          operating_expenses_percentage: number | null
          profit_percentage: number | null
          tax_reserve_percentage: number | null
          updated_at: string | null
          virtual_buckets_enabled: boolean | null
        }
        Insert: {
          allocation_frequency?: string | null
          auto_allocate_funds?: boolean | null
          company_id: string
          created_at?: string | null
          emergency_fund_percentage?: number | null
          emergency_fund_target?: number | null
          id?: string
          low_balance_threshold?: number | null
          min_operating_balance?: number | null
          notify_bucket_goals_met?: boolean | null
          notify_low_balance?: boolean | null
          operating_expenses_percentage?: number | null
          profit_percentage?: number | null
          tax_reserve_percentage?: number | null
          updated_at?: string | null
          virtual_buckets_enabled?: boolean | null
        }
        Update: {
          allocation_frequency?: string | null
          auto_allocate_funds?: boolean | null
          company_id?: string
          created_at?: string | null
          emergency_fund_percentage?: number | null
          emergency_fund_target?: number | null
          id?: string
          low_balance_threshold?: number | null
          min_operating_balance?: number | null
          notify_bucket_goals_met?: boolean | null
          notify_low_balance?: boolean | null
          operating_expenses_percentage?: number | null
          profit_percentage?: number | null
          tax_reserve_percentage?: number | null
          updated_at?: string | null
          virtual_buckets_enabled?: boolean | null
        }
        Relationships: [
          {
            foreignKeyName: "finance_virtual_bucket_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "finance_virtual_bucket_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      finance_virtual_buckets: {
        Row: {
          allocation_percentage: number | null
          auto_transfer_enabled: boolean | null
          bucket_name: string
          bucket_type: string | null
          color: string | null
          company_id: string
          created_at: string | null
          current_balance: number | null
          description: string | null
          display_order: number | null
          icon: string | null
          id: string
          is_active: boolean | null
          max_balance: number | null
          min_balance: number | null
          target_balance: number | null
          updated_at: string | null
        }
        Insert: {
          allocation_percentage?: number | null
          auto_transfer_enabled?: boolean | null
          bucket_name: string
          bucket_type?: string | null
          color?: string | null
          company_id: string
          created_at?: string | null
          current_balance?: number | null
          description?: string | null
          display_order?: number | null
          icon?: string | null
          id?: string
          is_active?: boolean | null
          max_balance?: number | null
          min_balance?: number | null
          target_balance?: number | null
          updated_at?: string | null
        }
        Update: {
          allocation_percentage?: number | null
          auto_transfer_enabled?: boolean | null
          bucket_name?: string
          bucket_type?: string | null
          color?: string | null
          company_id?: string
          created_at?: string | null
          current_balance?: number | null
          description?: string | null
          display_order?: number | null
          icon?: string | null
          id?: string
          is_active?: boolean | null
          max_balance?: number | null
          min_balance?: number | null
          target_balance?: number | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "finance_virtual_buckets_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "finance_virtual_buckets_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      idempotency_keys: {
        Row: {
          company_id: string | null
          created_at: string
          expires_at: string
          key: string
          operation: string
          result: Json | null
        }
        Insert: {
          company_id?: string | null
          created_at?: string
          expires_at?: string
          key: string
          operation: string
          result?: Json | null
        }
        Update: {
          company_id?: string | null
          created_at?: string
          expires_at?: string
          key?: string
          operation?: string
          result?: Json | null
        }
        Relationships: [
          {
            foreignKeyName: "idempotency_keys_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "idempotency_keys_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      import_export_jobs: {
        Row: {
          company_id: string
          completed_at: string | null
          created_at: string
          entity_type: Database["public"]["Enums"]["entity_type"]
          error_message: string | null
          failed_records: number | null
          file_url: string | null
          format: Database["public"]["Enums"]["export_format"] | null
          id: string
          job_type: Database["public"]["Enums"]["job_type"]
          metadata: Json | null
          processed_records: number | null
          started_at: string | null
          status: Database["public"]["Enums"]["job_status"]
          successful_records: number | null
          total_records: number | null
          updated_at: string
          user_id: string
        }
        Insert: {
          company_id: string
          completed_at?: string | null
          created_at?: string
          entity_type: Database["public"]["Enums"]["entity_type"]
          error_message?: string | null
          failed_records?: number | null
          file_url?: string | null
          format?: Database["public"]["Enums"]["export_format"] | null
          id?: string
          job_type: Database["public"]["Enums"]["job_type"]
          metadata?: Json | null
          processed_records?: number | null
          started_at?: string | null
          status?: Database["public"]["Enums"]["job_status"]
          successful_records?: number | null
          total_records?: number | null
          updated_at?: string
          user_id: string
        }
        Update: {
          company_id?: string
          completed_at?: string | null
          created_at?: string
          entity_type?: Database["public"]["Enums"]["entity_type"]
          error_message?: string | null
          failed_records?: number | null
          file_url?: string | null
          format?: Database["public"]["Enums"]["export_format"] | null
          id?: string
          job_type?: Database["public"]["Enums"]["job_type"]
          metadata?: Json | null
          processed_records?: number | null
          started_at?: string | null
          status?: Database["public"]["Enums"]["job_status"]
          successful_records?: number | null
          total_records?: number | null
          updated_at?: string
          user_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "import_export_jobs_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "import_export_jobs_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      inventory: {
        Row: {
          company_id: string
          cost_per_unit: number | null
          created_at: string
          deleted_at: string | null
          deleted_by: string | null
          id: string
          is_low_stock: boolean
          last_purchase_cost: number | null
          last_restock_date: string | null
          last_restock_purchase_order_id: string | null
          last_restock_quantity: number | null
          last_stock_check_date: string | null
          last_used_date: string | null
          last_used_job_id: string | null
          low_stock_alert_sent: boolean
          low_stock_alert_sent_at: string | null
          maximum_quantity: number | null
          minimum_quantity: number | null
          notes: string | null
          price_book_item_id: string
          primary_location: string | null
          quantity_available: number
          quantity_on_hand: number
          quantity_reserved: number
          reorder_point: number | null
          reorder_quantity: number | null
          secondary_locations: Json | null
          status: string
          total_cost_value: number | null
          updated_at: string
          warehouse_location: string | null
        }
        Insert: {
          company_id: string
          cost_per_unit?: number | null
          created_at?: string
          deleted_at?: string | null
          deleted_by?: string | null
          id?: string
          is_low_stock?: boolean
          last_purchase_cost?: number | null
          last_restock_date?: string | null
          last_restock_purchase_order_id?: string | null
          last_restock_quantity?: number | null
          last_stock_check_date?: string | null
          last_used_date?: string | null
          last_used_job_id?: string | null
          low_stock_alert_sent?: boolean
          low_stock_alert_sent_at?: string | null
          maximum_quantity?: number | null
          minimum_quantity?: number | null
          notes?: string | null
          price_book_item_id: string
          primary_location?: string | null
          quantity_available?: number
          quantity_on_hand?: number
          quantity_reserved?: number
          reorder_point?: number | null
          reorder_quantity?: number | null
          secondary_locations?: Json | null
          status?: string
          total_cost_value?: number | null
          updated_at?: string
          warehouse_location?: string | null
        }
        Update: {
          company_id?: string
          cost_per_unit?: number | null
          created_at?: string
          deleted_at?: string | null
          deleted_by?: string | null
          id?: string
          is_low_stock?: boolean
          last_purchase_cost?: number | null
          last_restock_date?: string | null
          last_restock_purchase_order_id?: string | null
          last_restock_quantity?: number | null
          last_stock_check_date?: string | null
          last_used_date?: string | null
          last_used_job_id?: string | null
          low_stock_alert_sent?: boolean
          low_stock_alert_sent_at?: string | null
          maximum_quantity?: number | null
          minimum_quantity?: number | null
          notes?: string | null
          price_book_item_id?: string
          primary_location?: string | null
          quantity_available?: number
          quantity_on_hand?: number
          quantity_reserved?: number
          reorder_point?: number | null
          reorder_quantity?: number | null
          secondary_locations?: Json | null
          status?: string
          total_cost_value?: number | null
          updated_at?: string
          warehouse_location?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "inventory_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "inventory_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "inventory_deleted_by_users_id_fk"
            columns: ["deleted_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "inventory_last_restock_purchase_order_id_purchase_orders_id_fk"
            columns: ["last_restock_purchase_order_id"]
            isOneToOne: false
            referencedRelation: "purchase_orders"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "inventory_last_used_job_id_jobs_id_fk"
            columns: ["last_used_job_id"]
            isOneToOne: false
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "inventory_price_book_item_id_price_book_items_id_fk"
            columns: ["price_book_item_id"]
            isOneToOne: false
            referencedRelation: "price_book_items"
            referencedColumns: ["id"]
          },
        ]
      }
      invitations: {
        Row: {
          company_id: string
          created_at: string | null
          email: string
          expires_at: string
          id: string
          invited_by: string
          invited_name: string | null
          role: string
          status: string
          token: string
        }
        Insert: {
          company_id: string
          created_at?: string | null
          email: string
          expires_at?: string
          id?: string
          invited_by: string
          invited_name?: string | null
          role: string
          status?: string
          token?: string
        }
        Update: {
          company_id?: string
          created_at?: string | null
          email?: string
          expires_at?: string
          id?: string
          invited_by?: string
          invited_name?: string | null
          role?: string
          status?: string
          token?: string
        }
        Relationships: [
          {
            foreignKeyName: "invitations_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "invitations_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      invoice_jobs: {
        Row: {
          amount_from_job: number
          company_id: string
          created_at: string
          description: string | null
          id: string
          invoice_id: string
          job_id: string
        }
        Insert: {
          amount_from_job: number
          company_id: string
          created_at?: string
          description?: string | null
          id?: string
          invoice_id: string
          job_id: string
        }
        Update: {
          amount_from_job?: number
          company_id?: string
          created_at?: string
          description?: string | null
          id?: string
          invoice_id?: string
          job_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "invoice_jobs_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "invoice_jobs_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "invoice_jobs_invoice_id_fkey"
            columns: ["invoice_id"]
            isOneToOne: false
            referencedRelation: "invoices"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "invoice_jobs_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: false
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
        ]
      }
      invoice_payment_tokens: {
        Row: {
          created_at: string | null
          created_by_ip: string | null
          expires_at: string
          id: string
          invoice_id: string
          is_active: boolean | null
          max_uses: number | null
          metadata: Json | null
          token: string
          use_count: number | null
          used_at: string | null
          used_by_ip: string | null
        }
        Insert: {
          created_at?: string | null
          created_by_ip?: string | null
          expires_at: string
          id?: string
          invoice_id: string
          is_active?: boolean | null
          max_uses?: number | null
          metadata?: Json | null
          token: string
          use_count?: number | null
          used_at?: string | null
          used_by_ip?: string | null
        }
        Update: {
          created_at?: string | null
          created_by_ip?: string | null
          expires_at?: string
          id?: string
          invoice_id?: string
          is_active?: boolean | null
          max_uses?: number | null
          metadata?: Json | null
          token?: string
          use_count?: number | null
          used_at?: string | null
          used_by_ip?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "invoice_payment_tokens_invoice_id_fkey"
            columns: ["invoice_id"]
            isOneToOne: false
            referencedRelation: "invoices"
            referencedColumns: ["id"]
          },
        ]
      }
      invoice_payments: {
        Row: {
          amount_applied: number
          applied_at: string
          applied_by: string | null
          company_id: string
          created_at: string
          id: string
          invoice_id: string
          notes: string | null
          payment_id: string
        }
        Insert: {
          amount_applied: number
          applied_at?: string
          applied_by?: string | null
          company_id: string
          created_at?: string
          id?: string
          invoice_id: string
          notes?: string | null
          payment_id: string
        }
        Update: {
          amount_applied?: number
          applied_at?: string
          applied_by?: string | null
          company_id?: string
          created_at?: string
          id?: string
          invoice_id?: string
          notes?: string | null
          payment_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "invoice_payments_applied_by_fkey"
            columns: ["applied_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "invoice_payments_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "invoice_payments_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "invoice_payments_invoice_id_fkey"
            columns: ["invoice_id"]
            isOneToOne: false
            referencedRelation: "invoices"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "invoice_payments_payment_id_fkey"
            columns: ["payment_id"]
            isOneToOne: false
            referencedRelation: "payments"
            referencedColumns: ["id"]
          },
        ]
      }
      invoice_settings: {
        Row: {
          company_id: string
          created_at: string | null
          default_invoice_email_body: string | null
          default_invoice_email_subject: string | null
          default_invoice_footer: string | null
          default_payment_terms: number | null
          default_tax_rate: number | null
          default_terms: string | null
          id: string
          include_terms_and_conditions: boolean | null
          invoice_number_format: string | null
          invoice_number_prefix: string | null
          late_fee_amount: number | null
          late_fee_enabled: boolean | null
          late_fee_grace_period_days: number | null
          late_fee_type: string | null
          next_invoice_number: number | null
          payment_instructions: string | null
          payment_terms_options: number[] | null
          reminder_schedule: number[] | null
          send_reminders: boolean | null
          show_payment_instructions: boolean | null
          tax_enabled: boolean | null
          tax_label: string | null
          thank_you_message: string | null
          updated_at: string | null
        }
        Insert: {
          company_id: string
          created_at?: string | null
          default_invoice_email_body?: string | null
          default_invoice_email_subject?: string | null
          default_invoice_footer?: string | null
          default_payment_terms?: number | null
          default_tax_rate?: number | null
          default_terms?: string | null
          id?: string
          include_terms_and_conditions?: boolean | null
          invoice_number_format?: string | null
          invoice_number_prefix?: string | null
          late_fee_amount?: number | null
          late_fee_enabled?: boolean | null
          late_fee_grace_period_days?: number | null
          late_fee_type?: string | null
          next_invoice_number?: number | null
          payment_instructions?: string | null
          payment_terms_options?: number[] | null
          reminder_schedule?: number[] | null
          send_reminders?: boolean | null
          show_payment_instructions?: boolean | null
          tax_enabled?: boolean | null
          tax_label?: string | null
          thank_you_message?: string | null
          updated_at?: string | null
        }
        Update: {
          company_id?: string
          created_at?: string | null
          default_invoice_email_body?: string | null
          default_invoice_email_subject?: string | null
          default_invoice_footer?: string | null
          default_payment_terms?: number | null
          default_tax_rate?: number | null
          default_terms?: string | null
          id?: string
          include_terms_and_conditions?: boolean | null
          invoice_number_format?: string | null
          invoice_number_prefix?: string | null
          late_fee_amount?: number | null
          late_fee_enabled?: boolean | null
          late_fee_grace_period_days?: number | null
          late_fee_type?: string | null
          next_invoice_number?: number | null
          payment_instructions?: string | null
          payment_terms_options?: number[] | null
          reminder_schedule?: number[] | null
          send_reminders?: boolean | null
          show_payment_instructions?: boolean | null
          tax_enabled?: boolean | null
          tax_label?: string | null
          thank_you_message?: string | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "invoice_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "invoice_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      invoice_tags: {
        Row: {
          created_at: string
          invoice_id: string
          tag_id: string
        }
        Insert: {
          created_at?: string
          invoice_id: string
          tag_id: string
        }
        Update: {
          created_at?: string
          invoice_id?: string
          tag_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "invoice_tags_invoice_id_fkey"
            columns: ["invoice_id"]
            isOneToOne: false
            referencedRelation: "invoices"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "invoice_tags_tag_id_fkey"
            columns: ["tag_id"]
            isOneToOne: false
            referencedRelation: "tags"
            referencedColumns: ["id"]
          },
        ]
      }
      invoice_templates: {
        Row: {
          apply_tax: boolean | null
          company_id: string
          created_at: string
          default_discount_amount: number | null
          default_discount_percent: number | null
          default_due_days: number | null
          default_line_items: Json | null
          default_payment_terms: string | null
          deleted_at: string | null
          description: string | null
          footer_text: string | null
          header_text: string | null
          id: string
          is_active: boolean | null
          is_default: boolean | null
          last_used_at: string | null
          logo_url: string | null
          notes_template: string | null
          primary_color: string | null
          tax_rate: number | null
          template_code: string | null
          template_name: string
          terms_and_conditions: string | null
          times_used: number | null
          updated_at: string
        }
        Insert: {
          apply_tax?: boolean | null
          company_id: string
          created_at?: string
          default_discount_amount?: number | null
          default_discount_percent?: number | null
          default_due_days?: number | null
          default_line_items?: Json | null
          default_payment_terms?: string | null
          deleted_at?: string | null
          description?: string | null
          footer_text?: string | null
          header_text?: string | null
          id?: string
          is_active?: boolean | null
          is_default?: boolean | null
          last_used_at?: string | null
          logo_url?: string | null
          notes_template?: string | null
          primary_color?: string | null
          tax_rate?: number | null
          template_code?: string | null
          template_name: string
          terms_and_conditions?: string | null
          times_used?: number | null
          updated_at?: string
        }
        Update: {
          apply_tax?: boolean | null
          company_id?: string
          created_at?: string
          default_discount_amount?: number | null
          default_discount_percent?: number | null
          default_due_days?: number | null
          default_line_items?: Json | null
          default_payment_terms?: string | null
          deleted_at?: string | null
          description?: string | null
          footer_text?: string | null
          header_text?: string | null
          id?: string
          is_active?: boolean | null
          is_default?: boolean | null
          last_used_at?: string | null
          logo_url?: string | null
          notes_template?: string | null
          primary_color?: string | null
          tax_rate?: number | null
          template_code?: string | null
          template_name?: string
          terms_and_conditions?: string | null
          times_used?: number | null
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "invoice_templates_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "invoice_templates_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      invoices: {
        Row: {
          actual_payment_method: string | null
          adjustment_amount: number | null
          adjustment_reason: string | null
          aging_bucket: string | null
          archived_at: string | null
          average_partial_payment: number | null
          balance_amount: number
          collection_attempts: number | null
          collection_method: string | null
          company_id: string
          cost_of_goods: number | null
          coupon_code: string | null
          coupon_discount: number | null
          created_at: string
          created_by: string | null
          customer_id: string
          customer_notes: string | null
          days_outstanding: number | null
          days_to_first_payment: number | null
          deleted_at: string | null
          deleted_by: string | null
          description: string | null
          discount_amount: number
          discount_reason: string | null
          dispute_date: string | null
          dispute_reason: string | null
          dispute_resolution: string | null
          dispute_resolved_date: string | null
          dispute_status: string | null
          download_count: number | null
          due_date: string | null
          early_payment_discount: number | null
          failed_payment_count: number | null
          financing_accepted: boolean | null
          financing_offered: boolean | null
          financing_provider: string | null
          first_payment_date: string | null
          gross_profit: number | null
          has_payment_plan: boolean | null
          id: string
          interest_charged: number | null
          internal_collection_notes: string | null
          invoice_number: string
          is_recurring: boolean | null
          job_id: string | null
          labor_amount: number | null
          labor_percentage: number | null
          last_collection_attempt_date: string | null
          last_customer_response_at: string | null
          last_reminder_sent_at: string | null
          last_viewed_at: string | null
          late_fee_amount: number | null
          late_fee_count: number | null
          line_item_count: number | null
          line_items: Json
          margin_percentage: number | null
          materials_amount: number | null
          materials_percentage: number | null
          next_collection_date: string | null
          next_invoice_date: string | null
          next_reminder_date: string | null
          notes: string | null
          other_amount: number | null
          page_content: Json | null
          paid_amount: number
          paid_at: string | null
          partial_payment_count: number | null
          payment_attempts: number | null
          payment_methods_used: string[] | null
          payment_plan_id: string | null
          payment_token: string | null
          payment_token_expires_at: string | null
          permanent_delete_scheduled_at: string | null
          preferred_payment_method: string | null
          print_count: number | null
          recurrence_frequency: string | null
          recurring_invoice_id: string | null
          refund_amount: number | null
          refund_count: number | null
          reminder_count: number | null
          search_vector: unknown
          sent_at: string | null
          status: string
          subtotal: number
          tax_amount: number
          terms: string | null
          time_to_view_hours: number | null
          title: string
          total_amount: number
          total_time_viewing_seconds: number | null
          updated_at: string
          updated_by: string | null
          view_count: number | null
          viewed_at: string | null
          write_off_amount: number | null
          write_off_date: string | null
          write_off_reason: string | null
          written_off_by: string | null
        }
        Insert: {
          actual_payment_method?: string | null
          adjustment_amount?: number | null
          adjustment_reason?: string | null
          aging_bucket?: string | null
          archived_at?: string | null
          average_partial_payment?: number | null
          balance_amount?: number
          collection_attempts?: number | null
          collection_method?: string | null
          company_id: string
          cost_of_goods?: number | null
          coupon_code?: string | null
          coupon_discount?: number | null
          created_at?: string
          created_by?: string | null
          customer_id: string
          customer_notes?: string | null
          days_outstanding?: number | null
          days_to_first_payment?: number | null
          deleted_at?: string | null
          deleted_by?: string | null
          description?: string | null
          discount_amount?: number
          discount_reason?: string | null
          dispute_date?: string | null
          dispute_reason?: string | null
          dispute_resolution?: string | null
          dispute_resolved_date?: string | null
          dispute_status?: string | null
          download_count?: number | null
          due_date?: string | null
          early_payment_discount?: number | null
          failed_payment_count?: number | null
          financing_accepted?: boolean | null
          financing_offered?: boolean | null
          financing_provider?: string | null
          first_payment_date?: string | null
          gross_profit?: number | null
          has_payment_plan?: boolean | null
          id?: string
          interest_charged?: number | null
          internal_collection_notes?: string | null
          invoice_number: string
          is_recurring?: boolean | null
          job_id?: string | null
          labor_amount?: number | null
          labor_percentage?: number | null
          last_collection_attempt_date?: string | null
          last_customer_response_at?: string | null
          last_reminder_sent_at?: string | null
          last_viewed_at?: string | null
          late_fee_amount?: number | null
          late_fee_count?: number | null
          line_item_count?: number | null
          line_items: Json
          margin_percentage?: number | null
          materials_amount?: number | null
          materials_percentage?: number | null
          next_collection_date?: string | null
          next_invoice_date?: string | null
          next_reminder_date?: string | null
          notes?: string | null
          other_amount?: number | null
          page_content?: Json | null
          paid_amount?: number
          paid_at?: string | null
          partial_payment_count?: number | null
          payment_attempts?: number | null
          payment_methods_used?: string[] | null
          payment_plan_id?: string | null
          payment_token?: string | null
          payment_token_expires_at?: string | null
          permanent_delete_scheduled_at?: string | null
          preferred_payment_method?: string | null
          print_count?: number | null
          recurrence_frequency?: string | null
          recurring_invoice_id?: string | null
          refund_amount?: number | null
          refund_count?: number | null
          reminder_count?: number | null
          search_vector?: unknown
          sent_at?: string | null
          status?: string
          subtotal?: number
          tax_amount?: number
          terms?: string | null
          time_to_view_hours?: number | null
          title: string
          total_amount?: number
          total_time_viewing_seconds?: number | null
          updated_at?: string
          updated_by?: string | null
          view_count?: number | null
          viewed_at?: string | null
          write_off_amount?: number | null
          write_off_date?: string | null
          write_off_reason?: string | null
          written_off_by?: string | null
        }
        Update: {
          actual_payment_method?: string | null
          adjustment_amount?: number | null
          adjustment_reason?: string | null
          aging_bucket?: string | null
          archived_at?: string | null
          average_partial_payment?: number | null
          balance_amount?: number
          collection_attempts?: number | null
          collection_method?: string | null
          company_id?: string
          cost_of_goods?: number | null
          coupon_code?: string | null
          coupon_discount?: number | null
          created_at?: string
          created_by?: string | null
          customer_id?: string
          customer_notes?: string | null
          days_outstanding?: number | null
          days_to_first_payment?: number | null
          deleted_at?: string | null
          deleted_by?: string | null
          description?: string | null
          discount_amount?: number
          discount_reason?: string | null
          dispute_date?: string | null
          dispute_reason?: string | null
          dispute_resolution?: string | null
          dispute_resolved_date?: string | null
          dispute_status?: string | null
          download_count?: number | null
          due_date?: string | null
          early_payment_discount?: number | null
          failed_payment_count?: number | null
          financing_accepted?: boolean | null
          financing_offered?: boolean | null
          financing_provider?: string | null
          first_payment_date?: string | null
          gross_profit?: number | null
          has_payment_plan?: boolean | null
          id?: string
          interest_charged?: number | null
          internal_collection_notes?: string | null
          invoice_number?: string
          is_recurring?: boolean | null
          job_id?: string | null
          labor_amount?: number | null
          labor_percentage?: number | null
          last_collection_attempt_date?: string | null
          last_customer_response_at?: string | null
          last_reminder_sent_at?: string | null
          last_viewed_at?: string | null
          late_fee_amount?: number | null
          late_fee_count?: number | null
          line_item_count?: number | null
          line_items?: Json
          margin_percentage?: number | null
          materials_amount?: number | null
          materials_percentage?: number | null
          next_collection_date?: string | null
          next_invoice_date?: string | null
          next_reminder_date?: string | null
          notes?: string | null
          other_amount?: number | null
          page_content?: Json | null
          paid_amount?: number
          paid_at?: string | null
          partial_payment_count?: number | null
          payment_attempts?: number | null
          payment_methods_used?: string[] | null
          payment_plan_id?: string | null
          payment_token?: string | null
          payment_token_expires_at?: string | null
          permanent_delete_scheduled_at?: string | null
          preferred_payment_method?: string | null
          print_count?: number | null
          recurrence_frequency?: string | null
          recurring_invoice_id?: string | null
          refund_amount?: number | null
          refund_count?: number | null
          reminder_count?: number | null
          search_vector?: unknown
          sent_at?: string | null
          status?: string
          subtotal?: number
          tax_amount?: number
          terms?: string | null
          time_to_view_hours?: number | null
          title?: string
          total_amount?: number
          total_time_viewing_seconds?: number | null
          updated_at?: string
          updated_by?: string | null
          view_count?: number | null
          viewed_at?: string | null
          write_off_amount?: number | null
          write_off_date?: string | null
          write_off_reason?: string | null
          written_off_by?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "fk_invoices_payment_plan"
            columns: ["payment_plan_id"]
            isOneToOne: false
            referencedRelation: "payment_plans"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_invoices_recurring_invoice"
            columns: ["recurring_invoice_id"]
            isOneToOne: false
            referencedRelation: "recurring_invoices"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "invoices_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "invoices_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "invoices_created_by_fkey"
            columns: ["created_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "invoices_customer_id_customers_id_fk"
            columns: ["customer_id"]
            isOneToOne: false
            referencedRelation: "customers"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "invoices_deleted_by_fkey"
            columns: ["deleted_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "invoices_job_id_jobs_id_fk"
            columns: ["job_id"]
            isOneToOne: false
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "invoices_updated_by_fkey"
            columns: ["updated_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "invoices_written_off_by_fkey"
            columns: ["written_off_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      ivr_menus: {
        Row: {
          call_routing_rule_id: string | null
          company_id: string
          created_at: string | null
          created_by: string | null
          deleted_at: string | null
          description: string | null
          greeting_audio_url: string | null
          greeting_text: string | null
          id: string
          invalid_option_message: string | null
          is_active: boolean | null
          language: string | null
          max_retries: number | null
          name: string
          options: Json
          parent_menu_id: string | null
          retry_message: string | null
          timeout_action: string | null
          timeout_seconds: number | null
          updated_at: string | null
          use_text_to_speech: boolean | null
          voice: string | null
        }
        Insert: {
          call_routing_rule_id?: string | null
          company_id: string
          created_at?: string | null
          created_by?: string | null
          deleted_at?: string | null
          description?: string | null
          greeting_audio_url?: string | null
          greeting_text?: string | null
          id?: string
          invalid_option_message?: string | null
          is_active?: boolean | null
          language?: string | null
          max_retries?: number | null
          name: string
          options?: Json
          parent_menu_id?: string | null
          retry_message?: string | null
          timeout_action?: string | null
          timeout_seconds?: number | null
          updated_at?: string | null
          use_text_to_speech?: boolean | null
          voice?: string | null
        }
        Update: {
          call_routing_rule_id?: string | null
          company_id?: string
          created_at?: string | null
          created_by?: string | null
          deleted_at?: string | null
          description?: string | null
          greeting_audio_url?: string | null
          greeting_text?: string | null
          id?: string
          invalid_option_message?: string | null
          is_active?: boolean | null
          language?: string | null
          max_retries?: number | null
          name?: string
          options?: Json
          parent_menu_id?: string | null
          retry_message?: string | null
          timeout_action?: string | null
          timeout_seconds?: number | null
          updated_at?: string | null
          use_text_to_speech?: boolean | null
          voice?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "ivr_menus_call_routing_rule_id_fkey"
            columns: ["call_routing_rule_id"]
            isOneToOne: false
            referencedRelation: "call_routing_rules"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ivr_menus_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ivr_menus_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "ivr_menus_parent_menu_id_fkey"
            columns: ["parent_menu_id"]
            isOneToOne: false
            referencedRelation: "ivr_menus"
            referencedColumns: ["id"]
          },
        ]
      }
      job_activity_log: {
        Row: {
          activity_type: string
          company_id: string
          created_at: string
          description: string
          entity_id: string | null
          entity_type: string | null
          id: string
          job_id: string
          metadata: Json | null
          user_id: string | null
        }
        Insert: {
          activity_type: string
          company_id: string
          created_at?: string
          description: string
          entity_id?: string | null
          entity_type?: string | null
          id?: string
          job_id: string
          metadata?: Json | null
          user_id?: string | null
        }
        Update: {
          activity_type?: string
          company_id?: string
          created_at?: string
          description?: string
          entity_id?: string | null
          entity_type?: string | null
          id?: string
          job_id?: string
          metadata?: Json | null
          user_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "job_activity_log_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_activity_log_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "job_activity_log_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: false
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_activity_log_user_id_fkey"
            columns: ["user_id"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      job_ai_enrichment: {
        Row: {
          ai_categories: Json | null
          ai_equipment: Json | null
          ai_priority_score: number | null
          ai_processed_at: string | null
          ai_service_type: string | null
          ai_tags: Json | null
          company_id: string
          created_at: string
          id: string
          job_id: string
          updated_at: string
        }
        Insert: {
          ai_categories?: Json | null
          ai_equipment?: Json | null
          ai_priority_score?: number | null
          ai_processed_at?: string | null
          ai_service_type?: string | null
          ai_tags?: Json | null
          company_id: string
          created_at?: string
          id?: string
          job_id: string
          updated_at?: string
        }
        Update: {
          ai_categories?: Json | null
          ai_equipment?: Json | null
          ai_priority_score?: number | null
          ai_processed_at?: string | null
          ai_service_type?: string | null
          ai_tags?: Json | null
          company_id?: string
          created_at?: string
          id?: string
          job_id?: string
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "job_ai_enrichment_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_ai_enrichment_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "job_ai_enrichment_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: true
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
        ]
      }
      job_customer_approval: {
        Row: {
          company_id: string
          created_at: string
          customer_approval_status: string
          customer_approval_timestamp: string | null
          customer_notes: string | null
          customer_signature: Json | null
          id: string
          job_id: string
          updated_at: string
        }
        Insert: {
          company_id: string
          created_at?: string
          customer_approval_status?: string
          customer_approval_timestamp?: string | null
          customer_notes?: string | null
          customer_signature?: Json | null
          id?: string
          job_id: string
          updated_at?: string
        }
        Update: {
          company_id?: string
          created_at?: string
          customer_approval_status?: string
          customer_approval_timestamp?: string | null
          customer_notes?: string | null
          customer_signature?: Json | null
          id?: string
          job_id?: string
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "job_customer_approval_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_customer_approval_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "job_customer_approval_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: true
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
        ]
      }
      job_customers: {
        Row: {
          billing_percentage: number | null
          company_id: string
          created_at: string
          customer_id: string
          id: string
          is_billing_contact: boolean | null
          is_primary: boolean | null
          job_id: string
          role: string
          updated_at: string
        }
        Insert: {
          billing_percentage?: number | null
          company_id: string
          created_at?: string
          customer_id: string
          id?: string
          is_billing_contact?: boolean | null
          is_primary?: boolean | null
          job_id: string
          role?: string
          updated_at?: string
        }
        Update: {
          billing_percentage?: number | null
          company_id?: string
          created_at?: string
          customer_id?: string
          id?: string
          is_billing_contact?: boolean | null
          is_primary?: boolean | null
          job_id?: string
          role?: string
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "job_customers_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_customers_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "job_customers_customer_id_fkey"
            columns: ["customer_id"]
            isOneToOne: false
            referencedRelation: "customers"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_customers_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: false
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
        ]
      }
      job_dispatch: {
        Row: {
          company_id: string
          created_at: string
          dispatch_zone: string | null
          id: string
          job_id: string
          next_job_id: string | null
          previous_job_id: string | null
          route_order: number | null
          travel_time_minutes: number | null
          updated_at: string
        }
        Insert: {
          company_id: string
          created_at?: string
          dispatch_zone?: string | null
          id?: string
          job_id: string
          next_job_id?: string | null
          previous_job_id?: string | null
          route_order?: number | null
          travel_time_minutes?: number | null
          updated_at?: string
        }
        Update: {
          company_id?: string
          created_at?: string
          dispatch_zone?: string | null
          id?: string
          job_id?: string
          next_job_id?: string | null
          previous_job_id?: string | null
          route_order?: number | null
          travel_time_minutes?: number | null
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "job_dispatch_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_dispatch_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "job_dispatch_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: true
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_dispatch_next_job_id_fkey"
            columns: ["next_job_id"]
            isOneToOne: false
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_dispatch_previous_job_id_fkey"
            columns: ["previous_job_id"]
            isOneToOne: false
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
        ]
      }
      job_equipment: {
        Row: {
          company_id: string
          created_at: string
          equipment_id: string
          hours_spent: number | null
          id: string
          job_id: string
          labor_cost: number | null
          parts_cost: number | null
          service_description: string | null
          service_type: string | null
          updated_at: string
        }
        Insert: {
          company_id: string
          created_at?: string
          equipment_id: string
          hours_spent?: number | null
          id?: string
          job_id: string
          labor_cost?: number | null
          parts_cost?: number | null
          service_description?: string | null
          service_type?: string | null
          updated_at?: string
        }
        Update: {
          company_id?: string
          created_at?: string
          equipment_id?: string
          hours_spent?: number | null
          id?: string
          job_id?: string
          labor_cost?: number | null
          parts_cost?: number | null
          service_description?: string | null
          service_type?: string | null
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "job_equipment_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_equipment_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "job_equipment_equipment_id_fkey"
            columns: ["equipment_id"]
            isOneToOne: false
            referencedRelation: "equipment"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_equipment_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: false
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
        ]
      }
      job_equipment_service: {
        Row: {
          company_id: string
          created_at: string
          equipment_service_history: Json
          equipment_serviced: Json
          id: string
          job_id: string
          job_recurrence_id: string | null
          job_service_agreement_id: string | null
          job_warranty_info: Json | null
          primary_equipment_id: string | null
          updated_at: string
        }
        Insert: {
          company_id: string
          created_at?: string
          equipment_service_history?: Json
          equipment_serviced?: Json
          id?: string
          job_id: string
          job_recurrence_id?: string | null
          job_service_agreement_id?: string | null
          job_warranty_info?: Json | null
          primary_equipment_id?: string | null
          updated_at?: string
        }
        Update: {
          company_id?: string
          created_at?: string
          equipment_service_history?: Json
          equipment_serviced?: Json
          id?: string
          job_id?: string
          job_recurrence_id?: string | null
          job_service_agreement_id?: string | null
          job_warranty_info?: Json | null
          primary_equipment_id?: string | null
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "job_equipment_service_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_equipment_service_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "job_equipment_service_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: true
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_equipment_service_job_service_agreement_id_fkey"
            columns: ["job_service_agreement_id"]
            isOneToOne: false
            referencedRelation: "service_agreements"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_equipment_service_primary_equipment_id_fkey"
            columns: ["primary_equipment_id"]
            isOneToOne: false
            referencedRelation: "equipment"
            referencedColumns: ["id"]
          },
        ]
      }
      job_financial: {
        Row: {
          company_id: string
          created_at: string
          deposit_amount: number | null
          deposit_paid_at: string | null
          id: string
          invoice_generated_at: string | null
          job_id: string
          paid_amount: number | null
          payment_due_date: string | null
          payment_terms: string | null
          total_amount: number | null
          updated_at: string
        }
        Insert: {
          company_id: string
          created_at?: string
          deposit_amount?: number | null
          deposit_paid_at?: string | null
          id?: string
          invoice_generated_at?: string | null
          job_id: string
          paid_amount?: number | null
          payment_due_date?: string | null
          payment_terms?: string | null
          total_amount?: number | null
          updated_at?: string
        }
        Update: {
          company_id?: string
          created_at?: string
          deposit_amount?: number | null
          deposit_paid_at?: string | null
          id?: string
          invoice_generated_at?: string | null
          job_id?: string
          paid_amount?: number | null
          payment_due_date?: string | null
          payment_terms?: string | null
          total_amount?: number | null
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "job_financial_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_financial_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "job_financial_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: true
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
        ]
      }
      job_multi_entity: {
        Row: {
          company_id: string
          created_at: string
          deleted_by: string | null
          id: string
          job_id: string
          permanent_delete_scheduled_at: string | null
          primary_customer_id: string | null
          primary_property_id: string | null
          requires_multiple_customers: boolean | null
          requires_multiple_properties: boolean | null
          updated_at: string
        }
        Insert: {
          company_id: string
          created_at?: string
          deleted_by?: string | null
          id?: string
          job_id: string
          permanent_delete_scheduled_at?: string | null
          primary_customer_id?: string | null
          primary_property_id?: string | null
          requires_multiple_customers?: boolean | null
          requires_multiple_properties?: boolean | null
          updated_at?: string
        }
        Update: {
          company_id?: string
          created_at?: string
          deleted_by?: string | null
          id?: string
          job_id?: string
          permanent_delete_scheduled_at?: string | null
          primary_customer_id?: string | null
          primary_property_id?: string | null
          requires_multiple_customers?: boolean | null
          requires_multiple_properties?: boolean | null
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "job_multi_entity_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_multi_entity_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "job_multi_entity_deleted_by_fkey"
            columns: ["deleted_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_multi_entity_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: true
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_multi_entity_primary_customer_id_fkey"
            columns: ["primary_customer_id"]
            isOneToOne: false
            referencedRelation: "customers"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_multi_entity_primary_property_id_fkey"
            columns: ["primary_property_id"]
            isOneToOne: false
            referencedRelation: "properties"
            referencedColumns: ["id"]
          },
        ]
      }
      job_notes: {
        Row: {
          company_id: string
          content: string
          created_at: string
          created_by: string | null
          deleted_at: string | null
          id: string
          is_important: boolean | null
          job_id: string
          note_type: string | null
          updated_at: string
        }
        Insert: {
          company_id: string
          content: string
          created_at?: string
          created_by?: string | null
          deleted_at?: string | null
          id?: string
          is_important?: boolean | null
          job_id: string
          note_type?: string | null
          updated_at?: string
        }
        Update: {
          company_id?: string
          content?: string
          created_at?: string
          created_by?: string | null
          deleted_at?: string | null
          id?: string
          is_important?: boolean | null
          job_id?: string
          note_type?: string | null
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "job_notes_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_notes_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "job_notes_created_by_fkey"
            columns: ["created_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_notes_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: false
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
        ]
      }
      job_photos: {
        Row: {
          annotations: Json | null
          category: string
          company_id: string
          completion_photo: boolean | null
          created_at: string | null
          description: string | null
          device_info: Json | null
          display_order: number | null
          exif_data: Json | null
          file_name: string
          file_size: number | null
          id: string
          is_customer_visible: boolean | null
          is_required_photo: boolean | null
          job_id: string
          metadata: Json | null
          mime_type: string | null
          photo_location: Json | null
          photo_phase: string | null
          storage_path: string
          subcategory: string | null
          tags: Json | null
          taken_at: string | null
          thumbnail_path: string | null
          title: string | null
          updated_at: string | null
          uploaded_by: string
        }
        Insert: {
          annotations?: Json | null
          category: string
          company_id: string
          completion_photo?: boolean | null
          created_at?: string | null
          description?: string | null
          device_info?: Json | null
          display_order?: number | null
          exif_data?: Json | null
          file_name: string
          file_size?: number | null
          id?: string
          is_customer_visible?: boolean | null
          is_required_photo?: boolean | null
          job_id: string
          metadata?: Json | null
          mime_type?: string | null
          photo_location?: Json | null
          photo_phase?: string | null
          storage_path: string
          subcategory?: string | null
          tags?: Json | null
          taken_at?: string | null
          thumbnail_path?: string | null
          title?: string | null
          updated_at?: string | null
          uploaded_by: string
        }
        Update: {
          annotations?: Json | null
          category?: string
          company_id?: string
          completion_photo?: boolean | null
          created_at?: string | null
          description?: string | null
          device_info?: Json | null
          display_order?: number | null
          exif_data?: Json | null
          file_name?: string
          file_size?: number | null
          id?: string
          is_customer_visible?: boolean | null
          is_required_photo?: boolean | null
          job_id?: string
          metadata?: Json | null
          mime_type?: string | null
          photo_location?: Json | null
          photo_phase?: string | null
          storage_path?: string
          subcategory?: string | null
          tags?: Json | null
          taken_at?: string | null
          thumbnail_path?: string | null
          title?: string | null
          updated_at?: string | null
          uploaded_by?: string
        }
        Relationships: [
          {
            foreignKeyName: "job_photos_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_photos_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "job_photos_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: false
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
        ]
      }
      job_properties: {
        Row: {
          company_id: string
          created_at: string
          estimated_hours: number | null
          id: string
          is_primary: boolean | null
          job_id: string
          property_id: string
          role: string
          updated_at: string
          work_description: string | null
        }
        Insert: {
          company_id: string
          created_at?: string
          estimated_hours?: number | null
          id?: string
          is_primary?: boolean | null
          job_id: string
          property_id: string
          role?: string
          updated_at?: string
          work_description?: string | null
        }
        Update: {
          company_id?: string
          created_at?: string
          estimated_hours?: number | null
          id?: string
          is_primary?: boolean | null
          job_id?: string
          property_id?: string
          role?: string
          updated_at?: string
          work_description?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "job_properties_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_properties_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "job_properties_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: false
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_properties_property_id_fkey"
            columns: ["property_id"]
            isOneToOne: false
            referencedRelation: "properties"
            referencedColumns: ["id"]
          },
        ]
      }
      job_quality: {
        Row: {
          company_id: string
          created_at: string
          customer_satisfaction_rating: number | null
          id: string
          inspection_completed_at: string | null
          inspection_required: boolean | null
          internal_priority_score: number | null
          job_id: string
          quality_notes: string | null
          quality_score: number | null
          updated_at: string
        }
        Insert: {
          company_id: string
          created_at?: string
          customer_satisfaction_rating?: number | null
          id?: string
          inspection_completed_at?: string | null
          inspection_required?: boolean | null
          internal_priority_score?: number | null
          job_id: string
          quality_notes?: string | null
          quality_score?: number | null
          updated_at?: string
        }
        Update: {
          company_id?: string
          created_at?: string
          customer_satisfaction_rating?: number | null
          id?: string
          inspection_completed_at?: string | null
          inspection_required?: boolean | null
          internal_priority_score?: number | null
          job_id?: string
          quality_notes?: string | null
          quality_score?: number | null
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "job_quality_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_quality_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "job_quality_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: true
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
        ]
      }
      job_safety: {
        Row: {
          company_id: string
          created_at: string
          hazards_identified: string | null
          id: string
          job_id: string
          permit_obtained_at: string | null
          requires_permit: boolean | null
          safety_notes: string | null
          updated_at: string
        }
        Insert: {
          company_id: string
          created_at?: string
          hazards_identified?: string | null
          id?: string
          job_id: string
          permit_obtained_at?: string | null
          requires_permit?: boolean | null
          safety_notes?: string | null
          updated_at?: string
        }
        Update: {
          company_id?: string
          created_at?: string
          hazards_identified?: string | null
          id?: string
          job_id?: string
          permit_obtained_at?: string | null
          requires_permit?: boolean | null
          safety_notes?: string | null
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "job_safety_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_safety_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "job_safety_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: true
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
        ]
      }
      job_settings: {
        Row: {
          auto_invoice_on_completion: boolean | null
          auto_send_completion_email: boolean | null
          company_id: string
          created_at: string | null
          default_job_status: string | null
          default_priority: string | null
          id: string
          job_number_format: string | null
          job_number_prefix: string | null
          next_job_number: number | null
          require_arrival_confirmation: boolean | null
          require_completion_notes: boolean | null
          require_customer_signature: boolean | null
          require_photo_completion: boolean | null
          send_review_link_on_completion: boolean | null
          track_technician_time: boolean | null
          updated_at: string | null
        }
        Insert: {
          auto_invoice_on_completion?: boolean | null
          auto_send_completion_email?: boolean | null
          company_id: string
          created_at?: string | null
          default_job_status?: string | null
          default_priority?: string | null
          id?: string
          job_number_format?: string | null
          job_number_prefix?: string | null
          next_job_number?: number | null
          require_arrival_confirmation?: boolean | null
          require_completion_notes?: boolean | null
          require_customer_signature?: boolean | null
          require_photo_completion?: boolean | null
          send_review_link_on_completion?: boolean | null
          track_technician_time?: boolean | null
          updated_at?: string | null
        }
        Update: {
          auto_invoice_on_completion?: boolean | null
          auto_send_completion_email?: boolean | null
          company_id?: string
          created_at?: string | null
          default_job_status?: string | null
          default_priority?: string | null
          id?: string
          job_number_format?: string | null
          job_number_prefix?: string | null
          next_job_number?: number | null
          require_arrival_confirmation?: boolean | null
          require_completion_notes?: boolean | null
          require_customer_signature?: boolean | null
          require_photo_completion?: boolean | null
          send_review_link_on_completion?: boolean | null
          track_technician_time?: boolean | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "job_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      job_signatures: {
        Row: {
          agreement_text: string | null
          company_id: string
          created_at: string | null
          device_info: Json | null
          document_content: Json | null
          document_type: string | null
          id: string
          ip_address: string | null
          is_verified: boolean | null
          job_id: string
          metadata: Json | null
          signature_data_url: string
          signature_hash: string | null
          signature_type: string
          signed_at: string
          signed_location: Json | null
          signer_email: string | null
          signer_name: string
          signer_phone: string | null
          signer_role: string | null
          user_agent: string | null
          verified_at: string | null
          verified_by: string | null
        }
        Insert: {
          agreement_text?: string | null
          company_id: string
          created_at?: string | null
          device_info?: Json | null
          document_content?: Json | null
          document_type?: string | null
          id?: string
          ip_address?: string | null
          is_verified?: boolean | null
          job_id: string
          metadata?: Json | null
          signature_data_url: string
          signature_hash?: string | null
          signature_type: string
          signed_at?: string
          signed_location?: Json | null
          signer_email?: string | null
          signer_name: string
          signer_phone?: string | null
          signer_role?: string | null
          user_agent?: string | null
          verified_at?: string | null
          verified_by?: string | null
        }
        Update: {
          agreement_text?: string | null
          company_id?: string
          created_at?: string | null
          device_info?: Json | null
          document_content?: Json | null
          document_type?: string | null
          id?: string
          ip_address?: string | null
          is_verified?: boolean | null
          job_id?: string
          metadata?: Json | null
          signature_data_url?: string
          signature_hash?: string | null
          signature_type?: string
          signed_at?: string
          signed_location?: Json | null
          signer_email?: string | null
          signer_name?: string
          signer_phone?: string | null
          signer_role?: string | null
          user_agent?: string | null
          verified_at?: string | null
          verified_by?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "job_signatures_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_signatures_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "job_signatures_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: false
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
        ]
      }
      job_tags: {
        Row: {
          added_at: string
          added_by: string | null
          job_id: string
          tag_id: string
        }
        Insert: {
          added_at?: string
          added_by?: string | null
          job_id: string
          tag_id: string
        }
        Update: {
          added_at?: string
          added_by?: string | null
          job_id?: string
          tag_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "job_tags_added_by_users_id_fk"
            columns: ["added_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_tags_job_id_jobs_id_fk"
            columns: ["job_id"]
            isOneToOne: false
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_tags_tag_id_tags_id_fk"
            columns: ["tag_id"]
            isOneToOne: false
            referencedRelation: "tags"
            referencedColumns: ["id"]
          },
        ]
      }
      job_tasks: {
        Row: {
          assigned_to: string | null
          attachments: Json | null
          category: string | null
          company_id: string
          completed_at: string | null
          completed_by: string | null
          created_at: string | null
          description: string | null
          display_order: number | null
          due_date: string | null
          id: string
          is_completed: boolean | null
          is_required: boolean | null
          job_id: string
          metadata: Json | null
          notes: string | null
          template_category: string | null
          template_id: string | null
          title: string
          updated_at: string | null
        }
        Insert: {
          assigned_to?: string | null
          attachments?: Json | null
          category?: string | null
          company_id: string
          completed_at?: string | null
          completed_by?: string | null
          created_at?: string | null
          description?: string | null
          display_order?: number | null
          due_date?: string | null
          id?: string
          is_completed?: boolean | null
          is_required?: boolean | null
          job_id: string
          metadata?: Json | null
          notes?: string | null
          template_category?: string | null
          template_id?: string | null
          title: string
          updated_at?: string | null
        }
        Update: {
          assigned_to?: string | null
          attachments?: Json | null
          category?: string | null
          company_id?: string
          completed_at?: string | null
          completed_by?: string | null
          created_at?: string | null
          description?: string | null
          display_order?: number | null
          due_date?: string | null
          id?: string
          is_completed?: boolean | null
          is_required?: boolean | null
          job_id?: string
          metadata?: Json | null
          notes?: string | null
          template_category?: string | null
          template_id?: string | null
          title?: string
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "job_tasks_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_tasks_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "job_tasks_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: false
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
        ]
      }
      job_team_assignments: {
        Row: {
          assigned_at: string
          assigned_by: string | null
          created_at: string
          id: string
          job_id: string
          metadata: Json | null
          notes: string | null
          removed_at: string | null
          removed_by: string | null
          role: string
          team_member_id: string
          updated_at: string
        }
        Insert: {
          assigned_at?: string
          assigned_by?: string | null
          created_at?: string
          id?: string
          job_id: string
          metadata?: Json | null
          notes?: string | null
          removed_at?: string | null
          removed_by?: string | null
          role?: string
          team_member_id: string
          updated_at?: string
        }
        Update: {
          assigned_at?: string
          assigned_by?: string | null
          created_at?: string
          id?: string
          job_id?: string
          metadata?: Json | null
          notes?: string | null
          removed_at?: string | null
          removed_by?: string | null
          role?: string
          team_member_id?: string
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "job_team_assignments_assigned_by_fkey"
            columns: ["assigned_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_team_assignments_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: false
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_team_assignments_removed_by_fkey"
            columns: ["removed_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_team_assignments_team_member_id_fkey"
            columns: ["team_member_id"]
            isOneToOne: false
            referencedRelation: "team_members"
            referencedColumns: ["id"]
          },
        ]
      }
      job_templates: {
        Row: {
          company_id: string
          created_at: string
          created_by: string | null
          custom_fields: Json | null
          default_duration: number | null
          default_notes: string | null
          default_priority: string
          deleted_at: string | null
          description: string | null
          description_template: string | null
          id: string
          is_active: boolean
          job_type: string | null
          last_used_at: string | null
          name: string
          pricing: Json | null
          required_fields: Json | null
          title_template: string | null
          updated_at: string
          usage_count: number
        }
        Insert: {
          company_id: string
          created_at?: string
          created_by?: string | null
          custom_fields?: Json | null
          default_duration?: number | null
          default_notes?: string | null
          default_priority?: string
          deleted_at?: string | null
          description?: string | null
          description_template?: string | null
          id?: string
          is_active?: boolean
          job_type?: string | null
          last_used_at?: string | null
          name: string
          pricing?: Json | null
          required_fields?: Json | null
          title_template?: string | null
          updated_at?: string
          usage_count?: number
        }
        Update: {
          company_id?: string
          created_at?: string
          created_by?: string | null
          custom_fields?: Json | null
          default_duration?: number | null
          default_notes?: string | null
          default_priority?: string
          deleted_at?: string | null
          description?: string | null
          description_template?: string | null
          id?: string
          is_active?: boolean
          job_type?: string | null
          last_used_at?: string | null
          name?: string
          pricing?: Json | null
          required_fields?: Json | null
          title_template?: string | null
          updated_at?: string
          usage_count?: number
        }
        Relationships: [
          {
            foreignKeyName: "job_templates_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_templates_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "job_templates_created_by_fkey"
            columns: ["created_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      job_time_entries: {
        Row: {
          break_minutes: number | null
          clock_in: string
          clock_in_location: Json | null
          clock_out: string | null
          clock_out_location: Json | null
          company_id: string
          created_at: string | null
          entry_type: string | null
          gps_verified: boolean | null
          hourly_rate: number | null
          id: string
          is_billable: boolean | null
          is_overtime: boolean | null
          job_id: string
          metadata: Json | null
          notes: string | null
          total_hours: number | null
          updated_at: string | null
          user_id: string
        }
        Insert: {
          break_minutes?: number | null
          clock_in: string
          clock_in_location?: Json | null
          clock_out?: string | null
          clock_out_location?: Json | null
          company_id: string
          created_at?: string | null
          entry_type?: string | null
          gps_verified?: boolean | null
          hourly_rate?: number | null
          id?: string
          is_billable?: boolean | null
          is_overtime?: boolean | null
          job_id: string
          metadata?: Json | null
          notes?: string | null
          total_hours?: number | null
          updated_at?: string | null
          user_id: string
        }
        Update: {
          break_minutes?: number | null
          clock_in?: string
          clock_in_location?: Json | null
          clock_out?: string | null
          clock_out_location?: Json | null
          company_id?: string
          created_at?: string | null
          entry_type?: string | null
          gps_verified?: boolean | null
          hourly_rate?: number | null
          id?: string
          is_billable?: boolean | null
          is_overtime?: boolean | null
          job_id?: string
          metadata?: Json | null
          notes?: string | null
          total_hours?: number | null
          updated_at?: string | null
          user_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "job_time_entries_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_time_entries_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "job_time_entries_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: false
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
        ]
      }
      job_time_tracking: {
        Row: {
          actual_end: string | null
          actual_start: string | null
          break_time_minutes: number | null
          company_id: string
          created_at: string
          estimated_labor_hours: number | null
          id: string
          job_id: string
          technician_clock_in: string | null
          technician_clock_out: string | null
          total_labor_hours: number | null
          updated_at: string
        }
        Insert: {
          actual_end?: string | null
          actual_start?: string | null
          break_time_minutes?: number | null
          company_id: string
          created_at?: string
          estimated_labor_hours?: number | null
          id?: string
          job_id: string
          technician_clock_in?: string | null
          technician_clock_out?: string | null
          total_labor_hours?: number | null
          updated_at?: string
        }
        Update: {
          actual_end?: string | null
          actual_start?: string | null
          break_time_minutes?: number | null
          company_id?: string
          created_at?: string
          estimated_labor_hours?: number | null
          id?: string
          job_id?: string
          technician_clock_in?: string | null
          technician_clock_out?: string | null
          total_labor_hours?: number | null
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "job_time_tracking_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_time_tracking_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "job_time_tracking_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: true
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
        ]
      }
      job_workflow: {
        Row: {
          company_id: string
          created_at: string
          id: string
          job_id: string
          template_id: string | null
          updated_at: string
          workflow_completed_stages: Json
          workflow_stage: string | null
          workflow_stage_changed_at: string | null
        }
        Insert: {
          company_id: string
          created_at?: string
          id?: string
          job_id: string
          template_id?: string | null
          updated_at?: string
          workflow_completed_stages?: Json
          workflow_stage?: string | null
          workflow_stage_changed_at?: string | null
        }
        Update: {
          company_id?: string
          created_at?: string
          id?: string
          job_id?: string
          template_id?: string | null
          updated_at?: string
          workflow_completed_stages?: Json
          workflow_stage?: string | null
          workflow_stage_changed_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "job_workflow_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_workflow_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "job_workflow_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: true
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_workflow_template_id_fkey"
            columns: ["template_id"]
            isOneToOne: false
            referencedRelation: "job_templates"
            referencedColumns: ["id"]
          },
        ]
      }
      job_workflow_stages: {
        Row: {
          allowed_next_stages: Json | null
          approval_roles: Json | null
          auto_create_invoice: boolean | null
          auto_send_email: boolean | null
          auto_send_sms: boolean | null
          company_id: string
          created_at: string | null
          display_order: number
          email_template_id: string | null
          id: string
          industry_type: string | null
          is_active: boolean | null
          is_end_stage: boolean | null
          is_start_stage: boolean | null
          metadata: Json | null
          required_fields: Json | null
          required_photos_count: number | null
          required_time_entry: boolean | null
          requires_approval: boolean | null
          sms_template_id: string | null
          stage_color: string | null
          stage_icon: string | null
          stage_key: string
          stage_name: string
          updated_at: string | null
        }
        Insert: {
          allowed_next_stages?: Json | null
          approval_roles?: Json | null
          auto_create_invoice?: boolean | null
          auto_send_email?: boolean | null
          auto_send_sms?: boolean | null
          company_id: string
          created_at?: string | null
          display_order?: number
          email_template_id?: string | null
          id?: string
          industry_type?: string | null
          is_active?: boolean | null
          is_end_stage?: boolean | null
          is_start_stage?: boolean | null
          metadata?: Json | null
          required_fields?: Json | null
          required_photos_count?: number | null
          required_time_entry?: boolean | null
          requires_approval?: boolean | null
          sms_template_id?: string | null
          stage_color?: string | null
          stage_icon?: string | null
          stage_key: string
          stage_name: string
          updated_at?: string | null
        }
        Update: {
          allowed_next_stages?: Json | null
          approval_roles?: Json | null
          auto_create_invoice?: boolean | null
          auto_send_email?: boolean | null
          auto_send_sms?: boolean | null
          company_id?: string
          created_at?: string | null
          display_order?: number
          email_template_id?: string | null
          id?: string
          industry_type?: string | null
          is_active?: boolean | null
          is_end_stage?: boolean | null
          is_start_stage?: boolean | null
          metadata?: Json | null
          required_fields?: Json | null
          required_photos_count?: number | null
          required_time_entry?: boolean | null
          requires_approval?: boolean | null
          sms_template_id?: string | null
          stage_color?: string | null
          stage_icon?: string | null
          stage_key?: string
          stage_name?: string
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "job_workflow_stages_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "job_workflow_stages_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      jobs: {
        Row: {
          actual_duration_minutes: number | null
          actual_end_time: string | null
          actual_start_time: string | null
          archived_at: string | null
          assigned_to: string | null
          booked_by_user_id: string | null
          booking_method: string | null
          booking_notes: string | null
          budget_status: string | null
          callback_reason: string | null
          company_id: string
          completion_notes: string | null
          complexity_score: number | null
          conversion_likelihood: number | null
          converted_from_estimate_id: string | null
          cost_variance_percent: number | null
          created_at: string
          created_by: string | null
          customer_id: string | null
          customer_wait_time_minutes: number | null
          deleted_at: string | null
          description: string | null
          dispatch_attempts: number | null
          distance_miles: number | null
          drive_time_cost: number | null
          drive_time_minutes: number | null
          equipment_cost: number | null
          equipment_cost_actual: number | null
          equipment_cost_estimated: number | null
          estimated_duration_minutes: number | null
          first_time_fix: boolean | null
          follow_up_completed: boolean | null
          follow_up_date: string | null
          follow_up_required: boolean | null
          fuel_cost_estimated: number | null
          gross_margin_percent: number | null
          id: string
          inspection_date: string | null
          inspection_passed: boolean | null
          inspection_required: boolean | null
          is_callback: boolean | null
          job_number: string
          job_type: string | null
          labor_burden_percent: number | null
          labor_cost_actual: number | null
          labor_cost_estimated: number | null
          labor_cost_total: number | null
          labor_efficiency_rate: number | null
          labor_hours_actual: number | null
          labor_hours_estimated: number | null
          labor_rate: number | null
          lead_source: string | null
          lead_source_detail: string | null
          lead_temperature: string | null
          marketing_campaign_id: string | null
          materials_cost_actual: number | null
          materials_cost_estimated: number | null
          materials_markup_percent: number | null
          materials_revenue: number | null
          metadata: Json | null
          notes: string | null
          on_site_duration_minutes: number | null
          original_job_id: string | null
          overhead_allocation: number | null
          overhead_cost: number | null
          parts_count: number | null
          permit_cost: number | null
          permit_number: string | null
          permit_required: boolean | null
          photo_count: number | null
          priority: string
          profit_actual: number | null
          profit_estimated: number | null
          profit_margin_actual: number | null
          profit_margin_target: number | null
          profit_variance_amount: number | null
          property_id: string | null
          quote_accuracy_percent: number | null
          referral_customer_id: string | null
          review_follow_up_sent: boolean | null
          review_follow_up_sent_at: string | null
          review_last_reminder_sent_at: string | null
          review_link_clicked: boolean | null
          review_link_clicked_at: string | null
          review_notes: string | null
          review_opt_out: boolean | null
          review_platform: string | null
          review_rating: number | null
          review_reminder_count: number | null
          review_request_method: string | null
          review_request_sent_at: string | null
          review_submitted: boolean | null
          review_submitted_at: string | null
          review_text: string | null
          review_url: string | null
          safety_incidents: number | null
          schedule_variance_minutes: number | null
          scheduled_end: string | null
          scheduled_start: string | null
          search_vector: unknown
          service_type: string | null
          signature_collected: boolean | null
          status: string
          subcontractor_cost: number | null
          technician_count: number | null
          technician_notes: string | null
          time_to_complete_hours: number | null
          time_to_conversion: number | null
          time_to_schedule_hours: number | null
          title: string
          total_cost_actual: number | null
          total_cost_estimated: number | null
          total_revenue: number | null
          travel_time_minutes: number | null
          updated_at: string
          updated_by: string | null
          warranty_claim: boolean | null
          warranty_type: string | null
          weather_conditions: string | null
          weather_impact: string | null
        }
        Insert: {
          actual_duration_minutes?: number | null
          actual_end_time?: string | null
          actual_start_time?: string | null
          archived_at?: string | null
          assigned_to?: string | null
          booked_by_user_id?: string | null
          booking_method?: string | null
          booking_notes?: string | null
          budget_status?: string | null
          callback_reason?: string | null
          company_id: string
          completion_notes?: string | null
          complexity_score?: number | null
          conversion_likelihood?: number | null
          converted_from_estimate_id?: string | null
          cost_variance_percent?: number | null
          created_at?: string
          created_by?: string | null
          customer_id?: string | null
          customer_wait_time_minutes?: number | null
          deleted_at?: string | null
          description?: string | null
          dispatch_attempts?: number | null
          distance_miles?: number | null
          drive_time_cost?: number | null
          drive_time_minutes?: number | null
          equipment_cost?: number | null
          equipment_cost_actual?: number | null
          equipment_cost_estimated?: number | null
          estimated_duration_minutes?: number | null
          first_time_fix?: boolean | null
          follow_up_completed?: boolean | null
          follow_up_date?: string | null
          follow_up_required?: boolean | null
          fuel_cost_estimated?: number | null
          gross_margin_percent?: number | null
          id?: string
          inspection_date?: string | null
          inspection_passed?: boolean | null
          inspection_required?: boolean | null
          is_callback?: boolean | null
          job_number: string
          job_type?: string | null
          labor_burden_percent?: number | null
          labor_cost_actual?: number | null
          labor_cost_estimated?: number | null
          labor_cost_total?: number | null
          labor_efficiency_rate?: number | null
          labor_hours_actual?: number | null
          labor_hours_estimated?: number | null
          labor_rate?: number | null
          lead_source?: string | null
          lead_source_detail?: string | null
          lead_temperature?: string | null
          marketing_campaign_id?: string | null
          materials_cost_actual?: number | null
          materials_cost_estimated?: number | null
          materials_markup_percent?: number | null
          materials_revenue?: number | null
          metadata?: Json | null
          notes?: string | null
          on_site_duration_minutes?: number | null
          original_job_id?: string | null
          overhead_allocation?: number | null
          overhead_cost?: number | null
          parts_count?: number | null
          permit_cost?: number | null
          permit_number?: string | null
          permit_required?: boolean | null
          photo_count?: number | null
          priority?: string
          profit_actual?: number | null
          profit_estimated?: number | null
          profit_margin_actual?: number | null
          profit_margin_target?: number | null
          profit_variance_amount?: number | null
          property_id?: string | null
          quote_accuracy_percent?: number | null
          referral_customer_id?: string | null
          review_follow_up_sent?: boolean | null
          review_follow_up_sent_at?: string | null
          review_last_reminder_sent_at?: string | null
          review_link_clicked?: boolean | null
          review_link_clicked_at?: string | null
          review_notes?: string | null
          review_opt_out?: boolean | null
          review_platform?: string | null
          review_rating?: number | null
          review_reminder_count?: number | null
          review_request_method?: string | null
          review_request_sent_at?: string | null
          review_submitted?: boolean | null
          review_submitted_at?: string | null
          review_text?: string | null
          review_url?: string | null
          safety_incidents?: number | null
          schedule_variance_minutes?: number | null
          scheduled_end?: string | null
          scheduled_start?: string | null
          search_vector?: unknown
          service_type?: string | null
          signature_collected?: boolean | null
          status?: string
          subcontractor_cost?: number | null
          technician_count?: number | null
          technician_notes?: string | null
          time_to_complete_hours?: number | null
          time_to_conversion?: number | null
          time_to_schedule_hours?: number | null
          title: string
          total_cost_actual?: number | null
          total_cost_estimated?: number | null
          total_revenue?: number | null
          travel_time_minutes?: number | null
          updated_at?: string
          updated_by?: string | null
          warranty_claim?: boolean | null
          warranty_type?: string | null
          weather_conditions?: string | null
          weather_impact?: string | null
        }
        Update: {
          actual_duration_minutes?: number | null
          actual_end_time?: string | null
          actual_start_time?: string | null
          archived_at?: string | null
          assigned_to?: string | null
          booked_by_user_id?: string | null
          booking_method?: string | null
          booking_notes?: string | null
          budget_status?: string | null
          callback_reason?: string | null
          company_id?: string
          completion_notes?: string | null
          complexity_score?: number | null
          conversion_likelihood?: number | null
          converted_from_estimate_id?: string | null
          cost_variance_percent?: number | null
          created_at?: string
          created_by?: string | null
          customer_id?: string | null
          customer_wait_time_minutes?: number | null
          deleted_at?: string | null
          description?: string | null
          dispatch_attempts?: number | null
          distance_miles?: number | null
          drive_time_cost?: number | null
          drive_time_minutes?: number | null
          equipment_cost?: number | null
          equipment_cost_actual?: number | null
          equipment_cost_estimated?: number | null
          estimated_duration_minutes?: number | null
          first_time_fix?: boolean | null
          follow_up_completed?: boolean | null
          follow_up_date?: string | null
          follow_up_required?: boolean | null
          fuel_cost_estimated?: number | null
          gross_margin_percent?: number | null
          id?: string
          inspection_date?: string | null
          inspection_passed?: boolean | null
          inspection_required?: boolean | null
          is_callback?: boolean | null
          job_number?: string
          job_type?: string | null
          labor_burden_percent?: number | null
          labor_cost_actual?: number | null
          labor_cost_estimated?: number | null
          labor_cost_total?: number | null
          labor_efficiency_rate?: number | null
          labor_hours_actual?: number | null
          labor_hours_estimated?: number | null
          labor_rate?: number | null
          lead_source?: string | null
          lead_source_detail?: string | null
          lead_temperature?: string | null
          marketing_campaign_id?: string | null
          materials_cost_actual?: number | null
          materials_cost_estimated?: number | null
          materials_markup_percent?: number | null
          materials_revenue?: number | null
          metadata?: Json | null
          notes?: string | null
          on_site_duration_minutes?: number | null
          original_job_id?: string | null
          overhead_allocation?: number | null
          overhead_cost?: number | null
          parts_count?: number | null
          permit_cost?: number | null
          permit_number?: string | null
          permit_required?: boolean | null
          photo_count?: number | null
          priority?: string
          profit_actual?: number | null
          profit_estimated?: number | null
          profit_margin_actual?: number | null
          profit_margin_target?: number | null
          profit_variance_amount?: number | null
          property_id?: string | null
          quote_accuracy_percent?: number | null
          referral_customer_id?: string | null
          review_follow_up_sent?: boolean | null
          review_follow_up_sent_at?: string | null
          review_last_reminder_sent_at?: string | null
          review_link_clicked?: boolean | null
          review_link_clicked_at?: string | null
          review_notes?: string | null
          review_opt_out?: boolean | null
          review_platform?: string | null
          review_rating?: number | null
          review_reminder_count?: number | null
          review_request_method?: string | null
          review_request_sent_at?: string | null
          review_submitted?: boolean | null
          review_submitted_at?: string | null
          review_text?: string | null
          review_url?: string | null
          safety_incidents?: number | null
          schedule_variance_minutes?: number | null
          scheduled_end?: string | null
          scheduled_start?: string | null
          search_vector?: unknown
          service_type?: string | null
          signature_collected?: boolean | null
          status?: string
          subcontractor_cost?: number | null
          technician_count?: number | null
          technician_notes?: string | null
          time_to_complete_hours?: number | null
          time_to_conversion?: number | null
          time_to_schedule_hours?: number | null
          title?: string
          total_cost_actual?: number | null
          total_cost_estimated?: number | null
          total_revenue?: number | null
          travel_time_minutes?: number | null
          updated_at?: string
          updated_by?: string | null
          warranty_claim?: boolean | null
          warranty_type?: string | null
          weather_conditions?: string | null
          weather_impact?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "jobs_assigned_to_users_id_fk"
            columns: ["assigned_to"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "jobs_booked_by_user_id_fkey"
            columns: ["booked_by_user_id"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "jobs_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "jobs_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "jobs_converted_from_estimate_id_fkey"
            columns: ["converted_from_estimate_id"]
            isOneToOne: false
            referencedRelation: "estimates"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "jobs_created_by_fkey"
            columns: ["created_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "jobs_customer_id_customers_id_fk"
            columns: ["customer_id"]
            isOneToOne: false
            referencedRelation: "customers"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "jobs_original_job_id_fkey"
            columns: ["original_job_id"]
            isOneToOne: false
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "jobs_property_id_properties_id_fk"
            columns: ["property_id"]
            isOneToOne: false
            referencedRelation: "properties"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "jobs_referral_customer_id_fkey"
            columns: ["referral_customer_id"]
            isOneToOne: false
            referencedRelation: "customers"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "jobs_updated_by_fkey"
            columns: ["updated_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      kb_article_related: {
        Row: {
          article_id: string
          created_at: string
          order: number
          related_article_id: string
        }
        Insert: {
          article_id: string
          created_at?: string
          order?: number
          related_article_id: string
        }
        Update: {
          article_id?: string
          created_at?: string
          order?: number
          related_article_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "kb_article_related_article_id_fkey"
            columns: ["article_id"]
            isOneToOne: false
            referencedRelation: "kb_articles"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "kb_article_related_related_article_id_fkey"
            columns: ["related_article_id"]
            isOneToOne: false
            referencedRelation: "kb_articles"
            referencedColumns: ["id"]
          },
        ]
      }
      kb_article_tags: {
        Row: {
          article_id: string
          created_at: string
          tag_id: string
        }
        Insert: {
          article_id: string
          created_at?: string
          tag_id: string
        }
        Update: {
          article_id?: string
          created_at?: string
          tag_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "kb_article_tags_article_id_fkey"
            columns: ["article_id"]
            isOneToOne: false
            referencedRelation: "kb_articles"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "kb_article_tags_tag_id_fkey"
            columns: ["tag_id"]
            isOneToOne: false
            referencedRelation: "kb_tags"
            referencedColumns: ["id"]
          },
        ]
      }
      kb_articles: {
        Row: {
          author: string | null
          category_id: string
          content: string
          created_at: string
          excerpt: string | null
          featured: boolean
          featured_image: string | null
          helpful_count: number
          html_content: string | null
          id: string
          keywords: Json | null
          meta_description: string | null
          meta_title: string | null
          not_helpful_count: number
          published: boolean
          published_at: string | null
          search_vector: unknown
          slug: string
          title: string
          updated_at: string
          view_count: number
        }
        Insert: {
          author?: string | null
          category_id: string
          content: string
          created_at?: string
          excerpt?: string | null
          featured?: boolean
          featured_image?: string | null
          helpful_count?: number
          html_content?: string | null
          id?: string
          keywords?: Json | null
          meta_description?: string | null
          meta_title?: string | null
          not_helpful_count?: number
          published?: boolean
          published_at?: string | null
          search_vector?: unknown
          slug: string
          title: string
          updated_at?: string
          view_count?: number
        }
        Update: {
          author?: string | null
          category_id?: string
          content?: string
          created_at?: string
          excerpt?: string | null
          featured?: boolean
          featured_image?: string | null
          helpful_count?: number
          html_content?: string | null
          id?: string
          keywords?: Json | null
          meta_description?: string | null
          meta_title?: string | null
          not_helpful_count?: number
          published?: boolean
          published_at?: string | null
          search_vector?: unknown
          slug?: string
          title?: string
          updated_at?: string
          view_count?: number
        }
        Relationships: [
          {
            foreignKeyName: "kb_articles_category_id_fkey"
            columns: ["category_id"]
            isOneToOne: false
            referencedRelation: "kb_categories"
            referencedColumns: ["id"]
          },
        ]
      }
      kb_categories: {
        Row: {
          created_at: string
          description: string | null
          icon: string | null
          id: string
          is_active: boolean
          order: number
          parent_id: string | null
          slug: string
          title: string
          updated_at: string
        }
        Insert: {
          created_at?: string
          description?: string | null
          icon?: string | null
          id?: string
          is_active?: boolean
          order?: number
          parent_id?: string | null
          slug: string
          title: string
          updated_at?: string
        }
        Update: {
          created_at?: string
          description?: string | null
          icon?: string | null
          id?: string
          is_active?: boolean
          order?: number
          parent_id?: string | null
          slug?: string
          title?: string
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "kb_categories_parent_id_fkey"
            columns: ["parent_id"]
            isOneToOne: false
            referencedRelation: "kb_categories"
            referencedColumns: ["id"]
          },
        ]
      }
      kb_feedback: {
        Row: {
          article_id: string
          comment: string | null
          created_at: string
          helpful: boolean | null
          id: string
          ip_address: string | null
          user_agent: string | null
          user_email: string | null
        }
        Insert: {
          article_id: string
          comment?: string | null
          created_at?: string
          helpful?: boolean | null
          id?: string
          ip_address?: string | null
          user_agent?: string | null
          user_email?: string | null
        }
        Update: {
          article_id?: string
          comment?: string | null
          created_at?: string
          helpful?: boolean | null
          id?: string
          ip_address?: string | null
          user_agent?: string | null
          user_email?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "kb_feedback_article_id_fkey"
            columns: ["article_id"]
            isOneToOne: false
            referencedRelation: "kb_articles"
            referencedColumns: ["id"]
          },
        ]
      }
      kb_tags: {
        Row: {
          created_at: string
          description: string | null
          id: string
          name: string
          slug: string
        }
        Insert: {
          created_at?: string
          description?: string | null
          id?: string
          name: string
          slug: string
        }
        Update: {
          created_at?: string
          description?: string | null
          id?: string
          name?: string
          slug?: string
        }
        Relationships: []
      }
      labor_rates: {
        Row: {
          applies_to: string
          company_id: string
          created_at: string
          description: string | null
          emergency_multiplier: number | null
          holiday_multiplier: number | null
          id: string
          is_active: boolean
          is_default: boolean
          metadata: Json | null
          minimum_charge: number | null
          minimum_hours: number | null
          name: string
          overtime_multiplier: number | null
          rate: number
          rate_type: string
          service_categories: Json | null
          technician_ids: Json | null
          updated_at: string
          valid_from: string | null
          valid_until: string | null
          weekend_multiplier: number | null
        }
        Insert: {
          applies_to?: string
          company_id: string
          created_at?: string
          description?: string | null
          emergency_multiplier?: number | null
          holiday_multiplier?: number | null
          id?: string
          is_active?: boolean
          is_default?: boolean
          metadata?: Json | null
          minimum_charge?: number | null
          minimum_hours?: number | null
          name: string
          overtime_multiplier?: number | null
          rate: number
          rate_type: string
          service_categories?: Json | null
          technician_ids?: Json | null
          updated_at?: string
          valid_from?: string | null
          valid_until?: string | null
          weekend_multiplier?: number | null
        }
        Update: {
          applies_to?: string
          company_id?: string
          created_at?: string
          description?: string | null
          emergency_multiplier?: number | null
          holiday_multiplier?: number | null
          id?: string
          is_active?: boolean
          is_default?: boolean
          metadata?: Json | null
          minimum_charge?: number | null
          minimum_hours?: number | null
          name?: string
          overtime_multiplier?: number | null
          rate?: number
          rate_type?: string
          service_categories?: Json | null
          technician_ids?: Json | null
          updated_at?: string
          valid_from?: string | null
          valid_until?: string | null
          weekend_multiplier?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "labor_rates_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "labor_rates_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      lead_sources: {
        Row: {
          category: string | null
          company_id: string
          conversion_rate: number | null
          created_at: string | null
          id: string
          is_active: boolean | null
          name: string
          total_leads: number | null
          updated_at: string | null
        }
        Insert: {
          category?: string | null
          company_id: string
          conversion_rate?: number | null
          created_at?: string | null
          id?: string
          is_active?: boolean | null
          name: string
          total_leads?: number | null
          updated_at?: string | null
        }
        Update: {
          category?: string | null
          company_id?: string
          conversion_rate?: number | null
          created_at?: string | null
          id?: string
          is_active?: boolean | null
          name?: string
          total_leads?: number | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "lead_sources_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "lead_sources_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      maintenance_plan_tags: {
        Row: {
          created_at: string
          maintenance_plan_id: string
          tag_id: string
        }
        Insert: {
          created_at?: string
          maintenance_plan_id: string
          tag_id: string
        }
        Update: {
          created_at?: string
          maintenance_plan_id?: string
          tag_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "maintenance_plan_tags_maintenance_plan_id_fkey"
            columns: ["maintenance_plan_id"]
            isOneToOne: false
            referencedRelation: "maintenance_plans"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "maintenance_plan_tags_tag_id_fkey"
            columns: ["tag_id"]
            isOneToOne: false
            referencedRelation: "tags"
            referencedColumns: ["id"]
          },
        ]
      }
      maintenance_plans: {
        Row: {
          amount: number | null
          auto_renew: boolean | null
          billing_frequency: string | null
          company_id: string
          created_at: string | null
          created_by: string | null
          currency: string | null
          custom_frequency_days: number | null
          customer_id: string
          description: string | null
          end_date: string | null
          frequency: string
          id: string
          last_service_date: string | null
          name: string
          next_service_date: string | null
          notes: string | null
          plan_number: string
          property_id: string | null
          search_vector: unknown
          services_included: Json | null
          start_date: string
          status: string
          terms: string | null
          total_services_completed: number | null
          total_services_scheduled: number | null
          updated_at: string | null
        }
        Insert: {
          amount?: number | null
          auto_renew?: boolean | null
          billing_frequency?: string | null
          company_id: string
          created_at?: string | null
          created_by?: string | null
          currency?: string | null
          custom_frequency_days?: number | null
          customer_id: string
          description?: string | null
          end_date?: string | null
          frequency: string
          id?: string
          last_service_date?: string | null
          name: string
          next_service_date?: string | null
          notes?: string | null
          plan_number: string
          property_id?: string | null
          search_vector?: unknown
          services_included?: Json | null
          start_date: string
          status?: string
          terms?: string | null
          total_services_completed?: number | null
          total_services_scheduled?: number | null
          updated_at?: string | null
        }
        Update: {
          amount?: number | null
          auto_renew?: boolean | null
          billing_frequency?: string | null
          company_id?: string
          created_at?: string | null
          created_by?: string | null
          currency?: string | null
          custom_frequency_days?: number | null
          customer_id?: string
          description?: string | null
          end_date?: string | null
          frequency?: string
          id?: string
          last_service_date?: string | null
          name?: string
          next_service_date?: string | null
          notes?: string | null
          plan_number?: string
          property_id?: string | null
          search_vector?: unknown
          services_included?: Json | null
          start_date?: string
          status?: string
          terms?: string | null
          total_services_completed?: number | null
          total_services_scheduled?: number | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "maintenance_plans_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "maintenance_plans_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "maintenance_plans_created_by_fkey"
            columns: ["created_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "maintenance_plans_customer_id_fkey"
            columns: ["customer_id"]
            isOneToOne: false
            referencedRelation: "customers"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "maintenance_plans_property_id_fkey"
            columns: ["property_id"]
            isOneToOne: false
            referencedRelation: "properties"
            referencedColumns: ["id"]
          },
        ]
      }
      marketing_call_tracking: {
        Row: {
          answered: boolean | null
          answered_by_user_id: string | null
          attributed_profit: number | null
          attributed_revenue: number | null
          booked_job: boolean | null
          call_end: string | null
          call_id: string | null
          call_outcome: string | null
          call_quality_score: number | null
          call_start: string
          caller_name: string | null
          caller_number: string | null
          campaign_id: string | null
          company_id: string
          created_at: string | null
          customer_id: string | null
          customer_sentiment: string | null
          duration_seconds: number | null
          hold_time_seconds: number | null
          id: string
          is_new_customer: boolean | null
          job_id: string | null
          landing_page: string | null
          lead_type: string | null
          metadata: Json | null
          missed_call: boolean | null
          recording_url: string | null
          referrer_url: string | null
          ring_time_seconds: number | null
          service_requested: string | null
          talk_time_seconds: number | null
          tracking_number: string
          transcription: string | null
          updated_at: string | null
          utm_campaign: string | null
          utm_medium: string | null
          utm_source: string | null
          voicemail_left: boolean | null
        }
        Insert: {
          answered?: boolean | null
          answered_by_user_id?: string | null
          attributed_profit?: number | null
          attributed_revenue?: number | null
          booked_job?: boolean | null
          call_end?: string | null
          call_id?: string | null
          call_outcome?: string | null
          call_quality_score?: number | null
          call_start: string
          caller_name?: string | null
          caller_number?: string | null
          campaign_id?: string | null
          company_id: string
          created_at?: string | null
          customer_id?: string | null
          customer_sentiment?: string | null
          duration_seconds?: number | null
          hold_time_seconds?: number | null
          id?: string
          is_new_customer?: boolean | null
          job_id?: string | null
          landing_page?: string | null
          lead_type?: string | null
          metadata?: Json | null
          missed_call?: boolean | null
          recording_url?: string | null
          referrer_url?: string | null
          ring_time_seconds?: number | null
          service_requested?: string | null
          talk_time_seconds?: number | null
          tracking_number: string
          transcription?: string | null
          updated_at?: string | null
          utm_campaign?: string | null
          utm_medium?: string | null
          utm_source?: string | null
          voicemail_left?: boolean | null
        }
        Update: {
          answered?: boolean | null
          answered_by_user_id?: string | null
          attributed_profit?: number | null
          attributed_revenue?: number | null
          booked_job?: boolean | null
          call_end?: string | null
          call_id?: string | null
          call_outcome?: string | null
          call_quality_score?: number | null
          call_start?: string
          caller_name?: string | null
          caller_number?: string | null
          campaign_id?: string | null
          company_id?: string
          created_at?: string | null
          customer_id?: string | null
          customer_sentiment?: string | null
          duration_seconds?: number | null
          hold_time_seconds?: number | null
          id?: string
          is_new_customer?: boolean | null
          job_id?: string | null
          landing_page?: string | null
          lead_type?: string | null
          metadata?: Json | null
          missed_call?: boolean | null
          recording_url?: string | null
          referrer_url?: string | null
          ring_time_seconds?: number | null
          service_requested?: string | null
          talk_time_seconds?: number | null
          tracking_number?: string
          transcription?: string | null
          updated_at?: string | null
          utm_campaign?: string | null
          utm_medium?: string | null
          utm_source?: string | null
          voicemail_left?: boolean | null
        }
        Relationships: [
          {
            foreignKeyName: "marketing_call_tracking_answered_by_user_id_fkey"
            columns: ["answered_by_user_id"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "marketing_call_tracking_campaign_id_fkey"
            columns: ["campaign_id"]
            isOneToOne: false
            referencedRelation: "marketing_campaigns"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "marketing_call_tracking_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "marketing_call_tracking_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "marketing_call_tracking_customer_id_fkey"
            columns: ["customer_id"]
            isOneToOne: false
            referencedRelation: "customers"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "marketing_call_tracking_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: false
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
        ]
      }
      marketing_campaigns: {
        Row: {
          actual_spend: number | null
          budget_amount: number | null
          campaign_type: string
          channel: string
          company_id: string
          cost_per_acquisition: number | null
          cost_per_lead: number | null
          created_at: string | null
          currency: string | null
          deleted_at: string | null
          description: string | null
          end_date: string | null
          id: string
          metadata: Json | null
          name: string
          return_on_ad_spend: number | null
          roi_percent: number | null
          start_date: string | null
          status: string | null
          total_booked_jobs: number | null
          total_calls: number | null
          total_leads: number | null
          total_profit: number | null
          total_revenue: number | null
          tracking_phone: string | null
          tracking_url: string | null
          updated_at: string | null
          utm_campaign: string | null
          utm_content: string | null
          utm_medium: string | null
          utm_source: string | null
          utm_term: string | null
        }
        Insert: {
          actual_spend?: number | null
          budget_amount?: number | null
          campaign_type?: string
          channel?: string
          company_id: string
          cost_per_acquisition?: number | null
          cost_per_lead?: number | null
          created_at?: string | null
          currency?: string | null
          deleted_at?: string | null
          description?: string | null
          end_date?: string | null
          id?: string
          metadata?: Json | null
          name: string
          return_on_ad_spend?: number | null
          roi_percent?: number | null
          start_date?: string | null
          status?: string | null
          total_booked_jobs?: number | null
          total_calls?: number | null
          total_leads?: number | null
          total_profit?: number | null
          total_revenue?: number | null
          tracking_phone?: string | null
          tracking_url?: string | null
          updated_at?: string | null
          utm_campaign?: string | null
          utm_content?: string | null
          utm_medium?: string | null
          utm_source?: string | null
          utm_term?: string | null
        }
        Update: {
          actual_spend?: number | null
          budget_amount?: number | null
          campaign_type?: string
          channel?: string
          company_id?: string
          cost_per_acquisition?: number | null
          cost_per_lead?: number | null
          created_at?: string | null
          currency?: string | null
          deleted_at?: string | null
          description?: string | null
          end_date?: string | null
          id?: string
          metadata?: Json | null
          name?: string
          return_on_ad_spend?: number | null
          roi_percent?: number | null
          start_date?: string | null
          status?: string | null
          total_booked_jobs?: number | null
          total_calls?: number | null
          total_leads?: number | null
          total_profit?: number | null
          total_revenue?: number | null
          tracking_phone?: string | null
          tracking_url?: string | null
          updated_at?: string | null
          utm_campaign?: string | null
          utm_content?: string | null
          utm_medium?: string | null
          utm_source?: string | null
          utm_term?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "marketing_campaigns_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "marketing_campaigns_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      message_assignments: {
        Row: {
          assigned_at: string
          assigned_by_user_id: string | null
          assigned_to_user_id: string | null
          company_id: string
          created_at: string
          id: string
          thread_id: string
          updated_at: string
        }
        Insert: {
          assigned_at?: string
          assigned_by_user_id?: string | null
          assigned_to_user_id?: string | null
          company_id: string
          created_at?: string
          id?: string
          thread_id: string
          updated_at?: string
        }
        Update: {
          assigned_at?: string
          assigned_by_user_id?: string | null
          assigned_to_user_id?: string | null
          company_id?: string
          created_at?: string
          id?: string
          thread_id?: string
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "message_assignments_assigned_by_user_id_fkey"
            columns: ["assigned_by_user_id"]
            isOneToOne: false
            referencedRelation: "team_members"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "message_assignments_assigned_to_user_id_fkey"
            columns: ["assigned_to_user_id"]
            isOneToOne: false
            referencedRelation: "team_members"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "message_assignments_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "message_assignments_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      message_notes: {
        Row: {
          company_id: string
          created_at: string
          id: string
          mentions: Json | null
          note: string
          thread_id: string
          updated_at: string
          user_id: string
        }
        Insert: {
          company_id: string
          created_at?: string
          id?: string
          mentions?: Json | null
          note: string
          thread_id: string
          updated_at?: string
          user_id: string
        }
        Update: {
          company_id?: string
          created_at?: string
          id?: string
          mentions?: Json | null
          note?: string
          thread_id?: string
          updated_at?: string
          user_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "message_notes_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "message_notes_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "message_notes_user_id_fkey"
            columns: ["user_id"]
            isOneToOne: false
            referencedRelation: "team_members"
            referencedColumns: ["id"]
          },
        ]
      }
      message_templates: {
        Row: {
          category: string | null
          company_id: string
          content: string
          created_at: string
          created_by: string | null
          id: string
          is_active: boolean
          name: string
          shortcut: string | null
          updated_at: string
          variables: Json | null
        }
        Insert: {
          category?: string | null
          company_id: string
          content: string
          created_at?: string
          created_by?: string | null
          id?: string
          is_active?: boolean
          name: string
          shortcut?: string | null
          updated_at?: string
          variables?: Json | null
        }
        Update: {
          category?: string | null
          company_id?: string
          content?: string
          created_at?: string
          created_by?: string | null
          id?: string
          is_active?: boolean
          name?: string
          shortcut?: string | null
          updated_at?: string
          variables?: Json | null
        }
        Relationships: [
          {
            foreignKeyName: "message_templates_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "message_templates_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "message_templates_created_by_fkey"
            columns: ["created_by"]
            isOneToOne: false
            referencedRelation: "team_members"
            referencedColumns: ["id"]
          },
        ]
      }
      messages_v2: {
        Row: {
          attachments: Json
          chat_id: string
          created_at: string
          id: string
          parts: Json
          role: string
        }
        Insert: {
          attachments: Json
          chat_id: string
          created_at?: string
          id?: string
          parts: Json
          role: string
        }
        Update: {
          attachments?: Json
          chat_id?: string
          created_at?: string
          id?: string
          parts?: Json
          role?: string
        }
        Relationships: [
          {
            foreignKeyName: "messages_v2_chat_id_chats_id_fk"
            columns: ["chat_id"]
            isOneToOne: false
            referencedRelation: "chats"
            referencedColumns: ["id"]
          },
        ]
      }
      messaging_brands: {
        Row: {
          address_line1: string
          address_line2: string | null
          brand_color: string | null
          city: string
          company_id: string
          country: string
          created_at: string
          doing_business_as: string | null
          ein: string
          id: string
          legal_name: string
          metadata: Json | null
          postal_code: string
          state: string
          status: string
          support_email: string | null
          support_phone: string | null
          telnyx_brand_id: string | null
          updated_at: string
          vertical: string
          website: string | null
        }
        Insert: {
          address_line1: string
          address_line2?: string | null
          brand_color?: string | null
          city: string
          company_id: string
          country?: string
          created_at?: string
          doing_business_as?: string | null
          ein: string
          id?: string
          legal_name: string
          metadata?: Json | null
          postal_code: string
          state: string
          status?: string
          support_email?: string | null
          support_phone?: string | null
          telnyx_brand_id?: string | null
          updated_at?: string
          vertical: string
          website?: string | null
        }
        Update: {
          address_line1?: string
          address_line2?: string | null
          brand_color?: string | null
          city?: string
          company_id?: string
          country?: string
          created_at?: string
          doing_business_as?: string | null
          ein?: string
          id?: string
          legal_name?: string
          metadata?: Json | null
          postal_code?: string
          state?: string
          status?: string
          support_email?: string | null
          support_phone?: string | null
          telnyx_brand_id?: string | null
          updated_at?: string
          vertical?: string
          website?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "messaging_brands_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "messaging_brands_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      messaging_campaign_phone_numbers: {
        Row: {
          created_at: string
          id: string
          messaging_campaign_id: string
          phone_number_id: string
          status: string
          telnyx_relationship_id: string | null
          updated_at: string
        }
        Insert: {
          created_at?: string
          id?: string
          messaging_campaign_id: string
          phone_number_id: string
          status?: string
          telnyx_relationship_id?: string | null
          updated_at?: string
        }
        Update: {
          created_at?: string
          id?: string
          messaging_campaign_id?: string
          phone_number_id?: string
          status?: string
          telnyx_relationship_id?: string | null
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "messaging_campaign_phone_numbers_messaging_campaign_id_fkey"
            columns: ["messaging_campaign_id"]
            isOneToOne: false
            referencedRelation: "messaging_campaigns"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "messaging_campaign_phone_numbers_phone_number_id_fkey"
            columns: ["phone_number_id"]
            isOneToOne: false
            referencedRelation: "phone_numbers"
            referencedColumns: ["id"]
          },
        ]
      }
      messaging_campaigns: {
        Row: {
          created_at: string
          description: string | null
          help_message: string | null
          id: string
          messaging_brand_id: string
          messaging_profile_id: string | null
          metadata: Json | null
          sample_messages: string[] | null
          status: string
          telnyx_campaign_id: string | null
          terms_and_conditions_url: string | null
          updated_at: string
          usecase: string
        }
        Insert: {
          created_at?: string
          description?: string | null
          help_message?: string | null
          id?: string
          messaging_brand_id: string
          messaging_profile_id?: string | null
          metadata?: Json | null
          sample_messages?: string[] | null
          status?: string
          telnyx_campaign_id?: string | null
          terms_and_conditions_url?: string | null
          updated_at?: string
          usecase: string
        }
        Update: {
          created_at?: string
          description?: string | null
          help_message?: string | null
          id?: string
          messaging_brand_id?: string
          messaging_profile_id?: string | null
          metadata?: Json | null
          sample_messages?: string[] | null
          status?: string
          telnyx_campaign_id?: string | null
          terms_and_conditions_url?: string | null
          updated_at?: string
          usecase?: string
        }
        Relationships: [
          {
            foreignKeyName: "messaging_campaigns_messaging_brand_id_fkey"
            columns: ["messaging_brand_id"]
            isOneToOne: false
            referencedRelation: "messaging_brands"
            referencedColumns: ["id"]
          },
        ]
      }
      notification_queue: {
        Row: {
          attempts: number
          body: string
          channel: string
          company_id: string
          created_at: string
          error_message: string | null
          id: string
          max_attempts: number
          recipient: string
          scheduled_for: string | null
          sent_at: string | null
          status: string
          subject: string | null
          template_data: Json | null
          template_id: string | null
          user_id: string
        }
        Insert: {
          attempts?: number
          body: string
          channel: string
          company_id: string
          created_at?: string
          error_message?: string | null
          id?: string
          max_attempts?: number
          recipient: string
          scheduled_for?: string | null
          sent_at?: string | null
          status?: string
          subject?: string | null
          template_data?: Json | null
          template_id?: string | null
          user_id: string
        }
        Update: {
          attempts?: number
          body?: string
          channel?: string
          company_id?: string
          created_at?: string
          error_message?: string | null
          id?: string
          max_attempts?: number
          recipient?: string
          scheduled_for?: string | null
          sent_at?: string | null
          status?: string
          subject?: string | null
          template_data?: Json | null
          template_id?: string | null
          user_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "notification_queue_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "notification_queue_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "notification_queue_user_id_fkey"
            columns: ["user_id"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      notifications: {
        Row: {
          action_label: string | null
          action_url: string | null
          company_id: string
          created_at: string
          id: string
          message: string
          metadata: Json | null
          priority: string
          read: boolean
          read_at: string | null
          title: string
          type: string
          updated_at: string
          user_id: string
        }
        Insert: {
          action_label?: string | null
          action_url?: string | null
          company_id: string
          created_at?: string
          id?: string
          message: string
          metadata?: Json | null
          priority?: string
          read?: boolean
          read_at?: string | null
          title: string
          type: string
          updated_at?: string
          user_id: string
        }
        Update: {
          action_label?: string | null
          action_url?: string | null
          company_id?: string
          created_at?: string
          id?: string
          message?: string
          metadata?: Json | null
          priority?: string
          read?: boolean
          read_at?: string | null
          title?: string
          type?: string
          updated_at?: string
          user_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "notifications_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "notifications_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "notifications_user_id_fkey"
            columns: ["user_id"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      onboarding_step_data: {
        Row: {
          company_id: string
          completed_at: string | null
          created_at: string | null
          id: string
          skipped: boolean | null
          step_data: Json
          step_name: string
          step_number: number
          time_spent_seconds: number | null
          updated_at: string | null
        }
        Insert: {
          company_id: string
          completed_at?: string | null
          created_at?: string | null
          id?: string
          skipped?: boolean | null
          step_data?: Json
          step_name: string
          step_number: number
          time_spent_seconds?: number | null
          updated_at?: string | null
        }
        Update: {
          company_id?: string
          completed_at?: string | null
          created_at?: string | null
          id?: string
          skipped?: boolean | null
          step_data?: Json
          step_name?: string
          step_number?: number
          time_spent_seconds?: number | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "onboarding_step_data_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "onboarding_step_data_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      ownership_transfers: {
        Row: {
          company_id: string
          completed_at: string | null
          created_at: string | null
          id: string
          initiated_by: string
          ip_address: unknown
          new_owner_id: string
          password_verified: boolean | null
          previous_owner_id: string
          reason: string | null
          user_agent: string | null
        }
        Insert: {
          company_id: string
          completed_at?: string | null
          created_at?: string | null
          id?: string
          initiated_by: string
          ip_address?: unknown
          new_owner_id: string
          password_verified?: boolean | null
          previous_owner_id: string
          reason?: string | null
          user_agent?: string | null
        }
        Update: {
          company_id?: string
          completed_at?: string | null
          created_at?: string | null
          id?: string
          initiated_by?: string
          ip_address?: unknown
          new_owner_id?: string
          password_verified?: boolean | null
          previous_owner_id?: string
          reason?: string | null
          user_agent?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "ownership_transfers_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ownership_transfers_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "ownership_transfers_initiated_by_fkey"
            columns: ["initiated_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ownership_transfers_new_owner_id_fkey"
            columns: ["new_owner_id"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ownership_transfers_previous_owner_id_fkey"
            columns: ["previous_owner_id"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      payment_methods: {
        Row: {
          billing_address_line1: string | null
          billing_address_line2: string | null
          billing_city: string | null
          billing_country: string | null
          billing_email: string | null
          billing_name: string | null
          billing_phone: string | null
          billing_postal_code: string | null
          billing_state: string | null
          card_brand: string
          card_exp_month: number
          card_exp_year: number
          card_fingerprint: string | null
          card_last4: string
          company_id: string
          created_at: string
          created_by: string | null
          customer_id: string
          deleted_at: string | null
          deleted_by: string | null
          id: string
          is_active: boolean | null
          is_default: boolean | null
          is_verified: boolean | null
          last_used_at: string | null
          metadata: Json | null
          nickname: string | null
          stripe_customer_id: string | null
          stripe_payment_method_id: string
          updated_at: string
        }
        Insert: {
          billing_address_line1?: string | null
          billing_address_line2?: string | null
          billing_city?: string | null
          billing_country?: string | null
          billing_email?: string | null
          billing_name?: string | null
          billing_phone?: string | null
          billing_postal_code?: string | null
          billing_state?: string | null
          card_brand: string
          card_exp_month: number
          card_exp_year: number
          card_fingerprint?: string | null
          card_last4: string
          company_id: string
          created_at?: string
          created_by?: string | null
          customer_id: string
          deleted_at?: string | null
          deleted_by?: string | null
          id?: string
          is_active?: boolean | null
          is_default?: boolean | null
          is_verified?: boolean | null
          last_used_at?: string | null
          metadata?: Json | null
          nickname?: string | null
          stripe_customer_id?: string | null
          stripe_payment_method_id: string
          updated_at?: string
        }
        Update: {
          billing_address_line1?: string | null
          billing_address_line2?: string | null
          billing_city?: string | null
          billing_country?: string | null
          billing_email?: string | null
          billing_name?: string | null
          billing_phone?: string | null
          billing_postal_code?: string | null
          billing_state?: string | null
          card_brand?: string
          card_exp_month?: number
          card_exp_year?: number
          card_fingerprint?: string | null
          card_last4?: string
          company_id?: string
          created_at?: string
          created_by?: string | null
          customer_id?: string
          deleted_at?: string | null
          deleted_by?: string | null
          id?: string
          is_active?: boolean | null
          is_default?: boolean | null
          is_verified?: boolean | null
          last_used_at?: string | null
          metadata?: Json | null
          nickname?: string | null
          stripe_customer_id?: string | null
          stripe_payment_method_id?: string
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "payment_methods_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "payment_methods_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "payment_methods_created_by_fkey"
            columns: ["created_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "payment_methods_customer_id_fkey"
            columns: ["customer_id"]
            isOneToOne: false
            referencedRelation: "customers"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "payment_methods_deleted_by_fkey"
            columns: ["deleted_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      payment_offline_queue: {
        Row: {
          amount: number
          client_id: string
          collected_at: string
          collected_by: string | null
          company_id: string
          created_at: string
          currency: string | null
          customer_id: string | null
          device_id: string | null
          error_history: Json | null
          id: string
          invoice_id: string | null
          job_id: string | null
          last_error: string | null
          last_error_code: string | null
          last_retry_at: string | null
          max_retries: number | null
          metadata: Json | null
          next_retry_at: string | null
          notes: string | null
          payment_data: Json
          payment_id: string | null
          payment_method: string
          processed_at: string | null
          processor_transaction_id: string | null
          processor_type: string | null
          retry_count: number | null
          sync_status: string
          updated_at: string
        }
        Insert: {
          amount: number
          client_id: string
          collected_at: string
          collected_by?: string | null
          company_id: string
          created_at?: string
          currency?: string | null
          customer_id?: string | null
          device_id?: string | null
          error_history?: Json | null
          id?: string
          invoice_id?: string | null
          job_id?: string | null
          last_error?: string | null
          last_error_code?: string | null
          last_retry_at?: string | null
          max_retries?: number | null
          metadata?: Json | null
          next_retry_at?: string | null
          notes?: string | null
          payment_data?: Json
          payment_id?: string | null
          payment_method: string
          processed_at?: string | null
          processor_transaction_id?: string | null
          processor_type?: string | null
          retry_count?: number | null
          sync_status?: string
          updated_at?: string
        }
        Update: {
          amount?: number
          client_id?: string
          collected_at?: string
          collected_by?: string | null
          company_id?: string
          created_at?: string
          currency?: string | null
          customer_id?: string | null
          device_id?: string | null
          error_history?: Json | null
          id?: string
          invoice_id?: string | null
          job_id?: string | null
          last_error?: string | null
          last_error_code?: string | null
          last_retry_at?: string | null
          max_retries?: number | null
          metadata?: Json | null
          next_retry_at?: string | null
          notes?: string | null
          payment_data?: Json
          payment_id?: string | null
          payment_method?: string
          processed_at?: string | null
          processor_transaction_id?: string | null
          processor_type?: string | null
          retry_count?: number | null
          sync_status?: string
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "payment_offline_queue_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "payment_offline_queue_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "payment_offline_queue_customer_id_fkey"
            columns: ["customer_id"]
            isOneToOne: false
            referencedRelation: "customers"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "payment_offline_queue_invoice_id_fkey"
            columns: ["invoice_id"]
            isOneToOne: false
            referencedRelation: "invoices"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "payment_offline_queue_job_id_fkey"
            columns: ["job_id"]
            isOneToOne: false
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "payment_offline_queue_payment_id_fkey"
            columns: ["payment_id"]
            isOneToOne: false
            referencedRelation: "payments"
            referencedColumns: ["id"]
          },
        ]
      }
      payment_plan_schedules: {
        Row: {
          amount_due: number
          amount_paid: number | null
          created_at: string
          due_date: string
          id: string
          is_late: boolean | null
          last_reminder_sent_at: string | null
          late_fee_applied: number | null
          late_fee_waived: boolean | null
          late_fee_waived_reason: string | null
          late_since_date: string | null
          notes: string | null
          paid_at: string | null
          payment_id: string | null
          payment_number: number
          payment_plan_id: string
          reminder_count: number | null
          reminder_sent_at: string | null
          status: string
          updated_at: string
        }
        Insert: {
          amount_due: number
          amount_paid?: number | null
          created_at?: string
          due_date: string
          id?: string
          is_late?: boolean | null
          last_reminder_sent_at?: string | null
          late_fee_applied?: number | null
          late_fee_waived?: boolean | null
          late_fee_waived_reason?: string | null
          late_since_date?: string | null
          notes?: string | null
          paid_at?: string | null
          payment_id?: string | null
          payment_number: number
          payment_plan_id: string
          reminder_count?: number | null
          reminder_sent_at?: string | null
          status?: string
          updated_at?: string
        }
        Update: {
          amount_due?: number
          amount_paid?: number | null
          created_at?: string
          due_date?: string
          id?: string
          is_late?: boolean | null
          last_reminder_sent_at?: string | null
          late_fee_applied?: number | null
          late_fee_waived?: boolean | null
          late_fee_waived_reason?: string | null
          late_since_date?: string | null
          notes?: string | null
          paid_at?: string | null
          payment_id?: string | null
          payment_number?: number
          payment_plan_id?: string
          reminder_count?: number | null
          reminder_sent_at?: string | null
          status?: string
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "payment_plan_schedules_payment_id_fkey"
            columns: ["payment_id"]
            isOneToOne: false
            referencedRelation: "payments"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "payment_plan_schedules_payment_plan_id_fkey"
            columns: ["payment_plan_id"]
            isOneToOne: false
            referencedRelation: "payment_plans"
            referencedColumns: ["id"]
          },
        ]
      }
      payment_plans: {
        Row: {
          amount_paid: number | null
          amount_remaining: number
          auto_pay_card_last4: string | null
          auto_pay_enabled: boolean | null
          auto_pay_payment_method: string | null
          auto_pay_stripe_payment_method_id: string | null
          cancellation_reason: string | null
          cancelled_at: string | null
          company_id: string
          completed_at: string | null
          created_at: string
          customer_id: string
          deleted_at: string | null
          down_payment_amount: number | null
          final_payment_date: string
          finance_provider_id: string | null
          financed_amount: number
          financing_approval_number: string | null
          financing_approved_at: string | null
          first_payment_date: string
          grace_period_days: number | null
          has_interest: boolean | null
          id: string
          interest_rate: number | null
          invoice_id: string | null
          last_payment_date: string | null
          late_fee: number | null
          missed_payments: number | null
          next_payment_due_date: string | null
          notes: string | null
          number_of_payments: number
          payment_amount: number
          payment_frequency: string
          payments_made: number | null
          plan_name: string | null
          plan_number: string
          setup_fee: number | null
          start_date: string
          status: string
          terms: string | null
          total_amount: number
          updated_at: string
        }
        Insert: {
          amount_paid?: number | null
          amount_remaining: number
          auto_pay_card_last4?: string | null
          auto_pay_enabled?: boolean | null
          auto_pay_payment_method?: string | null
          auto_pay_stripe_payment_method_id?: string | null
          cancellation_reason?: string | null
          cancelled_at?: string | null
          company_id: string
          completed_at?: string | null
          created_at?: string
          customer_id: string
          deleted_at?: string | null
          down_payment_amount?: number | null
          final_payment_date: string
          finance_provider_id?: string | null
          financed_amount: number
          financing_approval_number?: string | null
          financing_approved_at?: string | null
          first_payment_date: string
          grace_period_days?: number | null
          has_interest?: boolean | null
          id?: string
          interest_rate?: number | null
          invoice_id?: string | null
          last_payment_date?: string | null
          late_fee?: number | null
          missed_payments?: number | null
          next_payment_due_date?: string | null
          notes?: string | null
          number_of_payments: number
          payment_amount: number
          payment_frequency: string
          payments_made?: number | null
          plan_name?: string | null
          plan_number: string
          setup_fee?: number | null
          start_date: string
          status?: string
          terms?: string | null
          total_amount: number
          updated_at?: string
        }
        Update: {
          amount_paid?: number | null
          amount_remaining?: number
          auto_pay_card_last4?: string | null
          auto_pay_enabled?: boolean | null
          auto_pay_payment_method?: string | null
          auto_pay_stripe_payment_method_id?: string | null
          cancellation_reason?: string | null
          cancelled_at?: string | null
          company_id?: string
          completed_at?: string | null
          created_at?: string
          customer_id?: string
          deleted_at?: string | null
          down_payment_amount?: number | null
          final_payment_date?: string
          finance_provider_id?: string | null
          financed_amount?: number
          financing_approval_number?: string | null
          financing_approved_at?: string | null
          first_payment_date?: string
          grace_period_days?: number | null
          has_interest?: boolean | null
          id?: string
          interest_rate?: number | null
          invoice_id?: string | null
          last_payment_date?: string | null
          late_fee?: number | null
          missed_payments?: number | null
          next_payment_due_date?: string | null
          notes?: string | null
          number_of_payments?: number
          payment_amount?: number
          payment_frequency?: string
          payments_made?: number | null
          plan_name?: string | null
          plan_number?: string
          setup_fee?: number | null
          start_date?: string
          status?: string
          terms?: string | null
          total_amount?: number
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "payment_plans_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "payment_plans_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "payment_plans_customer_id_fkey"
            columns: ["customer_id"]
            isOneToOne: false
            referencedRelation: "customers"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "payment_plans_finance_provider_id_fkey"
            columns: ["finance_provider_id"]
            isOneToOne: false
            referencedRelation: "finance_providers"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "payment_plans_invoice_id_fkey"
            columns: ["invoice_id"]
            isOneToOne: false
            referencedRelation: "invoices"
            referencedColumns: ["id"]
          },
        ]
      }
      payment_tags: {
        Row: {
          created_at: string
          payment_id: string
          tag_id: string
        }
        Insert: {
          created_at?: string
          payment_id: string
          tag_id: string
        }
        Update: {
          created_at?: string
          payment_id?: string
          tag_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "payment_tags_payment_id_fkey"
            columns: ["payment_id"]
            isOneToOne: false
            referencedRelation: "payments"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "payment_tags_tag_id_fkey"
            columns: ["tag_id"]
            isOneToOne: false
            referencedRelation: "tags"
            referencedColumns: ["id"]
          },
        ]
      }
      payment_trust_scores: {
        Row: {
          account_age_days: number | null
          address_verified: boolean | null
          average_payment_amount: number | null
          bank_account_verified: boolean | null
          business_verified: boolean | null
          chargeback_count: number | null
          company_id: string
          created_at: string
          days_since_last_payment: number | null
          dispute_count: number | null
          failed_payments_count: number | null
          id: string
          identity_verified: boolean | null
          is_high_risk: boolean | null
          largest_payment_amount: number | null
          last_calculated_at: string | null
          last_payment_at: string | null
          manual_review_required: boolean | null
          overall_score: number | null
          payment_frequency_per_month: number | null
          refund_rate: number | null
          refunded_amount: number | null
          risk_flags: Json | null
          successful_payments_count: number | null
          total_payments_count: number | null
          total_payments_volume: number | null
          updated_at: string
        }
        Insert: {
          account_age_days?: number | null
          address_verified?: boolean | null
          average_payment_amount?: number | null
          bank_account_verified?: boolean | null
          business_verified?: boolean | null
          chargeback_count?: number | null
          company_id: string
          created_at?: string
          days_since_last_payment?: number | null
          dispute_count?: number | null
          failed_payments_count?: number | null
          id?: string
          identity_verified?: boolean | null
          is_high_risk?: boolean | null
          largest_payment_amount?: number | null
          last_calculated_at?: string | null
          last_payment_at?: string | null
          manual_review_required?: boolean | null
          overall_score?: number | null
          payment_frequency_per_month?: number | null
          refund_rate?: number | null
          refunded_amount?: number | null
          risk_flags?: Json | null
          successful_payments_count?: number | null
          total_payments_count?: number | null
          total_payments_volume?: number | null
          updated_at?: string
        }
        Update: {
          account_age_days?: number | null
          address_verified?: boolean | null
          average_payment_amount?: number | null
          bank_account_verified?: boolean | null
          business_verified?: boolean | null
          chargeback_count?: number | null
          company_id?: string
          created_at?: string
          days_since_last_payment?: number | null
          dispute_count?: number | null
          failed_payments_count?: number | null
          id?: string
          identity_verified?: boolean | null
          is_high_risk?: boolean | null
          largest_payment_amount?: number | null
          last_calculated_at?: string | null
          last_payment_at?: string | null
          manual_review_required?: boolean | null
          overall_score?: number | null
          payment_frequency_per_month?: number | null
          refund_rate?: number | null
          refunded_amount?: number | null
          risk_flags?: Json | null
          successful_payments_count?: number | null
          total_payments_count?: number | null
          total_payments_volume?: number | null
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "payment_trust_scores_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "payment_trust_scores_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      payments: {
        Row: {
          amount: number
          approved_by: string | null
          archived_at: string | null
          authorization_time_seconds: number | null
          avs_result: string | null
          bank_deposit_date: string | null
          bank_name: string | null
          batch_id: string | null
          card_brand: string | null
          card_exp_month: number | null
          card_exp_year: number | null
          card_funding: string | null
          card_last4: string | null
          card_type: string | null
          chargeback_risk_score: number | null
          check_number: string | null
          company_id: string
          completed_at: string | null
          convenience_fee: number | null
          created_at: string
          created_by: string | null
          customer_id: string
          customer_lifetime_payment_count: number | null
          customer_notes: string | null
          cvv_result: string | null
          days_since_invoice: number | null
          deleted_at: string | null
          deleted_by: string | null
          device_used: string | null
          dispute_amount: number | null
          dispute_date: string | null
          dispute_filed: boolean | null
          dispute_outcome: string | null
          dispute_reason: string | null
          failure_code: string | null
          failure_message: string | null
          financing_provider_id: string | null
          financing_terms: Json | null
          fraud_score: number | null
          id: string
          invoice_id: string | null
          ip_address: string | null
          is_corporate_card: boolean | null
          is_down_payment: boolean | null
          is_first_payment: boolean | null
          is_payment_plan_payment: boolean | null
          is_reconciled: boolean
          job_id: string | null
          location_type: string | null
          metadata: Json | null
          net_amount: number | null
          notes: string | null
          original_payment_id: string | null
          payment_method: string
          payment_number: string
          payment_plan_schedule_id: string | null
          payment_type: string
          payout_amount: number | null
          payout_date: string | null
          processed_at: string | null
          processed_by: string | null
          processing_time_seconds: number | null
          processor_fee: number | null
          processor_metadata: Json | null
          processor_name: string | null
          processor_transaction_id: string | null
          receipt_emailed: boolean
          receipt_emailed_at: string | null
          receipt_number: string | null
          receipt_url: string | null
          reconciled_at: string | null
          reconciled_by: string | null
          reference_number: string | null
          refund_reason: string | null
          refunded_amount: number | null
          refunded_at: string | null
          retry_count: number | null
          service_fee: number | null
          settlement_date: string | null
          settlement_status: string | null
          status: string
          surcharge_amount: number | null
          terminal_id: string | null
          tip_amount: number | null
          updated_at: string
          updated_by: string | null
        }
        Insert: {
          amount: number
          approved_by?: string | null
          archived_at?: string | null
          authorization_time_seconds?: number | null
          avs_result?: string | null
          bank_deposit_date?: string | null
          bank_name?: string | null
          batch_id?: string | null
          card_brand?: string | null
          card_exp_month?: number | null
          card_exp_year?: number | null
          card_funding?: string | null
          card_last4?: string | null
          card_type?: string | null
          chargeback_risk_score?: number | null
          check_number?: string | null
          company_id: string
          completed_at?: string | null
          convenience_fee?: number | null
          created_at?: string
          created_by?: string | null
          customer_id: string
          customer_lifetime_payment_count?: number | null
          customer_notes?: string | null
          cvv_result?: string | null
          days_since_invoice?: number | null
          deleted_at?: string | null
          deleted_by?: string | null
          device_used?: string | null
          dispute_amount?: number | null
          dispute_date?: string | null
          dispute_filed?: boolean | null
          dispute_outcome?: string | null
          dispute_reason?: string | null
          failure_code?: string | null
          failure_message?: string | null
          financing_provider_id?: string | null
          financing_terms?: Json | null
          fraud_score?: number | null
          id?: string
          invoice_id?: string | null
          ip_address?: string | null
          is_corporate_card?: boolean | null
          is_down_payment?: boolean | null
          is_first_payment?: boolean | null
          is_payment_plan_payment?: boolean | null
          is_reconciled?: boolean
          job_id?: string | null
          location_type?: string | null
          metadata?: Json | null
          net_amount?: number | null
          notes?: string | null
          original_payment_id?: string | null
          payment_method: string
          payment_number: string
          payment_plan_schedule_id?: string | null
          payment_type?: string
          payout_amount?: number | null
          payout_date?: string | null
          processed_at?: string | null
          processed_by?: string | null
          processing_time_seconds?: number | null
          processor_fee?: number | null
          processor_metadata?: Json | null
          processor_name?: string | null
          processor_transaction_id?: string | null
          receipt_emailed?: boolean
          receipt_emailed_at?: string | null
          receipt_number?: string | null
          receipt_url?: string | null
          reconciled_at?: string | null
          reconciled_by?: string | null
          reference_number?: string | null
          refund_reason?: string | null
          refunded_amount?: number | null
          refunded_at?: string | null
          retry_count?: number | null
          service_fee?: number | null
          settlement_date?: string | null
          settlement_status?: string | null
          status?: string
          surcharge_amount?: number | null
          terminal_id?: string | null
          tip_amount?: number | null
          updated_at?: string
          updated_by?: string | null
        }
        Update: {
          amount?: number
          approved_by?: string | null
          archived_at?: string | null
          authorization_time_seconds?: number | null
          avs_result?: string | null
          bank_deposit_date?: string | null
          bank_name?: string | null
          batch_id?: string | null
          card_brand?: string | null
          card_exp_month?: number | null
          card_exp_year?: number | null
          card_funding?: string | null
          card_last4?: string | null
          card_type?: string | null
          chargeback_risk_score?: number | null
          check_number?: string | null
          company_id?: string
          completed_at?: string | null
          convenience_fee?: number | null
          created_at?: string
          created_by?: string | null
          customer_id?: string
          customer_lifetime_payment_count?: number | null
          customer_notes?: string | null
          cvv_result?: string | null
          days_since_invoice?: number | null
          deleted_at?: string | null
          deleted_by?: string | null
          device_used?: string | null
          dispute_amount?: number | null
          dispute_date?: string | null
          dispute_filed?: boolean | null
          dispute_outcome?: string | null
          dispute_reason?: string | null
          failure_code?: string | null
          failure_message?: string | null
          financing_provider_id?: string | null
          financing_terms?: Json | null
          fraud_score?: number | null
          id?: string
          invoice_id?: string | null
          ip_address?: string | null
          is_corporate_card?: boolean | null
          is_down_payment?: boolean | null
          is_first_payment?: boolean | null
          is_payment_plan_payment?: boolean | null
          is_reconciled?: boolean
          job_id?: string | null
          location_type?: string | null
          metadata?: Json | null
          net_amount?: number | null
          notes?: string | null
          original_payment_id?: string | null
          payment_method?: string
          payment_number?: string
          payment_plan_schedule_id?: string | null
          payment_type?: string
          payout_amount?: number | null
          payout_date?: string | null
          processed_at?: string | null
          processed_by?: string | null
          processing_time_seconds?: number | null
          processor_fee?: number | null
          processor_metadata?: Json | null
          processor_name?: string | null
          processor_transaction_id?: string | null
          receipt_emailed?: boolean
          receipt_emailed_at?: string | null
          receipt_number?: string | null
          receipt_url?: string | null
          reconciled_at?: string | null
          reconciled_by?: string | null
          reference_number?: string | null
          refund_reason?: string | null
          refunded_amount?: number | null
          refunded_at?: string | null
          retry_count?: number | null
          service_fee?: number | null
          settlement_date?: string | null
          settlement_status?: string | null
          status?: string
          surcharge_amount?: number | null
          terminal_id?: string | null
          tip_amount?: number | null
          updated_at?: string
          updated_by?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "fk_payments_financing_provider"
            columns: ["financing_provider_id"]
            isOneToOne: false
            referencedRelation: "finance_providers"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "fk_payments_payment_plan_schedule"
            columns: ["payment_plan_schedule_id"]
            isOneToOne: false
            referencedRelation: "payment_plan_schedules"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "payments_approved_by_users_id_fk"
            columns: ["approved_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "payments_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "payments_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "payments_created_by_fkey"
            columns: ["created_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "payments_customer_id_customers_id_fk"
            columns: ["customer_id"]
            isOneToOne: false
            referencedRelation: "customers"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "payments_deleted_by_users_id_fk"
            columns: ["deleted_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "payments_invoice_id_invoices_id_fk"
            columns: ["invoice_id"]
            isOneToOne: false
            referencedRelation: "invoices"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "payments_job_id_jobs_id_fk"
            columns: ["job_id"]
            isOneToOne: false
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "payments_original_payment_id_payments_id_fk"
            columns: ["original_payment_id"]
            isOneToOne: false
            referencedRelation: "payments"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "payments_processed_by_users_id_fk"
            columns: ["processed_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "payments_reconciled_by_users_id_fk"
            columns: ["reconciled_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "payments_updated_by_fkey"
            columns: ["updated_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      payout_schedules: {
        Row: {
          auto_payout_day_of_week: number | null
          auto_payout_enabled: boolean | null
          auto_payout_threshold: number | null
          auto_payout_time: string | null
          available_balance: number | null
          bank_account_id: string | null
          company_id: string
          created_at: string
          current_balance: number | null
          high_risk_hold_days: number | null
          hold_high_risk_payments: boolean | null
          hold_period_days: number | null
          id: string
          instant_payout_daily_limit: number | null
          instant_payout_enabled: boolean | null
          instant_payout_fee_cap: number | null
          instant_payout_fee_percent: number | null
          last_payout_amount: number | null
          last_payout_at: string | null
          metadata: Json | null
          payout_type: string
          pending_balance: number | null
          processor_id: string | null
          status: string | null
          suspended_reason: string | null
          total_payouts_amount: number | null
          total_payouts_count: number | null
          updated_at: string
        }
        Insert: {
          auto_payout_day_of_week?: number | null
          auto_payout_enabled?: boolean | null
          auto_payout_threshold?: number | null
          auto_payout_time?: string | null
          available_balance?: number | null
          bank_account_id?: string | null
          company_id: string
          created_at?: string
          current_balance?: number | null
          high_risk_hold_days?: number | null
          hold_high_risk_payments?: boolean | null
          hold_period_days?: number | null
          id?: string
          instant_payout_daily_limit?: number | null
          instant_payout_enabled?: boolean | null
          instant_payout_fee_cap?: number | null
          instant_payout_fee_percent?: number | null
          last_payout_amount?: number | null
          last_payout_at?: string | null
          metadata?: Json | null
          payout_type?: string
          pending_balance?: number | null
          processor_id?: string | null
          status?: string | null
          suspended_reason?: string | null
          total_payouts_amount?: number | null
          total_payouts_count?: number | null
          updated_at?: string
        }
        Update: {
          auto_payout_day_of_week?: number | null
          auto_payout_enabled?: boolean | null
          auto_payout_threshold?: number | null
          auto_payout_time?: string | null
          available_balance?: number | null
          bank_account_id?: string | null
          company_id?: string
          created_at?: string
          current_balance?: number | null
          high_risk_hold_days?: number | null
          hold_high_risk_payments?: boolean | null
          hold_period_days?: number | null
          id?: string
          instant_payout_daily_limit?: number | null
          instant_payout_enabled?: boolean | null
          instant_payout_fee_cap?: number | null
          instant_payout_fee_percent?: number | null
          last_payout_amount?: number | null
          last_payout_at?: string | null
          metadata?: Json | null
          payout_type?: string
          pending_balance?: number | null
          processor_id?: string | null
          status?: string | null
          suspended_reason?: string | null
          total_payouts_amount?: number | null
          total_payouts_count?: number | null
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "payout_schedules_bank_account_id_fkey"
            columns: ["bank_account_id"]
            isOneToOne: false
            referencedRelation: "finance_bank_accounts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "payout_schedules_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "payout_schedules_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "payout_schedules_processor_id_fkey"
            columns: ["processor_id"]
            isOneToOne: false
            referencedRelation: "company_payment_processors"
            referencedColumns: ["id"]
          },
        ]
      }
      payrix_merchant_accounts: {
        Row: {
          accepts_ach: boolean | null
          accepts_credit_cards: boolean | null
          accepts_debit_cards: boolean | null
          accepts_recurring: boolean | null
          activated_at: string | null
          additional_principals: Json | null
          approved_at: string | null
          average_ticket_amount: number | null
          boarding_status: string | null
          boarding_substatus: string | null
          business_description: string | null
          business_website: string | null
          company_id: string
          created_at: string | null
          estimated_annual_volume: number | null
          estimated_monthly_volume: number | null
          high_risk_business: boolean | null
          highest_ticket_amount: number | null
          id: string
          last_sync_at: string | null
          mcc_code: string | null
          owner_city: string | null
          owner_dob: string | null
          owner_full_name: string | null
          owner_home_address: string | null
          owner_ownership_percentage: number | null
          owner_ssn_encrypted: string | null
          owner_state: string | null
          owner_title: string | null
          owner_zip: string | null
          payrix_entity_id: string | null
          payrix_member_id: string | null
          payrix_merchant_id: string | null
          payrix_response: Json | null
          previous_chargebacks: boolean | null
          previous_violations: boolean | null
          rejection_reason: string | null
          status: string
          submitted_at: string | null
          updated_at: string | null
          years_in_business: number | null
        }
        Insert: {
          accepts_ach?: boolean | null
          accepts_credit_cards?: boolean | null
          accepts_debit_cards?: boolean | null
          accepts_recurring?: boolean | null
          activated_at?: string | null
          additional_principals?: Json | null
          approved_at?: string | null
          average_ticket_amount?: number | null
          boarding_status?: string | null
          boarding_substatus?: string | null
          business_description?: string | null
          business_website?: string | null
          company_id: string
          created_at?: string | null
          estimated_annual_volume?: number | null
          estimated_monthly_volume?: number | null
          high_risk_business?: boolean | null
          highest_ticket_amount?: number | null
          id?: string
          last_sync_at?: string | null
          mcc_code?: string | null
          owner_city?: string | null
          owner_dob?: string | null
          owner_full_name?: string | null
          owner_home_address?: string | null
          owner_ownership_percentage?: number | null
          owner_ssn_encrypted?: string | null
          owner_state?: string | null
          owner_title?: string | null
          owner_zip?: string | null
          payrix_entity_id?: string | null
          payrix_member_id?: string | null
          payrix_merchant_id?: string | null
          payrix_response?: Json | null
          previous_chargebacks?: boolean | null
          previous_violations?: boolean | null
          rejection_reason?: string | null
          status?: string
          submitted_at?: string | null
          updated_at?: string | null
          years_in_business?: number | null
        }
        Update: {
          accepts_ach?: boolean | null
          accepts_credit_cards?: boolean | null
          accepts_debit_cards?: boolean | null
          accepts_recurring?: boolean | null
          activated_at?: string | null
          additional_principals?: Json | null
          approved_at?: string | null
          average_ticket_amount?: number | null
          boarding_status?: string | null
          boarding_substatus?: string | null
          business_description?: string | null
          business_website?: string | null
          company_id?: string
          created_at?: string | null
          estimated_annual_volume?: number | null
          estimated_monthly_volume?: number | null
          high_risk_business?: boolean | null
          highest_ticket_amount?: number | null
          id?: string
          last_sync_at?: string | null
          mcc_code?: string | null
          owner_city?: string | null
          owner_dob?: string | null
          owner_full_name?: string | null
          owner_home_address?: string | null
          owner_ownership_percentage?: number | null
          owner_ssn_encrypted?: string | null
          owner_state?: string | null
          owner_title?: string | null
          owner_zip?: string | null
          payrix_entity_id?: string | null
          payrix_member_id?: string | null
          payrix_merchant_id?: string | null
          payrix_response?: Json | null
          previous_chargebacks?: boolean | null
          previous_violations?: boolean | null
          rejection_reason?: string | null
          status?: string
          submitted_at?: string | null
          updated_at?: string | null
          years_in_business?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "payrix_merchant_accounts_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "payrix_merchant_accounts_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      payroll_bonus_rules: {
        Row: {
          amount_type: string
          bonus_name: string
          bonus_type: string
          company_id: string
          conditions: Json | null
          created_at: string | null
          created_by: string | null
          description: string | null
          effective_end_date: string | null
          effective_start_date: string | null
          eligible_departments: Json | null
          eligible_roles: Json | null
          fixed_amount: number | null
          id: string
          is_active: boolean | null
          min_customer_rating: number | null
          min_jobs_completed: number | null
          min_revenue_generated: number | null
          payout_delay_days: number | null
          payout_frequency: string | null
          percentage_of: string | null
          percentage_value: number | null
          updated_at: string | null
          updated_by: string | null
        }
        Insert: {
          amount_type: string
          bonus_name: string
          bonus_type: string
          company_id: string
          conditions?: Json | null
          created_at?: string | null
          created_by?: string | null
          description?: string | null
          effective_end_date?: string | null
          effective_start_date?: string | null
          eligible_departments?: Json | null
          eligible_roles?: Json | null
          fixed_amount?: number | null
          id?: string
          is_active?: boolean | null
          min_customer_rating?: number | null
          min_jobs_completed?: number | null
          min_revenue_generated?: number | null
          payout_delay_days?: number | null
          payout_frequency?: string | null
          percentage_of?: string | null
          percentage_value?: number | null
          updated_at?: string | null
          updated_by?: string | null
        }
        Update: {
          amount_type?: string
          bonus_name?: string
          bonus_type?: string
          company_id?: string
          conditions?: Json | null
          created_at?: string | null
          created_by?: string | null
          description?: string | null
          effective_end_date?: string | null
          effective_start_date?: string | null
          eligible_departments?: Json | null
          eligible_roles?: Json | null
          fixed_amount?: number | null
          id?: string
          is_active?: boolean | null
          min_customer_rating?: number | null
          min_jobs_completed?: number | null
          min_revenue_generated?: number | null
          payout_delay_days?: number | null
          payout_frequency?: string | null
          percentage_of?: string | null
          percentage_value?: number | null
          updated_at?: string | null
          updated_by?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "payroll_bonus_rules_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "payroll_bonus_rules_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "payroll_bonus_rules_created_by_fkey"
            columns: ["created_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "payroll_bonus_rules_updated_by_fkey"
            columns: ["updated_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      payroll_bonus_tiers: {
        Row: {
          bonus_amount: number
          bonus_rule_id: string
          created_at: string | null
          id: string
          max_value: number | null
          min_value: number
          tier_level: number
        }
        Insert: {
          bonus_amount: number
          bonus_rule_id: string
          created_at?: string | null
          id?: string
          max_value?: number | null
          min_value: number
          tier_level: number
        }
        Update: {
          bonus_amount?: number
          bonus_rule_id?: string
          created_at?: string | null
          id?: string
          max_value?: number | null
          min_value?: number
          tier_level?: number
        }
        Relationships: [
          {
            foreignKeyName: "payroll_bonus_tiers_bonus_rule_id_fkey"
            columns: ["bonus_rule_id"]
            isOneToOne: false
            referencedRelation: "payroll_bonus_rules"
            referencedColumns: ["id"]
          },
        ]
      }
      payroll_callback_settings: {
        Row: {
          after_hours_multiplier: number | null
          auto_detect_callbacks: boolean | null
          callback_window_end: string | null
          callback_window_start: string | null
          callbacks_enabled: boolean | null
          company_id: string
          created_at: string | null
          created_by: string | null
          emergency_multiplier: number | null
          fixed_callback_rate: number | null
          holiday_multiplier: number | null
          hourly_callback_rate: number | null
          id: string
          include_holidays: boolean | null
          include_weekends: boolean | null
          minimum_callback_hours: number | null
          minimum_callback_pay: number | null
          rate_type: string | null
          require_callback_approval: boolean | null
          require_customer_confirmation: boolean | null
          response_time_bonus_amount: number | null
          response_time_bonus_enabled: boolean | null
          response_time_threshold_minutes: number | null
          track_response_time: boolean | null
          updated_at: string | null
          updated_by: string | null
          weekend_multiplier: number | null
        }
        Insert: {
          after_hours_multiplier?: number | null
          auto_detect_callbacks?: boolean | null
          callback_window_end?: string | null
          callback_window_start?: string | null
          callbacks_enabled?: boolean | null
          company_id: string
          created_at?: string | null
          created_by?: string | null
          emergency_multiplier?: number | null
          fixed_callback_rate?: number | null
          holiday_multiplier?: number | null
          hourly_callback_rate?: number | null
          id?: string
          include_holidays?: boolean | null
          include_weekends?: boolean | null
          minimum_callback_hours?: number | null
          minimum_callback_pay?: number | null
          rate_type?: string | null
          require_callback_approval?: boolean | null
          require_customer_confirmation?: boolean | null
          response_time_bonus_amount?: number | null
          response_time_bonus_enabled?: boolean | null
          response_time_threshold_minutes?: number | null
          track_response_time?: boolean | null
          updated_at?: string | null
          updated_by?: string | null
          weekend_multiplier?: number | null
        }
        Update: {
          after_hours_multiplier?: number | null
          auto_detect_callbacks?: boolean | null
          callback_window_end?: string | null
          callback_window_start?: string | null
          callbacks_enabled?: boolean | null
          company_id?: string
          created_at?: string | null
          created_by?: string | null
          emergency_multiplier?: number | null
          fixed_callback_rate?: number | null
          holiday_multiplier?: number | null
          hourly_callback_rate?: number | null
          id?: string
          include_holidays?: boolean | null
          include_weekends?: boolean | null
          minimum_callback_hours?: number | null
          minimum_callback_pay?: number | null
          rate_type?: string | null
          require_callback_approval?: boolean | null
          require_customer_confirmation?: boolean | null
          response_time_bonus_amount?: number | null
          response_time_bonus_enabled?: boolean | null
          response_time_threshold_minutes?: number | null
          track_response_time?: boolean | null
          updated_at?: string | null
          updated_by?: string | null
          weekend_multiplier?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "payroll_callback_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "payroll_callback_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "payroll_callback_settings_created_by_fkey"
            columns: ["created_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "payroll_callback_settings_updated_by_fkey"
            columns: ["updated_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      payroll_overtime_settings: {
        Row: {
          auto_calculate_overtime: boolean | null
          company_id: string
          consecutive_days_threshold: number | null
          created_at: string | null
          created_by: string | null
          daily_overtime_multiplier: number | null
          daily_threshold_hours: number | null
          double_time_after_hours: number | null
          double_time_enabled: boolean | null
          double_time_multiplier: number | null
          double_time_on_seventh_day: boolean | null
          holiday_multiplier: number | null
          id: string
          notify_approaching_overtime: boolean | null
          notify_managers_on_overtime: boolean | null
          overtime_enabled: boolean | null
          overtime_threshold_notification_hours: number | null
          require_overtime_approval: boolean | null
          saturday_multiplier: number | null
          sunday_multiplier: number | null
          track_by_day: boolean | null
          track_by_job: boolean | null
          updated_at: string | null
          updated_by: string | null
          weekend_overtime_enabled: boolean | null
          weekly_overtime_multiplier: number | null
          weekly_threshold_hours: number | null
        }
        Insert: {
          auto_calculate_overtime?: boolean | null
          company_id: string
          consecutive_days_threshold?: number | null
          created_at?: string | null
          created_by?: string | null
          daily_overtime_multiplier?: number | null
          daily_threshold_hours?: number | null
          double_time_after_hours?: number | null
          double_time_enabled?: boolean | null
          double_time_multiplier?: number | null
          double_time_on_seventh_day?: boolean | null
          holiday_multiplier?: number | null
          id?: string
          notify_approaching_overtime?: boolean | null
          notify_managers_on_overtime?: boolean | null
          overtime_enabled?: boolean | null
          overtime_threshold_notification_hours?: number | null
          require_overtime_approval?: boolean | null
          saturday_multiplier?: number | null
          sunday_multiplier?: number | null
          track_by_day?: boolean | null
          track_by_job?: boolean | null
          updated_at?: string | null
          updated_by?: string | null
          weekend_overtime_enabled?: boolean | null
          weekly_overtime_multiplier?: number | null
          weekly_threshold_hours?: number | null
        }
        Update: {
          auto_calculate_overtime?: boolean | null
          company_id?: string
          consecutive_days_threshold?: number | null
          created_at?: string | null
          created_by?: string | null
          daily_overtime_multiplier?: number | null
          daily_threshold_hours?: number | null
          double_time_after_hours?: number | null
          double_time_enabled?: boolean | null
          double_time_multiplier?: number | null
          double_time_on_seventh_day?: boolean | null
          holiday_multiplier?: number | null
          id?: string
          notify_approaching_overtime?: boolean | null
          notify_managers_on_overtime?: boolean | null
          overtime_enabled?: boolean | null
          overtime_threshold_notification_hours?: number | null
          require_overtime_approval?: boolean | null
          saturday_multiplier?: number | null
          sunday_multiplier?: number | null
          track_by_day?: boolean | null
          track_by_job?: boolean | null
          updated_at?: string | null
          updated_by?: string | null
          weekend_overtime_enabled?: boolean | null
          weekly_overtime_multiplier?: number | null
          weekly_threshold_hours?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "payroll_overtime_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "payroll_overtime_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "payroll_overtime_settings_created_by_fkey"
            columns: ["created_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "payroll_overtime_settings_updated_by_fkey"
            columns: ["updated_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      phone_numbers: {
        Row: {
          area_code: string | null
          billing_group_id: string | null
          call_routing_rule_id: string | null
          company_id: string
          country_code: string
          created_at: string | null
          customer_reference: string | null
          deleted_at: string | null
          deleted_by: string | null
          features: Json | null
          formatted_number: string
          forward_to_number: string | null
          id: string
          incoming_calls_count: number | null
          metadata: Json | null
          monthly_cost: number | null
          number_type: string | null
          outgoing_calls_count: number | null
          phone_number: string
          ported_at: string | null
          ported_from: string | null
          porting_request_id: string | null
          setup_cost: number | null
          sms_received_count: number | null
          sms_sent_count: number | null
          status: string
          tags: string[] | null
          telnyx_connection_id: string | null
          telnyx_messaging_profile_id: string | null
          telnyx_phone_number_id: string | null
          updated_at: string | null
          voicemail_enabled: boolean | null
          voicemail_greeting_url: string | null
        }
        Insert: {
          area_code?: string | null
          billing_group_id?: string | null
          call_routing_rule_id?: string | null
          company_id: string
          country_code?: string
          created_at?: string | null
          customer_reference?: string | null
          deleted_at?: string | null
          deleted_by?: string | null
          features?: Json | null
          formatted_number: string
          forward_to_number?: string | null
          id?: string
          incoming_calls_count?: number | null
          metadata?: Json | null
          monthly_cost?: number | null
          number_type?: string | null
          outgoing_calls_count?: number | null
          phone_number: string
          ported_at?: string | null
          ported_from?: string | null
          porting_request_id?: string | null
          setup_cost?: number | null
          sms_received_count?: number | null
          sms_sent_count?: number | null
          status?: string
          tags?: string[] | null
          telnyx_connection_id?: string | null
          telnyx_messaging_profile_id?: string | null
          telnyx_phone_number_id?: string | null
          updated_at?: string | null
          voicemail_enabled?: boolean | null
          voicemail_greeting_url?: string | null
        }
        Update: {
          area_code?: string | null
          billing_group_id?: string | null
          call_routing_rule_id?: string | null
          company_id?: string
          country_code?: string
          created_at?: string | null
          customer_reference?: string | null
          deleted_at?: string | null
          deleted_by?: string | null
          features?: Json | null
          formatted_number?: string
          forward_to_number?: string | null
          id?: string
          incoming_calls_count?: number | null
          metadata?: Json | null
          monthly_cost?: number | null
          number_type?: string | null
          outgoing_calls_count?: number | null
          phone_number?: string
          ported_at?: string | null
          ported_from?: string | null
          porting_request_id?: string | null
          setup_cost?: number | null
          sms_received_count?: number | null
          sms_sent_count?: number | null
          status?: string
          tags?: string[] | null
          telnyx_connection_id?: string | null
          telnyx_messaging_profile_id?: string | null
          telnyx_phone_number_id?: string | null
          updated_at?: string | null
          voicemail_enabled?: boolean | null
          voicemail_greeting_url?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "fk_phone_numbers_routing_rule"
            columns: ["call_routing_rule_id"]
            isOneToOne: false
            referencedRelation: "call_routing_rules"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "phone_numbers_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "phone_numbers_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "phone_numbers_porting_request_id_fkey"
            columns: ["porting_request_id"]
            isOneToOne: false
            referencedRelation: "phone_porting_requests"
            referencedColumns: ["id"]
          },
        ]
      }
      phone_porting_requests: {
        Row: {
          account_number: string | null
          account_pin: string | null
          account_type: string | null
          actual_port_date: string | null
          additional_documents: Json | null
          authorized_name: string | null
          bill_document_url: string | null
          billing_address: Json | null
          billing_phone_number: string | null
          billing_zip_code: string | null
          cancelled_at: string | null
          company_id: string
          completed_at: string | null
          created_at: string
          current_carrier: string | null
          current_phone_number: string
          error_message: string | null
          estimated_completion_date: string | null
          foc_date: string | null
          id: string
          last_four_ssn_or_tax: string | null
          loa_document_url: string | null
          metadata: Json | null
          number_of_lines: number | null
          porting_type: string
          requested_port_date: string | null
          retry_count: number | null
          service_address: Json | null
          status: string
          status_history: Json | null
          telnyx_order_id: string | null
          telnyx_response: Json | null
          telnyx_status: string | null
          updated_at: string
          user_id: string
        }
        Insert: {
          account_number?: string | null
          account_pin?: string | null
          account_type?: string | null
          actual_port_date?: string | null
          additional_documents?: Json | null
          authorized_name?: string | null
          bill_document_url?: string | null
          billing_address?: Json | null
          billing_phone_number?: string | null
          billing_zip_code?: string | null
          cancelled_at?: string | null
          company_id: string
          completed_at?: string | null
          created_at?: string
          current_carrier?: string | null
          current_phone_number: string
          error_message?: string | null
          estimated_completion_date?: string | null
          foc_date?: string | null
          id?: string
          last_four_ssn_or_tax?: string | null
          loa_document_url?: string | null
          metadata?: Json | null
          number_of_lines?: number | null
          porting_type: string
          requested_port_date?: string | null
          retry_count?: number | null
          service_address?: Json | null
          status?: string
          status_history?: Json | null
          telnyx_order_id?: string | null
          telnyx_response?: Json | null
          telnyx_status?: string | null
          updated_at?: string
          user_id: string
        }
        Update: {
          account_number?: string | null
          account_pin?: string | null
          account_type?: string | null
          actual_port_date?: string | null
          additional_documents?: Json | null
          authorized_name?: string | null
          bill_document_url?: string | null
          billing_address?: Json | null
          billing_phone_number?: string | null
          billing_zip_code?: string | null
          cancelled_at?: string | null
          company_id?: string
          completed_at?: string | null
          created_at?: string
          current_carrier?: string | null
          current_phone_number?: string
          error_message?: string | null
          estimated_completion_date?: string | null
          foc_date?: string | null
          id?: string
          last_four_ssn_or_tax?: string | null
          loa_document_url?: string | null
          metadata?: Json | null
          number_of_lines?: number | null
          porting_type?: string
          requested_port_date?: string | null
          retry_count?: number | null
          service_address?: Json | null
          status?: string
          status_history?: Json | null
          telnyx_order_id?: string | null
          telnyx_response?: Json | null
          telnyx_status?: string | null
          updated_at?: string
          user_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "phone_porting_requests_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "phone_porting_requests_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      pin_board_attachments: {
        Row: {
          company_id: string
          created_at: string | null
          description: string | null
          file_name: string
          file_size: number | null
          file_type: string | null
          file_url: string
          id: string
          post_id: string
          sort_order: number | null
          uploaded_by: string | null
        }
        Insert: {
          company_id: string
          created_at?: string | null
          description?: string | null
          file_name: string
          file_size?: number | null
          file_type?: string | null
          file_url: string
          id?: string
          post_id: string
          sort_order?: number | null
          uploaded_by?: string | null
        }
        Update: {
          company_id?: string
          created_at?: string | null
          description?: string | null
          file_name?: string
          file_size?: number | null
          file_type?: string | null
          file_url?: string
          id?: string
          post_id?: string
          sort_order?: number | null
          uploaded_by?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "pin_board_attachments_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "pin_board_attachments_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "pin_board_attachments_post_id_fkey"
            columns: ["post_id"]
            isOneToOne: false
            referencedRelation: "pin_board_posts"
            referencedColumns: ["id"]
          },
        ]
      }
      pin_board_categories: {
        Row: {
          color: string | null
          company_id: string
          created_at: string | null
          description: string | null
          icon: string | null
          id: string
          is_default: boolean | null
          name: string
          slug: string
          sort_order: number | null
          updated_at: string | null
        }
        Insert: {
          color?: string | null
          company_id: string
          created_at?: string | null
          description?: string | null
          icon?: string | null
          id?: string
          is_default?: boolean | null
          name: string
          slug: string
          sort_order?: number | null
          updated_at?: string | null
        }
        Update: {
          color?: string | null
          company_id?: string
          created_at?: string | null
          description?: string | null
          icon?: string | null
          id?: string
          is_default?: boolean | null
          name?: string
          slug?: string
          sort_order?: number | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "pin_board_categories_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "pin_board_categories_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      pin_board_posts: {
        Row: {
          category_id: string | null
          company_id: string
          content: string | null
          created_at: string | null
          created_by: string | null
          excerpt: string | null
          id: string
          is_pinned: boolean | null
          is_published: boolean | null
          priority: number | null
          published_at: string | null
          title: string
          updated_at: string | null
          updated_by: string | null
          version: number | null
        }
        Insert: {
          category_id?: string | null
          company_id: string
          content?: string | null
          created_at?: string | null
          created_by?: string | null
          excerpt?: string | null
          id?: string
          is_pinned?: boolean | null
          is_published?: boolean | null
          priority?: number | null
          published_at?: string | null
          title: string
          updated_at?: string | null
          updated_by?: string | null
          version?: number | null
        }
        Update: {
          category_id?: string | null
          company_id?: string
          content?: string | null
          created_at?: string | null
          created_by?: string | null
          excerpt?: string | null
          id?: string
          is_pinned?: boolean | null
          is_published?: boolean | null
          priority?: number | null
          published_at?: string | null
          title?: string
          updated_at?: string | null
          updated_by?: string | null
          version?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "pin_board_posts_category_id_fkey"
            columns: ["category_id"]
            isOneToOne: false
            referencedRelation: "pin_board_categories"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "pin_board_posts_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "pin_board_posts_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      pin_board_views: {
        Row: {
          company_id: string
          id: string
          post_id: string
          user_id: string
          viewed_at: string | null
        }
        Insert: {
          company_id: string
          id?: string
          post_id: string
          user_id: string
          viewed_at?: string | null
        }
        Update: {
          company_id?: string
          id?: string
          post_id?: string
          user_id?: string
          viewed_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "pin_board_views_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "pin_board_views_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "pin_board_views_post_id_fkey"
            columns: ["post_id"]
            isOneToOne: false
            referencedRelation: "pin_board_posts"
            referencedColumns: ["id"]
          },
        ]
      }
      po_settings: {
        Row: {
          approval_threshold: number | null
          approvers: Json | null
          auto_generate_enabled: boolean
          auto_generate_threshold: number | null
          company_id: string
          created_at: string
          default_vendors: Json | null
          enabled: boolean
          id: string
          notification_emails: Json | null
          require_approval: boolean
          updated_at: string
        }
        Insert: {
          approval_threshold?: number | null
          approvers?: Json | null
          auto_generate_enabled?: boolean
          auto_generate_threshold?: number | null
          company_id: string
          created_at?: string
          default_vendors?: Json | null
          enabled?: boolean
          id?: string
          notification_emails?: Json | null
          require_approval?: boolean
          updated_at?: string
        }
        Update: {
          approval_threshold?: number | null
          approvers?: Json | null
          auto_generate_enabled?: boolean
          auto_generate_threshold?: number | null
          company_id?: string
          created_at?: string
          default_vendors?: Json | null
          enabled?: boolean
          id?: string
          notification_emails?: Json | null
          require_approval?: boolean
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "po_settings_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "po_settings_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      posts: {
        Row: {
          author_id: string
          content: string
          created_at: string
          id: string
          published: string
          title: string
          updated_at: string
        }
        Insert: {
          author_id: string
          content: string
          created_at?: string
          id?: string
          published?: string
          title: string
          updated_at?: string
        }
        Update: {
          author_id?: string
          content?: string
          created_at?: string
          id?: string
          published?: string
          title?: string
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "posts_author_id_users_id_fk"
            columns: ["author_id"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      price_book_categories: {
        Row: {
          color: string | null
          company_id: string
          created_at: string
          descendant_item_count: number
          description: string | null
          icon: string | null
          id: string
          is_active: boolean
          item_count: number
          level: number
          name: string
          parent_id: string | null
          path: string
          slug: string
          sort_order: number
          updated_at: string
        }
        Insert: {
          color?: string | null
          company_id: string
          created_at?: string
          descendant_item_count?: number
          description?: string | null
          icon?: string | null
          id?: string
          is_active?: boolean
          item_count?: number
          level?: number
          name: string
          parent_id?: string | null
          path: string
          slug: string
          sort_order?: number
          updated_at?: string
        }
        Update: {
          color?: string | null
          company_id?: string
          created_at?: string
          descendant_item_count?: number
          description?: string | null
          icon?: string | null
          id?: string
          is_active?: boolean
          item_count?: number
          level?: number
          name?: string
          parent_id?: string | null
          path?: string
          slug?: string
          sort_order?: number
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "price_book_categories_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "price_book_categories_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "price_book_categories_parent_id_price_book_categories_id_fk"
            columns: ["parent_id"]
            isOneToOne: false
            referencedRelation: "price_book_categories"
            referencedColumns: ["id"]
          },
        ]
      }
      price_book_items: {
        Row: {
          category: string | null
          category_id: string
          company_id: string
          cost: number | null
          created_at: string
          description: string | null
          documents: Json | null
          id: string
          image_url: string | null
          images: Json | null
          is_active: boolean
          is_taxable: boolean
          item_type: string
          markup_percent: number | null
          metadata: Json | null
          minimum_quantity: number | null
          name: string
          notes: string | null
          price: number
          search_vector: unknown
          sku: string | null
          subcategory: string | null
          supplier_id: string | null
          supplier_last_sync_at: string | null
          supplier_sku: string | null
          tags: Json | null
          unit: string
          updated_at: string
        }
        Insert: {
          category?: string | null
          category_id: string
          company_id: string
          cost?: number | null
          created_at?: string
          description?: string | null
          documents?: Json | null
          id?: string
          image_url?: string | null
          images?: Json | null
          is_active?: boolean
          is_taxable?: boolean
          item_type: string
          markup_percent?: number | null
          metadata?: Json | null
          minimum_quantity?: number | null
          name: string
          notes?: string | null
          price?: number
          search_vector?: unknown
          sku?: string | null
          subcategory?: string | null
          supplier_id?: string | null
          supplier_last_sync_at?: string | null
          supplier_sku?: string | null
          tags?: Json | null
          unit?: string
          updated_at?: string
        }
        Update: {
          category?: string | null
          category_id?: string
          company_id?: string
          cost?: number | null
          created_at?: string
          description?: string | null
          documents?: Json | null
          id?: string
          image_url?: string | null
          images?: Json | null
          is_active?: boolean
          is_taxable?: boolean
          item_type?: string
          markup_percent?: number | null
          metadata?: Json | null
          minimum_quantity?: number | null
          name?: string
          notes?: string | null
          price?: number
          search_vector?: unknown
          sku?: string | null
          subcategory?: string | null
          supplier_id?: string | null
          supplier_last_sync_at?: string | null
          supplier_sku?: string | null
          tags?: Json | null
          unit?: string
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "price_book_items_category_id_price_book_categories_id_fk"
            columns: ["category_id"]
            isOneToOne: false
            referencedRelation: "price_book_categories"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "price_book_items_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "price_book_items_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "price_book_items_supplier_id_supplier_integrations_id_fk"
            columns: ["supplier_id"]
            isOneToOne: false
            referencedRelation: "supplier_integrations"
            referencedColumns: ["id"]
          },
        ]
      }
      price_history: {
        Row: {
          change_reason: string | null
          change_type: string
          changed_by: string | null
          company_id: string
          created_at: string
          effective_date: string
          id: string
          item_id: string
          new_cost: number | null
          new_markup_percent: number | null
          new_price: number | null
          old_cost: number | null
          old_markup_percent: number | null
          old_price: number | null
        }
        Insert: {
          change_reason?: string | null
          change_type: string
          changed_by?: string | null
          company_id: string
          created_at?: string
          effective_date?: string
          id?: string
          item_id: string
          new_cost?: number | null
          new_markup_percent?: number | null
          new_price?: number | null
          old_cost?: number | null
          old_markup_percent?: number | null
          old_price?: number | null
        }
        Update: {
          change_reason?: string | null
          change_type?: string
          changed_by?: string | null
          company_id?: string
          created_at?: string
          effective_date?: string
          id?: string
          item_id?: string
          new_cost?: number | null
          new_markup_percent?: number | null
          new_price?: number | null
          old_cost?: number | null
          old_markup_percent?: number | null
          old_price?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "price_history_changed_by_users_id_fk"
            columns: ["changed_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "price_history_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "price_history_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "price_history_item_id_price_book_items_id_fk"
            columns: ["item_id"]
            isOneToOne: false
            referencedRelation: "price_book_items"
            referencedColumns: ["id"]
          },
        ]
      }
      pricebook_settings: {
        Row: {
          allow_custom_items: boolean | null
          company_id: string
          created_at: string | null
          id: string
          markup_default_percentage: number | null
          require_approval_for_custom: boolean | null
          require_categories: boolean | null
          show_cost_prices: boolean | null
          show_item_codes: boolean | null
          show_item_descriptions: boolean | null
          updated_at: string | null
        }
        Insert: {
          allow_custom_items?: boolean | null
          company_id: string
          created_at?: string | null
          id?: string
          markup_default_percentage?: number | null
          require_approval_for_custom?: boolean | null
          require_categories?: boolean | null
          show_cost_prices?: boolean | null
          show_item_codes?: boolean | null
          show_item_descriptions?: boolean | null
          updated_at?: string | null
        }
        Update: {
          allow_custom_items?: boolean | null
          company_id?: string
          created_at?: string | null
          id?: string
          markup_default_percentage?: number | null
          require_approval_for_custom?: boolean | null
          require_categories?: boolean | null
          show_cost_prices?: boolean | null
          show_item_codes?: boolean | null
          show_item_descriptions?: boolean | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "pricebook_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "pricebook_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      pricing_rules: {
        Row: {
          adjustment_type: string
          adjustment_value: number
          applies_to: string
          category_filter: Json | null
          company_id: string
          created_at: string
          days_of_week: Json | null
          description: string | null
          id: string
          is_active: boolean
          item_filter: Json | null
          metadata: Json | null
          name: string
          priority: number
          rule_type: string
          time_ranges: Json | null
          updated_at: string
          valid_from: string | null
          valid_until: string | null
        }
        Insert: {
          adjustment_type: string
          adjustment_value: number
          applies_to: string
          category_filter?: Json | null
          company_id: string
          created_at?: string
          days_of_week?: Json | null
          description?: string | null
          id?: string
          is_active?: boolean
          item_filter?: Json | null
          metadata?: Json | null
          name: string
          priority?: number
          rule_type: string
          time_ranges?: Json | null
          updated_at?: string
          valid_from?: string | null
          valid_until?: string | null
        }
        Update: {
          adjustment_type?: string
          adjustment_value?: number
          applies_to?: string
          category_filter?: Json | null
          company_id?: string
          created_at?: string
          days_of_week?: Json | null
          description?: string | null
          id?: string
          is_active?: boolean
          item_filter?: Json | null
          metadata?: Json | null
          name?: string
          priority?: number
          rule_type?: string
          time_ranges?: Json | null
          updated_at?: string
          valid_from?: string | null
          valid_until?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "pricing_rules_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "pricing_rules_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      profiles: {
        Row: {
          avatar_url: string | null
          bio: string | null
          created_at: string | null
          email: string
          full_name: string | null
          id: string
          phone: string | null
          updated_at: string | null
        }
        Insert: {
          avatar_url?: string | null
          bio?: string | null
          created_at?: string | null
          email: string
          full_name?: string | null
          id: string
          phone?: string | null
          updated_at?: string | null
        }
        Update: {
          avatar_url?: string | null
          bio?: string | null
          created_at?: string | null
          email?: string
          full_name?: string | null
          id?: string
          phone?: string | null
          updated_at?: string | null
        }
        Relationships: []
      }
      profiles_legacy: {
        Row: {
          active_company_id: string | null
          created_at: string | null
          id: string
          onboarding_completed: boolean | null
          updated_at: string | null
        }
        Insert: {
          active_company_id?: string | null
          created_at?: string | null
          id: string
          onboarding_completed?: boolean | null
          updated_at?: string | null
        }
        Update: {
          active_company_id?: string | null
          created_at?: string | null
          id?: string
          onboarding_completed?: boolean | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "profiles_legacy_active_company_id_fkey"
            columns: ["active_company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "profiles_legacy_active_company_id_fkey"
            columns: ["active_company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      properties: {
        Row: {
          address: string
          address2: string | null
          archived_at: string | null
          best_access_time: string | null
          city: string
          company_id: string
          country: string
          created_at: string
          created_by: string | null
          customer_id: string | null
          deleted_at: string | null
          deleted_by: string | null
          directions: string | null
          id: string
          lat: number | null
          lon: number | null
          metadata: Json | null
          name: string
          notes: string | null
          parking_instructions: string | null
          permanent_delete_scheduled_at: string | null
          primary_contact_id: string | null
          property_type: string | null
          requires_appointment: boolean | null
          search_vector: unknown
          service_entrance_notes: string | null
          square_footage: number | null
          state: string
          updated_at: string
          updated_by: string | null
          year_built: number | null
          zip_code: string
        }
        Insert: {
          address: string
          address2?: string | null
          archived_at?: string | null
          best_access_time?: string | null
          city: string
          company_id: string
          country?: string
          created_at?: string
          created_by?: string | null
          customer_id?: string | null
          deleted_at?: string | null
          deleted_by?: string | null
          directions?: string | null
          id?: string
          lat?: number | null
          lon?: number | null
          metadata?: Json | null
          name: string
          notes?: string | null
          parking_instructions?: string | null
          permanent_delete_scheduled_at?: string | null
          primary_contact_id?: string | null
          property_type?: string | null
          requires_appointment?: boolean | null
          search_vector?: unknown
          service_entrance_notes?: string | null
          square_footage?: number | null
          state: string
          updated_at?: string
          updated_by?: string | null
          year_built?: number | null
          zip_code: string
        }
        Update: {
          address?: string
          address2?: string | null
          archived_at?: string | null
          best_access_time?: string | null
          city?: string
          company_id?: string
          country?: string
          created_at?: string
          created_by?: string | null
          customer_id?: string | null
          deleted_at?: string | null
          deleted_by?: string | null
          directions?: string | null
          id?: string
          lat?: number | null
          lon?: number | null
          metadata?: Json | null
          name?: string
          notes?: string | null
          parking_instructions?: string | null
          permanent_delete_scheduled_at?: string | null
          primary_contact_id?: string | null
          property_type?: string | null
          requires_appointment?: boolean | null
          search_vector?: unknown
          service_entrance_notes?: string | null
          square_footage?: number | null
          state?: string
          updated_at?: string
          updated_by?: string | null
          year_built?: number | null
          zip_code?: string
        }
        Relationships: [
          {
            foreignKeyName: "properties_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "properties_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "properties_created_by_fkey"
            columns: ["created_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "properties_customer_id_customers_id_fk"
            columns: ["customer_id"]
            isOneToOne: false
            referencedRelation: "customers"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "properties_deleted_by_fkey"
            columns: ["deleted_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "properties_primary_contact_id_fkey"
            columns: ["primary_contact_id"]
            isOneToOne: false
            referencedRelation: "customers"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "properties_updated_by_fkey"
            columns: ["updated_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      property_tags: {
        Row: {
          created_at: string
          property_id: string
          tag_id: string
        }
        Insert: {
          created_at?: string
          property_id: string
          tag_id: string
        }
        Update: {
          created_at?: string
          property_id?: string
          tag_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "property_tags_property_id_fkey"
            columns: ["property_id"]
            isOneToOne: false
            referencedRelation: "properties"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "property_tags_tag_id_fkey"
            columns: ["tag_id"]
            isOneToOne: false
            referencedRelation: "tags"
            referencedColumns: ["id"]
          },
        ]
      }
      purchase_order_tags: {
        Row: {
          created_at: string
          purchase_order_id: string
          tag_id: string
        }
        Insert: {
          created_at?: string
          purchase_order_id: string
          tag_id: string
        }
        Update: {
          created_at?: string
          purchase_order_id?: string
          tag_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "purchase_order_tags_purchase_order_id_fkey"
            columns: ["purchase_order_id"]
            isOneToOne: false
            referencedRelation: "purchase_orders"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "purchase_order_tags_tag_id_fkey"
            columns: ["tag_id"]
            isOneToOne: false
            referencedRelation: "tags"
            referencedColumns: ["id"]
          },
        ]
      }
      purchase_orders: {
        Row: {
          actual_delivery: string | null
          approved_at: string | null
          approved_by: string | null
          archived_at: string | null
          auto_generated: boolean
          company_id: string
          created_at: string
          created_by: string | null
          delivery_address: string | null
          description: string | null
          estimate_id: string | null
          expected_delivery: string | null
          id: string
          internal_notes: string | null
          invoice_id: string | null
          job_id: string | null
          line_items: Json
          notes: string | null
          ordered_at: string | null
          po_number: string
          priority: string
          received_at: string | null
          requested_by: string
          shipping_amount: number
          status: string
          subtotal: number
          tax_amount: number
          title: string
          total_amount: number
          updated_at: string
          updated_by: string | null
          vendor: string
          vendor_email: string | null
          vendor_id: string | null
          vendor_phone: string | null
        }
        Insert: {
          actual_delivery?: string | null
          approved_at?: string | null
          approved_by?: string | null
          archived_at?: string | null
          auto_generated?: boolean
          company_id: string
          created_at?: string
          created_by?: string | null
          delivery_address?: string | null
          description?: string | null
          estimate_id?: string | null
          expected_delivery?: string | null
          id?: string
          internal_notes?: string | null
          invoice_id?: string | null
          job_id?: string | null
          line_items: Json
          notes?: string | null
          ordered_at?: string | null
          po_number: string
          priority?: string
          received_at?: string | null
          requested_by: string
          shipping_amount?: number
          status?: string
          subtotal?: number
          tax_amount?: number
          title: string
          total_amount?: number
          updated_at?: string
          updated_by?: string | null
          vendor: string
          vendor_email?: string | null
          vendor_id?: string | null
          vendor_phone?: string | null
        }
        Update: {
          actual_delivery?: string | null
          approved_at?: string | null
          approved_by?: string | null
          archived_at?: string | null
          auto_generated?: boolean
          company_id?: string
          created_at?: string
          created_by?: string | null
          delivery_address?: string | null
          description?: string | null
          estimate_id?: string | null
          expected_delivery?: string | null
          id?: string
          internal_notes?: string | null
          invoice_id?: string | null
          job_id?: string | null
          line_items?: Json
          notes?: string | null
          ordered_at?: string | null
          po_number?: string
          priority?: string
          received_at?: string | null
          requested_by?: string
          shipping_amount?: number
          status?: string
          subtotal?: number
          tax_amount?: number
          title?: string
          total_amount?: number
          updated_at?: string
          updated_by?: string | null
          vendor?: string
          vendor_email?: string | null
          vendor_id?: string | null
          vendor_phone?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "purchase_orders_approved_by_users_id_fk"
            columns: ["approved_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "purchase_orders_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "purchase_orders_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "purchase_orders_created_by_fkey"
            columns: ["created_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "purchase_orders_estimate_id_estimates_id_fk"
            columns: ["estimate_id"]
            isOneToOne: false
            referencedRelation: "estimates"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "purchase_orders_invoice_id_invoices_id_fk"
            columns: ["invoice_id"]
            isOneToOne: false
            referencedRelation: "invoices"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "purchase_orders_job_id_jobs_id_fk"
            columns: ["job_id"]
            isOneToOne: false
            referencedRelation: "jobs"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "purchase_orders_requested_by_users_id_fk"
            columns: ["requested_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "purchase_orders_updated_by_fkey"
            columns: ["updated_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "purchase_orders_vendor_id_fkey"
            columns: ["vendor_id"]
            isOneToOne: false
            referencedRelation: "vendors"
            referencedColumns: ["id"]
          },
        ]
      }
      push_subscriptions: {
        Row: {
          auth: string
          company_id: string
          created_at: string
          device_name: string | null
          device_type: string | null
          endpoint: string
          id: string
          is_active: boolean
          last_used_at: string
          p256dh: string
          user_agent: string | null
          user_id: string
        }
        Insert: {
          auth: string
          company_id: string
          created_at?: string
          device_name?: string | null
          device_type?: string | null
          endpoint: string
          id?: string
          is_active?: boolean
          last_used_at?: string
          p256dh: string
          user_agent?: string | null
          user_id: string
        }
        Update: {
          auth?: string
          company_id?: string
          created_at?: string
          device_name?: string | null
          device_type?: string | null
          endpoint?: string
          id?: string
          is_active?: boolean
          last_used_at?: string
          p256dh?: string
          user_agent?: string | null
          user_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "push_subscriptions_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "push_subscriptions_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      recurring_invoices: {
        Row: {
          auto_send: boolean | null
          auto_send_days_before: number | null
          cancellation_reason: string | null
          cancelled_at: string | null
          company_id: string
          completed_at: string | null
          created_at: string
          customer_id: string
          deleted_at: string | null
          due_days_offset: number | null
          end_date: string | null
          failed_generations: number | null
          id: string
          invoice_template_id: string | null
          last_error: string | null
          last_invoice_date: string | null
          line_items: Json | null
          max_occurrences: number | null
          next_invoice_date: string
          notes: string | null
          occurrences_created: number | null
          pause_reason: string | null
          paused_at: string | null
          payment_terms: string | null
          recurrence_frequency: string
          recurrence_name: string
          recurring_amount: number
          service_plan_id: string | null
          start_date: string
          status: string
          total_amount_billed: number | null
          total_invoices_created: number | null
          updated_at: string
        }
        Insert: {
          auto_send?: boolean | null
          auto_send_days_before?: number | null
          cancellation_reason?: string | null
          cancelled_at?: string | null
          company_id: string
          completed_at?: string | null
          created_at?: string
          customer_id: string
          deleted_at?: string | null
          due_days_offset?: number | null
          end_date?: string | null
          failed_generations?: number | null
          id?: string
          invoice_template_id?: string | null
          last_error?: string | null
          last_invoice_date?: string | null
          line_items?: Json | null
          max_occurrences?: number | null
          next_invoice_date: string
          notes?: string | null
          occurrences_created?: number | null
          pause_reason?: string | null
          paused_at?: string | null
          payment_terms?: string | null
          recurrence_frequency: string
          recurrence_name: string
          recurring_amount: number
          service_plan_id?: string | null
          start_date: string
          status?: string
          total_amount_billed?: number | null
          total_invoices_created?: number | null
          updated_at?: string
        }
        Update: {
          auto_send?: boolean | null
          auto_send_days_before?: number | null
          cancellation_reason?: string | null
          cancelled_at?: string | null
          company_id?: string
          completed_at?: string | null
          created_at?: string
          customer_id?: string
          deleted_at?: string | null
          due_days_offset?: number | null
          end_date?: string | null
          failed_generations?: number | null
          id?: string
          invoice_template_id?: string | null
          last_error?: string | null
          last_invoice_date?: string | null
          line_items?: Json | null
          max_occurrences?: number | null
          next_invoice_date?: string
          notes?: string | null
          occurrences_created?: number | null
          pause_reason?: string | null
          paused_at?: string | null
          payment_terms?: string | null
          recurrence_frequency?: string
          recurrence_name?: string
          recurring_amount?: number
          service_plan_id?: string | null
          start_date?: string
          status?: string
          total_amount_billed?: number | null
          total_invoices_created?: number | null
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "recurring_invoices_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "recurring_invoices_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "recurring_invoices_customer_id_fkey"
            columns: ["customer_id"]
            isOneToOne: false
            referencedRelation: "customers"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "recurring_invoices_invoice_template_id_fkey"
            columns: ["invoice_template_id"]
            isOneToOne: false
            referencedRelation: "invoice_templates"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "recurring_invoices_service_plan_id_fkey"
            columns: ["service_plan_id"]
            isOneToOne: false
            referencedRelation: "service_plans"
            referencedColumns: ["id"]
          },
        ]
      }
      resource_item_tags: {
        Row: {
          resource_item_id: string
          tag_id: string
        }
        Insert: {
          resource_item_id: string
          tag_id: string
        }
        Update: {
          resource_item_id?: string
          tag_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "resource_item_tags_resource_item_id_fkey"
            columns: ["resource_item_id"]
            isOneToOne: false
            referencedRelation: "resource_items"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "resource_item_tags_tag_id_fkey"
            columns: ["tag_id"]
            isOneToOne: false
            referencedRelation: "content_tags"
            referencedColumns: ["id"]
          },
        ]
      }
      resource_items: {
        Row: {
          author_id: string | null
          content: string | null
          created_at: string
          cta_label: string | null
          cta_url: string | null
          description: string | null
          download_url: string | null
          event_end_at: string | null
          event_start_at: string | null
          excerpt: string | null
          featured: boolean
          hero_image_url: string | null
          id: string
          metadata: Json
          published_at: string | null
          registration_url: string | null
          search_vector: unknown
          seo_description: string | null
          seo_keywords: string[] | null
          seo_title: string | null
          slug: string
          status: Database["public"]["Enums"]["content_status"]
          title: string
          type: Database["public"]["Enums"]["resource_type"]
          updated_at: string
        }
        Insert: {
          author_id?: string | null
          content?: string | null
          created_at?: string
          cta_label?: string | null
          cta_url?: string | null
          description?: string | null
          download_url?: string | null
          event_end_at?: string | null
          event_start_at?: string | null
          excerpt?: string | null
          featured?: boolean
          hero_image_url?: string | null
          id?: string
          metadata?: Json
          published_at?: string | null
          registration_url?: string | null
          search_vector?: unknown
          seo_description?: string | null
          seo_keywords?: string[] | null
          seo_title?: string | null
          slug: string
          status?: Database["public"]["Enums"]["content_status"]
          title: string
          type: Database["public"]["Enums"]["resource_type"]
          updated_at?: string
        }
        Update: {
          author_id?: string | null
          content?: string | null
          created_at?: string
          cta_label?: string | null
          cta_url?: string | null
          description?: string | null
          download_url?: string | null
          event_end_at?: string | null
          event_start_at?: string | null
          excerpt?: string | null
          featured?: boolean
          hero_image_url?: string | null
          id?: string
          metadata?: Json
          published_at?: string | null
          registration_url?: string | null
          search_vector?: unknown
          seo_description?: string | null
          seo_keywords?: string[] | null
          seo_title?: string | null
          slug?: string
          status?: Database["public"]["Enums"]["content_status"]
          title?: string
          type?: Database["public"]["Enums"]["resource_type"]
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "resource_items_author_id_fkey"
            columns: ["author_id"]
            isOneToOne: false
            referencedRelation: "blog_authors"
            referencedColumns: ["id"]
          },
        ]
      }
      role_change_log: {
        Row: {
          changed_by: string
          created_at: string | null
          id: string
          new_role: Database["public"]["Enums"]["user_role"]
          old_role: Database["public"]["Enums"]["user_role"] | null
          reason: string | null
          team_member_id: string
        }
        Insert: {
          changed_by: string
          created_at?: string | null
          id?: string
          new_role: Database["public"]["Enums"]["user_role"]
          old_role?: Database["public"]["Enums"]["user_role"] | null
          reason?: string | null
          team_member_id: string
        }
        Update: {
          changed_by?: string
          created_at?: string | null
          id?: string
          new_role?: Database["public"]["Enums"]["user_role"]
          old_role?: Database["public"]["Enums"]["user_role"] | null
          reason?: string | null
          team_member_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "role_change_log_changed_by_fkey"
            columns: ["changed_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "role_change_log_team_member_id_fkey"
            columns: ["team_member_id"]
            isOneToOne: false
            referencedRelation: "team_members"
            referencedColumns: ["id"]
          },
        ]
      }
      role_view_preferences: {
        Row: {
          company_id: string
          created_at: string | null
          default_view: string | null
          id: string
          role_id: string
          tab_order: Json | null
          updated_at: string | null
          view_density: string | null
          visible_tabs: Json | null
          work_section_order: Json | null
          work_sections: Json | null
        }
        Insert: {
          company_id: string
          created_at?: string | null
          default_view?: string | null
          id?: string
          role_id: string
          tab_order?: Json | null
          updated_at?: string | null
          view_density?: string | null
          visible_tabs?: Json | null
          work_section_order?: Json | null
          work_sections?: Json | null
        }
        Update: {
          company_id?: string
          created_at?: string | null
          default_view?: string | null
          id?: string
          role_id?: string
          tab_order?: Json | null
          updated_at?: string | null
          view_density?: string | null
          visible_tabs?: Json | null
          work_section_order?: Json | null
          work_sections?: Json | null
        }
        Relationships: [
          {
            foreignKeyName: "role_view_preferences_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "role_view_preferences_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "role_view_preferences_role_id_fkey"
            columns: ["role_id"]
            isOneToOne: false
            referencedRelation: "company_role_stats"
            referencedColumns: ["role_id"]
          },
          {
            foreignKeyName: "role_view_preferences_role_id_fkey"
            columns: ["role_id"]
            isOneToOne: false
            referencedRelation: "custom_roles"
            referencedColumns: ["id"]
          },
        ]
      }
      schedule_availability_settings: {
        Row: {
          buffer_time_minutes: number | null
          company_id: string
          created_at: string | null
          default_appointment_duration_minutes: number | null
          default_work_hours: Json
          id: string
          lunch_break_duration_minutes: number | null
          lunch_break_enabled: boolean | null
          lunch_break_start: string | null
          max_booking_advance_days: number | null
          min_booking_notice_hours: number | null
          updated_at: string | null
        }
        Insert: {
          buffer_time_minutes?: number | null
          company_id: string
          created_at?: string | null
          default_appointment_duration_minutes?: number | null
          default_work_hours?: Json
          id?: string
          lunch_break_duration_minutes?: number | null
          lunch_break_enabled?: boolean | null
          lunch_break_start?: string | null
          max_booking_advance_days?: number | null
          min_booking_notice_hours?: number | null
          updated_at?: string | null
        }
        Update: {
          buffer_time_minutes?: number | null
          company_id?: string
          created_at?: string | null
          default_appointment_duration_minutes?: number | null
          default_work_hours?: Json
          id?: string
          lunch_break_duration_minutes?: number | null
          lunch_break_enabled?: boolean | null
          lunch_break_start?: string | null
          max_booking_advance_days?: number | null
          min_booking_notice_hours?: number | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "schedule_availability_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "schedule_availability_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      schedule_calendar_settings: {
        Row: {
          company_id: string
          created_at: string | null
          default_view: string | null
          id: string
          show_customer_name: boolean | null
          show_job_status_colors: boolean | null
          show_job_type: boolean | null
          show_technician_colors: boolean | null
          show_travel_time: boolean | null
          start_day_of_week: number | null
          sync_with_google_calendar: boolean | null
          sync_with_outlook: boolean | null
          time_slot_duration_minutes: number | null
          updated_at: string | null
        }
        Insert: {
          company_id: string
          created_at?: string | null
          default_view?: string | null
          id?: string
          show_customer_name?: boolean | null
          show_job_status_colors?: boolean | null
          show_job_type?: boolean | null
          show_technician_colors?: boolean | null
          show_travel_time?: boolean | null
          start_day_of_week?: number | null
          sync_with_google_calendar?: boolean | null
          sync_with_outlook?: boolean | null
          time_slot_duration_minutes?: number | null
          updated_at?: string | null
        }
        Update: {
          company_id?: string
          created_at?: string | null
          default_view?: string | null
          id?: string
          show_customer_name?: boolean | null
          show_job_status_colors?: boolean | null
          show_job_type?: boolean | null
          show_technician_colors?: boolean | null
          show_travel_time?: boolean | null
          start_day_of_week?: number | null
          sync_with_google_calendar?: boolean | null
          sync_with_outlook?: boolean | null
          time_slot_duration_minutes?: number | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "schedule_calendar_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "schedule_calendar_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      schedule_dispatch_rules: {
        Row: {
          actions: Json | null
          assignment_method: string | null
          company_id: string
          conditions: Json
          created_at: string | null
          id: string
          is_active: boolean | null
          priority: number | null
          rule_name: string
          updated_at: string | null
        }
        Insert: {
          actions?: Json | null
          assignment_method?: string | null
          company_id: string
          conditions?: Json
          created_at?: string | null
          id?: string
          is_active?: boolean | null
          priority?: number | null
          rule_name: string
          updated_at?: string | null
        }
        Update: {
          actions?: Json | null
          assignment_method?: string | null
          company_id?: string
          conditions?: Json
          created_at?: string | null
          id?: string
          is_active?: boolean | null
          priority?: number | null
          rule_name?: string
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "schedule_dispatch_rules_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "schedule_dispatch_rules_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      schedule_service_areas: {
        Row: {
          area_name: string
          area_type: string | null
          center_lat: number | null
          center_lng: number | null
          company_id: string
          created_at: string | null
          estimated_travel_time_minutes: number | null
          id: string
          is_active: boolean | null
          minimum_job_amount: number | null
          polygon_coordinates: Json | null
          radius_miles: number | null
          service_fee: number | null
          updated_at: string | null
          zip_codes: string[] | null
        }
        Insert: {
          area_name: string
          area_type?: string | null
          center_lat?: number | null
          center_lng?: number | null
          company_id: string
          created_at?: string | null
          estimated_travel_time_minutes?: number | null
          id?: string
          is_active?: boolean | null
          minimum_job_amount?: number | null
          polygon_coordinates?: Json | null
          radius_miles?: number | null
          service_fee?: number | null
          updated_at?: string | null
          zip_codes?: string[] | null
        }
        Update: {
          area_name?: string
          area_type?: string | null
          center_lat?: number | null
          center_lng?: number | null
          company_id?: string
          created_at?: string | null
          estimated_travel_time_minutes?: number | null
          id?: string
          is_active?: boolean | null
          minimum_job_amount?: number | null
          polygon_coordinates?: Json | null
          radius_miles?: number | null
          service_fee?: number | null
          updated_at?: string | null
          zip_codes?: string[] | null
        }
        Relationships: [
          {
            foreignKeyName: "schedule_service_areas_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "schedule_service_areas_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      schedule_team_rules: {
        Row: {
          allow_overtime: boolean | null
          balance_workload: boolean | null
          break_after_hours: number | null
          break_duration_minutes: number | null
          company_id: string
          created_at: string | null
          id: string
          max_jobs_per_day: number | null
          max_jobs_per_week: number | null
          max_travel_time_minutes: number | null
          optimize_for_travel_time: boolean | null
          prefer_same_technician: boolean | null
          require_breaks: boolean | null
          updated_at: string | null
        }
        Insert: {
          allow_overtime?: boolean | null
          balance_workload?: boolean | null
          break_after_hours?: number | null
          break_duration_minutes?: number | null
          company_id: string
          created_at?: string | null
          id?: string
          max_jobs_per_day?: number | null
          max_jobs_per_week?: number | null
          max_travel_time_minutes?: number | null
          optimize_for_travel_time?: boolean | null
          prefer_same_technician?: boolean | null
          require_breaks?: boolean | null
          updated_at?: string | null
        }
        Update: {
          allow_overtime?: boolean | null
          balance_workload?: boolean | null
          break_after_hours?: number | null
          break_duration_minutes?: number | null
          company_id?: string
          created_at?: string | null
          id?: string
          max_jobs_per_day?: number | null
          max_jobs_per_week?: number | null
          max_travel_time_minutes?: number | null
          optimize_for_travel_time?: boolean | null
          prefer_same_technician?: boolean | null
          require_breaks?: boolean | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "schedule_team_rules_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "schedule_team_rules_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      scheduled_emails: {
        Row: {
          attempt_count: number
          body: string | null
          company_id: string
          created_at: string
          email_type: string
          entity_id: string
          entity_type: string
          error_message: string | null
          id: string
          last_error_at: string | null
          max_attempts: number
          metadata: Json | null
          recipient_email: string
          recipient_name: string | null
          scheduled_at: string
          sent_at: string | null
          status: string
          subject: string | null
          updated_at: string
        }
        Insert: {
          attempt_count?: number
          body?: string | null
          company_id: string
          created_at?: string
          email_type: string
          entity_id: string
          entity_type: string
          error_message?: string | null
          id?: string
          last_error_at?: string | null
          max_attempts?: number
          metadata?: Json | null
          recipient_email: string
          recipient_name?: string | null
          scheduled_at: string
          sent_at?: string | null
          status?: string
          subject?: string | null
          updated_at?: string
        }
        Update: {
          attempt_count?: number
          body?: string | null
          company_id?: string
          created_at?: string
          email_type?: string
          entity_id?: string
          entity_type?: string
          error_message?: string | null
          id?: string
          last_error_at?: string | null
          max_attempts?: number
          metadata?: Json | null
          recipient_email?: string
          recipient_name?: string | null
          scheduled_at?: string
          sent_at?: string | null
          status?: string
          subject?: string | null
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "scheduled_emails_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "scheduled_emails_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      scheduled_exports: {
        Row: {
          active: boolean | null
          company_id: string | null
          created_at: string | null
          data_type: string
          email_to: string[] | null
          filters: Json | null
          format: string
          id: string
          last_run_at: string | null
          next_run_at: string | null
          schedule: string
          updated_at: string | null
          user_id: string | null
        }
        Insert: {
          active?: boolean | null
          company_id?: string | null
          created_at?: string | null
          data_type: string
          email_to?: string[] | null
          filters?: Json | null
          format: string
          id?: string
          last_run_at?: string | null
          next_run_at?: string | null
          schedule: string
          updated_at?: string | null
          user_id?: string | null
        }
        Update: {
          active?: boolean | null
          company_id?: string | null
          created_at?: string | null
          data_type?: string
          email_to?: string[] | null
          filters?: Json | null
          format?: string
          id?: string
          last_run_at?: string | null
          next_run_at?: string | null
          schedule?: string
          updated_at?: string | null
          user_id?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "scheduled_exports_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "scheduled_exports_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      scheduled_notifications: {
        Row: {
          channel: string
          company_id: string
          created_at: string | null
          created_by: string | null
          error_message: string | null
          id: string
          message: string
          recipient_email: string | null
          recipient_id: string
          recipient_name: string | null
          recipient_phone: string | null
          recipient_type: string
          related_id: string | null
          related_type: string | null
          send_at: string
          sent_at: string | null
          status: string
          subject: string | null
          updated_at: string | null
        }
        Insert: {
          channel: string
          company_id: string
          created_at?: string | null
          created_by?: string | null
          error_message?: string | null
          id?: string
          message: string
          recipient_email?: string | null
          recipient_id: string
          recipient_name?: string | null
          recipient_phone?: string | null
          recipient_type: string
          related_id?: string | null
          related_type?: string | null
          send_at: string
          sent_at?: string | null
          status?: string
          subject?: string | null
          updated_at?: string | null
        }
        Update: {
          channel?: string
          company_id?: string
          created_at?: string | null
          created_by?: string | null
          error_message?: string | null
          id?: string
          message?: string
          recipient_email?: string | null
          recipient_id?: string
          recipient_name?: string | null
          recipient_phone?: string | null
          recipient_type?: string
          related_id?: string | null
          related_type?: string | null
          send_at?: string
          sent_at?: string | null
          status?: string
          subject?: string | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "scheduled_notifications_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "scheduled_notifications_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      security_audit_logs: {
        Row: {
          action: string | null
          created_at: string
          error_message: string | null
          event_type: string
          id: string
          ip_address: unknown
          metadata: Json | null
          resource: string | null
          success: boolean
          user_agent: string | null
          user_id: string | null
        }
        Insert: {
          action?: string | null
          created_at?: string
          error_message?: string | null
          event_type: string
          id?: string
          ip_address?: unknown
          metadata?: Json | null
          resource?: string | null
          success?: boolean
          user_agent?: string | null
          user_id?: string | null
        }
        Update: {
          action?: string | null
          created_at?: string
          error_message?: string | null
          event_type?: string
          id?: string
          ip_address?: unknown
          metadata?: Json | null
          resource?: string | null
          success?: boolean
          user_agent?: string | null
          user_id?: string | null
        }
        Relationships: []
      }
      service_agreement_tags: {
        Row: {
          created_at: string
          service_agreement_id: string
          tag_id: string
        }
        Insert: {
          created_at?: string
          service_agreement_id: string
          tag_id: string
        }
        Update: {
          created_at?: string
          service_agreement_id?: string
          tag_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "service_agreement_tags_service_agreement_id_fkey"
            columns: ["service_agreement_id"]
            isOneToOne: false
            referencedRelation: "service_agreements"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "service_agreement_tags_tag_id_fkey"
            columns: ["tag_id"]
            isOneToOne: false
            referencedRelation: "tags"
            referencedColumns: ["id"]
          },
        ]
      }
      service_agreements: {
        Row: {
          agreement_number: string
          auto_renew: boolean | null
          availability_percentage: number | null
          cancellation_reason: string | null
          company_id: string
          contract_id: string | null
          created_at: string | null
          created_by: string | null
          currency: string | null
          customer_id: string
          deliverables: Json | null
          description: string | null
          end_date: string
          expiration_reminder_sent: boolean | null
          id: string
          monthly_amount: number | null
          notes: string | null
          payment_schedule: string | null
          penalty_terms: string | null
          performance_metrics: Json | null
          property_id: string | null
          renewal_reminder_sent: boolean | null
          renewal_term_months: number | null
          resolution_time_hours: number | null
          response_time_hours: number | null
          scope_of_work: string | null
          search_vector: unknown
          signed_at: string | null
          signed_by_company_name: string | null
          signed_by_customer_name: string | null
          signed_document_url: string | null
          start_date: string
          status: string
          term_months: number | null
          termination_date: string | null
          terms: string | null
          title: string
          total_value: number | null
          updated_at: string | null
          updated_by: string | null
        }
        Insert: {
          agreement_number: string
          auto_renew?: boolean | null
          availability_percentage?: number | null
          cancellation_reason?: string | null
          company_id: string
          contract_id?: string | null
          created_at?: string | null
          created_by?: string | null
          currency?: string | null
          customer_id: string
          deliverables?: Json | null
          description?: string | null
          end_date: string
          expiration_reminder_sent?: boolean | null
          id?: string
          monthly_amount?: number | null
          notes?: string | null
          payment_schedule?: string | null
          penalty_terms?: string | null
          performance_metrics?: Json | null
          property_id?: string | null
          renewal_reminder_sent?: boolean | null
          renewal_term_months?: number | null
          resolution_time_hours?: number | null
          response_time_hours?: number | null
          scope_of_work?: string | null
          search_vector?: unknown
          signed_at?: string | null
          signed_by_company_name?: string | null
          signed_by_customer_name?: string | null
          signed_document_url?: string | null
          start_date: string
          status?: string
          term_months?: number | null
          termination_date?: string | null
          terms?: string | null
          title: string
          total_value?: number | null
          updated_at?: string | null
          updated_by?: string | null
        }
        Update: {
          agreement_number?: string
          auto_renew?: boolean | null
          availability_percentage?: number | null
          cancellation_reason?: string | null
          company_id?: string
          contract_id?: string | null
          created_at?: string | null
          created_by?: string | null
          currency?: string | null
          customer_id?: string
          deliverables?: Json | null
          description?: string | null
          end_date?: string
          expiration_reminder_sent?: boolean | null
          id?: string
          monthly_amount?: number | null
          notes?: string | null
          payment_schedule?: string | null
          penalty_terms?: string | null
          performance_metrics?: Json | null
          property_id?: string | null
          renewal_reminder_sent?: boolean | null
          renewal_term_months?: number | null
          resolution_time_hours?: number | null
          response_time_hours?: number | null
          scope_of_work?: string | null
          search_vector?: unknown
          signed_at?: string | null
          signed_by_company_name?: string | null
          signed_by_customer_name?: string | null
          signed_document_url?: string | null
          start_date?: string
          status?: string
          term_months?: number | null
          termination_date?: string | null
          terms?: string | null
          title?: string
          total_value?: number | null
          updated_at?: string | null
          updated_by?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "service_agreements_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "service_agreements_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "service_agreements_contract_id_fkey"
            columns: ["contract_id"]
            isOneToOne: false
            referencedRelation: "contracts"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "service_agreements_created_by_fkey"
            columns: ["created_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "service_agreements_customer_id_fkey"
            columns: ["customer_id"]
            isOneToOne: false
            referencedRelation: "customers"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "service_agreements_property_id_fkey"
            columns: ["property_id"]
            isOneToOne: false
            referencedRelation: "properties"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "service_agreements_updated_by_fkey"
            columns: ["updated_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      service_level_agreements: {
        Row: {
          actual_performance_avg: number | null
          company_id: string
          created_at: string
          customer_id: string | null
          deleted_at: string | null
          description: string | null
          effective_date: string
          expiration_date: string | null
          has_penalties: boolean | null
          has_rewards: boolean | null
          high_target_minutes: number | null
          id: string
          is_active: boolean | null
          low_target_minutes: number | null
          medium_target_minutes: number | null
          notes: string | null
          penalty_amount: number | null
          reward_amount: number | null
          service_plan_id: string | null
          sla_compliance_percent: number | null
          sla_met_count: number | null
          sla_missed_count: number | null
          sla_name: string
          sla_type: string
          target_unit: string
          target_value: number
          updated_at: string
          urgent_target_minutes: number | null
        }
        Insert: {
          actual_performance_avg?: number | null
          company_id: string
          created_at?: string
          customer_id?: string | null
          deleted_at?: string | null
          description?: string | null
          effective_date: string
          expiration_date?: string | null
          has_penalties?: boolean | null
          has_rewards?: boolean | null
          high_target_minutes?: number | null
          id?: string
          is_active?: boolean | null
          low_target_minutes?: number | null
          medium_target_minutes?: number | null
          notes?: string | null
          penalty_amount?: number | null
          reward_amount?: number | null
          service_plan_id?: string | null
          sla_compliance_percent?: number | null
          sla_met_count?: number | null
          sla_missed_count?: number | null
          sla_name: string
          sla_type: string
          target_unit: string
          target_value: number
          updated_at?: string
          urgent_target_minutes?: number | null
        }
        Update: {
          actual_performance_avg?: number | null
          company_id?: string
          created_at?: string
          customer_id?: string | null
          deleted_at?: string | null
          description?: string | null
          effective_date?: string
          expiration_date?: string | null
          has_penalties?: boolean | null
          has_rewards?: boolean | null
          high_target_minutes?: number | null
          id?: string
          is_active?: boolean | null
          low_target_minutes?: number | null
          medium_target_minutes?: number | null
          notes?: string | null
          penalty_amount?: number | null
          reward_amount?: number | null
          service_plan_id?: string | null
          sla_compliance_percent?: number | null
          sla_met_count?: number | null
          sla_missed_count?: number | null
          sla_name?: string
          sla_type?: string
          target_unit?: string
          target_value?: number
          updated_at?: string
          urgent_target_minutes?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "service_level_agreements_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "service_level_agreements_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "service_level_agreements_customer_id_fkey"
            columns: ["customer_id"]
            isOneToOne: false
            referencedRelation: "customers"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "service_level_agreements_service_plan_id_fkey"
            columns: ["service_plan_id"]
            isOneToOne: false
            referencedRelation: "service_plans"
            referencedColumns: ["id"]
          },
        ]
      }
      service_packages: {
        Row: {
          company_id: string
          created_at: string
          description: string | null
          id: string
          included_items: Json
          is_active: boolean
          labor_hours: number | null
          name: string
          notes: string | null
          package_price: number
          package_type: string
          price_book_item_id: string
          total_cost: number | null
          updated_at: string
        }
        Insert: {
          company_id: string
          created_at?: string
          description?: string | null
          id?: string
          included_items: Json
          is_active?: boolean
          labor_hours?: number | null
          name: string
          notes?: string | null
          package_price?: number
          package_type?: string
          price_book_item_id: string
          total_cost?: number | null
          updated_at?: string
        }
        Update: {
          company_id?: string
          created_at?: string
          description?: string | null
          id?: string
          included_items?: Json
          is_active?: boolean
          labor_hours?: number | null
          name?: string
          notes?: string | null
          package_price?: number
          package_type?: string
          price_book_item_id?: string
          total_cost?: number | null
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "service_packages_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "service_packages_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "service_packages_price_book_item_id_price_book_items_id_fk"
            columns: ["price_book_item_id"]
            isOneToOne: false
            referencedRelation: "price_book_items"
            referencedColumns: ["id"]
          },
        ]
      }
      service_plan_milestones: {
        Row: {
          assigned_to: string | null
          company_id: string
          completed_date: string | null
          completed_deliverables: string[] | null
          completion_notes: string | null
          created_at: string
          deliverables: string[] | null
          due_date: string | null
          id: string
          milestone_description: string | null
          milestone_name: string
          milestone_type: string | null
          notes: string | null
          service_plan_id: string
          status: string
          updated_at: string
        }
        Insert: {
          assigned_to?: string | null
          company_id: string
          completed_date?: string | null
          completed_deliverables?: string[] | null
          completion_notes?: string | null
          created_at?: string
          deliverables?: string[] | null
          due_date?: string | null
          id?: string
          milestone_description?: string | null
          milestone_name: string
          milestone_type?: string | null
          notes?: string | null
          service_plan_id: string
          status?: string
          updated_at?: string
        }
        Update: {
          assigned_to?: string | null
          company_id?: string
          completed_date?: string | null
          completed_deliverables?: string[] | null
          completion_notes?: string | null
          created_at?: string
          deliverables?: string[] | null
          due_date?: string | null
          id?: string
          milestone_description?: string | null
          milestone_name?: string
          milestone_type?: string | null
          notes?: string | null
          service_plan_id?: string
          status?: string
          updated_at?: string
        }
        Relationships: [
          {
            foreignKeyName: "service_plan_milestones_assigned_to_fkey"
            columns: ["assigned_to"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "service_plan_milestones_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "service_plan_milestones_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "service_plan_milestones_service_plan_id_fkey"
            columns: ["service_plan_id"]
            isOneToOne: false
            referencedRelation: "service_plans"
            referencedColumns: ["id"]
          },
        ]
      }
      service_plan_settings: {
        Row: {
          allow_multiple_plans_per_customer: boolean | null
          auto_invoice_on_renewal: boolean | null
          auto_renew_enabled: boolean | null
          auto_schedule_services: boolean | null
          company_id: string
          created_at: string | null
          id: string
          reminder_days: number | null
          renewal_notice_days: number | null
          require_contract_signature: boolean | null
          schedule_advance_days: number | null
          send_reminder_before_service: boolean | null
          updated_at: string | null
        }
        Insert: {
          allow_multiple_plans_per_customer?: boolean | null
          auto_invoice_on_renewal?: boolean | null
          auto_renew_enabled?: boolean | null
          auto_schedule_services?: boolean | null
          company_id: string
          created_at?: string | null
          id?: string
          reminder_days?: number | null
          renewal_notice_days?: number | null
          require_contract_signature?: boolean | null
          schedule_advance_days?: number | null
          send_reminder_before_service?: boolean | null
          updated_at?: string | null
        }
        Update: {
          allow_multiple_plans_per_customer?: boolean | null
          auto_invoice_on_renewal?: boolean | null
          auto_renew_enabled?: boolean | null
          auto_schedule_services?: boolean | null
          company_id?: string
          created_at?: string | null
          id?: string
          reminder_days?: number | null
          renewal_notice_days?: number | null
          require_contract_signature?: boolean | null
          schedule_advance_days?: number | null
          send_reminder_before_service?: boolean | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "service_plan_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "service_plan_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      service_plans: {
        Row: {
          archived_at: string | null
          assigned_technician: string | null
          auto_generate_jobs: boolean
          billing_frequency: string | null
          cancelled_at: string | null
          cancelled_reason: string | null
          company_id: string
          completed_at: string | null
          created_at: string
          customer_id: string
          customer_notes: string | null
          customer_signature: string | null
          deleted_at: string | null
          deleted_by: string | null
          description: string | null
          end_date: string | null
          frequency: string
          id: string
          included_equipment_types: Json | null
          included_services: Json
          last_service_date: string | null
          metadata: Json | null
          name: string
          next_service_due: string
          notes: string | null
          paused_at: string | null
          paused_reason: string | null
          plan_number: string
          price: number
          price_book_item_ids: Json | null
          property_id: string | null
          renewal_notice_days: number | null
          renewal_type: string | null
          signed_at: string | null
          signed_by_name: string | null
          start_date: string
          status: string
          taxable: boolean
          terms: string | null
          total_revenue: number | null
          total_visits_completed: number | null
          type: string
          updated_at: string
          visits_per_term: number
        }
        Insert: {
          archived_at?: string | null
          assigned_technician?: string | null
          auto_generate_jobs?: boolean
          billing_frequency?: string | null
          cancelled_at?: string | null
          cancelled_reason?: string | null
          company_id: string
          completed_at?: string | null
          created_at?: string
          customer_id: string
          customer_notes?: string | null
          customer_signature?: string | null
          deleted_at?: string | null
          deleted_by?: string | null
          description?: string | null
          end_date?: string | null
          frequency?: string
          id?: string
          included_equipment_types?: Json | null
          included_services: Json
          last_service_date?: string | null
          metadata?: Json | null
          name: string
          next_service_due: string
          notes?: string | null
          paused_at?: string | null
          paused_reason?: string | null
          plan_number: string
          price?: number
          price_book_item_ids?: Json | null
          property_id?: string | null
          renewal_notice_days?: number | null
          renewal_type?: string | null
          signed_at?: string | null
          signed_by_name?: string | null
          start_date: string
          status?: string
          taxable?: boolean
          terms?: string | null
          total_revenue?: number | null
          total_visits_completed?: number | null
          type?: string
          updated_at?: string
          visits_per_term?: number
        }
        Update: {
          archived_at?: string | null
          assigned_technician?: string | null
          auto_generate_jobs?: boolean
          billing_frequency?: string | null
          cancelled_at?: string | null
          cancelled_reason?: string | null
          company_id?: string
          completed_at?: string | null
          created_at?: string
          customer_id?: string
          customer_notes?: string | null
          customer_signature?: string | null
          deleted_at?: string | null
          deleted_by?: string | null
          description?: string | null
          end_date?: string | null
          frequency?: string
          id?: string
          included_equipment_types?: Json | null
          included_services?: Json
          last_service_date?: string | null
          metadata?: Json | null
          name?: string
          next_service_due?: string
          notes?: string | null
          paused_at?: string | null
          paused_reason?: string | null
          plan_number?: string
          price?: number
          price_book_item_ids?: Json | null
          property_id?: string | null
          renewal_notice_days?: number | null
          renewal_type?: string | null
          signed_at?: string | null
          signed_by_name?: string | null
          start_date?: string
          status?: string
          taxable?: boolean
          terms?: string | null
          total_revenue?: number | null
          total_visits_completed?: number | null
          type?: string
          updated_at?: string
          visits_per_term?: number
        }
        Relationships: [
          {
            foreignKeyName: "service_plans_assigned_technician_users_id_fk"
            columns: ["assigned_technician"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "service_plans_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "service_plans_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "service_plans_customer_id_customers_id_fk"
            columns: ["customer_id"]
            isOneToOne: false
            referencedRelation: "customers"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "service_plans_deleted_by_users_id_fk"
            columns: ["deleted_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "service_plans_property_id_properties_id_fk"
            columns: ["property_id"]
            isOneToOne: false
            referencedRelation: "properties"
            referencedColumns: ["id"]
          },
        ]
      }
      streams: {
        Row: {
          chat_id: string
          created_at: string
          id: string
        }
        Insert: {
          chat_id: string
          created_at?: string
          id?: string
        }
        Update: {
          chat_id?: string
          created_at?: string
          id?: string
        }
        Relationships: [
          {
            foreignKeyName: "streams_chat_id_chats_id_fk"
            columns: ["chat_id"]
            isOneToOne: false
            referencedRelation: "chats"
            referencedColumns: ["id"]
          },
        ]
      }
      suggestions: {
        Row: {
          created_at: string
          description: string | null
          document_id: string
          id: string
          is_resolved: boolean
          original_text: string
          suggested_text: string
          user_id: string
        }
        Insert: {
          created_at?: string
          description?: string | null
          document_id: string
          id?: string
          is_resolved?: boolean
          original_text: string
          suggested_text: string
          user_id: string
        }
        Update: {
          created_at?: string
          description?: string | null
          document_id?: string
          id?: string
          is_resolved?: boolean
          original_text?: string
          suggested_text?: string
          user_id?: string
        }
        Relationships: []
      }
      supplier_integrations: {
        Row: {
          account_number: string | null
          api_enabled: boolean
          api_endpoint: string | null
          api_key: string | null
          api_secret: string | null
          auto_import_new_items: boolean | null
          auto_update_prices: boolean | null
          category_mappings: Json | null
          company_id: string
          created_at: string
          default_markup_percent: number | null
          display_name: string
          id: string
          last_sync_at: string | null
          last_sync_error: string | null
          last_sync_status: string | null
          metadata: Json | null
          next_sync_at: string | null
          notes: string | null
          status: string
          supplier_name: string
          sync_enabled: boolean
          sync_frequency: string | null
          total_items_failed: number | null
          total_items_imported: number | null
          total_items_updated: number | null
          updated_at: string
          webhook_enabled: boolean
          webhook_secret: string | null
          webhook_url: string | null
        }
        Insert: {
          account_number?: string | null
          api_enabled?: boolean
          api_endpoint?: string | null
          api_key?: string | null
          api_secret?: string | null
          auto_import_new_items?: boolean | null
          auto_update_prices?: boolean | null
          category_mappings?: Json | null
          company_id: string
          created_at?: string
          default_markup_percent?: number | null
          display_name: string
          id?: string
          last_sync_at?: string | null
          last_sync_error?: string | null
          last_sync_status?: string | null
          metadata?: Json | null
          next_sync_at?: string | null
          notes?: string | null
          status?: string
          supplier_name: string
          sync_enabled?: boolean
          sync_frequency?: string | null
          total_items_failed?: number | null
          total_items_imported?: number | null
          total_items_updated?: number | null
          updated_at?: string
          webhook_enabled?: boolean
          webhook_secret?: string | null
          webhook_url?: string | null
        }
        Update: {
          account_number?: string | null
          api_enabled?: boolean
          api_endpoint?: string | null
          api_key?: string | null
          api_secret?: string | null
          auto_import_new_items?: boolean | null
          auto_update_prices?: boolean | null
          category_mappings?: Json | null
          company_id?: string
          created_at?: string
          default_markup_percent?: number | null
          display_name?: string
          id?: string
          last_sync_at?: string | null
          last_sync_error?: string | null
          last_sync_status?: string | null
          metadata?: Json | null
          next_sync_at?: string | null
          notes?: string | null
          status?: string
          supplier_name?: string
          sync_enabled?: boolean
          sync_frequency?: string | null
          total_items_failed?: number | null
          total_items_imported?: number | null
          total_items_updated?: number | null
          updated_at?: string
          webhook_enabled?: boolean
          webhook_secret?: string | null
          webhook_url?: string | null
        }
        Relationships: []
      }
      system_alerts: {
        Row: {
          acknowledged_at: string | null
          acknowledged_by: string | null
          created_at: string
          id: string
          message: string
          metadata: Json | null
          severity: string
          type: string
        }
        Insert: {
          acknowledged_at?: string | null
          acknowledged_by?: string | null
          created_at?: string
          id?: string
          message: string
          metadata?: Json | null
          severity: string
          type: string
        }
        Update: {
          acknowledged_at?: string | null
          acknowledged_by?: string | null
          created_at?: string
          id?: string
          message?: string
          metadata?: Json | null
          severity?: string
          type?: string
        }
        Relationships: []
      }
      tag_settings: {
        Row: {
          allow_custom_tags: boolean | null
          auto_assign_colors: boolean | null
          company_id: string
          created_at: string | null
          id: string
          max_tags_per_item: number | null
          require_tag_approval: boolean | null
          updated_at: string | null
          use_color_coding: boolean | null
        }
        Insert: {
          allow_custom_tags?: boolean | null
          auto_assign_colors?: boolean | null
          company_id: string
          created_at?: string | null
          id?: string
          max_tags_per_item?: number | null
          require_tag_approval?: boolean | null
          updated_at?: string | null
          use_color_coding?: boolean | null
        }
        Update: {
          allow_custom_tags?: boolean | null
          auto_assign_colors?: boolean | null
          company_id?: string
          created_at?: string | null
          id?: string
          max_tags_per_item?: number | null
          require_tag_approval?: boolean | null
          updated_at?: string | null
          use_color_coding?: boolean | null
        }
        Relationships: [
          {
            foreignKeyName: "tag_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "tag_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      tags: {
        Row: {
          category: string | null
          color: string | null
          company_id: string
          created_at: string
          description: string | null
          icon: string | null
          id: string
          is_active: boolean
          is_system: boolean
          last_used_at: string | null
          name: string
          slug: string
          updated_at: string
          usage_count: number
        }
        Insert: {
          category?: string | null
          color?: string | null
          company_id: string
          created_at?: string
          description?: string | null
          icon?: string | null
          id?: string
          is_active?: boolean
          is_system?: boolean
          last_used_at?: string | null
          name: string
          slug: string
          updated_at?: string
          usage_count?: number
        }
        Update: {
          category?: string | null
          color?: string | null
          company_id?: string
          created_at?: string
          description?: string | null
          icon?: string | null
          id?: string
          is_active?: boolean
          is_system?: boolean
          last_used_at?: string | null
          name?: string
          slug?: string
          updated_at?: string
          usage_count?: number
        }
        Relationships: []
      }
      team_availability: {
        Row: {
          auto_reply_enabled: boolean | null
          can_receive_calls: boolean | null
          company_id: string
          created_at: string | null
          current_calls_count: number | null
          do_not_disturb_until: string | null
          id: string
          last_call_at: string | null
          max_concurrent_calls: number | null
          out_of_office_message: string | null
          schedule: Json | null
          status: string
          status_changed_at: string | null
          updated_at: string | null
          user_id: string
          vacation_end_date: string | null
          vacation_message: string | null
          vacation_mode_enabled: boolean | null
          vacation_start_date: string | null
        }
        Insert: {
          auto_reply_enabled?: boolean | null
          can_receive_calls?: boolean | null
          company_id: string
          created_at?: string | null
          current_calls_count?: number | null
          do_not_disturb_until?: string | null
          id?: string
          last_call_at?: string | null
          max_concurrent_calls?: number | null
          out_of_office_message?: string | null
          schedule?: Json | null
          status?: string
          status_changed_at?: string | null
          updated_at?: string | null
          user_id: string
          vacation_end_date?: string | null
          vacation_message?: string | null
          vacation_mode_enabled?: boolean | null
          vacation_start_date?: string | null
        }
        Update: {
          auto_reply_enabled?: boolean | null
          can_receive_calls?: boolean | null
          company_id?: string
          created_at?: string | null
          current_calls_count?: number | null
          do_not_disturb_until?: string | null
          id?: string
          last_call_at?: string | null
          max_concurrent_calls?: number | null
          out_of_office_message?: string | null
          schedule?: Json | null
          status?: string
          status_changed_at?: string | null
          updated_at?: string | null
          user_id?: string
          vacation_end_date?: string | null
          vacation_message?: string | null
          vacation_mode_enabled?: boolean | null
          vacation_start_date?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "team_availability_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "team_availability_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      team_department_settings: {
        Row: {
          allow_multiple_departments: boolean | null
          company_id: string
          created_at: string | null
          enable_department_hierarchy: boolean | null
          id: string
          require_department_assignment: boolean | null
          require_department_head: boolean | null
          updated_at: string | null
        }
        Insert: {
          allow_multiple_departments?: boolean | null
          company_id: string
          created_at?: string | null
          enable_department_hierarchy?: boolean | null
          id?: string
          require_department_assignment?: boolean | null
          require_department_head?: boolean | null
          updated_at?: string | null
        }
        Update: {
          allow_multiple_departments?: boolean | null
          company_id?: string
          created_at?: string | null
          enable_department_hierarchy?: boolean | null
          id?: string
          require_department_assignment?: boolean | null
          require_department_head?: boolean | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "team_department_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "team_department_settings_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      team_invitations: {
        Row: {
          company_id: string
          created_at: string
          email: string
          expires_at: string
          first_name: string
          id: string
          invited_by: string
          last_name: string
          phone: string | null
          role: Database["public"]["Enums"]["user_role"]
          token: string
          used_at: string | null
        }
        Insert: {
          company_id: string
          created_at?: string
          email: string
          expires_at: string
          first_name: string
          id?: string
          invited_by: string
          last_name: string
          phone?: string | null
          role: Database["public"]["Enums"]["user_role"]
          token: string
          used_at?: string | null
        }
        Update: {
          company_id?: string
          created_at?: string
          email?: string
          expires_at?: string
          first_name?: string
          id?: string
          invited_by?: string
          last_name?: string
          phone?: string | null
          role?: Database["public"]["Enums"]["user_role"]
          token?: string
          used_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "team_invitations_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "team_invitations_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "team_invitations_invited_by_fkey"
            columns: ["invited_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      team_members: {
        Row: {
          archived_at: string | null
          call_forwarding_enabled: boolean | null
          call_forwarding_number: string | null
          company_id: string
          created_at: string
          department: string | null
          department_id: string | null
          direct_inward_dial: string | null
          email: string | null
          extension_enabled: boolean | null
          id: string
          invited_at: string | null
          invited_by: string | null
          invited_email: string | null
          invited_name: string | null
          job_title: string | null
          joined_at: string | null
          last_active_at: string | null
          permissions: Json | null
          phone: string | null
          phone_extension: string | null
          ring_timeout_seconds: number | null
          role: Database["public"]["Enums"]["user_role"]
          role_id: string | null
          simultaneous_ring_enabled: boolean | null
          status: string
          updated_at: string
          user_id: string | null
          voicemail_greeting_url: string | null
          voicemail_pin: string | null
        }
        Insert: {
          archived_at?: string | null
          call_forwarding_enabled?: boolean | null
          call_forwarding_number?: string | null
          company_id: string
          created_at?: string
          department?: string | null
          department_id?: string | null
          direct_inward_dial?: string | null
          email?: string | null
          extension_enabled?: boolean | null
          id?: string
          invited_at?: string | null
          invited_by?: string | null
          invited_email?: string | null
          invited_name?: string | null
          job_title?: string | null
          joined_at?: string | null
          last_active_at?: string | null
          permissions?: Json | null
          phone?: string | null
          phone_extension?: string | null
          ring_timeout_seconds?: number | null
          role?: Database["public"]["Enums"]["user_role"]
          role_id?: string | null
          simultaneous_ring_enabled?: boolean | null
          status?: string
          updated_at?: string
          user_id?: string | null
          voicemail_greeting_url?: string | null
          voicemail_pin?: string | null
        }
        Update: {
          archived_at?: string | null
          call_forwarding_enabled?: boolean | null
          call_forwarding_number?: string | null
          company_id?: string
          created_at?: string
          department?: string | null
          department_id?: string | null
          direct_inward_dial?: string | null
          email?: string | null
          extension_enabled?: boolean | null
          id?: string
          invited_at?: string | null
          invited_by?: string | null
          invited_email?: string | null
          invited_name?: string | null
          job_title?: string | null
          joined_at?: string | null
          last_active_at?: string | null
          permissions?: Json | null
          phone?: string | null
          phone_extension?: string | null
          ring_timeout_seconds?: number | null
          role?: Database["public"]["Enums"]["user_role"]
          role_id?: string | null
          simultaneous_ring_enabled?: boolean | null
          status?: string
          updated_at?: string
          user_id?: string | null
          voicemail_greeting_url?: string | null
          voicemail_pin?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "team_members_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "team_members_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "team_members_role_id_fkey"
            columns: ["role_id"]
            isOneToOne: false
            referencedRelation: "company_role_stats"
            referencedColumns: ["role_id"]
          },
          {
            foreignKeyName: "team_members_role_id_fkey"
            columns: ["role_id"]
            isOneToOne: false
            referencedRelation: "custom_roles"
            referencedColumns: ["id"]
          },
        ]
      }
      telnyx_health_logs: {
        Row: {
          checked_at: string
          error_message: string | null
          id: string
          latency_ms: number
          status: string
        }
        Insert: {
          checked_at?: string
          error_message?: string | null
          id?: string
          latency_ms: number
          status: string
        }
        Update: {
          checked_at?: string
          error_message?: string | null
          id?: string
          latency_ms?: number
          status?: string
        }
        Relationships: []
      }
      ten_dlc_registration: {
        Row: {
          att_fee: number | null
          brand_approved_at: string | null
          brand_id: string | null
          brand_name: string | null
          brand_registered_at: string | null
          brand_score: number | null
          brand_status: string | null
          campaign_approved_at: string | null
          campaign_id: string | null
          campaign_registered_at: string | null
          campaign_status: string | null
          campaign_use_case: string | null
          company_id: string
          created_at: string | null
          daily_limit: number | null
          id: string
          per_minute_limit: number | null
          registration_data: Json | null
          rejection_reason: string | null
          tcr_brand_id: string | null
          tcr_campaign_id: string | null
          tmobile_fee: number | null
          updated_at: string | null
          verizon_fee: number | null
        }
        Insert: {
          att_fee?: number | null
          brand_approved_at?: string | null
          brand_id?: string | null
          brand_name?: string | null
          brand_registered_at?: string | null
          brand_score?: number | null
          brand_status?: string | null
          campaign_approved_at?: string | null
          campaign_id?: string | null
          campaign_registered_at?: string | null
          campaign_status?: string | null
          campaign_use_case?: string | null
          company_id: string
          created_at?: string | null
          daily_limit?: number | null
          id?: string
          per_minute_limit?: number | null
          registration_data?: Json | null
          rejection_reason?: string | null
          tcr_brand_id?: string | null
          tcr_campaign_id?: string | null
          tmobile_fee?: number | null
          updated_at?: string | null
          verizon_fee?: number | null
        }
        Update: {
          att_fee?: number | null
          brand_approved_at?: string | null
          brand_id?: string | null
          brand_name?: string | null
          brand_registered_at?: string | null
          brand_score?: number | null
          brand_status?: string | null
          campaign_approved_at?: string | null
          campaign_id?: string | null
          campaign_registered_at?: string | null
          campaign_status?: string | null
          campaign_use_case?: string | null
          company_id?: string
          created_at?: string | null
          daily_limit?: number | null
          id?: string
          per_minute_limit?: number | null
          registration_data?: Json | null
          rejection_reason?: string | null
          tcr_brand_id?: string | null
          tcr_campaign_id?: string | null
          tmobile_fee?: number | null
          updated_at?: string | null
          verizon_fee?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "ten_dlc_registration_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ten_dlc_registration_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: true
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      user_activity_log: {
        Row: {
          activity_name: string
          activity_type: string
          company_id: string
          created_at: string | null
          device_type: string | null
          duration_ms: number | null
          entity_id: string | null
          entity_type: string | null
          filters_applied: Json | null
          id: string
          ip_address: unknown
          metadata: Json | null
          occurred_at: string | null
          page_path: string | null
          search_query: string | null
          session_id: string | null
          user_agent: string | null
          user_id: string
        }
        Insert: {
          activity_name: string
          activity_type: string
          company_id: string
          created_at?: string | null
          device_type?: string | null
          duration_ms?: number | null
          entity_id?: string | null
          entity_type?: string | null
          filters_applied?: Json | null
          id?: string
          ip_address?: unknown
          metadata?: Json | null
          occurred_at?: string | null
          page_path?: string | null
          search_query?: string | null
          session_id?: string | null
          user_agent?: string | null
          user_id: string
        }
        Update: {
          activity_name?: string
          activity_type?: string
          company_id?: string
          created_at?: string | null
          device_type?: string | null
          duration_ms?: number | null
          entity_id?: string | null
          entity_type?: string | null
          filters_applied?: Json | null
          id?: string
          ip_address?: unknown
          metadata?: Json | null
          occurred_at?: string | null
          page_path?: string | null
          search_query?: string | null
          session_id?: string | null
          user_agent?: string | null
          user_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "user_activity_log_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "user_activity_log_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "user_activity_log_user_id_fkey"
            columns: ["user_id"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      user_notification_preferences: {
        Row: {
          created_at: string | null
          digest_enabled: boolean | null
          digest_frequency: string | null
          email_job_updates: boolean | null
          email_mentions: boolean | null
          email_messages: boolean | null
          email_new_jobs: boolean | null
          id: string
          in_app_all: boolean | null
          push_job_updates: boolean | null
          push_mentions: boolean | null
          push_messages: boolean | null
          push_new_jobs: boolean | null
          sms_schedule_changes: boolean | null
          sms_urgent_jobs: boolean | null
          updated_at: string | null
          user_id: string
        }
        Insert: {
          created_at?: string | null
          digest_enabled?: boolean | null
          digest_frequency?: string | null
          email_job_updates?: boolean | null
          email_mentions?: boolean | null
          email_messages?: boolean | null
          email_new_jobs?: boolean | null
          id?: string
          in_app_all?: boolean | null
          push_job_updates?: boolean | null
          push_mentions?: boolean | null
          push_messages?: boolean | null
          push_new_jobs?: boolean | null
          sms_schedule_changes?: boolean | null
          sms_urgent_jobs?: boolean | null
          updated_at?: string | null
          user_id: string
        }
        Update: {
          created_at?: string | null
          digest_enabled?: boolean | null
          digest_frequency?: string | null
          email_job_updates?: boolean | null
          email_mentions?: boolean | null
          email_messages?: boolean | null
          email_new_jobs?: boolean | null
          id?: string
          in_app_all?: boolean | null
          push_job_updates?: boolean | null
          push_mentions?: boolean | null
          push_messages?: boolean | null
          push_new_jobs?: boolean | null
          sms_schedule_changes?: boolean | null
          sms_urgent_jobs?: boolean | null
          updated_at?: string | null
          user_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "user_notification_preferences_user_id_fkey"
            columns: ["user_id"]
            isOneToOne: true
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      user_preferences: {
        Row: {
          calendar_start_day: number | null
          calendar_view: string | null
          created_at: string | null
          date_format: string | null
          default_dashboard_view: string | null
          default_page_size: number | null
          id: string
          language: string | null
          show_welcome_banner: boolean | null
          theme: string | null
          time_format: string | null
          timezone: string | null
          updated_at: string | null
          user_id: string
        }
        Insert: {
          calendar_start_day?: number | null
          calendar_view?: string | null
          created_at?: string | null
          date_format?: string | null
          default_dashboard_view?: string | null
          default_page_size?: number | null
          id?: string
          language?: string | null
          show_welcome_banner?: boolean | null
          theme?: string | null
          time_format?: string | null
          timezone?: string | null
          updated_at?: string | null
          user_id: string
        }
        Update: {
          calendar_start_day?: number | null
          calendar_view?: string | null
          created_at?: string | null
          date_format?: string | null
          default_dashboard_view?: string | null
          default_page_size?: number | null
          id?: string
          language?: string | null
          show_welcome_banner?: boolean | null
          theme?: string | null
          time_format?: string | null
          timezone?: string | null
          updated_at?: string | null
          user_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "user_preferences_user_id_fkey"
            columns: ["user_id"]
            isOneToOne: true
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      users: {
        Row: {
          avatar: string | null
          bio: string | null
          created_at: string
          email: string
          email_verified: boolean | null
          id: string
          is_active: boolean
          last_login_at: string | null
          name: string
          phone: string | null
          status: Database["public"]["Enums"]["user_status"]
          stripe_customer_id: string | null
          updated_at: string
        }
        Insert: {
          avatar?: string | null
          bio?: string | null
          created_at?: string
          email: string
          email_verified?: boolean | null
          id?: string
          is_active?: boolean
          last_login_at?: string | null
          name: string
          phone?: string | null
          status?: Database["public"]["Enums"]["user_status"]
          stripe_customer_id?: string | null
          updated_at?: string
        }
        Update: {
          avatar?: string | null
          bio?: string | null
          created_at?: string
          email?: string
          email_verified?: boolean | null
          id?: string
          is_active?: boolean
          last_login_at?: string | null
          name?: string
          phone?: string | null
          status?: Database["public"]["Enums"]["user_status"]
          stripe_customer_id?: string | null
          updated_at?: string
        }
        Relationships: []
      }
      vendors: {
        Row: {
          address: string | null
          address2: string | null
          category: string | null
          city: string | null
          company_id: string
          country: string | null
          created_at: string
          created_by: string | null
          credit_limit: number | null
          custom_fields: Json | null
          deleted_at: string | null
          deleted_by: string | null
          display_name: string
          email: string | null
          id: string
          internal_notes: string | null
          name: string
          notes: string | null
          payment_terms: string | null
          phone: string | null
          preferred_payment_method: string | null
          secondary_phone: string | null
          state: string | null
          status: string
          tags: Json | null
          tax_id: string | null
          updated_at: string
          updated_by: string | null
          vendor_number: string
          website: string | null
          zip_code: string | null
        }
        Insert: {
          address?: string | null
          address2?: string | null
          category?: string | null
          city?: string | null
          company_id: string
          country?: string | null
          created_at?: string
          created_by?: string | null
          credit_limit?: number | null
          custom_fields?: Json | null
          deleted_at?: string | null
          deleted_by?: string | null
          display_name: string
          email?: string | null
          id?: string
          internal_notes?: string | null
          name: string
          notes?: string | null
          payment_terms?: string | null
          phone?: string | null
          preferred_payment_method?: string | null
          secondary_phone?: string | null
          state?: string | null
          status?: string
          tags?: Json | null
          tax_id?: string | null
          updated_at?: string
          updated_by?: string | null
          vendor_number: string
          website?: string | null
          zip_code?: string | null
        }
        Update: {
          address?: string | null
          address2?: string | null
          category?: string | null
          city?: string | null
          company_id?: string
          country?: string | null
          created_at?: string
          created_by?: string | null
          credit_limit?: number | null
          custom_fields?: Json | null
          deleted_at?: string | null
          deleted_by?: string | null
          display_name?: string
          email?: string | null
          id?: string
          internal_notes?: string | null
          name?: string
          notes?: string | null
          payment_terms?: string | null
          phone?: string | null
          preferred_payment_method?: string | null
          secondary_phone?: string | null
          state?: string | null
          status?: string
          tags?: Json | null
          tax_id?: string | null
          updated_at?: string
          updated_by?: string | null
          vendor_number?: string
          website?: string | null
          zip_code?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "vendors_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "vendors_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "vendors_created_by_fkey"
            columns: ["created_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "vendors_deleted_by_fkey"
            columns: ["deleted_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "vendors_updated_by_fkey"
            columns: ["updated_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      verification_tokens: {
        Row: {
          created_at: string
          email: string
          expires_at: string
          id: string
          metadata: Json | null
          token: string
          type: string
          used: boolean
          used_at: string | null
          user_id: string | null
        }
        Insert: {
          created_at?: string
          email: string
          expires_at: string
          id?: string
          metadata?: Json | null
          token: string
          type?: string
          used?: boolean
          used_at?: string | null
          user_id?: string | null
        }
        Update: {
          created_at?: string
          email?: string
          expires_at?: string
          id?: string
          metadata?: Json | null
          token?: string
          type?: string
          used?: boolean
          used_at?: string | null
          user_id?: string | null
        }
        Relationships: []
      }
      voicemails: {
        Row: {
          audio_format: string | null
          audio_url: string | null
          communication_id: string | null
          company_id: string
          created_at: string | null
          customer_id: string | null
          deleted_at: string | null
          deleted_by: string | null
          duration: number | null
          email_sent: boolean | null
          from_number: string
          id: string
          is_read: boolean | null
          is_urgent: boolean | null
          metadata: Json | null
          notification_sent_at: string | null
          phone_number_id: string | null
          read_at: string | null
          read_by: string | null
          received_at: string | null
          sms_sent: boolean | null
          telnyx_call_control_id: string | null
          telnyx_recording_id: string | null
          to_number: string
          transcription: string | null
          transcription_confidence: number | null
          updated_at: string | null
        }
        Insert: {
          audio_format?: string | null
          audio_url?: string | null
          communication_id?: string | null
          company_id: string
          created_at?: string | null
          customer_id?: string | null
          deleted_at?: string | null
          deleted_by?: string | null
          duration?: number | null
          email_sent?: boolean | null
          from_number: string
          id?: string
          is_read?: boolean | null
          is_urgent?: boolean | null
          metadata?: Json | null
          notification_sent_at?: string | null
          phone_number_id?: string | null
          read_at?: string | null
          read_by?: string | null
          received_at?: string | null
          sms_sent?: boolean | null
          telnyx_call_control_id?: string | null
          telnyx_recording_id?: string | null
          to_number: string
          transcription?: string | null
          transcription_confidence?: number | null
          updated_at?: string | null
        }
        Update: {
          audio_format?: string | null
          audio_url?: string | null
          communication_id?: string | null
          company_id?: string
          created_at?: string | null
          customer_id?: string | null
          deleted_at?: string | null
          deleted_by?: string | null
          duration?: number | null
          email_sent?: boolean | null
          from_number?: string
          id?: string
          is_read?: boolean | null
          is_urgent?: boolean | null
          metadata?: Json | null
          notification_sent_at?: string | null
          phone_number_id?: string | null
          read_at?: string | null
          read_by?: string | null
          received_at?: string | null
          sms_sent?: boolean | null
          telnyx_call_control_id?: string | null
          telnyx_recording_id?: string | null
          to_number?: string
          transcription?: string | null
          transcription_confidence?: number | null
          updated_at?: string | null
        }
        Relationships: [
          {
            foreignKeyName: "voicemails_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "voicemails_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "voicemails_customer_id_fkey"
            columns: ["customer_id"]
            isOneToOne: false
            referencedRelation: "customers"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "voicemails_phone_number_id_fkey"
            columns: ["phone_number_id"]
            isOneToOne: false
            referencedRelation: "phone_numbers"
            referencedColumns: ["id"]
          },
        ]
      }
      votes_v2: {
        Row: {
          chat_id: string
          is_upvoted: boolean
          message_id: string
        }
        Insert: {
          chat_id: string
          is_upvoted: boolean
          message_id: string
        }
        Update: {
          chat_id?: string
          is_upvoted?: boolean
          message_id?: string
        }
        Relationships: []
      }
      webhook_events: {
        Row: {
          company_id: string | null
          created_at: string
          error_message: string | null
          event_type: string
          id: string
          notification_id: string | null
          payload: Json
          processed: boolean
          processed_at: string | null
          source: string
        }
        Insert: {
          company_id?: string | null
          created_at?: string
          error_message?: string | null
          event_type: string
          id?: string
          notification_id?: string | null
          payload: Json
          processed?: boolean
          processed_at?: string | null
          source: string
        }
        Update: {
          company_id?: string | null
          created_at?: string
          error_message?: string | null
          event_type?: string
          id?: string
          notification_id?: string | null
          payload?: Json
          processed?: boolean
          processed_at?: string | null
          source?: string
        }
        Relationships: [
          {
            foreignKeyName: "webhook_events_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "webhook_events_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "webhook_events_notification_id_fkey"
            columns: ["notification_id"]
            isOneToOne: false
            referencedRelation: "notification_queue"
            referencedColumns: ["id"]
          },
        ]
      }
      webhook_failures: {
        Row: {
          company_id: string | null
          created_at: string
          error_message: string
          event_type: string
          id: string
          last_retry_at: string | null
          next_retry_at: string | null
          payload: Json
          resolution_notes: string | null
          resolved_at: string | null
          resolved_by: string | null
          retry_count: number | null
        }
        Insert: {
          company_id?: string | null
          created_at?: string
          error_message: string
          event_type: string
          id?: string
          last_retry_at?: string | null
          next_retry_at?: string | null
          payload: Json
          resolution_notes?: string | null
          resolved_at?: string | null
          resolved_by?: string | null
          retry_count?: number | null
        }
        Update: {
          company_id?: string | null
          created_at?: string
          error_message?: string
          event_type?: string
          id?: string
          last_retry_at?: string | null
          next_retry_at?: string | null
          payload?: Json
          resolution_notes?: string | null
          resolved_at?: string | null
          resolved_by?: string | null
          retry_count?: number | null
        }
        Relationships: [
          {
            foreignKeyName: "webhook_failures_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "webhook_failures_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      webhook_logs: {
        Row: {
          attempts: number
          created_at: string
          delivered_at: string | null
          event: string
          id: string
          payload: Json
          response_body: string | null
          response_status: number | null
          webhook_id: string
        }
        Insert: {
          attempts?: number
          created_at?: string
          delivered_at?: string | null
          event: string
          id?: string
          payload: Json
          response_body?: string | null
          response_status?: number | null
          webhook_id: string
        }
        Update: {
          attempts?: number
          created_at?: string
          delivered_at?: string | null
          event?: string
          id?: string
          payload?: Json
          response_body?: string | null
          response_status?: number | null
          webhook_id?: string
        }
        Relationships: [
          {
            foreignKeyName: "webhook_logs_webhook_id_fkey"
            columns: ["webhook_id"]
            isOneToOne: false
            referencedRelation: "webhooks"
            referencedColumns: ["id"]
          },
        ]
      }
      webhooks: {
        Row: {
          active: boolean
          company_id: string
          created_at: string
          created_by: string | null
          description: string | null
          events: string[]
          id: string
          secret: string
          updated_at: string
          url: string
        }
        Insert: {
          active?: boolean
          company_id: string
          created_at?: string
          created_by?: string | null
          description?: string | null
          events: string[]
          id?: string
          secret: string
          updated_at?: string
          url: string
        }
        Update: {
          active?: boolean
          company_id?: string
          created_at?: string
          created_by?: string | null
          description?: string | null
          events?: string[]
          id?: string
          secret?: string
          updated_at?: string
          url?: string
        }
        Relationships: [
          {
            foreignKeyName: "webhooks_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "webhooks_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "webhooks_created_by_fkey"
            columns: ["created_by"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
    }
    Views: {
      ai_feedback_aggregates: {
        Row: {
          company_id: string | null
          corrections_provided: number | null
          critical_issues: number | null
          negative_count: number | null
          negative_rate: number | null
          neutral_count: number | null
          period: string | null
          positive_count: number | null
          positive_rate: number | null
          total_feedback: number | null
        }
        Relationships: [
          {
            foreignKeyName: "ai_message_feedback_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "ai_message_feedback_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      analytics_funnel_summary: {
        Row: {
          company_id: string | null
          event_count: number | null
          month: string | null
          stage: string | null
          total_value: number | null
          unique_customers: number | null
        }
        Relationships: [
          {
            foreignKeyName: "analytics_funnel_events_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "analytics_funnel_events_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      analytics_kpi_summary: {
        Row: {
          avg_customer_rating: number | null
          avg_first_time_fix_rate: number | null
          avg_on_time_rate: number | null
          avg_utilization_rate: number | null
          company_id: string | null
          period_start: string | null
          period_type: string | null
          total_jobs_completed: number | null
          total_revenue: number | null
          total_technicians: number | null
        }
        Relationships: [
          {
            foreignKeyName: "analytics_technician_metrics_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "analytics_technician_metrics_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
      analytics_technician_leaderboard: {
        Row: {
          average_job_duration_minutes: number | null
          average_minutes_late: number | null
          average_rating: number | null
          average_ticket: number | null
          average_travel_time_minutes: number | null
          callback_count: number | null
          certifications_current: boolean | null
          company_id: string | null
          compliance_violations: number | null
          created_at: string | null
          customer_follow_ups: number | null
          efficiency_rank: number | null
          estimate_conversion_rate: number | null
          estimate_value_total: number | null
          estimates_approved: number | null
          estimates_created: number | null
          first_time_fix_count: number | null
          first_time_fix_rate: number | null
          five_star_reviews: number | null
          gross_profit: number | null
          id: string | null
          jobs_assigned: number | null
          jobs_cancelled: number | null
          jobs_completed: number | null
          jobs_rescheduled: number | null
          late_arrival_count: number | null
          negative_reviews: number | null
          nps_score: number | null
          on_time_arrival_count: number | null
          on_time_rate: number | null
          period_end: string | null
          period_start: string | null
          period_type: string | null
          profit_margin: number | null
          rating_rank: number | null
          rating_ranking: number | null
          response_time_average_minutes: number | null
          revenue_per_hour: number | null
          revenue_rank: number | null
          revenue_ranking: number | null
          safety_incidents: number | null
          technician_avatar: string | null
          technician_name: string | null
          total_billable_hours: number | null
          total_communications: number | null
          total_hours_worked: number | null
          total_labor_cost: number | null
          total_non_billable_hours: number | null
          total_parts_cost: number | null
          total_parts_sold: number | null
          total_revenue: number | null
          total_reviews: number | null
          total_travel_time_minutes: number | null
          updated_at: string | null
          upsell_revenue: number | null
          user_id: string | null
          utilization_ranking: number | null
          utilization_rate: number | null
        }
        Relationships: [
          {
            foreignKeyName: "analytics_technician_metrics_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "analytics_technician_metrics_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "analytics_technician_metrics_user_id_fkey"
            columns: ["user_id"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      analytics_user_engagement: {
        Row: {
          activity_date: string | null
          avg_duration_ms: number | null
          company_id: string | null
          entities_created: number | null
          entities_updated: number | null
          page_views: number | null
          sessions: number | null
          total_actions: number | null
          user_id: string | null
        }
        Relationships: [
          {
            foreignKeyName: "user_activity_log_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "user_activity_log_company_id_fkey"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
          {
            foreignKeyName: "user_activity_log_user_id_fkey"
            columns: ["user_id"]
            isOneToOne: false
            referencedRelation: "users"
            referencedColumns: ["id"]
          },
        ]
      }
      company_owners: {
        Row: {
          company_id: string | null
          company_name: string | null
          owner_profile_id: string | null
          owner_user_id: string | null
        }
        Relationships: []
      }
      company_role_stats: {
        Row: {
          active_count: number | null
          company_id: string | null
          inactive_count: number | null
          member_count: number | null
          pending_count: number | null
          role_id: string | null
          role_name: string | null
        }
        Relationships: [
          {
            foreignKeyName: "custom_roles_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "companies"
            referencedColumns: ["id"]
          },
          {
            foreignKeyName: "custom_roles_company_id_companies_id_fk"
            columns: ["company_id"]
            isOneToOne: false
            referencedRelation: "company_owners"
            referencedColumns: ["company_id"]
          },
        ]
      }
    }
    Functions: {
      approve_pending_action: {
        Args: { p_action_id: string; p_approver_id: string }
        Returns: Json
      }
      batch_decrement_category_counts:
        | {
            Args: { p_company_id: string; p_decrements: Json }
            Returns: number
          }
        | { Args: { categories: string[] }; Returns: undefined }
      batch_update_price_book_items:
        | {
            Args: { p_company_id: string; p_updates: Json }
            Returns: {
              error_count: number
              updated_count: number
            }[]
          }
        | { Args: { item_ids: string[]; updates: Json }; Returns: undefined }
      calculate_agreement_term_months: {
        Args: { p_end_date: string; p_start_date: string }
        Returns: number
      }
      calculate_next_service_date: {
        Args: {
          p_custom_frequency_days?: number
          p_frequency: string
          p_last_service_date: string
        }
        Returns: string
      }
      calculate_onboarding_completion: {
        Args: { p_company_id: string }
        Returns: number
      }
      check_payment_token: {
        Args: { p_token: string }
        Returns: {
          invoice_id: string
          is_valid: boolean
          message: string
        }[]
      }
      cleanup_expired_attachments: { Args: never; Returns: number }
      cleanup_expired_email_verifications: { Args: never; Returns: undefined }
      cleanup_expired_payment_tokens: { Args: never; Returns: number }
      cleanup_old_notifications: { Args: never; Returns: number }
      cleanup_old_push_subscriptions: { Args: never; Returns: number }
      cleanup_old_webhook_events: { Args: never; Returns: number }
      complete_onboarding: { Args: { p_company_id: string }; Returns: boolean }
      count_all_archived: {
        Args: { p_company_id: string }
        Returns: {
          archived_count: number
          table_name: string
        }[]
      }
      create_phone_porting_notification: {
        Args: {
          p_company_id: string
          p_phone_number: string
          p_porting_request_id: string
          p_status: string
          p_user_id: string
        }
        Returns: string
      }
      customer_dashboard_metrics: {
        Args: { p_company_id: string }
        Returns: {
          active_customers: number
          prospect_customers: number
          total_customers: number
          total_revenue_cents: number
        }[]
      }
      ensure_owner_team_member: { Args: never; Returns: undefined }
      expire_old_invitations: { Args: never; Returns: undefined }
      generate_appointment_number: {
        Args: { p_company_id: string }
        Returns: string
      }
      generate_default_invoice_content: {
        Args: {
          p_company_id: string
          p_customer_id: string
          p_invoice_id: string
        }
        Returns: Json
      }
      generate_invoice_payment_token: {
        Args: {
          p_expiry_hours?: number
          p_invoice_id: string
          p_max_uses?: number
        }
        Returns: {
          expires_at: string
          token: string
        }[]
      }
      generate_maintenance_plan_number: {
        Args: { p_company_id: string }
        Returns: string
      }
      generate_random_city: { Args: never; Returns: string }
      generate_random_company_name: { Args: never; Returns: string }
      generate_random_contracts: {
        Args: { p_company_id: string; p_count?: number }
        Returns: undefined
      }
      generate_random_customers: {
        Args: { p_company_id: string; p_count?: number }
        Returns: undefined
      }
      generate_random_email: {
        Args: { first_name: string; last_name: string }
        Returns: string
      }
      generate_random_equipment: {
        Args: { p_company_id: string; p_count?: number }
        Returns: undefined
      }
      generate_random_estimates: {
        Args: { p_company_id: string; p_count?: number }
        Returns: undefined
      }
      generate_random_first_name: { Args: never; Returns: string }
      generate_random_invoices: {
        Args: { p_company_id: string; p_count?: number }
        Returns: undefined
      }
      generate_random_jobs: {
        Args: { p_company_id: string; p_count?: number }
        Returns: undefined
      }
      generate_random_last_name: { Args: never; Returns: string }
      generate_random_payments: {
        Args: { p_company_id: string; p_count?: number }
        Returns: undefined
      }
      generate_random_phone: { Args: never; Returns: string }
      generate_random_properties: {
        Args: { p_company_id: string; p_count?: number }
        Returns: undefined
      }
      generate_random_purchase_orders: {
        Args: { p_company_id: string; p_count?: number }
        Returns: undefined
      }
      generate_random_state: { Args: never; Returns: string }
      generate_random_street: { Args: never; Returns: string }
      generate_random_zip: { Args: never; Returns: string }
      generate_service_agreement_number: {
        Args: { p_company_id: string }
        Returns: string
      }
      get_appointment_complete: {
        Args: { p_appointment_id: string; p_company_id: string }
        Returns: {
          appointment_data: Json
        }[]
      }
      get_available_team_members: {
        Args: { p_company_id: string; p_routing_rule_id?: string }
        Returns: {
          availability_score: number
          current_calls: number
          max_calls: number
          phone_extension: string
          team_member_id: string
        }[]
      }
      get_contract_complete: {
        Args: { p_company_id: string; p_contract_id: string }
        Returns: {
          contract_data: Json
        }[]
      }
      get_customer_complete: {
        Args: { p_company_id: string; p_customer_id: string }
        Returns: {
          customer_data: Json
        }[]
      }
      get_customers_last_jobs: {
        Args: { company_id_param: string }
        Returns: {
          customer_id: string
          job_date: string
        }[]
      }
      get_customers_next_jobs: {
        Args: { company_id_param: string }
        Returns: {
          customer_id: string
          scheduled_start: string
        }[]
      }
      get_enriched_customers_rpc: {
        Args: { p_company_id: string }
        Returns: Json
      }
      get_equipment_complete: {
        Args: { p_company_id: string; p_equipment_id: string }
        Returns: {
          equipment_data: Json
        }[]
      }
      get_estimate_complete: {
        Args: { p_company_id: string; p_estimate_id: string }
        Returns: {
          estimate_data: Json
        }[]
      }
      get_folder_breadcrumbs: {
        Args: { p_folder_id: string }
        Returns: {
          id: string
          level: number
          name: string
          path: string
        }[]
      }
      get_invoice_complete: {
        Args: { p_company_id: string; p_invoice_id: string }
        Returns: {
          invoice_data: Json
        }[]
      }
      get_job_complete: {
        Args: { p_company_id: string; p_job_id: string }
        Returns: Json
      }
      get_maintenance_plan_complete: {
        Args: { p_company_id: string; p_maintenance_plan_id: string }
        Returns: {
          maintenance_plan_data: Json
        }[]
      }
      get_payment_complete: {
        Args: { p_company_id: string; p_payment_id: string }
        Returns: {
          payment_data: Json
        }[]
      }
      get_property_complete: {
        Args: { p_company_id: string; p_property_id: string }
        Returns: {
          property_data: Json
        }[]
      }
      get_purchase_order_complete: {
        Args: { p_company_id: string; p_purchase_order_id: string }
        Returns: {
          purchase_order_data: Json
        }[]
      }
      get_service_agreement_complete: {
        Args: { p_company_id: string; p_service_agreement_id: string }
        Returns: {
          service_agreement_data: Json
        }[]
      }
      get_unread_notification_count: {
        Args: { p_user_id: string }
        Returns: number
      }
      get_user_company_id: { Args: { input_user_id?: string }; Returns: string }
      get_user_push_subscriptions: {
        Args: { p_user_id: string }
        Returns: {
          auth: string
          created_at: string
          device_name: string
          device_type: string
          endpoint: string
          id: string
          last_used_at: string
          p256dh: string
        }[]
      }
      get_user_role:
        | { Args: { check_company_id: string }; Returns: string }
        | {
            Args: { company_uuid: string; user_uuid: string }
            Returns: Database["public"]["Enums"]["user_role"]
          }
      has_any_role:
        | {
            Args: {
              company_uuid: string
              required_roles: Database["public"]["Enums"]["user_role"][]
              user_uuid: string
            }
            Returns: boolean
          }
        | {
            Args: { check_company_id: string; required_roles: string[] }
            Returns: boolean
          }
      has_company_access: {
        Args: { company_uuid: string; user_uuid: string }
        Returns: boolean
      }
      has_permission:
        | {
            Args: { check_company_id: string; required_permission: string }
            Returns: boolean
          }
        | {
            Args: {
              company_uuid: string
              permission_key: string
              user_uuid: string
            }
            Returns: boolean
          }
      has_role:
        | {
            Args: {
              company_uuid: string
              required_role: Database["public"]["Enums"]["user_role"]
              user_uuid: string
            }
            Returns: boolean
          }
        | {
            Args: { check_company_id: string; required_role: string }
            Returns: boolean
          }
      has_valid_company_gmail_tokens: {
        Args: { p_company_id: string }
        Returns: boolean
      }
      increment_email_counter: {
        Args: { p_domain_id: string }
        Returns: {
          allowed: boolean
          emails_remaining_day: number
          emails_remaining_hour: number
          reason: string
        }[]
      }
      is_company_admin: {
        Args: { check_company_id: string; check_user_id: string }
        Returns: boolean
      }
      is_company_member: { Args: { company_uuid: string }; Returns: boolean }
      is_company_owner:
        | {
            Args: { p_company_id: string; p_user_id: string }
            Returns: boolean
          }
        | { Args: { p_company_id: string }; Returns: boolean }
      is_domain_verified: { Args: { domain_id: string }; Returns: boolean }
      is_owner_of_company:
        | {
            Args: { company_uuid: string; user_uuid: string }
            Returns: boolean
          }
        | { Args: { check_company_id: string }; Returns: boolean }
      mark_all_notifications_read: {
        Args: { p_user_id: string }
        Returns: number
      }
      mark_payment_token_used: {
        Args: { p_ip_address?: string; p_token: string }
        Returns: boolean
      }
      reject_pending_action: {
        Args: { p_action_id: string; p_reason?: string; p_rejector_id: string }
        Returns: Json
      }
      reset_daily_email_counters: { Args: never; Returns: undefined }
      reset_hourly_email_counters: { Args: never; Returns: undefined }
      search_ai_memories: {
        Args: {
          p_company_id: string
          p_entity_id?: string
          p_entity_type?: string
          p_limit?: number
          p_memory_types?: string[]
          p_query_embedding: string
          p_similarity_threshold?: number
        }
        Returns: {
          confidence_score: number
          content: string
          created_at: string
          entity_id: string
          entity_type: string
          id: string
          memory_type: string
          similarity: number
        }[]
      }
      search_all_entities: {
        Args: {
          company_id_param: string
          per_entity_limit?: number
          search_query: string
        }
        Returns: Json
      }
      search_appointments_ranked: {
        Args: {
          p_company_id: string
          p_limit?: number
          p_offset?: number
          p_search_query: string
        }
        Returns: {
          appointment_number: string
          assigned_to: string
          customer_id: string
          description: string
          id: string
          job_id: string
          rank: number
          scheduled_end: string
          scheduled_start: string
          status: string
          title: string
          type: string
        }[]
      }
      search_customers_ranked: {
        Args: {
          company_id_param: string
          result_limit?: number
          result_offset?: number
          search_query: string
        }
        Returns: {
          address: string
          city: string
          company_id: string
          company_name: string
          created_at: string
          customer_type: string
          deleted_at: string
          deleted_by: string
          display_name: string
          email: string
          first_name: string
          id: string
          last_name: string
          metadata: Json
          notes: string
          phone: string
          search_rank: number
          secondary_phone: string
          state: string
          status: string
          tags: Json
          updated_at: string
          zip_code: string
        }[]
      }
      search_equipment_ranked: {
        Args: {
          company_id_param: string
          result_limit?: number
          result_offset?: number
          search_query: string
        }
        Returns: {
          average_service_cost: number
          capacity: string
          category: string
          company_id: string
          condition: string
          created_at: string
          customer_id: string
          customer_notes: string
          deleted_at: string
          deleted_by: string
          documents: Json
          efficiency: string
          equipment_number: string
          fuel_type: string
          id: string
          install_date: string
          install_job_id: string
          installed_by: string
          is_under_warranty: boolean
          last_service_date: string
          last_service_job_id: string
          location: string
          manufacturer: string
          metadata: Json
          model: string
          model_year: number
          name: string
          next_service_due: string
          notes: string
          photos: Json
          property_id: string
          replaced_by_equipment_id: string
          replaced_date: string
          search_rank: number
          serial_number: string
          service_interval_days: number
          service_plan_id: string
          status: string
          total_service_cost: number
          total_service_count: number
          type: string
          updated_at: string
          warranty_expiration: string
          warranty_notes: string
          warranty_provider: string
        }[]
      }
      search_jobs_ranked: {
        Args: {
          company_id_param: string
          result_limit?: number
          result_offset?: number
          search_query: string
        }
        Returns: {
          actual_end: string
          actual_start: string
          ai_categories: Json
          ai_equipment: Json
          ai_priority_score: number
          ai_processed_at: string
          ai_service_type: string
          ai_tags: Json
          assigned_to: string
          company_id: string
          created_at: string
          customer_id: string
          deleted_at: string
          description: string
          id: string
          job_number: string
          job_type: string
          metadata: Json
          notes: string
          paid_amount: number
          priority: string
          property_id: string
          scheduled_end: string
          scheduled_start: string
          search_rank: number
          status: string
          title: string
          total_amount: number
          updated_at: string
        }[]
      }
      search_maintenance_plans_ranked: {
        Args: {
          p_company_id: string
          p_limit?: number
          p_offset?: number
          p_search_query: string
        }
        Returns: {
          amount: number
          customer_id: string
          description: string
          frequency: string
          id: string
          name: string
          next_service_date: string
          plan_number: string
          rank: number
          status: string
        }[]
      }
      search_price_book_items_ranked: {
        Args: {
          company_id_param: string
          result_limit?: number
          result_offset?: number
          search_query: string
        }
        Returns: {
          category: string
          category_id: string
          company_id: string
          cost: number
          created_at: string
          description: string
          documents: Json
          id: string
          image_url: string
          images: Json
          is_active: boolean
          is_taxable: boolean
          item_type: string
          markup_percent: number
          metadata: Json
          minimum_quantity: number
          name: string
          notes: string
          price: number
          search_rank: number
          sku: string
          subcategory: string
          supplier_id: string
          supplier_last_sync_at: string
          supplier_sku: string
          tags: Json
          unit: string
          updated_at: string
        }[]
      }
      search_properties_ranked: {
        Args: {
          company_id_param: string
          result_limit?: number
          result_offset?: number
          search_query: string
        }
        Returns: {
          address: string
          address2: string
          city: string
          company_id: string
          country: string
          created_at: string
          customer_id: string
          id: string
          metadata: Json
          name: string
          notes: string
          search_rank: number
          square_footage: number
          state: string
          type: string
          updated_at: string
          year_built: number
          zip_code: string
        }[]
      }
      search_service_agreements_ranked: {
        Args: {
          p_company_id: string
          p_limit?: number
          p_offset?: number
          p_search_query: string
        }
        Returns: {
          agreement_number: string
          customer_id: string
          description: string
          end_date: string
          id: string
          rank: number
          start_date: string
          status: string
          title: string
          total_value: number
        }[]
      }
      track_file_access: {
        Args: { p_attachment_id: string; p_user_id?: string }
        Returns: undefined
      }
      track_file_download: {
        Args: { p_attachment_id: string }
        Returns: undefined
      }
      transfer_company_ownership:
        | {
            Args: {
              p_company_id: string
              p_current_owner_id: string
              p_ip_address?: unknown
              p_new_owner_id: string
              p_reason?: string
              p_user_agent?: string
            }
            Returns: string
          }
        | {
            Args: { company_uuid: string; new_owner_user_id: string }
            Returns: undefined
          }
      update_domain_reputation: {
        Args: { p_domain_id: string; p_event_type: string }
        Returns: undefined
      }
      update_provider_health_metrics: { Args: never; Returns: undefined }
      update_push_subscription_last_used: {
        Args: { p_subscription_id: string }
        Returns: undefined
      }
      user_company_ids: { Args: never; Returns: string[] }
      user_has_company_access: {
        Args: { company_uuid: string }
        Returns: boolean
      }
      user_is_company_admin: {
        Args: { company_uuid: string }
        Returns: boolean
      }
      vector_memory_search: {
        Args: {
          p_company_id: string
          p_entity_id?: string
          p_entity_type?: string
          p_limit?: number
          p_memory_types?: string[]
          p_min_similarity?: number
          p_query_embedding: string
          p_scope?: string
          p_user_id?: string
        }
        Returns: {
          access_count: number
          content: string
          created_at: string
          id: string
          importance: number
          memory_type: string
          similarity: number
        }[]
      }
    }
    Enums: {
      ai_action_type:
        | "communication"
        | "financial"
        | "scheduling"
        | "customer"
        | "reporting"
        | "system"
      ai_permission_mode:
        | "autonomous"
        | "ask_permission"
        | "manual_only"
        | "disabled"
      company_email_provider: "managed" | "gmail" | "disabled"
      content_status: "draft" | "scheduled" | "published" | "archived"
      email_provider_preference: "managed" | "gmail"
      entity_type:
        | "customers"
        | "jobs"
        | "invoices"
        | "estimates"
        | "equipment"
        | "properties"
        | "contracts"
        | "payments"
        | "team"
        | "vendors"
      equipment_classification: "equipment" | "tool" | "vehicle"
      export_format: "csv" | "excel" | "json" | "pdf"
      job_status:
        | "pending"
        | "processing"
        | "completed"
        | "failed"
        | "cancelled"
      job_type: "import" | "export"
      resource_type:
        | "case_study"
        | "webinar"
        | "template"
        | "guide"
        | "community"
        | "status_update"
      user_role:
        | "owner"
        | "admin"
        | "manager"
        | "dispatcher"
        | "technician"
        | "csr"
      user_status: "online" | "available" | "busy"
      virus_scan_status:
        | "pending"
        | "scanning"
        | "clean"
        | "infected"
        | "failed"
        | "skipped"
    }
    CompositeTypes: {
      [_ in never]: never
    }
  }
}

type DatabaseWithoutInternals = Omit<Database, "__InternalSupabase">

type DefaultSchema = DatabaseWithoutInternals[Extract<keyof Database, "public">]

export type Tables<
  DefaultSchemaTableNameOrOptions extends
    | keyof (DefaultSchema["Tables"] & DefaultSchema["Views"])
    | { schema: keyof DatabaseWithoutInternals },
  TableName extends DefaultSchemaTableNameOrOptions extends {
    schema: keyof DatabaseWithoutInternals
  }
    ? keyof (DatabaseWithoutInternals[DefaultSchemaTableNameOrOptions["schema"]]["Tables"] &
        DatabaseWithoutInternals[DefaultSchemaTableNameOrOptions["schema"]]["Views"])
    : never = never,
> = DefaultSchemaTableNameOrOptions extends {
  schema: keyof DatabaseWithoutInternals
}
  ? (DatabaseWithoutInternals[DefaultSchemaTableNameOrOptions["schema"]]["Tables"] &
      DatabaseWithoutInternals[DefaultSchemaTableNameOrOptions["schema"]]["Views"])[TableName] extends {
      Row: infer R
    }
    ? R
    : never
  : DefaultSchemaTableNameOrOptions extends keyof (DefaultSchema["Tables"] &
        DefaultSchema["Views"])
    ? (DefaultSchema["Tables"] &
        DefaultSchema["Views"])[DefaultSchemaTableNameOrOptions] extends {
        Row: infer R
      }
      ? R
      : never
    : never

export type TablesInsert<
  DefaultSchemaTableNameOrOptions extends
    | keyof DefaultSchema["Tables"]
    | { schema: keyof DatabaseWithoutInternals },
  TableName extends DefaultSchemaTableNameOrOptions extends {
    schema: keyof DatabaseWithoutInternals
  }
    ? keyof DatabaseWithoutInternals[DefaultSchemaTableNameOrOptions["schema"]]["Tables"]
    : never = never,
> = DefaultSchemaTableNameOrOptions extends {
  schema: keyof DatabaseWithoutInternals
}
  ? DatabaseWithoutInternals[DefaultSchemaTableNameOrOptions["schema"]]["Tables"][TableName] extends {
      Insert: infer I
    }
    ? I
    : never
  : DefaultSchemaTableNameOrOptions extends keyof DefaultSchema["Tables"]
    ? DefaultSchema["Tables"][DefaultSchemaTableNameOrOptions] extends {
        Insert: infer I
      }
      ? I
      : never
    : never

export type TablesUpdate<
  DefaultSchemaTableNameOrOptions extends
    | keyof DefaultSchema["Tables"]
    | { schema: keyof DatabaseWithoutInternals },
  TableName extends DefaultSchemaTableNameOrOptions extends {
    schema: keyof DatabaseWithoutInternals
  }
    ? keyof DatabaseWithoutInternals[DefaultSchemaTableNameOrOptions["schema"]]["Tables"]
    : never = never,
> = DefaultSchemaTableNameOrOptions extends {
  schema: keyof DatabaseWithoutInternals
}
  ? DatabaseWithoutInternals[DefaultSchemaTableNameOrOptions["schema"]]["Tables"][TableName] extends {
      Update: infer U
    }
    ? U
    : never
  : DefaultSchemaTableNameOrOptions extends keyof DefaultSchema["Tables"]
    ? DefaultSchema["Tables"][DefaultSchemaTableNameOrOptions] extends {
        Update: infer U
      }
      ? U
      : never
    : never

export type Enums<
  DefaultSchemaEnumNameOrOptions extends
    | keyof DefaultSchema["Enums"]
    | { schema: keyof DatabaseWithoutInternals },
  EnumName extends DefaultSchemaEnumNameOrOptions extends {
    schema: keyof DatabaseWithoutInternals
  }
    ? keyof DatabaseWithoutInternals[DefaultSchemaEnumNameOrOptions["schema"]]["Enums"]
    : never = never,
> = DefaultSchemaEnumNameOrOptions extends {
  schema: keyof DatabaseWithoutInternals
}
  ? DatabaseWithoutInternals[DefaultSchemaEnumNameOrOptions["schema"]]["Enums"][EnumName]
  : DefaultSchemaEnumNameOrOptions extends keyof DefaultSchema["Enums"]
    ? DefaultSchema["Enums"][DefaultSchemaEnumNameOrOptions]
    : never

export type CompositeTypes<
  PublicCompositeTypeNameOrOptions extends
    | keyof DefaultSchema["CompositeTypes"]
    | { schema: keyof DatabaseWithoutInternals },
  CompositeTypeName extends PublicCompositeTypeNameOrOptions extends {
    schema: keyof DatabaseWithoutInternals
  }
    ? keyof DatabaseWithoutInternals[PublicCompositeTypeNameOrOptions["schema"]]["CompositeTypes"]
    : never = never,
> = PublicCompositeTypeNameOrOptions extends {
  schema: keyof DatabaseWithoutInternals
}
  ? DatabaseWithoutInternals[PublicCompositeTypeNameOrOptions["schema"]]["CompositeTypes"][CompositeTypeName]
  : PublicCompositeTypeNameOrOptions extends keyof DefaultSchema["CompositeTypes"]
    ? DefaultSchema["CompositeTypes"][PublicCompositeTypeNameOrOptions]
    : never

export const Constants = {
  public: {
    Enums: {
      ai_action_type: [
        "communication",
        "financial",
        "scheduling",
        "customer",
        "reporting",
        "system",
      ],
      ai_permission_mode: [
        "autonomous",
        "ask_permission",
        "manual_only",
        "disabled",
      ],
      company_email_provider: ["managed", "gmail", "disabled"],
      content_status: ["draft", "scheduled", "published", "archived"],
      email_provider_preference: ["managed", "gmail"],
      entity_type: [
        "customers",
        "jobs",
        "invoices",
        "estimates",
        "equipment",
        "properties",
        "contracts",
        "payments",
        "team",
        "vendors",
      ],
      equipment_classification: ["equipment", "tool", "vehicle"],
      export_format: ["csv", "excel", "json", "pdf"],
      job_status: ["pending", "processing", "completed", "failed", "cancelled"],
      job_type: ["import", "export"],
      resource_type: [
        "case_study",
        "webinar",
        "template",
        "guide",
        "community",
        "status_update",
      ],
      user_role: [
        "owner",
        "admin",
        "manager",
        "dispatcher",
        "technician",
        "csr",
      ],
      user_status: ["online", "available", "busy"],
      virus_scan_status: [
        "pending",
        "scanning",
        "clean",
        "infected",
        "failed",
        "skipped",
      ],
    },
  },
} as const
